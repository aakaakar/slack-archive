[{"user":"U0XR6J961","type":"message","subtype":"channel_join","text":"<@U0XR6J961|simon> has joined the channel","ts":"1460036304.000002"},{"user":"U0XR6J961","purpose":"Design and development discussion for the fabric core","type":"message","subtype":"channel_purpose","text":"<@U0XR6J961|simon> set the channel purpose: Design and development discussion for the fabric core","ts":"1460036304.000003"},{"user":"U0TFEHX8E","inviter":"U0XR6J961","type":"message","subtype":"channel_join","text":"<@U0TFEHX8E|sheehan> has joined the channel","ts":"1460036304.000004"},{"user":"U0UGH3X7X","inviter":"U0XR6J961","type":"message","subtype":"channel_join","text":"<@U0UGH3X7X|tuand> has joined the channel","ts":"1460036304.000005"},{"user":"U0UKTPMG8","inviter":"U0XR6J961","type":"message","subtype":"channel_join","text":"<@U0UKTPMG8|jeffgarratt> has joined the channel","ts":"1460036305.000006"},{"user":"U0ULK2JPP","inviter":"U0XR6J961","type":"message","subtype":"channel_join","text":"<@U0ULK2JPP|muralisr> has joined the channel","ts":"1460036305.000007"},{"user":"U0KN2SSKE","inviter":"U0XR6J961","type":"message","subtype":"channel_join","text":"<@U0KN2SSKE|binhn> has joined the channel","ts":"1460036305.000008"},{"user":"U0XPR4NP4","inviter":"U0XR6J961","type":"message","subtype":"channel_join","text":"<@U0XPR4NP4|jyellick> has joined the channel","ts":"1460036305.000009"},{"user":"U0XQ35CDD","inviter":"U0XR6J961","type":"message","subtype":"channel_join","text":"<@U0XQ35CDD|kostas> has joined the channel","ts":"1460036305.000010"},{"user":"U0XRCMCR2","type":"message","subtype":"channel_join","text":"<@U0XRCMCR2|richernandez> has joined the channel","ts":"1460038599.000011"},{"user":"U0MUSGY5N","type":"message","subtype":"channel_join","text":"<@U0MUSGY5N|ethertyper> has joined the channel","ts":"1460039081.000012"},{"user":"U0QUNGLJK","type":"message","subtype":"channel_join","text":"<@U0QUNGLJK|shemnon> has joined the channel","ts":"1460040634.000013"},{"user":"U0VKKEGKB","type":"message","subtype":"channel_join","text":"<@U0VKKEGKB|zhipengh> has joined the channel","ts":"1460041091.000014"},{"type":"message","user":"U0XR6J961","text":"<!here|@here>: i'm adding an additional \"persist\" column to the rocksdb","ts":"1460043298.000015"},{"type":"message","user":"U0XR6J961","text":"this is mostly for per-node consensus state","ts":"1460043316.000016"},{"type":"message","user":"U0XR6J961","text":"just wanted to see whether anybody had input","ts":"1460043326.000017"},{"type":"message","user":"U0XR6J961","text":"in that process i'm making `db.get` public, and I'm adding `db.Set`","ts":"1460043356.000018"},{"type":"message","user":"U0TFEHX8E","text":"by column do you mean column family?","ts":"1460043513.000019"},{"type":"message","user":"U0XR6J961","text":"oh yes, sorry","ts":"1460043673.000020"},{"type":"message","user":"U0XR6J961","text":"i guess `Put` may be a better name?  Get\/Put, Get\/Set","ts":"1460043761.000021"},{"type":"message","user":"U0XR6J961","text":"hm","ts":"1460043762.000022"},{"type":"message","user":"U0TFEHX8E","text":"are you naming the column family \u201cpersist\"? Seems a bit vague. Other names are defined at <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/db\/db.go#L36>","edited":{"user":"U0TFEHX8E","ts":"1460043828.000000"},"ts":"1460043814.000023"},{"type":"message","user":"U0XR6J961","text":"yea","ts":"1460043865.000027"},{"type":"message","user":"U0XR6J961","text":"what suggestions do you have?","ts":"1460043871.000028"},{"type":"message","user":"U0XR6J961","text":"basically it is for in-memory state that should be persistent, so that the node appears as if it just was disconnected from the network","ts":"1460043929.000029"},{"type":"message","user":"U0XR6J961","text":"as opposed to having started from zero","ts":"1460043943.000030"},{"type":"message","user":"U0TFEHX8E","text":"ah, so you expect that others (in addition to consensus) may take advantage of the CF?","ts":"1460043979.000031"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1460044048.000032"},{"type":"message","user":"U0XR6J961","text":"no idea for what though","ts":"1460044053.000033"},{"type":"message","user":"U0TFEHX8E","text":"so maybe just a \u201cconsensus-persist\u201d for now? Then you don\u2019t have to be concerned with key collisions from others. I don\u2019t think lots of CFs have any impact on RocksDB performance","ts":"1460044210.000034"},{"user":"U0N1K6Z0X","type":"message","subtype":"channel_join","text":"<@U0N1K6Z0X|georglink> has joined the channel","ts":"1460044243.000035"},{"type":"message","user":"U0XR6J961","text":"yea, my idea was to use \"consensus.foo\" as key","ts":"1460044252.000036"},{"type":"message","user":"U0XR6J961","text":"it's just that adding additional CF is a bit awkward at the moment :simple_smile:","ts":"1460044269.000037"},{"type":"message","user":"U0XR6J961","text":"but sure","ts":"1460044284.000038"},{"type":"message","user":"U0TFEHX8E","text":"ah, ok. \u201cpersist\u201d as a CF is fine with me also. Just throwing that out as a suggestion. I agree a single \u201cpersist\u201d will be easier for others to take advantage of","ts":"1460044292.000039"},{"type":"message","user":"U0XR6J961","text":"we'll have to think about forward migration at some point","ts":"1460044295.000040"},{"type":"message","user":"U0XR6J961","text":"when our underlying database shape changes","ts":"1460044309.000041"},{"type":"message","user":"U0XR6J961","text":"also, we will have to think about disaster recovery","ts":"1460044321.000042"},{"type":"message","user":"U0XR6J961","text":"where a bug in the code renders the whole network unable to proceed or garbles some state","ts":"1460044345.000043"},{"type":"message","user":"U0XR6J961","text":"and manual operator intervention is needed","ts":"1460044357.000044"},{"type":"message","user":"U0XR6J961","text":"i.e. a way to manually update code and apply a \"manually constructed\" blockchain block\/state delta","ts":"1460044387.000045"},{"type":"message","user":"U0XR6J961","text":"oh is jeff around?","ts":"1460044635.000046"},{"type":"message","user":"U0XR6J961","text":"i'd like to change the way messages are being passed through the system","ts":"1460044669.000047"},{"type":"message","user":"U0XR6J961","text":"right now the handlers form an open-coded linked list, which is not elegant","ts":"1460044685.000048"},{"type":"message","user":"U0XR6J961","text":"i'd prefer a message bus abstraction, where handlers register for message types","ts":"1460044705.000049"},{"type":"message","user":"U0XR6J961","text":"then main.go will become cleaner, because it doesn't have to use these handlerfactories","ts":"1460044799.000050"},{"type":"message","user":"U0XR6J961","text":"<@U0TFEHX8E>: I'd like to change db_test.go to use a ioutil.TempDir() instead of peer.fileSystemPath","ts":"1460047921.000051"},{"type":"message","user":"U0XR6J961","text":"what do you think?","ts":"1460047924.000052"},{"type":"message","user":"U0TFEHX8E","text":"I have mixed feelings. I prefer the way it is now because I know exactly where the test db resides and I have full control if I need to change it. Is there a specific reason for wanting to use the tmp dir?","ts":"1460048451.000053"},{"type":"message","user":"U0XR6J961","text":"just so that somebody doing a go test doesn't need to have write access to \/var","ts":"1460048969.000054"},{"type":"message","user":"U0XR6J961","text":"i don't quite understand the need for controlling where the testdb goes; it's just for a couple of unit tests","ts":"1460049571.000055"},{"type":"message","user":"U0TFEHX8E","text":"just preference for me. I\u2019m ok with such a change, I understand your reasoning.","ts":"1460049684.000056"},{"type":"message","user":"U0XR6J961","text":"ok, thanks!","ts":"1460049717.000057"},{"type":"message","user":"U0XR6J961","text":"woops, one wrong git --reset, and a whole day's work gone","ts":"1460049855.000058"},{"type":"message","user":"U0XR6J961","text":"that'll teach me","ts":"1460049858.000059"},{"type":"message","user":"U0XR6J961","text":"ha, still in emacs undo history","ts":"1460049967.000060"},{"type":"message","user":"U0XR6J961","text":"yey emacs","ts":"1460049970.000061"},{"type":"message","user":"U0XR6J961","text":"<https:\/\/github.com\/corecode\/fabric\/tree\/persistence>","attachments":[{"service_name":"GitHub","title":"corecode\/fabric","title_link":"https:\/\/github.com\/corecode\/fabric\/tree\/persistence","text":"Blockchain fabric code","fallback":"GitHub: corecode\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/177979?v=3&s=400","from_url":"https:\/\/github.com\/corecode\/fabric\/tree\/persistence","thumb_width":400,"thumb_height":400,"id":1}],"ts":"1460051125.000062"},{"type":"message","user":"U0TFEHX8E","text":"speaking of git reset, I\u2019m having trouble discarding compose-sieve.yml due to the different line feed characters. I know some others ran into this at the hackathon. Any hints? Tried `git reset \u2014hard` with no luck","ts":"1460051747.000064"},{"type":"message","user":"U0XQ35CDD","text":"<https:\/\/twitter.com\/cperciva\/status\/717864232356675585>","attachments":[{"fallback":"<https:\/\/twitter.com\/cperciva|@cperciva>: git pull\ngit pull --force\ngit reset\ngit reset --hard\ngit fetch origin\ngit reset --hard origin\ngit pull\nrm -r\ngit clone","ts":1459987144,"author_name":"Colin Percival","author_link":"https:\/\/twitter.com\/cperciva\/status\/717864232356675585","author_icon":"https:\/\/pbs.twimg.com\/profile_images\/427942491\/Colin_normal.png","author_subname":"@cperciva","text":"git pull\ngit pull --force\ngit reset\ngit reset --hard\ngit fetch origin\ngit reset --hard origin\ngit pull\nrm -r\ngit clone","service_name":"twitter","service_url":"https:\/\/twitter.com\/","from_url":"https:\/\/twitter.com\/cperciva\/status\/717864232356675585","id":1,"footer":"Twitter","footer_icon":"https:\/\/a.slack-edge.com\/6e067\/img\/services\/twitter_pixel_snapped_32.png"}],"ts":"1460051874.000065"},{"type":"message","user":"U0TFEHX8E","text":":simple_smile:","ts":"1460051937.000067"},{"type":"message","user":"U0TFEHX8E","text":"<@U0XR6J961>: made a few comments on your persistence code. Looks good! Thanks for diving into the DB code","ts":"1460052582.000068"},{"type":"message","user":"U0TFEHX8E","text":"<@U0KN2SSKE> was able to help with my discard issue. The solution was\ngit fetch upstream\ngit checkout master\ngit reset --hard upstream\/master  \ngit push origin master --force","ts":"1460053122.000069"},{"user":"U0LBXH9S4","type":"message","subtype":"channel_join","text":"<@U0LBXH9S4|evan.wagner> has joined the channel","ts":"1460059737.000070"},{"user":"U0NCW1DPX","type":"message","subtype":"channel_join","text":"<@U0NCW1DPX|gengjh> has joined the channel","ts":"1460074356.000071"},{"user":"U0Y6AUDST","type":"message","subtype":"channel_join","text":"<@U0Y6AUDST|rgupta1> has joined the channel","ts":"1460075632.000072"},{"user":"U0YATJ18S","type":"message","subtype":"channel_join","text":"<@U0YATJ18S|dileban> has joined the channel","ts":"1460075991.000073"},{"user":"U0N0GDVJ5","type":"message","subtype":"channel_join","text":"<@U0N0GDVJ5|nick> has joined the channel","ts":"1460084479.000074"},{"type":"message","user":"U0XR6J961","text":"sheehan: would you have some time to talk about the db module?","ts":"1460123518.000075"},{"type":"message","user":"U0XR6J961","text":"right now there is some abstraction (getters), but no setters","ts":"1460123569.000076"},{"type":"message","user":"U0XR6J961","text":"and we're using a singleton DB - makes me wonder whether we should just use getters\/setters on the module, instead of on the db singleton object, and do away with `db.GetDBHandle()`","ts":"1460123607.000077"},{"type":"message","user":"U0XR6J961","text":"and say something like, `db.Get(db.BlockCF, key)`","ts":"1460123636.000078"},{"type":"message","user":"U0XR6J961","text":"and have `db.PutBatch(db.BlockCF, kvlist)`","ts":"1460123667.000079"},{"type":"message","user":"U0TFEHX8E","text":"<@U0XR6J961>: busy right now, will respond in a bit. <@U0Z541B3P> may be able to discuss this topic with you now","ts":"1460127753.000080"},{"user":"U0Z541B3P","inviter":"U0TFEHX8E","type":"message","subtype":"channel_join","text":"<@U0Z541B3P|manish-sethi> has joined the channel","ts":"1460127758.000081"},{"type":"message","user":"U0XR6J961","text":"np","ts":"1460127763.000082"},{"type":"message","user":"U0XR6J961","text":"hi manish","ts":"1460127767.000083"},{"type":"message","user":"U0Z541B3P","text":"Hi Simon","ts":"1460127809.000084"},{"type":"message","user":"U0Z541B3P","text":"Previously, at some point, there was a talk about multiple chains and we were not sure about how we would be organising it in  db (single v\/s multiple.)\u2026","ts":"1460128500.000085"},{"type":"message","user":"U0XR6J961","text":"i see","ts":"1460128515.000086"},{"type":"message","user":"U0XR6J961","text":"<@U0Z541B3P>: what about `db.GetDBHandle().Get(db.BlockCF, key)`, instead of `db.GetDBHandle().GetFromBlockCF(key)`?","ts":"1460129228.000087"},{"user":"U0KM3Q4FL","type":"message","subtype":"channel_join","text":"<@U0KM3Q4FL|stan.liberman> has joined the channel","ts":"1460129377.000088"},{"type":"message","user":"U0Z541B3P","text":"<@U0XR6J961> - there is one such method in db and `GetFromBlockCF ` method is a higher level. For instance, `GetFromBlockCF ` actually calls `get(openchainDB.BlockchainCF, key)`.","ts":"1460129553.000089"},{"type":"message","user":"U0Z541B3P","text":"<@U0XR6J961>, I need to drop now. Let me know if you have more questions\u2026 I\u2019ll answer later sometime.","ts":"1460129700.000090"},{"type":"message","user":"U0XR6J961","text":"i know that this function exists - i'm just talking about cleaning up that interface","ts":"1460129738.000091"},{"user":"U0Z68F4HE","type":"message","subtype":"channel_join","text":"<@U0Z68F4HE|toddsjsimmer> has joined the channel","ts":"1460134630.000092"},{"user":"U0MM86C84","type":"message","subtype":"channel_join","text":"<@U0MM86C84|novusopt> has joined the channel","ts":"1460135189.000093"},{"user":"U0Z6EEJ69","type":"message","subtype":"channel_join","text":"<@U0Z6EEJ69|keoja> has joined the channel","ts":"1460135291.000094"},{"user":"U0MJBP0KZ","type":"message","subtype":"channel_join","text":"<@U0MJBP0KZ|stefan.teis> has joined the channel","ts":"1460199734.000095"},{"user":"U0P2GSA8Z","type":"message","subtype":"channel_join","text":"<@U0P2GSA8Z|arnaud> has joined the channel","ts":"1460225978.000096"},{"user":"U0MTAMEN4","type":"message","subtype":"channel_join","text":"<@U0MTAMEN4|noam> has joined the channel","ts":"1460283579.000097"},{"user":"U0YTUU2T0","type":"message","subtype":"channel_join","text":"<@U0YTUU2T0|paulojrmoreira> has joined the channel","ts":"1460325201.000098"},{"user":"U0P75RFT4","type":"message","subtype":"channel_join","text":"<@U0P75RFT4|tim.blankers> has joined the channel","ts":"1460358757.000099"},{"type":"message","user":"U0XR6J961","text":"yesterday I thought about the block chain, and the data structure currently does not prove itself","ts":"1460388550.000100"},{"type":"message","user":"U0XR6J961","text":"I think it would be good if we could include cryptographic signatures of a quorum of validators with the block","ts":"1460388689.000101"},{"type":"message","user":"U0XR6J961","text":"that way the blockchain proves itself by means of the signatures","ts":"1460388717.000102"},{"type":"message","user":"U0XR6J961","text":"instead of having to ask a quorum of the validators for their view about the blockchain","edited":{"user":"U0XR6J961","ts":"1460388830.000000"},"ts":"1460388740.000103"},{"type":"message","user":"U0XPR4NP4","text":"Yes, we discussed this with Elli while she visited, I think this is a good idea, though ultimately with the validator model we should be storing the validator signatures which I think should accomplish this too?","ts":"1460388855.000105"},{"type":"message","user":"U0XR6J961","text":"you mean the endorser model?","ts":"1460388917.000106"},{"type":"message","user":"U0XPR4NP4","text":"Yes, sorry","ts":"1460389087.000107"},{"type":"message","user":"U0XR6J961","text":"but endorsers will only endorse single transactions?","ts":"1460389109.000108"},{"type":"message","user":"U0XR6J961","text":"unless we change how blocks are formed in that model","ts":"1460389124.000109"},{"type":"message","user":"U0XR6J961","text":"in any case, i think blocks should be signed cryptographically by the consensus network","ts":"1460389150.000110"},{"type":"message","user":"U0XR6J961","text":"in bitcoin, this would be a proof of work \"signature\", in pbft a quorum signature","ts":"1460389173.000111"},{"type":"message","user":"U0TFEHX8E","text":"The block contains `bytes consensusMetadata`. Is that what you plan to use or does the block structure need to be updated?","ts":"1460389271.000112"},{"type":"message","user":"U0XPR4NP4","text":"I believe `consensusMetadata` is included in the hash of the block, If we are signing the block hash, then we would have a problem, if we are signing some other subset of the block, then it could work, Simon?","ts":"1460389437.000113"},{"type":"message","user":"U0XPR4NP4","text":"(Or, we could of course remove `consensusMetadata` from the block hash)","ts":"1460389475.000114"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1460389481.000115"},{"type":"message","user":"U0XR6J961","text":"hmm","ts":"1460389807.000116"},{"type":"message","user":"U0XR6J961","text":"of course it would be nicer if these signatures were part of the block hash","ts":"1460389823.000117"},{"type":"message","user":"U0XR6J961","text":"but that's not going to work with pbft","ts":"1460389843.000118"},{"user":"U0ZMB7ZEJ","type":"message","subtype":"channel_join","text":"<@U0ZMB7ZEJ|jatinderbali> has joined the channel","ts":"1460394730.000119"},{"user":"U0XRC0KLH","type":"message","subtype":"channel_join","text":"<@U0XRC0KLH|chetsky> has joined the channel","ts":"1460396689.000120"},{"user":"U0S5KF44D","type":"message","subtype":"channel_join","text":"<@U0S5KF44D|keithsmith> has joined the channel","ts":"1460407534.000121"},{"user":"U0ZHVB1UP","type":"message","subtype":"channel_join","text":"<@U0ZHVB1UP|akakoudakis> has joined the channel","ts":"1460412059.000122"},{"user":"U0Z3BE0F5","type":"message","subtype":"channel_join","text":"<@U0Z3BE0F5|mcrafols> has joined the channel","ts":"1460446979.000123"},{"user":"U0YM41HA5","type":"message","subtype":"channel_join","text":"<@U0YM41HA5|mandler> has joined the channel","ts":"1460536151.000124"},{"user":"U0XNB1QNA","type":"message","subtype":"channel_join","text":"<@U0XNB1QNA|davidcosta> has joined the channel","ts":"1460625548.000125"},{"user":"U10LM0FFZ","type":"message","subtype":"channel_join","text":"<@U10LM0FFZ|nickgaski> has joined the channel","ts":"1460642327.000126"},{"user":"U10MVHVHQ","type":"message","subtype":"channel_join","text":"<@U10MVHVHQ|inabatk> has joined the channel","ts":"1460646458.000127"},{"user":"U0UFDAS91","type":"message","subtype":"channel_join","text":"<@U0UFDAS91|christophera> has joined the channel","ts":"1460655019.000128"},{"user":"U10MXCPEF","type":"message","subtype":"channel_join","text":"<@U10MXCPEF|michael> has joined the channel","ts":"1460656270.000129"},{"user":"U0N20TJUA","type":"message","subtype":"channel_join","text":"<@U0N20TJUA|guruprasath> has joined the channel","ts":"1460658809.000130"},{"user":"U0ULX737C","type":"message","subtype":"channel_join","text":"<@U0ULX737C|vipinb> has joined the channel","ts":"1460684020.000131"},{"type":"message","user":"U0NCW1DPX","text":"In our dev env, we need a way to decode the content of the block\/transaction and to make it human readable, is there any example to show us?","ts":"1460684562.000132"},{"type":"message","user":"U0NCW1DPX","text":"{\n    \"nonHashData\": {\n        \"localLedgerCommitTimestamp\": {\n            \"nanos\": 606964446,\n            \"seconds\": 1459244499\n        }\n    },\n    \"previousBlockHash\": \"UZV+FhBHE02857iBf+OSIZaL2wBVJT6suBxDS1PFKSYAypSCHfgTyJSy49kfmYHqeCMX2JdtrZS4t5bVOjvGnA==\",\n    \"stateHash\": \"t3IfS0OFK41CSCiwKYmvNzBtjdK494pfTK6r2Idp5g9FOljrWy+bl9x+JXhdHyILEvqMNjZPHWsna1K08iNNkA==\",\n    \"transactions\": [\n        {\n            \"cert\": \"MIIBxDCCAWqgAwIBAgIBATAKBggqhkjOPQQDAzApMQswCQYDVQQGEwJVUzEMMAoGA1UEChMDSUJNMQwwCgYDVQQDEwN0Y2EwHhcNMTYwMzI5MDkyNTQ1WhcNMTYwNjI3MDkyNTQ1WjAtMQswCQYDVQQGEwJVUzEMMAoGA1UEChMDSUJNMRAwDgYDVQQDDAdlc3NlX2lvMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEXSHFowM9mBb+++b6iJ\/6WOOivQn4X1poZq6o7eGgy72AAK8bicB2Bc3IVmmfXCY2k5E6FkGRkkn8mJz\/YecmlqN\/MH0wDgYDVR0PAQH\/BAQDAgeAMAwGA1UdEwEB\/wQCMAAwDQYDVR0OBAYEBAECAwQwDwYDVR0jBAgwBoAEAQIDBDA9BgYqAwQFBgcBAf8EMC2cUEDeo6hqN7fCfHRbcxA0GpymnkNDqvNDAp1nmSSRwiqlwkfjaLPDpjf3D\/8gbjAKBggqhkjOPQQDAwNIADBFAiAynxPnmqEOZ6fhcZy9TRIrUXUkEjDQyZFo08UtpWgqOAIhALcebR6xWZkYSZnBWqg2o5kVwZR6X5CcCKWx7t+s6XYw\",\n            \"chaincodeID\": \"EoABMTU3NjQ4NjQxZjY0NDY1Y2U5NDZlNzM1YTA5MDk5MzFlZjE0ODNkYjUzNTk4MDE4NjRkMmViN2YyNDAwMzRmMGEzM2ZlMGFkYmJlYmM3OGFiODAyNzA5YjgzMmVkZmEzMTBjOWExZWNmYWQ5ZGVkYTUxNzlhNTFkZWJiNDdhZWI=\",\n            \"payload\": \"CuoCCAESgwESgAExNTc2NDg2NDFmNjQ0NjVjZTk0NmU3MzVhMDkwOTkzMWVmMTQ4M2RiNTM1OTgwMTg2NGQyZWI3ZjI0MDAzNGYwYTMzZmUwYWRiYmViYzc4YWI4MDI3MDliODMyZWRmYTMxMGM5YTFlY2ZhZDlkZWRhNTE3OWE1MWRlYmI0N2FlYhrfAQoIcmVnaXN0ZXISQGI4ZGMyOThlODZhY2Y3NTQ1YTA4OGIxYThiZGE2MmNiNTE4NTQ2YTNjYjI0MzkxNWNlN2NiM2QxYzlhYTc1NzUSkAF7ImZpbGVuYW1lIjoiU2VuZCBzZWxlY3RlZCB0ZXh0IGluIGFuIE91dGxvb2sgbWVzc2FnZVxcc2NzLndvcmtmbG93LnppcCIsImZpbGV0eXBlIjoiYXBwbGljYXRpb24vemlwIiwibGFzdE1vZGlmaWVkIjoiMjAxNi0wMy0yOVQwOTo0MTozNi4wMDBaIn0=\",\n            \"signature\": \"MEYCIQCliHCWbjyH+BgfQz6UXR0Ory5hlv8Jx8ZpY3j8VEtOFQIhALKc3Qo1TW1nJa2htJovSCiOjejBoP04zu\/LDThIZQAd\",\n            \"timestamp\": {\n                \"nanos\": 591012567,\n                \"seconds\": 1459244499\n            },\n            \"type\": 3,\n            \"uuid\": \"cc36a4f9-925e-431d-8860-93e3e3bcbde9\"\n        }\n    ]\n}","ts":"1460684567.000133"},{"type":"message","user":"U0NCW1DPX","text":"currently, the chaincodeID, payload of transactions are all encrypted","ts":"1460684734.000134"},{"type":"message","user":"U0XR6J961","text":"they're not encrypted, but encoded","ts":"1460713874.000135"},{"type":"message","user":"U0XR6J961","text":"unless you use confidentiality - then they are encrypted","ts":"1460713890.000136"},{"type":"message","user":"U0NCW1DPX","text":"<@U0XR6J961>: do you know if we have example to decode or decrypt the above content?","ts":"1460714764.000137"},{"user":"U10U4K6JC","type":"message","subtype":"channel_join","text":"<@U10U4K6JC|jasmeet> has joined the channel","ts":"1460722912.000138"},{"type":"message","user":"U0XR6J961","text":"gengjh: i don't think so - what do you want to get?","ts":"1460722994.000139"},{"type":"message","user":"U10U4K6JC","text":"Hi I just moved from IBM OBC to Hyperledger environmrent , having some difficulties while installing the setup . I  building  outside the vagrant environment . while running the setup.sh i got the following error cat: \/etc\/hyperledger-baseimage-release: no such file or directory . we are running this command inside  cd opt\/gopath\/src\/github.com\/hyperledger\/fabric\/devenv#","ts":"1460723343.000140"},{"type":"message","user":"U0XR6J961","text":"yea i don't think the dev env (<#C0YQ1NHGD>) is made for baremetal use","ts":"1460723556.000141"},{"type":"message","user":"U10U4K6JC","text":"can u please elaborate","ts":"1460723688.000143"},{"type":"message","user":"U0NCW1DPX","text":"<@U0XR6J961>: I want to understand what's in the payload of transaction for example. In some situations we need verify the content of the transaction is the expectation through rest api call in our test code. And in our poc, customer requests us to show the details info  be recorded in the transaction.","ts":"1460724417.000145"},{"type":"message","user":"U0XR6J961","text":"you will have to use protobuf to pick apart the transaction payload","ts":"1460724544.000146"},{"type":"message","user":"U0NCW1DPX","text":"How about the encrypted transaction?\n","ts":"1460724922.000147"},{"type":"message","user":"U0XR6J961","text":"it is not encrypted","ts":"1460725134.000148"},{"type":"message","user":"U0XR6J961","text":"it's just base64 encoded","ts":"1460725141.000149"},{"type":"message","user":"U0XR6J961","text":"and inside is a protobuf transaction","ts":"1460725152.000150"},{"type":"message","user":"U0NCW1DPX","text":"Even if I enabled the security.privacy?","ts":"1460725422.000151"},{"type":"message","user":"U0XR6J961","text":"then it is probably encrypted","ts":"1460725756.000152"},{"type":"message","user":"U0XR6J961","text":"i don't know about encryption","ts":"1460725763.000153"},{"type":"message","user":"U0XR6J961","text":"i just looked at the transaction that you posted","ts":"1460725770.000154"},{"type":"message","user":"U0NCW1DPX","text":"ok, anyway, thanks for your info. will try to work on the decode first.","ts":"1460726114.000155"},{"user":"U0KPFAZNF","type":"message","subtype":"channel_join","text":"<@U0KPFAZNF|ghaskins> has joined the channel","ts":"1460739972.000156"},{"user":"U10PD21K7","type":"message","subtype":"channel_join","text":"<@U10PD21K7|ajlopez> has joined the channel","ts":"1460757996.000157"},{"user":"U11BP64LD","type":"message","subtype":"channel_join","text":"<@U11BP64LD|nathonline> has joined the channel","ts":"1460916665.000002"},{"user":"U11C7DZU5","type":"message","subtype":"channel_join","text":"<@U11C7DZU5|mark.moir> has joined the channel","ts":"1460931017.000003"},{"user":"U0ZJZBJLF","type":"message","subtype":"channel_join","text":"<@U0ZJZBJLF|yacovm> has joined the channel","ts":"1460989039.000004"},{"type":"message","user":"U0ZJZBJLF","text":"Hi. \n\nHas anyone encountered this {  <https:\/\/github.com\/hyperledger\/fabric\/issues\/802> } issue in the last days, or has any idea if anyone fixed it?\nI did a test in which I ran 3 validating peers with pbft consensus once with DEBUG level and once without and saw an expected behavior. \n\nI think it's not relevant anymore, can anyone disprove?","attachments":[{"service_name":"GitHub","title":"Log level does not  follow the defination in openchain.yaml \u00b7 Issue #802 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/issues\/802","text":"The latest master code (commit ee4056e) does not follow log level definition in openchain.yaml. Here is part of definition of the openchain.yaml: peer: error crypto: error status: warn...","fallback":"GitHub: Log level does not  follow the defination in openchain.yaml \u00b7 Issue #802 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/12942488?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/issues\/802","thumb_width":420,"thumb_height":420,"id":1}],"ts":"1460989046.000005"},{"user":"U0YP7KFGQ","type":"message","subtype":"channel_join","text":"<@U0YP7KFGQ|gennady.laventman> has joined the channel","ts":"1460989502.000007"},{"type":"message","user":"U0UGH3X7X","text":"@yavcom,  can't comment on your exact question since i'm always running with log_level=debug  but  for pbft to work, you need a minimum of 4 peers","ts":"1460990404.000008"},{"type":"message","user":"U0Z3BE0F5","text":"that's if you want to tolerate one byzantine peer","ts":"1460990512.000009"},{"type":"message","user":"U0Z3BE0F5","text":"can't it run with 2 peers if f=0?","ts":"1460990530.000010"},{"type":"message","user":"U0UGH3X7X","text":"it could but you're not taking advantage of pbft","ts":"1460990584.000011"},{"type":"message","user":"U0Z3BE0F5","text":"you need pbft anyway to reach consensus","edited":{"user":"U0Z3BE0F5","ts":"1460990651.000000"},"ts":"1460990644.000012"},{"type":"message","user":"U0ZJZBJLF","text":"I was just doing it for the sake of the test of the log level","ts":"1460990793.000014"},{"type":"message","user":"U0ZJZBJLF","text":"in the issue they used pbft, so did I.","ts":"1460990841.000015"},{"type":"message","user":"U0ZJZBJLF","text":"BTW, has anyone tried running 'behave -t \"@issue_680\" ' ? It fails on timeout, is that a known issue?","ts":"1460994001.000016"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF>: that test fails on me near constantly, I think it is timing sensitive (and I have older machines)","ts":"1460994027.000017"},{"type":"message","user":"U0TFEHX8E","text":"For 680, also see <https:\/\/github.com\/hyperledger\/fabric\/issues\/793#issuecomment-210861227>. It doesn\u2019t fail for me, but if anyone would like to submit a PR to increase the timeout it would be appreciated","edited":{"user":"U0TFEHX8E","ts":"1460994534.000000"},"ts":"1460994527.000018"},{"user":"U0N3Q8N1W","type":"message","subtype":"channel_join","text":"<@U0N3Q8N1W|john.crain> has joined the channel","ts":"1461027785.000021"},{"user":"U11Q02ZKL","type":"message","subtype":"channel_join","text":"<@U11Q02ZKL|fjk> has joined the channel","ts":"1461045176.000022"},{"type":"message","user":"U0Z3BE0F5","text":"hi I am trying to setup the Marbles app using a local blockchain network, and I am getting this error","ts":"1461060337.000023"},{"type":"message","user":"U0Z3BE0F5","text":"{ name: 'deploy() error',\n  code: 400,\n  details: { Error: 'Error getting chaincode package bytes: Error getting code G\netting chaincode took too long' } }","ts":"1461060339.000024"},{"type":"message","user":"U0Z3BE0F5","text":"anybody knows what could be happening? Is there a wiki for the errors?","ts":"1461060368.000025"},{"type":"message","subtype":"file_share","text":"<@U0Z3BE0F5|mcrafols> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/mcrafols\/F11RELVAS\/-.txt|Untitled>","file":{"id":"F11RELVAS","created":1461063509,"timestamp":1461063509,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0Z3BE0F5","editable":true,"size":704,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F11RELVAS\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F11RELVAS\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/mcrafols\/F11RELVAS\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F11RELVAS-71a747eee0","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/mcrafols\/F11RELVAS\/-.txt\/edit","preview":"10:42:27.761 [devops] getChaincodeBytes -> ERRO 08b Error getting chaincode pack\r\nage bytes: Error getting code Getting chaincode took too long\r\n10:42:27.761 [devops] Deploy -> ERRO 08c Error deploying chaincode spec: type:GO\r\nLANG chaincodeID:<path:\"https:\/\/github.com\/ibm-blockchain\/marbles-chaincode\/part\r\n2_v1.0.0\" > ctorMsg:<function:\"init\" args:\"99\" > secureContext:\"user_type1_06d0a\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>10:42:27.761 [devops] getChaincodeBytes -&gt; ERRO 08b Error getting chaincode pack<\/pre><\/div>\n<div><pre>age bytes: Error getting code Getting chaincode took too long<\/pre><\/div>\n<div><pre>10:42:27.761 [devops] Deploy -&gt; ERRO 08c Error deploying chaincode spec: type:GO<\/pre><\/div>\n<div><pre>LANG chaincodeID:&lt;path:&quot;https:\/\/github.com\/ibm-blockchain\/marbles-chaincode\/part<\/pre><\/div>\n<div><pre>2_v1.0.0&quot; &gt; ctorMsg:&lt;function:&quot;init&quot; args:&quot;99&quot; &gt; secureContext:&quot;user_type1_06d0a<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":12,"lines_more":7,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0Z3BE0F5","upload":true,"display_as_bot":false,"username":"<@U0Z3BE0F5|mcrafols>","bot_id":null,"ts":"1461063509.000026"},{"type":"message","user":"U0Z3BE0F5","text":"this is the error I get in the VP","ts":"1461063523.000027"},{"type":"message","user":"U0NCW1DPX","text":"Have you checked the log in the docker container which is used to run the chaincode?\n","ts":"1461069519.000028"},{"type":"message","user":"U0Z3BE0F5","text":"but the chaincode is not deployed yet","ts":"1461070825.000029"},{"type":"message","user":"U0Z3BE0F5","text":"besides, I am not sure how to see the log of the chaincode docker container","ts":"1461071025.000030"},{"type":"message","user":"U0XR6J961","text":"```    Then I wait up to \"60\" seconds for transaction to be committed to peers                                          \n           # steps\/peer_basic_impl.py:315 60.403s                                                                   \n      | vp0 | vp1 | vp2 |\n      Traceback (most recent call last):\n        File \"\/usr\/lib\/python2.7\/site-packages\/behave\/model.py\", line 1456, in run\n          match.run(runner.context)\n        File \"\/usr\/lib\/python2.7\/site-packages\/behave\/model.py\", line 1903, in run\n          self.func(context, *args, **kwargs)\n        File \"steps\/peer_basic_impl.py\", line 349, in step_impl\n          raise Exception(\"Max time exceeded waiting for transactions with current response map = {0}\".format(respMap\n))                                                                                                                  \n      Exception: Max time exceeded waiting for transactions with current response map = {'bddtests_vp0_1': 404, 'bddt\nests_vp1_1': 0, 'bddtests_vp2_1': 0}                                                                                \n```","ts":"1461072633.000031"},{"type":"message","user":"U0XR6J961","text":"what's going on with vp0?","ts":"1461072648.000032"},{"type":"message","user":"U0UGH3X7X","text":"you've got the logs ?   `behave -D logs=y` saves the container logs for any test that fails","ts":"1461072723.000033"},{"type":"message","user":"U0UGH3X7X","text":"also, if you do `behave -n \"some substring\"`  , that only runs tests which have the substring in their title","ts":"1461072789.000034"},{"type":"message","user":"U0XR6J961","text":"how long does a behave test run usually take?","ts":"1461073980.000035"},{"type":"message","user":"U0UGH3X7X","text":"on my thinkpad W520\/vagrant  the full behave takes 8-10 minutes","ts":"1461074055.000036"},{"type":"message","user":"U0XR6J961","text":"okay, mine has been on much longer","ts":"1461074083.000037"},{"type":"message","user":"U0XR6J961","text":"35min :confused:","ts":"1461074394.000038"},{"type":"message","user":"U0UGH3X7X","text":"you should have gotten all kinds of timeouts","ts":"1461075110.000039"},{"type":"message","user":"U0UGH3X7X","text":"all the requests are set to timeout &lt;60 seconds,  will have to see where it's hanging","ts":"1461075278.000040"},{"user":"U123PQHLN","type":"message","subtype":"channel_join","text":"<@U123PQHLN|gongsu> has joined the channel","ts":"1461117394.000041"},{"type":"message","user":"U11Q02ZKL","text":"Can anyone here help me with a walk-through on setting up the hyperledger-fabric project on Ubuntu without vagrant? Currently struggling with a starting point for installation, would really appreciate your help.","ts":"1461136673.000042"},{"type":"message","user":"U0KPFAZNF","text":"Suggest looking at devenv\/setup.sh","ts":"1461150684.000043"},{"type":"message","user":"U0KPFAZNF","text":"That's what vagrant runs.  There is also some pointers in the doc for the baseimage components like rocksdb","ts":"1461150723.000044"},{"type":"message","user":"U0KPFAZNF","text":"I'll find a link","ts":"1461150756.000045"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric#building-outside-of-vagrant->","edited":{"user":"U0KPFAZNF","ts":"1461153182.000000"},"ts":"1461153177.000046"},{"type":"message","user":"U0KPFAZNF","text":"you might also find it useful to peruse the scripts in devenv\/baseimage","ts":"1461153198.000049"},{"type":"message","user":"U0XR6J961","text":"i think i need to hack a tool that visualizes message flow events, so that i can debug the pbft code better","ts":"1461159975.000050"},{"type":"message","user":"U0KN2SSKE","text":"<!here|@here>  with the Latest commit 488d266  issue #1131 \u2014 moving main.go to fabric\/peer.  You may encounter the problem in vagrant:\n```vagrant@hyperledger-devenv:v0.0.9-2457c97:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ cd peer\/\n-bash: cd: peer\/: Not a directory```\nIt seems vagrant caches the `peer` exe file. The solution is to run:\n```vagrant halt\nvagrant up\n```","edited":{"user":"U0KN2SSKE","ts":"1461161129.000000"},"ts":"1461161007.000051"},{"type":"message","user":"U0XR6J961","text":"thanks for the heads up","ts":"1461161022.000052"},{"type":"message","user":"U0UGH3X7X","text":"<@U0XR6J961> what will this tool do ?","ts":"1461162074.000054"},{"type":"message","user":"U0XR6J961","text":"no idea - i just know that reading these text logs is very inefficient","ts":"1461162094.000055"},{"type":"message","user":"U0XR6J961","text":"there are tools that can show message sequence charts, but not with defined send\/receive times","ts":"1461162135.000056"},{"type":"message","user":"U0UGH3X7X","text":"absolutely agree about reading the logs ... would be nice though if i could restrict debug logging to just consensus. have you figured out the magic incantation for core.yaml ?","ts":"1461162356.000057"},{"type":"message","user":"U0XRCMCR2","text":"cat main.log | grep consensus?","ts":"1461162640.000058"},{"type":"message","user":"U0XRCMCR2","text":"or cat main.log | grep consensus &gt; consensus.log","ts":"1461162681.000059"},{"type":"message","user":"U0XR6J961","text":"no, that's not the problem","ts":"1461162804.000060"},{"type":"message","user":"U0XR6J961","text":"the hundreds of prepare and commit messages interleaving each other is the difficulty","ts":"1461162822.000061"},{"type":"message","user":"U0UGH3X7X","text":"yes,  but we have bishop's logging mechanism defined in core.yaml  which gives me tons of flexibility  ... how do i set that up ?","ts":"1461162835.000062"},{"type":"message","user":"U0XR6J961","text":"maybe something that visualizes the state of all replicas wrt to current in-flight requests","ts":"1461162847.000063"},{"type":"message","user":"U0UGH3X7X","text":"so simon, you want to be able to group all the activities by request","ts":"1461162882.000064"},{"type":"message","user":"U0XR6J961","text":"i don't know exactly what i want","ts":"1461162917.000065"},{"type":"message","user":"U0XR6J961","text":":simple_smile:","ts":"1461162919.000066"},{"type":"message","user":"U0UGH3X7X","text":":innocent:   i've heard of work going on with log analyzers, maybe that or some way we can use things like elasticsearch","ts":"1461162994.000067"},{"type":"message","user":"U0KPFAZNF","text":"I wrote a data visualization tool a few years ago that might help, I should ask my employer if I can open source it","ts":"1461163008.000068"},{"type":"message","user":"U0KPFAZNF","text":"but that said, I wonder if some of those logging tools like splunk might help","ts":"1461163024.000069"},{"type":"message","user":"U0XR6J961","text":"maybe","ts":"1461163134.000070"},{"type":"message","user":"U0XR6J961","text":"this is not to find http servers being slow","ts":"1461163149.000071"},{"type":"message","user":"U0XR6J961","text":":simple_smile:","ts":"1461163150.000072"},{"type":"message","user":"U0KPFAZNF","text":"i understand what you are interested in","ts":"1461163652.000073"},{"type":"message","user":"U0KPFAZNF","text":"that is exactly what I built, just not for this purpose","ts":"1461163665.000074"},{"type":"message","user":"U0KPFAZNF","text":"it did nanosecond level visualization of multiple contexts across a common time axis","ts":"1461163697.000075"},{"type":"message","user":"U0KPFAZNF","text":"i suspect you are looking for something similar (albeit probably dont need ns resolution)","ts":"1461163714.000076"},{"type":"message","user":"U0KPFAZNF","text":"just saying, there might be existing log visualization tools that get pretty close","ts":"1461163757.000077"},{"type":"message","user":"U0UGH3X7X","text":"maybe overkill but take a look <https:\/\/www.linuxfestnorthwest.org\/2015\/sessions\/log-analysis-elk-stack-elasticsearch-logstash-kibana>","ts":"1461164927.000078"},{"user":"U12E0JBLZ","type":"message","subtype":"channel_join","text":"<@U12E0JBLZ|csweir> has joined the channel","ts":"1461195986.000079"},{"user":"U0J5URUJU","type":"message","subtype":"channel_join","text":"<@U0J5URUJU|nycnewman> has joined the channel","ts":"1461202469.000080"},{"type":"message","user":"U11Q02ZKL","text":"SSL read: error:00000000:lib(0):func(0):reason(0), errno 104   getting this error while setting the vagrant up","ts":"1461231774.000081"},{"type":"message","user":"U11Q02ZKL","text":"can anyone help with this?","ts":"1461231785.000082"},{"type":"message","user":"U0XR6J961","text":"<@U0UKTPMG8>: i checked my performance branch again - seems that the second time I wrote it, I stuck to using streams for the devops requests","ts":"1461248662.000083"},{"type":"message","user":"U0UKTPMG8","text":"<@U0XR6J961>: did that prove faster than the GRPC RPC type?","ts":"1461248713.000084"},{"type":"message","user":"U0XR6J961","text":"I didn't check against RPC","ts":"1461248741.000085"},{"type":"message","user":"U0UKTPMG8","text":"k","ts":"1461248747.000086"},{"type":"message","user":"U0XR6J961","text":"but it was easier to integrate","ts":"1461248752.000087"},{"type":"message","user":"U0UKTPMG8","text":"understood","ts":"1461248770.000088"},{"type":"message","user":"U0P2GSA8Z","text":"I recreated a dev-env from scratch with the latest code and behave reports 7 failed scenarios, is that expected?","ts":"1461250022.000089"},{"type":"message","user":"U0P2GSA8Z","text":"it seems that some of this is known but where does one find that info (what results are expected)","ts":"1461250063.000090"},{"type":"message","user":"U0UGH3X7X","text":"`behave` gives you a summary at the end. Should be 0 tests failed.  There was a PR yesterday ( i think ) that took care of some timeouts","edited":{"user":"U0UGH3X7X","ts":"1461250216.000000"},"ts":"1461250201.000091"},{"type":"message","user":"U0P2GSA8Z","text":"hmm, I got 7 fails","ts":"1461250235.000093"},{"type":"message","user":"U0XR6J961","text":":smile:","ts":"1461250274.000094"},{"type":"message","user":"U0UGH3X7X","text":"there's an open issue with some tests failing with `no route to host`  which i can't remember the number for","ts":"1461250276.000095"},{"type":"message","user":"U0XR6J961","text":"i keep getting fails too","ts":"1461250284.000096"},{"type":"message","user":"U0UGH3X7X","text":"ignore simon :smile:","ts":"1461250292.000097"},{"type":"message","user":"U0XR6J961","text":"but i have an ancient laptop","ts":"1461250304.000098"},{"type":"message","user":"U0P2GSA8Z","text":":simple_smile:","ts":"1461250327.000099"},{"type":"message","user":"U0UGH3X7X","text":"what's the behave output say ?","ts":"1461250337.000100"},{"type":"message","user":"U0P2GSA8Z","text":"what's ancient? that's on a w520","ts":"1461250344.000101"},{"type":"message","user":"U0P2GSA8Z","text":"Failing scenarios:\n  peer_basic.feature:437  chaincode example02 with 4 peers and 1 membersrvc, issue #567 -- @1.1 Consensus Options\n  peer_basic.feature:439  chaincode example02 with 4 peers and 1 membersrvc, issue #567 -- @1.3 Consensus Options\n  peer_basic.feature:522  chaincode example02 with 4 peers and 1 membersrvc, issue #680 (State transfer) -- @1.2 Consensus Options\n  peer_basic.feature:651  4 peers and 1 membersrvc, consensus still works if one backup replica fails -- @1.2 Consensus Options\n  peer_basic.feature:652  4 peers and 1 membersrvc, consensus still works if one backup replica fails -- @1.3 Consensus Options\n  peer_basic.feature:713  4 peers and 1 membersrvc, consensus fails if 2 backup replicas fail -- @1.2 Consensus Options\n  peer_basic.feature:806  chaincode example02 with 4 peers and 1 membersrvc, issue #1001 (Channel instead of Chat stream for transcation ingestion) -- @1.1 Consensus Options\n\n0 features passed, 1 failed, 1 skipped\n16 scenarios passed, 7 failed, 4 skipped\n257 steps passed, 7 failed, 296 skipped, 0 undefined","ts":"1461250490.000102"},{"type":"message","user":"U0UGH3X7X","text":"further up in the output ... it logs the actual error.  try searching on the string `#567 -- @1.1` for example","ts":"1461250637.000103"},{"type":"message","user":"U0P2GSA8Z","text":"is the behave output automatically saved somewhere or do I need to capture the output myself?","ts":"1461250877.000104"},{"type":"message","user":"U0P2GSA8Z","text":"well, I just reran behave and only have 6 failed scenarios so this isn't reliable","ts":"1461251614.000105"},{"type":"message","user":"U0P2GSA8Z","text":"here is the first error:","ts":"1461251688.000106"},{"type":"message","user":"U0P2GSA8Z","text":"@issue_567\n  Scenario Outline: chaincode example02 with 4 peers and 1 membersrvc, issue #567 -- @1.1 Consensus Options                     # peer_basic.feature:437\n    Given we compose \"docker-compose-4-consensus-noops.yml\"                                                                     # steps\/peer_basic_impl.py:88\n      Traceback (most recent call last):\n        File \"\/usr\/local\/lib\/python2.7\/dist-packages\/behave\/model.py\", line 1456, in run\n          match.run(runner.context)\n        File \"\/usr\/local\/lib\/python2.7\/dist-packages\/behave\/model.py\", line 1903, in run\n          self.func(context, *args, **kwargs)\n        File \"steps\/peer_basic_impl.py\", line 97, in step_impl\n          bdd_test_util.cli_call(context, [\"docker-compose\", \"-f\", composeYamlFile, \"up\",\"--force-recreate\", \"-d\"], expect_success=True)\n        File \"\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/bddtests\/steps\/bdd_test_util.py\", line 27, in cli_call\n          raise subprocess.CalledProcessError(p.returncode, arg_list, output)\n      CalledProcessError: Command '['docker-compose', '-f', u'docker-compose-4-consensus-noops.yml', 'up', '--force-recreate', '-d']' returned non-zero exit status 1\n      \n      Captured stdout:\n      Output:\n      \n      Error Message:\n      Creating bddtests_membersrvc0_1\n      Creating bddtests_vp0_1\n      driver failed programming external connectivity on endpoint bddtests_vp0_1 (cf2ce98106ed1f478b3aa2199d2de9a2c19c855c668c5ad06d4489904151f16f): Error starting userland proxy: listen tcp 0.0.0.0:5000: bind: address already in use","ts":"1461251690.000107"},{"type":"message","user":"U0TFEHX8E","text":"<@U0P2GSA8Z>: make sure you don\u2019t already have an example02 binary in the examples\/chaincode\/go\/chaincode_example02 path. I\u2019ve found that can cause problems","ts":"1461253845.000108"},{"type":"message","user":"U0P2GSA8Z","text":"ah, good to know","ts":"1461253868.000109"},{"type":"message","user":"U0P2GSA8Z","text":"nope, don't have that","ts":"1461253908.000110"},{"type":"message","user":"U0P2GSA8Z","text":"I just built the whole thing from scratch, ran the unit tests - which passed - and then behave","ts":"1461253931.000111"},{"type":"message","user":"U0P2GSA8Z","text":"so it should be a clean env","ts":"1461253937.000112"},{"type":"message","user":"U0TFEHX8E","text":"The behave tests currently pass for me on the master branch. Some people are seeing issues though. <https:\/\/github.com\/hyperledger\/fabric\/issues\/1190>. I can replicate this issue in one of the current PRs so I\u2019m investigating. Looks different than what you\u2019re seeing, but maybe related?","edited":{"user":"U0TFEHX8E","ts":"1461254048.000000"},"ts":"1461254044.000113"},{"user":"U126PEMNH","type":"message","subtype":"channel_join","text":"<@U126PEMNH|harshal> has joined the channel","ts":"1461256046.000116"},{"type":"message","user":"U0P2GSA8Z","text":"not sure, doesn't seem to be quite the same","ts":"1461259044.000117"},{"type":"message","user":"U0TFEHX8E","text":"<@U0P2GSA8Z>: do you have the peer running? The peer needs to be stopped while running the behave tests.","ts":"1461259324.000118"},{"type":"message","user":"U0P2GSA8Z","text":"ah ah!","ts":"1461259412.000119"},{"type":"message","user":"U0P2GSA8Z","text":"I sure do","ts":"1461259417.000120"},{"type":"message","user":"U0P2GSA8Z","text":"let me kill it and try again","ts":"1461259422.000121"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0TFEHX8E>: you're the man! 22 passed, I still have 1 failed but not so bad","ts":"1461260494.000122"},{"type":"message","user":"U0P2GSA8Z","text":"we've got to update the instructions, I'll submit a PR","ts":"1461260517.000123"},{"type":"message","user":"U0XR6J961","text":"better yet, make it work with running peer","ts":"1461260527.000124"},{"type":"message","user":"U0P2GSA8Z","text":"sure... that would be better indeed","ts":"1461260559.000125"},{"type":"message","user":"U0TFEHX8E","text":"there are some unit tests that actually run a peer and deploy chaincode. They were written before the behave tests existed. I\u2019d support removing those as I feel they\u2019ve been replaced by the behave tests and they\u2019re somewhat fragile.","ts":"1461261907.000126"},{"user":"U0U2AJURZ","type":"message","subtype":"channel_join","text":"<@U0U2AJURZ|renat-altoros> has joined the channel","ts":"1461309622.000127"},{"type":"message","user":"U10U4K6JC","text":"While running this step -Start up the peer node with no connections to a leader or validator as follows.\ncd \/opt\/gopath\/src\/github.com\/openblockchain\/obc-peer\n.\/obc-peer peer\nGetting Error - Failed to listen: listen tcp 0.0.0.0:30303: bind: address already in use","ts":"1461322026.000128"},{"type":"message","user":"U0ULK2JPP","text":"<@U10U4K6JC>: will be good to get on hyperledger\u2026 in any case it just means likely peer is running somewhere (unless you have another app using the port)","ts":"1461322338.000129"},{"type":"message","user":"U11Q02ZKL","text":"Can anyone help me with an error which i'm facing while setting up the hyperledger environment on ubuntu 14.04LTS\n4:05\nSSL read: error:00000000:lib(0):func(0):reason(0), errno 104 --- Getting this error while setting the vagrant up","ts":"1461323457.000130"},{"type":"message","user":"U11Q02ZKL","text":"that error seems resolved, have got a new one,\nThere was an error while executing `VBoxManage`, a CLI used by Vagrant\nfor controlling VirtualBox. The command and stderr is shown below.\n\nCommand: [\"startvm\", \"f5a4f3a4-3089-4f1a-a170-8dcd67e3e5d5\", \"--type\", \"headless\"]\n\nStderr: VBoxManage: error: VT-x is disabled in the BIOS for all CPU modes (VERR_VMX_MSR_ALL_VMX_DISABLED)\nVBoxManage: error: Details: code NS_ERROR_FAILURE (0x80004005), component ConsoleWrap, interface IConsole","ts":"1461324007.000131"},{"user":"U10UBFKK3","type":"message","subtype":"channel_join","text":"<@U10UBFKK3|srbamb> has joined the channel","ts":"1461324101.000132"},{"type":"message","user":"U0KPFAZNF","text":"<@U11Q02ZKL>: it sounds like you are trying to run vagrant from an environment that doesn't have VMX enabled.  This can be for a few different reasons","ts":"1461325238.000133"},{"type":"message","user":"U0KPFAZNF","text":"Are you running these commands from a VM per chance?","ts":"1461325260.000134"},{"type":"message","user":"U0KPFAZNF","text":"If not, you might need to enable VMX in the bios","ts":"1461325280.000135"},{"type":"message","user":"U11Q02ZKL","text":"<@U0KPFAZNF>: will try enabling the VMX","ts":"1461325355.000136"},{"type":"message","user":"U0XR6J961","text":"sheehan: do you know whether I can keep references to gorocksdb.Iterator.Value.Data() ([]byte)?","ts":"1461336371.000137"},{"type":"message","user":"U0XR6J961","text":"even after closing the iterator","ts":"1461336375.000138"},{"type":"message","user":"U0XR6J961","text":"or do I need to manually copy that slice","ts":"1461336385.000139"},{"type":"message","user":"U0XR6J961","text":"yes, i do","ts":"1461338000.000140"},{"type":"message","user":"U0XR6J961","text":"i consider that to be a bug in gorocksdb - can't introduce memory errors","ts":"1461338027.000141"},{"type":"message","user":"U0TFEHX8E","text":"correct, if it\u2019s an iterator, you must copy as the slices will be freed when the iterator is closed. Outside of an iterator you need to be sure to call `slice.Free()`","ts":"1461338390.000142"},{"type":"message","user":"U0XR6J961","text":"that's bad that you can crash the instance if you access the slice data later","edited":{"user":"U0XR6J961","ts":"1461338589.000000"},"ts":"1461338557.000143"},{"type":"message","user":"U0TFEHX8E","text":"yes, that api should be hidden from almost everyone as it\u2019s only exposed below the ledger. But I agree that it could be better designed","ts":"1461338687.000145"},{"type":"message","user":"U0XR6J961","text":"well, i consider that to be a rocksdb bug","ts":"1461338807.000146"},{"user":"U11TAFPUP","type":"message","subtype":"channel_join","text":"<@U11TAFPUP|joseph> has joined the channel","ts":"1461341622.000147"},{"user":"U137A6LBE","type":"message","subtype":"channel_join","text":"<@U137A6LBE|latone> has joined the channel","ts":"1461458407.000148"},{"type":"message","user":"U0ZJZBJLF","text":"Hi. Does anyone know if there is some kind of secure signature on query results? How can a client validate that the results of a REST call has indeed gone through the consensus?","ts":"1461497791.000149"},{"type":"message","user":"U0YP7KFGQ","text":"<@U0ZJZBJLF>: Same question. Seconded.","ts":"1461499404.000150"},{"type":"message","user":"U0ULK2JPP","text":"<@U0ZJZBJLF>: currently query is only to the peer to which it is addressed.","ts":"1461500012.000151"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0ULK2JPP>:  yeah I know, but what I'm asking is- does the answering peer has any \"proof\" that the query went through consensus? I don't see such a thing in the REST doc on github","ts":"1461502069.000152"},{"type":"message","user":"U0ZJZBJLF","text":"there is only a secureContext which doesn't prove that","ts":"1461502101.000153"},{"type":"message","user":"U0ULK2JPP","text":"<@U0ZJZBJLF>: the query - currently - does not go through consensus at all. It is directly responded to by the peer to which it is addressed.","ts":"1461502303.000154"},{"type":"message","user":"U0ZJZBJLF","text":"yeah, you're right. I was under the impression that it behaves like doChainTransaction in helper\/handler.go","ts":"1461502702.000155"},{"type":"message","user":"U0ZJZBJLF","text":"thanks","ts":"1461502716.000156"},{"type":"message","user":"U0ULK2JPP","text":"sure thing","ts":"1461502764.000157"},{"type":"message","user":"U0XR6J961","text":"yacovm: are you asking about strong reads?","ts":"1461578813.000158"},{"type":"message","user":"U10U4K6JC","text":"default: SSH auth method: private key\nTimed out while waiting for the machine to boot. This means that\nVagrant was unable to communicate with the guest machine within\nthe configured (\"config.vm.boot_timeout\" value) time period.\n\nIf you look above, you should be able to see the error(s) that\nVagrant had when attempting to connect to the machine. These errors\nare usually good hints as to what may be wrong.\n\nIf you're using a custom box, make sure that networking is properly\nworking and you're able to connect to the machine. It is a common\nproblem that networking isn't setup properly in these boxes.\nVerify that authentication configurations are also setup properly,\nas well.\n\nIf the box appears to be booting properly, you may want to increase\nthe timeout (\"config.vm.boot_timeout\") value.","ts":"1461578879.000159"},{"type":"message","user":"U10U4K6JC","text":"command to increase increase\/\nthe timeout (\"config.vm.boot_timeout\") value.","ts":"1461578910.000160"},{"type":"message","user":"U10U4K6JC","text":"<@U0XR6J961>:  any idea","ts":"1461579000.000161"},{"type":"message","user":"U0XR6J961","text":"nope, i don't use vagrant","ts":"1461579010.000162"},{"type":"message","user":"U10U4K6JC","text":"<@U0XR6J961>:  WHAT else are u using  ?","ts":"1461579077.000163"},{"type":"message","user":"U0XR6J961","text":"i just run directly on my linux","ts":"1461579088.000164"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0XR6J961>:  no, I was wondering about reads that go to byzantine peers, the fact that we have byzantine consensus, but when a client performs a read that goes to a byzantine peer, it may return any values it wants, can't it?","edited":{"user":"U0ZJZBJLF","ts":"1461579654.000000"},"ts":"1461579637.000165"},{"type":"message","user":"U0XR6J961","text":"the client asks its local trusted peer","ts":"1461579659.000167"},{"type":"message","user":"U0XR6J961","text":"i.e. the bank's server","ts":"1461579666.000168"},{"type":"message","user":"U0ZJZBJLF","text":"oh, I see.","ts":"1461579673.000169"},{"type":"message","user":"U0ZJZBJLF","text":"thanks","ts":"1461579740.000170"},{"type":"message","user":"U0XR6J961","text":"even if you did a strong read","ts":"1461579758.000171"},{"type":"message","user":"U0XR6J961","text":"how do you know that the machines signing the answer are legitimate?","ts":"1461579773.000172"},{"type":"message","user":"U0ZJZBJLF","text":"a strong read you mean reading f+1 replicas?","ts":"1461579773.000173"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1461579777.000174"},{"type":"message","user":"U0ZJZBJLF","text":"if you read f+1 replicas then you have at least 1 \"correct\" read","ts":"1461579795.000175"},{"type":"message","user":"U0ZJZBJLF","text":"you might not know which one is that","ts":"1461579811.000176"},{"type":"message","user":"U0XR6J961","text":"yes, but how do you know which machines you should ask?","ts":"1461579812.000177"},{"type":"message","user":"U0ZJZBJLF","text":"if you do \"get peers\" on the replica, for instance","ts":"1461579831.000178"},{"type":"message","user":"U0ZJZBJLF","text":"on the local peer, that is","ts":"1461579855.000179"},{"type":"message","user":"U0XR6J961","text":"but then you trust the local peer","ts":"1461579863.000180"},{"type":"message","user":"U0ZJZBJLF","text":"true, otherwise the local peer is also byzantine and returns to you many \"fake\" peers, etc. etc.","ts":"1461579897.000181"},{"type":"message","user":"U0XR6J961","text":"correct","ts":"1461579903.000182"},{"user":"U13DAL5V5","type":"message","subtype":"channel_join","text":"<@U13DAL5V5|wimtobback> has joined the channel","ts":"1461584327.000183"},{"type":"message","user":"U0XR6J961","text":"```11:51:53.120 [crypto] Deploy -&gt; INFO 0d7\u001b[0m Initializing client [binhn]...\n\u001b[31m11:51:53.600 [crypto] callTCACreateCertificateSet -&gt; ERRO 0d8\u001b[0m [client.binhn] Failed requesting tca create certificate set [rpc error: code = 2 desc = \"proto: bad wiretype for field protos.Signature.Type: got wiretype 2, want 0\"].\n11:51:53.600 [crypto] Deploy -&gt; INFO 0d9\u001b[0m Initializing client [binhn]...done!\n\u001b[36m11:51:53.600 [devops] Deploy -&gt; DEBU 0da\u001b[0m Creating secure transaction 5844bc142dcc9e788785e026e22c855957b2c754c912702c58d997dedbc9a042f05d152f6db0fbd7810d95c1b880c210566c9de3093aae0ab76ad2d90e9cfaa5\n\u001b[31m11:51:53.603 [crypto] callTCACreateCertificateSet -&gt; ERRO 0db\u001b[0m [client.binhn] Failed requesting tca create certificate set [rpc error: code = 2 desc = \"proto: bad wiretype for field protos.Signature.Type: got wiretype 2, want 0\"].\n\u001b[31m11:51:53.603 [crypto] NewChaincodeDeployTransaction -&gt; ERRO 0dc\u001b[0m [client.binhn] Failed getting next transaction certificate [Failed loading TCerts from TCA].\n11:51:53.603 [crypto] CloseClient -&gt; INFO 0dd\u001b[0m Closing client [binhn]...\n\u001b[31m11:51:53.603 [rest] Deploy -&gt; ERRO 0de\u001b[0m {\"Error\": \"Deploying Chaincode -- Failed loading TCerts from TCA\"}\n```","ts":"1461585195.000184"},{"type":"message","user":"U0XR6J961","text":"any ideas?","ts":"1461585200.000185"},{"type":"message","user":"U0XR6J961","text":"ah, i may have had to build a new obcca","ts":"1461585686.000186"},{"type":"message","user":"U0XR6J961","text":"sheehan: why doesn't `Block` contain the block number?","ts":"1461599033.000187"},{"type":"message","user":"U0XR6J961","text":"the fact that `ledger.GetBlock(ledger.GetBlockchainSize())` doesn't work is very confusing","ts":"1461599115.000188"},{"type":"message","user":"U0XR6J961","text":"we need to fix our numbering","ts":"1461599122.000189"},{"type":"message","user":"U0XR6J961","text":"i keep having off by one errors","ts":"1461599128.000190"},{"type":"message","user":"U0TFEHX8E","text":"I think we never had a use case for having the number in a block. Part of it is also likely historical as bitcoin does not have a number in a block. Not aware that `ledger.GetBlock(ledger.GetBlockchainSize())` is not working. Is there an open issue describing the problem?","ts":"1461599358.000191"},{"type":"message","user":"U0XR6J961","text":"well, because size() returns 1 if there is just a genesis block","ts":"1461599637.000192"},{"type":"message","user":"U0XR6J961","text":"and getblock takes block number, i.e. 0","ts":"1461599647.000193"},{"type":"message","user":"U0XR6J961","text":"i wanted to talk with you about this before opening an issue","ts":"1461599663.000194"},{"type":"message","user":"U0TFEHX8E","text":"it\u2019s designed to behave like an array","ts":"1461599826.000195"},{"type":"message","user":"U0XR6J961","text":"yea i understand","ts":"1461599896.000196"},{"type":"message","user":"U0XR6J961","text":"still easy to make one off mistakes","ts":"1461599905.000197"},{"type":"message","user":"U0XR6J961","text":"maybe have a function relating to \"head\", \"tip\", etc.","ts":"1461599967.000198"},{"type":"message","user":"U0XR6J961","text":"well I just shipped a blockchaininfo over the network, and then tried to get the `info.Height` block, which of course failed","ts":"1461600016.000199"},{"type":"message","user":"U0XR6J961","text":"gave me a different block","ts":"1461600022.000200"},{"type":"message","user":"U0XR6J961","text":"sheehan: it's not the first time that I had to stop and think whether I had to subtract\/add `1`, so it seems that the interface is not intuitive to me","ts":"1461600126.000201"},{"type":"message","user":"U0XR6J961","text":"ah, maybe something like `GetBlockByHeight`","ts":"1461600214.000202"},{"type":"message","user":"U0TFEHX8E","text":"sure, understand the confusion. open to updating the api so that\u2019s it\u2019s more clear","ts":"1461600220.000203"},{"type":"message","user":"U0XR6J961","text":"which then internally can subtract one","ts":"1461600227.000204"},{"type":"message","user":"U0TFEHX8E","text":"So have both `GetBlockByNumber` and `GetBlockByHeight`? I\u2019m concerned that may be confusing also","ts":"1461600480.000205"},{"type":"message","user":"U0XR6J961","text":"oh","ts":"1461600553.000206"},{"type":"message","user":"U0XR6J961","text":"chuck the bynumber then","ts":"1461600560.000207"},{"type":"message","user":"U0XR6J961","text":"oh i don't know!","ts":"1461600568.000208"},{"type":"message","user":"U0XR6J961","text":"i'll think more about it","ts":"1461600579.000209"},{"type":"message","user":"U0XR6J961","text":"whatever makes all numbers the same :simple_smile:","ts":"1461600593.000210"},{"type":"message","user":"U0XR6J961","text":"could we get rid of the errors returned by GetLedger()?","ts":"1461605248.000211"},{"type":"message","user":"U0XR6J961","text":"under what situation would that even happen?","ts":"1461605271.000212"},{"type":"message","user":"U0TFEHX8E","text":"<https:\/\/github.com\/hyperledger\/fabric\/issues\/904>","attachments":[{"service_name":"GitHub","title":"On error, need to stop peer rather than return with error \u00b7 Issue #904 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/issues\/904","text":"As noted in openblockchain\/obc-peer@246d431#commitcomment-16896253, there are cases where a caller won't know how to recover given a error return, see <https:\/\/github.com\/openblockchain\/obc-peer\/bl>...","fallback":"GitHub: On error, need to stop peer rather than return with error \u00b7 Issue #904 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/11295979?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/issues\/904","thumb_width":420,"thumb_height":420,"id":1}],"ts":"1461606475.000213"},{"type":"message","user":"U0TFEHX8E","text":"would happen if there was a IO error","ts":"1461606577.000215"},{"type":"message","user":"U0XR6J961","text":"right, but what then?","ts":"1461606937.000216"},{"type":"message","user":"U0XR6J961","text":"shouldn't we just panic and abort execution?","ts":"1461606945.000217"},{"type":"message","user":"U0TFEHX8E","text":"yeah, panic is likely the correct thing to do","ts":"1461606979.000218"},{"type":"message","user":"U0XR6J961","text":"that would clean up a lot of code","ts":"1461607042.000219"},{"type":"message","user":"U0XR6J961","text":"and also provide a better uniform way of dealing with such fatal errors","ts":"1461607109.000220"},{"user":"U13JUH485","type":"message","subtype":"channel_join","text":"<@U13JUH485|fabio> has joined the channel","ts":"1461617680.000221"},{"user":"U13MLMGCB","type":"message","subtype":"channel_join","text":"<@U13MLMGCB|daniels> has joined the channel","ts":"1461663985.000222"},{"user":"U143D0EQ4","type":"message","subtype":"channel_join","text":"<@U143D0EQ4|lfeagan> has joined the channel","ts":"1461760630.000223"},{"user":"U0N1D1UAE","type":"message","subtype":"channel_join","text":"<@U0N1D1UAE|bcbrock> has joined the channel","ts":"1461771616.000224"},{"type":"message","user":"U0XR6J961","text":"i could reproduce an issue with behave\/#680\/1.3 (like it keeps failing on CI)","ts":"1461833078.000225"},{"type":"message","user":"U0XR6J961","text":"but it is very odd","ts":"1461833082.000226"},{"type":"message","user":"U0XR6J961","text":"the state transfer successfully updates the blockchain (length changes correctly)","ts":"1461833147.000227"},{"type":"message","user":"U0XR6J961","text":"but later when the chaincode is launched, it seems to reply with the old state?","ts":"1461833176.000228"},{"type":"message","user":"U0XR6J961","text":"i just can't get it to fail locally","ts":"1461839408.000229"},{"type":"message","user":"U0XR6J961","text":"how do i get my PRs merged?","ts":"1461851094.000230"},{"type":"message","user":"U0XR6J961","text":"<@U0ULK2JPP>, <@U0XPR4NP4>: how do we tie in chaincode deploy and state transfer?  Do we have to?  Will chaincode be deployed (and killed?) automatically, based on updated world state?","ts":"1461852084.000231"},{"type":"message","user":"U0XPR4NP4","text":"<@U0XR6J961>: <@U0ULK2JPP> I thought the conclusion had been that chaincode needs to live in the state, not in the block, so that so long as our state is correct, we don't need the blockchain to redeploy chaincodes","ts":"1461852273.000232"},{"type":"message","user":"U0P2GSA8Z","text":"What happened to behave?","edited":{"user":"U0P2GSA8Z","ts":"1461866093.000000"},"ts":"1461866076.000233"},{"type":"message","user":"U0P2GSA8Z","text":"behave is no longer in bddtests on master?","ts":"1461866151.000235"},{"type":"message","user":"U0UKTPMG8","text":"<@U0P2GSA8Z>: they are now under <https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/bddtests>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/bddtests","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/bddtests","thumb_width":142,"thumb_height":142,"id":1}],"ts":"1461871168.000236"},{"type":"message","user":"U0P2GSA8Z","text":"got it, thanks","ts":"1461871532.000238"},{"user":"U14S06MT7","type":"message","subtype":"channel_join","text":"<@U14S06MT7|igor> has joined the channel","ts":"1461928540.000239"},{"user":"U0M28HM6J","type":"message","subtype":"channel_join","text":"<@U0M28HM6J|takekiyokubo> has joined the channel","ts":"1462196918.000240"},{"user":"U13Q594J2","type":"message","subtype":"channel_join","text":"<@U13Q594J2|ratnakar> has joined the channel","ts":"1462218650.000241"},{"user":"U0Z5BHCEM","type":"message","subtype":"channel_join","text":"<@U0Z5BHCEM|suma> has joined the channel","ts":"1462223695.000242"},{"type":"message","user":"U0TFEHX8E","text":"I\u2019m done with PRs for the day. If I\u2019ve added a note to your PR indicating a rebase on master is needed, please do so when you have a chance. thanks","ts":"1462246020.000243"},{"user":"U0KM61BCP","type":"message","subtype":"channel_join","text":"<@U0KM61BCP|cbf> has joined the channel","ts":"1462276837.000244"},{"user":"U163J7MRT","type":"message","subtype":"channel_join","text":"<@U163J7MRT|hill> has joined the channel","ts":"1462372295.000245"},{"user":"U15C5RM7F","type":"message","subtype":"channel_join","text":"<@U15C5RM7F|nishi> has joined the channel","ts":"1462381352.000246"},{"type":"message","user":"U0P2GSA8Z","text":"has anybody succeeded in getting [ci-skip] to work?","ts":"1462385325.000247"},{"type":"message","user":"U0P2GSA8Z","text":"I keep trying but for some reason I haven't managed to get it right yet and travis kicks in every time :confused:","ts":"1462385371.000248"},{"type":"message","user":"U0KPFAZNF","text":"I dont think its just you, i have witnessed a handful of PRs that had the flag set yet still had a travis cycle consumed","ts":"1462385641.000249"},{"type":"message","user":"U0KPFAZNF","text":"so id guess its either not working right, or we have a user-education issue on how to properly format the tag","ts":"1462385675.000250"},{"type":"message","user":"U0P2GSA8Z","text":"right","ts":"1462385719.000251"},{"type":"message","user":"U0KM61BCP","text":"[ci skip] does not appear to be working <@U11HH3P7Y> is looking into this","ts":"1462388065.000252","reactions":[{"name":"+1","users":["U0KPFAZNF","U0TFEHX8E"],"count":2}]},{"user":"U11L89VHU","type":"message","subtype":"channel_join","text":"<@U11L89VHU|posnerj> has joined the channel","ts":"1462389296.000253"},{"type":"message","user":"U0ZJZBJLF","text":"anyone alive? I just cloned the fabric and ran `go test <http:\/\/github.com\/hyperledger\/fabric\/core\/peer|github.com\/hyperledger\/fabric\/core\/peer>`, and it failed with:\n2016\/05\/05 20:35:20 setting Number of procs to -1, was 64\n2016\/05\/05 20:35:21 grpc: ClientConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 0.0.0.0:30303: getsockopt: connection refused\"; Reconnecting to \"0.0.0.0:30303\"\n2016\/05\/05 20:35:22 grpc: ClientConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 0.0.0.0:30303: getsockopt: connection refused\"; Reconnecting to \"0.0.0.0:30303\"\nerror connection to server at host:port = 0.0.0.0:30303\nFAIL\t<http:\/\/github.com\/hyperledger\/fabric\/core\/peer|github.com\/hyperledger\/fabric\/core\/peer>\t2.710s\nAlso tried setting the peer.address from 0.0.0.0:30303 to my ip:30303 but also failed, can anyone help?","edited":{"user":"U0ZJZBJLF","ts":"1462480688.000000"},"ts":"1462480619.000254"},{"type":"message","user":"U0UGH3X7X","text":"you need to have a 2nd peer running before running the go test","ts":"1462480884.000256"},{"type":"message","user":"U0ZJZBJLF","text":"doesn't the test do it itself?","ts":"1462480938.000257"},{"type":"message","user":"U0UGH3X7X","text":"no ... the behave tests will spin up and delete peers as needed but you need to manually set things up for the unit tests","ts":"1462480997.000258"},{"type":"message","user":"U0ZJZBJLF","text":"But, doesn't travis simply run the unit tests?","edited":{"user":"U0ZJZBJLF","ts":"1462481062.000000"},"ts":"1462481043.000259"},{"type":"message","user":"U0UGH3X7X","text":"travis runs both sets of tests ... i haven't looked at the travis scripts but i think one of the startup scripts will bring up a peer before executing go test","edited":{"user":"U0UGH3X7X","ts":"1462481155.000000"},"ts":"1462481125.000263"},{"type":"message","user":"U0KPFAZNF","text":"travis will start the peer for you, yes","ts":"1462481126.000264"},{"type":"message","user":"U0KPFAZNF","text":"if you run the tests locally, you have to start it manually (at least today)","ts":"1462481146.000266"},{"type":"message","user":"U0ZJZBJLF","text":"where do I find the arguments\/conf?","ts":"1462481169.000268"},{"type":"message","user":"U0UGH3X7X","text":"install.md , section 3.1","ts":"1462481187.000269"},{"type":"message","user":"U0ZJZBJLF","text":"thanks!","ts":"1462481195.000270"},{"type":"message","user":"U0ZJZBJLF","text":"Actually, there is another thing I'd like to ask- I  submitted a PR but Travis failed my build on the fabric\/core\/chaincode test (killed it, maybe due to timeout) but it passes on my machine, along with all the rest (now once I ran the peer externally)...  I see that ghaskins's PR build also failed on the same thing it failed with my build. \nIs Travis tired or something?","ts":"1462481899.000271"},{"type":"message","user":"U0KPFAZNF","text":"it seems like something is not well either with the unit-tests or travis\u2019 execution of them","ts":"1462481946.000272"},{"type":"message","user":"U0KPFAZNF","text":"though they run fine locally, so I suspect something up with travis","ts":"1462481964.000273"},{"type":"message","user":"U0ZJZBJLF","text":"I see. BTW - do you know how can I emulate the travis build on my machine? I simply invoke serially the {before_}x{install, script} sections of the travis.yml?","ts":"1462482181.000274"},{"type":"message","user":"U0KPFAZNF","text":"you can actually trigger it from your own github fork","ts":"1462482212.000275"},{"type":"message","user":"U0ZJZBJLF","text":"but I don't have a travis server","ts":"1462482220.000276"},{"type":"message","user":"U0KPFAZNF","text":"theres a PR with doc on how to do that, hold on","ts":"1462482222.000277"},{"type":"message","user":"U0KPFAZNF","text":"i mean the public one","ts":"1462482227.000278"},{"type":"message","user":"U0ZJZBJLF","text":"yeah but than it runs on github, I want to run it on my server (it'll be faster)","ts":"1462482255.000279"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/rameshthoomu\/fabric\/blob\/travisreadme\/docs\/TravisCI_Readme.md>","edited":{"user":"U0KPFAZNF","ts":"1462482285.000000"},"ts":"1462482273.000280"},{"type":"message","user":"U0KPFAZNF","text":"oh, i see","ts":"1462482275.000282"},{"type":"message","user":"U0KPFAZNF","text":"dont know how to do that","ts":"1462482280.000283"},{"type":"message","user":"U0ZJZBJLF","text":"ok, in any case many thanks! I hope someone fixes the build","ts":"1462482299.000285"},{"type":"message","user":"U0XR6J961","text":"<!here|@here> any idea what #1380 is about?","ts":"1462539444.000286"},{"type":"message","user":"U0UGH3X7X","text":"is this the issue <@U0KPFAZNF> <@U0TFEHX8E> <@U0ULK2JPP>  are discussing over in <#C0Y4PEU22> ?","ts":"1462539708.000287"},{"type":"message","user":"U0XR6J961","text":"maybe","ts":"1462539789.000288"},{"type":"message","user":"U0XR6J961","text":"i think we should revert the commit in question","ts":"1462539798.000289"},{"type":"message","user":"U0UGH3X7X","text":"agreed","ts":"1462540222.000290"},{"type":"message","user":"U0XR6J961","text":"who merged it anyways?","ts":"1462540272.000291"},{"type":"message","user":"U0XR6J961","text":"ah, greg is committer now","ts":"1462540340.000292"},{"type":"message","user":"U0XR6J961","text":"nice","ts":"1462540341.000293"},{"type":"message","user":"U0ULK2JPP","text":"<@U0XR6J961>\u2026 will be fixing it shortly.","ts":"1462541181.000294"},{"type":"message","user":"U0TFEHX8E","text":"this was my fault. Apologies. \n\nIncident report\nWe ran tests locally on Chris\u2019s laptop and they passed. Not sure why yet.\nThen a PR was created with [ci-skip] because it was comments only\nI looked though it very carefully and confirmed only comments were changed so agreed that [ci-skip] was safe\n\nIn the future, we should run test cases on ALL PRs that include any modification to .go files.","edited":{"user":"U0TFEHX8E","ts":"1462541240.000000"},"ts":"1462541193.000295"},{"type":"message","user":"U0XR6J961","text":":simple_smile:","ts":"1462542018.000297"},{"type":"message","user":"U0KPFAZNF","text":"If it makes you feel any better, they inexplicably pass when I run local too","ts":"1462542093.000298"},{"type":"message","user":"U0KPFAZNF","text":"So it could have happened to anyone. I think your proposed policy makes sense though ","ts":"1462542126.000299"},{"type":"message","user":"U0KPFAZNF","text":"I tend to never start a peer with the unit tests, I bet that's why they passed","ts":"1462542169.000300"},{"type":"message","user":"U0KPFAZNF","text":"Need to get out of that habit","ts":"1462542182.000301"},{"type":"message","user":"U0XR6J961","text":"the behave tests need to be sped up","ts":"1462542189.000302"},{"type":"message","user":"U0XR6J961","text":"does CI still build rocksdb?","ts":"1462542206.000303"},{"type":"message","user":"U0KPFAZNF","text":"@yes, unfortunately ","ts":"1462542228.000304"},{"type":"message","user":"U0KPFAZNF","text":"Though that is only about 5m of the 50m it's taking","ts":"1462542252.000305"},{"type":"message","user":"U0XR6J961","text":"do we have a time breakdown?","ts":"1462542272.000306"},{"type":"message","user":"U0KPFAZNF","text":"Sorry, <@U0XR6J961> yes","ts":"1462542275.000307"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> might","ts":"1462542314.000308"},{"user":"U11HH3P7Y","inviter":"U0KPFAZNF","type":"message","subtype":"channel_join","text":"<@U11HH3P7Y|ramesh> has joined the channel","ts":"1462542322.000309"},{"type":"message","user":"U0XR6J961","text":"getting docker compose and the docker image take quite some time","ts":"1462542348.000310"},{"type":"message","user":"U0XR6J961","text":"so ideally we'd use caching","ts":"1462542353.000311"},{"type":"message","user":"U0KPFAZNF","text":"Yeah, two options I can think of would be to run the tests within docker baseimage, or revisit PPA","ts":"1462542402.000312"},{"type":"message","user":"U0KPFAZNF","text":"Stepping out for a few hours","ts":"1462542441.000313"},{"user":"U16NAHH8U","type":"message","subtype":"channel_join","text":"<@U16NAHH8U|michaelhaley> has joined the channel","ts":"1462542497.000314"},{"type":"message","user":"U11HH3P7Y","text":"Travis doesn't support caching feature for trusty environments (Sudo Required)","ts":"1462542565.000315"},{"type":"message","user":"U0XR6J961","text":"aha!","ts":"1462542779.000316"},{"user":"U0NLZCF8V","type":"message","subtype":"channel_join","text":"<@U0NLZCF8V|juanblanco> has joined the channel","ts":"1462728952.000317"},{"user":"U173QDB0W","type":"message","subtype":"channel_join","text":"<@U173QDB0W|pablofullana> has joined the channel","ts":"1462745411.000318"},{"user":"U1751P7U4","type":"message","subtype":"channel_join","text":"<@U1751P7U4|shubhamvrkr> has joined the channel","ts":"1462775189.000319"},{"user":"U12AHQ3NK","type":"message","subtype":"channel_join","text":"<@U12AHQ3NK|nits7sid> has joined the channel","ts":"1462775208.000320"},{"type":"message","user":"U0XR6J961","text":"<@U0ULK2JPP>: how do you suggest using system chaincode to store pbft configuration?","ts":"1462788288.000321"},{"type":"message","user":"U0ULK2JPP","text":"<@U0XR6J961> The question to me is if we need a sys cc to store pbft config. If it is totally static and can never change, current yaml may be good enough ?","ts":"1462797354.000322"},{"type":"message","user":"U0ULK2JPP","text":"Otherwise the sys CC should have the same features as a regular chaincode as far as storage is concerned, ie, all the ledger state methods. The real thing to consider is that every \u201cinvoke\u201d operation will be a transaction and so every change one makes to the state will be too. The last thing is you have query access which you may leverage to allow users to get information.","ts":"1462797378.000323"},{"type":"message","user":"U0ULK2JPP","text":"its somewhat curious that the changes that we will make for PBFT config itself has to go through consensus. Sounds there may be chicken-egg issues here","ts":"1462797455.000324"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP>: I think its achievable, but it does require careful design","ts":"1462797527.000325"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KPFAZNF>: it is.. really depends upon details of this cc","ts":"1462797655.000326"},{"type":"message","user":"U0XR6J961","text":"muralisr: no, it is not static (not necessarily), and all replicas need to use the same config","ts":"1462798120.000327"},{"type":"message","user":"U0ULK2JPP","text":"ok.","ts":"1462798139.000328"},{"type":"message","user":"U0XR6J961","text":"e.g. the set of validators","ts":"1462798148.000329"},{"type":"message","user":"U0XR6J961","text":"or the log\/watermarks size that pbft uses","ts":"1462798180.000330"},{"type":"message","user":"U0XR6J961","text":"my idea was to store the original config in the genesis block, and change config through a system chaincode","ts":"1462798202.000331"},{"type":"message","user":"U0ULK2JPP","text":"I see.  I thought these are properties are \u201chard to change\u201d to say the least.","ts":"1462799738.000332"},{"type":"message","user":"U0XR6J961","text":"yes, so they definitely shouldn't be in a random yaml file that everybody can edit","ts":"1462800755.000333"},{"user":"U0N94UUA0","type":"message","subtype":"channel_join","text":"<@U0N94UUA0|ranga> has joined the channel","ts":"1462808636.000334"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KN2SSKE>: Any feedback re: <https:\/\/github.com\/hyperledger\/fabric\/pull\/1390>","attachments":[{"service_name":"GitHub","title":"Use make to build fabric by ghaskins \u00b7 Pull Request #1390 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1390","text":"Description This patch adds a top-level makefile for managing builds and dependencies Motivation and Context Our current environment relies heavily on vagrant performing a good deal of the prep...","fallback":"GitHub: Use make to build fabric by ghaskins \u00b7 Pull Request #1390 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1390","thumb_width":400,"thumb_height":400,"id":1}],"ts":"1462809508.000335"},{"type":"message","user":"U0KPFAZNF","text":"Not to be pushy, I just have a few follow-on patches to do, but won\u2019t base on top of this if its not likely to be accepted","ts":"1462809843.000337"},{"type":"message","user":"U0XPR4NP4","text":"When I try to run the unit tests locally, I'm getting an OOM problem with the current master:\n\n```\n2016\/05\/09 16:54:47 Computing crypto-hash for bucket [level=[0], bucketNumber=[1]] by merging [3] children\n2016\/05\/09 16:54:47 Constructing bucket-cache with max bucket cache size = [100] MBs\n2016\/05\/09 16:54:47 Loaded buckets data in cache. Total buckets in DB = [44]. Total cache size:=6400\nfatal error: runtime: out of memory\n```\n\nI've bumped my Vagrant up to 8GB, to no effect.  I was looking back through the README to see if the test invocations have changed, but they seem to be gone from the doc, anyone know what's going on?","ts":"1462813134.000338"},{"type":"message","user":"U0XPR4NP4","text":"<@U0KPFAZNF>: <@U0TFEHX8E> ^^","ts":"1462813182.000339"},{"type":"message","user":"U0UGH3X7X","text":"check in install.md  ?","ts":"1462813211.000340"},{"type":"message","user":"U0TFEHX8E","text":"how big is your DB?","ts":"1462813343.000341"},{"type":"message","user":"U0TFEHX8E","text":"under \/var\/hyperledger\/","ts":"1462813357.000342"},{"type":"message","user":"U0XPR4NP4","text":"15GB, looks like","ts":"1462813359.000343"},{"type":"message","user":"U0TFEHX8E","text":"hmm, maybe compress that and put it off to the side somewhere?","ts":"1462813379.000344"},{"type":"message","user":"U0TFEHX8E","text":"may be useful for testing","ts":"1462813384.000345"},{"type":"message","user":"U0TFEHX8E","text":"<@U0KPFAZNF>: I intend to look at you make changes today","ts":"1462813422.000346"},{"type":"message","user":"U0XPR4NP4","text":"<@U0TFEHX8E>: Sure, I'll pull it off, then delete it and you think that ought to fix things?","ts":"1462813485.000347"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XPR4NP4>: ive not seen that, but I tend to be operating with clean-slates each iteration.  Am I understanding correctly that you are running an existing database?","ts":"1462813794.000348"},{"type":"message","user":"U0KPFAZNF","text":"or is 15G typical for a clean-slate run (ive never looked)","ts":"1462813809.000349"},{"type":"message","user":"U0XPR4NP4","text":"<@U0KPFAZNF>: I'm not intentionally doing anything, but I have not destroyed my dev env in a week or two, so there is a good chance the DB has grown","ts":"1462813861.000350"},{"type":"message","user":"U0TFEHX8E","text":"I\u2019m going to bet it fixes things, though I haven\u2019t seen it before myself","ts":"1462813911.000351"},{"type":"message","user":"U0KPFAZNF","text":"regarding the test instructions, I too have been bit by the doc reorg\u2026.FYI the \u201cgo test\u201d instructions that used to be on the main readme are now here: <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/dev-setup\/install.md>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/dev-setup\/install.md","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/dev-setup\/install.md","thumb_width":142,"thumb_height":142,"id":1}],"ts":"1462813916.000352"},{"type":"message","user":"U0KPFAZNF","text":"which is via the \u201cInstallation\u201d link that is mid-way down the page","ts":"1462813933.000354"},{"type":"message","user":"U0KPFAZNF","text":"FYI, I have an oustanding PR (1390) that simplifies this a bit:  you just run \u201cmake unit-test\u201d instead of needing to paste that command","ts":"1462813967.000355"},{"type":"message","user":"U0XPR4NP4","text":"Thanks <@U0KPFAZNF>, our `CONTRIBUTING.md` file link to the test is broken now too, I'll submit a PR to fix it later today","ts":"1462813971.000356"},{"type":"message","user":"U0KPFAZNF","text":"yeah, there are some other broken links too, i filed an issue","ts":"1462814023.000357"},{"type":"message","user":"U0XPR4NP4","text":"Yes, I am definitely in favor of those changes in 1390, would be a productivity boost for everyone I think","ts":"1462814042.000358"},{"type":"message","user":"U0KPFAZNF","text":"regarding OOM, I havent seen that exact error, but while working on the baseimage I did note that we seem to blow out of the 4GB fairly easily","ts":"1462814109.000359"},{"type":"message","user":"U0KPFAZNF","text":"im guessing we get away with it typically b\/c there must be sufficient swap, but I didnt follow up","ts":"1462814138.000360"},{"type":"message","user":"U0KPFAZNF","text":"its kind of tough, b\/c 4GB is already fairly resource intensive for people working on smaller machines","edited":{"user":"U0KPFAZNF","ts":"1462814184.000000"},"ts":"1462814178.000361"},{"type":"message","user":"U0XPR4NP4","text":"Obviously the lower the barrier to entry, the better, but there's got to be a line somewhere.  I wonder if 4GB is it, or if we could bump it slightly.","ts":"1462814375.000363"},{"type":"message","user":"U0XPR4NP4","text":"<@U0TFEHX8E>: <@U0UKTPMG8> <@U0KPFAZNF> So I figured out what the problem was.  When the peer tries to build the docker image, it uses a build context of $GOPATH, which, thanks to running some stress tests had several GB of logs in it, so when `vm.go` tries to build an entire tar file, in RAM, with the whole $GOPATH, we're running out of memory.","ts":"1462817799.000364"},{"type":"message","user":"U0XPR4NP4","text":"Do we think this is desirable behavior? I've certainly streamed huge tars via a pipe into docker to use a build context, and I didn't think docker buffered the whole thing (but rather wrote it out to the filesystem as it received it), is there a reason we aren't using this sort of streaming approach?","ts":"1462817908.000365"},{"type":"message","user":"U0ULK2JPP","text":"<@U0XPR4NP4>: I have run into that myself","ts":"1462817927.000366"},{"type":"message","user":"U0ULK2JPP","text":"but my crash was when writing large deply tran to the ledger and not while constructing the tar file","edited":{"user":"U0ULK2JPP","ts":"1462818248.000000"},"ts":"1462818225.000367"},{"type":"message","user":"U0ULK2JPP","text":"are you running into nomem when creating the tar  ?","ts":"1462818280.000369"},{"type":"message","user":"U0KM61BCP","text":"<@U0TFEHX8E>: <@U0KPFAZNF> <@U0KN2SSKE> I think that if we are going to have what amounts to a checklist in the PR template (a Good Thing(tm)) then I think we need to align that with some published coding guidelines. We have <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/dev-setup\/install.md#coding-golang-> but I think this is misplaced. It should be in <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/CONTRIBUTING.md> and we likely should have something to say about all languages used (thus far, we have golang, java, js, and python). Maybe we need separate doc for coding-style eg. <https:\/\/github.com\/electron\/electron\/blob\/master\/docs\/development\/coding-style.md>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/dev-setup\/install.md#coding-golang-","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/dev-setup\/install.md#coding-golang-","thumb_width":142,"thumb_height":142,"id":1},{"service_name":"GitHub","title":"electron\/electron","title_link":"https:\/\/github.com\/electron\/electron\/blob\/master\/docs\/development\/coding-style.md","text":"electron - Build cross platform desktop apps with web technologies","fallback":"GitHub: electron\/electron","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/13409222?v=3&s=400","from_url":"https:\/\/github.com\/electron\/electron\/blob\/master\/docs\/development\/coding-style.md","thumb_width":200,"thumb_height":200,"id":3}],"ts":"1462818655.000370"},{"type":"message","user":"U0KM61BCP","text":"thoughts?","ts":"1462818659.000372"},{"type":"message","user":"U0XPR4NP4","text":"<@U0ULK2JPP>: This is when creating the tar, I am 99% certain.  Currently running tests after cleaning up my env, but will attempt to reproduce after","ts":"1462818788.000373"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1462818860.000374"},{"type":"message","user":"U0ULK2JPP","text":"I wanted to create an issue for getting mimimal set of files for chaincode \u2026 currently we copy the world.","ts":"1462818928.000375"},{"type":"message","user":"U0ULK2JPP","text":"that would take care of this  (bddtests will be ignored)","ts":"1462818960.000376"},{"type":"message","user":"U0ULK2JPP","text":"this would be necessary but not sufficient for  issues regarding maximum tran size","ts":"1462819084.000377"},{"type":"message","user":"U0TFEHX8E","text":"<@U0KM61BCP>: agreed, there are a number of sections in \u201cInstall\u201d that don\u2019t make sense.\n\"Coding Golang\u201d (already in main README)\n\u201cCommunication\u201d (already in main README)\n\"Code contributions\u201d (contributing) \n\"Generating gRPC code\u201d (contributing)\n\"Adding or updating Go packages\u201d (contributing)\n<@U0KN2SSKE>: <@U112NNFV4> would you support these changes?","ts":"1462819717.000378"},{"user":"U112NNFV4","inviter":"U0TFEHX8E","type":"message","subtype":"channel_join","text":"<@U112NNFV4|joshhus> has joined the channel","ts":"1462819723.000379"},{"type":"message","user":"U0XPR4NP4","text":"<@U0ULK2JPP>: I'd still consider changing the image construction to stream the tar in, rather than pulling it all into RAM, seems like that should still be faster, and accomodate those who wish to include large files in their images.","ts":"1462819876.000380"},{"type":"message","user":"U0KM61BCP","text":"<@U0TFEHX8E>: agreed","ts":"1462819910.000381"},{"type":"message","user":"U0ULK2JPP","text":"<@U0XPR4NP4>: could be nice, agreed. question is does the docker client support streaming","ts":"1462819927.000382"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF>: nice job on the make file","ts":"1462819931.000383"},{"type":"message","user":"U0KM61BCP","text":"I left some comments","ts":"1462819936.000384"},{"type":"message","user":"U0XPR4NP4","text":"<@U0ULK2JPP>: The docker CLI certainly does, and I assume it uses the same API?","ts":"1462819961.000385"},{"type":"message","user":"U0ULK2JPP","text":"I meant the go client, sorry","ts":"1462819972.000386"},{"type":"message","user":"U0XPR4NP4","text":"Yes, I'm not sure, if we think it's worth investigating, I can open an issue","ts":"1462820000.000387"},{"type":"message","user":"U0ULK2JPP","text":"sure","ts":"1462820006.000388"},{"type":"message","user":"U0KM61BCP","text":"heh, we reached 50 committers on fabric","ts":"1462820214.000389"},{"type":"message","user":"U0KM61BCP","text":"<@U0MT4CBHB>: <@U0TFEHX8E> we need to clean up some of the README.md and contributing.md references that pertain to DAH (mailing list references, merge contact, etc) in <https:\/\/github.com\/hyperledger\/fabric-api>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-api","title_link":"https:\/\/github.com\/hyperledger\/fabric-api","text":"fabric-api - API to fabric","fallback":"GitHub: hyperledger\/fabric-api","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-api","thumb_width":142,"thumb_height":142,"id":1}],"ts":"1462821143.000390"},{"user":"U0MT4CBHB","inviter":"U0KM61BCP","type":"message","subtype":"channel_join","text":"<@U0MT4CBHB|tamas> has joined the channel","ts":"1462821152.000392"},{"type":"message","user":"U0TFEHX8E","text":"yes, this repo is still in progress","ts":"1462821182.000393"},{"type":"message","user":"U0TFEHX8E","text":"I\u2019ll add a PR to say that in the README","ts":"1462821205.000394"},{"type":"message","user":"U0XPR4NP4","text":"<@U0TFEHX8E>: Using the new PR template, and running `gometalinter`, seeing just tons of warnings\/errors, for instance in `core\/peer` I get 917 of them, almost all of which are definitely outside the scope of my PR.  I'm assuming we shouldn't mix generic lint cleanup in with more structural changes? Do we have a plan in place to get the whole codebase passing under the linting?","ts":"1462821947.000395"},{"type":"message","user":"U0TFEHX8E","text":"<@U0XPR4NP4>: first plan is to remove gometalinter checkbox in PR and replace with goimports, go vet, and golint. <https:\/\/github.com\/hyperledger\/fabric\/pull\/1415>","edited":{"user":"U0TFEHX8E","ts":"1462822017.000000"},"ts":"1462822009.000396"},{"type":"message","user":"U0TFEHX8E","text":"and say that people just need to clean up code additions and modifications","ts":"1462822052.000399"},{"type":"message","user":"U0TFEHX8E","text":"For existing code, I was hoping we could slowly clean it up as we go.","ts":"1462822151.000400"},{"type":"message","user":"U0KM61BCP","text":"If using atom, then the configuration would be:","ts":"1462822320.000401"},{"type":"message","user":"U0KM61BCP","text":"--vendor, --disable-all, --enable=vet, --enable=golint, --enable=goimports --tests, --json, .","ts":"1462822321.000402"},{"type":"message","user":"U0KM61BCP","text":"configuration for gometalinter","ts":"1462822341.000403"},{"type":"message","user":"U0KPFAZNF","text":"I think that whatever tooling\/standard we decide on, it would be useful to have two things considered:  1) there should be the ability to specify exceptions (to deal with things we disagree with the tooling on, or decide we dont want to fix right now, etc).  and 2) there should be a global pass to fix up any of the formatting things we want to fix, and exception the things we don\u2019t that is independent of any logic changes","ts":"1462822458.000404"},{"type":"message","user":"U0KPFAZNF","text":"and then flip the switch for CI to monitor for any newly introduced issues","ts":"1462822490.000405"},{"type":"message","user":"U0KPFAZNF","text":"users would then either be able to submit new exceptions (with justifications) in their PR, or CI will find anything new without maintainer burden to check","ts":"1462822537.000406"},{"type":"message","user":"U0KPFAZNF","text":"not sure the exception mechanism is available in any of the tooling, however","ts":"1462822580.000407"},{"type":"message","user":"U0KPFAZNF","text":"would just be nice to have, based on my experience with other languages (like using coverity on C++)","ts":"1462822604.000408"},{"type":"message","user":"U0KPFAZNF","text":"I guess \u201cflip the CI switch\u201d and \u201cadd the checklist item\u201d would ideally be atomic too","ts":"1462822657.000409"},{"user":"U17BRDHPG","type":"message","subtype":"channel_join","text":"<@U17BRDHPG|jeroiraz> has joined the channel","ts":"1462822658.000410"},{"type":"message","user":"U0KN2SSKE","text":"<@U0TFEHX8E>: agreed","ts":"1462825722.000411"},{"type":"message","user":"U0KN2SSKE","text":"<@U0KPFAZNF>: read through #1390 \u2014 good idea, and it looks like you\u2019ve covered quite a lot already that we can merge now","ts":"1462825877.000412"},{"type":"message","user":"U0KN2SSKE","text":"<@U0KPFAZNF>: this will help when we want to generate custom build of the fabric","ts":"1462826017.000413"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KN2SSKE>: i think\/hope\/believe so","ts":"1462826116.000414"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF>: d\u2019accord","ts":"1462827220.000415"},{"type":"message","user":"U0KM61BCP","text":"we should actively encourage people to take on linting of files with known lint warnings","ts":"1462827245.000416"},{"type":"message","user":"U0KM61BCP","text":"I could add an issue for each file with lint errors","ts":"1462827262.000417"},{"type":"message","user":"U0KPFAZNF","text":"yeah, sounds good","ts":"1462827283.000418"},{"type":"message","user":"U0KM61BCP","text":"crowd source the cleanup","ts":"1462827284.000419"},{"type":"message","user":"U0KPFAZNF","text":"some things will hopefully be automated (ala gofmt) but I suspect that is wishful thinking to expect all\/most will get cleaned up that way","ts":"1462827327.000420"},{"type":"message","user":"U11HH3P7Y","text":"I have executed go lint and attached are the results..","ts":"1462828914.000421"},{"type":"message","subtype":"file_share","text":"<@U11HH3P7Y|ramesh> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ramesh\/F17CZR5SB\/golint_issues.txt|golint issues.txt>","file":{"id":"F17CZR5SB","created":1462828921,"timestamp":1462828921,"name":"golint issues.txt","title":"golint issues.txt","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U11HH3P7Y","editable":true,"size":391559,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F17CZR5SB\/golint_issues.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F17CZR5SB\/download\/golint_issues.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ramesh\/F17CZR5SB\/golint_issues.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F17CZR5SB-aa6ce16381","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ramesh\/F17CZR5SB\/golint_issues.txt\/edit","preview":"home\/travis\/gopath\/src\/github.com\/hyperledger\/fabric\/consensus\/consensus.go:104:6: exported type StatePersistor should have comment or be unexported\r\n\r\n\/home\/travis\/gopath\/src\/github.com\/hyperledger\/fabric\/consensus\/controller\/controller.go:43:9: if block ends with a return statement, so drop this else and outdent its block\r\n\r\n\/home\/travis\/gopath\/src\/github.com\/hyperledger\/fabric\/consensus\/helper\/engine.go:32:6: exported type EngineImpl should have comment or be unexported\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>home\/travis\/gopath\/src\/github.com\/hyperledger\/fabric\/consensus\/consensus.go:104:6: exported type StatePersistor should have comment or be unexported<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<div><pre>\/home\/travis\/gopath\/src\/github.com\/hyperledger\/fabric\/consensus\/controller\/controller.go:43:9: if block ends with a return statement, so drop this else and outdent its block<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<div><pre>\/home\/travis\/gopath\/src\/github.com\/hyperledger\/fabric\/consensus\/helper\/engine.go:32:6: exported type EngineImpl should have comment or be unexported<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":4583,"lines_more":4578,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U11HH3P7Y","upload":true,"display_as_bot":false,"username":"<@U11HH3P7Y|ramesh>","bot_id":null,"ts":"1462828923.000422"},{"user":"U14REU524","type":"message","subtype":"channel_join","text":"<@U14REU524|privoal> has joined the channel","ts":"1462889205.000423"},{"type":"message","user":"U0KPFAZNF","text":"<@U0N1D1UAE> <@U10Q62R8X>: FYI, I am working on a patch that builds on the new makefile plumbing that will treat the dockerhub repo for baseimage as optional","ts":"1462892257.000424"},{"type":"message","user":"U0KPFAZNF","text":"meaning, if its not found, it will build it locally..dockerhub is just an optimization","ts":"1462892281.000425"},{"type":"message","user":"U0KPFAZNF","text":"(and hooking the new $arch plumbing","ts":"1462892294.000426"},{"type":"message","user":"U0XR6J961","text":"makefile was unhappy, because my \/var\/hyperledger is not writable","ts":"1462893075.000427"},{"type":"message","user":"U0KPFAZNF","text":"doing a dist-clean?","ts":"1462893090.000428"},{"type":"message","user":"U0XR6J961","text":"i need to either fix the tests not to require \/var\/hyperledger, or add +w in \/var","ts":"1462893101.000429"},{"type":"message","user":"U0XR6J961","text":"i don't think it is good practice for build or test to write outside the source tree","ts":"1462893125.000430"},{"type":"message","user":"U0XR6J961","text":"but that's not your fault","ts":"1462893131.000431"},{"type":"message","user":"U0KPFAZNF","text":"yeah, the only new thing that should be writing to var is the dist-clean target","ts":"1462893149.000432"},{"type":"message","user":"U0KPFAZNF","text":"and in light of the fact that I switched the unit-test to use docker for the peer, I could argue we probably dont need the dist-clean target any more anyway","ts":"1462893176.000433"},{"type":"message","user":"U0KPFAZNF","text":"but I am confused why this introduced a new problem for you","ts":"1462893185.000434"},{"type":"message","user":"U0KPFAZNF","text":"unless I am misunderstanding, whatever is writing to \/var must have been doing that before the makefile change right?","ts":"1462893243.000435"},{"type":"message","user":"U0XR6J961","text":"yea, i must have overwritten the path somehow","ts":"1462893338.000436"},{"user":"U10Q62R8X","inviter":"U0KPFAZNF","type":"message","subtype":"channel_join","text":"<@U10Q62R8X|vpaprots> has joined the channel","ts":"1462893342.000437"},{"type":"message","user":"U0TFEHX8E","text":"<!channel>: Two PRs have been merged that will require a `vagrant destroy` `vagrant up` for those using vagrant. These changes rebrand the docker image under the hyperledger name and change the docker port to use the default value of 2375. Thanks <@U0KPFAZNF> and <@U0N1D1UAE> for these changes.\n<https:\/\/github.com\/hyperledger\/fabric\/pull\/1411>\n<https:\/\/github.com\/hyperledger\/fabric\/pull\/1422>","attachments":[{"service_name":"GitHub","title":"Rebrand our docker image under the hyperledger name by ghaskins \u00b7 Pull Request #1411 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1411","text":"This is a rebase of #1402 to fix a merge conflict with mainline. Please see #1402 for description\/discussion Signed-off-by: Greg Haskins <mailto:gregory.haskins@gmail.com|gregory.haskins@gmail.com>","fallback":"GitHub: Rebrand our docker image under the hyperledger name by ghaskins \u00b7 Pull Request #1411 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1411","thumb_width":400,"thumb_height":400,"id":1},{"service_name":"GitHub","title":"Change unofficial Docker port 4243 to 2375 by bcbrock \u00b7 Pull Request #1422 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1422","text":"Description Globally changed 4243 to 2375. Also fixed the doc. in YAML files around the use of port 2376. Motivation and Context Fixes #1263 The motivation can be found in that issue. How...","fallback":"GitHub: Change unofficial Docker port 4243 to 2375 by bcbrock \u00b7 Pull Request #1422 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/11968347?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1422","thumb_width":400,"thumb_height":400,"id":2}],"ts":"1462898403.000438"},{"type":"message","user":"U0Z5BHCEM","text":"gr8","ts":"1462898458.000440"},{"type":"message","user":"U0P2GSA8Z","text":"thanks for the heads-up","ts":"1462898483.000441"},{"type":"message","user":"U0KPFAZNF","text":"Related: things will (hopefully) go smoother if people a) adopt the new makefile mechanism, and b) use a workflow like \u201cgit pull &amp;&amp; make clean peer\u201d anytime you change HEAD","ts":"1462898484.000442"},{"type":"message","user":"U0KPFAZNF","text":"this will ensure the system has a chance to reconcile your environment (vagrant or not) with the tree, and require fewer vagrant destroy\/up cycles in the future","ts":"1462898519.000443"},{"type":"message","user":"U0P2GSA8Z","text":"oh, so the make PR was landed too?","ts":"1462898521.000444"},{"type":"message","user":"U0KPFAZNF","text":"yes, yesterday","ts":"1462898528.000445"},{"type":"message","user":"U0KPFAZNF","text":"its use is currently optional, the old methods will still work","ts":"1462898541.000446"},{"type":"message","user":"U0KPFAZNF","text":"but it is encouraged to adopt","ts":"1462898547.000447"},{"type":"message","user":"U0P2GSA8Z","text":"cool, thanks","ts":"1462898560.000448"},{"type":"message","user":"U0TFEHX8E","text":"yes, sorry <@U0P2GSA8Z>. I think make impacts <https:\/\/github.com\/hyperledger\/fabric\/pull\/1357>. I was waiting to see if there were additional comments","edited":{"user":"U0TFEHX8E","ts":"1462898650.000000"},"ts":"1462898589.000449"},{"type":"message","user":"U0P2GSA8Z","text":"yeah, I saw there is a new conflict","ts":"1462898728.000452"},{"type":"message","user":"U0P2GSA8Z","text":"but I'm going to wait for the discussion on the command name to settle before I bother rebasing","ts":"1462898757.000453"},{"type":"message","user":"U0P2GSA8Z","text":"unless we can quickly converge on a new name we probably should just keep the current one though","ts":"1462898786.000454"},{"type":"message","user":"U0P2GSA8Z","text":"although not perfect it is the status quo :simple_smile:","ts":"1462898795.000455"},{"type":"message","user":"U0KPFAZNF","text":"I think the proposed changes are reasonable and a positive step forward","ts":"1462899279.000456"},{"type":"message","user":"U0KPFAZNF","text":"anything beyond that is probably a bigger\/slower discussion and probably should be tackled as a sep issue","ts":"1462899310.000457"},{"type":"message","user":"U0P2GSA8Z","text":"indeed, we could always rename the command later anyway","ts":"1462899477.000458"},{"type":"message","user":"U0P2GSA8Z","text":"this is fairly orthogonal to the PR I submitted","ts":"1462899490.000459"},{"type":"message","user":"U0KPFAZNF","text":"agreed","ts":"1462899521.000460"},{"type":"message","user":"U0TFEHX8E","text":"+1 I think the change is better than what we have today","ts":"1462899799.000461"},{"type":"message","user":"U0P2GSA8Z","text":"ok, I'll resolve the conflict then so you can land it if you want","ts":"1462901086.000462"},{"type":"message","user":"U0KM61BCP","text":"<@U0TFEHX8E>: please send a note to the hyperledger-technical-discuss as well (if you haven\u2019t already) about the change","ts":"1462904590.000463"},{"type":"message","user":"U0KPFAZNF","text":"well, this is a new one: <https:\/\/travis-ci.org\/hyperledger\/fabric\/builds\/129199583>","ts":"1462904593.000464"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y>: ^^^^","ts":"1462904605.000465"},{"type":"message","user":"U0KM61BCP","text":"it bit me","ts":"1462904610.000466"},{"type":"message","user":"U0TFEHX8E","text":"<@U0KPFAZNF>: we\u2019re investigating in <#C11SL9YDV>","ts":"1462904642.000467"},{"type":"message","user":"U0KPFAZNF","text":"ah, ok, i dont think i am subscribed there, will join","ts":"1462904655.000468"},{"type":"message","user":"U0KM61BCP","text":"AFAICT we don\u2019t have a means of identifying a version for the peer binary","ts":"1462911709.000469"},{"type":"message","user":"U0KM61BCP","text":"Seems to me that we should do so before we ship a release","ts":"1462911730.000470"},{"type":"message","user":"U0KM61BCP","text":"eg .\/peer \u2014version would simply print the version string assigned at the build","ts":"1462911767.000471"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0KM61BCP> do we have a version number assigned somewhere already?","ts":"1462912558.000472"},{"type":"message","user":"U0P2GSA8Z","text":"<!here|@here> make unit-test fails on master?","ts":"1462913919.000473"},{"type":"message","user":"U0P2GSA8Z","text":"?       <http:\/\/github.com\/hyperledger\/fabric\/core\/ledger\/util|github.com\/hyperledger\/fabric\/core\/ledger\/util>  [no test files]\n2016\/05\/10 20:55:06 setting Number of procs to -1, was 2\n2016\/05\/10 20:55:07 grpc: ClientConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 0.0.0.0:30303: getsockopt: connection refused\"; Reconnecting to \"0.0.0.0:30303\"\n2016\/05\/10 20:55:09 grpc: ClientConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 0.0.0.0:30303: getsockopt: connection refused\"; Reconnecting to \"0.0.0.0:30303\"\nerror connection to server at host:port = 0.0.0.0:30303\nFAIL    <http:\/\/github.com\/hyperledger\/fabric\/core\/peer|github.com\/hyperledger\/fabric\/core\/peer> 2.716s","ts":"1462913936.000474"},{"type":"message","user":"U0KPFAZNF","text":"hmm, it sounds like the peer wasnt started, but the makefile should have done that for you","ts":"1462913966.000475"},{"type":"message","user":"U0TFEHX8E","text":"been working for me, but I can give it quick try","ts":"1462913989.000476"},{"type":"message","user":"U0KPFAZNF","text":"travis uses the same mechanism though, so it should be generally sound..not sure whats up","ts":"1462913991.000477"},{"type":"message","user":"U0P2GSA8Z","text":"who the hell made that makefile? :wink:","ts":"1462913999.000478"},{"type":"message","user":"U0KPFAZNF","text":"some slacker","ts":"1462914004.000479","reactions":[{"name":"smile","users":["U0KM61BCP"],"count":1}]},{"type":"message","user":"U0P2GSA8Z","text":"lol","ts":"1462914007.000480"},{"type":"message","user":"U0P2GSA8Z","text":"I'm actually quite thankful!","ts":"1462914015.000481"},{"type":"message","user":"U0KPFAZNF","text":"well, not if it doesnt work right :wink:","ts":"1462914024.000482"},{"type":"message","user":"U0P2GSA8Z","text":"I feel much more at home now :simple_smile:","ts":"1462914025.000483"},{"type":"message","user":"U0KPFAZNF","text":"any chance you already had a peer running, perhaps with security on?","ts":"1462914105.000484"},{"type":"message","user":"U0KPFAZNF","text":"i didnt test how it would respond if another peer was competing for 30303","ts":"1462914115.000485"},{"type":"message","user":"U0P2GSA8Z","text":"hmm, actually, if I start the peer by hand first the test passes","ts":"1462914149.000486"},{"type":"message","user":"U0P2GSA8Z","text":"so let me see if something got screwed up somewhere","ts":"1462914162.000487"},{"type":"message","user":"U0KPFAZNF","text":"hmm, its supposed to launch the peer within a docker container for you","ts":"1462914210.000488"},{"type":"message","user":"U0P2GSA8Z","text":"yeah, I see that in the makefile","ts":"1462914279.000489"},{"type":"message","user":"U0P2GSA8Z","text":"I wonder why it didn't happen","ts":"1462914285.000490"},{"type":"message","user":"U0P2GSA8Z","text":"I've got to take a short break, I'll be back later","ts":"1462914353.000491"},{"type":"message","user":"U0P2GSA8Z","text":"if this is just something on my side I'll figure it out","ts":"1462914397.000492"},{"type":"message","user":"U0KPFAZNF","text":"ok, obviously they are wet bits, so its possible you hit a corner case we didnt see before","ts":"1462914594.000493"},{"type":"message","user":"U0P2GSA8Z","text":"I'm sensing that the problem comes from running with old images","ts":"1462916701.000494"},{"type":"message","user":"U0P2GSA8Z","text":"I did a vagrant destroy and up but I didn't do a make clean - my bad","ts":"1462916718.000495"},{"type":"message","user":"U0P2GSA8Z","text":"I'm waiting to see but I bet that's the problem","ts":"1462916732.000496"},{"type":"message","user":"U0P2GSA8Z","text":"bingo!","ts":"1462916993.000497"},{"type":"message","user":"U0P2GSA8Z","text":"pfff. silly me","ts":"1462916999.000498"},{"type":"message","user":"U0KPFAZNF","text":"oh, thats weird only in the sense that the makefile is new such that I wouldnt have thought a clean would do anything w.r.t. old non-makefile state","ts":"1462917407.000499"},{"type":"message","user":"U0KPFAZNF","text":"but whatever works","ts":"1462917418.000500"},{"type":"message","user":"U0KPFAZNF","text":"i like zero-pr-required solutions :wink:","ts":"1462917425.000501"},{"type":"message","user":"U0KPFAZNF","text":"something to keep an eye on though, as I bet you wont be the last","ts":"1462917449.000502"},{"type":"message","user":"U0P2GSA8Z","text":":simple_smile:","ts":"1462917470.000503"},{"type":"message","user":"U0P2GSA8Z","text":"yeah, looking at the makefile, I'm not sure why that did the trick either","ts":"1462917539.000504"},{"type":"message","user":"U0P2GSA8Z","text":"maybe it's just some odd state on my machine, it seems prone to that","ts":"1462917655.000505"},{"type":"message","user":"U0P2GSA8Z","text":"for some reason emacs kept changing the permission of all the files I saved, I had to reinstall it and the problem is gone","ts":"1462917685.000506"},{"type":"message","user":"U0P2GSA8Z","text":"I've never seen that before","ts":"1462917703.000507"},{"type":"message","user":"U0KPFAZNF","text":"actually, if you did a vagrant up with the new code, it should have done an implicit clean","ts":"1462917795.000508"},{"type":"message","user":"U0KPFAZNF","text":"so there might be more to the story","ts":"1462917803.000509"},{"type":"message","user":"U0P2GSA8Z","text":"that was my assumption","ts":"1462917813.000510"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/setup.sh#L143>","edited":{"user":"U0KPFAZNF","ts":"1462917870.000000"},"ts":"1462917829.000511"},{"type":"message","user":"U0KPFAZNF","text":"that should have been run as the vagrant environment finished provisioning","ts":"1462917842.000513"},{"type":"message","user":"U0P2GSA8Z","text":"indeed","ts":"1462917871.000515"},{"type":"message","user":"U0P2GSA8Z","text":"this is even more mysterious now...","ts":"1462917879.000516"},{"type":"message","user":"U0P2GSA8Z","text":"all right, I rebased PR#1357. It'd be nice if I didn't have to do it yet again given that I've already done that like 4 times... 0:-)","ts":"1462921957.000517"},{"type":"message","user":"U0KPFAZNF","text":"does anyone know the history of why we install nodejs from a raw binary package instead of using the one in ubuntu","ts":"1462922650.000518"},{"type":"message","user":"U0KM61BCP","text":"2016\/05\/10 23:34:26 Failed Chaincode docker build:\nStep 1 : FROM hyperledger\/fabric-baseimage\nPulling repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>\n\n--- FAIL: TestVM_BuildImage_ChaincodeLocal (17.54s)\n\tvm_test.go:105: Error building Chaincode container: Error building Chaincode container: Tag latest not found in repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>\nFAIL\nFAIL\t<http:\/\/github.com\/hyperledger\/fabric\/core\/container|github.com\/hyperledger\/fabric\/core\/container>\t49.217s","ts":"1462923791.000519"},{"type":"message","user":"U0KM61BCP","text":"just now\u2026 is there a known issue?","ts":"1462923810.000520"},{"type":"message","user":"U0KPFAZNF","text":"not that I am aware of, this is using the make based environment?","ts":"1462923838.000521"},{"type":"message","user":"U0KM61BCP","text":"yes","ts":"1462923853.000522"},{"type":"message","user":"U0KM61BCP","text":"make all","ts":"1462923856.000523"},{"type":"message","user":"U0KM61BCP","text":"re-running","ts":"1462923863.000524"},{"type":"message","user":"U0KPFAZNF","text":"hmm, can you post \u201cdocker images\u201d outut","ts":"1462923886.000525"},{"type":"message","user":"U0KPFAZNF","text":"one thing I am seeing working on the z support, it doesnt seem that errors propagate all the way out of the docker provisioner, so its possible that something died but the system still throught the dep was satisfied","ts":"1462923945.000526"},{"type":"message","user":"U0KPFAZNF","text":"thats the only thing I can think of","ts":"1462923958.000527"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP>: based on your output, I think you have pulled across the docker rebranding fix pushed earlier today and need a vagrant destroy\/up cycle","ts":"1462924061.000528"},{"type":"message","user":"U0KM61BCP","text":"gah","ts":"1462924085.000529"},{"type":"message","user":"U0KPFAZNF","text":"that would explain what you are seeing\u2026the images are cached as openblockchain in your environment, but the code is looking for HL branded","ts":"1462924086.000530"},{"type":"message","user":"U0KM61BCP","text":"ok","ts":"1462924086.000531"},{"type":"message","user":"U0KPFAZNF","text":"rule of thumb (for now), move HEAD?, make clean","ts":"1462924112.000532"},{"type":"message","user":"U0KPFAZNF","text":"if I can get the deps more intelligent, we can get rid of that","ts":"1462924136.000533"},{"type":"message","user":"U0KPFAZNF","text":"but for now, thats the safest","ts":"1462924141.000534"},{"type":"message","user":"U0KPFAZNF","text":"<@U10Q62R8X> <@U0N1D1UAE> <@U12V3D2P2> <https:\/\/github.com\/hyperledger\/fabric\/pull\/1440>","attachments":[{"service_name":"GitHub","title":"Multi-arch substrate by ghaskins \u00b7 Pull Request #1440 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1440","text":"Provide a framework for supporting different processor architectures Description This PR lays the groundwork for supporting more than just x86_64 processors as platforms for building\/deploying hy...","fallback":"GitHub: Multi-arch substrate by ghaskins \u00b7 Pull Request #1440 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1440","thumb_width":400,"thumb_height":400,"id":1}],"ts":"1462967947.000535"},{"user":"U12V3D2P2","inviter":"U0KPFAZNF","type":"message","subtype":"channel_join","text":"<@U12V3D2P2|bsmita> has joined the channel","ts":"1462967951.000537"},{"type":"message","user":"U0ZJZBJLF","text":"Hey, were there any recent (this week) commits that could have impacted performance (to be exact- throughput)?","edited":{"user":"U0ZJZBJLF","ts":"1462970359.000000"},"ts":"1462970337.000538"},{"type":"message","user":"U0XR6J961","text":"nothing real significant, i don't think","ts":"1462971187.000540"},{"type":"message","user":"U10Q62R8X","text":"FYI <@U14FUGATW>  <@U0ZLVCQPM>: Greg and I tried his patch last night on LinuxONE, `make unit-tests` pass, but behave tests have some failures, the ones I was showing <@U11HTMW0H> in Raleigh and mentioned on the call yesterday","ts":"1462973283.000541"},{"type":"message","user":"U0P2GSA8Z","text":"I notice that <@U10Q62R8X> wrote \"make unit-tests\", yet the Makefile target is make unit-test","ts":"1462982858.000542"},{"type":"message","user":"U10Q62R8X","text":"my mistake :simple_smile:","ts":"1462982880.000543"},{"type":"message","user":"U0P2GSA8Z","text":"it's not a big deal but I too was expecting it to be unit-tests rather than unit-test","ts":"1462982889.000544"},{"type":"message","user":"U0KPFAZNF","text":"actually that bothers me too, heh","ts":"1462982933.000545"},{"type":"message","user":"U0P2GSA8Z","text":"maybe we could add unit-tests","ts":"1462982951.000546"},{"type":"message","user":"U0KPFAZNF","text":"probably should make it plural","ts":"1462982954.000547"},{"type":"message","user":"U10Q62R8X","text":"heh.. didn't want to switch windows to look up the spelling and that what happens..","ts":"1462982956.000548"},{"type":"message","user":"U0P2GSA8Z","text":"keep unit-test for backward compatibility","ts":"1462982966.000549"},{"type":"message","user":"U0KPFAZNF","text":"yeah, though that compatibility is like 36h :wink:","ts":"1462982986.000550"},{"type":"message","user":"U0KPFAZNF","text":"i could be convinced either way","ts":"1462982991.000551"},{"type":"message","user":"U0P2GSA8Z","text":"I know :simple_smile:","ts":"1462983006.000552"},{"type":"message","user":"U0P2GSA8Z","text":"but it also means you can just change the Makefile without updating the docs :wink:","ts":"1462983222.000553"},{"type":"message","user":"U0KPFAZNF","text":"yeah, understood","ts":"1462983561.000554"},{"type":"message","user":"U0KPFAZNF","text":"another PR cycle ensues","ts":"1462983567.000555"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KPFAZNF>:  (based on a older conversation with <@U10Q62R8X> \u2026) trying to understand  arch substrate and how it will be used. So the substrate provides the image support to build upon arch specific env. Would each arch the provide its  core.&lt;arch&gt;.yaml file covering all things for that arch (defaulting to core.yaml if arch not found) ?  So the arch image + arch yaml file should make the dev env work as-is without changes ?","ts":"1462983693.000556"},{"type":"message","user":"U0ULK2JPP","text":"lots of assumptions there\u2026 won\u2019t be offended if everything is crossed out :simple_smile:","ts":"1462983718.000557"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP>: i havent seen anything that would require arch specifics at the yaml level","ts":"1462983762.000558"},{"type":"message","user":"U0KPFAZNF","text":"(that doesnt mean there arent going to be those types of issues, i am just saying I am not aware of any)","ts":"1462983784.000559"},{"type":"message","user":"U0KPFAZNF","text":"right now, the approach is more environmental: getting the prerequisites like go\/node\/docker in the same shape they are on x86","ts":"1462983821.000560"},{"type":"message","user":"U0KPFAZNF","text":"part of this was addressing the fact that our dockerhub images historically have been implicitly x86","ts":"1462983862.000561"},{"type":"message","user":"U0KPFAZNF","text":"so, that is broken out now, tagged by $arch","ts":"1462983875.000562"},{"type":"message","user":"U0KPFAZNF","text":"but it gets normalized on import so the golang\/yaml code doesnt need to know that, just like it doesnt need to know that the \u201cdocker\u201d binary is compiled different","ts":"1462983902.000563"},{"type":"message","user":"U0ULK2JPP","text":"I see","ts":"1462983948.000564"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F18215ECC\/-.sh|Untitled> and commented: For instance, this is what we see now...","file":{"id":"F18215ECC","created":1462983968,"timestamp":1462983968,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0KPFAZNF","editable":true,"size":205,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F18215ECC\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F18215ECC\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F18215ECC\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F18215ECC-aa96bce38a","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F18215ECC\/-.sh\/edit","preview":"==> default: Building docker base-image\r\n==> default: BUILD-CACHE: Pulling \"hyperledger\/fabric-baseimage:x86_64-0.0.9\" from dockerhub..\r\n==> default: x86_64-0.0.9: Pulling from hyperledger\/fabric-baseimage","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-operator\">=<\/span><span class=\"cm-operator\">=<\/span>&gt; default: Building docker base-image<\/pre><\/div>\n<div><pre><span class=\"cm-operator\">=<\/span><span class=\"cm-operator\">=<\/span>&gt; default: BUILD-CACHE: Pulling <span class=\"cm-string\">&quot;hyperledger\/fabric-baseimage:x86_64-0.0.9&quot;<\/span> from dockerhub..<\/pre><\/div>\n<div><pre><span class=\"cm-operator\">=<\/span><span class=\"cm-operator\">=<\/span>&gt; default: x86_64-0.0.9: Pulling from hyperledger\/fabric-baseimage<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":3,"lines_more":0,"preview_is_truncated":null,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc182N4V5G","created":1462983968,"timestamp":1462983968,"user":"U0KPFAZNF","is_intro":true,"comment":"For instance, this is what we see now...","channel":"C0YPYBVJM"}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1462983968.000565"},{"type":"message","user":"U0ULK2JPP","text":"so docker takes care of finding the right arch image","ts":"1462983997.000566"},{"type":"message","user":"U0KPFAZNF","text":"it treats dockerhub as a cache\u2026and looks for an $arch specific artifact","ts":"1462983999.000567"},{"type":"message","user":"U0ULK2JPP","text":"got it","ts":"1462984005.000568"},{"type":"message","user":"U0ULK2JPP","text":"that helps","ts":"1462984010.000569"},{"type":"message","user":"U0ULK2JPP","text":"thank you :simple_smile:","ts":"1462984015.000570"},{"type":"message","user":"U0KPFAZNF","text":"if its not found in the cache, it builds it locally","ts":"1462984016.000571"},{"type":"message","user":"U0KPFAZNF","text":"(though this should really be a stop-gap situation, building locally is painful, ala the old OBC way","ts":"1462984045.000572"},{"type":"message","user":"U0KPFAZNF","text":"once its imported, its stored as \u201chyperledger\/fabric-baseimage:latest\u201d regardless of $arch, so then the YAML files can remain unaware","edited":{"user":"U0KPFAZNF","ts":"1462984140.000000"},"ts":"1462984128.000573"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1462984163.000575"},{"type":"message","user":"U0ULK2JPP","text":"that covers my question. thanks!","ts":"1462984234.000576"},{"type":"message","user":"U0KPFAZNF","text":"cool","ts":"1462984240.000577"},{"user":"U17CZFXGU","type":"message","subtype":"channel_join","text":"<@U17CZFXGU|plucena> has joined the channel","ts":"1462989736.000580"},{"type":"message","user":"U0TFEHX8E","text":"dumb question, would like a second opinion. In chaincode.proto, we have `ChaincodeSpec` which has a `ChaincodeInput` type named `ctorMsg`. I\u2019m in the process of renaming `ctorMsg`. Do people prefer `input` or `chaincodeInput`?","ts":"1462990975.000581"},{"type":"message","user":"U0ULK2JPP","text":"+1 for input (avoid stutter)","ts":"1462991053.000582"},{"type":"message","user":"U0KPFAZNF","text":"I agree with murali","ts":"1462991091.000583"},{"type":"message","user":"U0TFEHX8E","text":"thanks, that\u2019s what I was thinking and wanted to make sure others agreed","ts":"1462991116.000584"},{"type":"message","user":"U0P2GSA8Z","text":"+1 for input","ts":"1462991756.000585"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0ULK2JPP>: what platform are you working on?","ts":"1463000123.000586"},{"type":"message","user":"U0ULK2JPP","text":"my ubuntu is gathering dust now that I\u2019m on Mac full time :simple_smile:","ts":"1463000164.000587"},{"type":"message","user":"U0P2GSA8Z","text":"I'm looking into the file modes issue and noticed that there is a new go file you just added and it has the wrong permissions","ts":"1463000168.000588"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1463000177.000589"},{"type":"message","user":"U0P2GSA8Z","text":"fabric\/examples\/chaincode\/go\/passthru\/passthru.go","ts":"1463000185.000590"},{"type":"message","user":"U0ULK2JPP","text":"let me check what I have","ts":"1463000193.000591"},{"type":"message","user":"U0P2GSA8Z","text":"it's got +x","ts":"1463000195.000592"},{"type":"message","user":"U0P2GSA8Z","text":"you should check what permissions you get when you create a new file","ts":"1463000214.000593"},{"type":"message","user":"U0ULK2JPP","text":"all my examples have got +x","ts":"1463000271.000594"},{"type":"message","user":"U0P2GSA8Z","text":"I'm putting a PR together to fix all the permissions but we also need to make sure we don't keep creating files with the +x when they shouldn't","ts":"1463000290.000595"},{"type":"message","user":"U0P2GSA8Z","text":"don't worry about the existing files, they will get fixed","ts":"1463000335.000596"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F185ARC87\/pasted_image_at_2016_05_11_04_58_pm.png|Pasted image at 2016-05-11, 4:58 PM>","file":{"id":"F185ARC87","created":1463000333,"timestamp":1463000333,"name":"Pasted image at 2016_05_11 04_58 PM.png","title":"Pasted image at 2016-05-11, 4:58 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":56149,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F185ARC87\/pasted_image_at_2016_05_11_04_58_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F185ARC87\/download\/pasted_image_at_2016_05_11_04_58_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F185ARC87-3c0674e5d1\/pasted_image_at_2016_05_11_04_58_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F185ARC87-3c0674e5d1\/pasted_image_at_2016_05_11_04_58_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F185ARC87-3c0674e5d1\/pasted_image_at_2016_05_11_04_58_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":45,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F185ARC87-3c0674e5d1\/pasted_image_at_2016_05_11_04_58_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":60,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F185ARC87-3c0674e5d1\/pasted_image_at_2016_05_11_04_58_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F185ARC87-3c0674e5d1\/pasted_image_at_2016_05_11_04_58_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":90,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F185ARC87-3c0674e5d1\/pasted_image_at_2016_05_11_04_58_pm_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":121,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F185ARC87-3c0674e5d1\/pasted_image_at_2016_05_11_04_58_pm_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":129,"image_exif_rotation":1,"original_w":1322,"original_h":166,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F185ARC87\/pasted_image_at_2016_05_11_04_58_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F185ARC87-d5789da574","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1463000335.000597"},{"type":"message","user":"U0ULK2JPP","text":"do you have them without x in your vagrant env ?","ts":"1463000355.000598"},{"type":"message","user":"U0P2GSA8Z","text":"just look into what you do to create new files and what permissions you get","ts":"1463000360.000599"},{"type":"message","user":"U0P2GSA8Z","text":"oh... in vagrant on my side it's a complete mess :simple_smile:","ts":"1463000377.000600"},{"type":"message","user":"U0ULK2JPP","text":":simple_smile:","ts":"1463000385.000601"},{"type":"message","user":"U0P2GSA8Z","text":"I can't rely on that at all","ts":"1463000389.000602"},{"type":"message","user":"U0ULK2JPP","text":"let me check on the platform","ts":"1463000392.000603"},{"type":"message","user":"U0P2GSA8Z","text":"I do all my git operations outside of vagrant","ts":"1463000405.000604"},{"type":"message","user":"U0ULK2JPP","text":"so do I","ts":"1463000418.000605"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F185BQ5T7\/pasted_image_at_2016_05_11_05_00_pm.png|Pasted image at 2016-05-11, 5:00 PM>","file":{"id":"F185BQ5T7","created":1463000423,"timestamp":1463000423,"name":"Pasted image at 2016_05_11 05_00 PM.png","title":"Pasted image at 2016-05-11, 5:00 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":34299,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F185BQ5T7\/pasted_image_at_2016_05_11_05_00_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F185BQ5T7\/download\/pasted_image_at_2016_05_11_05_00_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F185BQ5T7-9a6c352bfb\/pasted_image_at_2016_05_11_05_00_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F185BQ5T7-9a6c352bfb\/pasted_image_at_2016_05_11_05_00_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F185BQ5T7-9a6c352bfb\/pasted_image_at_2016_05_11_05_00_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":37,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F185BQ5T7-9a6c352bfb\/pasted_image_at_2016_05_11_05_00_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":50,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F185BQ5T7-9a6c352bfb\/pasted_image_at_2016_05_11_05_00_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F185BQ5T7-9a6c352bfb\/pasted_image_at_2016_05_11_05_00_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":75,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F185BQ5T7-9a6c352bfb\/pasted_image_at_2016_05_11_05_00_pm_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":100,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F185BQ5T7-9a6c352bfb\/pasted_image_at_2016_05_11_05_00_pm_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":106,"image_exif_rotation":1,"original_w":1060,"original_h":110,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F185BQ5T7\/pasted_image_at_2016_05_11_05_00_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F185BQ5T7-738e8a8a46","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1463000429.000606"},{"type":"message","user":"U0P2GSA8Z","text":"in vagrant all the files are -rwxrwxrwx 1 vagrant vagrant filename!","ts":"1463000439.000607"},{"type":"message","user":"U0ULK2JPP","text":"that\u2019s example 02 on mac","ts":"1463000441.000608"},{"type":"message","user":"U0P2GSA8Z","text":"ok, but try to create a new one, just to test","ts":"1463000475.000609"},{"type":"message","user":"U0ULK2JPP","text":"sure","ts":"1463000478.000610"},{"type":"message","user":"U0P2GSA8Z","text":"and see what you get","ts":"1463000485.000611"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F1851HARJ\/pasted_image_at_2016_05_11_05_01_pm.png|Pasted image at 2016-05-11, 5:01 PM>","file":{"id":"F1851HARJ","created":1463000509,"timestamp":1463000509,"name":"Pasted image at 2016_05_11 05_01 PM.png","title":"Pasted image at 2016-05-11, 5:01 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":22412,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1851HARJ\/pasted_image_at_2016_05_11_05_01_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1851HARJ\/download\/pasted_image_at_2016_05_11_05_01_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1851HARJ-469e045c28\/pasted_image_at_2016_05_11_05_01_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1851HARJ-469e045c28\/pasted_image_at_2016_05_11_05_01_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1851HARJ-469e045c28\/pasted_image_at_2016_05_11_05_01_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":43,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1851HARJ-469e045c28\/pasted_image_at_2016_05_11_05_01_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":57,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1851HARJ-469e045c28\/pasted_image_at_2016_05_11_05_01_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1851HARJ-469e045c28\/pasted_image_at_2016_05_11_05_01_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":86,"image_exif_rotation":1,"original_w":788,"original_h":94,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F1851HARJ\/pasted_image_at_2016_05_11_05_01_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1851HARJ-9011ec9267","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1463000510.000612"},{"type":"message","user":"U0P2GSA8Z","text":"ok, so that's good","ts":"1463000518.000613"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019ll make sure there\u2019s no x next time I create a file","ts":"1463000530.000614"},{"type":"message","user":"U0P2GSA8Z","text":"and try to edit and save?","ts":"1463000533.000615"},{"type":"message","user":"U0P2GSA8Z","text":"my emacs was changing the permission on save and adding +x for some reason","ts":"1463000553.000616"},{"type":"message","user":"U0ULK2JPP","text":"no x","ts":"1463000557.000617"},{"type":"message","user":"U0ULK2JPP","text":"I used vi","ts":"1463000561.000618"},{"type":"message","user":"U0P2GSA8Z","text":"ok so you should be good","ts":"1463000566.000619"},{"type":"message","user":"U0P2GSA8Z","text":"you're a warrior my friend!","ts":"1463000575.000620"},{"type":"message","user":"U0ULK2JPP","text":"wonder wjy passthru.go came out as x","ts":"1463000577.000621"},{"type":"message","user":"U0P2GSA8Z","text":"vi!... :wink:","ts":"1463000589.000622"},{"type":"message","user":"U0P2GSA8Z","text":"well, you should be ok but beware moving forward","ts":"1463000642.000623"},{"type":"message","user":"U0P2GSA8Z","text":"I hadn't realized until various people noticed the unwanted chmod in my PRs","ts":"1463000679.000624"},{"type":"message","user":"U0P2GSA8Z","text":"I finally found the source of the problem and had to reinstall a different emacs to fix it","ts":"1463000708.000625"},{"type":"message","user":"U0P2GSA8Z","text":"given how many files have +x throughout the project there are other people with that kind of problems somehow","ts":"1463000739.000626"},{"type":"message","user":"U0ULK2JPP","text":"right\u2026 I\u2019ll look for perms going forwards. just assumed they were ok","ts":"1463000888.000627"},{"type":"message","user":"U0P2GSA8Z","text":"I just submitted a PR, I found 469 files with +x for no good reason","ts":"1463001034.000628"},{"type":"message","user":"U0P2GSA8Z","text":"out of 1328 files total that's a good chunk...","ts":"1463001058.000629"},{"type":"message","user":"U0P2GSA8Z","text":"actually it's out of 1014","ts":"1463001106.000630"},{"type":"message","user":"U0P2GSA8Z","text":"so about half of the files","ts":"1463001115.000631"},{"type":"message","user":"U0KPFAZNF","text":"<@U0P2GSA8Z>: it makes me wonder if we could hook \u201cmake linter\u201d to do something like \u201cgit ls-files\u201d and throw a WARNING\/ERROR if any are found with +x set","ts":"1463003977.000632"},{"type":"message","user":"U0KPFAZNF","text":"might need some refinement (for instance, if some files are supposed to be +x","ts":"1463003998.000633"},{"type":"message","user":"U0KPFAZNF","text":"actually, that is almost certainly true","ts":"1463004005.000634"},{"type":"message","user":"U0KPFAZNF","text":"perhaps \u201cfind . -name \u201c*.yaml\u201d -and -name \u201c*.go\u201d etc","ts":"1463004038.000635"},{"type":"message","user":"U0P2GSA8Z","text":"indeed for specific file types we could do something like that","ts":"1463006048.000636"},{"type":"message","user":"U0P2GSA8Z","text":"you can use -executable to quickly spot the files with +x","ts":"1463006085.000637"},{"type":"message","user":"U0KM61BCP","text":"I was playing around with that","ts":"1463050176.000638","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"user":"U1296EA0M","type":"message","subtype":"channel_join","text":"<@U1296EA0M|maro> has joined the channel","ts":"1463069714.000639"},{"type":"message","user":"U0N1D1UAE","text":"<!channel> Am I the only one for whom the Go unit tests do not work for the latest Master version?\n\n commit 8b6eb2ff1f253d3a3546d99d1ff9f6a79442192c\nMerge: 509b2d6 4e19fa4\nAuthor: Sheehan Anderson &lt;sranderson@gmail.com&gt;\nDate:   Thu May 12 15:13:12 2016 -0400\n\n    Merge pull request #1463 from novusopt\/issue-1462\n    \n    Use new peer command in the docker-compose files","ts":"1463095636.000640"},{"type":"message","user":"U0N1D1UAE","text":"14162:--- FAIL: TestBatchCustody (6.01s)\n49771:<http:\/\/FAILgithub.com\/hyperledger\/fabric\/consensus\/obcpbft|FAILgithub.com\/hyperledger\/fabric\/consensus\/obcpbft>\t60.635s","edited":{"user":"U0N1D1UAE","ts":"1463095712.000000"},"ts":"1463095654.000641"},{"type":"message","user":"U0N1D1UAE","text":"I see the same error on X86 and POWER","ts":"1463095767.000644"},{"type":"message","user":"U0XPR4NP4","text":"This is a broken test, working to find a solution, but we should probably comment it out for now. It is a byzantine code path, so, probably safe enough not to revert that whole pr","ts":"1463101858.000645"},{"user":"U15B57S4R","type":"message","subtype":"channel_join","text":"<@U15B57S4R|isidoro.ghezzi> has joined the channel","ts":"1463137491.000646"},{"user":"U10RH4A2G","type":"message","subtype":"channel_join","text":"<@U10RH4A2G|paulx> has joined the channel","ts":"1463139591.000647"},{"user":"U0MSG4RL7","type":"message","subtype":"channel_join","text":"<@U0MSG4RL7|dmurik> has joined the channel","ts":"1463151015.000648"},{"user":"U11RW82PM","type":"message","subtype":"channel_join","text":"<@U11RW82PM|david.acton> has joined the channel","ts":"1463155788.000649"},{"user":"U12J2D15H","type":"message","subtype":"channel_join","text":"<@U12J2D15H|mgutala> has joined the channel","ts":"1463168038.000650"},{"type":"message","user":"U12J2D15H","text":"I am trying to test peer in chaincode dev mode with security enabled. I followed instructions and get this error when I am trying to deploy chain code \"Registration to the Membership Service required.\"","ts":"1463168112.000651"},{"type":"message","user":"U12J2D15H","text":".\/peer chaincode deploy --username=jim -n mycc -c '{\"Function\":\"init\", \"Args\": [\"a\",\"100\", \"b\", \"200\"]}'","ts":"1463168156.000652"},{"type":"message","user":"U12J2D15H","text":"Error: Error building chaincode: rpc error: code = 2 desc = \"Registration to the Membership Service required.\"","ts":"1463168172.000653"},{"type":"message","user":"U0TFEHX8E","text":"<@U0ZR63HLK>: or <@U0XQX3U9G> should be able to help.","ts":"1463169665.000654"},{"user":"U0XQX3U9G","inviter":"U0TFEHX8E","type":"message","subtype":"channel_join","text":"<@U0XQX3U9G|diego_m> has joined the channel","ts":"1463169670.000655"},{"user":"U0ZR63HLK","inviter":"U0TFEHX8E","type":"message","subtype":"channel_join","text":"<@U0ZR63HLK|adc> has joined the channel","ts":"1463169671.000656"},{"type":"message","user":"U0TFEHX8E","text":"which doc are you following?","ts":"1463169710.000657"},{"type":"message","user":"U12J2D15H","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/API\/SandboxSetup.md#note-on-security-functionality>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/API\/SandboxSetup.md#note-on-security-functionality","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/API\/SandboxSetup.md#note-on-security-functionality","thumb_width":142,"thumb_height":142,"id":1}],"ts":"1463172179.000658"},{"type":"message","user":"U0ULK2JPP","text":"<@U12J2D15H>: can you try   CORE_SECURITY_ENABLED=true .\/peer chaincode deploy --username=jim -n mycc -c '{\"Function\":\"init\", \"Args\": [\"a\",\"100\", \"b\", \"200\"]}'","ts":"1463174747.000660"},{"type":"message","user":"U0ULK2JPP","text":"basically add \"CORE_SECURITY_ENABLED=true\"","ts":"1463174751.000661","reactions":[{"name":"+1","users":["U11TAFPUP"],"count":1}]},{"user":"U18U45W48","type":"message","subtype":"channel_join","text":"<@U18U45W48|davidjhowie> has joined the channel","ts":"1463214266.000662"},{"user":"U1802P5D3","type":"message","subtype":"channel_join","text":"<@U1802P5D3|jianzhang98> has joined the channel","ts":"1463262820.000663"},{"user":"U196R0LA2","type":"message","subtype":"channel_join","text":"<@U196R0LA2|mikezaccardo> has joined the channel","ts":"1463417518.000664"},{"user":"U19CHF6LE","type":"message","subtype":"channel_join","text":"<@U19CHF6LE|popldo> has joined the channel","ts":"1463453354.000665"},{"type":"message","user":"U0TFEHX8E","text":"<@U0ULK2JPP>: <@U0ULP7ARX> was trying to connect to event services and it did not seem to be working. I noticed events port (31315) is missing from the vagrant file. <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/Vagrantfile#L37>\nShould I add it or is there a reason it is missing?","edited":{"user":"U0TFEHX8E","ts":"1463493586.000000"},"ts":"1463493579.000666"},{"user":"U0ULP7ARX","inviter":"U0TFEHX8E","type":"message","subtype":"channel_join","text":"<@U0ULP7ARX|robert> has joined the channel","ts":"1463493593.000669"},{"type":"message","user":"U0ULK2JPP","text":"<@U0TFEHX8E>: port mapping between vagrant and workstation you  mean ? we could add it.","ts":"1463495114.000670"},{"type":"message","user":"U0ULP7ARX","text":"Thanks, <@U0ULK2JPP>","ts":"1463495203.000671"},{"type":"message","user":"U0ULK2JPP","text":"<@U0ULP7ARX>: anything for you :simple_smile: \u2026 do let me know if you need anything","ts":"1463495236.000672"},{"type":"message","user":"U12J2D15H","text":"I get this error when I run app.go from asset_management chaincode example. I built app, copied core.yaml to <http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/asset_management\/app|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/asset_management\/app>. and ran app","ts":"1463497881.000673"},{"type":"message","user":"U12J2D15H","text":"2016\/05\/17 14:47:10 Wait 30 seconds\n2016\/05\/17 14:47:40 ------------- Done!\n2016\/05\/17 14:47:40 ------------- Bob wants to assign the asset 'Picasso' to Charlie...\n2016\/05\/17 14:47:40 Resp [status:SUCCESS msg:\"d034c26c-cd20-4422-a87d-0e2f017c192c\" ]\n2016\/05\/17 14:47:40 Wait 30 seconds\n2016\/05\/17 14:48:10 Query....\n2016\/05\/17 14:48:40 Resp [status:FAILURE msg:\"Error:Failed to execute transaction or query(Timeout expired while executing transaction)\" ]\n2016\/05\/17 14:48:40 Query....done\n2016\/05\/17 14:48:40 [client.lukas] Failed decrypting query result [cipher: message authentication failed].\n2016\/05\/17 14:48:40 Failed decrypting result [Decryption failed.]\n2016\/05\/17 14:48:40 Failed assigning ownership [Decryption failed.]\n2016\/05\/17 14:48:40 Failed testing asset management chaincode [Decryption failed.]","ts":"1463497903.000674"},{"type":"message","user":"U12J2D15H","text":"I also see this error in vp logs","ts":"1463500785.000675"},{"type":"message","user":"U12J2D15H","text":"^[[31m14:48:10.704 [chaincode] processStream -&gt; ERRO ba69^[[0m Error handling chaincode support stream: connection error: desc = \"transport is closing\"","ts":"1463500788.000676"},{"type":"message","user":"U0ULP7ARX","text":"<@U0ULK2JPP>: FYI: <https:\/\/github.com\/hyperledger\/fabric\/pull\/1494>","attachments":[{"service_name":"GitHub","title":"forwarding port 31315 in vagrant by rfajta \u00b7 Pull Request #1494 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1494","text":"Enabling forwarding port 31315 in vagrant Description Added a port to be forwarded in vagrant. Motivation and Context Need to be able to register listeners for the utxo chaincode. How Has This...","fallback":"GitHub: forwarding port 31315 in vagrant by rfajta \u00b7 Pull Request #1494 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/4962637?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1494","thumb_width":400,"thumb_height":400,"id":1}],"ts":"1463502070.000677"},{"type":"message","user":"U0ULK2JPP","text":"that\u2019ll work <@U0ULP7ARX>. Thanks!","ts":"1463503074.000679"},{"type":"message","user":"U0KPFAZNF","text":"<@U0P2GSA8Z>: thanks for the auto-yaml-path fix, that is quite nice","ts":"1463513387.000680"},{"type":"message","user":"U0KPFAZNF","text":"<@U0TFEHX8E>: i wonder if we should switch to using go-install so that the binaries end up in $GOPATH\/bin and we no longer need the \u201ccd .\/peer\u201d type instructions","ts":"1463513430.000681"},{"type":"message","user":"U0KPFAZNF","text":"it seems with <@U0P2GSA8Z>\u2019s patches, we no longer need to be concerned about the location of the binary, $GOPATH\/bin is already in the $PATH, so why not","ts":"1463513472.000682"},{"type":"message","user":"U0KPFAZNF","text":"thoughts?","ts":"1463513481.000683","reactions":[{"name":"+1","users":["U10Q62R8X"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"(actually there are other reasons to want to use go-install too, it might be faster to build than go-build (TBD)","ts":"1463513501.000684"},{"type":"message","user":"U0TFEHX8E","text":"I guess it would be a different folder in the host and Vagrant","ts":"1463513502.000685"},{"type":"message","user":"U0TFEHX8E","text":"not sure that matters though","ts":"1463513510.000686"},{"type":"message","user":"U0KPFAZNF","text":"i dont think it does since it gets normalized by $GOPATH\/bin","ts":"1463513522.000687"},{"type":"message","user":"U0TFEHX8E","text":"why is go-install potentially faster?","ts":"1463513590.000688"},{"type":"message","user":"U0KPFAZNF","text":"i have yet to personally confirm this, but ive seen anecdotal rumblings on the net that go-install takes advantage of object-caching whereas go-build does not","ts":"1463513625.000689"},{"type":"message","user":"U0KPFAZNF","text":"e.g. its smarter about understanding what actually needs to be rebuilt","ts":"1463513643.000690"},{"type":"message","user":"U0KPFAZNF","text":"id have to experiment to see if that is really true though","ts":"1463513652.000691"},{"type":"message","user":"U0KPFAZNF","text":"(side-note: if that is true and we do migrate to it, we\u2019d need to make sure \u201cmake clean\u201d calls \u201cgo clean\u201d so that the object cache is properly addressed","ts":"1463513699.000692"},{"type":"message","user":"U0KPFAZNF","text":"which we should probably do anyway","ts":"1463513711.000693"},{"type":"message","user":"U0KPFAZNF","text":"ill file an issue so it doesnt get lost","edited":{"user":"U0KPFAZNF","ts":"1463513727.000000"},"ts":"1463513717.000694","reactions":[{"name":"+1","users":["U0TFEHX8E"],"count":1}]},{"type":"message","user":"U0TFEHX8E","text":"hopefully Go 1.7 will help with compile times also","ts":"1463513794.000696","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0TFEHX8E","text":"<https:\/\/twitter.com\/davecheney\/status\/730190110168244224>","attachments":[{"fallback":"<https:\/\/twitter.com\/davecheney|@davecheney>: How's the #golang 1.7 compile time shaping up? Take a look for yourself. <https:\/\/pbs.twimg.com\/media\/CiIn9pJUoAEZ6Lz.jpg>","ts":1462925863,"author_name":"D\u03b1ve Cheney","author_link":"https:\/\/twitter.com\/davecheney\/status\/730190110168244224","author_icon":"https:\/\/pbs.twimg.com\/profile_images\/511351216987590656\/tjor_Tk0_normal.png","author_subname":"@davecheney","text":"How's the #golang 1.7 compile time shaping up? Take a look for yourself. <https:\/\/pbs.twimg.com\/media\/CiIn9pJUoAEZ6Lz.jpg>","service_name":"twitter","service_url":"https:\/\/twitter.com\/","image_url":"https:\/\/pbs.twimg.com\/media\/CiIn9pJUoAEZ6Lz.jpg","image_width":588,"image_height":357,"image_bytes":22054,"from_url":"https:\/\/twitter.com\/davecheney\/status\/730190110168244224","id":1,"footer":"Twitter","footer_icon":"https:\/\/a.slack-edge.com\/6e067\/img\/services\/twitter_pixel_snapped_32.png"}],"ts":"1463513796.000697"},{"type":"message","user":"U0KPFAZNF","text":"<@U0TFEHX8E>: not sure how true this is, but this is the gist of what I have seen: <https:\/\/www.quora.com\/What-is-the-difference-between-build-and-install-in-Go>","ts":"1463514064.000699"},{"type":"message","user":"U0TFEHX8E","text":"whoa, that\u2019s a big diff if true","ts":"1463514100.000700"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0KPFAZNF> the reliance on running programs from a specific directory drives me nuts because I typically don't :slightly_smiling_face:","ts":"1463514835.000701"},{"type":"message","user":"U0P2GSA8Z","text":"so I would be happy with using go install,","ts":"1463514853.000702"},{"type":"message","user":"U0KPFAZNF","text":"cool","ts":"1463514860.000703"},{"type":"message","user":"U0KPFAZNF","text":"ill prototype it out and see how it works","ts":"1463514870.000704"},{"type":"message","user":"U0P2GSA8Z","text":"cool","ts":"1463514887.000705"},{"type":"message","user":"U0P2GSA8Z","text":"who's familiar with the chaincode handling code? I'm looking into the use of GOPATH and I'm rather puzzled by the code I see","ts":"1463518320.000706"},{"type":"message","user":"U0P2GSA8Z","text":"specifically I'm looking into why chaincode deployment fails when GOPATH has more than one element","ts":"1463518350.000707"},{"type":"message","user":"U0ULK2JPP","text":"<@U0P2GSA8Z>: how is it failing ?","ts":"1463518486.000708"},{"type":"message","user":"U0P2GSA8Z","text":"I see this stuff: <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/chaincode\/platforms\/golang\/hash.go#L177>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/chaincode\/platforms\/golang\/hash.go#L177","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/chaincode\/platforms\/golang\/hash.go#L177","thumb_width":142,"thumb_height":142,"id":1}],"ts":"1463518489.000709"},{"type":"message","user":"U0P2GSA8Z","text":"it seems to be a rather convoluted way of doing a simple os.Getenv(\"GOPATH\")","ts":"1463518535.000711"},{"type":"message","user":"U0P2GSA8Z","text":"do you know any reason this is done that way?","ts":"1463518549.000712"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0ULK2JPP>: if you simply set say GOPATH=\"\/opt\/gopath:\/opt\/go\" for instance, the chaincode will fail to load","ts":"1463518616.000713"},{"type":"message","user":"U0P2GSA8Z","text":"$ go test -v -run=TestExecuteDeployTransaction\n2016\/05\/17 20:40:39 setting Number of procs to -1, was 2\n=== RUN   TestExecuteDeployTransaction\n2016\/05\/17 20:40:39 Chaincode support using peerAddress: 0.0.0.0:40303\ngetting deployment spec for chaincode spec: type:GOLANG chaincodeID:&lt;path:\"github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example01\" &gt; ctorMsg:&lt;function:\"init\" args:\"a\" args:\"100\" args:\"b\" args:\"200\" &gt;\n--- FAIL: TestExecuteDeployTransaction (2.00s)\n        exectransaction_test.go:192: Error deploying &lt;&gt;: code does not exist Download failer open \/opt\/gopath:\/opt\/go\/src\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example01: no such file or directory\nFAIL","ts":"1463518651.000714"},{"type":"message","user":"U0P2GSA8Z","text":"that's because it simply appends the chaincode url to the gopath","ts":"1463518680.000715"},{"type":"message","user":"U0P2GSA8Z","text":"without paying attention to the fact that gopath may have more than one dir","ts":"1463518695.000716"},{"type":"message","user":"U0P2GSA8Z","text":"at the very least we ought to take the first element only or, better, try them all until one works","ts":"1463518729.000717"},{"type":"message","user":"U0P2GSA8Z","text":"I'm working on that fix but I don't understand why we're walking through the whole os.Environ() map to find GOPATH","ts":"1463518775.000718"},{"type":"message","user":"U0ULK2JPP","text":"let me check","ts":"1463518791.000719"},{"type":"message","user":"U0ULK2JPP","text":"that would certainly work. I probably just did not look for os.Getenv","ts":"1463518826.000720"},{"type":"message","user":"U0P2GSA8Z","text":"ok","ts":"1463518841.000721"},{"type":"message","user":"U0P2GSA8Z","text":"just wanted to make sure I wasn't missing something","ts":"1463518851.000722"},{"type":"message","user":"U0ULK2JPP","text":"good catch, thanks! :simple_smile:","ts":"1463518884.000723"},{"type":"message","user":"U0P2GSA8Z","text":"it's too easy to think you are smarter than your colleagues and miss something :wink:","ts":"1463518891.000724"},{"type":"message","user":"U0ULK2JPP","text":"well, at least not in this case :simple_smile:","ts":"1463518913.000725"},{"type":"message","user":"U0ULK2JPP","text":"right","ts":"1463518954.000726"},{"type":"message","user":"U0ULK2JPP","text":"let me think thru this a bit\u2026.","ts":"1463518975.000727"},{"type":"message","user":"U0P2GSA8Z","text":"sure","ts":"1463518984.000728"},{"type":"message","user":"U0ULK2JPP","text":"the code assumes the first element in the GOPATH contains the code. Do you plan to walk all the elements and find the first that matches and return that ?","ts":"1463519317.000729"},{"type":"message","user":"U0ULK2JPP","text":"or were you planning to keep that assumption but make sure the code picks up the first element (instead of the entire string)","ts":"1463519439.000730"},{"type":"message","user":"U0P2GSA8Z","text":"I'm not sure","ts":"1463520418.000731"},{"type":"message","user":"U0P2GSA8Z","text":"I was going to explore a bit and see what it would take","ts":"1463520430.000732"},{"type":"message","user":"U0P2GSA8Z","text":"I think walking the list would be the best","ts":"1463520462.000733"},{"type":"message","user":"U0P2GSA8Z","text":"given that it's how GOPATH is supposed to be used","ts":"1463520485.000734"},{"type":"message","user":"U0P2GSA8Z","text":"right now from what I can tell it doesn't even just take the first element","ts":"1463520506.000735"},{"type":"message","user":"U0P2GSA8Z","text":"it takes the whole thing as is, which is why it fails","edited":{"user":"U0P2GSA8Z","ts":"1463520538.000000"},"ts":"1463520521.000736"},{"type":"message","user":"U0ULK2JPP","text":"right","ts":"1463520759.000738"},{"type":"message","user":"U0ULK2JPP","text":"and for the example above, it\u2019ll work if you use the first element","ts":"1463520774.000739"},{"type":"message","user":"U0P2GSA8Z","text":"yes","ts":"1463520785.000740"},{"type":"message","user":"U0P2GSA8Z","text":"that's the most basic fix I would do if nothing else","ts":"1463520798.000741"},{"type":"message","user":"U0P2GSA8Z","text":"we could then say \"make sure your chaincode is found first in your GOPATH\"","ts":"1463520815.000742"},{"type":"message","user":"U0P2GSA8Z","text":"which is okay","ts":"1463520819.000743"},{"type":"message","user":"U0P2GSA8Z","text":"I'll dig a bit and see what I can get","ts":"1463520863.000744"},{"type":"message","user":"U0P2GSA8Z","text":"I'll let you know","ts":"1463520869.000745"},{"type":"message","user":"U0P2GSA8Z","text":"thanks","ts":"1463520870.000746"},{"type":"message","user":"U0ULK2JPP","text":"right","ts":"1463520964.000747"},{"type":"message","user":"U0ULK2JPP","text":"and in other envs such as SDK, docker, etc. that\u2019s a non-issue (in general) so its not a far-fetch","ts":"1463520999.000748"},{"type":"message","user":"U0P2GSA8Z","text":"ah ok, good to know","ts":"1463521018.000749"},{"user":"U19MP2N67","type":"message","subtype":"channel_join","text":"<@U19MP2N67|rupendradhillon> has joined the channel","ts":"1463547219.000750"},{"type":"message","user":"U0XR6J961","text":"<http:\/\/stackoverflow.com\/questions\/37259222\/how-could-i-get-unique-ids-in-hyperledger>","attachments":[{"title":"How could I get unique IDs in Hyperledger","title_link":"http:\/\/stackoverflow.com\/questions\/37259222\/how-could-i-get-unique-ids-in-hyperledger","text":"Given that Hyperledger's chaincode needs to be deterministic because it's being executed on all validating peers (Are blocks mined in HyperLedger?), how would one get a unique ID so I can 'InsertRow'","fallback":"How could I get unique IDs in Hyperledger","thumb_url":"http:\/\/cdn.sstatic.net\/Sites\/stackoverflow\/img\/apple-touch-icon@2.png?v=73d79a89bded&a","from_url":"http:\/\/stackoverflow.com\/questions\/37259222\/how-could-i-get-unique-ids-in-hyperledger","thumb_width":316,"thumb_height":316,"id":1}],"ts":"1463569249.000751"},{"type":"message","user":"U0XR6J961","text":"this is an interesting question","ts":"1463569255.000753"},{"type":"message","user":"U0XR6J961","text":"should we provide a deterministic randomness to the chaincode?","ts":"1463569289.000754"},{"type":"message","user":"U0Z3BE0F5","text":"<@U0XR6J961>: could it be for example just the hash of the chaincode?","ts":"1463578609.000755"},{"type":"message","user":"U0Z3BE0F5","text":"how is it currently determined?","ts":"1463578617.000756"},{"type":"message","user":"U0XR6J961","text":"what is?","ts":"1463578931.000757"},{"type":"message","user":"U0Z3BE0F5","text":"the deploy transaction id","edited":{"user":"U0Z3BE0F5","ts":"1463579127.000000"},"ts":"1463579038.000758"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: I suppose if necessary we could have some facility where the deployment seeds a PRNG deterministically, but i am thinking for this use case its not really necessary","ts":"1463583545.000760"},{"type":"message","user":"U0KPFAZNF","text":"a monotonically increasing sequence number facility would do the trick","ts":"1463583572.000761"},{"type":"message","user":"U0KPFAZNF","text":"this could be implemented directly in the putstate","ts":"1463583594.000762"},{"type":"message","user":"U0Z3BE0F5","text":"<@U0KPFAZNF>: do you know how it is currently determined?","ts":"1463586928.000763"},{"type":"message","user":"U0Z3BE0F5","text":"is it the VP where it is sent who chooses it?","ts":"1463586957.000764"},{"type":"message","user":"U0KPFAZNF","text":"the hash?","ts":"1463587012.000765"},{"type":"message","user":"U0KPFAZNF","text":"as a general statement, pretty much everything we do within the fabric needs to be deterministic, and the hash computation is no different","ts":"1463587054.000766"},{"type":"message","user":"U0KPFAZNF","text":"each VP should compute the hash on their own","ts":"1463587080.000767"},{"type":"message","user":"U0MSG4RL7","text":"<@U0XR6J961>: <@U0KPFAZNF>: The Go chaincode has access to  stub.GetTxTimestamp() which is deterministic. Is a SHA(txTimestamp) good enough?\n(usage example in chaincode_example01.go)","edited":{"user":"U0MSG4RL7","ts":"1463587103.000000"},"ts":"1463587080.000768"},{"type":"message","user":"U0KPFAZNF","text":"<@U0MSG4RL7>: i would think so, though I still think its overkill w.r.t. the OP question","ts":"1463587120.000770"},{"type":"message","user":"U0KPFAZNF","text":"but yes","ts":"1463587123.000771"},{"type":"message","user":"U0KPFAZNF","text":"you would want to be careful about clock granularity though","ts":"1463587154.000772"},{"type":"message","user":"U0MSG4RL7","text":"<@U0KPFAZNF>: You're right - two transactions in same millisecond (or so) will create identical hash values. Your answer on StackOverflow makes sense to me (just keep a counter in the world state).","ts":"1463587232.000773"},{"type":"message","user":"U0XR6J961","text":"don't keep a counter","ts":"1463587486.000774"},{"type":"message","user":"U0XR6J961","text":"that is a congestion point - all transactions need to serialize around the counter","ts":"1463587522.000775"},{"type":"message","user":"U0Z3BE0F5","text":"what I mean is that currently if you do a deploy transaction, an UID is returned, how is this UID determined?","ts":"1463587606.000776"},{"type":"message","user":"U0XR6J961","text":"mcrafols: devops creates the uuid, i think","ts":"1463587671.000777"},{"type":"message","user":"U0KPFAZNF","text":"its a hash of various input parameters, like the code itself, the ctorMsg, etc","ts":"1463587860.000778"},{"type":"message","user":"U0KPFAZNF","text":"i forget where it is computed in the code, but its a function of the inputs to the deploy","ts":"1463587874.000779"},{"type":"message","user":"U0KPFAZNF","text":"part of the story is here: <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/chaincode\/platforms\/golang\/hash.go#L255>","edited":{"user":"U0KPFAZNF","ts":"1463587946.000000"},"ts":"1463587940.000780"},{"type":"message","user":"U0KPFAZNF","text":"but IIUC, that output is hashed further higher in the stack","ts":"1463587960.000783"},{"type":"message","user":"U0KPFAZNF","text":"but the same concept applies: function of inputs","ts":"1463587968.000784"},{"type":"message","user":"U0MSG4RL7","text":"<@U0XR6J961>: Re: \"congestion point\": I thought anyway all the transactions are serialized (in some way or another) so they are put in a strict order in the blockchain. Or, in other words, if the transactions don't modify the same key in the world state, will they be parallelized?","ts":"1463588396.000785"},{"type":"message","user":"U0XR6J961","text":"not at the moment","ts":"1463588644.000786"},{"type":"message","user":"U0XR6J961","text":"but you could, if they are independent","ts":"1463588653.000787"},{"type":"message","user":"U0XR6J961","text":"you certainly can't if they are all serialized around the counter","ts":"1463588668.000788"},{"type":"message","user":"U15B57S4R","text":"Hi all, I pulled the last commit on master (30399796913350ead56ec59cac16add658c39b3e): and unit tests fail:\n\n```\n--- FAIL: TestChaincodeInvokeChaincode (53.50s)\n\texectransaction_test.go:675: Error invoking &lt;b736a304eeda340a47c52c44367a28c8f41004518a4181eb7e8417a778ad3a4b4fe37ea149399cb7b27be88c3920025141cf4be0ebb7791e5968897bdc31d1b6&gt;: Transaction or query returned with failure: [fa2b3f5b-d8db-4a43-a561-8dfc9f8d8254]Chaincode handler FSM cannot handle message (ERROR) with payload size (269) while in state: ready\n\u2026\nFAIL\nexit status 1\nFAIL\t<http:\/\/github.com\/hyperledger\/fabric\/core\/chaincode|github.com\/hyperledger\/fabric\/core\/chaincode>\t197.766s\n```","ts":"1463598475.000789"},{"type":"message","user":"U0KPFAZNF","text":"<@U15B57S4R>: strange, I just confirmed that the PR that created 30399 did in fact pass CI","ts":"1463598616.000790"},{"type":"message","user":"U0KPFAZNF","text":"is it repeatable?","ts":"1463598629.000791"},{"type":"message","user":"U15B57S4R","text":"yes it is:\u00a0\n```\ncd $GOPATH\/src\/github.com\/hyperledger\/fabric\/core\/chaincode\/\ngo test -v -run=TestChaincodeInvokeChaincode\n\u2026\n--- FAIL: TestChaincodeInvokeChaincode (48.37s)\n\texectransaction_test.go:675: Error invoking &lt;b736a304eeda340a47c52c44367a28c8f41004518a4181eb7e8417a778ad3a4b4fe37ea149399cb7b27be88c3920025141cf4be0ebb7791e5968897bdc31d1b6&gt;: Transaction or query returned with failure: [c89c565e-027f-445d-8185-845cdde56ae9]Chaincode handler FSM cannot handle message (ERROR) with payload size (269) while in state: ready\n=== RUN   TestChaincodeInvokeChaincodeErrorCase\n\u2026\n--- PASS: TestChaincodeInvokeChaincodeErrorCase (37.16s)\nFAIL\nexit status 1\nFAIL\t<http:\/\/github.com\/hyperledger\/fabric\/core\/chaincode|github.com\/hyperledger\/fabric\/core\/chaincode>\t85.599s\n```","edited":{"user":"U15B57S4R","ts":"1463599121.000000"},"ts":"1463599021.000792"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KPFAZNF>:  do you know if  chaincode_example02 was changed  ?","ts":"1463601907.000794"},{"type":"message","user":"U0ULK2JPP","text":"let me check","ts":"1463601918.000795"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP>: not to my knowledge","ts":"1463601944.000796"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1463601949.000797"},{"type":"message","user":"U0ULK2JPP","text":"<@U15B57S4R>: FWIW  \u2026.  I ran \"go test -run=TestChaincodeInvokeChaincode\u201d  and \u201cgo test\u201d with latest and both worked","ts":"1463604070.000798"},{"user":"U0UFDAS91","type":"message","subtype":"channel_leave","text":"<@U0UFDAS91|christophera> has left the channel","ts":"1463616073.000799"},{"user":"U115YGEH1","type":"message","subtype":"channel_join","text":"<@U115YGEH1|mtakemiya> has joined the channel","ts":"1463646552.000800"},{"type":"message","user":"U15B57S4R","text":"ok , TestChaincodeInvokeChaincode was failing because, of the presence of the binary chaincode file `<http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02\/chaincode_example02|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02\/chaincode_example02>` i built before; removing it, made the test ending successfully.\n\nThat sounds: \"Before running unit-test remove any binary  chaincode_example you built\/compiled\".","edited":{"user":"U15B57S4R","ts":"1463649192.000000"},"ts":"1463649005.000801"},{"type":"message","user":"U0KPFAZNF","text":"There is a problem in general where otherwise innocuous state within your $GOPATH can mess up the unit tests, I am finding","ts":"1463657282.000807"},{"type":"message","user":"U0KPFAZNF","text":"for instance, the other day I installed go-bindata in my vagrant to try an experiment and then the HL unit-tests were tripping over it","ts":"1463657321.000808"},{"type":"message","user":"U0XR6J961","text":"do we know how this happens?","ts":"1463659668.000809"},{"type":"message","user":"U0KPFAZNF","text":"i think in my case, it had to do with the way the code tries to import the entire $GOPATH\u2026there was something in go-bindata that the fs-copy was unhappy with\u2026i think it was a symlink IIRC","ts":"1463660415.000810"},{"type":"message","user":"U0KPFAZNF","text":"but I have seen other problems like people having large binaries in the tree and it blows out the memory of the peer when it tries to build the tarball for docker-build in memory","ts":"1463660448.000811"},{"type":"message","user":"U0KPFAZNF","text":"it seems that generally speaking, assuming that the $GOPATH can just be blindly copied is problematic","ts":"1463660510.000812"},{"type":"message","user":"U0XR6J961","text":"yea","ts":"1463661010.000813"},{"type":"message","user":"U0ULK2JPP","text":"<@U15B57S4R>: ah I should remember to ask about the binary :slightly_smiling_face:","ts":"1463661036.000814"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KPFAZNF>: <@U0XR6J961> a set of \u201ctypical\u201d files that bloat the image and are unnecessary (1) the peer binary (2) membersrvc binary (3)  behave log files if you run with -D logs=Y (4) any redirected \u201coutput\u201d files from peer (5) executables left in examples when running in \u2014peer-chaincodedev","ts":"1463661171.000815"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019ve been meaning to open an issue wanted to create a filter for chaincode tar file","ts":"1463661345.000816"},{"type":"message","user":"U0ULK2JPP","text":"what do you think ?","ts":"1463661349.000817"},{"type":"message","user":"U0XR6J961","text":"i think it may be better to collect the sources, rather blacklisting other files","ts":"1463661808.000818"},{"type":"message","user":"U0KPFAZNF","text":"git ls-files may be helpful in this regard","ts":"1463661985.000819"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1463662337.000820"},{"type":"message","user":"U0ULK2JPP","text":"right. Some approach to collect minimal files","ts":"1463662531.000821"},{"type":"message","user":"U11HH3P7Y","text":"Hi All, can we integrate this link in our hyperledger\/fabric Readme.md file? This is very useful to understand the status of 'go lint' 'go vet' 'misspell' and 'gofmt'","ts":"1463662549.000822"},{"type":"message","user":"U11HH3P7Y","text":"<https:\/\/goreportcard.com\/report\/github.com\/rameshthoomu\/hyperledger-fabric>","ts":"1463662551.000823"},{"type":"message","user":"U11HH3P7Y","text":"We can generate `go report` for each repository using `<https:\/\/goreportcard.com\/>` link","ts":"1463662604.000824"},{"user":"U0V86V3QR","type":"message","subtype":"channel_join","text":"<@U0V86V3QR|gordonj> has joined the channel","ts":"1463665626.000825"},{"user":"U18UG9K9S","type":"message","subtype":"channel_join","text":"<@U18UG9K9S|adriano> has joined the channel","ts":"1463672845.000826"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0ULK2JPP>: hi, do we really need to have the fabric source path in GOPATH when doing go get to download the chaincode?","ts":"1463675175.000827"},{"type":"message","user":"U0P2GSA8Z","text":"this is what's preventing us from testing getCodeFromHTTP using a fabric example like <http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example01|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example01>","edited":{"user":"U0P2GSA8Z","ts":"1463675404.000000"},"ts":"1463675244.000828"},{"type":"message","user":"U0P2GSA8Z","text":"because go get will find it in the Fabric source and won't download it","ts":"1463675265.000829"},{"type":"message","user":"U0P2GSA8Z","text":"if we remove the fabric source from GOPATH then go get will download it to the temp directory effectively running through the whole getCodeFromHTTP code","ts":"1463675315.000830"},{"type":"message","user":"U0P2GSA8Z","text":"I tested it within vagrant and I can remove it all right but I don't know whether this would cause problem for those who work outside vagrant","ts":"1463675371.000831"},{"type":"message","user":"U0P2GSA8Z","text":"otherwise we'll always have to rely on some other repo,  I used my fork and that works: <http:\/\/github.com\/lehors\/fabric\/examples\/chaincode\/go\/chaincode_example01|github.com\/lehors\/fabric\/examples\/chaincode\/go\/chaincode_example01>","ts":"1463675946.000833"},{"type":"message","user":"U0P2GSA8Z","text":"but it doesn't seem right to have a test that relies on a separate repo","ts":"1463675963.000834"},{"type":"message","user":"U0ULK2JPP","text":"<@U0P2GSA8Z>: I\u2019ll have to look but this was discussed in an issue. It boiled down to this - having to resolve remote when identical path existed locally. This should only be an issue with the examples in the fabric.","ts":"1463677216.000835"},{"type":"message","user":"U0ULK2JPP","text":"let me hunt down and issue and refresh my memory :slightly_smiling_face:","ts":"1463677243.000836"},{"type":"message","user":"U0P2GSA8Z","text":"cool","ts":"1463677253.000837"},{"type":"message","user":"U0P2GSA8Z","text":"if you find it, please, share the reference so I can read it and save you a rerun :slightly_smiling_face:","ts":"1463677268.000838"},{"type":"message","user":"U0ULK2JPP","text":"of course :slightly_smiling_face:","ts":"1463677291.000839"},{"type":"message","user":"U0P2GSA8Z","text":"I have a simple fix to the GOPATH with multiple elements where I only take the first element","ts":"1463677311.000840"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1463677320.000841"},{"type":"message","user":"U0P2GSA8Z","text":"I still don't know whether it's worth doing more","ts":"1463677332.000842"},{"type":"message","user":"U0ULK2JPP","text":"+1 for the fix and baby steps ?","ts":"1463677354.000843"},{"type":"message","user":"U0P2GSA8Z","text":"yeah, that's a bit my thinking","ts":"1463677365.000844"},{"type":"message","user":"U0ULK2JPP","text":"it\u2019ll certainly resolve the problem","ts":"1463677367.000845"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1463677368.000846"},{"type":"message","user":"U0P2GSA8Z","text":"document the limitation and see if anyone complains","ts":"1463677383.000847"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1463677387.000848"},{"type":"message","user":"U0P2GSA8Z","text":"otherwise the code assumes it will run on linux and liberally uses \/ for filepath separator, is there a policy in this regard?","ts":"1463677517.000849"},{"type":"message","user":"U0P2GSA8Z","text":"shouldn't we use os.PathSeparator consistently?","ts":"1463677548.000850"},{"type":"message","user":"U0P2GSA8Z","text":"that would be my inclination but I'm new to the project so I don't know if there was a decision made in this regard","ts":"1463677566.000851"},{"type":"message","user":"U0P2GSA8Z","text":"some code uses os.PathSeparator some code doesn't","ts":"1463677590.000852"},{"type":"message","user":"U0ULK2JPP","text":"I was able to find the issue :  <https:\/\/github.com\/hyperledger\/fabric\/issues\/737>","attachments":[{"service_name":"GitHub","title":"Test chaincode deploy for proper error messaging when chanicodes exists locally as well as in remote locations \u00b7 Issue #737 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/issues\/737","text":"Tried to send Deploy command using RestAPI from SoapUI\/Postman using chaincodeexample_02 on a local peer without security setup as: [<http:\/\/127.0.0.1:3000\/devops\/deploy>] { \"type\": \"GOLANG\", \"c...","fallback":"GitHub: Test chaincode deploy for proper error messaging when chanicodes exists locally as well as in remote locations \u00b7 Issue #737 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/17179397?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/issues\/737","thumb_width":420,"thumb_height":420,"id":1}],"edited":{"user":"U0ULK2JPP","ts":"1463678791.000000"},"ts":"1463678771.000853"},{"type":"message","user":"U0P2GSA8Z","text":"ok, I'll look, thanks","ts":"1463678911.000856"},{"type":"message","user":"U0P2GSA8Z","text":"so, how does the getCodeFromHTTP get tested right now?","ts":"1463678934.000857"},{"type":"message","user":"U0P2GSA8Z","text":"do we have any of the CI test covering that code?","ts":"1463678951.000858"},{"type":"message","user":"U0P2GSA8Z","text":"very relevant thread indeed","ts":"1463679280.000859"},{"type":"message","user":"U0P2GSA8Z","text":"another possibility would be to have a flag like -f\/-force which when used would force the download","ts":"1463679326.000860"},{"type":"message","user":"U0P2GSA8Z","text":"that could be handy for testing if nothing else","ts":"1463679343.000861"},{"type":"message","user":"U0ULK2JPP","text":"sure, but again, this is mainly a problem for fabric examples. Do you think a \u201c-f\u201d is warranted for that ?","ts":"1463679364.000862"},{"type":"message","user":"U0ULK2JPP","text":"just asking\u2026 maybe the answer is yes","ts":"1463679382.000863"},{"type":"message","user":"U0P2GSA8Z","text":"if that's the only way to test: yes!","ts":"1463679398.000864"},{"type":"message","user":"U0P2GSA8Z","text":"how is that getCodeFromHTTP tested?","ts":"1463679416.000865"},{"type":"message","user":"U0P2GSA8Z","text":"other than by you I mean :slightly_smiling_face:","ts":"1463679465.000866"},{"type":"message","user":"U0ULK2JPP","text":"no unit test. It gets tested via external usage such as bluemix","ts":"1463679467.000867"},{"type":"message","user":"U0ULK2JPP","text":"right :slightly_smiling_face:","ts":"1463679469.000868"},{"type":"message","user":"U0ULK2JPP","text":"one option would be to use <http:\/\/github.com\/lehors\/fabric\/examples\/chaincode\/go\/chaincode_example01|github.com\/lehors\/fabric\/examples\/chaincode\/go\/chaincode_example01> as a unit test","ts":"1463679497.000869"},{"type":"message","user":"U0P2GSA8Z","text":"yes, that might be a reasonable trade-off","ts":"1463679515.000870"},{"type":"message","user":"U0ULK2JPP","text":"I hesitate introducing a new flag for this","ts":"1463679535.000871"},{"type":"message","user":"U0P2GSA8Z","text":"I agree, it may not be worth it","ts":"1463679551.000872"},{"type":"message","user":"U0P2GSA8Z","text":"it's not like I'm going to delete that fork any time soon so the dependency isn't so bad","ts":"1463679569.000873"},{"type":"message","user":"U0P2GSA8Z","text":"I just don't like not having any tests","ts":"1463679603.000874","reactions":[{"name":"+1","users":["U0KM61BCP"],"count":1}]},{"type":"message","user":"U0P2GSA8Z","text":"I'm touching that code and want to know there is a test to ensure I don't break it","ts":"1463679642.000875"},{"type":"message","user":"U0P2GSA8Z","text":"ok, I'll put a test in with that","ts":"1463679657.000876"},{"type":"message","user":"U0P2GSA8Z","text":"what about the PathSeparator stuff?","ts":"1463679699.000877"},{"type":"message","user":"U0ULK2JPP","text":"I have think about it\u2026 a grep show that is used in only one place in the fabric code. I\u2019m sure path is spread around all over","ts":"1463680013.000878"},{"type":"message","user":"U0P2GSA8Z","text":"ok, I'll leave that alone for now then","ts":"1463680505.000879"},{"type":"message","user":"U0P2GSA8Z","text":"this is something that could be done at some point","ts":"1463680516.000880"},{"type":"message","user":"U0ULK2JPP","text":"fwiw, os.Stat(fmt.Sprintf(\u201c%s\/a.go\u201d, os.Getenv(\u201cGOPATH\u201d))) does not return error on Windows\u2026 maybe \u201c\/\u201c will slip thru ?","ts":"1463680673.000881"},{"type":"message","user":"U0P2GSA8Z","text":"yes, the Windows OS actually understands both forms","ts":"1463680704.000882"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1463680711.000883"},{"type":"message","user":"U0P2GSA8Z","text":"but mixing the two forms can be a problem","ts":"1463680720.000884"},{"type":"message","user":"U0P2GSA8Z","text":"and for GOPATH for example you're supposed to use ; instead of : as the separator","ts":"1463680745.000885"},{"type":"message","user":"U0P2GSA8Z","text":"that's why go provides os.PathListSeparator too","ts":"1463680792.000886"},{"type":"message","user":"U0MSG4RL7","text":"<@U0P2GSA8Z>: <@U0ULK2JPP>: Maybe Go's `filepath.Join()` is the standard way to create a path from parts.","ts":"1463683947.000887"},{"type":"message","user":"U0MSG4RL7","text":"I have a question related to the discussion here: Shouldn't the chaincode programs include all their dependencies in a `vendor` dir?","ts":"1463683997.000888"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0MSG4RL7>: I agree with you on filepath.Join()","ts":"1463684425.000889"},{"type":"message","user":"U0P2GSA8Z","text":"this is also the way I would go at it, but as <@U0ULK2JPP> points  out this hasn't be done to date","ts":"1463684458.000890"},{"type":"message","user":"U0P2GSA8Z","text":"so the question becomes whether we should clean up the code and do that or it's not worth it","ts":"1463684515.000891"},{"type":"message","user":"U0KM61BCP","text":"thinking about chaincode testing... seems to me that a separate repo for a chaincode better represents what chaincode devs will have used... I could see a proliferation of test chaincode repos... the problem is that then we have  to build them all to determine whether a change broke any","ts":"1463692519.000892"},{"type":"message","user":"U0KM61BCP","text":"might be best to have them off in a separate org for the purpose of housing these examples","ts":"1463692572.000893"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0ULK2JPP>: ok, here is one reason to be more careful about how we build filepaths: if you have GOPATH=\/opt\/gopath\/ - note the trailing slash - we end up with things like: 2016\/05\/19 17:08:29 hashFiles \/opt\/gopath\/src\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example01","ts":"1463694640.000894"},{"type":"message","user":"U0P2GSA8Z","text":"maybe not fatal but I think we can agree it's not pretty either","ts":"1463694658.000895"},{"type":"message","user":"U0ULK2JPP","text":"<@U0P2GSA8Z>: agreed. For some reason I thought  trailing slashwas stripped off\u2026 but if not, we should","ts":"1463694844.000896"},{"type":"message","user":"U0P2GSA8Z","text":"well, I saw there is an if ... for that but it is missing a -1 to actually do the work","ts":"1463694879.000897"},{"type":"message","user":"U0P2GSA8Z","text":"and that's not safe either because if all you had was \/ you would end up with an empty string","ts":"1463694902.000898"},{"type":"message","user":"U0P2GSA8Z","text":"although GOPATH=\/ isn't likely it is easier to call the go functions that will do the right thing no matter what","ts":"1463694924.000899"},{"type":"message","user":"U0KPFAZNF","text":"Fwiw: I solved this problem in chaintool already","ts":"1463696020.000900"},{"type":"message","user":"U0KPFAZNF","text":"Chaincode packages are isolated from peer GOPATH","ts":"1463696061.000901"},{"type":"message","user":"U0P2GSA8Z","text":"I don't think any of these edge cases are actually going to be ever met in practice given the controlled environment we work in","ts":"1463696271.000902"},{"type":"message","user":"U0P2GSA8Z","text":"I started from an issue that came up in testing environment where it is not as controlled","ts":"1463696298.000903"},{"type":"message","user":"U0P2GSA8Z","text":"issue #866","ts":"1463696318.000904"},{"type":"message","user":"U0P2GSA8Z","text":"but I think we only have to gain from having cleaner code","ts":"1463696361.000905"},{"type":"message","user":"U0KM61BCP","text":"the absence of tests, the design that makes testing harder, all this needs fixing","ts":"1463696454.000906"},{"type":"message","user":"U0P2GSA8Z","text":"all right peeps, I'm off for the weekend  (going to Grand Canyon :-) \"see\" you on Monday","edited":{"user":"U0P2GSA8Z","ts":"1463698808.000000"},"ts":"1463698592.000907","reactions":[{"name":"+1","users":["U0ULK2JPP","U0MSG4RL7","U0KM61BCP"],"count":3}]},{"type":"message","user":"U0ULK2JPP","text":"<@U0P2GSA8Z>: have fun!","ts":"1463698678.000908"},{"user":"U1AD3THQS","type":"message","subtype":"channel_join","text":"<@U1AD3THQS|jonkrone> has joined the channel","ts":"1463708135.000910"},{"type":"message","user":"U19MP2N67","text":"I am trying to set myself up to be able to debug code as it's running (Followed installation steps at <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/dev-setup\/install.md>): At the moment I have LXDE desktop environment on top of the vagrant box that allows me an IDE to work with. Is that the best approach for this ? or is there a better way to  do this with minimal changes to the vagrant image. Also, sorry if this is not the correct channel for this sort of question or has been addressed earlier.","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/dev-setup\/install.md","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/dev-setup\/install.md","thumb_width":142,"thumb_height":142,"id":1}],"ts":"1463803354.000911"},{"type":"message","user":"U0KPFAZNF","text":"hello <@U19MP2N67>.  I\u2019m sure there are many ways to solve the problem, but I have had decent luck using delve (<https:\/\/github.com\/derekparker\/delve>) and wrote a wiki entry for it here <https:\/\/github.com\/hyperledger\/fabric\/wiki\/Go-Development-Portal#delve>","edited":{"user":"U0KPFAZNF","ts":"1463884122.000000"},"ts":"1463884110.000913"},{"type":"message","user":"U0KPFAZNF","text":"This is GDB command-line style debugging though\u2026if IDE breakpoints, etc, are you thing, YMMV","ts":"1463884151.000917"},{"type":"message","user":"U0KPFAZNF","text":"feel free to update the wiki with more details if you find something else that works well","ts":"1463884179.000918"},{"user":"U1A62D6F6","type":"message","subtype":"channel_join","text":"<@U1A62D6F6|goodjoon> has joined the channel","ts":"1463897780.000919"},{"type":"message","user":"U19MP2N67","text":"Thanks <@U0KPFAZNF>","ts":"1463966455.000920"},{"user":"U1A9JNB1T","type":"message","subtype":"channel_join","text":"<@U1A9JNB1T|karan> has joined the channel","ts":"1463999245.000921"},{"type":"message","user":"U0XR6J961","text":"i can't update branches in my github repo, so no useful pull requests from me today","ts":"1464025443.000924"},{"type":"message","user":"U0TFEHX8E","text":"also was experiencing issues with GitHub earlier today. Seems to be better now","ts":"1464032876.000925"},{"type":"message","subtype":"file_share","text":"<@U0XQ35CDD|kostas> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/kostas\/F1B4L7PPG\/screen_shot_2016-05-23_at_15.49.18.png|Screen Shot 2016-05-23 at 15.49.18.png> and commented: that unicorn tho","file":{"id":"F1B4L7PPG","created":1464033008,"timestamp":1464033008,"name":"Screen Shot 2016-05-23 at 15.49.18.png","title":"Screen Shot 2016-05-23 at 15.49.18.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0XQ35CDD","editable":false,"size":206997,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1B4L7PPG\/screen_shot_2016-05-23_at_15.49.18.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1B4L7PPG\/download\/screen_shot_2016-05-23_at_15.49.18.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1B4L7PPG-1fb25998a1\/screen_shot_2016-05-23_at_15.49.18_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1B4L7PPG-1fb25998a1\/screen_shot_2016-05-23_at_15.49.18_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1B4L7PPG-1fb25998a1\/screen_shot_2016-05-23_at_15.49.18_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":198,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1B4L7PPG-1fb25998a1\/screen_shot_2016-05-23_at_15.49.18_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":264,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1B4L7PPG-1fb25998a1\/screen_shot_2016-05-23_at_15.49.18_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1B4L7PPG-1fb25998a1\/screen_shot_2016-05-23_at_15.49.18_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":396,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1B4L7PPG-1fb25998a1\/screen_shot_2016-05-23_at_15.49.18_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":528,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1B4L7PPG-1fb25998a1\/screen_shot_2016-05-23_at_15.49.18_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":564,"image_exif_rotation":1,"original_w":1388,"original_h":764,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/kostas\/F1B4L7PPG\/screen_shot_2016-05-23_at_15.49.18.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1B4L7PPG-4a9be2947d","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc1B4ZKXNV","created":1464033008,"timestamp":1464033008,"user":"U0XQ35CDD","is_intro":true,"comment":"that unicorn tho","channel":""},"reactions":[{"name":"unicorn_face","users":["U0TFEHX8E"],"count":1}]},"user":"U0XQ35CDD","upload":true,"display_as_bot":false,"username":"<@U0XQ35CDD|kostas>","bot_id":null,"ts":"1464033014.000926"},{"type":"message","user":"U0P2GSA8Z","text":"<!here|@here>: what is the \"car\" platform??","ts":"1464036561.000928"},{"type":"message","user":"U0P2GSA8Z","text":"in fabric\/core\/chaincode\/platforms we have golang and car","ts":"1464036593.000929"},{"type":"message","user":"U0TFEHX8E","text":"<https:\/\/github.com\/ghaskins\/chaintool>","attachments":[{"service_name":"GitHub","title":"ghaskins\/chaintool","title_link":"https:\/\/github.com\/ghaskins\/chaintool","text":"chaintool - Hyperledger Chaincode Compiler - Proposed tooling for <https:\/\/github.com\/hyperledger>","fallback":"GitHub: ghaskins\/chaintool","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/ghaskins\/chaintool","thumb_width":400,"thumb_height":400,"id":1}],"ts":"1464036657.000930"},{"type":"message","user":"U0KPFAZNF","text":"CAR = Chaincode ARchive (<https:\/\/github.com\/ghaskins\/chaintool#chaintool-package>)","edited":{"user":"U0KPFAZNF","ts":"1464036734.000000"},"ts":"1464036726.000932"},{"type":"message","user":"U0KPFAZNF","text":"(thanks <@U0TFEHX8E>!)","ts":"1464036771.000935"},{"type":"message","user":"U0KPFAZNF","text":"but the fact that you needed to ask that means I failed to document it well, heh","ts":"1464036783.000936"},{"type":"message","user":"U0KPFAZNF","text":"probably could use a README there or something, will review","ts":"1464036805.000937"},{"type":"message","user":"U0P2GSA8Z","text":"sorry, I'll admit not having looked for the docs","ts":"1464036828.000938"},{"type":"message","user":"U0P2GSA8Z","text":"I just stumbled over it in the code and there was no comment that gave any hints as to what it is","ts":"1464036852.000939"},{"type":"message","user":"U0KPFAZNF","text":"I meant I should have documented in the platforms\/car tree in fabric","ts":"1464036852.000940"},{"type":"message","user":"U0P2GSA8Z","text":"right, that would be nice","ts":"1464036863.000941"},{"type":"message","user":"U0P2GSA8Z","text":"just a pointer to the doc would probably do","ts":"1464036872.000942"},{"type":"message","user":"U0KPFAZNF","text":"yeah, thats what I am thinking","ts":"1464036882.000943"},{"type":"message","user":"U0KPFAZNF","text":"will do, thanks","ts":"1464036884.000944"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> <@U11HH3P7Y> As per <https:\/\/github.com\/hyperledger\/fabric\/pull\/1556>, do you know if I can manually kick off a build from the latest patch in the PR?","attachments":[{"service_name":"GitHub","title":"Fix Issue 866 and more by lehors \u00b7 Pull Request #1556 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1556","text":"Description This PR cleans up the way GOPATH is handled when deploying a chaincode so that when GOPATH contains multiple elements, double slashes, trailing spaces, etc, deployment can still succ...","fallback":"GitHub: Fix Issue 866 and more by lehors \u00b7 Pull Request #1556 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/6464618?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1556","thumb_width":300,"thumb_height":300,"id":1}],"ts":"1464041318.000945"},{"type":"message","user":"U0KPFAZNF","text":"I know I can restart the previous run, and I can have <@U0P2GSA8Z> submit a new patch, but its not clear if I can just ask for a specific branch\/sha to rebuild","ts":"1464041390.000947"},{"type":"message","user":"U11HH3P7Y","text":"as far as I know, we have only above two options to re-run the build","ts":"1464041982.000948"},{"type":"message","user":"U11HH3P7Y","text":"or we can ask user to submit an empty commit (not recommended)","ts":"1464042048.000949"},{"type":"message","user":"U0KM61BCP","text":"what <@U11HH3P7Y> said is also my understanding","ts":"1464042588.000950"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1464042948.000951"},{"type":"message","user":"U0P2GSA8Z","text":"Why do you want to restart the build? ","ts":"1464046800.000952"},{"type":"message","user":"U0KPFAZNF","text":"See my note in the PR","ts":"1464046836.000953"},{"type":"message","user":"U0KPFAZNF","text":"I don't think it will matter, but we were burned once before so decided to check all source mods","ts":"1464046875.000954"},{"type":"message","user":"U0P2GSA8Z","text":"Ok","ts":"1464046910.000955"},{"type":"message","user":"U0KPFAZNF","text":"Visual inspection looks fine, so it's probably not necessary ","ts":"1464046923.000957"},{"user":"U1B6WAAKF","type":"message","subtype":"channel_join","text":"<@U1B6WAAKF|maruthi> has joined the channel","ts":"1464055603.000959"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP>: regarding PR 1549: out of curiosity, what is gating the conversion to behave?","ts":"1464055828.000960"},{"user":"U1B86HRGE","type":"message","subtype":"channel_join","text":"<@U1B86HRGE|lexsys> has joined the channel","ts":"1464077697.000961"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KPFAZNF>: fabric's behave\u2019s framework can only store one chaincode at a time","ts":"1464089416.000962"},{"type":"message","user":"U0KPFAZNF","text":"ah, that makes sense, thank you <@U0ULK2JPP>","ts":"1464090726.000963"},{"type":"message","user":"U0ULK2JPP","text":"<@U0UKTPMG8> will be able to provide that feature \u2026 and when its available I can do the switcheroo","ts":"1464090870.000964","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP>: travis failure after merge","ts":"1464095583.000965"},{"type":"message","user":"U0KPFAZNF","text":"not sure why, it passed within the PR","ts":"1464095589.000966"},{"type":"message","user":"U0KPFAZNF","text":"re-running now to see if it was transient","ts":"1464095598.000967"},{"type":"message","user":"U0ULK2JPP","text":"hmm","ts":"1464095600.000968"},{"type":"message","user":"U0ULK2JPP","text":"I have half a mind to skip the unit test","ts":"1464095642.000969"},{"type":"message","user":"U0ULK2JPP","text":"its new function and we know we need a behave test","ts":"1464095662.000970"},{"type":"message","user":"U0ULK2JPP","text":"if its me, I apologize","ts":"1464095670.000971"},{"type":"message","user":"U0KPFAZNF","text":"its unclear","ts":"1464095679.000972"},{"type":"message","user":"U0ULK2JPP","text":"well, that\u2019s the only new thing","ts":"1464095692.000973"},{"type":"message","user":"U0KPFAZNF","text":"its running (again) here: <https:\/\/travis-ci.org\/hyperledger\/fabric\/builds\/132550691>","ts":"1464095703.000974"},{"type":"message","user":"U0KPFAZNF","text":"well, i mean its unclear if its an actual code failure or some fluke","ts":"1464095726.000975"},{"type":"message","user":"U0ULK2JPP","text":"do you have the old failure by any chance ?","ts":"1464095733.000976"},{"type":"message","user":"U0ULK2JPP","text":"right. that\u2019s how I understood it :slightly_smiling_face:","ts":"1464095745.000977"},{"type":"message","user":"U0KPFAZNF","text":"unforunately it looks like it was overwritten when I restarted the build","ts":"1464095748.000978"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1464095751.000979"},{"type":"message","user":"U0ULK2JPP","text":"as an aside .. did you see the conversation on fabric-dev-consensus on timer\/crontab ?","ts":"1464095805.000980"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP>: failed again","ts":"1464096830.000981"},{"type":"message","user":"U0ULK2JPP","text":"looking","ts":"1464096852.000982"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/s3.amazonaws.com\/archive.travis-ci.org\/jobs\/132550692\/log.txt>","ts":"1464096867.000983"},{"type":"message","user":"U0ULK2JPP","text":"hmmm\u2026 is this failing the unit test ?","ts":"1464096894.000984"},{"type":"message","user":"U0ULK2JPP","text":"I see the last line says PBFT","ts":"1464096906.000985"},{"type":"message","user":"U0KPFAZNF","text":"yes, its failing in <http:\/\/github.com\/hyperledger\/fabric\/consensus\/obcpbft|github.com\/hyperledger\/fabric\/consensus\/obcpbft>","ts":"1464096923.000986"},{"type":"message","user":"U0ULK2JPP","text":"looking closer","ts":"1464096962.000987"},{"user":"U11MANG9G","type":"message","subtype":"channel_join","text":"<@U11MANG9G|jonathanlevi> has joined the channel","ts":"1464096971.000988"},{"type":"message","user":"U0ULK2JPP","text":"let me try updating env and running unit tests in my env","ts":"1464097230.000989"},{"type":"message","user":"U0KPFAZNF","text":"ok, i also am testing with the merge reverted to see if it passes again","ts":"1464097276.000990"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/travis-ci.org\/ghaskins\/hyperledger-fabric\/builds\/132568442>","ts":"1464097352.000991"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1464097366.000992"},{"type":"message","user":"U0KPFAZNF","text":"regarding timer\/crontab, ill read the thread when I get back from my run","ts":"1464097568.000993"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1464097582.000994"},{"type":"message","user":"U0ULK2JPP","text":"unit test fail on my machine with what appears to be exact failure as seen in travis","ts":"1464097678.000995"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019m going to revert my chaincode change (sans the unit test \u2026 )","ts":"1464097704.000996"},{"type":"message","user":"U0ULK2JPP","text":"and test again","ts":"1464097708.000997"},{"type":"message","user":"U0ULK2JPP","text":"I doubt if that is the root cause","ts":"1464097717.000998"},{"type":"message","user":"U0KPFAZNF","text":"im guessing there was something that was merged after your PR submission but before your PR was merged that was conflicting","ts":"1464097718.000999"},{"type":"message","user":"U0ULK2JPP","text":"could be\u2026.","ts":"1464097734.001000"},{"type":"message","user":"U0ULK2JPP","text":"if so reverting my chaincode change should work","ts":"1464097744.001001"},{"type":"message","user":"U0KPFAZNF","text":"i double checked, it was passing in the PR itself","ts":"1464097746.001002"},{"type":"message","user":"U0ULK2JPP","text":"right","ts":"1464097750.001003"},{"type":"message","user":"U0TFEHX8E","text":"<@U0ULK2JPP>: does the unit test you added start a peer?","ts":"1464098002.001004"},{"type":"message","user":"U0ULK2JPP","text":"<@U0TFEHX8E> it does like other unit tests\u2026 but note the test hasn;t progressed to chaincode tests yet","ts":"1464098065.001005"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F1B9E5M9R\/pasted_image_at_2016_05_24_09_55_am.png|Pasted image at 2016-05-24, 9:55 AM>","file":{"id":"F1B9E5M9R","created":1464098104,"timestamp":1464098104,"name":"Pasted image at 2016_05_24 09_55 AM.png","title":"Pasted image at 2016-05-24, 9:55 AM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":85074,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1B9E5M9R\/pasted_image_at_2016_05_24_09_55_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1B9E5M9R\/download\/pasted_image_at_2016_05_24_09_55_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1B9E5M9R-739bdada6c\/pasted_image_at_2016_05_24_09_55_am_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1B9E5M9R-739bdada6c\/pasted_image_at_2016_05_24_09_55_am_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1B9E5M9R-739bdada6c\/pasted_image_at_2016_05_24_09_55_am_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":77,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1B9E5M9R-739bdada6c\/pasted_image_at_2016_05_24_09_55_am_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":102,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1B9E5M9R-739bdada6c\/pasted_image_at_2016_05_24_09_55_am_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1B9E5M9R-739bdada6c\/pasted_image_at_2016_05_24_09_55_am_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":153,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1B9E5M9R-739bdada6c\/pasted_image_at_2016_05_24_09_55_am_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":204,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1B9E5M9R-739bdada6c\/pasted_image_at_2016_05_24_09_55_am_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":218,"image_exif_rotation":1,"original_w":1250,"original_h":266,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F1B9E5M9R\/pasted_image_at_2016_05_24_09_55_am.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1B9E5M9R-698ffa5d0f","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1464098107.001006"},{"type":"message","user":"U0ULK2JPP","text":"obcpft fails first and the chaincode tests appear to succeed later","ts":"1464098129.001007"},{"type":"message","user":"U0TFEHX8E","text":"weird. I think writing a unit test that tries to emulate the function test gets us into trouble. Is it possible to just write a unit test that doesn\u2019t test the full end to end function? Then a behave test could added for testing the end to end function when available?","ts":"1464098271.001008"},{"type":"message","user":"U0TFEHX8E","text":"possibly some mocking is needed or is it just that unit tests cannot be written in that area for some reason?","ts":"1464098316.001009"},{"type":"message","user":"U0ULK2JPP","text":"right. I was going along that path for a bit with the new chaincode test. the problem was without behave test, a mock up test wouldnt test anything for this (chaincode calling chaincode, member service, etc)","edited":{"user":"U0ULK2JPP","ts":"1464098486.000000"},"ts":"1464098447.001010"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KPFAZNF>: after reverting the chaincode change, still fails on pbft","ts":"1464098664.001012"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F1BAMNK0C\/pasted_image_at_2016_05_24_10_04_am.png|Pasted image at 2016-05-24, 10:04 AM>","file":{"id":"F1BAMNK0C","created":1464098670,"timestamp":1464098670,"name":"Pasted image at 2016_05_24 10_04 AM.png","title":"Pasted image at 2016-05-24, 10:04 AM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":72768,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1BAMNK0C\/pasted_image_at_2016_05_24_10_04_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1BAMNK0C\/download\/pasted_image_at_2016_05_24_10_04_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1BAMNK0C-6233630e3f\/pasted_image_at_2016_05_24_10_04_am_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1BAMNK0C-6233630e3f\/pasted_image_at_2016_05_24_10_04_am_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1BAMNK0C-6233630e3f\/pasted_image_at_2016_05_24_10_04_am_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":79,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1BAMNK0C-6233630e3f\/pasted_image_at_2016_05_24_10_04_am_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":105,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1BAMNK0C-6233630e3f\/pasted_image_at_2016_05_24_10_04_am_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1BAMNK0C-6233630e3f\/pasted_image_at_2016_05_24_10_04_am_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":158,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1BAMNK0C-6233630e3f\/pasted_image_at_2016_05_24_10_04_am_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":210,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1BAMNK0C-6233630e3f\/pasted_image_at_2016_05_24_10_04_am_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":224,"image_exif_rotation":1,"original_w":1224,"original_h":268,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F1BAMNK0C\/pasted_image_at_2016_05_24_10_04_am.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1BAMNK0C-49341dc7d4","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1464098676.001013"},{"type":"message","user":"U0ULK2JPP","text":"running obctests in isolation","ts":"1464099367.001014"},{"type":"message","user":"U0ULK2JPP","text":"fabric\/consensus\/obcpbft$ go test 1&gt; \/tmp\/out 2&gt;&amp;1","ts":"1464099506.001015"},{"type":"message","user":"U0ULK2JPP","text":"same failure","ts":"1464099513.001016"},{"type":"message","user":"U0UGH3X7X","text":"<@U0XR6J961>:   similar to the unit tests problem you were just dealing with ?","ts":"1464099718.001017"},{"type":"message","user":"U0XR6J961","text":"unclear what the error is","ts":"1464099768.001018"},{"type":"message","user":"U0XR6J961","text":"need to see the test that failed","ts":"1464099778.001019"},{"user":"U0Z81GL6S","type":"message","subtype":"channel_join","text":"<@U0Z81GL6S|anya> has joined the channel","ts":"1464099803.001020"},{"type":"message","user":"U0UGH3X7X","text":"<@U0ULK2JPP>:  run go test in the obcpbft dir ?","ts":"1464099827.001021"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F1B9Q2AR1\/out|out> and commented: I get that from \u201cgo test\u201d in fabric\/consensus\/obcpbft","file":{"id":"F1B9Q2AR1","created":1464099851,"timestamp":1464099851,"name":"out","title":"out","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0ULK2JPP","editable":false,"size":3691914,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1B9Q2AR1\/out?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1B9Q2AR1\/download\/out?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F1B9Q2AR1\/out","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1B9Q2AR1-07572be3fb","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc1BAUCN9J","created":1464099851,"timestamp":1464099851,"user":"U0ULK2JPP","is_intro":true,"comment":"I get that from \u201cgo test\u201d in fabric\/consensus\/obcpbft","channel":""}},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1464099853.001022"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP>: my reverted branch did build","ts":"1464099998.001023"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/travis-ci.org\/ghaskins\/hyperledger-fabric\/builds\/132568442>","ts":"1464100006.001024"},{"type":"message","user":"U0KPFAZNF","text":"or at least, it got past the unit-test problem","ts":"1464100017.001025"},{"type":"message","user":"U0KPFAZNF","text":"behave result still pending","ts":"1464100021.001026"},{"type":"message","user":"U0ULK2JPP","text":"its still failing on my branch","ts":"1464100069.001027"},{"type":"message","user":"U0ULK2JPP","text":"sorry, in in my laptop","ts":"1464100079.001028"},{"type":"message","user":"U0KPFAZNF","text":"<@U0TFEHX8E>: shall we PR the revert for now until we figure out what went wrong?","ts":"1464100080.001029"},{"type":"message","user":"U0XR6J961","text":"muralisr: looking at it","ts":"1464100108.001030"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KPFAZNF>: was the only revert my chaincode change ?","ts":"1464100125.001031"},{"type":"message","user":"U0ULK2JPP","text":"<@U0XR6J961>: thanks","ts":"1464100149.001032"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1BBCC14H\/-.sh|Untitled> and commented: This is what I ran to revert\/fix it","file":{"id":"F1BBCC14H","created":1464100217,"timestamp":1464100217,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0KPFAZNF","editable":true,"size":243,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1BBCC14H\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1BBCC14H\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1BBCC14H\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1BBCC14H-e6300128d0","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1BBCC14H\/-.sh\/edit","preview":"  564  git checkout master\r\n  565  git pull\r\n  566  git log\r\n  567  git checkout -b fix-1549-failure\r\n  570  git revert -m 1 e38141f0a5f1ac63b17c032f371a40a2322904be\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>  <span class=\"cm-number\">564<\/span>  <span class=\"cm-builtin\">git<\/span> checkout master<\/pre><\/div>\n<div><pre>  <span class=\"cm-number\">565<\/span>  <span class=\"cm-builtin\">git<\/span> pull<\/pre><\/div>\n<div><pre>  <span class=\"cm-number\">566<\/span>  <span class=\"cm-builtin\">git<\/span> log<\/pre><\/div>\n<div><pre>  <span class=\"cm-number\">567<\/span>  <span class=\"cm-builtin\">git<\/span> checkout <span class=\"cm-attribute\">-b<\/span> fix-1549-failure<\/pre><\/div>\n<div><pre>  <span class=\"cm-number\">570<\/span>  <span class=\"cm-builtin\">git<\/span> revert <span class=\"cm-attribute\">-m<\/span> <span class=\"cm-number\">1<\/span> e38141f0a5f1ac63b17c032f371a40a2322904be<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":9,"lines_more":4,"preview_is_truncated":null,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc1BB388FJ","created":1464100217,"timestamp":1464100217,"user":"U0KPFAZNF","is_intro":true,"comment":"This is what I ran to revert\/fix it","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1464100218.001033"},{"type":"message","user":"U0KPFAZNF","text":"(I confirmed on line 6) that the revert seemed to be equivalent to the original PR, at least by visual inspection","ts":"1464100256.001034"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1464100261.001035"},{"type":"message","user":"U0ULK2JPP","text":"then I\u2019m not sure what\u2019s happening\u2026","ts":"1464100273.001036"},{"type":"message","user":"U0ULK2JPP","text":"as far as I can tell the obcpbft tests have no relation to the chaincode changes","ts":"1464100296.001037"},{"type":"message","user":"U0KPFAZNF","text":"yeah, its probably just a compound interaction of something","ts":"1464100324.001038"},{"type":"message","user":"U0KPFAZNF","text":"the two PRs by themselves were fine","ts":"1464100338.001039"},{"type":"message","user":"U0TFEHX8E","text":"I would say give Simon a bit of time to finish investigating before deciding to revert","ts":"1464100368.001040"},{"type":"message","user":"U0KPFAZNF","text":"ok\u2026ill leave my branch at the ready","ts":"1464100388.001041"},{"type":"message","subtype":"file_share","text":"<@U0UGH3X7X|tuand> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/tuand\/F1BB95Z71\/-.txt|Untitled>","file":{"id":"F1BB95Z71","created":1464100615,"timestamp":1464100615,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UGH3X7X","editable":true,"size":405,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1BB95Z71\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1BB95Z71\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/tuand\/F1BB95Z71\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1BB95Z71-39c9d2c6b2","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/tuand\/F1BB95Z71\/-.txt\/edit","preview":"2016\/05\/24 14:16:35 Replica 3 stopping a running new view timer\r\n--- FAIL: TestBatchCustody (2.84s)\r\n\tobc-batch_test.go:138: Expected replica 0 to have two blocks\r\n\tobc-batch_test.go:138: Expected replica 1 to have two blocks\r\n\tobc-batch_test.go:138: Expected replica 2 to have two blocks\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>2016\/05\/24 14:16:35 Replica 3 stopping a running new view timer<\/pre><\/div>\n<div><pre>--- FAIL: TestBatchCustody (2.84s)<\/pre><\/div>\n<div><pre>    obc-batch_test.go:138: Expected replica 0 to have two blocks<\/pre><\/div>\n<div><pre>    obc-batch_test.go:138: Expected replica 1 to have two blocks<\/pre><\/div>\n<div><pre>    obc-batch_test.go:138: Expected replica 2 to have two blocks<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":7,"lines_more":2,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0UGH3X7X","upload":true,"display_as_bot":false,"username":"<@U0UGH3X7X|tuand>","bot_id":null,"ts":"1464100616.001042"},{"type":"message","user":"U0XR6J961","text":"it's a timing issue","ts":"1464100630.001043"},{"type":"message","user":"U0XR6J961","text":"tuand: wait, you get the same problem?","ts":"1464100644.001044"},{"type":"message","user":"U0UGH3X7X","text":"no, just saw it in murali's log","ts":"1464100657.001045"},{"type":"message","user":"U0XR6J961","text":"yea","ts":"1464100662.001046"},{"type":"message","user":"U0XR6J961","text":"so the thing is that two complaints somehow are reordered, only the newer one is processed, that makes the older request stale","ts":"1464100686.001047"},{"type":"message","user":"U0XR6J961","text":"and then there is not enough time for the originator to re-submit its now stale request again","ts":"1464100709.001048"},{"type":"message","user":"U0XR6J961","text":"testing artifact, not a bug","ts":"1464100720.001049"},{"type":"message","user":"U0ULK2JPP","text":"so that means a bug in the test case because it fails ?","ts":"1464100752.001050"},{"type":"message","user":"U0XR6J961","text":"the problem is that there are goroutines, timers, race conditions","ts":"1464100831.001051"},{"type":"message","user":"U0ULK2JPP","text":"is this an artefact of a recent change ?","ts":"1464100876.001052"},{"type":"message","user":"U0XR6J961","text":"no, all our unit tests are that way","ts":"1464101022.001053"},{"type":"message","user":"U0XR6J961","text":"for better or worse","ts":"1464101027.001054"},{"type":"message","user":"U0XR6J961","text":"we need to get rid of all goroutines and replace everything with a linear state machine","ts":"1464101048.001055"},{"type":"message","user":"U0ULK2JPP","text":"I haven\u2019t seen this failure before\u2026. so assumed some recent change triggered this","ts":"1464101075.001056"},{"type":"message","user":"U0XR6J961","text":"no, stuff races all the time","ts":"1464101088.001057"},{"type":"message","user":"U0XR6J961","text":"does it fail repeatedly for you?","ts":"1464101097.001058"},{"type":"message","user":"U0ULK2JPP","text":"yes","ts":"1464101100.001059"},{"type":"message","user":"U0ULK2JPP","text":"3 times consecutively today","ts":"1464101115.001060"},{"type":"message","user":"U0ULK2JPP","text":"let me try once more","ts":"1464101129.001061"},{"type":"message","user":"U0XR6J961","text":"sorry about that","ts":"1464101159.001062"},{"type":"message","user":"U0ULK2JPP","text":"not at all","ts":"1464101167.001063"},{"type":"message","user":"U0ULK2JPP","text":"this is what I do","ts":"1464101187.001064"},{"type":"message","user":"U0ULK2JPP","text":"cd fabric\/consensus\/obcpbft","ts":"1464101191.001065"},{"type":"message","user":"U0ULK2JPP","text":"go test 1&gt;\/tmp\/out 2&gt;&amp;1","ts":"1464101197.001066"},{"type":"message","user":"U0ULK2JPP","text":"that\u2019s ok to do ?","ts":"1464101208.001067"},{"type":"message","user":"U0UGH3X7X","text":"that's fine","ts":"1464101232.001068"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F1BBJJESV\/pasted_image_at_2016_05_24_10_47_am.png|Pasted image at 2016-05-24, 10:47 AM> and commented: failed again\u2026 seems repeatable on my laptop at least","file":{"id":"F1BBJJESV","created":1464101279,"timestamp":1464101279,"name":"Pasted image at 2016_05_24 10_47 AM.png","title":"Pasted image at 2016-05-24, 10:47 AM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":73981,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1BBJJESV\/pasted_image_at_2016_05_24_10_47_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1BBJJESV\/download\/pasted_image_at_2016_05_24_10_47_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1BBJJESV-4ff70d2ac9\/pasted_image_at_2016_05_24_10_47_am_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1BBJJESV-4ff70d2ac9\/pasted_image_at_2016_05_24_10_47_am_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1BBJJESV-4ff70d2ac9\/pasted_image_at_2016_05_24_10_47_am_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":91,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1BBJJESV-4ff70d2ac9\/pasted_image_at_2016_05_24_10_47_am_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":121,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1BBJJESV-4ff70d2ac9\/pasted_image_at_2016_05_24_10_47_am_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1BBJJESV-4ff70d2ac9\/pasted_image_at_2016_05_24_10_47_am_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":182,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1BBJJESV-4ff70d2ac9\/pasted_image_at_2016_05_24_10_47_am_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":243,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1BBJJESV-4ff70d2ac9\/pasted_image_at_2016_05_24_10_47_am_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":259,"image_exif_rotation":1,"original_w":1052,"original_h":266,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F1BBJJESV\/pasted_image_at_2016_05_24_10_47_am.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1BBJJESV-9fe908c047","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc1BBQK5S6","created":1464101279,"timestamp":1464101279,"user":"U0ULK2JPP","is_intro":true,"comment":"failed again\u2026 seems repeatable on my laptop at least","channel":""}},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1464101317.001069"},{"type":"message","user":"U0XR6J961","text":"well the only suggestion is to disable the test","ts":"1464101342.001070"},{"type":"message","user":"U0XR6J961","text":"this is a combination of various races","ts":"1464101359.001071"},{"type":"message","user":"U0XR6J961","text":"the problem is:","ts":"1464101495.001072"},{"type":"message","user":"U0XR6J961","text":"1. replica 2 receives f+1 view-change requests with v=1\n2. replica 2's custody times out for req1; replica 2 complains\n3. replica 1 (new primary) receives complaint\n4. replica 1 receives 2f+1 view-change requests, becomes new primary, sends new-view; clears its complaint store\n5. replica 2's custody times out for req2; replica 2 complains\n6. replica 1 receives complaint for req2, sends-preprepare\n7. req2 gets ordered and committed; req1 is now stale\n8. test ends\n\n-&gt; req1's custody never expires again so that replica 1 can resubmit the request","edited":{"user":"U0XR6J961","ts":"1464101765.000000"},"ts":"1464101736.001073"},{"type":"message","user":"U0UGH3X7X","text":"can we move the test to behave ?  maybe we can control the sequence a bit better there","ts":"1464102009.001075"},{"type":"message","user":"U0ULK2JPP","text":"I guess I know the answer, but let me ask anyway :slightly_smiling_face: \u2026 this seems to happen with the recent change I pulled","ts":"1464102182.001076"},{"type":"message","user":"U0ULK2JPP","text":"Srinivasans-MBP:fabric muralisr$ git fetch upstream\nremote: Counting objects: 85, done.\nremote: Compressing objects: 100% (26\/26), done.\nremote: Total 85 (delta 51), reused 40 (delta 40), pack-reused 19\nUnpacking objects: 100% (85\/85), done.\nFrom <https:\/\/github.com\/hyperledger\/fabric>\n   c6628c2..e38141f  master     -&gt; upstream\/master\nSrinivasans-MBP:fabric muralisr$ git merge upstream\/master\nUpdating c6628c2..e38141f\nFast-forward\n consensus\/helper\/handler.go                   | 145 +------\n consensus\/obcpbft\/complainer.go               |  38 +-\n consensus\/obcpbft\/custodian\/custodian.go      |  80 ++--\n consensus\/obcpbft\/custodian\/custodian_test.go |  41 +-\n consensus\/obcpbft\/mock_utilities_test.go      |  30 +-\n consensus\/obcpbft\/obc-batch.go                |  85 ++--\n consensus\/obcpbft\/obc-batch_test.go           |  57 ++-\n consensus\/obcpbft\/obc-sieve.go                |  10 +-\n core\/chaincode\/chaincodetest.yaml             | 540 ++++++++++++++++++++++++++\n core\/chaincode\/config.go                      |   6 +-\n core\/chaincode\/exectransaction_test.go        | 418 ++++++++++++++------\n core\/chaincode\/handler.go                     |  43 +-\n core\/rest\/rest_api.go                         |  22 +-\n 13 files changed, 1136 insertions(+), 379 deletions(-)","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric","thumb_width":142,"thumb_height":142,"id":1}],"ts":"1464102184.001077"},{"type":"message","user":"U0ULK2JPP","text":"what does the test FAIL signify ?","ts":"1464102212.001079"},{"type":"message","user":"U0ULK2JPP","text":"can any of the changes above make the timing dependencies more accute ?","ts":"1464102282.001080"},{"type":"message","user":"U0ULK2JPP","text":"I know this is likely hard to answer but still worth asking I think","ts":"1464102303.001081"},{"type":"message","user":"U0XR6J961","text":"timing is timing","ts":"1464102342.001082"},{"type":"message","user":"U0ULK2JPP","text":"and +1 for <@U0UGH3X7X> suggestion to move this to behave\u2026. but it could fail there too","edited":{"user":"U0ULK2JPP","ts":"1464102363.000000"},"ts":"1464102346.001083"},{"type":"message","user":"U0XR6J961","text":"we also fixed some complaints bugs","ts":"1464102349.001084"},{"type":"message","user":"U0ULK2JPP","text":"fair enough","ts":"1464102367.001086"},{"type":"message","user":"U0XR6J961","text":"i guess CI and my machine are so slow that this ordering doesn't happen :slightly_smiling_face:","ts":"1464102430.001087"},{"type":"message","user":"U0ULK2JPP","text":"it failed in CI too today","ts":"1464102458.001088"},{"type":"message","user":"U0XR6J961","text":"aha","ts":"1464102464.001089"},{"type":"message","user":"U0ULK2JPP","text":"and was soon after a chaincode-callinc-chaincode fix was pulled","ts":"1464102496.001090"},{"type":"message","user":"U0ULK2JPP","text":"and wanted to understand if this failure could be because of that","ts":"1464102540.001091"},{"user":"U1AU8DRQR","type":"message","subtype":"channel_join","text":"<@U1AU8DRQR|hgabor> has joined the channel","ts":"1464102627.001092"},{"type":"message","user":"U1AU8DRQR","text":"hello","ts":"1464102635.001093"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> <@U0TFEHX8E> <https:\/\/github.com\/hyperledger\/fabric\/pull\/1527> is ready to merge from my perspective\u2026but should I hold off until we get clarity on 1549 fix\/revert situation?","edited":{"user":"U0KPFAZNF","ts":"1464102721.000000"},"ts":"1464102713.001094"},{"type":"message","user":"U0KPFAZNF","text":"hello <@U1AU8DRQR>, welcome to fabric-dev","ts":"1464102746.001097"},{"type":"message","user":"U1AU8DRQR","text":"I ve forked fabric and tried to create some chaincode. is there any preferred way for logging? to log some messages from my chaincode?","ts":"1464102756.001098"},{"type":"message","user":"U0KPFAZNF","text":"<@U1AU8DRQR>: yes, <@U0N1D1UAE> just added some nice facilities in there recently","ts":"1464102778.001099"},{"type":"message","user":"U0TFEHX8E","text":"<@U0KPFAZNF>:  yes, I don\u2019t want to merge anything else until there is a resolution to the current problem. Will make it easier to back stuff out if needed","ts":"1464102788.001100"},{"type":"message","user":"U0KPFAZNF","text":"ill defer to him on the details though, as I havent studied it closely","ts":"1464102792.001101"},{"type":"message","user":"U1AU8DRQR","text":"thx :slightly_smiling_face:","ts":"1464102803.001102"},{"type":"message","user":"U0KPFAZNF","text":"<@U0TFEHX8E>: agreed, sounds good","ts":"1464102804.001103"},{"type":"message","user":"U0KPFAZNF","text":"will consider merges frozen until we talk again","ts":"1464102842.001104"},{"type":"message","user":"U0N1D1UAE","text":"<@U1AU8DRQR> Please see <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/dev-setup\/logging-control.md>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/dev-setup\/logging-control.md","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/dev-setup\/logging-control.md","thumb_width":142,"thumb_height":142,"id":1}],"ts":"1464102882.001105"},{"type":"message","user":"U1AU8DRQR","text":"I ll check it out, thanks","ts":"1464102930.001107"},{"type":"message","user":"U11MANG9G","text":"---\nOn a separate topic, I want to run some API change proposition by you guys.","ts":"1464103150.001108"},{"type":"message","user":"U11MANG9G","text":"The REST API has a `GetTransactionCert()` call which allows the caller to specify how many TCerts are required (BTW: as an embedded 'count' parameter). \"Underneath\",  there is a loop calling GetNextTCert() say K times, at the rest_api (.go) level.","edited":{"user":"U11MANG9G","ts":"1464104028.000000"},"ts":"1464103185.001109"},{"type":"message","user":"U11MANG9G","text":"We need to be able to do this more efficiently, and one proposition\/option is to add another method, say: `GetNextTCerts( nCerts uint32 )`","edited":{"user":"U11MANG9G","ts":"1464103668.000000"},"ts":"1464103271.001111"},{"type":"message","user":"U11MANG9G","text":"See the existing code in: <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/crypto\/client_impl.go#L58>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/crypto\/client_impl.go#L58","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/crypto\/client_impl.go#L58","thumb_width":142,"thumb_height":142,"id":1}],"ts":"1464103305.001112"},{"type":"message","user":"U11MANG9G","text":"Another option is that instead of having 2 exposed functions - to rather have just one: `GetNextTCerts( nCerts uint32 )`, returning a slice of TCerts (which can be used to also obtain 1 TCert when needed, as I'd rather not to duplicate logic\/implementation). \nI want to pick your brain, and before diving into this, to make sure that I'm not missing anything...","edited":{"user":"U11MANG9G","ts":"1464103839.000000"},"ts":"1464103383.001114"},{"type":"message","user":"U11MANG9G","text":"=======\nIn other words: Any objections to having a single function call, say:\n\n`func (client *clientImpl) GetNextTCerts( nTCerts uint32 ) ( []tCerts, error) `\n\nand change the current calls to `func (client *clientImpl) GetNextTCert() (tCert, error)` accordingly as the new function returns a slice...","edited":{"user":"U11MANG9G","ts":"1464103889.000000"},"ts":"1464103572.001116"},{"type":"message","user":"U11MANG9G","text":"<@U0N1D1UAE>, <@U0KN2SSKE>, <@U0KM61BCP>, <@U0KPFAZNF>, <@U0S5KF44D>, <@U0TFEHX8E> (&amp; <!channel>): unless there's any stern objection, I'll put this proposition (also) in a GitHub issue... there are many\/several references that will need a change, which is why I'm asking widely.","edited":{"user":"U11MANG9G","ts":"1464105250.000000"},"ts":"1464105190.001127"},{"type":"message","user":"U0TFEHX8E","text":"<@U11MANG9G>: so the loop would move to client_impl.go? I\u2019m not that familiar with this code, but it looks like the tcertPool interface only allows fetching one tcert at a time.","ts":"1464105369.001129"},{"type":"message","user":"U0TFEHX8E","text":"probably <@U0XQX3U9G> would be a good person to ask","ts":"1464105403.001130"},{"type":"message","user":"U11MANG9G","text":"So first, I want to remove the logic from the rest_api.go, so that we can reuse this logic, and not have it at the API layer.","ts":"1464105468.001131"},{"type":"message","user":"U11MANG9G","text":"Second, yes, <@U0PKGK7KK> is aware of this (see #890), the client_impl.go will change to reflect (and have) this logic or retrieving multiple TCerts","ts":"1464105542.001132"},{"type":"message","user":"U11MANG9G","text":"Third, while addressing 1 &amp; 2, I am trying not to have an extra functions, but to have only 1.","edited":{"user":"U11MANG9G","ts":"1464105582.000000"},"ts":"1464105575.001133"},{"type":"message","user":"U0XQX3U9G","text":"Hello Jonathan, let me take a look","ts":"1464105576.001134"},{"type":"message","user":"U0Z81GL6S","text":"it\u2019s a good point\u2026 i always wondered why the crypto layer was not able to handle the retrieval of multiple TCerts. i support the proposal described above for \n`func (client *clientImpl) GetNextTCerts( nTCerts uint32 ) ( []tCerts, error)`","ts":"1464105654.001136"},{"type":"message","user":"U11MANG9G","text":"Thank you <@U0Z81GL6S>. I also noticed that it's sometimes confusing that the Handler, has only one cert underneath...","ts":"1464105700.001137"},{"type":"message","user":"U11MANG9G","text":"I'm trying to make it more intuitive, so that the logic is underneath the API.","ts":"1464105718.001138","reactions":[{"name":"+1","users":["U0Z81GL6S"],"count":1}]},{"type":"message","user":"U0XQX3U9G","text":"Yes, as Anya mentioned that is the idea, to have a REST method to retrieve multiple TCerts at a time, moving that loop to the crypto layer","ts":"1464105766.001139"},{"type":"message","user":"U11MANG9G","text":"<@U0XQX3U9G>: would you agree that we can use only one external function for both uses? (a single TCert or more)?","ts":"1464105767.001140"},{"type":"message","user":"U11MANG9G","text":"<@U0XQX3U9G>: Awesome!","ts":"1464105780.001141"},{"type":"message","user":"U0XQX3U9G","text":"be aware that there are two implementations for the TCert pool, one single threaded and one multi threaded, some changes need to be done in the multi-threaded version probably, you can check with <@U11M1GJHG> since he had to modify it to support attributes","ts":"1464105834.001142"},{"type":"message","user":"U11MANG9G","text":"<@U0XQX3U9G>: Yes, noticed that. Thanks.","ts":"1464105860.001143"},{"type":"message","user":"U0XQX3U9G","text":"Could be only one function but for clarity I would like to have the two functions, one can be constructed on top of the other, I don\u2019t know what <@U0Z81GL6S> thinks about that","ts":"1464105906.001144"},{"type":"message","user":"U11MANG9G","text":"Other than <@U0XQX3U9G>'s support, any objections for changing the API as proposed above?","ts":"1464105918.001145"},{"type":"message","user":"U11MANG9G","text":"I'd rather have only one function exposed with all the logic.","ts":"1464105938.001146"},{"type":"message","user":"U11MANG9G","text":"Both for a single TCert or more, same call...","ts":"1464105986.001147"},{"type":"message","user":"U0Z81GL6S","text":"I think having a single function exposed on the crypto layer to retrieve TCerts is just fine The REST layer will still need to pass a query parameter to specify how many are needed, just as it does today. Though I do know know any specifics regarding the multi-threading that <@U0XQX3U9G> is mentioning. So if that introduces some extra complexity in making this work, i think having two separate calls are fine too. If not, one call is more transparent and better IMO.","ts":"1464106095.001148"},{"type":"message","user":"U11MANG9G","text":"Yeah, I'd rather spend the (not too much) extra time to do the 'right' thing.... as this is a core feature of membersrvcs.","ts":"1464106213.001149"},{"type":"message","user":"U11MANG9G","text":"As I mentioned, we can always wrap the single TCert request with a `GetNextTCerts(1)` call","ts":"1464106285.001150"},{"type":"message","user":"U0XQX3U9G","text":"that is what I was thinking when I mentioned having the two methods","ts":"1464106317.001151","reactions":[{"name":"+1","users":["U11MANG9G"],"count":1}]},{"type":"message","user":"U0XQX3U9G","text":"for the pools check with Andres, he can tell you how complex making changes there could be and probably you can provide additional input since we want to redesign that functionality","ts":"1464106381.001152"},{"type":"message","user":"U11MANG9G","text":"Yes, will check with <@U11M1GJHG> too, thanks! Yeah, I can tell how painful some these are...","ts":"1464106460.001153"},{"user":"U11M1GJHG","inviter":"U11MANG9G","type":"message","subtype":"channel_join","text":"<@U11M1GJHG|andres> has joined the channel","ts":"1464106473.001154"},{"type":"message","user":"U11MANG9G","text":"Still, any objections (client-sdk-wise), or otherwise, do let me know.\n\nIn the meantime, I'm putting together a few issues with these...","ts":"1464106553.001155"},{"user":"U197CR6BF","type":"message","subtype":"channel_join","text":"<@U197CR6BF|guglielmo_n> has joined the channel","ts":"1464106657.001156"},{"type":"message","user":"U0KN2SSKE","text":"i would get <@U0ZR63HLK> \u2019s advice on changes at crypto layer \u2014 also whether this function is used by the node.js client sdk <@U0S5KF44D>","ts":"1464106721.001157","reactions":[{"name":"+1","users":["U11MANG9G"],"count":1}]},{"type":"message","user":"U0XR6J961","text":"<@U0TFEHX8E>, <@U0ULK2JPP>: i submitted a PR to disable the test for now","ts":"1464107880.001158"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0ULK2JPP>: once that fire is out I'd appreciate if you could have a look at the PR I submitted regarding the handling of GOPATH in chaincode handling <https:\/\/github.com\/hyperledger\/fabric\/pull\/1556>","attachments":[{"service_name":"GitHub","title":"Fix Issue 866 and more by lehors \u00b7 Pull Request #1556 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1556","text":"Description This PR cleans up the way GOPATH is handled when deploying a chaincode so that when GOPATH contains multiple elements, double slashes, trailing spaces, etc, deployment can still succ...","fallback":"GitHub: Fix Issue 866 and more by lehors \u00b7 Pull Request #1556 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/6464618?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1556","thumb_width":300,"thumb_height":300,"id":1}],"ts":"1464108116.001159"},{"type":"message","user":"U0ULK2JPP","text":"<@U0P2GSA8Z>: sure thing. definitely before sometime tonight. Will that work ?","ts":"1464108205.001161"},{"type":"message","user":"U0P2GSA8Z","text":"sure, thank you","ts":"1464108266.001162"},{"type":"message","user":"U0TFEHX8E","text":"<@U0XR6J961>: for some reason Travis did not run on your PR. Restarting now","ts":"1464109489.001163"},{"type":"message","user":"U197CR6BF","text":"Hi All. I am trying to run the Asset Management example.\nI am using the REST API directly. All goes well apparently, until I try a query. And this is what I get:\n\n```{\"jsonrpc\":\"2.0\",\"error\":{\"code\":-32003,\"message\":\"Query failure\",\"data\":\"Error when querying chaincode: Error:Failed to execute transaction or query(Timeout expired while executing transaction)\"},\"id\":1464109660}```\n\nI think I have my environment set up correctly, as I can execute example02. \n\nWhat is the current status of Asset Management on master? What can I do to track down the cause of the timeout? I am really new to the community, so any help will be greatly appreciated! Thank you.","ts":"1464110805.001164"},{"type":"message","user":"U0ULK2JPP","text":"<@U197CR6BF>: two resources (1) peer log and (2) chaincode log","ts":"1464111014.001165"},{"type":"message","user":"U0ULK2JPP","text":"there are two \u201casset_manament\u201d tests","edited":{"user":"U0ULK2JPP","ts":"1464111055.000000"},"ts":"1464111041.001166"},{"type":"message","user":"U197CR6BF","text":"This is the payload for the query:\n```{\n  \"jsonrpc\": \"2.0\",\n  \"method\": \"query\",\n  \"params\": {\n    \"type\": 1,\n    \"chaincodeID\": {\n      \"name\": \"0ac5a08d42014a017c21d67d52e94635c9d1362215fc29d5f25f9f9bc9c4b2307c56802f257317bef2700715f6a6c050d02dc093bea0e456f7b6e55e4e91601b\"\n    },\n    \"ctorMsg\": {\n      \"function\": \"query\",\n      \"args\": [\"Picasso\"]\n    },\n    \"secureContext\": \"lukas\"\n  },\n  \"id\": 1464109660```\n\nFor context, I am logged in with user 'lukas', and I assigned a \"Picasso\" asset to user \"test_user0\"","ts":"1464111059.001168"},{"type":"message","user":"U0ULK2JPP","text":"which one are you refering to ?","ts":"1464111063.001169"},{"type":"message","user":"U0ULK2JPP","text":"examples\/chaincode\/go\/asset_management ?","ts":"1464111123.001170"},{"type":"message","user":"U197CR6BF","text":"<@U0ULK2JPP>: Going to attach logs! I have deployed this chaincode: <http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/asset_management|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/asset_management>","ts":"1464111143.001171"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1464111150.001172"},{"type":"message","user":"U197CR6BF","text":"vp0.log is quite big (2.8 MB), I'll try to extract the relevant portion. Thanks for offering help, <@U0ULK2JPP>","ts":"1464111289.001173"},{"type":"message","user":"U0ULK2JPP","text":"sure","ts":"1464111334.001174"},{"type":"message","user":"U197CR6BF","text":"```cat vp0.log | grep -v PEER | grep -v PeersMessage &gt; vp0.short.log```","ts":"1464111422.001175"},{"type":"message","user":"U197CR6BF","text":"62K","ts":"1464111432.001176"},{"type":"message","user":"U0ULK2JPP","text":"well, I think we need the whole log","ts":"1464111483.001177"},{"type":"message","user":"U197CR6BF","text":"okay, will try to find a significant snippet, but intact","ts":"1464111559.001178"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019d look for (1) errors after deploy or invoke (not just query)","ts":"1464111591.001179"},{"type":"message","user":"U0ULK2JPP","text":"and (2) docker ps  (to see if the chaincode is running)","ts":"1464111611.001180"},{"type":"message","user":"U0ULK2JPP","text":"and docker logs   &lt;chaincode container id&gt;","ts":"1464111664.001181"},{"type":"message","user":"U0ULK2JPP","text":"ie, if you try and trace the logs after each action hopefully you\u2019ll get the root cause","ts":"1464111693.001182"},{"type":"message","user":"U197CR6BF","text":"I have the \"peer node start\" container up (only)","ts":"1464111693.001183"},{"type":"message","user":"U197CR6BF","text":"```$ sudo docker ps\nCONTAINER ID        IMAGE                                COMMAND             CREATED             STATUS              PORTS                                                                                    NAMES\n0d104dbdc9f0        mikezaccardo\/hyperledger-peer:pbft   \"peer node start\"   About an hour ago   Up About an hour    0.0.0.0:5000-&gt;5000\/tcp, 0.0.0.0:30303-30304-&gt;30303-30304\/tcp, 0.0.0.0:31315-&gt;31315\/tcp   vp0```","ts":"1464111716.001184"},{"type":"message","user":"U0ULK2JPP","text":"after deploy you should see a container get started","ts":"1464111716.001185"},{"type":"message","user":"U0ULK2JPP","text":"docker ps -a","ts":"1464111727.001186"},{"type":"message","user":"U197CR6BF","text":"```$ sudo docker ps -a\nCONTAINER ID        IMAGE                                                                                                                                      COMMAND                  CREATED             STATUS                      PORTS                                                                                    NAMES\nbd57ffc9a300        dev-vp0-0ac5a08d42014a017c21d67d52e94635c9d1362215fc29d5f25f9f9bc9c4b2307c56802f257317bef2700715f6a6c050d02dc093bea0e456f7b6e55e4e91601b   \"\/opt\/gopath\/bin\/0ac5\"   35 minutes ago      Exited (2) 34 minutes ago                                                                                            dev-vp0-0ac5a08d42014a017c21d67d52e94635c9d1362215fc29d5f25f9f9bc9c4b2307c56802f257317bef2700715f6a6c050d02dc093bea0e456f7b6e55e4e91601b\n0d104dbdc9f0        mikezaccardo\/hyperledger-peer:pbft                                                                                                         \"peer node start\"        About an hour ago   Up About an hour            0.0.0.0:5000-&gt;5000\/tcp, 0.0.0.0:30303-30304-&gt;30303-30304\/tcp, 0.0.0.0:31315-&gt;31315\/tcp   vp0```","ts":"1464111757.001187"},{"type":"message","user":"U0ULK2JPP","text":"docker logs 0ac5a08d42 &gt; \/tmp\/cc.log","ts":"1464111779.001188"},{"type":"message","user":"U0ULK2JPP","text":"sorry","ts":"1464111808.001189"},{"type":"message","user":"U0ULK2JPP","text":"docker logs bd57 &gt; \/tmp\/cc.lgo","ts":"1464111823.001190"},{"type":"message","user":"U0ULK2JPP","text":"i\u2019m guessing it exited due to an error and that would help guide to root cause","ts":"1464111883.001191"},{"type":"message","subtype":"file_share","text":"<@U197CR6BF|guglielmo_n> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/guglielmo_n\/F1BD65CER\/-.m|Untitled>","file":{"id":"F1BD65CER","created":1464111902,"timestamp":1464111902,"name":"-.m","title":"Untitled","mimetype":"text\/plain","filetype":"objc","pretty_type":"Objective-C","user":"U197CR6BF","editable":true,"size":4509,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1BD65CER\/-.m?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1BD65CER\/download\/-.m?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/guglielmo_n\/F1BD65CER\/-.m","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1BD65CER-227f90c3e3","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/guglielmo_n\/F1BD65CER\/-.m\/edit","preview":"```$ sudo docker logs bd57 > cc.log\r\n17:07:02.064 [shim] DEBU : Peer address: 10.102.2.228:30303\r\n17:07:02.065 [shim] DEBU : os.Args returns: [\/opt\/gopath\/bin\/0ac5a08d42014a017c21d67d52e94635c9d1362215fc29d5f25f9f9bc9c4b2307c56802f257317bef2700715f6a6c050d02dc093bea0e456f7b6e55e4e91601b -peer.address=10.102.2.228:30303]\r\n17:07:02.065 [shim] DEBU : Registering.. sending REGISTER\r\n17:07:02.066 [shim] DEBU : []Received message REGISTERED from shim\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-variable\">`<\/span><span class=\"cm-variable\">`<\/span><span class=\"cm-variable\">`$<\/span> <span class=\"cm-variable\">sudo<\/span> <span class=\"cm-variable\">docker<\/span> <span class=\"cm-variable\">logs<\/span> <span class=\"cm-variable\">bd57<\/span> <span class=\"cm-operator\">&gt;<\/span> <span class=\"cm-variable\">cc<\/span>.<span class=\"cm-variable\">log<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-number\">17<\/span>:<span class=\"cm-number\">07<\/span>:<span class=\"cm-number\">02.064<\/span> [<span class=\"cm-variable\">shim<\/span>] <span class=\"cm-variable\">DEBU<\/span> : <span class=\"cm-variable\">Peer<\/span> <span class=\"cm-variable\">address<\/span>: <span class=\"cm-number\">10.102<\/span>.<span class=\"cm-number\">2.228<\/span>:<span class=\"cm-number\">30303<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-number\">17<\/span>:<span class=\"cm-number\">07<\/span>:<span class=\"cm-number\">02.065<\/span> [<span class=\"cm-variable\">shim<\/span>] <span class=\"cm-variable\">DEBU<\/span> : <span class=\"cm-variable\">os<\/span>.<span class=\"cm-variable\">Args<\/span> <span class=\"cm-variable\">returns<\/span>: [<span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">opt<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">gopath<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">bin<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-number\">0<\/span><span class=\"cm-variable\">ac5a08d42014a017c21d67d52e94635c9d1362215fc29d5f25f9f9bc9c4b2307c56802f257317bef2700715f6a6c050d02dc093bea0e456f7b6e55e4e91601b<\/span> <span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">peer<\/span>.<span class=\"cm-variable\">address<\/span><span class=\"cm-operator\">=<\/span><span class=\"cm-number\">10.102<\/span>.<span class=\"cm-number\">2.228<\/span>:<span class=\"cm-number\">30303<\/span>]<\/pre><\/div>\n<div><pre><span class=\"cm-number\">17<\/span>:<span class=\"cm-number\">07<\/span>:<span class=\"cm-number\">02.065<\/span> [<span class=\"cm-variable\">shim<\/span>] <span class=\"cm-variable\">DEBU<\/span> : <span class=\"cm-variable\">Registering<\/span>.. <span class=\"cm-variable\">sending<\/span> <span class=\"cm-variable\">REGISTER<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-number\">17<\/span>:<span class=\"cm-number\">07<\/span>:<span class=\"cm-number\">02.066<\/span> [<span class=\"cm-variable\">shim<\/span>] <span class=\"cm-variable\">DEBU<\/span> : []<span class=\"cm-variable\">Received<\/span> <span class=\"cm-variable\">message<\/span> <span class=\"cm-variable\">REGISTERED<\/span> <span class=\"cm-variable\">from<\/span> <span class=\"cm-variable\">shim<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":61,"lines_more":56,"preview_is_truncated":null,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U197CR6BF","upload":true,"display_as_bot":false,"username":"<@U197CR6BF|guglielmo_n>","bot_id":null,"ts":"1464111903.001192"},{"type":"message","user":"U197CR6BF","text":"yeah, `index out of range`","ts":"1464111953.001193"},{"type":"message","user":"U0ULK2JPP","text":"let me check","ts":"1464112009.001194"},{"type":"message","user":"U197CR6BF","text":"thanks!","ts":"1464112049.001195"},{"user":"U196W47SL","type":"message","subtype":"channel_join","text":"<@U196W47SL|sjcorbett> has joined the channel","ts":"1464112065.001196"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019m guessing the array element access in  \"        myLogger.Debug(\"Query done [% x]\", row.Columns[1].GetBytes())\u201d in asset_management.go","ts":"1464112222.001197"},{"type":"message","user":"U0ULK2JPP","text":"line 278","ts":"1464112233.001198"},{"type":"message","user":"U0ULK2JPP","text":"can you debug with that ?","ts":"1464112240.001199"},{"type":"message","user":"U197CR6BF","text":"I suppose I could debug it, but as I'm trying to run the examples to understand the big picture, I first wanted to know if it was something I did wrong with my setup. It looks like a bug, correct?","ts":"1464112491.001200"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019m not sure","ts":"1464112531.001201"},{"type":"message","user":"U0ULK2JPP","text":"it is on the face of it. but it might be the asset manage,ent code is expecting something","ts":"1464112570.001202"},{"type":"message","user":"U0ULK2JPP","text":"in other words it _could_ be user error exposing an unwarranted assumption","ts":"1464112603.001203"},{"type":"message","user":"U197CR6BF","text":"okay, so maybe I invoked the chaincode with bad parameters, or something like that, and that exposed an assumption in the code","ts":"1464112694.001204"},{"type":"message","user":"U0ULK2JPP","text":"sure, something like that","ts":"1464112702.001205"},{"type":"message","user":"U0ULK2JPP","text":"I think a bit of debug will help figure out where exactly the problem is","ts":"1464112724.001206"},{"type":"message","user":"U197CR6BF","text":"so it's not a bug, as in a bug in the algorithm, but maybe a parameter check is missing somewhere","ts":"1464112786.001207"},{"type":"message","user":"U197CR6BF","text":"in this case should I raise an issue anyway?","ts":"1464112895.001208"},{"type":"message","user":"U197CR6BF","text":"or just a PR if I find the real cause or the missing check?","edited":{"user":"U197CR6BF","ts":"1464112959.000000"},"ts":"1464112918.001209"},{"type":"message","user":"U0ULK2JPP","text":"once you have more info, by all means!","ts":"1464113099.001211"},{"type":"message","user":"U0ULK2JPP","text":"just that it maybe easier for you to debug given you have done this once","ts":"1464113136.001212"},{"type":"message","user":"U197CR6BF","text":"Oh I actually still haven't debugged Go code in this context (HL).\nFor my immediate purposes I'll first go on trying other examples, to rule out the possibility that I have set up something in a wrong manner. But I will return to it! \nThanks again!","ts":"1464113530.001213"},{"type":"message","user":"U0ULK2JPP","text":"sure thing. here to help!","ts":"1464113602.001214"},{"user":"U0N5VR45B","type":"message","subtype":"channel_join","text":"<@U0N5VR45B|david.stark> has joined the channel","ts":"1464117501.001215"},{"user":"U1BENKMD0","type":"message","subtype":"channel_join","text":"<@U1BENKMD0|andreaturli> has joined the channel","ts":"1464119727.001216"},{"type":"message","user":"U197CR6BF","text":"is there any example of a JSON payload for the REST API with security enabled?","ts":"1464122718.001217"},{"user":"U0X3PTHN0","type":"message","subtype":"channel_join","text":"<@U0X3PTHN0|duncanjw> has joined the channel","ts":"1464134962.001218"},{"type":"message","user":"U0X3PTHN0","text":"<@U197CR6BF>: can you share all the operations you performed?","ts":"1464135052.001219"},{"type":"message","user":"U196R0LA2","text":"i may have figured out what\u2019s wrong with <@U197CR6BF> setup \u2014 metadata is missing from his REST requests, specifically the admin certificate","edited":{"user":"U196R0LA2","ts":"1464137058.000000"},"ts":"1464136912.001220"},{"type":"message","user":"U196R0LA2","text":"<!here|@here> what is the proper format for metadata in a POST to \/chaincode?","ts":"1464136939.001221"},{"type":"message","user":"U196R0LA2","text":"and related: how should a certificate be expressed? i\u2019d like to assign the value of a user\u2019s certificate to \u201cmetadata\u201d. can i just paste the value from \/registrar\/$user\/ecert?","edited":{"user":"U196R0LA2","ts":"1464138088.000000"},"ts":"1464138063.001223"},{"type":"message","user":"U196R0LA2","text":"now we might be getting somewhere!\n\n```\n{\n  \"jsonrpc\": \"2.0\",\n  \"method\": \"deploy\",\n  \"params\": {\n      \"type\": 1,\n      \"chaincodeID\":{\n          \"path\":\"<http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/asset_management|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/asset_management>\"\n      },\n      \"ctorMsg\": {\n          \"function\":\"init\"\n      },\n      \"metadata\": \"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlCc0RDQ0FWYWdBd0lCQWdJQkFUQUtCZ2dxaGtqT1BRUURBekF4TVFzd0NRWURWUVFHRXdKVlV6RVVNQklHDQpBMVVFQ2hNTFNIbHdaWEpzWldSblpYSXhEREFLQmdOVkJBTVRBMlZqWVRBZUZ3MHhOakExTWpVd01ESTVOVFZhDQpGdzB4TmpBNE1qTXdNREk1TlRWYU1FQXhDekFKQmdOVkJBWVRBbFZUTVJRd0VnWURWUVFLRXd0SWVYQmxjbXhsDQpaR2RsY2pFYk1Ca0dBMVVFQXd3U2JIVnJZWE5jWW1GdWExOWhYREF3TURBeE1Ga3dFd1lIS29aSXpqMENBUVlJDQpLb1pJemowREFRY0RRZ0FFMS9RVUJYaFp4UzhVczNWbXY1OFI1M2hGU3dWek9sZmxZeXlDazY1RDlBR1A2NThWDQpTSldGYlZLekFYWllhdkFsV3RMdlJ1blNVMzNTbktRYUtwMW1xYU5RTUU0d0RnWURWUjBQQVFIL0JBUURBZ2VBDQpNQXdHQTFVZEV3RUIvd1FDTUFBd0RRWURWUjBPQkFZRUJBRUNBd1F3RHdZRFZSMGpCQWd3Qm9BRUFRSURCREFPDQpCZ1pSQXdRRkJnY0JBZjhFQVRFd0NnWUlLb1pJemowRUF3TURTQUF3UlFJaEFMcjVSem9qWmNhNTVSVTdXZnFHDQo3d1MwcUowMitTOEFpVXJ5cjBqZXNFSmJBaUJGSUI1TFI3YVQ2NVNxQy96b0J3VFJkV2RLNUJFTE1WM3d4bWVKDQphQ0FjN2c9PQ0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ==\",\n      \"secureContext\": \"lukas\"\n  },\n  \"id\": 1464023039\n}\n```","edited":{"user":"U196R0LA2","ts":"1464139282.000000"},"ts":"1464138678.001227"},{"type":"message","user":"U196R0LA2","text":"```\n{\n  \"jsonrpc\": \"2.0\",\n  \"result\": {\n    \"status\": \"OK\",\n    \"message\": \"d5edee9650db08c02af4737e9990450652e4cf7f803fc8e20c4403c2f67017cd6c5bc85941b5f7ca67d1556d1825871e22a98e4467af6d1fdd8ea1e0d0465ef6\"\n  },\n  \"id\": 1464023039\n}\n```","ts":"1464138693.001228"},{"type":"message","user":"U0X3PTHN0","text":"<@U196R0LA2>: cool","ts":"1464139026.001229"},{"type":"message","user":"U197CR6BF","text":"Thanks for figuring this out <@U196R0LA2>: this is exactly what was missing there!","ts":"1464160167.001231"},{"type":"message","user":"U11TAFPUP","text":"<@U196R0LA2>: When I get \/registra\/jim\/ecert, I got a result.","ts":"1464168936.001232"},{"type":"message","user":"U11TAFPUP","text":"{\"OK\": \"-----BEGIN+CERTIFICATE-----%0AMIIBrTCCAVSgAwIBAgIBATAKBggqhkjOPQQDAzAxMQswCQYDVQQGEwJVUzEUMBIG%0AA1UEChMLSHlwZXJsZWRnZXIxDDAKBgNVBAMTA2VjYTAeFw0xNjA1MjUwOTI2Mjda%0AFw0xNjA4MjMwOTI2MjdaMD4xCzAJBgNVBAYTAlVTMRQwEgYDVQQKEwtIeXBlcmxl%0AZGdlcjEZMBcGA1UEAwwQamltXGJhbmtfYVwwMDAwNDBZMBMGByqGSM49AgEGCCqG%0ASM49AwEHA0IABGH8pkK7SP3gZuVhchWGgcbIPTBX1EDVMBbeNqMLuyHYmZLPj0nj%0AwaLMo2CimHeAMZzVHn4%2BEbvDYie9TLL0vsCjUDBOMA4GA1UdDwEB%2FwQEAwIHgDAM%0ABgNVHRMBAf8EAjAAMA0GA1UdDgQGBAQBAgMEMA8GA1UdIwQIMAaABAECAwQwDgYG%0AUQMEBQYHAQH%2FBAExMAoGCCqGSM49BAMDA0cAMEQCIAPVdoW98j8ub%2FH5gRfxdq2k%0A3u2SrkWPa196d6FOnH2NAiAjm78eke4KTVALnOFOZCtIjLh5GVfJjRtdWu%2FF06Bq%0Aww%3D%3D%0A-----END+CERTIFICATE-----%0A\"}","ts":"1464168938.001233"},{"type":"message","user":"U11TAFPUP","text":"what is metadata for next requests?","ts":"1464168978.001234"},{"type":"message","user":"U11TAFPUP","text":"we should parse","ts":"1464169149.001235"},{"type":"message","user":"U11TAFPUP","text":"\"-----BEGIN+CERTIFICATE-----%0AMIIBrTCCAVSgAwIBAgIBATAKBggqhkjOPQQDAzAxMQswCQYDVQQGEwJVUzEUMBIG%0AA1UEChMLSHlwZXJsZWRnZXIxDDAKBgNVBAMTA2VjYTAeFw0xNjA1MjUwOTI2Mjda%0AFw0xNjA4MjMwOTI2MjdaMD4xCzAJBgNVBAYTAlVTMRQwEgYDVQQKEwtIeXBlcmxl%0AZGdlcjEZMBcGA1UEAwwQamltXGJhbmtfYVwwMDAwNDBZMBMGByqGSM49AgEGCCqG%0ASM49AwEHA0IABGH8pkK7SP3gZuVhchWGgcbIPTBX1EDVMBbeNqMLuyHYmZLPj0nj%0AwaLMo2CimHeAMZzVHn4%2BEbvDYie9TLL0vsCjUDBOMA4GA1UdDwEB%2FwQEAwIHgDAM%0ABgNVHRMBAf8EAjAAMA0GA1UdDgQGBAQBAgMEMA8GA1UdIwQIMAaABAECAwQwDgYG%0AUQMEBQYHAQH%2FBAExMAoGCCqGSM49BAMDA0cAMEQCIAPVdoW98j8ub%2FH5gRfxdq2k%0A3u2SrkWPa196d6FOnH2NAiAjm78eke4KTVALnOFOZCtIjLh5GVfJjRtdWu%2FF06Bq%0Aww%3D%3D%0A-----END+CERTIFICATE-----%0A\"","ts":"1464169151.001236"},{"type":"message","user":"U11TAFPUP","text":"to encoding base64?","ts":"1464169160.001237"},{"type":"message","user":"U196R0LA2","text":"we\u2019ve actually switched to using the asset management app (<https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/examples\/chaincode\/go\/asset_management\/app>) on a CLI node \u2014 this is much easier than trying to DIY with the REST API","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/examples\/chaincode\/go\/asset_management\/app","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/examples\/chaincode\/go\/asset_management\/app","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1464171057.001240"},{"type":"message","user":"U11TAFPUP","text":"<@U196R0LA2>:  how did you produce metadata? Could you please tell it in detail?","ts":"1464171215.001242"},{"type":"message","user":"U11TAFPUP","text":"<@U197CR6BF>: what are deployment differences between asset management example and other examples?","ts":"1464187297.001243"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0ULK2JPP>: ok, I fixed the GOPATH env set up. I'm glad you caught that. I have to admit not to have thought about that possibility at all","ts":"1464190525.001244"},{"type":"message","user":"U0P2GSA8Z","text":"of course the weird thing in all that is that go doesn't provide Getenv and Setenv outside of the os itself","ts":"1464190608.001245"},{"type":"message","user":"U0P2GSA8Z","text":"my trick was merely to try and find a way to use those rather than having to deal with the basic string based Environ() struct","ts":"1464190692.001246"},{"type":"message","user":"U0P2GSA8Z","text":"oh well","ts":"1464190702.001247"},{"type":"message","user":"U0ULK2JPP","text":"<@U0P2GSA8Z>: right. quite with you. I did add one more comment suggesting another change - basically now that we have to use Environ anyway, why a Getenv AND an Environ when just use Environ once upfront ..","ts":"1464190901.001248"},{"type":"message","user":"U0P2GSA8Z","text":"because it still makes the code simpler","ts":"1464190936.001249"},{"type":"message","user":"U0P2GSA8Z","text":"well, I think :slightly_smiling_face:","ts":"1464190964.001250"},{"type":"message","user":"U0P2GSA8Z","text":"my reasoning is that the less code the better","ts":"1464191011.001251"},{"type":"message","user":"U0P2GSA8Z","text":"but I'll understand if you feel differently","ts":"1464191074.001252"},{"type":"message","user":"U0ULK2JPP","text":"well, in that case, I do :slightly_smiling_face:","ts":"1464191094.001253"},{"type":"message","user":"U0P2GSA8Z","text":":slightly_smiling_face:","ts":"1464191114.001254"},{"type":"message","user":"U0ULK2JPP","text":"its not true duplication and I\u2019d actually say that Getenv and Environ is duplicating code at some level (albeit in different areas)","ts":"1464191189.001255"},{"type":"message","user":"U0ULK2JPP","text":"besides being a tad inefficient because of that","ts":"1464191209.001256"},{"type":"message","user":"U0ULK2JPP","text":"but given all the other good work in the PR, willing to forgo the point :slightly_smiling_face:","ts":"1464191242.001257"},{"type":"message","user":"U0P2GSA8Z","text":"bah, it's ok, I can go with your preferred way too","ts":"1464191404.001258"},{"type":"message","user":"U0KPFAZNF","text":"<@U0P2GSA8Z>: I didn\u2019t pick up on it either until <@U0ULK2JPP> mentioned concurrency","ts":"1464191411.001259"},{"type":"message","user":"U0P2GSA8Z","text":"yeah, I thought I was being smart :wink:","ts":"1464191439.001260"},{"type":"message","user":"U0KPFAZNF","text":"I applaud all attempts to utilize existing facilities","ts":"1464191478.001261"},{"type":"message","user":"U0P2GSA8Z","text":"thanks, that was my motivation indeed","ts":"1464191531.001262"},{"type":"message","user":"U0ULK2JPP","text":"and heavens knows I\u2019m guilty contributing to code duplication \u2026 so Im not really one to speak freely on that :slightly_smiling_face: \u2026 thanks for catching all that!","ts":"1464191788.001263"},{"type":"message","user":"U0P2GSA8Z","text":"ok <@U0ULK2JPP> I made the change and added a comment so that future fools like me know what's up :wink:","ts":"1464193754.001264"},{"type":"message","user":"U0ULK2JPP","text":"thanks <@U0P2GSA8Z>, will look soon (and wish I had dollar everytime I had made similar statements\u2026.  :slightly_smiling_face: )","edited":{"user":"U0ULK2JPP","ts":"1464194137.000000"},"ts":"1464194121.001265"},{"type":"message","user":"U0P2GSA8Z","text":"lol","ts":"1464194140.001267"},{"type":"message","user":"U0XQ35CDD","text":"I `make behave-deps` then `make behave`, yet several of the behave scenarios fail (\"Error starting container: cannot connect to Docker endpoint\") - how would I go about fixing this?","ts":"1464196993.001268"},{"type":"message","user":"U0UGH3X7X","text":"i think the docker port was changed a while back  ... make sure your docker compose files have the right endpoint set","ts":"1464197074.001269"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XQ35CDD>: a) do you run in vagrant?  b) if so, have you been running the same vagrant-up for a while now?","ts":"1464197166.001270"},{"type":"message","user":"U0KPFAZNF","text":"there was a change that went in perhaps about 2 weeks ago that changed the docker port, if you didnt vagrant destroy\/up across that update it might fail in that manner","edited":{"user":"U0KPFAZNF","ts":"1464197222.000000"},"ts":"1464197207.001271"},{"type":"message","user":"U0XQ35CDD","text":"ah that would be it, will retry - thank you both","ts":"1464197248.001273"},{"type":"message","user":"U11MANG9G","text":"---\nHi everyone, I just together this item <https:\/\/github.com\/hyperledger\/fabric\/issues\/1589> regarding testing (in Python, vs. in Golang).\nThoughts welcome (either on the issue, here, or in <@U11HH3P7Y>'s  newly opened <#C132YHP1Q> channel...). We are working to add many more tests, and wondered what people think about these?\n\nIn the meantime, I'm off to writing some Behave tests :wink:","attachments":[{"service_name":"GitHub","title":"TDD and BDD frameworks for Fabric \u00b7 Issue #1589 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/issues\/1589","text":"Description Fabric currently has a set of integration\/Behavior-Driven\/Feature harnesses that work quite nicely for testing REST API and JSON (JavaScript Object Notation) output testing and manipul...","fallback":"GitHub: TDD and BDD frameworks for Fabric \u00b7 Issue #1589 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars0.githubusercontent.com\/u\/1161321?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/issues\/1589","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"edited":{"user":"U11MANG9G","ts":"1464200117.000000"},"ts":"1464199752.001274"},{"type":"message","user":"U11MANG9G","text":"[@cbf, <@U0TFEHX8E>, <@U0KN2SSKE> <@U112NNFV4> <@U0UKTPMG8>  et al.]","ts":"1464199811.001276"},{"type":"message","user":"U0TFEHX8E","text":"<@U11MANG9G>: Thanks for starting this discussion. I\u2019ll comment in the issue. <@U0KM61BCP> has suggested Ginkgo also","ts":"1464199991.001277","reactions":[{"name":"+1","users":["U11MANG9G","U0KM61BCP"],"count":2}]},{"type":"message","user":"U0P2GSA8Z","text":"<@U0KM61BCP> can we get a new repo created, called fabric-test or something along those lines, so that we can put some test in it that needs to be stored outside the main repo?","ts":"1464219786.001279"},{"user":"U1BR7GTEU","type":"message","subtype":"channel_join","text":"<@U1BR7GTEU|tedy> has joined the channel","ts":"1464242660.001280"},{"type":"message","user":"U0ZJZBJLF","text":"Does anyone know what may cause chaincode to run as `docker-containerd-shim d04f6fff014fc974c0f7cfcf874b265d661e316798179051b22dab753d83595c \/var\/run\/docker\/libcontainerd\/d04f6fff014fc974c0f7cfcf874b265d661e316798179051b22dab753d83595c docker-runc` and not show up in `docker ps` ?","ts":"1464259929.001281"},{"type":"message","user":"U0KM61BCP","text":"<@U0P2GSA8Z>: why do the tests need to live independent of the main repository?","ts":"1464266756.001282"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP>: the context is here: <https:\/\/github.com\/hyperledger\/fabric\/pull\/1556>","attachments":[{"service_name":"GitHub","title":"Fix Issue 866 and more by lehors \u00b7 Pull Request #1556 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1556","text":"Description This PR cleans up the way GOPATH is handled when deploying a chaincode so that when GOPATH contains multiple elements, double slashes, trailing spaces, etc, deployment can still succ...","fallback":"GitHub: Fix Issue 866 and more by lehors \u00b7 Pull Request #1556 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/6464618?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1556","thumb_width":300,"thumb_height":300,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1464266875.001283"},{"type":"message","user":"U0KPFAZNF","text":"see the comments about the http test","ts":"1464266886.001285"},{"type":"message","user":"U0KPFAZNF","text":"(sorry, not sure how to get a link to the comments that are germane here)","ts":"1464266924.001286"},{"type":"message","user":"U0KPFAZNF","text":"the summary was that a chaincode needed to be a) accessible via HTTP, and b) not live in hyperledger\/fabric","ts":"1464266990.001287"},{"type":"message","user":"U0KPFAZNF","text":"its currently implemented pointing to a private github, but might be more prudent to use a HL controlled repo","ts":"1464267018.001288"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0ULK2JPP>, <@U0KPFAZNF> so I tried to use a specific version of the chaincode example for my HTTP test but it doesn't work","ts":"1464275873.001289"},{"type":"message","user":"U0KPFAZNF","text":"<@U0P2GSA8Z>: ok, NBD","ts":"1464275890.001290"},{"type":"message","user":"U0P2GSA8Z","text":"I have to admit not to why but go get fails when given this url <http:\/\/github.com\/lehors\/fabric\/tree\/ca8135b1a0f95127c96478518628a65a377ec123\/examples\/chaincode\/go\/chaincode_example01|github.com\/lehors\/fabric\/tree\/ca8135b1a0f95127c96478518628a65a377ec123\/examples\/chaincode\/go\/chaincode_example01>","ts":"1464275920.001291"},{"type":"message","user":"U0KPFAZNF","text":"go is very versioning-unfriendly, so that doesnt surprise me","ts":"1464275922.001292"},{"type":"message","user":"U0P2GSA8Z","text":"you can see for yourself doing a straight go get","ts":"1464275956.001293"},{"type":"message","user":"U0P2GSA8Z","text":"it apparently downloads it alright but then fails to find the package","ts":"1464276017.001294"},{"type":"message","user":"U0P2GSA8Z","text":"$ GOPATH=\/opt\/gopath\/_usercode_\/tmp go get <http:\/\/github.com\/lehors\/fabric\/tree\/ca8135b1a0f95127c96478518628a65a377ec123\/examples\/chaincode\/go\/chaincode_example01|github.com\/lehors\/fabric\/tree\/ca8135b1a0f95127c96478518628a65a377ec123\/examples\/chaincode\/go\/chaincode_example01>\npackage <http:\/\/github.com\/lehors\/fabric\/tree\/ca8135b1a0f95127c96478518628a65a377ec123\/examples\/chaincode\/go\/chaincode_example01|github.com\/lehors\/fabric\/tree\/ca8135b1a0f95127c96478518628a65a377ec123\/examples\/chaincode\/go\/chaincode_example01>: cannot find package \"<http:\/\/github.com\/lehors\/fabric\/tree\/ca8135b1a0f95127c96478518628a65a377ec123\/examples\/chaincode\/go\/chaincode_example01|github.com\/lehors\/fabric\/tree\/ca8135b1a0f95127c96478518628a65a377ec123\/examples\/chaincode\/go\/chaincode_example01>\" in any of:\n        \/opt\/go\/src\/github.com\/lehors\/fabric\/tree\/ca8135b1a0f95127c96478518628a65a377ec123\/examples\/chaincode\/go\/chaincode_example01 (from $GOROOT)\n        \/opt\/gopath\/_usercode_\/tmp\/src\/github.com\/lehors\/fabric\/tree\/ca8135b1a0f95127c96478518628a65a377ec123\/examples\/chaincode\/go\/chaincode_example01 (from $GOPATH)","ts":"1464276103.001295"},{"type":"message","user":"U0P2GSA8Z","text":"I can see that it populated \/opt\/gopath\/_usercode_\/tmp\/","ts":"1464276163.001296"},{"type":"message","user":"U0P2GSA8Z","text":"so the code is there, it just can't find it with the version number in the path","ts":"1464276178.001297"},{"type":"message","user":"U0ULK2JPP","text":"the above does not work for me either","ts":"1464276250.001298"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F1C1BC1NZ\/pasted_image_at_2016_05_26_11_24_am.png|Pasted image at 2016-05-26, 11:24 AM>","file":{"id":"F1C1BC1NZ","created":1464276255,"timestamp":1464276255,"name":"Pasted image at 2016_05_26 11_24 AM.png","title":"Pasted image at 2016-05-26, 11:24 AM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":85522,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1C1BC1NZ\/pasted_image_at_2016_05_26_11_24_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1C1BC1NZ\/download\/pasted_image_at_2016_05_26_11_24_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1C1BC1NZ-1f494dfeaa\/pasted_image_at_2016_05_26_11_24_am_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1C1BC1NZ-1f494dfeaa\/pasted_image_at_2016_05_26_11_24_am_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1C1BC1NZ-1f494dfeaa\/pasted_image_at_2016_05_26_11_24_am_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":17,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1C1BC1NZ-1f494dfeaa\/pasted_image_at_2016_05_26_11_24_am_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":22,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1C1BC1NZ-1f494dfeaa\/pasted_image_at_2016_05_26_11_24_am_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1C1BC1NZ-1f494dfeaa\/pasted_image_at_2016_05_26_11_24_am_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":33,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1C1BC1NZ-1f494dfeaa\/pasted_image_at_2016_05_26_11_24_am_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":44,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1C1BC1NZ-1f494dfeaa\/pasted_image_at_2016_05_26_11_24_am_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":47,"image_exif_rotation":1,"original_w":2870,"original_h":132,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F1C1BC1NZ\/pasted_image_at_2016_05_26_11_24_am.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1C1BC1NZ-79462c5097","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1464276266.001299"},{"type":"message","user":"U0ULK2JPP","text":"but this does","ts":"1464276274.001300"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F1C1NPBD0\/pasted_image_at_2016_05_26_11_24_am.png|Pasted image at 2016-05-26, 11:24 AM>","file":{"id":"F1C1NPBD0","created":1464276278,"timestamp":1464276278,"name":"Pasted image at 2016_05_26 11_24 AM.png","title":"Pasted image at 2016-05-26, 11:24 AM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":25093,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1C1NPBD0\/pasted_image_at_2016_05_26_11_24_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1C1NPBD0\/download\/pasted_image_at_2016_05_26_11_24_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1C1NPBD0-424ef5d1c6\/pasted_image_at_2016_05_26_11_24_am_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1C1NPBD0-424ef5d1c6\/pasted_image_at_2016_05_26_11_24_am_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1C1NPBD0-424ef5d1c6\/pasted_image_at_2016_05_26_11_24_am_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":17,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1C1NPBD0-424ef5d1c6\/pasted_image_at_2016_05_26_11_24_am_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":23,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1C1NPBD0-424ef5d1c6\/pasted_image_at_2016_05_26_11_24_am_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1C1NPBD0-424ef5d1c6\/pasted_image_at_2016_05_26_11_24_am_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":34,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1C1NPBD0-424ef5d1c6\/pasted_image_at_2016_05_26_11_24_am_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":46,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1C1NPBD0-424ef5d1c6\/pasted_image_at_2016_05_26_11_24_am_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":49,"image_exif_rotation":1,"original_w":1512,"original_h":72,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F1C1NPBD0\/pasted_image_at_2016_05_26_11_24_am.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1C1NPBD0-83d372b27f","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1464276288.001301"},{"type":"message","user":"U0P2GSA8Z","text":"right","ts":"1464276314.001302"},{"type":"message","user":"U0P2GSA8Z","text":"I wanted to use a specific version in response to Greg's point that otherwise we have no way of knowing which version was used when running the test","ts":"1464276354.001303"},{"type":"message","user":"U0ULK2JPP","text":"ah ok","ts":"1464276422.001304"},{"type":"message","user":"U0P2GSA8Z","text":"it looks like there is no way to do that with go get","ts":"1464276445.001305"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0ULK2JPP>: I'm sorry if I'm just being dense here but why can't we just have gopath set to the temporary directory to do the go get?","ts":"1464277067.001306"},{"type":"message","user":"U0P2GSA8Z","text":"I just did a test and it seems to work","ts":"1464277142.001307"},{"type":"message","user":"U0P2GSA8Z","text":"I set GOPATH to codegopath (\/\/opt\/gopath\/_usercode_\/xxxx)","ts":"1464277284.001308"},{"type":"message","user":"U0P2GSA8Z","text":"and use <http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example01|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example01>","ts":"1464277331.001309"},{"type":"message","user":"U0P2GSA8Z","text":"because GOPATH doesn't include the Fabric repo, the code is downloaded over HTTP and the test passes","ts":"1464277355.001310"},{"type":"message","user":"U0P2GSA8Z","text":"I guess this only works if the chaincode comes with all the fabric stuff","ts":"1464277530.001311"},{"type":"message","user":"U0P2GSA8Z","text":"which is true in the case of the test but wouldn't in general","ts":"1464277562.001312"},{"type":"message","user":"U0ULK2JPP","text":"<@U0P2GSA8Z>: the point was to use code from fabric for dependencies (several goodness in that). It just means that fabric example will already be found in the fabric and won\u2019t be downloaded - which in a way is correct.","ts":"1464277617.001313"},{"type":"message","user":"U0ULK2JPP","text":"exactly. This is specific to fabric examples used as http:\/\/","ts":"1464277636.001314"},{"type":"message","user":"U0P2GSA8Z","text":"I understand why it's not being downloaded","ts":"1464277653.001315"},{"type":"message","user":"U0P2GSA8Z","text":"what exactly is used\/needed from what's downloaded with the go get?","ts":"1464277731.001316"},{"type":"message","user":"U0P2GSA8Z","text":"I noticed go get downloads a whole bunch of things, including git files and al","ts":"1464277802.001317"},{"type":"message","user":"U0ULK2JPP","text":"it\u2019ll get the chaincode source from <http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example01|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example01>.","ts":"1464277997.001318"},{"type":"message","user":"U0KPFAZNF","text":"personally, i think trying to support a go-get compatible coordinate is a bad idea in general\u2026i think these issues are just highlighting why","ts":"1464278162.001319"},{"type":"message","user":"U0KPFAZNF","text":"on-boarding the code application should be independent of language idiosyncrasy","ts":"1464278328.001320"},{"type":"message","user":"U0ULK2JPP","text":"well, this issue we run into is specific to attempting to point to http when the chaincode is already in the fabric","ts":"1464278329.001321"},{"type":"message","user":"U0KPFAZNF","text":"right, but thats part of what I mean","ts":"1464278340.001322"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1464278346.001323"},{"type":"message","user":"U0ULK2JPP","text":"I understand","ts":"1464278353.001324"},{"type":"message","user":"U0KPFAZNF","text":"at the expense of sounding like a broken record, its one of the things I solved with chaintool\u2026now Im not saying everyone needs to use chaintool (though I would certainly welcome that), the general concept of packaging could be adopted and then you dont need to worry about the URL or local filesystem path","ts":"1464278499.001325"},{"type":"message","user":"U0KPFAZNF","text":"the package is the package, you pull it in (either via URL, filepath, or inline bytes) and build it","ts":"1464278528.001326"},{"type":"message","user":"U0KPFAZNF","text":"then it doesnt matter where it came from","ts":"1464278532.001327"},{"type":"message","user":"U0ULK2JPP","text":"agreed. Its got its advantages for sure","ts":"1464278546.001328"},{"type":"message","user":"U0KPFAZNF","text":"all the above problems go awy","ts":"1464278546.001329"},{"type":"message","user":"U0KPFAZNF","text":"I realize I am preaching to the choir, heh","ts":"1464278593.001330"},{"type":"message","user":"U0ULK2JPP","text":"and you can do your own things (application level) - versioning etc","ts":"1464278604.001331"},{"type":"message","user":"U0ULK2JPP","text":"oh no, not at all","ts":"1464278610.001332"},{"type":"message","user":"U0KPFAZNF","text":"precisely","ts":"1464278613.001333"},{"type":"message","user":"U0KPFAZNF","text":"i recognize the dilemma though\u2026go is really structured around go-get","ts":"1464278720.001334"},{"type":"message","user":"U0KPFAZNF","text":"so you either use it whole heartedly warts and all, or you have to build something on top","ts":"1464278736.001335"},{"type":"message","user":"U0KPFAZNF","text":"I wonder if I should create an alternate platform in chaintool that lets someone use the packaging but forgo the code generator","ts":"1464278998.001336"},{"type":"message","user":"U0KPFAZNF","text":"so, you still code things exactly the same with your own entry points for Init\/Invoke\/Query, you don\u2019t have any CCI interfaces nor metadata facilities, but at least you get a unified package","ts":"1464279055.001337"},{"type":"message","user":"U0KPFAZNF","text":"(or maybe its just an option on the .golang platform that already exists)","ts":"1464279096.001338"},{"type":"message","user":"U0ULK2JPP","text":"trying to wrap head around that \u2026.  :slightly_smiling_face: I REALLY need to ride some CARs :slightly_smiling_face:","ts":"1464279678.001339"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1464279700.001340"},{"type":"message","user":"U0KPFAZNF","text":"best bet is follow this: <https:\/\/github.com\/ghaskins\/chaintool\/tree\/master\/examples\/example02>","edited":{"user":"U0KPFAZNF","ts":"1464279734.000000"},"ts":"1464279729.001341"},{"type":"message","user":"U0ULK2JPP","text":"one thing though\u2026 part of the problem is the mixing of platform and languages","ts":"1464279731.001343"},{"type":"message","user":"U0ULK2JPP","text":"IMO","ts":"1464279738.001345"},{"type":"message","user":"U0ULK2JPP","text":"I will","ts":"1464279742.001346"},{"type":"message","user":"U0KPFAZNF","text":"not following: can you elaborate?","ts":"1464279746.001347"},{"type":"message","user":"U0ULK2JPP","text":"both VM (docker) and chaincode (language) use \u201cplatform\"","ts":"1464279844.001348"},{"type":"message","user":"U0ULK2JPP","text":"I feel it could be more cleanly separated","ts":"1464279857.001349"},{"type":"message","user":"U0KPFAZNF","text":"as in the chaintool definition of platform, or the peer codebase definition ?","ts":"1464279874.001350"},{"type":"message","user":"U0ULK2JPP","text":"the later","ts":"1464280105.001351"},{"type":"message","user":"U0KPFAZNF","text":"ah, yes, that would be a good cleanup","ts":"1464280136.001352"},{"type":"message","user":"U0ULK2JPP","text":"Its not a clear statement, I agree but something I feel when design\/impl","ts":"1464280137.001353"},{"type":"message","user":"U0KPFAZNF","text":"though you did a good portion of the groundwork for that with syscc, i thought","ts":"1464280151.001354"},{"type":"message","user":"U0P2GSA8Z","text":"Greg, thanks for the teaser, now I really want to understand what's in your CAR proposal :wink:","ts":"1464280153.001355"},{"type":"message","user":"U0ULK2JPP","text":"right, syscc  forced some of the things to be flushed out.","ts":"1464280180.001356"},{"type":"message","user":"U0ULK2JPP","text":"but more probably can be done in that direction ?","ts":"1464280200.001357"},{"type":"message","user":"U0KPFAZNF","text":"<@U0P2GSA8Z>: just the concepts presented here: <https:\/\/github.com\/ghaskins\/chaintool#typical-workflow>","edited":{"user":"U0KPFAZNF","ts":"1464280211.000000"},"ts":"1464280208.001358"},{"type":"message","user":"U0KPFAZNF","text":"that is, developer runs \u201cchaintool package\u201d when they are ready to deploy, and that emits a single .car file (chaincode archive, similar in concept to a .jar)","ts":"1464280249.001361"},{"type":"message","user":"U0KPFAZNF","text":"and that single file would be the coordinate that is deployed (either as a URL\/fs reference, or inline bytes to the API call)","ts":"1464280279.001362"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP>: I havent looked at the impl in depth, and im sure theres always room for further tweaking, but my initial impression was you got most of it","ts":"1464280329.001363"},{"type":"message","user":"U0KPFAZNF","text":"i guess the java work will help tease anything that remains","ts":"1464280382.001364"},{"type":"message","user":"U0ULK2JPP","text":"thanks! I think so too :slightly_smiling_face:","ts":"1464280389.001365"},{"type":"message","user":"U0ULK2JPP","text":"right \u2026exactly my thoughts","ts":"1464280397.001366"},{"type":"message","user":"U0KPFAZNF","text":"(assuming we want additional\/alternative isolation for JVM","ts":"1464280403.001367"},{"type":"message","user":"U0ULK2JPP","text":"where does the dependent jar file come from ?","ts":"1464280427.001368"},{"type":"message","user":"U0ULK2JPP","text":"when we add platforms\/java we will feel the burn :slightly_smiling_face:","ts":"1464280457.001369"},{"type":"message","user":"U0KPFAZNF","text":"well, if I had my way, it would be in a .car with platform something like \u201corg.hyperledger.chaincode.java\u201d :wink:","ts":"1464280461.001370"},{"type":"message","user":"U0ULK2JPP","text":"that will certainly have to be an option","ts":"1464280498.001371"},{"type":"message","user":"U0KPFAZNF","text":"actually, if I really had my way, it would be .java files in the .car","ts":"1464280501.001372"},{"type":"message","user":"U0KPFAZNF","text":"(since I think the contract needs to be reviewable)","ts":"1464280514.001373"},{"type":"message","user":"U0KPFAZNF","text":"but that is just me: the CAR concept could support .jars if that is what was desired","ts":"1464280530.001374"},{"type":"message","user":"U0ULK2JPP","text":"I thought you\u2019ll just generate the java code from the message definition ?","ts":"1464280546.001375"},{"type":"message","user":"U0KPFAZNF","text":"well, to be clear I am referring to the contract code itself","ts":"1464280560.001376"},{"type":"message","user":"U0ULK2JPP","text":"ah I see","ts":"1464280571.001377"},{"type":"message","user":"U0ULK2JPP","text":"the implementation of the interfaces","ts":"1464280578.001378"},{"type":"message","user":"U0KPFAZNF","text":"but yes, if I were to develop a org.hyperledger.chaincode.java platform, I assume I would be generating java code","ts":"1464280584.001379"},{"type":"message","user":"U0ULK2JPP","text":"behind the interfaces","ts":"1464280588.001380"},{"type":"message","user":"U0KPFAZNF","text":"precisely","ts":"1464280595.001381"},{"type":"message","user":"U0KPFAZNF","text":"theres no reason we couldnt carry .jars in the .car payload, but I think its ideal to support source deployments and have the peer compile it locally","ts":"1464280621.001382"},{"type":"message","user":"U0KPFAZNF","text":"it could certainly be an option and\/or an alternate platform to have jar vs source deployments though","ts":"1464280670.001383"},{"type":"message","user":"U0KPFAZNF","text":"you dont have quite that flexibility with go since it compiles to native $arch","ts":"1464280693.001384"},{"type":"message","user":"U0KPFAZNF","text":"(which is fine by me, since I advocate source deployments anyway)","ts":"1464280718.001385"},{"type":"message","user":"U0P2GSA8Z","text":"one caveat to keep in mind is that some companies are allergic to code being compiled on the fly","ts":"1464281196.001386"},{"type":"message","user":"U0P2GSA8Z","text":"at the first hackathon in Brooklyn I heard something like that from a guy from Citigroup","ts":"1464281235.001387"},{"type":"message","user":"U0P2GSA8Z","text":"their security policies seriously constrain what is allowed","ts":"1464281258.001388"},{"type":"message","user":"U0P2GSA8Z","text":"and if I remember correctly they had restrictions on dynamic compilation","ts":"1464281326.001389"},{"type":"message","user":"U0KPFAZNF","text":"well, the beauty is, you can add whatever \u201cplatform\u201d you want","ts":"1464281429.001390"},{"type":"message","user":"U0KPFAZNF","text":"so you could have \u201corg.acme.shadybytes\u201d platform that only takes LLVM byte codes","ts":"1464281455.001391"},{"type":"message","user":"U0KPFAZNF","text":"or whatever you want","ts":"1464281462.001392"},{"type":"message","user":"U0KPFAZNF","text":"personally, i find the notion of obscure code execution to be antithetical to blockchain, but thats just me","ts":"1464281536.001393"},{"type":"message","user":"U0KPFAZNF","text":"if someone wants to construct their network that way, and people are willing to still use it, more power to them.  The fabric will support that","ts":"1464281573.001394"},{"type":"message","user":"U0KPFAZNF","text":"my feeling is that notion is better handled via confidentially and hw-enforced enclavement rather than source obscurity","ts":"1464281679.001395"},{"type":"message","user":"U0KPFAZNF","text":"reading again, i think I slightly misunderstood you","ts":"1464282314.001396"},{"type":"message","user":"U0KPFAZNF","text":"you meant they were concerned about the compilation impact on security, not the code itself being revealed (which is a concern in some circles)","ts":"1464282345.001397"},{"type":"message","user":"U0P2GSA8Z","text":"I hear you it might be a case where some corporate policy has an undesirable consequence","ts":"1464282346.001398"},{"type":"message","user":"U0P2GSA8Z","text":"correct","ts":"1464282360.001399"},{"type":"message","user":"U0P2GSA8Z","text":"I took it as a concern over not controlling the output","ts":"1464282377.001400"},{"type":"message","user":"U0KPFAZNF","text":"i still think that is a bit misguided concern\u2026I understand what they are getting at, and for this reason I think DSLs may have some advantages over GPLs here","ts":"1464282397.001401"},{"type":"message","user":"U0KPFAZNF","text":"but even for GPLs, I think you have to treat compilation as having similar isolation requirements as runtime and then it should be fine","ts":"1464282425.001402"},{"type":"message","user":"U0P2GSA8Z","text":"they may need to adapt their policies :slightly_smiling_face:","ts":"1464282460.001403"},{"type":"message","user":"U0KPFAZNF","text":"yeah, they are misguided","ts":"1464282466.001404"},{"type":"message","user":"U0KPFAZNF","text":"obscure code defeats the purpose of a distributed ledger","ts":"1464282486.001405"},{"type":"message","user":"U0KPFAZNF","text":"so, then, why use it","ts":"1464282493.001406"},{"type":"message","user":"U0P2GSA8Z","text":"right","ts":"1464282507.001407"},{"type":"message","user":"U0KPFAZNF","text":"i do agree we need to design for protecting against malicious\/broken code though, and that includes compilation time as well as run time","ts":"1464282525.001408"},{"type":"message","user":"U0KPFAZNF","text":"so, be sensitive to? absolutely.  prohibit?  thats just wrong","edited":{"user":"U0KPFAZNF","ts":"1464282679.000000"},"ts":"1464282544.001409"},{"type":"message","user":"U0P2GSA8Z","text":"I agree","ts":"1464282562.001410"},{"type":"message","user":"U0KPFAZNF","text":"DSLs are a bit in interesting in this regard\u2026you can just remove offensive verbs from the language spec","ts":"1464282609.001411"},{"user":"U15LJGQPN","type":"message","subtype":"channel_join","text":"<@U15LJGQPN|arner> has joined the channel","ts":"1464290045.001413"},{"type":"message","user":"U11MANG9G","text":"[@binhn: <@U0KPFAZNF>, <@U0TFEHX8E> et al.] Can somebody please be kind enough as to create a `membersrvc` tag\/label ?","ts":"1464290581.001414"},{"text":"looks","type":"message","subtype":"me_message","user":"U0KPFAZNF","ts":"1464290610.001415"},{"type":"message","user":"U0KPFAZNF","text":"done","ts":"1464290667.001416","reactions":[{"name":"blush","users":["U11MANG9G"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> <@U0TFEHX8E> <https:\/\/github.com\/hyperledger\/fabric\/pull\/1616> marks a new baseimage release.   We really should be tagging these.  We didn\u2019t last time around because the process to do so needs to be discussed","edited":{"user":"U0KPFAZNF","ts":"1464292498.000000"},"ts":"1464292492.001417"},{"type":"message","user":"U0KPFAZNF","text":"something like \u201cbaseimage-v0.0.10\u201d would be appropriate (assuming when\/if that PR goes in)","ts":"1464292523.001420"},{"type":"message","user":"U0KPFAZNF","text":"part of the problem, I dont see any way to submit tags as a PR","ts":"1464292535.001421"},{"type":"message","user":"U0KPFAZNF","text":"so, the only other way I know to do it would be via git-push directly","ts":"1464292549.001422"},{"type":"message","user":"U0KPFAZNF","text":"(which maintainers can technically do, but we don\u2019t generally allow it by policy)","ts":"1464292574.001423"},{"type":"message","user":"U0KPFAZNF","text":"so, any thoughts on that?","ts":"1464292586.001424"},{"type":"message","user":"U0KPFAZNF","text":"some thoughts: 1) maintainers can push tags, but only tags, and tread lightly to avoid accidents","ts":"1464292631.001425"},{"type":"message","user":"U0KPFAZNF","text":"2) people can submit something (perhaps an issue) with a tag, and a maintainer can push it after appropriate agreement, but it shouldnt be the maintainer that requested the tag","ts":"1464292687.001426"},{"type":"message","user":"U0KPFAZNF","text":"s\/with a tag\/with a request for a tag to be created","ts":"1464292712.001427"},{"user":"U1C3WNWRF","type":"message","subtype":"channel_join","text":"<@U1C3WNWRF|jphillips> has joined the channel","ts":"1464293105.001428"},{"type":"message","user":"U0TFEHX8E","text":"<!channel>: For developers using the Vagrant environment, two pull requests have been merged that require some additional steps. See <http:\/\/lists.hyperledger.org\/pipermail\/hyperledger-fabric\/2016-May\/000011.html> for details. Thanks.","ts":"1464296634.001429"},{"user":"U1BLB3EFQ","type":"message","subtype":"channel_join","text":"<@U1BLB3EFQ|bc> has joined the channel","ts":"1464299404.001430"},{"user":"U0Z41KY5V","type":"message","subtype":"channel_join","text":"<@U0Z41KY5V|baohua> has joined the channel","ts":"1464312255.001431"},{"type":"message","user":"U0XR6J961","text":"ghaskins: maybe we should run the unit tests in sequence (-parallel 1)?","ts":"1464353965.001432","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"user":"U1AURJNE4","type":"message","subtype":"channel_join","text":"<@U1AURJNE4|cesarev> has joined the channel","ts":"1464355157.001433"},{"user":"U14NC480K","type":"message","subtype":"channel_join","text":"<@U14NC480K|charles-cai> has joined the channel","ts":"1464355863.001434"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0TFEHX8E>: so, I just stopped my vagrant and on restarting it with vagrant up I get an error: The forwarded port to 5000 is already in use on the host machine.","ts":"1464369131.001435"},{"type":"message","user":"U0P2GSA8Z","text":"what did I miss?","ts":"1464369140.001436"},{"type":"message","user":"U0TFEHX8E","text":"do you have another service already using 5000 on your host? That\u2019s my guess","ts":"1464371558.001437"},{"type":"message","user":"U0P2GSA8Z","text":"I agree something is there, I have no idea what though","ts":"1464371868.001438"},{"type":"message","user":"U0P2GSA8Z","text":"so the bad news is that it's used by wininit.exe which is part of the Windows OS","ts":"1464372726.001439"},{"type":"message","user":"U0TFEHX8E","text":":disappointed:","ts":"1464373243.001440"},{"type":"message","user":"U0TFEHX8E","text":"so must we pick a different port due to windows?","ts":"1464373545.001441"},{"type":"message","user":"U0P2GSA8Z","text":"maybe this is why it was mapped to a different port in fact","ts":"1464374037.001442"},{"type":"message","user":"U0TFEHX8E","text":"I think the 3000 is a leftover from the original Vagrantfile template. If we have to move, I\u2019d rather not use 3000 because it conflicts with the common node.js port","ts":"1464374510.001443"},{"type":"message","user":"U0P2GSA8Z","text":"ok,  but it looks like there is no hope for 5000 on Windows","ts":"1464374562.001444"},{"type":"message","user":"U0P2GSA8Z","text":"<http:\/\/www.groovypost.com\/howto\/groovytip\/why-wininit-exe-running-windows-computer\/>","attachments":[{"service_name":"groovyPost","title":"What Is Wininit.exe And Why Is It Running","title_link":"http:\/\/www.groovypost.com\/howto\/groovytip\/why-wininit-exe-running-windows-computer\/","text":"You\u2019re probably here because you\u2019ve seen Wininit.exe in Task Manager and you are wondering why it is running on your computer.\u00a0 Worry not, typically this p","fallback":"groovyPost: What Is Wininit.exe And Why Is It Running","ts":1293624000,"from_url":"http:\/\/www.groovypost.com\/howto\/groovytip\/why-wininit-exe-running-windows-computer\/","thumb_url":"http:\/\/www.groovypost.com\/wp-content\/uploads\/2010\/12\/image244.png","thumb_width":100,"thumb_height":150,"service_icon":"http:\/\/www.groovypost.com\/wp-content\/uploads\/2016\/03\/cropped-resized-gpost_simple_logo1-1-180x180.png","id":1}],"ts":"1464374563.001445"},{"type":"message","user":"U0P2GSA8Z","text":"\"wininit.exe is a critical system process the Windows requires in order to function.\"","ts":"1464374583.001447"},{"type":"message","user":"U0P2GSA8Z","text":"\"wininit.exe is at the top of the process tree for all of windows services, including svchost.exe.\"","ts":"1464374597.001448"},{"type":"message","user":"U0P2GSA8Z","text":"sorry for the bad news","ts":"1464374687.001449"},{"type":"message","user":"U0TFEHX8E","text":"as you\u2019re on a windows system, could you track down a port that does work?","ts":"1464375020.001450"},{"type":"message","user":"U0TFEHX8E","text":"as a workaround, you can just set the port in Vagrantfile to some working port #","ts":"1464375083.001451"},{"type":"message","user":"U0P2GSA8Z","text":"6000","ts":"1464375109.001452"},{"type":"message","user":"U0P2GSA8Z","text":"yes, that's what I did of course","ts":"1464375120.001453"},{"type":"message","user":"U0P2GSA8Z","text":"apparently Windows uses a bunch of port in the 5000-5999 range","ts":"1464375230.001454"},{"type":"message","user":"U0KPFAZNF","text":"If we dont think the product default should be moved, we could probably at least parameterize the Vagrantfile so windows users do not have to edit the file at least","ts":"1464375246.001455"},{"type":"message","user":"U0TFEHX8E","text":"I\u2019d rather have product default and Vagrant mapping be the same. It clears up a lot of confusion","ts":"1464375293.001456"},{"type":"message","user":"U0KPFAZNF","text":"yeah, i agree\u2026just wasnt sure if that would cause heartburn","ts":"1464375310.001457"},{"type":"message","user":"U0P2GSA8Z","text":"I agree, even though I understand it's a pain to change again","ts":"1464375314.001458"},{"type":"message","user":"U0KPFAZNF","text":"that is the idea","ts":"1464375316.001459"},{"type":"message","user":"U0KPFAZNF","text":"ideal","ts":"1464375318.001460"},{"type":"message","user":"U0KPFAZNF","text":"(to have them be the same, i mean)","ts":"1464375327.001461"},{"type":"message","user":"U0P2GSA8Z","text":"and the whole point of using vagrant is so that everybody has the same setup (for better and for worse ;) so having variations like that wouldn't really be fitting","ts":"1464375377.001462"},{"type":"message","user":"U0KPFAZNF","text":"ok, thats fine\u2026just throwing an option out there","ts":"1464375403.001463"},{"type":"message","user":"U0XQ35CDD","text":"what does the `key` field in `ColumnDefinition` stand for? it's not immediately obvious, and I can't seem to find the documentation for it <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/chaincode\/shim\/chaincode.proto#L33>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/chaincode\/shim\/chaincode.proto#L33","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/chaincode\/shim\/chaincode.proto#L33","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"edited":{"user":"U0XQ35CDD","ts":"1464379226.000000"},"ts":"1464378860.001464"},{"type":"message","user":"U0XQ35CDD","text":"(and `git blame` points to the mega repo-switch commit that Binh did so I can't figure out who wrote it) thanks!","ts":"1464378908.001466"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: regarding parallel tests, yeah that is a good goal","ts":"1464379185.001468"},{"type":"message","user":"U0KPFAZNF","text":"i suspect we\u2019d need to do some work to get there (for instance, the behave tests fire up docker-compose, so not sure those could be parallelized without re-work).  But good idea in general","edited":{"user":"U0KPFAZNF","ts":"1464379260.000000"},"ts":"1464379237.001470"},{"type":"message","user":"U0TFEHX8E","text":"<@U0XQ35CDD>: It\u2019s whether this column is a key in the table. Keys can be used with <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/chaincode\/shim\/chaincode.go#L587> and <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/chaincode\/shim\/chaincode.go#L616>","edited":{"user":"U0TFEHX8E","ts":"1464379871.000000"},"ts":"1464379832.001472"},{"type":"message","user":"U0TFEHX8E","text":"There\u2019s an open issue for documentation there <https:\/\/github.com\/hyperledger\/fabric\/issues\/1504>","edited":{"user":"U0TFEHX8E","ts":"1464379868.000000"},"ts":"1464379862.001474"},{"type":"message","user":"U0XQ35CDD","text":"right, I found out about this protobuf via the chaincode shim as well","ts":"1464379972.001478"},{"type":"message","user":"U0XQ35CDD","text":"thx for the info :+1:","ts":"1464379993.001479"},{"type":"message","user":"U0XPR4NP4","text":"<@U0ULK2JPP>: Was considering opening an issue, but wanted to do a little sanity checking first.  When we do a deploy transaction, we're including the entire contents of a docker image in it?","ts":"1464380890.001480"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XPR4NP4>: Id have to double check, but I dont _think_ that is true","ts":"1464381167.001481"},{"type":"message","user":"U0KPFAZNF","text":"the image is 1G plus","ts":"1464381173.001482"},{"type":"message","user":"U0KPFAZNF","text":"i think its something based on the source\u2026let me look","ts":"1464381184.001483"},{"type":"message","user":"U0KPFAZNF","text":"i refactored that code a while back, that doesnt sound familar","ts":"1464381195.001484"},{"type":"message","user":"U0XPR4NP4","text":"Okay, that sounded wrong to me, but just heard it elsewhere","ts":"1464381205.001485"},{"type":"message","user":"U0XPR4NP4","text":"Still, I have heard of chaincode deploy transactions that are 200+MB","ts":"1464381262.001486"},{"type":"message","user":"U0XPR4NP4","text":"And I'm a little concerned about the fact that there doesn't seem to be any upper limit on the size of a deploy transaction","ts":"1464381310.001487"},{"type":"message","user":"U0TFEHX8E","text":"It\u2019s including the entire $GOPATH\/src\/github.com\/hyperledger\/fabric path. It is broken currently","ts":"1464381361.001488"},{"type":"message","user":"U0XPR4NP4","text":"Yes, I opened up <https:\/\/github.com\/hyperledger\/fabric\/issues\/1417> a while back, because I got bit by that, I suspect I'm not the only one","attachments":[{"service_name":"GitHub","title":"Investigate streaming tar to docker (Out of Memory Crash) \u00b7 Issue #1417 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/issues\/1417","text":"Description Today, vm.go pulls the entire docker build context into RAM as a tar file, then sends it to docker. This essentially limits the size of any build context to less than the size of avai...","fallback":"GitHub: Investigate streaming tar to docker (Out of Memory Crash) \u00b7 Issue #1417 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars0.githubusercontent.com\/u\/7431583?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/issues\/1417","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1464381390.001489"},{"type":"message","user":"U0TFEHX8E","text":"problem is that it\u2019s often including a bunch of binaries under that","ts":"1464381394.001491"},{"type":"message","user":"U0KPFAZNF","text":"yeah, i think sheehan has it right\u2026its somewhere north of \u201cjust the source\u201d but south of \u201cthe entire dockerimage","ts":"1464381398.001492"},{"type":"message","user":"U0XPR4NP4","text":"But I'm more concerned about no limit on the size of deploys","ts":"1464381412.001493"},{"type":"message","user":"U0TFEHX8E","text":"<@U0Z81GL6S> is working on a temporary fix","ts":"1464381417.001494"},{"type":"message","user":"U0XPR4NP4","text":"If I send a 6GB deploy into the system","ts":"1464381421.001495"},{"type":"message","user":"U0KPFAZNF","text":"agreed we need to police that","ts":"1464381434.001496"},{"type":"message","user":"U0XPR4NP4","text":"It will more or less deadlock things under a protocol like PBFT","ts":"1464381439.001497"},{"type":"message","user":"U0XPR4NP4","text":"(Because messages will take so so long, no reasonable timeout will handle it)","ts":"1464381455.001498"},{"type":"message","user":"U0TFEHX8E","text":"yes, should probably be a setting under core.yaml","ts":"1464381458.001499"},{"type":"message","user":"U0Z81GL6S","text":"well, it\u2019s not quite as big as 6BG at the moment\u2026 but it\u2019s about 50Mb","ts":"1464381470.001500"},{"type":"message","user":"U0XPR4NP4","text":"I'm imagining a mistake, or malicious request","ts":"1464381491.001501"},{"type":"message","user":"U0TFEHX8E","text":"though often you want your web server to block giant POSTs before it even gets to the app","ts":"1464381491.001502"},{"type":"message","user":"U0XPR4NP4","text":"gRPC is great in that it orders the messages on our chat interface, but if one peer goes to send another that 6GB transaction","ts":"1464381542.001503"},{"type":"message","user":"U0XPR4NP4","text":"Then it's going to delay all messages on that stream for however long it takes the network to send it.","ts":"1464381554.001504"},{"type":"message","user":"U0KPFAZNF","text":"the way i see it, if we had a CAR or CAR-like concept, that would be the maximum sized object that is sent around the network","ts":"1464381604.001505"},{"type":"message","user":"U0KPFAZNF","text":"in the case of example02, that is about 2.3k","ts":"1464381620.001506"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/ghaskins\/chaintool#chaintool-ls>","attachments":[{"service_name":"GitHub","title":"ghaskins\/chaintool","title_link":"https:\/\/github.com\/ghaskins\/chaintool#chaintool-ls","text":"chaintool - Hyperledger Chaincode Compiler - Proposed tooling for <https:\/\/github.com\/hyperledger>","fallback":"GitHub: ghaskins\/chaintool","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/ghaskins\/chaintool#chaintool-ls","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1464381622.001507"},{"type":"message","user":"U0KPFAZNF","text":"each VP would reconstitute the environment from that, rather than try to pass the GOPATH\/dockerimage around along with it","ts":"1464381648.001509"},{"type":"message","user":"U0KPFAZNF","text":"(also note that this could be further reduced to a URL + SHA","ts":"1464381682.001510"},{"type":"message","user":"U0KPFAZNF","text":"but I digress..the basic concept is we dont need to send data that could be derived locally","ts":"1464381698.001511"},{"type":"message","user":"U0XPR4NP4","text":"+1 on this, I dislike the idea of imposing arbitrary restrictions on the complexity of the applications (by limiting the size of the application), some other vehicle for delivering the chaincode which is a fixed size would be great","edited":{"user":"U0XPR4NP4","ts":"1464381744.000000"},"ts":"1464381710.001512"},{"type":"message","user":"U0KPFAZNF","text":"to be clear, this proposal I mention would still be variable\u2026but it be would minimalist in terms of content, compressed, and optionally indirect","edited":{"user":"U0KPFAZNF","ts":"1464381767.000000"},"ts":"1464381753.001514"},{"type":"message","user":"U0XQ35CDD","text":"on a tangentially-related issue, what's the plan on how long an execution is supposed to take?","ts":"1464381773.001516"},{"type":"message","user":"U0XQ35CDD","text":"any plans to place an upper limit there?","edited":{"user":"U0XQ35CDD","ts":"1464381861.000000"},"ts":"1464381783.001517"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XQ35CDD>: I think we have to","ts":"1464381790.001518"},{"type":"message","user":"U0XPR4NP4","text":"But if you could deploy a chaincode of arbitrary complexity within a few KB, then we would not be limiting developers by restricting deploys to... 10K, say.","ts":"1464381800.001519"},{"type":"message","user":"U0KPFAZNF","text":"I envision a ulimit like facility, configured perhaps in yaml","ts":"1464381804.001520"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XPR4NP4>: agreed","ts":"1464381817.001521"},{"type":"message","user":"U0KPFAZNF","text":"upper limit should be set for sure","ts":"1464381823.001522"},{"type":"message","user":"U0ULK2JPP","text":"if I had a dollar for every time I wanted to trim the size of the targz \u2026. :wink:","ts":"1464381836.001523"},{"type":"message","user":"U0KPFAZNF","text":"i misunderstood you, thought you were saying they would all have same size","ts":"1464381839.001524"},{"type":"message","user":"U0KPFAZNF","text":"(in that link I provided, its the \u201cArchive Size\u201d that would impact the wire","ts":"1464381883.001526"},{"type":"message","user":"U0XPR4NP4","text":"Ah, sorry yes, I wasn't clear","ts":"1464381885.001527"},{"type":"message","user":"U0XPR4NP4","text":"So, perhaps to deliver the symptom a little late in the discussion, if anyone tries to deploy a chaincode that is 'too big' today, then PBFT fails in interesting ways (especially by constantly 'changing view' [electing a new leader]) because it seems like no one is sending messages, because the deploy takes too long to deliver.  This can be mitigated by turning up timeouts, but trying to set timeouts for messages which could range from 2k to 2GB isn't practical.","edited":{"user":"U0XPR4NP4","ts":"1464382032.000000"},"ts":"1464381983.001528"},{"type":"message","user":"U0XQ35CDD","text":"is that addressed to me? (it can be answer to both questions)","attachments":[{"fallback":"[May 27th, 2016 4:43 PM] ghaskins: upper limit should be set for sure","author_subname":"ghaskins","ts":"1464381823.001522","channel_id":"C0YPYBVJM","channel_name":"fabric-dev","is_msg_unfurl":true,"text":"upper limit should be set for sure","author_name":"Greg Haskins","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/ghaskins","author_icon":"https:\/\/avatars.slack-edge.com\/2016-04-06\/32586535492_5cc4252021ffddc6d448_48.jpg","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev\/p1464381823001522","is_share":true,"footer":"Posted in #fabric-dev"}],"ts":"1464381986.001529"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XQ35CDD>: it was directed at <@U0XPR4NP4> though I do agree with you that execution upper limit is important too","ts":"1464382031.001531"},{"type":"message","user":"U0KPFAZNF","text":"for execution, something like \u201culimit\u201d should be a knob\u2026for deploy size, max deployment size should be option","ts":"1464382093.001533"},{"type":"message","user":"U0KPFAZNF","text":"not sure if 10k is big enough to accommodate all foreseeable applications, but I dont think its much bigger than that either","ts":"1464382130.001534"},{"type":"message","user":"U0KPFAZNF","text":"50k perhaps?","ts":"1464382135.001535"},{"type":"message","user":"U0KPFAZNF","text":"certainly not 50M, not even 1M","ts":"1464382148.001536"},{"type":"message","user":"U0KPFAZNF","text":"I included multiple compression options in the spec so the one that achieves highest size efficiency may be selected on a case-by-case basis","ts":"1464382184.001537"},{"type":"message","user":"U0KPFAZNF","text":"(though in my testing, gzip seemed to do the best job with the text-oriented source","ts":"1464382206.001538"},{"type":"message","user":"U0KPFAZNF","text":"(I contemplated adding a feature that would try each algorithm to see which gives the best results each time the package is created, but right now you have to explictly select or opt for gzip by default","ts":"1464382267.001539"},{"type":"message","user":"U0XPR4NP4","text":"Yes, 10K, 50K, 500K, I think these are all viable.  I think we're fine having timeouts handle a couple orders of magnitude in expected size, but going from a few KB up to a few GB is hard to handle.","ts":"1464382423.001540"},{"type":"message","user":"U0KPFAZNF","text":"i cant even imagine how it would work, heh","edited":{"user":"U0KPFAZNF","ts":"1464382942.000000"},"ts":"1464382935.001541"},{"type":"message","user":"U0TFEHX8E","text":"back to the port discussion, 6000 is used by X11. <https:\/\/en.wikipedia.org\/wiki\/List_of_TCP_and_UDP_port_numbers> If we pick any 000 as the default port we\u2019ll likely have some collisions. Do we just go with something less memorable?","ts":"1464387302.001543"},{"type":"message","user":"U0P2GSA8Z","text":"666? :wink:","ts":"1464387335.001544"},{"type":"message","user":"U0TFEHX8E","text":"haha","ts":"1464387344.001545"},{"type":"message","user":"U0TFEHX8E","text":"I was going to propose 6689. First 4 digit number in the bitcoin genesis block hash","ts":"1464387359.001546"},{"type":"message","user":"U0P2GSA8Z","text":"I'm ashamed I forgot 6000 is used by X11","ts":"1464387361.001547"},{"type":"message","user":"U0P2GSA8Z","text":"given that I worked at the X Consortium","ts":"1464387409.001548","reactions":[{"name":"grin","users":["U0XQ35CDD","U0KM61BCP"],"count":2}]},{"type":"message","user":"U0P2GSA8Z","text":"how about the last 4 digits of your social security #? :smile:","ts":"1464387439.001549"},{"type":"message","user":"U0P2GSA8Z","text":"at least one of us will remember!","ts":"1464387457.001550"},{"type":"message","user":"U0TFEHX8E","text":"lol","ts":"1464387459.001551"},{"type":"message","user":"U0XQ35CDD","text":"<@U0N1D1UAE>: what's the average execution time for `make stress2s`? looking for an order of magnitude here, gross estimates will do","ts":"1464487448.001552"},{"type":"message","user":"U0XQ35CDD","text":"(it's been running for an hour now on my MBP)","ts":"1464487472.001553"},{"type":"message","user":"U0XR6J961","text":"<@U0KPFAZNF>: I was asking about running the unit tests *not* in parallel :slightly_smiling_face:","ts":"1464600253.001554"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: oh!  completely misunderstood you.  I didn\u2019t think we did, though?","edited":{"user":"U0KPFAZNF","ts":"1464609342.000000"},"ts":"1464609332.001555"},{"type":"message","user":"U0XR6J961","text":"they run in parallel by default","ts":"1464609390.001557"},{"type":"message","user":"U0KPFAZNF","text":"I just read the opposite, they only run in parallel if you annotate them as compatible and use the \u2014parallelize flag, neither of which I thought we did","ts":"1464610899.001558"},{"type":"message","user":"U0KPFAZNF","text":"I was reading this: <https:\/\/splice.com\/blog\/lesser-known-features-go-test\/>","attachments":[{"title":"Lesser-Known Features of Go Test - Blog | Splice","title_link":"https:\/\/splice.com\/blog\/lesser-known-features-go-test\/","text":"Go test is Golang's built-in testing framework. Simple and elegant but it packs advanced features, learn how to leverage them.","fallback":"Lesser-Known Features of Go Test - Blog | Splice","thumb_url":"https:\/\/splice.com\/blog\/wp-content\/uploads\/2014\/09\/trafficLight.jpg","from_url":"https:\/\/splice.com\/blog\/lesser-known-features-go-test\/","thumb_width":720,"thumb_height":855,"service_name":"splice.com","id":1}],"ts":"1464610967.001559"},{"type":"message","user":"U0KPFAZNF","text":"(see \u201cParallelizing Tests\u201d about 2\/3rds down","ts":"1464610985.001561"},{"type":"message","user":"U0KPFAZNF","text":"you think its the opposite?","ts":"1464610996.001562"},{"type":"message","user":"U0N1D1UAE","text":"<@U0XQ35CDD> `make stress2s` takes less than 1 minute on an x86 server after the clients start. This is the only part of the test that is not covered by a timeout. I would be very interested to find out what state the clients are in. I\u2019m effectively calling \u2018wait\u2019 on the client subprocesses - so if the job hasn\u2019t finished the client subprocesses have not terminated. Maybe take a look at the log files in your $BUSYWORK_HOME.","ts":"1464627326.001563"},{"type":"message","user":"U0N1D1UAE","text":"<@U0KPFAZNF> <@U0XR6J961> We\u2019ve had to fix bugs related to tests running in parallel and colliding over TCP ports. This is from `go help testflag`","ts":"1464627685.001564"},{"type":"message","user":"U0N1D1UAE","text":"`-parallel n\n\t    Allow parallel execution of test functions that call t.Parallel.\n\t    The value of this flag is the maximum number of tests to run\n\t    simultaneously; by default, it is set to the value of GOMAXPROCS.\n\t    Note that -parallel only applies within a single test binary.\n\t    The 'go test' command may run tests for different packages\n\t    in parallel as well, according to the setting of the -p flag\n\t    (see 'go help build\u2019).`","ts":"1464627690.001565"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1464627701.001566"},{"type":"message","user":"U0KPFAZNF","text":"Ah, i see.  I interpreted the blog entry as it was completely opt in","ts":"1464628772.001567"},{"type":"message","user":"U0KPFAZNF","text":"I was trying to see if there was any opportunities to make the tests complete faster","ts":"1464628807.001568"},{"user":"U142E5N0P","type":"message","subtype":"channel_join","text":"<@U142E5N0P|yingfeng> has joined the channel","ts":"1464663127.001569"},{"user":"U13CYDM1Q","type":"message","subtype":"channel_join","text":"<@U13CYDM1Q|slowtokyo> has joined the channel","ts":"1464691479.001570"},{"type":"message","user":"U0KPFAZNF","text":"<@U0N1D1UAE>: reading your post again, it still seems like it might be opt in, no?","ts":"1464695059.001571"},{"type":"message","user":"U0KPFAZNF","text":"\"Allow parallel execution of test functions that call t.Parallel\"","ts":"1464695073.001572"},{"type":"message","user":"U0KPFAZNF","text":"that sounds like it\u2019s only a candidate if it calls t.Parallel","ts":"1464695091.001573"},{"type":"message","user":"U0KPFAZNF","text":"explicitly, i mean","ts":"1464695099.001574"},{"type":"message","user":"U0KPFAZNF","text":"the confusing part is the note about the default","ts":"1464695121.001575"},{"type":"message","user":"U0XR6J961","text":"ah!","ts":"1464695211.001576"},{"type":"message","user":"U0XR6J961","text":"then i don't know","ts":"1464695215.001577"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UKTPMG8>: question about behave test names","ts":"1464697389.001578"},{"type":"message","user":"U0KPFAZNF","text":"i just ran a full sweep and saw this;","ts":"1464697398.001579"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1CUFD9EJ\/-.sh|Untitled>","file":{"id":"F1CUFD9EJ","created":1464697407,"timestamp":1464697407,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0KPFAZNF","editable":true,"size":246,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1CUFD9EJ\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1CUFD9EJ\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1CUFD9EJ\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1CUFD9EJ-f93073398e","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1CUFD9EJ\/-.sh\/edit","preview":"Failing scenarios:\r\n  peer_basic.feature:577  basic startup of 2 validating peers using TLS\r\n\r\n0 features passed, 1 failed, 1 skipped\r\n26 scenarios passed, 1 failed, 4 skipped\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Failing scenarios:<\/pre><\/div>\n<div><pre>  peer_basic.feature:577  basic startup of <span class=\"cm-number\">2<\/span> validating peers using TLS<\/pre><\/div>\n<div><pre>&#8203;<\/pre><\/div>\n<div><pre><span class=\"cm-number\">0<\/span> features passed, <span class=\"cm-number\">1<\/span> failed, <span class=\"cm-number\">1<\/span> skipped<\/pre><\/div>\n<div><pre><span class=\"cm-number\">26<\/span> scenarios passed, <span class=\"cm-number\">1<\/span> failed, <span class=\"cm-number\">4<\/span> skipped<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":7,"lines_more":2,"preview_is_truncated":null,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1464697407.001580"},{"type":"message","user":"U0KPFAZNF","text":"In an attempt to diagnose I tried to re-run just the failing test like this:","ts":"1464697444.001581"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1CUPHNSK\/-.sh|Untitled>","file":{"id":"F1CUPHNSK","created":1464697452,"timestamp":1464697452,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0KPFAZNF","editable":true,"size":991,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1CUPHNSK\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1CUPHNSK\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1CUPHNSK\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1CUPHNSK-1ffa6c94ea","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1CUPHNSK\/-.sh\/edit","preview":"vagrant@hyperledger-devenv:v0.0.10-88fb082:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/bddtests$ behave -n\"577\"\r\nFeature: lanching 3 peers # peer_basic.feature:11\r\n  As a HyperLedger developer\r\n  I want to be able to launch 3 peers\r\nFeature: utxo # utxo.feature:11\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>vagrant@hyperledger-devenv:v0.0.10-88fb082:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/bddtests<span class=\"cm-def\">$ behave<\/span> <span class=\"cm-attribute\">-n<\/span><span class=\"cm-string\">&quot;577&quot;<\/span><\/pre><\/div>\n<div><pre>Feature: lanching <span class=\"cm-number\">3<\/span> peers <span class=\"cm-comment\"># peer_basic.feature:11<\/span><\/pre><\/div>\n<div><pre>  As a HyperLedger developer<\/pre><\/div>\n<div><pre>  I want to be able to launch <span class=\"cm-number\">3<\/span> peers<\/pre><\/div>\n<div><pre>Feature: utxo <span class=\"cm-comment\"># utxo.feature:11<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":22,"lines_more":17,"preview_is_truncated":null,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1464697453.001582"},{"type":"message","user":"U0KPFAZNF","text":"however, it doesn\u2019t appear that it ran the same (feature:577 vs feature:11)","ts":"1464697483.001583"},{"type":"message","user":"U0KPFAZNF","text":"any advice?","ts":"1464697487.001584"},{"type":"message","user":"U0UGH3X7X","text":"greg, I think the 577 in this case is the line number  ... try -n \"peers using TLS\"","ts":"1464698038.001585"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1CUXCDA5\/-.sh|Untitled>","file":{"id":"F1CUXCDA5","created":1464698155,"timestamp":1464698155,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0KPFAZNF","editable":true,"size":496,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1CUXCDA5\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1CUXCDA5\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1CUXCDA5\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1CUXCDA5-e8275c5f43","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1CUXCDA5\/-.sh\/edit","preview":"vagrant@hyperledger-devenv:v0.0.10-88fb082:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/bddtests$ behave -n\"peer using TLS\"\r\nFeature: lanching 3 peers # peer_basic.feature:11\r\n  As a HyperLedger developer\r\n  I want to be able to launch 3 peers\r\nFeature: utxo # utxo.feature:11\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>vagrant@hyperledger-devenv:v0.0.10-88fb082:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/bddtests<span class=\"cm-def\">$ behave<\/span> <span class=\"cm-attribute\">-n<\/span><span class=\"cm-string\">&quot;peer using TLS&quot;<\/span><\/pre><\/div>\n<div><pre>Feature: lanching <span class=\"cm-number\">3<\/span> peers <span class=\"cm-comment\"># peer_basic.feature:11<\/span><\/pre><\/div>\n<div><pre>  As a HyperLedger developer<\/pre><\/div>\n<div><pre>  I want to be able to launch <span class=\"cm-number\">3<\/span> peers<\/pre><\/div>\n<div><pre>Feature: utxo <span class=\"cm-comment\"># utxo.feature:11<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":11,"lines_more":6,"preview_is_truncated":null,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1464698155.001586"},{"type":"message","user":"U0KPFAZNF","text":"same basic result","ts":"1464698161.001587"},{"type":"message","user":"U0XR6J961","text":"doesn't it skip them?","ts":"1464698456.001588"},{"type":"message","subtype":"file_share","text":"<@U0UGH3X7X|tuand> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/tuand\/F1CV6B8JW\/-.txt|Untitled>","file":{"id":"F1CV6B8JW","created":1464698934,"timestamp":1464698934,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UGH3X7X","editable":true,"size":1144,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1CV6B8JW\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1CV6B8JW\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/tuand\/F1CV6B8JW\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1CV6B8JW-b1dc4a903b","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/tuand\/F1CV6B8JW\/-.txt\/edit","preview":"vagrant@ubuntu-1404:~$ cd \/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/bddtests\/\r\nvagrant@ubuntu-1404:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/bddtests$ behave -n \"peers using TLS\"\r\nFeature: lanching 3 peers # peer_basic.feature:11\r\n  As a HyperLedger developer\r\n  I want to be able to launch 3 peers\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>vagrant@ubuntu-1404:~$ cd \/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/bddtests\/<\/pre><\/div>\n<div><pre>vagrant@ubuntu-1404:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/bddtests$ behave -n &quot;peers using TLS&quot;<\/pre><\/div>\n<div><pre>Feature: lanching 3 peers # peer_basic.feature:11<\/pre><\/div>\n<div><pre>  As a HyperLedger developer<\/pre><\/div>\n<div><pre>  I want to be able to launch 3 peers<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":20,"lines_more":15,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0UGH3X7X","upload":true,"display_as_bot":false,"username":"<@U0UGH3X7X|tuand>","bot_id":null,"ts":"1464698934.001589"},{"type":"message","user":"U0UGH3X7X","text":"was that a typo  ?  `peer using TLS ` instead of `peers using TLS`","ts":"1464698974.001590"},{"type":"message","user":"U0N1D1UAE","text":"<@U0KPFAZNF> My reading of the docs. and some blogs is that yes,  `t.Parallel` is an opt in that would have to be added to each test within a package that was safe to run in parallel with other tests.","ts":"1464699658.001591"},{"type":"message","user":"U0KPFAZNF","text":"Ok, that's how I read it too.  But IIUC you are saying that appears to not be the case?","ts":"1464699849.001592"},{"type":"message","user":"U0XR6J961","text":"i thought tests ran in parallel","ts":"1464699862.001593"},{"type":"message","user":"U0XR6J961","text":"but it seems not","ts":"1464699865.001594"},{"type":"message","user":"U0N1D1UAE","text":"I believe that tests from different packages run in parallel, I\u2019ve seen it","ts":"1464699904.001595"},{"type":"message","user":"U0N1D1UAE","text":"on `top`","ts":"1464699911.001596"},{"type":"message","user":"U0XR6J961","text":"oooh","ts":"1464699947.001597"},{"type":"message","user":"U0N1D1UAE","text":"\u201cSomeone\u201d should add `t.Parallel` to our tests to make them run faster","ts":"1464699951.001598"},{"type":"message","user":"U0N1D1UAE","text":"(in theory)","ts":"1464699958.001599"},{"type":"message","user":"U0XR6J961","text":"do they run slowly?","ts":"1464699964.001600"},{"type":"message","user":"U0XR6J961","text":"i think behave is the big slow thing","ts":"1464699974.001601"},{"type":"message","user":"U0N1D1UAE","text":"The Go tests are pretty slow too. Note that in both cases the culprit is Docker","ts":"1464700016.001602"},{"type":"message","user":"U0XR6J961","text":"creating containers or building stuff in the container?","ts":"1464700044.001603"},{"type":"message","user":"U0KPFAZNF","text":"Yes, please elaborate","ts":"1464700065.001604"},{"type":"message","user":"U0N1D1UAE","text":"Chaincode deployment is excrutiatingly slow, and so is building containers in the container-building tests","ts":"1464700083.001605"},{"type":"message","user":"U0KPFAZNF","text":"Ah, gotcha.  I'm working on a PR that might improve some of that","ts":"1464700111.001606"},{"type":"message","user":"U0N1D1UAE","text":"My interest is piqued! What is the plan?","ts":"1464700130.001607"},{"type":"message","user":"U0KPFAZNF","text":"Well for one I've moved the image creation out of go-test and switched go-build to go-install","ts":"1464700191.001608"},{"type":"message","user":"U0XR6J961","text":"ah cool","ts":"1464700217.001609"},{"type":"message","user":"U0KPFAZNF","text":"Install is much faster to rebuild by a factor of 10x","ts":"1464700218.001610"},{"type":"message","user":"U0XR6J961","text":"i didn't have time to do that","ts":"1464700223.001611"},{"type":"message","user":"U0KPFAZNF","text":"(If nothing has changed)","ts":"1464700231.001612"},{"type":"message","user":"U0XR6J961","text":"do you use the result of go-install to gauge whether to rebuild the image?","ts":"1464700253.001613"},{"type":"message","user":"U0KPFAZNF","text":"I'm mobile now, but I'll send you a preview of the patches in a bit","ts":"1464700272.001614"},{"type":"message","user":"U0XR6J961","text":"okay","ts":"1464700275.001615"},{"type":"message","user":"U0KPFAZNF","text":"Yes","ts":"1464700279.001616"},{"type":"message","user":"U0KPFAZNF","text":"It all does intelligent rebuild avoidance now","ts":"1464700296.001617"},{"type":"message","user":"U0N1D1UAE","text":"Will this alleviate the chaincode deployment overhead?","ts":"1464700333.001618"},{"type":"message","user":"U0KPFAZNF","text":"it should help","ts":"1464700924.001619"},{"type":"message","user":"U0ULK2JPP","text":"at the risk of stating the obvious :slightly_smiling_face: \u2026 tests can be parallel only if things such as ports and database folders don\u2019t collide. For example chaincode tests use a \u201ctemp\u201d db and a non-default port 40303 (I think)","ts":"1464701058.001620"},{"type":"message","user":"U0ULK2JPP","text":"not hard to make unique though","ts":"1464701077.001621"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP>: yeah, i understood\u2026i was merely exploring the _how_ at this point\u2026i had come to the conclusion that go-test supports it via opt-in, but then was confused by some of the comments earlier that perhaps we already are running parallel","ts":"1464701170.001622"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: <@U0N1D1UAE> still a WIP: <https:\/\/github.com\/hyperledger\/fabric\/compare\/master...ghaskins:make-enhancement-preview>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/compare\/master...ghaskins:make-enhancement-preview","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/compare\/master...ghaskins:make-enhancement-preview","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1464701192.001623"},{"type":"message","user":"U0KPFAZNF","text":"one of the next steps will be to introduce \u201chyperledger\/fabric-chaincode-base\u201d and move some of the optimizations into that","ts":"1464701238.001625"},{"type":"message","user":"U0KPFAZNF","text":"and take the writeGopathSrc out of the golang code","ts":"1464701252.001626"},{"type":"message","user":"U0ULK2JPP","text":"great \u2026 and apologize for stating the obvious!","ts":"1464701360.001627"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1CV6QPNK\/-.sh|Untitled> and commented: <@U0XR6J961>: you can see the first invocation builds the image, and the second one detects that nothing needs to be done.","file":{"id":"F1CV6QPNK","created":1464701394,"timestamp":1464701394,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0KPFAZNF","editable":true,"size":1074,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1CV6QPNK\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1CV6QPNK\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1CV6QPNK\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1CV6QPNK-4f7d59811a","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1CV6QPNK\/-.sh\/edit","preview":"vagrant@hyperledger-devenv:v0.0.10-88fb082:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ make peer-image\r\nmkdir -p build\r\ngit ls-files | tar -zcT - > build\/gopath.tar.bz2\r\nmkdir -p build\/image\/peer\r\ncat images\/app\/Dockerfile.in | sed -e 's\/_TARGET_\/peer\/g' > build\/image\/peer\/Dockerfile\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>vagrant@hyperledger-devenv:v0.0.10-88fb082:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric<span class=\"cm-def\">$ make<\/span> peer-image<\/pre><\/div>\n<div><pre><span class=\"cm-builtin\">mkdir<\/span> <span class=\"cm-attribute\">-p<\/span> build<\/pre><\/div>\n<div><pre><span class=\"cm-builtin\">git<\/span> ls-files | tar <span class=\"cm-attribute\">-zcT<\/span> <span class=\"cm-attribute\">-<\/span> &gt; build\/gopath.tar.bz2<\/pre><\/div>\n<div><pre><span class=\"cm-builtin\">mkdir<\/span> <span class=\"cm-attribute\">-p<\/span> build\/image\/peer<\/pre><\/div>\n<div><pre><span class=\"cm-builtin\">cat<\/span> images\/app\/Dockerfile.in | <span class=\"cm-builtin\">sed<\/span> <span class=\"cm-attribute\">-e<\/span> <span class=\"cm-string\">'s\/_TARGET_\/peer\/g'<\/span> &gt; build\/image\/peer\/Dockerfile<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":23,"lines_more":18,"preview_is_truncated":null,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc1CVBUJLR","created":1464701394,"timestamp":1464701394,"user":"U0KPFAZNF","is_intro":true,"comment":"<@U0XR6J961>: you can see the first invocation builds the image, and the second one detects that nothing needs to be done.","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1464701394.001628"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP>: not at all, good to make sure we are all on the same page","ts":"1464701412.001629"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: what i still need to work out is to do something like volume mount the $GOPATH\/pkg dir so I can reuse the cache\u2026it greatly speeds up the build","ts":"1464701454.001630"},{"type":"message","user":"U0UKTPMG8","text":"<@U0KPFAZNF>: did you resolve your problem of running the behave test?","ts":"1464701681.001631"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UKTPMG8>: no, still not sure how to target the one that is failing","ts":"1464701849.001632"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1CTUR02X\/-.sh|Untitled> and commented: <@U0XR6J961>:","file":{"id":"F1CTUR02X","created":1464701922,"timestamp":1464701922,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0KPFAZNF","editable":true,"size":1260,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1CTUR02X\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1CTUR02X\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1CTUR02X\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1CTUR02X-66d1dcf0af","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1CTUR02X\/-.sh\/edit","preview":"vagrant@hyperledger-devenv:v0.0.10-88fb082:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ rm -rf \/opt\/gopath\/pkg\/\r\nvagrant@hyperledger-devenv:v0.0.10-88fb082:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ rm build\/bin\/peer\r\nvagrant@hyperledger-devenv:v0.0.10-88fb082:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ time make peer\r\nCGO_CFLAGS=\" \" CGO_LDFLAGS=\"-lrocksdb -lstdc++ -lm -lz -lbz2 -lsnappy\" GOBIN=\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/build\/bin go install github.com\/hyperledger\/fabric\/peer\r\nBinary available as build\/bin\/peer\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>vagrant@hyperledger-devenv:v0.0.10-88fb082:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric<span class=\"cm-def\">$ rm<\/span> <span class=\"cm-attribute\">-rf<\/span> \/opt\/gopath\/pkg\/<\/pre><\/div>\n<div><pre>vagrant@hyperledger-devenv:v0.0.10-88fb082:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric<span class=\"cm-def\">$ rm<\/span> build\/bin\/peer<\/pre><\/div>\n<div><pre>vagrant@hyperledger-devenv:v0.0.10-88fb082:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric<span class=\"cm-def\">$ time<\/span> <span class=\"cm-builtin\">make<\/span> peer<\/pre><\/div>\n<div><pre><span class=\"cm-def\">CGO_CFLAGS<\/span><span class=\"cm-operator\">=<\/span><span class=\"cm-string\">&quot; &quot;<\/span> <span class=\"cm-def\">CGO_LDFLAGS<\/span><span class=\"cm-operator\">=<\/span><span class=\"cm-string\">&quot;-lrocksdb -lstdc++ -lm -lz -lbz2 -lsnappy&quot;<\/span> <span class=\"cm-def\">GOBIN<\/span><span class=\"cm-operator\">=<\/span>\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/build\/bin go install github.com\/hyperledger\/fabric\/peer<\/pre><\/div>\n<div><pre>Binary available as build\/bin\/peer<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":23,"lines_more":18,"preview_is_truncated":null,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc1CV1EBC6","created":1464701922,"timestamp":1464701922,"user":"U0KPFAZNF","is_intro":true,"comment":"<@U0XR6J961>:","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1464701923.001633"},{"type":"message","user":"U0KPFAZNF","text":"first build, 32s, second build, optimized-out, touch one file, third build 9s (because of cache)","ts":"1464701970.001634"},{"type":"message","user":"U0KPFAZNF","text":"(if nothing changed, it takes about 3s if you force make to rebuild it, which is why I said 10x (3 vs 32)","ts":"1464702009.001635"},{"type":"message","user":"U0KPFAZNF","text":"but practically speaking, its probably more like the 9 vs 32","ts":"1464702024.001636"},{"type":"message","user":"U0KPFAZNF","text":"(though that is still pretty good)","ts":"1464702032.001637"},{"type":"message","user":"U0KPFAZNF","text":"unfortunately the *-image targets do not (yet) benefit from the $GOPATH\/pkg cache, as they start with a fresh docker environment each time","ts":"1464702090.001638"},{"type":"message","user":"U0KPFAZNF","text":"but I am working on that","ts":"1464702094.001639"},{"type":"message","user":"U0KPFAZNF","text":"im my original design, I was injecting the .\/build\/bin\/peer binary into the container rather than building it natively\u2026that was really fast but I was worried it wouldnt result in portability","ts":"1464702159.001640"},{"type":"message","user":"U0KPFAZNF","text":"so I backed away from that design","ts":"1464702170.001641"},{"type":"message","user":"U0XR6J961","text":"i think injecting the binary makes a lot of sense","ts":"1464705738.001642"},{"type":"message","user":"U0XR6J961","text":"this yaml config business is a monster","ts":"1464705987.001643"},{"type":"message","user":"U0XR6J961","text":"i think we need something better than viper","ts":"1464705995.001644"},{"type":"message","user":"U0KM61BCP","text":"anaconda?","ts":"1464709462.001645"},{"type":"message","user":"U0XR6J961","text":"there are other configuration solutions (that don't use yaml)","ts":"1464709595.001646"},{"type":"message","user":"U0XR6J961","text":"which verify all spelling, etc.","ts":"1464709605.001647"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: at first I thought so to, as I can take advantage of the go-install acceleration and make-prereq optimizations\u2026but then I realized, i am assuming that the host and docker are compatible","ts":"1464709617.001648"},{"type":"message","user":"U0XR6J961","text":"which parse directly into a struct, or behave like flags","ts":"1464709623.001649"},{"type":"message","user":"U0KPFAZNF","text":"in vagrant they are, but there are no guarantees :wink:","ts":"1464709629.001650"},{"type":"message","user":"U0XR6J961","text":"ghaskins: but they are for most people","ts":"1464709651.001651"},{"type":"message","user":"U0KPFAZNF","text":"for instance, the host could have a different version of golang or libc, and the binary might not work","ts":"1464709653.001652"},{"type":"message","user":"U0XR6J961","text":"ghaskins: oh.","ts":"1464709663.001653"},{"type":"message","user":"U0XR6J961","text":"but the binary should be static","ts":"1464709679.001654"},{"type":"message","user":"U0KPFAZNF","text":"thats a misnomer","ts":"1464709731.001655"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1D0Y411U\/-.sh|Untitled>","file":{"id":"F1D0Y411U","created":1464709739,"timestamp":1464709739,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0KPFAZNF","editable":true,"size":1002,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1D0Y411U\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1D0Y411U\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1D0Y411U\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1D0Y411U-d3b22c0e84","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1D0Y411U\/-.sh\/edit","preview":"vagrant@hyperledger-devenv:v0.0.10-88fb082:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ ldd build\/bin\/peer\r\n\tlinux-vdso.so.1 =>  (0x00007ffd58e9a000)\r\n\tlibpthread.so.0 => \/lib\/x86_64-linux-gnu\/libpthread.so.0 (0x00007f382d927000)\r\n\tlibrocksdb.so.4.1 => \/usr\/local\/lib\/librocksdb.so.4.1 (0x00007f382d41b000)\r\n\tlibdl.so.2 => \/lib\/x86_64-linux-gnu\/libdl.so.2 (0x00007f382d217000)\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>vagrant@hyperledger-devenv:v0.0.10-88fb082:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric<span class=\"cm-def\">$ ldd<\/span> build\/bin\/peer<\/pre><\/div>\n<div><pre>\tlinux-vdso.so.1 <span class=\"cm-operator\">=<\/span>&gt;  (0x00007ffd58e9a000)<\/pre><\/div>\n<div><pre>\tlibpthread.so.0 <span class=\"cm-operator\">=<\/span>&gt; \/lib\/x86_64-linux-gnu\/libpthread.so.0 (0x00007f382d927000)<\/pre><\/div>\n<div><pre>\tlibrocksdb.so.4.1 <span class=\"cm-operator\">=<\/span>&gt; \/usr\/local\/lib\/librocksdb.so.4.1 (0x00007f382d41b000)<\/pre><\/div>\n<div><pre>\tlibdl.so.2 <span class=\"cm-operator\">=<\/span>&gt; \/lib\/x86_64-linux-gnu\/libdl.so.2 (0x00007f382d217000)<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":14,"lines_more":9,"preview_is_truncated":null,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1464709739.001656"},{"type":"message","user":"U0KPFAZNF","text":"probably because golang packages are sort of handled in a static manner","ts":"1464709754.001657"},{"type":"message","user":"U0KPFAZNF","text":"but theres still \u201cthe rest of the world\u201d including all the stuff we explicitly cgo compile like rocksdb","ts":"1464709774.001658"},{"type":"message","user":"U0KPFAZNF","text":"and stuff that golang implicitly depends on, like libc and vdso","ts":"1464709798.001659"},{"type":"message","user":"U0KPFAZNF","text":"my guess: 99.999% of the time, I could build the binary on the host and inject it and it would work perfectly fine","ts":"1464709826.001660"},{"type":"message","user":"U0KPFAZNF","text":"its the %0.0001 im worried about, heh","ts":"1464709847.001661"},{"type":"message","user":"U0KPFAZNF","text":"figured \u201cget it right first and optimize later\"","ts":"1464709855.001662"},{"type":"message","user":"U0KPFAZNF","text":"if people always build from vagrant, there is no issue since we lockstep vagrant+docker","ts":"1464709891.001663"},{"type":"message","user":"U0KPFAZNF","text":"but as we have seen, that isn\u2019t always the case so its a dangerous assumption that I am trying to break us free of","ts":"1464709911.001664"},{"type":"message","user":"U0UKTPMG8","text":"<@U0KPFAZNF>: if the TLS entry is the one your interested, try this:\n\nbehave -k --tags=@TLS","edited":{"user":"U0UKTPMG8","ts":"1464711695.000000"},"ts":"1464711666.001665"},{"type":"message","user":"U0KPFAZNF","text":"thanks <@U0UKTPMG8> ill give that a shot","ts":"1464718862.001668"},{"type":"message","user":"U0KPFAZNF","text":"<@U0N1D1UAE>: do you have a test in busywork that measures the chaincode deployment rate?","ts":"1464723902.001669"},{"type":"message","user":"U0UKTPMG8","text":"<@U0KPFAZNF>: you can view the chaincode deployment rate with the behave tests for the deploy transactions","ts":"1464724111.001670"},{"type":"message","user":"U0UKTPMG8","text":"though this may not be exactly the information your looking for","ts":"1464724166.001671"},{"type":"message","user":"U0KPFAZNF","text":"ok, ill try that, thanks","ts":"1464724176.001672"},{"type":"message","user":"U142E5N0P","text":"anyone who could help to fix this issue ?\n<https:\/\/github.com\/hyperledger\/fabric\/issues\/1627>\n\nI think there might exist one situation to lead to this dead lock:  if the chaincode shim could not return, the lock of chaincode handler might block further requests.","attachments":[{"service_name":"GitHub","title":"System hangs under stress testing \u00b7 Issue #1627 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/issues\/1627","text":"Description I setup a simple stress testing environment, and use jmeter to perform the stress testing. When I set the number of clients to a relative large number, the system hung and would not a...","fallback":"GitHub: System hangs under stress testing \u00b7 Issue #1627 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/7248?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/issues\/1627","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1464742989.001673"},{"type":"message","user":"U0ULK2JPP","text":"<@U142E5N0P>: I\u2019m looking at it","ts":"1464745279.001675"},{"type":"message","user":"U0ULK2JPP","text":"the stack trace from your stress shows goroutines waiting on Lock but so far I have not found a \u201cdeadlock\"","ts":"1464745343.001676"},{"type":"message","user":"U0ULK2JPP","text":"I will be recreating with concurrent queries\u2026 will post on the issue as soon as I have something (or have more questions)","ts":"1464745474.001677"},{"type":"message","user":"U0ULK2JPP","text":"<@U142E5N0P>:  can you expand on  _if the chaincode shim could not return, the lock of chaincode handler might block further requests_ please ?","edited":{"user":"U0ULK2JPP","ts":"1464745820.000000"},"ts":"1464745776.001678"},{"type":"message","user":"U142E5N0P","text":"<@U0ULK2JPP>: thank you~\nMy suspection is: there is a single global lock within handler:\ntype Handler struct {\n\tsync.RWMutex\n   ...\n}\n\nAnd for each chaincode request, within the `exec` body, there are a series of places calling `Lock()`,say:\n\nfunc (handler *Handler) sendExecuteMessage{\n\ncreateTxContext\n\nserialSend\n\ndeleteTxContext\n\n}\nEach of the above three methods will have to call the `Lock` sequentially.   If `serialSend` would be blocked due to some reason, then other requests would be blocked by the global lock within `Handler` struct.  This is my suspection..","ts":"1464746406.001680"},{"type":"message","user":"U0ULK2JPP","text":"but then we\u2019ll see serialSend on the peer\u2019s stack...","ts":"1464746566.001681"},{"type":"message","user":"U0ULK2JPP","text":"I didn\u2019t see that in yours","ts":"1464746578.001682"},{"type":"message","user":"U142E5N0P","text":"could you reproduct it in your local environment?  it's pretty easy..","ts":"1464746679.001683"},{"type":"message","user":"U0ULK2JPP","text":"yes","ts":"1464746683.001684"},{"type":"message","user":"U0ULK2JPP","text":"that\u2019s what I\u2019m going to do","ts":"1464746690.001685"},{"type":"message","user":"U142E5N0P","text":"Why `handler.Lock()` is required within the body of `func (handler *Handler) serialSend(msg *pb.ChaincodeMessage)` ?   It's just a gRPC call.  When I remove this lock operation, fabric corrupted without trace dumped,  and these are the error logs:\n```\n02:07:28.504 [rest] ProcessChaincode -&gt; INFO 2db19 REST successfully query chaincode: {\"jsonrpc\":\"2.0\",\"error\":{\"code\":-32003,\"message\":\"Query failure\",\"data\":\"Error when querying chaincode: Error:Failed to execute transaction or query(Timeout expired while executing transaction)\"},\"id\":5}\n02:07:28.504 [rest] processChaincodeInvokeOrQuery -&gt; ERRO 2db1b Error when querying chaincode: Error:Failed to execute transaction or query(Timeout expired while executing transaction)\n02:07:28.532 [rest] processChaincodeInvokeOrQuery -&gt; ERRO 2db1d Error when querying chaincode: Error:Failed to execute transaction or query(Timeout expired while executing transaction)\n```","ts":"1464748723.001686"},{"type":"message","user":"U0ULK2JPP","text":"trying to understand _fabric corrupted without trace dumped, _ ...","ts":"1464749417.001687"},{"type":"message","user":"U142E5N0P","text":"just commenting the lock..\n```\nfunc (handler *Handler) serialSend(msg *pb.ChaincodeMessage) error {\n\t\/\/handler.Lock()\n\t\/\/defer handler.Unlock()\n\n```","ts":"1464749711.001688"},{"type":"message","user":"U0ULK2JPP","text":"ok...","ts":"1464749725.001689"},{"type":"message","user":"U0ULK2JPP","text":"are you saying the same test case does not \u201chang\u201d but completes with a timeout ?","ts":"1464749797.001690"},{"type":"message","user":"U142E5N0P","text":"yes..","ts":"1464749849.001691"},{"type":"message","user":"U142E5N0P","text":"and the fabric quit directly","ts":"1464749868.001692"},{"type":"message","user":"U0ULK2JPP","text":"the \u201c.\/peer node start\u201d process quit ?","ts":"1464749897.001693"},{"type":"message","user":"U142E5N0P","text":"yes","ts":"1464749907.001694"},{"type":"message","user":"U0ULK2JPP","text":"what\u2019s your ulimit -a ?","ts":"1464749931.001695"},{"type":"message","user":"U142E5N0P","text":"```\ncore file size          (blocks, -c) 0\ndata seg size           (kbytes, -d) unlimited\nscheduling priority             (-e) 0\nfile size               (blocks, -f) unlimited\npending signals                 (-i) 256493\nmax locked memory       (kbytes, -l) 64\nmax memory size         (kbytes, -m) unlimited\nopen files                      (-n) 65536\npipe size            (512 bytes, -p) 8\nPOSIX message queues     (bytes, -q) 819200\nreal-time priority              (-r) 0\nstack size              (kbytes, -s) 8192\ncpu time               (seconds, -t) unlimited\nmax user processes              (-u) 256493\nvirtual memory          (kbytes, -v) unlimited\nfile locks                      (-x) unlimited\n```","ts":"1464749963.001696"},{"type":"message","user":"U0ULK2JPP","text":"do you know how many concurrent queries you are running ?","ts":"1464750030.001697"},{"type":"message","user":"U142E5N0P","text":"i set 2000 users within the jmeter.  and the peak tps is around 800.","ts":"1464750091.001698"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1464750176.001699"},{"type":"message","user":"U0ULK2JPP","text":"I think the Lock is not necessary (probably something historical)","ts":"1464750221.001700"},{"type":"message","user":"U0ULK2JPP","text":"but i think we are running into some system issues","ts":"1464750252.001701"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019d have thought socket (open files) or memory limit","ts":"1464750290.001702"},{"type":"message","user":"U0ULK2JPP","text":"but they seem plent","ts":"1464750296.001703"},{"type":"message","user":"U0NCW1DPX","text":"I think we need more detail logs for debugging","ts":"1464750371.001704"},{"type":"message","user":"U0ULK2JPP","text":"<@U142E5N0P>: was able to recreate","ts":"1464750442.001705"},{"type":"message","user":"U0NCW1DPX","text":"<@U142E5N0P>: It\u2019s better you enable the debug level and try your test again if it can be reproduced easily","ts":"1464750478.001706"},{"type":"message","user":"U0ULK2JPP","text":"<@U0NCW1DPX>: perhaps\u2026 but given that we can recreate easily, we can create logs","ts":"1464750479.001707"},{"type":"message","user":"U0ULK2JPP","text":"<@U0NCW1DPX>: I think its been narrowed sufficiently","ts":"1464750523.001708"},{"type":"message","user":"U142E5N0P","text":"<@U0NCW1DPX>: the log level is set to debug already. it could be reproduced easily..","ts":"1464750563.001709"},{"type":"message","user":"U0NCW1DPX","text":"I believe you are using the latest code, right? In our env, we are still running the code 1 month ago, we had tried 1000 tps performance test. BTW, how many vp nodes you have?","ts":"1464750963.001710"},{"type":"message","user":"U142E5N0P","text":"yeah, i am using the latest code.  I just setup single peer node for stress testing.  If the number of jmeter clients is not that large, say 1000, the system could work with a peak tps of 2000, while when I enlarge the client number to 2000, the system would be hung easily, just a few seconds could make it happen every time.","ts":"1464751152.001711"},{"type":"message","user":"U142E5N0P","text":"since the claimed overall TPS of fabric is 100K according to github documents...","ts":"1464751202.001712"},{"type":"message","user":"U0NCW1DPX","text":":slightly_smiling_face:, I believe to achieve the 100K TPS commitment, should run fabric on more powerful hardware. on x86, we still have a lot of enhancement on the todo list. <@U0ULK2JPP> do you have any benchmark report for our reference.","edited":{"user":"U0NCW1DPX","ts":"1464752115.000000"},"ts":"1464751845.001713"},{"type":"message","user":"U142E5N0P","text":"I perform the stress testing on server, with Intel(R) Xeon(R) CPU E5-2620 v3 @ 2.40GHz\uff0c64G Memory,  and CentOS 7.2, although jmeter and fabric run together on single machine","ts":"1464752158.001715"},{"type":"message","user":"U0ULK2JPP","text":"<@U142E5N0P>: I suspect a limit of some sort (possibly on the chaincode container side)\u2026. I\u2019ll keep investigating this. But 2 points","ts":"1464752222.001716"},{"type":"message","user":"U0ULK2JPP","text":"1) the serialSend lock is unnecessary and is possibly clouding the issue","ts":"1464752248.001717"},{"type":"message","user":"U0ULK2JPP","text":"2) could you try your test running chaincode in dev mode","ts":"1464752272.001718"},{"type":"message","user":"U0ULK2JPP","text":"where we have better control of system limits via ulimit","ts":"1464752288.001719"},{"type":"message","user":"U142E5N0P","text":"okay, i will test it in dev mode and let you know","ts":"1464752301.001720"},{"type":"message","user":"U0ULK2JPP","text":"it\u2019ll be interesting to compare","ts":"1464752302.001721"},{"type":"message","user":"U0ULK2JPP","text":"I will try too but I have to rig up the env","ts":"1464752316.001722"},{"type":"message","user":"U142E5N0P","text":"<@U0ULK2JPP>: \nI've just tried under dev mode.  I removed the lock within `serialSend`, and perform the testing, the chaincode process quit without core dump, while the peer node process remains alive. Here are the outputs:\n\n```\n11:53:28.425 [shim] DEBU : [7b4d539d]Query completed. Sending QUERY_COMPLETED\n11:53:28.425 [shim] DEBU : [5b1052ba]GetState received payload RESPONSE\n11:53:28.425 [shim] DEBU : [e2e396dd]Received message QUERY from shim\n11:53:28.425 [shim] DEBU : [e2e396dd]Handling ChaincodeMessage of type: QUERY(state:ready)\n11:53:28.425 [shim] DEBU : [24eac5e5]Sending GET_STATE\n11:53:28.425 [shim] DEBU : [37edd00d]GetState received payload RESPONSE\n11:53:28.425 [shim] ERRO : Received error from server: rpc error: code = 13 desc = \"grpc: proto: protos.ChaincodeSecurityContext: illegal tag 0 (wire type 0)\", ending chaincode stream\nError starting Simple chaincode: rpc error: code = 13 desc = \"grpc: proto: protos.ChaincodeSecurityContext: illegal tag 0 (wire type 0)\"bjs0-3a4:root ~\/codebase\/src\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02 $\n```","ts":"1464753370.001723"},{"type":"message","user":"U0ULK2JPP","text":"thanks <@U142E5N0P>","ts":"1464753841.001724"},{"type":"message","user":"U0ULK2JPP","text":"let me check something","ts":"1464753867.001725"},{"type":"message","user":"U142E5N0P","text":"thank you~..","ts":"1464753875.001726"},{"type":"message","user":"U0ULK2JPP","text":"do you have the peer log when running in peer mode (with the serialSend lock commented out)","ts":"1464753977.001727"},{"type":"message","user":"U0ULK2JPP","text":"wonder if there\u2019s a  \"grpc server exited with error:\u201d there","ts":"1464754002.001728"},{"type":"message","user":"U0ULK2JPP","text":"actually \u2026 just realized something\u2026 I think we may need that lock after all for serialization","ts":"1464754298.001729"},{"type":"message","user":"U0ULK2JPP","text":"I need to check something else for that","ts":"1464754310.001730"},{"type":"message","user":"U0ULK2JPP","text":"but even if we do, it probably does not have to be the handler lock but a \u201ctransport serialization lock\u201d)","ts":"1464754351.001731"},{"type":"message","user":"U0ULK2JPP","text":"the corruption could be because of the non-serialization (hence the name \u201cserialSend\u201d)","ts":"1464754481.001732"},{"type":"message","user":"U142E5N0P","text":"I saw some peer outputs perhaps related to the issue you mentioned above:\n\n```\n[36m12:16:44.781 [dockercontroller] stopInternal -&gt; DEBU 31c32fESC[0m Stop container dev-jdoe-mycc(Post <http:\/\/unix.sock\/containers\/dev-jdoe-mycc\/stop?t=0>: dial unix \/var\/run\/docker.sock: socket: too many open files)\nESC[36m12:16:44.781 [dockercontroller] stopInternal -&gt; DEBU 31c330ESC[0m Kill container dev-jdoe-mycc (Post <http:\/\/unix.sock\/containers\/dev-jdoe-mycc\/kill>: dial unix \/var\/run\/docker.sock: socket: too many open files)\n```","ts":"1464754691.001733"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1464754703.001734"},{"type":"message","user":"U0ULK2JPP","text":"I added another lock to the handler called transportLock and used that in serialSend","ts":"1464754802.001735"},{"type":"message","user":"U0ULK2JPP","text":"i still see the problem","ts":"1464754818.001736"},{"type":"message","user":"U0ULK2JPP","text":"which now cannot be because of the common lock","ts":"1464754835.001737"},{"type":"message","user":"U0ULK2JPP","text":"can you try that in the \u201cdev\u201d env test ?","ts":"1464754871.001738"},{"type":"message","user":"U142E5N0P","text":"yeah, sure","ts":"1464754922.001739"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F1D65RUFR\/pasted_image_at_2016_06_01_12_21_am.png|Pasted image at 2016-06-01, 12:21 AM>","file":{"id":"F1D65RUFR","created":1464754922,"timestamp":1464754922,"name":"Pasted image at 2016_06_01 12_21 AM.png","title":"Pasted image at 2016-06-01, 12:21 AM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":15103,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1D65RUFR\/pasted_image_at_2016_06_01_12_21_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1D65RUFR\/download\/pasted_image_at_2016_06_01_12_21_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1D65RUFR-1c55415c24\/pasted_image_at_2016_06_01_12_21_am_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1D65RUFR-1c55415c24\/pasted_image_at_2016_06_01_12_21_am_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1D65RUFR-1c55415c24\/pasted_image_at_2016_06_01_12_21_am_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":43,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1D65RUFR-1c55415c24\/pasted_image_at_2016_06_01_12_21_am_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":57,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1D65RUFR-1c55415c24\/pasted_image_at_2016_06_01_12_21_am_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","image_exif_rotation":1,"original_w":654,"original_h":78,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F1D65RUFR\/pasted_image_at_2016_06_01_12_21_am.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1D65RUFR-363104bbc6","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1464754923.001740"},{"type":"message","user":"U0ULK2JPP","text":"and","ts":"1464754941.001741"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F1D6GRJ2W\/pasted_image_at_2016_06_01_12_22_am.png|Pasted image at 2016-06-01, 12:22 AM>","file":{"id":"F1D6GRJ2W","created":1464754945,"timestamp":1464754945,"name":"Pasted image at 2016_06_01 12_22 AM.png","title":"Pasted image at 2016-06-01, 12:22 AM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":21756,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1D6GRJ2W\/pasted_image_at_2016_06_01_12_22_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1D6GRJ2W\/download\/pasted_image_at_2016_06_01_12_22_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1D6GRJ2W-6b36bc31e7\/pasted_image_at_2016_06_01_12_22_am_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1D6GRJ2W-6b36bc31e7\/pasted_image_at_2016_06_01_12_22_am_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1D6GRJ2W-6b36bc31e7\/pasted_image_at_2016_06_01_12_22_am_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":34,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1D6GRJ2W-6b36bc31e7\/pasted_image_at_2016_06_01_12_22_am_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":45,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1D6GRJ2W-6b36bc31e7\/pasted_image_at_2016_06_01_12_22_am_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1D6GRJ2W-6b36bc31e7\/pasted_image_at_2016_06_01_12_22_am_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":68,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1D6GRJ2W-6b36bc31e7\/pasted_image_at_2016_06_01_12_22_am_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":91,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1D6GRJ2W-6b36bc31e7\/pasted_image_at_2016_06_01_12_22_am_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":97,"image_exif_rotation":1,"original_w":1036,"original_h":98,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F1D6GRJ2W\/pasted_image_at_2016_06_01_12_22_am.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1D6GRJ2W-32f4afc316","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1464754947.001742"},{"type":"message","user":"U0ULK2JPP","text":"thanks much","ts":"1464754953.001743"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019m going to turn in for today\u2026.will check back later. thanks for all the help, <@U142E5N0P>","ts":"1464755471.001744"},{"type":"message","user":"U142E5N0P","text":"<@U0ULK2JPP>:   I've run the stress test for 5 minutes already, it seems stable right now..","ts":"1464755505.001745"},{"type":"message","user":"U0ULK2JPP","text":"interesting","ts":"1464755513.001746"},{"type":"message","user":"U0ULK2JPP","text":"so it\u2019ll be interesting if you can run in dev with the old lock","ts":"1464755538.001747"},{"type":"message","user":"U0ULK2JPP","text":"that would complete the matric","ts":"1464755550.001748"},{"type":"message","user":"U0ULK2JPP","text":"matrix","ts":"1464755554.001749"},{"type":"message","user":"U0ULK2JPP","text":"so I suspect resource issues with possible interference with using one lock (clouding the dynamics)","ts":"1464755615.001750"},{"type":"message","user":"U142E5N0P","text":"the qps currently is pretty low, only around 80, and the cpu percentage is very low.  Perhaps the resource confliction is of many places..","ts":"1464755688.001751"},{"type":"message","user":"U0ULK2JPP","text":"yes","ts":"1464755710.001752"},{"type":"message","user":"U0ULK2JPP","text":"possibly","ts":"1464755712.001753"},{"type":"message","user":"U0ULK2JPP","text":"well, wish you a good day for now","ts":"1464755766.001754"},{"type":"message","user":"U142E5N0P","text":"thank you <@U0ULK2JPP>  :smile:","ts":"1464755785.001755"},{"type":"message","user":"U0ULK2JPP","text":"thank you too!","ts":"1464755802.001756"},{"type":"message","user":"U142E5N0P","text":"Hi, for this issue <https:\/\/github.com\/hyperledger\/fabric\/issues\/1602> where I use `calico` as the SDN solution.\n\nIt reappears after I change to latest commits...    If I setup two peers, then only peer1 could get success response to queries.","attachments":[{"service_name":"GitHub","title":"Deploy fabric using other kinds of overlay networks \u00b7 Issue #1602 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/issues\/1602","text":"Description My aim is to deploy fabric using docker images on several machines using existing orchestration frameworks, such as mesos\/kubernetes\/swarm, and I hope to utilize some kinds of SDN such...","fallback":"GitHub: Deploy fabric using other kinds of overlay networks \u00b7 Issue #1602 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/7248?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/issues\/1602","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1464769068.001757"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1DASJ43E\/-.sh|Untitled> and commented: <@U0UKTPMG8>: Thank you for the tip on isolating the test.  I consistently see this test failure in my branch so I am fairly certain its legit.  Do you have any advice on how to dig in further?  I was trying do so something like \"docker-compose -f docker-compose-2-tls-basic.yml start\u201d but nothing is happening and I dont understand why.","file":{"id":"F1DASJ43E","created":1464797639,"timestamp":1464797639,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0KPFAZNF","editable":true,"size":3831,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1DASJ43E\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1DASJ43E\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1DASJ43E\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1DASJ43E-c949fe1720","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1DASJ43E\/-.sh\/edit","preview":"vagrant@hyperledger-devenv:v0.0.10-7a10826:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/bddtests$ behave -k --tags=@TLS\r\nFeature: lanching 3 peers # peer_basic.feature:11\r\n  As a HyperLedger developer\r\n  I want to be able to launch 3 peers\r\n  @TLS\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>vagrant@hyperledger-devenv:v0.0.10-7a10826:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/bddtests<span class=\"cm-def\">$ behave<\/span> <span class=\"cm-attribute\">-k<\/span> <span class=\"cm-attribute\">--tags<\/span><span class=\"cm-operator\">=<\/span>@TLS<\/pre><\/div>\n<div><pre>Feature: lanching <span class=\"cm-number\">3<\/span> peers <span class=\"cm-comment\"># peer_basic.feature:11<\/span><\/pre><\/div>\n<div><pre>  As a HyperLedger developer<\/pre><\/div>\n<div><pre>  I want to be able to launch <span class=\"cm-number\">3<\/span> peers<\/pre><\/div>\n<div><pre>  @TLS<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":53,"lines_more":48,"preview_is_truncated":null,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc1DASJ8VA","created":1464797639,"timestamp":1464797639,"user":"U0KPFAZNF","is_intro":true,"comment":"<@U0UKTPMG8>: Thank you for the tip on isolating the test.  I consistently see this test failure in my branch so I am fairly certain its legit.  Do you have any advice on how to dig in further?  I was trying do so something like \"docker-compose -f docker-compose-2-tls-basic.yml start\u201d but nothing is happening and I dont understand why.","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1464797640.001759"},{"type":"message","user":"U0KPFAZNF","text":"or maybe the fact that nothing is happening _is_ the hint, heh","ts":"1464797682.001760"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UKTPMG8>: nm, I needed \u201ccompose .. up\u201d not \u201ccompose .. start\"","ts":"1464797865.001761"},{"type":"message","user":"U0UKTPMG8","text":"<@U0KPFAZNF>: couple of ways.  You can set the doNotDecompose tag on the test, in this way you can run the test and then debug the issues with log viewing","ts":"1464800576.001762"},{"type":"message","user":"U0KPFAZNF","text":"ah, that probably would have worked, good idea","ts":"1464800600.001763"},{"type":"message","user":"U0UKTPMG8","text":"in general, look at the command that was used for docker up.  You can then reuse this to kill the system and do it again","ts":"1464800603.001764"},{"type":"message","user":"U0UKTPMG8","text":"I generally do the following:\n\nset the DoNotDecompose tag and run the test.","ts":"1464800626.001765"},{"type":"message","user":"U0KPFAZNF","text":"i was able to find the issue once I learned the raw docker-compose incantation","ts":"1464800632.001766"},{"type":"message","user":"U0UKTPMG8","text":"Then use the docker-compose -f &lt;docker-compoisefile&gt; logs","ts":"1464800647.001767"},{"type":"message","user":"U0KPFAZNF","text":"so just add \u201c\u2014tag=@DoNotDecompose\u201d ?","ts":"1464800675.001768"},{"type":"message","user":"U0UKTPMG8","text":"no, you uncomment the DoNotDecompose tag on the scenario","ts":"1464800695.001769"},{"type":"message","user":"U0KPFAZNF","text":"ah, got it","ts":"1464800703.001770"},{"type":"message","user":"U0UKTPMG8","text":"adding the tag to the scenario","ts":"1464800704.001771"},{"type":"message","user":"U0UKTPMG8","text":"make sure to re-comment as to not screw up other scenarios when running more than one","ts":"1464800721.001772"},{"type":"message","user":"U0KPFAZNF","text":"roger","ts":"1464800738.001773"},{"type":"message","user":"U0UKTPMG8","text":"as the docker system will NOT be torn down for that scenario, and may screw up subsequent one","ts":"1464800740.001774"},{"type":"message","user":"U0UKTPMG8","text":":slightly_smiling_face:","ts":"1464800741.001775"},{"type":"message","user":"U0UKTPMG8","text":"I also find the following useful for finding specfic errors after running.\n\ndocker-compose -f docker-compose-4-consensus-batch.yml logs  2&gt;&amp;1 | grep -i err","ts":"1464800786.001776"},{"type":"message","user":"U0TFEHX8E","text":"has anyone here ever used <http:\/\/codeclimate.com|codeclimate.com>? If so, is it useful and something we should consider?","ts":"1464808883.001777"},{"type":"message","user":"U0P2GSA8Z","text":"hi all, I've had a branch with a small fix to issue-1309 that has been sitting in my repo for a while and I'm not completely sure what to do with it so I figured I would ask here for input","ts":"1464814783.001778"},{"type":"message","user":"U0P2GSA8Z","text":"the discussion on the issue led to asking whether we should use something else than Viper or use some kind of yaml validator but I haven't seen anything really appealing to me on that front","ts":"1464814865.001779"},{"type":"message","user":"U0P2GSA8Z","text":"so, I'm tempted to submit a PR that does fix the obvious problem I raised with this issue and nothing else but even then I'm not completely sure what the right behavior is","ts":"1464814937.001780"},{"type":"message","user":"U0P2GSA8Z","text":"namely, when a configuration error is found, <@U0XR6J961> suggested the program should stop with an error rather than simply emit an error message and continue, is that agreeable to all?","ts":"1464815012.001781"},{"type":"message","user":"U0P2GSA8Z","text":"is calling panic what should be done then?","ts":"1464815046.001782"},{"type":"message","user":"U0P2GSA8Z","text":"I'd appreciate any feedback, thanks","ts":"1464815060.001783"},{"type":"message","user":"U0TFEHX8E","text":"+1 for panic over error and continue. I guess ideally they would all be verified and cached at startup","ts":"1464818327.001784"},{"type":"message","user":"U0P2GSA8Z","text":"that would require all the logic to be put in one place though, I don't know whether this is practical","ts":"1464820991.001785"},{"type":"message","user":"U0P2GSA8Z","text":"I'll got ahead and submit my PR which I think would be an improvement from where we currently are no matter what","ts":"1464822277.001786"},{"type":"message","user":"U0P2GSA8Z","text":"more can always be done later on","ts":"1464822284.001787"},{"type":"message","user":"U0P2GSA8Z","text":"please, review PR 1679 and comment as needed","ts":"1464824776.001788"},{"user":"U1DFU0M32","type":"message","subtype":"channel_join","text":"<@U1DFU0M32|chenhua> has joined the channel","ts":"1464840404.001789"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961> <@U0N1D1UAE> pleased to announce I was able to get the build logic sorted so that we have full build avoidance\/intelligence now: <https:\/\/github.com\/hyperledger\/fabric\/compare\/master...ghaskins:make-enhancement-preview>","edited":{"user":"U0KPFAZNF","ts":"1464873710.000000"},"ts":"1464873703.001790"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: it dawned on me that I could get the best of both worlds\u2026.native-docker builds AND $GOPATH\/pkg acceleration","ts":"1464873746.001793"},{"type":"message","user":"U0KPFAZNF","text":"im just wrapping up some local testing and will PR this hopefully today","ts":"1464873768.001794"},{"type":"message","user":"U0XR6J961","text":"cool!","ts":"1464873791.001795"},{"type":"message","user":"U0KPFAZNF","text":"(though we are down a maintainer this week with <@U0TFEHX8E> out, so it might have a longer acceptance cycle than typical)","ts":"1464873806.001796"},{"type":"message","user":"U0XR6J961","text":"<@U0UKTPMG8>: you around?","ts":"1464873806.001797"},{"type":"message","user":"U0UKTPMG8","text":"<@U0XR6J961>: Im here :slightly_smiling_face:","ts":"1464874097.001798"},{"type":"message","user":"U0XR6J961","text":"yey!","ts":"1464874105.001799"},{"type":"message","user":"U0XR6J961","text":"jeffgarratt:  <https:\/\/github.com\/hyperledger\/fabric\/issues\/1056>","attachments":[{"service_name":"GitHub","title":"Investigate blocking network operations in fabric \u00b7 Issue #1056 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/issues\/1056","text":"Per a discussion with @chetmurthy we should audit the fabric code to ensure that we never expect network operations to only succeed\/fail immediately, but instead ensure that we also handle the time...","fallback":"GitHub: Investigate blocking network operations in fabric \u00b7 Issue #1056 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars0.githubusercontent.com\/u\/7431583?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/issues\/1056","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1464874157.001800"},{"type":"message","user":"U0XR6J961","text":"jeffgarratt: basically we need to stop blocking when a peer takes too long to receive messages","ts":"1464874186.001802"},{"type":"message","user":"U0XR6J961","text":"jeffgarratt: right now broadcast waits for all sends to be done, but that doesn't work if one peer is byzantine and does not accept data","ts":"1464874211.001803"},{"type":"message","user":"U0XR6J961","text":"jeffgarratt: now, this we could work around, but we also need to make sure that we don't buffer data unboundedly","ts":"1464874262.001804"},{"type":"message","user":"U0XR6J961","text":"jeffgarratt: so i figure we should drop the connection\/context if that peer is slow","ts":"1464874294.001805"},{"type":"message","user":"U0XR6J961","text":"the problem is that chatstreams can be either client or server streams, and you close them in different ways (awkward in any case)","ts":"1464874379.001806"},{"type":"message","user":"U0UKTPMG8","text":"We can make some modifications to the handler that allow certain error conditions to close the stream","ts":"1464874452.001807"},{"type":"message","user":"U0XR6J961","text":"yea, but how?","ts":"1464874462.001808"},{"type":"message","user":"U0UKTPMG8","text":"I had discussed with <@U0XPR4NP4> a change to the handleMessage return to include a boolean of whether the stream should be closed.","ts":"1464874492.001809"},{"type":"message","user":"U0UKTPMG8","text":"in this way, the handler can determine.","ts":"1464874503.001810"},{"type":"message","user":"U0XR6J961","text":"well that's not the issue here","ts":"1464874530.001811"},{"type":"message","user":"U0XR6J961","text":"how can the handler close the stream in the first place?","ts":"1464874540.001812"},{"type":"message","user":"U0UKTPMG8","text":"Failure at the moment","ts":"1464874558.001813"},{"type":"message","user":"U0UKTPMG8","text":"but discovery would more than likely re-establish the stream","ts":"1464874583.001814"},{"type":"message","user":"U0XR6J961","text":"yea i didn't find a way to close the connection","ts":"1464874585.001815"},{"type":"message","user":"U0XR6J961","text":"re-establish is fine","ts":"1464874592.001816"},{"type":"message","user":"U0UKTPMG8","text":"k, so closing the stream from either side would be sufficient?","ts":"1464874631.001817"},{"type":"message","user":"U0XR6J961","text":"either side needs to be able to close the stream, i'd say","ts":"1464874644.001818"},{"type":"message","user":"U0UKTPMG8","text":"k, think we can accommodate this fairly simply","ts":"1464874662.001819"},{"type":"message","user":"U0XR6J961","text":"great, because i didn't figure out a way","ts":"1464874677.001820"},{"type":"message","user":"U0UKTPMG8","text":"is the above issue the one we could do this work under?","ts":"1464874684.001821"},{"type":"message","user":"U0XR6J961","text":"the client side could use a cancelable context","ts":"1464874686.001822"},{"type":"message","user":"U0XR6J961","text":"but the server side can't","ts":"1464874694.001823"},{"type":"message","user":"U0XR6J961","text":"however the server side can call .Close() on the serverconnection","ts":"1464874714.001824"},{"type":"message","user":"U0XR6J961","text":"yea, i think the issue is the right place to coordinate","ts":"1464874727.001825"},{"type":"message","user":"U0UKTPMG8","text":"k","ts":"1464874733.001826"},{"type":"message","user":"U0UKTPMG8","text":"need to wrap up a bit of stuff first, will then jump into it","ts":"1464874769.001827"},{"type":"message","user":"U0XR6J961","text":"i didn't mean to dump this on you","ts":"1464874779.001828"},{"type":"message","user":"U0XR6J961","text":"i tried figuring out myself, but it is unclear to me how we can cancel\/close the connection","ts":"1464874805.001829"},{"type":"message","user":"U0XR6J961","text":"or stream","ts":"1464874808.001830"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1DK8NN6S\/-.sh|Untitled> and commented: Anyone else having trouble with ubuntu repos today?","file":{"id":"F1DK8NN6S","created":1464876005,"timestamp":1464876005,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0KPFAZNF","editable":true,"size":1324,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1DK8NN6S\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1DK8NN6S\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1DK8NN6S\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1DK8NN6S-a185644d4d","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1DK8NN6S\/-.sh\/edit","preview":"==> default: Reading package lists...\r\n==> default: Building dependency tree...\r\n==> default: Reading state information...\r\n==> default: apt-transport-https is already the newest version.\r\n==> default: ca-certificates is already the newest version.\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-operator\">=<\/span><span class=\"cm-operator\">=<\/span>&gt; default: Reading package lists...<\/pre><\/div>\n<div><pre><span class=\"cm-operator\">=<\/span><span class=\"cm-operator\">=<\/span>&gt; default: Building dependency tree...<\/pre><\/div>\n<div><pre><span class=\"cm-operator\">=<\/span><span class=\"cm-operator\">=<\/span>&gt; default: Reading state information...<\/pre><\/div>\n<div><pre><span class=\"cm-operator\">=<\/span><span class=\"cm-operator\">=<\/span>&gt; default: apt-transport-https is already the newest version.<\/pre><\/div>\n<div><pre><span class=\"cm-operator\">=<\/span><span class=\"cm-operator\">=<\/span>&gt; default: ca-certificates is already the newest version.<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":22,"lines_more":17,"preview_is_truncated":null,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc1DK6EQGL","created":1464876005,"timestamp":1464876005,"user":"U0KPFAZNF","is_intro":true,"comment":"Anyone else having trouble with ubuntu repos today?","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1464876006.001831"},{"type":"message","user":"U0KPFAZNF","text":"opps, sorry, <http:\/\/dockerproject.org|dockerproject.org> repos","ts":"1464876030.001832"},{"type":"message","user":"U0KPFAZNF","text":"seems to have  resolved itself now","ts":"1464881328.001833"},{"type":"message","user":"U0ZJZBJLF","text":"how do I stop a travis build?","ts":"1464881830.001834"},{"type":"message","user":"U0ZJZBJLF","text":"can anyone stop 830 please?","ts":"1464881879.001835"},{"type":"message","user":"U0KPFAZNF","text":"i can do it (I think)","ts":"1464881983.001836"},{"type":"message","user":"U0KPFAZNF","text":"canceled","ts":"1464882017.001837"},{"type":"message","user":"U0ZJZBJLF","text":"I see, thanks a lot","ts":"1464882029.001838"},{"user":"U0KQ9QKH6","type":"message","subtype":"channel_join","text":"<@U0KQ9QKH6|pmullaney> has joined the channel","ts":"1464897494.001839"},{"type":"message","user":"U1AU8DRQR","text":"hey","ts":"1464939993.001840"},{"type":"message","user":"U1AU8DRQR","text":"I am just checking this fabric api","ts":"1464940002.001841"},{"type":"message","user":"U1AU8DRQR","text":"I mean fabric SDK sorry","ts":"1464940015.001842"},{"type":"message","user":"U1AU8DRQR","text":"is anybody familiar with that?","ts":"1464940022.001843"},{"type":"message","user":"U1AU8DRQR","text":"maybe this is not the best channel for this but... :slightly_smiling_face:","ts":"1464940032.001844"},{"user":"U0YNFB22X","type":"message","subtype":"channel_join","text":"<@U0YNFB22X|satheesh> has joined the channel","ts":"1464968509.001845"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XPR4NP4>: ping","ts":"1464982901.001846"},{"type":"message","user":"U0KPFAZNF","text":"<@U0Z81GL6S>: <@U0S5KF44D> ping","ts":"1464982959.001847"},{"type":"message","user":"U0Z81GL6S","text":"yes, <@U0S5KF44D> and myself are working on this. Please check out the README.md here:\n<https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/sdk\/node>\n\nI will be putting in more commits relating to this shortly, to get the deployment in network mode working. that will complete the base functionality of the node.js sdk, allowing to produce a minimal sample application in Node.js. if you have specific questions, let me know.","edited":{"user":"U0Z81GL6S","ts":"1464983209.000000"},"ts":"1464983190.001848"},{"type":"message","user":"U0KPFAZNF","text":"<@U0Z81GL6S>: there was a thread the other day about building the deploy transaction, but I can no longer recall where it was taking place","ts":"1464983283.001851"},{"type":"message","user":"U0Z81GL6S","text":"<https:\/\/github.com\/hyperledger\/fabric\/issues\/1581>","attachments":[{"service_name":"GitHub","title":"Deploy transaction is too large and not good for the client SDK \u00b7 Issue #1581 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/issues\/1581","text":"Description The current deploy transaction as created by the NVP (Non Validating Peer) consists of the chaincode plus dependencies (e.g. shim, etc). The size of the dependencies is large which mak...","fallback":"GitHub: Deploy transaction is too large and not good for the client SDK \u00b7 Issue #1581 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/9592001?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/issues\/1581","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1464983307.001852"},{"type":"message","user":"U0KPFAZNF","text":"thank you very much, will comment there so its attached","ts":"1464983329.001854"},{"type":"message","user":"U0Z81GL6S","text":"this discussion is ongoing, but i have the basic version of deploy working per my comment on that thread","ts":"1464983351.001855"},{"type":"message","user":"U0KPFAZNF","text":"cool, I was going to mention I discovered something interesting that I am not sure you are aware of","ts":"1464983418.001856"},{"type":"message","user":"U0KPFAZNF","text":"ill comment in the issue though","ts":"1464983546.001857"},{"type":"message","user":"U0KPFAZNF","text":"<@U0Z81GL6S>: <@U0ULK2JPP>","ts":"1464987050.001858"},{"type":"message","user":"U0KPFAZNF","text":"we were both just talking about the WriteGopathSrc() mods, Murali was asking to fast-track the fix from PR 1708, but it seems <@U0Z81GL6S> might have a similar, possibly better patch","ts":"1464987102.001859"},{"type":"message","user":"U0KPFAZNF","text":"(seems we both had the same idea at the same time, but her patch description sounds like it might be more flexible than mine","ts":"1464987207.001860"},{"type":"message","user":"U0Z81GL6S","text":"let me stash some work and push out this change so you can take a look. hold on.","ts":"1464987265.001861"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1464987271.001862"},{"type":"message","user":"U0KPFAZNF","text":"have to step away for a few: kid-with-a-splinter emergency :wink:","ts":"1464987374.001863"},{"type":"message","user":"U0ULK2JPP","text":"oh no","ts":"1464987411.001864"},{"type":"message","user":"U0KPFAZNF","text":"all better, heh","ts":"1464987779.001865"},{"type":"message","user":"U0ULK2JPP","text":"\u201csplinter\u201d as in broken bone ?","ts":"1464988446.001866"},{"type":"message","user":"U0KPFAZNF","text":"no no, wood splinter in thumb in my 2 year old","ts":"1464988524.001867"},{"type":"message","user":"U0XQ35CDD","text":"<@U0N1D1UAE>: FWIW, I destroyed my vagrant setup, rebuilt it from scratch and `make stress2s` still won't complete (I let it run for several hours; I have a last-gen MBP). the `stderr` outputs of VPs 0 to 2 just shows them attempting to stop an unfired idle timer, but VP3 complains about an expired custody and executes a stale request, indicating a bug (it basically hits this line: <https:\/\/github.com\/hyperledger\/fabric\/blob\/7ba04d1c8418b0dbc5e6842d0b42b1fa0b6e136f\/consensus\/obcpbft\/obc-sieve.go#L711>). I'm interested in the `busywork` tool as it'll allow us to stress tests consensus, but I'm curious as to why it fails on my machine and doesn't on yours.","attachments":[{"fallback":"[May 30th, 2016 12:55 PM] bcbrock: <@U0XQ35CDD> `make stress2s` takes less than 1 minute on an x86 server after the clients start. This is the only part of the test that is not covered by a timeout. I would be very interested to find out what state the clients are in. I\u2019m effectively calling \u2018wait\u2019 on the client subprocesses - so if the job hasn\u2019t finished the client subprocesses have not terminated. Maybe take a look at the log files in your $BUSYWORK_HOME.","author_subname":"bcbrock","ts":"1464627326.001563","channel_id":"C0YPYBVJM","channel_name":"fabric-dev","is_msg_unfurl":true,"text":"<@U0XQ35CDD> `make stress2s` takes less than 1 minute on an x86 server after the clients start. This is the only part of the test that is not covered by a timeout. I would be very interested to find out what state the clients are in. I\u2019m effectively calling \u2018wait\u2019 on the client subprocesses - so if the job hasn\u2019t finished the client subprocesses have not terminated. Maybe take a look at the log files in your $BUSYWORK_HOME.","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/bcbrock","author_icon":"https:\/\/secure.gravatar.com\/avatar\/c49594a05a381363c2cfd4c96d211e56.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0011-48.png","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev\/p1464627326001563","is_share":true,"footer":"Posted in #fabric-dev"},{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/7ba04d1c8418b0dbc5e6842d0b42b1fa0b6e136f\/consensus\/obcpbft\/obc-sieve.go#L711","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/7ba04d1c8418b0dbc5e6842d0b42b1fa0b6e136f\/consensus\/obcpbft\/obc-sieve.go#L711","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1465057058.001868"},{"user":"U1E8LK23Z","type":"message","subtype":"channel_join","text":"<@U1E8LK23Z|babakkia> has joined the channel","ts":"1465131437.000002"},{"type":"message","user":"U11Q02ZKL","text":"Is it possible to connect individual Laptops having hyper ledger on them? So that i can create a network with them. Any links with the steps?","ts":"1465195159.000003"},{"type":"message","user":"U0Z3BE0F5","text":"<@U11Q02ZKL>: it's possible","ts":"1465197850.000004"},{"type":"message","user":"U0Z3BE0F5","text":"you can start VP outside the docker image (but inside vagrant)","ts":"1465197893.000005"},{"type":"message","user":"U0Z3BE0F5","text":"and if you are able to ping one laptop from another","ts":"1465197909.000006"},{"type":"message","user":"U0Z3BE0F5","text":"the ports in vagrant are already forwarded","ts":"1465197916.000007"},{"type":"message","user":"U0Z3BE0F5","text":"and when you start the other nodes","ts":"1465197927.000008"},{"type":"message","user":"U11Q02ZKL","text":"ohh great...actually have built it outside vagrant on two individual laptops","ts":"1465197944.000009"},{"type":"message","user":"U0Z3BE0F5","text":"you should set the root ip address to where you laptop is","ts":"1465197945.000010"},{"type":"message","user":"U0Z3BE0F5","text":"well that should be the same","ts":"1465197970.000011"},{"type":"message","user":"U0Z3BE0F5","text":"with vagrant is just easier because its is just doing node start","ts":"1465197988.000012"},{"type":"message","user":"U11Q02ZKL","text":"how outside the docker image?","ts":"1465198171.000013"},{"type":"message","user":"U0Z3BE0F5","text":".\/peer node start","ts":"1465198786.000014"},{"type":"message","user":"U0Z3BE0F5","text":"and configuring the core.yaml file","ts":"1465198848.000015"},{"type":"message","user":"U11Q02ZKL","text":"great, i'l give it a shot..hope it works","ts":"1465198857.000016"},{"type":"message","user":"U1AU8DRQR","text":"how can I make the behave not decompose the docker containers after a test?","ts":"1465204015.000017"},{"type":"message","user":"U1AU8DRQR","text":"maybe I ve got it: one has to use the doNotDecompose tag","ts":"1465204058.000018"},{"type":"message","user":"U0XQ35CDD","text":"<@U1AU8DRQR>: yes ^^","ts":"1465204343.000019"},{"user":"U1EAX6QN5","type":"message","subtype":"channel_join","text":"<@U1EAX6QN5|pcen> has joined the channel","ts":"1465207154.000020"},{"type":"message","user":"U1AU8DRQR","text":"another question how can it happen that the fabric code inside Docker container of behave tests differs from the code outside (I mean in my repo)","ts":"1465207258.000021"},{"type":"message","user":"U0YNFB22X","text":"Anybody has experience generating go code from .proto files ?","ts":"1465223413.000022"},{"type":"message","user":"U0YNFB22X","text":"After generating the go code by running `protoc --go_out=plugins=grpc:. *.proto`, the build fails with the following error","ts":"1465223466.000023"},{"type":"message","user":"U0YNFB22X","text":"`make peer`","ts":"1465223486.000024"},{"type":"message","subtype":"file_share","text":"<@U0YNFB22X|satheesh> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/satheesh\/F1EE4P66A\/make_peer_error.txt|make peer error>","file":{"id":"F1EE4P66A","created":1465223504,"timestamp":1465223504,"name":"make_peer_error.txt","title":"make peer error","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0YNFB22X","editable":true,"size":911,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1EE4P66A\/make_peer_error.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1EE4P66A\/download\/make_peer_error.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/satheesh\/F1EE4P66A\/make_peer_error.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1EE4P66A-77658e640e","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/satheesh\/F1EE4P66A\/make_peer_error.txt\/edit","preview":"cd peer; CGO_CFLAGS=\" \"\tCGO_LDFLAGS=\"-lrocksdb -lstdc++ -lm -lz -lbz2 -lsnappy\" go build\r\n# github.com\/hyperledger\/fabric\/protos\r\n..\/protos\/api.pb.go:81: undefined: \"github.com\/hyperledger\/fabric\/vendor\/github.com\/golang\/protobuf\/proto\".ProtoPackageIsVersion2\r\n..\/protos\/api.pb.go:114: undefined: grpc.SupportPackageIsVersion2\r\n..\/protos\/api.pb.go:198: undefined: grpc.UnaryServerInterceptor\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>cd peer; CGO_CFLAGS=&quot; &quot;   CGO_LDFLAGS=&quot;-lrocksdb -lstdc++ -lm -lz -lbz2 -lsnappy&quot; go build<\/pre><\/div>\n<div><pre># github.com\/hyperledger\/fabric\/protos<\/pre><\/div>\n<div><pre>..\/protos\/api.pb.go:81: undefined: &quot;github.com\/hyperledger\/fabric\/vendor\/github.com\/golang\/protobuf\/proto&quot;.ProtoPackageIsVersion2<\/pre><\/div>\n<div><pre>..\/protos\/api.pb.go:114: undefined: grpc.SupportPackageIsVersion2<\/pre><\/div>\n<div><pre>..\/protos\/api.pb.go:198: undefined: grpc.UnaryServerInterceptor<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":14,"lines_more":9,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0YNFB22X","upload":true,"display_as_bot":false,"username":"<@U0YNFB22X|satheesh>","bot_id":null,"ts":"1465223505.000025"},{"type":"message","user":"U0N1D1UAE","text":"<@U0XQ35CDD> I seldom use Vagrant, I\u2019ll try Vagrant this afternoon when I get to the  and let you know what I see.","ts":"1465225321.000026","reactions":[{"name":"+1","users":["U0XQ35CDD"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"<@U1AU8DRQR>: the docker images are built from the host source, so they should at least start out the same\u2026however, if you subsequently change\/pull the code I suppose its possible that you have stale docker images","ts":"1465225425.000027"},{"type":"message","user":"U0KPFAZNF","text":"<@U0YNFB22X>: not sure this will help you, but I would suggest using \u201cmake protos\u201d as opposed to trying to run it by hand (unless I misunderstood your workflow)","ts":"1465225454.000028"},{"type":"message","user":"U0KPFAZNF","text":"<@U0YNFB22X>: are you running that command under vagrant?","ts":"1465225480.000029"},{"type":"message","user":"U0YNFB22X","text":"<@U0KPFAZNF>: I am running it on  my local ubuntu box. And its the same in vagrant too, I had to install protobuf since its not provided in the vagrant image","ts":"1465225536.000030"},{"type":"message","user":"U0YNFB22X","text":"<@U0KPFAZNF>: `make protos`  calls the script  `devenv\/compile_protos.sh`","ts":"1465225600.000031"},{"type":"message","user":"U0KPFAZNF","text":"<@U0YNFB22X>: something sounds off\u2026the vagrant image should indeed have protobuf","ts":"1465225602.000032"},{"type":"message","user":"U0KPFAZNF","text":"yes, understood","ts":"1465225608.000033"},{"type":"message","user":"U0KPFAZNF","text":"but you implied you were running protoc directly","ts":"1465225619.000034"},{"type":"message","user":"U0YNFB22X","text":"Yes, it runs the same command on the suggestion from <@U0ULK2JPP>","ts":"1465225674.000035"},{"type":"message","user":"U0KPFAZNF","text":"my guess is you installed an incompatible version of protobuf","ts":"1465225680.000036"},{"type":"message","user":"U0KPFAZNF","text":"can you clarify on the problem you saw within vagrant regarding protobuf tools missing?","ts":"1465225701.000037"},{"type":"message","user":"U0KPFAZNF","text":"ok, thats fine\u2026my only concern with running protoc vs the script\/make is you\u2019ll not get them all","ts":"1465225748.000038"},{"type":"message","subtype":"file_share","text":"<@U0YNFB22X|satheesh> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/satheesh\/F1EERUNJZ\/vagrant.txt|vagrant>","file":{"id":"F1EERUNJZ","created":1465225754,"timestamp":1465225754,"name":"vagrant.txt","title":"vagrant","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0YNFB22X","editable":true,"size":371,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1EERUNJZ\/vagrant.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1EERUNJZ\/download\/vagrant.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/satheesh\/F1EERUNJZ\/vagrant.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1EERUNJZ-2eac4e6864","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/satheesh\/F1EERUNJZ\/vagrant.txt\/edit","preview":"vagrant@ubuntu-1404:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ devenv\/compile_protos.sh \r\n+ protoc --go_out=plugins=grpc:\/opt\/gopath\/src \/usr\/include\/google\/protobuf\/timestamp.proto\r\nprotoc-gen-go: program not found or is not executable\r\n--go_out: protoc-gen-go: Plugin failed with status code 1.\r\nvagrant@ubuntu-1404:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ \r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>vagrant@ubuntu-1404:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ devenv\/compile_protos.sh <\/pre><\/div>\n<div><pre>+ protoc --go_out=plugins=grpc:\/opt\/gopath\/src \/usr\/include\/google\/protobuf\/timestamp.proto<\/pre><\/div>\n<div><pre>protoc-gen-go: program not found or is not executable<\/pre><\/div>\n<div><pre>--go_out: protoc-gen-go: Plugin failed with status code 1.<\/pre><\/div>\n<div><pre>vagrant@ubuntu-1404:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ <\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":6,"lines_more":1,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0YNFB22X","upload":true,"display_as_bot":false,"username":"<@U0YNFB22X|satheesh>","bot_id":null,"ts":"1465225754.000039"},{"type":"message","user":"U0KPFAZNF","text":"try: \u201cmake protos\"","ts":"1465225771.000040"},{"type":"message","user":"U0YNFB22X","text":"<@U0KPFAZNF>: ok I will give it a go","ts":"1465225791.000041"},{"type":"message","user":"U0KPFAZNF","text":"hmm, just noticed protos is not correctly dependent on gotools","ts":"1465225813.000042"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KPFAZNF>: wonder if its possible something failed during vagrant setup ?","ts":"1465225826.000043"},{"type":"message","user":"U0KPFAZNF","text":"so, as a workaround, do \u201cmake gotools protos\"","ts":"1465225828.000044"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP>: no, i think he probably did a \u201cmake clean\u201d at one point, and I didnt correctly express the dependency in the protos target","ts":"1465225853.000045"},{"type":"message","user":"U0KPFAZNF","text":"(make clean will blow away the protoc-gen-go plugin","ts":"1465225867.000046"},{"type":"message","user":"U0ULK2JPP","text":"I see","ts":"1465225872.000047"},{"type":"message","user":"U0ULK2JPP","text":"let me try it","ts":"1465225889.000048"},{"type":"message","user":"U0YNFB22X","text":"Do I need to destroy my vagrant before doing it ?","ts":"1465225894.000049"},{"type":"message","user":"U0KPFAZNF","text":"the correct thing is minimally that the protos target should ensure the plugin is available","ts":"1465225898.000050"},{"type":"message","user":"U0KPFAZNF","text":"<@U0YNFB22X>: nope, just \u201cmake gotools protos\"","ts":"1465225907.000051"},{"type":"message","user":"U0KPFAZNF","text":"ill file an issue to correct the protos target","edited":{"user":"U0KPFAZNF","ts":"1465225940.000000"},"ts":"1465225920.000052"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP>: to your point, its always possible vagrant didnt provision correctly too","ts":"1465225979.000054"},{"type":"message","user":"U0ULK2JPP","text":"<@U0YNFB22X>: can confirm <@U0KPFAZNF> s suspicion","edited":{"user":"U0ULK2JPP","ts":"1465226017.000000"},"ts":"1465225982.000055"},{"type":"message","user":"U0ULK2JPP","text":"vagrant@hyperledger-devenv:v0.0.10-0a467f8:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/protos$ !protoc\nprotoc --go_out=plugins=grpc:. *.proto\nprotoc-gen-go: program not found or is not executable\n--go_out: protoc-gen-go: Plugin failed with status code 1.","ts":"1465225984.000056"},{"type":"message","user":"U0KPFAZNF","text":"we need to have a better way to inform\/detect if vagrant didnt finish correctly, because \u201cvagrant ssh\u201d will still work even if the provisioner didnt make it very far at all","ts":"1465226021.000058"},{"type":"message","user":"U0KPFAZNF","text":"but that said, I think this is a more basic problem","ts":"1465226028.000059"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP>: i guess we should review whether \u201cmake clean\u201d should blow away the go-tools\u2026.","ts":"1465226099.000060"},{"type":"message","user":"U0KPFAZNF","text":"im a bit torn\u2026we built them, so it seems prudent to clean them up when asked","ts":"1465226112.000061"},{"type":"message","user":"U0KPFAZNF","text":"but it could be a candidate for \u201cmake dist-clean\u201d as opposed to the more general clean","ts":"1465226126.000062"},{"type":"message","user":"U0ULK2JPP","text":"that sounds better to me\u2026","ts":"1465226140.000063"},{"type":"message","user":"U0KPFAZNF","text":"but that said, the real bug is I missed the proper dependency declaration","ts":"1465226142.000064"},{"type":"message","user":"U0ULK2JPP","text":"the intent of make clean is usullay \u201cremove the dynamic stuff I created\"","ts":"1465226160.000065"},{"type":"message","user":"U0KPFAZNF","text":"yeah, i think I like that too","ts":"1465226161.000066"},{"type":"message","user":"U0KPFAZNF","text":"yeah, well thats why i was torn\u2026we _do_ create those binaries now","ts":"1465226178.000067"},{"type":"message","user":"U0KPFAZNF","text":"but, they are third party","ts":"1465226185.000068"},{"type":"message","user":"U0KPFAZNF","text":"so, I can see the argument either way","ts":"1465226191.000069"},{"type":"message","user":"U0ULK2JPP","text":"true","ts":"1465226195.000070"},{"type":"message","user":"U0KPFAZNF","text":"i think dist-clean makes sense\u2026if you want a real clean-slate \/ big hammer, use dist-clean","ts":"1465226213.000071"},{"type":"message","user":"U0KPFAZNF","text":"otherwise, \u201cmake clean\u201d will work just at the fabric level","ts":"1465226225.000072"},{"type":"message","user":"U0ULK2JPP","text":"maybe we need a make dist to be symmetric with make dist-clean ?","ts":"1465226239.000073"},{"type":"message","user":"U0YNFB22X","text":"`make clean` did it.","ts":"1465226256.000074"},{"type":"message","user":"U0KPFAZNF","text":"we could, but not sure what it would entail","ts":"1465226261.000075"},{"type":"message","user":"U0KPFAZNF","text":"<@U0YNFB22X>: ok, so for a workaround for now, just use \u201cmake gotools protos\u201d and I _think_ that will work","ts":"1465226280.000076"},{"type":"message","user":"U0KPFAZNF","text":"at least within vagrant","ts":"1465226285.000077"},{"type":"message","user":"U0ULK2JPP","text":"it did for me","ts":"1465226295.000078","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0ULK2JPP","text":"within vagrant","ts":"1465226301.000079"},{"type":"message","user":"U0KPFAZNF","text":"it _might_ work outside of vagrant too but would be dependent on your environment","ts":"1465226319.000080"},{"type":"message","user":"U0YNFB22X","text":"Thanks <@U0KPFAZNF> and <@U0ULK2JPP>","ts":"1465226410.000081"},{"type":"message","user":"U0KPFAZNF","text":"as an aside, I eventually plan to dissolve the compile_protos.sh script and have the makefile manage those tasks directly, so best to be in the habit of using the makefile now rather than by-hand","ts":"1465226482.000082"},{"user":"U1EEGQARJ","type":"message","subtype":"channel_join","text":"<@U1EEGQARJ|philippe> has joined the channel","ts":"1465226895.000083"},{"type":"message","user":"U0N1D1UAE","text":"<@U0XQ35CDD>: Just ran on my Macbook Pro with a fresh Vagrant build. The busywork stress2s fails with the issue 1091 signature:","ts":"1465242882.000084"},{"type":"message","user":"U0N1D1UAE","text":"driver:     Client 0 is subprocess 27157 with seed 4172233751\ndriver: Waiting (indefinitely) for subprocesses to complete\nfabricLogger:ERROR: 0.0.0.0:55744 @ block 4252: Error getting transactions: missing value to go with key\nfabricLogger:ERROR: Full HTTP token dump\nfabricLogger:ERROR: HTTP 'ncode' = '200'","ts":"1465242899.000085"},{"type":"message","user":"U0N1D1UAE","text":"A request for a block is coming back as NULL.","ts":"1465242929.000086"},{"type":"message","user":"U0N1D1UAE","text":"Whether consensus \u201cworks\u201d seems to be system dependent (probably related to goroutine timing?)","ts":"1465242985.000087"},{"type":"message","user":"U0N1D1UAE","text":"I have also noted that on my POWER server,  stress2s \u201cusually\u201d works in SMT4 and SMT8 modes, but not SMT2","edited":{"user":"U0N1D1UAE","ts":"1465243392.000000"},"ts":"1465243049.000088"},{"type":"message","user":"U0N1D1UAE","text":"Actually, as Jason points out the issue may not be with consensus but with the chain\/blocks API","ts":"1465243121.000089"},{"type":"message","user":"U0XPR4NP4","text":"<@U0N1D1UAE>: If you are seeing blocks that correctly chain together (ie, contain a `PreviousBlockHash` that matches the hash of the previous block), then as much as it pains me, I believe it most likely consensus.  I'm unable to reproduce with busywork on my laptop, so although I know the logs are likely huge, if you could put them somewhere I could take a look, it would be helpful.","ts":"1465250974.000091"},{"type":"message","user":"U0N1D1UAE","text":"<@U0XPR4NP4> I\u2019m seeing both null blocks and otherwise well-formed blocks that have no transactions. I\u2019ll try to get traces of the well-formed blocks (assuming I have enough GSA quota)","ts":"1465251091.000092"},{"type":"message","user":"U0XPR4NP4","text":"The one's with no transactions would be of most interest to me.  The NULL ones seem less likely to be related to consensus, though obviously still need to be tracked down.","ts":"1465251435.000093"},{"type":"message","user":"U0NCW1DPX","text":"<@U0TFEHX8E>, pls help to review that <https:\/\/github.com\/hyperledger\/fabric\/pull\/1683>","attachments":[{"service_name":"GitHub","title":"Upgrade go-logging to 2.0.0-rc1. by genggjh \u00b7 Pull Request #1683 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1683","text":"Description Upgrade go-logging Move to use the new log functions: Debugf(...), Infof(...), Warningf(...), Errorf(...), Criticalf(...), Noticef(...) Motivation and Context To get the latest an...","fallback":"GitHub: Upgrade go-logging to 2.0.0-rc1. by genggjh \u00b7 Pull Request #1683 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/3070180?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1683","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"edited":{"user":"U0NCW1DPX","ts":"1465261461.000000"},"ts":"1465261049.000094"},{"type":"message","user":"U12AHQ3NK","text":"Hi....I am trying to build outside vagrant but i am getting error after running make peer or make membersrvc                    could not determine kind of name for C.rocksdb_restore_options_t\nmake: *** [membersrvc] Error 2.. How to resolve it?","ts":"1465295162.000098"},{"type":"message","user":"U1AU8DRQR","text":"hi all","ts":"1465297243.000099"},{"type":"message","user":"U1AU8DRQR","text":"are there any unit tests for the event sender system?","ts":"1465297273.000100"},{"type":"message","user":"U0KPFAZNF","text":"<@U12AHQ3NK>: I assume you followed this guide: <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/dev-setup\/install.md#building-outside-of-vagrant->","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/dev-setup\/install.md#building-outside-of-vagrant-","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/dev-setup\/install.md#building-outside-of-vagrant-","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1465298613.000101"},{"type":"message","user":"U12AHQ3NK","text":"yeah","ts":"1465298638.000103"},{"type":"message","user":"U0KPFAZNF","text":"have you run the .\/scripts\/provision\/host.sh ?","ts":"1465298730.000104"},{"type":"message","user":"U0KPFAZNF","text":"(assuming you are using ubuntu\/trusty, that is","ts":"1465298746.000105"},{"type":"message","user":"U12AHQ3NK","text":"no i havent tried running that","ts":"1465298869.000106"},{"type":"message","user":"U0KPFAZNF","text":"what steps from the guide have you done, and for the ones that you skipped, why?","ts":"1465299078.000107"},{"type":"message","user":"U0KPFAZNF","text":"for instance, i assumed you installed rocksdb?","ts":"1465299101.000108"},{"type":"message","user":"U12AHQ3NK","text":"yea i have installed rocksdb","ts":"1465299562.000109"},{"type":"message","user":"U0KPFAZNF","text":"sorry i have not seen that error","ts":"1465299679.000110"},{"user":"U1ENXTQRL","type":"message","subtype":"channel_join","text":"<@U1ENXTQRL|cbruguera> has joined the channel","ts":"1465305283.000111"},{"user":"U1E795PLG","type":"message","subtype":"channel_join","text":"<@U1E795PLG|starsheriff> has joined the channel","ts":"1465306327.000112"},{"user":"U1CPB11D0","type":"message","subtype":"channel_join","text":"<@U1CPB11D0|dianfu> has joined the channel","ts":"1465306698.000113"},{"user":"U1D5P2DHD","type":"message","subtype":"channel_join","text":"<@U1D5P2DHD|randy> has joined the channel","ts":"1465326623.000114"},{"type":"message","user":"U0XR6J961","text":"lol go, what a shitshow","ts":"1465389614.000115"},{"type":"message","user":"U0XR6J961","text":"go channels are ridiculously complicated","ts":"1465396347.000116"},{"type":"message","user":"U0XR6J961","text":"it's a bad primitive","ts":"1465396356.000117"},{"user":"U130QV7RB","type":"message","subtype":"channel_join","text":"<@U130QV7RB|mpage> has joined the channel","ts":"1465396413.000118"},{"user":"U16NDNH08","type":"message","subtype":"channel_join","text":"<@U16NDNH08|crow15> has joined the channel","ts":"1465402820.000119"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KN2SSKE>: <@U0Z81GL6S> <@U0ULK2JPP> I root caused the CI failure of 1720, its because the core.yaml structures are not available in the unit test and therefore the fileExt slice is empty","ts":"1465423457.000120"},{"type":"message","user":"U0KPFAZNF","text":"(not sure why we thought local UTs were passing before, because I was able to reproduce the same error as CI this time around","ts":"1465423500.000121"},{"type":"message","user":"U0KPFAZNF","text":"anyway, my recommended course of action is to go back to 1708 approach (hard-coded const-map) but add the extra files that 1720 was including (.json, .c, .h)","ts":"1465423540.000122"},{"type":"message","user":"U0KPFAZNF","text":"but I am open to suggestion","ts":"1465423558.000123"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KPFAZNF>: I second the hardcoding approach","ts":"1465428656.000124"},{"type":"message","user":"U0ULK2JPP","text":"really this is something internal and no value in exposing it in yaml IMO","ts":"1465428683.000125"},{"type":"message","user":"U0KPFAZNF","text":"I liked the yaml in the sense that if there was ever an \u201coppps\u201d in the field, someone could fix it","ts":"1465428829.000126"},{"type":"message","user":"U0KPFAZNF","text":"but I dont think its a big deal, more trouble than it was worth as it turns out","ts":"1465428848.000127"},{"type":"message","user":"U0KPFAZNF","text":"but who knew","ts":"1465428854.000128"},{"type":"message","user":"U0ULK2JPP","text":"true\u2026.","ts":"1465428862.000129"},{"user":"U1FB2EXB8","type":"message","subtype":"channel_join","text":"<@U1FB2EXB8|baqer> has joined the channel","ts":"1465451682.000130"},{"type":"message","user":"U1B86HRGE","text":"Hi! What does configuration parameter `cli.address` do? I tried to find line in the codebase it is used but found nothing\nComment says it is used for callbacks from chaincodes, but aren't chaincodes running on validation hosts, not on client hosts?","ts":"1465454618.000131"},{"type":"message","user":"U0Z81GL6S","text":"<@U0KPFAZNF>: <@U0ULK2JPP> I do think it\u2019s important to have the value be configurable actually for PR #1720. The whole point of putting it into the .yaml was to make sure that a person who is trying to deploy a random chaincode package on the peer could do that without having to edit our source code. What if they are reading some dependent information in their chaincode that is stored into a file that they need and we are filtering it out during the packaging? Then this requires them to edit writer.go to make that happen. That seems a bit ridiculous\u2026 I\u2019d like to ask <@U0UKTPMG8> what he thinks before we proceed with the hard coding approach. <@U0UKTPMG8> do you know how to make the .yaml parameters be accessible from the UTs? somehow my PR (linked below) is failing CI because as <@U0KPFAZNF> points out, the UTs are not able to extract the info from the .yaml with line: viper.GetStringSlice(\"chaincode.filetypes\u201d). Though I also had all the UTs pass locally, which is really confusing to me.\n\n<https:\/\/github.com\/hyperledger\/fabric\/pull\/1720>","edited":{"user":"U0Z81GL6S","ts":"1465470209.000000"},"ts":"1465470125.000132"},{"type":"message","user":"U0Z81GL6S","text":"Also, we do use viper.ReadInConfig and viper.GetString and viper.SetDefault in other Go unit test files. Look at api_test.go or ledger\/pkg_test.go which references testutil.SetupTestConfig(). That has all kinds of <http:\/\/viper.xxx|viper.xxx> usage in there relative to the .yaml file. So I am wondering how that could possibly be true that in writer.go during UTs these methods do not work. I do recall that for me locally they passed with no issues.","edited":{"user":"U0Z81GL6S","ts":"1465471104.000000"},"ts":"1465470956.000137"},{"type":"message","user":"U0ULK2JPP","text":"<@U0Z81GL6S> : note that every file that\u2019s part of the chaincode itself is (and always has been) included","edited":{"user":"U0ULK2JPP","ts":"1465471752.000000"},"ts":"1465471591.000140"},{"type":"message","user":"U0ULK2JPP","text":"the filtering in WriteGopathSrc just collects files that is part of the peer NOT in the user\u2019s chaincode path","ts":"1465471642.000141"},{"type":"message","user":"U0KPFAZNF","text":"<@U0Z81GL6S>: I would tend to agree with you which is why I was pushing for 1720 too\u2026.I think I am \u201cok\u201d with not having it in the YAML only because I recognize that the \u201creal right way\u201d is to use the go-list tricks, at which point the 1708\/1720 solution goes away anyway","edited":{"user":"U0KPFAZNF","ts":"1465474706.000000"},"ts":"1465474690.000143"},{"type":"message","user":"U0KPFAZNF","text":"so, because I view it as a stop-gap, I am ok with the more hardcoded approach\u2026.that said, if the yaml access issue is trivial, that is fine too","ts":"1465474755.000145"},{"type":"message","user":"U1751P7U4","text":"when i start a peer i get x 509 certificate invalid or expired ....need help","ts":"1465475220.000146"},{"type":"message","user":"U0Z81GL6S","text":"<@U0KPFAZNF>: I will touch base with Jeff today and let you know what he says. If there is just something simple that we are missing regarding the .yaml access, great. If not, we will go with your approach.","ts":"1465476666.000147","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U1AU8DRQR","text":"can anybody tell me where imports such as viper come from at build time?","ts":"1465487933.000148"},{"type":"message","user":"U0KPFAZNF","text":"<@U1AU8DRQR>: most likely in <http:\/\/github.com\/hyperledger\/fabric\/vendor\/|github.com\/hyperledger\/fabric\/vendor\/>...","ts":"1465488544.000149"},{"type":"message","user":"U0KPFAZNF","text":"you can use \u201cgo list\u201d to ask the resolver specifically, when in doubt","ts":"1465488567.000150"},{"type":"message","user":"U0KPFAZNF","text":"I think something like \u2018go list -f \u201c{{ .Imports }}\u201d <http:\/\/github.com\/hyperledger\/fabric\/peer> | grep viper\u2019 would do it","ts":"1465488627.000151"},{"type":"message","user":"U0KN2SSKE","text":"<@U0Z81GL6S>: <@U0KPFAZNF> <@U0ULK2JPP> since the files that we filter making up the peer-go-chaincode-base, so in a way, we know the files at build time, and I would vote for hardcode them in 1708 and move on","ts":"1465490043.000152"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KN2SSKE>: ok..   <@U0ULK2JPP> makes a good point also:  the only thing the filter impacts are the deps\/transitive-deps of the chaincode which by their nature cannot be anything outside of the \u201cSource Files\u201d section here: <https:\/\/golang.org\/cmd\/go\/#hdr-List_packages>","ts":"1465490164.000153"},{"type":"message","user":"U0KPFAZNF","text":"because, even if the chaincode itself packages non-go files, that mechanism to bring those files in is discrete from this one","edited":{"user":"U0KPFAZNF","ts":"1465490197.000000"},"ts":"1465490188.000154"},{"type":"message","user":"U0KPFAZNF","text":"so, we could arguably include some of those others (CXX, M, S, Swig) but I think it would be overkill","ts":"1465490241.000156"},{"type":"message","user":"U0KPFAZNF","text":"i can update the hardcoded filter to at least replicate the superset in 1720, and fix that other busywork\/Makefile thing I mentioned and update the PR","ts":"1465490295.000157","reactions":[{"name":"+1","users":["U0Z81GL6S"],"count":1}]},{"type":"message","user":"U0KN2SSKE","text":"ok, thanks","ts":"1465490321.000158"},{"type":"message","user":"U0KPFAZNF","text":"<@U1AU8DRQR>: btw: I gave you the wrong template parameters","ts":"1465490426.000159"},{"type":"message","user":"U0KPFAZNF","text":"you want .Deps, not .Imports","ts":"1465490433.000160"},{"type":"message","user":"U0KPFAZNF","text":".Imports will only give explicit imports, not transitives","ts":"1465490453.000161"},{"type":"message","user":"U0XR6J961","text":"how do i call system chaincode?","ts":"1465493845.000162"},{"type":"message","user":"U0KPFAZNF","text":"same as any chaincode, except it acts kind of like devmode in the sense that it has a name instead of a hash","ts":"1465494059.000163"},{"type":"message","user":"U0KPFAZNF","text":"so, for example \u2018-n sample_syscc'","ts":"1465494084.000164"},{"type":"message","user":"U0KPFAZNF","text":"otherwise, it acts the same","ts":"1465494107.000165"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP>: ping","ts":"1465501130.000166"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF>: pong","ts":"1465501161.000167"},{"type":"message","user":"U0KPFAZNF","text":"hey, I just saw your 1772 go by","ts":"1465501172.000168"},{"type":"message","user":"U0KM61BCP","text":"I think I neglected to add dependencies to vendored stuff","ts":"1465501186.000169"},{"type":"message","user":"U0KM61BCP","text":"silly me","ts":"1465501196.000170"},{"type":"message","user":"U0KPFAZNF","text":"not sure what problem you were seeing, but if its just a matter of ensuring at tool is installed grep \u201cgolint\u201d in the makefile","ts":"1465501200.000171"},{"type":"message","user":"U0KPFAZNF","text":"ah, ok, if its a vendoring thing that is something different","ts":"1465501218.000172"},{"type":"message","user":"U0KPFAZNF","text":"nm, i thought you might have hit an issue where something like golint\/gofmt binary wasnt available","ts":"1465501264.000173"},{"type":"message","user":"U0KM61BCP","text":"no, ginkgo and gomega","ts":"1465501287.000174"},{"type":"message","user":"U0KM61BCP","text":"do I just add the source trees to the vendor tree?","ts":"1465501297.000175"},{"type":"message","user":"U0KPFAZNF","text":"(not familar, but I am assuming from the contexts they are import-only facilities","ts":"1465501308.000176"},{"type":"message","user":"U0KPFAZNF","text":"honestly, i am not sure as <@U0TFEHX8E> handled all that, but I think the \u201cgovendor\u201d tool is involved somehow","ts":"1465501329.000177"},{"type":"message","user":"U0KPFAZNF","text":"i think he put something in the doc about this","ts":"1465501342.000178"},{"type":"message","user":"U0KM61BCP","text":"looking","ts":"1465501416.000179"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/eff71af26919eebeed0c3fe0e00c27bd8915a264\/CONTRIBUTING.md#adding-or-updating-go-packages->","edited":{"user":"U0KPFAZNF","ts":"1465501461.000000"},"ts":"1465501455.000180"},{"type":"message","user":"U0KPFAZNF","text":"related to my earlier comment about golint, if you find you dont have \u201cgovendor\u201d, just do \u201cmake gotools\"","ts":"1465501515.000183"},{"type":"message","user":"U0KPFAZNF","text":"that should install it","ts":"1465501518.000184"},{"type":"message","user":"U0KM61BCP","text":"yeah found it","ts":"1465501520.000185"},{"type":"message","user":"U0KM61BCP","text":"thanks!","ts":"1465501533.000186"},{"type":"message","user":"U0KM61BCP","text":"oh, it gets weirder","ts":"1465504375.000187"},{"type":"message","user":"U0KM61BCP","text":"apparently you cannot vendor ginkgo and gomega","ts":"1465504385.000188"},{"type":"message","user":"U0KM61BCP","text":"so we will need to add them to the development environment","ts":"1465504395.000189"},{"type":"message","user":"U0KM61BCP","text":"ugh","ts":"1465504397.000190"},{"type":"message","user":"U0KPFAZNF","text":"oh really? any idea why?","ts":"1465504580.000191"},{"type":"message","user":"U0KPFAZNF","text":"(not that I am an expert on what can and can\u2019t be vendored","ts":"1465504598.000192"},{"type":"message","user":"U0KM61BCP","text":"I can ask Onsi (the guy who wrote it) but I just confirmed","ts":"1465505297.000193"},{"type":"message","user":"U0KM61BCP","text":"so we need to go get foo as a function of the vagrant file, I think","ts":"1465505317.000194"},{"type":"message","user":"U0KM61BCP","text":"yes?","ts":"1465505322.000195"},{"type":"message","user":"U0KPFAZNF","text":"it might be better if we can do it as a function of the makefile","ts":"1465505830.000196"},{"type":"message","user":"U0KPFAZNF","text":"then it wont depend on vagrant","ts":"1465505834.000197"},{"type":"message","user":"U0KPFAZNF","text":"but worst case, yes","ts":"1465505837.000198"},{"type":"message","user":"U0KPFAZNF","text":"first question: do you care to pin it to a specific version?","ts":"1465505857.000199"},{"type":"message","user":"U0KPFAZNF","text":"actually if all you need is the current, I think we can just add \u201cgo get\u201d in the makefile and that should pull in all deps","ts":"1465506003.000200"},{"type":"message","user":"U11MANG9G","text":"go get should be fine","ts":"1465506014.000201"},{"type":"message","user":"U11MANG9G","text":"(It's a pretty stable suite). Again, don't quote me on that, in case hell breaks loose... but yeah.","edited":{"user":"U11MANG9G","ts":"1465506081.000000"},"ts":"1465506057.000202"},{"type":"message","user":"U0KPFAZNF","text":"ok, this should be really straight forward then\u2026would be best if it can go in behind #1774","ts":"1465506063.000203"},{"type":"message","user":"U0KPFAZNF","text":"after #1774, i think we\u2019d just need to tweak this block: <https:\/\/github.com\/ghaskins\/hyperledger-fabric\/blob\/85837442c2dfb92cf0be0455581387bfbe0c2f48\/Makefile#L142>","edited":{"user":"U0KPFAZNF","ts":"1465506164.000000"},"ts":"1465506159.000205"},{"type":"message","user":"U0KPFAZNF","text":"The method I know would be to add a similar \u201cgo get\u201d above the \u201cgo install\u201d, though there may be a slicker way to handle that","ts":"1465506188.000208"},{"type":"message","user":"U0KPFAZNF","text":"(for instance, perhaps \u201cgo install\u201d can be configured to pull missing deps\u2026TBD","ts":"1465506205.000209"},{"type":"message","user":"U0KPFAZNF","text":"is this only pulled in during unit-tests?","ts":"1465506252.000210"},{"type":"message","user":"U0KM61BCP","text":"FYI <https:\/\/github.com\/onsi\/gomega\/issues\/156>","attachments":[{"service_name":"GitHub","title":"cannot vendor gomega using govendor tool \u00b7 Issue #156 \u00b7 onsi\/gomega \u00b7 GitHub","title_link":"https:\/\/github.com\/onsi\/gomega\/issues\/156","text":"I was adding some ginkgo and gomega tests to the Hyperledger project, and oddly, I get an error when I run the tests after adding ginkgo and gomega to the vendor packages installed with the project...","fallback":"GitHub: cannot vendor gomega using govendor tool \u00b7 Issue #156 \u00b7 onsi\/gomega","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/3630697?v=3&s=400","from_url":"https:\/\/github.com\/onsi\/gomega\/issues\/156","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1465508479.000211","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0KM61BCP","text":"I\u2019ll be adding the makefile changes in a push of a new commit","ts":"1465508497.000213"},{"type":"message","user":"U0KM61BCP","text":"just running the tests now from scratch","ts":"1465508512.000214"},{"type":"message","user":"U1AU8DRQR","text":"does anybody know how can I adjust peer configuration using environment variables?","ts":"1465544707.000215"},{"type":"message","user":"U0KPFAZNF","text":"a yaml property like \u201cfoo.bar\u201d can be overridden in the environment by doing CORE_FOO_BAR","ts":"1465555995.000216"},{"type":"message","user":"U0KPFAZNF","text":"<@U1AU8DRQR>:","ts":"1465556030.000217"},{"type":"message","user":"U1AU8DRQR","text":"thanks :slightly_smiling_face:","ts":"1465557596.000218"},{"type":"message","user":"U0KPFAZNF","text":"yw","ts":"1465557627.000219"},{"type":"message","user":"U0XR6J961","text":"behave tests are totally not generic at all","ts":"1465563284.000220"},{"type":"message","user":"U0XR6J961","text":"query needs security to be enabled?","ts":"1465563298.000221"},{"type":"message","user":"U0XR6J961","text":"but only one flavor of query?","ts":"1465563305.000222"},{"type":"message","user":"U0XR6J961","text":"i'm developing an new behave test and i get this error message:\n`Assertion Failed: Failed to POST to <http:\/\/172.17.0.5:5000\/devops\/invoke>:  {\"Error\": \"User not logged in. Use the '\/registrar' endpoint to btain a security token.\"} `","ts":"1465569921.000223"},{"type":"message","user":"U0XR6J961","text":"why?","ts":"1465569925.000224"},{"type":"message","user":"U1AU8DRQR","text":"maybe some kind of security is enabled in core.yaml which isnt by default?","ts":"1465571542.000225"},{"type":"message","user":"U1AU8DRQR","text":"<https:\/\/travis-ci.org\/hyperledger\/fabric\/builds\/135626255> I have this. It seems to be a build failure and not an error in a test case, am I right?","ts":"1465571566.000226"},{"type":"message","user":"U1AU8DRQR","text":"<@U0XR6J961>: maybe some kind of security is enabled in core.yaml which isnt by default? just a guess","ts":"1465571610.000227"},{"type":"message","user":"U0XR6J961","text":"invoke to vp0 works, but not to vp1","ts":"1465571642.000228"},{"type":"message","user":"U0XR6J961","text":"so i think something in behave tests is wrong","ts":"1465571656.000229"},{"type":"message","user":"U1AU8DRQR","text":"could you show me that test? maybe, maybe I can help something","ts":"1465571684.000230"},{"type":"message","user":"U0UGH3X7X","text":"aha !  i think you've got to log on to vp1","ts":"1465571693.000231"},{"type":"message","user":"U1AU8DRQR","text":"I mean in private","ts":"1465571709.000232"},{"type":"message","user":"U0UGH3X7X","text":"try the `i register with ca supplying username and secret on peer` directive","ts":"1465571784.000233"},{"type":"message","user":"U0UGH3X7X","text":"one of the guys in the lab ran into that yesterday","ts":"1465571858.000234"},{"type":"message","user":"U0XR6J961","text":"aha!","ts":"1465572126.000235"},{"type":"message","user":"U0XR6J961","text":"okay then","ts":"1465572127.000236"},{"type":"message","user":"U0XR6J961","text":"tuand: doesn't work","ts":"1465572339.000237"},{"type":"message","user":"U0XR6J961","text":"i already register on vp0","ts":"1465572344.000238"},{"type":"message","user":"U0XR6J961","text":"but i don't think i can register on vp1 as well","ts":"1465572354.000239"},{"type":"message","user":"U0UGH3X7X","text":"use test_user1","ts":"1465572371.000240"},{"type":"message","user":"U11MANG9G","text":"Can we expedite 1772, if possible?","ts":"1465583735.000241"},{"type":"message","user":"U11MANG9G","text":"Not my issue, but we'll be happy to have the framework in for other libs.","ts":"1465583779.000242"},{"type":"message","user":"U11MANG9G","text":"Thank you <@U0KPFAZNF>.","ts":"1465594771.000243"},{"type":"message","user":"U11MANG9G","text":"---\nOn a separate note, unless there's any objection, we should probably change the OBCCA prefix in the `membersrvc` CA configuration\/settings.","edited":{"user":"U11MANG9G","ts":"1465594938.000000"},"ts":"1465594808.000244"},{"type":"message","user":"U11MANG9G","text":"After chatting with Gari, I put together an issue for calling it simply \"CA_....\": See <https:\/\/github.com\/hyperledger\/fabric\/issues\/1797> (as there's also a hackathon coming up)","attachments":[{"service_name":"GitHub","title":"[GoodFirstBug] Membership Services CA env settings: &quot;OBCCA_&quot; -&gt; &quot;CA_&quot; \u00b7 Issue #1797 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/issues\/1797","text":"Description The membersrvc process allows the configuration of environment variables that can override the YAML configuration settings. Here's an excerpt from docs\/dev-setup\/obcca-setup.md \"perm\"...","fallback":"GitHub: [GoodFirstBug] Membership Services CA env settings: \"OBCCA_\" -&gt; \"CA_\" \u00b7 Issue #1797 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars0.githubusercontent.com\/u\/1161321?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/issues\/1797","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1465594885.000245"},{"type":"message","user":"U0KPFAZNF","text":"on that note, the \u201cCORE_\u201d prefix seems suboptimal to me","ts":"1465594892.000247"},{"type":"message","user":"U11MANG9G","text":"Go on please...","ts":"1465594921.000248"},{"type":"message","user":"U0KPFAZNF","text":"even if just prefixed with HLF_ or something it would seem more appropriate to me","ts":"1465594934.000249"},{"type":"message","user":"U0KPFAZNF","text":"HLF_CORE, HLF_CA, etc","edited":{"user":"U0KPFAZNF","ts":"1465594965.000000"},"ts":"1465594954.000251"},{"type":"message","user":"U11MANG9G","text":"Taking a look at what we have... (for consistency)","ts":"1465595026.000253"},{"type":"message","user":"U11MANG9G","text":"So \/core\/config - HYPERLEDGER","ts":"1465595047.000254"},{"type":"message","user":"U11MANG9G","text":"And \/core\/chaincode - CORE","ts":"1465595066.000255"},{"type":"message","user":"U11MANG9G","text":"and we have CORE_NOOP","ts":"1465595087.000256"},{"type":"message","user":"U11MANG9G","text":"`peer` btw has: `core` (lowercase)","ts":"1465595125.000257"},{"type":"message","user":"U11MANG9G","text":"I like the HLF_ prefix. What should we do with the HYPERLEDGER one though?","ts":"1465595189.000258"},{"type":"message","user":"U11MANG9G","text":"Oh, wait. The `HYPERLEDGER` is just hardcoded for the setup test, it seems.\nI'm 100% happy with `HLF_CORE`  and `HLF_CA`. Any other suggestions?","ts":"1465595298.000259"},{"type":"message","user":"U0KPFAZNF","text":"that would satisfy me i think","ts":"1465595508.000260"},{"type":"message","user":"U11MANG9G","text":"I'll update the issue...","ts":"1465595686.000261"},{"type":"message","user":"U11MANG9G","text":"BTW: Do we want to add a label for `GoodFirstBug` or so? Similar to: <https:\/\/wiki.mozilla.org\/Good_first_bug>","edited":{"user":"U11MANG9G","ts":"1465595926.000000"},"ts":"1465595710.000262"},{"type":"message","user":"U11MANG9G","text":"I'm asking because on one hand, we already have the `help wanted` on the other hand, it's nice to highlight some of these as `beginner friendly` (which is more than just help wanted)","ts":"1465595768.000263"},{"type":"message","user":"U0P2GSA8Z","text":"<@U11MANG9G>: we currently have a rather messy situation with our configuration set up discussed in #578 which may have bearing on this though","ts":"1465600475.000265"},{"type":"message","user":"U11MANG9G","text":"<@U0P2GSA8Z>: fair enough. I don't mind focusing on the `membersrvc` fix for now then... because the `OBC` certainly needs to be removed (one way or another)...","ts":"1465600563.000266"},{"type":"message","user":"U0P2GSA8Z","text":"true","ts":"1465600585.000267"},{"type":"message","user":"U11MANG9G","text":"... and we'll worry about consistency later? WDYT?","ts":"1465600585.000268"},{"type":"message","user":"U0P2GSA8Z","text":"that's fine, it's just that someone new may get confused about the current mess","ts":"1465600643.000269"},{"type":"message","user":"U0P2GSA8Z","text":"so the labeling as Good_first_bug might trip them","ts":"1465600659.000270"},{"type":"message","user":"U11MANG9G","text":"Point taken. I actually did specify the exact fix (steps) in 1797, trying to be super clear.","ts":"1465600695.000271"},{"type":"message","user":"U0P2GSA8Z","text":"ok, good enough","ts":"1465600710.000272"},{"type":"message","user":"U11MANG9G","text":"Focused there only on 2 or 3 files (under `membersrvc`). Yeah, didn't want to suggest a cross-component fix right away, etc.","ts":"1465600735.000273"},{"type":"message","user":"U11MANG9G","text":"Just thinking about <@U0KPFAZNF> 's suggestion, to make a prefix more consistent.... but we can tackle this later on (or actually start with the `CA_`... as originally suggested)","ts":"1465600832.000274"},{"type":"message","user":"U11MANG9G","text":"Might feel weird to have only `HLF_CA_....` and no other prefixes. I'm fine with either.","ts":"1465600855.000275"},{"type":"message","user":"U0P2GSA8Z","text":"oh, I agree with the goal!","ts":"1465600903.000276"},{"type":"message","user":"U0P2GSA8Z","text":"it's just that I've looked into the configuration stuff and it's a mess","ts":"1465600915.000277"},{"type":"message","user":"U11MANG9G","text":"Oh, yeah!","ts":"1465600921.000278"},{"type":"message","user":"U11MANG9G","text":"(you can say that one again ;-))","ts":"1465600928.000279"},{"type":"message","user":"U0P2GSA8Z","text":":slightly_smiling_face:","ts":"1465600960.000280"},{"type":"message","user":"U11MANG9G","text":"I'll welcome newbies to our part of the world for now.... trying to keep `membersrvc` sharing the crypto, relatively self-contained,  but also consistent with the rest of the project.","ts":"1465601040.000281"},{"type":"message","user":"U11MANG9G","text":"One YAML at a time :wink: <@U0P2GSA8Z>: Have a good weekend, btw.","ts":"1465601054.000282"},{"type":"message","user":"U0P2GSA8Z","text":"sounds reasonable indeed","ts":"1465601072.000283"},{"type":"message","user":"U0P2GSA8Z","text":"have a good one","ts":"1465601074.000284"},{"type":"message","user":"U11MANG9G","text":"---\nAny idea what's up with the Travis build here:  <https:\/\/github.com\/hyperledger\/fabric\/pull\/1799>","attachments":[{"service_name":"GitHub","title":"Complete TCerts are no longer stored by TCA. by diaperwedger \u00b7 Pull Request #1799 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1799","text":"Relevant TCert data is stored in TCertificateSets table and TCerts are not being stored in Certificates table anymore Description TCertificateSets table is used to store relevant data (user enrol...","fallback":"GitHub: Complete TCerts are no longer stored by TCA. by diaperwedger \u00b7 Pull Request #1799 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/19418256?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1799","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1465609117.000285"},{"type":"message","user":"U11MANG9G","text":"Might be a permissioning issue? (Un?)fotunately, I'm about to leave for the day... (Shabbat)","ts":"1465609218.000289"},{"user":"U1FMLC60J","type":"message","subtype":"channel_join","text":"<@U1FMLC60J|mizuki> has joined the channel","ts":"1465616760.000290"},{"type":"message","user":"U11HH3P7Y","text":"Issue #1803 has been created for the Travis build failures. <https:\/\/github.com\/hyperledger\/fabric\/issues\/1803>","attachments":[{"service_name":"GitHub","title":"Travis Build failures: After PR# 1765 merge \u00b7 Issue #1803 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/issues\/1803","text":"Description All Travis Builds are failing with error message No output has been received in the last 10m0s, this potentially indicates a stalled build or something wrong with the build itself. a...","fallback":"GitHub: Travis Build failures: After PR# 1765 merge \u00b7 Issue #1803 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/17034502?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/issues\/1803","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1465655217.000291"},{"type":"message","user":"U11HH3P7Y","text":"I tried increasing the timeout time using  `travis_wait 30 make unit-test` but there wasn't any change in the error message.","ts":"1465656013.000293"},{"type":"message","user":"U11MANG9G","text":"Despite the 4MB limit on Travis' output, we were able to isolate the problem. It stems from some scenarios, only in the multi-threaded mode, and it does not occur on every set up.","ts":"1465703990.000002"},{"type":"message","user":"U11MANG9G","text":"<https:\/\/github.com\/hyperledger\/fabric\/pull\/1809>  provides an immediate fix (with the least resistance, at this point) - so that we can all continue to work in the interim.","attachments":[{"service_name":"GitHub","title":"1803 Bypass the (potential) infinite loop in the tCertPool in (some) MT scenarios by JonathanLevi \u00b7 Pull Request #1809 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1809","text":"Description This is a quick fix for issue #1803 stemming from the multi-threaded (MT) version of the tCertPool in cases when the TCerts are not returned from the TCA. Effectively in some (MT) sc...","fallback":"GitHub: 1803 Bypass the (potential) infinite loop in the tCertPool in (some) MT scenarios by JonathanLevi \u00b7 Pull Request #1809 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars0.githubusercontent.com\/u\/1161321?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1809","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1465704105.000003"},{"user":"U0YR44350","type":"message","subtype":"channel_join","text":"<@U0YR44350|mrshah> has joined the channel","ts":"1465739934.000005"},{"type":"message","user":"U11MANG9G","text":"<@U11HH3P7Y>: thank you for 1803. Can we (somehow) re-run the below Red PRs, on Travis?\n\n#1797\n#1810\n#1808\n#1802\n#1801\n#1799\n#1798\n#1795\n#1793 \n\nin case our good ol` Travis is not configured to do this automatically after recovery?","ts":"1465743663.000006"},{"type":"message","user":"U11HH3P7Y","text":"<@U11MANG9G>: Thanks for the Fix. I don't have permissions to run Travis builds. <@U0KPFAZNF> can you help you on this.","ts":"1465743779.000007"},{"type":"message","user":"U0KPFAZNF","text":"im not sure theres anything I can do","ts":"1465743798.000008"},{"type":"message","user":"U0KPFAZNF","text":"all the PRs that have failed will need to rebase to pick up the merge","ts":"1465743808.000009"},{"type":"message","user":"U11HH3P7Y","text":"Travis always clone hyperledger\/fabric for every build and performs PR merge.. Shall we re-run one build to cross check?","ts":"1465744219.000010"},{"type":"message","user":"U0KPFAZNF","text":"i thought I confirmed once that is not the case","ts":"1465744259.000011"},{"type":"message","user":"U0KPFAZNF","text":"but sure, pick one","ts":"1465744262.000012"},{"type":"message","user":"U11HH3P7Y","text":"1797 from the above list..","ts":"1465744285.000013"},{"type":"message","user":"U0KPFAZNF","text":"you got it, stand by","ts":"1465744296.000014"},{"type":"message","user":"U11HH3P7Y","text":"or Build#1019","ts":"1465744329.000015"},{"type":"message","user":"U11HH3P7Y","text":"PR#1793 is Build#999","ts":"1465744374.000016"},{"type":"message","user":"U0KPFAZNF","text":"I did 1019","ts":"1465744376.000017"},{"type":"message","user":"U11HH3P7Y","text":"ok","ts":"1465744380.000018"},{"type":"message","user":"U0KPFAZNF","text":"i couldnt find 1797","ts":"1465744380.000019"},{"type":"message","user":"U0NCW1DPX","text":"could you help to re run #1683 as well ? <https:\/\/github.com\/hyperledger\/fabric\/pull\/1683>","attachments":[{"service_name":"GitHub","title":"Upgrade go-logging to 2.0.0-rc1. by genggjh \u00b7 Pull Request #1683 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1683","text":"Description Upgrade go-logging Move to use the new log functions: Debugf(...), Infof(...), Warningf(...), Errorf(...), Criticalf(...), Noticef(...) Motivation and Context To get the latest an...","fallback":"GitHub: Upgrade go-logging to 2.0.0-rc1. by genggjh \u00b7 Pull Request #1683 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/3070180?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1683","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1465744481.000020"},{"type":"message","user":"U0KPFAZNF","text":"done","ts":"1465744543.000022"},{"type":"message","user":"U11HH3P7Y","text":"Thanks haskin. Sorry for troubling you..","ts":"1465744567.000023"},{"type":"message","user":"U0KPFAZNF","text":"not at all","ts":"1465744718.000024"},{"type":"message","user":"U0KPFAZNF","text":"if your theory is right and this rebuild works, ill just spin up all current red builds","ts":"1465744741.000025"},{"type":"message","user":"U0KPFAZNF","text":"maybe not today though, time for baseball :wink:","ts":"1465744756.000026"},{"type":"message","user":"U0NCW1DPX","text":"<@U0KPFAZNF>: :slightly_smiling_face: I like Turkey but they lost their first match.  Anyway, today we still have German :soccer: :beers:","ts":"1465745172.000027"},{"type":"message","user":"U11MANG9G","text":"<@U0NCW1DPX>, <@U0KPFAZNF> : yes, it's clearly a busy day... however we look at it :wink:","ts":"1465745313.000028"},{"type":"message","user":"U11HH3P7Y","text":"hey.. It worked","ts":"1465745373.000029","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"looks like you might be right","ts":"1465745501.000030"},{"type":"message","user":"U11MANG9G","text":"This is really good news!","ts":"1465745528.000031"},{"type":"message","user":"U0NCW1DPX","text":"I got a green build as well. <https:\/\/github.com\/hyperledger\/fabric\/pull\/1683>","ts":"1465747494.000032"},{"type":"message","user":"U0NCW1DPX","text":"thanks guys","ts":"1465747505.000033"},{"type":"message","user":"U1AU8DRQR","text":"hi all","ts":"1465805305.000034"},{"type":"message","user":"U1AU8DRQR","text":"I have a PR with a failing build. More precisely failing behave tests: <https:\/\/travis-ci.org\/hyperledger\/fabric\/builds\/136169933> How can I get more output or any hints what the error was? That behave test works on my machine.","ts":"1465805408.000035"},{"type":"message","user":"U0ZJZBJLF","text":"Hi. Regarding this issue: <https:\/\/github.com\/hyperledger\/fabric\/issues\/1751>\nWhy would we want to isolate executions? shouldn't the one that implements the chaincode take care of concurrent invocations?","attachments":[{"service_name":"GitHub","title":"chaincode execution should prevent accidental sharing of global state in chaincode \u00b7 Issue #1751 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/issues\/1751","text":"Description Currently, the chaincode pattern requires passing of a singleton object to the chaincode shim: err := shim.Start(new(SimpleChaincode)) This suggests that it is a reasonable pr...","fallback":"GitHub: chaincode execution should prevent accidental sharing of global state in chaincode \u00b7 Issue #1751 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/177979?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/issues\/1751","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1465822463.000036"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF>: not in my opinion","ts":"1465823057.000038"},{"type":"message","user":"U0KPFAZNF","text":"the only persistence that a chaincode should have should be its putstate object\u2026and we should develop frameworks that make that easy\/apparent","ts":"1465823100.000039"},{"type":"message","user":"U0KPFAZNF","text":"what <@U0XR6J961> is pointing out in 1751 is that the current framework is structured in a way that implies\/encourages additional persistence","ts":"1465823156.000040"},{"type":"message","user":"U0XR6J961","text":"indeed i am","ts":"1465823195.000041"},{"type":"message","user":"U0KPFAZNF","text":"and, I agree with <@U0XR6J961>","ts":"1465823204.000042"},{"type":"message","user":"U0KPFAZNF","text":"related to this, we should also strive to make the launch method abstracted from the chaincode app","ts":"1465823418.000043"},{"type":"message","user":"U0KPFAZNF","text":"e.g. it shouldnt matter if the chaincode is a standard linux application that has a main() and reaches out to the peer via GRPC or is launched as part of some other executor","ts":"1465823487.000044"},{"type":"message","user":"U0KPFAZNF","text":"the way it is now will not only be difficult to encourage\/enforce determinism, it will also be difficult to enforce isolation constraints","ts":"1465823567.000045"},{"type":"message","user":"U0ZJZBJLF","text":"what if we have a stronger primitive on the stub, like a CAS?","ts":"1465823580.000046"},{"type":"message","user":"U0KPFAZNF","text":"CAS?","ts":"1465823588.000047"},{"type":"message","user":"U0ZJZBJLF","text":"compare and swap","ts":"1465823592.000048"},{"type":"message","user":"U0KPFAZNF","text":"not clear on where you are going with this","ts":"1465823607.000049"},{"type":"message","user":"U0KPFAZNF","text":"can you elaborate?","ts":"1465823616.000050"},{"type":"message","user":"U0ZJZBJLF","text":"isn't the problem that chaincode that runs in parallel may step on each others toes?","ts":"1465823703.000051"},{"type":"message","user":"U0ZJZBJLF","text":"I'm asking- what if it's \"OK\" for the invocations to run in parallel because the use case allows it?","ts":"1465823729.000052"},{"type":"message","user":"U0ZJZBJLF","text":"why not transfer the responsibility to the chaincode implementer ?","edited":{"user":"U0ZJZBJLF","ts":"1465823953.000000"},"ts":"1465823759.000053"},{"type":"message","user":"U0XR6J961","text":"to?","ts":"1465823929.000054"},{"type":"message","user":"U0ZJZBJLF","text":"*to, yes","ts":"1465823941.000055"},{"type":"message","user":"U0XR6J961","text":"why?","ts":"1465823959.000057"},{"type":"message","user":"U0ZJZBJLF","text":"because the implementer knows whether running something in parallel is OK or not","ts":"1465823996.000058"},{"type":"message","user":"U0XR6J961","text":"i don't understand the proposal","ts":"1465824019.000059"},{"type":"message","user":"U0ZJZBJLF","text":"the issue is about that chaincode execution should prevent accidental sharing of global state, right? \nLet's say we take measures and solve it somehow. It adds some penalty\/overhead to users who don't care about their chaincode sharing state because they implemented it in such a way that it handles it, or they just don't care because their chaincode might even not be dependent on the state. \nSo isn't it more \"flexible\" to have the user(implementor of chaincode) worry about sharing of global state among invocations?","edited":{"user":"U0ZJZBJLF","ts":"1465824244.000000"},"ts":"1465824213.000060"},{"type":"message","user":"U0XR6J961","text":"yes, more flexible, but also dangerous","ts":"1465824372.000062"},{"type":"message","user":"U0ULK2JPP","text":"<@U0ZJZBJLF>: there are many things to consider here IMO\u2026. the assumption that implementer knows if invoke to chaincodes ( or different invoke to the same chaincode) can be run in parallel is a big one in a shared ledger env.","ts":"1465824502.000063"},{"type":"message","user":"U0XR6J961","text":"the system already runs invokes serially","ts":"1465824534.000064"},{"type":"message","user":"U0XR6J961","text":"it just can also run queries in parallel","ts":"1465824542.000065"},{"type":"message","user":"U0XR6J961","text":"chaincode *must not* share state between concurrent query\/invocation, nor across invocations","ts":"1465824597.000066"},{"type":"message","user":"U0XR6J961","text":"therefore providing an API that suggests such a pattern is bad","ts":"1465824620.000067"},{"type":"message","user":"U0XR6J961","text":"and instead we should make it hard or impossible to make such a mistake","ts":"1465824633.000068"},{"type":"message","user":"U0ZJZBJLF","text":"I see now. It's like, to prevent abuse?","ts":"1465824713.000069"},{"type":"message","user":"U0ZJZBJLF","text":"why not delete the fields with reflection or something, instead of forking?","ts":"1465824735.000070"},{"type":"message","user":"U0ULK2JPP","text":"however, going back to the original problem - things like global var detection, invalid package use detection (time, rand\u2026 for example) shouldn\u2019t be hard to do","ts":"1465824743.000071"},{"type":"message","user":"U0ULK2JPP","text":"either statically or dynamically","ts":"1465824753.000072"},{"type":"message","user":"U0ULK2JPP","text":"of course, there are probably smart ways of doing those that\u2019s worth investigation","ts":"1465824770.000073"},{"type":"message","user":"U0ZJZBJLF","text":"good thing go is static typing and there is no \"eval\" ( I think)","ts":"1465824791.000074"},{"type":"message","user":"U0ZJZBJLF","text":"ok thanks for the clarification!","ts":"1465824823.000075"},{"type":"message","user":"U0XR6J961","text":"what fields?","ts":"1465824847.000076"},{"type":"message","user":"U0ULK2JPP","text":"can you elaborate on the no \u201ceval\u201d points please ?","ts":"1465824856.000077"},{"type":"message","user":"U0XR6J961","text":"muralisr: it's impossible to do","ts":"1465824863.000078"},{"type":"message","user":"U0XR6J961","text":"halting problem","ts":"1465824876.000079"},{"type":"message","user":"U0ZJZBJLF","text":"global fields of the file","ts":"1465824876.000080"},{"type":"message","user":"U0ULK2JPP","text":"what is impossible <@U0XR6J961> ?","ts":"1465824888.000081"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019m not claiming we\u2019ll have 100% detection\u2026 just best effort","ts":"1465824915.000082"},{"type":"message","user":"U0XR6J961","text":"to make sure a program doesn't do X","ts":"1465824922.000083"},{"type":"message","user":"U0XR6J961","text":"we should just use a DSL that prevent anything non-deterministic","ts":"1465824942.000084"},{"type":"message","user":"U0XR6J961","text":"we don't even have to come up with it","ts":"1465824949.000085"},{"type":"message","user":"U0XR6J961","text":"they exist","ts":"1465824953.000086"},{"type":"message","user":"U0ULK2JPP","text":"again, all I\u2019m saying is its worth doing simple things to prevent common issues. If we can do that statically only, we should do at least that","ts":"1465825053.000087"},{"type":"message","user":"U0XR6J961","text":"we need to patch go for certain things","ts":"1465825082.000088"},{"type":"message","user":"U0ULK2JPP","text":"yes","ts":"1465825088.000089"},{"type":"message","user":"U0ULK2JPP","text":"It\u2019ll be interesting to look at what go playground does for starters","ts":"1465825122.000090"},{"type":"message","user":"U0ZJZBJLF","text":"hmm good idea","ts":"1465825133.000091"},{"type":"message","user":"U0ZJZBJLF","text":"what do you mean patch go?","ts":"1465825138.000092"},{"type":"message","user":"U0XR6J961","text":"playground doesn't need to be deterministic :slightly_smiling_face:","ts":"1465825242.000093"},{"type":"message","user":"U0ULK2JPP","text":"I was thinking it has lessons we can use\u2026 i think it constrains uses","ts":"1465825355.000094"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0XR6J961>:  but if you use a DSL then how can you still use the plain go code?","ts":"1465825365.000095"},{"type":"message","user":"U0XR6J961","text":"you don't","ts":"1465825381.000096"},{"type":"message","user":"U0ZJZBJLF","text":"oh, but then it deprecates existing code","ts":"1465825393.000097"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1465825396.000098"},{"type":"message","user":"U0XR6J961","text":"well, with consensus v2 it doesn't have to be deterministic","ts":"1465825428.000099"},{"type":"message","user":"U0XR6J961","text":"it just needs to appear deterministic","ts":"1465825434.000100","reactions":[{"name":"innocent","users":["U11MANG9G"],"count":1}]},{"user":"U1B5DPRLG","type":"message","subtype":"channel_join","text":"<@U1B5DPRLG|lhaskins> has joined the channel","ts":"1465836958.000101"},{"type":"message","user":"U1AU8DRQR","text":"hey, we have this: <https:\/\/github.com\/hyperledger\/fabric\/pull\/1721> please review it, it would be good to merge","attachments":[{"service_name":"GitHub","title":"Optionally generate invoke transaction ID from transaction content by tamasblummer \u00b7 Pull Request #1721 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1721","text":"Optionally generate invoke transaction ID from transaction content Description Adds a -tid options to CLI that determines the transaction id derivation algorithm. Adds uuidGenerationAlg to Chai...","fallback":"GitHub: Optionally generate invoke transaction ID from transaction content by tamasblummer \u00b7 Pull Request #1721 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/4289351?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1721","thumb_width":234,"thumb_height":234,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1465846244.000102"},{"type":"message","user":"U0P2GSA8Z","text":"<!here|@here> does anybody know who developed logging.go?","ts":"1465856388.000104"},{"type":"message","user":"U0P2GSA8Z","text":"there seems to be an inconsistency between what's referred to as \"default\"","ts":"1465856442.000105"},{"type":"message","user":"U0N1D1UAE","text":"It was me","ts":"1465856462.000106"},{"type":"message","user":"U0P2GSA8Z","text":"hi!","ts":"1465856478.000107"},{"type":"message","user":"U0P2GSA8Z","text":"maybe you can help me understand how it's supposed to be used","ts":"1465856499.000108"},{"type":"message","user":"U0XQ35CDD","text":"<@U0P2GSA8Z>: <https:\/\/github.com\/hyperledger\/fabric\/pull\/587>","attachments":[{"service_name":"GitHub","title":"Normalize the processing of logging options for obc-peer by bcbrock \u00b7 Pull Request #587 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/587","text":"This is a proposed change that addresses #569 and #310, and also partially addresses #578. The handling of logging levels, and ways of managing logging levels are currently inconsistent and incompl...","fallback":"GitHub: Normalize the processing of logging options for obc-peer by bcbrock \u00b7 Pull Request #587 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/11968347?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/587","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1465856504.000109"},{"type":"message","user":"U0N1D1UAE","text":"It allows different defaults to be applied to different subcomamds of teh peer","ts":"1465856556.000111"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0XQ35CDD>: oh, I know, that's what I'm looking into actually","ts":"1465856559.000112"},{"type":"message","user":"U0P2GSA8Z","text":"yes, I understand that","ts":"1465856570.000113"},{"type":"message","user":"U0P2GSA8Z","text":"I think one difficulty comes from the \"default\" logging_level","ts":"1465856601.000114"},{"type":"message","user":"U0P2GSA8Z","text":"everything else that is made of several words relates to nesting in yaml","ts":"1465856630.000115"},{"type":"message","user":"U0P2GSA8Z","text":"but not that one","ts":"1465856654.000116"},{"type":"message","user":"U0N1D1UAE","text":"I\u2019m note sure what you mean by \u201cseveral words\"","ts":"1465856676.000117"},{"type":"message","user":"U0P2GSA8Z","text":"then it is unclear to me whether setting it is really just a default - as in: used if there isn't a more specific setting - or as an override","ts":"1465856700.000118"},{"type":"message","user":"U0P2GSA8Z","text":"sorry, multiwords like peer.tls.cert.file","ts":"1465856747.000119"},{"type":"message","user":"U0N1D1UAE","text":"What are you tryiong top do?","ts":"1465856751.000120"},{"type":"message","user":"U0P2GSA8Z","text":"debug :slightly_smiling_face:","ts":"1465856758.000121"},{"type":"message","user":"U0N1D1UAE","text":"And what do you want to happen&gt;","ts":"1465856772.000122"},{"type":"message","user":"U0P2GSA8Z","text":"but to be fair maybe I'm just not understanding how it's supposed to work!","ts":"1465856778.000123"},{"type":"message","user":"U0N1D1UAE","text":"Then I haven\u2019t documented it well enough :slightly_smiling_face:","ts":"1465856803.000124"},{"type":"message","user":"U0N1D1UAE","text":"Are you trying to set a particular module to DEBUG and anther one to another level?","ts":"1465856825.000125"},{"type":"message","user":"U0P2GSA8Z","text":"so tell me this: what has precedence if both logging_level and logging.peer are set?","ts":"1465856860.000126"},{"type":"message","user":"U0N1D1UAE","text":"The environment variables are always supposed to take precedence","ts":"1465856895.000127"},{"type":"message","user":"U0N1D1UAE","text":"command line flag takes precendence over YAML file","ts":"1465856950.000128"},{"type":"message","user":"U0XQ35CDD","text":"&gt; make: Warning: File `Makefile' has modification time 4.4e+02 s in the future\nis this a normal message to get when invoking `make all`? I'm on `bab9e4` (<@U0KPFAZNF> is probably my best bet for this)","edited":{"user":"U0XQ35CDD","ts":"1465858802.000000"},"ts":"1465856956.000129"},{"type":"message","user":"U0P2GSA8Z","text":"well, that doesn't seem to happen","ts":"1465857024.000130"},{"type":"message","user":"U0P2GSA8Z","text":"and there seem to be several reasons for that","ts":"1465857039.000131"},{"type":"message","user":"U0P2GSA8Z","text":"I believe the order of precedence is meant to be command line options, env var, yaml file","ts":"1465857083.000132"},{"type":"message","user":"U0P2GSA8Z","text":"but then you have another axis with the logging-level vs command levels","ts":"1465857117.000133"},{"type":"message","user":"U0P2GSA8Z","text":"and not all modules seem to check the latter","ts":"1465857146.000134"},{"type":"message","user":"U0P2GSA8Z","text":"crypto for one doesn't","ts":"1465857154.000135"},{"type":"message","user":"U0N1D1UAE","text":"Crypto was not implemented correctly:","ts":"1465857180.000136"},{"type":"message","user":"U0P2GSA8Z","text":"setting CORE_LOGGING_LEVEL has no effect on crypto logging level","ts":"1465857181.000137"},{"type":"message","user":"U0N1D1UAE","text":"<https:\/\/github.com\/hyperledger\/fabric\/issues\/769>","attachments":[{"service_name":"GitHub","title":"Confusion about or new specification of module-level logging setup [re: crypto]? \u00b7 Issue #769 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/issues\/769","text":"Recently a logging.crypto key was added to openchain.yaml, which is interpreted in the file obc-peer\/openchain\/crypto\/crypto_settings.go \"crypto\" here is what the logging package refers to as lo...","fallback":"GitHub: Confusion about or new specification of module-level logging setup [re: crypto]? \u00b7 Issue #769 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/11968347?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/issues\/769","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1465857217.000138"},{"type":"message","user":"U0N1D1UAE","text":"Or shoudl I say, was not implemented in keeping with the other parts of this system","ts":"1465857260.000140"},{"type":"message","user":"U0N1D1UAE","text":"This issue was opened after redoing logging.go","ts":"1465857273.000141"},{"type":"message","user":"U0P2GSA8Z","text":"thanks for the pointer","ts":"1465857287.000142"},{"type":"message","user":"U0P2GSA8Z","text":"the combination of the various related bugs makes it a bit hard to figure out 1) what's going on, 2) what should be going on! :slightly_smiling_face:","ts":"1465857322.000143"},{"type":"message","user":"U0P2GSA8Z","text":"so, let's talk a bit about logging-level if you don't mind","ts":"1465857385.000144"},{"type":"message","user":"U0N1D1UAE","text":"Sure","ts":"1465857407.000145"},{"type":"message","user":"U0P2GSA8Z","text":"did you get what I meant about the nesting?","ts":"1465857411.000146"},{"type":"message","user":"U0N1D1UAE","text":"Not really","ts":"1465857438.000147"},{"type":"message","user":"U0P2GSA8Z","text":"in all other cases when there is a variable CORE_FOO_BAR it maps to foo.bar in the yaml file","ts":"1465857452.000148"},{"type":"message","user":"U0P2GSA8Z","text":"these are nested properties","ts":"1465857466.000149"},{"type":"message","user":"U0N1D1UAE","text":"I get what you mean","ts":"1465857471.000150"},{"type":"message","user":"U0P2GSA8Z","text":"but logging-level doesn't, right?","ts":"1465857482.000151"},{"type":"message","user":"U0N1D1UAE","text":"Right","ts":"1465857498.000152"},{"type":"message","user":"U0P2GSA8Z","text":"or logging_level rather - which is another point of confusion","ts":"1465857506.000153"},{"type":"message","user":"U0P2GSA8Z","text":"there is a bug in peer\/main.go which maps the wrong keys and when I tried to fix it I broke that one because I didn't realize it wasn't a nested property","ts":"1465857554.000154"},{"type":"message","user":"U0P2GSA8Z","text":"I now understand but it makes me wonder whether this should be rename to avoid any such confusion","ts":"1465857596.000155"},{"type":"message","user":"U0N1D1UAE","text":"I was reacting to the fact that the \u201cpeer\u201d has many subcommands, yet each should have a different default logging level. But it seemed redundant to have to say -peer-logging-level=foo when you were executing the peer command.","ts":"1465857728.000156"},{"type":"message","user":"U0N1D1UAE","text":"Why do we make a server application also functino as a client?","ts":"1465857757.000157"},{"type":"message","user":"U0P2GSA8Z","text":"well, let's not derail :wink:","ts":"1465857774.000158"},{"type":"message","user":"U0N1D1UAE","text":"BUt that derailment is tied up in the issue you are raiosing","ts":"1465857792.000159"},{"type":"message","user":"U0P2GSA8Z","text":"I see what you mean but from a logging setting point of view I don't think that's relevant","ts":"1465857823.000160"},{"type":"message","user":"U0N1D1UAE","text":"A server should log at the INFO level by default","ts":"1465857834.000161"},{"type":"message","user":"U0P2GSA8Z","text":"the commands could be completely different and we'd have the problem","ts":"1465857842.000162"},{"type":"message","user":"U0N1D1UAE","text":"A client at WARNING probably","ts":"1465857843.000163"},{"type":"message","user":"U0P2GSA8Z","text":"ah, I see what you mean","ts":"1465857856.000164"},{"type":"message","user":"U0P2GSA8Z","text":"tell me something else, in logging.go, what you call \"defaultLevel\" isn't actually the default, is it?","ts":"1465857914.000165"},{"type":"message","user":"U0P2GSA8Z","text":"on the first line it is, but not after that","ts":"1465857940.000166"},{"type":"message","user":"U0P2GSA8Z","text":"sorry, I mean LoggingInit","ts":"1465857953.000167"},{"type":"message","user":"U0N1D1UAE","text":"Why do you think it is not the default?","ts":"1465858009.000168"},{"type":"message","user":"U0P2GSA8Z","text":"whats going to override that?","ts":"1465858040.000169"},{"type":"message","user":"U0N1D1UAE","text":"Any env. var, flag or Yaml entry that specifies a default","ts":"1465858080.000170"},{"type":"message","user":"U0N1D1UAE","text":"a different default","ts":"1465858084.000171"},{"type":"message","user":"U0P2GSA8Z","text":"you mean a different *level* :slightly_smiling_face:","ts":"1465858099.000172"},{"type":"message","user":"U0N1D1UAE","text":"Yes a different default level","ts":"1465858118.000173"},{"type":"message","user":"U0P2GSA8Z","text":"but, wait, why \"default\"??","ts":"1465858128.000174"},{"type":"message","user":"U0P2GSA8Z","text":"at some point it's no longer a default, right?","ts":"1465858138.000175"},{"type":"message","user":"U0P2GSA8Z","text":"default, is only a backup type of setting","ts":"1465858150.000176"},{"type":"message","user":"U0P2GSA8Z","text":"if you have nothing else you take that","ts":"1465858156.000177"},{"type":"message","user":"U0N1D1UAE","text":"Why is that word not appropriate? (Default)","ts":"1465858190.000178"},{"type":"message","user":"U0N1D1UAE","text":"If you delete all of the YAML entries you get the default","ts":"1465858212.000179"},{"type":"message","user":"U0P2GSA8Z","text":"because it's as if you never have an actual setting you only have defaults","ts":"1465858217.000180"},{"type":"message","user":"U0P2GSA8Z","text":"no, the yaml has lower precedence you said","ts":"1465858236.000181"},{"type":"message","user":"U0N1D1UAE","text":"If you delete yaml, and dont give a command-line flag and dont have an env. var this is what you get","ts":"1465858269.000182"},{"type":"message","user":"U0N1D1UAE","text":"somebody has to specify the default","ts":"1465858279.000183"},{"type":"message","user":"U0P2GSA8Z","text":"ah! I understand","ts":"1465858284.000184"},{"type":"message","user":"U0P2GSA8Z","text":"that's the default in the code, right?","ts":"1465858296.000185"},{"type":"message","user":"U0N1D1UAE","text":"I think op\/go-logging defaults to ERROR","ts":"1465858301.000186"},{"type":"message","user":"U0N1D1UAE","text":"Yes, this default is only used if no other soec. is given","ts":"1465858317.000187"},{"type":"message","user":"U0N1D1UAE","text":"spec","ts":"1465858323.000188"},{"type":"message","user":"U0P2GSA8Z","text":"I get it, thanks","ts":"1465858325.000189"},{"type":"message","user":"U0P2GSA8Z","text":"so, I looked into <https:\/\/github.com\/hyperledger\/fabric\/issues\/578> and I agree with what <@U0XQ35CDD> said there","attachments":[{"service_name":"GitHub","title":"obc-peer command-line flags do not (can not) work \u00b7 Issue #578 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/issues\/578","text":"The Viper\/Cobra option-processing system used by openblockchain apparently does not support the idea that command-line flags are equivalent to nested keys from config files. See for example recent ...","fallback":"GitHub: obc-peer command-line flags do not (can not) work \u00b7 Issue #578 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/11968347?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/issues\/578","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1465858633.000190"},{"type":"message","user":"U0P2GSA8Z","text":"the mapping is wrong and the fix is simple in peer\/main.go","edited":{"user":"U0P2GSA8Z","ts":"1465858761.000000"},"ts":"1465858672.000192"},{"type":"message","user":"U0XQ35CDD","text":"<@U0P2GSA8Z>: cool, I'll put in a PR soon (although I'll want to see how files other `main.go` are affected by this)","ts":"1465858781.000194"},{"type":"message","user":"U0P2GSA8Z","text":"yeah. that's what I was doing which is how I got into this discussion :wink:","ts":"1465858808.000196"},{"type":"message","user":"U0P2GSA8Z","text":"did you try your fix on peer\/main.go?","ts":"1465858830.000197"},{"type":"message","user":"U0P2GSA8Z","text":"because the one mapping\/bind you must not change is logging_level\/logging-level","ts":"1465858850.000198"},{"type":"message","user":"U0P2GSA8Z","text":"or you'd have to change the value fetched from logging.go","ts":"1465858873.000199"},{"type":"message","user":"U0P2GSA8Z","text":"LoggingInit has: spec := viper.GetString(\"logging_level\")","ts":"1465858908.000200"},{"type":"message","user":"U0P2GSA8Z","text":"that's where I find the name a bit tricky","ts":"1465858972.000201"},{"type":"message","user":"U0P2GSA8Z","text":"the characters _ - . have a meaning except in this case","ts":"1465859006.000202"},{"type":"message","user":"U0XQ35CDD","text":"<@U0P2GSA8Z>: do you want us to go on with this conversation on the #578 issue page? I don't want this feedback to be lost","ts":"1465859015.000203"},{"type":"message","user":"U0P2GSA8Z","text":"sure I can add something there","ts":"1465859034.000204"},{"type":"message","user":"U0XQ35CDD","text":"thank you!","ts":"1465859038.000205"},{"type":"message","user":"U0P2GSA8Z","text":"I primarily came here to try and get some info to better understand","ts":"1465859054.000206"},{"type":"message","user":"U0P2GSA8Z","text":"thanks","ts":"1465859055.000207"},{"type":"message","user":"U0P2GSA8Z","text":"thanks <@U0N1D1UAE> for your patience with me :slightly_smiling_face:","ts":"1465859076.000208"},{"type":"message","user":"U0N1D1UAE","text":"Ok, let me know if I can help further","ts":"1465859182.000209"},{"type":"message","user":"U0P2GSA8Z","text":"ah, here is another tricky part: so logging-level is the default, but it also is used to override everything with the env variable CORE_LOGGING_LEVEL?","ts":"1465859375.000210"},{"type":"message","user":"U0P2GSA8Z","text":"the peer command has this: \tmainFlags.String(\"logging-level\", \"\", \"Default logging level and overrides, see core.yaml for full syntax\")","ts":"1465859391.000211"},{"type":"message","user":"U0P2GSA8Z","text":"how can it be both the default and the override?","ts":"1465859407.000212"},{"type":"message","user":"U0N1D1UAE","text":"The specification string includes both a default spec. and overrides","ts":"1465859420.000213"},{"type":"message","user":"U0N1D1UAE","text":"info:chaincode=debug","ts":"1465859453.000214"},{"type":"message","user":"U0P2GSA8Z","text":"I see","ts":"1465859456.000215"},{"type":"message","user":"U0N1D1UAE","text":"only debugs chaincode","ts":"1465859458.000216"},{"type":"message","user":"U0P2GSA8Z","text":"so, it's a setting that defines the default for all commands plus overrides for specific commands","edited":{"user":"U0P2GSA8Z","ts":"1465859506.000000"},"ts":"1465859498.000217"},{"type":"message","user":"U0N1D1UAE","text":"Yes","ts":"1465859513.000219"},{"type":"message","user":"U0N1D1UAE","text":"No not commands, logging \u201cmodules\"","ts":"1465859527.000220"},{"type":"message","user":"U0P2GSA8Z","text":"ah, right!","ts":"1465859535.000221"},{"type":"message","user":"U0P2GSA8Z","text":"problem is the yaml file talks about commands and subcommands","ts":"1465859586.000222"},{"type":"message","user":"U0P2GSA8Z","text":"and some settings do map to commands","ts":"1465859630.000223"},{"type":"message","user":"U0P2GSA8Z","text":"but I understand there isn't a 1-1 mapping between commands and modules","ts":"1465859652.000224"},{"type":"message","user":"U0N1D1UAE","text":"Maybe it needs more explanation of what a module is","ts":"1465859680.000225"},{"type":"message","user":"U0N1D1UAE","text":"Yes, I think it does, a normal user won\u2019t know what these are","ts":"1465859724.000226"},{"type":"message","user":"U0N1D1UAE","text":"referring to","ts":"1465859728.000227"},{"type":"message","user":"U0N1D1UAE","text":"This is really an expert setting","ts":"1465859760.000228"},{"type":"message","user":"U0N1D1UAE","text":"for developers","ts":"1465859765.000229"},{"user":"U12452RAP","type":"message","subtype":"channel_join","text":"<@U12452RAP|grapebaba> has joined the channel","ts":"1465879541.000230"},{"user":"U0XV1HDL3","type":"message","subtype":"channel_join","text":"<@U0XV1HDL3|cca> has joined the channel","ts":"1465898257.000231"},{"user":"U1CK6522F","type":"message","subtype":"channel_join","text":"<@U1CK6522F|zuowang> has joined the channel","ts":"1465905046.000232"},{"user":"U1GNUNKRV","type":"message","subtype":"channel_join","text":"<@U1GNUNKRV|ezhil> has joined the channel","ts":"1465912529.000233"},{"user":"U1GPHH6PQ","type":"message","subtype":"channel_join","text":"<@U1GPHH6PQ|elisabetta> has joined the channel","ts":"1465916463.000234"},{"type":"message","user":"U1GPHH6PQ","text":"hi, I noticed that peer and member services binaries have been recently moved in the build, they're no longer under fabric\/&lt;dir&gt; but in fabric\/build\/bin","ts":"1465916621.000235"},{"type":"message","user":"U1GPHH6PQ","text":"from there, they don't seem to start fine, however, if I copy them into the original directory they do..","ts":"1465916667.000236"},{"type":"message","user":"U1GPHH6PQ","text":"can anyone help? any advice on how to start them would be really appreciated","ts":"1465916692.000237"},{"type":"message","user":"U0KPFAZNF","text":"Can you paste the error you are seeing?","ts":"1465916702.000238"},{"type":"message","user":"U0KPFAZNF","text":"They start fine for me","ts":"1465916708.000239"},{"type":"message","user":"U1GPHH6PQ","text":"panic: Fatal error when reading core config file: Unsupported Config Type \"\"goroutine 1 [running]:\npanic(0x2aa1819d100, 0xc82019bf60)\n\/opt\/hyperledger\/go\/src\/runtime\/panic.go:464 +0x400\nmain.main()\n\/opt\/hyperledger\/git\/src\/github.com\/hyperledger\/fabric\/peer\/main.go:268 +0x86a\n2:53\ndoes anyone have an idea of what that means?","ts":"1465916757.000240"},{"type":"message","user":"U1GPHH6PQ","text":"I'm running out of containers","ts":"1465916765.000241"},{"type":"message","user":"U0P2GSA8Z","text":"what's your GOPATH set to?","ts":"1465917485.000242"},{"type":"message","user":"U1GPHH6PQ","text":"CORE_PEER_ID=vp1 CORE_PEER_ADDRESSAUTODETECT=true CORE_LOGGING_PEER=DEBUG GOPATH=\/opt\/hyperledger .\/peer node start","ts":"1465917854.000243"},{"type":"message","user":"U1GPHH6PQ","text":"and peer is under \/opt\/hyperledger\/git\/src\/github.com\/hyperledger\/fabric\/build\/bin","ts":"1465917908.000244"},{"type":"message","user":"U1GPHH6PQ","text":"maybe the GOPATH is not right and it used to work because everything was under the same directory","ts":"1465917998.000245"},{"type":"message","user":"U1GPHH6PQ","text":"what should GOPATH be set to?","ts":"1465918008.000246"},{"type":"message","user":"U1GNUNKRV","text":"in your case it can be set to: \/opt\/hyperledger\/git\/","ts":"1465918325.000247"},{"type":"message","user":"U1GNUNKRV","text":"export GOPATH=\/opt\/hyperledger\/git\/","edited":{"user":"U1GNUNKRV","ts":"1465918450.000000"},"ts":"1465918434.000248"},{"type":"message","user":"U1GPHH6PQ","text":"brilliant, thanks. It works!","ts":"1465918451.000250","reactions":[{"name":"+1","users":["U1GNUNKRV"],"count":1}]},{"type":"message","user":"U12AHQ3NK","text":"DeleteTable(tablename) does not works. Gives this error on chaoncode terminal console.    21:57:47.240 [shim] DEBU : [mycc]Sending RANGE_QUERY_STATE\n2016\/06\/14 21:57:47 transport: http2Client.notifyError got notified that the client transport was broken EOF.\n21:57:47.392 [shim] ERRO : Received error from server: rpc error: code = 13 desc = \"transport is closing\", ending chaincode stream","ts":"1465922674.000251"},{"type":"message","user":"U0XR6J961","text":"BOOM","ts":"1465922743.000252"},{"type":"message","user":"U0XR6J961","text":"any logs for the peer?","ts":"1465922755.000253"},{"type":"message","user":"U12AHQ3NK","text":"panic: runtime error: invalid memory address or nil pointer dereference\n\tpanic: runtime error: invalid memory address or nil pointer dereference\n[signal 0xb code=0x1 addr=0x0 pc=0x62c861]","ts":"1465922781.000254"},{"type":"message","user":"U0XR6J961","text":"more?","ts":"1465922787.000255"},{"type":"message","user":"U12AHQ3NK","text":"goroutine 30 [running]:\npanic(0xd5afc0, 0xc820010100)\n\t\/opt\/go\/src\/runtime\/panic.go:464 +0x3e6\n<http:\/\/github.com\/hyperledger\/fabric\/core\/chaincode.(*Handler).handleRangeQueryState.func1.1|github.com\/hyperledger\/fabric\/core\/chaincode.(*Handler).handleRangeQueryState.func1.1>(0xc820284080, 0xc82012b8b0, 0xc820043d80)\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/chaincode\/handler.go:651 +0x261\npanic(0xd5afc0, 0xc820010100)\n\t\/opt\/go\/src\/runtime\/panic.go:426 +0x4e9\n<http:\/\/github.com\/hyperledger\/fabric\/core\/chaincode.(*Handler).handleRangeQueryState.func1|github.com\/hyperledger\/fabric\/core\/chaincode.(*Handler).handleRangeQueryState.func1>(0xc820284080, 0xc82012b8b0)\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/chaincode\/handler.go:700 +0xbef\ncreated by <http:\/\/github.com\/hyperledger\/fabric\/core\/chaincode.(*Handler).handleRangeQueryState|github.com\/hyperledger\/fabric\/core\/chaincode.(*Handler).handleRangeQueryState>\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/chaincode\/handler.go:736 +0x3f\nhyperledger@hj-ctocto2126:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/peer$","ts":"1465922810.000256"},{"type":"message","user":"U0XR6J961","text":"that's good information","ts":"1465922821.000257"},{"type":"message","user":"U0XR6J961","text":"please open an issue","ts":"1465922826.000258"},{"type":"message","user":"U0XR6J961","text":"with this trace attached","ts":"1465922835.000259"},{"type":"message","user":"U12AHQ3NK","text":"yeah okay!","ts":"1465922842.000260"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0N1D1UAE>: hi, is there any reason only a few settings are settable via command line options?","ts":"1465927931.000261"},{"type":"message","user":"U0N1D1UAE","text":"It was like that when I joined the project","ts":"1465927955.000262"},{"type":"message","user":"U0P2GSA8Z","text":"it seems rather arbitrary right now","ts":"1465927992.000263"},{"type":"message","user":"U0N1D1UAE","text":"I think I remember Binh saying once that it was hard to pass env. vars. in Windows, so they added a few cmd. line vars.","ts":"1465927998.000264"},{"type":"message","user":"U0N1D1UAE","text":"My vote would be to remove them all","ts":"1465928015.000265"},{"type":"message","user":"U0N1D1UAE","text":"Or maybe someone could write a code generator from the YAML file","ts":"1465928077.000266","reactions":[{"name":"+1","users":["U0XQ35CDD"],"count":1}]},{"type":"message","user":"U0P2GSA8Z","text":"for what it's worth setting variables on Windows is no problem when you use cygwin :wink:","ts":"1465928103.000267"},{"type":"message","user":"U0N1D1UAE","text":"That\u2019s cause you cheat!","ts":"1465928116.000268"},{"type":"message","user":"U0P2GSA8Z","text":"only way to survive you mean!","ts":"1465928128.000269"},{"type":"message","user":"U0N1D1UAE","text":"Yes","ts":"1465928133.000270"},{"type":"message","user":"U0P2GSA8Z","text":"I could never have gotten used to working on a Windows box without it","ts":"1465928155.000271"},{"type":"message","user":"U0P2GSA8Z","text":"but who runs any of this on Windows directly?","ts":"1465928182.000272"},{"type":"message","user":"U0P2GSA8Z","text":"aren't most people running it on a virtualbox on WindowS?","ts":"1465928199.000273"},{"type":"message","user":"U0P2GSA8Z","text":"that argument sounds very weak","ts":"1465928215.000274"},{"type":"message","user":"U0N1D1UAE","text":"Good question","ts":"1465928221.000275"},{"type":"message","user":"U0P2GSA8Z","text":"maybe @binh can shed some light?","ts":"1465928227.000276"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0KN2SSKE>","ts":"1465928240.000277"},{"type":"message","user":"U0P2GSA8Z","text":"I rather like command line options but unless we do it right I would agree that we're probably better off not having any","edited":{"user":"U0P2GSA8Z","ts":"1465929961.000000"},"ts":"1465929945.000278"},{"type":"message","user":"U0P2GSA8Z","text":"for one thing I would expect security-enabled and privacy-enabled to be supported","ts":"1465930004.000280"},{"type":"message","user":"U0TFEHX8E","text":"<@U0XQ35CDD>: regarding the future time warning when running `make`, I see the same problem. I believe the problem is that my vagrant clock is behind my host clock","ts":"1465931905.000281"},{"type":"message","user":"U0KPFAZNF","text":"i just started seeing that too, i feel like its new","ts":"1465932716.000282"},{"type":"message","user":"U0KPFAZNF","text":"not sure if its only because now I am aware of it, but I dont recall seeing it before","ts":"1465932735.000283"},{"type":"message","user":"U0KN2SSKE","text":"<@U0P2GSA8Z>: i haven\u2019t followed yours and bishop\u2019s discussion, but re env vars on Windows (and I am not a Windows guy either) the option seems to involve multiple commands like \n```\nset v1=s1\nset v2=s2\npeer node start\n```","ts":"1465933222.000284"},{"type":"message","user":"U0TFEHX8E","text":"<@U0KPFAZNF>: based on the history in my console, it only started recently. I never compared the clocks before","ts":"1465933257.000285"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0KN2SSKE>: the question was really about the command line options\/flags a la --peer-tls-enabled","ts":"1465933358.000286"},{"type":"message","user":"U0P2GSA8Z","text":"there is currently code in peer\/main.go to support some such options but it doesn't work","ts":"1465933386.000287"},{"type":"message","user":"U0P2GSA8Z","text":"it's easy to fix but it led me to wonder why we only support a few such options and not others","ts":"1465933415.000288"},{"type":"message","user":"U0P2GSA8Z","text":"for instance I can't say --security-enabled","ts":"1465933468.000289"},{"type":"message","user":"U0P2GSA8Z","text":"it would seem that if we wanted to add flags we should do it more thoroughly rather just for a few settings","ts":"1465933520.000290"},{"type":"message","user":"U0KN2SSKE","text":"ah right, early on, we wanted to make that easy for some guy on windows, but now the number of config options has increased many folds","ts":"1465933533.000291"},{"type":"message","user":"U0KN2SSKE","text":"i would agree to remove them","ts":"1465933577.000292"},{"type":"message","user":"U0P2GSA8Z","text":"that's what bishop was advocating for","ts":"1465933588.000293"},{"type":"message","user":"U0P2GSA8Z","text":"I will send an email to the list to ask if anyone has a problem with that","ts":"1465933627.000294"},{"type":"message","user":"U0P2GSA8Z","text":"presumably it won't bother anyone because it doesn't work right now anyway! :slightly_smiling_face:","ts":"1465933652.000295"},{"type":"message","user":"U0KN2SSKE","text":"ok - good idea;  i think a nice thing at the beginning has been out grown","ts":"1465933718.000296"},{"type":"message","user":"U0P2GSA8Z","text":"ok, that explains why only a few settings are supported","ts":"1465933742.000297"},{"type":"message","user":"U0P2GSA8Z","text":"thanks","ts":"1465933749.000298"},{"type":"message","user":"U0P2GSA8Z","text":"one more piece to this puzzle: we currently have one setting which can only be set via command flag: --peer-chaincodedev","ts":"1465935415.000299"},{"type":"message","user":"U0N1D1UAE","text":"I can\u2019t think of a reason to make that one special, \"FOO =bar peer\u201d is just as much to type as \u201cpeer \u2014foo=bar\"","ts":"1465935810.000300"},{"type":"message","user":"U0P2GSA8Z","text":"I'm all for homogeneity I don't see why this one is singled out either","ts":"1465937024.000301"},{"type":"message","user":"U0P2GSA8Z","text":"CORE_PEER_CHAINCODEDEV=true peer node start doesn't work","ts":"1465937386.000302"},{"type":"message","user":"U0XQ35CDD","text":"<@U0TFEHX8E>: thanks, any easy fixes?","ts":"1465949205.000303"},{"type":"message","user":"U11MANG9G","text":"<@U0TFEHX8E>: Do we need to manually rebase 1810? [ <@U12452RAP> ]","edited":{"user":"U11MANG9G","ts":"1465953844.000000"},"ts":"1465953763.000304"},{"type":"message","user":"U11MANG9G","text":"+ mind casting another review on PR 1781, please?","ts":"1465953811.000305"},{"type":"message","user":"U12452RAP","text":"<@U11MANG9G>: rebased","ts":"1465955119.000307"},{"type":"message","user":"U12452RAP","text":"after update i got a error in behave test in my local master, need do environment clean?","ts":"1465957279.000308"},{"type":"message","user":"U12452RAP","text":"oh strange, disappeared","ts":"1465958241.000309"},{"type":"message","user":"U1AU8DRQR","text":"I am trying to make protos but","ts":"1465993162.000310"},{"type":"message","user":"U1AU8DRQR","text":"I get this error","ts":"1465993165.000311"},{"type":"message","user":"U1AU8DRQR","text":"+ protoc --go_out=plugins=grpc:\/opt\/gopath\/src \/usr\/include\/google\/protobuf\/timestamp.proto\n\/usr\/include\/google\/protobuf\/timestamp.proto: File does not reside within any path specified using --proto_path (or -I).  You must specify a --proto_path which encompasses this file.  Note that the proto_path must be an exact prefix of the .proto file names -- protoc is too dumb to figure out when two paths (e.g. absolute and relative) are equivalent (it's harder than you think).\nmake: *** [protos] Error 1","ts":"1465993166.000312"},{"type":"message","user":"U1AU8DRQR","text":"I will try to recreate the vagrant VM","ts":"1465993786.000313"},{"type":"message","user":"U0TFEHX8E","text":"<@U11MANG9G>: the comment I made in 1810 has not been resolved","ts":"1465994641.000314"},{"type":"message","user":"U12452RAP","text":"<@U0TFEHX8E>: i have not seen your comment in 1810","ts":"1465995523.000315"},{"type":"message","user":"U0TFEHX8E","text":"<@U12452RAP>: sorry, got the number mixed up. Meant to say 1781","ts":"1465995582.000316"},{"type":"message","user":"U1AU8DRQR","text":"after recreating the VM, I m still unable to build the protos","ts":"1465995619.000317"},{"type":"message","user":"U0TFEHX8E","text":"<@U1AU8DRQR>: this in in vagrant or outside? I just tried inside and it worked","ts":"1465995678.000318"},{"type":"message","user":"U1AU8DRQR","text":"inside","ts":"1465995688.000319"},{"type":"message","user":"U1AU8DRQR","text":"1st problem is that protoc-gen-go is not installed","ts":"1465995702.000320"},{"type":"message","user":"U12452RAP","text":":relaxed:","ts":"1465995752.000321"},{"type":"message","user":"U1AU8DRQR","text":"<@U0TFEHX8E>: I tried make gootool.protoc-go-gen but it gives me errors","ts":"1465995804.000322"},{"type":"message","user":"U0TFEHX8E","text":"I think that\u2019s installed in the base image. hmmmm. When was the last time you did a `vagrant destroy` `vagrant up`?","edited":{"user":"U0TFEHX8E","ts":"1465995904.000000"},"ts":"1465995888.000323"},{"type":"message","user":"U1AU8DRQR","text":"5 minutes ago","ts":"1465995950.000326"},{"type":"message","user":"U0TFEHX8E","text":"ha, ok. should be good","ts":"1465996061.000327"},{"type":"message","user":"U1AU8DRQR","text":"now I managed to run make gotool.protoc-gen-go after some sudo mkdir and chmod","ts":"1465996123.000328"},{"type":"message","user":"U1AU8DRQR","text":"but I get this:","ts":"1465996145.000329"},{"type":"message","user":"U1AU8DRQR","text":"vagrant@ubuntu-1404:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ make protos\n.\/devenv\/compile_protos.sh\n+ protoc --go_out=plugins=grpc:\/opt\/gopath\/src \/usr\/include\/google\/protobuf\/timestamp.proto\ngoogle\/protobuf\/timestamp.pb.go: while trying to create directory \/opt\/gopath\/src\/google: Permission denied","ts":"1465996147.000330"},{"type":"message","user":"U1AU8DRQR","text":"this is some permission problem in the VM","ts":"1465996173.000331"},{"type":"message","subtype":"file_share","text":"<@U0TFEHX8E|sheehan> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/sheehan\/F1H4E782J\/pasted_image_at_2016_06_15_09_12_am.png|Pasted image at 2016-06-15, 9:12 AM>","file":{"id":"F1H4E782J","created":1465996334,"timestamp":1465996334,"name":"Pasted image at 2016_06_15 09_12 AM.png","title":"Pasted image at 2016-06-15, 9:12 AM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0TFEHX8E","editable":false,"size":69711,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1H4E782J\/pasted_image_at_2016_06_15_09_12_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1H4E782J\/download\/pasted_image_at_2016_06_15_09_12_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1H4E782J-83ae94dfc0\/pasted_image_at_2016_06_15_09_12_am_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1H4E782J-83ae94dfc0\/pasted_image_at_2016_06_15_09_12_am_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1H4E782J-83ae94dfc0\/pasted_image_at_2016_06_15_09_12_am_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":61,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1H4E782J-83ae94dfc0\/pasted_image_at_2016_06_15_09_12_am_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":81,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1H4E782J-83ae94dfc0\/pasted_image_at_2016_06_15_09_12_am_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1H4E782J-83ae94dfc0\/pasted_image_at_2016_06_15_09_12_am_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":122,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1H4E782J-83ae94dfc0\/pasted_image_at_2016_06_15_09_12_am_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":162,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1H4E782J-83ae94dfc0\/pasted_image_at_2016_06_15_09_12_am_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":173,"image_exif_rotation":1,"original_w":1280,"original_h":216,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/sheehan\/F1H4E782J\/pasted_image_at_2016_06_15_09_12_am.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1H4E782J-9aae1f551f","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0TFEHX8E","upload":true,"display_as_bot":false,"username":"<@U0TFEHX8E|sheehan>","bot_id":null,"ts":"1465996336.000332"},{"type":"message","user":"U0TFEHX8E","text":"do the permissions on your $GOPATH look different?","ts":"1465996347.000333"},{"type":"message","user":"U1AU8DRQR","text":"vagrant@ubuntu-1404:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ ls -l $GOPATH\ntotal 12\ndrwxrwxrwx 2 root root 4096 Jun 15 13:07 bin\ndrwxr-xr-x 3 root root 4096 Jun 15 12:55 pkg\ndrwxr-xr-x 3 root root 4096 Jun 15 12:42 src","ts":"1465996379.000334"},{"type":"message","user":"U1AU8DRQR","text":"root is the owner","ts":"1465996392.000335"},{"type":"message","user":"U0TFEHX8E","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/272996bd90e01f40a47259fc8aa5616b13a4c0af\/devenv\/setup.sh#L99>","edited":{"user":"U0TFEHX8E","ts":"1465996399.000000"},"ts":"1465996395.000336"},{"type":"message","user":"U0TFEHX8E","text":"seems like that line never ran for some reason","ts":"1465996406.000339"},{"type":"message","user":"U1AU8DRQR","text":"isn't that run automatically?","ts":"1465996431.000340"},{"type":"message","user":"U1AU8DRQR","text":"I just called vagrant destroy... vagrant up, vagrant ssh","ts":"1465996443.000341"},{"type":"message","user":"U0TFEHX8E","text":"yeah, wondering if there\u2019s an error during `vagrant up`","ts":"1465996479.000342"},{"type":"message","user":"U1AU8DRQR","text":"I did it manually and now I am able to call make protos","ts":"1465996485.000343"},{"type":"message","user":"U0TFEHX8E","text":"I can try destroy\/up on my system, but I did it recently and it seems to be working.","ts":"1465996524.000344"},{"type":"message","user":"U1AU8DRQR","text":"ooo my fault then... because there were errors at the compilation of peer. but I knew that I made some erroneous changes and this was not surprising for me. I thought it is just the last step that failed","ts":"1465996557.000345"},{"type":"message","user":"U1AU8DRQR","text":"<https:\/\/s3.amazonaws.com\/archive.travis-ci.org\/jobs\/137534843\/log.txt> has anybody ever seen this kind of error?","ts":"1465998104.000346"},{"type":"message","user":"U0KPFAZNF","text":"<@U1AU8DRQR>: <https:\/\/github.com\/hyperledger\/fabric\/issues\/1732>","attachments":[{"service_name":"GitHub","title":"&quot;make protos&quot; should ensure protoc-gen-go prerequisite is met \u00b7 Issue #1732 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/issues\/1732","text":"Description \"make protos\" does not properly depend on the gotools so it is possible that the prerequisite is not met in certain circumstances, resulting in a failed protobuf compilation step. Des...","fallback":"GitHub: \"make protos\" should ensure protoc-gen-go prerequisite is met \u00b7 Issue #1732 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/issues\/1732","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1465998293.000349"},{"type":"message","user":"U0KPFAZNF","text":"note the workaround (run \u201cmake gotools\u201d prior to make protos)","ts":"1465998329.000351"},{"type":"message","user":"U0KPFAZNF","text":"its a trivial fix, so ill get this in asap","ts":"1465998337.000352"},{"type":"message","user":"U1AU8DRQR","text":"is this related to pdbft sieve fault? 8o or you mean my previous problem?","ts":"1465998384.000353"},{"type":"message","user":"U0KPFAZNF","text":"sorry, related to protobuf compilation (im a little behind in reading slack)","ts":"1465998443.000354"},{"type":"message","user":"U0XQ35CDD","text":"do we have a channel that can keep us posted on new Github issues or PRs, like we used to in the previous Slack?","ts":"1466001332.000355"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XQ35CDD>: you probably already know this, but FYI you can subscribe to the github project and then you will get emails at least","ts":"1466001528.000356"},{"type":"message","user":"U0KPFAZNF","text":"thats what I have been doing","ts":"1466001533.000357"},{"type":"message","user":"U0XQ35CDD","text":"I'm a millennial, I don't do emails! (:grin:)","ts":"1466001586.000358","reactions":[{"name":"grin","users":["U11MANG9G"],"count":1}]},{"type":"message","user":"U0XQ35CDD","text":"(sigh, I wish I was millennial) -will do Greg, thanks","edited":{"user":"U0XQ35CDD","ts":"1466001652.000000"},"ts":"1466001595.000359"},{"type":"message","user":"U11MANG9G","text":"<@U0XQ35CDD>: I wish I was a millennial too, FWIW!","ts":"1466002064.000361"},{"type":"message","user":"U1AU8DRQR","text":"does anybody have an idea why pbft sieve test fails? <https:\/\/github.com\/hyperledger\/fabric\/pull\/1719>","attachments":[{"service_name":"GitHub","title":"Do not store failed invoke transactions into the ledger by tamasblummer \u00b7 Pull Request #1719 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1719","text":"Do not store invoke transaction that fails to execute into the ledger Description Chain code will likely implement checks of a transaction. A transaction that does not pass the checks without err...","fallback":"GitHub: Do not store failed invoke transactions into the ledger by tamasblummer \u00b7 Pull Request #1719 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/4289351?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1719","thumb_width":234,"thumb_height":234,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1466002592.000362"},{"type":"message","user":"U1AU8DRQR","text":"it is frustrating as I made no changes to that","ts":"1466002617.000364"},{"type":"message","user":"U1AU8DRQR","text":"<https:\/\/github.com\/hyperledger\/fabric\/pull\/1754> the same occurs for this commit, error in sieve test","attachments":[{"service_name":"GitHub","title":"Add transaction rejection events by gabre \u00b7 Pull Request #1754 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1754","text":"This change adds a new type of events: transaction rejection. These events are sent out to listeners in case the corresponding chain code of a transaction exited with error. Description See the s...","fallback":"GitHub: Add transaction rejection events by gabre \u00b7 Pull Request #1754 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/5565153?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1754","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1466006293.000365"},{"type":"message","user":"U1AU8DRQR","text":"pls somebody have a look :S","ts":"1466006321.000367"},{"type":"message","user":"U0TFEHX8E","text":"<@U0XPR4NP4>: <@U0XR6J961> ^^^","ts":"1466006444.000368"},{"type":"message","user":"U0XR6J961","text":"hi","ts":"1466006479.000369"},{"type":"message","user":"U0XR6J961","text":"what's the problem?","ts":"1466006501.000370"},{"type":"message","user":"U0TFEHX8E","text":"pbft sieve test failing for <https:\/\/github.com\/hyperledger\/fabric\/pull\/1719>. Is that test stable?","edited":{"user":"U0TFEHX8E","ts":"1466006611.000000"},"ts":"1466006604.000371"},{"type":"message","user":"U0XR6J961","text":"i can't even see the problem","ts":"1466006671.000374"},{"type":"message","user":"U0XR6J961","text":"do i look at travis or jenkins?","ts":"1466006680.000375"},{"type":"message","user":"U1AU8DRQR","text":"I think it was in travis raw log","ts":"1466006787.000376"},{"type":"message","user":"U1AU8DRQR","text":"<@U0XR6J961>: if you have some time and can look at the problem and maybe find something, please write me pls, thx :slightly_smiling_face: I will be afk for some time","ts":"1466007267.000377"},{"type":"message","user":"U0XR6J961","text":"ok, jenkins must have failed for some other reason","ts":"1466007825.000378"},{"type":"message","user":"U0XR6J961","text":"travis shows it is still running","ts":"1466007864.000379"},{"type":"message","user":"U0XR6J961","text":"generally most tests are unreliable","ts":"1466007896.000380"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: I had restarted <@U1AU8DRQR>\u2019s PRs per his request, sorry","ts":"1466007915.000381"},{"type":"message","user":"U0XR6J961","text":"ah ok","ts":"1466007920.000382"},{"type":"message","user":"U0KPFAZNF","text":"i suspect its just an unreliable result, but we\u2019ll see if it consistently fails","ts":"1466007945.000383"},{"type":"message","user":"U0XR6J961","text":"so, i tried to determine the cause of our poor performance","ts":"1466008449.000384"},{"type":"message","user":"U0XR6J961","text":"and i think i found it","ts":"1466008456.000385"},{"type":"message","user":"U0XR6J961","text":"goroutine scheduling latency","ts":"1466008466.000386"},{"type":"message","user":"U0P2GSA8Z","text":"that doesn't sound good","ts":"1466008504.000387"},{"type":"message","user":"U0XR6J961","text":":slightly_smiling_face:","ts":"1466008840.000388"},{"type":"message","user":"U0XR6J961","text":"we should think about restructuring this project into microservices","ts":"1466008858.000389"},{"type":"message","user":"U0XR6J961","text":"if we had one ledgerservice which does all the database ops","ts":"1466008910.000390"},{"type":"message","user":"U0XR6J961","text":"that would improve performance","ts":"1466008917.000391"},{"type":"message","user":"U0XR6J961","text":"also maybe then think about a different primitive than tcp sockets","ts":"1466008952.000392"},{"type":"message","user":"U0P2GSA8Z","text":"that's quite an undertaking you're talking about","ts":"1466008979.000393"},{"type":"message","user":"U0KPFAZNF","text":"if the microservices would be intended to run on the same box, there are a ton of options that are far better than tcp","ts":"1466009035.000394"},{"type":"message","user":"U0KPFAZNF","text":"i assume the goal is to break up the scheduling domains of the go routines","ts":"1466009049.000395"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1466009358.000396"},{"type":"message","user":"U0ULK2JPP","text":"(apologize for introducing a digression\u2026. ) travis build is failing for PR <https:\/\/github.com\/hyperledger\/fabric\/pull\/1826>\u2026 the failure is while running core\/ledger tests I believe (the log is long and got cut)","attachments":[{"service_name":"GitHub","title":"Remove syscc from genesis#issue1741 by muralisrini \u00b7 Pull Request #1826 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1826","text":"Remove system chaincodes from genesis block and make them completely non-declarative. Description System chaincodes should be treated as part of the fabric with all policies and rules applicable ...","fallback":"GitHub: Remove syscc from genesis#issue1741 by muralisrini \u00b7 Pull Request #1826 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/14361488?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1826","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1466009553.000397"},{"type":"message","user":"U0ULK2JPP","text":"any ideas ?","ts":"1466009567.000399"},{"type":"message","user":"U0KM61BCP","text":"what <@U0XR6J961> said at 12:40 et +100000000000000000","ts":"1466022184.000400"},{"type":"message","user":"U0KM61BCP","text":"no seriously, who writes monolith anymore... that said best to decompose a monolith than to start with microservices","ts":"1466022269.000401"},{"type":"message","user":"U0KM61BCP","text":"as to <@U0KPFAZNF> point on IPC depends on whether we do want all in one process or separate independently managed containers","ts":"1466022331.000402"},{"type":"message","user":"U0ULK2JPP","text":"<@U0XR6J961> microservices introduce separation of concerns and looser coupling between components. Typically they increase latency overall and not decrease it\u2026. but maybe I\u2019m missing something. Also curious about  gorouting scheduler latency ? how do you figure that ?","edited":{"user":"U0ULK2JPP","ts":"1466023226.000000"},"ts":"1466023127.000403"},{"type":"message","user":"U0ULK2JPP","text":"having said that, looser coupling between components and not using tcp as a mechanism for IPC, definitely +1","ts":"1466023186.000404"},{"type":"message","user":"U0UGH3X7X","text":"<@U0ULK2JPP>:   see <https:\/\/hyperledgerproject.slack.com\/archives\/performance-benchmark\/p1465922444000007>","attachments":[{"from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/performance-benchmark\/p1465922444000007","fallback":"[June 14th, 2016 9:40 AM] simon: i can now prove that the poor invoke performance we observe is exactly because of what i hypothesized before:  go routine scheduling issues","author_subname":"simon","ts":"1465922444.000007","channel_id":"C113WK2A1","channel_name":"performance-benchmark","is_msg_unfurl":true,"text":"i can now prove that the poor invoke performance we observe is exactly because of what i hypothesized before:  go routine scheduling issues","author_name":"Simon Schubert","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/simon","author_icon":"https:\/\/secure.gravatar.com\/avatar\/676aeb5acbd353b77e077be1b7bd1a6e.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-48.png","mrkdwn_in":["text"],"id":1,"footer":"Posted in #performance-benchmark"}],"ts":"1466023243.000406"},{"type":"message","user":"U0ULK2JPP","text":"thanks, <@U0UGH3X7X>. will read","ts":"1466023332.000408"},{"type":"message","user":"U0ZJZBJLF","text":"In the peer: we have the chaincode_support.go that sends a transaction to chaincode\/handler.go, and the chaincode\/handler.go sends transactions to the chaincode and receives replies from it, and notifies the chaincode_support.go's goroutine that invoked Execute. \nWhy is that? why doesn't the chaincode_support.go send the transaction itself to the chaincode?  after all- doesn't it effect throughput with all these goroutine channel handshakes?","ts":"1466069041.000409"},{"type":"message","user":"U0XR6J961","text":"no","ts":"1466069757.000410"},{"type":"message","user":"U0XR6J961","text":"goroutines are very fast in communicating via channels","ts":"1466069778.000411"},{"type":"message","user":"U0ZJZBJLF","text":"so it's built this way just because of \"design patterns\"?","ts":"1466069800.000412"},{"type":"message","user":"U0XR6J961","text":"i have no idea","ts":"1466069818.000413"},{"type":"message","user":"U0XR6J961","text":"i wondered the same","ts":"1466069821.000414"},{"type":"message","user":"U0XR6J961","text":"something about the FSM maybe?","ts":"1466069832.000415"},{"type":"message","user":"U0ZJZBJLF","text":"No idea, I was asking just because of [1], if you search for \"2252 ns\/op\" some guy claims there that using channels isn't so fast as just using simply mutexes . \nI'm asking why isn't the threading model using the same Executor goroutine to send the message to the chaincode, and instead (what it does now) is: send a message to some goroutine, wait for the goroutine to send the message back to us. \n\nWas just wondering, that's all...\n[1] <http:\/\/bravenewgeek.com\/go-is-unapologetically-flawed-heres-why-we-use-it\/>","attachments":[{"service_name":"Brave New Geek","title":"Go Is Unapologetically Flawed, Here's Why We Use It","title_link":"http:\/\/bravenewgeek.com\/go-is-unapologetically-flawed-heres-why-we-use-it\/","text":"Go is decidedly polarizing. While many are touting their transition to Go, it has become equally fashionable to criticize\u00a0and mock\u00a0the language. As Bjarne Stroustrup so eloquently put it, \"There ar...","fallback":"Brave New Geek: Go Is Unapologetically Flawed, Here's Why We Use It","thumb_url":"http:\/\/bravenewgeek.com\/wp-content\/uploads\/2015\/05\/static-vs-dynamic-2.png","ts":1432140376,"from_url":"http:\/\/bravenewgeek.com\/go-is-unapologetically-flawed-heres-why-we-use-it\/","thumb_width":817,"thumb_height":456,"id":1}],"ts":"1466070431.000416"},{"type":"message","user":"U0XR6J961","text":"yea it is not as fast","ts":"1466070454.000418"},{"type":"message","user":"U0XR6J961","text":"i don't know why","ts":"1466070493.000419"},{"type":"message","user":"U0XR6J961","text":"all i know is that we need to switch to a microservice multiple process architecture","ts":"1466070519.000420"},{"type":"message","user":"U0XR6J961","text":"if we want to improve performance","ts":"1466070529.000421"},{"type":"message","user":"U0ZJZBJLF","text":"You mean, separating between consenters, and committers and the new architecture doc?","ts":"1466070766.000422"},{"type":"message","user":"U0XR6J961","text":"no","ts":"1466070776.000423"},{"type":"message","user":"U0XR6J961","text":"i mean separating between REST frontend service, consensus service, ledger + chaincode service","ts":"1466070812.000424"},{"type":"message","user":"U0ZJZBJLF","text":"ok","ts":"1466070856.000425"},{"type":"message","user":"U0XR6J961","text":"the reason for that is that our performance right now is limited by the latency between chaincode and chaincode handler","ts":"1466070920.000426"},{"type":"message","user":"U0XR6J961","text":"of course there is some inherent context switch and tcp latency","ts":"1466070942.000427"},{"type":"message","user":"U0XR6J961","text":"but the bigger issue is the goroutine scheduler","ts":"1466070953.000428"},{"type":"message","user":"U0XR6J961","text":"if there are many runnable goroutines, the single chaincode handler goroutine waiting for the next message from the chaincode is very unlikely to be scheduled","ts":"1466070989.000429"},{"type":"message","user":"U0XR6J961","text":"which increases latency significantly","ts":"1466070999.000430"},{"type":"message","user":"U0ZJZBJLF","text":"oh, there is a single one? not a handler per chaincode?","ts":"1466071021.000431"},{"type":"message","user":"U0XR6J961","text":"well it doesn't matter","ts":"1466071031.000432"},{"type":"message","user":"U0XR6J961","text":"you can only invoke one chaincode at a time","ts":"1466071039.000433"},{"type":"message","user":"U1CK6522F","text":"build\/bin\/peer network login jim -p 6avZQLwcUe9b","ts":"1466073333.000434"},{"type":"message","user":"U1CK6522F","text":"how to logout jim?","ts":"1466073347.000435"},{"type":"message","user":"U1CK6522F","text":":grin:","ts":"1466073379.000436"},{"type":"message","user":"U0XR6J961","text":"not, i think","ts":"1466073424.000437"},{"type":"message","user":"U0KM61BCP","text":"kiil -9?","ts":"1466078195.000438"},{"type":"message","user":"U0ZJZBJLF","text":"Anyone here familiar with the code of the ledger bucket tree ?","edited":{"user":"U0ZJZBJLF","ts":"1466078221.000000"},"ts":"1466078198.000439"},{"type":"message","user":"U0TFEHX8E","text":"<@U0XR6J961>: have you investigated LockOSThread <https:\/\/golang.org\/pkg\/runtime\/#LockOSThread> as a possible way to give priority to the chaincode handler goroutine?","ts":"1466080329.000441"},{"type":"message","user":"U0TFEHX8E","text":"<@U0ZJZBJLF>: for the ledger bucket tree, <@U0Z541B3P> is the expert","ts":"1466080397.000442"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0TFEHX8E>:  thanks! I opened an issue (1865) of a peer crash because of state transfer and I'd also like to patch it, but I'm not familiar with the code (and it's not really documented).","ts":"1466081309.000443"},{"type":"message","user":"U0TFEHX8E","text":"<@U0ZJZBJLF>: There\u2019s high level documentation at <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/protocol-spec.md> in section 3.2.2.1.1 if you haven\u2019t seen it already","edited":{"user":"U0TFEHX8E","ts":"1466081703.000000"},"ts":"1466081697.000444","reactions":[{"name":"+1","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U0Z541B3P","text":"<@U0ZJZBJLF>: I just looked at issue 1865.","ts":"1466081781.000447"},{"type":"message","user":"U0Z541B3P","text":"did you change the bucket tree configurations in core.yaml after inserting a few transactions?","ts":"1466081792.000448"},{"type":"message","user":"U0ZJZBJLF","text":"I didn't touch it, why?","ts":"1466081805.000449"},{"type":"message","user":"U0ZJZBJLF","text":"all nodes are spawned from the same yaml file, which is the core.yaml that you get when cloning the latest build","ts":"1466081843.000450"},{"type":"message","user":"U0Z541B3P","text":"OK, changing configuration could have been one of the potential cause of this error. SO, just wanted to rule that out","ts":"1466081914.000451"},{"type":"message","user":"U0ZJZBJLF","text":"sure","ts":"1466081925.000452"},{"type":"message","user":"U0ZJZBJLF","text":"By the way- why does the system behave this way: I run 5000 transactions and get HTTP 200 for all of them, but after that, the chain size is still increasing (verifying with GET). Isn't it supposed to by synchronous and serial (meaning- the REST handler returns 200 only when the block has been written to the FS) ?","edited":{"user":"U0ZJZBJLF","ts":"1466082318.000000"},"ts":"1466082253.000453"},{"type":"message","user":"U0Z541B3P","text":"No, its asynch. HTTP 200 is only for the acceptance of your transaction.","ts":"1466082865.000456"},{"type":"message","user":"U0ZJZBJLF","text":"But the REST handler returns *after* the consensus handler accepted that transaction, right?","ts":"1466083068.000457"},{"type":"message","user":"U0XR6J961","text":"<@U0TFEHX8E>: i have not.  will do right now","ts":"1466084439.000458"},{"type":"message","user":"U0XR6J961","text":"<@U0TFEHX8E>: doesn't seem to help","ts":"1466085628.000459"},{"type":"message","user":"U0XR6J961","text":"oddly enough","ts":"1466085635.000460"},{"type":"message","user":"U0TFEHX8E","text":":-1:","ts":"1466085644.000461"},{"type":"message","user":"U0XR6J961","text":":confused:","ts":"1466085651.000462"},{"type":"message","user":"U0TFEHX8E","text":"In Java the thread priority stuff never seemed to work that well. The only real solution was to create a separate process and set the OS process priority. Don\u2019t have as much experience with Go so can\u2019t say","ts":"1466085919.000463"},{"type":"message","user":"U0XR6J961","text":":slightly_smiling_face:","ts":"1466086032.000464"},{"type":"message","user":"U0XR6J961","text":"<https:\/\/github.com\/corecode\/goroutine-latency>","attachments":[{"service_name":"GitHub","title":"corecode\/goroutine-latency","title_link":"https:\/\/github.com\/corecode\/goroutine-latency","text":"Contribute to goroutine-latency development by creating an account on GitHub.","fallback":"GitHub: corecode\/goroutine-latency","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/177979?v=3&s=400","from_url":"https:\/\/github.com\/corecode\/goroutine-latency","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1466086080.000465"},{"type":"message","user":"U0XR6J961","text":"if you want you can give it a spin","ts":"1466086087.000467"},{"user":"U126PEMNH","type":"message","subtype":"channel_leave","text":"<@U126PEMNH|harshal> has left the channel","ts":"1466094195.000468"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0KPFAZNF>: hi Greg, in your demo earlier I saw that when you deployed with the peer command you had a log message about the chaincode being deployed successfully, did I get that right?","ts":"1466095838.000469"},{"type":"message","user":"U0KPFAZNF","text":"<@U0P2GSA8Z>: yes, but note that magic was done for me :wink:","ts":"1466096037.000470"},{"type":"message","user":"U0P2GSA8Z","text":"ah!","ts":"1466096046.000471"},{"type":"message","user":"U0P2GSA8Z","text":"how did you get that??","ts":"1466096052.000472"},{"type":"message","user":"U0P2GSA8Z","text":"I'm looking at <https:\/\/github.com\/hyperledger\/fabric\/issues\/763>","attachments":[{"service_name":"GitHub","title":"Inconsistent log messaging on obc-peer @INFO level when sending deploy command: \u00b7 Issue #763 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/issues\/763","text":"Steps to reproduce: Set logging level in openchain.yaml to peer: info crypto: info status: warning stop: info login: warning vm: warning chain...","fallback":"GitHub: Inconsistent log messaging on obc-peer @INFO level when sending deploy command: \u00b7 Issue #763 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/17179397?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/issues\/763","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1466096091.000473"},{"type":"message","user":"U0P2GSA8Z","text":"and from what I can tell you only get that message if you use the REST api","ts":"1466096106.000475"},{"type":"message","user":"U0P2GSA8Z","text":"and I haven't seen it independently of the logging level","ts":"1466096138.000476"},{"type":"message","user":"U0KPFAZNF","text":"<@U0P2GSA8Z>: in that particular demo, I was using the rest api","ts":"1466096568.000477"},{"type":"message","user":"U0KPFAZNF","text":"under the hood, via a node\/cljs app","ts":"1466096580.000478"},{"type":"message","user":"U0P2GSA8Z","text":"oh!... sneaky :wink:","ts":"1466096591.000479"},{"type":"message","user":"U0P2GSA8Z","text":"ok, that explains, I just wanted to make sure I wasn't missing anything","ts":"1466096614.000480"},{"type":"message","user":"U0P2GSA8Z","text":"the rest_api.go module does a lot more logging that the peer command","ts":"1466096641.000481"},{"type":"message","user":"U0KPFAZNF","text":"the client in question is here: <https:\/\/github.com\/ghaskins\/chaintool\/tree\/master\/examples\/example02\/client\/rest\/cljs>","edited":{"user":"U0KPFAZNF","ts":"1466096679.000000"},"ts":"1466096645.000482"},{"type":"message","user":"U0KPFAZNF","text":"via: <https:\/\/github.com\/ghaskins\/chaintool\/blob\/master\/examples\/example02\/client\/rest\/cljs\/src\/example02\/rpc.cljs#L38>","edited":{"user":"U0KPFAZNF","ts":"1466096682.000000"},"ts":"1466096674.000484"},{"type":"message","user":"U0P2GSA8Z","text":"yes, but somehow I thought you typed something like: .\/peer chaincode deploy -n mycc -c '{\"Function\":\"init\", \"Args\": [\"a\",\"100\", \"b\", \"200\"]}'","ts":"1466096697.000488"},{"type":"message","user":"U0KPFAZNF","text":"sort of, it was just to that client :wink:","ts":"1466096712.000489"},{"type":"message","user":"U0P2GSA8Z","text":"ok, I just missed that","ts":"1466096722.000490"},{"type":"message","user":"U0P2GSA8Z","text":"thakns","ts":"1466096723.000491"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1HJGFCLW\/-.sh|Untitled>","file":{"id":"F1HJGFCLW","created":1466096742,"timestamp":1466096742,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0KPFAZNF","editable":true,"size":125,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1HJGFCLW\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1HJGFCLW\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1HJGFCLW\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1HJGFCLW-2fa0617d06","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1HJGFCLW\/-.sh\/edit","preview":"$ node .\/out\/example02.js -n mycc -c deploy -a '{\"partyA\":{\"entity\":\"a\", \"value\":100}, \"partyB\":{\"entity\":\"b\", \"value\":100}}'","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-def\">$ node<\/span> .\/out\/example02.js <span class=\"cm-attribute\">-n<\/span> mycc <span class=\"cm-attribute\">-c<\/span> deploy <span class=\"cm-attribute\">-a<\/span> <span class=\"cm-string\">'{&quot;partyA&quot;:{&quot;entity&quot;:&quot;a&quot;, &quot;value&quot;:100}, &quot;partyB&quot;:{&quot;entity&quot;:&quot;b&quot;, &quot;value&quot;:100}}'<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":1,"lines_more":0,"preview_is_truncated":null,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1466096742.000492"},{"type":"message","user":"U0P2GSA8Z","text":"I see","ts":"1466096778.000493"},{"type":"message","user":"U0P2GSA8Z","text":"it's similar enough that it fooled me :slightly_smiling_face:","ts":"1466096786.000494"},{"type":"message","user":"U0KPFAZNF","text":"yeah, sorry, heh","ts":"1466096794.000495"},{"type":"message","user":"U0P2GSA8Z","text":"nah, it's ok","ts":"1466096800.000496"},{"type":"message","user":"U0KPFAZNF","text":"my intent was familiarity for comfort with existing example02, not confusion","ts":"1466096813.000497"},{"type":"message","user":"U0KPFAZNF","text":"so I failed","ts":"1466096816.000498"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1HJMN9QQ\/-.sh|Untitled> and commented: Heres the entire command history from the live demo","file":{"id":"F1HJMN9QQ","created":1466096966,"timestamp":1466096966,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0KPFAZNF","editable":true,"size":604,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1HJMN9QQ\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1HJMN9QQ\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1HJMN9QQ\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1HJMN9QQ-38bcd4824e","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1HJMN9QQ\/-.sh\/edit","preview":"   44  node .\/out\/example02.js -n mycc -c deploy -a '{\"partyA\":{\"entity\":\"a\", \"value\":100}, \"partyB\":{\"entity\":\"b\", \"value\":100}}'\r\n   45  node .\/out\/example02.js -n mycc -c check-balance -a '{\"id\":\"a\"}'\r\n   46  node .\/out\/example02.js -n mycc -c check-balance -a '{\"id\":\"b\"}'\r\n   47  node .\/out\/example02.js -n mycc -c make-payment -a '{\"partySrc\":\"a\", \"partyDst\":\"b\", \"amount\":10}'\r\n   48  node .\/out\/example02.js -n mycc -c check-balance -a '{\"id\":\"a\"}'\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>   <span class=\"cm-number\">44<\/span>  <span class=\"cm-builtin\">node<\/span> .\/out\/example02.js <span class=\"cm-attribute\">-n<\/span> mycc <span class=\"cm-attribute\">-c<\/span> deploy <span class=\"cm-attribute\">-a<\/span> <span class=\"cm-string\">'{&quot;partyA&quot;:{&quot;entity&quot;:&quot;a&quot;, &quot;value&quot;:100}, &quot;partyB&quot;:{&quot;entity&quot;:&quot;b&quot;, &quot;value&quot;:100}}'<\/span><\/pre><\/div>\n<div><pre>   <span class=\"cm-number\">45<\/span>  <span class=\"cm-builtin\">node<\/span> .\/out\/example02.js <span class=\"cm-attribute\">-n<\/span> mycc <span class=\"cm-attribute\">-c<\/span> check-balance <span class=\"cm-attribute\">-a<\/span> <span class=\"cm-string\">'{&quot;id&quot;:&quot;a&quot;}'<\/span><\/pre><\/div>\n<div><pre>   <span class=\"cm-number\">46<\/span>  <span class=\"cm-builtin\">node<\/span> .\/out\/example02.js <span class=\"cm-attribute\">-n<\/span> mycc <span class=\"cm-attribute\">-c<\/span> check-balance <span class=\"cm-attribute\">-a<\/span> <span class=\"cm-string\">'{&quot;id&quot;:&quot;b&quot;}'<\/span><\/pre><\/div>\n<div><pre>   <span class=\"cm-number\">47<\/span>  <span class=\"cm-builtin\">node<\/span> .\/out\/example02.js <span class=\"cm-attribute\">-n<\/span> mycc <span class=\"cm-attribute\">-c<\/span> make-payment <span class=\"cm-attribute\">-a<\/span> <span class=\"cm-string\">'{&quot;partySrc&quot;:&quot;a&quot;, &quot;partyDst&quot;:&quot;b&quot;, &quot;amount&quot;:10}'<\/span><\/pre><\/div>\n<div><pre>   <span class=\"cm-number\">48<\/span>  <span class=\"cm-builtin\">node<\/span> .\/out\/example02.js <span class=\"cm-attribute\">-n<\/span> mycc <span class=\"cm-attribute\">-c<\/span> check-balance <span class=\"cm-attribute\">-a<\/span> <span class=\"cm-string\">'{&quot;id&quot;:&quot;a&quot;}'<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":8,"lines_more":3,"preview_is_truncated":null,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc1HHBCSCT","created":1466096966,"timestamp":1466096966,"user":"U0KPFAZNF","is_intro":true,"comment":"Heres the entire command history from the live demo","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1466096966.000499"},{"type":"message","user":"U0P2GSA8Z","text":"no worries, I don't blame you","ts":"1466097636.000500"},{"type":"message","user":"U0P2GSA8Z","text":"it doesn't help that we have that freaking long shell prompt","ts":"1466097702.000501"},{"type":"message","user":"U0KPFAZNF","text":"heh, thats partially my fault","ts":"1466097733.000502"},{"type":"message","user":"U0KPFAZNF","text":"I did \u201cexport PS1=\u2018$ \u2018\u201c for the demo just for that reason","ts":"1466097751.000503"},{"type":"message","user":"U0KPFAZNF","text":"otherwise, I was typing the commands over on the right, heh","edited":{"user":"U0KPFAZNF","ts":"1466097777.000000"},"ts":"1466097769.000504"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0KPFAZNF> one more question: when I do make peer it does a whole bunch of things - like creating docker images and whatnot - which I don't need when all I do is making a small change in the go code to try out (like adding a print for tracing!) - is there a make target I can use to just rebuild the go? something more like what I would get when doing go build the old way?","ts":"1466098613.000506"},{"type":"message","user":"U0KPFAZNF","text":"<@U0P2GSA8Z>: I know it looks superfluous, but what you are seeing is twofold: 1) the system now does a fairly precise job of detecting what artifacts had their files change, and 2) we front-load the chaincode environments into the build rather than at runtime","ts":"1466101774.000507"},{"type":"message","user":"U0KPFAZNF","text":"that said, I had to then turn off part of the front loading in (2) because some of the platform\/golang wasnt ready for it","ts":"1466101815.000508"},{"type":"message","user":"U0KPFAZNF","text":"so, an argument could be made to turn that off until its ready (though platform\/car does use it), but eventually I think thats closer to the model we need","ts":"1466101853.000509"},{"type":"message","user":"U0KPFAZNF","text":"are you finding it really slow to build?  for me it was only a few seconds more","ts":"1466101865.000510"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0KPFAZNF>: sorry, I had to work on something else for a while. I don't know how much more time this takes but it is definitely taking some significant amount of time.","ts":"1466108405.000511"},{"type":"message","user":"U0KPFAZNF","text":"<@U0P2GSA8Z>: ok, some will be unavoidable but it can probably be improved upon from where it is now","ts":"1466108486.000512"},{"type":"message","user":"U0P2GSA8Z","text":"I'm investigating the code, trying different things and every time I change one line in a go file it rebuilds all the docker stuff","ts":"1466108510.000513"},{"type":"message","user":"U0KPFAZNF","text":"its tough to balance between \u201calways do the right thing\u201d and \u201clet expert user decide whats right\"","ts":"1466108523.000514"},{"type":"message","user":"U0P2GSA8Z","text":"I understand","ts":"1466108538.000515"},{"type":"message","user":"U0KPFAZNF","text":"yes, that was the intent as the system needs the src in the docker container to run, so if you change the src, it will rebuild the docker","ts":"1466108567.000516"},{"type":"message","user":"U0P2GSA8Z","text":"but if we could have some intermediary target that we could use and not advertize to the average user that would be nice","ts":"1466108570.000517"},{"type":"message","user":"U0KPFAZNF","text":"yeah, we should be able to come up with something","ts":"1466108582.000518"},{"type":"message","user":"U0P2GSA8Z","text":"that's what I wanted to hear! :wink:","ts":"1466108609.000519"},{"type":"message","user":"U0KPFAZNF","text":"longer term, i think it will be alleviated because we wont need the fabric.git src to build the chaincodes","ts":"1466108762.000520"},{"type":"message","user":"U0KPFAZNF","text":"but in the interim, we can find some kind of workaround so thats not as annoying","ts":"1466108782.000521"},{"type":"message","user":"U0P2GSA8Z","text":"yes","ts":"1466108815.000522"},{"type":"message","user":"U0KPFAZNF","text":"<@U0TFEHX8E>: <@U0KN2SSKE> please give consideration to #1834\u2026.it probably should be expedited IMO","ts":"1466108883.000523"},{"type":"message","user":"U0TFEHX8E","text":"will take a look now","ts":"1466108941.000524","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0TFEHX8E","text":"done. was quick as I already reviewed a couple before. was just waiting for go-ahead from Ry","ts":"1466109101.000525"},{"type":"message","user":"U0P2GSA8Z","text":"well, if you have a moment you could look at <https:\/\/github.com\/hyperledger\/fabric\/issues\/763> :slightly_smiling_face:","attachments":[{"service_name":"GitHub","title":"Inconsistent log messaging on obc-peer @INFO level when sending deploy command: \u00b7 Issue #763 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/issues\/763","text":"Steps to reproduce: Set logging level in openchain.yaml to peer: info crypto: info status: warning stop: info login: warning vm: warning chain...","fallback":"GitHub: Inconsistent log messaging on obc-peer @INFO level when sending deploy command: \u00b7 Issue #763 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/17179397?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/issues\/763","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1466110091.000526"},{"type":"message","user":"U0KM61BCP","text":"<@U0P2GSA8Z> can't you use go-watch <https:\/\/www.npmjs.com\/package\/go-watch>","attachments":[{"service_name":"npm","title":"go-watch","title_link":"https:\/\/www.npmjs.com\/package\/go-watch","text":"Simple file watcher for golang (go) programs","fallback":"npm: go-watch","thumb_url":"https:\/\/www.npmjs.com\/static\/images\/touch-icons\/open-graph.png","from_url":"https:\/\/www.npmjs.com\/package\/go-watch","thumb_width":1200,"thumb_height":630,"service_icon":"https:\/\/www.npmjs.com\/static\/images\/touch-icons\/apple-touch-icon-57x57.png","id":1}],"ts":"1466118174.000528"},{"type":"message","user":"U0P2GSA8Z","text":"I'm not sure that addresses my problem","ts":"1466118311.000530"},{"type":"message","user":"U0P2GSA8Z","text":"from what I understand this just triggers make automatically","ts":"1466118323.000531"},{"type":"message","user":"U0P2GSA8Z","text":"it doesn't make make faster","ts":"1466118335.000532"},{"type":"message","user":"U0N94UUA0","text":"is support for writing chaincode in JS available now or can chaincode only be written in golang ?","ts":"1466123211.000533"},{"type":"message","user":"U0ULK2JPP","text":"<@U0N94UUA0> only in golang for now although work in progress for Java chaincode","ts":"1466124157.000534"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KM61BCP> <@U0KN2SSKE>  <@U0KPFAZNF> <@U0TFEHX8E> recent PR Travis failures due to port collision \u2026. I believe is due to ephemeral port choice (such as 41414). I\u2019m going to push a PR to move listening ports of my testcases to less than 30000.  The change will affect only the test cases and should be safe.","edited":{"user":"U0ULK2JPP","ts":"1466124381.000000"},"ts":"1466124363.000535"},{"type":"message","user":"U0KPFAZNF","text":"Roger, will look for it","ts":"1466124400.000537"},{"type":"message","user":"U0ULK2JPP","text":"can I have your OK please ?","ts":"1466124406.000538"},{"type":"message","user":"U0ULK2JPP","text":"great. thanks <@U0KPFAZNF>","ts":"1466124413.000539"},{"type":"message","user":"U0ULK2JPP","text":"I should have thought of this before\u2026 my apologies","ts":"1466124428.000540"},{"type":"message","user":"U0KM61BCP","text":"<@U0P2GSA8Z>: you could have it just go build rather than make","ts":"1466124744.000541"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> this is a good point.  Go build even takes advantage of pkg caching if it already exists","ts":"1466124822.000542"},{"type":"message","user":"U0P2GSA8Z","text":"Well that's what I do :)","ts":"1466125415.000543"},{"type":"message","user":"U0P2GSA8Z","text":"But I wanted to play along and use make! ","ts":"1466125458.000544"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KPFAZNF>: created PR <https:\/\/github.com\/hyperledger\/fabric\/pull\/1885>","attachments":[{"service_name":"GitHub","title":"dont use high range ephemeral ports by muralisrini \u00b7 Pull Request #1885 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1885","text":"Description Tests were failing with port conflicts likely due to high ephemeral port selection. Motivation and Context Choosing lower order ports will lessen\/avoid port conflicts. Fixes #1884 ...","fallback":"GitHub: dont use high range ephemeral ports by muralisrini \u00b7 Pull Request #1885 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/14361488?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1885","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1466127045.000545"},{"type":"message","user":"U0ULK2JPP","text":"thanks!","ts":"1466127052.000547"},{"type":"message","user":"U0KPFAZNF","text":"seems reasonable\u2026will wait for CI pass to complete","ts":"1466127122.000548"},{"type":"message","user":"U0ULK2JPP","text":"sure","ts":"1466127127.000549"},{"type":"message","user":"U11MANG9G","text":"<@U0PB67X4K>, <@U0KN2SSKE>, <@U0TFEHX8E>, <@U0KM61BCP>: just a quick one to gauge the appetite for merging 1799 ?","ts":"1466127517.000550"},{"type":"message","user":"U11MANG9G","text":"<https:\/\/github.com\/hyperledger\/fabric\/pull\/1799>","attachments":[{"service_name":"GitHub","title":"Complete TCerts are no longer stored by TCA. by diaperwedger \u00b7 Pull Request #1799 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1799","text":"Relevant TCert data is stored in TCertificateSets table and TCerts are not being stored in Certificates table anymore Description TCertificateSets table is used to store relevant data (user enrol...","fallback":"GitHub: Complete TCerts are no longer stored by TCA. by diaperwedger \u00b7 Pull Request #1799 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/19418256?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1799","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1466127527.000551"},{"type":"message","user":"U0N94UUA0","text":"<@U0ULK2JPP> Thanks !","ts":"1466129384.000553"},{"type":"message","user":"U0KN2SSKE","text":"<@U11MANG9G>: i merged 1799;  just 1 comment for next time that a pr should contain only what it says. This one contains many other unrelated commits, but I let it go","ts":"1466136162.000554"},{"type":"message","user":"U11MANG9G","text":"Thank you <@U0KN2SSKE> - will make sure that the message will get through...","ts":"1466136294.000555"},{"type":"message","user":"U11MANG9G","text":"+ another thanks for approving this so close to the weekend !","ts":"1466136348.000558"},{"type":"message","user":"U12452RAP","text":"latest master seems have compile error","ts":"1466141160.000559"},{"type":"message","user":"U12452RAP","text":"<https:\/\/github.com\/hyperledger\/fabric\/pull\/1888>","attachments":[{"service_name":"GitHub","title":"[#1887]Fix incorrect package name by GrapeBaBa \u00b7 Pull Request #1888 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1888","text":"Description Fix incorrect package name. Motivation and Context Fixes #1887 How Has This Been Tested? unit test passed Checklist: I have added a Signed-off-by Either no new documen...","fallback":"GitHub: [#1887]Fix incorrect package name by GrapeBaBa \u00b7 Pull Request #1888 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars0.githubusercontent.com\/u\/3657859?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1888","thumb_width":212,"thumb_height":212,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1466146987.000560"},{"type":"message","user":"U0XR6J961","text":"master build is broken","ts":"1466162046.000562"},{"user":"U1HSEPL9M","type":"message","subtype":"channel_join","text":"<@U1HSEPL9M|santhoshr> has joined the channel","ts":"1466164830.000563"},{"type":"message","user":"U0XR6J961","text":"can everybody build master?","ts":"1466170308.000564"},{"type":"message","user":"U0XR6J961","text":"i get a build failure in tca.go","ts":"1466170317.000565"},{"type":"message","user":"U0XR6J961","text":"had to do this:\n```\nmodified   membersrvc\/ca\/tca.go\n@@ -41,7 +41,7 @@ import (\n \t\"<http:\/\/golang.org\/x\/net\/context|golang.org\/x\/net\/context>\"\n \t\"<http:\/\/google.golang.org\/grpc|google.golang.org\/grpc>\"\n \n-\t\"google\/protobuf\"\n+\tprotobuf \"google\/protobuf\"\n )\n \n var (\n@@ -305,7 +305,7 @@ func (tcap *TCAP) requestAttributes(id string, ecert []byte, attrs []*pb.TCertAt\n \t}\n \n \treq := &amp;pb.ACAAttrReq{\n-\t\tTs:         &amp;google_protobuf.Timestamp{Seconds: time.Now().Unix(), Nanos: 0},\n+\t\tTs:         &amp;protobuf.Timestamp{Seconds: time.Now().Unix(), Nanos: 0},\n \t\tId:         &amp;pb.Identity{Id: id},\n \t\tECert:      &amp;pb.Cert{Cert: ecert},\n \t\tAttributes: attrNames,\n```","edited":{"user":"U0XR6J961","ts":"1466170344.000000"},"ts":"1466170338.000566"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: ill try it in a second, but that strikes me as a potential protobuf environment type thign","ts":"1466170376.000568"},{"type":"message","user":"U0KPFAZNF","text":"are you still running outside vagrant?","ts":"1466170382.000569"},{"type":"message","user":"U0XR6J961","text":"i am","ts":"1466170385.000570"},{"type":"message","user":"U0KPFAZNF","text":"my guess is that is related","ts":"1466170390.000571"},{"type":"message","user":"U0KPFAZNF","text":"but let me try to build HEAD","ts":"1466170395.000572"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: running a build now\u2026in the meantime, can you describe your environment in terms of OS\/protobufs","ts":"1466170570.000573"},{"type":"message","user":"U0KPFAZNF","text":"e.g. Ubuntu 14.04?  protobuf 3.0.0-beta3?","ts":"1466170587.000574"},{"type":"message","user":"U0XR6J961","text":"well, the protobuf is vendored","ts":"1466170604.000575"},{"type":"message","user":"U0KPFAZNF","text":"not fully","ts":"1466170610.000576"},{"type":"message","user":"U0KPFAZNF","text":"protoc is an external package, it might influence some of it","ts":"1466170629.000577"},{"type":"message","user":"U0KPFAZNF","text":"I just pulled HEAD and ran \u201cmake clean peer\u201d, it ran fine","edited":{"user":"U0KPFAZNF","ts":"1466170769.000000"},"ts":"1466170748.000578"},{"type":"message","user":"U0KPFAZNF","text":"is that the wrong target?","ts":"1466170755.000579"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1466170775.000581"},{"type":"message","user":"U0XR6J961","text":"membersvc","ts":"1466170777.000582"},{"type":"message","user":"U0KPFAZNF","text":"gotcha, let me try that","ts":"1466170783.000583"},{"type":"message","user":"U0KPFAZNF","text":"also ran fine","ts":"1466170802.000584"},{"type":"message","user":"U0XR6J961","text":"how, why?","ts":"1466170843.000585"},{"type":"message","user":"U0XR6J961","text":"tca.go uses both protobuf and google_protobuf packages","ts":"1466170905.000586"},{"type":"message","user":"U0XR6J961","text":"but it doesn't import them properly","ts":"1466170913.000587"},{"type":"message","user":"U0KPFAZNF","text":"the relationship between the go protobuf stuff and the external protobuf installation is a little murky to me, but one thing I do know is I think the Timestamp scalar is a bit unusual in that it seems to be defined in a extesion package (timestamp.proto)","ts":"1466170921.000588"},{"type":"message","user":"U0KPFAZNF","text":"so, my guess is you somehow have a timestamp.proto in your environment that is different from what the normalized environment is expecting","ts":"1466170955.000589"},{"type":"message","user":"U0KPFAZNF","text":"that is just a guess though","ts":"1466170958.000590"},{"type":"message","user":"U0KPFAZNF","text":"what line is that snippet on?","ts":"1466171000.000591"},{"type":"message","user":"U0KPFAZNF","text":"i can see what mine looks like","ts":"1466171006.000592"},{"type":"message","user":"U0KPFAZNF","text":"nevermind, i see the context when I scroll further","ts":"1466171025.000593"},{"type":"message","user":"U0KPFAZNF","text":"the logic in question was added as part of commit 780f001d","ts":"1466171116.000594"},{"type":"message","user":"U0KPFAZNF","text":"with a date of 5-24-16, though sometimes git lies about that so let me confirm","ts":"1466171142.000595"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric\/commit\/780f001dac3af01b63d06fa210b4c2bb6011edbe#diff-cc585122046277fef0a777d5e97d53ed>","attachments":[{"service_name":"GitHub","title":"Added membership services changes to ABAC feature. \u00b7 hyperledger\/fabric@780f001 \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/commit\/780f001dac3af01b63d06fa210b4c2bb6011edbe#diff-cc585122046277fef0a777d5e97d53ed","text":"Splitted abac code in membership services. Fixed unit test 'TestClientGetAttributesFromTCert' in crypo_test.go. Removed validity_period_test.go because is decrecated, the new validity_period_test...","fallback":"GitHub: Added membership services changes to ABAC feature. \u00b7 hyperledger\/fabric@780f001","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/1229370?v=3&s=200","from_url":"https:\/\/github.com\/hyperledger\/fabric\/commit\/780f001dac3af01b63d06fa210b4c2bb6011edbe#diff-cc585122046277fef0a777d5e97d53ed","thumb_width":200,"thumb_height":200,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1466171231.000596"},{"type":"message","user":"U0XR6J961","text":"<https:\/\/github.com\/hyperledger\/fabric\/commit\/3df38fee924102621413e5bb9cef34de68462316#diff-cc585122046277fef0a777d5e97d53edL35>","attachments":[{"service_name":"GitHub","title":"Complete TCerts are no longer stored by TCA. (#1799) \u00b7 hyperledger\/fabric@3df38fe \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/commit\/3df38fee924102621413e5bb9cef34de68462316#diff-cc585122046277fef0a777d5e97d53edL35","text":"* Added test resources: ecert and private key * ECert for test users test_user0, test_user1 and test_user2 along with their corresponding private keys * Modified tca_test * Loading private...","fallback":"GitHub: Complete TCerts are no longer stored by TCA. (#1799) \u00b7 hyperledger\/fabric@3df38fe","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/19418256?v=3&s=200","from_url":"https:\/\/github.com\/hyperledger\/fabric\/commit\/3df38fee924102621413e5bb9cef34de68462316#diff-cc585122046277fef0a777d5e97d53edL35","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1466171273.000598"},{"type":"message","user":"U0KPFAZNF","text":"It does seem to build fine for me, as well as not breaking CI, so I suspect you have some kind of issue with your protobuf install","ts":"1466171274.000600"},{"type":"message","user":"U0XR6J961","text":"something is fishy","ts":"1466171313.000601"},{"type":"message","user":"U0XR6J961","text":"it should all come from vendored code, no?","ts":"1466171321.000602"},{"type":"message","user":"U0KPFAZNF","text":"no, see above","ts":"1466171327.000603"},{"type":"message","user":"U0KPFAZNF","text":"err, i should say \u201cI dont know, its complicated\u201d heh","ts":"1466171356.000604"},{"type":"message","user":"U0KPFAZNF","text":"theres protoc\/libprotobuf.so type stuff that is out of the go\/vendoring domain","ts":"1466171380.000605"},{"type":"message","user":"U0KPFAZNF","text":"I think timestamp.proto comes as part of that (though I am not sure either)","ts":"1466171390.000606"},{"type":"message","user":"U0KPFAZNF","text":"just speculating based on the fact that I have seen timestamp.proto in other contexts, vagrant works, and yours doesnt","ts":"1466171419.000607"},{"type":"message","user":"U0KN2SSKE","text":"<@U0XR6J961>: fixed in #1888 \u2014  pull the master again","ts":"1466171425.000608"},{"type":"message","user":"U0XR6J961","text":"binhn: ah, ok","ts":"1466171434.000609"},{"type":"message","user":"U0KPFAZNF","text":"or, theres that possibility, heh","ts":"1466171448.000610"},{"type":"message","user":"U0XR6J961","text":"ha!","ts":"1466171453.000611"},{"type":"message","user":"U0XR6J961","text":"i thought i was going crazy :slightly_smiling_face:","ts":"1466171460.000612"},{"type":"message","user":"U0KN2SSKE","text":"something wrong when i merged 1799 last night that I haven\u2019t chased down","ts":"1466171461.000613"},{"type":"message","user":"U0KN2SSKE","text":"1799 passed CI but introduced build problems (protobuf) in the master","ts":"1466171515.000614"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: what sha are you on right now?","ts":"1466171522.000615"},{"type":"message","user":"U0KPFAZNF","text":"now im curious what the diff was","ts":"1466171538.000616"},{"type":"message","user":"U0XR6J961","text":"now i pulled","ts":"1466171569.000617"},{"type":"message","user":"U0KPFAZNF","text":"ah, oh well","ts":"1466171579.000618"},{"type":"message","user":"U0XR6J961","text":"master changed between me finding the issue and east coast waking up :slightly_smiling_face:","ts":"1466171594.000619"},{"type":"message","user":"U0KPFAZNF","text":"now thats fast turnaround","ts":"1466171900.000620"},{"type":"message","user":"U0KPFAZNF","text":"precog bug fixing","ts":"1466171904.000621"},{"type":"message","user":"U0KPFAZNF","text":"\u201cAnomalous behavior predicted and repaired, Dave.  Please pull master\"","ts":"1466171995.000622"},{"type":"message","user":"U11MANG9G","text":"Good morning (from the West Coast)!","ts":"1466172220.000623"},{"type":"message","user":"U11MANG9G","text":"<@U0XR6J961>: Yeah, I can say that same thing from here","ts":"1466172241.000624"},{"type":"message","user":"U11MANG9G","text":"BTW: feel free to @ JonathanLevi (tag) me... so that I get notified (after hours)","ts":"1466172268.000625"},{"type":"message","user":"U11MANG9G","text":"Having a quick look.","ts":"1466172289.000626"},{"type":"message","user":"U11MANG9G","text":"<@U0KPFAZNF>, <@U0XR6J961>, <@U0KN2SSKE>: OK, I see the problem.","ts":"1466172556.000627"},{"type":"message","user":"U11MANG9G","text":"Indeed, all the PR tests pass.","ts":"1466172569.000628"},{"type":"message","user":"U11MANG9G","text":"<https:\/\/travis-ci.org\/hyperledger\/fabric\/builds\/137927073>","ts":"1466172571.000629"},{"type":"message","user":"U0KPFAZNF","text":"<@U11MANG9G>: im confused, IIUC the bug is already fixed","ts":"1466172583.000630"},{"type":"message","user":"U11MANG9G","text":"Yes, I know. But I want to look at WHY it happened :wink:","ts":"1466172607.000631"},{"type":"message","user":"U11MANG9G","text":"(as in, how come the build for the PR was Green, but after auto-merging, master started failing)","ts":"1466172630.000632"},{"type":"message","user":"U11MANG9G","text":"Binhn did merge a 'passing\/Green' PR","ts":"1466172645.000633"},{"type":"message","user":"U0KPFAZNF","text":"Ah, gotcha","ts":"1466172674.000634"},{"type":"message","user":"U0KPFAZNF","text":"one plausible scenario we can have today with the CI model is, a) submit PR, passes CI, b) some other PR gets merged to master, c) (a) gets merged and conflicts with (b)","ts":"1466172789.000635"},{"type":"message","user":"U0KPFAZNF","text":"what would be awesome is if we could have some intelligence to detect that outstanding PR builds need to respin every time master is updated","ts":"1466172820.000636"},{"type":"message","user":"U11MANG9G","text":"Yeah, as this grows, I'd appreciate a `staging` branch!","ts":"1466172822.000637"},{"type":"message","user":"U11MANG9G","text":"<@U0KM61BCP>: But I don't want to volunteer for this one... because it's probably a lot of work :wink:","ts":"1466172855.000638"},{"type":"message","user":"U11MANG9G","text":"So that issues\/PRs can merge only after a day\/week in staging...","ts":"1466172899.000639"},{"type":"message","user":"U0XR6J961","text":"why staging?","ts":"1466172904.000640"},{"type":"message","user":"U11MANG9G","text":"We can discuss it at some point.","ts":"1466172911.000641"},{"type":"message","user":"U0XR6J961","text":"way too much work","ts":"1466172920.000642"},{"type":"message","user":"U11MANG9G","text":"(sorry, we wrote at the same time)","ts":"1466172924.000643"},{"type":"message","user":"U0XR6J961","text":"we already only have 2-3 committers","ts":"1466172929.000644"},{"type":"message","user":"U11MANG9G","text":"Way too much work, I agree.","ts":"1466172933.000645"},{"type":"message","user":"U0XR6J961","text":"you'd double the work and the opportunity for conflicts","ts":"1466172946.000646"},{"type":"message","user":"U11MANG9G","text":"\"jonathanlevi: 7:13 AM Yeah, as this grows, I'd appreciate a staging branch!\"","ts":"1466173038.000649"},{"type":"message","user":"U11MANG9G","text":"<@U0XR6J961>: Yeah, not saying we are there yet.","edited":{"user":"U11MANG9G","ts":"1466173055.000000"},"ts":"1466173045.000650"},{"type":"message","user":"U11MANG9G","text":"Code-wise, I think I know what happened though.","ts":"1466173074.000652"},{"type":"message","user":"U11MANG9G","text":"Looking at the code, we have conflicting import aliases... and the (unit) test\/compilation order made\/makes a difference.","ts":"1466173137.000653"},{"type":"message","user":"U11MANG9G","text":"First of all, <@U12452RAP>: thanks for the quick fix.","ts":"1466173154.000654"},{"type":"message","user":"U11MANG9G","text":"Second, I'll suggest a fix in my next PR.","ts":"1466173172.000655"},{"type":"message","user":"U11MANG9G","text":"(I know that master is fine now, but just to prevent it from re-occurring in the future)","ts":"1466173202.000656"},{"type":"message","user":"U0XR6J961","text":"but why did CI pass?","ts":"1466173266.000657"},{"type":"message","user":"U11MANG9G","text":"You mean, with the PR ?","ts":"1466173381.000658"},{"type":"message","user":"U11MANG9G","text":"Pass as in the CI build of the PR, or of `master` ?","ts":"1466173403.000659"},{"type":"message","user":"U0XR6J961","text":"isn't that the same?","ts":"1466173508.000660"},{"type":"message","user":"U11MANG9G","text":"Sorry. I'm lost :slightly_smiling_face:. Here's the problem that I'm looking at:\n\n1. PR 1799's build is Green\n2. `master` pre-merge of PR 1799 is Green\n3. Merge PR 1799 into master: compilation error","ts":"1466173595.000661"},{"type":"message","user":"U11MANG9G","text":"---\nSo,\n1. Confirmed:  <https:\/\/travis-ci.org\/hyperledger\/fabric\/builds\/137927073>","edited":{"user":"U11MANG9G","ts":"1466173647.000000"},"ts":"1466173609.000662"},{"type":"message","user":"U11MANG9G","text":"All the PR tests were Green.","ts":"1466173617.000663"},{"type":"message","user":"U0KM61BCP","text":"typically, we would have jenkins be the final arbiter on a merge with master... 2 +2 in gerrit from committers drives a final build and if that passes it is merged or else reverts to rebase and try again","ts":"1466173686.000665"},{"type":"message","user":"U0KM61BCP","text":"<@U11MANG9G>: <@U0KPFAZNF> <@U0TFEHX8E> <@U0KN2SSKE> <@U0MT4CBHB> <@U0UHG4VP1> <@U1BC5NF2S> ^^","ts":"1466173729.000666"},{"type":"message","user":"U0KM61BCP","text":"<@U11HH3P7Y>: ^^","ts":"1466173774.000667"},{"user":"U1BC5NF2S","inviter":"U0KM61BCP","type":"message","subtype":"channel_join","text":"<@U1BC5NF2S|bramwelt> has joined the channel","ts":"1466173781.000668"},{"user":"U0UHG4VP1","inviter":"U0KM61BCP","type":"message","subtype":"channel_join","text":"<@U0UHG4VP1|ry> has joined the channel","ts":"1466173781.000669"},{"type":"message","user":"U11MANG9G","text":"That way `master` will always build, and we can auto-reject ANY failing process.","ts":"1466173781.000670"},{"type":"message","user":"U0KM61BCP","text":"yes","ts":"1466173790.000671"},{"type":"message","user":"U0KM61BCP","text":"bbl","ts":"1466173807.000672"},{"type":"message","user":"U0XR6J961","text":"well merged...","ts":"1466173809.000673"},{"type":"message","user":"U0XR6J961","text":"it should be merged, and then it should test","ts":"1466173826.000674"},{"type":"message","user":"U0XR6J961","text":"and then master can be updated","ts":"1466173834.000675"},{"type":"message","user":"U0XR6J961","text":"you need to test the merged version, not the unmerged branch","ts":"1466173859.000676"},{"type":"message","user":"U11MANG9G","text":"In `staging`, yes.","ts":"1466173878.000677"},{"type":"message","user":"U0XR6J961","text":"why staging?","ts":"1466173888.000678"},{"type":"message","user":"U11MANG9G","text":"(btw: I don't know if this is how you guys want to refer to it)","ts":"1466173891.000679"},{"type":"message","user":"U11MANG9G","text":"It's one extra step before master.","ts":"1466173902.000680"},{"type":"message","user":"U0XR6J961","text":"but why?","ts":"1466173908.000681"},{"type":"message","user":"U11MANG9G","text":"<@U0XR6J961>: \"Why= why do I suggest to have a branch that we merge to before going straight to master\" ?","ts":"1466173987.000682"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1466173994.000683"},{"type":"message","user":"U11MANG9G","text":"Because then: 1) nobody can break master","ts":"1466174054.000684"},{"type":"message","user":"U11MANG9G","text":"2) merging becomes a very linear process","ts":"1466174073.000685"},{"type":"message","user":"U11MANG9G","text":"3) reverting is immediate","ts":"1466174082.000686"},{"type":"message","user":"U11MANG9G","text":"4) we won't have the issue we had last weekend when we continued to look at Red PRs, and it took time to figure out who's fault it is, etc.","ts":"1466174114.000687"},{"type":"message","user":"U11MANG9G","text":"5) all conflicts will be resolved on that branch","ts":"1466174135.000688"},{"type":"message","user":"U0XR6J961","text":"now you just shifted the problem to the staging branch","ts":"1466174168.000689"},{"type":"message","user":"U0XR6J961","text":"i don't see how another branch will change anything","ts":"1466174214.000690"},{"type":"message","user":"U0XR6J961","text":"everybody will have to develop on staging then","ts":"1466174223.000691"},{"type":"message","user":"U0XR6J961","text":"or conflicts will be even worse","ts":"1466174238.000693"},{"type":"message","user":"U11MANG9G","text":"Well, it depends on the staging time","ts":"1466174257.000694"},{"type":"message","user":"U0XR6J961","text":"wouldn't it be easier to run CI on the proposed merge commit?","ts":"1466174261.000695"},{"type":"message","user":"U11MANG9G","text":"It can be immediate (e.g., per PR)","ts":"1466174297.000696"},{"type":"message","user":"U11MANG9G","text":"So we can either have staging, where we wait to see what's happening before even submitting a PR","ts":"1466174322.000697"},{"type":"message","user":"U11MANG9G","text":"Or we can have a process where we merge first, then submit the PR for review.","ts":"1466174339.000698"},{"type":"message","user":"U0XR6J961","text":"that doesn't work, because that will only work for one PR","ts":"1466174405.000699"},{"type":"message","user":"U11MANG9G","text":"Which one?","ts":"1466174414.000700"},{"type":"message","user":"U0XR6J961","text":"the first","ts":"1466174418.000701"},{"type":"message","user":"U0KN2SSKE","text":"<@U11MANG9G>: isn\u2019t that what <@U0KM61BCP> said about Jenkins process: merge with master then build rather than just building the PR branch.  That would prevent what happened last night with 1799","ts":"1466174423.000702"},{"type":"message","user":"U0XR6J961","text":"all other PRs then will require a new merge","ts":"1466174427.000703"},{"type":"message","user":"U11MANG9G","text":"<@U0KN2SSKE>: yes.","ts":"1466174437.000704"},{"type":"message","user":"U11MANG9G","text":"That's my understanding.","ts":"1466174453.000705"},{"type":"message","user":"U0KN2SSKE","text":"i know folks are working on getting Jenkins integrated but not there yet","ts":"1466174496.000706"},{"type":"message","user":"U11MANG9G","text":"<@U0KN2SSKE>: Sounds good. <@U0XR6J961>, I would like to continue the discussion about a `staging` branch, separately.","ts":"1466174549.000707"},{"type":"message","user":"U11MANG9G","text":"I probably don't explain myself well. I do think that you will like it (I should start with requirements first, of course, as in tackling the; `Jon, why even bother doing that!?` ;-)","ts":"1466174626.000708"},{"type":"message","user":"U11MANG9G","text":"---","ts":"1466174629.000709"},{"type":"message","user":"U11MANG9G","text":"OK, back to the code. Why is `tca.go` using a package (alias) that it's not importing directly in the first place?! :wink:","edited":{"user":"U11MANG9G","ts":"1466175244.000000"},"ts":"1466174764.000710"},{"type":"message","user":"U11MANG9G","text":"Here's the culprit (I betcha  not going to like it!)\nOur good ol'  `tca.go` was\/is using an import (alias) that is actually defined in a (unit) test file!","ts":"1466174855.000711"},{"type":"message","user":"U11MANG9G","text":"After merge (in master) the order seems to have changed.","ts":"1466174928.000713"},{"type":"message","user":"U0KPFAZNF","text":"<@U0TFEHX8E>: 1882 clear to go in from your perspective?","ts":"1466176152.000715"},{"type":"message","user":"U0KPFAZNF","text":"Its passing CI, so I think the answer is \u201cyes\u201d but just wanted to check","ts":"1466176170.000716"},{"type":"message","user":"U0TFEHX8E","text":"yes","ts":"1466176179.000717"},{"type":"message","user":"U0KPFAZNF","text":"10-4","ts":"1466176184.000718"},{"type":"message","user":"U0TFEHX8E","text":"thanks","ts":"1466176186.000719"},{"type":"message","user":"U0KPFAZNF","text":"done, and thanks","ts":"1466176197.000720"},{"type":"message","user":"U0KPFAZNF","text":"this will help a lot","ts":"1466176201.000721"},{"type":"message","user":"U0KPFAZNF","text":"does that conclude the current effort to automate the linters, or are there more queued up?","ts":"1466176228.000722"},{"type":"message","user":"U0TFEHX8E","text":"that\u2019s it for now. I don\u2019t plan to include `golint` due to the false positives we discussed","ts":"1466176304.000723"},{"type":"message","user":"U0P2GSA8Z","text":"hi there","ts":"1466189027.000724"},{"type":"message","user":"U0P2GSA8Z","text":"I found out that we have 40 different loggers in our code, is that really reasonable\/desirable?","ts":"1466189060.000725"},{"type":"message","user":"U0P2GSA8Z","text":"you can get the list with a simple git grep MustGetLogger *go","ts":"1466189154.000726"},{"type":"message","user":"U0P2GSA8Z","text":"is it standards practice for go development to have a different logger for every package?","ts":"1466189225.000727"},{"type":"message","user":"U0KPFAZNF","text":"<@U0P2GSA8Z>: this is my first major golang project, so I can\u2019t comment on what is idiomatic in golang per se, but I can say I\u2019ve seen plenty of other environments where that is common practice","ts":"1466189731.000728"},{"type":"message","user":"U0KPFAZNF","text":"it allows you to have fairly fine grained control on logging levels in the places where ive seen that","ts":"1466189751.000729"},{"type":"message","user":"U0P2GSA8Z","text":"that's true","ts":"1466189811.000730"},{"type":"message","user":"U0P2GSA8Z","text":"except that getting them set to the level you want isn't so easy","ts":"1466189833.000731"},{"type":"message","user":"U0KPFAZNF","text":"well, thats a different matter, heh","ts":"1466189843.000732"},{"type":"message","user":"U0P2GSA8Z","text":"I found that you can set any of them through the use of the --logging-level Bishop developed","ts":"1466189859.000733"},{"type":"message","user":"U0KPFAZNF","text":"honestly its not always about the granularity of the control as it is with the granularity of the output context","ts":"1466189867.000734"},{"type":"message","user":"U0P2GSA8Z","text":"but most of them aren't settable via yaml","ts":"1466189873.000735"},{"type":"message","user":"U0P2GSA8Z","text":"yes, I agree","ts":"1466189899.000736"},{"type":"message","user":"U0KPFAZNF","text":"for instance, if you only had a top level object, you might be explicitly adding context at each callsite Log(\u201cfoo\/bar\/baz: Error opening file\u201d) as opposed to bazlogger.Error(\u201copen failure\u201d):","edited":{"user":"U0KPFAZNF","ts":"1466190019.000000"},"ts":"1466189995.000737"},{"type":"message","user":"U0P2GSA8Z","text":"well, the logger standard format gives some of that as they display the name of the logger","ts":"1466190069.000739"},{"type":"message","user":"U0KPFAZNF","text":"yeah, i dont know much about it in this case","ts":"1466190108.000740"},{"type":"message","user":"U0P2GSA8Z","text":"as in 16:36:47.078 [main] serve -&gt; INFO 004 Disable loading validity system chaincode","ts":"1466190114.000741"},{"type":"message","user":"U0KPFAZNF","text":"just doesnt strike me as overtly bad","ts":"1466190119.000742"},{"type":"message","user":"U0P2GSA8Z","text":"the name in [] is the name of the logger","ts":"1466190126.000743"},{"type":"message","user":"U0P2GSA8Z","text":"and from there you can find the package it corresponds to","ts":"1466190138.000744"},{"type":"message","user":"U0P2GSA8Z","text":"if you want to change the level you'd have to do --logging-level=\"main=DEBUG\" for instance","ts":"1466190190.000745"},{"type":"message","user":"U0P2GSA8Z","text":"for some of them you can also set it in the yaml file","ts":"1466190260.000746"},{"type":"message","user":"U0P2GSA8Z","text":"nowhere that I saw this is documented though","ts":"1466190294.000747"},{"type":"message","user":"U0P2GSA8Z","text":"to be more precise, there is some documentation of this but even the doc recognizes its limit when it states that:An arbitrary number of logging modules can be created at runtime, therefore there is no \"master list\" of modules, and logging control constructs can not check whether logging modules actually do or will exist.","ts":"1466202173.000750"},{"type":"message","user":"U0P2GSA8Z","text":"we've got to do better than that","ts":"1466202187.000751"},{"type":"message","user":"U0KN2SSKE","text":"@tuan <@U0XPR4NP4> <@U11HTMW0H>  CI failed on #1877","ts":"1466206032.000752"},{"type":"message","user":"U0XPR4NP4","text":"I'll take a look ","ts":"1466206066.000753"},{"type":"message","user":"U0XPR4NP4","text":"On my phone, apparently can't see Travis status without logging in, but will address it when I  get back to my laptop ","ts":"1466206350.000754"},{"type":"message","user":"U11HH3P7Y","text":"Please refer issue#1907","ts":"1466207256.000755"},{"type":"message","user":"U0KN2SSKE","text":"i am trying pr 1877  locally since i don\u2019t understand why db failed","ts":"1466214051.000756"},{"type":"message","user":"U0KN2SSKE","text":"got same error posted in issue 1907","ts":"1466215497.000757"},{"type":"message","user":"U11MANG9G","text":"Have a good weekend fabric-dev!","ts":"1466217137.000758"},{"type":"message","user":"U0KN2SSKE","text":"<@U11HTMW0H>: <@U0XPR4NP4>:  I merged pr 1877. Thanks Jason.","ts":"1466254724.000759","reactions":[{"name":"+1","users":["U0XPR4NP4"],"count":1}]},{"user":"U1J5DE65D","type":"message","subtype":"channel_join","text":"<@U1J5DE65D|basav> has joined the channel","ts":"1466263046.000760"},{"type":"message","user":"U1AU8DRQR","text":"<https:\/\/github.com\/hyperledger\/fabric\/pull\/1754> I have a strange error here:  Error opening DB IO error: lock \/var\/hyperledger\/test\/ledger_test\/db\/LOCK: Resource temporarily unavailable \nIsn't this a Jenkins\/environment problem? Can somebody take a look?","attachments":[{"service_name":"GitHub","title":"Add transaction rejection events by gabre \u00b7 Pull Request #1754 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1754","text":"This change adds a new type of events: transaction rejection. These events are sent out to listeners in case the corresponding chain code of a transaction exited with error. Description See the s...","fallback":"GitHub: Add transaction rejection events by gabre \u00b7 Pull Request #1754 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/5565153?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1754","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1466411679.000765"},{"type":"message","user":"U0UHG4VP1","text":"<@U1AU8DRQR>: this is an ongoing issue, I\u2019m not sure who is working on it","ts":"1466412199.000767"},{"type":"message","user":"U1AU8DRQR","text":"<@U0UHG4VP1>: thanks","ts":"1466412442.000768"},{"type":"message","subtype":"file_share","text":"<@U1CK6522F|zuowang> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/zuowang\/F1JAWEW1H\/_____________20160617150935.png|\u5fae\u4fe1\u622a\u56fe_20160617150935.png> and commented: I am taking a look at chaincode example asset_management.go. It uses the same TCert all the time. Then I found a way in protocol-spec.md to address this problem. But is it implemented now in fabric? I didn't find api access to TCert from client side, how can I construct a transaction like that?","file":{"id":"F1JAWEW1H","created":1466415036,"timestamp":1466415036,"name":"\u5fae\u4fe1\u622a\u56fe_20160617150935.png","title":"\u5fae\u4fe1\u622a\u56fe_20160617150935.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U1CK6522F","editable":false,"size":283653,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1JAWEW1H\/_____________20160617150935.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1JAWEW1H\/download\/_____________20160617150935.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1JAWEW1H-0bd64165a9\/_____________20160617150935_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1JAWEW1H-0bd64165a9\/_____________20160617150935_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1JAWEW1H-0bd64165a9\/_____________20160617150935_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":272,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1JAWEW1H-0bd64165a9\/_____________20160617150935_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":362,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1JAWEW1H-0bd64165a9\/_____________20160617150935_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1JAWEW1H-0bd64165a9\/_____________20160617150935_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":543,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1JAWEW1H-0bd64165a9\/_____________20160617150935_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":724,"image_exif_rotation":1,"original_w":1014,"original_h":765,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/zuowang\/F1JAWEW1H\/_____________20160617150935.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1JAWEW1H-12324eb85f","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":2,"initial_comment":{"id":"Fc1JAWF3MZ","created":1466415036,"timestamp":1466415036,"user":"U1CK6522F","is_intro":true,"comment":"I am taking a look at chaincode example asset_management.go. It uses the same TCert all the time. Then I found a way in protocol-spec.md to address this problem. But is it implemented now in fabric? I didn't find api access to TCert from client side, how can I construct a transaction like that?","channel":""}},"user":"U1CK6522F","upload":true,"display_as_bot":false,"username":"<@U1CK6522F|zuowang>","bot_id":null,"ts":"1466415038.000769"},{"type":"message","user":"U1CK6522F","text":"reflect.DeepEqual takes as high as 8.3% of total cpu time and it's in a critical path(in the call path to commit reqs, which is linear(anyone tell me why?)). I believe the throughput would be much better if we can do it more efficiently.\nconsensus\/obcpbft\/obc-batch.go:211\n\t\t\/\/ TODO, this is a really and inefficient way to do this, but because reqs aren't comparable, they cannot be retrieved from the map directly\n\t\tfor oreq := range op.outstandingReqs {\n\t\t\tif reflect.DeepEqual(oreq, req) {\n\t\t\t\tdelete(op.outstandingReqs, oreq)\n\t\t\t\tbreak\n\t\t\t}\n\t\t}","ts":"1466415681.000770","reactions":[{"name":"+1","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U0XR6J961","text":"zuowang: you are right","ts":"1466416054.000771"},{"type":"message","user":"U0XR6J961","text":"i'll work on a fix","ts":"1466416067.000772"},{"type":"message","user":"U0ZJZBJLF","text":"I see that the block of code above isn't there anymore, but the \/\/ TODO is still present:\n<https:\/\/github.com\/hyperledger\/fabric\/commit\/35326c25f99b038286a58330fdef87d23fe5f473?diff=unified#diff-189f6ddf1228ef2e673a70a711ff57b5R209>","attachments":[{"service_name":"GitHub","title":"Merge pull request #1877 from jyellick\/keep-state-if-can-execute \u00b7 hyperledger\/fabric@35326c2 \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/commit\/35326c25f99b038286a58330fdef87d23fe5f473?diff=unified#diff-189f6ddf1228ef2e673a70a711ff57b5R209","text":"Stabilize PBFT under stress with periodic viewchange","fallback":"GitHub: Merge pull request #1877 from jyellick\/keep-state-if-can-execute \u00b7 hyperledger\/fabric@35326c2","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/3342057?v=3&s=200","from_url":"https:\/\/github.com\/hyperledger\/fabric\/commit\/35326c25f99b038286a58330fdef87d23fe5f473?diff=unified#diff-189f6ddf1228ef2e673a70a711ff57b5R209","thumb_width":200,"thumb_height":200,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"edited":{"user":"U0ZJZBJLF","ts":"1466421712.000000"},"ts":"1466421699.000773"},{"user":"U1JBVRNQ3","type":"message","subtype":"channel_join","text":"<@U1JBVRNQ3|virajkamat> has joined the channel","ts":"1466424268.000776"},{"type":"message","user":"U0ZJZBJLF","text":"Hey, I'm running a test with PBFT-batch in which I deploy a CC (example 2 from github):\n```\n    \"ctorMsg\": {\n        \"function\":\"init\",\n        \"args\":[\"a\", \"5000\", \"b\", \"0\"]\n    }\n```\nwith invoke: \n````\n      \"ctorMsg\": {\n         \"function\":\"invoke\",\n         \"args\":[\"a\", \"b\",\"1\"]\n      }\n```\nSo after 5000 invocations, all A has to get to B, but when I do a query I get: ``` Query Response:{\"Name\":\"a\",\"Amount\":\"3902\"} ``` constantly, which means - it doesn't really work. \nWhen I re-run, sometimes it gets to 0, but sometimes it gets stuck.... Is there any known of issue of things like that?","edited":{"user":"U0ZJZBJLF","ts":"1466428481.000000"},"ts":"1466428462.000777"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF>: are you confirming each invoke or otherwise implementing flow control?","ts":"1466428590.000779"},{"type":"message","user":"U0XR6J961","text":"you need to run in closed loop","ts":"1466428610.000780"},{"type":"message","user":"U0KPFAZNF","text":"agree with <@U0XR6J961>","ts":"1466428621.000781"},{"type":"message","user":"U0XR6J961","text":"most likely most of your invokes are being discarded because you overload the system","ts":"1466428638.000782"},{"type":"message","user":"U0ZJZBJLF","text":"yeah, if some invocation returns a non 200 return code I don't continue sending. I've also never seen such a case in which the invocation returned a non 200 code","ts":"1466428641.000783"},{"type":"message","user":"U0XR6J961","text":"nono","ts":"1466428646.000784"},{"type":"message","user":"U0ZJZBJLF","text":"oh I see","ts":"1466428656.000785"},{"type":"message","user":"U0XR6J961","text":"the 200 is just about the request being accepted initially","ts":"1466428661.000786"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF>: return code isn\u2019t enough as the system is async\u2026you have to wait for confirmation technically...","ts":"1466428683.000787"},{"type":"message","user":"U0XR6J961","text":"i implemented that long ago - i think we need to really do this","ts":"1466428703.000788"},{"type":"message","user":"U0KPFAZNF","text":"one problem right now (that is being actively worked on) is ascertaining status of a txn isnt as easy as it needs to be","ts":"1466428708.000789"},{"type":"message","user":"U0XR6J961","text":"people get confused","ts":"1466428709.000790"},{"type":"message","user":"U0ZJZBJLF","text":"when do we drop requests?","ts":"1466428711.000791"},{"type":"message","user":"U0ZJZBJLF","text":"In the code I've never seen such a thing that \"drop this request if we're overloaded\"","ts":"1466428723.000792"},{"type":"message","user":"U0XR6J961","text":"well we shouldn't drop requests","ts":"1466428726.000793"},{"type":"message","user":"U0XR6J961","text":"and that is a problem","ts":"1466428734.000794"},{"type":"message","user":"U0ZJZBJLF","text":"but where do we do that?","ts":"1466428735.000795"},{"type":"message","user":"U0ZJZBJLF","text":"the request gets into the consensus and into that events.go shared channel","ts":"1466428755.000796"},{"type":"message","user":"U0XR6J961","text":"because if we don't drop them, they are stored somewhere in memory","ts":"1466428757.000797"},{"type":"message","user":"U0ZJZBJLF","text":"of course","ts":"1466428777.000798"},{"type":"message","user":"U0ZJZBJLF","text":"but, I thought that dropping requests isn't implemented","ts":"1466428787.000799"},{"type":"message","user":"U0ZJZBJLF","text":"is it implemented? if yes- where, if you can spare the time to say","ts":"1466428801.000800"},{"type":"message","user":"U0XR6J961","text":"we drop messages","ts":"1466428811.000801"},{"type":"message","user":"U0XR6J961","text":"but we should be retrying requests","ts":"1466428818.000802"},{"type":"message","user":"U0ZJZBJLF","text":"you drop messages... where? how?","ts":"1466428836.000803"},{"type":"message","user":"U0ZJZBJLF","text":"(code wise)","ts":"1466428841.000804"},{"type":"message","user":"U0XR6J961","text":"messages are dropped in broadcaster","ts":"1466428851.000805"},{"type":"message","user":"U0XR6J961","text":"or are they","ts":"1466428886.000806"},{"type":"message","user":"U0XR6J961","text":"hmm","ts":"1466428888.000807"},{"type":"message","user":"U0XR6J961","text":"i think what we really need is statistics on all these things","ts":"1466428917.000808"},{"type":"message","user":"U0ZJZBJLF","text":"can you say where in the code?","ts":"1466428919.000809"},{"type":"message","user":"U0XR6J961","text":"dropped (if we can tell), and queued requests","ts":"1466428939.000810"},{"type":"message","user":"U0XR6J961","text":"hm maybe we don't drop?","ts":"1466428969.000811"},{"type":"message","user":"U0XR6J961","text":"yea i think we don't","ts":"1466428984.000812"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: if we don\u2019t, we need to","ts":"1466428985.000813"},{"type":"message","user":"U0XR6J961","text":"i wrestled with channels","ts":"1466429005.000814"},{"type":"message","user":"U0XR6J961","text":"and had problems testing it","ts":"1466429011.000815"},{"type":"message","user":"U0KPFAZNF","text":"it could simply be that his observation of incomplete status is at least partially because the queue hasnt completed","ts":"1466429013.000816"},{"type":"message","user":"U0XR6J961","text":"so i rewrote it","ts":"1466429014.000817"},{"type":"message","user":"U0XR6J961","text":"and i think now we don't drop unless grpc fails","ts":"1466429026.000818"},{"type":"message","user":"U0KPFAZNF","text":"(and\/or stalled)","ts":"1466429032.000819"},{"type":"message","user":"U0ZJZBJLF","text":":neutral_face: If we don't drop, then where do they disappear to?","ts":"1466429032.000820"},{"type":"message","user":"U0XR6J961","text":"yacovm: i don't know","ts":"1466429040.000821"},{"type":"message","user":"U0XR6J961","text":"yacovm: i think now is the time to add statistics","ts":"1466429060.000822"},{"type":"message","user":"U0KPFAZNF","text":"sounds like a potential bug\u2026though that said, blind submission without confirmation is just asking for trouble","ts":"1466429080.000823"},{"type":"message","user":"U0XR6J961","text":"ghaskins: what do you think, how should we do statistics?","ts":"1466429086.000824"},{"type":"message","user":"U0XR6J961","text":"have a goroutine process that triggers updates?","ts":"1466429101.000825"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0KPFAZNF>:  - how do I submit non-blindly?","ts":"1466429103.000826"},{"type":"message","user":"U0XR6J961","text":"or do we register pointers to integers and serve those directly","ts":"1466429123.000827"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: the way I usually do it is to optimize the fast path","ts":"1466429128.000828"},{"type":"message","user":"U0KPFAZNF","text":"yeah, thats what I would recommend","ts":"1466429145.000829"},{"type":"message","user":"U0KPFAZNF","text":"let the fast path have direct access, query path can be indirect","ts":"1466429158.000830"},{"type":"message","user":"U0KPFAZNF","text":"it often means aggregation isnt wholly accurate\/syncrhonized, but who cares","ts":"1466429172.000831"},{"type":"message","user":"U0KPFAZNF","text":"(I should\u2019t say \u201cwho cares\u201d, but what I mean is, the trade off is worth it","ts":"1466429192.000832"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1466429207.000833"},{"type":"message","user":"U0KPFAZNF","text":"often times you are just looking for general velocity","ts":"1466429230.000834"},{"type":"message","user":"U0XR6J961","text":"i shall do this after benchmarking this requeststore thing","ts":"1466429232.000835","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0XR6J961","text":"would you also do derivatives?","ts":"1466429246.000836"},{"type":"message","user":"U0KPFAZNF","text":"not sure what you mean","ts":"1466429258.000837"},{"type":"message","user":"U0XR6J961","text":"well, requests\/sec","ts":"1466429264.000838"},{"type":"message","user":"U0XR6J961","text":"instead of total numbers","ts":"1466429267.000839"},{"type":"message","user":"U0KPFAZNF","text":"oh, yes I typically include those but often times its better to do them in the client","ts":"1466429293.000840"},{"type":"message","user":"U0KPFAZNF","text":"stats client, i mean","ts":"1466429300.000841"},{"type":"message","user":"U0ZJZBJLF","text":"soooo... ummm back to my question, what would you suggest me to do, in order to have 0 \"dropped\"\/\"disappeared\" messages? increase the time between concurrent invocations and hope for the best?","ts":"1466429313.000842"},{"type":"message","user":"U0XR6J961","text":"i wonder whether there are telemetry libs","ts":"1466429341.000843"},{"type":"message","user":"U0XR6J961","text":"that we can use","ts":"1466429343.000844"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF>: for the long term solution, what you should do is hook into the event channel for confirmation, and implement a sliding window so you are never more than N outstanding","ts":"1466429345.000845"},{"type":"message","user":"U0XR6J961","text":"yacovm: wait until there is an event for the transaction","ts":"1466429360.000846"},{"type":"message","user":"U0XR6J961","text":"yea that's what i did","ts":"1466429366.000847"},{"type":"message","user":"U0ZJZBJLF","text":"I thought the event channel isn't implemented yet?","ts":"1466429367.000848"},{"type":"message","user":"U0KPFAZNF","text":"for the short term, the event channel isnt fully baked so you\u2019ll have to fake flow control","ts":"1466429369.000849"},{"type":"message","user":"U0ZJZBJLF","text":"yeah I get you","ts":"1466429392.000850"},{"type":"message","user":"U0KPFAZNF","text":"you can do that in various ways, the cheesiest\/quickest is to just artificially slow things down","ts":"1466429404.000851"},{"type":"message","user":"U0XR6J961","text":"<https:\/\/github.com\/corecode\/fabric\/commit\/f4c01cef3e1514ada057b291dfc8a6de1da39163>","ts":"1466429420.000852"},{"type":"message","user":"U0ZJZBJLF","text":"why haven't you merged it, if it was done long ago?","ts":"1466429720.000853"},{"type":"message","user":"U0XR6J961","text":"it's a bad hack :slightly_smiling_face:","ts":"1466429798.000854"},{"type":"message","user":"U0ZJZBJLF","text":"well, I put a 500 millis delay between 2 consequent requests, and it's stuck on 3813 now. I don't think it was because of too many requests queued.","ts":"1466430279.000855"},{"type":"message","user":"U0N1D1UAE","text":"<@U0ZJZBJLF> Look in the peer logs, you may find ERRO messages about the peers dropping transactions because the queues are  full","ts":"1466430362.000856"},{"type":"message","user":"U0XR6J961","text":"yacovm: if the network seems stuck, submit a single request and capture the logs","ts":"1466430425.000857"},{"type":"message","user":"U0N1D1UAE","text":"PBFT Batch is not fully functional yet either, see issue #1857","ts":"1466430451.000858"},{"type":"message","user":"U0KPFAZNF","text":"Yeah, first thing to figure out is, does it miss some transactions but catch others (flakey) or stop completely (stall)","ts":"1466430502.000859"},{"type":"message","user":"U0XR6J961","text":"i thought all bugs were fixed?","ts":"1466430503.000860"},{"type":"message","user":"U0ZJZBJLF","text":"no such errors in the logs, and the network isn't stuck... it can't be, it's on the same node","ts":"1466430515.000861"},{"type":"message","user":"U0N1D1UAE","text":"<@U0XR6J961> Not yet","ts":"1466430528.000862"},{"type":"message","user":"U0XR6J961","text":"that seems like a state transfer issue","ts":"1466430535.000863"},{"type":"message","user":"U0KPFAZNF","text":"By \"stuck\" we mean is it still processing some transactions or stalled completely","ts":"1466430552.000864"},{"type":"message","user":"U0UGH3X7X","text":"<@U0N1D1UAE>:  have you looked at <@U0XPR4NP4> 's PR #1877 ?","ts":"1466430609.000865"},{"type":"message","user":"U0ZJZBJLF","text":"ok ok my bad about after adding the 500 millis timeout thing, I had an auto-suicide timer in the script after enough time, forgot to turn it off after I significantly raised the total running time :cold_sweat:","ts":"1466430681.000866"},{"type":"message","user":"U0XR6J961","text":"hehe","ts":"1466430715.000867"},{"type":"message","user":"U0N1D1UAE","text":"<@U0UGH3X7X> Jason is aware of issue #1857 and never suggested to me that #1877 would fix it, but I can try it later today","ts":"1466430785.000868"},{"type":"message","user":"U0XPR4NP4","text":"<@U0N1D1UAE>: 1877 should actually fix 1857, however, I found a different bug which is currently causing problems for busywork, (1917), if you find that buswork times out without successfully deploying, I can give you a workaround","ts":"1466430888.000869"},{"type":"message","user":"U0XR6J961","text":"what's the cause for that?","ts":"1466430939.000870"},{"type":"message","user":"U0XR6J961","text":"the view change lock?","ts":"1466430945.000871"},{"type":"message","user":"U0XPR4NP4","text":"Right","ts":"1466430954.000872"},{"type":"message","user":"U0XPR4NP4","text":"(<@U0N1D1UAE> I referenced 1857 in 1877 as fixed, I can also post it to the issue next time if you'd prefer)","ts":"1466430984.000873"},{"type":"message","user":"U0N1D1UAE","text":"Please - that way I\u2019m sure to get an email when the issue is fixed","ts":"1466431141.000874"},{"type":"message","user":"U0XPR4NP4","text":"Sure thing, sorry for the confusion","ts":"1466431175.000875"},{"type":"message","user":"U0XR6J961","text":"ghaskins: what's the policy of using other libraries?","ts":"1466431177.000876"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: first off: \u201cI dont know\u201d :wink:  Second, can you provide more context?","ts":"1466431210.000877"},{"type":"message","user":"U0KPFAZNF","text":"are you talking about golang packages, etc?","ts":"1466431218.000878"},{"type":"message","user":"U0P2GSA8Z","text":"hi all, no fabric call today?","ts":"1466431250.000879"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1466431253.000880"},{"type":"message","user":"U0KPFAZNF","text":"policy wise, I am not sure\u2026technically, I know we use govendor generally as the primary mechanism","ts":"1466431262.000881"},{"type":"message","user":"U0P2GSA8Z","text":"ah, I got the invite","ts":"1466431282.000882"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: personally, I am a big fan of reusing quality libraries, so I welcome it with the caveat that IANAL","ts":"1466431424.000883"},{"type":"message","user":"U0XR6J961","text":"ok","ts":"1466431518.000884"},{"type":"message","user":"U0XR6J961","text":"<https:\/\/github.com\/corecode\/fabric\/tree\/telemetry> a start","attachments":[{"service_name":"GitHub","title":"corecode\/fabric","title_link":"https:\/\/github.com\/corecode\/fabric\/tree\/telemetry","text":"Blockchain fabric code","fallback":"GitHub: corecode\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/177979?v=3&s=400","from_url":"https:\/\/github.com\/corecode\/fabric\/tree\/telemetry","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1466440873.000885"},{"type":"message","user":"U0MSG4RL7","text":"<@U0XR6J961>: re: telemetry code - have you considered using a statsd client inside fabric, and then running a (local) statsd server (which can be any statd implementation)? statsd then supports multiple backends to which you can pour the metrics.","ts":"1466457865.000887"},{"type":"message","user":"U0KN2SSKE","text":"Announcing Hyperledger Fabric release v0.5-developer-preview \n<https:\/\/github.com\/hyperledger\/fabric\/wiki\/Fabric-Releases>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/wiki\/Fabric-Releases","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/wiki\/Fabric-Releases","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1466460982.000888"},{"type":"message","user":"U0N1D1UAE","text":"<@U0XPR4NP4> Yes, please provide the workaround you mentioned above for #1917","ts":"1466462687.000890"},{"type":"message","user":"U0N1D1UAE","text":"I\u2019ve tried adding sleeps between network deployment and starting the tests with mixed success.","edited":{"user":"U0N1D1UAE","ts":"1466462775.000000"},"ts":"1466462766.000891"},{"type":"message","user":"U0XPR4NP4","text":"<@U0N1D1UAE> You can use PR 1927 or increase the wait time after starting the peers before issuing the first request ","ts":"1466468096.000893"},{"type":"message","user":"U0XPR4NP4","text":"You may see duplicated requests, that is a side effect of the latest broadcasting changes, fix in progress for tomorrow ","ts":"1466468226.000894"},{"type":"message","user":"U1AU8DRQR","text":"hi all","ts":"1466494511.000895"},{"type":"message","user":"U1AU8DRQR","text":"<https:\/\/github.com\/hyperledger\/fabric\/pull\/1722>\n<https:\/\/github.com\/hyperledger\/fabric\/pull\/1719>\ncan somebody check those? :slightly_smiling_face: there are some issues that need to be solved and I would need some other opinion :slightly_smiling_face:","attachments":[{"service_name":"GitHub","title":"Add noop system chain code.  by tamasblummer \u00b7 Pull Request #1722 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1722","text":"Add noop system chain code Description Noop system chain code simply stores invoke transactions without validation. This chaincode is useful for testing. The noop system chaincode is prepared to ...","fallback":"GitHub: Add noop system chain code.  by tamasblummer \u00b7 Pull Request #1722 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/4289351?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1722","thumb_width":234,"thumb_height":234,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1},{"service_name":"GitHub","title":"Do not store failed invoke transactions into the ledger by tamasblummer \u00b7 Pull Request #1719 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1719","text":"Do not store invoke transaction that fails to execute into the ledger Description Chain code will likely implement checks of a transaction. A transaction that does not pass the checks without err...","fallback":"GitHub: Do not store failed invoke transactions into the ledger by tamasblummer \u00b7 Pull Request #1719 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/4289351?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1719","thumb_width":234,"thumb_height":234,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":2}],"ts":"1466494548.000896"},{"user":"U1EE1TRQE","type":"message","subtype":"channel_join","text":"<@U1EE1TRQE|nashikkarh> has joined the channel","ts":"1466498641.000898"},{"user":"U1GLPP8QN","type":"message","subtype":"channel_join","text":"<@U1GLPP8QN|deeflorian> has joined the channel","ts":"1466508925.000899"},{"type":"message","user":"U0XR6J961","text":"```ESC[36m13:38:25.102 [chaincode] Launch -&gt; DEBU 4e3ESC[0m launchAndWaitForRegister failed Error starting container: Post <http:\/\/172.17.0.1:2375\/containers\/create?name=dev-vp1-a5389f7dfb9efae379900a41db1503fea2199fe400272b61ac5fe7bd0c6b97cf10ce3aa8dd00cd7626ce02f18accc7e5f2059dae6eb0786838042958352b89fb>: dial tcp 172.17.0.1:2375: i\/o timeout```","edited":{"user":"U0XR6J961","ts":"1466516483.000000"},"ts":"1466516465.000900"},{"type":"message","user":"U0XR6J961","text":"what's going on there?","ts":"1466516500.000903"},{"type":"message","user":"U0XR6J961","text":"seems my docker doesn't react?","ts":"1466516512.000904"},{"type":"message","user":"U0XR6J961","text":"weird","ts":"1466516515.000905"},{"type":"message","user":"U0ULK2JPP","text":"<@U0XR6J961>, from the message, seems to come from the docker client \u2026 unable to work with the docker daemon for some reason ?","ts":"1466517096.000906"},{"type":"message","user":"U0XR6J961","text":"something about firewall i guess?","ts":"1466517117.000907"},{"type":"message","user":"U0ULK2JPP","text":"that would fit I suppose","ts":"1466517157.000908"},{"type":"message","user":"U0ULK2JPP","text":"perhaps a GET with  \"curl <http:\/\/172.17.0.1:2375\/containers\/>\u2026.\" ?","ts":"1466517199.000909"},{"type":"message","user":"U0YNFB22X","text":"I get these errors when running behave tests","ts":"1466522531.000910"},{"type":"message","subtype":"file_share","text":"<@U0YNFB22X|satheesh> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/satheesh\/F1JRB64GK\/behave_test_error.txt|behave test error>","file":{"id":"F1JRB64GK","created":1466522548,"timestamp":1466522548,"name":"behave_test_error.txt","title":"behave test error","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0YNFB22X","editable":true,"size":861,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1JRB64GK\/behave_test_error.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1JRB64GK\/download\/behave_test_error.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/satheesh\/F1JRB64GK\/behave_test_error.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1JRB64GK-aa7da838ea","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/satheesh\/F1JRB64GK\/behave_test_error.txt\/edit","preview":"15:19:41.543 [dockercontroller] createContainer -> DEBU 07a Create container: dev-vp0-a5389f7dfb9efae379900a41db1503fea2199fe400272b61ac5fe7bd0c6b97cf10ce3aa8dd00cd7626ce02f18accc7e5f2059dae6eb0786838042958352b89fb\r\n15:19:41.543 [dockercontroller] Start -> ERRO 07b start-could not recreate container cannot connect to Docker endpoint\r\n15:19:41.543 [container] unlockContainer -> DEBU 07c container lock deleted(dev-vp0-a5389f7dfb9efae379900a41db1503fea2199fe400272b61ac5fe7bd0c6b97cf10ce3aa8dd00cd7626ce02f18accc7e5f2059dae6eb0786838042958352b89fb)\r\n15:19:41.543 [chaincode] Launch -> DEBU 07d launchAndWaitForRegister failed Error starting container: cannot connect to Docker endpoint\r\n15:19:41.543 [rest] Query -> ERRO 07e {\"Error\": \"Querying Chaincode -- Error:Failed to launch chaincode spec(Error starting container: cannot connect to Docker endpoint)\"}\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>15:19:41.543 [dockercontroller] createContainer -&gt; DEBU 07a Create container: dev-vp0-a5389f7dfb9efae379900a41db1503fea2199fe400272b61ac5fe7bd0c6b97cf10ce3aa8dd00cd7626ce02f18accc7e5f2059dae6eb0786838042958352b89fb<\/pre><\/div>\n<div><pre>15:19:41.543 [dockercontroller] Start -&gt; ERRO 07b start-could not recreate container cannot connect to Docker endpoint<\/pre><\/div>\n<div><pre>15:19:41.543 [container] unlockContainer -&gt; DEBU 07c container lock deleted(dev-vp0-a5389f7dfb9efae379900a41db1503fea2199fe400272b61ac5fe7bd0c6b97cf10ce3aa8dd00cd7626ce02f18accc7e5f2059dae6eb0786838042958352b89fb)<\/pre><\/div>\n<div><pre>15:19:41.543 [chaincode] Launch -&gt; DEBU 07d launchAndWaitForRegister failed Error starting container: cannot connect to Docker endpoint<\/pre><\/div>\n<div><pre>15:19:41.543 [rest] Query -&gt; ERRO 07e {&quot;Error&quot;: &quot;Querying Chaincode -- Error:Failed to launch chaincode spec(Error starting container: cannot connect to Docker endpoint)&quot;}<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":6,"lines_more":1,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0YNFB22X","upload":true,"display_as_bot":false,"username":"<@U0YNFB22X|satheesh>","bot_id":null,"ts":"1466522549.000911"},{"type":"message","user":"U0YNFB22X","text":"`15:19:41.543 [dockercontroller] Start -&gt; ERRO 07b start-could not recreate container cannot connect to Docker endpoint`","ts":"1466522574.000912"},{"type":"message","user":"U0XR6J961","text":"make sure that your docker daemon is listening on the port","ts":"1466523070.000913"},{"type":"message","user":"U0XQ35CDD","text":"can the Peer persist data to the DB as things stand right now? I was looking for something similar to what the `consensus` package does with the validator <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/consensus\/helper\/persist\/persist.go>","edited":{"user":"U0XQ35CDD","ts":"1466525632.000000"},"ts":"1466525153.000914"},{"type":"message","user":"U0XQ35CDD","text":"if there's no such functionality, shall we bring this package down to the peer level, while making the key prefix (currently set to `consensus.`) a variable?","ts":"1466525930.000917"},{"type":"message","user":"U0XR6J961","text":"well, just use the db stuff?","ts":"1466525999.000918"},{"type":"message","user":"U0XR6J961","text":"or move it","ts":"1466526054.000919"},{"type":"message","user":"U0XR6J961","text":"i think the persist interface is nicer","ts":"1466526065.000920"},{"type":"message","user":"U0XQ35CDD","text":"I think so as well","ts":"1466526087.000921"},{"type":"message","user":"U0XR6J961","text":"but barely different","ts":"1466526094.000922"},{"type":"message","user":"U0XQ35CDD","text":"this will be needed for #1874, unless you have a different take on how the rootNodes list should be persisted","ts":"1466526121.000923"},{"type":"message","user":"U0XR6J961","text":"i suggest configuring it statically for now","ts":"1466526183.000924"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KN2SSKE> <@U0TFEHX8E> <@U11HH3P7Y> trying to untangle a potential discrepancy between the developer preview branch and tag","ts":"1466526206.000925"},{"type":"message","user":"U0KPFAZNF","text":"its a little confusing via the github interface, i need to dig in with command line to figure out what happened\u2026but it _looks_ like we might have two different branch points","ts":"1466526249.000926"},{"type":"message","user":"U0XQ35CDD","text":"so: vp0, vp1, vp2, vp3 all do `CORE_PEER_DISCOVERY_ROOTNODE=vp0:30303,vp1:30303, etc.`?","ts":"1466526265.000927"},{"type":"message","user":"U0KPFAZNF","text":"For instance, here: <https:\/\/github.com\/hyperledger\/fabric\/releases> shows the tag as 6905fec whereas the branch shows 72a7cbf","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/releases","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/releases","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1466526400.000928"},{"type":"message","user":"U0KPFAZNF","text":"im guessing that the branch\/commit\/tag sequence interleaved","ts":"1466526435.000930"},{"type":"message","user":"U0KPFAZNF","text":"but in addition, it seems that travis is very confused by the tag","ts":"1466526447.000931"},{"type":"message","user":"U0N1D1UAE","text":"<@U0XPR4NP4> In your comments above are you suggesting that issue #1931 is expected?","ts":"1466536758.000932"},{"type":"message","user":"U0XPR4NP4","text":"<@U0N1D1UAE> This is a known limitation\/bug at the moment, we are working on a solution","ts":"1466536924.000933"},{"type":"message","user":"U0XPR4NP4","text":"We discussed some earlier today in <#C0Z4NBUN6>, but the correct way to fix it isn't immediately obvious, or necessarily trivial","ts":"1466537056.000934"},{"type":"message","user":"U0N1D1UAE","text":"Regarding #1857 I am trying to reproduce. The \u201cstuck\u201d peers may have been experiencing buffer overflows.","ts":"1466537183.000935"},{"type":"message","user":"U0N1D1UAE","text":"Queue overflows actually","ts":"1466537223.000936"},{"type":"message","user":"U0XPR4NP4","text":"<@U0N1D1UAE>: The short explanation of 1931 is that when it takes longer for a broadcast message to go from say vp1 to vp3, than for that same message to from vp1 to vp0, plus have vp0,vp2,vp3 do the three phase message exchange, then you may see duplicated requests.  This obviously needs to be fixed, but it is hopefully an unlikely real life network latency scenario.","ts":"1466537381.000937"},{"type":"message","user":"U0N1D1UAE","text":"I thought the protocols were formally verified?","ts":"1466537828.000938"},{"type":"message","user":"U0XPR4NP4","text":"They are, but in adapting it for our use case, there are some deviations.  The protocol spec indicates that clients should wait for a response to their request before submitting a new one.  This allows for clean deduplication without risk of censorship.  But, we expect this would be unacceptable for our throughput in the long term, so we are trying to come up with a better solution.","ts":"1466538060.000939"},{"type":"message","user":"U0N1D1UAE","text":"Interesting. I will put this to the test by having 1000 clients all sending and waiting for 1 TX at a time.","ts":"1466538233.000940"},{"type":"message","user":"U0XPR4NP4","text":"<@U0N1D1UAE> This is client in terms of the paper","ts":"1466538256.000941"},{"type":"message","user":"U0XPR4NP4","text":"So, for us, each VP is a client","ts":"1466538267.000942"},{"type":"message","user":"U0N1D1UAE","text":"You are right, not interesting as a product.","ts":"1466538296.000943"},{"type":"message","user":"U0XPR4NP4","text":"In the paper, clients submit PBFT requests directly to the network, in fabric, we receive something like a REST request, and then act like a client in submitting it to the PBFT network. There are some avenues to scale this, and I'm certain it can be worked around, but as I said, the solution is non-obvious","ts":"1466538439.000944"},{"type":"message","user":"U0N1D1UAE","text":"<@U0XPR4NP4> I just updated #1857 with debug logs from a \u201cstuck\u201d run of stress2b","ts":"1466539202.000945"},{"type":"message","user":"U0XPR4NP4","text":"<@U0N1D1UAE> <https:\/\/github.com\/hyperledger\/fabric\/pull\/1941>\n\nThis should be an effective workaround for the time being to remove those duplicate requests, until we can come up with a better solution","attachments":[{"service_name":"GitHub","title":"Deduplicate requests based on last execution time by jyellick \u00b7 Pull Request #1941 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1941","text":"Description This changeset adds back in a portion of the deduplication logic which was removed. Specifically, it will cause a replica to ignore any requests from a peer which are timestamped prio...","fallback":"GitHub: Deduplicate requests based on last execution time by jyellick \u00b7 Pull Request #1941 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars0.githubusercontent.com\/u\/7431583?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1941","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1466539289.000946"},{"type":"message","user":"U0XPR4NP4","text":"Also see what is going on with 1857, replied to you in the issue","ts":"1466540295.000948"},{"type":"message","user":"U1EE1TRQE","text":"Hi, I'm trying to start the node first time using \"docker run --name CA_test_node --rm -it -p 5000:5000 -p 30303:30303 -e CORE_PEER_ID=vp0 -e CORE_VM_ENDPOINT=<http:\/\/172.17.0.1:4243> -e CORE_PEER_ADDRESSAUTODETECT=true hyperledger-ca-peer:version1 peer node start\" but getting below error \" 2016\/06\/22 12:01:13 Failed to listen: listen tcp: lookup vp0 on 10.0.2.3:53: no such host\" ... can anyone pls advise how to fix this. Is this an issue with core.yaml?","ts":"1466597427.000949"},{"type":"message","user":"U0UKTPMG8","text":"<@U1EE1TRQE>:  this is failing trying to start the GRPC server","edited":{"user":"U0UKTPMG8","ts":"1466606325.000000"},"ts":"1466606307.000950"},{"type":"message","user":"U0UKTPMG8","text":"not sure I recognize the docker image you are using","ts":"1466606369.000952"},{"type":"message","user":"U0KPFAZNF","text":"<@U1EE1TRQE>: it seems you are using a dns hostname of \u201cvp0\u201d which is not known to the DNS server configured at 10.0.2.3","ts":"1466611294.000953"},{"type":"message","user":"U0KPFAZNF","text":"try changing CORE_PEER_ID perhaps, or update your dns server","ts":"1466611333.000954"},{"type":"message","user":"U0KPFAZNF","text":"(Im not sure of CORE_PEER_ID drives a dns lookup, but that is my only guess based on the info provided","ts":"1466611357.000955"},{"user":"U1KC1TAHE","type":"message","subtype":"channel_join","text":"<@U1KC1TAHE|brendan> has joined the channel","ts":"1466624531.000956"},{"type":"message","user":"U0XQ35CDD","text":"am I the only one seeing occasional failures on the `custodian` unit tests?","ts":"1466633952.000957"},{"user":"U1F3CQ2HX","type":"message","subtype":"channel_join","text":"<@U1F3CQ2HX|nhrishi> has joined the channel","ts":"1466655555.000958"},{"type":"message","user":"U1EE1TRQE","text":"<@U0KPFAZNF>: Thanks !! changing CORE_PEER_ID helped...its starting the node now.","ts":"1466663875.000959"},{"type":"message","user":"U1EE1TRQE","text":"Thanks <@U0UKTPMG8>","ts":"1466663881.000960"},{"type":"message","user":"U1CK6522F","text":"protos\/chaincode.pb.go:101 What are these two ChaincodeMessage_Type \"PUT_STATE\" and \"DEL_STATE\" used for? Thanks!","ts":"1466664496.000961"},{"type":"message","user":"U0ZJZBJLF","text":"I'd assume they represent shim\/chaincode.go's respective methods","ts":"1466667815.000962"},{"type":"message","user":"U0ZJZBJLF","text":"hey, why is this message Debug? shouldn't it be error?\n<https:\/\/github.com\/hyperledger\/fabric\/blob\/6d873142362f2e6314ca138defa792dcc52b4f10\/core\/chaincode\/chaincode_support.go#L340>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/6d873142362f2e6314ca138defa792dcc52b4f10\/core\/chaincode\/chaincode_support.go#L340","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/6d873142362f2e6314ca138defa792dcc52b4f10\/core\/chaincode\/chaincode_support.go#L340","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1466670839.000963"},{"type":"message","user":"U1CK6522F","text":"Thanks yacovm","ts":"1466675267.000965"},{"type":"message","user":"U1CK6522F","text":"Why I encountered this error constantly? But it didn't crash. My code base is 6905fec. \n07:28:36.465 [consensus\/obcpbft] processNewView2 -&gt; CRIT 003 Replica 0 is missing request for assigned prepare after fetching, this indicates a serious bug","ts":"1466675269.000966"},{"type":"message","user":"U0ZJZBJLF","text":"The java chaincode is in development, right? Anyone knows where is its codebase?","ts":"1466675549.000967"},{"type":"message","user":"U1CPB11D0","text":"is there any way to add a new column after a table is created\uff1f","ts":"1466675958.000968"},{"type":"message","user":"U1CPB11D0","text":"Hi, A minor bug (<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/chaincode\/shim\/chaincode.go#L715>): case *Column_Uint32:\n\t\t\tkeyString = strconv.FormatUint(uint64(key.GetInt32()), 10)\n\nshould be \u201c(key.GetUint32()\"","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/chaincode\/shim\/chaincode.go#L715","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/chaincode\/shim\/chaincode.go#L715","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1466679475.000969"},{"type":"message","user":"U0XR6J961","text":"zuowang: can you please submit a bug report?","ts":"1466681465.000971"},{"type":"message","user":"U0KM61BCP","text":"a PR would be most welcomed:-)","ts":"1466689601.000972"},{"type":"message","user":"U0ULK2JPP","text":"<@U0ZJZBJLF>: repeating here for others benefit <https:\/\/hyperledgerproject.slack.com\/archives\/java-chaincode\/p1466682610000010>","attachments":[{"from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/java-chaincode\/p1466682610000010","fallback":"[June 23rd, 2016 4:50 AM] muralisr: <@U0ZJZBJLF>: currently being worked and will appear in fabric codebase","author_subname":"muralisr","ts":"1466682610.000010","channel_id":"C1D3VRND8","channel_name":"java-chaincode","is_msg_unfurl":true,"text":"<@U0ZJZBJLF>: currently being worked and will appear in fabric codebase","author_name":"Srinivasan Muralidharan","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/muralisr","author_icon":"https:\/\/secure.gravatar.com\/avatar\/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-48.png","mrkdwn_in":["text"],"id":1,"footer":"Posted in #java-chaincode"}],"ts":"1466690855.000973"},{"type":"message","user":"U1AU8DRQR","text":"how can I disable a bdd test? I do not want to comment it","ts":"1466697711.000975"},{"type":"message","user":"U0UKTPMG8","text":"<@U1AU8DRQR>: add a tag (commonly issue tag) to the scenario, then add that issue to the .behaverc file","edited":{"user":"U0UKTPMG8","ts":"1466698129.000000"},"ts":"1466698119.000976"},{"type":"message","user":"U0UKTPMG8","text":"for example,  issue_680 is currently disabled by using this mechanism","ts":"1466698161.000978"},{"type":"message","user":"U11MANG9G","text":"e.g., <https:\/\/github.com\/hyperledger\/fabric\/commit\/922ed1fb032637bc20de7ae1bacffe8886760d6f>","ts":"1466698162.000979"},{"type":"message","user":"U11MANG9G","text":"<@U1AU8DRQR>: please don't abuse this! :wink:","ts":"1466698189.000980"},{"type":"message","user":"U0KM61BCP","text":"<@U0UKTPMG8>: could you please document that in the contributing.md? thx","ts":"1466698190.000981"},{"type":"message","user":"U0UKTPMG8","text":"<@U0KM61BCP> yes","ts":"1466698208.000982"},{"type":"message","user":"U11MANG9G","text":"&lt;amiably&gt; Oh, it used to be Hyperledger Fabric's best kept secret :wink: &lt;\/amiably&gt;","edited":{"user":"U11MANG9G","ts":"1466698277.000000"},"ts":"1466698241.000983"},{"type":"message","user":"U0KM61BCP","text":"danke - and add note that we should agree on usage guidelines ","ts":"1466698291.000987"},{"type":"message","user":"U0KM61BCP","text":"eg maybe you need all maintainers to agree or super-majority","ts":"1466698329.000988"},{"type":"message","user":"U11MANG9G","text":"Yes, sounds good. BTW: Whatever (procedure) is decided should probably also apply to `t.Skip()` in the unit tests... though these might be less trivial to flag.\n<@U0UKTPMG8>'s file makes it clearer for Behave, as it's easy to view it all in one place... we don't have the same for the skipped unit-tests.","ts":"1466698516.000989"},{"user":"U150L8BDF","type":"message","subtype":"channel_join","text":"<@U150L8BDF|clessor> has joined the channel","ts":"1466702910.000990"},{"type":"message","user":"U1CK6522F","text":"simon","ts":"1466729135.000991"},{"type":"message","user":"U1CK6522F","text":"simon: <https:\/\/github.com\/hyperledger\/fabric\/issues\/1984>","attachments":[{"service_name":"GitHub","title":"Missing request for assigned prepare after fetching \u00b7 Issue #1984 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/issues\/1984","text":"Description I constantly encountered this error, seams it worked fine and didn't crash. 07:28:36.465 [consensus\/obcpbft] processNewView2 -&gt; CRIT 003 Replica 0 is missing request for assigned prepa...","fallback":"GitHub: Missing request for assigned prepare after fetching \u00b7 Issue #1984 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/10447352?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/issues\/1984","thumb_width":360,"thumb_height":360,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1466729144.000992"},{"type":"message","user":"U0XPR4NP4","text":"<@U1CK6522F>: This error message is benign, and has been fixed","ts":"1466735054.000994"},{"type":"message","user":"U1CK6522F","text":"thanks jyellick","ts":"1466755688.000995"},{"type":"message","subtype":"file_share","text":"<@U1CK6522F|zuowang> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/zuowang\/F1KUP2UAU\/_____________20160624155946.png|20160624155946.png>","file":{"id":"F1KUP2UAU","created":1466755734,"timestamp":1466755734,"name":"\u5fae\u4fe1\u622a\u56fe_20160624155946.png","title":"20160624155946.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U1CK6522F","editable":false,"size":115338,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1KUP2UAU\/_____________20160624155946.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1KUP2UAU\/download\/_____________20160624155946.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1KUP2UAU-0f54248e5b\/_____________20160624155946_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1KUP2UAU-0f54248e5b\/_____________20160624155946_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1KUP2UAU-0f54248e5b\/_____________20160624155946_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":60,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1KUP2UAU-0f54248e5b\/_____________20160624155946_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":80,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1KUP2UAU-0f54248e5b\/_____________20160624155946_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1KUP2UAU-0f54248e5b\/_____________20160624155946_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":120,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1KUP2UAU-0f54248e5b\/_____________20160624155946_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":160,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1KUP2UAU-0f54248e5b\/_____________20160624155946_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":171,"image_exif_rotation":1,"original_w":1180,"original_h":197,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/zuowang\/F1KUP2UAU\/_____________20160624155946.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1KUP2UAU-83d29becaf","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U1CK6522F","upload":true,"display_as_bot":false,"username":"<@U1CK6522F|zuowang>","bot_id":null,"ts":"1466755737.000996"},{"type":"message","user":"U1CK6522F","text":"I found \"docker\" is the top busy process measured by cpu usage. What kind of business is he doing?","ts":"1466755948.000997"},{"type":"message","user":"U0ZJZBJLF","text":"I don't know, did you try to attach an strace to it and see?","ts":"1466762167.000998"},{"type":"message","user":"U1CK6522F","text":"strace dosen't help:sweat_smile:","ts":"1466767248.000999"},{"type":"message","user":"U0YNFB22X","text":"<@U0ZJZBJLF>: PR has been submitted for the initial java chaincode implementation <https:\/\/github.com\/hyperledger\/fabric\/pull\/1983>","attachments":[{"service_name":"GitHub","title":"Javashim by xspeedcruiser \u00b7 Pull Request #1983 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1983","text":"Java chaincode support for Hyperledger Fabric Description This PR is to extend fabric to be able to deploy and run chaincode written in Java. Motivation and Context Fabric project currently...","fallback":"GitHub: Javashim by xspeedcruiser \u00b7 Pull Request #1983 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars0.githubusercontent.com\/u\/74700?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1983","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1466769890.001000"},{"type":"message","user":"U0ZJZBJLF","text":"cool","ts":"1466771268.001002"},{"type":"message","user":"U0UKTPMG8","text":"<@U1CK6522F>: the daemon may be building the images for chaincodes if you are running a network and deployments are under way.  This will of course be the case if you are running the behave tests.","ts":"1466778711.001003"},{"type":"message","user":"U0P2GSA8Z","text":"hi there","ts":"1466785020.001004"},{"type":"message","user":"U0P2GSA8Z","text":"I updated my repo to the latest on master and I see several failures in make checks","ts":"1466785063.001005"},{"type":"message","user":"U0P2GSA8Z","text":"I also see that about all current PRs are reported to fail","ts":"1466785085.001006"},{"type":"message","user":"U0P2GSA8Z","text":"what's going on?","ts":"1466785090.001007"},{"type":"message","user":"U0KPFAZNF","text":"<@U0P2GSA8Z>: can you be more specific?","ts":"1466786191.001008"},{"type":"message","user":"U0KPFAZNF","text":"the travis panel looks all green to me","ts":"1466786198.001009"},{"type":"message","user":"U0TFEHX8E","text":"Jenkins is broken. It\u2019s putting all of those red x\u2019s on the PRs. Travis is passing for many if you look inside the PR","ts":"1466787986.001010"},{"type":"message","user":"U11HH3P7Y","text":"We are observing build failures in Jenkins with grpcio package error.. Which is resolved in Jenkins x86 machine with PR#1940.","ts":"1466788312.001011"},{"type":"message","user":"U11HH3P7Y","text":"But we have the same issue Z machines, <@U0ZLVCQPM> is working on it.","ts":"1466788358.001012"},{"user":"U0ZLVCQPM","inviter":"U11HH3P7Y","type":"message","subtype":"channel_join","text":"<@U0ZLVCQPM|jkirke> has joined the channel","ts":"1466788363.001013"},{"type":"message","user":"U0P2GSA8Z","text":"ah ok, I understand","ts":"1466791204.001014"},{"type":"message","user":"U0P2GSA8Z","text":"on my side I see errors: like FAIL\t<http:\/\/github.com\/hyperledger\/fabric\/consensus\/obcpbft\/custodian|github.com\/hyperledger\/fabric\/consensus\/obcpbft\/custodian>\t0.803s","ts":"1466791263.001015"},{"type":"message","user":"U0P2GSA8Z","text":"--- FAIL: TestChaincodeInvokeChaincode (38.49s)","ts":"1466791282.001016"},{"type":"message","user":"U0XQ35CDD","text":"I get these occasionally as well. See: <https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev\/p1466633952000957>","attachments":[{"from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev\/p1466633952000957","fallback":"[June 22nd, 2016 3:19 PM] kostas: am I the only one seeing occasional failures on the `custodian` unit tests?","author_subname":"kostas","ts":"1466633952.000957","channel_id":"C0YPYBVJM","channel_name":"fabric-dev","is_msg_unfurl":true,"text":"am I the only one seeing occasional failures on the `custodian` unit tests?","author_name":"Kostas Christidis","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/kostas","author_icon":"https:\/\/avatars.slack-edge.com\/2016-04-05\/31983107923_80db5353e9278df980c7_48.png","mrkdwn_in":["text"],"id":1,"footer":"Posted in #fabric-dev"}],"ts":"1466791315.001017"},{"type":"message","user":"U0P2GSA8Z","text":"FAIL\t<http:\/\/github.com\/hyperledger\/fabric\/core\/chaincode|github.com\/hyperledger\/fabric\/core\/chaincode>\t408.684s","ts":"1466791345.001019"},{"type":"message","user":"U0P2GSA8Z","text":"--- FAIL: TestCreateCertificatePairAdmin (0.00s)\n\teca_test.go:228: Failed to enroll testAdmin: [Identity or token does no","ts":"1466791361.001020"},{"type":"message","user":"U0P2GSA8Z","text":"I have quite a few such failures overall","ts":"1466791371.001021"},{"type":"message","user":"U0UKTPMG8","text":"FYI:  <https:\/\/github.com\/hyperledger\/fabric\/pull\/1940> requires the grpcio python package.  You can either manually install this package using the following commands:\n\n&gt;pip install --ignore-installed six\n&gt;pip install 'grpcio==0.13.1'","attachments":[{"service_name":"GitHub","title":"Issues\/1922\/grpcio pip install: Moved from Makefile to hosts.sh script, vagrant destroy\/up required by jeffgarratt \u00b7 Pull Request #1940 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1940","text":"Description Moved the pip install of the python grpc package from the Makefile to the hosts.sh file. This will require developers perform a vagrant destroy\/up cycle. Also moved all grpc related ...","fallback":"GitHub: Issues\/1922\/grpcio pip install: Moved from Makefile to hosts.sh script, vagrant destroy\/up required by jeffgarratt \u00b7 Pull Request #1940 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars0.githubusercontent.com\/u\/4991920?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1940","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1466795298.001022"},{"type":"message","user":"U0UKTPMG8","text":"Or sync with the latest master and perform a vagrant destroy\/up","ts":"1466795310.001024"},{"type":"message","user":"U0MSG4RL7","text":"Hi, I submitted <https:\/\/github.com\/hyperledger\/fabric\/pull\/2006> which is a possible security issue; I'd appreciate a prompt review if possible. Thanks.\n\nAlso my commit restricts the allowed pattern for usernames to `\\w+` - not sure if it is too restrictive.","attachments":[{"service_name":"GitHub","title":"core\/rest: DELETE \/registrar\/\/ deletes entire local crypto\/client directory by dubek \u00b7 Pull Request #2006 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/2006","text":"core\/rest: Add format validation on URL parameters to prevent remote deletion of local dirs. Description Added simple validation via regexp on URL path components to prevent these parameters bein...","fallback":"GitHub: core\/rest: DELETE \/registrar\/\/ deletes entire local crypto\/client directory by dubek \u00b7 Pull Request #2006 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/9211?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/2006","thumb_width":96,"thumb_height":96,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"edited":{"user":"U0MSG4RL7","ts":"1466797066.000000"},"ts":"1466796997.001025"},{"type":"message","user":"U0TFEHX8E","text":"<@U0MSG4RL7>: thanks, I\u2019ve added some comments","ts":"1466801446.001028","reactions":[{"name":"+1","users":["U0MSG4RL7"],"count":1}]},{"type":"message","user":"U0XQ35CDD","text":"`make all` on the latest master (`2aeddd`) fails during the `go vet` part","ts":"1466862226.001029"},{"type":"message","subtype":"file_share","text":"<@U0XQ35CDD|kostas> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/kostas\/F1L979REK\/screen_shot_2016-06-25_at_09.42.39.png|Screen Shot 2016-06-25 at 09.42.39.png>","file":{"id":"F1L979REK","created":1466862238,"timestamp":1466862238,"name":"Screen Shot 2016-06-25 at 09.42.39.png","title":"Screen Shot 2016-06-25 at 09.42.39.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0XQ35CDD","editable":false,"size":59744,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1L979REK\/screen_shot_2016-06-25_at_09.42.39.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1L979REK\/download\/screen_shot_2016-06-25_at_09.42.39.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1L979REK-0b2a5a2e33\/screen_shot_2016-06-25_at_09.42.39_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1L979REK-0b2a5a2e33\/screen_shot_2016-06-25_at_09.42.39_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1L979REK-0b2a5a2e33\/screen_shot_2016-06-25_at_09.42.39_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":41,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1L979REK-0b2a5a2e33\/screen_shot_2016-06-25_at_09.42.39_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":55,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1L979REK-0b2a5a2e33\/screen_shot_2016-06-25_at_09.42.39_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1L979REK-0b2a5a2e33\/screen_shot_2016-06-25_at_09.42.39_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":83,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1L979REK-0b2a5a2e33\/screen_shot_2016-06-25_at_09.42.39_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":110,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1L979REK-0b2a5a2e33\/screen_shot_2016-06-25_at_09.42.39_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":117,"image_exif_rotation":1,"original_w":1203,"original_h":138,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/kostas\/F1L979REK\/screen_shot_2016-06-25_at_09.42.39.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1L979REK-41aa9ea87f","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0XQ35CDD","upload":true,"display_as_bot":false,"username":"<@U0XQ35CDD|kostas>","bot_id":null,"ts":"1466862240.001030"},{"type":"message","user":"U0TFEHX8E","text":"odd, it passed in CI. <https:\/\/travis-ci.org\/hyperledger\/fabric\/builds\/140129497#L967> Will try to take a look on my local system in a bit","ts":"1466870804.001031"},{"type":"message","user":"U0TFEHX8E","text":"<@U0XQ35CDD>: I\u2019ve reverted the PR. I\u2019ll investigate how it was able to get through CI next week","ts":"1466874768.001032"},{"type":"message","user":"U0XQ35CDD","text":"Roger.","ts":"1466875188.001033"},{"type":"message","user":"U1CK6522F","text":"<@U0UKTPMG8>: The chaincode was already deployed. The docker daemon was busy while 20 clients were invoking the chaincode.","ts":"1466988443.001034"},{"type":"message","user":"U1CK6522F","text":"<@U0UKTPMG8>:  perf record -F 99 -p PID -g -- sleep 10\n   11.58%  docker  docker             [.] runtime.xchg\n   5.65%  docker  docker             [.] runtime.findrunnable\n   5.57%  docker  docker             [.] runtime.xadd\n   5.29%  docker  docker             [.] runtime.lock\n   3.33%  docker  docker             [.] runtime.procyield","ts":"1467006155.001035"},{"type":"message","subtype":"file_share","text":"<@U1CK6522F|zuowang> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/zuowang\/F1LH4QGEN\/_____________20160627185842.png|20160627185842.png>","file":{"id":"F1LH4QGEN","created":1467025157,"timestamp":1467025157,"name":"\u5fae\u4fe1\u622a\u56fe_20160627185842.png","title":"20160627185842.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U1CK6522F","editable":false,"size":64977,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1LH4QGEN\/_____________20160627185842.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1LH4QGEN\/download\/_____________20160627185842.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1LH4QGEN-abb2dd8cfd\/_____________20160627185842_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1LH4QGEN-abb2dd8cfd\/_____________20160627185842_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1LH4QGEN-abb2dd8cfd\/_____________20160627185842_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":165,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1LH4QGEN-abb2dd8cfd\/_____________20160627185842_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":220,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1LH4QGEN-abb2dd8cfd\/_____________20160627185842_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1LH4QGEN-abb2dd8cfd\/_____________20160627185842_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":330,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1LH4QGEN-abb2dd8cfd\/_____________20160627185842_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":440,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1LH4QGEN-abb2dd8cfd\/_____________20160627185842_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":469,"image_exif_rotation":1,"original_w":1378,"original_h":631,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/zuowang\/F1LH4QGEN\/_____________20160627185842.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1LH4QGEN-6fe7fc1a48","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U1CK6522F","upload":true,"display_as_bot":false,"username":"<@U1CK6522F|zuowang>","bot_id":null,"ts":"1467025160.001036"},{"type":"message","user":"U0XR6J961","text":"oh what is that UI?","ts":"1467025360.001037"},{"type":"message","user":"U1CK6522F","text":"It's qcachegrind. I found the high cpu usage by docker daemon is caused by the verbose log in chaincode.","ts":"1467026326.001038"},{"type":"message","user":"U0XR6J961","text":"does it use normal go pprof?","ts":"1467026430.001039"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP>: <@U0TFEHX8E> <@U0KN2SSKE> I whipped up a prototype of the syscc import generation we discussed on the call","ts":"1467043229.001040"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric\/compare\/master...ghaskins:build-syscc-preview>","edited":{"user":"U0KPFAZNF","ts":"1467043236.000000"},"ts":"1467043231.001041"},{"type":"message","user":"U0KPFAZNF","text":"let me know your thoughts","ts":"1467043243.001044"},{"type":"message","user":"U0KPFAZNF","text":"in a nutshell, if you define a list of imports in .\/syscc-includes, in adds them to build\/syscc\/imports.go","ts":"1467043271.001045"},{"type":"message","user":"U0KPFAZNF","text":"sorry, .syscc-includes","ts":"1467043281.001046"},{"type":"message","user":"U0KPFAZNF","text":"idea being that a fork\/local-tree is free to define its own without collisions against upstream","ts":"1467043325.001047"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1LKJCCB0\/-.sh|Untitled>","file":{"id":"F1LKJCCB0","created":1467043364,"timestamp":1467043364,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0KPFAZNF","editable":true,"size":343,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1LKJCCB0\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1LKJCCB0\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1LKJCCB0\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1LKJCCB0-68e963fc25","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1LKJCCB0\/-.sh\/edit","preview":"vagrant@hyperledger-devenv:v0.0.10-c358b79:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ cat .syscc-includes\r\ngithub.com\/foo\/bar\r\ngithub.com\/baz\/bat\r\nvagrant@hyperledger-devenv:v0.0.10-c358b79:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ cat build\/syscc\/imports.go\r\npackage syscc\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>vagrant@hyperledger-devenv:v0.0.10-c358b79:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric<span class=\"cm-def\">$ cat<\/span> .syscc-includes<\/pre><\/div>\n<div><pre>github.com\/foo\/bar<\/pre><\/div>\n<div><pre>github.com\/baz\/bat<\/pre><\/div>\n<div><pre>vagrant@hyperledger-devenv:v0.0.10-c358b79:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric<span class=\"cm-def\">$ cat<\/span> build\/syscc\/imports.go<\/pre><\/div>\n<div><pre>package syscc<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":10,"lines_more":5,"preview_is_truncated":null,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1467043365.001048"},{"type":"message","user":"U0KN2SSKE","text":"<@U0KPFAZNF>: very cool","ts":"1467045174.001049"},{"type":"message","user":"U0KM61BCP","text":"nice","ts":"1467045291.001050"},{"type":"message","user":"U0KPFAZNF","text":"I debate whether .syscc-includes should be in .gitignore","ts":"1467045454.001051"},{"type":"message","user":"U0KPFAZNF","text":"on one hand, seeing it in the git-status will be annoying, on the other hand, some use cases will want to check it in to their local fork","ts":"1467045479.001052"},{"type":"message","user":"U0KPFAZNF","text":"i\u2019ve erred on the side of the former for now, but I can be convinced either way","ts":"1467045507.001053"},{"type":"message","user":"U0KPFAZNF","text":"sorry, ive erred on the side of \u201cno .gitignore, allow local commits\"","ts":"1467045526.001054"},{"type":"message","user":"U0KM61BCP","text":"that will likely mean we have to scan for them on a build and have a whitelist for those we have allowed","ts":"1467046341.001055"},{"type":"message","user":"U0KPFAZNF","text":"not sure what you mean","ts":"1467047142.001056"},{"type":"message","user":"U0KPFAZNF","text":"isnt the .syscc-includes \u201cthe\u201d whitelist","ts":"1467047158.001057"},{"type":"message","user":"U0KPFAZNF","text":"BTW one thing I should mention is that upstream can add to this by doing SYSCC_INCLUDE += in the Makefile itself","ts":"1467047212.001058"},{"type":"message","user":"U0KPFAZNF","text":"So, Makefile::SYSCC_INCLUDES is upstream list, which is concatenated with .syscc-includes for downstream, to form the complete set","ts":"1467047258.001059"},{"type":"message","user":"U0KPFAZNF","text":"only thing _not_ covered there would be upstream components that downstream wants to _exclude_","ts":"1467047281.001060"},{"type":"message","user":"U0KPFAZNF","text":"for that, I either need to add something to the design, or they can just edit the makefile","ts":"1467047301.001061"},{"type":"message","user":"U0KN2SSKE","text":"upstream list is good so that folks may just do that instead of having to modify the .syscc-include","ts":"1467047573.001062"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KPFAZNF>: if I want to enable a test, I\u2019d have to build the image from the whitelist, correct ?","ts":"1467047811.001063"},{"type":"message","user":"U0ULK2JPP","text":"as opposed to reading a whitelist file at runtime and \u201cenabling\u201d it","ts":"1467047860.001064"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP>: to be clear, I envision and support the notion of both build-time and run-time whitelist","ts":"1467047870.001065"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1467047874.001066"},{"type":"message","user":"U0KPFAZNF","text":"(though this only covers the build time component of it)","ts":"1467047878.001067"},{"type":"message","user":"U0ULK2JPP","text":"right","ts":"1467047882.001068"},{"type":"message","user":"U0KPFAZNF","text":"I think the run-time part is probably straight forward, though, so I wanted to tackle the bigger gap","ts":"1467047912.001069"},{"type":"message","user":"U0ULK2JPP","text":"I was just thinking we may need the runtime component too to make it easy for dev\/test","ts":"1467047913.001070"},{"type":"message","user":"U0ULK2JPP","text":"sure","ts":"1467047916.001071"},{"type":"message","user":"U0KPFAZNF","text":"yes, agree","ts":"1467047918.001072"},{"type":"message","user":"U0ULK2JPP","text":"just wanted to make sure I didn\u2019t miss anything","ts":"1467047925.001073"},{"type":"message","user":"U0KPFAZNF","text":"nope, you are spot on","ts":"1467047931.001074"},{"type":"message","user":"U0KPFAZNF","text":"can probably just have some yaml section for runtime list","ts":"1467047947.001075"},{"type":"message","user":"U0KPFAZNF","text":"(or whatever, I have no strong opinion)","ts":"1467047957.001076"},{"type":"message","user":"U0XR6J961","text":"part of state","ts":"1467047962.001077"},{"type":"message","user":"U0XR6J961","text":"e.g. initialized in genesis, mutated through chaincode","ts":"1467047974.001078"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: I know where you are going with that, but not necessarily","ts":"1467047995.001079"},{"type":"message","user":"U0KPFAZNF","text":"i think that is part of the story, yes, but not the only","ts":"1467048006.001080"},{"type":"message","user":"U0KPFAZNF","text":"\u201cinitialization\u201d of these things is def related to ledger history, and at the right moment in time, it should be represented as such","ts":"1467048090.001081"},{"type":"message","user":"U0KPFAZNF","text":"this may include genesis or any future block, and be managed as such","ts":"1467048102.001082"},{"type":"message","user":"U0KPFAZNF","text":"but the mechanism we are talking about predates the introduction to the ledger","ts":"1467048121.001083"},{"type":"message","user":"U0KPFAZNF","text":"consider it the mechanism that makes it available for that step","ts":"1467048138.001084"},{"type":"message","user":"U0XR6J961","text":"genesis block\/genesis state","ts":"1467048173.001085"},{"type":"message","user":"U0KPFAZNF","text":"it must not be restricted to genesis only","ts":"1467048191.001086"},{"type":"message","user":"U0XR6J961","text":"peer genesis $configfile","ts":"1467048192.001087"},{"type":"message","user":"U0XR6J961","text":"yes, chaincode mutates this state","ts":"1467048201.001088"},{"type":"message","user":"U0XR6J961","text":"system chaincode","ts":"1467048206.001089"},{"type":"message","user":"U0KPFAZNF","text":"maybe we are talking past each other, but IIUC I dont see it quite that way","ts":"1467048224.001090"},{"type":"message","user":"U1AU8DRQR","text":"I d like to ask a tricky question. Which is that part of the code that is executed right after a consensus is made e.g. pbft or a noops (as far that is a consensus)? If I m right it is exectxs in helper","ts":"1467048692.001091"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1467049111.001092"},{"type":"message","user":"U0XR6J961","text":"why is it tricky?","ts":"1467049115.001093"},{"type":"message","user":"U1AU8DRQR","text":"Just joking, it is not tricky. :-) so am I right? ","ts":"1467049541.001094"},{"type":"message","user":"U1AU8DRQR","text":"<@U0XR6J961>","ts":"1467051851.001095"},{"type":"message","user":"U0KN2SSKE","text":"I generally stay away from disabling something and prefer removing something; the former would require me to check whether something is disabled or enabled, whereas, the latter would just work as expected \u2014 if not there, 404 not found.","ts":"1467052054.001096"},{"type":"message","user":"U0ULK2JPP","text":"<@U0XR6J961> <@U0KPFAZNF> the whole point of removing system chaincodes from genesis block was to break that dependency and all the hassle in treating changes to syscc via chaincode upgrades through consensus as opposed to treating changes as part of fabric lifecycle.@simon _e.g. initialized in genesis, mutated through chaincode_ sounded it might bring back those dependencies","ts":"1467052356.001097"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP>: I agree, (limiting to) genesis block was not the right direction","ts":"1467052407.001098"},{"type":"message","user":"U0KPFAZNF","text":"this isnt to say that they cannot appear in genesis, only that they are not required to","ts":"1467052447.001099"},{"type":"message","user":"U142E5N0P","text":"What's the release plan for the next generation of fabric?  <https:\/\/github.com\/hyperledger\/fabric\/wiki\/Fabric-Next>\nAnd how current branch will evolve due to big changes from fabric next?","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/wiki\/Fabric-Next","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/wiki\/Fabric-Next","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1467082592.001100"},{"type":"message","user":"U0MSG4RL7","text":"Unit testers out there: when running `go test -v .` (or when a test fails), I see log output in INFO level. Is there a way to set log level to DEBUG for the tests? Setting the env var doesn't work (`viper.AutomaticEnv()` is called from `peer\/main.go` which is not running during unit tests). I read documentation in `logging-control.md` but it looks geared towards chaincode developers and the logging of `peer` itself.","ts":"1467122771.001102"},{"type":"message","user":"U0N1D1UAE","text":"Is anyone else experiencing problems with the \u201cCustody\u201d tests failing?","ts":"1467136837.001103"},{"type":"message","user":"U0XQ35CDD","text":"Bishop, yes. <https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev\/p1466791315001017>","attachments":[{"from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev\/p1466791315001017","fallback":"[June 24th, 2016 11:01 AM] kostas: I get these occasionally as well. See: <https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev\/p1466633952000957>","author_subname":"kostas","ts":"1466791315.001017","channel_id":"C0YPYBVJM","channel_name":"fabric-dev","is_msg_unfurl":true,"text":"I get these occasionally as well. See: <https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev\/p1466633952000957>","author_name":"Kostas Christidis","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/kostas","author_icon":"https:\/\/avatars.slack-edge.com\/2016-04-05\/31983107923_80db5353e9278df980c7_48.png","mrkdwn_in":["text"],"id":1,"footer":"Posted in #fabric-dev"}],"ts":"1467136881.001104"},{"type":"message","user":"U0N1D1UAE","text":"oops, should have searched for \u201ccustodian\u201d instead of \u201ccustody\u201d - Thanks","ts":"1467136942.001106"},{"type":"message","user":"U0N1D1UAE","text":"<@U0MSG4RL7>: I can\u2019t think of a way to do this that does not require modifying some code","ts":"1467137013.001107","reactions":[{"name":"+1","users":["U0MSG4RL7"],"count":1}]},{"type":"message","user":"U0XQ35CDD","text":"(This is a useful framework and one that we may want to reuse in the future in lieu of the naive broadcast that is going on, but I think we may want to remove it until that happens.)","ts":"1467137042.001108"},{"type":"message","user":"U0N1D1UAE","text":"<@U0MSG4RL7> If the \u201ccore\u201d package is being loaded by the test, we could modify init() in core\/logging.go to set the default directly from the env. var CORE_PEER_LOGGING_LEVEL (if defined)","ts":"1467137199.001109","reactions":[{"name":"+1","users":["U0MSG4RL7"],"count":1}]},{"user":"U1HD28HEH","type":"message","subtype":"channel_join","text":"<@U1HD28HEH|hangliu> has joined the channel","ts":"1467243643.001110"},{"user":"U1G3WJ740","type":"message","subtype":"channel_join","text":"<@U1G3WJ740|castlesb> has joined the channel","ts":"1467298706.001111"},{"user":"U1LNG6E8H","type":"message","subtype":"channel_join","text":"<@U1LNG6E8H|mikej> has joined the channel","ts":"1467298766.001112"},{"type":"message","user":"U1LNG6E8H","text":"How sandboxed is the chaincode runtime? Does the runtime _enforce_ that query chaincode functions cannot actually write anything?","ts":"1467298768.001113"},{"type":"message","user":"U0KPFAZNF","text":"<@U1LNG6E8H>: currently the chaincode runs in a somewhat permissive docker container\u2026eventually it will be more restrictive","ts":"1467300484.001114"},{"type":"message","user":"U0KPFAZNF","text":"as far as query enforcement, yes, at least w.r.t. fabric state","ts":"1467300503.001115"},{"type":"message","user":"U0KPFAZNF","text":"(chaincode only has indirect access to world state via the shim API (e.g. GetState, PutState)","ts":"1467300527.001116"},{"type":"message","user":"U0KPFAZNF","text":"it runs in a different process context (and in fact, a docker container) and can only access a) its own portion of world state, and b) during queries, a RO form of it","ts":"1467300571.001117"},{"type":"message","user":"U0KPFAZNF","text":"that said, because the container is somewhat permissive right now, the code could conceivably do some form of persistence within a query call within the limits of its docker jail","ts":"1467300629.001118"},{"type":"message","user":"U1LNG6E8H","text":"Thanks <@U0KPFAZNF> , this helps a lot. I don't totally understand the last part of the statement, but this is probably because I'm new at this. Will the \"permissive\" nature be made more secure in the next ~1\/2 year or so? Are PutState calls (direct or indirect) prevented from running during _query_ calls (they would need to work during an _invoke_ call)?\n\nIs there documentation somewhere that describes the concurrency\/consistency guarantees? For example, imagine a contract that moves\/records asset movements from A to B. Now imagine there are two simultaneous invocations of that contract: one moves the balance from alice to bob and the second moves the balance from alice to charlie. What do I need to do as a programmer to make sure that the original asset was not \"double spent\"?","ts":"1467303070.001119"},{"type":"message","user":"U0XR6J961","text":"yes, they are rejected for queries","ts":"1467304667.001120"},{"type":"message","user":"U0XR6J961","text":"there is no simultaneous","ts":"1467304680.001121"},{"type":"message","user":"U0XR6J961","text":"invokes are serialized","ts":"1467304688.001122"},{"type":"message","user":"U1LNG6E8H","text":"Excellent, thanks.","ts":"1467304739.001123"},{"user":"U18D82GJH","type":"message","subtype":"channel_join","text":"<@U18D82GJH|codascud> has joined the channel","ts":"1467311261.001124"},{"type":"message","user":"U11HH3P7Y","text":"Unit tests are failing in Jenkins z machines.. Builds are failing consistently. here is the failed build log file.. <https:\/\/jenkins.hyperledger.org\/job\/fabric-github-verify-z\/332\/consoleFull>","ts":"1467314629.001125"},{"type":"message","user":"U0UKTPMG8","text":"<@U11HH3P7Y>: this appears to be the unit tests now, correct?","ts":"1467315372.001126"},{"type":"message","user":"U11HH3P7Y","text":"yes","ts":"1467315388.001127"},{"type":"message","user":"U0UKTPMG8","text":"k","ts":"1467315394.001128"},{"type":"message","user":"U11MANG9G","text":"Instead of spamming this channel by merely reminding us all about the new channel, I'll just say that I'm going to discuss the verbosity of the logging of the `membersrvc` process (<https:\/\/github.com\/hyperledger\/fabric\/issues\/2085>)...","attachments":[{"service_name":"GitHub","title":"Membership Services (refactoring): graceful services shutdown \u00b7 Issue #2085 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/issues\/2085","text":"Membership Services should be able to to shutdown\/stop services (more) gracefully. Each *CA performs a few steps at init (from loading configrations\/keys to opening a DB connection and creating ta...","fallback":"GitHub: Membership Services (refactoring): graceful services shutdown \u00b7 Issue #2085 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars0.githubusercontent.com\/u\/1161321?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/issues\/2085","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1467319727.001129"},{"type":"message","user":"U11MANG9G","text":"... here: <#C1J0BM448> :wink:","ts":"1467319807.001133"},{"type":"message","user":"U0XR6J961","text":"there is a go implementation of the ethereum vm","ts":"1467377776.001134"},{"type":"message","user":"U0XR6J961","text":"should we look into optionally adding it as a system chaincode?","ts":"1467377795.001135"},{"type":"message","user":"U0ULK2JPP","text":"<@U0XR6J961> I was thinking of a separate process implementation but go implementation would bring other optiosn","ts":"1467378882.001136"},{"type":"message","user":"U0ULK2JPP","text":"handy link ?","ts":"1467378932.001137"},{"type":"message","user":"U0XR6J961","text":"<https:\/\/github.com\/ethereum\/go-ethereum\/tree\/master\/core\/vm>","attachments":[{"service_name":"GitHub","title":"ethereum\/go-ethereum","title_link":"https:\/\/github.com\/ethereum\/go-ethereum\/tree\/master\/core\/vm","text":"go-ethereum - Official golang implementation of the Ethereum protocol","fallback":"GitHub: ethereum\/go-ethereum","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/6250754?v=3&s=400","from_url":"https:\/\/github.com\/ethereum\/go-ethereum\/tree\/master\/core\/vm","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1467379536.001138"},{"type":"message","user":"U0ULK2JPP","text":"thanks much","ts":"1467380104.001140"},{"user":"U1N4KNWP2","type":"message","subtype":"channel_join","text":"<@U1N4KNWP2|thomas.leplus> has joined the channel","ts":"1467380556.001141"},{"type":"message","user":"U11HH3P7Y","text":"Need help to analyze unit-test failures in Jenkins Z machine issue #2063","ts":"1467383780.001142"},{"type":"message","user":"U11HH3P7Y","text":"Here is the log file: <https:\/\/jenkins.hyperledger.org\/view\/fabric\/job\/fabric-github-verify-z\/344\/consoleFull>","ts":"1467383875.001143"},{"type":"message","user":"U0XR6J961","text":"your docker doesn't seem to work?","ts":"1467384547.001144"},{"type":"message","subtype":"file_share","text":"<@U11HH3P7Y|ramesh> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ramesh\/F1N599WAY\/unit-test.txt|unit-test.txt> and commented: Yes..","file":{"id":"F1N599WAY","created":1467385053,"timestamp":1467385053,"name":"unit-test.txt","title":"unit-test.txt","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U11HH3P7Y","editable":true,"size":7767,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1N599WAY\/unit-test.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1N599WAY\/download\/unit-test.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ramesh\/F1N599WAY\/unit-test.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1N599WAY-618610303a","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ramesh\/F1N599WAY\/unit-test.txt\/edit","preview":"Running tests...\r\n?       github.com\/hyperledger\/fabric\/bddtests\/chaincode\/go\/table       [no test files]\r\n?       github.com\/hyperledger\/fabric\/consensus [no test files]\r\n?       github.com\/hyperledger\/fabric\/consensus\/controller      [no test files]\r\nok      github.com\/hyperledger\/fabric\/consensus\/executor        0.018s  coverage: 79.1% of statements\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Running tests...<\/pre><\/div>\n<div><pre>?       github.com\/hyperledger\/fabric\/bddtests\/chaincode\/go\/table       [no test files]<\/pre><\/div>\n<div><pre>?       github.com\/hyperledger\/fabric\/consensus [no test files]<\/pre><\/div>\n<div><pre>?       github.com\/hyperledger\/fabric\/consensus\/controller      [no test files]<\/pre><\/div>\n<div><pre>ok      github.com\/hyperledger\/fabric\/consensus\/executor        0.018s  coverage: 79.1% of statements<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":52,"lines_more":47,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc1N5FHUAU","created":1467385053,"timestamp":1467385053,"user":"U11HH3P7Y","is_intro":true,"comment":"Yes..","channel":""}},"user":"U11HH3P7Y","upload":true,"display_as_bot":false,"username":"<@U11HH3P7Y|ramesh>","bot_id":null,"ts":"1467385053.001145"},{"type":"message","user":"U11HH3P7Y","text":"It's firewall issue..","ts":"1467386065.001146"},{"type":"message","user":"U11HH3P7Y","text":"I deleted firewall rule from iptables which is rejecting..","ts":"1467386136.001147"},{"type":"message","user":"U11HH3P7Y","text":"all unit-tests are passed now.. :slightly_smiling_face:","ts":"1467386151.001148","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","subtype":"file_share","text":"<@U11HH3P7Y|ramesh> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ramesh\/F1N5GPVV2\/unit-test.txt|unit-test.txt>","file":{"id":"F1N5GPVV2","created":1467386209,"timestamp":1467386209,"name":"unit-test.txt","title":"unit-test.txt","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U11HH3P7Y","editable":true,"size":6359,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1N5GPVV2\/unit-test.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1N5GPVV2\/download\/unit-test.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ramesh\/F1N5GPVV2\/unit-test.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1N5GPVV2-2bd8129617","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ramesh\/F1N5GPVV2\/unit-test.txt\/edit","preview":"Running tests...\r\n?       github.com\/hyperledger\/fabric\/bddtests\/chaincode\/go\/table       [no test files]\r\n?       github.com\/hyperledger\/fabric\/consensus [no test files]\r\n?       github.com\/hyperledger\/fabric\/consensus\/controller      [no test files]\r\nok      github.com\/hyperledger\/fabric\/consensus\/executor        0.019s  coverage: 79.1% of statements\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Running tests...<\/pre><\/div>\n<div><pre>?       github.com\/hyperledger\/fabric\/bddtests\/chaincode\/go\/table       [no test files]<\/pre><\/div>\n<div><pre>?       github.com\/hyperledger\/fabric\/consensus [no test files]<\/pre><\/div>\n<div><pre>?       github.com\/hyperledger\/fabric\/consensus\/controller      [no test files]<\/pre><\/div>\n<div><pre>ok      github.com\/hyperledger\/fabric\/consensus\/executor        0.019s  coverage: 79.1% of statements<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":72,"lines_more":67,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U11HH3P7Y","upload":true,"display_as_bot":false,"username":"<@U11HH3P7Y|ramesh>","bot_id":null,"ts":"1467386209.001149"},{"user":"U11L9NAUW","type":"message","subtype":"channel_join","text":"<@U11L9NAUW|gromeroar> has joined the channel","ts":"1467404036.001150"},{"user":"U1N8VD2CE","type":"message","subtype":"channel_join","text":"<@U1N8VD2CE|sunsay00> has joined the channel","ts":"1467407982.001151"},{"type":"message","user":"U0XR6J961","text":"how do i deal with objects that mutually require references to each other?","ts":"1467725366.001152"},{"type":"message","user":"U1AU8DRQR","text":"hi","ts":"1467727149.001153"},{"type":"message","user":"U1AU8DRQR","text":"please give us feedback: <https:\/\/github.com\/hyperledger\/fabric\/pull\/2101>","attachments":[{"service_name":"GitHub","title":"New architecture by gabre \u00b7 Pull Request #2101 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/2101","text":"In this PR, we tried to start the conversion of fabric towards the new architecture (<https:\/\/github.com\/hyperledger\/fabric\/wiki\/Next-Consensus-Architecture-Proposal>). Description The PR and the...","fallback":"GitHub: New architecture by gabre \u00b7 Pull Request #2101 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/5565153?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/2101","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1467727174.001154"},{"type":"message","user":"U0XR6J961","text":"hgabor: hi!","ts":"1467803344.001156"},{"type":"message","user":"U1AU8DRQR","text":"Hi","ts":"1467803377.001157"},{"type":"message","user":"U0XR6J961","text":"i'm looking at your pull request","ts":"1467803390.001158"},{"type":"message","user":"U1AU8DRQR","text":"Cool :-) ","ts":"1467803408.001159"},{"type":"message","user":"U0XR6J961","text":"i guess this is a proposal\/sketch?","ts":"1467803552.001160"},{"type":"message","user":"U0XR6J961","text":"it seems that in parallel i started working on the external consensus part: <https:\/\/github.com\/corecode\/fabric\/commits\/separate-consensus>","attachments":[{"service_name":"GitHub","title":"corecode\/fabric","title_link":"https:\/\/github.com\/corecode\/fabric\/commits\/separate-consensus","text":"Blockchain fabric code","fallback":"GitHub: corecode\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/177979?v=3&s=400","from_url":"https:\/\/github.com\/corecode\/fabric\/commits\/separate-consensus","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1467803608.001161"},{"type":"message","user":"U0XR6J961","text":"the only difference seems to be that I split the consensus API","ts":"1467803637.001163"},{"type":"message","user":"U0XR6J961","text":"into a `Deliver() returns stream` and a `Broadcast` rpc","ts":"1467803657.001164"},{"type":"message","user":"U1AU8DRQR","text":"Yes it is but we also have 3 older pr s, TX rejection events, noop chaincode and 'do not store failed txs'","ts":"1467803712.001165"},{"type":"message","user":"U0XR6J961","text":"we also should look into whether we want to stick to protobufs, or whether there are faster interfaces","ts":"1467803715.001166"},{"type":"message","user":"U0XR6J961","text":"oh i am totally in favor of those","ts":"1467803728.001167"},{"type":"message","user":"U0XR6J961","text":"i just can't commit","ts":"1467803734.001168"},{"user":"U0R7Q5C30","type":"message","subtype":"channel_join","text":"<@U0R7Q5C30|zsolt> has joined the channel","ts":"1467803754.001169"},{"type":"message","user":"U0XR6J961","text":"cbf: you mentioned that GH doesn't have support for epics - wouldn't a checkbox list of sub-issues work?","ts":"1467803812.001170"},{"type":"message","user":"U1AU8DRQR","text":"For the sketch: we wanted to start a discussion on the new architecture and the different approaches :-) ","ts":"1467803867.001171"},{"type":"message","user":"U0KM61BCP","text":"<@U0XR6J961>: sure, you could maintain a list of links and some indication of whether they are complete, etc. but my point was that there is no formal handling of epics with GH issues.","ts":"1467803877.001172"},{"type":"message","user":"U1AU8DRQR","text":"I will have a look at your version <@U0XR6J961> ","ts":"1467803902.001173"},{"type":"message","user":"U0XR6J961","text":"cbf: i wonder whether checkmarked sub-issues can show their open\/closed status","ts":"1467803921.001174"},{"type":"message","user":"U0XR6J961","text":"if so that would be quite close","ts":"1467803938.001175"},{"type":"message","user":"U0KM61BCP","text":"<@U0XR6J961>: I am unaware of that capability to expose the status of an issue via a link.","ts":"1467803981.001176"},{"type":"message","user":"U0KM61BCP","text":"<@U1AU8DRQR>: <@U0MT4CBHB> regarding the \u201csketch\u2019 PR - would a feature branch be an effective means of moving this forward rapidly?","ts":"1467804049.001177"},{"type":"message","user":"U0KM61BCP","text":"and collaboratively","ts":"1467804074.001178"},{"type":"message","user":"U0KM61BCP","text":"<@U0XR6J961> <@U0XPR4NP4> would you be willing to collaborate on a feature branch approach to fleshing out the new consensus architecture?","ts":"1467804126.001179"},{"type":"message","user":"U0KM61BCP","text":"just trying to determine the most effective approach here","ts":"1467804158.001180"},{"type":"message","user":"U0R7Q5C30","text":"<@U0KM61BCP> I think what is important, that there is some coordination about who does what. Right now there are multiple people developing the exact same thing, and it wastes a lot of effort. The feature branch will not help in this. Besides this, the feature branch can be useful for integration, but we also have a different problem here.","ts":"1467804284.001181"},{"type":"message","user":"U0XR6J961","text":"the consensus team has been doing that forever","ts":"1467804285.001182"},{"type":"message","user":"U0XR6J961","text":"we run our own feature branches in our forks","ts":"1467804296.001183"},{"type":"message","user":"U0XR6J961","text":"and work off of each other","ts":"1467804302.001184"},{"type":"message","user":"U0KM61BCP","text":"<@U0XR6J961> private branches don\u2019t count","ts":"1467804309.001185"},{"type":"message","user":"U0XR6J961","text":"because?","ts":"1467804319.001186"},{"type":"message","user":"U0KM61BCP","text":"because no one in the community can collaborate on those","ts":"1467804332.001187"},{"type":"message","user":"U0XR6J961","text":"everybody can","ts":"1467804338.001188"},{"type":"message","user":"U0KM61BCP","text":"if we are going to do this, we should do it as a function of hyperledger","ts":"1467804351.001189"},{"type":"message","user":"U0XR6J961","text":"ah yes","ts":"1467804355.001190"},{"type":"message","user":"U0XR6J961","text":"well, without easy committing","ts":"1467804363.001191"},{"type":"message","user":"U0XR6J961","text":"you'll never see efficient collaboration on the main repo","ts":"1467804372.001192"},{"type":"message","user":"U0XR6J961","text":"it takes days or months to get PRs in","ts":"1467804386.001193"},{"type":"message","user":"U0R7Q5C30","text":"<@U0XR6J961> the problem with private branches, is that the others don\u2019t know about them. For example in this case, you developed the same thing as we did, because there was no communication\/coordination","ts":"1467804438.001194"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1467804445.001195"},{"type":"message","user":"U0R7Q5C30","text":"the same stands for us as well","ts":"1467804463.001196"},{"type":"message","user":"U0KM61BCP","text":"IMO, we should have similar rigor over feature branches as we do for the main code","ts":"1467804471.001197"},{"type":"message","user":"U0XR6J961","text":"that's not the problem of the private branch, but the problem of real bad communication infrastructure and culture in this project","ts":"1467804471.001198"},{"type":"message","user":"U0KM61BCP","text":"<@U0XR6J961>: no doubt the communications and collaboration could use some improvement","ts":"1467804517.001199"},{"type":"message","user":"U0KM61BCP","text":"we could add maintainers for a feature branch - but I would want to ensure that the same criteria were being applied","ts":"1467804646.001200"},{"type":"message","user":"U0KM61BCP","text":"just because it is a feature branch shouldn\u2019t diminish the need for comprehensive testing and effective documentation","ts":"1467804674.001201"},{"type":"message","user":"U0KM61BCP","text":"and we would definitely want multiple eyes reviewing code before it is merged","ts":"1467804705.001202"},{"type":"message","user":"U0KM61BCP","text":"in the context of a new feature, I also thin that at least one of the main project\u2019s maintainers be actively involved","ts":"1467804740.001203"},{"type":"message","user":"U0XR6J961","text":"in what way?","ts":"1467804765.001204"},{"type":"message","user":"U0KM61BCP","text":"in reviewing at least","ts":"1467804780.001205"},{"type":"message","user":"U0XR6J961","text":"that doesn't scale","ts":"1467804819.001206"},{"type":"message","user":"U0XR6J961","text":"we already have a huge lag for PR merges","ts":"1467804846.001207"},{"type":"message","user":"U0KM61BCP","text":"otherwise when the feature is ready to be merged, there\u2019ll be a gazillion lines of code to be reviewed - again, all at once","ts":"1467804848.001208"},{"type":"message","user":"U0KM61BCP","text":"and THAT does not scale","ts":"1467804855.001209"},{"type":"message","user":"U0XR6J961","text":"well that's why you have multiple people working together","ts":"1467804867.001210"},{"type":"message","user":"U0KM61BCP","text":"the maintainers can add more maintainers","ts":"1467804868.001211"},{"type":"message","user":"U0XR6J961","text":"well that has not happened at all","ts":"1467804876.001212"},{"type":"message","user":"U0XR6J961","text":"effectively there are 2.5 people who merge code","ts":"1467804895.001213"},{"type":"message","user":"U0KM61BCP","text":"yes, I am aware of that","ts":"1467805736.001214"},{"type":"message","user":"U0XPR4NP4","text":"<@U0KM61BCP> I'm not opposed to a feature branch for this work, though to <@U0XR6J961>'s point, I'm not really sure what the benefit would be.  If the merge process is the same, what is the advantage over working in master?","ts":"1467813240.001215"},{"type":"message","user":"U0KM61BCP","text":"<@U0XPR4NP4>: well, it means master can continue unabated and without constant change - we can plan a more effective transition from just peer and membersrvc to one where we add another operational component into the mix.","ts":"1467817246.001216"},{"type":"message","user":"U0KM61BCP","text":"we could do the same with feature flags, I suppose","ts":"1467817281.001217"},{"type":"message","user":"U1AU8DRQR","text":"what should we do with our branch of next gen architecture?","ts":"1467883179.001218"},{"type":"message","user":"U1AU8DRQR","text":"we will check yours, that's ok","ts":"1467883197.001219"},{"type":"message","user":"U0XR6J961","text":"my branch is just for the separate consensus service","ts":"1467884815.001220"},{"type":"message","user":"U0XR6J961","text":"why do some parts of fabric use `grpclog`?","ts":"1467885998.001221"},{"type":"message","user":"U1AU8DRQR","text":"<@U0XR6J961> I had a look at grpclog and - I guess you know this - it is the logging of grpc. so I agree that we should remove that from our code and use fabric logger instead","ts":"1467961622.001222"},{"type":"message","user":"U1AU8DRQR","text":"<@U0KM61BCP>: Jenkins error 'protoc not found' is getting usual. Can I do anything to help fixing it? :slightly_smiling_face:","edited":{"user":"U1AU8DRQR","ts":"1467961760.000000"},"ts":"1467961713.001223"},{"user":"U147GA9A4","text":"<@U147GA9A4|jay_guo> has joined the channel","type":"message","subtype":"channel_join","ts":"1467981306.001227"},{"type":"message","user":"U11HH3P7Y","text":"<@U1AU8DRQR>: Please refer issue#2035","ts":"1467982365.001228"},{"type":"message","user":"U0TFEHX8E","text":"<@U0XR6J961>: I think the protobuf ship has sailed and that\u2019s what we\u2019re using. <https:\/\/google.github.io\/flatbuffers\/> seem interesting, but it would be a big change at this point","ts":"1468011437.001229"},{"type":"message","user":"U0TFEHX8E","text":"<@U0XR6J961>: <@U0KM61BCP> What about opening a PR for your branch and marking it WIP as was done at <https:\/\/github.com\/hyperledger\/fabric\/pull\/2101> ? Then you (and others) can commit and people can see what you\u2019re working on and make comments","edited":{"user":"U0TFEHX8E","ts":"1468011634.000000"},"ts":"1468011630.001230"},{"type":"message","user":"U0KM61BCP","text":"<@U0TFEHX8E>: I agree that we should expose the various branches under development for the new consensus arch so that we can compare notes and hopefully converge on a single feature branch","ts":"1468011755.001233"},{"type":"message","user":"U0TFEHX8E","text":"<@U0XR6J961>:  <@U0KM61BCP>: <http:\/\/ben.straub.cc\/2015\/04\/02\/wip-pull-request\/>","attachments":[{"service_name":"Ben Straub","title":"The WIP Pull Request \u2013 Ben Straub","title_link":"http:\/\/ben.straub.cc\/2015\/04\/02\/wip-pull-request\/","text":"So you\u2019re working on a project on GitHub, and your team is using pull requests.This means you\u2019re getting a notificati...","fallback":"Ben Straub: The WIP Pull Request \u2013 Ben Straub","from_url":"http:\/\/ben.straub.cc\/2015\/04\/02\/wip-pull-request\/","service_icon":"http:\/\/ben.straub.cc\/favicon.png","id":1}],"ts":"1468012833.001234"},{"type":"message","user":"U0KM61BCP","text":"fine if one developer is doing all the work","ts":"1468012999.001236"},{"type":"message","user":"U0KM61BCP","text":"but not for larger problems that involve coordination of multiple threads of development","ts":"1468013019.001237"},{"type":"message","user":"U0KM61BCP","text":"something like the new consensus arch seems like something that more than one needs to work on, no?","ts":"1468013069.001238"},{"type":"message","user":"U0TFEHX8E","text":"not sure I understand. Multiple people can contribute to one PR.","ts":"1468013091.001239"},{"type":"message","user":"U0KM61BCP","text":"if they are working on a common branch, sure","ts":"1468013118.001240"},{"type":"message","user":"U0KM61BCP","text":"or am I missing something","ts":"1468013196.001241"},{"type":"message","user":"U0XR6J961","text":"cbf: the person who submitted the PR can pull contributions and merge them into their PR","ts":"1468013893.001242"},{"type":"message","user":"U0TFEHX8E","text":"yes, and sometimes I see people give others direct push access on their repository. Those would also show up in the PR, correct?","ts":"1468014060.001243"},{"type":"message","user":"U0KM61BCP","text":"well, I guess that\u2019s my point\u2026 you need to have the development branch, wherever that is, available for others to push to (or submit PRs). This is why I think that feature branches hosted by Hyperledger Fabric and participating in CI make a bit more sense, though managing PRs to the branch needs some thought. I don\u2019t know enough about Gerrit to know whether we can manage things more fine-grained.","ts":"1468017699.001244"},{"user":"U10PFCC4R","text":"<@U10PFCC4R|buhrmi> has joined the channel","type":"message","subtype":"channel_join","ts":"1468033915.001245"},{"type":"message","user":"U1CK6522F","text":"Hi, If a Validator restart in the middle, will it sync its blockchain, worldstate and chaincode with other Validtors?","ts":"1468222564.001246"},{"type":"message","user":"U1AU8DRQR","text":"<@U1CK6522F>:  as far as I know yes","ts":"1468224318.001247"},{"type":"message","user":"U1AU8DRQR","text":"on master, I am unable to build protos (make protos). it fails with an error","ts":"1468224446.001248"},{"type":"message","user":"U1AU8DRQR","text":"bad import in \/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/chaincode\/shim\/java\/src\/main\/proto\/chaincode.proto I think, I will fix it","ts":"1468224765.001249"},{"type":"message","user":"U1AU8DRQR","text":"please check this: <https:\/\/github.com\/hyperledger\/fabric\/pull\/2162>","attachments":[{"service_name":"GitHub","title":"Fix proto build by gabre \u00b7 Pull Request #2162 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/2162","text":"Description This PR fixes proto build ('make protos') which gave an error cause of a wrong import. Motivation and Context To motivation is to make protos compile again on master. How Has ...","fallback":"GitHub: Fix proto build by gabre \u00b7 Pull Request #2162 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/5565153?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/2162","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1468225188.001250"},{"type":"message","user":"U1CK6522F","text":"Is it true that stub.GetState\/DelState\/PutState much faster than  stub.GetRow\/ReplaceRow\/InsertRow ? At lease it gave such an impression when I looked into the code.","ts":"1468225457.001252"},{"type":"message","user":"U1CK6522F","text":"<@U1AU8DRQR>: I killed a Validator then restarted it. It wouldn't sync chaincode with other Validators :sweat_smile:","ts":"1468239919.001253"},{"type":"message","user":"U0XR6J961","text":"sync?","ts":"1468240199.001254"},{"type":"message","user":"U1AU8DRQR","text":"hmm yes, chaincode is not on the ledger so it wont sync that. <@U0XR6J961> please correct me if I am wrong","ts":"1468240269.001255"},{"type":"message","user":"U0XR6J961","text":"chaincode is part of the blockchain","ts":"1468240283.001256"},{"type":"message","user":"U0XR6J961","text":"i don't know what sync means","ts":"1468240297.001257"},{"type":"message","user":"U0XR6J961","text":"needs more detailed explanation","ts":"1468240307.001258"},{"type":"message","user":"U1AU8DRQR","text":"I guess it means synchronization  of a node that lags behind the others","ts":"1468240333.001259"},{"type":"message","user":"U1AU8DRQR","text":"e.g. it is restarted","ts":"1468240338.001260"},{"type":"message","user":"U1AU8DRQR","text":"is system chaincode part of the ledger too? was't that removed from there? I am nearly sure that muralisr made a PR that removed system chaincodes from genesis block","ts":"1468240412.001261"},{"type":"message","user":"U1CK6522F","text":"I mean the restarted Validator should deploy the same chaincode with other Validators  and sync transactions that lag behind","ts":"1468241371.001262"},{"type":"message","user":"U0XR6J961","text":"please explain the setup","ts":"1468241461.001263"},{"type":"message","user":"U1CK6522F","text":"I started 4 Validators, and deployed chaincode_example02. Then I invoked it several times. After that, I restarted one Validator. No chaincode deployed in that validator.","ts":"1468241692.001264"},{"type":"message","user":"U0XR6J961","text":"it was already deployed","ts":"1468241816.001265"},{"type":"message","user":"U0XR6J961","text":"do you mean no docker container was started?","ts":"1468241831.001266"},{"type":"message","user":"U1CK6522F","text":"But i haven't seen the container.","ts":"1468241838.001267"},{"type":"message","user":"U0XR6J961","text":"did you submit a new transaction?","ts":"1468241854.001268"},{"type":"message","user":"U0XR6J961","text":"<@U0ULK2JPP>: maybe chaincodes should be launched when the peer restarts","ts":"1468241931.001269"},{"type":"message","user":"U0ULK2JPP","text":"<@U0XR6J961> why ? sounds like they are not even there ?","ts":"1468242014.001270"},{"type":"message","user":"U0XR6J961","text":"why not?","ts":"1468242024.001271"},{"type":"message","user":"U0XR6J961","text":"it will have to be launched eventually","ts":"1468242030.001272"},{"type":"message","user":"U0ULK2JPP","text":"_No chaincode deployed in that validator._","ts":"1468242032.001273"},{"type":"message","user":"U0XR6J961","text":"wrong phrasing","ts":"1468242039.001274"},{"type":"message","user":"U0XR6J961","text":"what zuowang means is that no container is started","edited":{"user":"U0XR6J961","ts":"1468242052.000000"},"ts":"1468242046.001275"},{"type":"message","user":"U0ULK2JPP","text":"if it is there it should be started on invoke\/query","ts":"1468242082.001277"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1468242086.001278"},{"type":"message","user":"U1CK6522F","text":"I submit a new transaction rightnow, and no container is started.","ts":"1468242092.001279"},{"type":"message","user":"U0XR6J961","text":"and i'm saying, why not lauch it when the peer starts","ts":"1468242094.001280"},{"type":"message","user":"U0ULK2JPP","text":"focusing on this problem :slightly_smiling_face: doesn\u2019t make a diff","ts":"1468242126.001281"},{"type":"message","user":"U0ULK2JPP","text":"and that\u2019s a different matter\u2026 I like the lazy start myself","ts":"1468242143.001282"},{"type":"message","user":"U0XR6J961","text":"why?","ts":"1468242181.001283"},{"type":"message","user":"U1CK6522F","text":"not sure. I an starting 4 validators in vagrant without memversvr.","ts":"1468242224.001284"},{"type":"message","user":"U0ULK2JPP","text":"<@U1CK6522F>: what exactly are you seeing ?","ts":"1468242235.001285"},{"type":"message","user":"U1CK6522F","text":"fix a typo. not sure. I an starting 4 validators in vagrant without membersvr.","ts":"1468242240.001286"},{"type":"message","user":"U0ULK2JPP","text":"you submit a deploy","ts":"1468242249.001287"},{"type":"message","user":"U0XR6J961","text":"it will start a container when you submit a query to this node, or a invoke","ts":"1468242271.001288"},{"type":"message","user":"U0ULK2JPP","text":"but one validator does not have the deploy ?","ts":"1468242274.001289"},{"type":"message","user":"U1CK6522F","text":"I submited a invoke but the the container didn't start.","ts":"1468242320.001290"},{"type":"message","user":"U1CK6522F","text":"And query the chaincode will fail.","ts":"1468242340.001291"},{"type":"message","user":"U0XR6J961","text":"what's the error?","ts":"1468242350.001292"},{"type":"message","user":"U1CK6522F","text":"I don't think we need to deploy the chaincode again when one Validator restart from failure.","ts":"1468242410.001293"},{"type":"message","user":"U1CK6522F","text":"Error: Error querying chaincode: rpc error: code = 2 desc = \"Error:Failed to launch chaincode spec(Could not get deployment transaction for 4c9eb45d4395ecf630296eddfe3a3cc49d8ee7a14a3fd0a9ce45ecb7a9420b1a6ab20f0e51198b70bcd904e16e874f72dde928ffe29fba429081217e925ff77f - LedgerError - ResourceNotFound: ledger: resource not found)\"","ts":"1468242426.001294"},{"type":"message","user":"U1CK6522F","text":"<@U0XR6J961> If it's a bug, could you help to reproduce in your machine?","ts":"1468242625.001295"},{"type":"message","user":"U0XR6J961","text":"no, sorry","ts":"1468242631.001296"},{"type":"message","user":"U0XR6J961","text":"i have a completely different branch running","ts":"1468242638.001297"},{"type":"message","user":"U0XR6J961","text":"this is something that is in <@U0ULK2JPP>  area","ts":"1468242652.001298"},{"type":"message","user":"U0XR6J961","text":"but i have not seen this problem yet","ts":"1468242658.001299"},{"type":"message","user":"U0ULK2JPP","text":"it basically says that the deployed transaction is not found in the ledger","ts":"1468242700.001300"},{"type":"message","user":"U1CK6522F","text":"sorry, I wil be offline rightnow","ts":"1468242781.001301"},{"type":"message","user":"U0ULK2JPP","text":"is it possible the invoke was done before the system \u201ccaught up\u201d ? (apologize if I should have this info from above conversation\u2026)","ts":"1468243352.001302"},{"type":"message","user":"U0XR6J961","text":"the setup was described as: 1. create 4 validator network, 2. deploy &amp; invoke, 3. restart one validator, 4. submit query to restarted validator","ts":"1468243849.001303"},{"type":"message","user":"U0XR6J961","text":"why does chaincode still log such exorbitant amounts?","ts":"1468248102.001304"},{"type":"message","user":"U0XR6J961","text":"shouldn't that have been fixed long ago?","ts":"1468248113.001305"},{"type":"message","user":"U0ULK2JPP","text":"<@U0XR6J961>, mostly in debug ?","ts":"1468248263.001306"},{"type":"message","user":"U0XR6J961","text":"no idea","ts":"1468248274.001307"},{"type":"message","user":"U0XR6J961","text":"docker uses 30% cpu","ts":"1468248281.001308"},{"type":"message","user":"U0XR6J961","text":"and docker logs is super busy","ts":"1468248290.001309"},{"type":"message","user":"U0ULK2JPP","text":"ok. i was going to do some runs without logs. I always have to go back and figure out how to turn off logs.","ts":"1468248404.001310"},{"type":"message","user":"U0ULK2JPP","text":"going to  get started on this this week","ts":"1468248573.001311"},{"type":"message","user":"U0XR6J961","text":"i think the logs should be off except for development mode","ts":"1468249158.001312"},{"type":"message","user":"U0XR6J961","text":"and if there is something important to log, it should be aggregated into the main log","ts":"1468249194.001313"},{"type":"message","user":"U11MANG9G","text":"---","ts":"1468253795.001314"},{"type":"message","user":"U11MANG9G","text":"Good morning!","ts":"1468253797.001315"},{"type":"message","user":"U11MANG9G","text":"Do we have any `soft` or `hard` policy regarding unused code?","ts":"1468253818.001316"},{"type":"message","user":"U11MANG9G","text":"I found some more code that is not being used yet, and I suggest to remove it (until it is used)... but I wonder if it's my opinion\/do others subscribe to this point of view....or otherwise?","ts":"1468253875.001317"},{"type":"message","user":"U0KM61BCP","text":"personally, I don\u2019t like dead code","ts":"1468254437.001318"},{"type":"message","user":"U0KM61BCP","text":"if the code is being added for a disabled feature, that\u2019s another thing entirely","ts":"1468254461.001319"},{"type":"message","user":"U0KM61BCP","text":"however, code that is added without a clear path to its use seems silly to me","ts":"1468254478.001320"},{"type":"message","user":"U0KM61BCP","text":"we can always recover later if someone comes up with a need","ts":"1468254516.001321"},{"type":"message","user":"U11MANG9G","text":"Yes, I agree. Especially in `git` where nothing's really deleted.","ts":"1468254912.001322"},{"type":"message","user":"U0XR6J961","text":"what specifically?","ts":"1468255010.001323"},{"type":"message","user":"U11MANG9G","text":"Also, IMO  it's much easier to review code, when one sees how it is being used\/check that tests test\/replicate an actual use-case, etc.","ts":"1468255067.001324"},{"type":"message","user":"U11MANG9G","text":"<@U0XR6J961> 2111, for example","ts":"1468255095.001325"},{"type":"message","user":"U11MANG9G","text":"<https:\/\/github.com\/hyperledger\/fabric\/issues\/2111>","attachments":[{"service_name":"GitHub","title":"[CRYPTO CLEANUP] Rijndael\/AES-256 GSM mode? \u00b7 Issue #2111 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/issues\/2111","text":"Description Taking a look at some of the crypto, I just noticed an AES256 GSM mode(?) set of functions implemented in a bespoke aes package on master in core\/crypto\/primitives\/aes\/gcm.go I know...","fallback":"GitHub: [CRYPTO CLEANUP] Rijndael\/AES-256 GSM mode? \u00b7 Issue #2111 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars0.githubusercontent.com\/u\/1161321?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/issues\/2111","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1468255130.001326"},{"type":"message","user":"U11MANG9G","text":"(that underlying code needs some work, IMO)","ts":"1468255216.001328"},{"type":"message","user":"U11MANG9G","text":"And it can be probably (re)introduced as part of the usage","ts":"1468255249.001329"},{"type":"message","user":"U0XR6J961","text":"i guess","ts":"1468255273.001330"},{"type":"message","user":"U11MANG9G","text":"<@U0XR6J961>: Is this a yes\/no or a maybe? :wink:","ts":"1468255486.001331"},{"type":"message","user":"U0XR6J961","text":"it's an i don't care enough to have an opinion","ts":"1468255577.001332"},{"type":"message","user":"U0XR6J961","text":"there are many more things that are just awful in this codebase","ts":"1468255589.001333","reactions":[{"name":"white_check_mark","users":["U11MANG9G"],"count":1},{"name":"+1","users":["U11MANG9G"],"count":1}]},{"type":"message","user":"U11MANG9G","text":"I completely agree with you. Trying to (sometimes\/more often) change what bothers me, at least...","ts":"1468256014.001334"},{"type":"message","user":"U0KM61BCP","text":"<@U0XR6J961> all the more reason to omit code that isn\u2019t used","ts":"1468258168.001335"},{"type":"message","user":"U0UKTPMG8","text":"<@U0KM61BCP>: <@U11MANG9G> it is fairly straight forward to create a full coverage report of the code which should also indicate dead paths (or missing tests :slightly_smiling_face: )","ts":"1468260599.001336"},{"type":"message","user":"U11MANG9G","text":"<@U0UKTPMG8>: Absolutely. Even more so for a struct that is never called (yet)","ts":"1468263672.001337"},{"type":"message","user":"U1CK6522F","text":"<@U0XR6J961> <@U0ULK2JPP> : I actually have reported the high docker cpu usage issue and pushed a PR half a month ago. But was suggested to close. <https:\/\/github.com\/hyperledger\/fabric\/pull\/2024>","attachments":[{"service_name":"GitHub","title":"add log-level support for chaincode by zuowang \u00b7 Pull Request #2024 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/2024","text":"Description read in config file from current path config log-level for chaincode Motivation and Context Fixes #2023 How Has This Been Tested? deploy a chaincode, check log-level wit...","fallback":"GitHub: add log-level support for chaincode by zuowang \u00b7 Pull Request #2024 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/10447352?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/2024","thumb_width":360,"thumb_height":360,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1468283428.001338"},{"type":"message","user":"U0XR6J961","text":"zuowang: i see","ts":"1468315060.001340"},{"type":"message","user":"U0XR6J961","text":"i think chaincode shouldn't log at all by default","ts":"1468315141.001341"},{"type":"message","user":"U0XR6J961","text":"it is not going anywhere where the log can be captured","ts":"1468315151.001342"},{"type":"message","user":"U0XR6J961","text":"easily","ts":"1468315157.001343"},{"type":"message","user":"U0XR6J961","text":"i'm always in favor of simpler code, rather than more complicated code","ts":"1468315184.001344"},{"type":"message","user":"U1AU8DRQR","text":"what is a car file? there is one in core\/chaincode\/platforms\/car\/test","ts":"1468320618.001345"},{"type":"message","user":"U0XR6J961","text":"chaincode archive, i think","ts":"1468321045.001346"},{"type":"message","user":"U1AU8DRQR","text":"and how can one create such an archive?","ts":"1468321273.001347"},{"type":"message","user":"U0XR6J961","text":"i have no idea - ghaskins worked on this","ts":"1468321563.001348"},{"type":"message","user":"U0KPFAZNF","text":"<@U1AU8DRQR>: <https:\/\/github.com\/hyperledger\/fabric-chaintool>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1468321634.001349"},{"type":"message","user":"U0KPFAZNF","text":"\"chaintool package\" specifically would be used to create a .car","ts":"1468321679.001351"},{"type":"message","user":"U1AU8DRQR","text":"so in order to replace that car file I mentioned before, I have to run this, right?","ts":"1468321781.001352"},{"type":"message","user":"U1AU8DRQR","text":"I want to create a new car file because I modified the example chaincode the car file was created from","ts":"1468321807.001353"},{"type":"message","user":"U0KPFAZNF","text":"Sounds like that is the case","ts":"1468321883.001354"},{"type":"message","user":"U1AU8DRQR","text":"thanks","ts":"1468321891.001355"},{"type":"message","user":"U0KPFAZNF","text":"Note that vagrant comes prepackaged with chaintool already in the path","ts":"1468321941.001356"},{"type":"message","user":"U0KPFAZNF","text":"It's an older version, but that shouldn't matter for package operation","ts":"1468321974.001357"},{"type":"message","user":"U0KPFAZNF","text":"Also, let me know what the mod was so I can figure out if I should merge it with the examples in the chaintool repo","ts":"1468322046.001358"},{"type":"message","user":"U1AU8DRQR","text":"I am trying to create a PR where we use TxID instead of UUID. TxID is created using all the parameters of a chaincode (arguments, args) by calling SHA256","ts":"1468322141.001359"},{"type":"message","user":"U1AU8DRQR","text":"I have replaced the current type of args ([]string) with [][]byte","ts":"1468322174.001360"},{"type":"message","user":"U1AU8DRQR","text":"this made me modify the chaincode examples","ts":"1468322215.001361"},{"type":"message","user":"U0XR6J961","text":"hgabor: but what if you invoke the same chaincode twice with the same args?","ts":"1468322276.001362"},{"type":"message","user":"U0XR6J961","text":"won't you have the same ID then?","ts":"1468322285.001363"},{"type":"message","user":"U0XR6J961","text":"and why [][]byte?","ts":"1468322301.001364"},{"type":"message","user":"U0XR6J961","text":"and why is ghaskins awake","ts":"1468322346.001365"},{"type":"message","user":"U0KPFAZNF","text":"I would share <@U0XR6J961>'s concern.  Also don't understand why you would need to change the parameter types to generate a hash","ts":"1468322384.001366"},{"type":"message","user":"U0KPFAZNF","text":"Heh, not only should I not be awake, I am technically still on holiday until tomorrow ;)","ts":"1468322424.001367"},{"type":"message","user":"U0MT4CBHB","text":"<@U0KPFAZNF>: why would we have strings? Strings are natural for command line but not for an rpc interface.","ts":"1468322645.001368"},{"type":"message","user":"U1AU8DRQR","text":"[][]byte can be interpreted in any way - it depends on the chaincode so it is more general. it is easy to generate a hash using bytes. if we used a string we would need some method to create bytes from it. but this is not trivial, how to do it? UTF8? some other decoding?","edited":{"user":"U1AU8DRQR","ts":"1468322738.000000"},"ts":"1468322719.001369"},{"type":"message","user":"U0KPFAZNF","text":"<@U0MT4CBHB>: I don't disagree with that.  Chaintool does exactly this by encoding protobuf objects with the string","ts":"1468322806.001371"},{"type":"message","user":"U0MT4CBHB","text":"<@U0XR6J961> if it was permissible to call chaincode with same args then it would be open to trivial replay attack","ts":"1468322956.001372"},{"type":"message","user":"U0XR6J961","text":"the chaincode call contract is different from the transaction that wraps the arguments","ts":"1468322988.001373"},{"type":"message","user":"U0XR6J961","text":"a transaction contains a timestamp, and crypto fields","ts":"1468323014.001374"},{"type":"message","user":"U0XR6J961","text":"nonce, signature, etc.","ts":"1468323022.001375"},{"type":"message","user":"U0XR6J961","text":"tamas: however, replay attack protection is essentially non-existent in fabric at the moment","ts":"1468323060.001376"},{"type":"message","user":"U0KPFAZNF","text":"<@U1AU8DRQR>: that sounds more like a golang specific challenge of dealing with string types than a core requirement for hashing","ts":"1468323072.001377"},{"type":"message","user":"U0XR6J961","text":"hgabor: then the arguments should be []byte?","ts":"1468323087.001378"},{"type":"message","user":"U0KPFAZNF","text":"But that said, I see both you and <@U0MT4CBHB> points","ts":"1468323100.001379"},{"type":"message","user":"U0XR6J961","text":"[]byte(\"string\")","ts":"1468323122.001380"},{"type":"message","user":"U0XR6J961","text":"gives you the bytes to a string","ts":"1468323127.001381"},{"type":"message","user":"U0XR6J961","text":"i think we should either do `args  []byte` and the chaincode does the unmarshalling and interpretation itself","ts":"1468323209.001382"},{"type":"message","user":"U0MT4CBHB","text":"<@U0XR6J961> I can not see the difference call contract vs. transaction. I assume that it is the job of chaincode to decide if transaction is valid.","ts":"1468323229.001383"},{"type":"message","user":"U1AU8DRQR","text":"<@U0XR6J961> yes and this way the client can easily generate the hash\/ID of a TX. but if we used []bytes(\"string\") then the client would have to convert all the arguments he wants to send to fabric to UTF8 byte arrays and calculate the SHA256 from that. and IMO this is ugly. :slightly_smiling_face: but a byte array... for a chain code it can mean anything. e.g. one can encode chaincode specific information into that byte array. this is more general.","ts":"1468323259.001384"},{"type":"message","user":"U0XR6J961","text":"or we enforce an array of strings, or (my preference) a validly parsing object (JSON?)","ts":"1468323266.001385"},{"type":"message","user":"U0XR6J961","text":"tamas: let's take a simple counter chaincode.  it has one function, \"increment\".  how would that chaincode perform replay protection?","ts":"1468323341.001386"},{"type":"message","user":"U1AU8DRQR","text":"<@U0XR6J961> IMO args [] byte is the same as args [][]byte. one only have to concatenate those bytes and add field delimiters. :slightly_smiling_face:","ts":"1468323361.001387"},{"type":"message","user":"U0KPFAZNF","text":"I guess what I don't understand is why are you even looking at payload fields","ts":"1468323379.001388"},{"type":"message","user":"U0XR6J961","text":"hgabor: so it isn't the same","ts":"1468323385.001389"},{"type":"message","user":"U1AU8DRQR","text":"<@U0XR6J961> so you prefer []byte ?","ts":"1468323460.001390"},{"type":"message","user":"U0XR6J961","text":"with v2, the mvcc\/readset will automatically prevent replay attacks though","ts":"1468323463.001391"},{"type":"message","user":"U0KPFAZNF","text":"Back to bed for me.  I'll be fully online tomorrow.  Cheers","ts":"1468323505.001392"},{"type":"message","user":"U0XR6J961","text":"hgabor: a pure `[]byte` is elegant, on one side of the spectrum","ts":"1468323508.001393"},{"type":"message","user":"U0XR6J961","text":"and it allows the flexibility of chaincodes to use any kind of serialization format","ts":"1468323544.001394"},{"type":"message","user":"U1AU8DRQR","text":"<@U0XR6J961> I like the idea of []byte","ts":"1468323593.001395"},{"type":"message","user":"U0XR6J961","text":"the disadvantage is that you cannot generically process\/analyze chaincode arguments across chaincodes.","ts":"1468323595.001396"},{"type":"message","user":"U0MT4CBHB","text":"simon: \"increment\" is flawed by design. Should not have transactions that are valid if replayed with chaincode","ts":"1468323603.001397"},{"type":"message","user":"U0XR6J961","text":"tamas: unless you rely on the fabric to prevent replay","ts":"1468323625.001398"},{"type":"message","user":"U0XR6J961","text":"i.e. remove the burden of replay protection from the individual chaincode","ts":"1468323656.001399"},{"type":"message","user":"U0MT4CBHB","text":"<@U0XR6J961> I do not want to rely on fabric n any means other than orchestrating functions that are in my control\\","ts":"1468323658.001400"},{"type":"message","user":"U0XR6J961","text":"i think this is a most fundamental issue and should be addressed by the technical discussion mailing list","ts":"1468323734.001401"},{"type":"message","user":"U0XR6J961","text":"i just know that writing chaincode is difficult","ts":"1468323799.001402"},{"type":"message","user":"U0MT4CBHB","text":"transactions, blocks and their consensus order have to be audit-able without assuming a protection by fabric","ts":"1468323813.001403"},{"type":"message","user":"U0XR6J961","text":"and people will find all kinds of ways on how to fail to check for replays :slightly_smiling_face:","ts":"1468323825.001404"},{"type":"message","user":"U0XR6J961","text":"how does ethereum prevent against replays?","ts":"1468323854.001405"},{"type":"message","user":"U0XR6J961","text":"does the individual smart contract check for replays?","ts":"1468323868.001406"},{"type":"message","user":"U0MT4CBHB","text":"ask me how Bitcoin does. I do not consider Ethereum as design target","ts":"1468323898.001407"},{"type":"message","user":"U0XR6J961","text":"i know how bitcoin does it.  but fabric tries to be more general than UTXO","ts":"1468323946.001408"},{"type":"message","user":"U0XR6J961","text":"see, for me it is the best news if i don't have to care about mistakenly introducing duplication in consensus","ts":"1468323974.001409"},{"type":"message","user":"U0XR6J961","text":"because that complicates our code","ts":"1468323994.001410"},{"type":"message","user":"U0MT4CBHB","text":"UTXO is a specific concept for coins. It has the side effect of replay protection. I think every serious chain code will have to think about how it avoids replay. Having previous transaction reference (similar to utxo) is one but not the only way.","ts":"1468324066.001411"},{"type":"message","user":"U0MT4CBHB","text":"I can not think of a serious system that allows replay.","ts":"1468324128.001412"},{"type":"message","user":"U0XR6J961","text":"i understand your point","ts":"1468324142.001413"},{"type":"message","user":"U0XR6J961","text":"but this needs to be discussed on the mailing list.  i have no authority in this area","ts":"1468324177.001414"},{"type":"message","user":"U0MT4CBHB","text":"me not too, just discussing","ts":"1468324189.001415"},{"type":"message","user":"U0XR6J961","text":"my expectation was that the fabric would prevent replay","ts":"1468324197.001416"},{"type":"message","user":"U0XR6J961","text":"and an audit log later can prove that indeed no transaction was replayed","ts":"1468324225.001417"},{"type":"message","user":"U0MT4CBHB","text":"if replay was prevented by fabric then it was some kind of global index, which is expensive","ts":"1468324225.001418"},{"type":"message","user":"U0MT4CBHB","text":"if chaincode can guarantee uniqueness cheaper we are better off","ts":"1468324245.001419"},{"type":"message","user":"U0XR6J961","text":"yes, i agree","ts":"1468324254.001420"},{"type":"message","user":"U0XR6J961","text":"domain knowledge can simplify things","ts":"1468324263.001421"},{"type":"message","user":"U0MT4CBHB","text":"exactly","ts":"1468324270.001422"},{"type":"message","user":"U0XR6J961","text":"however, if implemented well, a generic replay protection will benefit all chaincodes","ts":"1468324380.001423"},{"type":"message","user":"U0MT4CBHB","text":"We need a blockchain that processes thousands of tx per second. Can you think of a global generic check of uniqueness that is cheap after years?","ts":"1468324441.001424"},{"type":"message","user":"U0XR6J961","text":"i believe the security folks had in mind some limited time valid certificates","ts":"1468324475.001425"},{"type":"message","user":"U0MT4CBHB","text":"that puts trust to a CA, not sure I want to do that if not needed","ts":"1468324513.001426"},{"type":"message","user":"U0XR6J961","text":"then you only have to maintain some sort of database (per chaincode) for N * these periods","ts":"1468324517.001427"},{"type":"message","user":"U0XR6J961","text":"tamas: i think these (low-level?) issues need to be addressed by the technical list","ts":"1468324686.001428"},{"type":"message","user":"U0XR6J961","text":"and i don't think this is happening properly","ts":"1468324699.001429"},{"type":"message","user":"U0XR6J961","text":"most things seem to be spur of the moment decisions","ts":"1468324740.001430"},{"type":"message","user":"U0MT4CBHB","text":"ok I write a mail to the list","ts":"1468326154.001431"},{"type":"message","user":"U0XR6J961","text":"thanks!","ts":"1468326193.001432"},{"type":"message","user":"U1AU8DRQR","text":"does anybody know core\/chaincode\/exectransaction_test.go?","ts":"1468328146.001433"},{"type":"message","user":"U142E5N0P","text":"it seems a redesign of fabric according to the proposals: <https:\/\/github.com\/hyperledger\/fabric\/wiki\/Fabric-Next> \nwhat's the plan for the first production ready release?","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/wiki\/Fabric-Next","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/wiki\/Fabric-Next","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1468376097.001434"},{"type":"message","user":"U0TFEHX8E","text":"<@U1AU8DRQR>: I believe <@U0ULK2JPP> wrote that test","ts":"1468377753.001436"},{"type":"message","user":"U0TFEHX8E","text":"<@U142E5N0P>: The roadmap is being discussed at <https:\/\/github.com\/hyperledger\/hyperledger\/wiki\/PublicMeetingCalendar#hyperledger-project---fabric-technical-planning> if you\u2019d like to join","edited":{"user":"U0TFEHX8E","ts":"1468377786.000000"},"ts":"1468377781.001437"},{"type":"message","user":"U0TFEHX8E","text":"If you can\u2019t make it, I think the roadmap will likely be posted next week","ts":"1468377990.001440"},{"type":"message","user":"U12452RAP","text":"in doc anyone can re trigger travis build, but actually i cannot, always get a error. anyone know?","ts":"1468404040.001441"},{"type":"message","user":"U0TFEHX8E","text":"I think it\u2019s limited. <@U11HH3P7Y> would know","ts":"1468456762.001442"},{"type":"message","user":"U0UHG4VP1","text":"grapebaba: which PR?","ts":"1468457134.001443"},{"type":"message","user":"U11HH3P7Y","text":"<@U12452RAP>: user having write access to the repo can re-trigger travis builds.. Otherwise, send a request through PR comment or Slack to maintainers to re-run the travis build.","ts":"1468458333.001444"},{"type":"message","user":"U12452RAP","text":"<@U0UHG4VP1>: <@U0TFEHX8E> already triggered. thanks <@U11HH3P7Y> ","ts":"1468458425.001445"},{"type":"message","user":"U11HH3P7Y","text":"ok","ts":"1468458443.001446"},{"user":"U1MNES6NR","text":"<@U1MNES6NR|lbonniot> has joined the channel","type":"message","subtype":"channel_join","ts":"1468482133.001449"},{"type":"message","user":"U0XR6J961","text":"is grpc considered a forever stable serialization format?","ts":"1468487908.001454"},{"type":"message","user":"U0XR6J961","text":"because if not, we shouldn't use it to create bytestreams we hash + sign","ts":"1468487927.001455"},{"type":"message","user":"U1AU8DRQR","text":"I don't think that the byte \/ wire format it uses would be forever stable","ts":"1468488320.001456"},{"type":"message","user":"U1AU8DRQR","text":"and fixed (the order of fields etc)","ts":"1468488339.001457"},{"type":"message","user":"U1AU8DRQR","text":"we ran into some problem with a behave test: chaincode example02 with 4 peers, stop and start alternates, reverse; the test wants 977 on A's account but we have 993. it seems that a query is executed before an invocation despite they are present in the opposite order in the behave test markup file","ts":"1468488493.001458"},{"type":"message","user":"U1AU8DRQR","text":"what can cause this?","ts":"1468488501.001459"},{"type":"message","user":"U0XR6J961","text":"all these tests are fragile","ts":"1468488798.001460"},{"type":"message","user":"U0XR6J961","text":"because they're dealing with a distributed system","ts":"1468488805.001461"},{"type":"message","user":"U0R7Q5C30","text":"<@U0XR6J961> I don\u2019t think its fragility in this case. The \u2018when\u2019 of the invocation is BEFORE the \u2018when\u2019 of the query in this scenario, however in the docker log, the first invoke happens 10 seconds AFTER the query. It seems, that behave will not keep the ordering of these \u2018when\u2019 sentences. If we put a 'wait \u201c20\u201d seconds\u2019 between these two, then the test passes. I am not familiar with this behave framework, but I hope there is someone here who does, and can explain this behaviour","ts":"1468489555.001462"},{"type":"message","user":"U0XR6J961","text":"heh","ts":"1468489654.001463"},{"type":"message","user":"U0XR6J961","text":"that seems weird","ts":"1468489660.001464"},{"type":"message","user":"U0R7Q5C30","text":"<@U0XR6J961> I agree :slightly_smiling_face:","ts":"1468489722.001465"},{"type":"message","user":"U0R7Q5C30","text":"08:54:09.317 [shim] DEBU : [ca978112]Query completed. Sending QUERY_COMPLETED\nQuery Response:{\"Name\":\"a\",\"Amount\":\"993\"}\n08:54:18.750 [shim] DEBU : [ca5ba87c]Received message TRANSACTION from shim\n08:54:18.750 [shim] DEBU : [ca5ba87c]Handling ChaincodeMessage of type: TRANSACTION(state:ready)\n08:54:18.750 [shim] DEBU : [ca5ba87c]Received TRANSACTION, invoking transaction on chaincode(Src:ready, Dst:transaction)\n08:54:18.750 [shim] DEBU : [ca5ba87c]Sending GET_STATE\n08:54:18.751 [shim] DEBU : [ca5ba87c]Received message RESPONSE from shim\n08:54:18.751 [shim] DEBU : [ca5ba87c]Handling ChaincodeMessage of type: RESPONSE(state:transaction)\n08:54:18.751 [shim] DEBU : [ca5ba87c]before send\n08:54:18.751 [shim] DEBU : [ca5ba87c]after send\n08:54:18.751 [shim] DEBU : [ca5ba87c]Received RESPONSE, communicated (state:transaction)\n08:54:18.751 [shim] DEBU : [ca5ba87c]GetState received payload RESPONSE\n08:54:18.751 [shim] DEBU : [ca5ba87c]Sending GET_STATE\n08:54:18.752 [shim] DEBU : [ca5ba87c]Received message RESPONSE from shim\n08:54:18.753 [shim] DEBU : [ca5ba87c]Handling ChaincodeMessage of type: RESPONSE(state:transaction)\nAval = 992, Bval = 8","ts":"1468489727.001466"},{"type":"message","user":"U0R7Q5C30","text":"this is the log, with the query and the first invoke","ts":"1468489742.001467"},{"type":"message","user":"U0YNFB22X","text":"Has anyone got TLS communication between fabric and chaincode working ?","edited":{"user":"U0YNFB22X","ts":"1468608372.000000"},"ts":"1468596053.001468"},{"type":"message","user":"U0TFEHX8E","text":"<@U0XR6J961>: \"is grpc considered a forever stable serialization format?\u201d I\u2019ve asked that same question before. I looked through their documentation in the past and never found anything that said it was. I had this conversation with <@U0UKTPMG8> and I feel like maybe he said something to convince me, but now I forget his answer and don\u2019t trust that we use it for generating bytes to hash + sign.","ts":"1468601299.001469"},{"type":"message","user":"U0ULK2JPP","text":"<@U0YNFB22X>: I believe <@U0YR44350> did have it working","ts":"1468617750.001471"},{"type":"message","user":"U0YR44350","text":"yep, we have TLS working between fabric &amp; chaincode","ts":"1468617787.001472"},{"user":"U1PFK7GG5","text":"<@U1PFK7GG5|leo> has joined the channel","type":"message","subtype":"channel_join","ts":"1468644458.001473"},{"type":"message","user":"U0YNFB22X","text":"<@U0ULK2JPP>: thanks. I will get in touch with <@U0YR44350> after this weekend","ts":"1468656231.001474"},{"user":"U0N9SUW82","text":"<@U0N9SUW82|pniang> has joined the channel","type":"message","subtype":"channel_join","ts":"1468686384.001475"},{"type":"message","user":"U0XR6J961","text":"anybody around?","ts":"1468924311.000002"},{"type":"message","user":"U1GLPP8QN","text":"Does anyone know why a single invoke of a CC results in 5 messages to the docker container (using the example2 CC)? The first one has the type `Transaction` which kind of makes sense, but the next 4 are of type `Response` -- seems kind of unintuitive for me as the peer's the one supposed to be waiting for a response.","ts":"1468937757.000003"},{"type":"message","user":"U0XR6J961","text":"which container?","ts":"1468938055.000004"},{"type":"message","user":"U0XR6J961","text":"the chaincode container?","ts":"1468938068.000005"},{"type":"message","user":"U1GLPP8QN","text":"regarding grpc, the docs mention \"Wire format ordering and map iteration ordering of map values is undefined, so you cannot rely on your map items being in a particular order. \" --  it's related to maps, but the docs really doesn't seem to mention anything more specific...","ts":"1468938165.000006"},{"type":"message","user":"U1GLPP8QN","text":"yepp","ts":"1468938170.000007"},{"type":"message","user":"U1GLPP8QN","text":"(found this when I looked into the `serialSend` function in core\/chaincode\/handler.go)","edited":{"user":"U1GLPP8QN","ts":"1468938323.000000"},"ts":"1468938246.000008"},{"type":"message","user":"U0ULK2JPP","text":"<@U1GLPP8QN>: access to ledger state (as in GetState\/PutState) results in messages between chaincode and peer","ts":"1468938493.000010"},{"user":"U1T1PHTCL","text":"<@U1T1PHTCL|s.matthew.english> has joined the channel","type":"message","subtype":"channel_join","ts":"1468938495.000011"},{"type":"message","user":"U0ULK2JPP","text":"that\u2019s probably what you saw","ts":"1468938506.000012"},{"type":"message","user":"U1GLPP8QN","text":"<@U0ULK2JPP>: thanks :slightly_smiling_face:","ts":"1468938756.000013"},{"type":"message","user":"U1T1PHTCL","text":"so I was trying the command:\n\n\n.\/peer chaincode deploy -p <http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02> -c '{\"Function\":\"init\", \"Args\": [\"a\",\"100\", \"b\", \"200\"]}'\n\n\nit said \".\/peer is a directory\"\n\n\nand didn't work\n\nso I pointed it to \"\/build\/bin\/peer\"\n\nbut I got\n\nError: Error building chaincode: Error trying to connect to local peer: grpc: timed out trying to connect","ts":"1468939153.000014"},{"type":"message","user":"U0ULK2JPP","text":"<@U1T1PHTCL>: I think you are in fabric\/ directory","ts":"1468939360.000015"},{"type":"message","user":"U0ULK2JPP","text":"cd peer","ts":"1468939364.000016"},{"type":"message","user":"U0ULK2JPP","text":"and try the command","ts":"1468939385.000017"},{"type":"message","user":"U1T1PHTCL","text":"ah","ts":"1468939388.000018"},{"type":"message","user":"U1T1PHTCL","text":"ok","ts":"1468939389.000019"},{"type":"message","user":"U1T1PHTCL","text":"wait","ts":"1468939410.000020"},{"type":"message","user":"U1T1PHTCL","text":"where is peer","ts":"1468939413.000021"},{"type":"message","user":"U1T1PHTCL","text":"in the \/fabric director","ts":"1468939418.000022"},{"type":"message","user":"U1T1PHTCL","text":"peer is a directory that lives there","ts":"1468939427.000023"},{"type":"message","user":"U1T1PHTCL","text":"not the peer file in bin","ts":"1468939432.000024"},{"type":"message","user":"U0ULK2JPP","text":"yes","ts":"1468939449.000025"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019d \u201ccd peer\"","ts":"1468939459.000026"},{"type":"message","user":"U0ULK2JPP","text":"go build","ts":"1468939467.000027"},{"type":"message","user":"U0ULK2JPP","text":".\/peer chaincode deploy -p <http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02> -c '{\"Function\":\"init\", \"Args\": [\"a\",\"100\", \"b\", \"200\"]}'","ts":"1468939480.000028"},{"type":"message","user":"U0ULK2JPP","text":"but beofre tht","ts":"1468939485.000029"},{"type":"message","user":"U1T1PHTCL","text":"you mean","ts":"1468939512.000030"},{"type":"message","user":"U1T1PHTCL","text":"issue 'build' as a command","ts":"1468939517.000031"},{"type":"message","user":"U1T1PHTCL","text":"in the peer directory","ts":"1468939522.000032"},{"type":"message","user":"U0ULK2JPP","text":"in another vagrant window, start the peer with  \u201c.\/peer node start\"","ts":"1468939528.000033"},{"type":"message","user":"U0ULK2JPP","text":"I meant literally \u201cgo build\u201d to build the peer executable","ts":"1468939544.000034"},{"type":"message","user":"U1T1PHTCL","text":"ah ok","ts":"1468939585.000035"},{"type":"message","user":"U1T1PHTCL","text":"something happened","ts":"1468939633.000036"},{"type":"message","user":"U1T1PHTCL","text":"I got this","ts":"1468939635.000037"},{"type":"message","user":"U1T1PHTCL","text":"a5389f7dfb9efae379900a41db1503fea2199fe400272b61ac5fe7bd0c6b97cf10ce3aa8dd00cd7626ce02f18accc7e5f2059dae6eb0786838042958352b89fb","ts":"1468939636.000038"},{"type":"message","user":"U1T1PHTCL","text":":confused: what does it mean?","ts":"1468939735.000039"},{"type":"message","user":"U1T1PHTCL","text":"in \n\n<http:\/\/localhost:5000\/>\n\nI got \n\n{\"Error\":\"Openchain endpoint not found.\"}","ts":"1468940364.000040"},{"type":"message","user":"U0UKTPMG8","text":"<@U1T1PHTCL>: try <http:\/\/localhost:5000\/chain>","ts":"1468944110.000041"},{"type":"message","user":"U1T1PHTCL","text":"<@U0UKTPMG8>: cool- that works--&gt; I see this:\n\n{\"height\":4,\"currentBlockHash\":\"vfTQvQL3dQJ3X6oD+9\/oBammpS3tCzeq9WYmM3oPCh5HMVUlUbok\/ij8u\/NEq+zRmHJrM22G4t132M35KfivGA==\",\"previousBlockHash\":\"YVtf0I9hWRY1sqayQ\/OmaiA59cPsL9BS\/lA+6aE1rsAiIKFKoiPIpJeMnGrPgtDj\/LzJLGNlNvhQy++G4bCviA==\"}\n\nbut- what does it mean?","ts":"1468958516.000042"},{"type":"message","user":"U0UKTPMG8","text":"that is the chain information, height is block height, etc.","ts":"1468959557.000043"},{"type":"message","user":"U1T1PHTCL","text":"<@U0UKTPMG8> aha- I see. I guess it's based on the parameters I passed when I executed the command, i.e. \n\n'{\"Function\":\"init\", \"Args\": [\"a\",\"100\", \"b\", \"200\"]}'\n\nor is it left over from my previous attempts? \n\nthe example I was using was \n\n.\/peer chaincode deploy -p <http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02> -c '{\"Function\":\"init\", \"Args\": [\"a\",\"100\", \"b\", \"200\"]}'\n\ndo you know what this is doing at a high level? maybe... assigns 100 widgets to 'a' and 200 to 'b'? records that information on the ledger through a hash?","ts":"1469000880.000044"},{"user":"U0P1VU0QG","text":"<@U0P1VU0QG|ikruiper> has joined the channel","type":"message","subtype":"channel_join","ts":"1469012700.000045"},{"user":"U1SDX7EQZ","text":"<@U1SDX7EQZ|liewsc> has joined the channel","type":"message","subtype":"channel_join","ts":"1469027572.000046"},{"user":"U1TV7SZ7C","text":"<@U1TV7SZ7C|rseeger> has joined the channel","type":"message","subtype":"channel_join","ts":"1469122701.000047"},{"user":"U0YLVSWE4","text":"<@U0YLVSWE4|dulcinea> has joined the channel","type":"message","subtype":"channel_join","ts":"1469145673.000048"},{"user":"U1LES78TT","text":"<@U1LES78TT|bgorman> has joined the channel","type":"message","subtype":"channel_join","ts":"1469155440.000049"},{"type":"message","user":"U1LES78TT","text":"does anyone here understand what goes into the payload of <http:\/\/localhost:5000\/transactions\/&lt;chaincodeID&gt;> ? It seems to be about 3MB for chaincode_example02 but I haven't figured out what it actually is yet","ts":"1469155551.000050"},{"user":"U1M7K67EV","text":"<@U1M7K67EV|jcarrivick> has joined the channel","type":"message","subtype":"channel_join","ts":"1469155596.000051"},{"type":"message","user":"U1LES78TT","text":"this is for the Transaction_CHAINCODE_DEPLOY messages","ts":"1469155753.000052"},{"type":"message","user":"U0KPFAZNF","text":"<@U1LES78TT>: i do","ts":"1469156501.000053"},{"type":"message","user":"U1LES78TT","text":"hey, great, I've dug down to the level of a CodePackage []byte so far :slightly_smiling_face:","ts":"1469156528.000054"},{"type":"message","user":"U0KPFAZNF","text":"its basically your chaincode plus your GOPATH, tarred up","ts":"1469156529.000055"},{"type":"message","user":"U1LES78TT","text":"so it is the ELF binary in there?","ts":"1469156537.000056"},{"type":"message","user":"U0KPFAZNF","text":"no, not at that level","ts":"1469156546.000057"},{"type":"message","user":"U1LES78TT","text":"a zip of the source code then?","ts":"1469156558.000058"},{"type":"message","user":"U0KPFAZNF","text":"the ELF is reconstructed on each VP","ts":"1469156563.000059"},{"type":"message","user":"U0KPFAZNF","text":"yes, but tar not zip","ts":"1469156568.000060"},{"type":"message","user":"U1LES78TT","text":"ah ok","ts":"1469156572.000061"},{"type":"message","user":"U1LES78TT","text":"I didn't try comparing it to a tar","ts":"1469156580.000062"},{"type":"message","user":"U0KPFAZNF","text":"in case you are curious, the logic that is building that payload is here\u2026.","ts":"1469156600.000063"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/chaincode\/platforms\/golang\/package.go#L78>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/chaincode\/platforms\/golang\/package.go#L78","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/chaincode\/platforms\/golang\/package.go#L78","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1469156658.000064"},{"type":"message","user":"U0KPFAZNF","text":"thats if you are using the NVP\/chaincode-client\/REST mechanism","ts":"1469156673.000066"},{"type":"message","user":"U0KPFAZNF","text":"if you are using the SDK, it has its own packager which was modeled on the code referenced above","ts":"1469156686.000067"},{"type":"message","user":"U0KPFAZNF","text":"(i am not familiar with the SDK internals, so I cant point you to a line number, but I know it is a rough analog to that)","ts":"1469156714.000068"},{"type":"message","user":"U0KPFAZNF","text":"this line in particular: <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/chaincode\/platforms\/golang\/package.go#L62>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/chaincode\/platforms\/golang\/package.go#L62","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/chaincode\/platforms\/golang\/package.go#L62","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1469156763.000069"},{"type":"message","user":"U0KPFAZNF","text":"is what is injecting the instruction that will ultimately cause the binary to be reconstructed around the network","ts":"1469156782.000071"},{"type":"message","user":"U1M7K67EV","text":"<@U0KPFAZNF>: ahhh so this is where the docker commands get built to build the chaincode environment too!","ts":"1469156798.000072"},{"type":"message","user":"U0KPFAZNF","text":"yep","ts":"1469156805.000073"},{"type":"message","user":"U0KPFAZNF","text":"the tarball is actually a tarball + Dockerfile, suitable for passing to the docker build API","ts":"1469156835.000074"},{"type":"message","user":"U1M7K67EV","text":"I was just adding some logging for the docker build commands and was seeing this exact output!","ts":"1469156837.000075"},{"type":"message","user":"U0KPFAZNF","text":"yep","ts":"1469156854.000076"},{"type":"message","user":"U0KPFAZNF","text":"to be clear, this _is_ the chaincode env builder","ts":"1469156877.000077"},{"type":"message","user":"U0KPFAZNF","text":"the other docker environments are built differently","ts":"1469156884.000078"},{"type":"message","user":"U0KPFAZNF","text":"the pattern repeats for the other platforms we currently support: <https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/core\/chaincode\/platforms>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/core\/chaincode\/platforms","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/core\/chaincode\/platforms","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1469157054.000079"},{"type":"message","user":"U0KPFAZNF","text":"though, actually, the CAR implementation needs to be updated","ts":"1469157068.000081"},{"type":"message","user":"U0KPFAZNF","text":"(the CAR file already is its own archive, so it was a mistake on my part to repackage it into a tar here)","ts":"1469157090.000082"},{"type":"message","user":"U1M7K67EV","text":"thanks <@U0KPFAZNF>! another question if I may, what is CAR?","ts":"1469157199.000083"},{"type":"message","user":"U0KPFAZNF","text":"chaincode archive, output of chaintool (<https:\/\/github.com\/hyperledger\/fabric-chaintool>)","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1469157225.000084"},{"type":"message","user":"U0KPFAZNF","text":"(I really need to add a comment in there, this gets asked often)","ts":"1469157253.000086"},{"type":"message","user":"U1M7K67EV","text":"oh cool! I'll have to do some reading up on all that then :slightly_smiling_face:","ts":"1469157342.000087"},{"type":"message","user":"U1LES78TT","text":"<@U0KPFAZNF> that package.go you linked before actually excludes the chaincode path from the tar. Does it actually write the source into the tar file as part of hash.go?\n<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/chaincode\/platforms\/golang\/hash.go#L61>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/chaincode\/platforms\/golang\/hash.go#L61","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/chaincode\/platforms\/golang\/hash.go#L61","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1469157449.000088"},{"type":"message","user":"U0KPFAZNF","text":"i no longer recall the details there, let me look again","ts":"1469157475.000090"},{"type":"message","user":"U0KPFAZNF","text":"<@U1LES78TT>: that is correct, its a little obtuse","ts":"1469157696.000091"},{"type":"message","user":"U0KPFAZNF","text":"that code should be cleaned up","ts":"1469157702.000092"},{"type":"message","user":"U0KPFAZNF","text":"I think if you follow the logic through, this function ends up packaging up the chaincode: <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/chaincode\/platforms\/golang\/hash.go#L61>","ts":"1469157736.000093"},{"type":"message","user":"U1LES78TT","text":"yeah, I think it may be line 91 that writes the files to the tar","ts":"1469157767.000094"},{"type":"message","user":"U0KPFAZNF","text":"opps, sorry, thats the same link you provided","ts":"1469157775.000095"},{"type":"message","user":"U1LES78TT","text":"the function does a little more than it says on the tin :wink:","ts":"1469157779.000096"},{"type":"message","user":"U0KPFAZNF","text":"yeah, it needs to be refactored for sure","ts":"1469157791.000097"},{"type":"message","user":"U0KPFAZNF","text":"and yes, I agree about L91","ts":"1469157820.000098"},{"type":"message","user":"U1LES78TT","text":"ok, thanks, I think I have it straight in my head now :slightly_smiling_face:","ts":"1469157829.000099"},{"type":"message","user":"U0KPFAZNF","text":"the confusing layout is partly my fault","ts":"1469157839.000100"},{"type":"message","user":"U1LES78TT","text":"<@U1M7K67EV>: so one peer needs the code, the others get a tarball of the source through the chain and transaction","ts":"1469157862.000101"},{"type":"message","user":"U0KPFAZNF","text":"it used to be one .go file that did all the tarball\/docker stuff, and I had broken it out into the platforms mechanism that we have today","ts":"1469157870.000102"},{"type":"message","user":"U0KPFAZNF","text":"but the refactoring of the golang platform wasnt as clean as it could have been, needs to be teased out more","ts":"1469157890.000103"},{"type":"message","user":"U0KPFAZNF","text":"<@U1LES78TT>: that is _mostly_ correct","ts":"1469157916.000104"},{"type":"message","user":"U1LES78TT","text":"<@U0KPFAZNF>: so is there support for Java chaincodes too?","ts":"1469157922.000105"},{"type":"message","user":"U0KPFAZNF","text":"yes, I believe that was merged though I havent worked with it myself","ts":"1469157938.000106"},{"type":"message","user":"U0KPFAZNF","text":"your assessment about one peer building the tarball and the other peers consuming the tarball is correct\u2026.","ts":"1469157965.000107"},{"type":"message","user":"U0KPFAZNF","text":"what should be pointed out is that this was intended to be a trusted-NVP function, not just any peer","ts":"1469157984.000108"},{"type":"message","user":"U0KPFAZNF","text":"IOW, the thing that is building your tarball, the REST API, etc, are actually considered part of your clients stack","ts":"1469158013.000109"},{"type":"message","user":"U0KPFAZNF","text":"once you understand that detail, some of the other things that are happening start to make more sense","ts":"1469158035.000110"},{"type":"message","user":"U1LES78TT","text":"ok, thanks. I haven't played with non-validating peers yet. Just using the 4 validating ones.","ts":"1469158069.000111"},{"type":"message","user":"U0KPFAZNF","text":"yeah, thats fine\u2026its just a mental delineation for the purposes of this conversation","ts":"1469158095.000112"},{"type":"message","user":"U0KPFAZNF","text":"just, if you start to look at some of the details, like: the files have to be local to the (N)VP (for non http anyway), the rest API takes fairly unsound looking tokens, etc","ts":"1469158139.000113"},{"type":"message","user":"U0KPFAZNF","text":"its because the peer\/rest-client assumes the other side of the link is within your trust domain","ts":"1469158172.000114"},{"type":"message","user":"U0KPFAZNF","text":"so, you can use any arbitrary VP in this capacity and it will technically work","ts":"1469158188.000115"},{"type":"message","user":"U0KPFAZNF","text":"it just might not be a good idea for production if you actually need security :wink:","ts":"1469158213.000116"},{"type":"message","user":"U0KPFAZNF","text":"for production, you\u2019d want to either use the SDK which incorporates all the NVP functions into your app, or stand up an NVP in your own environment","ts":"1469158268.000117"},{"type":"message","user":"U1M7K67EV","text":"<@U0KPFAZNF>: So if I understand this correctly, a client could bring up a peer with the code they want to deploy, deploy it to that peer, and the rest of the network gets it via the blockchain","ts":"1469158319.000118"},{"type":"message","user":"U1M7K67EV","text":"but the initial peer would have to have a local copy of it","ts":"1469158338.000119"},{"type":"message","user":"U0KPFAZNF","text":"thats basically true, though note that I think we are migrating to the SDK type model and deprecating the current client+NVP model","ts":"1469158380.000120"},{"type":"message","user":"U0KPFAZNF","text":"IIUC","ts":"1469158382.000121"},{"type":"message","user":"U0KPFAZNF","text":"just right now, both still exist","ts":"1469158395.000122"},{"type":"message","user":"U0KPFAZNF","text":"personally, ive already moved over to the SDK for my development","ts":"1469158414.000123"},{"type":"message","user":"U1M7K67EV","text":"so basically,... we should start learning how to use the SDK","ts":"1469158421.000124"},{"type":"message","user":"U0KPFAZNF","text":"that would be my advise","ts":"1469158428.000125"},{"type":"message","user":"U0KPFAZNF","text":"advice","ts":"1469158432.000126"},{"type":"message","user":"U1M7K67EV","text":"sweet, I know what I'm doing for the rest of today then :slightly_smiling_face:","ts":"1469158451.000127"},{"type":"message","user":"U0KPFAZNF","text":"ive successfully used it with both pure nodejs as well as cljs","ts":"1469158475.000128"},{"type":"message","user":"U0KPFAZNF","text":"it works really well","ts":"1469158480.000129"},{"type":"message","user":"U0KPFAZNF","text":"i recommend just working with whats in NPM rather than trying to build it youself","ts":"1469158509.000130"},{"type":"message","user":"U0KPFAZNF","text":"depending on your proclivity for getting your hands dirty, i suppose","ts":"1469158529.000131"},{"type":"message","user":"U1M7K67EV","text":"great :slightly_smiling_face: I'll see how I go then :slightly_smiling_face:","ts":"1469158601.000132"},{"type":"message","user":"U1M7K67EV","text":"Thanks for all the help :slightly_smiling_face:","ts":"1469158609.000133"},{"type":"message","user":"U0KPFAZNF","text":"any time","ts":"1469158647.000134"},{"type":"message","user":"U0KPFAZNF","text":"FWIW, I have a few examples of using the SDK in the chaintool repo","ts":"1469158661.000135"},{"type":"message","user":"U0KPFAZNF","text":"they are chaintool specific, but it wouldnt be hard to convert them to standard protocol clients","ts":"1469158676.000136"},{"type":"message","user":"U0KPFAZNF","text":"for instance, here is a cheesy nodejs version","ts":"1469158685.000137"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric-chaintool\/tree\/master\/examples\/example02\/client\/rest\/nodejs>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/tree\/master\/examples\/example02\/client\/rest\/nodejs","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/tree\/master\/examples\/example02\/client\/rest\/nodejs","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1469158685.000138"},{"type":"message","user":"U0KPFAZNF","text":"not fully featured, just hacks a few requests together","ts":"1469158697.000140"},{"type":"message","user":"U0KPFAZNF","text":"opps, im sorry","ts":"1469158710.000141"},{"type":"message","user":"U0KPFAZNF","text":"that is a REST client, not SDK","ts":"1469158715.000142"},{"type":"message","user":"U0KPFAZNF","text":"i think the only SDK client I have published is cljs","ts":"1469158724.000143"},{"type":"message","user":"U0KPFAZNF","text":"here, fwiw: <https:\/\/github.com\/hyperledger\/fabric-chaintool\/tree\/master\/examples\/example02\/client\/sdk>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/tree\/master\/examples\/example02\/client\/sdk","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/tree\/master\/examples\/example02\/client\/sdk","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1469158736.000144"},{"type":"message","user":"U1M7K67EV","text":"great, thanks :slightly_smiling_face: I'll be sure to take a look","ts":"1469158769.000146"},{"type":"message","user":"U0KPFAZNF","text":"but still, the doc is pretty good","ts":"1469158773.000147"},{"user":"U1R9A8Q3A","text":"<@U1R9A8Q3A|pranob> has joined the channel","type":"message","subtype":"channel_join","ts":"1469181127.000148"},{"user":"U1U7BR1KP","text":"<@U1U7BR1KP|ray> has joined the channel","type":"message","subtype":"channel_join","ts":"1469202200.000149"},{"type":"message","user":"U0KM61BCP","text":"<!channel>:  I\u2019m about to push a PR to reassign port assignments as follows:","ts":"1469225394.000150"},{"type":"message","user":"U0KM61BCP","text":"port assignment changes\n\n7050 REST\n7051 peer gRPC\n7052 peer CLI\n7053 peer events\n7054 eCAP\n7055 eCAA\n7056 tCAP\n7057 tCAA\n7058 tlsCAP\n7059 tlsCAA","ts":"1469225397.000151"},{"type":"message","user":"U0KM61BCP","text":"Note that the membersrvcs ports seem to be mostly unused thus far","ts":"1469225429.000152"},{"type":"message","user":"U0TFEHX8E","text":"I can test the PR in OSX to ensure no conflicting ports. If anyone on Windows has time to check it would be helpful","ts":"1469225676.000153"},{"type":"message","user":"U0KM61BCP","text":"re-running behave because there was what I think was a timing issue in last pass","ts":"1469225740.000154"},{"type":"message","user":"U0P2GSA8Z","text":"I'm happy to test on Windows","ts":"1469226178.000155"},{"type":"message","user":"U0KM61BCP","text":"ok, pushed commit","ts":"1469226552.000156"},{"type":"message","user":"U0KM61BCP","text":"<https:\/\/github.com\/hyperledger\/fabric\/pull\/2286>","attachments":[{"service_name":"GitHub","title":"[WIP] Fix Issue 2283 by christo4ferris \u00b7 Pull Request #2286 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/2286","text":"Description change peer REST port from 5000 to 5075 to avoid conflict with UPnP on Windows Motivation and Context Fixes #2283 How Has This Been Tested? ran all tests Checklist: ...","fallback":"GitHub: [WIP] Fix Issue 2283 by christo4ferris \u00b7 Pull Request #2286 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/3630697?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/2286","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1469226580.000157"},{"type":"message","user":"U0P2GSA8Z","text":"I'm testing it on Windows","ts":"1469230801.000159"},{"type":"message","user":"U0XR6J961","text":"can't we just combine all GRPC ports and all http ports?","ts":"1469441629.000160"},{"type":"message","user":"U0XR6J961","text":"then we have 2 ports","ts":"1469441635.000161"},{"user":"U1JHMKC8H","text":"<@U1JHMKC8H|huxd> has joined the channel","type":"message","subtype":"channel_join","ts":"1469443705.000162"},{"type":"message","user":"U0KM61BCP","text":"works for me\u2026 we do have an abundance of ports which isn\u2019t so cool","ts":"1469476346.000163"},{"type":"message","user":"U0XQ35CDD","text":"How many old issues will <@U0KM61BCP> close today? The over\/under is at 80, taking bets.","ts":"1469478702.000164","reactions":[{"name":"joy","users":["U0TFEHX8E"],"count":1}]},{"type":"message","user":"U0KM61BCP","text":"lol","ts":"1469479191.000165"},{"type":"message","user":"U0ULK2JPP","text":"<@U0XR6J961> <@U0KM61BCP> one of the \u201ccon\u201d for common grpc port - we have to use the same SSL creds for all (e.g., 30303 for both peer-peer and peer-chaincode GRPC communication - which is what we have today btw)","ts":"1469484637.000166","reactions":[{"name":"+1","users":["U11MANG9G"],"count":1}]},{"type":"message","user":"U11MANG9G","text":"<@U0XQ35CDD>: what's the spread? And who's taking bets? (Please let's not set up a DAO for this too, in which case, I'm not gambling!)","ts":"1469491034.000167"},{"type":"message","user":"U0XR6J961","text":"muralisr: what's the problem with using the same tls creds?","ts":"1469520886.000168"},{"type":"message","user":"U0XR6J961","text":"muralisr: i think the chaincode communication port can be entirely ephemeral.  i'd go so far and use an fd passed to the docker process, instead of opening a tcp socket.","ts":"1469520946.000169"},{"user":"U1PTA31D2","text":"<@U1PTA31D2|naruhito.t> has joined the channel","type":"message","subtype":"channel_join","ts":"1469543587.000170"},{"type":"message","user":"U0KM61BCP","text":"<!channel> <https:\/\/hyperledgerproject.slack.com\/archives\/fabric\/p1469567848000418>","attachments":[{"from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric\/p1469567848000418","fallback":"[July 26th, 2016 2:17 PM] cbf: We've talked about this previously. Now is the time to transition to Gerrit and Jira for the Fabric project. Many are at the Hackfest here in SF, but for those who are not, we'll have to be adapting our workflow to using Gerrit.\n\nThe rationale for transitioning to Gerrit is to a) provide much more governance over the IP hygiene by enforcing the DCO sign-off on every commit merged (no exceptions). We did not have this level of rigor on GitHub. b) to enforce that no maintainer can merge their own commits. c) to enforce a rule that requires multiple reviewers to agree to a merge.\n\nThis may slow things down initially until we all get the swing of the new flow, but it will give us higher quality code and much better IP assurances.\n\nThe Gerrit repo will be here: <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>\nCurrently, the code is in the process of being migrated over. There's an active review here <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/255\/> for the initial commit of code to Gerrit. Once that is merged by the maintainers, everyone will need to clone that repo for their development going forward, and do git pushes to Gerrit. Basically, I have copied the GH code into a pristine git repository at the behest of LF so that we can benefit from the IP hygiene hooks in Gerrit that assure that every commit carries a DCO sign-off.\n\nTo submit code for review, you will need a Linux Foundation ID here: <https:\/\/identity.linuxfoundation.org\/> . Simple enough,if you have an ID, you are set. If not, please create one. This will grant you SSO across the LF tools portfolio.\nAdd your SSH key to Gerrit\n1. click on your profile (upper right hand corner) and select 'Settings' and then 'SSH Public Keys'\n2. from a terminal window: pbcopy &lt; ~\/.ssh\/id_rsa.pub \n3. paste into the Gerrit window for your SSH key\n4. press 'Add' button\n\nSo, the new workflow would be as follows:\n\n1. Clone the Gerrit repository. \n1.a from the Projects menu in Gerrit, click 'list' in the LF corner.\n1.b from the list of projects, select 'fabric'\n(note, you will want to PRESERVE your previous Fabric repository clone because you may want to be able to push any outstanding PRs to Gerrit by copying the source from your GH clone to the Gerrit clone).\n1.c from the project window, select 'Clone with commit hook' and then copy the command and paste to a terminal window to clone the repository into your $GOPATH\/src\/github.com\/hyperledger folder. \n2. make your changes\n3. commit your code\n4. git push origin HEAD:refs\/for\/master \n\nThe GH fabric repo will remain in read-only mode until we establish the mirror from Gerrit. We will preserve the current state of the hyperledger\/fabric repo (and all subsequent transitioned repositories) for posterity at a location TBD (likely something like 'hyperledger-archive' org on GH).","author_subname":"cbf","ts":"1469567848.000418","channel_id":"C0Y4PEU22","channel_name":"fabric","is_msg_unfurl":true,"text":"We've talked about this previously. Now is the time to transition to Gerrit and Jira for the Fabric project. Many are at the Hackfest here in SF, but for those who are not, we'll have to be adapting our workflow to using Gerrit.\n\nThe rationale for transitioning to Gerrit is to a) provide much more governance over the IP hygiene by enforcing the DCO sign-off on every commit merged (no exceptions). We did not have this level of rigor on GitHub. b) to enforce that no maintainer can merge their own commits. c) to enforce a rule that requires multiple reviewers to agree to a merge.\n\nThis may slow things down initially until we all get the swing of the new flow, but it will give us higher quality code and much better IP assurances.\n\nThe Gerrit repo will be here: <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>\nCurrently, the code is in the process of being migrated over. There's an active review here <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/255\/> for the initial commit of code to Gerrit. Once that is merged by the maintainers, everyone will need to clone that repo for their development going forward, and do git pushes to Gerrit. Basically, I have copied the GH code into a pristine git repository at the behest of LF so that we can benefit from the IP hygiene hooks in Gerrit that assure that every commit carries a DCO sign-off.\n\nTo submit code for review, you will need a Linux Foundation ID here: <https:\/\/identity.linuxfoundation.org\/> . Simple enough,if you have an ID, you are set. If not, please create one. This will grant you SSO across the LF tools portfolio.\nAdd your SSH key to Gerrit\n1. click on your profile (upper right hand corner) and select 'Settings' and then 'SSH Public Keys'\n2. from a terminal window: pbcopy &lt; ~\/.ssh\/id_rsa.pub \n3. paste into the Gerrit window for your SSH key\n4. press 'Add' button\n\nSo, the new workflow would be as follows:\n\n1. Clone the Gerrit repository. \n1.a from the Projects menu in Gerrit, click 'list' in the LF corner.\n1.b from the list of projects, select 'fabric'\n(note, you will want to PRESERVE your previous Fabric repository clone because you may want to be able to push any outstanding PRs to Gerrit by copying the source from your GH clone to the Gerrit clone).\n1.c from the project window, select 'Clone with commit hook' and then copy the command and paste to a terminal window to clone the repository into your $GOPATH\/src\/github.com\/hyperledger folder. \n2. make your changes\n3. commit your code\n4. git push origin HEAD:refs\/for\/master \n\nThe GH fabric repo will remain in read-only mode until we establish the mirror from Gerrit. We will preserve the current state of the hyperledger\/fabric repo (and all subsequent transitioned repositories) for posterity at a location TBD (likely something like 'hyperledger-archive' org on GH).","author_name":"Chrisfer","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/cbf","author_icon":"https:\/\/secure.gravatar.com\/avatar\/eb4a014964885f16a760546340b5daa0.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-48.png","mrkdwn_in":["text"],"id":1,"footer":"Posted in #fabric"}],"ts":"1469567878.000171"},{"type":"message","user":"U123PQHLN","text":"Question on chaincode API GetCallerCertificate. Does it get the TCert or the ECert? From the doc of ReadCertAttribute, etc., it appears that the answer is TCert? If so, is there any reason why there is no corresponding API for the ECert? Thanks.","ts":"1469584702.000173"},{"type":"message","user":"U0KM61BCP","text":"<!channel> Migrating PRs that have been submitted (or are in-progress) to Gerrit involves creating a patch set that you can apply to your new Gerrit clone (see previous email).\n\nAs a reminder our Gerrit is here <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>\n\nStep 1 rebase your PR commits in your local clone of your hyperledger\/fabric fork\na. git checkout master\nb. git fetch origin master\nc. git checkout &lt;your PR branch&gt;\nd. git rebase -i origin\/master\ne. &lt;optionally, resolve any merge conflicts&gt;\nf. git push -f \n\nStep 2 generate a patch for your PR from your hyperledger-fabric fork\na. open your GH fork repo page\nb. change to your PR's branch\nc. right below the branch selector you should see \"This branch is N commits ahead of hyperledger:master\nd. on the right-hand side of that bar, click on the 'Compare' glyph. this will open a page comparing your changes with the origin and should have a URL like this example: <https:\/\/github.com\/hyperledger\/fabric\/compare\/master...christo4ferris:issue-2277>\ne. append '.patch' to that URL in your browser window and you will be redirected to a raw patchset for your changes. COPY this URL, which should look something like this: <https:\/\/github.com\/hyperledger\/fabric\/compare\/master...christo4ferris:issue-2277.patch>\nf. open a terminal window and copy this patchset to your local machine e.g. 'curl -XGET <https:\/\/github.com\/hyperledger\/fabric\/compare\/master...christo4ferris:issue-2277.patch> -o 2277.patch'\n\nStep 3 apply the patch for your PR to your Gerrit clone\na. cd &lt;your gerrit clone dir&gt;\nb. git checkout -b &lt;your PR branch&gt;\nc. git apply &lt;path to patchset&gt;\/&lt;patchset filename&gt;\nd. git add *\ne. git commit -s\nf. add commit message, etc\ng. git push origin HEAD:refs\/for\/master\n\nStep 4 visit Gerrit to check that your commit was pushed and created a review.\n\nPlease let me know if you have any difficulties with transferring your PRs. I'll be on slack all day.","ts":"1469624012.000174"},{"type":"message","user":"U0XR6J961","text":"cbf: the hyperledger code is empty","ts":"1469624079.000175"},{"type":"message","user":"U0KM61BCP","text":"in gerrit?","ts":"1469624101.000176"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1469624103.000177"},{"type":"message","user":"U0XR6J961","text":"i guess we're not starting from 0, because you talk about PRs","ts":"1469624128.000178"},{"type":"message","user":"U0KM61BCP","text":"I just cloned and it\u2019s all there","ts":"1469624186.000179"},{"type":"message","user":"U0XR6J961","text":"<https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=hyperledger.git;a=summary>","ts":"1469624199.000180"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: you want \u201cfabric\"","ts":"1469624231.000181"},{"type":"message","user":"U0KPFAZNF","text":"it has the same structure as GH","ts":"1469624235.000182"},{"type":"message","user":"U0XR6J961","text":"aha","ts":"1469624241.000183"},{"type":"message","user":"U0XR6J961","text":"what is fabric-api?","ts":"1469624259.000184"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=fabric.git;a=shortlog;h=refs%2Fheads%2Fmaster>","ts":"1469624261.000185"},{"type":"message","user":"U0XR6J961","text":"wait, we didn't retain the history?","ts":"1469624274.000186"},{"type":"message","user":"U0KPFAZNF","text":"same as it was in GH, I would imagine: DAH contribution","ts":"1469624274.000187"},{"type":"message","user":"U0XR6J961","text":"why?","ts":"1469624275.000188"},{"type":"message","user":"U0KPFAZNF","text":"this is a good point, why didnt we import history?","ts":"1469624291.000189"},{"type":"message","user":"U0KM61BCP","text":"<https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=fabric.git;a=summary>","ts":"1469624295.000190"},{"type":"message","user":"U0KM61BCP","text":"<@U0XR6J961> ^^","ts":"1469624300.000191"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF>: I explained in my note\u2026 basically LF insists on a single commit to start to ensure IP hygiene","ts":"1469624339.000192"},{"type":"message","user":"U0KPFAZNF","text":"ah, ok, sorry","ts":"1469624347.000193"},{"type":"message","user":"U0XR6J961","text":"what's the difference?","ts":"1469624350.000194"},{"type":"message","user":"U0KM61BCP","text":"we will keep the GH repos as archived for posterity","ts":"1469624384.000195"},{"type":"message","user":"U0XR6J961","text":"that's just sloppy","ts":"1469624384.000196"},{"type":"message","user":"U0XR6J961","text":"super duper sloppy","ts":"1469624391.000197"},{"type":"message","user":"U0XR6J961","text":"now everybody needs to graft the github repo to use git blame","ts":"1469624427.000198"},{"type":"message","user":"U0KM61BCP","text":"how so","ts":"1469624428.000199"},{"type":"message","user":"U0XR6J961","text":"because the whole idea about git is that you don't have to do this","ts":"1469624445.000200"},{"type":"message","user":"U0KPFAZNF","text":"I dont know if I would go so far as to agree that its \u201csloppy\u201d but I do agree this can cause some problems","ts":"1469624453.000201"},{"type":"message","user":"U0KM61BCP","text":"yes, well, awkward but this is what we were required to do\u2026 if we started it would have been that way as well.","ts":"1469624486.000202"},{"type":"message","user":"U0KPFAZNF","text":"i already ran into some issues trying to figure out why something was the way it was back in april when the OBC-&gt;HL migration occured","ts":"1469624500.000203"},{"type":"message","user":"U0XR6J961","text":"yea the renaming already made it difficult","ts":"1469624524.000204"},{"type":"message","user":"U0KPFAZNF","text":"well, it was beyond the renaming, it was a similar situation here where there was a certain mega-commit that imported the tree","ts":"1469624556.000205"},{"type":"message","user":"U0KPFAZNF","text":"which means git-blame is blind beyond that point","ts":"1469624566.000206"},{"type":"message","user":"U0XR6J961","text":"it didn't import","ts":"1469624572.000207"},{"type":"message","user":"U0XR6J961","text":"it renamed and reshuffled things","ts":"1469624579.000208"},{"type":"message","user":"U0KPFAZNF","text":"ok, fair enough","ts":"1469624586.000209"},{"type":"message","user":"U0KPFAZNF","text":"but same effect","ts":"1469624588.000210"},{"type":"message","user":"U0KPFAZNF","text":"lost history","ts":"1469624601.000211"},{"type":"message","user":"U0KPFAZNF","text":"(or, inconvenient history, i should say)","ts":"1469624614.000212"},{"type":"message","user":"U0XR6J961","text":"almost - if git would try hard enough, it could follow it","ts":"1469624616.000213"},{"type":"message","user":"U0XR6J961","text":"now history is gone","ts":"1469624620.000214"},{"type":"message","user":"U0KPFAZNF","text":"well, its not gone gone, its still in GH","ts":"1469624638.000215"},{"type":"message","user":"U0XR6J961","text":"gone from the new repo","ts":"1469624645.000216"},{"type":"message","user":"U0KPFAZNF","text":"but inconvenient, yes","ts":"1469624646.000217"},{"type":"message","user":"U0KPFAZNF","text":"agreed","ts":"1469624649.000218"},{"type":"message","user":"U0KPFAZNF","text":"anyway, it sounds like its non-negotiable","ts":"1469624684.000219"},{"type":"message","user":"U0KPFAZNF","text":"just a shame","ts":"1469624688.000220"},{"type":"message","user":"U0XR6J961","text":"great that the non-tech, non-developing people take technical decisions","ts":"1469624737.000221"},{"type":"message","user":"U0XR6J961","text":"cbf: so what's the strategy now for collaborative development of HUGE changes, like the new system architecture?","ts":"1469624795.000222"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: reading between the lines and looking at the settings in gerrit, my guess is the driver is that future commits have to include a digital signature","ts":"1469624982.000223"},{"type":"message","user":"U0KPFAZNF","text":"perhaps this is why they mandate a clean slate","ts":"1469624999.000224"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF>: LF wants to know that a) the author signed the DCO (part of accepting the LF membership) and b) who they are","ts":"1469625459.000225"},{"type":"message","user":"U0XQ35CDD","text":"If you request a new password on the LF Identity website, you are never really given the new password. As such, you can never change the password manually. (You don't know the \"current password\", and requesting a new one via a reset email never actually reveals it to you.)","ts":"1469625558.000226"},{"type":"message","user":"U0XQ35CDD","text":"Am I missing something here?","ts":"1469625562.000227"},{"type":"message","user":"U0KM61BCP","text":"<@U0XR6J961>: I\u2019m going to ignore that comment. we can use feature development branches (as we discussed in the F2F yesterday). Further, there is nothing preventing you from sharing your clone, either","ts":"1469625597.000228"},{"type":"message","user":"U0XR6J961","text":"sure, but how do we get these large changes in?","ts":"1469625627.000229"},{"type":"message","user":"U0KM61BCP","text":"<@U0XQ35CDD>, suggest you ping <@U0J038AJK> or <@U0UHG4VP1> later about the login","ts":"1469625644.000230"},{"type":"message","user":"U0XR6J961","text":"kostas: log out, then reset password","ts":"1469625662.000231"},{"type":"message","user":"U0KM61BCP","text":"<@U0XR6J961> I don\u2019t understand what your issue is","ts":"1469625700.000232"},{"type":"message","user":"U0XR6J961","text":"cbf: say we need 200-500 commits to implement the new architecture to become as stable as what we have at the moment","ts":"1469625731.000233"},{"type":"message","user":"U0XR6J961","text":"cbf: that is a very big changeset","ts":"1469625737.000234"},{"type":"message","user":"U0KM61BCP","text":"each commit is independently reviewed","ts":"1469625749.000235"},{"type":"message","user":"U0XR6J961","text":"but do we review them at the end or while development is happening?","ts":"1469625777.000236"},{"type":"message","user":"U0XR6J961","text":"what's the best way to essentially break the code and put it back together in a different way?","ts":"1469625819.000237"},{"type":"message","user":"U0KM61BCP","text":"every commit creates its own review","ts":"1469626168.000238"},{"type":"message","user":"U0KM61BCP","text":"if you squash then there\u2019s one, but NOBODY wants to review a bazillion lines of code","ts":"1469626188.000239"},{"type":"message","user":"U0KM61BCP","text":"a feature branch with maintainers reviewing and merging patches makes most sense","ts":"1469626211.000240"},{"type":"message","user":"U0KM61BCP","text":"or feature flags","ts":"1469626228.000241"},{"type":"message","user":"U0XR6J961","text":"right, so that in the end, we review while it is progressing","ts":"1469626279.000242"},{"type":"message","user":"U0XR6J961","text":"not 500 commits in one go","ts":"1469626290.000243"},{"type":"message","user":"U0XR6J961","text":"what's the procedure to get a new feature branch?","ts":"1469626298.000244"},{"type":"message","user":"U0XQ35CDD","text":"(<@U0KM61BCP>: Will do, thanks. <@U0XR6J961>: Doing that doesn't reveal the new password, so you can never change the password to one of your own.)","ts":"1469626403.000245"},{"type":"message","user":"U0XR6J961","text":"as i said, log out","ts":"1469626416.000246"},{"type":"message","user":"U0XQ35CDD","text":"I did.","ts":"1469626425.000247"},{"type":"message","user":"U0XR6J961","text":"then your reset password link will take you to a page that will not ask for a password","ts":"1469626437.000248"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0KM61BCP> I have to agree with <@U0XR6J961> on the IP aspect, it doesn't seem like forcing a single commit makes the situation really any better","ts":"1469626999.000249"},{"type":"message","user":"U0P2GSA8Z","text":"at best it only forces a single party to take the blame for anything that happened before","ts":"1469627050.000250"},{"type":"message","user":"U0P2GSA8Z","text":"which I imagine LF might like","ts":"1469627111.000251"},{"type":"message","user":"U0P2GSA8Z","text":"but it doesn't make the actual pedigree any better","ts":"1469627201.000252"},{"type":"message","user":"U0KM61BCP","text":"take it up wth the LF legal team then, because we (and Intel) pushed back but they insisted","ts":"1469629018.000253"},{"type":"message","user":"U0KM61BCP","text":"<@U0XR6J961> I think the appropriate process would be to request one on the mailing list and the maintainers will then need to make a collective decision\u2026 ideally a feature branch is associated with an agreed (feature) proposal","ts":"1469629467.000254"},{"user":"U1B2FF8LR","text":"<@U1B2FF8LR|scottz> has joined the channel","type":"message","subtype":"channel_join","ts":"1469629884.000255"},{"type":"message","user":"U0KM61BCP","text":"<@U0XR6J961>: <@U0KPFAZNF> just discussed with <@U0KN2SSKE> and <@U0TFEHX8E> and they concur with the model I described above\u2026 we would limit to feature development that was collaborative and bigger than a breadbox. Would welcome your thoughts. Will run by <@U0MT4CBHB> and <@U1AU8DRQR> shortly","ts":"1469637781.000256"},{"type":"message","user":"U0KPFAZNF","text":"this makes sense to me","ts":"1469637809.000257"},{"type":"message","user":"U0XR6J961","text":"thanks","ts":"1469637810.000258"},{"type":"message","user":"U0XR6J961","text":"feature branch is fine with me","ts":"1469637820.000259"},{"type":"message","user":"U0KPFAZNF","text":"obviously git is git, anyone can fork\/push\/whatever to something outside of gerrit","ts":"1469637835.000260"},{"type":"message","user":"U0KM61BCP","text":"y","ts":"1469637842.000261"},{"type":"message","user":"U0KPFAZNF","text":"it mostly comes down to visibility\/integration","ts":"1469637843.000262"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1469637876.000263"},{"user":"U1VNN4LGJ","text":"<@U1VNN4LGJ|junzhang> has joined the channel","type":"message","subtype":"channel_join","ts":"1469642938.000264"},{"type":"message","user":"U11M1GJHG","text":"is CI being triggered from Gerrit?","ts":"1469643800.000265"},{"type":"message","user":"U11HH3P7Y","text":"<@U11M1GJHG>: yes <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/9\/>","ts":"1469644670.000266"},{"type":"message","user":"U11M1GJHG","text":"thanks ramesh. Is only jenkins working?","ts":"1469644809.000267"},{"type":"message","user":"U11HH3P7Y","text":"yes..","ts":"1469644856.000268"},{"type":"message","user":"U1AU8DRQR","text":"who could help me with vagrant?","ts":"1469647102.000269"},{"type":"message","user":"U0KM61BCP","text":"<!channel>: I\u2019m updating the docs to provide info on using Gerrit <http:\/\/cbf-fabric-docs.readthedocs.io\/en\/latest\/>","attachments":[{"title":"Hyperledger Fabric","title_link":"http:\/\/cbf-fabric-docs.readthedocs.io\/en\/latest\/","text":"Welcome to the Hyperledger fabric documentation","fallback":"Hyperledger Fabric","from_url":"http:\/\/cbf-fabric-docs.readthedocs.io\/en\/latest\/","service_icon":"http:\/\/cbf-fabric-docs.readthedocs.io\/favicon.ico","service_name":"cbf-fabric-docs.readthedocs.io","id":1}],"ts":"1469667103.000270","reactions":[{"name":"+1","users":["U11M1GJHG"],"count":1}]},{"type":"message","user":"U0KM61BCP","text":"I should have this ready for Gerrit review tomorrow","ts":"1469667126.000272"},{"type":"message","user":"U0KM61BCP","text":"please feel free to send me any feedback","ts":"1469667138.000273"},{"type":"message","user":"U12452RAP","text":"how to reverify jenkins now?","ts":"1469686976.000274"},{"type":"message","user":"U1MNES6NR","text":"Hi everyone! I'm trying to understand the current status of the security features of fabric, and I have some questions.\n\n- A security context is provided after login on the membership service; and is sent for each transaction to peers. What is it, exactly? I've not found any documentation related to that. Is is some kind of Ecert? The peer binary does not seem to send any other \"secure\" information other than this security context.\n\n- In the current implementation, is the ACA working? This authority is not specified in the fabric protocol, and I'm wondering if I can use the ACA and the <http:\/\/godoc.org\/github.com\/hyperledger\/fabric\/core\/chaincode\/shim#ChaincodeStub.VerifyAttribute> function while only sending the security context in the chaincode invocation.\n\n- Basically, is it a good idea to start building things on top of the security features right now, or is it a better idea to wait for more stable API?\n\nThanks","edited":{"user":"U1MNES6NR","ts":"1469696441.000000"},"ts":"1469696429.000275"},{"type":"message","user":"U11M1GJHG","text":"Hi lbonniot, A security context includes a CallerCert, it is a transaction certificate (TCert). ECert is generated at enroll time and before transaction the client request to the TCA per a batch of TCerts (the default value is 200 TCerts), the client invokes the chaincode using one of these TCerts in each invocation. When there is no more TCert, client invokes TCA again per a new batch. TCert keys are derived from ECert keys, in this way the client uses a different key in each invocation avoiding linkability. About ACA is working you can see a recently added documentation here <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/API\/AttributesUsage.md> . You can start building on top of the security features, you can join in <#C1J0BM448> channel where we can help you to address your questions","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/API\/AttributesUsage.md","text":"Read-only historic repo. Current development is at <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric> . pull requests not accepted","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/API\/AttributesUsage.md","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"edited":{"user":"U11M1GJHG","ts":"1469706880.000000"},"ts":"1469706842.000278"},{"type":"message","user":"U1CK6522F","text":"How to query system chaincode? I didn't find anything helpful here. <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/SystemChaincodes\/noop.md>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/SystemChaincodes\/noop.md","text":"Read-only historic repo. Current development is at <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric> . pull requests not accepted","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/SystemChaincodes\/noop.md","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1469706963.000281"},{"type":"message","user":"U1CK6522F","text":"curl -i -X POST -H \"Content-Type: application\/json\" <http:\/\/localhost:5000\/chaincode> -d '{ \"jsonrpc\": \"2.0\", \"method\": \"query\", \"params\": { \"type\": 1, \"chaincodeID\":{ \"name\":\"noop\" },\"ctorMsg\": { \"function\":\"getTran\", \"args\":[\"530923200208163348\"] }, \"secureContext\":\"B003003H8000\" }, \"id\": 5}'\nresult:  {\"jsonrpc\":\"2.0\",\"error\":{\"code\":-32003,\"message\":\"Query failure\",\"data\":\"Error when querying chaincode: Error:Failed to launch chaincode spec(Could not get deployment transaction for noop - LedgerError - ResourceNotFound: ledger: resource not found)\"},\"id\":5}","ts":"1469706990.000283"},{"type":"message","user":"U1MNES6NR","text":"Thanks a lot <@U11M1GJHG> , I'll check that :slightly_smiling_face:","ts":"1469706999.000284"},{"type":"message","user":"U0XR6J961","text":"zuowang: did you enable the noop system chaincode?","ts":"1469707019.000285"},{"type":"message","user":"U1CK6522F","text":"simon: how to enable? like this?\n\t{\n\t\tEnabled:   true,\n\t\tName:      \"noop\",\n\t\tPath:      \"<http:\/\/github.com\/hyperledger\/fabric\/bddtests\/syschaincode\/noop|github.com\/hyperledger\/fabric\/bddtests\/syschaincode\/noop>\",\n\t\tInitArgs:  []string{},\n\t\tChaincode: &amp;noop.SystemChaincode{},\n\t},","ts":"1469707104.000286"},{"type":"message","user":"U0XR6J961","text":"i don't really know","ts":"1469707119.000287"},{"type":"message","user":"U0XR6J961","text":"isn't there something in the config yaml file?","ts":"1469707128.000288"},{"type":"message","user":"U1CK6522F","text":"Thanks a lot! I didn't find any config in yaml file.","ts":"1469707271.000289"},{"type":"message","user":"U0XR6J961","text":"maybe that was removed","ts":"1469707901.000290"},{"type":"message","user":"U12452RAP","text":"<@U0KM61BCP>: should I add reviewer on Gerrit by self? and where can add comment for change in Gerrit?I have migrated a PR","ts":"1469708786.000291"},{"type":"message","user":"U0XR6J961","text":"i find reviewing on gerrit extremely difficult","ts":"1469708956.000292"},{"type":"message","user":"U0XR6J961","text":"i can't see all changes on the same page","ts":"1469708973.000293"},{"type":"message","user":"U12452RAP","text":"yep, i also like github","ts":"1469709548.000294"},{"type":"message","user":"U1AU8DRQR","text":"hey","ts":"1469711205.000295"},{"type":"message","user":"U1AU8DRQR","text":"if anybody needs a reviewer please invite me","ts":"1469711217.000296"},{"type":"message","user":"U1AU8DRQR","text":"use my nickname 'hgabre' or my e-mail","ts":"1469711275.000297"},{"type":"message","user":"U1AU8DRQR","text":"now, I m reviewing changesets from the 'All open' tab","ts":"1469711334.000298"},{"type":"message","user":"U0XR6J961","text":"hgabor: is there a way to see changes across all files in one view?","ts":"1469711519.000299"},{"type":"message","user":"U1AU8DRQR","text":"simon: if you mean the classic github style view where one can see all the files under one another then I think there is no such view","ts":"1469711587.000300"},{"type":"message","user":"U0XR6J961","text":"who thinks of that?","ts":"1469711604.000301"},{"type":"message","user":"U0XR6J961","text":"of course i need to see all concurrently","ts":"1469711615.000302"},{"type":"message","user":"U1AU8DRQR","text":"I suggest you to click on the first file and then use the arrows to navigate - at the first look, it may be harder than github","ts":"1469711714.000303"},{"type":"message","user":"U0XR6J961","text":"the more difficult the interface, the less reviewing will take place","ts":"1469711949.000304"},{"type":"message","user":"U12452RAP","text":"<@U0Z541B3P>: what is your username in Gerrit? Need you review first i think","ts":"1469712091.000305"},{"type":"message","user":"U1AU8DRQR","text":"simon: I hope people will get used to it and will like it. I was in projects where we had Gerrit and for me it is much better than github. Much cleaner.","ts":"1469712302.000306"},{"type":"message","user":"U0XR6J961","text":"okay","ts":"1469712360.000307"},{"type":"message","user":"U0XR6J961","text":"hgabor: can you suggest some strategies?","ts":"1469712393.000308"},{"type":"message","user":"U0XR6J961","text":"seems i can only review +1\/-1, not +2\/-2","ts":"1469712725.000309"},{"type":"message","user":"U1AU8DRQR","text":"the one I use is the following:\n1, read the commit message and get the general goal of the changeset (if it does not tell enough then it is a bad commit message)\n2, go over all the files and check higher level things like formatting (whitespaces have a red background etc. so it is easy to see), what files were modified, whether the tests were updated and the higher level structure of the modification\n3, go over once again and try to understand the changes (lower level). I often use multiple tabs for the multiple, related files\nWhile doing this, one can add comments, tips etc.","ts":"1469712757.000310"},{"type":"message","user":"U0XR6J961","text":"okay, while we're talking about reviews","ts":"1469712979.000311"},{"type":"message","user":"U1AU8DRQR","text":"Only maintainers (now called \"committers\" in Gerrit terminology if I am right) can give +2. But I think it is very important to give +1\/-1 to those changesets that you review because it will help maintainers give +2 and merge. Maybe one could also write comments like \"I had a deeper look and the changes are totally OK\" to indicate that one is an expert of the topic (while the maintainers are not always experts of all the topics).","ts":"1469712985.000312"},{"type":"message","user":"U0XR6J961","text":"how stickly do we want to be about different semantic changes being mixed into one commit?","ts":"1469713027.000313"},{"type":"message","user":"U0XR6J961","text":"yea, i should be a maintainer, but i am not","ts":"1469713037.000314"},{"type":"message","user":"U0XR6J961","text":"<@U0UHG4VP1>: can you check?  my lf id is `corecode`","ts":"1469713052.000315"},{"type":"message","user":"U1AU8DRQR","text":"I think we should not mix semantic changes.","ts":"1469713437.000316"},{"type":"message","user":"U1AU8DRQR","text":"But if you have a PR that has already have them then that may be OK. But in the future we should avoid them I think.","ts":"1469713479.000317"},{"type":"message","user":"U0XR6J961","text":"i try to keep my commits as small as possible","ts":"1469713761.000318"},{"type":"message","user":"U0XR6J961","text":"hgabor: can one proposed change consist of multiple commits?","ts":"1469713781.000319"},{"type":"message","user":"U1AU8DRQR","text":"Yeah but now we have dozens of PRs that need to be migrated to Gerrit. And now I am trying to find out the best way of migration for one of my PRs. As you may know a commit from a PR equals 1 changeset in Gerrit. So if one wants to create 1 changeset from a PR then a squash is needed.","ts":"1469713925.000320"},{"type":"message","user":"U1AU8DRQR","text":"Sorry I just read it. So the answer is no, it cannot. 1 changeset = 1 commit.","ts":"1469713967.000321"},{"type":"message","user":"U1AU8DRQR","text":"It is a smaller thing than the PR concept of GitHub. But one can have a chain of changesets (like a chain of commits).","ts":"1469714012.000322"},{"type":"message","user":"U0XR6J961","text":"what?","ts":"1469714347.000323"},{"type":"message","user":"U0XR6J961","text":"that's terrible","ts":"1469714351.000324"},{"type":"message","user":"U0XR6J961","text":"or will it all be one \"subject\"","ts":"1469714373.000325"},{"type":"message","user":"U0XR6J961","text":"with multiple changesets?","ts":"1469714378.000326"},{"type":"message","user":"U1AU8DRQR","text":"what exactly do you mean by subject?","ts":"1469714531.000327"},{"type":"message","user":"U0XR6J961","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/q\/status:open>","ts":"1469714543.000328"},{"type":"message","user":"U0XR6J961","text":"says \"subject\"","ts":"1469714547.000329"},{"type":"message","user":"U1AU8DRQR","text":"yeah now I get it","ts":"1469714584.000330"},{"type":"message","user":"U1AU8DRQR","text":"no, with different subjects","ts":"1469714595.000331"},{"type":"message","user":"U0XR6J961","text":"so if i implement a feature in 10 small commits, then there will be 10 lines?","ts":"1469714638.000332"},{"type":"message","user":"U1AU8DRQR","text":"yes","ts":"1469714727.000333"},{"type":"message","user":"U1AU8DRQR","text":"but these should be merged much quicker and 'smoother' than PRs","ts":"1469714765.000334"},{"type":"message","user":"U0XR6J961","text":"lol","ts":"1469714766.000335"},{"type":"message","user":"U0XR6J961","text":"this project is doomed","ts":"1469714769.000336"},{"type":"message","user":"U1AU8DRQR","text":"if you change an existing feature why would it make any harm to have N changesets? (where N &gt;= 10)","ts":"1469714824.000337"},{"type":"message","user":"U0XR6J961","text":"it's fine to have N commits","ts":"1469714842.000338"},{"type":"message","user":"U0XR6J961","text":"mandatory even","ts":"1469714846.000339"},{"type":"message","user":"U0XR6J961","text":"but a list where these are no longer grouped together","ts":"1469714860.000340"},{"type":"message","user":"U0XR6J961","text":"but floating around independent of each other...","ts":"1469714871.000341"},{"type":"message","user":"U1AU8DRQR","text":"they are grouped together but not in that list","ts":"1469714877.000342"},{"type":"message","user":"U0XR6J961","text":"okay","ts":"1469714917.000343"},{"type":"message","user":"U1AU8DRQR","text":"if you open one of the commits (changesets) you can see all the others from the chain (depending on it or dependencies)","ts":"1469714920.000344"},{"type":"message","user":"U0XR6J961","text":"i'll venture a guess:","ts":"1469714926.000345"},{"type":"message","user":"U0XR6J961","text":"all will run sort of okay until there is an IBM bluemix release, or something like that","ts":"1469714948.000346"},{"type":"message","user":"U0XR6J961","text":"suddenly there will be the need to fix a lot of things in a short time","ts":"1469714959.000347"},{"type":"message","user":"U0XR6J961","text":"and then there either will be dozens or hundreds of half okay changesets proposed","ts":"1469714987.000348"},{"type":"message","user":"U0XR6J961","text":"or implementations will diverge, because gerrit cannot keep up with the creation of changesets","ts":"1469715014.000349"},{"type":"message","user":"U1AU8DRQR","text":"5 minutes and I will be back and answer :slightly_smiling_face:","ts":"1469715017.000350"},{"type":"message","user":"U0KM61BCP","text":"<@U0XR6J961> yep it's doomed, just like openstack ... not - you'll get used to it. go read how openstack uses it. google is your friend.","ts":"1469715230.000351"},{"type":"message","user":"U0XR6J961","text":"i think review is essential","ts":"1469715255.000352"},{"type":"message","user":"U0XR6J961","text":"my fear is that at some point a deadline will push to diverge code bases","ts":"1469715270.000353"},{"type":"message","user":"U1AU8DRQR","text":"<@U0KM61BCP> it would be good to some wikis\/slides about the best practices of Gerrit. Maybe Ry could help us with them.","ts":"1469715577.000354"},{"type":"message","user":"U1AU8DRQR","text":"<@U0XR6J961> half okay changesets: we need cool CI and lots of reviews and that won't happen :slightly_smiling_face:","ts":"1469715658.000355"},{"type":"message","user":"U0XR6J961","text":"no, they will happen anyways","ts":"1469715683.000356"},{"type":"message","user":"U0XR6J961","text":"it's just that via gerrit we can prevent those to land in the repo","ts":"1469715702.000357"},{"type":"message","user":"U1AU8DRQR","text":"<@U0XR6J961> how would implementations diverge? on github if everybody has a fork it is easy to have divergent implementations","ts":"1469715711.000358"},{"type":"message","user":"U1AU8DRQR","text":"<@U0XR6J961> yep I meant the prevention thing","ts":"1469715759.000359"},{"type":"message","user":"U1AU8DRQR","text":"ok and I will write no more at_simon as there is too much now here :slightly_smiling_face:","ts":"1469715787.000360"},{"type":"message","user":"U0UHG4VP1","text":"<@U0XR6J961>: is your email @zurich.ibm.com?","ts":"1469715788.000361"},{"type":"message","user":"U0XR6J961","text":"well, as long as we can get managements to accept that the gerrit repo is the only source of code, that's fine","ts":"1469715794.000362"},{"type":"message","user":"U0XR6J961","text":"ry: yes, i added both the ibm address and the github openid one","ts":"1469715829.000363"},{"type":"message","user":"U1AU8DRQR","text":"what about mirroring it to github? as I remember it was planned to have such a feature","ts":"1469715831.000364"},{"type":"message","user":"U0UHG4VP1","text":"<@U0XR6J961>: I sent the invite to your IBM address","ts":"1469715853.000365"},{"type":"message","user":"U0XR6J961","text":"ry: should i have accepted the invite before registering with gerrit?","ts":"1469715878.000366"},{"type":"message","user":"U0UHG4VP1","text":"simon: no, I don\u2019t think you could have","ts":"1469715892.000367"},{"type":"message","user":"U0KM61BCP","text":"<@U1AU8DRQR>: <mailto:cbf-fabric-docs@readthedocs.org|cbf-fabric-docs@readthedocs.org> - I have a bunch of info in the works... hope to push this afternoon","ts":"1469716446.000368"},{"type":"message","user":"U1AU8DRQR","text":"<@U0KM61BCP> you mean about gerrit and such things?","ts":"1469716529.000369"},{"type":"message","user":"U0KM61BCP","text":"yep","ts":"1469716545.000370"},{"type":"message","user":"U1AU8DRQR","text":"sounds good","ts":"1469716574.000371"},{"type":"message","user":"U0KM61BCP","text":"new content in contributing and index in left hand margin","ts":"1469716577.000372"},{"type":"message","user":"U0KM61BCP","text":"lmk if you have any feedback... not complete... gathering from other projects","ts":"1469716614.000373"},{"type":"message","user":"U12452RAP","text":"<@U1AU8DRQR>: I saw you comment for my change, i am not familiar with gerrit. Could you tell me how to change my commit message?Does it need a new patchset?","ts":"1469716885.000374"},{"type":"message","user":"U0KM61BCP","text":"git commit --amend ","ts":"1469716923.000375"},{"type":"message","user":"U0KM61BCP","text":"then push again","ts":"1469716931.000376"},{"type":"message","user":"U1AU8DRQR","text":"<@U12452RAP> you have two options 1, check it out and use amend 2, use the icon","ts":"1469716934.000377"},{"type":"message","user":"U1AU8DRQR","text":"I am not sure that option two is still present in Gerrit. I meant that there somewhere one can find a small pencil icon which is called 'Edit commit message'. <@U0UHG4VP1> do we still have such a feature? on the GUI","ts":"1469717049.000378"},{"type":"message","user":"U0UHG4VP1","text":"<@U1AU8DRQR>: I don\u2019t know if it is enabled by default","ts":"1469717086.000379"},{"type":"message","user":"U1AU8DRQR","text":"<@U0UHG4VP1> where to enable?","ts":"1469717100.000380"},{"type":"message","user":"U0XR6J961","text":"amend commit is better anyways to adapt for other review remarks","ts":"1469717118.000381"},{"type":"message","user":"U0XR6J961","text":"something to get familiar with","ts":"1469717123.000382"},{"type":"message","user":"U0KM61BCP","text":"yep","ts":"1469717129.000383"},{"type":"message","user":"U1AU8DRQR","text":"btw <@U12452RAP> note that using git commit --amend will create a new patchset and you will be able to view all your patchsets under one changeset which is cool :slightly_smiling_face:","ts":"1469717130.000384"},{"type":"message","user":"U12452RAP","text":"ok","ts":"1469717152.000385"},{"type":"message","user":"U0UHG4VP1","text":"hgabor: I mean it may not be enabled on Gerrit at all by default","ts":"1469717154.000386"},{"type":"message","user":"U0KM61BCP","text":"<@U0XR6J961>: poke around Settings - there are different ways to configure the review ux","ts":"1469717279.000387"},{"type":"message","user":"U0XR6J961","text":"ah thanks","ts":"1469717290.000388"},{"type":"message","user":"U1AU8DRQR","text":"that's a really cool feature: <https:\/\/gerrit-review.googlesource.com\/Documentation\/user-inline-edit.html>","ts":"1469717439.000389"},{"type":"message","user":"U0XR6J961","text":"meh","ts":"1469717513.000390"},{"type":"message","user":"U0XR6J961","text":"i'd rather have gerrit integration in my editor :slightly_smiling_face:","ts":"1469717538.000391"},{"type":"message","user":"U0UHG4VP1","text":"Gerrit has a REST api: <https:\/\/gerrit-review.googlesource.com\/Documentation\/rest-api.html> would probably allow that","ts":"1469717673.000392"},{"type":"message","user":"U0XR6J961","text":"so there is a git-review thing","ts":"1469717814.000393"},{"type":"message","user":"U0XR6J961","text":"and magit-gerrit for emacs","ts":"1469717820.000394"},{"type":"message","user":"U0UHG4VP1","text":"yes git-review is very popular","ts":"1469717873.000395"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP>: you might want to reference <http:\/\/chris.beams.io\/posts\/git-commit\/#seven-rules> (or incorporate it)","ts":"1469719681.000396","reactions":[{"name":"+1","users":["U11M1GJHG"],"count":1}]},{"type":"message","user":"U0KM61BCP","text":"ok thx <@U0UHG4VP1>","ts":"1469719714.000397"},{"type":"message","user":"U0KM61BCP","text":"<@U0XR6J961> ping Brad Topol or Steve Martinelli - they can give you all kinds of insights into gerrit use at openstack","ts":"1469719823.000398"},{"type":"message","user":"U1ENXTQRL","text":"<http:\/\/gerrithub.io\/>","ts":"1469719885.000399"},{"type":"message","user":"U1ENXTQRL","text":"Did anyone check that out?","ts":"1469719889.000400"},{"type":"message","user":"U0KPFAZNF","text":"<@U1ENXTQRL>: IIUC, I think the issue isn\u2019t purely \u201cwe want Gerrit\u201d, but rather there is some legal ramifications for things such as how the changesets are processed into the tree, etc, that LF requires governance over","ts":"1469720584.000401"},{"type":"message","user":"U0KPFAZNF","text":"therefore, I think part of the story is the project needs to be hosted in <http:\/\/hyperledger.org|hyperledger.org> control","ts":"1469720611.000402"},{"type":"message","user":"U0KPFAZNF","text":"thats just me reading between the lines, not sure I got that right","ts":"1469720623.000403"},{"type":"message","user":"U1ENXTQRL","text":"I understand.","ts":"1469720905.000404"},{"type":"message","user":"U1ENXTQRL","text":"Well I'm not 100% acquainted with the particular nuances of hyperledger development. I just thought it was a matter of gerrit providing a more powerful code review tool currently lacking on github.","ts":"1469720986.000405"},{"type":"message","user":"U1ENXTQRL","text":"So I thought that might be useful, since it probably allows you to keep using github while leverating gerrit... After all, github has a lot of nice features, specifically when dealing with usability.","ts":"1469721046.000406"},{"type":"message","user":"U0KPFAZNF","text":"well, that is part of it","ts":"1469721047.000407"},{"type":"message","user":"U0KPFAZNF","text":"but if that were the _only_ issue, gerrithub might have been a good option","ts":"1469721064.000408"},{"type":"message","user":"U1ENXTQRL","text":"I see..","ts":"1469721073.000409"},{"type":"message","user":"U0KPFAZNF","text":"im just saying, its more complicated than that","ts":"1469721083.000410"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins: the key issue is provenance. we can enforce DCO assertion with Gerrit easily","ts":"1469721091.000411"},{"type":"message","user":"U0KPFAZNF","text":"(or, thats my take, I should say)","ts":"1469721092.000412"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>, right, thats my understanding, but I also thought there was a requirement for DCO domain such as being tied to an LF identity, etc","ts":"1469721156.000413"},{"type":"message","user":"U0KPFAZNF","text":"(i.e. its not just the mere presence of DCO, but the provenance of the DCO being something we know the user has agreed to LF mandated terms, etc","ts":"1469721225.000414"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF>: when you sign up for an LFID you are jumping through the \u201csign the DCO\u201d hoop","ts":"1469721233.000415"},{"type":"message","user":"U0UHG4VP1","text":"yes, you\u2019re right","ts":"1469721236.000416"},{"type":"message","user":"U0KPFAZNF","text":"im also guessing that would be harder\/impossible to enforce with something like <http:\/\/gerrithub.io|gerrithub.io> vs <http:\/\/gerrit.hyperledger.org|gerrit.hyperledger.org>","ts":"1469721275.000417"},{"type":"message","user":"U0KPFAZNF","text":"but, not as sure about that","ts":"1469721286.000418"},{"type":"message","user":"U0XR6J961","text":"service as a service!","ts":"1469721300.000419"},{"type":"message","user":"U1AU8DRQR","text":"why can I get errors like these?\ngo install <http:\/\/github.com\/hyperledger\/fabric\/core\/crypto\/attributes\/proto|github.com\/hyperledger\/fabric\/core\/crypto\/attributes\/proto>: open \/opt\/gopath\/pkg\/linux_amd64\/github.com\/hyperledger\/fabric\/core\/crypto\/attributes\/proto.a: permission denied\ngo install <http:\/\/github.com\/hyperledger\/fabric\/core\/util|github.com\/hyperledger\/fabric\/core\/util>: open \/opt\/gopath\/pkg\/linux_amd64\/github.com\/hyperledger\/fabric\/core\/util.a: permission denied\ngo install <http:\/\/github.com\/hyperledger\/fabric\/membersrvc\/protos|github.com\/hyperledger\/fabric\/membersrvc\/protos>: open \/opt\/gopath\/pkg\/linux_amd64\/github.com\/hyperledger\/fabric\/membersrvc\/protos.a: permission denied","ts":"1469721312.000420"},{"type":"message","user":"U1AU8DRQR","text":"when compiling","ts":"1469721319.000421"},{"type":"message","user":"U0XR6J961","text":"agricultural -&gt; industrial -&gt; service -&gt; meta service economy","ts":"1469721334.000422"},{"type":"message","user":"U0XR6J961","text":"what's next","ts":"1469721340.000423"},{"type":"message","user":"U0KPFAZNF","text":"<@U1AU8DRQR>: one thing that might be happening is that the build was initially performed as root (such as by the vagrant setup.sh","ts":"1469721359.000424"},{"type":"message","user":"U0XR6J961","text":"hgabor: your \/opt\/gopath is not writable by your owner","ts":"1469721371.000425"},{"type":"message","user":"U0KPFAZNF","text":"is this within vagrant?","ts":"1469721377.000426"},{"type":"message","user":"U0UHG4VP1","text":"I\u2019m providing customer service for the service ||: as a service : ||","edited":{"user":"U0UHG4VP1","ts":"1469721400.000000"},"ts":"1469721385.000427"},{"type":"message","user":"U0KPFAZNF","text":"(actually, i think vagrant setup.sh does a chown","ts":"1469721390.000428"},{"type":"message","user":"U0XR6J961","text":"hehe","ts":"1469721400.000429"},{"type":"message","user":"U1AU8DRQR","text":"<@U0KPFAZNF>: yes it is in vagrant","ts":"1469721402.000431"},{"type":"message","user":"U0KPFAZNF","text":"check the perms of that .a","ts":"1469721414.000432"},{"type":"message","user":"U1AU8DRQR","text":"it it seemed that vagrant up was successful","ts":"1469721415.000433"},{"type":"message","user":"U0KPFAZNF","text":"my guess is it was owned by root","ts":"1469721420.000434"},{"type":"message","user":"U0KPFAZNF","text":"now the question is, why?","ts":"1469721427.000435"},{"type":"message","user":"U0UHG4VP1","text":"hgabor: the root ownership bug was fixed a while ago","ts":"1469721435.000436"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>, this looks like a host build problem","ts":"1469721453.000437"},{"type":"message","user":"U1AU8DRQR","text":"this is for the gerrit repo","ts":"1469721454.000438"},{"type":"message","user":"U0KPFAZNF","text":"e.g. its not in the fabric\/build, but rather top level \/opt\/gopath","ts":"1469721467.000439"},{"type":"message","user":"U0UHG4VP1","text":"I will step aside :slightly_smiling_face:","ts":"1469721504.000440"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>, i didn\u2019t mean it that way, your input is always welcome","ts":"1469721886.000441","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"(actually you were the one that caught the docker-level problem last time, so I appreciate your eyes here)","ts":"1469721938.000442"},{"type":"message","user":"U0KPFAZNF","text":"but as far as I can tell, I _think_ this is host-level this time","ts":"1469721950.000443"},{"type":"message","user":"U0KPFAZNF","text":"<@U1AU8DRQR>: can you check this: <https:\/\/github.com\/hyperledger\/fabric\/wiki\/Troubleshooting-devenv-provisioning>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/wiki\/Troubleshooting-devenv-provisioning","text":"Read-only historic repo. Current development is at <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric> . pull requests not accepted","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/wiki\/Troubleshooting-devenv-provisioning","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1469722713.000444"},{"type":"message","user":"U0KPFAZNF","text":"in particular, <https:\/\/github.com\/hyperledger\/fabric\/wiki\/Troubleshooting-devenv-provisioning#prompt>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/wiki\/Troubleshooting-devenv-provisioning#prompt","text":"Read-only historic repo. Current development is at <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric> . pull requests not accepted","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/wiki\/Troubleshooting-devenv-provisioning#prompt","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1469722728.000446"},{"type":"message","user":"U1AU8DRQR","text":"yes","ts":"1469722732.000448"},{"type":"message","user":"U0KPFAZNF","text":"do you have a prompt that looks like \"vagrant@hyperledger-devenv:v0.0.10-667d977:~$\"","ts":"1469722750.000449"},{"type":"message","user":"U0KPFAZNF","text":"or does it look like vagrant@ubuntu","ts":"1469722778.000450"},{"type":"message","user":"U0KPFAZNF","text":"?","ts":"1469722791.000451"},{"type":"message","user":"U1AU8DRQR","text":"look","ts":"1469722804.000452"},{"type":"message","user":"U1AU8DRQR","text":"vagrant@ubuntu-1404:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ echo \"needed prompt:   vagrant@hyperledger-devenv:v0.0.10-667d977:~$\"","ts":"1469722806.000453"},{"type":"message","user":"U1AU8DRQR","text":"so as you see I have the ubuntu one","ts":"1469722818.000454"},{"type":"message","user":"U0KPFAZNF","text":"yeah, so your environment is messed up","ts":"1469722876.000455"},{"type":"message","user":"U0KPFAZNF","text":"i suspect that happened is it failed in the compilation step","ts":"1469722885.000456"},{"type":"message","user":"U0KPFAZNF","text":"so, that would mean the \u201cgo install\u201d wrote packages to \/opt\/gopath\/pkg as root, but the chown never ran","ts":"1469722913.000457"},{"type":"message","user":"U1AU8DRQR","text":"yep","ts":"1469722921.000458"},{"type":"message","user":"U1AU8DRQR","text":"so destroy vagrant, up vagrant?","ts":"1469722931.000459"},{"type":"message","user":"U0KPFAZNF","text":"as per here","ts":"1469722949.000460"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/setup.sh#L99>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/setup.sh#L99","text":"Read-only historic repo. Current development is at <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric> . pull requests not accepted","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/setup.sh#L99","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1469722950.000461"},{"type":"message","user":"U0KPFAZNF","text":"well, you can do that yes","ts":"1469722962.000463"},{"type":"message","user":"U0KPFAZNF","text":"if you want, you can just run the rest of those steps from L99 down","ts":"1469722986.000464"},{"type":"message","user":"U0KPFAZNF","text":"whatever you feel like","ts":"1469722989.000465"},{"type":"message","user":"U0KPFAZNF","text":"We have a PR outstanding that will make this more obvious that your environment is toast","ts":"1469723015.000466"},{"type":"message","user":"U0KPFAZNF","text":"but it hasnt been merged yet, I probably need to resubmit it to Gerrit","ts":"1469723027.000467"},{"type":"message","user":"U1AU8DRQR","text":"destroy vagrant seems to be easier for me","ts":"1469723057.000468"},{"type":"message","user":"U0KPFAZNF","text":"sounds good, thx","ts":"1469723124.000469"},{"type":"message","user":"U0KPFAZNF","text":"if you dont get the vagrant@hyperledger prompt, save off the vagrant log","ts":"1469723140.000470"},{"type":"message","user":"U1AU8DRQR","text":"'running inline script' I guess this part runs setup.sh","ts":"1469723182.000471"},{"type":"message","user":"U1AU8DRQR","text":"it seems that it is OK","ts":"1469723351.000472"},{"type":"message","user":"U1AU8DRQR","text":"the inline script","ts":"1469723360.000473"},{"type":"message","user":"U0KPFAZNF","text":"correct","ts":"1469723542.000474"},{"type":"message","user":"U0KPFAZNF","text":"to be clear, i think it did partially run","ts":"1469723550.000475"},{"type":"message","user":"U0KPFAZNF","text":"it just didnt complete","ts":"1469723553.000476"},{"type":"message","user":"U0KPFAZNF","text":"unfortunately, the system is not super clear when that occurs","ts":"1469723567.000477"},{"type":"message","user":"U0KPFAZNF","text":"there is a PR to address this, because people keep stumbling into it","ts":"1469723580.000478"},{"type":"message","user":"U1AU8DRQR","text":"after the vagrant is up, we will see","ts":"1469723824.000479"},{"type":"message","user":"U0XR6J961","text":"-_- who keeps writing code that logs transaction content?","ts":"1469726486.000480"},{"type":"message","user":"U1AU8DRQR","text":"what code do you mean?","ts":"1469726846.000481"},{"type":"message","user":"U0XR6J961","text":"oh this actually was a problem of an unexpected log","ts":"1469726881.000482"},{"type":"message","user":"U0XR6J961","text":"the system suddenly output a whole deployment transaction","ts":"1469726893.000483"},{"type":"message","user":"U0XR6J961","text":"turns out `ledger.RollbackTxBatch(id interface{})` prints the id...","ts":"1469726920.000484"},{"type":"message","user":"U1AU8DRQR","text":"simon, what will happen to your consensus separation feature branch?","ts":"1469727173.000485"},{"type":"message","user":"U0XR6J961","text":"we hope that we will get a feature branch in gerrit","ts":"1469727278.000486"},{"type":"message","user":"U0XR6J961","text":"or decide that we destabilize master for a while","ts":"1469727292.000487"},{"type":"message","user":"U1AU8DRQR","text":"my opinion is that it may be OK to have a branch for such a big feature","ts":"1469727389.000488"},{"type":"message","user":"U1AU8DRQR","text":"but merging can be difficult and keeping uptodate","ts":"1469727411.000489"},{"type":"message","user":"U0XR6J961","text":"i think we should look into splitting the repo into smaller things","ts":"1469727464.000490"},{"type":"message","user":"U1AU8DRQR","text":"do you mean more than one repos?","ts":"1469727517.000491"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1469727543.000492"},{"type":"message","user":"U0XR6J961","text":"maybe break out some libraries","ts":"1469727577.000493"},{"type":"message","user":"U0XR6J961","text":"client sdk, membership services","ts":"1469727598.000494"},{"type":"message","user":"U0XR6J961","text":"different consensus implementations","ts":"1469727606.000495"},{"type":"message","user":"U0XR6J961","text":"chaincode shim","ts":"1469727615.000496"},{"type":"message","user":"U0XR6J961","text":"protobuf api definitions","ts":"1469727624.000497"},{"type":"message","user":"U1AU8DRQR","text":"client sdk and membership services - it would be a good idea to put those to other repos","ts":"1469727948.000498"},{"type":"message","user":"U1AU8DRQR","text":"but then we need integration tests","ts":"1469727961.000499"},{"type":"message","user":"U0XR6J961","text":"oh yes, they would also be in a separate repo","ts":"1469728426.000500"},{"type":"message","user":"U1AU8DRQR","text":"that would be okay but maybe it would make testing harder","ts":"1469728691.000501"},{"type":"message","user":"U0XR6J961","text":"why?","ts":"1469728784.000502"},{"type":"message","user":"U1AU8DRQR","text":"because it would imply that you cannot run some tests on your own machine","ts":"1469729272.000503"},{"type":"message","user":"U1AU8DRQR","text":"(more precisely you can but you have to have all the needed repos and a special environment)","ts":"1469729308.000504"},{"type":"message","user":"U1AU8DRQR","text":"think of the behave tests, I dunno if there is any bdd test working with membersvc but if membersvc was in another repo then it made running bdd tests harder","ts":"1469729365.000505"},{"type":"message","user":"U1AU8DRQR","text":"don't you think?","ts":"1469729373.000506"},{"type":"message","user":"U0XR6J961","text":"no","ts":"1469729404.000507"},{"type":"message","user":"U0XR6J961","text":"the integration tests repo would contain scripts to build docker images and run the tests","ts":"1469729435.000508"},{"type":"message","user":"U1AU8DRQR","text":"oh good idea,","ts":"1469729536.000509"},{"type":"message","user":"U1AU8DRQR","text":"but that part remains true that you will have to have all the repos","ts":"1469729557.000510"},{"type":"message","user":"U0XR6J961","text":"sure","ts":"1469730172.000511"},{"type":"message","user":"U0XR6J961","text":"but i think if we break apart repos, we can't use vendoring","ts":"1469730194.000512"},{"type":"message","user":"U0XR6J961","text":"or at least can't pass vendor data structures between different code parts","ts":"1469730233.000513"},{"type":"message","user":"U1AU8DRQR","text":"btw isn't that an antipattern? vendoring","ts":"1469730297.000514"},{"type":"message","user":"U0KPFAZNF","text":"<@U1AU8DRQR>: I am too new to golang to know what is considered anti-pattern, but I can say that I think the golang concept of dependency specification is a bit broken and vendoring is the only semblance of sanity I have come across","ts":"1469730376.000515"},{"type":"message","user":"U1AU8DRQR","text":"ghaskins, go downloads things from the github, right?","ts":"1469730413.000516"},{"type":"message","user":"U1AU8DRQR","text":"so it has no real version control","ts":"1469730422.000517"},{"type":"message","user":"U0XR6J961","text":"it does, and you can't specify a version","ts":"1469730425.000518"},{"type":"message","user":"U0KPFAZNF","text":"yeah, they totally bungled that aspect of the language","ts":"1469730434.000519"},{"type":"message","user":"U0XR6J961","text":"somebody changes the API, poof","ts":"1469730435.000520"},{"type":"message","user":"U1AU8DRQR","text":"yep then really vendoring is needed","ts":"1469730442.000521"},{"type":"message","user":"U0KPFAZNF","text":"systems like maven(leiningen) and npm do a much better job here","ts":"1469730468.000522"},{"type":"message","user":"U1AU8DRQR","text":"isnt there any fix for that? I mean some workaround or anything","ts":"1469730477.000523"},{"type":"message","user":"U0KPFAZNF","text":"yeah, vendoring :wink:","ts":"1469730484.000524"},{"type":"message","user":"U0KPFAZNF","text":"there was one alternative I looked at","ts":"1469730498.000525"},{"type":"message","user":"U0KPFAZNF","text":"let me see if I can find it","ts":"1469730501.000526"},{"type":"message","user":"U0KPFAZNF","text":"this was it:","ts":"1469730561.000527"},{"type":"message","user":"U0KPFAZNF","text":"<http:\/\/labix.org\/gopkg.in>","attachments":[{"title":"gopkg.in - Stable APIs for the Go language","title_link":"http:\/\/labix.org\/gopkg.in","text":"Stable APIs for the Go language","fallback":"gopkg.in - Stable APIs for the Go language","from_url":"http:\/\/labix.org\/gopkg.in","service_icon":"http:\/\/labix.org\/favicon.ico","service_name":"labix.org","id":1}],"ts":"1469730562.000528"},{"type":"message","user":"U0KPFAZNF","text":"it was somewhat promising because you could essentially add a version coordinate to normal <http:\/\/github.com\/golang|github.com\/golang> things","ts":"1469730590.000530"},{"type":"message","user":"U0KPFAZNF","text":"but its not foolproof, it only works if the upstream author happens to maintain tags well, etc","ts":"1469730610.000531"},{"type":"message","user":"U1AU8DRQR","text":"it would be good if one could use git hashes, no?","ts":"1469730658.000532"},{"type":"message","user":"U0KPFAZNF","text":"yeah, i seem to recall you cant though","ts":"1469730670.000533"},{"type":"message","user":"U0KPFAZNF","text":"that seems like a good feature though","ts":"1469730680.000534"},{"type":"message","user":"U0KPFAZNF","text":"i dont remember, it was a while ago and we decided a short while later to switch to vendoring","ts":"1469730703.000535"},{"type":"message","user":"U0KPFAZNF","text":"(which has its own set of problems)","ts":"1469730717.000536"},{"type":"message","user":"U0KPFAZNF","text":"but does seem to be about as good as you can get within golang","ts":"1469730733.000537"},{"type":"message","user":"U1AU8DRQR","text":"okay I see, the problem is golang","ts":"1469730763.000538"},{"type":"message","user":"U0KPFAZNF","text":"yeah","ts":"1469730769.000539"},{"type":"message","user":"U1AU8DRQR","text":"and its funny \"package\/dep management\"","ts":"1469730777.000540"},{"type":"message","user":"U0KPFAZNF","text":"yeah, i never bothered to research why it was done the way it was done","ts":"1469730830.000541"},{"type":"message","user":"U0KPFAZNF","text":"perhaps there was a valid argument","ts":"1469730839.000542"},{"type":"message","user":"U0KPFAZNF","text":"but it seems fairly braindead from my perspective","ts":"1469730850.000543"},{"type":"message","user":"U1AU8DRQR","text":"I dont think there could be any","ts":"1469730858.000544"},{"type":"message","user":"U0KPFAZNF","text":"anyway, to your point, without upstream participation, SHAs are really your best coordinate mechanism","ts":"1469730922.000545"},{"type":"message","user":"U0KPFAZNF","text":"and vendoring is the only way I am aware of to get that","ts":"1469730931.000546"},{"type":"message","user":"U0KPFAZNF","text":"(indirectly, anyway)","ts":"1469730968.000547"},{"type":"message","user":"U0KPFAZNF","text":"more like \u201csha coordinates by brute force\u201d, heh","ts":"1469730983.000548"},{"type":"message","user":"U1AU8DRQR","text":"wasnt it enough to have shell scripts that would download all the vendor packages?","ts":"1469731002.000549"},{"type":"message","user":"U1AU8DRQR","text":"or do we have artifactory or something like that?","ts":"1469731018.000550"},{"type":"message","user":"U0KPFAZNF","text":"you could probably do that, rather than use go-get you mean?","ts":"1469731024.000551"},{"type":"message","user":"U1AU8DRQR","text":"yes I meant that","ts":"1469731036.000552"},{"type":"message","user":"U0KPFAZNF","text":"one problem is that it isnt just about the coordinate, but also about the context","ts":"1469731043.000553"},{"type":"message","user":"U0KPFAZNF","text":"vendoring means that you can have different deps for different subsystems (with some obvious limitations)","ts":"1469731072.000554"},{"type":"message","user":"U1AU8DRQR","text":"do we use this feature of vendoring?","ts":"1469731088.000555"},{"type":"message","user":"U1AU8DRQR","text":"if yes, where","ts":"1469731090.000556"},{"type":"message","user":"U0KPFAZNF","text":"but for example, say projects foo and bar both use a logger, but use diffferent versions of it","ts":"1469731098.000557"},{"type":"message","user":"U0KPFAZNF","text":"and foo uses bar","ts":"1469731102.000558"},{"type":"message","user":"U0KPFAZNF","text":"with vendoring, foo and bar can each bring in their own, theoretically at least","ts":"1469731127.000559"},{"type":"message","user":"U1AU8DRQR","text":"yeah yeah yeah I get it, but in our project, do we have such subsystems?","ts":"1469731129.000560"},{"type":"message","user":"U0KPFAZNF","text":"not sure, but probably","ts":"1469731143.000561"},{"type":"message","user":"U0KPFAZNF","text":"i think we were primarily interested in stable coordinates","ts":"1469731175.000562"},{"type":"message","user":"U0KPFAZNF","text":"but there could be some heterogeneity too if we broke out the digraph","ts":"1469731197.000563"},{"type":"message","user":"U1AU8DRQR","text":"but how can you do this foo bar thing with vendoring? doesnt it mean just putting all the vendor things under a vendor directory?","ts":"1469731207.000564"},{"type":"message","user":"U0KPFAZNF","text":"well, if I had bar\/vendor\/logger(v2) and foo\/vendor\/[logger(v3), bar] for instance","ts":"1469731271.000565"},{"type":"message","user":"U0KPFAZNF","text":"the system applies context","ts":"1469731300.000566"},{"type":"message","user":"U1AU8DRQR","text":"and what does go do with this structure?","ts":"1469731303.000567"},{"type":"message","user":"U0KPFAZNF","text":"the vendor directory has hierarchical significance, IIUC","ts":"1469731326.000568"},{"type":"message","user":"U0KPFAZNF","text":"so, under \u201cbar\u201d v2 would be in effect","ts":"1469731335.000569"},{"type":"message","user":"U0KPFAZNF","text":"v3 elsewhere in foo","ts":"1469731345.000570"},{"type":"message","user":"U0KPFAZNF","text":"etc","ts":"1469731346.000571"},{"type":"message","user":"U1AU8DRQR","text":"how does go know which is bar? does it have to be named bar.go?","ts":"1469731373.000572"},{"type":"message","user":"U0KPFAZNF","text":"not sure I understand your question","ts":"1469731388.000573"},{"type":"message","user":"U0KPFAZNF","text":"its package name based","ts":"1469731397.000574"},{"type":"message","user":"U0KPFAZNF","text":"generally its the dirname that matters","ts":"1469731428.000575"},{"type":"message","user":"U0KPFAZNF","text":"not the .go files","ts":"1469731430.000576"},{"type":"message","user":"U1AU8DRQR","text":"okay okay that was the question","ts":"1469731432.000577"},{"type":"message","user":"U1AU8DRQR","text":"but in vendor directory, there are no directories the name of which is a module name","ts":"1469731495.000578"},{"type":"message","user":"U0KPFAZNF","text":"in go, if I had $GOPATH\/src\/bar\/[bat.go, baz.go], I am implicitly bringing both files in by saying \u201cimport bar\"","ts":"1469731498.000579"},{"type":"message","user":"U0KPFAZNF","text":"i think its a fqp","ts":"1469731537.000580"},{"type":"message","user":"U0KPFAZNF","text":"for instance","ts":"1469731561.000581"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/vendor\/github.com\/kr\/pretty>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/vendor\/github.com\/kr\/pretty","text":"Read-only historic repo. Current development is at <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric> . pull requests not accepted","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/vendor\/github.com\/kr\/pretty","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1469731562.000582"},{"type":"message","user":"U0KPFAZNF","text":"I could say \u201cimport \u2018<http:\/\/github.com\/kr\/pretty'|github.com\/kr\/pretty'>\"","ts":"1469731578.000584"},{"type":"message","user":"U0KPFAZNF","text":"and it would be satisfied by $mypkg\/vendor first, or $GOPATH\/src second","ts":"1469731607.000585"},{"type":"message","user":"U0KPFAZNF","text":"(falling back to trying to git-cloning it if those fail)","ts":"1469731634.000586"},{"type":"message","user":"U0KPFAZNF","text":"thats why I said its contextual via the heirarchy","ts":"1469731658.000587"},{"type":"message","user":"U0KPFAZNF","text":"anything under $mypkg has its imports aliased to $mypkg\/vendor (if it exists)","ts":"1469731699.000588"},{"type":"message","user":"U1AU8DRQR","text":"okay then I will have to search for directories called vendor","ts":"1469731726.000589"},{"type":"message","user":"U1AU8DRQR","text":"we only have these","ts":"1469731969.000590"},{"type":"message","user":"U1AU8DRQR","text":".\/build\/docker\/pkg\/linux_amd64\/github.com\/hyperledger\/fabric\/vendor\n.\/vendor","ts":"1469731970.000591"},{"type":"message","user":"U0KPFAZNF","text":"not sure what you are trying to do","ts":"1469733386.000592"},{"type":"message","user":"U0KPFAZNF","text":"note that .\/build is just a transient artifact directory","ts":"1469733415.000593"},{"type":"message","user":"U1AU8DRQR","text":"I know that","ts":"1469733751.000594"},{"type":"message","user":"U1AU8DRQR","text":"I meant that we only use \/vendor for the full project but there are no overrides","ts":"1469733775.000595"},{"type":"message","user":"U0KPFAZNF","text":"sorry, i am not clear on what you are after","ts":"1469733778.000596"},{"type":"message","user":"U0KPFAZNF","text":"oh, i see what you are doing","ts":"1469733788.000597"},{"type":"message","user":"U0KPFAZNF","text":"you are looking for vendoring within one of our vendored packages?","ts":"1469733803.000598"},{"type":"message","user":"U1AU8DRQR","text":"yep exactly","ts":"1469733813.000599"},{"type":"message","user":"U0KPFAZNF","text":"ok, sorry, i get it now","ts":"1469733818.000600"},{"type":"message","user":"U1AU8DRQR","text":"my guess is that as we only use a project-wide vendor dir, we could also use shell scripts with exact git hashes (those script could fetch the vendor package at build time)","ts":"1469733871.000601"},{"type":"message","user":"U0KPFAZNF","text":"probably\u2026what problem are you trying to solve?","ts":"1469733888.000602"},{"type":"message","user":"U1AU8DRQR","text":"(or we could create a gradle plugin to do that etc etc... :slightly_smiling_face: )","ts":"1469733895.000603"},{"type":"message","user":"U1AU8DRQR","text":"I do not know if this is a problem for others but we store the repos of other vendors in our own repo, dont we?","ts":"1469733924.000604"},{"type":"message","user":"U1AU8DRQR","text":"this is one of the disadvantages of vendoring","ts":"1469733939.000605"},{"type":"message","user":"U0KPFAZNF","text":"yes, but that is the whats intended with vendoring","ts":"1469733944.000606"},{"type":"message","user":"U1AU8DRQR","text":"yep but it could be workarounded","ts":"1469733957.000607"},{"type":"message","user":"U0KPFAZNF","text":"while perhaps wasteful, I dont see it as particularly problematic","ts":"1469733973.000608"},{"type":"message","user":"U1AU8DRQR","text":"but I am OK with the current situation if everybody likes this","ts":"1469733974.000609"},{"type":"message","user":"U1AU8DRQR","text":"yep, kinda wasteful","ts":"1469733990.000610"},{"type":"message","user":"U0KPFAZNF","text":"heh, well, to be clear, I wish golang just had a more reasonable dep system","edited":{"user":"U0KPFAZNF","ts":"1469734007.000000"},"ts":"1469734000.000611"},{"type":"message","user":"U0KPFAZNF","text":"so I wouldnt say I \u201clike this\u201d :wink:","ts":"1469734021.000613"},{"type":"message","user":"U1AU8DRQR","text":"yes I wish too but I guess we will have to wait some decades for that","ts":"1469734025.000614"},{"type":"message","user":"U0KPFAZNF","text":"but it does seem to be the way golang is supposed to work","ts":"1469734033.000615"},{"type":"message","user":"U1AU8DRQR","text":"I guess the idea behind it is that golang programmers have to write backward compatible code","ts":"1469734065.000616"},{"type":"message","user":"U1AU8DRQR","text":"including APIs","ts":"1469734071.000617"},{"type":"message","user":"U0KPFAZNF","text":"the biggest issue I have seen is sometimes people inadvertently patch the vendored code, such as an errant gofmt run","edited":{"user":"U0KPFAZNF","ts":"1469734106.000000"},"ts":"1469734097.000618"},{"type":"message","user":"U1AU8DRQR","text":"yeah and I think this has something to do with the fact that we have the code of others in our repo","ts":"1469734139.000620"},{"type":"message","user":"U0KPFAZNF","text":"well, that would be typically with vendoring though","ts":"1469734348.000621"},{"type":"message","user":"U1AU8DRQR","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/24\/>","ts":"1469734469.000622"},{"type":"message","user":"U1AU8DRQR","text":"does anybody have any idea what's the error there? I do not see any error","ts":"1469734492.000623"},{"type":"message","user":"U11HH3P7Y","text":"<@U1AU8DRQR>:  Please check this <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/24\/testReport\/junit\/peer_basic\/Network%20of%20Peers\/chaincode_example02_with_4_peers_and_1_membersrvc__test_crash_fault_____1_1_Consensus_Options\/>","ts":"1469734613.000624"},{"type":"message","user":"U1AU8DRQR","text":"oh thx ramesh","ts":"1469734665.000625"},{"type":"message","user":"U1AU8DRQR","text":"isn't that an unstable test?","ts":"1469734694.000626"},{"type":"message","user":"U11HH3P7Y","text":"not sure..but seems failure is related to timeout issue..","ts":"1469734939.000627"},{"type":"message","user":"U1AU8DRQR","text":"to be honest I have tried all the test on my local machine and they worked fine","ts":"1469735030.000628"},{"type":"message","user":"U1AU8DRQR","text":"can I retrigger that Jenkins job?","ts":"1469735060.000629"},{"type":"message","user":"U11HH3P7Y","text":"No I think.. Do you see `retrigger` option in jenkins?","ts":"1469735152.000630"},{"type":"message","user":"U1AU8DRQR","text":"no :disappointed:","ts":"1469735175.000631"},{"type":"message","user":"U11HH3P7Y","text":"will do that now..","ts":"1469735235.000632"},{"type":"message","user":"U11HH3P7Y","text":"done","ts":"1469735266.000633"},{"type":"message","user":"U1AU8DRQR","text":"thanks","ts":"1469735278.000634"},{"type":"message","user":"U1AU8DRQR","text":"is it possible somehow to create a retrigger option?","ts":"1469735312.000635"},{"type":"message","user":"U11HH3P7Y","text":"that comes with user permissions in jenkins..","ts":"1469735378.000636"},{"type":"message","user":"U1AU8DRQR","text":"what if I had a Jenkins user? would I be able to retrigger?","ts":"1469735447.000637"},{"type":"message","user":"U1AU8DRQR","text":"could I get the proper permissions?","ts":"1469735466.000638"},{"type":"message","user":"U11HH3P7Y","text":"I am not sure but please check with ry..","ts":"1469735567.000639"},{"type":"message","user":"U1AU8DRQR","text":"okay","ts":"1469735577.000640"},{"type":"message","user":"U1AU8DRQR","text":"thanks ramesh","ts":"1469735589.000641"},{"type":"message","user":"U1AU8DRQR","text":"now it is a +1 so it was test instability","ts":"1469738572.000642"},{"type":"message","user":"U1AU8DRQR","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/313\/> anyone's review is welcome","ts":"1469738588.000643"},{"type":"message","user":"U1M7K67EV","text":"So should we be manually be adding reviewers or will that happen automatically?","ts":"1469756332.000644"},{"type":"message","user":"U1M7K67EV","text":"I just published a draft change and the `Hyperledger Jobbuilder` didn't get added","ts":"1469756392.000645"},{"type":"message","user":"U1M7K67EV","text":"just added it manually though","ts":"1469756534.000646"},{"type":"message","user":"U0UHG4VP1","text":"you need to manually add people","edited":{"user":"U0UHG4VP1","ts":"1469757662.000000"},"ts":"1469757440.000648"},{"type":"message","user":"U0UHG4VP1","text":"<@U1M7K67EV>: it looks like you\u2019re going to have some conflicts as well (click the conflicts tab) <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/273\/2>","ts":"1469757565.000649"},{"type":"message","user":"U0UHG4VP1","text":"<@U1M7K67EV>: the build for your change is behind one other build: <https:\/\/jenkins.hyperledger.org\/view\/fabric\/>","ts":"1469757645.000650"},{"type":"message","user":"U1M7K67EV","text":"Sweet, thanks <@U0UHG4VP1>","ts":"1469757682.000653"},{"type":"message","user":"U1M7K67EV","text":"for those conflicts, should I wait until the other changes are merged to fix them?","edited":{"user":"U1M7K67EV","ts":"1469757711.000000"},"ts":"1469757703.000654"},{"type":"message","user":"U0UHG4VP1","text":"jcarrivick: draft change means something special in gerrit land, I apologize for my confusion","ts":"1469757713.000656"},{"type":"message","user":"U0UHG4VP1","text":"I would wait","ts":"1469757730.000657"},{"type":"message","user":"U1M7K67EV","text":"great :slightly_smiling_face:","ts":"1469757787.000658"},{"type":"message","user":"U1M7K67EV","text":"One other question from your comments there, gerrit likes commit message lines to be &lt;70 chars?","ts":"1469757812.000659"},{"type":"message","user":"U12452RAP","text":"what about issues now? submit in JIRA?","ts":"1469757922.000660"},{"type":"message","user":"U0UHG4VP1","text":"grapebaba: for fabric and sawtooth lake, yes","ts":"1469758048.000661"},{"type":"message","user":"U0UHG4VP1","text":"I haven\u2019t set up fabric-api project yet","ts":"1469758057.000662"},{"type":"message","user":"U12452RAP","text":":ok_hand::skin-tone-6:","ts":"1469758118.000663"},{"type":"message","user":"U0UHG4VP1","text":"there will be an import in the future but I\u2019m not sure when - in weeks, not days or months","ts":"1469758190.000664"},{"type":"message","user":"U12452RAP","text":"ry, another question. How to find the jenkins build number in gerrit?","ts":"1469759231.000665"},{"type":"message","user":"U0UHG4VP1","text":"<@U12452RAP>: look in comments at bottom of change","ts":"1469759657.000666"},{"type":"message","user":"U0UHG4VP1","text":"Bottom of page","ts":"1469759667.000667"},{"type":"message","user":"U12452RAP","text":":cool:","ts":"1469759897.000668"},{"type":"message","user":"U12452RAP","text":"how to add a specific reviewer","ts":"1469763013.000669"},{"type":"message","user":"U12452RAP","text":"cannot find username","ts":"1469763043.000670"},{"type":"message","user":"U1LES78TT","text":"does anyone here use the HTTP endpoint for Git on Gerrit? I seem to get a lot of authentication failures with the same username and password that I log into the website with","ts":"1469763129.000671"},{"type":"message","user":"U1LES78TT","text":"I can see it posting to <https:\/\/gerrit.hyperledger.org\/r\/fabric\/info\/refs?service=git-receive-pack> (encrypted obviously) but rejects my credentials... same happens in my browser, but works with <https:\/\/gerrit.hyperledger.org\/r\/>","ts":"1469763225.000672"},{"type":"message","user":"U1LES78TT","text":"and before anyone suggests the SSH endpoint... I haven't figured out how to use SSH through a HTTP proxy","ts":"1469763283.000673"},{"type":"message","user":"U12452RAP","text":"<@U11HH3P7Y>: that bdd test always failure","ts":"1469764240.000674"},{"type":"message","user":"U0Z541B3P","text":"<@U12452RAP>: I am just familiarising myself with Gerrit. I\u2019ll create an Id today if it needs one","ts":"1469768887.000675"},{"type":"message","user":"U12452RAP","text":":ok_hand::skin-tone-2:","ts":"1469769057.000676"},{"type":"message","user":"U0XR6J961","text":"<@U0ULK2JPP>: what is the chaincode init function used for?  i always thought it was used to set initial values for deploy","ts":"1469785491.000677"},{"type":"message","user":"U0XR6J961","text":"but it seems it gets invoked every time the container is launched again?","ts":"1469785512.000678"},{"user":"U1K869J4W","text":"<@U1K869J4W|mihaig> has joined the channel","type":"message","subtype":"channel_join","ts":"1469789630.000679"},{"type":"message","user":"U12452RAP","text":"now how to reverify Jenkins?","ts":"1469795101.000680"},{"type":"message","user":"U0ULK2JPP","text":"<@U0XR6J961> init should not be used when startign the container later (such as for an invoke or query)","ts":"1469795773.000681"},{"type":"message","user":"U0XR6J961","text":"which part of the code sends init?","ts":"1469795791.000682"},{"type":"message","user":"U0ULK2JPP","text":"chaincode_support.go \u2026 I think under Launch(..)","ts":"1469795821.000683"},{"type":"message","user":"U0XR6J961","text":"`sendInitOrReady`?","ts":"1469796027.000684"},{"type":"message","user":"U0ULK2JPP","text":"right","ts":"1469797127.000685"},{"type":"message","user":"U0ULK2JPP","text":"Ready is for restarting container for invoke or query","ts":"1469797161.000686"},{"type":"message","user":"U0XR6J961","text":"ah so the logic is hidden somewhere in there","ts":"1469797217.000687"},{"type":"message","user":"U0XR6J961","text":"bit of a spaghetti","ts":"1469797222.000688"},{"type":"message","user":"U0ULK2JPP","text":"its basically a state machine thing","ts":"1469797551.000689"},{"type":"message","user":"U0ULK2JPP","text":"move to ready state when starting up \u2026 go through init first if deploying","ts":"1469797806.000690"},{"type":"message","user":"U0ULK2JPP","text":"what are you running into ?","ts":"1469797815.000691"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP>: we still need to merge the developer-preview branch to gerrit","ts":"1469798013.000692"},{"type":"message","user":"U0XR6J961","text":"muralisr: i'm rewriting it to store deployment transactions in the ledger instead of pulling them out of the chain","ts":"1469798487.000693"},{"type":"message","user":"U0ULK2JPP","text":"did you check with <@U0Z541B3P> ?","ts":"1469798539.000694"},{"type":"message","user":"U0ULK2JPP","text":"I think he may done that at one point when were exploring upgrade","ts":"1469798569.000695"},{"user":"U1KDAMDJ7","text":"<@U1KDAMDJ7|sanchezl> has joined the channel","type":"message","subtype":"channel_join","ts":"1469802318.000696"},{"type":"message","user":"U0KQ9QKH6","text":"<@U0KM61BCP>: is there a requirement to have more than one reviewer in the new gerrit process? Or has that not been decided yet?","ts":"1469806698.000697"},{"type":"message","user":"U0KM61BCP","text":"that is the intended practice","ts":"1469807765.000698"},{"type":"message","user":"U0KM61BCP","text":"I need to check with LF to see if it has been implemented as a rule yet","ts":"1469807781.000699"},{"type":"message","user":"U0UHG4VP1","text":"<@U1LES78TT>: you don\u2019t use the same password. go to <https:\/\/gerrit.hyperledger.org\/r\/#\/settings\/http-password> to set or get your http password","ts":"1469809070.000700"},{"type":"message","user":"U0UHG4VP1","text":"<@U12452RAP>: log in to jenkins, go to the build you want to re-run. there should be a \u201cretrigger\u201d button on the far left menu. your credentials are the same for gerrit as they are for jenkins.","ts":"1469809155.000701"},{"type":"message","user":"U1AU8DRQR","text":"everyone\nWe have this: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/317>\nPlease have a look at the comments in this file and help us decide how to continue with this commit:\n<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/317\/1\/core\/chaincode\/shim\/java\/src\/main\/java\/org\/hyperledger\/java\/shim\/ChaincodeStub.java>\nThe question is that we should use []byte or [][]byte as chaincode arguments?","ts":"1469810684.000702"},{"user":"U0KPTLRGU","text":"<@U0KPTLRGU|tsariounov> has joined the channel","type":"message","subtype":"channel_join","ts":"1469815352.000703"},{"type":"message","user":"U0XQ35CDD","text":"FWIW, Protocol Buffers v3.0.0 is out: <https:\/\/github.com\/google\/protobuf\/releases\/tag\/v3.0.0>","attachments":[{"service_name":"GitHub","title":"google\/protobuf","title_link":"https:\/\/github.com\/google\/protobuf\/releases\/tag\/v3.0.0","text":"protobuf - Protocol Buffers - Google's data interchange format","fallback":"GitHub: google\/protobuf","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/1342004?v=3&s=400","from_url":"https:\/\/github.com\/google\/protobuf\/releases\/tag\/v3.0.0","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1469820660.000704"},{"type":"message","user":"U0UHG4VP1","text":"you can add <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/groups\/9,members> to reviews to add the fabric maintainers to a change cr-fabric","ts":"1469843508.000706"},{"user":"U1VG8LNP3","text":"<@U1VG8LNP3|yaoguo> has joined the channel","type":"message","subtype":"channel_join","ts":"1469857736.000707"},{"type":"message","subtype":"file_share","text":"<@U1T1PHTCL|s.matthew.english> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/s.matthew.english\/F1WMLFMG9\/12121j2kkkmm123.png|learn-chaincode broken> and commented: this is the error I get then trying to build from the  IBM-Blockchain\/learn-chaincode example","file":{"id":"F1WMLFMG9","created":1469888680,"timestamp":1469888680,"name":"12121j2kkkmm123.png","title":"learn-chaincode broken","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U1T1PHTCL","editable":false,"size":391205,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1WMLFMG9\/12121j2kkkmm123.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1WMLFMG9\/download\/12121j2kkkmm123.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMLFMG9-1cf4608d4d\/12121j2kkkmm123_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMLFMG9-1cf4608d4d\/12121j2kkkmm123_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMLFMG9-1cf4608d4d\/12121j2kkkmm123_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":99,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMLFMG9-1cf4608d4d\/12121j2kkkmm123_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":132,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMLFMG9-1cf4608d4d\/12121j2kkkmm123_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMLFMG9-1cf4608d4d\/12121j2kkkmm123_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":198,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMLFMG9-1cf4608d4d\/12121j2kkkmm123_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":264,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMLFMG9-1cf4608d4d\/12121j2kkkmm123_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":281,"image_exif_rotation":1,"original_w":1275,"original_h":350,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/s.matthew.english\/F1WMLFMG9\/12121j2kkkmm123.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1WMLFMG9-a6b30215ec","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc1WMFHVDK","created":1469888680,"timestamp":1469888680,"user":"U1T1PHTCL","is_intro":true,"comment":"this is the error I get then trying to build from the  IBM-Blockchain\/learn-chaincode example","channel":""}},"user":"U1T1PHTCL","upload":true,"display_as_bot":false,"username":"<@U1T1PHTCL|s.matthew.english>","bot_id":null,"ts":"1469888683.000708"},{"type":"message","user":"U1T1PHTCL","text":"ok nevermind that error","ts":"1469892024.000709"},{"type":"message","user":"U1T1PHTCL","text":"I fixed it","ts":"1469892026.000710"},{"type":"message","user":"U1T1PHTCL","text":"but is it possible to play with this locally?","ts":"1469892035.000711"},{"type":"message","user":"U0KM61BCP","text":"<@U1T1PHTCL>: yes, <http:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/Setup\/Chaincode-setup\/>","ts":"1469893112.000712"},{"type":"message","user":"U1T1PHTCL","text":"but also with the interface?","ts":"1469893133.000713"},{"type":"message","user":"U1T1PHTCL","text":"I was looking at this","ts":"1469893137.000714"},{"type":"message","user":"U1T1PHTCL","text":"<https:\/\/github.com\/openblockchain\/obc-docs\/blob\/master\/FAQ\/chaincode_FAQ.md>","attachments":[{"service_name":"GitHub","title":"openblockchain\/obc-docs","title_link":"https:\/\/github.com\/openblockchain\/obc-docs\/blob\/master\/FAQ\/chaincode_FAQ.md","text":"obc-docs - Getting started instructions and documents","fallback":"GitHub: openblockchain\/obc-docs","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/14354670?v=3&s=400","from_url":"https:\/\/github.com\/openblockchain\/obc-docs\/blob\/master\/FAQ\/chaincode_FAQ.md","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1469893138.000715"},{"type":"message","user":"U1T1PHTCL","text":"is it possible with that one\/","ts":"1469893146.000717"},{"type":"message","user":"U1T1PHTCL","text":"yeah I did all that","ts":"1469893160.000718"},{"type":"message","user":"U0KM61BCP","text":"that repository was deprecated months ago","ts":"1469893161.000719"},{"type":"message","user":"U1T1PHTCL","text":"from the link you sent me","ts":"1469893164.000720"},{"type":"message","user":"U1T1PHTCL","text":"I've built and run it locally","ts":"1469893168.000721"},{"type":"message","user":"U1T1PHTCL","text":"and I rewrote the functions inside of chaincode_start.go","ts":"1469893192.000722"},{"type":"message","user":"U1T1PHTCL","text":"and there was no error","ts":"1469893197.000723"},{"type":"message","user":"U1T1PHTCL","text":"but now I want to run it","ts":"1469893204.000724"},{"type":"message","user":"U1T1PHTCL","text":"with some interface, or not","ts":"1469893209.000725"},{"type":"message","user":"U1T1PHTCL","text":"but just to play with the functions","ts":"1469893215.000726"},{"type":"message","user":"U1T1PHTCL","text":"run it on local host","ts":"1469893218.000727"},{"type":"message","user":"U1T1PHTCL","text":"or w\/e","ts":"1469893219.000728"},{"type":"message","user":"U0KM61BCP","text":"I don\u2019t understand \u201crun it with some interface or not\"","ts":"1469893225.000729"},{"type":"message","user":"U1T1PHTCL","text":"at the end of this...","ts":"1469893232.000730"},{"type":"message","user":"U1T1PHTCL","text":"<https:\/\/github.com\/IBM-Blockchain\/learn-chaincode>","attachments":[{"service_name":"GitHub","title":"IBM-Blockchain\/learn-chaincode","title_link":"https:\/\/github.com\/IBM-Blockchain\/learn-chaincode","text":"learn-chaincode - Learn how to write chaincode.","fallback":"GitHub: IBM-Blockchain\/learn-chaincode","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/17178768?v=3&s=400","from_url":"https:\/\/github.com\/IBM-Blockchain\/learn-chaincode","thumb_width":200,"thumb_height":200,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1469893238.000731"},{"type":"message","user":"U0KM61BCP","text":"that is also dated","ts":"1469893247.000733"},{"type":"message","user":"U0KM61BCP","text":"use the info at the link I provided","ts":"1469893255.000734"},{"type":"message","user":"U1T1PHTCL","text":"under 'Interacting with Your First Chaincode'","ts":"1469893259.000735"},{"type":"message","user":"U0KM61BCP","text":"a) that is oriented to bluemix, and b) a bit dated","ts":"1469893288.000736"},{"type":"message","user":"U0KM61BCP","text":"<http:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/Setup\/Chaincode-setup\/>","ts":"1469893290.000737"},{"type":"message","user":"U0KM61BCP","text":"that will allow you to run the chaincode locally and iteratively dev\/test","ts":"1469893313.000738"},{"type":"message","user":"U1T1PHTCL","text":"I already did that I think","ts":"1469893317.000739"},{"type":"message","user":"U0KM61BCP","text":"plus makes it easier to debug","ts":"1469893322.000740"},{"type":"message","user":"U1T1PHTCL","text":"I wanted to play with the marbles demo","ts":"1469893324.000741"},{"type":"message","user":"U1T1PHTCL","text":"but in the docs for the marbles demo","ts":"1469893331.000742"},{"type":"message","user":"U1T1PHTCL","text":"it said first check out that 'learn chaincode \"hello world\"' thing","ts":"1469893346.000743"},{"type":"message","user":"U0KM61BCP","text":"you need to port marbles, cp or car lease demos","ts":"1469893364.000744"},{"type":"message","user":"U0KM61BCP","text":"they were written as CF apps","ts":"1469893370.000745"},{"type":"message","user":"U1T1PHTCL","text":"what do you mean by port","ts":"1469893379.000746"},{"type":"message","user":"U0KM61BCP","text":"you need to do a little work to get them to run locally","ts":"1469893380.000747"},{"type":"message","user":"U1T1PHTCL","text":"is there any kind of","ts":"1469893389.000748"},{"type":"message","user":"U1T1PHTCL","text":"docs?","ts":"1469893395.000749"},{"type":"message","user":"U1T1PHTCL","text":"about how to do that","ts":"1469893399.000750"},{"type":"message","user":"U1T1PHTCL","text":"BlueMix is somewhat unstable","ts":"1469893429.000751"},{"type":"message","user":"U1T1PHTCL","text":"at least for me- who is outside of IBM","ts":"1469893564.000752"},{"type":"message","user":"U0KM61BCP","text":"actually, looks like the guys already made some changes but didn\u2019t update the docs","ts":"1469893632.000753"},{"type":"message","user":"U0KM61BCP","text":"you can run marbles locally","ts":"1469893639.000754"},{"type":"message","user":"U1T1PHTCL","text":"yeah i'd like to","ts":"1469893645.000755"},{"type":"message","user":"U0KM61BCP","text":"it will be on localhost:3000","ts":"1469893647.000756"},{"type":"message","user":"U1T1PHTCL","text":"I want to get involved with this project","ts":"1469893652.000757"},{"type":"message","user":"U0KM61BCP","text":"cool! glad to have the extra hands","ts":"1469893669.000758"},{"type":"message","user":"U1T1PHTCL","text":"ok so- just run it according to the GitHub?","ts":"1469893673.000759"},{"type":"message","user":"U1T1PHTCL","text":"yeah man- I think it's interesting","ts":"1469893685.000760"},{"type":"message","user":"U1T1PHTCL","text":"it's a sort of","ts":"1469893688.000761"},{"type":"message","user":"U1T1PHTCL","text":"new phase in blockchain development","ts":"1469893693.000762"},{"type":"message","user":"U1T1PHTCL","text":"\"consortial model\"","ts":"1469893701.000763"},{"type":"message","user":"U0KM61BCP","text":"you can run the node app: node app.js","ts":"1469893723.000764"},{"type":"message","user":"U0KM61BCP","text":"running the fabric locally needs <http:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/Setup\/Chaincode-setup\/>","ts":"1469893760.000765"},{"type":"message","user":"U1T1PHTCL","text":"I was following the docs from here","ts":"1469893763.000766"},{"type":"message","user":"U1T1PHTCL","text":"<https:\/\/github.com\/IBM-Blockchain\/marbles>","attachments":[{"service_name":"GitHub","title":"IBM-Blockchain\/marbles","title_link":"https:\/\/github.com\/IBM-Blockchain\/marbles","text":"marbles - IBM Blockchain - Marbles Demo","fallback":"GitHub: IBM-Blockchain\/marbles","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/17178768?v=3&s=400","from_url":"https:\/\/github.com\/IBM-Blockchain\/marbles","thumb_width":200,"thumb_height":200,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1469893764.000767"},{"type":"message","user":"U1T1PHTCL","text":"yeah I've run fabric locally before","ts":"1469893773.000769"},{"type":"message","user":"U1T1PHTCL","text":"one of the IBM guys helped me","ts":"1469893787.000770"},{"type":"message","user":"U1T1PHTCL","text":"in this slack channel","ts":"1469893792.000771"},{"type":"message","user":"U1T1PHTCL","text":"I wrote some crap on my blog about it","ts":"1469893847.000772"},{"type":"message","user":"U1T1PHTCL","text":"<http:\/\/semanticblockchain.me\/>","ts":"1469893847.000773"},{"type":"message","user":"U1T1PHTCL","text":"wait","ts":"1469893851.000774"},{"type":"message","user":"U1T1PHTCL","text":"not that lin","ts":"1469893853.000775"},{"type":"message","user":"U1T1PHTCL","text":"link","ts":"1469893854.000776"},{"type":"message","user":"U1T1PHTCL","text":"<http:\/\/semanticblockchain.com\/2016-07-19-Semantic_Blockchain_Meets_Hyperledger_Fabric\/>","attachments":[{"service_name":"S. Matthew English","title":"Semantic Blockchain Meets Hyperledger Fabric","title_link":"http:\/\/semanticblockchain.com\/2016-07-19-Semantic_Blockchain_Meets_Hyperledger_Fabric\/","text":"Some specific solutions encountered by one developer in trying to make a contributin to the Hyperledger project.","fallback":"S. Matthew English: Semantic Blockchain Meets Hyperledger Fabric","thumb_url":"http:\/\/semanticblockchain.com\/\/img\/matthew_666.jpg","ts":1468911600,"from_url":"http:\/\/semanticblockchain.com\/2016-07-19-Semantic_Blockchain_Meets_Hyperledger_Fabric\/","thumb_width":764,"thumb_height":764,"id":1}],"ts":"1469893867.000777"},{"type":"message","user":"U1T1PHTCL","text":"that one","ts":"1469893868.000779"},{"type":"message","user":"U0KM61BCP","text":"you will need to do this <https:\/\/github.com\/IBM-Blockchain\/ibm-blockchain-js>","attachments":[{"service_name":"GitHub","title":"IBM-Blockchain\/ibm-blockchain-js","title_link":"https:\/\/github.com\/IBM-Blockchain\/ibm-blockchain-js","text":"ibm-blockchain-js - Node.js library for easier interaction IBM Blockchain chaincode","fallback":"GitHub: IBM-Blockchain\/ibm-blockchain-js","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/17178768?v=3&s=400","from_url":"https:\/\/github.com\/IBM-Blockchain\/ibm-blockchain-js","thumb_width":200,"thumb_height":200,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1469893888.000780"},{"type":"message","user":"U0KM61BCP","text":"install and configure that","ts":"1469893898.000782"},{"type":"message","user":"U1T1PHTCL","text":"ok cool","ts":"1469893910.000783"},{"type":"message","user":"U1T1PHTCL","text":"I'll go do that","ts":"1469893914.000784"},{"type":"message","user":"U1T1PHTCL","text":"and maybe","ts":"1469893916.000785"},{"type":"message","user":"U1T1PHTCL","text":"when I finish","ts":"1469893918.000786"},{"type":"message","user":"U1T1PHTCL","text":"I'll ping you in here","ts":"1469893922.000787"},{"type":"message","user":"U1T1PHTCL","text":"ok so","ts":"1469893996.000788"},{"type":"message","user":"U1T1PHTCL","text":"it installed","ts":"1469893998.000789"},{"type":"message","user":"U1T1PHTCL","text":"then I can run the marbles app?","ts":"1469894002.000790"},{"type":"message","user":"U1T1PHTCL","text":"I ran 'ibm-blockchain-js' and it worked","ts":"1469894047.000791"},{"type":"message","user":"U1T1PHTCL","text":"but it's sort of unclear how to proceed from there","ts":"1469894126.000792"},{"type":"message","user":"U0KM61BCP","text":"<https:\/\/github.com\/IBM-Blockchain\/marbles\/blob\/master\/tutorial_part1.md#run-marbles-on-local-machine>","attachments":[{"service_name":"GitHub","title":"IBM-Blockchain\/marbles","title_link":"https:\/\/github.com\/IBM-Blockchain\/marbles\/blob\/master\/tutorial_part1.md#run-marbles-on-local-machine","text":"marbles - IBM Blockchain - Marbles Demo","fallback":"GitHub: IBM-Blockchain\/marbles","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/17178768?v=3&s=400","from_url":"https:\/\/github.com\/IBM-Blockchain\/marbles\/blob\/master\/tutorial_part1.md#run-marbles-on-local-machine","thumb_width":200,"thumb_height":200,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1469894174.000793"},{"type":"message","user":"U0KM61BCP","text":"looks like the guys have been busy updating this","ts":"1469894197.000795"},{"type":"message","user":"U0KM61BCP","text":"the plan is to contribute this to hyperledger","ts":"1469894207.000796"},{"type":"message","user":"U1T1PHTCL","text":"aha- ok cool","ts":"1469894217.000797"},{"type":"message","user":"U0KM61BCP","text":"LMK if you have any issues with that last link","ts":"1469894219.000798"},{"type":"message","user":"U1T1PHTCL","text":"certainly will do","ts":"1469894228.000799"},{"type":"message","user":"U1T1PHTCL","text":"thank you very much!","ts":"1469894231.000800"},{"type":"message","user":"U0KM61BCP","text":"yep","ts":"1469894235.000801"},{"type":"message","subtype":"file_share","text":"<@U1T1PHTCL|s.matthew.english> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/s.matthew.english\/F1WMW9087\/12121j2kkkmm123.png|local marbles error>","file":{"id":"F1WMW9087","created":1469897898,"timestamp":1469897898,"name":"12121j2kkkmm123.png","title":"local marbles error","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U1T1PHTCL","editable":false,"size":66221,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1WMW9087\/12121j2kkkmm123.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1WMW9087\/download\/12121j2kkkmm123.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMW9087-7ae2cd8b49\/12121j2kkkmm123_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMW9087-7ae2cd8b49\/12121j2kkkmm123_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMW9087-7ae2cd8b49\/12121j2kkkmm123_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":170,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMW9087-7ae2cd8b49\/12121j2kkkmm123_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":226,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMW9087-7ae2cd8b49\/12121j2kkkmm123_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMW9087-7ae2cd8b49\/12121j2kkkmm123_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":339,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMW9087-7ae2cd8b49\/12121j2kkkmm123_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":452,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMW9087-7ae2cd8b49\/12121j2kkkmm123_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":482,"image_exif_rotation":1,"original_w":1911,"original_h":900,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/s.matthew.english\/F1WMW9087\/12121j2kkkmm123.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1WMW9087-5b3b06f75a","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U1T1PHTCL","upload":true,"display_as_bot":false,"username":"<@U1T1PHTCL|s.matthew.english>","bot_id":null,"ts":"1469897901.000802"},{"type":"message","subtype":"file_share","text":"<@U1T1PHTCL|s.matthew.english> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/s.matthew.english\/F1WMW9PCP\/12121j2kkkmm1234.png|local marbles error II>","file":{"id":"F1WMW9PCP","created":1469897914,"timestamp":1469897914,"name":"12121j2kkkmm1234.png","title":"local marbles error II","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U1T1PHTCL","editable":false,"size":55049,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1WMW9PCP\/12121j2kkkmm1234.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1WMW9PCP\/download\/12121j2kkkmm1234.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMW9PCP-20153529f3\/12121j2kkkmm1234_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMW9PCP-20153529f3\/12121j2kkkmm1234_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMW9PCP-20153529f3\/12121j2kkkmm1234_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":166,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMW9PCP-20153529f3\/12121j2kkkmm1234_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":222,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMW9PCP-20153529f3\/12121j2kkkmm1234_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMW9PCP-20153529f3\/12121j2kkkmm1234_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":332,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMW9PCP-20153529f3\/12121j2kkkmm1234_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":443,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMW9PCP-20153529f3\/12121j2kkkmm1234_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":473,"image_exif_rotation":1,"original_w":1909,"original_h":881,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/s.matthew.english\/F1WMW9PCP\/12121j2kkkmm1234.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1WMW9PCP-be4a3c8f6d","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U1T1PHTCL","upload":true,"display_as_bot":false,"username":"<@U1T1PHTCL|s.matthew.english>","bot_id":null,"ts":"1469897918.000803"},{"type":"message","user":"U1T1PHTCL","text":"<@U0KM61BCP> it seemed to work- almost- I screenshot (above) the errors I got","ts":"1469897953.000804"},{"type":"message","subtype":"file_share","text":"<@U1T1PHTCL|s.matthew.english> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/s.matthew.english\/F1WN69V4J\/kkmm123.png|console output>","file":{"id":"F1WN69V4J","created":1469898226,"timestamp":1469898226,"name":"kkmm123.png","title":"console output","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U1T1PHTCL","editable":false,"size":104593,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1WN69V4J\/kkmm123.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1WN69V4J\/download\/kkmm123.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WN69V4J-345e7e8210\/kkmm123_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WN69V4J-345e7e8210\/kkmm123_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WN69V4J-345e7e8210\/kkmm123_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":64,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WN69V4J-345e7e8210\/kkmm123_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":85,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WN69V4J-345e7e8210\/kkmm123_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WN69V4J-345e7e8210\/kkmm123_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":127,"image_exif_rotation":1,"original_w":950,"original_h":168,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/s.matthew.english\/F1WN69V4J\/kkmm123.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1WN69V4J-41201dc19b","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U1T1PHTCL","upload":true,"display_as_bot":false,"username":"<@U1T1PHTCL|s.matthew.english>","bot_id":null,"ts":"1469898228.000805"},{"type":"message","user":"U1T1PHTCL","text":"maybe it's because I didn't do anything about 'mycreds.json'","ts":"1469898312.000806"},{"type":"message","user":"U1T1PHTCL","text":"that was the error from my original 'mycreds.json' file","ts":"1469898873.000807"},{"type":"message","user":"U1T1PHTCL","text":"this is the one I get when I substitute the content of 'mycreds.json' as was on the docs of <https:\/\/github.com\/IBM-Blockchain\/marbles\/blob\/master\/tutorial_part1.md#run-marbles-on-local-machine>","attachments":[{"service_name":"GitHub","title":"IBM-Blockchain\/marbles","title_link":"https:\/\/github.com\/IBM-Blockchain\/marbles\/blob\/master\/tutorial_part1.md#run-marbles-on-local-machine","text":"marbles - IBM Blockchain - Marbles Demo","fallback":"GitHub: IBM-Blockchain\/marbles","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/17178768?v=3&s=400","from_url":"https:\/\/github.com\/IBM-Blockchain\/marbles\/blob\/master\/tutorial_part1.md#run-marbles-on-local-machine","thumb_width":200,"thumb_height":200,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1469898893.000808"},{"type":"message","subtype":"file_share","text":"<@U1T1PHTCL|s.matthew.english> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/s.matthew.english\/F1WMP4VJA\/kkmm123zzzzxxxxxxx.png|using  \"sample mycreds.json\">","file":{"id":"F1WMP4VJA","created":1469898918,"timestamp":1469898918,"name":"kkmm123zzzzxxxxxxx.png","title":"using  \"sample mycreds.json\"","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U1T1PHTCL","editable":false,"size":447390,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1WMP4VJA\/kkmm123zzzzxxxxxxx.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1WMP4VJA\/download\/kkmm123zzzzxxxxxxx.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMP4VJA-e1f35af602\/kkmm123zzzzxxxxxxx_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMP4VJA-e1f35af602\/kkmm123zzzzxxxxxxx_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMP4VJA-e1f35af602\/kkmm123zzzzxxxxxxx_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":100,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMP4VJA-e1f35af602\/kkmm123zzzzxxxxxxx_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":134,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMP4VJA-e1f35af602\/kkmm123zzzzxxxxxxx_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMP4VJA-e1f35af602\/kkmm123zzzzxxxxxxx_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":201,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMP4VJA-e1f35af602\/kkmm123zzzzxxxxxxx_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":268,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1WMP4VJA-e1f35af602\/kkmm123zzzzxxxxxxx_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":286,"image_exif_rotation":1,"original_w":1169,"original_h":326,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/s.matthew.english\/F1WMP4VJA\/kkmm123zzzzxxxxxxx.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1WMP4VJA-3251b03617","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U1T1PHTCL","upload":true,"display_as_bot":false,"username":"<@U1T1PHTCL|s.matthew.english>","bot_id":null,"ts":"1469898921.000810"},{"type":"message","user":"U0KM61BCP","text":"you will need to configure the membership services yaml with those creds ","ts":"1469899811.000811"},{"type":"message","user":"U0KM61BCP","text":"I think","ts":"1469899823.000812"},{"type":"message","user":"U0UHG4VP1","text":"If you have a pending change and the build log is missing, let me know directly. I increased build log retention from 10 builds to 30 days this morning ","ts":"1469926117.000813"},{"type":"message","user":"U0UHG4VP1","text":"If the build log is missing and you need it :grinning:","ts":"1469926139.000814"},{"type":"message","user":"U1T1PHTCL","text":"<@U0KM61BCP> :confused: which creds do you mean? it's the `mycreds.json` that I will need to configure- isn't it? do the creds come from my machine?","ts":"1469965072.000815"},{"type":"message","user":"U0KM61BCP","text":"I believe that you need to configure the membersrvc.yaml to also include those mycreds.json values so that the users are known.","ts":"1469966966.000816"},{"type":"message","user":"U1T1PHTCL","text":"ah","ts":"1469967099.000817"},{"type":"message","user":"U1T1PHTCL","text":"from the sample","ts":"1469967102.000818"},{"type":"message","user":"U1T1PHTCL","text":"so it should reflect \n\n{\n  \"credentials\": {\n    \"peers\": [\n      {\n        \"api_host\": \"<http:\/\/12345678-abcde-_vp0.blockchain.ibm.com|12345678-abcde-_vp0.blockchain.ibm.com>\",   \/\/hostname or ip of peer\n        \"api_port_tls\": 443,                                    \/\/https port (optional)\n        \"api_port\": 80,                                         \/\/http port\n        \"id\": \"12345678-abcde-4d6f-_vp0\",                       \/\/unique id of peer\n      },\n    ],\n    \"users\": [\n      {\n        \"enrollId\": \"user_type1_1234567890\",                     \/\/enroll username\n        \"enrollSecret\": \"1234567890\"                             \/\/enroll's secret\n      }\n    ]\n  }\n}","ts":"1469967138.000819"},{"type":"message","user":"U1T1PHTCL","text":"I don't see a file called `membersrvc.yaml`","ts":"1469967254.000820"},{"type":"message","user":"U18D82GJH","text":"<@U1T1PHTCL>: its under membersvc directory\u2026. <https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/membersrvc>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/membersrvc","text":"Read-only historic repo. Current development is at <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric> . pull requests not accepted","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/membersrvc","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1470014103.000821"},{"type":"message","user":"U1LES78TT","text":"<@U0UHG4VP1> thanks for the heads up on the gerrit HTTP passwords","ts":"1470016597.000823","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"user":"U1WTM3H3L","text":"<@U1WTM3H3L|trustedblocks> has joined the channel","type":"message","subtype":"channel_join","ts":"1470032493.000824"},{"type":"message","user":"U1AU8DRQR","text":"is it possible to edit Jenkins jobs using GUI? just for debugging purposes","ts":"1470034931.000825"},{"type":"message","user":"U0Z41KY5V","text":"it needs privilege.","ts":"1470036887.000826"},{"type":"message","user":"U1AU8DRQR","text":"could anybody give me such privilege?","ts":"1470037019.000827"},{"type":"message","user":"U0Z541B3P","text":"<@U0XR6J961>: regarding keeping \u2018chaincode' in the state instead of in the chain - I had made some related changes in <@U0ULK2JPP>\u2019s branch at <https:\/\/github.com\/muralisrini\/fabric\/blob\/uber_chaincode\/core\/chaincode\/exectransaction.go#L88>. This change does not include the chaincode code itself though.","attachments":[{"service_name":"GitHub","title":"muralisrini\/fabric","title_link":"https:\/\/github.com\/muralisrini\/fabric\/blob\/uber_chaincode\/core\/chaincode\/exectransaction.go#L88","text":"Blockchain fabric incubator code","fallback":"GitHub: muralisrini\/fabric","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/14361488?v=3&s=400","from_url":"https:\/\/github.com\/muralisrini\/fabric\/blob\/uber_chaincode\/core\/chaincode\/exectransaction.go#L88","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1470041964.000828"},{"type":"message","user":"U1T1PHTCL","text":"<@U18D82GJH> do you know how I would need to modify `membersrvc.yaml` and `mycreds.json` to run the marbles example on my machine?","ts":"1470056638.000830"},{"type":"message","user":"U18D82GJH","text":"<@U1T1PHTCL>: sorry.. not sure\u2026","ts":"1470060165.000831"},{"type":"message","user":"U1AU8DRQR","text":"pls somebody review this: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/313\/>","ts":"1470062629.000832"},{"type":"message","user":"U0ULK2JPP","text":"<@U1AU8DRQR>: my one big comment with that PR, seems like users coming in via SDK won\u2019t be excercising this path at all ?","ts":"1470062948.000833"},{"type":"message","user":"U0ULK2JPP","text":"I could be wrong...","ts":"1470062952.000834"},{"type":"message","user":"U1AU8DRQR","text":"does the SDK send a TX including its ID?","ts":"1470063017.000835"},{"type":"message","user":"U0ULK2JPP","text":"I believe so but we should double check","ts":"1470063028.000836"},{"type":"message","user":"U1AU8DRQR","text":"could you comment this to there? to remind me, tomorrow I will have to check this","ts":"1470063068.000837"},{"type":"message","user":"U0ULK2JPP","text":"certainly","ts":"1470063076.000838"},{"type":"message","user":"U0ULK2JPP","text":"actually I thought I did but I don\u2019t see it there","ts":"1470063098.000839"},{"type":"message","user":"U1AU8DRQR","text":"does the sdk use grpc?","ts":"1470063149.000840"},{"type":"message","user":"U1T1PHTCL","text":"do any of you guys know how I can go about running the marbles example locally on my machine?","ts":"1470063507.000841"},{"type":"message","user":"U1T1PHTCL","text":"<https:\/\/github.com\/IBM-Blockchain\/marbles\/blob\/master\/tutorial_part1.md#run-marbles-on-local-machine>","attachments":[{"service_name":"GitHub","title":"IBM-Blockchain\/marbles","title_link":"https:\/\/github.com\/IBM-Blockchain\/marbles\/blob\/master\/tutorial_part1.md#run-marbles-on-local-machine","text":"marbles - IBM Blockchain - Marbles Demo","fallback":"GitHub: IBM-Blockchain\/marbles","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/17178768?v=3&s=400","from_url":"https:\/\/github.com\/IBM-Blockchain\/marbles\/blob\/master\/tutorial_part1.md#run-marbles-on-local-machine","thumb_width":200,"thumb_height":200,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1470063508.000842"},{"type":"message","user":"U1T1PHTCL","text":"that one","ts":"1470063509.000844"},{"type":"message","user":"U0ULK2JPP","text":"<@U1AU8DRQR>: I believe so but we should take this to fabric-sdk and get SDK expert\u2019s help","ts":"1470063562.000845"},{"type":"message","user":"U1T1PHTCL","text":"I can get to `Server Up - localhost:3000 ` but not to `Websocket Up` I guess because I need to properly configure \\ synchronize `membersrvc.yaml` &amp; `mycreds.json` , but- does anyone know how to go about that?","ts":"1470063643.000846"},{"type":"message","user":"U1AU8DRQR","text":"<@U0ULK2JPP>: I think I have found the sending part. for me, it seems to use plain socket. it creates a TX and it also generates an ID. I have to find out how this is handled from fabric side. In this case, if the ID is not a Bitcoin style TXID (like the one I am introducing in my commit), the TX will be impossible to be found using the SDK given ID.","ts":"1470063772.000847"},{"type":"message","user":"U1AU8DRQR","text":"So I will have to modify this part of the SDK to use content generated IDs.","ts":"1470063807.000848"},{"type":"message","user":"U1AU8DRQR","text":"what do you think?","ts":"1470063811.000849"},{"type":"message","user":"U0ULK2JPP","text":"<@U1AU8DRQR>: possibly, I think it\u2019d depend on how generous we\u2019d want it to be. We probably need to cover all kinds of transactions\u2026  we\u2019ll need to run this by <@U0S5KF44D> and others.","ts":"1470064311.000850"},{"type":"message","user":"U1AU8DRQR","text":"<@U0ULK2JPP>: please have a look at my comment in <#C14011Q9M>","ts":"1470064380.000851"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1470064389.000852"},{"type":"message","user":"U0XQ35CDD","text":"A Gerrit-related question: I need to rebase a changeset that's already been pushed to Gerrit. I believe amending a change (as described here: <https:\/\/www.mediawiki.org\/wiki\/Gerrit\/Tutorial#Amending_a_change_.28your_own_or_someone_else.27s.29>) is how I should go about it. Can someone confirm? (\/cc <@U0KM61BCP> who might know)","ts":"1470067077.000853"},{"type":"message","user":"U0ULK2JPP","text":"<@U0XQ35CDD>: thanks to <@U0KM61BCP> :","ts":"1470067124.000854"},{"type":"message","user":"U0ULK2JPP","text":"git checkout master\n\ngit pull origin\n\ngit checkout &lt;your branch&gt;\n \ngit rebase master\n\n&lt;resolve any conflicts&gt;","ts":"1470067140.000855"},{"type":"message","user":"U0ULK2JPP","text":"I had the same question over the weekend and the above helped me","ts":"1470067182.000856"},{"type":"message","user":"U0XQ35CDD","text":"<@U0ULK2JPP>: Thank you. These are instructions on how to rebase in general though, right? (Unless I'm missing something, which I might be.) I'm wondering how the rebase should be handled in terms of an existing changeset in Gerrit.","ts":"1470067519.000857"},{"type":"message","user":"U0ULK2JPP","text":"just making sure we are on the same page\u2026 here\u2019s what I was running into","ts":"1470067557.000858"},{"type":"message","user":"U0ULK2JPP","text":"I had changeset for review in gerritt","ts":"1470067570.000859"},{"type":"message","user":"U0ULK2JPP","text":"a day later it was flagged with merge conflicts","ts":"1470067582.000860"},{"type":"message","user":"U0ULK2JPP","text":"so I had to rebase and push on top of that same original changeset","edited":{"user":"U0ULK2JPP","ts":"1470067605.000000"},"ts":"1470067589.000861"},{"type":"message","user":"U0ULK2JPP","text":"I used the above instructions to do that","ts":"1470067614.000863"},{"type":"message","user":"U0XQ35CDD","text":"<@U0ULK2JPP>: My situation is the same. Looks like no special treatment is necessary then. Thanks!","ts":"1470068844.000864"},{"type":"message","user":"U0UHG4VP1","text":"kostas: as long as you use the same change ids Gerrit should stitch it up nicely","ts":"1470069307.000865"},{"type":"message","user":"U0XQ35CDD","text":"Gotcha.","ts":"1470071755.000866"},{"type":"message","user":"U11MANG9G","text":"A quick heads-up:  Chris Ferris' change which reassigned ports in Fabric has been merged and we all need to rebuild our dev-environments.","ts":"1470075532.000867"},{"type":"message","user":"U11MANG9G","text":"Please also see <http:\/\/lists.hyperledger.org\/pipermail\/hyperledger-fabric\/2016-August\/000189.html> and <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/289> for more info.","ts":"1470075533.000868"},{"type":"message","user":"U12452RAP","text":"<@U0KM61BCP>: <@U0ULK2JPP> <@U0XQ35CDD> now it have several documents describe the submit amend rebase changes, but not quite consistence","ts":"1470098526.000869"},{"type":"message","user":"U12452RAP","text":"could you make a standard guide for this include both use git review or not","ts":"1470098578.000870"},{"type":"message","user":"U1LES78TT","text":"I have a changeset (<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/365\/>) to let unittesting be done on chaincode with a nice interface.... problem is the Jenkins build fails because I've changed the interface and the build relies on artifacts outside of hyperledger\/fabric that I can't easily update","ts":"1470115315.000871"},{"type":"message","user":"U1LES78TT","text":"does anyone have any suggestions about what I should do? I can't \"fix\" Jenkins within a Gerrit review because of the outside dependencies... I also don't think it's a good idea to remove the tests that fail","ts":"1470115367.000872"},{"user":"U1X0KAHL1","text":"<@U1X0KAHL1|matpasha> has joined the channel","type":"message","subtype":"channel_join","ts":"1470122234.000873"},{"type":"message","user":"U1T1PHTCL","text":"does anyone perhaps have an idea on how to proceed with the problem detailed in this GitHub issue:\n\n<https:\/\/github.com\/IBM-Blockchain\/marbles\/issues\/27#issuecomment-236617204>","attachments":[{"service_name":"GitHub","title":"running locally- error - configure of &#39;mycreds.json&#39;? \u00b7 Issue #27 \u00b7 IBM-Blockchain\/marbles \u00b7 GitHub","title_link":"https:\/\/github.com\/IBM-Blockchain\/marbles\/issues\/27#issuecomment-236617204","text":"I'm trying to run the marbles example locally- but I ran into this error: I guess maybe it has something to do with my mycreds.json file, because that was the only part of the tutorial I di...","fallback":"GitHub: running locally- error - configure of 'mycreds.json'? \u00b7 Issue #27 \u00b7 IBM-Blockchain\/marbles","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/9053984?v=3&s=400","from_url":"https:\/\/github.com\/IBM-Blockchain\/marbles\/issues\/27#issuecomment-236617204","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1470129961.000874"},{"type":"message","user":"U1T1PHTCL","text":"I'm running into problems trying to run the marbles demo locally on my own machine","ts":"1470129983.000876"},{"user":"U1XEVQU11","text":"<@U1XEVQU11|kenhuangus> has joined the channel","type":"message","subtype":"channel_join","ts":"1470162744.000877"},{"user":"U1XHDHQKF","text":"<@U1XHDHQKF|lisacheng> has joined the channel","type":"message","subtype":"channel_join","ts":"1470167360.000878"},{"type":"message","user":"U1N8VD2CE","text":"Hi, I am new to hyperledger and i am trying to play around with the examples in Windows 7.  When i try register the example, i get 'CORE_CHAINCODE_ID_NAME' is not recognized as an internal or external command, operable program or batch file.  Anyone know what I'm missing?","ts":"1470168583.000879"},{"type":"message","user":"U1N8VD2CE","text":"NV.  I figured it out.  I have to run the command like \"chaincode_example02 CORE_CHAINCODE_ID_NAME=mycc CORE_PEER_ADDRESS=0.0.0.0:30303\", but now i'm getting \"peer.address not configured, can't connect to peer\"","ts":"1470178838.000880"},{"type":"message","user":"U1M7K67EV","text":"<@U1N8VD2CE>: `CORE_CHAINCODE_ID_NAME=mycc CORE_PEER_ADDRESS=0.0.0.0:30303` should come before the command as they are setting the environment variables for the command to use","ts":"1470183155.000881"},{"type":"message","user":"U1M7K67EV","text":"Frustratingly often after pulling in latest changes from master or checking out another branch, building the peer and running it I get a panic:\n```\nvagrant@hyperledger-devenv:v0.0.10-41c75fe:\/hyperledger$ peer node start\npanic: runtime error: invalid memory address or nil pointer dereference\n[signal 0xb code=0x1 addr=0x0 pc=0x4ad061]\n\ngoroutine 1 [running]:\npanic(0xd731e0, 0xc82000e110)\n\t\/opt\/go\/src\/runtime\/panic.go:464 +0x3e6\n<http:\/\/github.com\/hyperledger\/fabric\/vendor\/github.com\/spf13\/cobra.(*Command).execute|github.com\/hyperledger\/fabric\/vendor\/github.com\/spf13\/cobra.(*Command).execute>(0x155be80, 0x1599288, 0x0, 0x0, 0x0, 0x0)\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/vendor\/github.com\/spf13\/cobra\/command.go:479 +0x521\n<http:\/\/github.com\/hyperledger\/fabric\/vendor\/github.com\/spf13\/cobra.(*Command).Execute(0x155c580|github.com\/hyperledger\/fabric\/vendor\/github.com\/spf13\/cobra.(*Command).Execute(0x155c580>, 0x0, 0x0)\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/vendor\/github.com\/spf13\/cobra\/command.go:584 +0x46a\nmain.main()\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/peer\/main.go:122 +0xa3a\n```\nDoes anyone know how to fix it short of rebuilding my entire vagrant environment? Because that's the only way I've managed to fix it in the past.","ts":"1470183311.000882"},{"type":"message","user":"U0KPFAZNF","text":"i think \u201cmake dist-clean\u201d should scrub the environment","ts":"1470183363.000883"},{"type":"message","user":"U0KPFAZNF","text":"hmm, that doesnt remove the pkg though","ts":"1470183401.000884"},{"type":"message","user":"U0KPFAZNF","text":"that should probably be fixed...","ts":"1470183408.000885"},{"type":"message","user":"U0KPFAZNF","text":"but you can do it by hand: rm -rf $GOPATH\/pkg","ts":"1470183421.000886"},{"type":"message","user":"U1M7K67EV","text":"<@U0KPFAZNF>: Ah so it's using old compiled files maybe","ts":"1470183498.000887"},{"type":"message","user":"U0KPFAZNF","text":"thats my guess","ts":"1470183504.000888"},{"type":"message","user":"U1M7K67EV","text":"Cool, I just `make dist-clean` before you said that so we'll see if it still doesn't work after it's finished rebuilding","ts":"1470183541.000889"},{"type":"message","user":"U0KPFAZNF","text":"the build is _supposed_ to be detecting when .go files have changed and recompiling them, but not sure how well that extends out to $GOPATH\/pkg","ts":"1470183543.000890"},{"type":"message","user":"U0KPFAZNF","text":"im just speculating anyway","ts":"1470183565.000891"},{"type":"message","user":"U1M7K67EV","text":"right, OK, that would make sense","ts":"1470183568.000892"},{"type":"message","user":"U0KPFAZNF","text":"but in theory: \"make dist-clean &amp;&amp; rm -rf $GOPATH\/pkg\u201d should effectively start you over","ts":"1470183593.000893"},{"type":"message","user":"U1M7K67EV","text":"I'll do some experimenting once everything is set up again","ts":"1470183596.000894"},{"type":"message","user":"U0KPFAZNF","text":"(without rebuilding the vagrant image)","ts":"1470183603.000895"},{"type":"message","user":"U0KPFAZNF","text":"have to get kids to bed, bbiab","ts":"1470183651.000896"},{"type":"message","user":"U1M7K67EV","text":"sure thing","ts":"1470183671.000897"},{"type":"message","user":"U1M7K67EV","text":"Should I create a change to `dist-clean` to `rm-rf $GOPATH\/pkg`?","ts":"1470183721.000898"},{"type":"message","user":"U1M7K67EV","text":"Interestingly, that hasn't worked. `make dist-clean &amp;&amp; rm -rf $GOPATH\/pkg` followed by `make peer` still exhibits the problem :confused:","ts":"1470184429.000899"},{"type":"message","user":"U1M7K67EV","text":"I'll do some more digging, maybe Go stores some files elsewhere as well...","ts":"1470184477.000900"},{"type":"message","user":"U1M7K67EV","text":"weird, it has decided to start working again. On a hunch I updated the cobra library and it worked! But then I put it back to the old version and it is still working :S","ts":"1470187637.000901"},{"type":"message","user":"U1M7K67EV","text":"I guess I'll wait until it happens again before I can do more investigation","ts":"1470187670.000902"},{"type":"message","user":"U1M7K67EV","text":"OK I figured out what was going on for anyone interested","ts":"1470194151.000903"},{"type":"message","user":"U1M7K67EV","text":"In the version of cobra we have in the vendor folder, if there is a PersistentPreRunE it expects a corresponding PersistentPostRunE too. When it doesn't exist, it panics.","ts":"1470194223.000904","reactions":[{"name":"-1","users":["U0UHG4VP1"],"count":1},{"name":"scream","users":["U0XQ35CDD"],"count":1}]},{"type":"message","user":"U1M7K67EV","text":"Updating the Cobra library fixes it, but also adding an empty PersistentPostRunE function also is a workaround","ts":"1470194257.000905"},{"type":"message","user":"U12452RAP","text":"yes <@U1M7K67EV> i met this issue when i add version command","ts":"1470196356.000906"},{"type":"message","user":"U1M7K67EV","text":"<@U12452RAP>: :thumbsup: I have submitted a patch now to update the vendor copy of cobra so hopefully we won't need to have the empty PersistentPostRunE any more!","ts":"1470196511.000907"},{"user":"U1XMKU015","text":"<@U1XMKU015|adamrichard> has joined the channel","type":"message","subtype":"channel_join","ts":"1470205443.000908"},{"user":"U1G8FRV33","text":"<@U1G8FRV33|maheshpatil13> has joined the channel","type":"message","subtype":"channel_join","ts":"1470207120.000909"},{"type":"message","user":"U1AU8DRQR","text":"could anybody help me? I have a failing Jenkins test: <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/154\/console> It works on my laptop. (commit: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/317\/>) How could I debug it?","ts":"1470216971.000910"},{"type":"message","user":"U1AU8DRQR","text":"for Zsolt, it works too","ts":"1470226146.000911"},{"type":"message","user":"U0Z41KY5V","text":"Sent a recheck for u. last time i met this msg, it was jenkins failure.","ts":"1470233102.000912"},{"type":"message","user":"U1AU8DRQR","text":"thanks :slightly_smiling_face:","ts":"1470238828.000913"},{"user":"U1NBM7NHH","text":"<@U1NBM7NHH|louisw> has joined the channel","type":"message","subtype":"channel_join","ts":"1470243324.000914"},{"type":"message","user":"U0KN2SSKE","text":"<@U0UHG4VP1>: hi Ry,  do you know how we should handle the Fabric wiki in Gerrit?","ts":"1470244816.000915"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KN2SSKE>: I do not know the plans.","ts":"1470250936.000916"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: Are you firm in your -2 on <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/319> ?","ts":"1470252740.000917"},{"type":"message","user":"U0KPFAZNF","text":"Lack of events is really hurting the project for things like closing the feedback loop in SDK clients, would be nice to get something in sooner rather than later","ts":"1470252777.000918"},{"type":"message","user":"U0XR6J961","text":"well, do we review to get good code quality, or do we review so that people don't vandalize?","ts":"1470303369.000919"},{"type":"message","user":"U0KPFAZNF","text":"vandalize?  could you be more constructive please?","ts":"1470312365.000920"},{"type":"message","user":"U0XR6J961","text":"well, i'm trying to understand the purpose of the reviews","ts":"1470312409.000921"},{"type":"message","user":"U0KPFAZNF","text":"afaict, you made some comments which were addressed, and you made another comment about why it wasnt split into two patches and that was responded to","ts":"1470312420.000922"},{"type":"message","user":"U0XR6J961","text":"i did not see that reply","ts":"1470312433.000923"},{"type":"message","user":"U0KPFAZNF","text":"its possibly a flaw in the gerrit flow, as I think they were inline comments that get hidden once the code is changed","ts":"1470312474.000924"},{"type":"message","user":"U0KPFAZNF","text":"but I saw them go by","ts":"1470312477.000925"},{"type":"message","user":"U0KPFAZNF","text":"ill see if I can find them in the UI","ts":"1470312503.000926"},{"type":"message","user":"U0XR6J961","text":"yea, that is very unfortunate that the comments don't carry over","ts":"1470312539.000927"},{"type":"message","user":"U0XR6J961","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/319\/10\/events\/producer\/handler.go> introduces `getInterestKey`, which open codes some ad-hoc serialization to use it as a map key","ts":"1470312659.000928"},{"type":"message","user":"U0XR6J961","text":"i don't think this is good code practice, and I've not heard anything about this","ts":"1470312672.000929"},{"type":"message","user":"U0XR6J961","text":"also i don't understand why the non-async case receives the timeout in the constructor","ts":"1470312707.000930"},{"type":"message","user":"U0XR6J961","text":"why set a timeout, why allow custom timeout, why in the constructor, why not use a context","ts":"1470312740.000931"},{"type":"message","user":"U0KPFAZNF","text":"That part I know was answered here","ts":"1470312757.000932"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/319\/2\/events\/consumer\/consumer.go@40>","ts":"1470312757.000933"},{"type":"message","user":"U0KPFAZNF","text":"as far as getInterestKey, thats fine that you object, but I don\u2019t know if its clear to the author what remains to get a +2 from you","ts":"1470312812.000934"},{"type":"message","user":"U0KPFAZNF","text":"(its possibly a gerrit flaw)","ts":"1470312821.000935"},{"type":"message","user":"U0KPFAZNF","text":"as I know you mentioned it prior","ts":"1470312829.000936"},{"type":"message","user":"U0XR6J961","text":"yea i think it is becoming clear that communication exclusively via gerrit doesn't work","ts":"1470312851.000937"},{"type":"message","user":"U0KPFAZNF","text":"I think the question about sync+async in one patch was answered in that same changeset","ts":"1470312919.000938"},{"type":"message","user":"U0XR6J961","text":"i don't understand the timeout API reply.  if we change the constructor, the API changes.  might as well change the register\/unregister API?","ts":"1470312923.000939"},{"type":"message","user":"U0KPFAZNF","text":"I dont know the context, its a fair enough question","ts":"1470312945.000940"},{"type":"message","user":"U0XR6J961","text":"doesn't feel right to set the timeout there","ts":"1470312972.000941"},{"type":"message","user":"U0XR6J961","text":"i think go idiomatic would be to pass a context to the function that does the operation","ts":"1470312985.000942"},{"type":"message","user":"U0XR6J961","text":"but i wonder why it is even necessary to have a timeout in the first place","ts":"1470313013.000943"},{"type":"message","user":"U0XR6J961","text":"how would the caller deal with such a timeout?","ts":"1470313027.000944"},{"type":"message","user":"U0XR6J961","text":"retry?","ts":"1470313028.000945"},{"type":"message","user":"U0XR6J961","text":"we have plenty of rpc operations, and none of them take timeouts","ts":"1470313054.000946"},{"type":"message","user":"U0KPFAZNF","text":"my take it was part of auto unregistration policy, therefore its not in the same category as a normal RPC response type thing","ts":"1470313101.000947"},{"type":"message","user":"U0XR6J961","text":"i didn't see any auto unregister?","ts":"1470313127.000948"},{"type":"message","user":"U0KPFAZNF","text":"oh, i see what you are saying","ts":"1470313176.000949"},{"type":"message","user":"U0KPFAZNF","text":"its literally a timeout for the RPC, not the event registration","ts":"1470313196.000950"},{"type":"message","user":"U0KPFAZNF","text":"i think that Pat answered that though:","ts":"1470313249.000951"},{"type":"message","user":"U0KPFAZNF","text":"there always was a timeout, it was just hardcoded","ts":"1470313257.000952"},{"type":"message","user":"U0XR6J961","text":"right, so what's our policy then","ts":"1470313267.000953"},{"type":"message","user":"U0XR6J961","text":"keep questionable code when we touch it?","ts":"1470313283.000954"},{"type":"message","user":"U0XR6J961","text":"or fix up code when we touch it","ts":"1470313291.000955"},{"type":"message","user":"U0KPFAZNF","text":"no, i think you are right to call that out","ts":"1470313310.000956"},{"type":"message","user":"U0KPFAZNF","text":"i think its also not clear what the action items are because of the way gerrit seems to work","ts":"1470313329.000957"},{"type":"message","user":"U0XR6J961","text":"yes, i agree","ts":"1470313360.000958"},{"type":"message","user":"U0XR6J961","text":"so my take is:","ts":"1470313385.000959"},{"type":"message","user":"U0XR6J961","text":"no timeout","ts":"1470313387.000960"},{"type":"message","user":"U0KPFAZNF","text":"can you do me a favor and just go through the latest with any remaining objections so they are clear","ts":"1470313401.000961"},{"type":"message","user":"U0KPFAZNF","text":"i will back you on the questioning of whether that timeout should remain","ts":"1470313413.000962"},{"type":"message","user":"U0XR6J961","text":"is patrick on slack?","ts":"1470313444.000963"},{"type":"message","user":"U0XR6J961","text":"it would be so much easier to talk about this here","ts":"1470313453.000964"},{"type":"message","user":"U0KPFAZNF","text":"yes, <@U0KQ9QKH6>","ts":"1470313454.000965"},{"type":"message","user":"U0KPFAZNF","text":"not sure he is online yet though","ts":"1470313463.000966"},{"type":"message","user":"U0XR6J961","text":"okay","ts":"1470313466.000967"},{"type":"message","user":"U0XR6J961","text":"i think all this timeout business should go away","ts":"1470313476.000968"},{"type":"message","user":"U0XR6J961","text":"instead expose access to the context of the grpc connection","ts":"1470313488.000969"},{"type":"message","user":"U0XR6J961","text":"and this sync registration code is broken anyways","ts":"1470313543.000970"},{"type":"message","user":"U0XR6J961","text":"if you call sync registration, and the other side is slow, and you abort","ts":"1470313562.000971"},{"type":"message","user":"U0XR6J961","text":"ah no","ts":"1470313595.000972"},{"type":"message","user":"U0XR6J961","text":"it's even worse","ts":"1470313614.000973"},{"type":"message","user":"U0XR6J961","text":"say you're already registered to something","ts":"1470313620.000974"},{"type":"message","user":"U0XR6J961","text":"and you do another register","ts":"1470313623.000975"},{"type":"message","user":"U0XR6J961","text":"then it will report an error if there is a different message arriving","ts":"1470313632.000976"},{"type":"message","user":"U0XR6J961","text":"and that even will be lost, no?","ts":"1470313636.000977"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1470313666.000978"},{"type":"message","user":"U0XR6J961","text":"that whole code needs rework","ts":"1470313670.000979"},{"type":"message","user":"U0XR6J961","text":"that's why i think that we should start with an empty repo","ts":"1470313694.000980"},{"type":"message","user":"U0XR6J961","text":"and copy over pieces that get reviewed","ts":"1470313704.000981"},{"type":"message","user":"U0XR6J961","text":"alternatively, i could go over all the code that we have and review it","ts":"1470313728.000982"},{"type":"message","user":"U0XR6J961","text":"and then we go and address issues","ts":"1470313737.000983"},{"type":"message","user":"U0XR6J961","text":"before adding new features","ts":"1470313742.000984"},{"type":"message","user":"U0ZJZBJLF","text":"Hey, does anyone know if I can authenticate to Gerrit via my github id (some kind of SSO)?","ts":"1470316057.000985"},{"type":"message","user":"U0ZJZBJLF","text":"I'm currently logged into github and when I go to the gerrit page it doesn't \"detect\" the SSO","ts":"1470316110.000986"},{"type":"message","user":"U0XR6J961","text":"yea it doesn't","ts":"1470316206.000987"},{"type":"message","user":"U0XR6J961","text":"you need to use your linuxfoundation ID","ts":"1470316221.000988"},{"type":"message","user":"U0ZJZBJLF","text":"oh but I was hoping to use my github ID as my LF id...","ts":"1470316244.000989"},{"type":"message","user":"U0XR6J961","text":"yea well","ts":"1470316300.000990"},{"type":"message","user":"U0XR6J961","text":"doesn't seem to work","ts":"1470316309.000991"},{"type":"message","user":"U0XR6J961","text":"you can register with your gh id","ts":"1470316318.000992"},{"type":"message","user":"U0XR6J961","text":"but then you still need to set a password to log in to gerrit","ts":"1470316327.000993"},{"type":"message","user":"U0ZJZBJLF","text":"that's what I'm doing, thanks","ts":"1470316429.000994"},{"type":"message","user":"U0XR6J961","text":"you will have to log out from linuxfoundation identity","ts":"1470316549.000995"},{"type":"message","user":"U0XR6J961","text":"so that you can reset your password","ts":"1470316558.000996"},{"type":"message","user":"U0KPFAZNF","text":"It might work if you go the other way","ts":"1470316658.000997"},{"type":"message","user":"U0KPFAZNF","text":"Create LFID and then attach an SSO to it","ts":"1470316676.000998"},{"type":"message","user":"U0KPFAZNF","text":"It def does -not- work to do it SSO first","ts":"1470316716.000999"},{"type":"message","user":"U0ZJZBJLF","text":"thanks simon &amp; ghaskins, I think I'll learn to live with it(the LF id, that is)","ts":"1470316864.001000"},{"type":"message","user":"U0KQ9QKH6","text":"<@U0KPFAZNF>: I am on now","ts":"1470322912.001001"},{"type":"message","user":"U0XR6J961","text":"hi patrick","ts":"1470322974.001002"},{"type":"message","user":"U0KQ9QKH6","text":"hi simon","ts":"1470323011.001003"},{"type":"message","user":"U0XR6J961","text":"<@U0KQ9QKH6>: see above for some feedback on the events patch and the code in general","ts":"1470323327.001004"},{"type":"message","user":"U0KQ9QKH6","text":"so we might want to bring <@U0ULK2JPP> into the discussion too","ts":"1470323436.001005"},{"type":"message","user":"U0KQ9QKH6","text":"basically I have tried to scope the changes to maintain the existing API for fear of A) breaking clients B) limit impact in general","ts":"1470323494.001006"},{"type":"message","user":"U0KQ9QKH6","text":"I would have broken the patch into just the unreg addition and then the consumer changes however there was no way currently to test the unreg addition with changes on the consumer side","ts":"1470323560.001007"},{"type":"message","user":"U0KQ9QKH6","text":"and there was a requirement to test the additions","ts":"1470323580.001008"},{"type":"message","user":"U0KQ9QKH6","text":"as far as the timeout, the change I performed was a result of <@U0ULK2JPP> pointing out the hardcoded value during a previous PR review - note I had not touched that originally - so in an effort to improve I moved it to the comsumers context","edited":{"user":"U0KQ9QKH6","ts":"1470324125.000000"},"ts":"1470323677.001009"},{"type":"message","user":"U0KQ9QKH6","text":"and made it variable","ts":"1470323688.001010"},{"type":"message","user":"U0KQ9QKH6","text":"so worth pointing out and this is just my opinion, I don't see consumer as being something that clients often use - I am working on sdk additions that should be how clients interact","ts":"1470323800.001011"},{"type":"message","user":"U0KQ9QKH6","text":"in other words, consumer.go is test enabling and example code on how to deal with the underlying protobufs api","ts":"1470323901.001012"},{"type":"message","user":"U0KQ9QKH6","text":"I think your comments may have more to do with the code in general not the additions - for that I would suggest the following, add the unregister to the current api(with or without the consumer changes - note that without there will be no unit testing of the unregister - or with minor changes to timeout as you suggest) - review the entire component starting with the protobufs api, decide on rewrite or incremental improvement","ts":"1470324420.001014"},{"type":"message","user":"U0KPFAZNF","text":"Could one of the other maintainers take a look at <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/357>.  Has 1+2, needs 2+2, but otherwise ready for merge","ts":"1470324885.001015"},{"type":"message","user":"U0ULK2JPP","text":"<@U0XR6J961>, <@U0KQ9QKH6> : the there are two ways to view the timeout : one as a global property for the session and another as a per invoke parameter","ts":"1470324907.001016"},{"type":"message","user":"U0ULK2JPP","text":"the current implementation takes the former view so all register\/unregister will use the same timeout value","ts":"1470324939.001017"},{"type":"message","user":"U0ULK2JPP","text":"this is consistent with other uses of timeout in the fabric (except we don\u2019t store the property in a yaml file)","ts":"1470324983.001018"},{"type":"message","user":"U1MNES6NR","text":"<@U0KPFAZNF>: +1 I'm kind of stuck waiting for this patch to be merged :wink:\n<@U0KQ9QKH6>: what's the purpose of consumer.go if it won't be used by clients? It's only imported in one test and one example right now.\nI think clients should be encouraged to use this package, or there should be a deprecation notice somewhere. It would be more efficient for client developers like me :wink:","ts":"1470325107.001019"},{"type":"message","user":"U0ULK2JPP","text":"Originally, the registratio was a one time call at the time of setting up the client and the timeout will result in a failure to setup","ts":"1470325112.001020"},{"type":"message","user":"U0KQ9QKH6","text":"and we certainly can store it in a yaml file but one does not exist for the consumer to date","ts":"1470325128.001021"},{"type":"message","user":"U0ULK2JPP","text":"right","ts":"1470325133.001022"},{"type":"message","user":"U0KPFAZNF","text":"<@U1MNES6NR>: I don\u2019t want to speak for <@U0KQ9QKH6>, but I took what he said to mean \u201cclients wont use it directly, because its abstracted behind the SDK\"","ts":"1470325170.001023"},{"type":"message","user":"U0ULK2JPP","text":"as opposed to core.yaml etc, the code is directly called by client\u2026 I only mentioned the yaml to draw some lines to other fabric code","ts":"1470325208.001024"},{"type":"message","user":"U0ULK2JPP","text":"it is not true that if there\u2019s a timeout the client cannot do anything","ts":"1470325238.001025"},{"type":"message","user":"U0KQ9QKH6","text":"@ibonniot: I am fine with clients using it. Just note, that the sdk will have an api, initially node, that will support this","ts":"1470325252.001026"},{"type":"message","user":"U0KQ9QKH6","text":"eventually, if a go sdk is developed, the client should move there","ts":"1470325281.001027"},{"type":"message","user":"U0KQ9QKH6","text":"the other option for client developers is to use protobufs directly","ts":"1470325310.001028"},{"type":"message","user":"U0ULK2JPP","text":"indeed, to <@U0KQ9QKH6>\u2019s point, block-listener.go uses consumer directly","ts":"1470325320.001029"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP>: could you chime in on this: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/399\/> ?","ts":"1470325336.001030"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KPFAZNF>: let me look","ts":"1470325392.001031"},{"type":"message","user":"U0KQ9QKH6","text":"to <@U0ULK2JPP> point on timeout and clients not being able to do anything, I second his opinion client could and should retry","ts":"1470325454.001032"},{"type":"message","user":"U1MNES6NR","text":"Thanks for the info. I'm using grpc to communicate with the event hub right now, but the final code looks like consumer.go.\nI did not want to use it because of the lack of live register\/unregister, but your patch seems to be pretty interesting.\n\nHowever, just to say, passing a context is really better than a raw duration. Contexts can be cancelled in many ways, store the final deadline and are more idiomatic :wink:","edited":{"user":"U1MNES6NR","ts":"1470325736.000000"},"ts":"1470325700.001033"},{"type":"message","user":"U0XR6J961","text":"i still don't get the timeout thing","ts":"1470325716.001034"},{"type":"message","user":"U0XR6J961","text":"why is there a timeout, and what does it mean for the timeout to expire?","ts":"1470325730.001035"},{"type":"message","user":"U0XR6J961","text":"how do you deal with an expired timeout","ts":"1470325742.001037"},{"type":"message","user":"U0XR6J961","text":"why not use the grpc\/stream context?","ts":"1470325757.001038"},{"type":"message","user":"U1MNES6NR","text":"After reading the code, I agree with <@U0XR6J961> ; it should not be merged as this.\nThere should only be one `ec.stream.Recv()` call in the consumer to avoid concurrent issues. If the current version is merged, it will break someone's code in a very random way one day; and nobody likes that - especially if this part of the code is supposed to be integrated in some SDKs.\n\nCalling `Start` before any additional `(Un)Register` would solve the problem. When encountering (un)register events, the `Start` loop would send this event to a local channel, and voil\u00e0.\n\nAdding a context argument in `(Un)Register` functions would be perfect to avoid blocking indefinitely one client.","ts":"1470326551.001039"},{"type":"message","user":"U0KQ9QKH6","text":"@ibonniot: I know what you are getting at and contemplated fixing it but that would have broken current clients","ts":"1470326718.001040"},{"type":"message","user":"U1MNES6NR","text":"<@U0KQ9QKH6>: Hm from what I'm seeing, the `Start` and `Stop` functions would not have been modified, so no breaking change? There is a breaking change anyway in the current patch (new argument in `NewEventsClient`)... Maybe I'm wrong :confused:\n\nAnyway I'm not a maintainer, just giving some feedbacks from an event consumer user :wink:","ts":"1470327178.001041"},{"type":"message","user":"U0KQ9QKH6","text":"the problem arises because we are trying to support a more dynamic model of registration and the original model is static in that you register all your interests at connection creation","ts":"1470327226.001042","reactions":[{"name":"+1","users":["U1MNES6NR"],"count":1}]},{"type":"message","user":"U0KQ9QKH6","text":"its good feedback","ts":"1470327259.001043"},{"type":"message","user":"U0KQ9QKH6","text":"there is a breaking change but it was somewhat limited as opposed to touching every reg\/unreg","ts":"1470327334.001044"},{"type":"message","user":"U0KQ9QKH6","text":"so with limited changes in mind, one possbility is to fail calls to the sync api if the consumer has called the processEvents loop","ts":"1470327462.001045"},{"type":"message","user":"U0KQ9QKH6","text":"this would introduced another breaking change in that the client would have to manually enter the loop","ts":"1470327493.001046"},{"type":"message","user":"U0KQ9QKH6","text":"this is how I originally coded it actually but then got concerned via discussions that it break existing clients","ts":"1470327539.001047"},{"type":"message","user":"U0KQ9QKH6","text":"I assume this is the random breaking that you were referring too","ts":"1470327616.001048"},{"type":"message","user":"U0KQ9QKH6","text":"oh on the start and stop, yea I looked at that as well, unfortunately I was not able to find a clean solution to breaking out of the recv call deep in the protobufs code","ts":"1470327712.001049"},{"type":"message","user":"U0KQ9QKH6","text":"another option for us would be the following, create 2 clients - one that supports the old model and one that support the new","ts":"1470327805.001050"},{"type":"message","user":"U1MNES6NR","text":"There is (maybe) a way to not break everything I think.\n- Disable (Un)Register(Async) calls as long as the connection is not established (i.e. not Started)\n- In Start call, the consumer first starts the loop and then calls the Register function from EventAdapter definition (so Start will block until everything is registered)\n- There would be a channel communication between the main loop and (Un)Register functions. This communication would be quite tricky however, because Register events may come unordered... A mutex on (Un)Register(Async) could solve that, depends on the wanted level of parallelism.","ts":"1470327857.001051"},{"type":"message","user":"U11MANG9G","text":"I believe it's totally fine to have a mutex in `UnrRegisterAsync`","ts":"1470327943.001052"},{"type":"message","user":"U11MANG9G","text":"FWIW","ts":"1470327948.001053"},{"type":"message","user":"U0KQ9QKH6","text":"I don't follow - why disable the async?","ts":"1470327981.001054"},{"type":"message","user":"U1MNES6NR","text":"just an idea to cope with the communication between main loop and (un)register functions, it would depend how it's done I guess","ts":"1470328044.001055"},{"type":"message","user":"U0KQ9QKH6","text":"if your not in the mainloop, one *can* call the Recv if interested in the reply","ts":"1470328080.001056"},{"type":"message","user":"U1MNES6NR","text":"yeah... but theoretically, you'll be in the main loop when calling (Un)Register functions... Right?","ts":"1470328125.001057"},{"type":"message","user":"U0KQ9QKH6","text":"so if we want parrallism, you would not have a mainloop","ts":"1470328126.001058"},{"type":"message","user":"U1MNES6NR","text":"that's also a possibility","ts":"1470328154.001059"},{"type":"message","user":"U0KQ9QKH6","text":"you would create your own with Recv","ts":"1470328160.001060"},{"type":"message","user":"U0KQ9QKH6","text":"per cpu or something like that","ts":"1470328174.001061","reactions":[{"name":"+1","users":["U1MNES6NR"],"count":1}]},{"type":"message","user":"U0KQ9QKH6","text":"so in short, I think we need to agree on something incremental and address what we want in the sdk context","ts":"1470328312.001062"},{"type":"message","user":"U0KQ9QKH6","text":"consumer.go is a thin wrapper around protobufs at the moment","ts":"1470328357.001063"},{"type":"message","user":"U0KQ9QKH6","text":"if we want I can put together a second client that will just expose the necessary calls for clients to process their own events(without a mainloop)","ts":"1470328580.001064"},{"type":"message","user":"U0KQ9QKH6","text":"in addition for this patchset, I think I can just change the sync forms of the register\/unregister to not be accessible to clients","ts":"1470328814.001065"},{"type":"message","user":"U0KQ9QKH6","text":"actually this seems like the best short term option, will take a closer look","edited":{"user":"U0KQ9QKH6","ts":"1470328925.000000"},"ts":"1470328866.001066"},{"type":"message","user":"U0KQ9QKH6","text":"@ibonniot: making the sync forms of reg\/unreg looks like it will maintain  the current functionality which addresses your concern about synchronization - this is a simple and nonbreaking change which I like in the short term, then we can address a new client","ts":"1470329488.001068"},{"type":"message","user":"U0KQ9QKH6","text":"then clients can migrate when they want","ts":"1470329532.001069"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KQ9QKH6>: <@U1MNES6NR> : the grpc stream Send is the only thing that needs to be serialized I think. If we pull the Send out into a separate function and protect it with a lock, we can call that function wherever Send is used and should be safe","ts":"1470329857.001070"},{"type":"message","user":"U0ULK2JPP","text":"so basically couple of things (1) don\u2019t expose register for external use so we don\u2019t allow concurrent Recvs and (2) protoct grpc stream Send with a lock","ts":"1470333159.001071"},{"type":"message","user":"U0KQ9QKH6","text":"I just uploaded the proposed changes as patchset 11 in <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/319\/>","ts":"1470336208.001072"},{"type":"message","user":"U1M7K67EV","text":"I'm trying to perform REST queries against the `membersrvc` and it seems that no matter what I do I get mangled text back (`\u0004\u0004\b\u000e\ufffd\ufffd`) and the log says bogus greeting: `2016\/08\/05 01:51:47 transport: http2Server.HandleStreams received bogus greeting from client: \"GET \/registrar\/test_vp0 \"`. I assume that I am required to log in some how but I cannot seem to figure out how. Is someone able to point me in the right direction\/documentation please?","ts":"1470362225.001073"},{"type":"message","user":"U0KPFAZNF","text":"<@U1M7K67EV>: it sounds like you are hitting the GRPC HTTP\/2 port","ts":"1470364919.001074"},{"type":"message","user":"U1M7K67EV","text":"Ahh that would make a lot of sense. Does that mean I require peer to be up to interact with the membersrvc?","ts":"1470365006.001075"},{"type":"message","user":"U0KPFAZNF","text":"note that HTTP\/2 is binary and the GRPC interface is not conducive to curl-like strategies even if you found an HTTP\/2 compatible clinet","ts":"1470365009.001076"},{"type":"message","user":"U1M7K67EV","text":"via rest that is","ts":"1470365021.001077"},{"type":"message","user":"U0KPFAZNF","text":"im not sure tbh","ts":"1470365028.001078"},{"type":"message","user":"U0KPFAZNF","text":"ive never tried to talk to the CA via rest","ts":"1470365037.001079"},{"type":"message","user":"U0KPFAZNF","text":"only indirectly via the peer and\/or SDK","ts":"1470365045.001080"},{"type":"message","user":"U1M7K67EV","text":"I was attempting to use the `\/registrar` endpoint","ts":"1470365062.001081"},{"type":"message","user":"U0KPFAZNF","text":"but I do have some experience with trying to curl a GRPC endpoint, and the behavior you mention looks familar :wink:","ts":"1470365077.001082"},{"type":"message","user":"U1M7K67EV","text":"Thanks, yeah that was helpful :slightly_smiling_face:","ts":"1470365096.001083"},{"type":"message","user":"U0KPFAZNF","text":"i suspect you have the wrong port","ts":"1470365101.001084"},{"type":"message","user":"U0KPFAZNF","text":"can you netstat the running process and see if there is a second option?","ts":"1470365117.001085"},{"type":"message","user":"U1M7K67EV","text":"yep, I'll do it now","ts":"1470365128.001086"},{"type":"message","user":"U1M7K67EV","text":"`tcp6       0      0 :::7054                 :::*                    LISTEN      11531\/membersrvc`","ts":"1470365232.001087"},{"type":"message","user":"U1M7K67EV","text":"looks like that's the only port, so we have to use the peers to interact with it via rest","edited":{"user":"U1M7K67EV","ts":"1470365249.000000"},"ts":"1470365243.001088"},{"type":"message","user":"U1M7K67EV","text":"strange that it's only ipv6","ts":"1470365290.001090"},{"type":"message","user":"U0KPFAZNF","text":"something doesnt smell right","ts":"1470365318.001091"},{"type":"message","user":"U0KPFAZNF","text":"there should at least be one tcp4","ts":"1470365336.001092"},{"type":"message","user":"U1M7K67EV","text":"I'm just running the membersrvc directly in vagrant, not in docker if that makes a difference","ts":"1470365353.001093"},{"type":"message","user":"U0KPFAZNF","text":"it shouldnt","ts":"1470365360.001094"},{"type":"message","user":"U0KPFAZNF","text":"let me look at my setup, hold on","ts":"1470365365.001095"},{"type":"message","user":"U0KPFAZNF","text":"thats weird, thats all I see too","ts":"1470365402.001096"},{"type":"message","user":"U0KPFAZNF","text":"im confused","ts":"1470365411.001097"},{"type":"message","user":"U1M7K67EV","text":"Yet I still get a response on ipv4","ts":"1470365437.001098"},{"type":"message","user":"U1M7K67EV","text":"It couldn't be a HTTP\/2 thing could it?","edited":{"user":"U1M7K67EV","ts":"1470365452.000000"},"ts":"1470365448.001099"},{"type":"message","user":"U0KPFAZNF","text":"not that I am aware of","ts":"1470365457.001101"},{"type":"message","user":"U12452RAP","text":"rest only against with peer","ts":"1470375349.001102"},{"type":"message","user":"U12452RAP","text":"membersrvc only expose grpc","ts":"1470375363.001103"},{"type":"message","user":"U11HH3P7Y","text":"Hi all, I have configured `go unit-test code coverage report` in Jenkins CI. Here is the reference link.. <https:\/\/jenkins.hyperledger.org\/job\/fabric-merge-x86_64\/8\/cobertura\/>","ts":"1470447988.001104","reactions":[{"name":"+1","users":["U0UHG4VP1","U1M7K67EV"],"count":2}]},{"user":"U1MJ9SRF0","text":"<@U1MJ9SRF0|alexho> has joined the channel","type":"message","subtype":"channel_join","ts":"1470584974.001105"},{"type":"message","user":"U1AU8DRQR","text":"Hi all. I have this error: <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/216\/console> Locally, it works: I deleted and recreated vagrant so it definitely works in a new environment. Can anybody help how could I get the logs from Jenkins? I need docker container logs.","ts":"1470644353.001106"},{"type":"message","user":"U0XR6J961","text":"is it maybe a timing thing?","ts":"1470644445.001107"},{"type":"message","user":"U0XR6J961","text":"<@U0UHG4VP1>, <@U11HH3P7Y>: can we set up gerrit so that jenkins verifies the code how it would be if the changeset was accepted?","ts":"1470647806.001108"},{"type":"message","user":"U0XR6J961","text":"i.e. if it requires rebase\/merge, check the result of that, and not the branch by itself?","ts":"1470647840.001109"},{"type":"message","user":"U1AU8DRQR","text":"there is a post-merge build\/verification I think","ts":"1470648772.001110"},{"type":"message","user":"U1AU8DRQR","text":"could somebody check this ASAP <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/453\/>","ts":"1470648953.001111"},{"type":"message","user":"U0UHG4VP1","text":"<@U0XR6J961>: possibly, but is better if the change is re based by the author ","ts":"1470658967.001112"},{"type":"message","user":"U0XR6J961","text":"i see","ts":"1470659024.001113"},{"type":"message","user":"U0XR6J961","text":"ry: the problem is that if we do merges, we may inadvertently introduce bugs","ts":"1470659044.001114"},{"type":"message","user":"U0UHG4VP1","text":"simon: I don\u2019t quite understand what you mean. the merge happens at some point, regardless, right?","ts":"1470659150.001115"},{"type":"message","user":"U0XR6J961","text":"ry: correct.  but if jenkins verifies the state before the merge, then the merge might introduce problems, and we only find out later","ts":"1470660051.001116"},{"type":"message","user":"U0UHG4VP1","text":"simon: one way to enforce this would be to require fast-forward only submissions, but it would mean after every merge every pending change would need to be rebased.","ts":"1470660432.001117"},{"type":"message","user":"U0XR6J961","text":":confused:","ts":"1470660448.001118"},{"type":"message","user":"U0XR6J961","text":"maybe we could have a bot that automatically merges\/rebases (depending on submission) the patch sets as soon as master changes?","ts":"1470660503.001119"},{"type":"message","user":"U0UHG4VP1","text":"when we were discussing github-&gt;gerrit, I brought it up as an option but I do not recommend it. The last time I used it, it was abandoned within a week.","ts":"1470660511.001120"},{"type":"message","user":"U0XR6J961","text":"but i guess we can do that manually for now","ts":"1470660519.001121"},{"type":"message","user":"U0XR6J961","text":"how do we restart jenkins in case it failed for unclear reasons?","ts":"1470660724.001122"},{"type":"message","user":"U0UHG4VP1","text":"if you log in to Jenkins, then look at a build, you should have a \u201cretrigger\u201d button on the left.","ts":"1470660762.001123"},{"type":"message","user":"U0XR6J961","text":"ah thanks","ts":"1470660944.001124"},{"type":"message","user":"U0UHG4VP1","text":"<@U0XR6J961>: for instance, if you are logged in and go to <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/222\/> , right now it has a retrigger button (but if someone retriggers it, that button goes away)","ts":"1470661088.001125"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F1Z71S1FX\/screen_shot_2016-08-08_at_5.58.21_am.png|like this> and commented: if you don\u2019t see it and you are logged in, let me know directly","file":{"id":"F1Z71S1FX","created":1470661163,"timestamp":1470661163,"name":"Screen Shot 2016-08-08 at 5.58.21 AM.png","title":"like this","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0UHG4VP1","editable":false,"size":301018,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1Z71S1FX\/screen_shot_2016-08-08_at_5.58.21_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1Z71S1FX\/download\/screen_shot_2016-08-08_at_5.58.21_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1Z71S1FX-5cbd458bb6\/screen_shot_2016-08-08_at_5.58.21_am_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1Z71S1FX-5cbd458bb6\/screen_shot_2016-08-08_at_5.58.21_am_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1Z71S1FX-5cbd458bb6\/screen_shot_2016-08-08_at_5.58.21_am_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":154,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1Z71S1FX-5cbd458bb6\/screen_shot_2016-08-08_at_5.58.21_am_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":206,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1Z71S1FX-5cbd458bb6\/screen_shot_2016-08-08_at_5.58.21_am_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1Z71S1FX-5cbd458bb6\/screen_shot_2016-08-08_at_5.58.21_am_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":308,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1Z71S1FX-5cbd458bb6\/screen_shot_2016-08-08_at_5.58.21_am_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":411,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1Z71S1FX-5cbd458bb6\/screen_shot_2016-08-08_at_5.58.21_am_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":439,"image_exif_rotation":1,"original_w":1882,"original_h":806,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F1Z71S1FX\/screen_shot_2016-08-08_at_5.58.21_am.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1Z71S1FX-4e0262363d","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc1Z7BMDKL","created":1470661163,"timestamp":1470661163,"user":"U0UHG4VP1","is_intro":true,"comment":"if you don\u2019t see it and you are logged in, let me know directly","channel":""}},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1470661167.001126"},{"type":"message","user":"U0KM61BCP","text":"<!channel>: <http:\/\/lists.hyperledger.org\/pipermail\/hyperledger-fabric\/2016-August\/000193.html>","ts":"1470674015.001127"},{"type":"message","user":"U0KM61BCP","text":"proposal for migration to Jira","ts":"1470674031.001128"},{"type":"message","user":"U0KM61BCP","text":"please pile on in email","ts":"1470674038.001129","reactions":[{"name":"+1","users":["U0UHG4VP1","U0V86V3QR","U1M7K67EV"],"count":3}]},{"type":"message","user":"U0XR6J961","text":"+1","ts":"1470674050.001130"},{"type":"message","user":"U0XR6J961","text":"fresh start is good","ts":"1470674056.001131"},{"type":"message","user":"U0KM61BCP","text":"agree","ts":"1470674066.001132"},{"type":"message","user":"U0P2GSA8Z","text":"Definitely.","ts":"1470674583.001133"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF>: is on holiday, would like to hear from <@U0KN2SSKE> <@U0MT4CBHB>","ts":"1470682750.001134"},{"type":"message","user":"U0KM61BCP","text":"<@U1AU8DRQR> and <@U11MANG9G>","ts":"1470682767.001135"},{"type":"message","user":"U0KM61BCP","text":"if we all agree, let\u2019s implement","ts":"1470682783.001136"},{"type":"message","user":"U1AU8DRQR","text":"I agree and Tamas is on holiday. I will also respond to the mailing list ","ts":"1470683262.001137"},{"type":"message","user":"U1M7K67EV","text":"Hi guys, I have a test case for <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/447\/> that is failing on Jenkins (<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/228\/>) but I can't replicate on my local machine. It seems to be a problem with the docker networking because each of the peers don't seems to be able to connect to each other once they're brought back up.\nThe following log snippet seems to show the problem and is replicated across the peers:\n```\n\u001b[33m16:47:05.762 [consensus\/pbft] recvViewChange -&gt; WARN 160\u001b[0m Replica 2 already has a view change message for view 2 from replica 0\n2016\/08\/08 16:47:06 grpc: ClientConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 172.17.0.86:7051: getsockopt: no route to host\"; Reconnecting to \"172.17.0.86:7051\"\n2016\/08\/08 16:47:06 grpc: ClientConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 172.17.0.87:7051: getsockopt: no route to host\"; Reconnecting to \"172.17.0.87:7051\"\n\u001b[31m16:47:06.441 [peer] chatWithPeer -&gt; ERRO 161\u001b[0m Error creating connection to peer address 172.17.0.87:7051: grpc: timed out trying to connect\n\u001b[31m16:47:06.442 [peer] chatWithPeer -&gt; ERRO 162\u001b[0m Error creating connection to peer address 172.17.0.86:7051: grpc: timed out trying to connect\n\u001b[36m16:47:07.628 [consensus\/util\/events] loop -&gt; DEBU 163\u001b[0m Event timer fired\n\u001b[36m16:47:07.628 [consensus\/util\/events] loop -&gt; DEBU 164\u001b[0m Timer event delivered\n\u001b[36m16:47:07.628 [consensus\/pbft] ProcessEvent -&gt; DEBU 165\u001b[0m Replica 2 batch main thread looping\n\u001b[36m16:47:07.628 [consensus\/pbft] ProcessEvent -&gt; DEBU 166\u001b[0m Replica 2 processing event\n\u001b[36m16:47:07.628 [consensus\/pbft] ProcessEvent -&gt; DEBU 167\u001b[0m Replica 2 view change resend timer expired before view change quorum was reached, resending\n```","ts":"1470705275.001138"},{"type":"message","user":"U1M7K67EV","text":"Would anyone have any ideas\/pointers for me? I don't really know this part of the code that well.","ts":"1470705342.001139"},{"type":"message","user":"U1CK6522F","text":"Is it possible to invoke another chaincode when query a chaincode?","ts":"1470705346.001140"},{"type":"message","user":"U1M7K67EV","text":"I believe you should be able to do both at the same time, yes.","ts":"1470705401.001141"},{"type":"message","user":"U1CK6522F","text":"dose that means I can call stub.InvokeChaincode when Quey a chaincode? Thanks!","ts":"1470705554.001142"},{"type":"message","user":"U1M7K67EV","text":"ah, sorry, I misinterpreted that. I thought you meant call invoke and query at the same time via rest.","ts":"1470705680.001143"},{"type":"message","user":"U1M7K67EV","text":"I know that a query is not allowed to modify the state of the ledger","ts":"1470705691.001144"},{"type":"message","user":"U1M7K67EV","text":"but I am unsure if that determines whether it can call other invokes","ts":"1470705723.001145"},{"type":"message","user":"U0ULK2JPP","text":"query should not allow chaincode Invoke ...","ts":"1470706242.001146"},{"type":"message","user":"U1AU8DRQR","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/455\/> could anyone review this?","ts":"1470728850.001147"},{"type":"message","user":"U1AU8DRQR","text":"<@U11MANG9G> said that the licenses might be problematic","ts":"1470739314.001148"},{"type":"message","user":"U0YNFB22X","text":"Please review <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/415\/>","ts":"1470752193.001149"},{"type":"message","user":"U0YNFB22X","text":"Fixes the following issues <https:\/\/github.com\/hyperledger\/fabric\/issues\/2146> <https:\/\/github.com\/hyperledger\/fabric\/issues\/2139>","attachments":[{"service_name":"GitHub","title":"Java chaincode docker image \u00b7 Issue #2146 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/issues\/2146","text":"Description Need new docker image for java-lang chaincode deployment with dependencies specific to this environment ( JDK, grpc, protobuf jars etc)","fallback":"GitHub: Java chaincode docker image \u00b7 Issue #2146 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars0.githubusercontent.com\/u\/74700?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/issues\/2146","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1},{"service_name":"GitHub","title":"Java chaincode project reorganization \u00b7 Issue #2139 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/issues\/2139","text":"Description Reorganize JAVA chaincode project to make java-shim and chaincode examples as independent projects with its own build scripts. 1. Move Java chaincode examples to fabric\/examples\/chai...","fallback":"GitHub: Java chaincode project reorganization \u00b7 Issue #2139 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars0.githubusercontent.com\/u\/74700?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/issues\/2139","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":2}],"ts":"1470752217.001150"},{"user":"U0MRY2LKY","text":"<@U0MRY2LKY|troyronda> has joined the channel","type":"message","subtype":"channel_join","ts":"1470756859.001152"},{"type":"message","user":"U1AU8DRQR","text":"<@U0YNFB22X>: that seems to be long :slightly_smiling_face: I will have a look at it tomorrow (6PM here)","ts":"1470757672.001153"},{"type":"message","user":"U0YNFB22X","text":"Thanks <@U1AU8DRQR> ","ts":"1470757728.001154"},{"type":"message","user":"U1AU8DRQR","text":"everyone: I have a very interesting problem with Jenkins?\/testing?\/...?\n<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/317\/> \npatchset 12: locally, all the tests are OK, on Jenkins ChaincodeInvokesChaincode fails, seems to be a problem with the hardcoded chaincode id (hash) in example04\npatchset 15: I changed the ID to the one I saw in the Jenkins logs. the ChaincodeInvokes... test works OK on Jenkins, but locally, it fails\nSo the hash of example02 that is called by example04 (that is why example04 contains the hash of it) seems to be different on my machine and on Jenkins??? How?","ts":"1470757919.001155"},{"type":"message","user":"U0ULK2JPP","text":"<@U1AU8DRQR>: can we get the chaincode folder from jenkins and compare it with yours ?","ts":"1470758386.001156"},{"type":"message","user":"U1AU8DRQR","text":"the workspace is deleted after the tests, but somehow we may hack it","ts":"1470758436.001157"},{"type":"message","user":"U1AU8DRQR","text":"<@U0UHG4VP1>: do you have any idea how to do it easily?","ts":"1470758451.001158"},{"type":"message","user":"U1AU8DRQR","text":"e.g. without making a change to JJB which would keep all the workspaces or something ugly","ts":"1470758486.001159"},{"type":"message","user":"U0UHG4VP1","text":"hgabor: not off the top of my head. if we keep the builder alive, the next build to come along will wipe out the workspace","ts":"1470758526.001160"},{"type":"message","user":"U0UHG4VP1","text":"I asked for a Jenkins sandbox to be provisioned, I\u2019m hoping it\u2019s ready to go this week","ts":"1470758564.001161"},{"type":"message","user":"U1AU8DRQR","text":"couldnt we keep the workspaces for some builds?","ts":"1470758957.001162"},{"type":"message","user":"U1AU8DRQR","text":"or I could add some hack to my changeset which copies the directory from the workspace to some place we can store it temporarily and have a look at it","ts":"1470759029.001163"},{"type":"message","user":"U1AU8DRQR","text":"but we need such a temporary location","ts":"1470759041.001164"},{"type":"message","user":"U0UHG4VP1","text":"I don\u2019t think workspaces work like that - perhaps there is a knob in JJB I don\u2019t know about","ts":"1470759138.001165"},{"type":"message","user":"U1AU8DRQR","text":"I am sure that in jenkins you can keep the ws","ts":"1470759354.001166"},{"type":"message","user":"U1AU8DRQR","text":"wipe-workspace: false  # keep the workspace...","ts":"1470759400.001167"},{"type":"message","user":"U1AU8DRQR","text":"should I set this for a while and then revert?","ts":"1470759414.001168"},{"type":"message","user":"U11MANG9G","text":"My 2 cents: we might be able to store either a certain number of builds....","ts":"1470759460.001169"},{"type":"message","user":"U11MANG9G","text":"... or  for a number of days.","ts":"1470759477.001170"},{"type":"message","user":"U1AU8DRQR","text":"<@U0ULK2JPP>: what could we do if we had that directory?","ts":"1470759480.001171"},{"type":"message","user":"U1AU8DRQR","text":"okay then, I will create a commit in 10minutes","ts":"1470759491.001172"},{"type":"message","user":"U0UHG4VP1","text":"that directory is per-slave","ts":"1470759505.001173"},{"type":"message","user":"U0UHG4VP1","text":"we reap the slaves every 60 seconds or so","ts":"1470759514.001174"},{"type":"message","user":"U11MANG9G","text":"<@U0UHG4VP1>: can anything along these lines help? <https:\/\/wiki.jenkins-ci.org\/display\/JENKINS\/Discard+Old+Build+plugin>","ts":"1470759557.001175"},{"type":"message","user":"U11MANG9G","text":"(rather than that boolean-only flag)","ts":"1470759583.001176"},{"type":"message","user":"U1AU8DRQR","text":"<@U11MANG9G>: that keeps it for some days, that would be cool, but if the slaves are automatically wiped then no way","ts":"1470759611.001177"},{"type":"message","user":"U11MANG9G","text":"We might also think of a process\/archive step manually if needed (from within the slave)","ts":"1470759617.001178"},{"type":"message","user":"U0ULK2JPP","text":"we will just do a diff and see why two things compute different hash","ts":"1470759629.001179"},{"type":"message","user":"U0ULK2JPP","text":"if we are lucky we\u2019ll find a difference","ts":"1470759636.001180"},{"type":"message","user":"U1AU8DRQR","text":"<@U11MANG9G>: that was my other suggestion, copy it to some other location. but what location are we able to access from the outside? :slightly_smiling_face:","ts":"1470759657.001181"},{"type":"message","user":"U11MANG9G","text":"For reading or for writing (as a slave?)","ts":"1470759680.001182"},{"type":"message","user":"U1AU8DRQR","text":"<@U0UHG4VP1> do you have access to the 'Edit job' menu in Jenkins? :smile:","ts":"1470759709.001183"},{"type":"message","user":"U11MANG9G","text":"We can probably work something out, generate certificates, and SCP things over... (again, just an angle\/thought)","ts":"1470759758.001184"},{"type":"message","user":"U11MANG9G","text":"Read access from the outside (to a server) is probably less of a problem. We can also agree on a convention for the stored location (e.g., arch\/build#\/...)","ts":"1470759864.001185"},{"type":"message","user":"U1AU8DRQR","text":"<@U0UHG4VP1> can we scp it?","ts":"1470759872.001186"},{"user":"U1JT2LQJH","text":"<@U1JT2LQJH|ericmvaughn> has joined the channel","type":"message","subtype":"channel_join","ts":"1470759971.001187"},{"type":"message","user":"U1AU8DRQR","text":"<@U11MANG9G>: for me any of these solutions would be OK :slightly_smiling_face:","ts":"1470760045.001188"},{"type":"message","user":"U0UHG4VP1","text":"what is it you are trying to do","ts":"1470760081.001189"},{"type":"message","user":"U0UHG4VP1","text":"what, exactly, is the problem - not the proposed solutions","ts":"1470760101.001190"},{"type":"message","user":"U1AU8DRQR","text":"we are trying to archive the core\/chaincode directory from the build as it is on the build server","ts":"1470760106.001191"},{"type":"message","user":"U1AU8DRQR","text":"we have to see how it looks because we have a clue that somehow there are modifications in it that were unintentional","ts":"1470760140.001192"},{"type":"message","user":"U0UHG4VP1","text":"which one?","ts":"1470760465.001193"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F1ZMNT1K7\/-.txt|Untitled>","file":{"id":"F1ZMNT1K7","created":1470760487,"timestamp":1470760487,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":344,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1ZMNT1K7\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1ZMNT1K7\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F1ZMNT1K7\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1ZMNT1K7-92745da4a4","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F1ZMNT1K7\/-.txt\/edit","preview":"\/w\/workspace\/fabric-verify-x86_64\/gopath\/pkg\/linux_amd64\/github.com\/hyperledger\/fabric\/core\/chaincode\r\n\/w\/workspace\/fabric-verify-x86_64\/gopath\/src\/github.com\/hyperledger\/fabric\/build\/docker\/pkg\/linux_amd64\/github.com\/hyperledger\/fabric\/core\/chaincode\r\n\/w\/workspace\/fabric-verify-x86_64\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/chaincode\r\n","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>\/w\/workspace\/fabric-verify-x86_64\/gopath\/pkg\/linux_amd64\/github.com\/hyperledger\/fabric\/core\/chaincode<\/pre><\/div>\n<div><pre>\/w\/workspace\/fabric-verify-x86_64\/gopath\/src\/github.com\/hyperledger\/fabric\/build\/docker\/pkg\/linux_amd64\/github.com\/hyperledger\/fabric\/core\/chaincode<\/pre><\/div>\n<div><pre>\/w\/workspace\/fabric-verify-x86_64\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/chaincode<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":4,"lines_more":0,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1470760488.001194"},{"type":"message","user":"U1AU8DRQR","text":"<@U0ULK2JPP>: I guess we need the core\/chaincode and the examples","ts":"1470760514.001195"},{"type":"message","user":"U1AU8DRQR","text":"FABRIC\/core\/chaincode FABRIC\/examples","ts":"1470760532.001196"},{"type":"message","user":"U1AU8DRQR","text":"these","ts":"1470760535.001197"},{"type":"message","user":"U0UHG4VP1","text":"so \/w\/workspace\/fabric-verify-x86_64\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/chaincode \/w\/workspace\/fabric-verify-x86_64\/gopath\/src\/github.com\/hyperledger\/fabric\/examples ?","ts":"1470760563.001198"},{"type":"message","user":"U1AU8DRQR","text":"yes","ts":"1470760581.001199"},{"type":"message","user":"U1AU8DRQR","text":"<@U0ULK2JPP>: do we need anything else?","ts":"1470760591.001200"},{"type":"message","user":"U1AU8DRQR","text":"lets assume that is enough","ts":"1470760882.001201"},{"type":"message","user":"U0ULK2JPP","text":"that\u2019s should be all","ts":"1470761947.001202"},{"type":"message","user":"U1AU8DRQR","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/262\/console>","ts":"1470769843.001203"},{"type":"message","user":"U1AU8DRQR","text":"I made a diff for patchset 12 and there was no difference","ts":"1470769864.001204"},{"type":"message","user":"U1AU8DRQR","text":"please somebody else try it","ts":"1470769874.001205"},{"type":"message","user":"U1AU8DRQR","text":"I think this indicates that there is an error in the tests or in the Jenkins jobs","ts":"1470770015.001206"},{"type":"message","user":"U1AU8DRQR","text":"still struggling with that error... does anybody have any idea?","ts":"1470817560.001207"},{"type":"message","user":"U1LES78TT","text":"<@U1AU8DRQR> do you mean this error? I've been getting similar in my local environment, it's been causing me some concern because I thought I broke something\n\n18:16:51 --- FAIL: TestChaincodeInvokeChaincode (22.65s)\n18:16:51 \tdb_test_exports.go:47: Creating testDB\n18:16:51 \texectransaction_test.go:886: Error invoking","ts":"1470818140.001208"},{"type":"message","user":"U1AU8DRQR","text":"yes I mean that. but please read this: \n&gt;hgabor 5:51 PM everyone: I have a very interesting problem with Jenkins?\/testing?\/...?\n&gt;https:\/\/gerrit.hyperledger.org\/r\/#\/c\/317\/\n&gt;patchset 12: locally, all the tests are OK, on Jenkins ChaincodeInvokesChaincode fails, seems to be a problem &gt;with the hardcoded chaincode id (hash) in example04\n&gt;patchset 15: I changed the ID to the one I saw in the Jenkins logs. the ChaincodeInvokes... test works OK on &gt;Jenkins, but locally, it fails\n&gt;So the hash of example02 that is called by example04 (that is why example04 contains the hash of it) seems to &gt;be different on my machine and on Jenkins??? How?","ts":"1470818251.001209"},{"type":"message","user":"U1AU8DRQR","text":"it is very funny - it seems that the local machine and the jenkins has different hashes for that file","ts":"1470818294.001210"},{"type":"message","user":"U1LES78TT","text":"yeah my best guess was example02 changed hash... so I've been trying to correct it, but I haven't had much success","ts":"1470818298.001211"},{"type":"message","user":"U1AU8DRQR","text":"I was able to correct it locally -&gt; but that resulted that Jenkins did not work (the test failed)\nand if I corrected it according to Jenkins' hash printouts it began to fail locally but worked in Jenkins","ts":"1470818361.001212"},{"type":"message","user":"U1LES78TT","text":"oh ok... I'd be interested in how you fixed it locally","ts":"1470818494.001213"},{"type":"message","user":"U1AU8DRQR","text":"1 minute and I will tell you :-) ","ts":"1470818644.001214"},{"type":"message","user":"U1LES78TT","text":"I see example02 has not changed","ts":"1470818697.001215"},{"type":"message","user":"U1AU8DRQR","text":"1) run that failing test locally, cd into core\/chaincode, execute go test -run \"ChaincodeInvokeChaincode\" - this will run 2 tests, chaincodeinvokechaincode and chaincodeinvokechaincodeerrorcase. \n2) search for the hashes in the logs. they are part of docker container names which look like this: dev-jdoe-HASH_IS_HERE ;  One of those hashes is for example02, grab it and put it into example04.go in examples\/chaincode\/go. at the top of the file there is a variable (chaincodetocall or something) the value of which must be the hash.","edited":{"user":"U1AU8DRQR","ts":"1470819257.000000"},"ts":"1470819232.001216"},{"type":"message","user":"U1AU8DRQR","text":"which one of those hashes is the hash of example02? this can be found out from the logs and\/or by trying :slightly_smiling_face:","ts":"1470819296.001218"},{"type":"message","user":"U1AU8DRQR","text":"btw it would be  good if you could send me your logs","ts":"1470819457.001219"},{"type":"message","user":"U1AU8DRQR","text":"<@U1LES78TT>","edited":{"user":"U1AU8DRQR","ts":"1470819470.000000"},"ts":"1470819463.001220"},{"type":"message","user":"U0ULK2JPP","text":"<@U1AU8DRQR>: I too did not see a difference in chaincode_example02","ts":"1470831938.001224"},{"type":"message","user":"U0ULK2JPP","text":"from the one you sent me from jenkins and local","ts":"1470831966.001225"},{"type":"message","user":"U0ULK2JPP","text":"btw, the whole point of hardcoding chaincode_example02\u2019s hash in example04 was to catch these kind of  issues","ts":"1470832077.001226"},{"type":"message","user":"U0ULK2JPP","text":"if nothing else changes, the hash should be identical","ts":"1470832092.001227"},{"type":"message","user":"U1AU8DRQR","text":"simon had an idea: maybe there was something in my chaincode example directory. something that was not under version control. but if this was it, how did it work for Zsolt? Or did he overlook something else?  Maybe yes","ts":"1470832784.001228"},{"type":"message","user":"U1AU8DRQR","text":"now, I have an even newer patchset, waiting for Jenkins build","ts":"1470832809.001229"},{"type":"message","user":"U1AU8DRQR","text":"look: <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/284\/console>","ts":"1470832832.001230"},{"type":"message","user":"U1AU8DRQR","text":":slightly_smiling_face:","ts":"1470832834.001231"},{"type":"message","user":"U0ULK2JPP","text":"yeah, that was my thought too \u2026 however, I didn\u2019t see anything extra in the tar you sent","ts":"1470835061.001232"},{"type":"message","user":"U0ULK2JPP","text":"unless it is a VERY transient thing","ts":"1470835071.001233"},{"type":"message","user":"U1AU8DRQR","text":"we could have a wiki about these things. I mean if any newbie (like me) starts to hack things related to chaincodes... it is good to know","ts":"1470835214.001234"},{"type":"message","user":"U0ULK2JPP","text":"well, we need to get to the bottom of this first","ts":"1470835307.001235"},{"type":"message","user":"U0XR6J961","text":"we shouldn't fix this with documentation","ts":"1470836268.001236"},{"type":"message","user":"U0XR6J961","text":"we should fix it with code","ts":"1470836275.001237"},{"type":"message","user":"U1AU8DRQR","text":"how?","ts":"1470836289.001238"},{"type":"message","user":"U0ULK2JPP","text":"sorry\u2026 fix what ?","ts":"1470836546.001239"},{"type":"message","user":"U0XR6J961","text":"the fact that hashes disagree","ts":"1470836554.001240"},{"type":"message","user":"U1AU8DRQR","text":"yes but my repo was polluted (or at least this is the most probable theory :slightly_smiling_face: )","ts":"1470836584.001241"},{"type":"message","user":"U0ULK2JPP","text":"we need to get to the bottom of why they disagree first","ts":"1470836586.001242"},{"type":"message","user":"U0XR6J961","text":"because the sources are different","ts":"1470836613.001243"},{"type":"message","user":"U0XR6J961","text":"some residual editor files","ts":"1470836621.001244"},{"type":"message","user":"U0XR6J961","text":"etc.","ts":"1470836624.001245"},{"type":"message","user":"U0ULK2JPP","text":"we cannot fix until we know exactly what\u2019s causing the difference\u2026. in the worst case, what if the hash function computes differently on the same bytes ?","ts":"1470836685.001246"},{"type":"message","user":"U0ULK2JPP","text":"<@U1AU8DRQR> : what\u2019s hte current run doing to help ?","ts":"1470836762.001247"},{"type":"message","user":"U0ULK2JPP","text":"are you outputting some data or something ?","ts":"1470836776.001248"},{"type":"message","user":"U1AU8DRQR","text":"the \"erroneous\" test worked on my local machine (in chaincode_example04, I wrote the same ID that worked for Jenkins, last time). now, I am waiting for Jenkins results.\nBtw: I did nothing else just git clean.","ts":"1470836929.001249"},{"type":"message","user":"U1AU8DRQR","text":"in a nutshell, if Jenkins says OK this time that means that I cannot reproduce the fault anymore. which is half good half bad","ts":"1470837022.001250"},{"type":"message","user":"U1AU8DRQR","text":"It seems that Jenkins is running behave tests. So the error \"is gone\".","ts":"1470837090.001251"},{"type":"message","user":"U1AU8DRQR","text":"And once again, I only did git clean.","ts":"1470837100.001252"},{"type":"message","user":"U0UHG4VP1","text":"Jenkins always starts from 0. It's a new VM and (obviously) fresh check out","ts":"1470837149.001253"},{"type":"message","user":"U1AU8DRQR","text":"yep, but my local does not always start from 0. :slightly_smiling_face: it should but...","ts":"1470837230.001254"},{"type":"message","user":"U1AU8DRQR","text":"verification takes a lot of time...","ts":"1470837321.001255"},{"type":"message","user":"U0XR6J961","text":"i think it is too easy to have some file debris in the chaincode directories and then mix up the hash","ts":"1470837400.001256"},{"type":"message","user":"U0XR6J961","text":"it needs to be fixed","ts":"1470837406.001257"},{"type":"message","user":"U1AU8DRQR","text":"I am not sure if this is a feature or a bug. One can have opinions for both","ts":"1470837466.001258"},{"type":"message","user":"U0XR6J961","text":"bug","ts":"1470837883.001259"},{"type":"message","user":"U1AU8DRQR","text":"do you think it would be needed to filter some specific filetypes or..?","ts":"1470837975.001260"},{"type":"message","user":"U0ULK2JPP","text":"we cannot differentiate between what is a \u201cgood\u201d file and a bad","ts":"1470838048.001261"},{"type":"message","user":"U0ULK2JPP","text":"note that this is the first time that some \u201cdebris\u201d entered the picture","ts":"1470838083.001262"},{"type":"message","user":"U1AU8DRQR","text":"<@U0ULK2JPP> I must agree","ts":"1470838116.001263"},{"type":"message","user":"U0ULK2JPP","text":"other times it was actually a change to the chaincode itself","ts":"1470838128.001264"},{"type":"message","user":"U0ULK2JPP","text":"honestly, I\u2019m a bit scared that the bytes are same but somehow the two envs compute different hash","ts":"1470838192.001265"},{"type":"message","user":"U0ULK2JPP","text":"now that would be REALLY bad","ts":"1470838198.001266"},{"type":"message","user":"U1AU8DRQR","text":"if you have any idea how I could reproduce it I can try","ts":"1470838226.001267"},{"type":"message","user":"U0ULK2JPP","text":"i missed that git clean appeared to have fixed it\u2026 adds support to the \u201cdebris\u201d theory","ts":"1470838419.001268"},{"type":"message","user":"U0XR6J961","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-merge-x86_64\/16\/console>","ts":"1470847539.001269"},{"type":"message","user":"U0XR6J961","text":"bug in crypto code!","ts":"1470847543.001270"},{"type":"message","user":"U12452RAP","text":"does anyone know how to get email notification when JIRA task created?","ts":"1470889606.001271"},{"type":"message","user":"U0UHG4VP1","text":"grapebaba: I think it is a per-account preference in JIRA you would need to set for yourself","ts":"1470889939.001272"},{"type":"message","user":"U1AU8DRQR","text":"[Hyperledger-fabric] About transaction IDs and replay attack\neverybody from that list, please have a look at this mail thread and help us decide the right method of TxID generation (more about this in the thread, please read)","ts":"1470900946.001273"},{"type":"message","user":"U0ULK2JPP","text":"<@U1AU8DRQR>: adding <@U0ZR63HLK> incase not in the list","ts":"1470915629.001274"},{"type":"message","user":"U1AU8DRQR","text":"thanks","ts":"1470916003.001275"},{"type":"message","user":"U0XR6J961","text":"what list?","ts":"1470916186.001276"},{"type":"message","user":"U0XR6J961","text":"why do we have a slack if half of the stuff is communicated via mail?","ts":"1470916203.001277"},{"type":"message","user":"U0ZR63HLK","text":"<@U1AU8DRQR>, I almost agree with Tamas, meaning signing everything but cert and signature. I'm just trying to understand if attacks can be mounted and then I will reply :slightly_smiling_face:","ts":"1470919607.001278"},{"type":"message","user":"U1AU8DRQR","text":"<@U0ZR63HLK> do you mean including everything in the generation of TxID except cert and signature?","ts":"1470919664.001279"},{"type":"message","user":"U0ZR63HLK","text":"yes","ts":"1470920510.001280"},{"type":"message","user":"U0ZR63HLK","text":"because that's the content of the transaction","ts":"1470920517.001281"},{"type":"message","user":"U0ZR63HLK","text":"it is the only thing we care about","ts":"1470920527.001282"},{"type":"message","user":"U0ZR63HLK","text":"and is protected by the signature","ts":"1470920539.001283"},{"type":"message","user":"U0ZR63HLK","text":"now, if the transaction is about money transfer, let's say, Alice transfers to Bob 10 USD,","ts":"1470920573.001284"},{"type":"message","user":"U0ZR63HLK","text":"if Bob mauls the transaction signature and replay","ts":"1470920612.001285"},{"type":"message","user":"U0ZR63HLK","text":"it will be caught","edited":{"user":"U0ZR63HLK","ts":"1470920667.000000"},"ts":"1470920617.001286"},{"type":"message","user":"U0ZR63HLK","text":"if Bob replays only the content and sign it with one of his certificate, then the chaincode should ensure that only Alice can do this operation","ts":"1470920651.001287"},{"type":"message","user":"U0ZR63HLK","text":"this is related to access control","ts":"1470920657.001288"},{"type":"message","user":"U0ULK2JPP","text":"<@U0ZR63HLK> is that enough to make the TID unique ? [transfer Alice, bob, 10] twice is valid and not unique","ts":"1470920719.001290"},{"type":"message","user":"U0ULK2JPP","text":"but perhaps there are other things besides just \u201cpayload\u201d in composing a TID","ts":"1470920747.001291"},{"type":"message","user":"U0ZR63HLK","text":"yeah, let's discuss this","ts":"1470920757.001292"},{"type":"message","user":"U0ZR63HLK","text":"for confidential transaction","ts":"1470920762.001293"},{"type":"message","user":"U0ZR63HLK","text":"(or proposal)","ts":"1470920766.001294"},{"type":"message","user":"U0ZR63HLK","text":"the hash will be on ciphertexts","ts":"1470920774.001295"},{"type":"message","user":"U0ZR63HLK","text":"which will be always different","ts":"1470920779.001296"},{"type":"message","user":"U0ZR63HLK","text":"so no issue here","ts":"1470920784.001297"},{"type":"message","user":"U0ZR63HLK","text":"but","ts":"1470920784.001298"},{"type":"message","user":"U0ZR63HLK","text":"for public transactions\/proposals","ts":"1470920792.001299"},{"type":"message","user":"U0ZR63HLK","text":"we need a nonce","ts":"1470920794.001300"},{"type":"message","user":"U0ZR63HLK","text":"indeed, the nonce is good to have also for confidential transactions","ts":"1470920808.001301"},{"type":"message","user":"U0ZR63HLK","text":"but for other reasons","ts":"1470920909.001302"},{"type":"message","user":"U0ULK2JPP","text":"ok.. for some reason I thought we wanted to go away from nonce\u2026 but maybe I was mistaken. Can you remind ?","ts":"1470921182.001303"},{"type":"message","user":"U0ZR63HLK","text":"I didn't want to go away for it because it is helpful and for public transactions it is evident. If Alice wants to transfers 2 times 10 USD to Bob, the content of the transaction can potentially be the same and so to avoid replays the nonce can help","ts":"1470921273.001304"},{"type":"message","user":"U0ZR63HLK","text":"I think <@U0KN2SSKE> was arguing that the nonce can be avoided because at some point during the protocol the endorser can figure it out","ts":"1470921323.001305"},{"type":"message","user":"U0ZR63HLK","text":"more details are needed","ts":"1470921337.001306"},{"type":"message","user":"U0XR6J961","text":"what replay are we trying to prevent?","ts":"1470921371.001307"},{"type":"message","user":"U0ZR63HLK","text":"proposal","ts":"1470921387.001308"},{"type":"message","user":"U0ZR63HLK","text":"no?","ts":"1470921390.001309"},{"type":"message","user":"U0XR6J961","text":"of an attacker?","ts":"1470921393.001310"},{"type":"message","user":"U0XR6J961","text":"or of a byzantine node","ts":"1470921399.001311"},{"type":"message","user":"U0XR6J961","text":"by*","ts":"1470921404.001312"},{"type":"message","user":"U0ZR63HLK","text":"attacker in the first place","ts":"1470921411.001313"},{"type":"message","user":"U0ZR63HLK","text":"as the example I was mentioning above","ts":"1470921419.001314"},{"type":"message","user":"U0XR6J961","text":"don't we use TLS connections?","ts":"1470921423.001315"},{"type":"message","user":"U0ZR63HLK","text":"still, suppose that the attacker gets that transaction in some other way","ts":"1470921443.001316"},{"type":"message","user":"U0ZR63HLK","text":"because he attacked an endorser","ts":"1470921454.001317"},{"type":"message","user":"U0XR6J961","text":"so byzantine endorser","ts":"1470921473.001318"},{"type":"message","user":"U0ZR63HLK","text":"or because he was listening at Alice before Alice send to the TLS channel","ts":"1470921476.001319"},{"type":"message","user":"U0XR6J961","text":"who replays the proposal to whom?","ts":"1470921505.001320"},{"type":"message","user":"U0XR6J961","text":"in what communication step","ts":"1470921512.001321"},{"type":"message","user":"U0ZR63HLK","text":"in that case the endorser is not byzantine, it is cursious buthonest","ts":"1470921514.001322"},{"type":"message","user":"U0ZR63HLK","text":"let's recap","ts":"1470921527.001323"},{"type":"message","user":"U0ZR63HLK","text":"Alice send a proposal for transferring 10 USD to Bob","ts":"1470921540.001324"},{"type":"message","user":"U0XR6J961","text":"who is alice","ts":"1470921552.001325"},{"type":"message","user":"U0XR6J961","text":"client?","ts":"1470921557.001326"},{"type":"message","user":"U0ZR63HLK","text":"yes","ts":"1470921561.001327"},{"type":"message","user":"U0ZR63HLK","text":"sorry","ts":"1470921563.001328"},{"type":"message","user":"U0XR6J961","text":"bob is endorser?","ts":"1470921566.001329"},{"type":"message","user":"U0ZR63HLK","text":"nono","ts":"1470921569.001330"},{"type":"message","user":"U0ZR63HLK","text":"Alice and Bob are two parties","ts":"1470921574.001331"},{"type":"message","user":"U0ZR63HLK","text":"who are transacting","ts":"1470921577.001332"},{"type":"message","user":"U0XR6J961","text":"application level?","ts":"1470921584.001333"},{"type":"message","user":"U0ZR63HLK","text":"yes","ts":"1470921587.001334"},{"type":"message","user":"U0XR6J961","text":"then it is no fabric data structure","ts":"1470921594.001335"},{"type":"message","user":"U0ZR63HLK","text":"we are trying to avoid that the same proposal is accepted two times","ts":"1470921618.001336"},{"type":"message","user":"U0XR6J961","text":"yes, but what entity in the network is sending this proposal to what other entity","ts":"1470921638.001337"},{"type":"message","user":"U0ZR63HLK","text":"the client-sdk","ts":"1470921646.001338"},{"type":"message","user":"U0ZR63HLK","text":"it is not the submitting peer","ts":"1470921659.001339"},{"type":"message","user":"U0XR6J961","text":"to?","ts":"1470921659.001340"},{"type":"message","user":"U0ZR63HLK","text":"to the endorsers directly","ts":"1470921667.001341"},{"type":"message","user":"U0XR6J961","text":"right","ts":"1470921672.001342"},{"type":"message","user":"U0XR6J961","text":"but that's a tls connection","ts":"1470921678.001343"},{"type":"message","user":"U0ZR63HLK","text":"right","ts":"1470921683.001344"},{"type":"message","user":"U0ZR63HLK","text":"but let's suppose that the attacker gets the proposal in some other way","ts":"1470921695.001345"},{"type":"message","user":"U0ZR63HLK","text":"he can then replay","ts":"1470921701.001346"},{"type":"message","user":"U0XR6J961","text":"how?","ts":"1470921706.001347"},{"type":"message","user":"U0XR6J961","text":"the attacker needs a tls connection to the endorser","ts":"1470921714.001348"},{"type":"message","user":"U0ZR63HLK","text":"I don't know, the ways to reach god are infinite","edited":{"user":"U0ZR63HLK","ts":"1470921730.000000"},"ts":"1470921715.001349"},{"type":"message","user":"U0ZR63HLK","text":"yes, it is fine","ts":"1470921737.001351"},{"type":"message","user":"U0ZR63HLK","text":"the attacker has a tls connection to the endorsers","ts":"1470921756.001352"},{"type":"message","user":"U0ZR63HLK","text":"let's say the attacker control the network","ts":"1470921767.001353"},{"type":"message","user":"U0XR6J961","text":"sure","ts":"1470921771.001354"},{"type":"message","user":"U0ZR63HLK","text":"we are really going to the extreme here","ts":"1470921788.001355"},{"type":"message","user":"U0XR6J961","text":"but with tls, network control only means interruption","ts":"1470921790.001356"},{"type":"message","user":"U0ZR63HLK","text":"right","ts":"1470921802.001357"},{"type":"message","user":"U0ZR63HLK","text":"this is the reason I said, the attacker gets the proposal in some other way","ts":"1470921819.001358"},{"type":"message","user":"U0ZR63HLK","text":"because he taps into Alice","ts":"1470921825.001359"},{"type":"message","user":"U0XR6J961","text":"right, but then the proposal doesn't match the attacker's identity","ts":"1470921834.001360"},{"type":"message","user":"U0ZR63HLK","text":"or because he gets this information passed by an endorser who is honest but curious","ts":"1470921847.001361"},{"type":"message","user":"U0ZR63HLK","text":"mh, interesting.. what does that mean?","ts":"1470921864.001362"},{"type":"message","user":"U0XR6J961","text":"well, there is a tls connection","ts":"1470921869.001363"},{"type":"message","user":"U0XR6J961","text":"which identifies the attacker as party Eve","edited":{"user":"U0XR6J961","ts":"1470921882.000000"},"ts":"1470921878.001364"},{"type":"message","user":"U0XR6J961","text":"which doesn't match Alice's identity","ts":"1470921892.001366"},{"type":"message","user":"U0ZR63HLK","text":"what if the proposal is signed with a TCert?","ts":"1470921905.001367"},{"type":"message","user":"U0ZR63HLK","text":"there is no identity on the proposal","ts":"1470921911.001368"},{"type":"message","user":"U0XR6J961","text":"aha","ts":"1470921925.001369"},{"type":"message","user":"U0XR6J961","text":"then you made your life harder","ts":"1470921930.001370"},{"type":"message","user":"U0ZR63HLK","text":"I am","ts":"1470921937.001371"},{"type":"message","user":"U0ZR63HLK","text":"I want to consider the worst scenario","ts":"1470921958.001372"},{"type":"message","user":"U0XR6J961","text":"the worst scenario is everybody is compromised and nothing is safe","ts":"1470921976.001373"},{"type":"message","user":"U0XR6J961","text":"or you mean worst configuration","ts":"1470921985.001374"},{"type":"message","user":"U0ZR63HLK","text":"no comeon, that's too much :slightly_smiling_face:","ts":"1470921987.001375"},{"type":"message","user":"U0XR6J961","text":"so sdk signs a proposal","ts":"1470922005.001376"},{"type":"message","user":"U0ZR63HLK","text":"I mean, there are at least a certain number of non-corrupted entities","ts":"1470922013.001377"},{"type":"message","user":"U0XR6J961","text":"and somehow this gets leaked","ts":"1470922013.001378"},{"type":"message","user":"U0ZR63HLK","text":"yes","ts":"1470922017.001379"},{"type":"message","user":"U0ZR63HLK","text":"it can be leaked at the endpoints","ts":"1470922053.001380"},{"type":"message","user":"U0ZR63HLK","text":"I agree not at TLS layer","ts":"1470922060.001381"},{"type":"message","user":"U0XR6J961","text":"so replay protection on the transport layer","ts":"1470922068.001382"},{"type":"message","user":"U0ZR63HLK","text":"I would say at the application layer","ts":"1470922087.001383"},{"type":"message","user":"U0ZR63HLK","text":"because TLS already has that","ts":"1470922091.001384"},{"type":"message","user":"U0XR6J961","text":"yea i guess that's what i mean","ts":"1470922093.001385"},{"type":"message","user":"U0ZR63HLK","text":"perfect","ts":"1470922097.001386"},{"type":"message","user":"U0XR6J961","text":"so you establish a nonce for the new tls connection","ts":"1470922111.001387"},{"type":"message","user":"U0XR6J961","text":"hm no","ts":"1470922173.001388"},{"type":"message","user":"U0XR6J961","text":"why is the proposal signed at all?","ts":"1470922181.001389"},{"type":"message","user":"U0XR6J961","text":"where does this trust get transferred?","ts":"1470922197.001390"},{"type":"message","user":"U0KM61BCP","text":"<!channel>: <https:\/\/hyperledgerproject.slack.com\/archives\/fabric\/p1470922142001205>","attachments":[{"from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric\/p1470922142001205","fallback":"[August 11th, 2016 6:29 AM] cbf: <!channel>: ACTION REQUIRED <http:\/\/lists.hyperledger.org\/pipermail\/hyperledger-fabric\/2016-August\/000234.html>","ts":"1470922142.001205","author_subname":"cbf","channel_id":"C0Y4PEU22","channel_name":"fabric","is_msg_unfurl":true,"text":"<!channel>: ACTION REQUIRED <http:\/\/lists.hyperledger.org\/pipermail\/hyperledger-fabric\/2016-August\/000234.html>","author_name":"Chrisfer","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/cbf","author_icon":"https:\/\/secure.gravatar.com\/avatar\/eb4a014964885f16a760546340b5daa0.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-48.png","mrkdwn_in":["text"],"id":1,"footer":"Posted in #fabric"}],"ts":"1470922250.001391"},{"type":"message","user":"U0ZR63HLK","text":"for this let's wait the final message flow. The discussion started on how to construct txID and I was investigating the relation with replay attacks","ts":"1470922262.001393"},{"type":"message","user":"U0ZR63HLK","text":"so I started speculating","ts":"1470922277.001394"},{"type":"message","user":"U0XR6J961","text":"right","ts":"1470922289.001395"},{"type":"message","user":"U0ZR63HLK","text":"so, I'm now fine with Tamas' proposal","ts":"1470922292.001396"},{"type":"message","user":"U0ZR63HLK","text":"hash everything but cert and signature","ts":"1470922302.001397"},{"type":"message","user":"U0XR6J961","text":"i don't care for this application level stuff","ts":"1470922324.001398"},{"type":"message","user":"U0XR6J961","text":"what i care about is what falls out of the endorsers","ts":"1470922337.001399"},{"type":"message","user":"U0XR6J961","text":"i'm pretty sure that getting rid of the submitting peer is a bad idea","ts":"1470922367.001400"},{"type":"message","user":"U0XR6J961","text":"but oh well","ts":"1470922369.001401"},{"type":"message","user":"U0ZR63HLK","text":"mh interesting, why?","ts":"1470922377.001402"},{"type":"message","user":"U0ZR63HLK","text":"I'm also trying to understand","ts":"1470922389.001403"},{"type":"message","user":"U0ZR63HLK","text":"the pros and cons","ts":"1470922396.001404"},{"type":"message","user":"U0XR6J961","text":"it's about optimizing the endorser execution","ts":"1470922689.001405"},{"type":"message","user":"U0XR6J961","text":"if you know what changeset you expect to be produced, you can use a proxy to shard the chaincode simulation across different machines which have different working sets in memory, etc.","ts":"1470922742.001406"},{"type":"message","user":"U0XR6J961","text":"if you don't know it, you basically need to blindly execute","ts":"1470922754.001407"},{"type":"message","user":"U1VG8LNP3","text":"hi, everyone. How can i ref  JIRA issue in gerrit pr?","ts":"1470939468.001408"},{"type":"message","user":"U0UHG4VP1","text":"yaoguo: if the bug is FAB-4 (for instance) start your commit message like:","ts":"1470939503.001409"},{"type":"message","user":"U0UHG4VP1","text":"FAB-4: Fix frobnicator allocation","ts":"1470939515.001410"},{"type":"message","user":"U1VG8LNP3","text":"Thanks.","ts":"1470939772.001411"},{"type":"message","user":"U0UHG4VP1","text":"better for instance: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/389\/>","ts":"1470940024.001412"},{"type":"message","user":"U0UHG4VP1","text":"if you look here: <https:\/\/jira.hyperledger.org\/browse\/FAB-1> you will see 389 shows up in the git commits tab and the git rollup tab","ts":"1470940078.001413"},{"type":"message","user":"U1VG8LNP3","text":"My commit is \"FAB-3: Fix Json output for empty network list\" . Is there anything incorrect?  JIRA has no response.","ts":"1470940307.001414"},{"type":"message","user":"U0UHG4VP1","text":"did you mean to re-open <https:\/\/jira.hyperledger.org\/browse\/FAB-1>, or was that an accident","ts":"1470941948.001415"},{"type":"message","user":"U0UHG4VP1","text":"yaoguo: once <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/485\/> is merged it will link up to JIRA","ts":"1470942008.001416"},{"type":"message","user":"U1VG8LNP3","text":"oh, I see. I thought it will be linked after pushing the commit just like github PR.","ts":"1470964081.001417"},{"type":"message","user":"U1LES78TT","text":"I closed FAB-1 again","ts":"1470966759.001418"},{"type":"message","user":"U1VG8LNP3","text":"Sorry for FAB-1 misoperation.    The latest  code build failed by Jenkins because some core.util unit-test.   It blocks all the new commits building.  Make a commit to fix it in <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/489\/>.","ts":"1470970113.001419","reactions":[{"name":"+1","users":["U1M7K67EV","U0UHG4VP1"],"count":2}]},{"type":"message","user":"U0UHG4VP1","text":"<@U1VG8LNP3>: 489 doesn't seem to build either","ts":"1470976946.001420"},{"type":"message","user":"U1LES78TT","text":"is the gradle stuff in the build new? it doesn't seem to function behind a proxy","ts":"1470977832.001421"},{"type":"message","user":"U1LES78TT","text":"I'm also not a fan of the new [][]byte input to the chaincodes instead of []string... it seems to simplify the use case of raw binary args at the expense of the simplest use cases (like example02)","ts":"1470978233.001422"},{"type":"message","user":"U1LES78TT","text":"peer chaincode deploy -p <http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02> -c '{\"Function\":\"init\", \"Args\": [\"a\",\"100\", \"b\", \"200\"]}'\n\nno longer works as you need to base64 encode the arguments now","ts":"1470978269.001423"},{"type":"message","user":"U1LES78TT","text":"the REST API is also affected","ts":"1470978332.001424"},{"type":"message","user":"U1AU8DRQR","text":"<@U1LES78TT> <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/481\/> the cli will work with string. the REST API is for programming, from that side a [][]byte \/ base64 should be easier\/simpler than a string","ts":"1470980415.001425"},{"type":"message","user":"U1LES78TT","text":"my CLI does not work","ts":"1470980425.001426"},{"type":"message","user":"U1LES78TT","text":"Error: Chaincode argument error: illegal base64 data at input byte 0","ts":"1470980434.001427"},{"type":"message","user":"U1LES78TT","text":"and I disagree, a plain text string is the simplest thing you can send... base64ing that string is an added layer of complexity","ts":"1470980509.001428"},{"type":"message","user":"U1LES78TT","text":"it will break using the Swagger-UI with blockchain","ts":"1470980533.001429"},{"type":"message","user":"U1AU8DRQR","text":"yes it does not work yet but the commit I sent you will be the fix","ts":"1470980543.001430"},{"type":"message","user":"U1AU8DRQR","text":"and base64ing comes from golang json. and I do not think real life chaincodes want to send strings instead of structures encoded into bytes","ts":"1470980582.001431"},{"type":"message","user":"U1AU8DRQR","text":"real life chaincodes are more complex than \"send\", \"11\", \"Alice\"","ts":"1470980635.001432"},{"type":"message","user":"U1AU8DRQR","text":"and they should be interacted by programs, not manually","ts":"1470980659.001433"},{"type":"message","user":"U1LES78TT","text":"are they? plenty of applications accept simple JSON arguments... not binary blobs","ts":"1470980668.001434"},{"type":"message","user":"U1AU8DRQR","text":"yes but these are not just applications, this is a general thing for chaincodes","ts":"1470980700.001435"},{"type":"message","user":"U1LES78TT","text":"I get that someone will want to send binary data.... but why can't they just base64 encode their binary blobs into an argument and unmarshal it inside their chaincode?","ts":"1470980723.001436"},{"type":"message","user":"U1AU8DRQR","text":"and I guess most of the chaincodes in real life will do something e.g. with financial things - think of BTC, I would not think string would be enough for that","ts":"1470980740.001437"},{"type":"message","user":"U1AU8DRQR","text":"with financial things I wanted to mean that more complex things","ts":"1470980763.001438"},{"type":"message","user":"U1LES78TT","text":"sure, but why not make those apps responsible for their unmarshalling instead of imposing base64 input on everyone?","ts":"1470980819.001439"},{"type":"message","user":"U1AU8DRQR","text":"3 things:\n1) from a go point of view, []byte is nearly the same as string. And for a program []byte is easier and general to handle cause of the ability of structure encoding.\n2) the B64 things is caused by just the golang json implementation. as I see it could be just a string as that could be easily converted to []byte. and then everything would be the same from the REST point of view. \n3) despite 2) I think that for programs it is not a hardness to use base64 because I am nearly sure that a simple 1 liner can do that conversion. but they can surely benefit from []byte instead of string.","ts":"1470981632.001440"},{"type":"message","user":"U1AU8DRQR","text":"but the best thing would be to find some solution that is good for everyone, e.g. for You and me","ts":"1470981656.001441"},{"type":"message","user":"U1AU8DRQR","text":"I have been thinking on solutions but only came up with the worst practice thing that we could modify golang json source - big no-no","ts":"1470981734.001442"},{"type":"message","user":"U1LES78TT","text":"[][]byte and []string being so similar means it should be easy for your program to convert from []string to [][]byte (in a simple 1 liner)","ts":"1470981962.001443"},{"type":"message","user":"U1LES78TT","text":"then it could do its structure encoding from there","ts":"1470982022.001444"},{"type":"message","user":"U1LES78TT","text":"I guess I'm a fan of simple APIs...","ts":"1470982061.001445"},{"type":"message","user":"U1AU8DRQR","text":"but as I understand your only problem is that this whole byte things manifests itself in the REST API as base64","ts":"1470982674.001446"},{"type":"message","user":"U1LES78TT","text":"that and it makes the chaincode more complicated","ts":"1470982871.001447"},{"user":"U1RLZ5729","text":"<@U1RLZ5729|abhishekseth> has joined the channel","type":"message","subtype":"channel_join","ts":"1470982999.001448"},{"type":"message","user":"U1AU8DRQR","text":"why are bytes more complicated than string?","ts":"1470983005.001449"},{"type":"message","user":"U1LES78TT","text":"because if you're not dealing with binary data, then you need a whole bunch of helper functions","ts":"1470983088.001450"},{"type":"message","user":"U1AU8DRQR","text":"you are not dealing with binary data if you only use example02. the question is whether real life applications will be similar to example02","ts":"1470983186.001451"},{"type":"message","user":"U1AU8DRQR","text":"btw which helpers did you mean?","ts":"1470983265.001452"},{"type":"message","user":"U1LES78TT","text":"things like getFunctionAndParams()","ts":"1470983345.001453"},{"type":"message","user":"U1LES78TT","text":"and ToChaincodeArgs()","ts":"1470983373.001454"},{"type":"message","user":"U1LES78TT","text":"you're right though, it's about the use cases, maybe mine are too simple and people will always want to ship binary blobs around","ts":"1470983685.001455"},{"type":"message","user":"U1AU8DRQR","text":"but those will be eliminated.","ts":"1470983784.001456"},{"type":"message","user":"U1AU8DRQR","text":"the chaincode will only use stub. see Sheehan's proposal on the mailing list, he asked the devs\/architects if they like it and only got positive comments.","ts":"1470983818.001457"},{"type":"message","user":"U1AU8DRQR","text":"but this leads to a chaincode API change and I wanted to avoid that in my commit as it was already large and had a big impact","ts":"1470983884.001458"},{"type":"message","user":"U1AU8DRQR","text":"so that change is WIP","ts":"1470983889.001459"},{"type":"message","user":"U1LES78TT","text":"sorry, I don't follow the mailing lists.... do you have a link or a time\/date I can check for?","ts":"1470983963.001460"},{"type":"message","user":"U1VG8LNP3","text":"<@U0UHG4VP1>:  Updated 489.","ts":"1470985240.001461"},{"type":"message","user":"U1LES78TT","text":"489 and 491 seem to be fixing the same thing?","ts":"1470985299.001462"},{"type":"message","user":"U1VG8LNP3","text":"Yes. Basicly, they're same.","ts":"1470985455.001463"},{"type":"message","user":"U1AU8DRQR","text":"bgorman: I will try to give you something like that","ts":"1470985606.001464"},{"type":"message","user":"U1AU8DRQR","text":"we need this ASAP: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/491\/>","ts":"1470998296.001465"},{"type":"message","user":"U0XR6J961","text":"why don't i see this in my overview?","ts":"1470999768.001466"},{"type":"message","user":"U0XR6J961","text":"oh","ts":"1470999786.001467"},{"type":"message","user":"U0XR6J961","text":"because i had the wrong view","ts":"1470999789.001468"},{"type":"message","user":"U0XR6J961","text":"WOW","ts":"1470999791.001469"},{"type":"message","user":"U0XR6J961","text":"there are so many outstanding ones","ts":"1470999798.001470"},{"type":"message","user":"U0XR6J961","text":"hgabor: \"fix failing test\" is not a good subject","ts":"1470999895.001471"},{"type":"message","user":"U1AU8DRQR","text":"maybe now? what would be better?","ts":"1471000194.001472"},{"type":"message","user":"U0XR6J961","text":"why does jenkins run when only the commit message changes?","ts":"1471000246.001473"},{"type":"message","user":"U0XR6J961","text":"ry: ramesh: can we change that?","ts":"1471000269.001474"},{"type":"message","user":"U1AU8DRQR","text":"it generates a new patchset and our Jenkins is not enough intelligent to know","ts":"1471000271.001475"},{"type":"message","user":"U1AU8DRQR","text":"that is was only a commit message change","ts":"1471000282.001476"},{"type":"message","user":"U0XR6J961","text":"yea","ts":"1471000288.001477"},{"type":"message","user":"U1AU8DRQR","text":"we can check it using git commands somewhere in the Jenkins job","ts":"1471000298.001478"},{"type":"message","user":"U0XR6J961","text":"basically if the treeish is the same, no need to rerun","ts":"1471000323.001479"},{"type":"message","user":"U1AU8DRQR","text":"maybe it can be done without checking it from shell. I mean maybe Jenkins can check it","ts":"1471000356.001480"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1471000845.001481"},{"type":"message","user":"U0XR6J961","text":"don't look at the commit, but at the tree","ts":"1471000864.001482"},{"type":"message","user":"U1AU8DRQR","text":"some offtopic: do we need all these apps?? I could add email app that could announce emails on the mailing lists to channels... I guess 3\/4 of ppl here do not read emails from those lists so it would be cool. <https:\/\/hyperledgerproject.slack.com\/apps\/manage>","ts":"1471001174.001483"},{"type":"message","user":"U0XR6J961","text":"lots of apps","ts":"1471001487.001484"},{"type":"message","user":"U1AU8DRQR","text":"10 apps can be installed on a free slack","ts":"1471001509.001485"},{"type":"message","user":"U1AU8DRQR","text":"we have 10 apps","ts":"1471001513.001486"},{"type":"message","user":"U0XR6J961","text":"great","ts":"1471001532.001487"},{"type":"message","user":"U0XR6J961","text":"angellist","ts":"1471001536.001488"},{"type":"message","user":"U0XR6J961","text":"i think we should remove that","ts":"1471001564.001489"},{"type":"message","user":"U1AU8DRQR","text":"me too","ts":"1471001600.001490"},{"type":"message","user":"U1AU8DRQR","text":"who will press the remove button? :smile:","ts":"1471001616.001491"},{"type":"message","user":"U0XR6J961","text":"oh look","ts":"1471002303.001492"},{"type":"message","user":"U0XR6J961","text":"there are app spots free now","ts":"1471002308.001493"},{"type":"message","user":"U1AU8DRQR","text":"hmm what could have happened","ts":"1471002457.001494"},{"type":"message","user":"U1AU8DRQR","text":"<https:\/\/hyperledgerproject.slack.com\/apps\/A0F81496D-email>","attachments":[{"service_name":"Slack App Directory","title":"Email","title_link":"https:\/\/hyperledgerproject.slack.com\/apps\/A0F81496D-email","text":"Send emails directly to a channel in Slack.","fallback":"Slack App Directory: Email","from_url":"https:\/\/hyperledgerproject.slack.com\/apps\/A0F81496D-email","thumb_url":"https:\/\/a.slack-edge.com\/2fac\/plugins\/email\/assets\/service_72.png","thumb_width":72,"thumb_height":72,"service_icon":"https:\/\/a.slack-edge.com\/66f9\/img\/icons\/ios-152.png","id":1}],"ts":"1471002458.001495"},{"type":"message","user":"U1AU8DRQR","text":"what do you think of this?","edited":{"user":"U1AU8DRQR","ts":"1471002630.000000"},"ts":"1471002464.001497"},{"type":"message","user":"U1AU8DRQR","text":"btw we have exactly 10 apps now, before we had 11 :S","ts":"1471002646.001499"},{"type":"message","user":"U0ULK2JPP","text":"can we  revist <@U1LES78TT> \u2019s comments on the need for change from []string to [][]bytes ? I can see both points of view. However if most of the arguments are expected to be strings, [][]bytes would be inefficient.  Whatever is decided is fine. However this is a direct user experience question and has to be thought out carefully","edited":{"user":"U0ULK2JPP","ts":"1471003057.000000"},"ts":"1471003006.001500"},{"type":"message","user":"U0XR6J961","text":"why inefficient?","ts":"1471003049.001501"},{"type":"message","user":"U0ULK2JPP","text":"ux.","ts":"1471003086.001503"},{"type":"message","user":"U0ULK2JPP","text":"representation would change at the user interface level","ts":"1471003162.001504"},{"type":"message","user":"U0XR6J961","text":"what user interface?","ts":"1471003176.001505"},{"type":"message","user":"U0XR6J961","text":"you mean API?","ts":"1471003179.001506"},{"type":"message","user":"U1AU8DRQR","text":"<@U0ULK2JPP>: yes, I think it is time to revisit it","ts":"1471003296.001507"},{"type":"message","user":"U1AU8DRQR","text":"<@U0ULK2JPP>: as I see the only problematic part is the REST API.","ts":"1471003331.001508"},{"type":"message","user":"U1AU8DRQR","text":"<@U0ULK2JPP>: I may be wrong but for me, it seems that it would be enough to somehow \"make the REST API work with strings\". in the background, it is OK if the chaincode input contains [][]byte and not []string","ts":"1471003469.001509"},{"type":"message","user":"U1AU8DRQR","text":"what do you think?","ts":"1471003494.001510"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019d love to know answer to \u201cwhat is more common input to transactions  ? Strings or byte objects (such as jpegs, zip files, etc\u2026)","ts":"1471004108.001511"},{"type":"message","user":"U0ULK2JPP","text":"note that it also affects other chaincode env besides go","ts":"1471004131.001512"},{"type":"message","user":"U1AU8DRQR","text":"and the bytes can also be used for proto structs","ts":"1471004170.001513"},{"type":"message","user":"U0ULK2JPP","text":"true","ts":"1471004177.001514"},{"type":"message","user":"U0ULK2JPP","text":"all forms of bytes","ts":"1471004184.001515"},{"type":"message","user":"U1AU8DRQR","text":"and strings","ts":"1471004189.001516"},{"type":"message","user":"U0ULK2JPP","text":"well, I\u2019d keep \u201cstrings are also bytes\u201d argument out of this one. If most of the times we deal with strings, question is should that be the representation","ts":"1471004246.001517"},{"type":"message","user":"U0XR6J961","text":"why?","ts":"1471004258.001518"},{"type":"message","user":"U0XR6J961","text":"it's a general purpose thing, we cannot assume that strings will be used most of the time","ts":"1471004275.001519"},{"type":"message","user":"U1AU8DRQR","text":"I meant bytes can be string cause of the 1-1 mapping","ts":"1471004281.001520"},{"type":"message","user":"U0ULK2JPP","text":"in java ?","ts":"1471004292.001521"},{"type":"message","user":"U0XR6J961","text":"i'd even argue that strings shouldn't be used most of the time, because they are an inefficient reprensentation for anything except actual strings","ts":"1471004297.001522"},{"type":"message","user":"U0ULK2JPP","text":"that\u2019s my question. Is most of that time are inputs actual strings","ts":"1471004325.001523"},{"type":"message","user":"U1AU8DRQR","text":"In Java, string makes it hard to encode anything, bytearray makes it easier - I think","ts":"1471004340.001524"},{"type":"message","user":"U1AU8DRQR","text":"I can only talk about the examples, they all use strings,","ts":"1471004382.001525"},{"type":"message","user":"U0ULK2JPP","text":"no, forget the examples","ts":"1471004392.001526"},{"type":"message","user":"U1AU8DRQR","text":"I do not know about user code","ts":"1471004392.001527"},{"type":"message","user":"U0ULK2JPP","text":"they are just toys","ts":"1471004404.001528"},{"type":"message","user":"U0XR6J961","text":"right","ts":"1471004409.001529"},{"type":"message","user":"U0XR6J961","text":"we don't know anything","ts":"1471004412.001530"},{"type":"message","user":"U0XR6J961","text":"therefore it should be bytes","ts":"1471004426.001531"},{"type":"message","user":"U0ULK2JPP","text":"that\u2019s not true","ts":"1471004432.001532"},{"type":"message","user":"U0ULK2JPP","text":"http has gotten quite well with strings","ts":"1471004444.001533"},{"type":"message","user":"U0XR6J961","text":"wat","ts":"1471004451.001534"},{"type":"message","user":"U0ULK2JPP","text":"and when they had to convert, the convert","ts":"1471004453.001535"},{"type":"message","user":"U0XR6J961","text":"http is oblivious to the content","ts":"1471004465.001536"},{"type":"message","user":"U0XR6J961","text":"that's why you can download binaries","ts":"1471004472.001537"},{"type":"message","user":"U0ULK2JPP","text":"correct","ts":"1471004488.001538"},{"type":"message","user":"U0XR6J961","text":"rfc2822 is not, that's why you have to base64 encode your attachments","ts":"1471004499.001539"},{"type":"message","user":"U0ULK2JPP","text":"but they don\u2019t say all uri\u2019s should be base64 encoded","ts":"1471004532.001540"},{"type":"message","user":"U0ULK2JPP","text":"time for office\u2026later","ts":"1471004561.001541"},{"type":"message","user":"U0XR6J961","text":"but these are not uris","ts":"1471004622.001542"},{"type":"message","user":"U0XR6J961","text":"the chaincode name is the equivalent of an URI","ts":"1471004636.001543"},{"type":"message","user":"U0XR6J961","text":"the arguments are the equivalent of POST parameters","ts":"1471004654.001544"},{"type":"message","user":"U0XR6J961","text":"(which don't work well)","ts":"1471004665.001545"},{"type":"message","user":"U1AU8DRQR","text":"btw as I know there is (devops - will be deprecated) and there will be interfaces other than the REST","ts":"1471004686.001546"},{"type":"message","user":"U0XR6J961","text":"we're talking about the arguments to the chaincode, which should really be discussed in the context of chaincode","ts":"1471004727.001547"},{"type":"message","user":"U0XR6J961","text":"i think it is simple.  chaincode can store bytes in state, so why shouldn't chaincode receive bytes from arguments","ts":"1471004759.001548"},{"type":"message","user":"U1AU8DRQR","text":"I think byte is the most general","ts":"1471004859.001549"},{"type":"message","user":"U0XR6J961","text":"yes, of course","ts":"1471004916.001550"},{"type":"message","user":"U0XR6J961","text":"otherwise we should require an encoding for the strings","ts":"1471004928.001551"},{"type":"message","user":"U0XR6J961","text":"e.g. utf-8","ts":"1471004932.001552"},{"type":"message","user":"U0XR6J961","text":"and possibly even a format, like json","ts":"1471004942.001553"},{"type":"message","user":"U1AU8DRQR","text":"that would be an overkill (I think): encoding over encoding","ts":"1471005052.001554"},{"type":"message","user":"U0XR6J961","text":"This integration is only available to teams on paid plans. Learn more","ts":"1471005168.001555"},{"type":"message","user":"U0XR6J961","text":":confused:","ts":"1471005171.001556"},{"type":"message","user":"U0XR6J961","text":"no mail for us","ts":"1471005173.001557"},{"type":"message","user":"U1AU8DRQR","text":"if you click on learn more it takes you to the prices page, doesnt it? I guess then it means that we still have too much apps (we have 10 apps now - 10 is free for unpaid. we had 11 before, I do not know how)","ts":"1471005257.001558"},{"user":"U20NAT0SF","text":"<@U20NAT0SF|synechist> has joined the channel","type":"message","subtype":"channel_join","ts":"1471005456.001559"},{"type":"message","user":"U0XR6J961","text":"hgabor: ah","ts":"1471005515.001560"},{"type":"message","user":"U1AU8DRQR","text":"but not sure it works that way","ts":"1471005563.001561"},{"type":"message","user":"U0XR6J961","text":"no, i think in general it costs money to use it","ts":"1471005594.001562"},{"type":"message","user":"U0XR6J961","text":"maybe have to write our own","ts":"1471005621.001563"},{"type":"message","user":"U0XR6J961","text":"using blockchain","ts":"1471005625.001564"},{"type":"message","user":"U0YP7KFGQ","text":"Hi. I did some work to add flow control to all communication streams (events, peer and chaincode). I opened jira issue (<https:\/\/jira.hyperledger.org\/browse\/FAB-38>) and have some working code. How do I proceed with gerrit from here?","ts":"1471005872.001565"},{"type":"message","user":"U0XR6J961","text":"if you're happy with the code, submit it to gerrit","ts":"1471005948.001566"},{"type":"message","user":"U0XR6J961","text":"and ask people to review it","ts":"1471005951.001567"},{"type":"message","user":"U0YP7KFGQ","text":"Ok, how I choose reviewers?","ts":"1471006022.001568"},{"type":"message","user":"U0XR6J961","text":"pick somebody you think would be familiar with the code","ts":"1471006103.001569"},{"type":"message","user":"U0XR6J961","text":"or just talk to us here","ts":"1471006111.001570"},{"type":"message","user":"U0YP7KFGQ","text":"ok, thanks.","ts":"1471006152.001571"},{"type":"message","user":"U0ULK2JPP","text":"<@U0YP7KFGQ>: I assume the work will work for java chaincode seamlessly ?","ts":"1471007047.001572"},{"type":"message","user":"U0YP7KFGQ","text":"It should, I didn\u2019t touched shim code at all, so based on assumption that java shim works same way as go shim, it should work","ts":"1471007138.001573"},{"type":"message","user":"U0YP7KFGQ","text":"Do any tests (behave, unit-tests) check java shim, so I could check it?","ts":"1471007250.001574"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1471007515.001575"},{"type":"message","user":"U0ULK2JPP","text":"that\u2019s fine then","ts":"1471007520.001576"},{"type":"message","user":"U0ULK2JPP","text":"(no need to check\u2026.thank you, though!)","ts":"1471007541.001577"},{"type":"message","user":"U0XR6J961","text":"how does that flow control work?","ts":"1471007698.001578"},{"type":"message","user":"U0YP7KFGQ","text":"Once I will finish merge with gerrit head, will submit code for review.","ts":"1471007701.001579"},{"type":"message","user":"U0YP7KFGQ","text":"I put some info in jira issue, but naive implementation just add 2 channels - in and out for each stream. Now instead of calling stream.Send, handler call new Send impl, that just put message to channel and go routing will move it from channel to real stream. Same with stream.Recv and handler.HandlerMessage: streamRecv runs in endless for loop (as before), but instead calling handler.HandlerMessage direct, it put message in channel  and another routing takes message from channel and invoke handler.HandlerMessage","edited":{"user":"U0YP7KFGQ","ts":"1471008159.000000"},"ts":"1471008120.001580"},{"type":"message","user":"U0YP7KFGQ","text":"Introducing this intermediate layer allow in future add more robust flow control, like sending messages back to sender, with request to stop sending, etc, without changing handlers logic","ts":"1471008269.001582"},{"type":"message","user":"U0XR6J961","text":"why is the current code inadequate?","ts":"1471008532.001583"},{"type":"message","user":"U1AU8DRQR","text":"<@U0ULK2JPP>:  do you think the REST API would be still problematic if one could use strings istead of base64? the chaincode invocation args would remains [][]byte","edited":{"user":"U1AU8DRQR","ts":"1471008729.000000"},"ts":"1471008686.001584"},{"type":"message","user":"U0XR6J961","text":"i never understood the need for \"chaincodeinvocationspec\"","ts":"1471008755.001586"},{"type":"message","user":"U0XR6J961","text":"why don't we send a transaction?","ts":"1471008771.001587"},{"type":"message","user":"U1AU8DRQR","text":"<@U0XR6J961> I think sending a transaction is fundemental for the content generated ID. with the current implementation it is hard to implement it (content generated using the whole transaction). And as I know the new architecture will send transactions instead of invocations.","ts":"1471008894.001588"},{"type":"message","user":"U0YP7KFGQ","text":"<@U0XR6J961>: It is not, but you don\u2019t have any control - you can\u2019t see if you process incoming messages much slower that they come in or send messages out to fast will cause Send to block. Now you have control over it - at least you will not block on Send and stop all state machine","ts":"1471008898.001589"},{"type":"message","user":"U0XR6J961","text":"hgabor: good","ts":"1471008971.001590"},{"type":"message","user":"U0YP7KFGQ","text":"<@U0XR6J961>: No, not correct - you still can block, but you have another option(s), fail during send and take care of the failure","ts":"1471008991.001591"},{"type":"message","user":"U0XR6J961","text":"gennady.laventman: what failure?","ts":"1471009024.001592"},{"type":"message","user":"U0ULK2JPP","text":"<@U1AU8DRQR>: with REST either representation with affect the other type \u2026 the question is what is used most often. end user inputs will typically be strings\u2026 and in general I\u2019d think there\u2019d be a lot more strings. But I grant that, easier to go from bytes to string than the other way round (base64 etc)","ts":"1471009171.001593"},{"type":"message","user":"U0YP7KFGQ","text":"<@U0XR6J961>:  Now, for example, you can block on Send to stream. In new design, with flow control, as developer, you can still implement it in same way (handler blocks on Send) or you can make Send to fail in this case and change handler logic to take care of it.","edited":{"user":"U0YP7KFGQ","ts":"1471009303.000000"},"ts":"1471009278.001594"},{"type":"message","user":"U0XR6J961","text":"gennady.laventman: i think in general, state machine operations should be non-blocking, so this in principle is good","ts":"1471009433.001596"},{"type":"message","user":"U0XR6J961","text":"but my experience is that goroutines add to non-determinism and complex behavior","ts":"1471009488.001597"},{"type":"message","user":"U1AU8DRQR","text":"<@U0ULK2JPP>: but I think this is only true for golang json that it needs base64 if you want to decode as byte array. this is not a json rule or a REST rule, this is just a golang implementational thing","ts":"1471009527.001598"},{"type":"message","user":"U1AU8DRQR","text":"<@U0ULK2JPP>: how to decide which to use? (string vs []byte)?","ts":"1471009548.001599"},{"type":"message","user":"U0XR6J961","text":"trivial, you use the more general one","ts":"1471009570.001600"},{"type":"message","user":"U0YP7KFGQ","text":"<@U0XR6J961>: Indeed, so I just limited myself to 2 for each stream. And hope I have all stop issues covered. But this is tests and code reviews are for","ts":"1471009619.001601"},{"type":"message","user":"U0ULK2JPP","text":"<@U0YP7KFGQ>: I still don\u2019t get the \u201cflow control\u201d part. Are there things like message buffers and retries etc ? perhaps I should go read code :slightly_smiling_face: ?","ts":"1471009627.001602"},{"type":"message","user":"U0ULK2JPP","text":"<@U1AU8DRQR>: I thought I was giving a point in your favor with the last statement of the comment :slightly_smiling_face:","edited":{"user":"U0ULK2JPP","ts":"1471009709.000000"},"ts":"1471009664.001603"},{"type":"message","user":"U0XR6J961","text":"sounds more like asynchronous send","ts":"1471009667.001604"},{"type":"message","user":"U0XR6J961","text":"submit it to gerrit and we can easily talk about it","ts":"1471009690.001605"},{"type":"message","user":"U0YP7KFGQ","text":"Channels are play buffers role, no retires yet. Once I finish to merge it with current head, will submit it.","ts":"1471009739.001607"},{"type":"message","user":"U0ULK2JPP","text":"<@U1AU8DRQR>: if represented as bytes I can convert to strings easy but if represented as strings \u2018ll have to encode bytes","ts":"1471009773.001608"},{"type":"message","user":"U1AU8DRQR","text":"<@U0ULK2JPP> yes but it seems that e.g. Chris does not agree that much <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/499\/>","ts":"1471009773.001609"},{"type":"message","user":"U1AU8DRQR","text":"(I have to go, I will be back soon)","ts":"1471009786.001610"},{"type":"message","user":"U0ULK2JPP","text":"<@U1AU8DRQR>: right there\u2019s that problem in the sender side\u2026 I was talking about receiver","ts":"1471009837.001611"},{"type":"message","user":"U0YP7KFGQ","text":"I started to work on it more that 2 weeks ago and it still in github, so nice experience with moving it to gerrit and merging ahead of me.","ts":"1471009839.001612"},{"type":"message","user":"U0XR6J961","text":"it's simple","ts":"1471009853.001613"},{"type":"message","user":"U0XR6J961","text":"do this:","ts":"1471009856.001614"},{"type":"message","user":"U0XR6J961","text":"```git remote add gerrit ssh:\/\/$LFUSER@gerrit.hyperledger.org:29418\/fabric.git\ngit remote update\necho 0716064b25428ea2426fa589db365c419726b24b 346f9fb448140e931fed73b46f528de6dacbc0d0 &gt; .git\/info\/grafts```","edited":{"user":"U0XR6J961","ts":"1471009961.000000"},"ts":"1471009946.001615"},{"type":"message","user":"U0XR6J961","text":"well, imagine without linebreak in the echo line","ts":"1471009974.001617"},{"type":"message","user":"U0XR6J961","text":"because why care about what i write...","ts":"1471009981.001618"},{"type":"message","user":"U0XR6J961","text":"now you should have a history on the gerrit\/master that reaches to the beginning of time","ts":"1471010011.001619"},{"type":"message","user":"U0XR6J961","text":"then you should be able to easily do a rebase","ts":"1471010020.001620"},{"type":"message","user":"U0XR6J961","text":"onto gerrit\/master","ts":"1471010028.001621"},{"type":"message","user":"U0YP7KFGQ","text":"ok, thanks. will do it. although, not promising to finish it today - I want to write little bit more tests, to make sure I didn\u2019t broke anything","ts":"1471010166.001622"},{"type":"message","user":"U0XR6J961","text":"sure","ts":"1471010483.001623"},{"type":"message","user":"U0XR6J961","text":"you can do a WIP submission","ts":"1471010487.001624"},{"type":"message","user":"U1G8FRV33","text":"Anyone has tried to install the dev environment on direct ubuntu machine if so what are the step or any document or link can help.","ts":"1471158055.001625"},{"user":"U2191B4BU","text":"<@U2191B4BU|destenson> has joined the channel","type":"message","subtype":"channel_join","ts":"1471201866.001628"},{"type":"message","user":"U1LES78TT","text":"what happened to the jenkins builds?","ts":"1471241264.001629"},{"type":"message","user":"U1LES78TT","text":"#332\n(pending\u2014All nodes of label \u2018hyp-fabric-x86_64\u2019 are offline)","ts":"1471241272.001630"},{"type":"message","user":"U0UHG4VP1","text":"<@U1LES78TT>: there was an unplanned outage this weekend. We're still recovering ","ts":"1471245436.001631"},{"type":"message","user":"U1LES78TT","text":"<@U0UHG4VP1> ok, as long as someone knows :slightly_smiling_face:","ts":"1471245487.001632"},{"type":"message","user":"U0UHG4VP1","text":"Oh, we know :grinning: ","ts":"1471245815.001633"},{"user":"U0SPN1A68","text":"<@U0SPN1A68|mkabanau> has joined the channel","type":"message","subtype":"channel_join","ts":"1471253527.001634"},{"user":"U21DSN0CX","text":"<@U21DSN0CX|nickgogerty> has joined the channel","type":"message","subtype":"channel_join","ts":"1471272407.001635"},{"user":"U20K2FUTZ","text":"<@U20K2FUTZ|jblaszczyk> has joined the channel","type":"message","subtype":"channel_join","ts":"1471287584.001636"},{"type":"message","user":"U1AU8DRQR","text":"Could anybody review these? ","ts":"1471325942.001637"},{"type":"message","user":"U1AU8DRQR","text":"this enables to use NON-base64 data but just from the cli: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/481\/>\nthis is the updated docs: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/499\/>","edited":{"user":"U1AU8DRQR","ts":"1471325969.000000"},"ts":"1471325946.001638"},{"type":"message","user":"U1AU8DRQR","text":"These are patches for the [][]byte args commit","ts":"1471325998.001640"},{"type":"message","user":"U1LES78TT","text":"<@U1AU8DRQR> the peer code calling into the chaincode shim seems... odd","ts":"1471328289.001641"},{"type":"message","user":"U1LES78TT","text":"I get that it is a helper function though","ts":"1471328358.001642"},{"type":"message","user":"U1AU8DRQR","text":"See the comments about the code duplication I made first ","ts":"1471328735.001643"},{"type":"message","user":"U1AU8DRQR","text":"Maybe that helper could have a better place ","ts":"1471328766.001644"},{"type":"message","user":"U1LES78TT","text":"yeah... I'm just wondering if there's a central place for helper functions across the project","ts":"1471328778.001645"},{"type":"message","user":"U1LES78TT","text":"something like core\/chaincode\/helpers.go I guess","ts":"1471328835.001646"},{"type":"message","user":"U1LES78TT","text":"I'm not sure if a new package is warranted","ts":"1471328847.001647"},{"type":"message","user":"U1AU8DRQR","text":"I think creating a new for just this would be overkill","ts":"1471330375.001648"},{"type":"message","user":"U1AU8DRQR","text":"what would be the best solution?","ts":"1471330682.001649"},{"type":"message","user":"U1AU8DRQR","text":"<@U1LES78TT>","edited":{"user":"U1AU8DRQR","ts":"1471331052.000000"},"ts":"1471331045.001650"},{"type":"message","user":"U1LES78TT","text":"not sure sorry, I just thought it was weird to have the peer using the shim","ts":"1471331300.001652"},{"type":"message","user":"U1LES78TT","text":"ignore me if you like :slightly_smiling_face:","ts":"1471331308.001653"},{"type":"message","user":"U1AU8DRQR","text":"it would be good to have those commits on master soon, so I would like to fix any issues asap","ts":"1471331749.001654"},{"type":"message","user":"U0UHG4VP1","text":"I heard an interesting idea from the former BDFL of ZeroMQ. Merge everything that builds to master when it comes in. Assume people have good intentions ","ts":"1471334879.001655"},{"type":"message","user":"U0UHG4VP1","text":"In this episode somewhere: The Changelog: 205: A Protocol For Dying with Pieter Hintjens\n<https:\/\/overcast.fm\/+I_p2t9VU>","edited":{"user":"U0UHG4VP1","ts":"1471335035.000000"},"ts":"1471335015.001656"},{"type":"message","user":"U1AU8DRQR","text":"I think that would result in chaos","ts":"1471335159.001659"},{"type":"message","user":"U1AU8DRQR","text":"<@U0UHG4VP1> I guess it is not a good strategy for me now to restart all the verify jobs for all my commits, right?","ts":"1471335372.001660"},{"type":"message","user":"U0UHG4VP1","text":"<@U1AU8DRQR>: it is your call","ts":"1471337990.001661"},{"type":"message","user":"U0UHG4VP1","text":"<@U1AU8DRQR>: I didn't change anything so it will still fail on maven","ts":"1471338022.001662"},{"type":"message","user":"U0UHG4VP1","text":"CPU is free. I won't mind if you retrigger the fabric jobs","ts":"1471338081.001663"},{"type":"message","user":"U1AU8DRQR","text":"I meant that so many fabric verify instances are trying to run","ts":"1471338090.001664"},{"type":"message","user":"U0UHG4VP1","text":"I have is set to do as many as 10 at once","ts":"1471338119.001665"},{"type":"message","user":"U0UHG4VP1","text":"The hardware limit on that slice is 2k cores IIRC.","ts":"1471338404.001666"},{"type":"message","user":"U0UHG4VP1","text":"So 10 builders are hardly a tax","ts":"1471338421.001667"},{"type":"message","user":"U1AU8DRQR","text":"what is the port of PeerClient?","ts":"1471341206.001668"},{"type":"message","user":"U1AU8DRQR","text":"can anyone help me with protobuf?","ts":"1471353418.001669"},{"type":"message","user":"U0XR6J961","text":"in general, i can","ts":"1471353933.001670"},{"type":"message","user":"U0ZJZBJLF","text":"I also have a weird problem with protobuf related to the project. I cloned the project from gerrit and all pb.go files are not compiling.\nThe thing is, I'm sure this is 100% related to the project and not to the environment because I tested it by putting my own protobuf file inside the project and compiled it using protoc, and it doesn't get compiled well, but that same file compiles well *outside* of the project :confused: any ideas anyone?","ts":"1471356946.001671"},{"type":"message","user":"U0ZJZBJLF","text":"um, simon, why did you label consensus to the gossip issue?","ts":"1471356997.001672"},{"type":"message","user":"U0XR6J961","text":"my mistake","ts":"1471357037.001673"},{"type":"message","user":"U0XR6J961","text":"do you prefer a different label?","ts":"1471357044.001674"},{"type":"message","user":"U0ZJZBJLF","text":"no idea, maybe communication?","ts":"1471357053.001675"},{"type":"message","user":"U0XR6J961","text":"can you edit it to change the label?","ts":"1471357098.001676","reactions":[{"name":"white_check_mark","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U0ZJZBJLF","text":"You have any idea about the protobuf problem I have? I'm not using the dev env vagrant","ts":"1471357257.001679"},{"type":"message","user":"U0XR6J961","text":"can you explain what the problem is?","ts":"1471357406.001680"},{"type":"message","user":"U0XR6J961","text":"yacovm: what's the difference between fab-46, fab-35, and fab-45?","ts":"1471357550.001681"},{"type":"message","user":"U0ZJZBJLF","text":"huh?","ts":"1471357575.001682"},{"type":"message","user":"U0XR6J961","text":"and fab-42","ts":"1471357587.001683"},{"type":"message","user":"U0ZJZBJLF","text":"what are these","ts":"1471357596.001684"},{"type":"message","user":"U0ZJZBJLF","text":"oh","ts":"1471357681.001685"},{"type":"message","user":"U0ZJZBJLF","text":"jira issues?","ts":"1471357684.001686"},{"type":"message","user":"U0UGH3X7X","text":"yes, jira issues transcribed from a list I gave clayton a while back   ... <@U0YM41HA5> and I had talked about your guys doing a prototype then connecting that to fabric so I just listed some possible tasks.  If you want , you can replace what's in jira with your tasks list","ts":"1471357930.001687"},{"type":"message","user":"U0ZJZBJLF","text":"but, what's a validator gossip?","ts":"1471357999.001688"},{"type":"message","user":"U0XR6J961","text":"i don't know","ts":"1471358011.001689"},{"type":"message","user":"U0XR6J961","text":"it says gossip, so it is your stuff :slightly_smiling_face:","ts":"1471358019.001690"},{"type":"message","user":"U0ZJZBJLF","text":"and <@U0XR6J961>, basically my problem is:\nI cloned from gerrit, ran \"make protos\" and the pb.go files won't compile","ts":"1471358039.001691"},{"type":"message","user":"U0XR6J961","text":"ah, i never used that","ts":"1471358051.001692"},{"type":"message","user":"U0XR6J961","text":":slightly_smiling_face:","ts":"1471358054.001693"},{"type":"message","user":"U0UGH3X7X","text":"oh FAB-45 ? network of validators using gossip when creating a block","ts":"1471358106.001694"},{"type":"message","user":"U0ZJZBJLF","text":"ok... so basically my *actualy* problem is that I have a message.proto file I use for gossip gRPC stuff","ts":"1471358107.001695"},{"type":"message","user":"U0ZJZBJLF","text":"and it won't compile when it is located under the project tree","ts":"1471358119.001696"},{"type":"message","user":"U0ZJZBJLF","text":"but will compile outside","ts":"1471358122.001697"},{"type":"message","user":"U0XR6J961","text":"what's the error?","ts":"1471358328.001698"},{"type":"message","user":"U0ZJZBJLF","text":"compilation errors, I think they're related to the version of the proto compiler","ts":"1471358347.001699"},{"type":"message","user":"U0ZJZBJLF","text":"all kinds","ts":"1471358372.001700"},{"type":"message","user":"U0ZJZBJLF","text":"ok I see now, running \"make protos\" somehow ruins these files","ts":"1471359223.001701"},{"type":"message","user":"U0ZJZBJLF","text":"but still- from some reason, a valid pb.go file that is compiling outside the HL project is not compiling when inside the project... I think maybe it's related to the vendor folder. are we using some old protobuf version or something?","edited":{"user":"U0ZJZBJLF","ts":"1471360769.000000"},"ts":"1471359480.001702"},{"type":"message","user":"U1AU8DRQR","text":"could anybody review this? <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/499\/> as it works this way now, it would be good to let this in","ts":"1471359573.001703"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0UGH3X7X> , what do you mean by validators using gossip when creating a block?","ts":"1471359906.001704"},{"type":"message","user":"U0UGH3X7X","text":"validators receive an ordered batch of tx from orderer service,   put valid tx into a block,  gossip on this block then commit","ts":"1471360260.001705"},{"type":"message","user":"U0ZJZBJLF","text":"so they're called validators now I guess","ts":"1471360373.001706"},{"type":"message","user":"U0ZJZBJLF","text":"got it, thanks","ts":"1471360377.001707"},{"type":"message","user":"U0UGH3X7X","text":"well, the names are somewhat fluid right now  so I' probably using the wrong term  ... i'll ask binh to update his presentation","ts":"1471360502.001708"},{"type":"message","user":"U0ZJZBJLF","text":"I knew them as \"consenting peers\"","ts":"1471360572.001709"},{"type":"message","user":"U0XPR4NP4","text":"<@U0ZJZBJLF> This is largely my fault.  On our whiteboards we kept using \"CP\" as a label, which some people interpreted as \"consenting peer\" and some as \"committing peer\", so to try to disambiguate, starting calling that piece \"validator\" this should all be documented soon","edited":{"user":"U0XPR4NP4","ts":"1471364788.000000"},"ts":"1471364754.001711"},{"user":"U0YJUECE8","text":"<@U0YJUECE8|silliman> has joined the channel","type":"message","subtype":"channel_join","ts":"1471370816.001713"},{"type":"message","user":"U1M7K67EV","text":"Just as a general question, would the maintainers prefer we add them as reviewers manually, or let them choose which change requests they review?","ts":"1471410754.001714"},{"type":"message","user":"U0UHG4VP1","text":"<@U1M7K67EV>: an answer to a question you didn't ask, but there is a group you can add which adds the maintainers in toto, should you decide to do that.","ts":"1471411031.001715"},{"type":"message","user":"U1M7K67EV","text":"oh cool, I didn't know about that group","ts":"1471411078.001716"},{"type":"message","user":"U1M7K67EV","text":"Do you know how to add them like that?","ts":"1471411085.001717"},{"type":"message","user":"U1M7K67EV","text":"ah figured it out","ts":"1471411125.001718"},{"type":"message","user":"U1M7K67EV","text":"add cr-fabric to the reviewers list","ts":"1471411147.001719"},{"type":"message","user":"U0UHG4VP1","text":"yes","ts":"1471411225.001720","reactions":[{"name":"+1","users":["U1M7K67EV"],"count":1}]},{"type":"message","user":"U1AU8DRQR","text":"I would still need reviewers for this: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/499\/>","ts":"1471413703.001721"},{"type":"message","user":"U1AU8DRQR","text":"<@U0TFEHX8E> <@U0XR6J961> <@U0ULK2JPP> and anybody else please have a look at it :slightly_smiling_face:","ts":"1471415567.001722"},{"type":"message","user":"U1AU8DRQR","text":"and comments\/suggestions are welcome on this: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/507\/>","ts":"1471415609.001723"},{"type":"message","user":"U1LES78TT","text":"<@U1AU8DRQR> what would you think if I managed to add a layer into the REST API to revert it to the old syntax? (without changing the Chaincode internal [][]byte format)","ts":"1471418277.001724"},{"type":"message","user":"U1AU8DRQR","text":"that would be the best think I could imagine to happen to the REST API :slightly_smiling_face:","ts":"1471418486.001725"},{"type":"message","user":"U1AU8DRQR","text":"<@U1LES78TT>: I had discussions with the others how to modify it to make it look like it was before. But we did not come to an agreement.","ts":"1471418546.001726"},{"type":"message","user":"U1AU8DRQR","text":"what is your idea, how would you do it?","ts":"1471418553.001727"},{"type":"message","user":"U1LES78TT","text":"it's not quite working yet... but I added another \"ChaincodeSpec\"-like proto which is the same as the old one","ts":"1471418594.001728"},{"type":"message","user":"U1LES78TT","text":"then in rest_api.go ProcessChaincode() I convert from one ChaincodeSpec to the other (e.g. copying function into the args and base64 encoding them all)","ts":"1471418635.001729"},{"type":"message","user":"U1AU8DRQR","text":"it could also be fixed by using some interface structure inside the go code when unmarshalling JSON. that structure must have []string args instead of [][]byte. and then one has to convert from that structure to ChaincodeInput","ts":"1471418684.001730"},{"type":"message","user":"U1AU8DRQR","text":"(I realize now this is the same that you said)","ts":"1471418713.001731"},{"type":"message","user":"U1LES78TT","text":":slightly_smiling_face:","ts":"1471418737.001732"},{"type":"message","user":"U1AU8DRQR","text":"okay then, we should do this","ts":"1471418865.001733"},{"type":"message","user":"U1AU8DRQR","text":"it is not clear whether we shuld use a new proto or just something defined inside our go source","ts":"1471418893.001734"},{"type":"message","user":"U1LES78TT","text":"I made a new proto, it made all the JSON unmarshalling easy","ts":"1471418915.001735"},{"type":"message","user":"U1LES78TT","text":"currently REST seems happy with the \"deploy\" but then the container fails behind the scenes","ts":"1471418943.001736"},{"type":"message","user":"U1LES78TT","text":"07:19:49.141 [chaincode] processStream -&gt; ERRO 02f Got error: Expecting integer value for asset holding\n07:19:49.141 [chaincode] Launch -&gt; ERRO 030 sending init failed(Error initializing container 77b0a96347f912468417493de63799e40c21842b987785b30f3cf81a6116020b60f4a88380964704e35a5e32518fea93d11da773aa0b2292f674708d38328360: Expecting integer value for asset holding)","ts":"1471418946.001737"},{"type":"message","user":"U1LES78TT","text":"that looks like it's come from the example02 code itself","ts":"1471419011.001738"},{"type":"message","user":"U1LES78TT","text":"weird","ts":"1471419012.001739"},{"type":"message","user":"U1LES78TT","text":"it got the right number of args (4) but couldn't Atoi() them","ts":"1471419126.001740"},{"type":"message","user":"U1AU8DRQR","text":"isnt it the hash inside chaincode xample 04?","ts":"1471419249.001741"},{"type":"message","user":"U1AU8DRQR","text":"be back in 30 minutes","ts":"1471419312.001742"},{"type":"message","user":"U1LES78TT","text":"I'm just trying to deploy example02","ts":"1471419375.001743"},{"type":"message","user":"U1LES78TT","text":"looks like example02 is receiving the base64 args","ts":"1471419656.001744"},{"type":"message","user":"U1LES78TT","text":"e.g. arg1 == MTAw when it should be 100","ts":"1471419708.001745"},{"type":"message","user":"U0UHG4VP1","text":"hgabor: I made sure to spread maven around this time, if there are any other issues lmk","ts":"1471419831.001746"},{"type":"message","user":"U1AU8DRQR","text":"<@U0UHG4VP1> thanks and okay ","ts":"1471419863.001747"},{"type":"message","user":"U1AU8DRQR","text":"<@U1LES78TT>: could you show some code in Gerrit? ","ts":"1471419887.001748"},{"type":"message","user":"U0UHG4VP1","text":"I was going to try to upgrade docker today but I decided to stop messing with stuff when people are trying to work :slightly_smiling_face:","ts":"1471419895.001749"},{"type":"message","user":"U1LES78TT","text":"<@U1AU8DRQR> sure, just let me figure out how :slightly_smiling_face:","ts":"1471420536.001750"},{"type":"message","user":"U1LES78TT","text":"<@U1AU8DRQR> here we go <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/531\/>","ts":"1471421058.001751"},{"type":"message","user":"U11MANG9G","text":"---","ts":"1471421771.001752"},{"type":"message","user":"U11MANG9G","text":"All, I think that `master` is broken.","ts":"1471421782.001753"},{"type":"message","user":"U1LES78TT","text":"<@U11MANG9G>: is it related to <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/533\/> ?","ts":"1471421878.001754"},{"type":"message","user":"U11MANG9G","text":"Yes. We are on it... and if we can't fix it soon, at a last-resort, we'll revert items as needed. Just a heads-up.","ts":"1471421920.001755"},{"type":"message","user":"U11MANG9G","text":"AFAICT, it's a combination of two changesets that worked separately. Just letting you know as you might see other failures that are not related to stuff you are working on.","ts":"1471421974.001756"},{"type":"message","user":"U1LES78TT","text":"does 533 not fix the issue?","ts":"1471421975.001757"},{"type":"message","user":"U11MANG9G","text":"The build for 533 is running as we 'type'","ts":"1471422013.001758"},{"type":"message","user":"U1LES78TT","text":"ok, fair enough :slightly_smiling_face:","ts":"1471422020.001759"},{"type":"message","user":"U11MANG9G","text":"The failure is in the BDDs, I'm staying up until we get it sorted.","ts":"1471422044.001760"},{"type":"message","user":"U11MANG9G","text":"(that is, it takes time for a SUCCESS\/FAILURE to pop-up)","ts":"1471422067.001761"},{"type":"message","user":"U0UHG4VP1","text":"Those BVTs are so long","ts":"1471422114.001762"},{"type":"message","user":"U1LES78TT","text":"well I hope <@U1M7K67EV>'s fix works, he has been working to speed up all of the tests (which is what led to this)","ts":"1471422138.001763"},{"type":"message","user":"U11MANG9G","text":"Same here <@U1LES78TT>. We are in touch and we'll work it out, one way or another.\nI\/we can always revert back to a stable `master`. Let's give it a round (or two) of testing...","ts":"1471422414.001764"},{"type":"message","user":"U11MANG9G","text":"[For the \"interested readers\" out there:  <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/421>]","ts":"1471422601.001765"},{"type":"message","user":"U1AU8DRQR","text":"<@U1LES78TT>: I am back and checking your Gerrit changeset.","ts":"1471422668.001766"},{"type":"message","user":"U1AU8DRQR","text":"<@U1LES78TT> gerrit says it does not exist","ts":"1471422874.001767"},{"type":"message","user":"U0UHG4VP1","text":"<@U1AU8DRQR>: I think it is published as draft","ts":"1471423104.001768"},{"type":"message","user":"U1AU8DRQR","text":"this is the link: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/531\/> but Gerrit says 'Code review - error'","ts":"1471423996.001769"},{"type":"message","user":"U0YP7KFGQ","text":"<@U0XR6J961>, <@U0ULK2JPP> :  I just submitted the stream flow control change I told last week. Can somebody review it?","ts":"1471425880.001770"},{"type":"message","user":"U0YP7KFGQ","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/535\/>","ts":"1471425902.001771"},{"type":"message","user":"U1AU8DRQR","text":"I will have a look (in an hour)","ts":"1471426212.001772"},{"type":"message","user":"U0YP7KFGQ","text":"I opened JIRA issue for it as well: <https:\/\/jira.hyperledger.org\/browse\/FAB-38>","ts":"1471426640.001773"},{"type":"message","user":"U1AU8DRQR","text":"<@U0UHG4VP1>: <@U11MANG9G> tried to revert a commit and we got an internal server error","ts":"1471429018.001774"},{"user":"U0PB67X4K","text":"<@U0PB67X4K|garisingh> has joined the channel","type":"message","subtype":"channel_join","ts":"1471431304.001775"},{"type":"message","user":"U0ZJZBJLF","text":"when I submit a gerrit review, the Signed-Off by is now automatically generated (in the commit message)?","ts":"1471442581.001776"},{"type":"message","user":"U1AU8DRQR","text":"no","ts":"1471442593.001777"},{"type":"message","user":"U1AU8DRQR","text":"git commit -s -m \"Some commit message\"","ts":"1471442603.001778"},{"type":"message","user":"U1AU8DRQR","text":"that -s does it","ts":"1471442606.001779"},{"type":"message","user":"U1AU8DRQR","text":"<@U0ZJZBJLF>","edited":{"user":"U1AU8DRQR","ts":"1471442619.000000"},"ts":"1471442612.001780"},{"type":"message","user":"U0ZJZBJLF","text":"thanks!","ts":"1471442619.001782"},{"type":"message","user":"U0ZJZBJLF","text":"I somehow thought the git review adds that","ts":"1471442641.001783"},{"type":"message","user":"U1AU8DRQR","text":"no, that is added locally and manually and with git","ts":"1471442660.001784"},{"type":"message","user":"U1AU8DRQR","text":"maybe git-review does something similar but I do not know that tool","ts":"1471442673.001785"},{"type":"message","user":"U0ULK2JPP","text":"<@U0YP7KFGQ>: sure, will review","ts":"1471442697.001786"},{"type":"message","user":"U1AU8DRQR","text":"this commit needs to be reverted: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/421> <@U1M7K67EV> created a fix but as I know (from <@U11MANG9G> ) it did not work. but we were unable to revert it, we got an internal server error.","ts":"1471442831.001787"},{"type":"message","user":"U1AU8DRQR","text":"sorry for repeating myself again and again but in the morning, <@U11MANG9G> informed me that master fails the tests","ts":"1471442867.001788"},{"type":"message","user":"U0KPFAZNF","text":"<@U1AU8DRQR>: worst case, I would image someone could do a \u201cgit revert &amp;&amp; git push\u201d and treat it as a new change set","ts":"1471443849.001789"},{"type":"message","user":"U1AU8DRQR","text":"<@U0KPFAZNF>: I will do that, you are right - I missed again the trivial solution. :slightly_smiling_face: But it would be good to have a working revert button. :slightly_smiling_face:","ts":"1471443945.001790"},{"type":"message","user":"U1AU8DRQR","text":"maybe this: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/553\/> <@U1M7K67EV> <@U11MANG9G>","ts":"1471444745.001791"},{"type":"message","user":"U1VG8LNP3","text":"How can i re-trigger jenkins build in gerrit?  reply with \"recheck\"?","ts":"1471453146.001792"},{"type":"message","user":"U11HH3P7Y","text":"try with reverify","ts":"1471453197.001793"},{"type":"message","user":"U1VG8LNP3","text":"thanks","ts":"1471453248.001794"},{"type":"message","user":"U0UHG4VP1","text":"I don\u2019t think we have those comment triggers set up","ts":"1471460038.001795"},{"type":"message","user":"U0UHG4VP1","text":"oh, I guess we do","ts":"1471460073.001796"},{"type":"message","user":"U1M7K67EV","text":"Sorry all for the chaos I caused, I hope it didn't cause too much stress for those involved.","ts":"1471478040.001797"},{"type":"message","user":"U11MANG9G","text":"<@U1M7K67EV> come on, we are in this business because we like the stress.","ts":"1471480637.001798"},{"type":"message","user":"U1M7K67EV","text":"touche :slightly_smiling_face:","ts":"1471480681.001799"},{"type":"message","user":"U1M7K67EV","text":"It could have been worse, it could have been a production box","ts":"1471480698.001800"},{"type":"message","user":"U11MANG9G","text":"I don't think it was your thing per-se. We have to fix FAB-5 and make sure that our builds a `lot more` deterministic.","ts":"1471480713.001801"},{"type":"message","user":"U11MANG9G","text":"If not 100%...","ts":"1471480723.001802"},{"type":"message","user":"U11MANG9G","text":"Let's put it this way, I tend to be more permissive in your attempts to improve and shorter the build-time, because the benefits are huge. We wait so much for builds, and need much shorter cycles.","ts":"1471480792.001803","reactions":[{"name":"relieved","users":["U1M7K67EV"],"count":1}]},{"type":"message","user":"U11MANG9G","text":"At the same time, it's difficult to make the right call, late at night, when 3 build triggers give us 3 different results... but I guess the way to Mordor is full of ...  and pain :wink:","ts":"1471480910.001804"},{"type":"message","user":"U11MANG9G","text":"That said, I'm not sure I want to be Frodo :wink:","ts":"1471480935.001805"},{"type":"message","user":"U0UHG4VP1","text":"What is the long pole in the build?","ts":"1471481091.001806"},{"type":"message","user":"U0UHG4VP1","text":"Last night it looked like Geg behave tests were ~18 minutes IIRC","ts":"1471481129.001807"},{"type":"message","user":"U11HH3P7Y","text":"Unit tests  are taking around ~25-30 mins and functional tests (behave) ~18 mins","ts":"1471483175.001808"},{"type":"message","user":"U0UHG4VP1","text":"is there any reason to not have two jobs?","ts":"1471483452.001809"},{"type":"message","user":"U0UHG4VP1","text":"I guess it would only save ~18 minutes overall","ts":"1471483473.001810"},{"type":"message","user":"U0UHG4VP1","text":"ramesh: it was something in the upgraded docker image that caused the hang. I\u2019ve reverted to the previous image.","ts":"1471484456.001811"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: wondering if you can sort out something for me","ts":"1471484631.001812"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins: I will try","ts":"1471484641.001813"},{"type":"message","user":"U0KPFAZNF","text":"I am noticing that certain bug reports have my old <mailto:ghaskins@novell.com|ghaskins@novell.com> address attached to them somehow","ts":"1471484654.001814"},{"type":"message","user":"U0KPFAZNF","text":"not sure where that is coming from","ts":"1471484658.001815"},{"type":"message","user":"U0UHG4VP1","text":"example?","ts":"1471484663.001816"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/319\/>","ts":"1471484668.001817"},{"type":"message","user":"U0KPFAZNF","text":"note in the reviewer list: there is \u201cGreg Haskins\u201d and \u201cGregory Haskins\"","ts":"1471484682.001818"},{"type":"message","user":"U0KPFAZNF","text":"its the Gregory one that seems to be attached to my old email","ts":"1471484695.001819"},{"type":"message","user":"U0UHG4VP1","text":"when was the last time that you used that address with this project? ever?","ts":"1471484718.001820"},{"type":"message","user":"U0KPFAZNF","text":"heh, never","ts":"1471484724.001821"},{"type":"message","user":"U0KPFAZNF","text":"its been almost 5 years since I worked tere","ts":"1471484734.001822"},{"type":"message","user":"U0KPFAZNF","text":"there","ts":"1471484735.001823"},{"type":"message","user":"U0UHG4VP1","text":"did you ever use it on any other LF project?","ts":"1471484741.001824"},{"type":"message","user":"U0KPFAZNF","text":"i am assuming it is some vestige of my LFID","ts":"1471484753.001825"},{"type":"message","user":"U0UHG4VP1","text":"your former LFID?","ts":"1471484770.001826"},{"type":"message","user":"U0KPFAZNF","text":"im sure I did, I did a ton of kernel work with that address","ts":"1471484772.001827"},{"type":"message","user":"U0KPFAZNF","text":"not sure, remember how I had that problem logging in and you helped me straighten it out","ts":"1471484805.001828"},{"type":"message","user":"U0KPFAZNF","text":"i am assuming some how the email got attached\/merged\/whatever","ts":"1471484821.001829"},{"type":"message","user":"U0KPFAZNF","text":"I just dont know where that is even coming from","ts":"1471484847.001830"},{"type":"message","user":"U0UHG4VP1","text":"interesting.","ts":"1471484861.001831"},{"type":"message","user":"U0KPFAZNF","text":"Maybe Patrick explicitly added that reviewer list","ts":"1471484885.001832"},{"type":"message","user":"U0UHG4VP1","text":"I suspect the hackfest was\u2026 three weeks 22 hours ago? :slightly_smiling_face:","ts":"1471484914.001833"},{"type":"message","user":"U11MANG9G","text":"LOL :wink:","ts":"1471484921.001834"},{"type":"message","user":"U11MANG9G","text":"A pseudo-random guess, I'd guess.","ts":"1471484932.001835"},{"type":"message","user":"U0KPFAZNF","text":"seems reasonable, though I wasnt able to attend that","ts":"1471484945.001836"},{"type":"message","user":"U0UHG4VP1","text":"oh, hmm. My next guess is you have it associated with an openID (github? facebook?) and you logged in with it","ts":"1471484975.001837"},{"type":"message","user":"U0KPFAZNF","text":"its got to be something like that","ts":"1471484986.001838"},{"type":"message","user":"U0KPFAZNF","text":"let me look at my LFID setup","ts":"1471484993.001839"},{"type":"message","user":"U1LES78TT","text":"<@U1AU8DRQR> oops sorry... didn't realise drafts weren't publicly viewable... now I'm wondering what the point of drafts are","ts":"1471485054.001840"},{"type":"message","user":"U1LES78TT","text":"I guess I should have added you as a reviewer to let you see it","ts":"1471485148.001841"},{"type":"message","user":"U0UHG4VP1","text":"bgorman: I think if you add other people they can see it.","ts":"1471485445.001842"},{"type":"message","user":"U1LES78TT","text":"<@U0UHG4VP1> are you able to view <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/531\/> now?","ts":"1471485524.001843"},{"type":"message","user":"U0UHG4VP1","text":"bgorman: yes I am","ts":"1471485584.001844"},{"type":"message","user":"U1LES78TT","text":"cool, thanks. Mystery solved :slightly_smiling_face:","ts":"1471485593.001845","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0UHG4VP1","text":"Most pending changes on Gerrit will need rebased to the tip of master","ts":"1471496608.001846"},{"type":"message","user":"U1AU8DRQR","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/551\/> some easy-to-review changeset","ts":"1471504719.001847"},{"type":"message","user":"U0YNFB22X","text":"Hi <@U1AU8DRQR> , I am trying to rebase your changes from  <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/317\/> into mine, and its pending review at <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/415\/>","ts":"1471505081.001848"},{"type":"message","user":"U1AU8DRQR","text":"do you do it locally?","ts":"1471505125.001849"},{"type":"message","user":"U0YNFB22X","text":"As part of this change, I am removing the duplicated chaincode.proto file inside the java-shim.","ts":"1471505132.001850"},{"type":"message","user":"U0YNFB22X","text":"When looking at your change @ c-317, the chaincode.proto is slightly different.","ts":"1471505179.001851"},{"type":"message","user":"U0YNFB22X","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/317\/17\/core\/chaincode\/shim\/java\/src\/main\/proto\/chaincode.proto>","ts":"1471505185.001852"},{"type":"message","user":"U0YNFB22X","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/317\/17\/protos\/chaincode.proto>","ts":"1471505200.001853"},{"type":"message","user":"U0YNFB22X","text":"`message ChaincodeInput {\n    repeated bytes args  = 1;\n}`","ts":"1471505212.001854"},{"type":"message","user":"U0YNFB22X","text":"the file under java shim has `repeated bytes args  = 2;`","ts":"1471505306.001855"},{"type":"message","user":"U0YNFB22X","text":"Is there a specific reason ?","ts":"1471505335.001856"},{"type":"message","user":"U0YNFB22X","text":"When I am trying to build with `repeated bytes args  = 1;`, the java layer parses the message payload to get an empty argsList. However it works fine if I leave the field number to 2.","ts":"1471505458.001857"},{"type":"message","user":"U0YNFB22X","text":"<@U1AU8DRQR>: Yes, I am doing it locally to update my gerrit request","ts":"1471505556.001858"},{"type":"message","user":"U0YNFB22X","text":"Since it cant be merged as it is.","ts":"1471505582.001859"},{"type":"message","user":"U1AU8DRQR","text":"the two files should be the same. I left them with \"= 2\" but Sheehan corrected it. But it seems that she forgot to correct the java one","ts":"1471505617.001860"},{"type":"message","user":"U1LES78TT","text":"hmm... I wonder if I'm going to fall afoul of that Java stuff with my REST changes (I regenerated the protos)","ts":"1471505855.001861"},{"type":"message","user":"U1AU8DRQR","text":"<@U1LES78TT>: how would you?","ts":"1471505888.001862"},{"type":"message","user":"U1LES78TT","text":"regenerating the protos changes that 2 to a 1","ts":"1471505908.001863"},{"type":"message","user":"U1LES78TT","text":"I didn't see any Java code get updated either","ts":"1471505918.001864"},{"type":"message","user":"U1AU8DRQR","text":"I dont think that if the only field is args and one has changed the field number from 2 to 1 then that would induce any code change","ts":"1471505974.001865"},{"type":"message","user":"U1LES78TT","text":"that is not what <@U0YNFB22X> is describing","ts":"1471506144.001866"},{"type":"message","user":"U1LES78TT","text":"I'll find out soon enough though.... whenever these tests pass\/fail .... \/yawn","ts":"1471506173.001867"},{"type":"message","user":"U0YNFB22X","text":"<@U1LES78TT>, In the current master branch, chaincode.proto is duplicated. Also you might want to remove the generated java class Chaincode.java","ts":"1471506556.001868"},{"type":"message","user":"U1LES78TT","text":"really? crap\n\n$ find . -name chaincode.proto\n.\/core\/chaincode\/shim\/chaincode.proto\n.\/core\/chaincode\/shim\/java\/src\/main\/proto\/chaincode.proto\n.\/protos\/chaincode.proto\n.\/sdk\/node\/lib\/protos\/chaincode.proto","ts":"1471506625.001869"},{"type":"message","user":"U0YNFB22X","text":"In current gradle build, the build doesn't detect a change in proto file, and regenerate the .java files from .proto. I am modifying this in the change 415, to force copy .proto file and regenerate the .java files","edited":{"user":"U0YNFB22X","ts":"1471506753.000000"},"ts":"1471506661.001870"},{"type":"message","user":"U0YNFB22X","text":"`.\/protos\/chaincode.proto` and `.\/core\/chaincode\/shim\/java\/src\/main\/proto\/chaincode.proto` should be same","ts":"1471506681.001871"},{"type":"message","user":"U0YNFB22X","text":"if you change `.\/core\/chaincode\/shim\/java\/src\/main\/proto\/chaincode.proto`, remove these these files Chaincode.java, ChaincodeSupportGrpc.java and Chaincodeevent.java","ts":"1471506734.001872"},{"type":"message","user":"U1LES78TT","text":"I might just leave all that alone... I changed the protos purely for the rest interface's benefit, it should have no impact on Java","ts":"1471506750.001873"},{"type":"message","user":"U1AU8DRQR","text":"just a sidenote: I suggested to remove all the generated files (java and go). this way we could have build steps to: 1) distribute the protos to all directories where they are needed (copy from \/protos to java\/protos) 2) generate sources","edited":{"user":"U1AU8DRQR","ts":"1471506867.000000"},"ts":"1471506855.001875"},{"type":"message","user":"U0YNFB22X","text":"I agree with <@U1AU8DRQR>, we should remove generated files.","ts":"1471507179.001877"},{"type":"message","user":"U1AU8DRQR","text":"the others said that those files were added because the initial build system was unable to generate them","ts":"1471507251.001878"},{"type":"message","user":"U1AU8DRQR","text":"but as I know make is","ts":"1471507258.001879"},{"type":"message","user":"U1AU8DRQR","text":"and we could use gradle instead of make :stuck_out_tongue:","ts":"1471507268.001880"},{"type":"message","user":"U1LES78TT","text":"make can copy files as needed :stuck_out_tongue:","ts":"1471507468.001881"},{"type":"message","user":"U1LES78TT","text":"b: a\n  cp a b","ts":"1471507501.001882"},{"type":"message","user":"U1AU8DRQR","text":"yes I know but it is generally considered hard to write good Makefiles","ts":"1471508359.001883"},{"type":"message","user":"U0YNFB22X","text":"<@U1AU8DRQR>: Now I know why it didn't work. chaincode.pb.go was not generated again after changing the field number","ts":"1471508429.001884"},{"type":"message","user":"U0YNFB22X","text":":relaxed:","ts":"1471508456.001885"},{"type":"message","user":"U1AU8DRQR","text":"as I remember, Sheehan submitted a patch for that","ts":"1471508459.001886"},{"type":"message","user":"U1AU8DRQR","text":"isnt it merged?","ts":"1471508464.001887"},{"type":"message","user":"U0YNFB22X","text":"Its not merged <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/501\/>","ts":"1471508493.001888"},{"type":"message","user":"U1AU8DRQR","text":"okay I will try to take care of that","ts":"1471508716.001889"},{"type":"message","user":"U1AU8DRQR","text":"to merge it","ts":"1471508719.001890"},{"type":"message","user":"U1AU8DRQR","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/406\/console> - locally, the commit works, no error in the unit tests...","ts":"1471514795.001891"},{"type":"message","user":"U0YNFB22X","text":"<@U1AU8DRQR>: Looks like a transient error not being able to download jar, you might want to retrigger the jenkins job","ts":"1471517034.001892"},{"type":"message","user":"U1AU8DRQR","text":"yes, thanks :slightly_smiling_face: I retrigger it","ts":"1471517174.001893"},{"type":"message","user":"U1AU8DRQR","text":"REST API related question:\nas you know, REST API needs base64 strings as arguments since <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/317\/> got reviewed and merged\nBut the users do not know about this (no docs tell them).\nTo solve this ASAP: we have to\n1) merge those docs <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/499\/>\n2) workaround rest api to use string as it used to <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/531\/>\n<@U0TFEHX8E> <@U0KM61BCP> <@U0XR6J961> <@U0ULK2JPP>","ts":"1471518561.001894"},{"type":"message","user":"U0KM61BCP","text":"<!channel>: <http:\/\/lists.hyperledger.org\/pipermail\/hyperledger-fabric\/2016-August\/000248.html>","ts":"1471523420.001895"},{"type":"message","user":"U0KM61BCP","text":"<@U1AU8DRQR>: 531 needs to be rebased before it can be merged. 499 should be changed to reflect 531.","ts":"1471523971.001896"},{"type":"message","user":"U1AU8DRQR","text":"531 breaks some tests, I am working on it","ts":"1471524604.001897"},{"type":"message","user":"U1AU8DRQR","text":"<@U0KM61BCP>","ts":"1471524614.001898"},{"type":"message","user":"U0PB67X4K","text":"how about release notes rather than mailing lists?","ts":"1471524921.001899"},{"type":"message","user":"U0PB67X4K","text":":wink:","ts":"1471524922.001900"},{"type":"message","user":"U0PB67X4K","text":"or let's tag things before we break them  :wink:","ts":"1471524938.001901"},{"type":"message","user":"U0PB67X4K","text":"I'll be honest - as someone who simply wants to use this stuff, I don't want to follow mailing lists","ts":"1471524965.001902"},{"type":"message","user":"U0PB67X4K","text":"(well if I was someone who simply wanted to use the stuff  :wink: )","ts":"1471524986.001903"},{"type":"message","user":"U0PB67X4K","text":"we should probably just keep people who really want to build apps today on the v0.5 preview","ts":"1471525022.001904"},{"type":"message","user":"U1AU8DRQR","text":"<@U0PB67X4K>: I think tags+release notes is a good idea. on the other side, we should have the mailing list + something that announces new mails here","ts":"1471526450.001905"},{"type":"message","user":"U0PB67X4K","text":"agreed","ts":"1471526530.001906"},{"type":"message","user":"U0KM61BCP","text":"then we actually need to be doing releases - this would be my preference, TBH rather than once a quarter we should be cutting stable releases frequently and getting into a groove","ts":"1471527293.001907"},{"type":"message","user":"U0KM61BCP","text":"however, summertime, is challenging though to get decisions made","ts":"1471527326.001908"},{"type":"message","user":"U0PB67X4K","text":"<@U0KM61BCP> - sure.  so I guess in the short term, if we make breaking changes in master, people will be at risk of their applications breaking - which is probably OK given that it is master and then are living on the edge.  But then that means we need a way to point people to the \"stable\" releases and at this point the only \"stable\" release is v0.5","ts":"1471527531.001909"},{"type":"message","user":"U0PB67X4K","text":"maybe this is not the right place for this, but I also notice that a lot of people who simply want to build chaincode and apps are struggling trying to get environments running.  They really should not ever have to build \/ compile anything.  We need a way to point them to using the correct Docker images.  Just my not-so-humble opinion","ts":"1471527604.001910"},{"type":"message","user":"U0PB67X4K","text":"(or course they can all just go use our BMX service too  :wink: )","ts":"1471527619.001911"},{"type":"message","user":"U0KM61BCP","text":"<@U0PB67X4K>: agreed, and I am working on a chaincode development image that people can just use","ts":"1471527908.001912"},{"type":"message","user":"U0KM61BCP","text":"and I think we want to be more formally embracing chaintool <@U0KPFAZNF>","ts":"1471527938.001913","reactions":[{"name":"+1","users":["U0KPFAZNF","U1AU8DRQR","U12452RAP"],"count":3}]},{"type":"message","user":"U0PB67X4K","text":"I do not think I can endorse any <@U0KPFAZNF>   created work.   haha  - just kidding","edited":{"user":"U0PB67X4K","ts":"1471528141.000000"},"ts":"1471528126.001914"},{"type":"message","user":"U0KPFAZNF","text":"doh!","ts":"1471528138.001915"},{"type":"message","user":"U0PB67X4K","text":"(I need to entertain myself sometimes - sorry)","ts":"1471528156.001917"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1471528161.001918"},{"type":"message","user":"U1AU8DRQR","text":":smile:","ts":"1471528168.001919"},{"type":"message","user":"U0Z41KY5V","text":"<@U0KM61BCP>: About the dev image, do u mean vm or Docker? For the latter, would like to offer a hand :slightly_smiling_face:","ts":"1471531439.001920"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> <@U11HH3P7Y> FYI, <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/571\/>","ts":"1471576489.001921"},{"type":"message","user":"U0KPFAZNF","text":"i started to tackle some of the shortcomings with versioning\u2026though its still WIP for now","ts":"1471576506.001922"},{"type":"message","user":"U0KPFAZNF","text":"but wanted to get your thoughts","ts":"1471576511.001923"},{"type":"message","user":"U0KPFAZNF","text":"I marked it with a -1 so its not going to get merged by accident","ts":"1471576548.001924"},{"type":"message","user":"U12452RAP","text":"where is 0.5 branch now? still github?","ts":"1471590227.001925"},{"type":"message","user":"U0Z41KY5V","text":"i guess so","ts":"1471592211.001926"},{"type":"message","user":"U0PB67X4K","text":"<@U12452RAP>:   correct.  the 0.5 branch is frozen in the \"old\" github repo","ts":"1471594023.001927"},{"type":"message","user":"U12452RAP","text":"thanks, guys","ts":"1471595962.001928"},{"type":"message","user":"U1AU8DRQR","text":"could anybody help me with this? <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/567\/> I mean the failing tests","ts":"1471596542.001929"},{"type":"message","user":"U0PB67X4K","text":"<@U1AU8DRQR>:     does this line pass in unit tests  `ctorbytes, merr := asn1.Marshal(chaincodeInvocationSpec.ChaincodeSpec.CtorMsg)` ?","ts":"1471597539.001930"},{"type":"message","user":"U1AU8DRQR","text":"locally it passed them","ts":"1471597566.001931"},{"type":"message","user":"U0PB67X4K","text":"shouldn't you be marshaling the args ?","ts":"1471597567.001932"},{"type":"message","user":"U1AU8DRQR","text":"I marshall all the ctormsg","ts":"1471597586.001933"},{"type":"message","user":"U1VG8LNP3","text":"Same problem.","ts":"1471597597.001934"},{"type":"message","user":"U1AU8DRQR","text":"which is ChaincodeInput{ Args :: [][]byte }","ts":"1471597604.001935"},{"type":"message","user":"U0PB67X4K","text":"right.  but how would the asn1 encoder know how to marshal \/ unmarshal protobufs?  maybe I am just missing something (so sorry if I am)","ts":"1471597651.001936"},{"type":"message","user":"U0PB67X4K","text":"I am looking at the error `Assertion Failed: Failed to POST to <http:\/\/172.17.0.37:7050\/devops\/invoke>:  {\"Error\": \"Error marshalling constructor: asn1: structure error: unknown Go type: *protos.ChaincodeInput\"}`","ts":"1471597704.001937"},{"type":"message","user":"U1AU8DRQR","text":"ChaincodeInput is just a go struct. maybe I missed something but for me it seemed that Go's ASN1 can marshal any Go interface","ts":"1471597735.001938"},{"type":"message","user":"U1AU8DRQR","text":"but you may be right if it is really there, the error","ts":"1471597751.001939"},{"type":"message","user":"U1AU8DRQR","text":"ooh","ts":"1471597753.001940"},{"type":"message","user":"U1AU8DRQR","text":"are you looking at this? <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/421\/consoleFull>","ts":"1471597814.001941"},{"type":"message","user":"U1AU8DRQR","text":"btw this fails on master (for me at least):   peer_basic.feature:896  chaincode example02 with 4 peers and 1 membersrvc, test crash fault -- @1.1 Consensus Options","ts":"1471597911.001942"},{"type":"message","user":"U0PB67X4K","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/421\/testReport\/junit\/peer_basic\/Network%20of%20Peers\/chaincode_map_single_peer_content_generated_ID\/>","ts":"1471598052.001943"},{"type":"message","user":"U1AU8DRQR","text":"Shouldn't that have made other tests even unit tests fail?","ts":"1471598395.001944"},{"type":"message","user":"U0XR6J961","text":"hgabor: you can't marshal pointers, just embedded structs","ts":"1471598572.001945"},{"type":"message","user":"U0PB67X4K","text":"maybe not since it looks like that is only hit if you set the customIDgenAlg flag","ts":"1471598583.001946"},{"type":"message","user":"U1AU8DRQR","text":"Oh right ","ts":"1471598989.001947"},{"type":"message","user":"U1AU8DRQR","text":"Is it enough to just dereference it?","ts":"1471599855.001948"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/571\/>  I took your advice about the relationship of the binary version to yaml and removed it","ts":"1471613050.001949"},{"type":"message","user":"U0KPFAZNF","text":"its baked into the binary now, which I think is the right direction","ts":"1471613061.001950"},{"type":"message","user":"U0KPFAZNF","text":"let me know your thoughts on that patch","ts":"1471613080.001951"},{"user":"U0YK3KKCY","text":"<@U0YK3KKCY|harrijk> has joined the channel","type":"message","subtype":"channel_join","ts":"1471613343.001952"},{"type":"message","user":"U0YNFB22X","text":"Submitted the <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/415\/> after rebasing with master again since new commits caused merge conflict.","ts":"1471629156.001953"},{"user":"U2368MLAW","text":"<@U2368MLAW|adrianclv> has joined the channel","type":"message","subtype":"channel_join","ts":"1471638627.001954"},{"user":"U190439J6","text":"<@U190439J6|kell> has joined the channel","type":"message","subtype":"channel_join","ts":"1471707544.001955"},{"type":"message","user":"U0ZJZBJLF","text":"Anyone on?","ts":"1471769028.001958"},{"type":"message","user":"U0PB67X4K","text":"depends :wink:","ts":"1471780387.001959"},{"type":"message","user":"U11MANG9G","text":"Good morning\/afternoon\/evening, <@U0MT4CBHB>, <@U0KPFAZNF>, <@U0TFEHX8E>, et al., can we give <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/455\/> some love?","ts":"1471803139.001960"},{"type":"message","user":"U11MANG9G","text":"We need to get the sdk\/node tests running as part of the cycle (there are related issues that depend on it)","ts":"1471803217.001961"},{"type":"message","user":"U0UHG4VP1","text":"<@U11MANG9G>: please update the commit message and re-add  <@U1AU8DRQR> 's sign off on the line above yours. I know it's persnickety but that's how the attribution works","ts":"1471818748.001962"},{"type":"message","user":"U1M7K67EV","text":"So the certificates used for TLS in the BDD tests have expired","ts":"1471844360.001991"},{"type":"message","user":"U1M7K67EV","text":"Does anyone know how to generate new ones or ignore certificate errors in the peers?","ts":"1471844385.001992"},{"type":"message","user":"U11MANG9G","text":"Yes, but btw, I am bout to remove these.","ts":"1471845546.001993"},{"type":"message","user":"U11MANG9G","text":"These are generated by the TLSCA... I have an issue open that I'm about to update.","ts":"1471845585.001994"},{"type":"message","user":"U11MANG9G","text":"<@U1M7K67EV> ^^^","ts":"1471845612.001995"},{"type":"message","user":"U1VG8LNP3","text":"When i upload commit to gerrit by \"git-review\" or \"git push origin refs\/for\/master\", it returns \"you are not allowed to upload merges\". Does anyone knows the problem?","ts":"1471845918.001996"},{"type":"message","user":"U11MANG9G","text":"@yauguo: `git review -R` ?","ts":"1471846309.001997"},{"type":"message","user":"U11MANG9G","text":"<@U1M7K67EV>: as discussed directly, go ahead with your other changes regardless of the TLS test.","ts":"1471846345.001998"},{"type":"message","user":"U11MANG9G","text":"We can pair on FAB-213 or so.","ts":"1471846362.001999"},{"type":"message","user":"U1VG8LNP3","text":"<@U11MANG9G> Not work.  It should work before this week.","ts":"1471847990.002000"},{"type":"message","user":"U0UHG4VP1","text":"<@U1VG8LNP3>: 'git push origin HEAD:refs\/for\/master' doesn't work?","ts":"1471848601.002001"},{"type":"message","user":"U0UHG4VP1","text":"Oh, you have a merge.","ts":"1471848622.002002"},{"type":"message","user":"U0UHG4VP1","text":"git rebase -i origin\/master","ts":"1471848648.002003"},{"type":"message","user":"U0UHG4VP1","text":"You aren't allowed (nobody is) to push merges","ts":"1471848669.002004"},{"type":"message","user":"U0UHG4VP1","text":"It sounds like you made a change and then did a git pull from master, which made a merge commit","ts":"1471848769.002005"},{"type":"message","user":"U0UHG4VP1","text":"Anyway, something like git reset HEAD~ &amp;&amp; git fetch origin master &amp;&amp; git rebase -i FETCH_HEAD &amp;&amp; git push ... should get you there. You will need to git reset to your change (git log -1 shows just your change)","ts":"1471848956.002006"},{"type":"message","user":"U0UHG4VP1","text":"This is close, I cannot test the commands on my iPad","ts":"1471848974.002007"},{"type":"message","user":"U1VG8LNP3","text":"<@U0UHG4VP1> Thanks. You're right. I did a git pull and tried to rebase my branch before upload.","ts":"1471849002.002008"},{"type":"message","user":"U0UHG4VP1","text":"So you're almost there","ts":"1471849023.002009"},{"type":"message","user":"U0UHG4VP1","text":"You'll obviously need to fetch and rebase on the right branch.","ts":"1471849081.002010"},{"type":"message","user":"U1VG8LNP3","text":"\"git rebase -i origin\/master\" works.","ts":"1471849128.002011"},{"type":"message","user":"U1VG8LNP3","text":"Thanks again.","ts":"1471849146.002012"},{"type":"message","user":"U0UHG4VP1","text":"Ok, and git log shows the change you want at the tip?","ts":"1471849150.002013"},{"type":"message","user":"U0UHG4VP1","text":"You're very welcome ","ts":"1471849156.002014"},{"type":"message","user":"U1VG8LNP3","text":"Yes. And push to gerrit successfully.","ts":"1471849212.002015","reactions":[{"name":"+1","users":["U0UHG4VP1","U11MANG9G"],"count":2}]},{"type":"message","user":"U0ZJZBJLF","text":"who's \"responsible\" for the java shim?","ts":"1471851493.002016"},{"type":"message","user":"U0ZJZBJLF","text":"(Who can i consult with, regarding the gradle file in the java shim)","ts":"1471851517.002017"},{"type":"message","user":"U0UHG4VP1","text":"Which file exactly?","ts":"1471851553.002018"},{"type":"message","user":"U0ZJZBJLF","text":"the gradle config file","ts":"1471851561.002019"},{"type":"message","user":"U0ZJZBJLF","text":"core\/chaincode\/shim\/java\/build.gradle","ts":"1471851601.002020"},{"type":"message","user":"U0UHG4VP1","text":"it looks like <@U1AU8DRQR> was the last person to modify it","ts":"1471851632.002021"},{"type":"message","user":"U0ZJZBJLF","text":"I'm doing the JIRA issue that involves upgrading the protobuf version from the version we have to the latest, and I was wondering if it needs to be changed too to accommodate possible changes in the go generated pb.go files (i hope not)","ts":"1471851688.002022"},{"type":"message","user":"U0UHG4VP1","text":"it looks like <mailto:xspeedcruiser@gmail.com|xspeedcruiser@gmail.com> wrote it, but I don\u2019t know their handle in here","ts":"1471851771.002023"},{"type":"message","user":"U0ZJZBJLF","text":"ok thanks","ts":"1471851778.002024"},{"type":"message","user":"U1AU8DRQR","text":"what did I do? :slightly_smiling_face:","ts":"1471852101.002025"},{"type":"message","user":"U0ZJZBJLF","text":"com.google.protobuf:protoc:3.0.0-beta-2","ts":"1471852402.002026"},{"type":"message","user":"U0ZJZBJLF","text":"you have any idea if this needs to be upgraded?","ts":"1471852408.002027"},{"type":"message","user":"U0ZJZBJLF","text":"if I'm upgrading the protobuf pb.go files to version 3 not-beta?","edited":{"user":"U0ZJZBJLF","ts":"1471852467.000000"},"ts":"1471852417.002028"},{"type":"message","user":"U1AU8DRQR","text":"no clue. wait I will have a look at that gradle file","ts":"1471852890.002030"},{"type":"message","user":"U1AU8DRQR","text":"I guess it needs","ts":"1471852960.002031"},{"type":"message","user":"U1AU8DRQR","text":"but that change means upgrade for the \"go-side\" protobuf, right?","ts":"1471852992.002032"},{"type":"message","user":"U0ZJZBJLF","text":"I'm upgrading the go-side and I'm asking what (if any) change do i need to do to the java side (the \"java shim\" tests passed (*I think*) ). Does java create a descriptor how to serialize the protobuf entities in runtime? (i think it does)","edited":{"user":"U0ZJZBJLF","ts":"1471853217.000000"},"ts":"1471853095.002033"},{"type":"message","user":"U0ZJZBJLF","text":"My assumption is that if any change will be needed, it's only to up the version in the gradle file","ts":"1471853167.002034"},{"type":"message","user":"U1AU8DRQR","text":"I think your assumption is right. (but I am not really an expert of this)","ts":"1471853219.002036"},{"type":"message","user":"U1AU8DRQR","text":"if you up that version in that gradle, it will download a newer gradle and use that","ts":"1471853261.002037"},{"type":"message","user":"U1AU8DRQR","text":"afaik","ts":"1471853264.002038"},{"user":"U23GLSTS4","text":"<@U23GLSTS4|jlamiel> has joined the channel","type":"message","subtype":"channel_join","ts":"1471854635.002039"},{"type":"message","user":"U12452RAP","text":"--- FAIL: TestChaincodeInvokeChaincode (43.12s)\n        exectransaction_test.go:800: TestChaincodeInvokeChaincode starting\n        db_test_exports.go:47: Creating testDB\n        exectransaction_test.go:854: deployed chaincode_example02 got cID1:path:\"<http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02>\" name:\"b4b3a128ae54cb216bc979789a10da53e3f779fe1a6491f7f6bc983a42f3e0d57ab85c15589c632fbd3df3c7ff6d8c5bb5b48acec70cb231c9ca4b4d6d83c235\" ,\n                 chaincodeID1:b4b3a128ae54cb216bc979789a10da53e3f779fe1a6491f7f6bc983a42f3e0d57ab85c15589c632fbd3df3c7ff6d8c5bb5b48acec70cb231c9ca4b4d6d83c235\n        exectransaction_test.go:891: Error invoking &lt;579dd137665f544d367e6ff9822fd1fce3ce31cfe7d6962788da37e13eb44db882dd3b03b38c10192e5e5550f37319e5ccaa2d031ddc7280e2226c5703c5a187&gt;: Transaction or query returned with failure: [70512126-ad09-41a1-86c7-7b453f690147]Chaincode handler FSM cannot handle message (ERROR) with payload size (269) while in state: ready\n08:27:02.804 [chaincode] NewChaincodeSupport -&gt; INFO 024 Chaincode support using peerAddress: 0.0.0.0:21212\ngetting deployment spec for chaincode spec: type:GOLANG chaincodeID:&lt;path:\"github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02\" &gt; ctorMsg:&lt;args:\"init\" args:\"a\" args:\"100\" args:\"b\" args:\"200\" &gt; \n08:27:02.810 [container] WriteGopathSrc -&gt; INFO 025 rootDirectory = \/opt\/gopath\/src\ngetting deployment spec for chaincode spec: type:GOLANG chaincodeID:&lt;path:\"github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/passthru\" &gt; ctorMsg:&lt;args:\"init\" &gt; \n08:27:19.503 [container] WriteGopathSrc -&gt; INFO 026 rootDirectory = \/opt\/gopath\/src\n08:27:43.652 [chaincode] processStream -&gt; ERRO 027 Got error: Incorrect number of arguments. Expecting 3\n08:27:43.653 [chaincode] processStream -&gt; ERRO 028 Got error: Incorrect number of arguments. Expecting 3\n08:27:43.668 [chaincode] processStream -&gt; ERRO 029 Error handling chaincode support stream: connection error: desc = \"transport is closing\"\n08:27:43.752 [chaincode] processStream -&gt; ERRO 02a Error handling chaincode support stream: connection error: desc = \"transport is closing\"","ts":"1471855155.002040"},{"type":"message","user":"U12452RAP","text":"anyone meet this error with latest code?","ts":"1471855179.002041"},{"type":"message","user":"U1AU8DRQR","text":"<@U12452RAP> I always meet this","ts":"1471855216.002042"},{"type":"message","user":"U1AU8DRQR","text":"there is a file: core\/container\/dockercontroller\/dockercontroller.go could you modigy its 235th line from !dontremove to false (we do not want to remove the container for testing), rebuild peer and peer-image and then rerun just this unit test (cd into core\/chaincode and run go test -run \"TestChaincodeInvoke\") and send me the container logs? (docker ps and then you will find some recent containers there)","ts":"1471855372.002043"},{"type":"message","user":"U1AU8DRQR","text":"for me, the problem used to be that there is a hash in chaincode_example04 which is for chaincode_example02. and it usually changes (no clue how, maybe if you change something that is needed for the build of chaincode_example01 then the binary is changed and the hash is changed too)","ts":"1471855442.002044"},{"type":"message","user":"U1AU8DRQR","text":"docker ps -a is the right command as the containers will be stopped but not deleted","ts":"1471855957.002045"},{"type":"message","user":"U12452RAP","text":"maybe","ts":"1471856105.002046"},{"type":"message","user":"U12452RAP","text":"i met this first time","ts":"1471856113.002047"},{"type":"message","user":"U12452RAP","text":"i remember i delete three chaincode binary","ts":"1471856136.002048"},{"type":"message","user":"U1AU8DRQR","text":"yes and this is the way you can debug it :slightly_smiling_face: if you find something like: could not get deploy transaction for... then it is surely the hash problem I told","ts":"1471856153.002049"},{"type":"message","user":"U1AU8DRQR","text":"I mean if you find that in the logs somewhere","ts":"1471856170.002050"},{"type":"message","user":"U0UHG4VP1","text":"protip: if you\u2019re pasting a bunch of text, click the + next to the text box, and upload it as a snippet. it lets people expand and contract it, and copy\/paste it without formatting changes","ts":"1471856264.002051"},{"type":"message","user":"U12452RAP","text":"thanks <@U0UHG4VP1>","ts":"1471856291.002052"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F23H2FSUD\/like_this.txt|like this>","file":{"id":"F23H2FSUD","created":1471856317,"timestamp":1471856317,"name":"like_this.txt","title":"like this","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":2136,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F23H2FSUD\/like_this.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F23H2FSUD\/download\/like_this.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F23H2FSUD\/like_this.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F23H2FSUD-8f9d1e44fc","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F23H2FSUD\/like_this.txt\/edit","preview":"--- FAIL: TestChaincodeInvokeChaincode (43.12s)\r\n       exectransaction_test.go:800: TestChaincodeInvokeChaincode starting\r\n       db_test_exports.go:47: Creating testDB\r\n       exectransaction_test.go:854: deployed chaincode_example02 got cID1:path:\"github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02\" name:\"b4b3a128ae54cb216bc979789a10da53e3f779fe1a6491f7f6bc983a42f3e0d57ab85c15589c632fbd3df3c7ff6d8c5bb5b48acec70cb231c9ca4b4d6d83c235\" ,\r\n                chaincodeID1:b4b3a128ae54cb216bc979789a10da53e3f779fe1a6491f7f6bc983a42f3e0d57ab85c15589c632fbd3df3c7ff6d8c5bb5b48acec70cb231c9ca4b4d6d83c235\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>--- FAIL: TestChaincodeInvokeChaincode (43.12s)<\/pre><\/div>\n<div><pre>       exectransaction_test.go:800: TestChaincodeInvokeChaincode starting<\/pre><\/div>\n<div><pre>       db_test_exports.go:47: Creating testDB<\/pre><\/div>\n<div><pre>       exectransaction_test.go:854: deployed chaincode_example02 got cID1:path:&quot;github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02&quot; name:&quot;b4b3a128ae54cb216bc979789a10da53e3f779fe1a6491f7f6bc983a42f3e0d57ab85c15589c632fbd3df3c7ff6d8c5bb5b48acec70cb231c9ca4b4d6d83c235&quot; ,<\/pre><\/div>\n<div><pre>                chaincodeID1:b4b3a128ae54cb216bc979789a10da53e3f779fe1a6491f7f6bc983a42f3e0d57ab85c15589c632fbd3df3c7ff6d8c5bb5b48acec70cb231c9ca4b4d6d83c235<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":15,"lines_more":10,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1471856318.002053"},{"type":"message","user":"U0ZJZBJLF","text":"I got this error message this week","edited":{"user":"U0ZJZBJLF","ts":"1471858821.000000"},"ts":"1471858813.002054"},{"type":"message","user":"U12452RAP","text":"why it passed on jenkins","ts":"1471858867.002056"},{"type":"message","user":"U1AU8DRQR","text":"<@U12452RAP> is it possible that you have unneeded files (e.g. junk) in chaincode directories?","ts":"1471858997.002057"},{"type":"message","user":"U12452RAP","text":"no","ts":"1471859024.002058"},{"type":"message","user":"U12452RAP","text":"oh wait","ts":"1471859118.002059"},{"type":"message","user":"U12452RAP","text":"<@U1AU8DRQR> I pull the latest code and checkout master","ts":"1471860862.002060"},{"type":"message","user":"U12452RAP","text":"still that error","ts":"1471860869.002061"},{"type":"message","user":"U1AU8DRQR","text":"then the hash is simply erroneous on master","ts":"1471860886.002062"},{"type":"message","user":"U12452RAP","text":"but why i don't see error on jenkins?","ts":"1471860933.002063"},{"type":"message","user":"U12452RAP","text":"does it exist in your local?","ts":"1471860966.002064"},{"type":"message","user":"U12452RAP","text":"i have to go back, i will investigate per your instruction","ts":"1471861092.002065"},{"type":"message","user":"U1AU8DRQR","text":"<@U12452RAP> If it does not exit on Jenkins then there must be something locally. Maybe git clean could help. Last time for me it was some temporary editor file.","ts":"1471861997.002066"},{"type":"message","user":"U1AU8DRQR","text":"<@U12452RAP> A bit later, I will check my local for you.","ts":"1471862016.002067"},{"type":"message","user":"U0YP7KFGQ","text":"<@U1AU8DRQR> , <@U0ULK2JPP> : Any chance for <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/535\/>?","ts":"1471862069.002068"},{"type":"message","user":"U1AU8DRQR","text":"<@U0YP7KFGQ> Sorry I have not had time for reviews yet","ts":"1471862247.002069"},{"type":"message","user":"U1AU8DRQR","text":"but I will check it, no worries :slightly_smiling_face:","ts":"1471862257.002070"},{"type":"message","user":"U0YP7KFGQ","text":"I even rebased it, to contain last week changes :slightly_smiling_face:","ts":"1471862297.002071"},{"type":"message","user":"U0YP7KFGQ","text":"What happens with bdd tests? For example, I got this on jenkins:","ts":"1471862538.002072"},{"type":"message","subtype":"file_share","text":"<@U0YP7KFGQ|gennady.laventman> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/gennady.laventman\/F23HN3B0E\/-.txt|Untitled>","file":{"id":"F23HN3B0E","created":1471862557,"timestamp":1471862557,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0YP7KFGQ","editable":true,"size":1711,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F23HN3B0E\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F23HN3B0E\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/gennady.laventman\/F23HN3B0E\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F23HN3B0E-96b64fd4b0","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/gennady.laventman\/F23HN3B0E\/-.txt\/edit","preview":"@issue_2116\r\n  Scenario Outline: chaincode authorizable_counter with 4 peers, two stopped, bring back both -- @1.1 Consensus Options          # peer_basic.feature:1375\r\n    Given we compose \"docker-compose-4-consensus-batch.yml docker-membersrvc-attributes-enabled.yml\"                             # steps\/peer_basic_impl.py:114\r\n      Traceback (most recent call last):\r\n        File \"\/usr\/local\/lib\/python2.7\/dist-packages\/behave\/model.py\", line 1456, in run\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>@issue_2116<\/pre><\/div>\n<div><pre>  Scenario Outline: chaincode authorizable_counter with 4 peers, two stopped, bring back both -- @1.1 Consensus Options          # peer_basic.feature:1375<\/pre><\/div>\n<div><pre>    Given we compose &quot;docker-compose-4-consensus-batch.yml docker-membersrvc-attributes-enabled.yml&quot;                             # steps\/peer_basic_impl.py:114<\/pre><\/div>\n<div><pre>      Traceback (most recent call last):<\/pre><\/div>\n<div><pre>        File &quot;\/usr\/local\/lib\/python2.7\/dist-packages\/behave\/model.py&quot;, line 1456, in run<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":24,"lines_more":19,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0YP7KFGQ","upload":true,"display_as_bot":false,"username":"<@U0YP7KFGQ|gennady.laventman>","bot_id":null,"ts":"1471862558.002073"},{"type":"message","user":"U0YP7KFGQ","text":"But same test runs fine locally: behave -k -t issue_2116","ts":"1471862597.002074"},{"type":"message","user":"U1AU8DRQR","text":"isn't that an unstable one?","ts":"1471862929.002075"},{"type":"message","user":"U0YP7KFGQ","text":"It failed (for me) on jenkins, but pass fine (multiple times) localy","ts":"1471863127.002076"},{"type":"message","user":"U0ZJZBJLF","text":"<@U1AU8DRQR>  I think it wasn't needed in the end, somehow all the tests (unit tests + BDD) pass, so unless there are no tests that include java code sending gRPC messages to go code, i think it works","ts":"1471864223.002077"},{"type":"message","user":"U1AU8DRQR","text":"yes, but that means that go uses some different protobuf from Java","ts":"1471864277.002078"},{"type":"message","user":"U0ZJZBJLF","text":"Not necessarily,  it might mean that the entities we send via gRPC\/v3 can be successfully deserialized by v3-beta protobuf, maybe v3 supports stuff that v3beta doesn't, but we don't use it, \nor- maybe the difference between v3 and v3-beta is only in the generated code and not in the format or something","ts":"1471865142.002079"},{"type":"message","user":"U1AU8DRQR","text":"yeah yeah I see this. :slightly_smiling_face: for me, it is OK if we leave it this way, but I prefer using a newer protobuf for Java if we use a newer for Go. just to keep them in sync","ts":"1471865398.002080","reactions":[{"name":"white_check_mark","users":["U0ZJZBJLF"],"count":1}]},{"user":"U23JFU108","text":"<@U23JFU108|csehd> has joined the channel","type":"message","subtype":"channel_join","ts":"1471869642.002081"},{"type":"message","user":"U12452RAP","text":"<@U1AU8DRQR>: did you check your local yet?","ts":"1471869904.002082"},{"type":"message","user":"U1AU8DRQR","text":"<@U12452RAP> just checked and it seems to fail on master","edited":{"user":"U1AU8DRQR","ts":"1471870613.000000"},"ts":"1471870589.002083"},{"type":"message","user":"U1AU8DRQR","text":"I can fix it on master","ts":"1471870680.002085"},{"type":"message","user":"U0ULK2JPP","text":"<@U0YP7KFGQ>: will review today\/tonight","ts":"1471871348.002086"},{"type":"message","user":"U0YP7KFGQ","text":"<@U0ULK2JPP> : <@U1AU8DRQR> did it for me 1 hour ago, but the more the merrier :slightly_smiling_face:","ts":"1471871586.002087"},{"type":"message","user":"U0ULK2JPP","text":"ah ok","ts":"1471871666.002088"},{"type":"message","user":"U0ULK2JPP","text":"will still take a look at it \u2026 wanted to understand rationale etc","ts":"1471871692.002089"},{"type":"message","user":"U1AU8DRQR","text":"<@U0ULK2JPP> could you read back a little bit? <@U12452RAP> has some problems (and me too) with the hash in exaple04 on master","ts":"1471871745.002090"},{"type":"message","user":"U1AU8DRQR","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/615\/> <@U12452RAP> <@U0ULK2JPP>","ts":"1471872724.002091","reactions":[{"name":"+1","users":["U12452RAP"],"count":1}]},{"type":"message","user":"U1AU8DRQR","text":"I have done the some for <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/531\/> but it does not work","ts":"1471872753.002092"},{"type":"message","user":"U1AU8DRQR","text":"locally it was ok, I did git clean","ts":"1471872762.002093"},{"type":"message","user":"U0YP7KFGQ","text":"<@U0ULK2JPP> : You welcome :slightly_smiling_face:","ts":"1471873447.002094"},{"type":"message","user":"U0ULK2JPP","text":"<@U1AU8DRQR>: reading...","ts":"1471873516.002095"},{"type":"message","user":"U0ULK2JPP","text":"<@U1AU8DRQR>: <@U12452RAP> sounds like init failed with invalid args","ts":"1471873613.002096"},{"type":"message","user":"U0ULK2JPP","text":"<@U1AU8DRQR> argument conversion issue in the chaincode-chaincode path ?","ts":"1471873632.002097"},{"type":"message","user":"U1AU8DRQR","text":"<@U0ULK2JPP> I checked out master and for me it seemed as hash issue but maybe my workspace was messy","ts":"1471873776.002098"},{"type":"message","user":"U1AU8DRQR","text":"I will check again","ts":"1471873780.002099"},{"type":"message","user":"U1AU8DRQR","text":"it does not work on master","ts":"1471873962.002100"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KN2SSKE>: It\u2019s easy for me to create a branch, I was waiting for consensus on the name before I do anything. Give me a name and I\u2019ll make it","ts":"1471883322.002101"},{"type":"message","user":"U0UHG4VP1","text":"<@U0P2GSA8Z> <@U0KM61BCP> ^^^","ts":"1471883337.002102"},{"type":"message","user":"U11MANG9G","text":"<@U0KN2SSKE>, <@U0UHG4VP1>: I\u2019m fine with a dev or integration branch, btw. I suggested it a few times before (especially for integration)","ts":"1471884171.002103"},{"type":"message","user":"U11MANG9G","text":"E.g., the Membership Services &lt;-&gt; ClientSDK work in v0.5","ts":"1471884188.002104"},{"type":"message","user":"U11MANG9G","text":"I\u2019ll reply more formally once I \u2018get my bearings'","ts":"1471884206.002105"},{"type":"message","user":"U11MANG9G","text":"I, too, don\u2019t mind its name, or so.","ts":"1471884230.002106"},{"type":"message","user":"U11MANG9G","text":"The main concern is probably that such \u2018feature\u2019 branches would diverge too much\u2026 [EDIT: I should have probably phrased this as a question: \u201cis the main concern with development\/feature\/integration branches\u2026 X, Y, Z\u201d?]","edited":{"user":"U11MANG9G","ts":"1471887848.000000"},"ts":"1471884252.002107"},{"type":"message","user":"U0UHG4VP1","text":"<@U11MANG9G> branches are cheap, I really don\u2019t care too much if people want them. Having dozens of them does clutter the UI.","ts":"1471884257.002108"},{"type":"message","user":"U0UHG4VP1","text":"<@U11MANG9G> I\u2019m not _too_ worried about divergence, because that\u2019s on the branch maintainer to handle.","ts":"1471884283.002109"},{"type":"message","user":"U11MANG9G","text":"(Yes, I appreciate this <@U0UHG4VP1> !)","ts":"1471884299.002110","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0UHG4VP1","text":"<@U11MANG9G> you should be merging from master (or whatever) every once in a while","ts":"1471884318.002111"},{"type":"message","user":"U0KM61BCP","text":"feature branches don\u2019t diverge if they regularly rebase on master","ts":"1471884709.002112"},{"type":"message","user":"U11MANG9G","text":"Yup, moreover, maintainers should be able to set some \u2018merge up\u2019 schedule as part of the sprints. Independently, individually (with much managerial head-ache\/overhead)\u2026 but if people tell us, \u201chey, 2 sprints of full-time work of 3 teams are about to get merged up this Thu\u2026\u201d then people are aware of it.","ts":"1471886972.002114"},{"type":"message","user":"U11MANG9G","text":"Again, leaving it to the \u2018feature branch maintainer etc.\u2019\u2026 but yes: `merging down` from master into the integration branch frequently and `merging up` to master regularly (relatively often enough) keeps both the f branch and m, in sync.","edited":{"user":"U11MANG9G","ts":"1471887018.000000"},"ts":"1471886974.002115"},{"type":"message","user":"U11MANG9G","text":"As I said before (also on the day we moved to gerrit, if some of you recall), I like branches.","ts":"1471887002.002116"},{"type":"message","user":"U0KN2SSKE","text":"<@U0UHG4VP1> i don\u2019t really have a good name, how about \u2018convergence\u2019 ?","ts":"1471888624.002119"},{"type":"message","user":"U0UHG4VP1","text":"from the tip of master?","ts":"1471888686.002120"},{"type":"message","user":"U0KN2SSKE","text":"yes","ts":"1471888777.002121"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=fabric.git;a=shortlog;h=refs\/heads\/feature\/convergence>","ts":"1471888778.002122"},{"type":"message","user":"U0KN2SSKE","text":"thank you!","ts":"1471888809.002123","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F23QHKF3K\/-.sh|Untitled> and commented: <@U0KM61BCP>","file":{"id":"F23QHKF3K","created":1471897338,"timestamp":1471897338,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0KPFAZNF","editable":true,"size":1506,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F23QHKF3K\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F23QHKF3K\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F23QHKF3K\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F23QHKF3K-f76c8e46eb","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F23QHKF3K\/-.sh\/edit","preview":"$ docker images\r\nREPOSITORY                      TAG                             IMAGE ID            CREATED              SIZE\r\nhyperledger\/fabric-membersrvc   latest                          7dd9b8ce241a        43 seconds ago       1.732 GB\r\nhyperledger\/fabric-membersrvc   x86_64-0.6.0-SNAPSHOT-414df31   7dd9b8ce241a        43 seconds ago       1.732 GB\r\nhyperledger\/fabric-peer         latest                          1d4e8b5b58f0        51 seconds ago       1.739 GB\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-def\">$ docker<\/span> images<\/pre><\/div>\n<div><pre>REPOSITORY                      TAG                             IMAGE ID            CREATED              SIZE<\/pre><\/div>\n<div><pre>hyperledger\/fabric-membersrvc   latest                          7dd9b8ce241a        <span class=\"cm-number\">43<\/span> seconds ago       <span class=\"cm-number\">1<\/span>.732 GB<\/pre><\/div>\n<div><pre>hyperledger\/fabric-membersrvc   x86_64-0.6.0-SNAPSHOT-414df31   7dd9b8ce241a        <span class=\"cm-number\">43<\/span> seconds ago       <span class=\"cm-number\">1<\/span>.732 GB<\/pre><\/div>\n<div><pre>hyperledger\/fabric-peer         latest                          1d4e8b5b58f0        <span class=\"cm-number\">51<\/span> seconds ago       <span class=\"cm-number\">1<\/span>.739 GB<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":14,"lines_more":9,"preview_is_truncated":null,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc23QQ01T4","created":1471897338,"timestamp":1471897338,"user":"U0KPFAZNF","is_intro":true,"comment":"<@U0KM61BCP>","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1471897339.002124"},{"type":"message","user":"U11MANG9G","text":"<@U0KPFAZNF>: :+1::+1::+1::+1:","ts":"1471901193.002125"},{"type":"message","user":"U11MANG9G","text":"== 4x (+1) == 4 == 2x (+2) most likely !","ts":"1471901221.002126"},{"user":"U23RZ2M4N","text":"<@U23RZ2M4N|gentrysherrill> has joined the channel","type":"message","subtype":"channel_join","ts":"1471909106.002129"},{"type":"message","user":"U11MANG9G","text":"Hi <@U1M7K67EV>: now that it\u2019s a working day here\u2026 we should at the very least update the certificate here in: <https:\/\/jira.hyperledger.org\/browse\/FAB-213>","ts":"1471921724.002130"},{"type":"message","user":"U11MANG9G","text":"(it was Sunday evening, locally\/yesterday)","ts":"1471921739.002131"},{"type":"message","user":"U1M7K67EV","text":"Of course! So sorry, I should have realised it was a Sunday for you yesterday!","ts":"1471921800.002132"},{"type":"message","user":"U11MANG9G","text":"See the update on the issue - but since there are some talks around removing (some of) the TLSCA, or at the very least separating it out\u2026 I wouldn\u2019t worry about it.","ts":"1471921806.002133"},{"type":"message","user":"U11MANG9G","text":"Oh, no worries about it. On Mondays I\u2019m way more likely to be in front of a computer :wink:","ts":"1471921835.002134"},{"type":"message","user":"U1M7K67EV","text":"The one TLS test that is there was passing with the expired certificate, which you're right, is really bad","ts":"1471921858.002135"},{"type":"message","user":"U11MANG9G","text":"Yes, that\u2019s what I was `hinting` at.","ts":"1471921875.002136"},{"type":"message","user":"U11MANG9G","text":"I can try to either quickly fix the test\/update the cert, or really be a bit more pragmatic and remove the (sub-optimal) functionality. Let me run it by a few people tomorrow.","ts":"1471921919.002137"},{"type":"message","user":"U1M7K67EV","text":"I only picked it up because change 563 checks to see what peers are connected to and that test failed because they we're connected to each other!","ts":"1471921946.002138"},{"type":"message","user":"U1M7K67EV","text":"Yeah sure, I'll leave the tests disabled for now","ts":"1471921965.002139"},{"type":"message","user":"U11MANG9G","text":"In general, I\u2019m leaning towards: \u201cIf it\u2019s part of our code base, it\u2019s because it is: (`working` + `needed-to-be-there`)\"","ts":"1471922010.002140"},{"type":"message","user":"U11MANG9G","text":"Otherwise, we should not 1) carry it around, nor, 2) \u201cmislead\u201d\/risk-confusing others that\u2019d believe that it\u2019s working.","ts":"1471922054.002141"},{"type":"message","user":"U11MANG9G","text":"Thank you for reporting this!","ts":"1471922110.002142"},{"type":"message","user":"U1M7K67EV","text":"I agree completely, but I'll leave the removing\/updating that needs doing for another change","ts":"1471922169.002143"},{"type":"message","user":"U1M7K67EV","text":"Not a problem!","ts":"1471922173.002144"},{"type":"message","user":"U11MANG9G","text":"Yes, yes. Leave it with me. One q: does it block you today\/tomorrow?","ts":"1471922203.002145"},{"type":"message","user":"U1M7K67EV","text":"Not at all, I've just got <https:\/\/gerrit.hyperledger.org\/r\/563> sitting open at the moment with the TLS tests disabled. If you're happy that goes in with them disabled, great, otherwise I'll leave a comment saying it shouldn't be merged until you've sorted it","ts":"1471922300.002146"},{"type":"message","user":"U11MANG9G","text":"OK. Give me 24 hours.","ts":"1471922321.002147"},{"type":"message","user":"U11MANG9G","text":"(thank you)","ts":"1471922324.002148"},{"type":"message","user":"U1M7K67EV","text":"No problem!","ts":"1471922334.002149"},{"user":"U20T0R475","text":"<@U20T0R475|hyperpiper> has joined the channel","type":"message","subtype":"channel_join","ts":"1471923868.002150"},{"type":"message","user":"U1AU8DRQR","text":"review please <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/567\/>","ts":"1471939777.002151"},{"type":"message","user":"U1AU8DRQR","text":"and this: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/531\/>","ts":"1471941354.002152"},{"type":"message","user":"U1AU8DRQR","text":"fabric\/examples\/chaincode\/java\/SimpleSample &lt;--- this does not compile for me","ts":"1471942592.002153"},{"type":"message","user":"U0YNFB22X","text":"<@U1AU8DRQR> What is the error you get","ts":"1471943870.002154"},{"type":"message","user":"U1AU8DRQR","text":"I will write you the exact error message as soon as I get back to the office ","ts":"1471944051.002156"},{"type":"message","user":"U1AU8DRQR","text":"<@U0N4D2T61>: please help me out :-) you have the same problem ","ts":"1471944132.002158"},{"user":"U1KFCPFQA","text":"<@U1KFCPFQA|dave.enyeart> has joined the channel","type":"message","subtype":"channel_join","ts":"1471970684.002159"},{"type":"message","user":"U0UHG4VP1","text":"gentlefolk, the `two +2 merge rule` has been pushed for fabric. this rule obviated NACR (non-author code review) so it\u2019s been removed. You may have noticed the UI changed. It isn\u2019t in use on any other project (because nobody has asked for it)","ts":"1471971304.002160","reactions":[{"name":"+1","users":["U11MANG9G"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>, IIUC, you are saying 2+2 eclipsed NACR?  Does that mean a submitter may propose their own +2 and it counts?","ts":"1471978668.002161"},{"type":"message","user":"U0KPFAZNF","text":"also, is the 2+2 any +2, or only from maintainer list?","ts":"1471978693.002162"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins: yes. NACR enforced a non-author code review, which didn\u2019t prevent the author from reviewing a change","ts":"1471978722.002163"},{"type":"message","user":"U0UHG4VP1","text":"the only people that should be able to +2 a change are the committers for a project","ts":"1471978748.002164"},{"type":"message","user":"U0KPFAZNF","text":"ah, ok, i didnt realize that","ts":"1471978755.002165"},{"type":"message","user":"U0KPFAZNF","text":"so, in theory a submitter _could_ +2 their own patch iff they are a committer too","ts":"1471978781.002166"},{"type":"message","user":"U0UHG4VP1","text":"yes.","ts":"1471978787.002167"},{"type":"message","user":"U0KPFAZNF","text":"i dont have a strong opinion on this, but it strikes me as more correct to have it be 2+2 from NA","ts":"1471978829.002168"},{"type":"message","user":"U0KPFAZNF","text":"(the self +2 is implicit, or they wouldnt have submitted it","ts":"1471978845.002169"},{"type":"message","user":"U0UHG4VP1","text":"I\u2019m not against it.","ts":"1471978850.002170"},{"type":"message","user":"U0KPFAZNF","text":"but I guess I can see the argument that the committer has a vote too, even if its their own patch","ts":"1471978864.002171"},{"type":"message","user":"U0UHG4VP1","text":"I don\u2019t think the self +2 _is_ implicit, always.","ts":"1471978891.002172"},{"type":"message","user":"U0KPFAZNF","text":"well, no it isnt, you are correct","ts":"1471978900.002173"},{"type":"message","user":"U0KPFAZNF","text":"anyway, something to think about, i dont think it matters too much unless we had the unlikely scenario of abuse","ts":"1471978943.002174"},{"type":"message","user":"U0KPFAZNF","text":"it at least has the checks and balances that one other +2 is needed first","ts":"1471978960.002175"},{"type":"message","user":"U0UHG4VP1","text":"Sure. Right now it would require the collusion (or inattention) of one other committer to screw things up.","ts":"1471978993.002176"},{"type":"message","user":"U0KPFAZNF","text":"anyway, thanks for that change, that will make things run smoother","ts":"1471978996.002177"},{"type":"message","user":"U0UHG4VP1","text":"sure thing.","ts":"1471979005.002178"},{"user":"U1P52TCE4","text":"<@U1P52TCE4|yoshihara> has joined the channel","type":"message","subtype":"channel_join","ts":"1472012053.002179"},{"type":"message","user":"U1AU8DRQR","text":"<@U0UHG4VP1> <@U0KPFAZNF> too much text to read. :smile: do we have double +2 policy now? If not (yet) I support it!","ts":"1472024391.002180"},{"type":"message","user":"U0UHG4VP1","text":"Yes","ts":"1472024660.002181"},{"type":"message","user":"U0UHG4VP1","text":"hgabor: what does the fabric-api group want? I left it with NACR enabled, and didn\u2019t add the 2+2 policy","ts":"1472024849.002182"},{"type":"message","user":"U0UHG4VP1","text":"since the velocity is low and you are the only committer, I figured it was low risk","ts":"1472024868.002183"},{"type":"message","user":"U1AU8DRQR","text":"I think NACR is enough as there are only a few maintainters :slightly_smiling_face:","edited":{"user":"U1AU8DRQR","ts":"1472024895.000000"},"ts":"1472024882.002184"},{"type":"message","user":"U1AU8DRQR","text":"such a good thing that there is an edit button. I make a typo every second minute","ts":"1472024923.002186"},{"type":"message","user":"U0UHG4VP1","text":"eh, I don\u2019t worry too much about typos here","ts":"1472024937.002187"},{"type":"message","user":"U1AU8DRQR","text":"Last part of <@U1LES78TT> 's commit: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/639\/> <@U11MANG9G> <@U0KPFAZNF> <@U0XR6J961>","ts":"1472030979.002188"},{"type":"message","user":"U12452RAP","text":"after i rebase latest master","ts":"1472031997.002189"},{"type":"message","user":"U12452RAP","text":"jenkins build failure","ts":"1472032010.002190"},{"user":"U0UKSBAKZ","text":"<@U0UKSBAKZ|sergeybalashevich> has joined the channel","type":"message","subtype":"channel_join","ts":"1472033398.002191"},{"type":"message","user":"U12452RAP","text":"<@U0UHG4VP1>","ts":"1472033425.002192"},{"type":"message","user":"U12452RAP","text":"would you like help check this build <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/545\/>","ts":"1472033465.002193"},{"user":"U1V7YURHQ","text":"<@U1V7YURHQ|jake.turner> has joined the channel","type":"message","subtype":"channel_join","ts":"1472045786.002194"},{"type":"message","user":"U11RW82PM","text":"Hi.  I\u2019ve been away for a few weeks.  Can someone point me to some docs on why we moved to gerrit?!  IMO this is a huge backward step.","ts":"1472047368.002195"},{"type":"message","user":"U1AU8DRQR","text":"<@U11RW82PM> why would it be?","ts":"1472047712.002196"},{"type":"message","user":"U0XR6J961","text":"david.acton: linux foundation wanted it","ts":"1472047909.002197"},{"type":"message","user":"U11RW82PM","text":"<@U1AU8DRQR> Because the rest of the world is on GitHub.  Gerrit doesn\u2019t have the integration with third parties (like read the docs) that GitHub has. I have two accounts rather than one account, and forking is lovely and hosted in GitHub, more manual in Gerrit.  Like I said,, just my opinion.","ts":"1472053242.002198"},{"type":"message","user":"U11RW82PM","text":"<@U0XR6J961> That\u2019s a reason I guess.","ts":"1472053277.002199"},{"type":"message","user":"U11RW82PM","text":"<@U0XR6J961> <@U1AU8DRQR> Thanks both for replying!","ts":"1472053293.002200"},{"type":"message","user":"U1AU8DRQR","text":"<@U11RW82PM>: having a good review gui on Gerrit does not mean that we have to leave github as a repo browser and a way to create forks,. Of course those cannot be merged back, but for things which need to land in the repo I think Gerrit is much cleaner ","ts":"1472054440.002201"},{"type":"message","user":"U11RW82PM","text":"<@U1AU8DRQR> good point.  But there\u2019s wisdom in those crowds.  Lots of people are there for a reason.   Where will the latest docs be now? Is there something like read the docs now?","ts":"1472055222.002202"},{"type":"message","user":"U1AU8DRQR","text":"As I was informed today we will begin mirroring to github and the doc reader things will work as they were before Gerrit ","ts":"1472055283.002203"},{"type":"message","user":"U11RW82PM","text":"That\u2019s good news.","ts":"1472055319.002204"},{"type":"message","user":"U0MRY2LKY","text":"Cool.","ts":"1472055558.002205"},{"user":"U24J6JYVC","text":"<@U24J6JYVC|benbooth> has joined the channel","type":"message","subtype":"channel_join","ts":"1472060870.002206"},{"type":"message","user":"U24J6JYVC","text":"Can anyone point me to the most up-to-date DEVENV documentation?","ts":"1472065944.002207"},{"type":"message","user":"U24J6JYVC","text":"I'm developing on Mac with Docker (hopefully)!","ts":"1472065966.002208"},{"type":"message","user":"U24J6JYVC","text":"Would love to get some peers up and running so I can start writing Chain Code","ts":"1472065996.002209"},{"type":"message","user":"U0KM61BCP","text":"<http:\/\/cbf-fabric-docs.readthedocs.io|cbf-fabric-docs.readthedocs.io>","ts":"1472071007.002210","reactions":[{"name":"+1","users":["U0KPFAZNF","U24J6JYVC","U0UHG4VP1","U0V86V3QR"],"count":4}]},{"user":"U24M29R4G","text":"<@U24M29R4G|nikileshsa> has joined the channel","type":"message","subtype":"channel_join","ts":"1472075745.002211"},{"user":"U1WUAQJVC","text":"<@U1WUAQJVC|pushpalatha> has joined the channel","type":"message","subtype":"channel_join","ts":"1472108252.002212"},{"type":"message","user":"U12452RAP","text":"<https:\/\/www.zurich.ibm.com\/dccl\/papers\/renesse_dccl.pdf>","ts":"1472295803.002213"},{"type":"message","user":"U12452RAP","text":"<@U0ZJZBJLF>: is our gossip implementation refer to this paper?","ts":"1472295859.002214"},{"type":"message","user":"U24J6JYVC","text":"Would raft be a potential fit for consensus between peers?","ts":"1472296237.002215"},{"type":"message","user":"U24J6JYVC","text":"<https:\/\/raft.github.io\/raft.pdf>","ts":"1472296312.002216"},{"type":"message","user":"U0PB67X4K","text":"<@U24J6JYVC>  - if your only requirement is crash fault tolerance and not byzantine fault tolerance than you could use Raft.  There is also BFT Raft:    <http:\/\/www.scs.stanford.edu\/14au-cs244b\/labs\/projects\/copeland_zhong.pdf>   - and there is at least one public implementation of it","ts":"1472297486.002217","reactions":[{"name":"+1","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U24J6JYVC","text":"<@U0PB67X4K> Thanks...will have a read","ts":"1472297699.002218"},{"type":"message","user":"U0ZJZBJLF","text":"<@U12452RAP>  \nMy team is implementing a gossip implementation that disseminates messages from the consensus service to the rest of the peers. \nIt has nothing to do with the paper you quoted.","ts":"1472314114.002219"},{"type":"message","user":"U24M29R4G","text":"<@U0ZJZBJLF> is there a specification for this gossip implementation you guys are working on?","ts":"1472321981.002220"},{"type":"message","user":"U0ZJZBJLF","text":"yeah, the spec is a WIP itself though. <@U24M29R4G> .","edited":{"user":"U0ZJZBJLF","ts":"1472324563.000000"},"ts":"1472323997.002221","reactions":[{"name":"+1::skin-tone-4","users":["U24M29R4G"],"count":1}]},{"type":"message","user":"U0ZJZBJLF","text":"maybe it's a good time to upload the latest changes","ts":"1472324044.002222"},{"type":"message","user":"U0ZJZBJLF","text":"<https:\/\/jira.hyperledger.org\/browse\/FAB-170>","ts":"1472324261.002223"},{"type":"message","user":"U24M29R4G","text":"<@U0ZJZBJLF> thanks.. will read","ts":"1472327066.002225"},{"type":"message","user":"U24M29R4G","text":"i see a pdf and an powerpoint attached in FAB-170","ts":"1472327115.002228"},{"type":"message","user":"U24M29R4G","text":"a ppt*","ts":"1472327129.002229"},{"type":"message","user":"U0ZJZBJLF","text":"yep. The ppt is very high level, the pdf is a more low level. the markdown is the same as the pdf, so some day it'll go to github","ts":"1472327166.002230"},{"type":"message","user":"U24M29R4G","text":"oh ok.. got it! i am sure it must be an evolving document","ts":"1472327213.002231"},{"type":"message","user":"U0ZJZBJLF","text":"if you have constructive comments, you can PM me","ts":"1472327393.002232"},{"type":"message","user":"U24M29R4G","text":"sure thing","ts":"1472327519.002235"},{"type":"message","subtype":"file_share","text":"<@U24M29R4G|nikileshsa> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/nikileshsa\/F25JPPKD1\/consistently_failing_while_trying_to_make_peer_in_one_of_my_nodes____not_able_to_download_file_from_maven_repo_from_within_docker_container.txt|Consistently failing while trying to make peer in one of my nodes..  not able to download file from maven repo from within docker container>","file":{"id":"F25JPPKD1","created":1472327728,"timestamp":1472327728,"name":"Consistently_failing_while_trying_to_make_peer_in_one_of_my_nodes____not_able_to_download_file_from_maven_repo_from_within_docker_container.txt","title":"Consistently failing while trying to make peer in one of my nodes..  not able to download file from maven repo from within docker container","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U24M29R4G","editable":true,"size":3663,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F25JPPKD1\/consistently_failing_while_trying_to_make_peer_in_one_of_my_nodes____not_able_to_download_file_from_maven_repo_from_within_docker_container.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F25JPPKD1\/download\/consistently_failing_while_trying_to_make_peer_in_one_of_my_nodes____not_able_to_download_file_from_maven_repo_from_within_docker_container.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/nikileshsa\/F25JPPKD1\/consistently_failing_while_trying_to_make_peer_in_one_of_my_nodes____not_able_to_download_file_from_maven_repo_from_within_docker_container.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F25JPPKD1-6a96cc71b1","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/nikileshsa\/F25JPPKD1\/consistently_failing_while_trying_to_make_peer_in_one_of_my_nodes____not_able_to_download_file_from_maven_repo_from_within_docker_container.txt\/edit","preview":"Step 1 : FROM hyperledger\/fabric-baseimage:latest\r\n ---> 619993645be1\r\nStep 2 : ADD gopath.tar.bz2 $GOPATH\/src\/github.com\/hyperledger\/fabric\r\n ---> 971486e64e37\r\nRemoving intermediate container 43943ad290b8\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Step 1 : FROM hyperledger\/fabric-baseimage:latest<\/pre><\/div>\n<div><pre> ---&gt; 619993645be1<\/pre><\/div>\n<div><pre>Step 2 : ADD gopath.tar.bz2 $GOPATH\/src\/github.com\/hyperledger\/fabric<\/pre><\/div>\n<div><pre> ---&gt; 971486e64e37<\/pre><\/div>\n<div><pre>Removing intermediate container 43943ad290b8<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":78,"lines_more":73,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U24M29R4G","upload":true,"display_as_bot":false,"username":"<@U24M29R4G|nikileshsa>","bot_id":null,"ts":"1472327729.002236"},{"type":"message","user":"U0ZJZBJLF","text":"well, that's something I can't help you with unfortunately","ts":"1472327767.002237"},{"type":"message","user":"U24M29R4G","text":"hmm.. trying to see if there a workaround..","ts":"1472327811.002238"},{"type":"message","user":"U0ZJZBJLF","text":"You have a company server with good connectivity to the internet?","ts":"1472327838.002239"},{"type":"message","user":"U24M29R4G","text":"i am able to download the file from the node..","ts":"1472327839.002240"},{"type":"message","user":"U24M29R4G","text":"yeah..","ts":"1472327844.002241"},{"type":"message","user":"U24M29R4G","text":"i saw this issue before..and i suspected it would be because of some flaky internet issue","ts":"1472327867.002242"},{"type":"message","user":"U0ZJZBJLF","text":"if you're running it on your PC I'd suggest to run the vagrant on some company server, they usually have better connectivity.","ts":"1472327875.002243"},{"type":"message","user":"U0ZJZBJLF","text":"but let's not talk about it here, it's related to fabric-dev-env","ts":"1472327912.002244"},{"type":"message","user":"U24M29R4G","text":"sure. thanks.","ts":"1472327989.002245"},{"type":"message","user":"U24M29R4G","text":"will try posting in fabric-dev-env..","ts":"1472328037.002246"},{"type":"message","user":"U12452RAP","text":"<@U0ZJZBJLF>: thanks","ts":"1472341439.002247"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F25P4E62W\/pasted_image_at_2016_08_28_11_42_am.png|Pasted image at 2016-08-28, 11:42 AM> and commented: <@U0KPFAZNF> <@U0KM61BCP> I was getting errors like above with latest. Getting latest protoc-gen-go and doing some cleanup fixed it. I\u2019d have expected this to work without manual intervention\u2026.did I miss something ?","file":{"id":"F25P4E62W","created":1472399079,"timestamp":1472399079,"name":"Pasted image at 2016_08_28 11_42 AM.png","title":"Pasted image at 2016-08-28, 11:42 AM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":110632,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F25P4E62W\/pasted_image_at_2016_08_28_11_42_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F25P4E62W\/download\/pasted_image_at_2016_08_28_11_42_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F25P4E62W-771b410c8d\/pasted_image_at_2016_08_28_11_42_am_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F25P4E62W-771b410c8d\/pasted_image_at_2016_08_28_11_42_am_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F25P4E62W-771b410c8d\/pasted_image_at_2016_08_28_11_42_am_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":24,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F25P4E62W-771b410c8d\/pasted_image_at_2016_08_28_11_42_am_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":32,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F25P4E62W-771b410c8d\/pasted_image_at_2016_08_28_11_42_am_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F25P4E62W-771b410c8d\/pasted_image_at_2016_08_28_11_42_am_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":48,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F25P4E62W-771b410c8d\/pasted_image_at_2016_08_28_11_42_am_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":64,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F25P4E62W-771b410c8d\/pasted_image_at_2016_08_28_11_42_am_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":69,"image_exif_rotation":1,"original_w":2808,"original_h":188,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F25P4E62W\/pasted_image_at_2016_08_28_11_42_am.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F25P4E62W-72642f9c57","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc25NX39C7","created":1472399079,"timestamp":1472399079,"user":"U0ULK2JPP","is_intro":true,"comment":"<@U0KPFAZNF> <@U0KM61BCP> I was getting errors like above with latest. Getting latest protoc-gen-go and doing some cleanup fixed it. I\u2019d have expected this to work without manual intervention\u2026.did I miss something ?","channel":""}},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1472399082.002248"},{"type":"message","user":"U0ULK2JPP","text":"perhaps I should have done vagrant destroy first ?","ts":"1472399138.002249"},{"type":"message","user":"U20T0R475","text":"<@U0ULK2JPP>: there was actually an issue on gerrit to fix that problem apparently ","ts":"1472401419.002250"},{"type":"message","user":"U20T0R475","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/719\/>","ts":"1472401433.002251"},{"type":"message","user":"U0ULK2JPP","text":"ah ok. thanks","ts":"1472401488.002252"},{"type":"message","user":"U20T0R475","text":"Out of curiosity because my build also fails with those errors :disappointed:,  how did you manually fix it? There's just so much code going on in this repo and it's honestly hard for me to follow ","ts":"1472401526.002253"},{"type":"message","user":"U0ULK2JPP","text":"here\u2019s what I did","ts":"1472401569.002254"},{"type":"message","user":"U0ULK2JPP","text":"go get -u <http:\/\/github.com\/golang\/protobuf\/|github.com\/golang\/protobuf\/>","ts":"1472401594.002255"},{"type":"message","user":"U0ULK2JPP","text":"cd \/opt\/gopath\/src\/github.com\/golang\/protobuf\/","ts":"1472401595.002256"},{"type":"message","user":"U0ULK2JPP","text":"make","ts":"1472401621.002257"},{"type":"message","user":"U0ULK2JPP","text":"cd fabric","ts":"1472401636.002258"},{"type":"message","user":"U0ULK2JPP","text":"cd protos","ts":"1472401653.002259"},{"type":"message","user":"U0ULK2JPP","text":"rm *.pb.go","ts":"1472401666.002260"},{"type":"message","user":"U0ULK2JPP","text":"cd ..","ts":"1472401669.002261"},{"type":"message","user":"U0ULK2JPP","text":"make protos","ts":"1472401673.002262"},{"type":"message","user":"U0ULK2JPP","text":"cd protos","ts":"1472401675.002263"},{"type":"message","user":"U0ULK2JPP","text":"go build","ts":"1472401678.002264"},{"type":"message","user":"U0ULK2JPP","text":"basically regen everything with correct protoc-gen-go","ts":"1472401698.002265"},{"type":"message","user":"U0ULK2JPP","text":"YMMV","ts":"1472401708.002266"},{"type":"message","user":"U0ULK2JPP","text":"but I\u2019ll use the fix once its merged","ts":"1472401761.002267"},{"type":"message","user":"U20T0R475","text":"Did you do the 'go get' command in the devenv folder?","ts":"1472401816.002268"},{"type":"message","user":"U0ULK2JPP","text":"I did it from home","ts":"1472401831.002269"},{"type":"message","user":"U0ULK2JPP","text":"let  $GOPATH do the work","ts":"1472401846.002270"},{"type":"message","user":"U0ULK2JPP","text":"ie, did a \u201ccd&lt;return\u201d first","ts":"1472401858.002271"},{"type":"message","user":"U20T0R475","text":"Oh gotcha thank you!!!!!","ts":"1472401867.002272"},{"type":"message","user":"U0ULK2JPP","text":"will accept if it worked for you :wink:","ts":"1472401898.002273"},{"type":"message","user":"U20T0R475","text":"Haha I'll try it soon and let you know if it works but I appreciate it either way ","ts":"1472401976.002274"},{"type":"message","user":"U0ULK2JPP","text":"sure thing!","ts":"1472401982.002275"},{"type":"message","user":"U0ULK2JPP","text":"btw,  I didn\u2019t test yet. just made sure it built","ts":"1472402073.002276"},{"type":"message","user":"U0ULK2JPP","text":"wonder if this will have test issues","ts":"1472402084.002277"},{"type":"message","subtype":"file_comment","text":"<@U1CLP9CQ4|poly> commented on <@U1CK6522F|zuowang>\u2019s file <https:\/\/hyperledgerproject.slack.com\/files\/zuowang\/F1JAWEW1H\/_____________20160617150935.png|\u5fae\u4fe1\u622a\u56fe_20160617150935.png>: Hi, how is it going here, have you got an answer yet?  Im also  curious about this.","file":{"id":"F1JAWEW1H","created":1466415036,"timestamp":1466415036,"name":"\u5fae\u4fe1\u622a\u56fe_20160617150935.png","title":"\u5fae\u4fe1\u622a\u56fe_20160617150935.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U1CK6522F","editable":false,"size":283653,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1JAWEW1H\/_____________20160617150935.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1JAWEW1H\/download\/_____________20160617150935.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1JAWEW1H-0bd64165a9\/_____________20160617150935_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1JAWEW1H-0bd64165a9\/_____________20160617150935_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1JAWEW1H-0bd64165a9\/_____________20160617150935_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":272,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1JAWEW1H-0bd64165a9\/_____________20160617150935_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":362,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1JAWEW1H-0bd64165a9\/_____________20160617150935_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1JAWEW1H-0bd64165a9\/_____________20160617150935_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":543,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1JAWEW1H-0bd64165a9\/_____________20160617150935_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":724,"image_exif_rotation":1,"original_w":1014,"original_h":765,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/zuowang\/F1JAWEW1H\/_____________20160617150935.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1JAWEW1H-12324eb85f","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":2,"initial_comment":{"id":"Fc1JAWF3MZ","created":1466415036,"timestamp":1466415036,"user":"U1CK6522F","is_intro":true,"comment":"I am taking a look at chaincode example asset_management.go. It uses the same TCert all the time. Then I found a way in protocol-spec.md to address this problem. But is it implemented now in fabric? I didn't find api access to TCert from client side, how can I construct a transaction like that?","channel":""}},"comment":{"id":"Fc25R8A24R","created":1472442055,"timestamp":1472442055,"user":"U1CLP9CQ4","is_intro":false,"comment":"Hi, how is it going here, have you got an answer yet?  Im also  curious about this.","channel":""},"is_intro":false,"ts":"1472442055.000002"},{"user":"U1N2L5UNT","text":"<@U1N2L5UNT|kurokuro> has joined the channel","type":"message","subtype":"channel_join","ts":"1472446781.000003"},{"type":"message","user":"U12452RAP","text":"Look through the code, there are many config.go files and exist some duplicate code. I create a ticket <https:\/\/jira.hyperledger.org\/browse\/FAB-260>","ts":"1472455290.000004"},{"type":"message","user":"U12452RAP","text":"could we unify it? I found a comment mentioned a circular import issue for config, who know the context?","ts":"1472455392.000005"},{"type":"message","user":"U1AU8DRQR","text":"does anybody know TestHTTPExecuteDeployTransaction?","ts":"1472472962.000006"},{"type":"message","user":"U0ULK2JPP","text":"<@U1AU8DRQR> what do you need ?","ts":"1472476443.000007"},{"type":"message","user":"U1AU8DRQR","text":"I am trying to change the chaincode api (feature\/convergence) and that test fails","ts":"1472476549.000008"},{"type":"message","user":"U1AU8DRQR","text":"but the repo it uses it bgorman's one","ts":"1472476566.000009"},{"type":"message","user":"U0ULK2JPP","text":"how about upload to github another chaincode with the right api and point to it\nthat way older tests will continue to work","ts":"1472476582.000010"},{"user":"U23CGEC7N","text":"<@U23CGEC7N|rafael> has joined the channel","type":"message","subtype":"channel_join","ts":"1472480737.000011"},{"type":"message","user":"U1AU8DRQR","text":"when trying to run TestHTTPExecuteDeployTransaction, I get this: \texectransaction_test.go:349: Error deploying &lt;&gt;: code does not exist Download failed open \/opt\/gopath\/_usercode_\/065860103\/src\/github.com\/gabre\/fabric\/examples\/chaincode\/go\/chai... (I uploaded a chaincode for TestHTTPExecuteDeployTransaction)","ts":"1472481695.000012"},{"type":"message","user":"U0ULK2JPP","text":"perhaps you have $GOPATH\/src\/github.com\/gabre\/fabric\/examples\/chaincode\/go\/chaincode\/...","ts":"1472483718.000013"},{"type":"message","user":"U0ULK2JPP","text":"ie in your GOPATH ?","ts":"1472483722.000014"},{"type":"message","user":"U0ULK2JPP","text":"ls $GOPATH\/src\/github.com\/gabre\/fabric\/examples\/chaincode\/go\/chaincode","ts":"1472483737.000015"},{"type":"message","user":"U0ULK2JPP","text":"if you did a _go get <http:\/\/github.com\/gabre\/fabric\/examples\/chaincode\/go\/chaincode\/chaincode_example02_|github.com\/gabre\/fabric\/examples\/chaincode\/go\/chaincode\/chaincode_example02_>","ts":"1472483778.000016"},{"type":"message","user":"U0ULK2JPP","text":"it would have downloaded directly in your go path","ts":"1472483805.000017"},{"type":"message","user":"U0ULK2JPP","text":"and if it did, chaincode will fail to download (as the code is already in gopath)","ts":"1472483835.000018"},{"user":"U1NTT2YP2","text":"<@U1NTT2YP2|shichaoyuan> has joined the channel","type":"message","subtype":"channel_join","ts":"1472527277.000019"},{"type":"message","user":"U1AU8DRQR","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/777\/>","ts":"1472542776.000020"},{"type":"message","user":"U11MANG9G","text":"-----\nReminder: <@U11MANG9G> is on holiday until next Tuesday, and has extremely limited internet access.\n-----","ts":"1472546104.000021"},{"type":"message","user":"U0KPFAZNF","text":"<@U1M7K67EV> suggest abandoning <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/725> for now since we reverted the protoc patch\u2026.we can regroup in a branch that includes the original patches together.","ts":"1472558968.000022"},{"type":"message","user":"U0KPFAZNF","text":"<@U1M7K67EV> <@U0ZJZBJLF> <@U0KM61BCP> <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/789\/>","ts":"1472570010.000023"},{"type":"message","user":"U0ZJZBJLF","text":"I don't understand something, you claimed there was a problem in which vendor files are compiled from some reason, yet you upload a patch that dynamically compiles the proto files and leave out the proto version upgrade, but... I'm pretty sure that the proto upgrade itself isn't what was causing the vendor file compilation, but rather the dynamic compilation was. Does what I just said make sense or maybe I have some wrong assumption?","ts":"1472570504.000024"},{"type":"message","user":"U0KPFAZNF","text":"I didnt claim that the protoc upgrade was the cause, but its prudent to isolate the two changes out","ts":"1472570845.000025"},{"type":"message","user":"U0KPFAZNF","text":"its something we should have done from the beginning, but se la vie","ts":"1472570856.000026"},{"type":"message","user":"U0KPFAZNF","text":"i figured it makes more sense to do the dynamic compile first, so we dont waste a cycle committing the v3.0.0 pb.go files, so I did this one first","ts":"1472570890.000027"},{"type":"message","user":"U0KPFAZNF","text":"once that is proven stable, ill take the second half of your patch and submit it as a discrete patch","ts":"1472570907.000028"},{"type":"message","user":"U0ZJZBJLF","text":"hmm, I actually think it's the opposite- if you do the upgrade, and leave the pb.go files it'll surely won't have a problem of vendor compilation, since no proto files are being compiled","edited":{"user":"U0ZJZBJLF","ts":"1472570971.000000"},"ts":"1472570945.000029"},{"type":"message","user":"U0ZJZBJLF","text":"Of course, not that I'm one to decide or anything, just saying my opinion","ts":"1472570959.000030"},{"type":"message","user":"U0KPFAZNF","text":"i agree that doing the upgrade isnt likely to impact errant makefile rules\u2026all I am saying is that doing the upgrade first means we have to regenerate commited .pb.go files only to turn around and delete them in a follow up patch","ts":"1472571011.000032"},{"type":"message","user":"U0KPFAZNF","text":"it seemed suboptimal","ts":"1472571018.000033"},{"type":"message","user":"U0KPFAZNF","text":"i dont think its a huge deal either way","ts":"1472571052.000034"},{"type":"message","user":"U0ZJZBJLF","text":"why? in the follow-up patch we only impact the Makefile et. al won't we?","edited":{"user":"U0ZJZBJLF","ts":"1472571074.000000"},"ts":"1472571052.000035"},{"type":"message","user":"U0KPFAZNF","text":"well, we delete any commited pb.go files in the dynamic support, right?","ts":"1472571095.000037"},{"type":"message","user":"U0ZJZBJLF","text":"I see","ts":"1472571106.000038"},{"type":"message","user":"U0ZJZBJLF","text":"yep","ts":"1472571108.000039"},{"type":"message","user":"U0KPFAZNF","text":"its also unclear what, if any, side effects we may be seeing as a result of the upgrade","ts":"1472571121.000040"},{"type":"message","user":"U0KPFAZNF","text":"so, doing two discrete patches makes sense to me, and doing the dynamic one first seemed to generate less git chatter","ts":"1472571141.000041"},{"type":"message","user":"U0ZJZBJLF","text":"when I did the patch, I first upgraded the proto version and all the pb.go files, ran the tests, and only after that- messed with the dynamic compilation. So, it should work...","ts":"1472571160.000042"},{"type":"message","user":"U0ZJZBJLF","text":"but yeah I understand now","ts":"1472571170.000043"},{"type":"message","user":"U0KPFAZNF","text":"you are probably right, but I had to pick one vs the other","ts":"1472571178.000044"},{"type":"message","user":"U0ZJZBJLF","text":"As long as one can take later the updated files that changed(from my patch), and merge it without conflicts to the master that'll be at that point, we still benefit from my patch.","edited":{"user":"U0ZJZBJLF","ts":"1472571404.000000"},"ts":"1472571383.000045"},{"type":"message","user":"U0YP7KFGQ","text":"<@U1AU8DRQR> , <@U0ULK2JPP> : I updated <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/535\/> according to your comments and replayed to your comments as well. Can you look into it again?","ts":"1472571725.000047"},{"user":"U268EB76W","text":"<@U268EB76W|chainsaw> has joined the channel","type":"message","subtype":"channel_join","ts":"1472572780.000048"},{"user":"U0Y62UYF7","text":"<@U0Y62UYF7|jachtermann> has joined the channel","type":"message","subtype":"channel_join","ts":"1472574399.000049"},{"user":"U19VASPGV","text":"<@U19VASPGV|ccorley> has joined the channel","type":"message","subtype":"channel_join","ts":"1472574966.000050"},{"type":"message","user":"U1AU8DRQR","text":"<@U0YP7KFGQ>: I will check it","ts":"1472577024.000051"},{"type":"message","user":"U0YP7KFGQ","text":"<@U1AU8DRQR> : I will push merged version soon","ts":"1472577080.000052"},{"type":"message","user":"U0YP7KFGQ","text":"<@U1AU8DRQR> : Pushed rebased patch","ts":"1472578661.000053"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/807\/>","ts":"1472596492.000054"},{"type":"message","user":"U0UKTPMG8","text":"<@U0KPFAZNF> has there been any thought to bumping up the docker-compose version?","ts":"1472600491.000055"},{"type":"message","user":"U0KPFAZNF","text":"no one has mentioned it, but sounds reasonable to me","ts":"1472600565.000056"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0KPFAZNF> , the signed off by contains my name so I guess it's based on my patch? I so- what did you change in comparison to my patch, in a few words?","ts":"1472626643.000057"},{"type":"message","user":"U1LES78TT","text":"is this a random failure of fabric\/core\/crypto\/crypto_test.go? I feel it's unlikely I've broken it with my changes\n\n<https:\/\/jenkins.hyperledger.org\/view\/fabric\/job\/fabric-verify-x86_64\/745\/console>","ts":"1472631383.000058"},{"type":"message","user":"U1LES78TT","text":"now my reverify failed because vagrant provision couldn't install \"default-jre\"\n\n<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/747\/console>","ts":"1472632310.000059"},{"type":"message","user":"U1LES78TT","text":"08:17:04 The following packages have unmet dependencies:\n08:17:04  default-jre : Depends: default-jre-headless (= 2:1.7-51) but it is not going to be installed\n08:17:04                Depends: openjdk-7-jre (&gt;= 7~u3-2.1.1) but it is not going to be installed","ts":"1472632336.000060"},{"type":"message","user":"U1AU8DRQR","text":"shall I merge this? <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/729\/> verify always fails with different random issues...","ts":"1472633410.000061"},{"type":"message","user":"U0XR6J961","text":"maybe we should trace what random issues fail","ts":"1472635554.000062"},{"type":"message","user":"U0XR6J961","text":"and then fix those first, before adding features","ts":"1472635570.000063"},{"type":"message","user":"U1AU8DRQR","text":"lets try it locally","ts":"1472637509.000064"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF>: no changes, I literally did a \"git cherry-pick\" of your original work.  Git dropped the parts that I already did (like delete the pb.go files) and I had to conflict resolve the Makefile.  That's it.  I left your DCO out of respect\/credit to you since it was your work, but I can drop if you are not comfortable","ts":"1472644284.000065","reactions":[{"name":"+1","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"(Btw, leaving DCO trail during merge resolution is standard for most projects)","ts":"1472644423.000066"},{"type":"message","user":"U0XR6J961","text":"ok","ts":"1472645887.000067"},{"type":"message","user":"U0ZJZBJLF","text":"no I was just wondering","ts":"1472645905.000068"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1472646220.000069"},{"type":"message","user":"U1AU8DRQR","text":"I have the same problem as <@U1LES78TT>","ts":"1472647238.000070"},{"type":"message","user":"U0XR6J961","text":"<@U0ULK2JPP>: again, to make sure, a chaincode's Init function is invoked every time the container is started?","ts":"1472651728.000071"},{"type":"message","user":"U0ULK2JPP","text":"<@U0XR6J961> \u2026 no. but let us make sure we are talking about the same thing. deploy, chaincode dies, invoke, chaincode container is brought up again\u2026. init won\u2019t be called","ts":"1472651854.000072"},{"type":"message","user":"U0XR6J961","text":"when is Init() called?","ts":"1472651871.000073"},{"type":"message","user":"U0ULK2JPP","text":"when you deploy","ts":"1472651880.000074"},{"type":"message","user":"U0XR6J961","text":"aha","ts":"1472651884.000075"},{"type":"message","user":"U0YP7KFGQ","text":"I have same problem with build","ts":"1472652121.000076"},{"type":"message","user":"U0KM61BCP","text":"think we are picking up a flakey ubuntu image","ts":"1472653480.000077"},{"type":"message","user":"U0KM61BCP","text":"keep reverifying","ts":"1472653488.000078"},{"type":"message","user":"U1AU8DRQR","text":"for one of my commits, it seems to be fixed now, the ubuntu things <@U0KM61BCP>","ts":"1472658985.000079"},{"type":"message","user":"U0PB67X4K","text":"did <http:\/\/gerrit.hyperledger.org|gerrit.hyperledger.org> disappear?    or do I just have a flaky internet connection?","ts":"1472665661.000080"},{"type":"message","user":"U0KPFAZNF","text":"discussed on <#C0YMWRX19|ci-pipeline>, LF DNS problems","ts":"1472665837.000081"},{"type":"message","user":"U0PB67X4K","text":"hmm - we give LF an awful lot of money for them to not properly manage DNS","ts":"1472665925.000082"},{"type":"message","user":"U0PB67X4K","text":":wink:","ts":"1472665926.000083"},{"type":"message","user":"U0PB67X4K","text":"I expect a globally resilient network  -  haha","ts":"1472665957.000084"},{"type":"message","user":"U0KM61BCP","text":"ok, I am going to create a v0.6 branch without developer-preview suffix as discussed, will create from master","ts":"1472688828.000085"},{"type":"message","user":"U0KM61BCP","text":"done <https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=fabric.git;a=shortlog;h=refs%2Fheads%2Fv0.6>","ts":"1472688906.000086"},{"type":"message","user":"U11RW82PM","text":"Hi, Sorry if this has already been mentioned, but when I try and use the latest docker hyperledger\/fabric-membersrvc  It just seems to hang.  I have to go back a few revisions to find one that works.  Is there an issue or a API change?","ts":"1472728073.000087"},{"type":"message","user":"U11RW82PM","text":"<@U0PB67X4K> You know who has a globally resilient network and is FREE for open source\u2026\u2026. GitHub.. We should consider that  :wink:","ts":"1472728150.000088"},{"type":"message","user":"U0KPFAZNF","text":"<@U11RW82PM>: I think that is FAD for the latest code.  You can explicitly enable logging to see old behavior","ts":"1472730699.000089"},{"type":"message","user":"U0KPFAZNF","text":"It's not really hung, just quiet","ts":"1472730712.000090"},{"type":"message","user":"U1AU8DRQR","text":"concurrent map read and write error: <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/791\/consoleFull>","ts":"1472731404.000091"},{"type":"message","user":"U11RW82PM","text":"<@U0KPFAZNF> Hi, Thanks for the response!  That makes sense, but when I try to connect to port 50051 using GRPC I get There was an error: rpc error: code = 14 desc = grpc: the connection is unavailable \u2026. Where if I use a previous image, all is good","ts":"1472731475.000092"},{"type":"message","user":"U11RW82PM","text":"Has the port changed?","ts":"1472731490.000093"},{"type":"message","user":"U0KPFAZNF","text":"yeah, a few weeks ago\u2026its something in the 7050 range now, let me look","ts":"1472731509.000094"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/Vagrantfile#L37>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/Vagrantfile#L37","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/Vagrantfile#L37","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1472731544.000095"},{"type":"message","user":"U11RW82PM","text":"cool!  How do I keep up on such changes?","ts":"1472731546.000097"},{"type":"message","user":"U0KPFAZNF","text":"ML\/slack is best bet","ts":"1472731558.000098"},{"type":"message","user":"U0KPFAZNF","text":"that type of disruption is (hopefully) rare though","ts":"1472731574.000099"},{"type":"message","user":"U11RW82PM","text":"<@U0KPFAZNF> as usual you\u2019re an absolute star!!  Thanks for the help!","ts":"1472731594.000100"},{"type":"message","user":"U0KPFAZNF","text":"any time","ts":"1472731601.000101"},{"type":"message","user":"U0XR6J961","text":"hgabor: again?","ts":"1472731704.000102"},{"type":"message","user":"U0XR6J961","text":"this viper needs to go away","ts":"1472731708.000103"},{"type":"message","user":"U0XR6J961","text":"and all the tests need to be changed","ts":"1472731715.000104"},{"type":"message","user":"U0XR6J961","text":"beuh","ts":"1472731716.000105"},{"type":"message","user":"U1AU8DRQR","text":"is he one?","ts":"1472731806.000106"},{"type":"message","user":"U0KM61BCP","text":"<@U0XR6J961>: suggestions?","ts":"1472733415.000107"},{"type":"message","user":"U0XR6J961","text":"i think we should ditch viper","ts":"1472733440.000108"},{"type":"message","user":"U0XR6J961","text":"i listed various other options in an issue a long time ago","ts":"1472733452.000109"},{"type":"message","user":"U0KM61BCP","text":"agree, it is suboptimal","ts":"1472733456.000110"},{"type":"message","user":"U0XR6J961","text":"nobody cared tho","ts":"1472733456.000111"},{"type":"message","user":"U0XR6J961","text":"it is slow (and people are caching results), and it tolerates incorrectly spelled settings","ts":"1472733483.000112"},{"type":"message","user":"U0XR6J961","text":"which is a disaster","ts":"1472733488.000113"},{"type":"message","user":"U1AU8DRQR","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/797\/console> first 'unstable' Jenkins verify I ve ever seen in this Jenkins","ts":"1472734100.000114"},{"type":"message","user":"U1AU8DRQR","text":"any ideas what happened? it seems that the problem was with the reports","ts":"1472734870.000115"},{"type":"message","user":"U0KM61BCP","text":"I've seen that a couple times","ts":"1472735007.000116"},{"type":"message","user":"U0KM61BCP","text":"will have <@U11HH3P7Y> look into it","ts":"1472735023.000117"},{"type":"message","user":"U11HH3P7Y","text":"<@U1AU8DRQR> I see some XML parsing error in behave test results report","ts":"1472735078.000118"},{"type":"message","user":"U11HH3P7Y","text":"please see this <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/797\/testReport\/junit\/TESTS-orderer\/xml\/_failed_to_read_\/>","ts":"1472735100.000119"},{"type":"message","user":"U1AU8DRQR","text":"btw I keep writing reverify all the day for a lot of commits. e.g. for yours, ramesh :slightly_smiling_face:","ts":"1472735108.000120"},{"type":"message","user":"U1AU8DRQR","text":"very unstable","ts":"1472735116.000121"},{"type":"message","user":"U1AU8DRQR","text":"and now the well-known jdk-jre problem","ts":"1472735892.000122"},{"type":"message","user":"U11RW82PM","text":"Hey gang.  Is there any chance we can be more specific on the error \u201csql: no rows in result set\u201d?","ts":"1472752247.000123"},{"type":"message","user":"U0KM61BCP","text":"<@U11RW82PM> <https:\/\/jira.hyperledger.org\/browse\/FAB-298> though there is a refactor of the ledger beginning and this may be moot sooner than we think\u2026 I will see if it is a simple fix","ts":"1472753081.000124"},{"type":"message","user":"U0KM61BCP","text":"<@U11RW82PM> could you please update that issue with any info that might help reproduce? Would be extremely helpful.","ts":"1472753568.000125"},{"type":"message","user":"U0KN2SSKE","text":"<@U0KM61BCP> <@U0UHG4VP1> Pat just submitted the SDK code to handle events <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/851\/>   \u2014 we really need that; could we add that to 0.6","ts":"1472755990.000126"},{"type":"message","user":"U0KM61BCP","text":"need to submit also to that branch","ts":"1472756016.000127"},{"type":"message","user":"U0KM61BCP","text":"git push origin HEAD:refs\/for\/v0.6","ts":"1472756093.000128"},{"type":"message","user":"U0KN2SSKE","text":"ok","ts":"1472756113.000129"},{"type":"message","user":"U0KM61BCP","text":"that should create another changeset for the branch","ts":"1472756120.000130"},{"type":"message","user":"U0KN2SSKE","text":"<@U0KM61BCP> he got an error\n\npmullaney [2:56 PM]  \nsure\n\n[2:57]  \nfailed\n\nnew messages\n[2:57]  \nTo <ssh:\/\/pmullaney@gerrit.hyperledger.org:29418\/fabric>\n! [remote rejected] HEAD -&gt; refs\/for\/v0.6 (no new changes)","ts":"1472756397.000131"},{"type":"message","user":"U0KN2SSKE","text":"<@U0KQ9QKH6>","ts":"1472756402.000132"},{"type":"message","user":"U0KPFAZNF","text":"My guess is it needs a new ChangeID ","ts":"1472756487.000133"},{"type":"message","user":"U0KM61BCP","text":"yes","ts":"1472756523.000134"},{"type":"message","user":"U0KM61BCP","text":"I think that you may want to make that from a branch that is initialized from HEAD of the v0.6 branch too","ts":"1472756580.000135"},{"type":"message","user":"U0KM61BCP","text":"pushing my non-existent Gerrit skills","ts":"1472756620.000136"},{"type":"message","user":"U0KM61BCP","text":"maybe <@U1BC5NF2S> can help?","ts":"1472756628.000137"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> we should probably change the version tag in master now","ts":"1472757351.000138"},{"type":"message","user":"U0KPFAZNF","text":"ill push that when I push the mirror-revert to 0.6","ts":"1472757371.000139"},{"type":"message","user":"U0KN2SSKE","text":"<@U0KQ9QKH6> i don\u2019t know the magic cmds either, so with my limited knowledge, i think you should do the following:\n&lt;save your changed files&gt;\ngit checkout v0.6\ngit fetch origin v0.6\ngit pull origin  v0.6\n&lt;copy your changes over and commit change set&gt; \ngit push origin HEAD:refs\/for\/v0.6","edited":{"user":"U0KN2SSKE","ts":"1472758357.000000"},"ts":"1472758331.000140"},{"type":"message","user":"U0KQ9QKH6","text":"I did the following:","ts":"1472758954.000142"},{"type":"message","user":"U0KQ9QKH6","text":"git pull origin  v0.6","ts":"1472758958.000143"},{"type":"message","user":"U0KQ9QKH6","text":"git checkout v0.6","ts":"1472758965.000144"},{"type":"message","user":"U0KQ9QKH6","text":"git cherry-pick bc36816ba06b4f9e1354e77b8602ce4b540cd81c","ts":"1472758977.000145"},{"type":"message","user":"U0KQ9QKH6","text":"which was the commit from my sdk-events branch","ts":"1472758993.000146"},{"type":"message","user":"U0KQ9QKH6","text":"git push","ts":"1472759006.000147"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KQ9QKH6> did your commit log have a ChangeID in it already?","ts":"1472759023.000148"},{"type":"message","user":"U0KQ9QKH6","text":"fails because of access rights","ts":"1472759037.000149"},{"type":"message","user":"U0KQ9QKH6","text":"yea it did","ts":"1472759042.000150"},{"type":"message","user":"U0KPFAZNF","text":"ok, i see two potential problems","ts":"1472759052.000151"},{"type":"message","user":"U0KPFAZNF","text":"1) dont \u201cgit push\u201d without qualifying the origin\/branch (e.g. git push gerrit HEAD:refs\/for\/v0.6)","ts":"1472759093.000152"},{"type":"message","user":"U0KPFAZNF","text":"2) try editing the commit log to remove the change id and have another generated","ts":"1472759114.000153"},{"type":"message","user":"U0KPFAZNF","text":"its just a guess, but I am wondering if gerrit only intends changeid to be used in one flow","ts":"1472759146.000154"},{"type":"message","user":"U0KPFAZNF","text":"i think the perms-denied is because IIUC you tried to do an unqualified push which will default directly to the branch instead of \u201crefs\/for\"","ts":"1472759199.000155"},{"type":"message","user":"U0KPFAZNF","text":"and I think the no-op is because it thinks its the same as the changeid already there","edited":{"user":"U0KPFAZNF","ts":"1472759231.000000"},"ts":"1472759216.000156"},{"type":"message","user":"U0KQ9QKH6","text":"gerrit being my local v0.6 branch with the cherry picked commit?","ts":"1472759227.000157"},{"type":"message","user":"U0KPFAZNF","text":"sorry, \u201cgerrit\u201d is a remote in my setup","ts":"1472759243.000159"},{"type":"message","user":"U0KPFAZNF","text":"not sure which remote you have","ts":"1472759249.000160"},{"type":"message","user":"U0KPFAZNF","text":"probably \u201corigin\u201d for you","ts":"1472759257.000161"},{"type":"message","user":"U0KPFAZNF","text":"the general form is \u201cgit push $remote HEAD:refs\/for\/$branch\"","ts":"1472759290.000162"},{"type":"message","user":"U0KQ9QKH6","text":"ok I *think* that went thru","ts":"1472759296.000163"},{"type":"message","user":"U0KPFAZNF","text":"where $remote\/$branch are context specific","ts":"1472759301.000164"},{"type":"message","user":"U0KPFAZNF","text":"yep, looks right","ts":"1472759329.000165"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/857\/>","ts":"1472759329.000166"},{"type":"message","user":"U0KQ9QKH6","text":"great thanks","ts":"1472759359.000167"},{"user":"U27EGE223","text":"<@U27EGE223|roman.pavlov> has joined the channel","type":"message","subtype":"channel_join","ts":"1472759895.000168"},{"type":"message","user":"U27EGE223","text":"Are non validating peers going to be deprecated in the near future, along  with the rest api?","ts":"1472759936.000169"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF> lost some context","ts":"1472760650.000170"},{"type":"message","user":"U0KM61BCP","text":"what are we mirroring? v0.6?","ts":"1472760658.000171"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF> so what is the flow?","ts":"1472761243.000172"},{"type":"message","user":"U0KM61BCP","text":"1. git pull origin  v0.6\n2, git checkout v0.6\n3. git cherry-pick bc36816ba06b4f9e1354e77b8602ce4b540cd81c","ts":"1472761295.000173"},{"type":"message","user":"U0KM61BCP","text":"4. git commit \u2014amend and remove the change-id?","ts":"1472761311.000174"},{"type":"message","user":"U0KM61BCP","text":"then git push gerrit HEAD:refs\/for\/v0.6 ?","ts":"1472761339.000175"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> I think so","ts":"1472761627.000176"},{"type":"message","user":"U0KM61BCP","text":"trying now","ts":"1472761635.000177"},{"type":"message","user":"U0KPFAZNF","text":"keep in mind, i am no expert, that just seems to be whats needed to make gerrit happy","ts":"1472761648.000178"},{"type":"message","user":"U0KM61BCP","text":"for 831","ts":"1472761653.000179"},{"type":"message","user":"U0KM61BCP","text":"we are all children with gerrit","ts":"1472761663.000180"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1472761666.000181"},{"type":"message","user":"U0KM61BCP","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/867\/>","ts":"1472761863.000182"},{"type":"message","user":"U0XQ35CDD","text":"Before we can even consider an external package for vendoring, what are the acceptable licenses for our project?","ts":"1472761968.000183"},{"type":"message","user":"U0KM61BCP","text":"apache","ts":"1472761978.000184"},{"type":"message","user":"U0XQ35CDD","text":"But Viper, for instance, is MIT-licensed.","edited":{"user":"U0XQ35CDD","ts":"1472762046.000000"},"ts":"1472762040.000185"},{"type":"message","user":"U0KN2SSKE","text":"<@U27EGE223> yes, it is very much replaced by committer, and the rest api is depreciated in preference of grpc with SDK","ts":"1472763313.000187"},{"type":"message","user":"U0KN2SSKE","text":"<@U0KM61BCP> did the steps work?  probably we should pin it somewhere so others can follow","ts":"1472763426.000188"},{"type":"message","user":"U0KM61BCP","text":"I will post email and update docs","ts":"1472764691.000189"},{"type":"message","user":"U0KM61BCP","text":"those are correct steps","ts":"1472764698.000190"},{"type":"message","user":"U1VG8LNP3","text":"How can I get deploy or invoke result directly? It seems that success response only means deploy or invoke tx was sended to consenter.","ts":"1472785851.000191"},{"type":"message","user":"U1LES78TT","text":"<@U1VG8LNP3> what API are you using to deploy and invoke?","ts":"1472787252.000192"},{"type":"message","user":"U1VG8LNP3","text":"CLI now. Is REST  different?","ts":"1472787384.000193"},{"type":"message","user":"U1VG8LNP3","text":"<@U1LES78TT>","ts":"1472787394.000194"},{"type":"message","user":"U1LES78TT","text":"REST does the same thing. You could try the node sdk","ts":"1472787400.000195"},{"type":"message","user":"U1LES78TT","text":"I'm not sure if it is better","ts":"1472787414.000196"},{"type":"message","user":"U1LES78TT","text":"I usually just check the blockchain for the result","ts":"1472787439.000197"},{"type":"message","user":"U1LES78TT","text":"did the logging get changed in membersrvc\/ca? a lot of the example chaincode used to call `ca.LogInit(ioutil.Discard, os.Stdout, os.Stdout, os.Stderr, os.Stdout)` but it is undefined now","ts":"1472794662.000198"},{"type":"message","user":"U1LES78TT","text":"from this commit it looks like I should just remove any of those LogInit functions.... \n<https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=fabric.git;a=commit;h=0ea65fd1ddbcffb83eef851cd63e25fdd2574855>","ts":"1472794966.000199"},{"type":"message","user":"U1LES78TT","text":"Is Jenkins completely broken at the moment? \n\n06:27:21 make: *** No rule to make target `unit-tests'.  Stop.","ts":"1472799585.000200"},{"type":"message","user":"U1LES78TT","text":"possibly related to this? <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/833\/>","ts":"1472799685.000201"},{"type":"message","user":"U1LES78TT","text":"oops ... it looks like I need to merge in some Makefile changes","ts":"1472801150.000202"},{"type":"message","user":"U0KM61BCP","text":"broken... I think <@U11HH3P7Y> has a patch to be merged","ts":"1472813150.000203"},{"type":"message","user":"U1AU8DRQR","text":"which branch do you mean?","ts":"1472813386.000204"},{"type":"message","user":"U1AU8DRQR","text":"isn't that patch already merged on master?","ts":"1472813398.000205"},{"type":"message","user":"U1AU8DRQR","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/673\/> this one","ts":"1472813449.000206"},{"type":"message","user":"U1AU8DRQR","text":"<@U0KM61BCP>","ts":"1472814682.000207"},{"type":"message","user":"U0PB67X4K","text":"so not sure what's exactly what's going on here, but looks like CI is broken due to some confusion between branches","ts":"1472910480.000208"},{"type":"message","user":"U0PB67X4K","text":"I have an update to date copy of master on my local machine and can reproduce the same error - looks like somehow master is using an image which has chaincode resources from the convergence branch","ts":"1472910585.000209"},{"type":"message","user":"U0PB67X4K","text":"","attachments":[{"fallback":"[September 3rd, 2016 10:03 AM] garisingh: okay - I think I figured it out - the use of <https:\/\/github.com\/hyperledger\/fabric-test-resources> is screwing us on the master branch as the example01 uses the new shim stuff from the convergence branch","ts":"1472911410.000328","author_subname":"garisingh","channel_id":"C0YMWRX19","channel_name":"ci-pipeline","is_msg_unfurl":true,"text":"okay - I think I figured it out - the use of <https:\/\/github.com\/hyperledger\/fabric-test-resources> is screwing us on the master branch as the example01 uses the new shim stuff from the convergence branch","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/garisingh","author_icon":"https:\/\/secure.gravatar.com\/avatar\/80cf890a6180fc256afbff3e251490b1.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-48.png","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/ci-pipeline\/p1472911410000328","is_share":true,"footer":"Posted in #ci-pipeline"}],"ts":"1472911440.000210"},{"type":"message","user":"U0YP7KFGQ","text":"Hi. Is anybody here?","ts":"1472989589.000002"},{"type":"message","user":"U0YP7KFGQ","text":"Any news about build?","ts":"1472989781.000003"},{"type":"message","user":"U0PB67X4K","text":"I am here","ts":"1472989868.000004"},{"type":"message","user":"U0PB67X4K","text":"no one seems to be responding to me about how to best solve the problem.  I know the issue but given I have no control \/ access to make changes in any repo makes it tough to fix.   I am going to fix it using my own repo and then we can put that structure in place in the main repo later","ts":"1472989950.000005"},{"type":"message","user":"U0PB67X4K","text":"are you pushing to the master branch?","ts":"1472989964.000006"},{"type":"message","user":"U0YP7KFGQ","text":"Right now yes.","ts":"1472991372.000007"},{"type":"message","user":"U0PB67X4K","text":"I am currently running the entire build process on my local machine with my proposed fix","ts":"1472992360.000008"},{"type":"message","user":"U0PB67X4K","text":"this is going to continue to be problematic with multiple branches and all these changes being made to the chaincode interface because Go versioning sucks.  There are things we can do, but we need to start putting that stuff in place","ts":"1472992431.000009"},{"type":"message","user":"U0YP7KFGQ","text":"Agreed.","ts":"1472993087.000010"},{"type":"message","user":"U0PB67X4K","text":"and people really need to start making sure they enter things in JIRA and use JIRA to discuss breaking changes, etc.   Else no one will have any idea what is actually going on","ts":"1472993540.000011"},{"type":"message","user":"U0PB67X4K","text":"it is actually quite frustrating","ts":"1472993548.000012","reactions":[{"name":"+1","users":["U1MNES6NR"],"count":1}]},{"type":"message","user":"U1MNES6NR","text":"Hi <@U0PB67X4K> ; could you please explain why \"go versioning sucks\" in this case? I'm quite interested :wink:","ts":"1472994002.000013"},{"type":"message","user":"U0PB67X4K","text":"<@U1MNES6NR>  - sure -   <https:\/\/jira.hyperledger.org\/browse\/FAB-305>","ts":"1472998295.000014"},{"type":"message","user":"U0PB67X4K","text":"the problem really stems from trying to do \"go get\" for something that is not currently in your GOPATH.   \"go get\" supports github URLs, but it will only pull from the HEAD of the master branch","ts":"1472998430.000015"},{"type":"message","user":"U0PB67X4K","text":"so let's see you have something which requires packageA which you import as \"<http:\/\/github.com\/packageA|github.com\/packageA>\"  and you don't keep it in your local GOPATH src tree.   So today you do a go build \/ go install on your package which used packageA.  Now let's say that night somebody decides to change the public interface methods for packageA.  The next day you clean your project and\/or share it with someone else.  They clone your project and now when they try to build it it won't compile because the version of packageA they get have the new interface methods","ts":"1472998621.000016"},{"type":"message","user":"U0PB67X4K","text":"<@U0KM61BCP> <@U0KPFAZNF>  -   <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/901\/>    - my attempt to temporarily fix the broken build for master","ts":"1472999101.000017"},{"type":"message","user":"U0PB67X4K","text":"continuing from above - the problem for us right now is that we multiple branches which use different versions of chaincode interfaces and we were trying to use a common remote resource","ts":"1472999256.000018"},{"type":"message","user":"U1MNES6NR","text":"Ok, thanks for the explanation :slightly_smiling_face:\nIMHO, Vendoring is addressing this issue, but in this case the main problem is that this test is downloading remote artifacts...\nIf the purpose is to test the downloading thing, would it be doable to Mock something instead of downloading blindly from Github?","ts":"1472999313.000020"},{"type":"message","user":"U0PB67X4K","text":"the fabric currently supports deploying chaincode from a remote repo (this is what the REST interface does).  We can probably eventually get rid of this once we remove the REST API, but the problem will continue in other places as well","edited":{"user":"U0PB67X4K","ts":"1472999376.000000"},"ts":"1472999361.000022"},{"type":"message","user":"U0PB67X4K","text":"but we can vendor, but we would need to actually start enforcing \/ explaining that as a mandatory practice for developing chaincode.  On the other hand, we really should start versioning certain things anyway","ts":"1472999430.000024"},{"type":"message","user":"U268EB76W","text":"<@U0PB67X4K> I would suggest the project instills versioning in the code and not rely on build tools to sort out what is a bullet train of continuous code modifications from out-of-sync parties. Look at Bitcoin core for an example of creating robust code that is smart enough about allowing multiple versions of code to co-locate and operate independently.","ts":"1473008121.000025"},{"type":"message","user":"U0PB67X4K","text":"<@U268EB76W> - you won't get any arguments out of me.  I have actually mentioned this in other posts - specifically when it comes to the interface(s) which chaincode authors are required to implement","ts":"1473008623.000026"},{"type":"message","user":"U0PB67X4K","text":"Given I have actually been running the fabric as a service for most of the year and running multiple versions of the fabric code (which BTW needs to start cutting actual releases), I have been suffering though this issue for a long time","ts":"1473008688.000027"},{"type":"message","user":"U0PB67X4K","text":"BUT - Go is definitely not as \"version\" friendly when it comes to packaging as are other languages","ts":"1473008728.000028"},{"type":"message","user":"U268EB76W","text":"<@U0KM61BCP> can you point me to a resource that documents the official Hyperledger Fabric development workflow and procedure, so I can understand how code is created, reviewed, committed, and assigned developers working on specific components, etc.? Is there a repo that contains code that has passed all builds and tests and does not break (stable)? Also, is there any resources that target non-hyperledger members (public) developers, like where to pull \/ clone code from, how to deploy the nodes without the devenv VM. For example say someone wants to deploy and run the behave tests on AWS or Azure. Is there a roadmap document that developers can read so they do not get boxed in to code and design that is going to be swapped out, removed, or refactored. This will prevent a lot of frustration for those investing in work only to see their dependencies removed.","ts":"1473008828.000029"},{"type":"message","user":"U268EB76W","text":"<@U0PB67X4K> I feel your pain :slightly_smiling_face:","ts":"1473009044.000030"},{"type":"message","user":"U268EB76W","text":"<@U0PB67X4K> personally I think and I will subject the code (source and bin) to the blockchain and integrate a chaincode repo that prevents this issue. This could manifest down the road and present a fragile and risky runtime environment by opening a vector for abuse :disappointed: Best to address now why the design and code are still in the infant stage.","ts":"1473009284.000031"},{"type":"message","user":"U0KM61BCP","text":"<@U268EB76W> <http:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/#fabric-developer-guide> - but there\u2019s more to it than just that","attachments":[{"title":"Hyperledger Fabric","title_link":"http:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/#fabric-developer-guide","text":"Welcome to the Hyperledger fabric documentation","fallback":"Hyperledger Fabric","from_url":"http:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/#fabric-developer-guide","service_icon":"http:\/\/hyperledger-fabric.readthedocs.io\/favicon.ico","service_name":"hyperledger-fabric.readthedocs.io","id":1}],"ts":"1473015175.000032"},{"type":"message","user":"U0KM61BCP","text":"basically, we use JIra for issue and story tracking. If you see something you\u2019d like to work on, LMK and either <@U0PB67X4K> or I can get you integrated","ts":"1473015290.000034"},{"type":"message","user":"U0KM61BCP","text":"in particular, have a look at <http:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/CONTRIBUTING\/>","edited":{"user":"U0KM61BCP","ts":"1473015367.000000"},"ts":"1473015346.000035"},{"type":"message","user":"U268EB76W","text":"Awesome! Thx <@U0KM61BCP>. But I'm not a member, so I can't work on (contribute) code :disappointed:","ts":"1473018593.000037"},{"type":"message","user":"U268EB76W","text":"<@U0KM61BCP> Hey I got my LF ID so I guess I'm good to GO :slightly_smiling_face: pun untended.","ts":"1473021376.000038"},{"type":"message","user":"U0KM61BCP","text":";-_","ts":"1473021384.000039"},{"type":"message","user":"U0KM61BCP","text":"sweet","ts":"1473021386.000040"},{"type":"message","user":"U0KM61BCP","text":"ping me with any questions\u2026 <@U0KPFAZNF> and <@U0PB67X4K> are also good resources","ts":"1473021408.000041"},{"type":"message","user":"U268EB76W","text":"thx 4 prompting me into hyperlight <@U0KM61BCP>!","ts":"1473021434.000042"},{"type":"message","user":"U0ULK2JPP","text":"<@U0PB67X4K> commented on <https:\/\/jira.hyperledger.org\/browse\/FAB-305>","ts":"1473022636.000043"},{"type":"message","user":"U0PB67X4K","text":"<@U0ULK2JPP> - thanks","ts":"1473026910.000044"},{"type":"message","user":"U0PB67X4K","text":"I also pushed a patch for review - temporary most likely - but will allow CI to work for master","ts":"1473026940.000045"},{"type":"message","user":"U1M7K67EV","text":"Does anyone know how often the Github mirrors are updated?","ts":"1473047410.000046"},{"type":"message","user":"U0KM61BCP","text":"every merged patch I believe","ts":"1473062892.000047"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> set it up","ts":"1473062906.000048"},{"type":"message","user":"U1M7K67EV","text":"thanks <@U0KM61BCP>, it just seems to be a few days behind","ts":"1473063211.000049"},{"type":"message","user":"U1M7K67EV","text":"Not that it bothers me, was just curious","ts":"1473063219.000050"},{"type":"message","user":"U0KM61BCP","text":"could be a glitch - will have it looked at","ts":"1473064903.000051"},{"type":"message","user":"U1AU8DRQR","text":"<@U0KM61BCP> <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/841\/> how exactly did you mean?","edited":{"user":"U1AU8DRQR","ts":"1473066636.000000"},"ts":"1473066619.000052"},{"type":"message","user":"U0KM61BCP","text":"it seems like every day you are proposing yet another change","ts":"1473071688.000054"},{"type":"message","user":"U1AU8DRQR","text":"this is not related to my other changes (which were only submitted to the feature branch...). this was requested by users","ts":"1473072454.000059"},{"type":"message","user":"U1AU8DRQR","text":"and I don't think it is  big change to have a getter for a field","ts":"1473072497.000060","reactions":[{"name":"+1","users":["U1MNES6NR"],"count":1}]},{"user":"U2891BNAG","text":"<@U2891BNAG|rvaughan> has joined the channel","type":"message","subtype":"channel_join","ts":"1473072820.000061"},{"type":"message","user":"U0PB67X4K","text":"IMHO, every change must be tied to a JIRA entry.  We need to be able to understand why changes are being made, who is requesting them and where they fit into the (eventual) release milestones","ts":"1473072833.000062","reactions":[{"name":"+1","users":["U268EB76W"],"count":1}]},{"type":"message","user":"U1AU8DRQR","text":"I thought <@U0MM86C84> will open a JIRA for it, but I can do it if there isn't one","ts":"1473072944.000063"},{"type":"message","user":"U1AU8DRQR","text":"<@U0PB67X4K> what do you think if it this way? <https:\/\/jira.hyperledger.org\/browse\/FAB-306> <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/841\/>","ts":"1473073632.000064","reactions":[{"name":"+1","users":["U0PB67X4K"],"count":1}]},{"type":"message","user":"U0PB67X4K","text":"although as <@U0KM61BCP> mentioned, there is definitely a lot of churn going on with the chaincode interfaces.  this is not a problem if you are someone who is keeping up with the bleeding edge of fabric, but the lack of releases causes a lot of issues when trying to simply build, compile and test chaincode","ts":"1473074719.000065"},{"type":"message","user":"U1AU8DRQR","text":"the chaincode API on master hasn't changed yet, so I don't exactly understand your opinion","ts":"1473075360.000066"},{"type":"message","user":"U0PB67X4K","text":"ah - that's true - not on master - although it has changed significantly on master since we cut the v0.5-developer-preview release","ts":"1473075417.000067"},{"type":"message","user":"U1AU8DRQR","text":"if you mean the base64 thing (as I remember that was the only change), that is unrelated to this, and it is kinda 'reverted' in a sense that one can use the 'old, usual' REST API and cli calls","ts":"1473075468.000068"},{"type":"message","user":"U0PB67X4K","text":"but my point is valid - even this one change is going to break people who store their chaincode in github and attempt to build it","ts":"1473075479.000069"},{"type":"message","user":"U0PB67X4K","text":"well maybe not this change  :wink:","ts":"1473075516.000070"},{"type":"message","user":"U1AU8DRQR","text":"it would only break that kind of code (not only this but any chaincode related change) if it changed the API (Invoke, Init, Query). or not?","ts":"1473075584.000071"},{"type":"message","user":"U0PB67X4K","text":"I think we are generally safe as long as we don't break the interfaces chaincode is required to implement \/ use","edited":{"user":"U0PB67X4K","ts":"1473075899.000000"},"ts":"1473075865.000072"},{"type":"message","user":"U0PB67X4K","text":"so adding a function should be ok.  changing one would break the chaincode if they compile \/ deploy it against an up level of the peer","ts":"1473075954.000074"},{"type":"message","user":"U1AU8DRQR","text":"this is generally the same as what I said :slightly_smiling_face: - or not?","ts":"1473076372.000075"},{"type":"message","user":"U0PB67X4K","text":"yeah","ts":"1473076431.000076"},{"type":"message","user":"U0PB67X4K","text":"but it would be both the Chaincode and ChaincodeStubInterface","ts":"1473076497.000077"},{"type":"message","user":"U1AU8DRQR","text":"we can also reject the change and I can upload it to feature\/convergence","ts":"1473076591.000078"},{"type":"message","user":"U0PB67X4K","text":"well now is the time to get in any changes we think would be worthwhile to merge down to the v0.6 release","ts":"1473076712.000079"},{"type":"message","user":"U0PB67X4K","text":"although it is still unclear to me how \/ when we are cutting that release","ts":"1473076745.000080"},{"type":"message","user":"U0PB67X4K","text":"and this one does seem useful","ts":"1473076784.000081","reactions":[{"name":"+1","users":["U1MNES6NR"],"count":1}]},{"type":"message","user":"U268EB76W","text":"<@U0KM61BCP> is it inferred that a \"merged patch\" does not break the build, since github is updated post-merge? So, one can at anytime clone github hyperledger-fabric and build without error?","ts":"1473114316.000082"},{"type":"message","user":"U0PB67X4K","text":"<@U268EB76W> - that's the goal and generally holds true","ts":"1473114661.000083"},{"type":"message","user":"U0KM61BCP","text":"occasionally there can be breakage","ts":"1473115102.000084"},{"type":"message","user":"U268EB76W","text":"I have always maintained a master that ALWAYS builds. You don't add code unless it passes all tests performed by CI jobs responsible for committing code to the master. Everything else is in flux, but NO code gets in master if it breaks CI. There needs to be stages that code must move through, beginning with review. Then it is pushed to an integration CI build and if it passes then it is moved to a hot master tmp clone and if it builds with master then it is committed to the true master. Each primary branch should follow this pattern. And commits between branches also follow the \"no-breaks\" allowed rule. There is nothing more frustrating (and unproductive) to a developer than code that worked this morning but is broke this afternoon, because a peer added code that works in his env, but not in the system smoke out env :slightly_smiling_face: I'm new so maybe this is happening but has some issues yet to be shaken out :slightly_smiling_face: I just know that figuring out what and where to get the code that you can build without errors consistently is currently stressful, because you just cross your fingers and hope.","attachments":[{"fallback":"[September 5th, 2016 4:25 AM] garisingh: although as <@U0KM61BCP> mentioned, there is definitely a lot of churn going on with the chaincode interfaces.  this is not a problem if you are someone who is keeping up with the bleeding edge of fabric, but the lack of releases causes a lot of issues when trying to simply build, compile and test chaincode","ts":"1473074719.000065","author_subname":"garisingh","channel_id":"C0YPYBVJM","channel_name":"fabric-dev","is_msg_unfurl":true,"text":"although as <@U0KM61BCP> mentioned, there is definitely a lot of churn going on with the chaincode interfaces.  this is not a problem if you are someone who is keeping up with the bleeding edge of fabric, but the lack of releases causes a lot of issues when trying to simply build, compile and test chaincode","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/garisingh","author_icon":"https:\/\/secure.gravatar.com\/avatar\/80cf890a6180fc256afbff3e251490b1.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-48.png","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev\/p1473074719000065","is_share":true,"footer":"Posted in #fabric-dev"}],"ts":"1473115308.000085"},{"type":"message","user":"U268EB76W","text":"Can I be pointed to a document that explains the branches--their purpose, and relationship to the other branches? And another document that explains the CI design, jobs, procedures, etc. so I can understand the flow from developer to release? Is there a planned release cycle or target? How can I get tuned into the process being used to negotiate the features that are being decided on and scheduled for development?","ts":"1473116087.000086"},{"type":"message","user":"U1M7K67EV","text":"Hi folks, just wondering if anyone might be aware if there were any particular reasons why the `CORE_VM_ENDPOINT` in the BDD Tests was chosen to be the Docker IP as opposed to the Socket at `\/var\/run\/docker.sock`. Just looking at changing it so that Jenkins doesn't need to do any nasty `sed` substitution in the docker-compose config files for running the tests","ts":"1473125317.000087"},{"user":"U0NLP5909","text":"<@U0NLP5909|hanhzf> has joined the channel","type":"message","subtype":"channel_join","ts":"1473138754.000088"},{"type":"message","user":"U0XR6J961","text":"jcarrivick: you need to map this socket into the peer container, so that the peer in the container can talk to the docker service","ts":"1473152211.000089"},{"type":"message","user":"U1WUAQJVC","text":"AnyOne know where the logs go when we log something in our code using op\/logging ?  In earlier versions we used to see that on register chain code console...","ts":"1473154347.000090"},{"user":"U0NK7T8SH","text":"<@U0NK7T8SH|bryan-huang> has joined the channel","type":"message","subtype":"channel_join","ts":"1473158861.000091"},{"type":"message","user":"U0XR6J961","text":"pushpalatha: docker container stdout","ts":"1473159767.000092"},{"type":"message","user":"U1WUAQJVC","text":"<@U0XR6J961> : No.. i am unable to see the logs there...","ts":"1473159875.000093"},{"type":"message","user":"U0PB67X4K","text":"<@U1M7K67EV>  - As you know, in the BDD tests the peers run in Docker as well.    If you want to use `\/var\/run\/docker.sock` it adds a few complexities:\n\n1) You'll need to mount `\/var\/run\/docker.sock` as a volume\n2) You'll need to either run the peer container(s) in privileged mode (you might also be able to simply add the user the process is running as to the `docker` group as well)","edited":{"user":"U0PB67X4K","ts":"1473160355.000000"},"ts":"1473160236.000094"},{"type":"message","user":"U0PB67X4K","text":"Why can't we just use the same TCP port for the Docker daemon?","ts":"1473160258.000095"},{"type":"message","user":"U0PB67X4K","text":"what substitution are we making now?  (I could look but :wink:  )","ts":"1473160300.000096"},{"type":"message","user":"U1WUAQJVC","text":"<@U0XR6J961> : the console where docker-compose up runs, i am double sure that it is not logging.. That is why i'm lost. Please confirm","ts":"1473161359.000098"},{"type":"message","user":"U1AU8DRQR","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/913\/>","ts":"1473161567.000099"},{"type":"message","user":"U1AU8DRQR","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/785\/>","ts":"1473167466.000100"},{"type":"message","user":"U1AU8DRQR","text":"can somebody review those?","ts":"1473167474.000101"},{"type":"message","user":"U11MANG9G","text":"<@U1AU8DRQR>: `913` has a pending a question from Gari, and `785` is merged, but the post-merge build FAILs.","ts":"1473181299.000102"},{"type":"message","user":"U11MANG9G","text":"I hope you missed me :wink:","ts":"1473181309.000103"},{"type":"message","user":"U1AU8DRQR","text":"oh really I did","ts":"1473181377.000104"},{"type":"message","user":"U1AU8DRQR","text":"the post-merge thing seems to be some instability","ts":"1473181414.000105"},{"type":"message","user":"U1AU8DRQR","text":"do you mean this from <@U0PB67X4K> : LGTM","ts":"1473181481.000106"},{"type":"message","user":"U268EB76W","text":"<@U0KPFAZNF> Where can I find release v0.5? I need the release deployed on BMX to demo IBM learn-chaincode tomorrow without modifying it for the new chaincode interface, because I will deploy to BMX and execute it there.","ts":"1473187978.000107"},{"type":"message","user":"U0PB67X4K","text":"<@U268EB76W>  - <http:\/\/github.com\/hyperledger-archives\/fabric>    and then you'll see the v0.5-developer-preview branch","edited":{"user":"U0PB67X4K","ts":"1473190583.000000"},"ts":"1473190561.000108"},{"type":"message","user":"U268EB76W","text":"sweet! thx <@U0PB67X4K>","ts":"1473192620.000110"},{"type":"message","user":"U11HH3P7Y","text":"Someone please look into to this issue <https:\/\/jira.hyperledger.org\/browse\/FAB-101>","ts":"1473201377.000111"},{"type":"message","user":"U11HH3P7Y","text":"seeing this error in the recent builds ```5:17 --- FAIL: TestClassicBackToBackStateTransfer (60.13s)\n16:35:17 2016\/09\/06 16:35:16 Halting timer\n16:35:17 panic: Test network took more than 60 seconds to resolve requests, this usually indicates a hang [recovered]\n16:35:17 \tpanic: Test network took more than 60 seconds to resolve requests, this usually indicates a hang```","ts":"1473201411.000112"},{"type":"message","user":"U1M7K67EV","text":"<@U0PB67X4K> \nI got it all working here: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/909\/>\nI did have to add the volume like you suggested with the exception that the version of docker-compose we run doesn't support mounting single files as a volume so I had to mount the entire `\/var\/run\/` folder from the host. Not ideal, but we would have to upgrade both docker and docker-compose in Jenkins (which we probably should do at some point) in order to only mount `\/var\/run\/docker.sock`\n\nsed currently replaces the IP in `bddtests\/compose-defaults.yml` with the host's docker IP, changing it to the socket would decouple the tests further from the environment they are running in.","ts":"1473206871.000113"},{"type":"message","user":"U268EB76W","text":"<@U0PB67X4K> how do \"delete\" a deployed chaincode? If I want to update it do I just deploy the updated version again? I realized the chaincode ID is unique and generated for each deploy. So how would \"re\"deploy?","ts":"1473211654.000114"},{"type":"message","user":"U268EB76W","text":"<@U0PB67X4K> on BMX that is.","ts":"1473211723.000115"},{"type":"message","user":"U0YR44350","text":"<@U268EB76W> are you using SDK to deploy the chaincode?","ts":"1473212101.000116"},{"type":"message","user":"U268EB76W","text":"So I took the v0.5 release from the archive and created a public github repo then changed all occurrences of \"hyperledger\/fabric\" in the code to TarantulaTechnology\/fabric (my new repo) then updated the IBM learn-chaincode code in my learn-chaincode repo to the new path and was able to compile without the shim errors. I was able to deploy it to BMX :slightly_smiling_face: Now I have a working v0.5 to use with the IBM code that only works with v0.5 which is the deployed version on BMX. This allows me to share with new engineers how to build chaincode and let's them deploy it without the headache of mastering the devenv and the stream of continuous changes :slightly_smiling_face: This allows them to focus on one thing the chaincode, before deciding if they want to jump into the deep water of devenv :slightly_smiling_face:","ts":"1473212347.000117"},{"type":"message","user":"U268EB76W","text":"<@U0YR44350> I'm using Swagger UI on Bluemix IBM Blockchain service. This is for teaching chaincode development--entry level. I do use it in my experimental development though. I will utilize it and front-end it.","ts":"1473212539.000118"},{"type":"message","user":"U0YR44350","text":"so, if you update the chaincode, it should generate a new chaincode ID","ts":"1473212585.000119"},{"type":"message","user":"U0YR44350","text":"are you saying you want to replace the existing chaincode with a new one keeping the same data underneath?","ts":"1473212624.000120"},{"type":"message","user":"U268EB76W","text":"Right, I deployed a chaincode, added a new method to it, and now want to redeploy it. My curiosity wonders if the prior chaincode is still out there and can be accessed. I want to effectively destroy it and deploy my new version or I might want to keep it and run to versions one without the new method and one with it. Flexibility is required.","ts":"1473212888.000121"},{"type":"message","user":"U268EB76W","text":"I","ts":"1473212949.000122"},{"type":"message","user":"U268EB76W","text":"I'll just experiment for now and see what happens. Thx <@U0YR44350>","ts":"1473212994.000123"},{"type":"message","user":"U0YR44350","text":"I don't think you can destroy chaincode using the REST APIs","ts":"1473213022.000124"},{"type":"message","user":"U0YR44350","text":"you can deploy a new one and switch to using it","ts":"1473213045.000125"},{"type":"message","user":"U268EB76W","text":"The Bluemix IBM Blockchain service is limited in this regard. It too is beta but is great for playing and utilizes Swagger to allow easy interaction with the various components. It's v0.5 so I had to go back in time to make my demo work. My focus is in the SDK too I just haven't had the time to drill down on it and my gut is telling me I should wait because a lot of work is taking place and trying to grasp a bullet is dangerous so I sit play watch experiment until my gut says the cement and iron is in place and the foundation will no longer be shifting under my feet. Plus I expect to do a ton of customization to Hyperledger too.","edited":{"user":"U268EB76W","ts":"1473215026.000000"},"ts":"1473214924.000126"},{"type":"message","user":"U1AU8DRQR","text":"btw: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/943\/> same HTTP test error as yesterday. wasn't that fixed? rebase helped for other commits.","ts":"1473258975.000128"},{"type":"message","user":"U0PB67X4K","text":"yeah - that's odd.  did you rebase?","ts":"1473260807.000129"},{"type":"message","user":"U1AU8DRQR","text":"last time (3 hours ago) I tried it said it is up to date <@U0PB67X4K>","ts":"1473278393.000130"},{"user":"U231RFLFP","text":"<@U231RFLFP|bala.vellanki> has joined the channel","type":"message","subtype":"channel_join","ts":"1473285539.000131"},{"user":"U29BAKE8L","text":"<@U29BAKE8L|xiejunan> has joined the channel","type":"message","subtype":"channel_join","ts":"1473299934.000132"},{"type":"message","user":"U115YGEH1","text":"What is the reasoning for not having  an undeploy for chaincode?","ts":"1473301078.000133"},{"type":"message","user":"U0KPFAZNF","text":"<@U115YGEH1> its purely a function of project maturity.  There are plans for full chaincode lifecycle management including deployment, update, and termination","ts":"1473301560.000134"},{"type":"message","user":"U0KPFAZNF","text":"just right now, only deploy is available","ts":"1473301573.000135"},{"type":"message","user":"U115YGEH1","text":"Okay. Is there any documentation on the final vision for chaincode?","ts":"1473301661.000136"},{"type":"message","user":"U0ULK2JPP","text":"<@U115YGEH1> documentation is work in progress.. will be first brought to the community. But for a starter sketch take a look at <https:\/\/jira.hyperledger.org\/browse\/FAB-183> (also FAB-182)","ts":"1473302919.000137"},{"type":"message","user":"U0ULK2JPP","text":"just talks about upgrade and deploy but introduce \u201clifecycle\u201d","edited":{"user":"U0ULK2JPP","ts":"1473303141.000000"},"ts":"1473303122.000138"},{"type":"message","user":"U0KPFAZNF","text":"thank you <@U0ULK2JPP>, was struggling to find the pointer","ts":"1473303146.000140"},{"type":"message","user":"U0ULK2JPP","text":"thank you too!","ts":"1473303160.000141"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> ping","ts":"1473303161.000142"},{"type":"message","user":"U0ULK2JPP","text":"need to air these things more","ts":"1473303182.000143"},{"type":"message","user":"U0KPFAZNF","text":"yeah, hopefully we converge on a wiki solution soon","ts":"1473303213.000144"},{"type":"message","user":"U0ULK2JPP","text":"that will help for sure","ts":"1473303233.000145"},{"type":"message","user":"U115YGEH1","text":"Thanks ^ ^","ts":"1473329512.000146"},{"type":"message","user":"U1WUAQJVC","text":"Hi All, Any idea why we get this :\n\n\nmembersrvc_1  | 2016\/09\/08 10:37:42 grpc: Server.Serve failed to complete security handshake.\nvp0_1         | 2016\/09\/08 10:37:43 grpc: ClientConn.resetTransport failed to create client transport: connection error: desc = \"transport: write tcp 172.17.0.3:44224-&gt;172.17.0.2:7054: write: broken pipe\"; Reconnecting to \"membersrvc:7054\"","ts":"1473331114.000147"},{"type":"message","subtype":"file_share","text":"<@U0XQ35CDD|kostas> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/kostas\/F29S2N4JE\/_make_all__output.sh|'make all' output> and commented: What's going on here?","file":{"id":"F29S2N4JE","created":1473394009,"timestamp":1473394009,"name":"_make_all__output.sh","title":"'make all' output","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0XQ35CDD","editable":true,"size":443,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F29S2N4JE\/_make_all__output.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F29S2N4JE\/download\/_make_all__output.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/kostas\/F29S2N4JE\/_make_all__output.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F29S2N4JE-de3b0da859","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/kostas\/F29S2N4JE\/_make_all__output.sh\/edit","preview":"ok  \tgithub.com\/hyperledger\/fabric\/tools\/dbutility\t0.061s\tcoverage: 31.9% of statements\r\nStopping peer..\r\nBuilding build\/docker\/bin\/membersrvc\r\nUnable to find image 'hyperledger\/fabric-src:x86_64-0.7.0-SNAPSHOT-b3644ab' locally\r\nPulling repository docker.io\/hyperledger\/fabric-src\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>ok  \tgithub.com\/hyperledger\/fabric\/tools\/dbutility\t<span class=\"cm-number\">0<\/span>.061s\tcoverage: <span class=\"cm-number\">31<\/span>.9% of statements<\/pre><\/div>\n<div><pre>Stopping peer..<\/pre><\/div>\n<div><pre>Building build\/docker\/bin\/membersrvc<\/pre><\/div>\n<div><pre>Unable to <span class=\"cm-builtin\">find<\/span> image <span class=\"cm-string\">'hyperledger\/fabric-src:x86_64-0.7.0-SNAPSHOT-b3644ab'<\/span> locally<\/pre><\/div>\n<div><pre>Pulling repository docker.io\/hyperledger\/fabric-src<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":8,"lines_more":3,"preview_is_truncated":null,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc29RSFPLM","created":1473394009,"timestamp":1473394009,"user":"U0XQ35CDD","is_intro":true,"comment":"What's going on here?","channel":""}},"user":"U0XQ35CDD","upload":true,"display_as_bot":false,"username":"<@U0XQ35CDD|kostas>","bot_id":null,"ts":"1473394009.000148"},{"type":"message","user":"U0UHG4VP1","text":"weird. we don\u2019t have any images with a name like that: <https:\/\/hub.docker.com\/u\/hyperledger\/> shows what we have","ts":"1473394161.000150"},{"type":"message","user":"U1M7K67EV","text":"<@U0XQ35CDD> try a `make images-clean` and then try again","ts":"1473394267.000151"},{"type":"message","user":"U0UHG4VP1","text":"<@U0XQ35CDD> looking at this console log, we build that. I think <@U1M7K67EV> is correct. <https:\/\/jenkins.hyperledger.org\/job\/fabric-merge-x86_64\/157\/console>","ts":"1473394411.000152"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F29RLV89W\/-.txt|Untitled>","file":{"id":"F29RLV89W","created":1473394450,"timestamp":1473394450,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":556,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F29RLV89W\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F29RLV89W\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F29RLV89W\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F29RLV89W-e0eb4e6c7b","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F29RLV89W\/-.txt\/edit","preview":"14:04:11 Building docker src-image\r\n14:04:14 docker build -t hyperledger\/fabric-src build\/image\/src\r\n14:04:15 Sending build context to Docker daemon 557.1 kB\r\n...\r\n14:04:15 Step 0 : FROM hyperledger\/fabric-baseimage:latest\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>14:04:11 Building docker src-image<\/pre><\/div>\n<div><pre>14:04:14 docker build -t hyperledger\/fabric-src build\/image\/src<\/pre><\/div>\n<div><pre>14:04:15 Sending build context to Docker daemon 557.1 kB<\/pre><\/div>\n<div><pre>...<\/pre><\/div>\n<div><pre>14:04:15 Step 0 : FROM hyperledger\/fabric-baseimage:latest<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":12,"lines_more":7,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1473394450.000153"},{"type":"message","user":"U1M7K67EV","text":"it's because the version was bumped from 0.6 to 0.7 recently and it won't be able to find the 0.7 images because they're still tagged as 0.6","ts":"1473394520.000154","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0XQ35CDD","text":"Thank you, will give `make images-clean` a go.","edited":{"user":"U0XQ35CDD","ts":"1473395249.000000"},"ts":"1473395102.000155"},{"type":"message","subtype":"file_share","text":"<@U0XQ35CDD|kostas> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/kostas\/F29RVNWKX\/_make_images-clean__output.sh|'make images-clean' output>","file":{"id":"F29RVNWKX","created":1473395265,"timestamp":1473395265,"name":"_make_images-clean__output.sh","title":"'make images-clean' output","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0XQ35CDD","editable":true,"size":1498,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F29RVNWKX\/_make_images-clean__output.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F29RVNWKX\/download\/_make_images-clean__output.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/kostas\/F29RVNWKX\/_make_images-clean__output.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F29RVNWKX-6b9b143a7e","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/kostas\/F29RVNWKX\/_make_images-clean__output.sh\/edit","preview":"vagrant@hyperledger-devenv:v0.0.10-84431e3:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ make images-clean\r\ndocker rmi -f hyperledger\/fabric-baseimage\r\nError response from daemon: No such image: hyperledger\/fabric-baseimage:latest\r\nmake: [base-image-clean] Error 1 (ignored)\r\ndocker images -q hyperledger\/fabric-ccenv | xargs -r docker rmi -f\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>vagrant@hyperledger-devenv:v0.0.10-84431e3:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric<span class=\"cm-def\">$ make<\/span> images-clean<\/pre><\/div>\n<div><pre>docker rmi <span class=\"cm-attribute\">-f<\/span> hyperledger\/fabric-baseimage<\/pre><\/div>\n<div><pre>Error response from daemon: No such image: hyperledger\/fabric-baseimage:latest<\/pre><\/div>\n<div><pre><span class=\"cm-builtin\">make<\/span>: [base-image-clean] Error <span class=\"cm-number\">1<\/span> (ignored)<\/pre><\/div>\n<div><pre>docker images <span class=\"cm-attribute\">-q<\/span> hyperledger\/fabric-ccenv | xargs <span class=\"cm-attribute\">-r<\/span> docker rmi <span class=\"cm-attribute\">-f<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":18,"lines_more":13,"preview_is_truncated":null,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0XQ35CDD","upload":true,"display_as_bot":false,"username":"<@U0XQ35CDD|kostas>","bot_id":null,"ts":"1473395265.000157"},{"type":"message","user":"U0XQ35CDD","text":"That didn't go as expected.","ts":"1473395300.000158"},{"user":"U1CS08EP3","text":"<@U1CS08EP3|ashishkel> has joined the channel","type":"message","subtype":"channel_join","ts":"1473398089.000159"},{"type":"message","user":"U1CS08EP3","text":"Hi, Just trying to confirm, whether the hash\/\"chaincode id\" is supposed to change the second time deploy, if i deploy a chaincodeA with say initialization parameters a=100,b=200 first  AND deploy again with a=300,b=400 ?","ts":"1473398382.000160"},{"type":"message","user":"U1M7K67EV","text":"<@U0XQ35CDD> that's fine, just try `make unit-test` again and it'll rebuild the images","ts":"1473398522.000161"},{"type":"message","user":"U1LES78TT","text":"<@U1CS08EP3> I believe the hash has nothing to do with the deploy args... it is a hash of all the files in the chaincode directory, make sure you don't have any extra files in there with `ls -lah`","ts":"1473403102.000162"},{"type":"message","user":"U29BAKE8L","text":"'make protos' will report:","ts":"1473411875.000163"},{"type":"message","user":"U29BAKE8L","text":"protoc-gen-go:  error: inconsistent package names: extension_extra extension_base . What's the wrong with my enviroment? please help me.","ts":"1473412190.000164"},{"type":"message","user":"U1GLPP8QN","text":"<@U1CS08EP3> <@U1LES78TT> arguments are also a parts of the hashing, so changing args changes CCIDs (at least it used to on the main branch version a few days back)","ts":"1473414479.000165"},{"type":"message","user":"U1AU8DRQR","text":"<@U1GLPP8QN> changing args change chaincode ID? as <@U1LES78TT> said chaincode ID is a hash of all the files in the chaincode directory","ts":"1473414844.000166"},{"type":"message","user":"U1AU8DRQR","text":"changing args change TxID","ts":"1473414854.000167"},{"type":"message","user":"U1GLPP8QN","text":"it definitely used to change it -- will check in a moment (<@U23JFU108>)","ts":"1473416571.000168"},{"type":"message","user":"U1AU8DRQR","text":"where did it change that? chaincode ID is e.g. needed for deployment, do you mean that different deploy args lead to different CCIDs?","ts":"1473416672.000169"},{"user":"U29TSCRQU","text":"<@U29TSCRQU|a.klenik> has joined the channel","type":"message","subtype":"channel_join","ts":"1473417717.000170"},{"type":"message","user":"U1CS08EP3","text":"<@U1AU8DRQR> : that was my question. Whether deployment with differnt args lead to differnt CCIDs..","ts":"1473423161.000173"},{"type":"message","user":"U1CS08EP3","text":"Anyways, as <@U1LES78TT> mentioned, i will check with the ls -ltra also and come back to you folks","ts":"1473423332.000174"},{"type":"message","user":"U0KPFAZNF","text":"<http:\/\/lists.hyperledger.org\/pipermail\/hyperledger-technical-discuss\/2016-September\/000398.html>","ts":"1473423350.000175"},{"type":"message","user":"U1CS08EP3","text":"Protocol spec defines as \n&gt; chaincodeID - The ID of a chaincode which is a hash of the chaincode source, path to the source code, constructor function, and *parameters*.","ts":"1473423466.000176"},{"type":"message","user":"U1AU8DRQR","text":"<@U1CS08EP3> wow that's weird, last time I had an error with a chaincode ID somebody said that it only depends on the source code","ts":"1473423630.000177"},{"type":"message","user":"U1AU8DRQR","text":"<@U1CS08EP3> I mean some expert of the topic :slightly_smiling_face:","ts":"1473423668.000178"},{"type":"message","user":"U1CS08EP3","text":":slightly_smiling_face:","ts":"1473423869.000179"},{"type":"message","user":"U1CS08EP3","text":"<@U1AU8DRQR> - i just did a Find on the protocol spec before i ran my test case. I'm not sure yet. May be this is the reason i m not able to get my chaincode id rite right, when i m invoking from another chaincode.","ts":"1473423973.000180"},{"type":"message","user":"U1CS08EP3","text":"Cant be sure till I test it fully.","ts":"1473423990.000181"},{"type":"message","user":"U1MNES6NR","text":"I can confirm that the parameters does indeed change the chaincode id, at least on the v0.6 branch right now :wink: <@U1CS08EP3> <@U1AU8DRQR> \nTo be honest, I expected the chaincode id to be unique. What if I want to deploy exactly the same code, with the same parameters, as two different chaincodes?","ts":"1473425904.000182"},{"type":"message","user":"U1AU8DRQR","text":"<@U1MNES6NR> is that possible? <@U0ULK2JPP>","ts":"1473425963.000183"},{"type":"message","user":"U1GLPP8QN","text":"checked and possible (if the question is still related to the CCID generation)","ts":"1473426001.000184"},{"type":"message","user":"U0ULK2JPP","text":"<@U1MNES6NR> same code, diferent params will result in different ID","ts":"1473426008.000185"},{"type":"message","user":"U0ULK2JPP","text":"its a new chaincode with new initiazation","ts":"1473426020.000186"},{"type":"message","user":"U1GLPP8QN","text":"<@U1MNES6NR>  the deployment can be done by using a dummy parameter, but the CC would need to be prepped","ts":"1473426053.000187"},{"type":"message","user":"U0ULK2JPP","text":"the new architecture will address lifcycle issues more flexibly","ts":"1473426053.000188"},{"type":"message","user":"U1GLPP8QN","text":"on the same topic, CCs still access the ledger as a simple K-V store, right (<@U1AU8DRQR>)? so two CC-s sharing the same key names would result in faulty behaviour","edited":{"user":"U1GLPP8QN","ts":"1473426134.000000"},"ts":"1473426116.000189"},{"type":"message","user":"U1AU8DRQR","text":"<@U0ULK2JPP> if somebody wants to find out the CCID of a specific chaincode with a specific init, what is the specific way for that?","ts":"1473426147.000191"},{"type":"message","user":"U1AU8DRQR","text":"<@U1GLPP8QN> K-V store, dont you mean the world state?","ts":"1473426172.000192"},{"type":"message","user":"U1GLPP8QN","text":"<@U1AU8DRQR> yepp","ts":"1473426216.000193"},{"type":"message","user":"U1AU8DRQR","text":"as I know world state is per chaincode. <@U0ULK2JPP> ?","edited":{"user":"U1AU8DRQR","ts":"1473426323.000000"},"ts":"1473426224.000194"},{"type":"message","user":"U1AU8DRQR","text":"(I mean, separated)","ts":"1473426233.000195"},{"type":"message","user":"U1GLPP8QN","text":"that'd be the ideal imho, but i remember some issue related to this... long time ago though","ts":"1473426362.000197"},{"type":"message","user":"U1GLPP8QN","text":"(least this supports that a short changelog is very much in need :D)","ts":"1473426401.000198"},{"type":"message","user":"U1AU8DRQR","text":"yeah, you are right","ts":"1473426441.000199"},{"type":"message","user":"U1AU8DRQR","text":"I will write a note to the other maintainers","ts":"1473426451.000200"},{"type":"message","user":"U1CS08EP3","text":"<@U1MNES6NR> . We are managing with workarounds now,,, Same chaincode , same init for two diff business is managed by keeping them in two different folders - As you notice, the path to the chaincode is also an impacting factor.","ts":"1473427416.000201"},{"type":"message","user":"U1CS08EP3","text":"<@U1AU8DRQR> I don't think CCID of a particular chaincode can be retrieved from the Fabric once its deployed. Unless you want to track that deployment transaction. \nWe are planning to do that by maintaining a master chaincode in Fabric who stores it as an inventory -  say [ Identifier + Version ] as Key - and CCID as Value. \nDont know whether it is practical or not..  yet","ts":"1473427922.000202"},{"type":"message","user":"U0XQ35CDD","text":"Thanks for this.","attachments":[{"fallback":"[September 9th, 2016 1:22 AM] jcarrivick: <@U0XQ35CDD> that's fine, just try `make unit-test` again and it'll rebuild the images","ts":"1473398522.000161","author_subname":"jcarrivick","channel_id":"C0YPYBVJM","channel_name":"fabric-dev","is_msg_unfurl":true,"text":"<@U0XQ35CDD> that's fine, just try `make unit-test` again and it'll rebuild the images","author_name":"Julian Carrivick","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/jcarrivick","author_icon":"https:\/\/secure.gravatar.com\/avatar\/6f7961006eb0f9f4c21482e7c2f82b3e.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-48.png","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev\/p1473398522000161","is_share":true,"footer":"Posted in #fabric-dev"}],"ts":"1473430856.000203"},{"type":"message","subtype":"file_share","text":"<@U0XQ35CDD|kostas> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/kostas\/F2A1GK8HG\/_make_unit-test__output.sh|'make unit-test' output> and commented: I now get this however.","file":{"id":"F2A1GK8HG","created":1473430884,"timestamp":1473430884,"name":"_make_unit-test__output.sh","title":"'make unit-test' output","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0XQ35CDD","editable":true,"size":818,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2A1GK8HG\/_make_unit-test__output.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2A1GK8HG\/download\/_make_unit-test__output.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/kostas\/F2A1GK8HG\/_make_unit-test__output.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2A1GK8HG-4f21c50d65","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/kostas\/F2A1GK8HG\/_make_unit-test__output.sh\/edit","preview":"?   \tgithub.com\/hyperledger\/fabric\/core\/chaincode\/platforms\/car\t[no test files]\r\n2016\/09\/09 14:05:48 setting Number of procs to -1, was 2\r\n2016\/09\/09 14:05:49 Failed Chaincode docker build:\r\nStep 1 : FROM hyperledger\/fabric-ccenv:x86_64-\r\nPulling repository docker.io\/hyperledger\/fabric-ccenv\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>?   \tgithub.com\/hyperledger\/fabric\/core\/chaincode\/platforms\/car\t[no test files]<\/pre><\/div>\n<div><pre><span class=\"cm-number\">2016<\/span>\/09\/09 <span class=\"cm-number\">14<\/span>:05:48 setting Number of procs to <span class=\"cm-attribute\">-1<\/span>, was <span class=\"cm-number\">2<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-number\">2016<\/span>\/09\/09 <span class=\"cm-number\">14<\/span>:05:49 Failed Chaincode docker build:<\/pre><\/div>\n<div><pre>Step <span class=\"cm-number\">1<\/span> : FROM hyperledger\/fabric-ccenv:x86_64-<\/pre><\/div>\n<div><pre>Pulling repository docker.io\/hyperledger\/fabric-ccenv<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":21,"lines_more":16,"preview_is_truncated":null,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc2A0WRE4C","created":1473430884,"timestamp":1473430884,"user":"U0XQ35CDD","is_intro":true,"comment":"I now get this however.","channel":""}},"user":"U0XQ35CDD","upload":true,"display_as_bot":false,"username":"<@U0XQ35CDD|kostas>","bot_id":null,"ts":"1473430885.000204"},{"user":"U231CKQH2","text":"<@U231CKQH2|karn> has joined the channel","type":"message","subtype":"channel_join","ts":"1473435150.000205"},{"type":"message","user":"U0XQ35CDD","text":"`vagrant destroy` + `vagrant up` fixed it BTW.","ts":"1473443182.000206"},{"type":"message","user":"U0XQ35CDD","text":"(I read Greg's email.)","ts":"1473443198.000207","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"user":"U2A55SKC7","text":"<@U2A55SKC7|tomrsmith> has joined the channel","type":"message","subtype":"channel_join","ts":"1473449110.000208"},{"type":"message","user":"U1AU8DRQR","text":"vagrant seems to hang at this:","ts":"1473672004.000209"},{"type":"message","subtype":"file_share","text":"<@U1AU8DRQR|hgabor> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/hgabor\/F2AGBKZU3\/-.txt|Untitled>","file":{"id":"F2AGBKZU3","created":1473672020,"timestamp":1473672020,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U1AU8DRQR","editable":true,"size":133,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2AGBKZU3\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2AGBKZU3\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/hgabor\/F2AGBKZU3\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2AGBKZU3-4008468195","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/hgabor\/F2AGBKZU3\/-.txt\/edit","preview":"==> default: 619b1ba840e1: Pull complete\r\n==> default: 9f4a5f266a0b: Verifying Checksum\r\n==> default: 9f4a5f266a0b: Download complete","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>==&gt; default: 619b1ba840e1: Pull complete<\/pre><\/div>\n<div><pre>==&gt; default: 9f4a5f266a0b: Verifying Checksum<\/pre><\/div>\n<div><pre>==&gt; default: 9f4a5f266a0b: Download complete<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":3,"lines_more":0,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U1AU8DRQR","upload":true,"display_as_bot":false,"username":"<@U1AU8DRQR|hgabor>","bot_id":null,"ts":"1473672021.000210"},{"type":"message","user":"U0KPFAZNF","text":"<@U1AU8DRQR> i see that from time to time.  I speculate its stuck in the \u201capt-get upgrade -qq\"","ts":"1473702380.000211"},{"type":"message","user":"U0KPFAZNF","text":"we are probably best served to get rid of the -qq, or least make it environmental","ts":"1473702399.000212"},{"type":"message","user":"U0KPFAZNF","text":"but long story short, I think its transient failures in the ubuntu update process","ts":"1473702419.000213"},{"type":"message","user":"U1AU8DRQR","text":"<@U0KPFAZNF>: it managed to continue the process so no problem :-) ","ts":"1473703516.000214"},{"type":"message","user":"U0KPFAZNF","text":"Yeah it seems sometimes it's just super slow","ts":"1473703967.000215"},{"type":"message","user":"U0KPFAZNF","text":"If you let it go, it continues eventually ","ts":"1473703979.000216"},{"type":"message","user":"U11MANG9G","text":"<https:\/\/pureleighliving.files.wordpress.com\/2013\/08\/letting-go-quotes-3_large.png>","attachments":[{"fallback":"500x500px image","image_url":"https:\/\/pureleighliving.files.wordpress.com\/2013\/08\/letting-go-quotes-3_large.png","image_width":500,"image_height":500,"image_bytes":14822,"from_url":"https:\/\/pureleighliving.files.wordpress.com\/2013\/08\/letting-go-quotes-3_large.png","id":1}],"ts":"1473704080.000217"},{"type":"message","user":"U11MANG9G","text":"That\u2019s what my Yogist would have probably said about apt-get.","ts":"1473704119.000219"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019m trying to make sense of Jenkins behavior \u2026 is it me or is it somewhat random ?","ts":"1473705087.000220"},{"type":"message","user":"U0ULK2JPP","text":"Apart from one goimports failure which is my fault, I\u2019m trying to get <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/999\/> thru","ts":"1473705169.000221"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019m waiting for a reverify to go thru","ts":"1473705228.000222"},{"type":"message","user":"U11MANG9G","text":"<@U0ULK2JPP>: done","ts":"1473707709.000223"},{"type":"message","user":"U11MANG9G","text":"[not sure whether it was you or somewhat random though ;-)]","ts":"1473707744.000224"},{"type":"message","user":"U11MANG9G","text":"[The goimport, more likely]","ts":"1473707761.000225"},{"type":"message","user":"U0ULK2JPP","text":"well, that was the one time clear failure\u2026 but others? \u2026.thanks much in anycase <@U11MANG9G> :slightly_smiling_face:","ts":"1473707809.000226"},{"type":"message","user":"U11MANG9G","text":"We really need to stabilize the tests.","ts":"1473707826.000227"},{"type":"message","user":"U11MANG9G","text":"I\u2019m trying to \u2018harden\u2019 these as much as I can (including the requirement of using specific packages everywhere, etc.)","ts":"1473707858.000228"},{"type":"message","user":"U1AU8DRQR","text":"have you seen that it got +1? :smile:","ts":"1473707861.000229"},{"type":"message","user":"U1AU8DRQR","text":"from Job Builder","ts":"1473707868.000230"},{"type":"message","user":"U11MANG9G","text":"Non-determinism is the worst","ts":"1473707877.000231"},{"type":"message","user":"U11MANG9G","text":"The Job Builder is great :wink:","ts":"1473707915.000232"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F2AQNS3PE\/pasted_image_at_2016_09_12_03_18_pm.png|Pasted image at 2016-09-12, 3:18 PM> and commented: looks like got a +1 because the unit-tests passed and the bddtest failure was skipped","file":{"id":"F2AQNS3PE","created":1473707946,"timestamp":1473707946,"name":"Pasted image at 2016_09_12 03_18 PM.png","title":"Pasted image at 2016-09-12, 3:18 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":57208,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2AQNS3PE\/pasted_image_at_2016_09_12_03_18_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2AQNS3PE\/download\/pasted_image_at_2016_09_12_03_18_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2AQNS3PE-d2169696ce\/pasted_image_at_2016_09_12_03_18_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2AQNS3PE-d2169696ce\/pasted_image_at_2016_09_12_03_18_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2AQNS3PE-d2169696ce\/pasted_image_at_2016_09_12_03_18_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":64,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2AQNS3PE-d2169696ce\/pasted_image_at_2016_09_12_03_18_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":85,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2AQNS3PE-d2169696ce\/pasted_image_at_2016_09_12_03_18_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2AQNS3PE-d2169696ce\/pasted_image_at_2016_09_12_03_18_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":127,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2AQNS3PE-d2169696ce\/pasted_image_at_2016_09_12_03_18_pm_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":170,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2AQNS3PE-d2169696ce\/pasted_image_at_2016_09_12_03_18_pm_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":181,"image_exif_rotation":1,"original_w":1064,"original_h":188,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F2AQNS3PE\/pasted_image_at_2016_09_12_03_18_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2AQNS3PE-631fcc4918","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc2AR8NDFC","created":1473707946,"timestamp":1473707946,"user":"U0ULK2JPP","is_intro":true,"comment":"looks like got a +1 because the unit-tests passed and the bddtest failure was skipped","channel":""}},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1473707948.000233"},{"user":"U1KJY9BJQ","text":"<@U1KJY9BJQ|skarim> has joined the channel","type":"message","subtype":"channel_join","ts":"1473709728.000234"},{"type":"message","user":"U11RW82PM","text":"Hello.  I\u2019m running a peer in mac osX\u2026 when I\u2019m setting CORE_VM_ENDPOINT, it does\u2019t seem to update where it tries to deploy.. \u2026 has the ENV variable changed?","ts":"1473712039.000235"},{"type":"message","user":"U1KJY9BJQ","text":"*Trying to connect Multiple Peers using multiple Membership Service instance*\n\nCurrently, you can have two peers using the same membership service connect and be able to share the ledger (world state). This works with noops.\n\nNow, we have Peer 1 that connects to MS 1 and Peer 2 that connect to MS 2. To get these peers to even connect we had to update the certificates table in eca.db of each respective membership service instance with certificates from other peers. For example, update MS 2 instance with certificate used by Peer 1 and vice versa.\n\nDoing this has allowed us to connect the peers together. However, they do not share the same ledger. If we query (Get State) from Peer 1 on a specific key, we get different results compared to when we query from Peer 2. \n\nThe question is what is necessary for two peers to communicate when they use certificates from different membership services?","ts":"1473712279.000236"},{"type":"message","user":"U11MANG9G","text":"When you ask what is *necessary*, do you mean from a technical point of view, or from a business point of view?","ts":"1473712924.000237"},{"type":"message","user":"U11MANG9G","text":"The main (original) idea is\/was to be able to delegate the Membership Services responsibility.","ts":"1473712958.000238"},{"type":"message","user":"U11MANG9G","text":"The \u2018challenge\u2019 is to be able to associate the 2 certificates\u2026","ts":"1473712986.000239"},{"type":"message","user":"U11MANG9G","text":"(it\u2019s not really a challenge)","ts":"1473712995.000240"},{"type":"message","user":"U11MANG9G","text":"But that\u2019s what many are\/were talking about when it comes to running multiple instances of MS","ts":"1473713018.000241"},{"type":"message","user":"U11MANG9G","text":"That is, how can a validation point \u2018respect\u2019 \/ accept such signed certificates.","ts":"1473713056.000242"},{"type":"message","user":"U11MANG9G","text":"The solution presented (also at the hackfest SF) is some hierarchy of MS\u2026 supporting disjoint sets of responsibilities (e.g Oil vs Previous Metals)","ts":"1473713129.000243"},{"type":"message","user":"U11MANG9G","text":"\u2026 and...","ts":"1473713132.000244"},{"type":"message","user":"U11MANG9G","text":"the ability for other Members to pre-agree on a set of MS\/entities that they\u2019d trust.","ts":"1473713160.000245"},{"type":"message","user":"U11RW82PM","text":"Hi, What\u2019s the recommended way to deploy chaincode, via REST, GRPC or it doesn\u2019t matter?","ts":"1473720327.000246"},{"type":"message","user":"U0KM61BCP","text":"<@U11RW82PM> the node SDK is the preferred way, but for development purposes, I would recommend the peer cli method documented here: <http:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/Setup\/Chaincode-setup\/#running-the-cli-or-rest-api>","ts":"1473724755.000247"},{"type":"message","user":"U0KM61BCP","text":"of course, I just noticed that the docs are out of sync (sigh)","ts":"1473724772.000248"},{"type":"message","user":"U11RW82PM","text":"<@U0KM61BCP> Thanks for the response. (sigh) is the word.  I\u2019m writing my client in GO so I won\u2019t be using the Node SDK for this at the moment.  I\u2019ll implement the rest interface then.","ts":"1473725338.000249"},{"type":"message","user":"U0KM61BCP","text":"ah, you are writing a client in go\u2026 interesting","ts":"1473726802.000250"},{"type":"message","user":"U0KM61BCP","text":"I am pulling out the cli from the peer","ts":"1473726814.000251"},{"type":"message","user":"U0KM61BCP","text":"the REST API is deprecated","ts":"1473726841.000252"},{"type":"message","user":"U0KM61BCP","text":"it could be stop-gap, but it isn\u2019t intended to be supported down the road - though we may re-create via loopback on the node sdk","ts":"1473726886.000253"},{"type":"message","user":"U11RW82PM","text":"so if the REST API is depreciated.. what is the replacement?","ts":"1473727159.000254"},{"type":"message","user":"U11RW82PM","text":"<@U0KM61BCP>","ts":"1473727191.000255"},{"type":"message","user":"U0KM61BCP","text":"language-specific sdks","ts":"1473727211.000256"},{"type":"message","user":"U0KM61BCP","text":"and the cli","ts":"1473727217.000257"},{"type":"message","user":"U0KM61BCP","text":"the CLI could double as a Go SDK","ts":"1473727256.000258"},{"type":"message","user":"U11RW82PM","text":"but the language specific SDKs will have to communicate with the peer somehow.  What is suggested there?","ts":"1473727280.000259"},{"type":"message","user":"U0KM61BCP","text":"grpc sorry","ts":"1473727418.000260"},{"type":"message","user":"U11RW82PM","text":"ahh cool. :slightly_smiling_face:","ts":"1473727430.000261"},{"type":"message","user":"U0KM61BCP","text":"you can get a sense by looking at the peer","ts":"1473727431.000262"},{"type":"message","user":"U0KM61BCP","text":"specifically, peer\/chaincode folder","ts":"1473727446.000263"},{"type":"message","user":"U0KM61BCP","text":"you could probably use some of the same code","ts":"1473727478.000264"},{"type":"message","user":"U11RW82PM","text":"Yeah I\u2019ve been doing that.  I got confused at first why the ChaincodeID of one of the messages was a []byte until I read the comment","ts":"1473727542.000265"},{"type":"message","user":"U11RW82PM","text":"I\u2019ll continue down the GRPC road then if you don\u2019t think it\u2019s a bad idea","ts":"1473727593.000266"},{"type":"message","user":"U11RW82PM","text":"<@U0KM61BCP> I see the DevOps REST endpoint was depreciated, is the GRPC DevOps one being depreciated too?","ts":"1473729452.000267"},{"type":"message","user":"U0KM61BCP","text":"well, it\u2019s complicated, but basically no - but it may be refactored","ts":"1473730315.000268"},{"type":"message","user":"U0KM61BCP","text":"because that code is very tangled","ts":"1473730322.000269"},{"type":"message","user":"U0KM61BCP","text":"<@U11RW82PM> ^^","ts":"1473730332.000270"},{"type":"message","user":"U11RW82PM","text":"OK.. Good to know","ts":"1473730474.000271"},{"type":"message","user":"U11RW82PM","text":"And I agree with you","ts":"1473730480.000272"},{"type":"message","user":"U0KM61BCP","text":":wink:","ts":"1473731434.000273"},{"user":"U1SLE9PJN","text":"<@U1SLE9PJN|mohan> has joined the channel","type":"message","subtype":"channel_join","ts":"1473771658.000274"},{"type":"message","user":"U0XQ35CDD","text":"Following the instructions listed in `devnet-setup.md` to the letter to test out something and when querying with privacy\/security on I get this:","ts":"1473798709.000275"},{"type":"message","user":"U0XQ35CDD","text":"Input: `CORE_PEER_ADDRESS=172.17.0.2:30303 CORE_SECURITY_ENABLED=true CORE_SECURITY_PRIVACY=true peer chaincode query -u jim -l golang -n BLOB_GOES_HERE -c '{\"Function\": \"query\", \"Args\": [\"a\"]}'`","edited":{"user":"U0XQ35CDD","ts":"1473798748.000000"},"ts":"1473798731.000276"},{"type":"message","user":"U0XQ35CDD","text":"Output: `Error: Error querying chaincode: rpc error: code = 2 desc = \"Error:Failed to launch chaincode spec(Error starting container: API error (400): {\\\"message\\\":\\\"starting container with HostConfig was deprecated since v1.10 and removed in v1.12\\\"}\\n)\"`","edited":{"user":"U0XQ35CDD","ts":"1473798753.000000"},"ts":"1473798740.000277"},{"type":"message","user":"U0XQ35CDD","text":"(Forgot to say, Fabric-0.5.)","ts":"1473798874.000280"},{"type":"message","user":"U0PB67X4K","text":"<@U0XQ35CDD> - running in latest Vagrant image?","ts":"1473799033.000281"},{"type":"message","user":"U0XQ35CDD","text":"Working on this with <@U0Z81GL6S>, she tells me that it's an issue with my Docker version. We got this. (I think.)","edited":{"user":"U0XQ35CDD","ts":"1473799089.000000"},"ts":"1473799083.000282"},{"type":"message","user":"U0PB67X4K","text":"that's the issue","ts":"1473799093.000284"},{"type":"message","user":"U0PB67X4K","text":"if  `docker version` shows 1.12, you are in trouble with v0.5","ts":"1473799116.000285"},{"type":"message","user":"U0Z81GL6S","text":"yes","ts":"1473799226.000286"},{"type":"message","user":"U0Z81GL6S","text":"that is why i think using `apt-get update` inside our Vagrant install scripts is a horrible idea","edited":{"user":"U0Z81GL6S","ts":"1473799423.000000"},"ts":"1473799249.000287"},{"type":"message","user":"U0Z81GL6S","text":"we need to pick the dependencies and stick with them","ts":"1473799254.000288"},{"type":"message","user":"U0Z81GL6S","text":"the Vagrant scripts essentially update EVERYTHING every time you bring up the dev environment which can break us at any point without us even doing anything at all!","ts":"1473799279.000289"},{"type":"message","user":"U0Z81GL6S","text":"i am not sure why we are still doing that\u2026 but i think we need to pick the versions we use and stick with them","ts":"1473799302.000290"},{"type":"message","user":"U0KPFAZNF","text":"<@U0Z81GL6S> note that its not quite that egregious","ts":"1473799335.000291"},{"type":"message","user":"U0Z81GL6S","text":"to get around this issue on Fabric05, the only way that i know of how to do this is to *manually* reinstall Docker inside vagrant to 1.11.1","ts":"1473799345.000292"},{"type":"message","user":"U0KPFAZNF","text":"yes, it does an apt-get update, but its also against an LTS release which has limits in terms of ABI borkage that is allowed","ts":"1473799367.000293"},{"type":"message","user":"U0KPFAZNF","text":"what needs more careful review is any sources of packages that are not part of the official Ubuntu repos, as they may not be as strict","ts":"1473799405.000294"},{"type":"message","user":"U0Z81GL6S","text":"ok\u2026 but then we still get issues like what Kostas just cited\u2026 any way to avoid things like that by setting some of the dependencies?","ts":"1473799414.000295"},{"type":"message","user":"U0KPFAZNF","text":"i think that is one of the external deps I mentioned","ts":"1473799431.000297"},{"type":"message","user":"U0KPFAZNF","text":"it currently installs the latest from docker","ts":"1473799443.000298"},{"type":"message","user":"U0KPFAZNF","text":"so, that needs to be pinned down so its repeatable","ts":"1473799451.000299"},{"type":"message","user":"U0Z81GL6S","text":"yes","ts":"1473799479.000300"},{"type":"message","user":"U0Z81GL6S","text":"not sure how we would identify all of these external deps. but point is, something like this can happen again and the workaround is pretty annoying","ts":"1473799523.000301"},{"type":"message","user":"U0KPFAZNF","text":"yes\u2026just saying, its not the apt-get update\/upgrade per se","ts":"1473799540.000302"},{"type":"message","user":"U0KPFAZNF","text":"rather, its the unofficial repos","ts":"1473799545.000303"},{"type":"message","user":"U0Z81GL6S","text":"i see","ts":"1473799580.000304"},{"type":"message","user":"U0KPFAZNF","text":"let me think about it, perhaps I can roll something into the baseimage update I am working on","ts":"1473799581.000305"},{"type":"message","user":"U0Z81GL6S","text":"that would be fantastic","ts":"1473799613.000306"},{"type":"message","user":"U0Z81GL6S","text":"as the testers are pretty concerned about this too","ts":"1473799621.000307"},{"type":"message","user":"U0KPFAZNF","text":"yes","ts":"1473799627.000308"},{"type":"message","user":"U0Z81GL6S","text":"given that the env can change while doing test","ts":"1473799629.000309"},{"type":"message","user":"U0KPFAZNF","text":"agreed, it needs to be repeatable","ts":"1473799648.000310"},{"type":"message","user":"U0YJUECE8","text":"<@U0XQ35CDD> somebody posted this workaround on one of these slack channels a week or so ago, I think it may work for you:   Comment out this line `err = client.StartContainer(containerID, hostConfig) ` and  add `err = client.StartContainer(containerID, nil)`  in core\/container\/dockercontroller\/dockercontroller.go","ts":"1473799653.000311"},{"type":"message","user":"U0Z81GL6S","text":"alternatively reinstall Docker to version 1.11.1 from here: <http:\/\/apt.dockerproject.org\/repo\/pool\/main\/d\/docker-engine\/>","ts":"1473799689.000312"},{"type":"message","user":"U0PB67X4K","text":"here's the thing - we do want to support Docker 1.12  so we need to be able to test against it.  Clearly there was a breaking deprecation between 1.11 and 1.12.  We are also going to see this with NodeJS, JVMs, etc.","ts":"1473799771.000313"},{"type":"message","user":"U0PB67X4K","text":"and if we are not already, we should be using the official Docker repository as well which will allow you to install specific versions of Docker.  You can also just install from tarballs as well","ts":"1473799889.000314"},{"type":"message","user":"U0PB67X4K","text":"also - using binary installations is quite simple as well -  <https:\/\/docs.docker.com\/engine\/installation\/binaries\/>","attachments":[{"service_name":"Docker","title":"Installation from binaries","title_link":"https:\/\/docs.docker.com\/engine\/installation\/binaries\/","text":"Instructions for installing Docker as a binary. Mostly meant for hackers who want to try out Docker on a variety of environments.","fallback":"Docker: Installation from binaries","image_url":"https:\/\/www.docker.com\/sites\/default\/files\/social\/docker-twitter-share.png","ts":1464596303,"from_url":"https:\/\/docs.docker.com\/engine\/installation\/binaries\/","image_width":625,"image_height":250,"image_bytes":49214,"service_icon":"https:\/\/docs.docker.com\/..\/..\/..\/favicons\/apple-touch-icon-57x57.png","id":1}],"ts":"1473799946.000315"},{"type":"message","user":"U0XQ35CDD","text":"<@U0YJUECE8>: Thanks for the tip, trying it out now. (Anya gave me a great workaround by downgrading to Docker 1.11 as well.)","ts":"1473801757.000317","reactions":[{"name":"+1","users":["U0Z81GL6S"],"count":1}]},{"type":"message","user":"U0XQ35CDD","text":"FWIW, even though I fixed the Docker issue described above, I'm still having trouble deploying chaincode successfully with the fabric-0.5 code. (I'm using the weekend's patch on top of it.)","edited":{"user":"U0XQ35CDD","ts":"1473805296.000000"},"ts":"1473804942.000318"},{"type":"message","user":"U0XQ35CDD","text":"When querying, I get:\n\n`Error: Error querying chaincode: rpc error: code = 2 desc = \"Error:Failed to launch chaincode spec(Could not get deployment transaction for aa5389f7dfb9efae379900a41db1503fea2199fe400272b61ac5fe7bd0c6b97cf10ce3aa8dd00cd7626ce02f18accc7e5f2059dae6eb0786838042958352b89fb - LedgerError - ResourceNotFound: ledger: resource not found)\"`","edited":{"user":"U0XQ35CDD","ts":"1473805071.000000"},"ts":"1473804956.000319"},{"type":"message","user":"U0XQ35CDD","text":"Following Anya's advice, I looked into chaincode deployment and indeed it fails:","ts":"1473804981.000320"},{"type":"message","user":"U0XQ35CDD","text":"&gt; 22:14:13.502 [dockercontroller] deployImage -&gt; ERRO 03c Error building images: cannot connect to Docker endpoint\n&gt; 22:14:13.541 [dockercontroller] Start -&gt; ERRO 03d start-could not recreate container cannot connect to Docker endpoint\n&gt; 22:14:13.572 [ledger] sendProducerBlockEvent -&gt; ERRO 03e Error unmarshalling deployment transaction for block event: proto: protos.ChaincodeDeploymentSpec: wiretype end group for non-group","edited":{"user":"U0XQ35CDD","ts":"1473805024.000000"},"ts":"1473804989.000321"},{"type":"message","user":"U0Z81GL6S","text":"<@U0XQ35CDD> did you try running just a membership service and peer processes like i recommended and deploying?? i.e. NOT with Docker containers at first? any luck on that? we have extensively tested the Fabric05 branch just last week\u2026","edited":{"user":"U0Z81GL6S","ts":"1473806265.000000"},"ts":"1473806207.000327"},{"type":"message","user":"U0PB67X4K","text":"<@U0XQ35CDD> - your Docker daemon is likely not running","ts":"1473806652.000329"},{"type":"message","user":"U0PB67X4K","text":"`docker info`","ts":"1473806660.000330"},{"type":"message","user":"U0PB67X4K","text":"either that or it is not listening on the tcp port","ts":"1473806674.000331"},{"type":"message","user":"U0PB67X4K","text":"actually, my guess it is not running","ts":"1473806729.000332"},{"type":"message","user":"U0XQ35CDD","text":"Hmm, `docker info` output looks good, and I'm setting the `CORE_VM_ENDPOINT` ENV var to the address displayed by `ifconfig docker0`.","edited":{"user":"U0XQ35CDD","ts":"1473806987.000000"},"ts":"1473806974.000333"},{"type":"message","user":"U0PB67X4K","text":"ps -ef |grep docker","ts":"1473807005.000335"},{"type":"message","user":"U0PB67X4K","text":"you also need the port?","ts":"1473807017.000336"},{"type":"message","user":"U0PB67X4K","text":"might not be bound to TCP port","ts":"1473807022.000337"},{"type":"message","user":"U0PB67X4K","text":"`ps -ef|grep docker` - you should see a  -H option","ts":"1473807049.000338"},{"type":"message","user":"U0PB67X4K","text":"else I say just use the unix socket for the endpoint - I think its the default in the yaml anyway?","ts":"1473807123.000339"},{"type":"message","user":"U0PB67X4K","text":"`CORE_VM_ENDPOINT=unix:\/\/\/var\/run\/docker.sock`","ts":"1473807153.000340"},{"type":"message","user":"U0XQ35CDD","text":"The `-H` flag is nice. Yeah, the Docker daemon is running normally.","ts":"1473807329.000341"},{"type":"message","user":"U0XQ35CDD","text":"Will go the Unix socket route.","ts":"1473807343.000342"},{"type":"message","user":"U0XQ35CDD","text":"That's a no-go as well, will take a break and revisit this later on.","ts":"1473807908.000343"},{"type":"message","user":"U0XQ35CDD","text":"I'll get to the bottom of this, was just wondering whether I was dealing with a known bug.","ts":"1473807909.000344"},{"type":"message","user":"U1AU8DRQR","text":"<@U0KM61BCP> <@U0Z41KY5V> and others how do you like it this way? <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/875\/>","ts":"1473850164.000345"},{"type":"message","user":"U0XQ35CDD","text":"Sorry <@U0Z81GL6S>, just saw that. I switched to `noops` and tried it your way with just one peer (and security\/privacy `on`). I get the following error:","attachments":[{"fallback":"[September 13th, 2016 6:36 PM] anya: <@U0XQ35CDD> did you try running just a membership service and peer processes like i recommended and deploying?? i.e. NOT with Docker containers at first? any luck on that? we have extensively tested the Fabric05 branch just last week\u2026","ts":"1473806207.000327","author_subname":"anya","channel_id":"C0YPYBVJM","channel_name":"fabric-dev","is_msg_unfurl":true,"text":"<@U0XQ35CDD> did you try running just a membership service and peer processes like i recommended and deploying?? i.e. NOT with Docker containers at first? any luck on that? we have extensively tested the Fabric05 branch just last week\u2026","author_name":"Anna Derbakova","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/anya","author_icon":"https:\/\/secure.gravatar.com\/avatar\/ca41f03f8f2149f37cc5896af658a663.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0011-48.png","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev\/p1473806207000327","is_share":true,"footer":"Posted in #fabric-dev"}],"ts":"1473854542.000346"},{"type":"message","user":"U0XQ35CDD","text":"`12:00:26.969 [ledger] sendProducerBlockEvent -&gt; ERRO 415 Error unmarshalling deployment transaction for block event: proto: protos.ChaincodeDeploymentSpec: wiretype end group for non-group`","ts":"1473854549.000347"},{"type":"message","user":"U0ULK2JPP","text":"<@U0XQ35CDD> that error can be ignored\u2026 the fabric wanted to set the huge deploy payload to nil before sending the event out but cannot decrypt","ts":"1473854666.000348"},{"type":"message","user":"U0ULK2JPP","text":"we should really remove that error","ts":"1473854686.000349"},{"type":"message","user":"U0XQ35CDD","text":"<@U0ULK2JPP>: Gotcha.","ts":"1473854856.000350"},{"type":"message","user":"U0XQ35CDD","text":"Problem solved: `rm -rf \/var\/lib\/docker\/network` and restarted the daemon.","ts":"1473858623.000351"},{"user":"U1L24390X","text":"<@U1L24390X|wlahti> has joined the channel","type":"message","subtype":"channel_join","ts":"1473860428.000352"},{"type":"message","user":"U0KM61BCP","text":"<https:\/\/github.com\/juju\/errgo> <@U1AU8DRQR> can you please investigate this and let us all know what you think? I would also encourage others to chime in","attachments":[{"service_name":"GitHub","title":"juju\/errgo","title_link":"https:\/\/github.com\/juju\/errgo","text":"errgo - Error tracing and annotation.","fallback":"GitHub: juju\/errgo","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/4604548?v=3&s=400","from_url":"https:\/\/github.com\/juju\/errgo","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1473860698.000353"},{"type":"message","user":"U1AU8DRQR","text":"I have already linked this some days ago","ts":"1473860754.000355"},{"type":"message","user":"U1AU8DRQR","text":"I think this could do the same (and even more) as my 'error handling framework' commit. But I am not sure we need this as it turned out most of us suggest keeping error handling very lightweight (e.g. just with the 'native go facilities', error)","ts":"1473860968.000356","reactions":[{"name":"white_check_mark","users":["U1MNES6NR"],"count":1}]},{"type":"message","user":"U1AU8DRQR","text":"<@U0KM61BCP> another interesting 3pp: <https:\/\/godoc.org\/github.com\/spacemonkeygo\/errors>","attachments":[{"title":"Package errors","title_link":"https:\/\/godoc.org\/github.com\/spacemonkeygo\/errors","text":"Package errors is a flexible error support library for Go","fallback":"Package errors","from_url":"https:\/\/godoc.org\/github.com\/spacemonkeygo\/errors","service_icon":"https:\/\/godoc.org\/favicon.ico","service_name":"godoc.org","id":1}],"ts":"1473861058.000357"},{"type":"message","user":"U1AU8DRQR","text":"<@U0KM61BCP> with Juju we could have the error call stack, error stacking, error codes, and even more but the question is if we need those :slightly_smiling_face: as I know, most of us says we don't","ts":"1473861176.000359"},{"type":"message","user":"U1AU8DRQR","text":"the same is true for spacemonkey :space_invader:","edited":{"user":"U1AU8DRQR","ts":"1473861316.000000"},"ts":"1473861298.000360"},{"type":"message","user":"U0KM61BCP","text":"At the very least, I think we should start using error codes","ts":"1473861432.000362"},{"type":"message","user":"U1AU8DRQR","text":"I would go with error codes (as it is a common pattern in go) + stack trace (as it helps a lot)","ts":"1473861471.000363"},{"type":"message","user":"U1AU8DRQR","text":"<@U12452RAP> said that stack trace should be optional. I think it should be 'mandatory', we should have one general HyperLedger Error type that would be used everywhere in the project (it would have a stacktrace + error code)","ts":"1473861592.000364","reactions":[{"name":"+1::skin-tone-3","users":["U1CS08EP3"],"count":1}]},{"type":"message","user":"U1AU8DRQR","text":"<@U0XR6J961> argued about the current usage of errors, and that we should refactor the whole code as we have been misusing golang errors","ts":"1473861643.000365"},{"type":"message","user":"U0PB67X4K","text":"I think stack traces should be dumped to file - trace file  :wink:","ts":"1473862690.000366"},{"type":"message","user":"U0PB67X4K","text":"never propagated up the error handling stack","ts":"1473862705.000367"},{"type":"message","user":"U0PB67X4K","text":"we'll need to start separating out \"logs\" and actually have real log files rather than redirecting stdout and stderr","edited":{"user":"U0PB67X4K","ts":"1473862761.000000"},"ts":"1473862741.000368"},{"type":"message","user":"U1AU8DRQR","text":"but if you log the error in a higher layer how do you get the stack traces?","ts":"1473862775.000370"},{"type":"message","user":"U1AU8DRQR","text":"I think logging needs to be configurable, where to write it, etc","ts":"1473862794.000371"},{"type":"message","user":"U0PB67X4K","text":"well I admit I am not an expert on stack traces with Go - but for example in C++, Java, Node let's say you capture an error - at that point you can log and dump the stack trace and then propagate the error itself forward if you need to (depending on whether you create your own error or whether or not you just pass the error up the stack)","ts":"1473862931.000372"},{"type":"message","user":"U0PB67X4K","text":"I think you should be able to log the stack trace wherever \/ whenever you initially handle the exception instead of having to pass it around.  Maybe I am wrong and\/or missing something  :wink:","ts":"1473862988.000373"},{"type":"message","user":"U1AU8DRQR","text":"you can log it (e.g. the same way I store it in the error struct) but if the error is propagated to some higher level where you decide that you have to log it, you can only get the actual stack trace, not the stack trace of the code where the error origitanted","ts":"1473863078.000374"},{"type":"message","user":"U1AU8DRQR","text":"do you see my problem?","edited":{"user":"U1AU8DRQR","ts":"1473863096.000000"},"ts":"1473863088.000375"},{"type":"message","user":"U0PB67X4K","text":"sure - but why not just log the trace at point of initial error capture?   why would we decide to dump a trace higher in the stack?   But I see your dilemma.","ts":"1473863389.000377"},{"type":"message","user":"U1AU8DRQR","text":"e.g. \"I am a util lib\" and I am called by a more complex util lib. and that one is called by some code which decides that the error given by the lib is not fatal. so it logs it. but why should I log it? I do not know how fatal it will be for the caller, I just return the error.","ts":"1473863565.000378"},{"type":"message","user":"U1AU8DRQR","text":"<@U0PB67X4K> what do you think?","ts":"1473864438.000379"},{"type":"message","user":"U0ULK2JPP","text":"<@U1AU8DRQR> did you see my comment about errors from go routines ? user command gets propagatd to goroutines\u2026 user stack fields the error. The stack trace there does not say any thing about the \u201creal\u201d error","ts":"1473864641.000380"},{"type":"message","user":"U0ULK2JPP","text":"we would also need a disciplined approach to  propogate errors","ts":"1473864662.000381"},{"user":"U0UHG4VP1","text":"<@U0UHG4VP1|ry> has left the channel","type":"message","subtype":"channel_leave","ts":"1473864679.000382"},{"type":"message","user":"U1AU8DRQR","text":"yeah. isn't the problem that errors from go routines are not propagated but just lost?","ts":"1473864763.000383"},{"type":"message","user":"U0ULK2JPP","text":"yes.","ts":"1473864798.000384"},{"type":"message","user":"U1AU8DRQR","text":"the trivial good practice would be to somehow channel back those if they are needed","ts":"1473864823.000385","reactions":[{"name":"+1","users":["U0ULK2JPP"],"count":1}]},{"type":"message","user":"U1AU8DRQR","text":"but I can search for other solutions","ts":"1473864846.000386"},{"type":"message","user":"U1AU8DRQR","text":"as we already knew <https:\/\/www.atatus.com\/blog\/goroutines-error-handling\/>","attachments":[{"service_name":"Speed is a Feature","title":"Goroutines Error Handling","title_link":"https:\/\/www.atatus.com\/blog\/goroutines-error-handling\/","text":"We have now started measuring AJAX Performance as well, as a part of web performance monitoring. Handling of AJAX performance report introduces a new problem. Every page that sends report may get a minimum of 30 to N number of AJAX calls (N been unlimited, depending on how Single Page App has been implemented).","fallback":"Speed is a Feature: Goroutines Error Handling","from_url":"https:\/\/www.atatus.com\/blog\/goroutines-error-handling\/","service_icon":"https:\/\/www.atatus.com\/blog\/images\/logo-icon.png","id":1}],"ts":"1473864929.000387"},{"type":"message","user":"U0ULK2JPP","text":"that would be a nice if we can do it in a way that\u2019d encourage developer discipline","ts":"1473865107.000389"},{"type":"message","user":"U1AU8DRQR","text":"do you think we can encourage that anyhow? :slightly_smiling_face:","ts":"1473873726.000390"},{"type":"message","user":"U1AU8DRQR","text":"it feels like a bad practice but we can have a singleton channel in errors.go where errors.fmt(...) could send the errors to","ts":"1473874031.000391"},{"type":"message","user":"U1AU8DRQR","text":"<@U0ULK2JPP> what do you think?","ts":"1473874144.000392"},{"type":"message","user":"U0UKSBAKZ","text":"There is a question connected to cross-chaincode requests in Fabric. I have chaincodes A and B. Each chaincode has \u201cInvoke\u201d which reads attributes using stub.ReadCertAttribute(\u201crole\")\nBoth chaincodes see correct attributes\u2019 values if I send direct requests to these chaincodes. \nBut in case if A tries to call stub.InvokeChaincode on B, in this case first chaincode can read Attributes, but second chaincode has \u201cError: The certificate can\u2019t be nil.\u201d error message. \n\nDoes it mean that even if both chaincodes are executed in the same transaction, the SecurityContext is not propagated to B ?","ts":"1473874917.000393"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UKSBAKZ> i think thats just a bug\/limitation of the current impl","ts":"1473875390.000394"},{"type":"message","user":"U0KPFAZNF","text":"not something that will never be supported","ts":"1473875404.000395"},{"type":"message","user":"U0KPFAZNF","text":"i seem to recall cross-chaincode invoke with security=on is currently broken","ts":"1473875430.000396"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP> do you know if we carried a JIRA over for it?","ts":"1473875446.000397"},{"type":"message","user":"U0UKSBAKZ","text":"<@U0KPFAZNF>  Thank you!","ts":"1473875571.000398"},{"user":"U2AKT6YS1","text":"<@U2AKT6YS1|ganesh47> has joined the channel","type":"message","subtype":"channel_join","ts":"1473875840.000399"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KPFAZNF> _i seem to recall cross-chaincode invoke with security=on is currently broken_  - correct","ts":"1473877822.000400"},{"type":"message","user":"U0ULK2JPP","text":"I don\u2019t think we carried over a JIRA","ts":"1473877847.000401"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019ll open one","ts":"1473877870.000402"},{"type":"message","user":"U0PB67X4K","text":"<@U0ULK2JPP> - I think there is going to be more work involved in actually dealing with cc to cc communication with the new endorser model","ts":"1473880519.000403"},{"type":"message","user":"U0PB67X4K","text":"I would start with that and then add the various tasks","ts":"1473880531.000404"},{"type":"message","user":"U0PB67X4K","text":"although I put this at pretty low priority for v1.0.0 initial release  :wink:","ts":"1473880547.000405"},{"type":"message","user":"U0ULK2JPP","text":"<@U0PB67X4K> oh yes. I meant for master to carry over the github issue","ts":"1473880704.000406"},{"type":"message","user":"U0KM61BCP","text":"with regards to stacktraces, can't we have a logging level for that, and log it where it occurs (along with the error there) and then propogate the error as usual, to be handled (and possibly logged up the stack?","ts":"1473952498.000407","reactions":[{"name":"+1","users":["U0ULK2JPP"],"count":1}]},{"type":"message","user":"U0ULK2JPP","text":"something like that that user can turn for a deeper debugging. Users _would_ find need to dump the stack to troubleshoot \/ debug.  But having it on all the time would be annoying","ts":"1473954938.000408"},{"type":"message","user":"U0KM61BCP","text":"agree, but you could tie with debug","ts":"1473955351.000409"},{"type":"message","user":"U0ULK2JPP","text":"right","ts":"1473955443.000410"},{"type":"message","user":"U0ULK2JPP","text":"that might be the simplest\u2026 one thing, we would get a lot of junk when we just want to troubleshoot error. Another approach could be a trace option ?","edited":{"user":"U0ULK2JPP","ts":"1473955646.000000"},"ts":"1473955634.000411"},{"user":"U2B0DFA4Q","text":"<@U2B0DFA4Q|zhangsoledad> has joined the channel","type":"message","subtype":"channel_join","ts":"1474011750.000413"},{"user":"U269P9D8W","text":"<@U269P9D8W|rajeshsubhankar> has joined the channel","type":"message","subtype":"channel_join","ts":"1474044717.000414"},{"type":"message","user":"U196R0LA2","text":"hi, i noticed that the `hyperledger\/fabric-membersrvc` docker image no longer has a `latest` tag: <https:\/\/hub.docker.com\/r\/hyperledger\/fabric-membersrvc\/tags\/>","ts":"1474057759.000415"},{"type":"message","user":"U196R0LA2","text":"i have a deployment script that relies on pulling this \u2014 is there a way to do this generally?","ts":"1474057787.000416"},{"type":"message","user":"U196R0LA2","text":"currently the tag is `x86_64-0.7.0-SNAPSHOT-5a1c542` but that\u2019s bound to change often, right?","ts":"1474057808.000417"},{"type":"message","user":"U0KPFAZNF","text":"I think there is some house cleaning going on\u2026we are working on getting things setup so only releases are published","ts":"1474057813.000418"},{"type":"message","user":"U196R0LA2","text":"thanks <@U0KPFAZNF> \u2014 will a `latest` return soon?","ts":"1474057848.000419"},{"type":"message","user":"U0KPFAZNF","text":"yes, I that will change, but I think we are not going to publish the -SNAPSHOTS any more","ts":"1474057858.000420"},{"type":"message","user":"U0KPFAZNF","text":"yes, it will include latest","ts":"1474057864.000421"},{"type":"message","user":"U0KPFAZNF","text":"bear with us","ts":"1474057871.000422"},{"type":"message","user":"U196R0LA2","text":"great! if you happen to remember, could you ping me when this occurs so i can change it back, please?","ts":"1474057890.000423"},{"type":"message","user":"U0KPFAZNF","text":"we will soon have the full suite of images (peer, membersrvc, ccenv, etc) all versioned and with :latest, but only for releases","ts":"1474057903.000424"},{"type":"message","user":"U0KPFAZNF","text":"we will send out a broadcast in general (ML, slack, etc)","ts":"1474057944.000425"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> we should probably leave the v0.6.0-preview\/latest image?","ts":"1474057980.000426"},{"type":"message","user":"U0KPFAZNF","text":"i can manually submit those if the pipeline cant retrigger","ts":"1474058009.000427"},{"type":"message","user":"U196R0LA2","text":"great, thanks for the fast + thorough answer","ts":"1474058048.000428"},{"type":"message","user":"U0KPFAZNF","text":"yw","ts":"1474058053.000429"},{"type":"message","user":"U0KPFAZNF","text":"<@U196R0LA2> fwiw, you can build them from source any time","ts":"1474058208.000430"},{"type":"message","user":"U0KPFAZNF","text":"not sure this is helpful for your workflow, but I could walk you through it","ts":"1474058219.000431"},{"type":"message","user":"U196R0LA2","text":"<@U0KPFAZNF> good to know, but not ideal for my use case","ts":"1474058616.000432"},{"type":"message","user":"U196R0LA2","text":"context, if you\u2019re curious: <https:\/\/github.com\/cloudsoft\/brooklyn-hyperledger\/blob\/master\/catalog.bom#L207>","attachments":[{"service_name":"GitHub","title":"cloudsoft\/brooklyn-hyperledger","title_link":"https:\/\/github.com\/cloudsoft\/brooklyn-hyperledger\/blob\/master\/catalog.bom#L207","text":"brooklyn-hyperledger - Brooklyn blueprint for Hyperledger Fabric deployment","fallback":"GitHub: cloudsoft\/brooklyn-hyperledger","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/831459?v=3&s=400","from_url":"https:\/\/github.com\/cloudsoft\/brooklyn-hyperledger\/blob\/master\/catalog.bom#L207","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1474058620.000433"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF> <@U0UHG4VP1> yes we need to have a 0.6-preview image and we should have a latest I think","ts":"1474058805.000435"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP>: ill manually build from the tag and put that up there + :latest","ts":"1474058828.000436"},{"type":"message","user":"U0KM61BCP","text":"thx","ts":"1474058837.000437"},{"type":"message","user":"U0KPFAZNF","text":"<@U196R0LA2> images are back","ts":"1474070878.000438"},{"type":"message","user":"U196R0LA2","text":"fantastic, thanks <@U0KPFAZNF>!","ts":"1474141110.000439"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF> next we should tackle the fabric-src, fabric-ccenv etc ones","ts":"1474149201.000440"},{"type":"message","user":"U0KM61BCP","text":"presume that these won\u2019t be external to fabric build, but as we have done with baseimage, triggered?","ts":"1474149241.000441"},{"type":"message","user":"U0KPFAZNF","text":"I see fabric peer\/ccenv\/javaenv being coupled to the same release frequency\/versioning, but perhaps there other ways to do it","edited":{"user":"U0KPFAZNF","ts":"1474155268.000000"},"ts":"1474155250.000442"},{"type":"message","user":"U0KPFAZNF","text":"Fabric-src doesn't need to be published anywhere.  It's an intermediate artifact","ts":"1474155297.000444"},{"type":"message","user":"U0KPFAZNF","text":"At least currently","ts":"1474155304.000445"},{"type":"message","user":"U0KPFAZNF","text":"But that said: yes, good next steps in general","ts":"1474155328.000446"},{"type":"message","user":"U0KPFAZNF","text":"I suppose once the shims are broken out, ccenv\/javaenv will follow the releases of the shims ","edited":{"user":"U0KPFAZNF","ts":"1474155386.000000"},"ts":"1474155375.000447"},{"user":"U2BGFAHC7","text":"<@U2BGFAHC7|donovanhide> has joined the channel","type":"message","subtype":"channel_join","ts":"1474213495.000449"},{"user":"U2D4VTF5M","text":"<@U2D4VTF5M|vmanoria> has joined the channel","type":"message","subtype":"channel_join","ts":"1474284310.000450"},{"type":"message","user":"U196R0LA2","text":"has `membersrvc` usage recently changed? when i attempt to deploy validating peers i\u2019m met with this error:\n\n```\n22:29:14.228 [crypto] RegisterValidator -&gt; INFO 004 Registering validator [test_vp0] with name [test_vp0]...\n22:29:14.230 [crypto] Errorf -&gt; ERRO 005 [validator.test_vp0] Failed requesting read certificate [rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure].\n22:29:14.230 [crypto] Errorf -&gt; ERRO 006 [validator.test_vp0] Failed requesting ECA certificate [rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure].\n22:29:14.230 [crypto] Errorf -&gt; ERRO 007 [validator.test_vp0] Failed getting ECA certificate [rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure].\n22:29:14.230 [crypto] Errorf -&gt; ERRO 008 [validator.test_vp0] Failed retrieving ECA certs chain [rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure].\n22:29:14.230 [crypto] Errorf -&gt; ERRO 009 [validator.test_vp0] Failed registering node crypto engine [rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure].\n22:29:14.230 [crypto] Errorf -&gt; ERRO 00a [validator.test_vp0] Failed registering peer [test_vp0]: [rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure]\n22:29:14.230 [crypto] Errorf -&gt; ERRO 00b [validator.test_vp0] Failed registering [test_vp0]: [rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure]\n22:29:14.230 [crypto] RegisterValidator -&gt; ERRO 00c Failed registering validator [test_vp0] with name [test_vp0] [rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure].\nError: rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure\n2016\/09\/19 22:29:14 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp &lt;IP hidden&gt;:50051: getsockopt: connection refused\"; Reconnecting to {\"&lt;IP hidden&gt;:50051\" &lt;nil&gt;}\n2016\/09\/19 22:29:14 Failed to dial &lt;IP hidden&gt;:50051: grpc: the connection is closing; please retry.\n```\n\ni currently deploy `membersrvc` this way:\n\n```\nsudo docker run --name=membersrvc \\\n            --restart=unless-stopped \\\n            -i \\\n            -p 50051:50051 \\\n            -e CORE_LOGGING_LEVEL=info \\\n            hyperledger\/fabric-membersrvc:latest membersrvc\n```","edited":{"user":"U196R0LA2","ts":"1474325513.000000"},"ts":"1474325473.000451"},{"type":"message","user":"U0PB67X4K","text":"<@U196R0LA2>  - by default membersrv now listens on port 7054","ts":"1474372897.000453"},{"user":"U1HFNJB50","text":"<@U1HFNJB50|c0rwin> has joined the channel","type":"message","subtype":"channel_join","ts":"1474379599.000454"},{"type":"message","user":"U1HFNJB50","text":"Hi, I\u2019m working w\/ IBM Haifa team on gossip protocol implementation. Overall architecture consists on different modules and there are 3 people in our team working on each of these modules independently. Now, there is a dependency between these modules and we need somehow to propagate changes and being able to update source code to see those changes. That normally I\u2019d do is creating a feature branch for gossip component. However I\u2019m not very sure how to handle such situation in `fabric` project. What is the preferred pattern to handle this?","ts":"1474379976.000455"},{"type":"message","user":"U1HFNJB50","text":"^^^@here:","edited":{"user":"U1HFNJB50","ts":"1474379989.000000"},"ts":"1474379984.000456"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0KM61BCP>  <@U0UGH3X7X>   you got any idea about c0rwin's question?","edited":{"user":"U0ZJZBJLF","ts":"1474381423.000000"},"ts":"1474381250.000458"},{"type":"message","user":"U1HFNJB50","text":"Is there such a thing like a `feature branch`?","ts":"1474382028.000460"},{"type":"message","user":"U0KM61BCP","text":"<@U1HFNJB50> yes, we have a couple - basically, the maintainers are the guardians of adding new ones so we don\u2019t have too many","ts":"1474382235.000461"},{"type":"message","user":"U1HFNJB50","text":"<@U0KM61BCP>: So to add a new `feature branch` I have to contact the maintainer each time?","ts":"1474382311.000462"},{"type":"message","user":"U0KM61BCP","text":"ask on <#C28CXQXD5|fabric-maintainers> and provide an explanation\/justification","ts":"1474382380.000463"},{"type":"message","user":"U1HFNJB50","text":"w\/ GH I could have to fork and continue to work under my \"`namespace`\u201d, while I\u2019m not 100% certain how to handle it w\/ gerrit model","ts":"1474382394.000464"},{"type":"message","user":"U0KM61BCP","text":"I would also ask why you cannot just check things in periodically on the convergence branch","ts":"1474382402.000465"},{"type":"message","user":"U0KM61BCP","text":"it isn\u2019t cool to have a huge patch to merge, regardless of where it came from","ts":"1474382444.000466"},{"type":"message","user":"U0ZJZBJLF","text":"But, only maintainers can merge stuff into the convergence branch, right?","ts":"1474382447.000467"},{"type":"message","user":"U0KM61BCP","text":"I was lamenting this <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1061\/> this morning","ts":"1474382476.000468"},{"type":"message","user":"U0ZJZBJLF","text":"so, if we have `n` people working on the same feature- how can we collaborate in the gerrit source control?","ts":"1474382478.000469"},{"type":"message","user":"U0ZJZBJLF","text":"that's mine...","ts":"1474382490.000470"},{"type":"message","user":"U0KM61BCP","text":"already 4090 loc","ts":"1474382491.000471"},{"type":"message","user":"U0KM61BCP","text":"right","ts":"1474382495.000472"},{"type":"message","user":"U1HFNJB50","text":"yeah, to have change propagated down the road I need change to be merged","ts":"1474382500.000473"},{"type":"message","user":"U0KM61BCP","text":"that\u2019s like a weekend\u2019s work to review","ts":"1474382506.000474"},{"type":"message","user":"U0KM61BCP","text":"maybe more","ts":"1474382508.000475"},{"type":"message","user":"U0ZJZBJLF","text":"why were you lamenting?","ts":"1474382509.000476"},{"type":"message","user":"U0ZJZBJLF","text":"oh","ts":"1474382512.000477"},{"type":"message","user":"U0KM61BCP","text":"changesets should be small","ts":"1474382526.000478"},{"type":"message","user":"U0KM61BCP","text":"like &lt;250loc - provide coherence and tests","ts":"1474382550.000479"},{"type":"message","user":"U0KM61BCP","text":"they can be merged serially if that is needed","ts":"1474382558.000480"},{"type":"message","user":"U0KM61BCP","text":"occasionally we can tolerate larger ones  but seriously","ts":"1474382579.000481"},{"type":"message","user":"U0ZJZBJLF","text":"thing is- lets say I append commits to the convergence all the time, ok?","ts":"1474382659.000482"},{"type":"message","user":"U0ZJZBJLF","text":"now, for a team-mate of mine to pull this code, someone from the maintainers needs to merge it, but in the meantime we're \"stuck\"","edited":{"user":"U0ZJZBJLF","ts":"1474382803.000000"},"ts":"1474382689.000483"},{"type":"message","user":"U0ZJZBJLF","text":"BTW that's 3.5K LOC, the protobuff code that was generated isn't mine :slightly_smiling_face:","ts":"1474382767.000484"},{"type":"message","user":"U1HFNJB50","text":"and if code to be merged still has nothing to do with the `fabric`, since module divided in packages and these packages are dependant each other and maybe something else","ts":"1474382801.000485"},{"type":"message","user":"U1HFNJB50","text":"more concrete in `1061` there is a code which takes care of gossip discovery, which finished, however out of gossip context it\u2019s meaningless, why one would take care and merge?","ts":"1474382864.000487"},{"type":"message","user":"U1HFNJB50","text":"from other side for me to continue to work and take gossip impl to next level I do have to be able to see this code","ts":"1474382949.000488"},{"type":"message","user":"U1HFNJB50","text":"so I do see how it could work w\/ `feature branch`","ts":"1474382969.000489"},{"type":"message","user":"U1HFNJB50","text":"and I completely lost in how to manage it w\/ gerrit","ts":"1474382985.000490"},{"type":"message","user":"U1HFNJB50","text":"and then I say `feature branch` I mean the exclusive feature branch","ts":"1474383045.000491"},{"type":"message","user":"U0KPFAZNF","text":"two basic comments: its still just git\u2026.you can for instance collaborate with someone in a GH fork if you want","ts":"1474383050.000492","reactions":[{"name":"+1","users":["U0KM61BCP"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"to do it in gerrit, you would need to lobby the maintainers\/community to propose a new feature branch","ts":"1474383073.000493"},{"type":"message","user":"U0KPFAZNF","text":"but we want to keep these to a minimum","ts":"1474383086.000494"},{"type":"message","user":"U1HFNJB50","text":"yeah, my understanding that we would like to avoid of developing in parallel within GH","ts":"1474383094.000495"},{"type":"message","user":"U0KPFAZNF","text":"things work best if there are fewer branches with small, frequent commits","ts":"1474383099.000496"},{"type":"message","user":"U1HFNJB50","text":"I\u2019m positive about small commits","ts":"1474383116.000497"},{"type":"message","user":"U0KPFAZNF","text":"doing anything else impacts the effectiveness of continuous-integration and other related benefits","ts":"1474383132.000498"},{"type":"message","user":"U1HFNJB50","text":"not sure how it works w\/ several collaborators which needs to share theirs work on daily basis","ts":"1474383152.000499"},{"type":"message","user":"U0KPFAZNF","text":"well, something on gerrit has several properties: CI verification and review","ts":"1474383177.000500"},{"type":"message","user":"U0KPFAZNF","text":"if you dont care about CI verification and review, do it in a private branch","ts":"1474383196.000501"},{"type":"message","user":"U0KPFAZNF","text":"(or fork, whatever works for your collaborators)","ts":"1474383214.000502"},{"type":"message","user":"U0ZJZBJLF","text":"how can we have a private branch?","ts":"1474383214.000503"},{"type":"message","user":"U0ZJZBJLF","text":"in gerrit?","ts":"1474383220.000504"},{"type":"message","user":"U0KPFAZNF","text":"its just git","ts":"1474383222.000505"},{"type":"message","user":"U0KPFAZNF","text":"it doesnt need to be in gerrit\u2026putting it in gerrit just exposes the CI\/review mechanism","ts":"1474383239.000506"},{"type":"message","user":"U0KPFAZNF","text":"like I said, still ideal to have 1 branch in gerrit where people submit small\/frequent commits\u2026as it has maximum exposure\/integration\/verification","ts":"1474383272.000507"},{"type":"message","user":"U0ZJZBJLF","text":"I don't think we have permissions to create a branch in the \"gerrit\" host endpoint","ts":"1474383276.000508"},{"type":"message","user":"U0KPFAZNF","text":"im not saying you do","ts":"1474383297.000509"},{"type":"message","user":"U0ZJZBJLF","text":"oh ok","ts":"1474383303.000510"},{"type":"message","user":"U0KPFAZNF","text":"im saying, you dont technically need it","ts":"1474383304.000511"},{"type":"message","user":"U1HFNJB50","text":"I wish I could have my feature branch in gerrit to keep delivering small commits and still be able to collaborate","ts":"1474383322.000512"},{"type":"message","user":"U0KPFAZNF","text":"again, delivering small commits and collaboration are not what gerrit provides though","ts":"1474383347.000513"},{"type":"message","user":"U0KPFAZNF","text":"it provides integration and review","ts":"1474383355.000514"},{"type":"message","user":"U0KPFAZNF","text":"you can do commits and collaboration elsewhere","ts":"1474383365.000515"},{"type":"message","user":"U0KPFAZNF","text":"(I am not suggesting you should do this, just making sure its clear)","ts":"1474383377.000516"},{"type":"message","user":"U1HFNJB50","text":"also taking private branches in GH or other places will bring potential danger of divergence and possibility of override","ts":"1474383381.000517"},{"type":"message","user":"U0KPFAZNF","text":"precisely","ts":"1474383389.000518"},{"type":"message","user":"U0KPFAZNF","text":"but a branch does too","ts":"1474383393.000519"},{"type":"message","user":"U1HFNJB50","text":"it least branch is transparent for everyone","ts":"1474383411.000520"},{"type":"message","user":"U0KPFAZNF","text":"the only true way to alleviate divergence risk is to not branch at all","ts":"1474383413.000521"},{"type":"message","user":"U0ZJZBJLF","text":"ghaskins, technically  we do- because we're developing a component that is from one hand very big and complex, and on the other hand- doesn't have much \"surface area\" that connects to the fabric project. ..","ts":"1474383427.000522"},{"type":"message","user":"U1HFNJB50","text":"and also kept in the sample place in gerrit so it much easier to merge and keep things converged","ts":"1474383437.000523"},{"type":"message","user":"U0KPFAZNF","text":"ok, step back for a second","ts":"1474383458.000524"},{"type":"message","user":"U0KPFAZNF","text":"gerrit is just a git repository that happens to have a commit-gate (via review) and a CI infrastructure, right","ts":"1474383489.000525"},{"type":"message","user":"U0ZJZBJLF","text":"yes","ts":"1474383508.000526"},{"type":"message","user":"U0KPFAZNF","text":"any branch, for any reason, reduces some degree of integration validation","ts":"1474383544.000527"},{"type":"message","user":"U0KPFAZNF","text":"but that said, there are a few legitimate reasons to want to branch","ts":"1474383562.000528"},{"type":"message","user":"U0KPFAZNF","text":"now its a question of: what is the best model for that branch","ts":"1474383579.000529"},{"type":"message","user":"U0KPFAZNF","text":"something major, like features\/convergence, was successfully lobbied to support as a first class branch because the project warranted it would benefit from its own review\/validation process during its development","ts":"1474383648.000530"},{"type":"message","user":"U0KPFAZNF","text":"if you think this project qualifies as well, lobby to have this project added to features\/* too","ts":"1474383668.000531"},{"type":"message","user":"U0KPFAZNF","text":"if its smaller in scale, perhaps another mechanism is a better alternative","ts":"1474383686.000532"},{"type":"message","user":"U0ZJZBJLF","text":"So you propose lobbying for our own branch then?","ts":"1474383712.000533"},{"type":"message","user":"U0ZJZBJLF","text":"if we need, that is?","ts":"1474383720.000534"},{"type":"message","user":"U0KPFAZNF","text":"but the main point is that, you dont need it for collab, you need it if your branch needs per patch review and CI","ts":"1474383730.000535"},{"type":"message","user":"U0KPFAZNF","text":"im not saying that, I dont know the nature of your project","ts":"1474383743.000536"},{"type":"message","user":"U0ZJZBJLF","text":"but- we do need it for collab, if we need to be able to merge code without waiting for a maintainer to review and then merge, don't we?","ts":"1474383775.000537"},{"type":"message","user":"U0KPFAZNF","text":"that is just what I would consider in trying to decide","ts":"1474383777.000538"},{"type":"message","user":"U0KPFAZNF","text":"I would say its the opposite","ts":"1474383793.000539"},{"type":"message","user":"U0KPFAZNF","text":"you _dont_ want it to be in gerrit if you dont want to wait for maintainer approval","ts":"1474383809.000540"},{"type":"message","user":"U0KPFAZNF","text":"going through gerrit will mean each patch needs to be reviewed","ts":"1474383820.000541"},{"type":"message","user":"U0ZJZBJLF","text":"ok I see. <@U0YM41HA5>","ts":"1474383828.000542"},{"type":"message","user":"U0KPFAZNF","text":"(again, i am not saying this is a good idea, just giving the facts on the differences)","ts":"1474383837.000543"},{"type":"message","user":"U0ZJZBJLF","text":"I understand, thanks","ts":"1474383853.000544"},{"type":"message","user":"U0KPFAZNF","text":"np","ts":"1474383856.000545"},{"type":"message","user":"U0KPFAZNF","text":"whatever mechanism you decide, I would strive for minimal divergence from the master branch though","ts":"1474383926.000546"},{"type":"message","user":"U0KPFAZNF","text":"(there are different ways to achieve this)","ts":"1474383946.000547"},{"type":"message","user":"U1HFNJB50","text":"one thing which still not clear for me","ts":"1474383967.000548"},{"type":"message","user":"U0KPFAZNF","text":"small overall change, frequent upstreaming, frequent merging, etc","ts":"1474383974.000549"},{"type":"message","user":"U1HFNJB50","text":"working on private branch\/git will contradict the main motto of small changes and frequent updates","ts":"1474384005.000550"},{"type":"message","user":"U0ZJZBJLF","text":"+ frequent CRs, right?","ts":"1474384018.000551"},{"type":"message","user":"U0KPFAZNF","text":"technically _any_ branch does that","ts":"1474384022.000552"},{"type":"message","user":"U0KPFAZNF","text":"public or otherwise","ts":"1474384031.000553"},{"type":"message","user":"U0KPFAZNF","text":"like I said: in the ideal: no branches, small\/frequent patches = simplicity","ts":"1474384063.000554"},{"type":"message","user":"U0KPFAZNF","text":"everything flows through continuous integration, divergence risk = 0","ts":"1474384077.000555"},{"type":"message","user":"U0KPFAZNF","text":"in the real world, this isnt always practical","ts":"1474384088.000556"},{"type":"message","user":"U0KPFAZNF","text":"(for instance, fabric-next is a disruptive update)","ts":"1474384103.000557"},{"type":"message","user":"U0KPFAZNF","text":"but we should try to minimize those instances","ts":"1474384116.000558"},{"type":"message","user":"U0KPFAZNF","text":"case in point, features\/convergence and master already do not merge without conflict","ts":"1474384173.000559"},{"type":"message","user":"U0KPFAZNF","text":"even though they are both public, both go through review, and both have CI within their respective branches","ts":"1474384192.000560"},{"type":"message","user":"U1HFNJB50","text":"`feature branch` development model is aiming for simplicity and cleanses of the process allowing to move in parallel while keeping transparency of the development process","ts":"1474384306.000561"},{"type":"message","user":"U0KPFAZNF","text":"sorry to sound like a broken record: but it buys you patch reviews and integration with the current CI pipeline","ts":"1474384345.000562"},{"type":"message","user":"U0KPFAZNF","text":"nothing more","ts":"1474384347.000563"},{"type":"message","user":"U0KPFAZNF","text":"for instance, a GH fork is just as \u201ctransparent\"","ts":"1474384358.000564"},{"type":"message","user":"U0KPFAZNF","text":"git in general allows you to move in parallel","ts":"1474384370.000565"},{"type":"message","user":"U0KPFAZNF","text":"etc","ts":"1474384373.000566"},{"type":"message","user":"U1HFNJB50","text":"so what is the preferred way to go?","ts":"1474384393.000567"},{"type":"message","user":"U0KPFAZNF","text":"so now its just a matter of \u201cwhat is discoverable\u201d in terms of that transparecny","ts":"1474384396.000568"},{"type":"message","user":"U1HFNJB50","text":"fork on GH?","ts":"1474384396.000569"},{"type":"message","user":"U1HFNJB50","text":"is GH up-to-date w\/ gerrit?","ts":"1474384405.000570"},{"type":"message","user":"U0KPFAZNF","text":"to be clear: I am not advocating one way or the other","ts":"1474384422.000571"},{"type":"message","user":"U1HFNJB50","text":"yeah-yeah, I understand","ts":"1474384434.000572"},{"type":"message","user":"U1HFNJB50","text":"but right now we are asking purely due to practical reasons","ts":"1474384455.000573"},{"type":"message","user":"U0KPFAZNF","text":"all I am saying is: 1) there should be a high threshold for deciding to branch development, and 2) there are specific reasons for wanting that branch to be on gerrit","ts":"1474384456.000574"},{"type":"message","user":"U0KPFAZNF","text":"that would include review\/CI","ts":"1474384462.000575"},{"type":"message","user":"U0KPFAZNF","text":"but not necessarily transparency or collab","ts":"1474384473.000576"},{"type":"message","user":"U1HFNJB50","text":"Having team of 3 developers working on same feature which divided nicely into de-coupled but dependent modules","ts":"1474384516.000577"},{"type":"message","user":"U0KPFAZNF","text":"after considering all that, you still think the best solution is a feature branch in gerrit, just lobby for it","ts":"1474384521.000578"},{"type":"message","user":"U1HFNJB50","text":"what should be a \u201ckosher\u201d way to handle the situation preserving project development policies?","ts":"1474384548.000579"},{"type":"message","user":"U0KPFAZNF","text":"i think the project is still too green to have precedent :wink:","ts":"1474384569.000580"},{"type":"message","user":"U0KPFAZNF","text":"but this might be one of the ones that sets it","ts":"1474384584.000581"},{"type":"message","user":"U0KPFAZNF","text":"(to answer your question about GH, its mirrored instantaneously after merging in gerrit)","ts":"1474384626.000582"},{"type":"message","user":"U0KPFAZNF","text":"so, I personally have no problem with collab happening on GH forks","ts":"1474384643.000583"},{"type":"message","user":"U0KPFAZNF","text":"not sure what others feel","ts":"1474384647.000584"},{"type":"message","user":"U0KPFAZNF","text":"I do agree that we should probably have some stated recommendations in this regard though so people can discover each others work","ts":"1474384683.000585"},{"type":"message","user":"U1HFNJB50","text":"What is the way here to raise the lobby? Or ask what majority thinks should be done here?","ts":"1474384695.000586"},{"type":"message","user":"U0KPFAZNF","text":"(e.g. whether its gerrit feature branches, GH forks, both, something else, etc)","ts":"1474384700.000587"},{"type":"message","user":"U1HFNJB50","text":"for example in ASF there is a mailing list policies to initiate voting procedure","ts":"1474384761.000588"},{"type":"message","user":"U0KPFAZNF","text":"as a general rule, I try to do most formal things via the ML first, and then link the archive to slack","ts":"1474384773.000589"},{"type":"message","user":"U1HFNJB50","text":"not sure how to such cases handled here","ts":"1474384774.000590"},{"type":"message","user":"U0KPFAZNF","text":"so, for this case, I might be inclined to start a thread on fabric-discuss, and then link it here","ts":"1474384800.000591"},{"type":"message","user":"U0KPFAZNF","text":"\"Subject: propose features\/foo\u201d or whatever","ts":"1474384835.000592"},{"type":"message","user":"U0ZJZBJLF","text":"there is a fabric-discuss channel?","ts":"1474384848.000593"},{"type":"message","user":"U0KPFAZNF","text":"ML","ts":"1474384853.000594"},{"type":"message","user":"U0KPFAZNF","text":"but yes","ts":"1474384855.000595"},{"type":"message","user":"U0KPFAZNF","text":"sorry: \u201chyperledger-fabric\"","ts":"1474384896.000596"},{"type":"message","user":"U0KPFAZNF","text":"<http:\/\/lists.hyperledger.org\/mailman\/listinfo\/hyperledger-fabric>","ts":"1474384897.000597"},{"type":"message","user":"U0KPFAZNF","text":"i was remembering it wrong","ts":"1474384918.000598"},{"type":"message","user":"U0KPFAZNF","text":"you guys probably already know this, but just to be complete: for any given ML, there is an archive page\u2026so after making an announcement there, I grab a link from the archive like this:","edited":{"user":"U0KPFAZNF","ts":"1474385175.000000"},"ts":"1474385165.000599","reactions":[{"name":"+1","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"<http:\/\/lists.hyperledger.org\/pipermail\/hyperledger-fabric\/2016-September\/000310.html>","ts":"1474385167.000600"},{"type":"message","user":"U0KPFAZNF","text":"and paste it here","ts":"1474385182.000602"},{"type":"message","user":"U0KPFAZNF","text":"that would be my recommended way to ask about this","ts":"1474385196.000603"},{"type":"message","user":"U1HFNJB50","text":"thanks, definitely will follow your recommendation","ts":"1474386177.000604"},{"type":"message","user":"U196R0LA2","text":"thanks <@U0PB67X4K>, and i found a complete(?) set of changes here: <https:\/\/github.com\/hyperledger\/fabric\/commit\/dad7a9d35c64764a91da823137b3d6d63218a6b2>","attachments":[{"service_name":"GitHub","title":"reassign port numbers to 7050-7-60 range \u00b7 hyperledger\/fabric@dad7a9d \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/commit\/dad7a9d35c64764a91da823137b3d6d63218a6b2","text":"reassign port numbers to 7050-7060 range to avoid conflicts with Windows port usage (5000). Fixes #2283 <https:\/\/github.com\/hyperledger\/fabric\/issues\/2283> Port assignments as follows: 7050 REST 705...","fallback":"GitHub: reassign port numbers to 7050-7-60 range \u00b7 hyperledger\/fabric@dad7a9d","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/3630697?v=3&s=200","from_url":"https:\/\/github.com\/hyperledger\/fabric\/commit\/dad7a9d35c64764a91da823137b3d6d63218a6b2","thumb_width":200,"thumb_height":200,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1474387573.000605"},{"type":"message","user":"U0KPFAZNF","text":"<http:\/\/lists.hyperledger.org\/pipermail\/hyperledger-fabric\/2016-September\/000331.html>","ts":"1474389810.000607"},{"type":"message","user":"U0KM61BCP","text":"<@U1HFNJB50> it is important that we not have extended collaboration outside the project. As <@U0KPFAZNF> says, it is just git. That said, as open source we want to be inclusive and transparent. No one wants to review some monster patchset, Hence the need for small, incremental, self-contained changes. You can indeed collaborate in this model. This is how open source works. Do you need to sometimes wait to get something merged? Yes. However, there are things you can and should do to minimize that wait. Small patches with tests that can be easily verified and reviewed are more likely to be merged quickly.","ts":"1474395426.000608"},{"type":"message","user":"U0KM61BCP","text":"you can also serialize patchsets","ts":"1474395437.000609"},{"type":"message","user":"U0KM61BCP","text":"so, I can create new changesets from subsequent commits that build off one another","ts":"1474395471.000610"},{"type":"message","user":"U0KM61BCP","text":"they need to be merged in order, but gerrit manages that","ts":"1474395482.000611"},{"type":"message","user":"U0KM61BCP","text":"if you want to collaborate with someone else, they can checkout your patch and build off of that","ts":"1474395522.000612"},{"type":"message","user":"U0KM61BCP","text":"submit a new changeset - again they need to be serialized, keeping small and self-contained ensures speedy review","ts":"1474395553.000613"},{"type":"message","user":"U12V3D2P2","text":"<@U0KPFAZNF> - we were able to build peer and membersrvc images on Power, but having a failure with unit-test.","ts":"1474396298.000614"},{"type":"message","user":"U12V3D2P2","text":"```Running tests...\n?       <http:\/\/github.com\/hyperledger\/fabric\/bddtests\/chaincode\/go\/table|github.com\/hyperledger\/fabric\/bddtests\/chaincode\/go\/table>       [no test files]\nok      <http:\/\/github.com\/hyperledger\/fabric\/bddtests\/syschaincode\/noop|github.com\/hyperledger\/fabric\/bddtests\/syschaincode\/noop>        0.036s  coverage: 71.0% of statements\n?       <http:\/\/github.com\/hyperledger\/fabric\/consensus|github.com\/hyperledger\/fabric\/consensus> [no test files]\n?       <http:\/\/github.com\/hyperledger\/fabric\/consensus\/controller|github.com\/hyperledger\/fabric\/consensus\/controller>      [no test files]\nok      <http:\/\/github.com\/hyperledger\/fabric\/consensus\/executor|github.com\/hyperledger\/fabric\/consensus\/executor>        0.040s  coverage: 79.7% of statements\nok      <http:\/\/github.com\/hyperledger\/fabric\/consensus\/helper|github.com\/hyperledger\/fabric\/consensus\/helper>  0.036s  coverage: 0.5% of statements\nok      <http:\/\/github.com\/hyperledger\/fabric\/consensus\/helper\/persist|github.com\/hyperledger\/fabric\/consensus\/helper\/persist>  0.008s  coverage: 0.0% of statements\n?       <http:\/\/github.com\/hyperledger\/fabric\/consensus\/noops|github.com\/hyperledger\/fabric\/consensus\/noops>   [no test files]\nok      <http:\/\/github.com\/hyperledger\/fabric\/consensus\/pbft|github.com\/hyperledger\/fabric\/consensus\/pbft>    73.714s coverage: 80.2% of statements\nok      <http:\/\/github.com\/hyperledger\/fabric\/consensus\/util|github.com\/hyperledger\/fabric\/consensus\/util>    0.187s  coverage: 88.9% of statements\nok      <http:\/\/github.com\/hyperledger\/fabric\/consensus\/util\/events|github.com\/hyperledger\/fabric\/consensus\/util\/events>     0.209s  coverage: 91.2% of statements\nok      <http:\/\/github.com\/hyperledger\/fabric\/core|github.com\/hyperledger\/fabric\/core>      0.026s  coverage: 3.3% of statements\nok      <http:\/\/github.com\/hyperledger\/fabric\/core\/chaincode|github.com\/hyperledger\/fabric\/core\/chaincode>    384.829s        coverage: 61.6% of statements\n?       <http:\/\/github.com\/hyperledger\/fabric\/core\/chaincode\/platforms|github.com\/hyperledger\/fabric\/core\/chaincode\/platforms>  [no test files]\n?       <http:\/\/github.com\/hyperledger\/fabric\/core\/chaincode\/platforms\/car|github.com\/hyperledger\/fabric\/core\/chaincode\/platforms\/car>      [no test files]\n2016\/09\/19 14:47:40 setting Number of procs to -1, was 8\nbuildChaincodeContainerUsingDockerfilePackageBytes: vmName : %s c54f83ff2d38a4b9ebf0e7ea1ce35e2022c8144048a664e89bb2a7d43c2f6df063703721c804eef8a53a91e3f74f902fdd7b8e75bc1c5f16b6eba079db4cc55f\nbuildChaincodeContainerUsingDockerfilePackageBytes: vmName : %s c54f83ff2d38a4b9ebf0e7ea1ce35e2022c8144048a664e89bb2a7d43c2f6df063703721c804eef8a53a91e3f74f902fdd7b8e75bc1c5f16b6eba079db4cc55f\n2016\/09\/19 14:47:41 Failed Chaincode docker build:\nStep 0 : FROM hyperledger\/fabric-ccenv:ppc64le-0.7.0-SNAPSHOT-02a123c\n ---&gt; 42d79a1dd176\nStep 1 : COPY package.car \/tmp\/package.car\n ---&gt; Using cache\n ---&gt; f935070b1590\nStep 2 : RUN chaintool buildcar \/tmp\/package.car -o $GOPATH\/bin\/c54f83ff2d38a4b9ebf0e7ea1ce35e2022c8144048a664e89bb2a7d43c2f6df063703721c804eef8a53a91e3f74f902fdd7b8e75bc1c5f16b6eba079db4cc55f &amp;&amp; rm \/tmp\/package.car\n ---&gt; Running in 389d42f9efff\n^[[91mUnrecognized option: -client\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n^[[0m\n--- FAIL: TestCar_BuildImage (0.72s)\n        car_test.go:50: chaincodePath is \/root\/git\/src\/github.com\/hyperledger\/fabric\/core\/chaincode\/platforms\/car\/test\/org.hyperledger.chaincode.example02-0.1-SNAPSHOT.car\n        car_test.go:54: Error building Chaincode container: The command [\/bin\/sh -c chaintool buildcar \/tmp\/package.car -o $GOPATH\/bin\/c54f83ff2d38a4b9ebf0e7ea1ce35e2022c8144048a664e89bb2a7d43c2f6df063703721c804eef8a53a91e3f74f902fdd7b8e75bc1c5f16b6eba079db4cc55f &amp;&amp; rm \/tmp\/package.car] returned a non-zero code: 1\nFAIL\ncoverage: 0.0% of statements\nFAIL    <http:\/\/github.com\/hyperledger\/fabric\/core\/chaincode\/platforms\/car\/test|github.com\/hyperledger\/fabric\/core\/chaincode\/platforms\/car\/test> 0.759s\nerror: exit status 1\npanic: EOF\n```","ts":"1474396314.000615"},{"type":"message","user":"U12V3D2P2","text":"The branch we used is Srirama's branch which is v0.6 code plus a patch to use the correct Power open-jdk version","ts":"1474396383.000616"},{"type":"message","user":"U12V3D2P2","text":"Could you please check to see if there is any obvious problem like chaincodePath is wrong ?","ts":"1474396449.000617"},{"type":"message","user":"U0KPFAZNF","text":"<@U1HFNJB50> adding to <@U0KM61BCP>\u2019s point, what I typically do is manage a pipeline of patches with stgit","ts":"1474399423.000618"},{"type":"message","user":"U0KPFAZNF","text":"so I might have 10-15 patches in queue, the first 5 are pushed to gerrit awaiting review, the bottom 10 are under active development","ts":"1474399447.000619"},{"type":"message","user":"U0KPFAZNF","text":"i incrementally push the patches to gerrit as they mature","ts":"1474399471.000620"},{"type":"message","user":"U0KPFAZNF","text":"(those numbers are probably on the extreme side\u2026i am typically working with about 3-6 patches at a time","ts":"1474399501.000621"},{"type":"message","user":"U0KPFAZNF","text":"but you can see this in action with this <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1143\/>","ts":"1474399552.000622"},{"type":"message","user":"U0KPFAZNF","text":"(look at the \u201cSubmitted together\u201d)","ts":"1474399562.000623"},{"type":"message","user":"U0KPFAZNF","text":"they weren\u2019t actually submitted together, but they do stack that way in my queue","ts":"1474399580.000624"},{"type":"message","user":"U0KPFAZNF","text":"if someone wanted to collaborate with me, they could click that \u201cDownload\u201d tab in the upper right to check out my \u201cbranch\"","ts":"1474399668.000625"},{"type":"message","user":"U0KPFAZNF","text":"<@U12V3D2P2> regarding the power problem, it sounds like some kind of incompatibility with java","ts":"1474399747.000626"},{"type":"message","user":"U0KPFAZNF","text":"do you know what JRE is installed in that environment?","ts":"1474399754.000627"},{"type":"message","user":"U0KPFAZNF","text":"I know <@U0N1D1UAE> ran into some limitations with IBM-java","ts":"1474399796.000628"},{"type":"message","user":"U0KPFAZNF","text":"I didnt think it was related to the -client flag, but perhaps it was","ts":"1474399811.000629"},{"type":"message","user":"U0KPFAZNF","text":"in any case, his problem went away when he switched to oracle","ts":"1474399833.000630"},{"type":"message","user":"U0KPFAZNF","text":"(IIRC)","ts":"1474399843.000631"},{"type":"message","user":"U12V3D2P2","text":"<@U0KPFAZNF> , in docker file we are installing openjdk-8-jdk, have to see the output to see which version that is. Do you remember if the problem  that Bishop was discussed on one of these channels?","ts":"1474399963.000632"},{"type":"message","user":"U0KPFAZNF","text":"it almost certainly was on slack and it most definitely has been culled by the 10k limit at this point","ts":"1474400182.000633"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1474400188.000634"},{"type":"message","user":"U0KPFAZNF","text":"it was months ago","ts":"1474400192.000635"},{"type":"message","user":"U12V3D2P2","text":"Ok..I will try to contact Bishop internally","ts":"1474400202.000636"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1474400210.000637"},{"type":"message","user":"U12V3D2P2","text":"Thank you!","ts":"1474400216.000638"},{"type":"message","user":"U0KPFAZNF","text":"no problem, let me know what you find out","ts":"1474400224.000639"},{"type":"message","user":"U12V3D2P2","text":"sure","ts":"1474400231.000640"},{"type":"message","user":"U0KPFAZNF","text":"(id be surprised if there was a material difference in the openjdk-8 on x86 vs ppcle though","edited":{"user":"U0KPFAZNF","ts":"1474400256.000000"},"ts":"1474400250.000641"},{"type":"message","user":"U0KPFAZNF","text":"in his case, he was using a self-provisioned system and was doing the JRE install from a completely different repo","ts":"1474400285.000643"},{"type":"message","user":"U12V3D2P2","text":"Oh! ok","ts":"1474400296.000644"},{"type":"message","user":"U0KPFAZNF","text":"<@U12V3D2P2> for some background, the \u201cchaintool\u201d binary is a .jar with a bash script preamble","ts":"1474400510.000645"},{"type":"message","user":"U0KPFAZNF","text":"the bash script launches the jvm onto itself (so it runs the .jar portion)","ts":"1474400536.000646"},{"type":"message","user":"U0KPFAZNF","text":"it seems from the error that the preamble is invoking a \u201c-client\u201d switch on the JVM which isnt supported for whatever reason on the power environment you are running it on","ts":"1474400571.000647"},{"type":"message","user":"U12V3D2P2","text":"Ok, makes sense, can I run it locally and see  if it works or not?","ts":"1474400594.000648"},{"type":"message","user":"U0KPFAZNF","text":"what I am not sure is: is power running a conditional the causes the -client switch to only be added in power, or is the -client switch added universally but the power environment doesnt support it","ts":"1474400614.000649"},{"type":"message","user":"U0KPFAZNF","text":"of course","ts":"1474400626.000650"},{"type":"message","user":"U0KPFAZNF","text":"standby for instructions","ts":"1474400633.000651"},{"type":"message","user":"U12V3D2P2","text":"thanks!","ts":"1474400637.000652"},{"type":"message","user":"U0KPFAZNF","text":"grab the latest release from here: <https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases\/download\/v0.9.0\/chaintool>","ts":"1474400671.000653"},{"type":"message","user":"U0KPFAZNF","text":"make it executable, and then try to run it","ts":"1474400680.000654"},{"type":"message","user":"U0KPFAZNF","text":"it will require standard JRE on the path","ts":"1474400689.000655"},{"type":"message","user":"U12V3D2P2","text":"ok","ts":"1474400695.000656"},{"type":"message","user":"U12V3D2P2","text":"```$&gt;.\/chaintool\nUnrecognized option: -client\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n```","ts":"1474400849.000657"},{"type":"message","user":"U12V3D2P2","text":"```$&gt;java -version\nopenjdk version \"1.8.0_91\"\nOpenJDK Runtime Environment (build 1.8.0_91-8u91-b14-3ubuntu1~15.10.1-b14)\nOpenJDK 64-Bit Server VM (build 25.91-b14, mixed mode)\n```","ts":"1474400867.000658"},{"type":"message","user":"U0KPFAZNF","text":"well, at least its reproducible, heh","ts":"1474400874.000659"},{"type":"message","user":"U12V3D2P2","text":"Right :slightly_smiling_face:","ts":"1474400880.000660"},{"type":"message","user":"U0KPFAZNF","text":"its using -client from here","ts":"1474400915.000661"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/docs.oracle.com\/cd\/E22289_01\/html\/821-1274\/configuring-the-default-jvm-and-java-arguments.html#scrolltoc>","attachments":[{"title":"Configuring the Default JVM and Java Arguments - Oracle Fusion Middleware Installation Guide for Oracle Unified Directory ","title_link":"https:\/\/docs.oracle.com\/cd\/E22289_01\/html\/821-1274\/configuring-the-default-jvm-and-java-arguments.html#scrolltoc","text":"This guide describes the installation process for Oracle Unified Directory and the components that are required to manage it.","fallback":"Configuring the Default JVM and Java Arguments - Oracle Fusion Middleware Installation Guide for Oracle Unified Directory ","from_url":"https:\/\/docs.oracle.com\/cd\/E22289_01\/html\/821-1274\/configuring-the-default-jvm-and-java-arguments.html#scrolltoc","service_icon":"https:\/\/docs.oracle.com\/favicon.ico","service_name":"docs.oracle.com","id":1}],"ts":"1474400916.000662"},{"type":"message","user":"U0KPFAZNF","text":"what happens if you just run \u201cjava -client\"","ts":"1474400930.000664"},{"type":"message","user":"U12V3D2P2","text":"```$&gt;java -client\nUnrecognized option: -client\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n```","ts":"1474400960.000665"},{"type":"message","user":"U0KPFAZNF","text":"vagrant@hyperledger-devenv:v0.1.0-3e226e4:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ java -version\nopenjdk version \"1.8.0_91\"\nOpenJDK Runtime Environment (build 1.8.0_91-8u91-b14-0ubuntu4~14.04-b14)\nOpenJDK 64-Bit Server VM (build 25.91-b14, mixed mode)","ts":"1474401049.000666"},{"type":"message","user":"U0KPFAZNF","text":"so weird, identical versions","ts":"1474401086.000667"},{"type":"message","user":"U0KPFAZNF","text":"it works on vagrant\/14.04\/x86 though","ts":"1474401098.000668"},{"type":"message","user":"U12V3D2P2","text":"right","ts":"1474401120.000669"},{"type":"message","user":"U0KPFAZNF","text":"thats a head scratcher","ts":"1474401132.000670"},{"type":"message","user":"U0KPFAZNF","text":"it seems theres some anecdotal evidence that the switch might be a no-op","ts":"1474401146.000671"},{"type":"message","user":"U0KPFAZNF","text":"so, worst case, perhaps i can elide it from the preamble","ts":"1474401161.000672"},{"type":"message","user":"U0KPFAZNF","text":"(I didnt write the code that generates the preamble, so its not 100% trivial)","ts":"1474401189.000673"},{"type":"message","user":"U0KPFAZNF","text":"but its not rocket science either","ts":"1474401199.000674"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2DSK9X1N\/-.pl|Untitled> and commented: \u201cman java\u201d sez","file":{"id":"F2DSK9X1N","created":1474401255,"timestamp":1474401255,"name":"-.pl","title":"Untitled","mimetype":"text\/plain","filetype":"perl","pretty_type":"Perl","user":"U0KPFAZNF","editable":true,"size":207,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2DSK9X1N\/-.pl?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2DSK9X1N\/download\/-.pl?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2DSK9X1N\/-.pl","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2DSK9X1N-dfbe58ae93","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2DSK9X1N\/-.pl\/edit","preview":"       -client\r\n           Selects the Java HotSpot Client VM. The 64-bit version of the\r\n           Java SE Development Kit (JDK) currently ignores this option\r\n           and instead uses the Server JVM.\r\n","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>       <span class=\"cm-operator\">-<\/span><span class=\"cm-meta\">client<\/span><\/pre><\/div>\n<div><pre>           <span class=\"cm-meta\">Selects<\/span> <span class=\"cm-meta\">the<\/span> <span class=\"cm-meta\">Java<\/span> <span class=\"cm-meta\">HotSpot<\/span> <span class=\"cm-meta\">Client<\/span> <span class=\"cm-meta\">VM<\/span><span class=\"cm-operator\">.<\/span> <span class=\"cm-meta\">The<\/span> <span class=\"cm-number\">64<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-meta\">bit<\/span> <span class=\"cm-meta\">version<\/span> <span class=\"cm-meta\">of<\/span> <span class=\"cm-meta\">the<\/span><\/pre><\/div>\n<div><pre>           <span class=\"cm-meta\">Java<\/span> <span class=\"cm-meta\">SE<\/span> <span class=\"cm-meta\">Development<\/span> <span class=\"cm-meta\">Kit<\/span> (<span class=\"cm-meta\">JDK<\/span>) <span class=\"cm-meta\">currently<\/span> <span class=\"cm-meta\">ignores<\/span> <span class=\"cm-meta\">this<\/span> <span class=\"cm-meta\">option<\/span><\/pre><\/div>\n<div><pre>           <span class=\"cm-operator\">and<\/span> <span class=\"cm-meta\">instead<\/span> <span class=\"cm-meta\">uses<\/span> <span class=\"cm-meta\">the<\/span> <span class=\"cm-meta\">Server<\/span> <span class=\"cm-meta\">JVM<\/span><span class=\"cm-operator\">.<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":5,"lines_more":0,"preview_is_truncated":null,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc2DSJQZHC","created":1474401255,"timestamp":1474401255,"user":"U0KPFAZNF","is_intro":true,"comment":"\u201cman java\u201d sez","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1474401256.000675"},{"type":"message","user":"U0KPFAZNF","text":"my guess, without googling, is that someone deprecated -client some time back and the ppc team was more aggressive in cleaning it up","ts":"1474401337.000676"},{"type":"message","user":"U1HFNJB50","text":"<@U0KM61BCP> <@U0KPFAZNF> again I\u2019m in favour of working w\/ small change sets and small patches, but, this should work in case of completely new feature?","ts":"1474401436.000677"},{"type":"message","user":"U1HFNJB50","text":"will it be acceptable to introduce new change set for merge while it still not related to the whole picture?","ts":"1474401492.000678"},{"type":"message","user":"U0KPFAZNF","text":"<@U1HFNJB50>: if it can be decomposed into a series of steps that stand on their own, I do not see why not","ts":"1474401504.000679"},{"type":"message","user":"U0KPFAZNF","text":"just tag it with [WIP] (work in progress)","ts":"1474401521.000680"},{"type":"message","user":"U0KPFAZNF","text":"then people will understand that its not ready for merging","ts":"1474401539.000681"},{"type":"message","user":"U1HFNJB50","text":"for example, while writing gossip, we have a discovery and communication module, than main gossip protocol, next state replication","ts":"1474401543.000682"},{"type":"message","user":"U1HFNJB50","text":"no-no","ts":"1474401553.000683"},{"type":"message","user":"U1HFNJB50","text":"but I do want to merge","ts":"1474401559.000684"},{"type":"message","user":"U1HFNJB50","text":"we are 3 people","ts":"1474401568.000685"},{"type":"message","user":"U1HFNJB50","text":"if change is not merged other person is not able to move forward?","ts":"1474401582.000686"},{"type":"message","user":"U0KPFAZNF","text":"as a general rule of thumb, each patch should be an atomic changeset that at least doesnt break things","ts":"1474401607.000687"},{"type":"message","user":"U1HFNJB50","text":"I need changes to be propagate so other team members will be able to continue","ts":"1474401609.000688"},{"type":"message","user":"U1HFNJB50","text":"k","ts":"1474401615.000689"},{"type":"message","user":"U1HFNJB50","text":"so for concerete example","ts":"1474401633.000690"},{"type":"message","user":"U1HFNJB50","text":"say we have discovery and communication completed","ts":"1474401650.000691"},{"type":"message","user":"U1HFNJB50","text":"both pretty self contained and small changes","ts":"1474401661.000692"},{"type":"message","user":"U1HFNJB50","text":"also not dependant w\/ each","ts":"1474401685.000693"},{"type":"message","user":"U1HFNJB50","text":"shall we decompose 1061 to have these two independently introduced for merge?","ts":"1474401705.000694"},{"text":"looks","type":"message","subtype":"me_message","user":"U0KPFAZNF","ts":"1474401714.000695"},{"type":"message","user":"U0KPFAZNF","text":"its always a judgement call","ts":"1474401775.000696"},{"type":"message","user":"U0KPFAZNF","text":"I am personally ok with a patch that moves the ball forward without it necessarily being the whole kit","ts":"1474401805.000697"},{"type":"message","user":"U0KPFAZNF","text":"e.g. if you had one patch that \u201cadds discovery substrate\u201d and another that \u201cadds communication substrate\u201d and explain that \u201cthis will be used later when we add XXXX\u201d, I think thats fine","ts":"1474401869.000698"},{"type":"message","user":"U0KPFAZNF","text":"the smaller the patch, the more likely you will find willing reviewers","ts":"1474401869.000699"},{"type":"message","user":"U1HFNJB50","text":"k, I see","ts":"1474401902.000700"},{"type":"message","user":"U0KPFAZNF","text":"as long as the tree isnt broken at each patch, a partial conversion is ok","ts":"1474401908.000701"},{"type":"message","user":"U1HFNJB50","text":"make sense","ts":"1474401958.000702"},{"type":"message","user":"U1HFNJB50","text":"will check how to work it out w\/ <@U0ZJZBJLF> and <@U0YP7KFGQ>","ts":"1474401999.000703"},{"type":"message","user":"U0KPFAZNF","text":"as an aside, when adding something that isn\u2019t necessarily \u201cturned on\u201d yet, it would still be ideal if there is a way to verify its correctness (e.g. adding unit test coverage for the \u201cvestige\u201d) is still advised","ts":"1474402175.000704"},{"type":"message","user":"U0KPFAZNF","text":"if you dont already, i highly recommend looking into using something like stgit\u2026then you can move up and down your stack with ease, refining each patch as you go","ts":"1474402226.000705"},{"type":"message","user":"U12V3D2P2","text":"<@U0KPFAZNF> - not sure why java -client option worked before on Power, but do you think removing the flag from the test is an option?","ts":"1474402251.000706"},{"type":"message","user":"U0KPFAZNF","text":"<@U12V3D2P2> to be clear, its the tool itself\u2026the test is just invoking the tool, but yes","ts":"1474402278.000707"},{"type":"message","user":"U0KPFAZNF","text":"it should be possible","ts":"1474402285.000708"},{"type":"message","user":"U0KPFAZNF","text":"the biggest roadblock is I am using an upstream plugin to generate the preamble so I will have to fork it","ts":"1474402309.000709"},{"type":"message","user":"U0KPFAZNF","text":"(not a big deal, but not as trivial as a local patch)","ts":"1474402323.000710"},{"type":"message","user":"U0KPFAZNF","text":"actually, i should say I _may_ have to fork it","ts":"1474402349.000711"},{"type":"message","user":"U0KPFAZNF","text":"not sure, let me look into it","ts":"1474402352.000712"},{"type":"message","user":"U12V3D2P2","text":"Ok...thanks!","ts":"1474402368.000713"},{"type":"message","user":"U0KPFAZNF","text":"<@U12V3D2P2> would it be possible to check with oracle JRE?","ts":"1474402408.000714"},{"type":"message","user":"U0KPFAZNF","text":"im just curious","ts":"1474402414.000715"},{"type":"message","user":"U12V3D2P2","text":"I can check...","ts":"1474402473.000716"},{"type":"message","user":"U0YK3KKCY","text":"<@U12V3D2P2> <@U0KPFAZNF> fwiw... i was able run java -client within a docker container instance of the hyperledger\/fabric-ccenv docker image (used for the TestCar_BuildImage test) on the s390x platform and did not receive the \"Unrecognized option\" error message. Worked just fine.  So add that to the mystery. :slightly_smiling_face:  fyi... java -version responds with: \nopenjdk version \"1.8.0_91\"\nOpenJDK Runtime Environment (build 1.8.0_91-8u91-b14-3ubuntu1~16.04.1-b14)\nOpenJDK 64-Bit Zero VM (build 25.91-b14, interpreted mode)","ts":"1474402600.000717"},{"type":"message","user":"U0KPFAZNF","text":"<@U0YK3KKCY> good datapoint, thanks","ts":"1474402632.000718"},{"type":"message","user":"U0YK3KKCY","text":"yqw","ts":"1474402637.000719"},{"type":"message","user":"U0KPFAZNF","text":"(it works on x86 too..not sure why P is acting persnickety","ts":"1474402656.000720"},{"type":"message","user":"U0YK3KKCY","text":"weird","ts":"1474402664.000721"},{"type":"message","user":"U0YK3KKCY","text":"another \"sweet mystery of life\" :slightly_smiling_face:","ts":"1474402672.000722"},{"type":"message","user":"U0KPFAZNF","text":"it would make more sense if there was variance in the JVM installed","ts":"1474402681.000723"},{"type":"message","user":"U0YK3KKCY","text":"yep","ts":"1474402694.000724"},{"type":"message","user":"U0KPFAZNF","text":"while I have you <@U0YK3KKCY> and <@U12V3D2P2>: one thing that we will have to deal with in the very near future is the baseimage","ts":"1474402749.000725"},{"type":"message","user":"U0KPFAZNF","text":"in the current repo, P\/Z are relatively insulated from my (in)ability to keep the baseimage pipeline populated with the right $arch-$version images","ts":"1474402797.000726"},{"type":"message","user":"U0KPFAZNF","text":"because, if the build finds they are missing, it will just compile it locally","ts":"1474402813.000727"},{"type":"message","user":"U0KPFAZNF","text":"but as of right now, that is going away soon","ts":"1474402821.000728"},{"type":"message","user":"U0KPFAZNF","text":"so, what the means is we need to either a) accept P\/Z will be broken soon, b) get P\/Z looped into the jenkins baseimage pipeline, or c) come up with a contingent build mechanism similar to how mainline does it now","ts":"1474402872.000729"},{"type":"message","user":"U0KPFAZNF","text":"i assume (a) is unacceptable","ts":"1474402881.000730"},{"type":"message","user":"U0KPFAZNF","text":"(b) is my preference","ts":"1474402890.000731"},{"type":"message","user":"U0YK3KKCY","text":"i am working with ramesh to try and get z back into the jenkins pipeline","ts":"1474402904.000732"},{"type":"message","user":"U0KPFAZNF","text":"id prefer not to do  (c) because its hacky\/fragile, but we can if (b) ends up being a problem","ts":"1474402922.000733"},{"type":"message","user":"U0KPFAZNF","text":"ok, good","ts":"1474402924.000734"},{"type":"message","user":"U0YK3KKCY","text":"<@U11HH3P7Y> ^^","ts":"1474402927.000735"},{"type":"message","user":"U0KPFAZNF","text":"my hope is that we can build such a reliable (b) that its not an issue","ts":"1474402936.000736"},{"type":"message","user":"U0YK3KKCY","text":"yeah","ts":"1474402945.000737"},{"type":"message","user":"U0YK3KKCY","text":"i still need to find out what system is being used to build the z images.","ts":"1474402967.000738"},{"type":"message","user":"U12V3D2P2","text":"We are also trying to have docker images uploaded to docker hub as soon as possible","ts":"1474402975.000739"},{"type":"message","user":"U0YK3KKCY","text":"and get that tied into the pipeline","ts":"1474402981.000740"},{"type":"message","user":"U0KPFAZNF","text":"<@U12V3D2P2> that will be something we can integrate with what is already going on","ts":"1474403006.000741"},{"type":"message","user":"U12V3D2P2","text":"Right, Ramesh made changes for Power and trying to get a clean build","ts":"1474403032.000742"},{"type":"message","user":"U0KPFAZNF","text":"ok, cool","ts":"1474403037.000743"},{"type":"message","user":"U0YK3KKCY","text":"for now... the java shim build is bypassed for the p and z platforms","ts":"1474403079.000744"},{"type":"message","user":"U0KPFAZNF","text":"that makes sense","ts":"1474403092.000745"},{"type":"message","user":"U0KPFAZNF","text":"in fact, it would be nice if we could modularize the build in general","ts":"1474403102.000746"},{"type":"message","user":"U0KPFAZNF","text":"though some of that will happen naturally as things like the shims are broken out","ts":"1474403116.000747"},{"type":"message","user":"U0YK3KKCY","text":"i agree","ts":"1474403136.000748"},{"type":"message","user":"U11HH3P7Y","text":"sure <@U0YK3KKCY> : will enable z build but we have to make sure all unit-tests works as expected in build machines","ts":"1474403172.000749"},{"type":"message","user":"U0YK3KKCY","text":"the same goes for all platforms","ts":"1474403189.000750"},{"type":"message","user":"U0YK3KKCY","text":"in theory all unit tests would have been successfully run before merging into the codebase","ts":"1474403271.000751"},{"type":"message","user":"U11RW82PM","text":"hey gang\u2026  I have a question\u2026  I have a validating peer 0 (VP0).  I deploy chaincode to VP0 and everything works lovely!  I create another validating peer (VP1) but when I try and query the chaincode I deployed to VP0 on VP1, it has not replicated.  Is this expected behaviour? I would expect that it would catch up correct?","ts":"1474404251.000752"},{"type":"message","user":"U0ZJZBJLF","text":"I still think we need our own private branch, otherwise we won't be able to collaborate because we live in a too different TZ + we work on Sundays and there is no maintainer available to merge the feature_convergence branch or any other branch. <@U1HFNJB50>","edited":{"user":"U0ZJZBJLF","ts":"1474404590.000000"},"ts":"1474404261.000753"},{"type":"message","user":"U12V3D2P2","text":"<@U0KPFAZNF> could you please let me know if you have a version of chaintool that you want me to try, mean while I will look into IBM Java and see if it's any different","ts":"1474404553.000754"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> with the caveat that I am not saying one way or the other: note that you dont need a merge to collaborate via gerrit\u2026each \u201cPR\u201d is effectively its own branch","ts":"1474404717.000756"},{"type":"message","user":"U0KPFAZNF","text":"and anyone can create a PR","ts":"1474404724.000757"},{"type":"message","user":"U0KPFAZNF","text":"(just look at the \u201cDownloads\u201d tab in the upper right for any PR\u2026it has branch instructions","ts":"1474404743.000758"},{"type":"message","user":"U0KPFAZNF","text":"so review\/merge is not required","ts":"1474404763.000759"},{"type":"message","user":"U0KPFAZNF","text":"(for other people to collab on your work, i mean)","ts":"1474404775.000760"},{"type":"message","user":"U0ZJZBJLF","text":"that's the problem. every PR is its own branch. how does squad member A update code that squad member B wrote, and have squad member B \"pull\" this code to himself?","ts":"1474404960.000761"},{"type":"message","user":"U0ZJZBJLF","text":"let's say I created `[\/61\/1061\/27]` and c0rwin wants to add documentation because I was too lazy, he needs now to pull this branch, add some stuff of its own and then he has to push a new branch, which will be something like `[\/61\/1062\/1]`, and then I'll need to pull this to continue from his code, right? it's clumsy...","edited":{"user":"U0ZJZBJLF","ts":"1474405265.000000"},"ts":"1474405216.000762"},{"type":"message","user":"U0KPFAZNF","text":"its just a branch","ts":"1474405620.000764"},{"type":"message","user":"U0KPFAZNF","text":"theres 600 ways to do this","ts":"1474405628.000765"},{"type":"message","user":"U0KPFAZNF","text":"and it depends on what you want to accomplish","ts":"1474405653.000766"},{"type":"message","user":"U0KPFAZNF","text":"if you are collaborating with someone, there will be a degree of pushing and pulling between collaborators no matter how you do it","ts":"1474405746.000767"},{"type":"message","user":"U0KPFAZNF","text":"now its just a matter of how\/where","ts":"1474405764.000768"},{"type":"message","user":"U0ZJZBJLF","text":"maybe there are, but surely you understand that the easiest mode of work is to have a private branch that we continuously merge and append to, rather than have tons of branches that are created from gerrit PRs, that we need to somehow git-stash, git checkout\\pull other branches, etc.","edited":{"user":"U0ZJZBJLF","ts":"1474406025.000000"},"ts":"1474405815.000769"},{"type":"message","user":"U0KPFAZNF","text":"of course\u2026i was the one that suggested that as an option to being with :wink:","ts":"1474405847.000770","reactions":[{"name":"+1","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"IIUC, the conversation started with the pondering of whether a gerrit branch could be created for the purposes of collaboration","ts":"1474405882.000771"},{"type":"message","user":"U0KPFAZNF","text":"and I pointed out that collaboration is not predicated on gerrit, though \u201cbranching\u201d in general has its own set of risks","ts":"1474405938.000772"},{"type":"message","user":"U0KPFAZNF","text":"thats all","ts":"1474405949.000773"},{"type":"message","user":"U0ZJZBJLF","text":"ok","ts":"1474405953.000774"},{"type":"message","user":"U0KPFAZNF","text":"if I needed fast back and forth between 1 or more colleagues, id probably just throw a private fork somewhere that we both had write access to","edited":{"user":"U0KPFAZNF","ts":"1474406331.000000"},"ts":"1474406035.000776"},{"type":"message","user":"U0KPFAZNF","text":"but those circumstances should be rare for a FOSS type project","ts":"1474406058.000777"},{"type":"message","user":"U0KPFAZNF","text":"ideally anyway","ts":"1474406072.000778"},{"type":"message","user":"U0KPFAZNF","text":"have to run, ttyl","ts":"1474406082.000779"},{"type":"message","user":"U0ZJZBJLF","text":"bye","ts":"1474406114.000780"},{"type":"message","user":"U268EB76W","text":"<@U0KPFAZNF> is BMX IBM Blockchain still 0.5? Prior to the upgrade to 0.4.2 my learn-chaincode finished was working but now I keep getting this error: {\n  \"jsonrpc\": \"2.0\",\n  \"error\": {\n    \"code\": -32003,\n    \"message\": \"Query failure\",\n    \"data\": \"Error when querying chaincode: Error:Failed to launch chaincode spec(Error starting container: API error (500): Error: image library\/976f2c99-b4d5-47f1-8625-050cc3567aca-vp1-f1846c248dcfa64fbfe7176a85b2fdfaeb3f4bc742d68666ab0715f61d3c10f0fea5bb3611235f1697a71e10d8667d3f46cd99cacf42f3ba7084add1a63f8fc4 not found\\n)\"\n  },\n  \"id\": 0\n}","ts":"1474417879.000786"},{"type":"message","user":"U268EB76W","text":"any idea why I'm getting this?","ts":"1474417935.000787"},{"type":"message","user":"U268EB76W","text":"Here's the result to the successful deploy: {\n  \"jsonrpc\": \"2.0\",\n  \"result\": {\n    \"status\": \"OK\",\n    \"message\": \"f1846c248dcfa64fbfe7176a85b2fdfaeb3f4bc742d68666ab0715f61d3c10f0fea5bb3611235f1697a71e10d8667d3f46cd99cacf42f3ba7084add1a63f8fc4\"\n  },\n  \"id\": 0\n}","ts":"1474417993.000788"},{"type":"message","user":"U268EB76W","text":"Is there a slack channel for Bluemix IBM Blockchain?","ts":"1474418148.000789","reactions":[{"name":"+1","users":["U12452RAP"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"<@U0PB67X4K>: ^^^","ts":"1474419756.000790"},{"user":"U1AU9JL6P","text":"<@U1AU9JL6P|hurf> has joined the channel","type":"message","subtype":"channel_join","ts":"1474449429.000793"},{"user":"U11NUTP4L","text":"<@U11NUTP4L|srirama_sharma> has joined the channel","type":"message","subtype":"channel_join","ts":"1474458283.000794"},{"type":"message","user":"U1AU8DRQR","text":"one more review needed: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/875\/>","ts":"1474459856.000795"},{"type":"message","user":"U0KPFAZNF","text":"<@U12V3D2P2> what happens when you run \u201cjava -server\u201d on your power system?","ts":"1474464392.000796"},{"type":"message","user":"U12V3D2P2","text":"<@U0KPFAZNF> I get the usage","ts":"1474464433.000797"},{"type":"message","user":"U0KPFAZNF","text":"ok, thats a good sign","ts":"1474464440.000798"},{"type":"message","user":"U12V3D2P2","text":"yes, also I tried IBM Java, java -client also gives usage","ts":"1474464453.000799"},{"type":"message","user":"U0KPFAZNF","text":"it seems I can trivially opt between -server and -client without changing code","ts":"1474464454.000800"},{"type":"message","user":"U0KPFAZNF","text":"ok, i remembered the IBM java problem","ts":"1474464477.000801"},{"type":"message","user":"U0KPFAZNF","text":"it was related to the bootclasspath","ts":"1474464484.000802"},{"type":"message","user":"U0KPFAZNF","text":"did you try chaintool there perhaps?","ts":"1474464494.000803"},{"type":"message","user":"U0KPFAZNF","text":"im curious if bootclasspath is still a problem","ts":"1474464501.000804"},{"type":"message","user":"U12V3D2P2","text":"Changing the path and run chaintool?","ts":"1474464549.000805"},{"type":"message","user":"U0KPFAZNF","text":"yes, execute \u201cchaintool\u201d on the power system where \u201cjava\u201d resolves to IBM java","ts":"1474464585.000806"},{"type":"message","user":"U11NUTP4L","text":"<@U0KPFAZNF> , even for \u201cjava -server\" we see that java usage is shown..","ts":"1474464600.000807"},{"type":"message","user":"U11NUTP4L","text":"``root@p006vm40:~\/git\/src\/github.com\/hyperledger\/fabric# java -server \nUsage: java [-options] class [args...]\n           (to execute a class)\n   or  java [-options] -jar jarfile [args...]\n           (to execute a jar file)\nwhere options include:\n    -d32\t  use a 32-bit data model if available\n    -d64\t  use a 64-bit data model if available\n    -server\t  to select the \"server\" VM\n    -zero\t  to select the \"zero\" VM\n    -dcevm\t  to select the \"dcevm\" VM\n                  The default VM is server,\n                  because you are running on a server-class machine.```","ts":"1474464620.000808"},{"type":"message","user":"U0KPFAZNF","text":"yes, that is ok\u2026it seems \u201cjava -client\u201d blows up on ppc","ts":"1474464629.000809"},{"type":"message","user":"U0KPFAZNF","text":"no usage, you get error","ts":"1474464633.000810"},{"type":"message","user":"U11NUTP4L","text":"yes","ts":"1474464639.000811"},{"type":"message","user":"U0KPFAZNF","text":"whereas every other platform, -client or -server just return usage","ts":"1474464644.000812"},{"type":"message","user":"U12V3D2P2","text":"```$&gt;.\/chaintool\nError: Could not find or load main class chaintool.core\n```","ts":"1474464655.000813"},{"type":"message","user":"U12V3D2P2","text":"with IBM Java in the path first","ts":"1474464663.000814"},{"type":"message","user":"U0KPFAZNF","text":"yes, ok, that is the bootclasspath problem","ts":"1474464668.000815"},{"type":"message","user":"U0KPFAZNF","text":"it seems there is some -Xbootclasspath option that open\/oracle java supports that IBM java doesnt","ts":"1474464691.000816"},{"type":"message","user":"U0KPFAZNF","text":"i digress","ts":"1474464698.000817"},{"type":"message","user":"U12V3D2P2","text":"ok","ts":"1474464700.000818"},{"type":"message","user":"U0KPFAZNF","text":"let me see if I can get around the -client problem","ts":"1474464707.000819"},{"type":"message","user":"U12V3D2P2","text":"Thank you","ts":"1474464715.000820"},{"type":"message","user":"U11NUTP4L","text":"probably a naive questin.. where is the -client option being set ? and why is it required ?","ts":"1474464734.000821"},{"type":"message","user":"U12V3D2P2","text":"I was looking at chaintool source code last night, and could not find that in the code, is it default?","ts":"1474464768.000822"},{"type":"message","user":"U0KPFAZNF","text":"I am using \u201clein-bin\u201d (see project.clj in root)","ts":"1474464851.000823"},{"type":"message","user":"U0KPFAZNF","text":"this is a plugin which generates the preamble","ts":"1474464858.000824"},{"type":"message","user":"U11NUTP4L","text":"Oh. ok.","ts":"1474464872.000825"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/Raynes\/lein-bin>","attachments":[{"service_name":"GitHub","title":"Raynes\/lein-bin","title_link":"https:\/\/github.com\/Raynes\/lein-bin","text":"lein-bin - Standalone console executables for your project.","fallback":"GitHub: Raynes\/lein-bin","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/54435?v=3&s=400","from_url":"https:\/\/github.com\/Raynes\/lein-bin","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1474464874.000826"},{"type":"message","user":"U0KPFAZNF","text":"cool, i was able to get it adjusted","ts":"1474465030.000828"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2E6DBU5C\/screen_shot_2016-09-21_at_9.37.01_am.png|Screen Shot 2016-09-21 at 9.37.01 AM.png>","file":{"id":"F2E6DBU5C","created":1474465046,"timestamp":1474465046,"name":"Screen Shot 2016-09-21 at 9.37.01 AM.png","title":"Screen Shot 2016-09-21 at 9.37.01 AM.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0KPFAZNF","editable":false,"size":458608,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2E6DBU5C\/screen_shot_2016-09-21_at_9.37.01_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2E6DBU5C\/download\/screen_shot_2016-09-21_at_9.37.01_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2E6DBU5C-8b4babfcfa\/screen_shot_2016-09-21_at_9.37.01_am_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2E6DBU5C-8b4babfcfa\/screen_shot_2016-09-21_at_9.37.01_am_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2E6DBU5C-8b4babfcfa\/screen_shot_2016-09-21_at_9.37.01_am_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":325,"thumb_360_h":360,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2E6DBU5C-8b4babfcfa\/screen_shot_2016-09-21_at_9.37.01_am_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":434,"thumb_480_h":480,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2E6DBU5C-8b4babfcfa\/screen_shot_2016-09-21_at_9.37.01_am_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2E6DBU5C-8b4babfcfa\/screen_shot_2016-09-21_at_9.37.01_am_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":651,"thumb_720_h":720,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2E6DBU5C-8b4babfcfa\/screen_shot_2016-09-21_at_9.37.01_am_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":868,"thumb_960_h":960,"image_exif_rotation":1,"original_w":922,"original_h":1020,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2E6DBU5C\/screen_shot_2016-09-21_at_9.37.01_am.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2E6DBU5C-96e5a39150","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1474465049.000829"},{"type":"message","user":"U0KPFAZNF","text":"<@U12V3D2P2> do you want me to send you the binary or a patch to chaintool which you can build locally?","ts":"1474465066.000830"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2E6QU87K\/-.sh|Untitled> and commented: Heres the patch","file":{"id":"F2E6QU87K","created":1474465101,"timestamp":1474465101,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0KPFAZNF","editable":true,"size":402,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2E6QU87K\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2E6QU87K\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2E6QU87K\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2E6QU87K-dcbaa30b59","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2E6QU87K\/-.sh\/edit","preview":"diff --git a\/project.clj b\/project.clj\r\nindex df6079d..8a170dd 100644\r\n--- a\/project.clj\r\n+++ b\/project.clj\r\n@@ -6,6 +6,7 @@\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-builtin\">diff<\/span> <span class=\"cm-attribute\">--git<\/span> a\/project.clj b\/project.clj<\/pre><\/div>\n<div><pre>index df6079d..8a170dd <span class=\"cm-number\">100644<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-attribute\">--<\/span><span class=\"cm-attribute\">-<\/span> a\/project.clj<\/pre><\/div>\n<div><pre><span class=\"cm-operator\">+<\/span><span class=\"cm-operator\">+<\/span><span class=\"cm-operator\">+<\/span> b\/project.clj<\/pre><\/div>\n<div><pre>@@ <span class=\"cm-attribute\">-6<\/span>,6 <span class=\"cm-operator\">+<\/span><span class=\"cm-number\">6<\/span>,7 @@<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":12,"lines_more":7,"preview_is_truncated":null,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc2E6QJY23","created":1474465101,"timestamp":1474465101,"user":"U0KPFAZNF","is_intro":true,"comment":"Heres the patch","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1474465102.000831"},{"type":"message","user":"U12V3D2P2","text":"thanks, let me try this","ts":"1474465117.000832"},{"type":"message","user":"U0KPFAZNF","text":"just apply this, run \u201cmake clean all\u201d and then the new binary is .\/target\/chaintool","ts":"1474465137.000833"},{"type":"message","user":"U12V3D2P2","text":"ok","ts":"1474465145.000834"},{"type":"message","user":"U0KPFAZNF","text":"have to step out for an hour","ts":"1474465259.000835"},{"type":"message","user":"U0KPFAZNF","text":"ttyl","ts":"1474465262.000836"},{"type":"message","user":"U12V3D2P2","text":"sure","ts":"1474465271.000837"},{"type":"message","user":"U11NUTP4L","text":"<@U0KPFAZNF> <@U12V3D2P2>, after applying the patch to project.clj , was able to build the chaintool and the newly built binary doesn\u2019t give any error. I see ```root@p006vm40:~\/test\/fabric-chaintool# .\/target\/chaintool \nchaintool version: v0.9.1-SNAPSHOT\n\nUsage: chaintool [general-options] action [action-options]\n\nGeneral Options:\n  -v, --version  Print the version and exit\n  -h, --help\n\nActions:\n  build -&gt; Build the chaincode project\n  buildcar -&gt; Build the chaincode project from a CAR file\n  clean -&gt; Clean the chaincode project\n  package -&gt; Package the chaincode into a CAR file for deployment\n  unpack -&gt; Unpackage a CAR file\n  ls -&gt; List the contents of a CAR file\n  proto -&gt; Compiles a CCI file to a .proto\n  inspect -&gt; Retrieves metadata from a running instance\n\n(run \"chaintool &lt;action&gt; -h\" for action specific help)\nroot@p006vm40:~\/test\/fabric-chaintool# ```","ts":"1474466136.000838"},{"type":"message","user":"U11NUTP4L","text":"Testing with the new chaintool to run unit-tests","ts":"1474466148.000839"},{"type":"message","user":"U0KPFAZNF","text":"Ok cool.  I'll queue the patch for the next cycle","ts":"1474466494.000840"},{"type":"message","user":"U11NUTP4L","text":"ok. Thanks!","ts":"1474467621.000841"},{"type":"message","user":"U11NUTP4L","text":"would we need to do changes to fabric\/Makefile to pick these changes ? I see it currently is picking up 0.9.0 version```curl -L <https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases\/download\/$(CHAINTOOL_RELEASE)\/chaintool> &gt; $@```","ts":"1474468355.000842"},{"type":"message","user":"U0KPFAZNF","text":"back","ts":"1474469774.000843"},{"type":"message","user":"U0KPFAZNF","text":"yes, first I need to get a patch into chaintool approved and cut a new release (v0.9.1 most likely)","ts":"1474469796.000844"},{"type":"message","user":"U0KPFAZNF","text":"and then I need to update fabric to reference it","ts":"1474469805.000845"},{"type":"message","user":"U0KPFAZNF","text":"what branch are you targeting for the ppcle support?","ts":"1474469822.000846"},{"type":"message","user":"U0KPFAZNF","text":"e.g. v0.6, master, convergence?","ts":"1474469830.000847"},{"type":"message","user":"U12V3D2P2","text":"0.6","ts":"1474469832.000848"},{"type":"message","user":"U0KPFAZNF","text":"ok, ill push a patch for the new chaintool there once its ready","ts":"1474469847.000849"},{"type":"message","user":"U0KPFAZNF","text":"ill need to check a few things, but my guess is this is a fairly low-risk change as IIUC the -server\/-client options are no-ops on 64 bit JVM","ts":"1474469887.000850"},{"type":"message","user":"U12V3D2P2","text":"ok..thanks!","ts":"1474469909.000851"},{"type":"message","user":"U0KPFAZNF","text":"<@U12V3D2P2> <@U11NUTP4L> <https:\/\/github.com\/hyperledger\/fabric-chaintool\/issues\/28>","attachments":[{"service_name":"GitHub","title":"JVM &quot;-client&quot; option not supported on POWER platform \u00b7 Issue #28 \u00b7 hyperledger\/fabric-chaintool \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/issues\/28","text":"It was discovered that chaintool would not run on Power systems because the JVM would complain about the -client switch being passed in. This switch was emitted into the JAR preamble script create...","fallback":"GitHub: JVM \"-client\" option not supported on POWER platform \u00b7 Issue #28 \u00b7 hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/issues\/28","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1474474167.000852","reactions":[{"name":"+1","users":["U12V3D2P2"],"count":1}]},{"type":"message","user":"U0ULK2JPP","text":"<@U0KPFAZNF> just merged <https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/29> for the above. (thanks!)","attachments":[{"service_name":"GitHub","title":"Explicitly set -server in the JVM options by ghaskins \u00b7 Pull Request #29 \u00b7 hyperledger\/fabric-chaintool \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/29","text":"It was discovered that chaintool would not run on Power systems because the JVM would complain about the -client switch being passed in. This switch was emitted into the JAR preamble script create...","fallback":"GitHub: Explicitly set -server in the JVM options by ghaskins \u00b7 Pull Request #29 \u00b7 hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/29","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1474480859.000854"},{"type":"message","user":"U11NUTP4L","text":"Hi <@U0KPFAZNF> <@U0ULK2JPP>, thanks for getting this quickly integrated into fabric-chaintool. Is there a CI that builds and releases the new 0.9.2 released chaintool binary ?","ts":"1474482455.000856"},{"type":"message","user":"U11NUTP4L","text":"so that we can pull it up in fabric\/Makefile.","ts":"1474482475.000857"},{"type":"message","user":"U0KPFAZNF","text":"I need to do it manually.  Will do shortly","ts":"1474484057.000860"},{"type":"message","user":"U0KPFAZNF","text":"<@U11NUTP4L> <@U12V3D2P2> <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1165\/>","ts":"1474487383.000861"},{"user":"U2CSLPV1Q","text":"<@U2CSLPV1Q|hhadass> has joined the channel","type":"message","subtype":"channel_join","ts":"1474492147.000862"},{"user":"U1EF2CN9M","text":"<@U1EF2CN9M|akind> has joined the channel","type":"message","subtype":"channel_join","ts":"1474540878.000863"},{"type":"message","user":"U0KPFAZNF","text":"<@U2EM20LF4> ping","ts":"1474548774.000864"},{"user":"U2EM20LF4","text":"<@U2EM20LF4|superdcc> has joined the channel","type":"message","subtype":"channel_join","ts":"1474548775.000865"},{"type":"message","user":"U2EM20LF4","text":"thank you~","ts":"1474548785.000866"},{"type":"message","user":"U0KPFAZNF","text":"are you trying to build from within the vagrant devenv?","ts":"1474548801.000867"},{"type":"message","user":"U2EM20LF4","text":"Nope","ts":"1474548810.000868"},{"type":"message","user":"U2EM20LF4","text":"direct in the mac","ts":"1474548816.000869"},{"type":"message","user":"U0KPFAZNF","text":"ok, so you need to get rocksdb installed then, and have your CGO environment set properly","ts":"1474548845.000870"},{"type":"message","user":"U2EM20LF4","text":"I just want to build the fabirc\nand use docker","ts":"1474548845.000871"},{"type":"message","user":"U2EM20LF4","text":"OKOK","ts":"1474548853.000872"},{"type":"message","user":"U0KPFAZNF","text":"you can get hints on what is needed by following what the devenv does","ts":"1474548870.000873"},{"type":"message","user":"U2EM20LF4","text":"I just start the fabric !!thank you so much~\nwhat do you think the different about fabric and ethereum?\n\n<@U0KPFAZNF>","ts":"1474548938.000874"},{"type":"message","user":"U0KPFAZNF","text":"the recipe is here: <https:\/\/github.com\/hyperledger\/fabric-baseimage\/blob\/master\/packer.json#L16>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-baseimage","title_link":"https:\/\/github.com\/hyperledger\/fabric-baseimage\/blob\/master\/packer.json#L16","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric-baseimage>","fallback":"GitHub: hyperledger\/fabric-baseimage","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-baseimage\/blob\/master\/packer.json#L16","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1474548976.000875"},{"user":"U1V5VNSAD","text":"<@U1V5VNSAD|subax> has joined the channel","type":"message","subtype":"channel_join","ts":"1474549943.000877"},{"user":"U221LL03Z","text":"<@U221LL03Z|ashutoshkumar> has joined the channel","type":"message","subtype":"channel_join","ts":"1474551450.000878"},{"user":"U2AF9V8QK","text":"<@U2AF9V8QK|shimron> has joined the channel","type":"message","subtype":"channel_join","ts":"1474557778.000879"},{"type":"message","user":"U268EB76W","text":"I also posted this issue on IBM-Blockchain\/ibm-blockchain-issues. I'm posting it here for any developers that are or were using IBM Blockchain on BMX for focusing on chaincode development:  BMX IBM Blockchain is BROKE for developers who want to deploy their own or demo code from github as IBM documentation describes.\n\nThe Demo Chaincode Example02 works only from the UI. You cannot deploy it from github. The UI is confusing, because the link to the source code being deployed goes to v0.6 code (shim.ChaincodeStubInterface).\n\nIf you copy the source code to your own github repo and try to deploy it you get an error complaining about the shim.ChaincodeStubInterface (v0.6 code).\n\nIf you change the code to v0.5 (shim.ChaincodeStub), it indicates a successful deploy, returning a chaincode ID. But upon examination of the network tab it is clear it did not deploy correctly, it never appears and cannot be found as indicated by a query that returns an error message hinting this.\n\nSo, clearly something is BROKE in IBM Blockchain on BMX.\n\nAgain, you can only deploy and operate the Demo Chaincode. You cannot deploy your own code from github, even though it is a perfect copy of the chaincode IBM indicates is being deployed.\n\nAnother point of confusion is the code level deployed and supported on IBM Blockchain.\n\nIs it Fabric v0.5 (shim.ChaincodeStub) or Fabric v0.6 (shim.ChaincodeStubInterface)?\n\nBecause only code compiled to v0.5 (shim.ChaincodeStub) is consumed without an error indication while code compiled to v0.6 is consumed, but returns an ERROR indicating it does not like the v0.6 code (shim.ChaincodeStubInterface).\n\nI highly suggest IBM NOT rely on canned tests baked into the UI--Demo Chaincode. Instead rely on what a developer does: compile chaincode, push it to your github repo, and deploy it using the URL to your github repo.\n\nThe inability of developers to deploy their own code makes BMX IBM Blockchain at this time USELESS to developers and only a very simple sales demo!","ts":"1474562269.000880"},{"user":"U29G76C9L","text":"<@U29G76C9L|tcnthomas> has joined the channel","type":"message","subtype":"channel_join","ts":"1474567345.000881"},{"type":"message","user":"U29G76C9L","text":"hmm. I don\u2019t know about the example02. But I can get the car lease demo (which is more then a simple sales demo) working on bluemix and change all code I want.\nWhen I want to run it locally with a local hyperledger then yes I either have to change shim.ChaincodeStub or use the v0.5 ledger locally.\n\nTo get the car lease demo working I just forked it to my github.\nThen after downloading it to the Mac I changed the readme.md so the deploy button would use my github repo.\nNext on the Mac I changed car-lease-demo\/Server_Side\/configurations\/configuration.js.\nIn this configuration is a reference to the standard github repo for vehicles.go data so I changed that as well.\n\nThen deployed using the deploy button in the readme.md.\nNext I just change code on the Mac.\nCommit and sync with github.\nAnd push it from the mac locally using CF push.\nWhat happens is then all code is deployed from my Mac locally but the chaincode(vehicles.go) is pulled during deployment from github.","ts":"1474568167.000882"},{"user":"U1S01QY6L","text":"<@U1S01QY6L|smartyalgo> has joined the channel","type":"message","subtype":"channel_join","ts":"1474579946.000883"},{"type":"message","user":"U11RW82PM","text":"Hello Gang.  has the Events features been written yet?","ts":"1474585848.000884"},{"type":"message","user":"U0KPFAZNF","text":"<@U11RW82PM> I believe <@U0KQ9QKH6> has this almost wrapped up, but not sure","ts":"1474586766.000885"},{"type":"message","user":"U11RW82PM","text":"<@U0KPFAZNF> Thanks. :slightly_smiling_face:  I\u2019ll leave trying to consume them for now then","ts":"1474586876.000886"},{"type":"message","user":"U0KPFAZNF","text":"to be clear, it might be in a consumable state, im not sure","ts":"1474586901.000887"},{"type":"message","user":"U0KPFAZNF","text":"i defer to Pat","ts":"1474586913.000888"},{"type":"message","user":"U0KPFAZNF","text":"one of the last PRs I saw go through related to unit tests in the SDK, so that sounds like its fairly close to working if not already","ts":"1474586967.000889"},{"type":"message","user":"U11RW82PM","text":"ah great..  I\u2019ll check out the SDK.","ts":"1474586986.000890"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1163\/>","ts":"1474587003.000891"},{"type":"message","user":"U11RW82PM","text":"<@U0KPFAZNF> Events look to be working ok for block and register at least\u2026  Thanks for the info!!","ts":"1474589611.000892"},{"type":"message","user":"U0KPFAZNF","text":"yw","ts":"1474589620.000893"},{"type":"message","user":"U1LES78TT","text":"<@U268EB76W> are you sure the v0.5 code you had for example02 was correct and compiled properly?\nwas your shim.ChaincodeStub a pointer (*)?","ts":"1474590132.000894"},{"type":"message","user":"U1VG8LNP3","text":"Hi, everyone.  For query request, I found fabric didn't  generate transaction and sent to consensus. Why query don't need consensus?","ts":"1474601037.000895"},{"type":"message","user":"U1LES78TT","text":"<@U1VG8LNP3> queries don't modify anything, so they just read from the current state of the peer","ts":"1474608709.000896"},{"type":"message","user":"U1VG8LNP3","text":"<@U1LES78TT> there's a chance that different VPs return different query results? Or we should suppose all the VPs are trusted.","ts":"1474609949.000897"},{"type":"message","user":"U268EB76W","text":"<@U1LES78TT> yep. I can compile it with v0.5 and v0.6, changing to ChaincodeStub (v0.5) or ChaincodeStubInterface (v0.6). Only v0.5 returns \"OK\" and id on deploy, while v0.6 complains about ChaincodeStubInterface, so v0.5 must be still running. I can see my init message arg passed in JSON, but the id does not display in the Network tab, unlike the demo which does. So the Network tab shows no chaincode id, and the Blockchain tab shows 2 blocks, genesis and the deploy. Clicking the deploy block shows the time, chaincode id, and the arg I passed in for the init. Now if I try to query it an error is returned as described above. Others are getting the same error and experiencing the same behavior. There is obviously a disconnect as evidenced by UI observation. Here is the error for easy reference:  \"error\": {\n    \"code\": -32003,\n    \"message\": \"Query failure\",\n    \"data\": \"Error when querying chaincode: Error:Failed to launch chaincode spec(Error starting container: API error (500): Error: image library\/976f2c99-b4d5-47f1-8625-050cc3567aca-vp1-f1846c248dcfa64fbfe7176a85b2fdfaeb3f4bc742d68666ab0715f61d3c10f0fea5bb3611235f1697a71e10d8667d3f46cd99cacf42f3ba7084add1a63f8fc4 not found\\n)\"\n  },...looks like code (image) is not where it should be...but we know it's out there somewhere or not, maybe the Blockchain tab is only displaying result but not proof.","edited":{"user":"U268EB76W","ts":"1474610199.000000"},"ts":"1474610121.000898"},{"type":"message","user":"U268EB76W","text":"I can definitely see this as a differentiator, and why I always prefer and recommend sysops access. Not being able to get a shell is like sailing in the dark blindfolded. Frustrating because you are forced to twiddle your thumbs and argue your case to move boxes :slightly_smiling_face: I guess this is why I'm building my own AWS Fabric development system so I can tame, train, master, and extend this beast.","ts":"1474610635.000900"},{"type":"message","user":"U1LES78TT","text":"<@U1VG8LNP3> the VP you query could be lagging behind consensus or malicious, leading to different results compared to the other (3+) VPs","ts":"1474617287.000901"},{"type":"message","user":"U1VG8LNP3","text":"<@U1LES78TT> So how should i do to get trusted query result?","ts":"1474617749.000902"},{"type":"message","user":"U1LES78TT","text":"<@U1VG8LNP3> I'm not sure what's the best way, but you could query multiple VPs :slightly_smiling_face:","ts":"1474617904.000903"},{"type":"message","user":"U1VG8LNP3","text":"<@U1LES78TT> I'm confused about invoke and query interface.  Success response of  invoke only means Tx was submitted. Query gets unreliable result. In practice, I'd like a interface to get reliable response which can prove my invoke request was executed successfully, and the query interface should return reliable result.","ts":"1474619971.000904"},{"type":"message","user":"U1LES78TT","text":"What interface are you using <@U1VG8LNP3>? REST and CLI only submit with no response, I think the SDK lets you get a response though (disclaimer: I'm not too familiar with the the sdk)","ts":"1474621763.000905"},{"type":"message","user":"U0ZJZBJLF","text":"wasn't there some kind of event channel?","ts":"1474621780.000906"},{"type":"message","user":"U1LES78TT","text":"Yeah there's events... maybe that's how?","ts":"1474621805.000907"},{"type":"message","user":"U0ZJZBJLF","text":"never used them","ts":"1474621835.000908"},{"type":"message","user":"U1VG8LNP3","text":"I'm using CLI. i'm not familiar with sdk too. Event will show invoke result but it's not a user-friendly method. I need listen to event channel and find corresponding event.","ts":"1474622541.000909"},{"user":"U1SLH9TK9","text":"<@U1SLH9TK9|roger3cev> has joined the channel","type":"message","subtype":"channel_join","ts":"1474622822.000910"},{"type":"message","user":"U0KM61BCP","text":"we are aware of the build issue on convergence branch - looks like we may have issues with the ubuntu mirror","ts":"1474634631.000911"},{"type":"message","user":"U0KPFAZNF","text":"ill see if I can cherry pick the new v0.1.0 baseimage stuff to convergence","ts":"1474639959.000912"},{"type":"message","user":"U0KPFAZNF","text":"the ubuntu repos seem to be a nightmare lately","ts":"1474639986.000913"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> the convergence problem might be even easier than ^^^^","ts":"1474641986.000914"},{"type":"message","user":"U0KPFAZNF","text":"it still has the mirror patch: <https:\/\/github.com\/hyperledger\/fabric\/blob\/feature\/convergence\/scripts\/provision\/common.sh>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/feature\/convergence\/scripts\/provision\/common.sh","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/feature\/convergence\/scripts\/provision\/common.sh","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1474641993.000915"},{"type":"message","user":"U0KPFAZNF","text":"this was reverted in master, but never synced down","ts":"1474642006.000917"},{"type":"message","user":"U0KPFAZNF","text":"ill submit a revert and see if that gets the CI pipeline back on track","ts":"1474642038.000918"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1203\/>","ts":"1474642249.000919"},{"type":"message","user":"U0KM61BCP","text":"thx!","ts":"1474643687.000920"},{"type":"message","user":"U20T0R475","text":"Does anyone know how I can resolve this problem?","ts":"1474672539.000921"},{"type":"message","subtype":"file_share","text":"<@U20T0R475|hyperpiper> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/hyperpiper\/F2FEA0P1N\/screen_shot_2016-09-23_at_5.41.34_pm.png|Chain Code Error> and commented: The error I get when I try to build the chaincode","file":{"id":"F2FEA0P1N","created":1474672572,"timestamp":1474672572,"name":"Screen Shot 2016-09-23 at 5.41.34 PM.png","title":"Chain Code Error","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U20T0R475","editable":false,"size":26821,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2FEA0P1N\/screen_shot_2016-09-23_at_5.41.34_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2FEA0P1N\/download\/screen_shot_2016-09-23_at_5.41.34_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2FEA0P1N-be075426c0\/screen_shot_2016-09-23_at_5.41.34_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2FEA0P1N-be075426c0\/screen_shot_2016-09-23_at_5.41.34_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2FEA0P1N-be075426c0\/screen_shot_2016-09-23_at_5.41.34_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":24,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2FEA0P1N-be075426c0\/screen_shot_2016-09-23_at_5.41.34_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":32,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2FEA0P1N-be075426c0\/screen_shot_2016-09-23_at_5.41.34_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2FEA0P1N-be075426c0\/screen_shot_2016-09-23_at_5.41.34_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":49,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2FEA0P1N-be075426c0\/screen_shot_2016-09-23_at_5.41.34_pm_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":65,"image_exif_rotation":1,"original_w":991,"original_h":67,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/hyperpiper\/F2FEA0P1N\/screen_shot_2016-09-23_at_5.41.34_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2FEA0P1N-e5fde5e8fe","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc2FEA12HE","created":1474672572,"timestamp":1474672572,"user":"U20T0R475","is_intro":true,"comment":"The error I get when I try to build the chaincode","channel":""}},"user":"U20T0R475","upload":true,"display_as_bot":false,"username":"<@U20T0R475|hyperpiper>","bot_id":null,"ts":"1474672574.000922"},{"user":"U0RD1ALMV","text":"<@U0RD1ALMV|hart.montgomery> has joined the channel","type":"message","subtype":"channel_join","ts":"1474676389.000923"},{"type":"message","user":"U0PB67X4K","text":"<@U268EB76W>, I am not usually one to be \"defensive\" about things or seem like I am attacking people in the community, but to be direct here I don;t really appreciate these kinds of comments.   Totally understand that you posted to the issues which is the right thing to do and I can understand if you wanted to say that we were being unresponsive.    But if you have taken a step back, perhaps you could have come up with some constructive comments and improvements for both the BMX Blockchain service as well as the fabric.","attachments":[{"fallback":"[September 22nd, 2016 12:37 PM] chainsaw: I also posted this issue on IBM-Blockchain\/ibm-blockchain-issues. I'm posting it here for any developers that are or were using IBM Blockchain on BMX for focusing on chaincode development:  BMX IBM Blockchain is BROKE for developers who want to deploy their own or demo code from github as IBM documentation describes.\n\nThe Demo Chaincode Example02 works only from the UI. You cannot deploy it from github. The UI is confusing, because the link to the source code being deployed goes to v0.6 code (shim.ChaincodeStubInterface).\n\nIf you copy the source code to your own github repo and try to deploy it you get an error complaining about the shim.ChaincodeStubInterface (v0.6 code).\n\nIf you change the code to v0.5 (shim.ChaincodeStub), it indicates a successful deploy, returning a chaincode ID. But upon examination of the network tab it is clear it did not deploy correctly, it never appears and cannot be found as indicated by a query that returns an error message hinting this.\n\nSo, clearly something is BROKE in IBM Blockchain on BMX.\n\nAgain, you can only deploy and operate the Demo Chaincode. You cannot deploy your own code from github, even though it is a perfect copy of the chaincode IBM indicates is being deployed.\n\nAnother point of confusion is the code level deployed and supported on IBM Blockchain.\n\nIs it Fabric v0.5 (shim.ChaincodeStub) or Fabric v0.6 (shim.ChaincodeStubInterface)?\n\nBecause only code compiled to v0.5 (shim.ChaincodeStub) is consumed without an error indication while code compiled to v0.6 is consumed, but returns an ERROR indicating it does not like the v0.6 code (shim.ChaincodeStubInterface).\n\nI highly suggest IBM NOT rely on canned tests baked into the UI--Demo Chaincode. Instead rely on what a developer does: compile chaincode, push it to your github repo, and deploy it using the URL to your github repo.\n\nThe inability of developers to deploy their own code makes BMX IBM Blockchain at this time USELESS to developers and only a very simple sales demo!","ts":"1474562269.000880","author_subname":"chainsaw","channel_id":"C0YPYBVJM","channel_name":"fabric-dev","is_msg_unfurl":true,"text":"I also posted this issue on IBM-Blockchain\/ibm-blockchain-issues. I'm posting it here for any developers that are or were using IBM Blockchain on BMX for focusing on chaincode development:  BMX IBM Blockchain is BROKE for developers who want to deploy their own or demo code from github as IBM documentation describes.\n\nThe Demo Chaincode Example02 works only from the UI. You cannot deploy it from github. The UI is confusing, because the link to the source code being deployed goes to v0.6 code (shim.ChaincodeStubInterface).\n\nIf you copy the source code to your own github repo and try to deploy it you get an error complaining about the shim.ChaincodeStubInterface (v0.6 code).\n\nIf you change the code to v0.5 (shim.ChaincodeStub), it indicates a successful deploy, returning a chaincode ID. But upon examination of the network tab it is clear it did not deploy correctly, it never appears and cannot be found as indicated by a query that returns an error message hinting this.\n\nSo, clearly something is BROKE in IBM Blockchain on BMX.\n\nAgain, you can only deploy and operate the Demo Chaincode. You cannot deploy your own code from github, even though it is a perfect copy of the chaincode IBM indicates is being deployed.\n\nAnother point of confusion is the code level deployed and supported on IBM Blockchain.\n\nIs it Fabric v0.5 (shim.ChaincodeStub) or Fabric v0.6 (shim.ChaincodeStubInterface)?\n\nBecause only code compiled to v0.5 (shim.ChaincodeStub) is consumed without an error indication while code compiled to v0.6 is consumed, but returns an ERROR indicating it does not like the v0.6 code (shim.ChaincodeStubInterface).\n\nI highly suggest IBM NOT rely on canned tests baked into the UI--Demo Chaincode. Instead rely on what a developer does: compile chaincode, push it to your github repo, and deploy it using the URL to your github repo.\n\nThe inability of developers to deploy their own code makes BMX IBM Blockchain at this time USELESS to developers and only a very simple sales demo!","author_name":"mark morris","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/chainsaw","author_icon":"https:\/\/avatars.slack-edge.com\/2016-09-04\/76151640806_153a35ea232ed61c13c5_48.jpg","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev\/p1474562269000880","is_share":true,"footer":"Posted in #fabric-dev"}],"ts":"1474713596.000924"},{"type":"message","user":"U0PB67X4K","text":"the current struggle we have with the BMX service is that fact that the interface in master \/ v0.6 changed from what it was in the 0.5 release.   We had no way of anticipating this and did not originally want to be stuck \"vending\" the entire fabric with all of the samples.   Further, the v0.5 branch was removed from public access as well - making things even harder.    And a few facts:\n\n1) You can deploy your own chaincode to BMX - you simply need to implement the v0.5 shim interface.  You don't even need to vendor the fabric to do this because we actually have the fabric in our GOPATH when we compile and deploy the chaincode within BMX.   Yes - I realize this makes it impossible to compile locally and we'll fix that by documenting what to do\n\n2) We have a fairly complex setup network wise for BMX and unfortunately some of our internal routing got messed up and resulted in fairly massive delays in deploying chaincode on some of our backend nodes.  We are working to fix that\n\nI guess my real point is that rather than criticizing, perhaps asking questions about why we did what we did, what the cause of the errors is \/ was and constructive help in terms of versioning, etc would have been a better approach.    Go has no real concept of versions unless you do it artificially.  You can find dialog about versioning for fabric interface moving forward in other channels.\n\nOh - and incidentally - for the record I actually do agree with you that we should not embed deployment of the samples in the dashboard.  The idea was OK - make it easy for someone who just wants to check things out to get something running, but its problematic in that it does not force us to work on the overall consumability of developing and deploying chaincode","edited":{"user":"U0PB67X4K","ts":"1474717674.000000"},"ts":"1474714050.000925"},{"type":"message","user":"U29G76C9L","text":"<@U0PB67X4K> Thanks for your explanation","ts":"1474717410.000929","reactions":[{"name":"wink","users":["U0PB67X4K"],"count":1}]},{"type":"message","user":"U268EB76W","text":"<@U0PB67X4K> thank you for the confirmation, sorry for the perceived harshness; I figured there was confusion within BMX and it is ok because it is beta and under development; it is my fault for being too aggressive this early and expecting too much, sorry. FYI, deploying from github still is not working. Response says Ok and returns an ID but the ID never shows up in the Network tab and queries return not found error. I'll demo my IBM clients on our own network until BMX is fixed. NP. :slightly_smiling_face:","ts":"1474769577.000932"},{"type":"message","user":"U0PB67X4K","text":"<@U268EB76W> - thanks - no worries.","ts":"1474791855.000933"},{"type":"message","user":"U1WUAQJVC","text":"Hi All, Is there a way we get the information of which node initiated a particular transaction?","ts":"1474872042.000934"},{"type":"message","user":"U0KM61BCP","text":"actually, there isn\u2019t the tCerts are designed so that you cannot know - only that it is an authorized node","ts":"1474900248.000935"},{"type":"message","user":"U0XQ35CDD","text":"Do we use a tool to handle the `vendor` folder, and if so, which one?","ts":"1474913613.000936"},{"type":"message","user":"U0XQ35CDD","text":"I use Glide but I see a `vendor.json` file in there and guess we do `govendor`?","ts":"1474913647.000937"},{"type":"message","user":"U0KM61BCP","text":"govendor","ts":"1474918469.000938"},{"type":"message","user":"U0KM61BCP","text":"<@U0XQ35CDD> <http:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/Style-guides\/go-style\/#adding-or-updating-go-packages>","ts":"1474918545.000939"},{"type":"message","user":"U0XQ35CDD","text":"<@U0KM61BCP>: Got it, thanks for that link as well.","ts":"1474947883.000940"},{"user":"U1MA81VBK","text":"<@U1MA81VBK|g_alexander> has joined the channel","type":"message","subtype":"channel_join","ts":"1474967983.000941"},{"user":"U296PJDD1","text":"<@U296PJDD1|vzhou> has joined the channel","type":"message","subtype":"channel_join","ts":"1474990644.000942"},{"type":"message","user":"U11NUTP4L","text":"In case if I have a large file that is part of the transaction, the whitepaper mentions that it needs to be saved on a off-chain storage and a hash of it is stored within the block. The question is who would own that off-chain storage in the network ? How is immutability of it is taken care of ?","ts":"1474995920.000943"},{"user":"U1TMQDYKE","text":"<@U1TMQDYKE|wil.pannell> has joined the channel","type":"message","subtype":"channel_join","ts":"1475012029.000944"},{"type":"message","user":"U0Z41KY5V","text":"<@U11NUTP4L> in this case, you need other scheme (e.g., distributed storage) to save that file. Actually, blockchain is not designed for file storage.","ts":"1475027374.000945"},{"type":"message","user":"U0XQ35CDD","text":"<@U0KM61BCP>, <@U0KPFAZNF>: Do we have a timeframe for when the Vagrant image will be upgraded to Go 1.7?","ts":"1475051414.000946"},{"type":"message","user":"U11MANG9G","text":"Hi <@U0XQ35CDD>, you may want to watch\/follow <https:\/\/jira.hyperledger.org\/browse\/FAB-129> (<@U0KM61BCP> assigned it to Sprint 2, ending Oct 6) which depends on <https:\/\/jira.hyperledger.org\/browse\/FAB-289> (already In Progress).","ts":"1475053741.000947"},{"type":"message","user":"U0XQ35CDD","text":"<@U11MANG9G>: Neat, thanks.","ts":"1475053842.000948"},{"type":"message","user":"U0Z41KY5V","text":"<@U0XQ35CDD> i\u2019ve already tested on 1.7, seems works.","ts":"1475053893.000949"},{"type":"message","user":"U0XQ35CDD","text":"Roger. Most of my tests for the Kafka orderer use the `t.Run()` sub-test functionality so the sooner we upgrade to 1.7 the better.","ts":"1475053995.000950","reactions":[{"name":"+1","users":["U11MANG9G"],"count":1}]},{"type":"message","user":"U11MANG9G","text":"I personally, really wanna to see the native `Z` working. I don\u2019t really need it, but mainly out of curiosity\u2026 :wink:","ts":"1475054240.000951"},{"type":"message","user":"U11MANG9G","text":"(speaking of Go 1.7)","ts":"1475054267.000952"},{"type":"message","user":"U0KM61BCP","text":"It's on the list... probably should consider whether 16.04 or 1.7 is more valuable... ","ts":"1475061275.000953"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XQ35CDD> <@U0KM61BCP> my plan was to get the new baseimage pipeline stable, and then start one by one upgrading the stuff that is crufty","ts":"1475064885.000954"},{"type":"message","user":"U0KPFAZNF","text":"my thought is 1.7 should go in first, only for the reason that 16.04 ships with go1.6 and it seemed silly to leave the manual compilation of 1.6 on top of 16.04","edited":{"user":"U0KPFAZNF","ts":"1475064947.000000"},"ts":"1475064940.000955"},{"type":"message","user":"U0KM61BCP","text":"makes sense","ts":"1475064987.000957"},{"type":"message","user":"U0KPFAZNF","text":"so, upgrade to manual compilation of go1.7, then 16.04, maybe look at rocks and npm next","ts":"1475064988.000958"},{"type":"message","user":"U0KPFAZNF","text":"my guess is we can just go with 16.04 npm","ts":"1475065001.000959"},{"type":"message","user":"U0KPFAZNF","text":"its probably 6.x","ts":"1475065006.000960"},{"type":"message","user":"U0KPFAZNF","text":"i think everything else comes from the platform, so unless there is a new exception to override, everything else will come from the 16.04 update","ts":"1475065042.000961"},{"type":"message","user":"U0KM61BCP","text":"<@U0PB67X4K> what do you think?","ts":"1475065064.000962"},{"type":"message","user":"U0KPFAZNF","text":"i guess it would be good to find out of we were intentionally holding things back to npm 0.12 (or whatever ancient one we are running now)","ts":"1475065105.000963"},{"type":"message","user":"U0PB67X4K","text":"<@U13TWBRBL>  and I discussed that we should go with NodeJS 6.x for the v1.0.0 SDK","ts":"1475065171.000964"},{"type":"message","user":"U0KM61BCP","text":"the npm is historic anachronism I think","ts":"1475065171.000965"},{"type":"message","user":"U0KM61BCP","text":"totally agree","ts":"1475065183.000966"},{"type":"message","user":"U0PB67X4K","text":"I am also a big believer in using nvm to manage node versions","ts":"1475065211.000967"},{"type":"message","user":"U0KPFAZNF","text":"<@U0PB67X4K> roger, I will not fret if 16.04 upgrades us to 6.x or whatever, and then we can evaluate if that is new _enough_","ts":"1475065416.000968"},{"type":"message","user":"U0PB67X4K","text":"sounds good","ts":"1475066648.000969"},{"type":"message","user":"U11NUTP4L","text":"<@U0Z41KY5V> Thanks for clarifying.. In that case, who (among the blockchain participants) would be owning that distributed storage ? and How is the sanity of such file (or trail of any modification done)  maintained ?","ts":"1475069629.000970"},{"type":"message","user":"U0Z41KY5V","text":"can u help clarify the original scenario u are targeting to?","ts":"1475069701.000971"},{"type":"message","user":"U296PJDD1","text":"Hi, how do the peers know where to look for the membersrvc process? Do I just need to run membersrvc on the same machine as every peer?","ts":"1475073835.000972"},{"type":"message","user":"U0UGH3X7X","text":"<@U296PJDD1> , defined in core.yaml ... search for `pki:`","ts":"1475074435.000973"},{"type":"message","user":"U296PJDD1","text":"got it, thanks!","ts":"1475074469.000974"},{"type":"message","user":"U0XQ35CDD","text":"So, it seems that `govendor add <http:\/\/github.com\/x\/y|github.com\/x\/y>` will just add this package to the `vendor` folder, whereas `govendor fetch <http:\/\/github.com\/x\/y|github.com\/x\/y>` will vendor `x\/y` as well as its dependencies.","ts":"1475118499.000975"},{"type":"message","user":"U0XQ35CDD","text":"I assume we want the latter.","ts":"1475118506.000976"},{"type":"message","user":"U0XQ35CDD","text":"_Iff_ that is the case, the \"Adding or updating Go packages\" section in the documentation should be updated. The only relevant command to a developper is the `govendor fetch` one.","ts":"1475118569.000977"},{"type":"message","user":"U0TFEHX8E","text":"I wrote that section before the `fetch` command existed in govendor, so yes, it should likely be updated. I'll see if I can get to that soon","ts":"1475120089.000978","reactions":[{"name":"+1","users":["U0XQ35CDD"],"count":1}]},{"type":"message","user":"U0Z41KY5V","text":"do we have any plan to support chaincode upgrade? One customer wants to upgrade their chaincode with accessing to old data in runtime.","ts":"1475133906.000979"},{"type":"message","user":"U0KPFAZNF","text":"<@U0Z41KY5V> <@U0ULK2JPP> is working on chaincode lifecycle (deploy, upgrade, terminate)","ts":"1475149611.000981"},{"type":"message","user":"U0ZJZBJLF","text":"Hey, anyone here familiar with the fabric security infrastructure and can help me with something?","ts":"1475149992.000982"},{"type":"message","user":"U0PB67X4K","text":"<@U0ZJZBJLF> - what are you trying to do?   I feel like anything security related you add to the gossip work is going to be throwaway.  Why not just continue to noop security functions until we get the libraries in shape?","ts":"1475152522.000984"},{"type":"message","user":"U0ZJZBJLF","text":"hmm, actually - I have a question but it's *not* for the gossip but rather the fabric itself","ts":"1475152575.000985"},{"type":"message","user":"U0ZJZBJLF","text":"and why would it be throwaway? I'm planning to use essentially the same security API that the crypto peer has. it does work, doesn't it?","ts":"1475152623.000986"},{"type":"message","user":"U0PB67X4K","text":"it needs to be refactored into modular libraries - they are working on a pluggable layer as well","ts":"1475152671.000987"},{"type":"message","user":"U0PB67X4K","text":"but I can try to answer your question  :wink:","ts":"1475152714.000988"},{"type":"message","user":"U0ZJZBJLF","text":"yeah, but you'll still have a `Sign([]byte)` and a `Verify(vkID, signature, message []byte) ` right? because that's the baseline asymmetric cryptography capability brings","ts":"1475152748.000989"},{"type":"message","user":"U0ZJZBJLF","text":"I really don't care about refactoring and which code resides where...","ts":"1475152766.000990"},{"type":"message","user":"U0Z41KY5V","text":"thanks ghaskins!","ts":"1475153283.000991"},{"user":"U2HG2LQH4","text":"<@U2HG2LQH4|grbulat> has joined the channel","type":"message","subtype":"channel_join","ts":"1475154755.000992"},{"type":"message","user":"U0KPFAZNF","text":"<@U10Q62R8X> <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1347\/>","ts":"1475176456.000993"},{"type":"message","user":"U0KPFAZNF","text":"note specifically that I consolidated x86 and s390x into one conditional since s390x is now supported in a variety of projects (e.g. go and npm both support it now)","ts":"1475176504.000994"},{"type":"message","user":"U0KPFAZNF","text":"let me know if you or the rest of the Z team see a problem with that","ts":"1475176520.000995"},{"type":"message","user":"U10Q62R8X","text":"<@U0KPFAZNF> thanks. will pull a new copy.. been trying to fix the z build for few days now! whomever picked gradle as a build tool... i would have some words.","ts":"1475181476.000996"},{"type":"message","user":"U10Q62R8X","text":"since we are on the topic... how much opposition would there be to upgrading some of the protobuf packages.. i.e. \n-        classpath 'com.google.protobuf:protobuf-gradle-plugin:0.7.6'\n+        classpath 'com.google.protobuf:protobuf-gradle-plugin:0.8.0'\n\nand\n\n-            artifact = 'io.grpc:protoc-gen-grpc-java:0.13.2'\n+            artifact = 'io.grpc:protoc-gen-grpc-java:1.0.0'","ts":"1475181612.000997"},{"type":"message","user":"U10Q62R8X","text":"protobuf-gradle-plugin:0.8.0 in particular has some platform fixes I need","ts":"1475181633.000998"},{"type":"message","user":"U0XQ35CDD","text":"```vagrant@hyperledger-devenv:v0.0.10-2419d48:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ touch orderer\/config\/config_test.go\nvagrant@hyperledger-devenv:v0.0.10-2419d48:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ make peer\nmake: Warning: File `orderer\/kafka\/config_test.go' has modification time 1.7e+02 s in the future```","ts":"1475182019.000999"},{"type":"message","user":"U0XQ35CDD","text":"This can't be right, can it?","ts":"1475182027.001000"},{"type":"message","subtype":"file_share","text":"<@U0ZJZBJLF|yacovm> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F2HPZ47K9\/am_i_the_only_one_getting_his_builds_fail_because_of_the_go-logging_concurrency_problem__2nd_time_today___.go|am I the only one getting his builds fail because of the go-logging concurrency problem? 2nd time today :\/>","file":{"id":"F2HPZ47K9","created":1475182465,"timestamp":1475182465,"name":"am_I_the_only_one_getting_his_builds_fail_because_of_the_go-logging_concurrency_problem__2nd_time_today___.go","title":"am I the only one getting his builds fail because of the go-logging concurrency problem? 2nd time today :\/","mimetype":"text\/plain","filetype":"go","pretty_type":"Go","user":"U0ZJZBJLF","editable":true,"size":2008,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2HPZ47K9\/am_i_the_only_one_getting_his_builds_fail_because_of_the_go-logging_concurrency_problem__2nd_time_today___.go?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2HPZ47K9\/download\/am_i_the_only_one_getting_his_builds_fail_because_of_the_go-logging_concurrency_problem__2nd_time_today___.go?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F2HPZ47K9\/am_i_the_only_one_getting_his_builds_fail_because_of_the_go-logging_concurrency_problem__2nd_time_today___.go","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2HPZ47K9-e1a9c3d0ae","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F2HPZ47K9\/am_i_the_only_one_getting_his_builds_fail_because_of_the_go-logging_concurrency_problem__2nd_time_today___.go\/edit","preview":"19:15:12 open socket...done\r\n19:15:12 19:15:12.153 [aca] Start -> INFO 078[0m Staring ACA services...\r\n19:15:12 19:15:12.156 [aca] startACAP -> INFO 079[0m ACA PUBLIC gRPC API server started\r\n19:15:12 fatal error: concurrent map read and map write\r\n19:15:12 \r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-number\">19<\/span>:<span class=\"cm-number\">15<\/span>:<span class=\"cm-number\">12<\/span> <span class=\"cm-variable\">open<\/span> <span class=\"cm-variable\">socket<\/span><span class=\"cm-number\">.<\/span><span class=\"cm-number\">.<\/span><span class=\"cm-number\">.<\/span><span class=\"cm-variable\">done<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-number\">19<\/span>:<span class=\"cm-number\">15<\/span>:<span class=\"cm-number\">12<\/span> <span class=\"cm-number\">19<\/span>:<span class=\"cm-number\">15<\/span>:<span class=\"cm-number\">12.153<\/span> [<span class=\"cm-variable\">aca<\/span>] <span class=\"cm-variable\">Start<\/span> <span class=\"cm-operator\">-&gt;<\/span> <span class=\"cm-variable\">INFO<\/span> <span class=\"cm-number\">0<\/span><span class=\"cm-number\">78<\/span>[<span class=\"cm-number\">0<\/span><span class=\"cm-variable\">m<\/span> <span class=\"cm-variable\">Staring<\/span> <span class=\"cm-variable\">ACA<\/span> <span class=\"cm-variable\">services<\/span><span class=\"cm-number\">.<\/span><span class=\"cm-number\">.<\/span><span class=\"cm-number\">.<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-number\">19<\/span>:<span class=\"cm-number\">15<\/span>:<span class=\"cm-number\">12<\/span> <span class=\"cm-number\">19<\/span>:<span class=\"cm-number\">15<\/span>:<span class=\"cm-number\">12.156<\/span> [<span class=\"cm-variable\">aca<\/span>] <span class=\"cm-variable\">startACAP<\/span> <span class=\"cm-operator\">-&gt;<\/span> <span class=\"cm-variable\">INFO<\/span> <span class=\"cm-number\">0<\/span><span class=\"cm-number\">79<\/span>[<span class=\"cm-number\">0<\/span><span class=\"cm-variable\">m<\/span> <span class=\"cm-variable\">ACA<\/span> <span class=\"cm-variable\">PUBLIC<\/span> <span class=\"cm-variable\">gRPC<\/span> <span class=\"cm-variable\">API<\/span> <span class=\"cm-variable\">server<\/span> <span class=\"cm-variable\">started<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-number\">19<\/span>:<span class=\"cm-number\">15<\/span>:<span class=\"cm-number\">12<\/span> <span class=\"cm-variable\">fatal<\/span> <span class=\"cm-keyword\">error<\/span>: <span class=\"cm-variable\">concurrent<\/span> <span class=\"cm-keyword\">map<\/span> <span class=\"cm-variable\">read<\/span> <span class=\"cm-variable\">and<\/span> <span class=\"cm-keyword\">map<\/span> <span class=\"cm-variable\">write<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-number\">19<\/span>:<span class=\"cm-number\">15<\/span>:<span class=\"cm-number\">12<\/span> <\/pre><\/div>\n<\/div>\n<\/div>\n","lines":20,"lines_more":15,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0ZJZBJLF","upload":true,"display_as_bot":false,"username":"<@U0ZJZBJLF|yacovm>","bot_id":null,"ts":"1475182465.001001"},{"type":"message","user":"U0ZJZBJLF","text":"is it *ok* for me to submit a PR that patches the package in the vendor folder? I think the license allows it","ts":"1475182622.001002"},{"type":"message","user":"U0ZJZBJLF","text":"<https:\/\/github.com\/op\/go-logging\/blob\/master\/LICENSE>","attachments":[{"service_name":"GitHub","title":"op\/go-logging","title_link":"https:\/\/github.com\/op\/go-logging\/blob\/master\/LICENSE","text":"go-logging - Golang logging library","fallback":"GitHub: op\/go-logging","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/55245?v=3&s=400","from_url":"https:\/\/github.com\/op\/go-logging\/blob\/master\/LICENSE","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1475182625.001003"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XQ35CDD> I think those problems are related to the fact that \/opt\/gopath\/src\/github.com\/hyperledger\/fabric is a filesystem punched through to your host","ts":"1475183561.001005"},{"type":"message","user":"U0KPFAZNF","text":"i suspect you are editing the file on your host?","ts":"1475183599.001006"},{"type":"message","user":"U0XQ35CDD","text":"But shouldn't `touch` bring it in sync with the VM's clock?","ts":"1475183606.001007"},{"type":"message","user":"U0XQ35CDD","text":"(Yes.)","ts":"1475183609.001008"},{"type":"message","user":"U0KPFAZNF","text":"maybe\u2026it might be that your host clock is far enough out of sync that touch wont move it backwards","ts":"1475183635.001009"},{"type":"message","user":"U0KPFAZNF","text":"not sure","ts":"1475183637.001010"},{"type":"message","user":"U0KPFAZNF","text":"generally speaking, i ignore those warnings","ts":"1475183645.001011"},{"type":"message","user":"U0XQ35CDD","text":"Gotcha, will do the same then. Thank you.","ts":"1475183658.001012"},{"type":"message","user":"U0XRC0KLH","text":"<@U0XQ35CDD> I must demur on ignoring these time warnings.  It's too trivial to fix .... tojust ignore.  typically, before I start working in a VM, either I ntpdate, or I rdate to another server tn get the VM's time up-to-date.  If your VM is skewing enough that it matters, you might write  a cron job to run the cmd every 10min.  A  clock skewing upr ethan that .... well, something's wrong.","ts":"1475200708.001013"},{"type":"message","user":"U0XRC0KLH","text":"I've run decent-sized networks of machines without bothering to setup ntpd properly, just by putting ntpdate into cron jobs.  \"just enough is good enough\"","ts":"1475200743.001014"},{"type":"message","user":"U0XRC0KLH","text":"Also, if you're going to use  automated tools, those tools use timestamps for many things.  Not trusting the time, means you have to do make clean more often, and that costs time.","ts":"1475200797.001015"},{"type":"message","user":"U0XRC0KLH","text":"when the solution is so cheeeeep .....","ts":"1475200809.001016"},{"type":"message","user":"U0XRC0KLH","text":"N.B. for ntpdate, you gotta find an NTP server.  that might be not-so-easy, though it shouldn't be.","ts":"1475200861.001017"},{"type":"message","user":"U0XRC0KLH","text":"for rdate, you just gotta hit a machine whose inetd\/xinetd has enabled the \"date\" server.  That machine can be the host machine on which the VM guest runs","ts":"1475200896.001018"},{"type":"message","user":"U0XRC0KLH","text":"it's really not hard","ts":"1475200901.001019"},{"type":"message","user":"U0XQ35CDD","text":"<@U0XRC0KLH> `sudo ntpdate <http:\/\/pool.ntp.org|pool.ntp.org>` did the trick - thanks!","ts":"1475202782.001020"},{"user":"U2HSRQXGQ","text":"<@U2HSRQXGQ|shannon_wie> has joined the channel","type":"message","subtype":"channel_join","ts":"1475214913.001021"},{"user":"U2CC1NDT2","text":"<@U2CC1NDT2|lenh> has joined the channel","type":"message","subtype":"channel_join","ts":"1475240842.001022"},{"user":"U2J0R1VCY","text":"<@U2J0R1VCY|fredericdgrv> has joined the channel","type":"message","subtype":"channel_join","ts":"1475243899.001023"},{"user":"U2HEHNF27","text":"<@U2HEHNF27|thefringe> has joined the channel","type":"message","subtype":"channel_join","ts":"1475245200.001024"},{"type":"message","user":"U2HEHNF27","text":"Hi guys, is this error familiar?\nError building images: Error: image hyperledger\/fabric-ccenv:x86_64- not found","ts":"1475245420.001025"},{"type":"message","user":"U0KPFAZNF","text":"<@U2HEHNF27> no, it looks like the tag is not fully formed","ts":"1475246388.001026"},{"type":"message","user":"U0KPFAZNF","text":"can you give me any details of your environment, what you are trying to do, etc?","ts":"1475246399.001027"},{"type":"message","user":"U0KPFAZNF","text":"(whats missing is a version: it should look like \u201c..fabric-ccenv:x86_64-0.7.0-snapshot\u201d or something like that","ts":"1475246440.001028"},{"type":"message","user":"U2HEHNF27","text":"I'm running ubuntu 16.04.1. I'm using this docker-compose yml: <https:\/\/github.com\/yeasy\/docker-compose-files\/blob\/master\/hyperledger\/noops\/docker-compose.yml>","attachments":[{"service_name":"GitHub","title":"yeasy\/docker-compose-files","title_link":"https:\/\/github.com\/yeasy\/docker-compose-files\/blob\/master\/hyperledger\/noops\/docker-compose.yml","text":"docker-compose-files - Some typical docker compose templates.","fallback":"GitHub: yeasy\/docker-compose-files","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/1920564?v=3&s=400","from_url":"https:\/\/github.com\/yeasy\/docker-compose-files\/blob\/master\/hyperledger\/noops\/docker-compose.yml","thumb_width":115,"thumb_height":115,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1475246525.001029"},{"type":"message","user":"U2HEHNF27","text":"And i'm just trying to deploy some homemade chaincode basically nothing fancy","ts":"1475246551.001031"},{"type":"message","user":"U2HEHNF27","text":"oh and <@U0PB67X4K> This is with the nodesdk and rest api","ts":"1475246666.001032"},{"type":"message","user":"U2EM20LF4","text":"Hello Guys~~\n\nHow can i figure out the problem?\nError getting chaincode package bytes: Error getting code Getting chaincode took too long","ts":"1475310877.001033"},{"type":"message","user":"U2EM20LF4","text":"I know the default is :deploytimeout: 30000","ts":"1475310914.001034"},{"type":"message","user":"U2EM20LF4","text":"but my chaincode'go file is big i think ...","ts":"1475310937.001035"},{"type":"message","user":"U2EM20LF4","text":"after change the time num, i compile again, it work ,  thank you^^","ts":"1475312353.001036"},{"type":"message","user":"U1GPHH6PQ","text":"Morning","ts":"1475488234.001042"},{"type":"message","user":"U1GPHH6PQ","text":"s390x build seems broken:\nroot@Peer-70:\/opt\/hyperledger\/git\/src\/github.com\/hyperledger\/fabric\/build\/image\/src# docker build -t hyperledger\/fabric-src .              \nSending build context to Docker daemon 11.54 MB\nStep 1 : FROM hyperledger\/fabric-baseimage:s390x-0.1.0\nPulling repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>\nTag s390x-0.1.0 not found in repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>","ts":"1475488300.001043"},{"type":"message","user":"U0KPFAZNF","text":"<@U1GPHH6PQ> s390x support hasnt been added to the image pipeline, you\u2019ll need to use the v0.6-preview branch for now","ts":"1475502033.001044"},{"type":"message","user":"U0KPFAZNF","text":"that still works with the old mechanism","ts":"1475502067.001045"},{"type":"message","user":"U2CC1NDT2","text":"<@U0KPFAZNF> - I'm calling the Fabric (running in a Vagrant VM) from another VM running the HFC NodeSDK and am running through the enroll, deploy, invoke, query cycle but am getting this error:\n```Failed to query chaincode: request={\"chaincodeID\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\",\"fcn\":\"query\",\"args\":[\"a\"]}, error=%k EventTransactionError {\n  error:\n   { status: 'FAILURE',\n     msg: &lt;Buffer 45 72 72 6f 72 3a 46 61 69 6c 65 64 20 74 6f 20 6c 61 75 6e 63 68 20 63 68 61 69 6e 63 6f 64 65 20 73 70 65 63 28 43 6f 75 6c 64 20 6e 6f 74 20 67 65 ... &gt; },\n  msg: 'Error:Failed to launch chaincode spec(Could not get deployment transaction for 56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8 - LedgerError - ResourceNotFound: ledger: resource not found)' }```\nOn the HFC NodeSDK VM I have the chaincode (example02) and it builds without fault. I'm logging to the console and get this...","ts":"1475504205.001046"},{"type":"message","user":"U2CC1NDT2","text":"```Enrolled JohnDoe successfully\n\ndeploying chaincode; please wait ...\ndeploy complete; results: {\"uuid\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\",\"chaincodeID\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\"}\ninvoke chaincode ...\ninvoke submitted successfully; results={\"uuid\":\"a92527d5-5c18-48d5-81a7-597ac0b25f3b\"}\ninvoke completed successfully; results={\"result\":\"Tx a92527d5-5c18-48d5-81a7-597ac0b25f3b complete\"}\nWaiting for chain to sync...\nquerying chaincode ...\nFailed to query chaincode: request={\"chaincodeID\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\",\"fcn\":\"query\",\"args\":[\"a\"]}, error=%k EventTransactionError {\n  error:\n   { status: 'FAILURE',\n     msg: &lt;Buffer 45 72 72 6f 72 3a 46 61 69 6c 65 64 20 74 6f 20 6c 61 75 6e 63 68 20 63 68 61 69 6e 63 6f 64 65 20 73 70 65 63 28 43 6f 75 6c 64 20 6e 6f 74 20 67 65 ... &gt; },\n  msg: 'Error:Failed to launch chaincode spec(Could not get deployment transaction for 56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8 - LedgerError - ResourceNotFound: ledger: resource not found)' }```","ts":"1475504236.001047"},{"type":"message","user":"U2CC1NDT2","text":"So it looks to me like the enroll, invoke, etc worked but then get that LedgerError - also FYI - I'm waiting 2.5 mins before calling the query...","ts":"1475504302.001048"},{"type":"message","user":"U2CC1NDT2","text":"I have however noticed this output on the Peer console:\n```14:06:22.860 [rest] StartOpenchainRESTServer -&gt; INFO 013 Initializing the REST service on 0.0.0.0:7050, TLS is disabled.\n2016\/10\/03 14:06:37 grpc: Server.Serve failed to create ServerTransport:  connection error: desc = \"transport: write tcp 10.10.10.200:7051-&gt;10.10.10.150:33133: write: broken pipe\"\n14:06:48.873 [dockercontroller] deployImage -&gt; ERRO 014 Error building images: Tag latest not found in repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>\n14:06:48.874 [dockercontroller] deployImage -&gt; ERRO 015 Image Output:\n********************\nStep 1 : FROM hyperledger\/fabric-baseimage\nPulling repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>\n\n********************\n14:06:58.526 [dockercontroller] deployImage -&gt; ERRO 016 Error building images: Tag latest not found in repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>\n14:06:58.526 [dockercontroller] deployImage -&gt; ERRO 017 Image Output:\n********************\nStep 1 : FROM hyperledger\/fabric-baseimage\nPulling repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>\n\n********************\n14:06:58.526 [chaincode] Launch -&gt; ERRO 018 launchAndWaitForRegister failed Error starting container: Tag latest not found in repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>\n2016\/10\/03 14:08:37 transport: http2Server.HandleStreams failed to receive the preface from client: EOF\n2016\/10\/03 14:11:17 transport: http2Server.HandleStreams failed to receive the preface from client: EOF```","ts":"1475504348.001049"},{"type":"message","user":"U2CC1NDT2","text":"So now I'm a bit lost - did the deploy work?","ts":"1475504376.001050"},{"type":"message","user":"U1GPHH6PQ","text":"<@U0KPFAZNF>: thanks Greg.","ts":"1475504559.001051"},{"type":"message","user":"U0KPFAZNF","text":"<@U2CC1NDT2> looking now","ts":"1475511885.001052"},{"type":"message","user":"U0KPFAZNF","text":"<@U2CC1NDT2> if I had to guess, id say the deploy and subsequent invoke failed, but because they are \u201copen loop\u201d right now, your client couldnt tell","ts":"1475511981.001053"},{"type":"message","user":"U0KPFAZNF","text":"and then it became apparent in the query, which is synchronous","ts":"1475511995.001054"},{"type":"message","user":"U0KPFAZNF","text":"so, bit of background: historically the event-path has been missing in the SDK so things like invoke are generally asynchronous","ts":"1475512038.001055"},{"type":"message","user":"U2CC1NDT2","text":"ok - how come though it responds with:\n```deploy complete; results: {\"uuid\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\",\"chaincodeID\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\"}\ninvoke chaincode ...\ninvoke submitted successfully; results={\"uuid\":\"a92527d5-5c18-48d5-81a7-597ac0b25f3b\"}\ninvoke completed successfully; results={\"result\":\"Tx a92527d5-5c18-48d5-81a7-597ac0b25f3b complete\"}```","ts":"1475512038.001056"},{"type":"message","user":"U0KPFAZNF","text":"hmm, you do have a point there","ts":"1475512057.001057"},{"type":"message","user":"U0KPFAZNF","text":"let me re-look with that in consideration","ts":"1475512066.001058"},{"type":"message","user":"U0KPFAZNF","text":"that is coming from the client?","ts":"1475512096.001059"},{"type":"message","user":"U2CC1NDT2","text":"yes","ts":"1475512101.001060"},{"type":"message","user":"U2CC1NDT2","text":"via the calls to SDK methods","ts":"1475512110.001061"},{"type":"message","user":"U0KPFAZNF","text":"right ok\u2026im spitballing a bit here, but I think its wrong","ts":"1475512115.001062"},{"type":"message","user":"U0KPFAZNF","text":"part of the problem is that, like I mentioned, the event feedback mechanism has been missing\u2026so the SDK had to synthesize \u201csuccess\"","ts":"1475512151.001063"},{"type":"message","user":"U0KPFAZNF","text":"for instance, the SDK just waits 5 seconds for an invoke and then synthesizes that it completed","ts":"1475512186.001064"},{"type":"message","user":"U0KPFAZNF","text":"there is ongoing work by <@U0KQ9QKH6> to close the loop on this by providing event substrate that the SDK will hook into","ts":"1475512214.001065"},{"type":"message","user":"U0KPFAZNF","text":"what I suspect is happening is you are being tricked into thinking it worked when really your backend is not launching the chaincode properly","ts":"1475512235.001066"},{"type":"message","user":"U0KPFAZNF","text":"(to be clear, I am speculating)","ts":"1475512251.001067"},{"type":"message","user":"U0KPFAZNF","text":"but based on the peer errors, I think the deploy failed","ts":"1475512263.001068"},{"type":"message","user":"U0KPFAZNF","text":"and thus all subsquent operations fail as well","ts":"1475512272.001069"},{"type":"message","user":"U2CC1NDT2","text":"yeah `deployImage -&gt; ERRO 014 Error building images: Tag latest not found in repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>` would seem to point to that","ts":"1475512283.001070"},{"type":"message","user":"U0KPFAZNF","text":"right","ts":"1475512289.001071"},{"type":"message","user":"U0KPFAZNF","text":"i have to put my kid on the bus, but we should be able to straighten this out when I get back in 10m","ts":"1475512307.001072"},{"type":"message","user":"U2CC1NDT2","text":"no worries","ts":"1475512316.001073"},{"type":"message","user":"U0KPFAZNF","text":"back","ts":"1475512875.001074"},{"type":"message","user":"U0KPFAZNF","text":"so, as to the issue with baseimage: i think I know what might be wrong","ts":"1475512900.001075"},{"type":"message","user":"U0KPFAZNF","text":"first background: we dont (yet) support running the peer from anything except locally built sources","ts":"1475512929.001076"},{"type":"message","user":"U0KPFAZNF","text":"e,g,: the only way it will work \u201cturnkey\u201d is if you do something like \u201cmake peer &amp;&amp; peer node start\u201d from an environment such as the vagrant vm","ts":"1475512965.001077"},{"type":"message","user":"U0KPFAZNF","text":"my guess is you are running the peer in some other scenario where a \u201cmake peer\u201d hasnt been run?","ts":"1475512993.001078"},{"type":"message","user":"U0KPFAZNF","text":"(side note: we will be fixing this in the coming weeks)","ts":"1475513011.001079"},{"type":"message","user":"U0KPFAZNF","text":"but for now, that is a limitation","ts":"1475513015.001080"},{"type":"message","user":"U0KPFAZNF","text":"it is of course possible to run it outside of vagrant+make-peer, but you have to massage things","ts":"1475513050.001081"},{"type":"message","user":"U0KPFAZNF","text":"I believe this is what the bluemix team does, for instance","ts":"1475513060.001082"},{"type":"message","user":"U0KPFAZNF","text":"so my first question <@U2CC1NDT2> is: when you say you run the peer in a \u201cVagrant VM\u201d do you mean you are running it in the fabric devenv?","ts":"1475513164.001083"},{"type":"message","user":"U0KPFAZNF","text":"or is it a custom vagrant setup?","ts":"1475513172.001084"},{"type":"message","user":"U2CC1NDT2","text":"Yes","ts":"1475513185.001085"},{"type":"message","user":"U0KPFAZNF","text":"second question: how are you running it?","ts":"1475513185.001086"},{"type":"message","user":"U0KPFAZNF","text":"yes = devenv vagrant, or yes == custom vagrant?","ts":"1475513242.001087"},{"type":"message","user":"U2CC1NDT2","text":"As follows:\n1. boot HL Fabric VM\n2. ssh into\n3. rm -rf \/var\/hyperledger\/production\n4. clear local keyStore (on other machine \/tmp....)\n5.  membersrvc &gt; membersrvc.log 2&gt;&amp;1&amp;\n6. peer node start","ts":"1475513286.001088"},{"type":"message","user":"U0KPFAZNF","text":"ok, where did the \u201cpeer\u201d binary come from?","ts":"1475513312.001089"},{"type":"message","user":"U0KPFAZNF","text":"did you previously do a build?","ts":"1475513318.001090"},{"type":"message","user":"U2CC1NDT2","text":"yes when I 1st provisioned the HL VM","ts":"1475513332.001091"},{"type":"message","user":"U2CC1NDT2","text":"a few days ago","ts":"1475513345.001092"},{"type":"message","user":"U0KPFAZNF","text":"from the VM, what do you see if you run \u201cdocker images | grep baseimage\"","ts":"1475513350.001093"},{"type":"message","user":"U2CC1NDT2","text":"hyperledger\/fabric-baseimage                                                                                                                x86_64-0.1.0                    db53d04b117c        13 days ago         1.39 GB","ts":"1475513386.001094"},{"type":"message","user":"U0KPFAZNF","text":"and can you send me the \u201cgit rev-parse \u2014short HEAD\u201d output from your fabric.git repo?","ts":"1475513446.001095"},{"type":"message","user":"U0KPFAZNF","text":"i suspect you are on master, but an older rev","ts":"1475513517.001096"},{"type":"message","user":"U0KPFAZNF","text":"(we got rid of all baseimage:latest references in HEAD, IIUC)","ts":"1475513529.001097"},{"type":"message","user":"U0KPFAZNF","text":"so my guess right now is you are on master, but slightly out of date","ts":"1475513542.001098"},{"type":"message","user":"U2CC1NDT2","text":"that git cmd gives me an error...?","ts":"1475513670.001099"},{"type":"message","user":"U2CC1NDT2","text":"i should run that from the \/hyperledger\/fabric dir on my host os yes?","ts":"1475513700.001100"},{"type":"message","user":"U0KPFAZNF","text":"well, its probably not at that path on your host","ts":"1475513764.001101"},{"type":"message","user":"U0KPFAZNF","text":"you can run it from the vm at that path though, i think","ts":"1475513784.001102"},{"type":"message","user":"U0KPFAZNF","text":"hold on, let me fire one up so I can tell you exactly","ts":"1475513795.001103"},{"type":"message","user":"U0KPFAZNF","text":"(actually, shortest answer is: run it from the same path you run \u201cvagrant up\"","ts":"1475513808.001104"},{"type":"message","user":"U2CC1NDT2","text":"ok cause vagrant up is from \/fabric\/devenv but the fabric was cloned into \/fabric","ts":"1475513850.001105"},{"type":"message","user":"U0KPFAZNF","text":"ok, do it from \/fabric or anywhere below that","ts":"1475513886.001106"},{"type":"message","user":"U0KPFAZNF","text":"you just need to be in the CWD of the git tree, one way or the other","ts":"1475513907.001107"},{"type":"message","user":"U2CC1NDT2","text":"git rev-parse --short HEAD\n1866020","ts":"1475513976.001108"},{"type":"message","user":"U0KPFAZNF","text":"hmm, run this","ts":"1475514032.001109"},{"type":"message","user":"U0KPFAZNF","text":"git log --oneline","ts":"1475514033.001110"},{"type":"message","user":"U2CC1NDT2","text":"```1866020 Changed docs\/nodeSDK\/sample-standalone-app.md\n131b36c Merge \"    Java shim build update in DEV mode\"\n42ca84b FAB-506 broken links fixes and added new targets\n79589a5     Java shim build update in DEV mode\ndd5cef6 Merge \"FAB-425 - improve initial experience\"\nf5ea7b5 Merge v0.6 branch\n158480c FAB-425 - improve initial experience\n4173edd Updating SDK README For NPM Publish\nace3143 Updating SDK README For NPM Publish\n8d18b21 Node.js SDK -- Upgrading gRPC Version\n0fa60ba Node.js SDK -- Upgrading gRPC Version\nfc09672 Merge \"node-SDK: add unit tests for chaincode events\"\n1392fa1 Merge \"node-SDK: add multi-callback registrations\"\ncd0c5dd Node.js SDK -- Lock TypeScript Version to 1.8.10\nc7963ea Node.js SDK -- Lock TypeScript Version to 1.8.10\nceefb12 Merge \"Animation abstract &amp; landing page for V1 video\"\ne0b9e0e Merge \"Do not build the fabric peer during vagrant provision\"\neba4553 node-SDK: add unit tests for chaincode events\n57bbb61 Merge \"Busywork updates 9\/22\/2016\"\n4d4df36 node-SDK: add multi-callback registrations\nce2ef23 Do not build the fabric peer during vagrant provision\n02431ee Busywork updates 9\/22\/2016\n3cfaeb5 Merge \"Switch to new baseimage-pipeline\"```","ts":"1475514061.001111"},{"type":"message","user":"U0KPFAZNF","text":"ok, interesting","ts":"1475514099.001112"},{"type":"message","user":"U0KPFAZNF","text":"seems like you have the right code","ts":"1475514109.001113"},{"type":"message","user":"U0KPFAZNF","text":"how about \u201cgit grep baseimage\"","ts":"1475514141.001114"},{"type":"message","user":"U0KPFAZNF","text":"?","ts":"1475514145.001115"},{"type":"message","user":"U2CC1NDT2","text":"this is what makes me think there's something amiss...\n```2016\/10\/03 16:51:18 grpc: Server.Serve failed to create ServerTransport:  connection error: desc = \"transport: write tcp 10.10.10.200:7051-&gt;10.10.10.150:33156: write: broken pipe\"\n16:51:31.636 [dockercontroller] deployImage -&gt; ERRO 014 Error building images: Tag latest not found in repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>\n16:51:31.636 [dockercontroller] deployImage -&gt; ERRO 015 Image Output:\n********************\nStep 1 : FROM hyperledger\/fabric-baseimage```","ts":"1475514157.001116"},{"type":"message","user":"U0KPFAZNF","text":"well, its the \u201cFROM \u2026 baseimage\u201d that is surprising","ts":"1475514209.001117"},{"type":"message","user":"U0KPFAZNF","text":"those should have been eradicated at runtime in the version of code you are running","ts":"1475514221.001118"},{"type":"message","user":"U0KPFAZNF","text":"(the \u201clatest\u201d tag not found is actually expected","ts":"1475514248.001119"},{"type":"message","user":"U0KPFAZNF","text":"but it shouldnt be looking for that image at all","ts":"1475514257.001120"},{"type":"message","user":"U0KPFAZNF","text":"the latest code should be doing a \"FROM \u2026. fabric-ccenv\u201d so I am trying to figure out where that is originating from","ts":"1475514294.001121"},{"type":"message","user":"U2CC1NDT2","text":"```warning: unable to access '\/home\/vagrant\/.config\/git\/attributes': Permission denied\nMakefile:BASEIMAGE_RELEASE=$(shell cat .\/.baseimage-release)\nMakefile:               hyperledger\/fabric-baseimage:$(BASE_DOCKER_TAG) go install <http:\/\/github.com\/golang\/protobuf\/protoc-gen-go|github.com\/golang\/protobuf\/protoc-gen-go>\ndevenv\/Vagrantfile:baseimage_release = File.read '..\/.baseimage-release'\ndevenv\/Vagrantfile:  config.vm.box = \"hyperledger\/fabric-baseimage\"\ndevenv\/Vagrantfile:  config.vm.box_version = ENV['USE_LOCAL_BASEIMAGE'] ? \"0\": baseimage_release # Vagrant does not support versioning local image\ndevenv\/setup.sh:BASEIMAGE_RELEASE=`cat \/etc\/hyperledger-baseimage-release`\nexamples\/chaincode\/go\/utxo\/README.md:Next, modify the `core.yaml` file in the Hyperledger Fabric project to point to the local Docker image that w\nimages\/src\/Dockerfile.in:FROM hyperledger\/fabric-baseimage:_BASE_TAG_\nmembersrvc\/ca\/ca_test.yaml:        from hyperledger\/fabric-baseimage:latest\nsdk\/node\/src\/hfc.ts:        \"from hyperledger\/fabric-baseimage\" + \"\\n\" +\n```","ts":"1475514301.001122"},{"type":"message","user":"U0KPFAZNF","text":"ok, that looks right","ts":"1475514346.001123"},{"type":"message","user":"U0KPFAZNF","text":"and those messages came from the peer?","ts":"1475514365.001124"},{"type":"message","user":"U2CC1NDT2","text":"the only change I have is a pvte IP assigned in Vagrantfile","ts":"1475514381.001125"},{"type":"message","user":"U2CC1NDT2","text":"yes from the Peer","ts":"1475514385.001126"},{"type":"message","user":"U0KPFAZNF","text":"private IP should be fine","ts":"1475514394.001127"},{"type":"message","user":"U0KPFAZNF","text":"this is very strange","ts":"1475514397.001128"},{"type":"message","user":"U2CC1NDT2","text":"yeah the comms all work - the enroll etc is all good - I see the files \/ etc being created on both ends \/tmp\/Key.... on client and \/var\/hyperledger\/production on \"server\"","ts":"1475514447.001129"},{"type":"message","user":"U0KPFAZNF","text":"right","ts":"1475514458.001130"},{"type":"message","user":"U2CC1NDT2","text":"here's the full output from peer:\n```vagrant@hyperledger-devenv:v0.1.0-131b36c:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/build\/bin$ peer node start                16:51:02.555 [nodeCmd] serve -&gt; INFO 002 Security enabled status: false\n16:51:02.555 [nodeCmd] serve -&gt; INFO 003 Privacy enabled status: false\n16:51:02.555 [eventhub_producer] start -&gt; INFO 001 event processor started\n16:51:02.585 [chaincode] NewChaincodeSupport -&gt; INFO 004 Chaincode support using peerAddress: 0.0.0.0:7051\n16:51:02.586 [sysccapi] RegisterSysCC -&gt; INFO 005 system chaincode (noop,<http:\/\/github.com\/hyperledger\/fabric\/bddtests\/syschaincode\/noop|github.com\/hyperledger\/fabric\/bddtests\/syschaincode\/noop>) disabled\n16:51:02.590 [state] loadConfig -&gt; INFO 006 Loading configurations...\n16:51:02.590 [state] loadConfig -&gt; INFO 007 Configurations loaded. stateImplName=[buckettree], stateImplConfigs=map[maxGroupingAtEachLevel:%!s(int=5) bucketCacheSize:%!s(int=100) numBuckets:%!s(int=1000003)], deltaHistorySize=[500]\n16:51:02.591 [state] NewState -&gt; INFO 008 Initializing state implementation [buckettree]\n16:51:02.591 [buckettree] initConfig -&gt; INFO 009 configs passed during initialization = map[string]interface {}{\"numBuckets\":1000003, \"maxGroupingAtEachLevel\":5, \"bucketCacheSize\":100}\n16:51:02.591 [buckettree] initConfig -&gt; INFO 00a Initializing bucket tree state implemetation with configurations &amp;{maxGroupingAtEachLevel:5 lowestLevel:9 levelToNumBucketsMap:map[7:40001 5:1601 8:200001 1:3 0:1 4:321 2:13 6:8001 3:65 9:1000003] hashFunc:0xab1cd0}\n16:51:02.592 [buckettree] newBucketCache -&gt; INFO 00b Constructing bucket-cache with max bucket cache size = [100] MBs\n16:51:02.592 [buckettree] loadAllBucketNodesFromDB -&gt; INFO 00c Loaded buckets data in cache. Total buckets in DB = [0]. Total cache size:=0\n16:51:02.594 [consensus\/controller] NewConsenter -&gt; INFO 00d Creating default consensus plugin (noops)\n16:51:02.601 [consensus\/noops] newNoops -&gt; INFO 00e NOOPS consensus type = *noops.Noops\n16:51:02.601 [consensus\/noops] newNoops -&gt; INFO 00f NOOPS block size = 500\n16:51:02.601 [consensus\/noops] newNoops -&gt; INFO 010 NOOPS block wait = 1s\n16:51:02.602 [nodeCmd] serve -&gt; INFO 011 Starting peer with ID=name:\"jdoe\" , network ID=dev, address=0.0.0.0:7051, rootnodes=, validator=true\n16:51:02.604 [consensus\/statetransfer] blockThread -&gt; INFO 012 Validated blockchain to the genesis block\n16:51:02.605 [rest] StartOpenchainRESTServer -&gt; INFO 013 Initializing the REST service on 0.0.0.0:7050, TLS is disabled.\n2016\/10\/03 16:51:18 grpc: Server.Serve failed to create ServerTransport:  connection error: desc = \"transport: write tcp 10.10.10.200:7051-&gt;10.10.10.150:33156: write: broken pipe\"\n16:51:31.636 [dockercontroller] deployImage -&gt; ERRO 014 Error building images: Tag latest not found in repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>\n16:51:31.636 [dockercontroller] deployImage -&gt; ERRO 015 Image Output:\n********************\nStep 1 : FROM hyperledger\/fabric-baseimage\nPulling repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>\n\n********************\n16:51:40.973 [dockercontroller] deployImage -&gt; ERRO 016 Error building images: Tag latest not found in repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>\n16:51:40.973 [dockercontroller] deployImage -&gt; ERRO 017 Image Output:\n********************\nStep 1 : FROM hyperledger\/fabric-baseimage\nPulling repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>\n\n********************\n16:51:40.973 [chaincode] Launch -&gt; ERRO 018 launchAndWaitForRegister failed Error starting container: Tag latest not found in repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>\n2016\/10\/03 16:53:18 transport: http2Server.HandleStreams failed to receive the preface from client: EOF\n2016\/10\/03 16:56:08 transport: http2Server.HandleStreams failed to receive the preface from client: EOF```","ts":"1475514486.001131"},{"type":"message","user":"U0KPFAZNF","text":"this is very confusing","ts":"1475514522.001132"},{"type":"message","user":"U0KPFAZNF","text":"can you try this from the VM: find $GOPATH -type f | xargs grep baseimage","ts":"1475514548.001133"},{"type":"message","user":"U2CC1NDT2","text":"it's at `2016\/10\/03 16:51:18` that things start wobbling","ts":"1475514551.001134"},{"type":"message","user":"U0KPFAZNF","text":"the only thing I can think of is you have some core.yaml floating around","ts":"1475514579.001135"},{"type":"message","user":"U2CC1NDT2","text":"mmmhhhh","ts":"1475514595.001136"},{"type":"message","user":"U2CC1NDT2","text":"like the one from the car-lease-demo perhaps?","ts":"1475514609.001137"},{"type":"message","user":"U0KPFAZNF","text":"the FROM directives are in the .yaml, but I am not sure where the FROM baseimage is coming from as I changed all of those","ts":"1475514609.001138"},{"type":"message","user":"U0KPFAZNF","text":"ah, heh, yah probably","ts":"1475514618.001139"},{"type":"message","user":"U0KPFAZNF","text":"are you using an override?","ts":"1475514624.001140"},{"type":"message","user":"U2CC1NDT2","text":"let me check something quick","edited":{"user":"U2CC1NDT2","ts":"1475514649.000000"},"ts":"1475514640.001141"},{"type":"message","user":"U0KPFAZNF","text":"sure\u2026whatever yaml you think is in use, grep for \u201cbaseimage\"","ts":"1475514654.001143"},{"type":"message","user":"U0KPFAZNF","text":"thats probably the issue","ts":"1475514657.001144"},{"type":"message","user":"U2CC1NDT2","text":"you know what - just to be 100% sure - let me destroy this box and provision it again quickly so it's 100% on the latest and untouched...","ts":"1475514734.001145"},{"type":"message","user":"U0KPFAZNF","text":"that should resolve it","ts":"1475514743.001146"},{"type":"message","user":"U0KPFAZNF","text":"(if its a bad yaml problem, i mean)","ts":"1475514755.001147"},{"type":"message","user":"U2CC1NDT2","text":"yeah - I do recall spending a few hours on the weekend trying to get car-lease working but gave up in the end...","ts":"1475514790.001148"},{"type":"message","user":"U2CC1NDT2","text":"so it's better to try a fresh install","ts":"1475514802.001149"},{"type":"message","user":"U2CC1NDT2","text":"and I'll clone from fresh...","ts":"1475514831.001150"},{"type":"message","user":"U0KPFAZNF","text":"cool","ts":"1475514837.001151"},{"type":"message","user":"U0KPFAZNF","text":"fwiw, the line that I _think_ is impacting us is here: <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/peer\/core.yaml#L285>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/peer\/core.yaml#L285","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/peer\/core.yaml#L285","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1475514852.001152"},{"type":"message","user":"U0KPFAZNF","text":"that used to be \u201cFROM \u2026 baseimage\u201d and was changed recently","ts":"1475514863.001154"},{"type":"message","user":"U0KPFAZNF","text":"so if you have an old yaml in play, that could cause the behavior you are seeing","ts":"1475514875.001155"},{"type":"message","user":"U2CC1NDT2","text":"ok well one way to tell for sure is with completely fresh install...","ts":"1475514898.001156"},{"type":"message","user":"U0KPFAZNF","text":"yep","ts":"1475514910.001157"},{"type":"message","user":"U2CC1NDT2","text":"I'll let you know outcome - thanks for the assist...","ts":"1475514919.001158"},{"type":"message","user":"U0KPFAZNF","text":"np","ts":"1475514923.001159"},{"type":"message","user":"U0KPFAZNF","text":"btw: it looks like your doc change was merged: <http:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/nodeSDK\/sample-standalone-app\/>","ts":"1475515074.001160"},{"type":"message","user":"U0KPFAZNF","text":"thanks for that","ts":"1475515075.001161"},{"type":"message","user":"U2CC1NDT2","text":"yeah :slightly_smiling_face: saw that - no worries...","ts":"1475515207.001162"},{"type":"message","user":"U2CC1NDT2","text":"happy to help where I can","ts":"1475515218.001163"},{"type":"message","user":"U2CC1NDT2","text":"<@U0KPFAZNF> - something is off with the HFC NodeJS SDK:\n 1. `make node-sdk-unit-tests` - not a single test passes regardless of `net` or `dev`mode...\n 2. calling the Fabric from a client running the SDK - query fails...","ts":"1475526545.001164"},{"type":"message","user":"U2CC1NDT2","text":"TL;DR\n\n Steps taken:\n 1. Clean pull of repo + `vagrant up` provisioning - OK\n 2. `make membersrvc` and `make peer` - OK\n 3. `make unit-test` - OK\n\n So up to this point everything working as expected...\n\n 4. `make node-sdk-unit-tests` - FAIL (all of them)\n\n I then ran the Behave BDD Tests with `make behave`. I was specifically interested in the `query` transactions which all seemed to pass.","edited":{"user":"U2CC1NDT2","ts":"1475526598.000000"},"ts":"1475526568.001165"},{"type":"message","user":"U0KPFAZNF","text":"<@U2CC1NDT2> I would ping the folks over on <#C1GSVKK1U|fabric-sdk-node>","ts":"1475526607.001167"},{"type":"message","user":"U2CC1NDT2","text":"Here is the output from Behave:\n ```Failing scenarios:\n java_shim.feature:121  Java TableExample chaincode single peer\n\n 4 features passed, 1 failed, 3 skipped\n 39 scenarios passed, 1 failed, 9 skipped\n 549 steps passed, 1 failed, 270 skipped, 0 undefined\n Took 19m20.454s\n make: *** [behave] Error 1```","ts":"1475526617.001168"},{"type":"message","user":"U2CC1NDT2","text":"ok","ts":"1475526620.001169"},{"type":"message","user":"U0KPFAZNF","text":"i consume the SDK from NPM and don\u2019t get very involved in the building\/testing, so I dont have much advice to offer","ts":"1475526652.001170"},{"type":"message","user":"U2CC1NDT2","text":"sure - but even installing with npm result in the same issues when querying the chain...","ts":"1475526701.001171"},{"type":"message","user":"U2CC1NDT2","text":"I'll pop my findings in the SDK channel and hopefully the folks there can figure out what's happening","ts":"1475526730.001172"},{"type":"message","user":"U2CC1NDT2","text":"FYI though - that peer issue didn't go away with the fresh pull...","ts":"1475526753.001173"},{"type":"message","user":"U2CC1NDT2","text":"```20:00:43.587 [rest] StartOpenchainRESTServer -&gt; INFO 014 Initializing the REST service on 0.0.0.0:7050, TLS is disabled.\n 2016\/10\/03 20:08:24 grpc: Server.Serve failed to create ServerTransport:  connection error: desc = \"transport: write tcp 10.10.10.200:7051-&gt;10.10.10.150:33175: write: broken pipe\"\n 20:08:35.615 [dockercontroller] deployImage -&gt; ERRO 015 Error building images: Tag latest not found in repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>\n 20:08:35.616 [dockercontroller] deployImage -&gt; ERRO 016 Image Output:\n ********************\n Step 1 : FROM hyperledger\/fabric-baseimage\n Pulling repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>\n\n ********************\n 20:08:44.837 [dockercontroller] deployImage -&gt; ERRO 017 Error building images: Tag latest not found in repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>\n 20:08:44.837 [dockercontroller] deployImage -&gt; ERRO 018 Image Output:\n ********************\n Step 1 : FROM hyperledger\/fabric-baseimage\n Pulling repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>\n\n ********************\n 20:08:44.837 [chaincode] Launch -&gt; ERRO 019 launchAndWaitForRegister failed Error starting container: Tag latest not found in repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>\n 2016\/10\/03 20:10:24 transport: http2Server.HandleStreams failed to receive the preface from client: EOF\n 2016\/10\/03 20:13:14 transport: http2Server.HandleStreams failed to receive the preface from client: EOF```","ts":"1475526783.001174"},{"type":"message","user":"U2CC1NDT2","text":"OK - I've dropped my findings in the <#C1GSVKK1U|fabric-sdk-node> channel...","ts":"1475527200.001175"},{"type":"message","user":"U0KPFAZNF","text":"<@U2CC1NDT2> I think I might know what is wrong","ts":"1475530456.001176"},{"type":"message","user":"U0KPFAZNF","text":"unfortunately, there is no quick fix other than getting the baseimage installed into your peer","ts":"1475530484.001177"},{"type":"message","user":"U2CC1NDT2","text":"<@U0KPFAZNF> - Ok - I completely deleted both the VM and the baseimage, pulled a fresh copy of the .vbox and did a complete fresh re-install...\n\nHowever, this morning when running `make unit-test` it failed - here is the output:","ts":"1475564626.001178"},{"type":"message","subtype":"file_share","text":"<@U2CC1NDT2|lenh> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/lenh\/F2JTCJJNP\/make_unit-test_output.txt|make unit-test output> and commented: make unit-test output","file":{"id":"F2JTCJJNP","created":1475564680,"timestamp":1475564680,"name":"make_unit-test_output.txt","title":"make unit-test output","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U2CC1NDT2","editable":true,"size":4350,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2JTCJJNP\/make_unit-test_output.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2JTCJJNP\/download\/make_unit-test_output.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/lenh\/F2JTCJJNP\/make_unit-test_output.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2JTCJJNP-2664891adc","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/lenh\/F2JTCJJNP\/make_unit-test_output.txt\/edit","preview":"vagrant@hyperledger-devenv:v0.1.0-5b0a7f0:\/hyperledger$ make unit-test\r\nBuilding build\/docker\/bin\/peer\r\nBuilding docker peer-image\r\ncp build\/docker\/bin\/peer build\/image\/peer\/bin\r\ndocker build -t hyperledger\/fabric-peer build\/image\/peer\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>vagrant@hyperledger-devenv:v0.1.0-5b0a7f0:\/hyperledger$ make unit-test<\/pre><\/div>\n<div><pre>Building build\/docker\/bin\/peer<\/pre><\/div>\n<div><pre>Building docker peer-image<\/pre><\/div>\n<div><pre>cp build\/docker\/bin\/peer build\/image\/peer\/bin<\/pre><\/div>\n<div><pre>docker build -t hyperledger\/fabric-peer build\/image\/peer<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":79,"lines_more":74,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc2JUV6S1L","created":1475564680,"timestamp":1475564680,"user":"U2CC1NDT2","is_intro":true,"comment":"make unit-test output","channel":""}},"user":"U2CC1NDT2","upload":true,"display_as_bot":false,"username":"<@U2CC1NDT2|lenh>","bot_id":null,"ts":"1475564680.001179"},{"type":"message","user":"U2CC1NDT2","text":"`make behave` output:","ts":"1475566273.001181"},{"type":"message","user":"U2CC1NDT2","text":"```07:27:37 - context.failed = True\n\nFailing scenarios:\n  java_shim.feature:121  Java TableExample chaincode single peer\n\n4 features passed, 1 failed, 3 skipped\n39 scenarios passed, 1 failed, 9 skipped\n549 steps passed, 1 failed, 270 skipped, 0 undefined\nTook 19m49.205s\nmake: *** [behave] Error 1```","ts":"1475566280.001182"},{"type":"message","user":"U2CC1NDT2","text":"Pulling a fresh copy of the baseimage also did not solve the Peer reporting\n`07:50:12.971 [dockercontroller] deployImage -&gt; ERRO 015 Error building images: Tag latest not found in repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>`\nwhen deploying chaincode from a client running the NodeSDK...","ts":"1475567707.001183"},{"type":"message","user":"U1AU8DRQR","text":"<@U2CC1NDT2> could you check docker images | grep baseimage","ts":"1475568028.001184"},{"type":"message","user":"U1AU8DRQR","text":"docker images | grep baseimage                 this","ts":"1475568038.001185"},{"type":"message","user":"U2CC1NDT2","text":"hyperledger\/fabric-baseimage \nx86_64-0.1.0                    db53d04b117c        2 weeks ago         1.39 GB","ts":"1475568129.001186"},{"type":"message","user":"U1AU8DRQR","text":"I also have one tagged with latest","ts":"1475568149.001187"},{"type":"message","user":"U1AU8DRQR","text":"maybe running     make peer-image  ?","ts":"1475568179.001188"},{"type":"message","user":"U2CC1NDT2","text":"ok..","ts":"1475568195.001189"},{"type":"message","user":"U1AU8DRQR","text":"not sure, just a tip","ts":"1475568206.001190"},{"type":"message","user":"U2CC1NDT2","text":"peer is already built - `make peer-image` returns\n`make: Nothing to be done for peer-image.`","edited":{"user":"U2CC1NDT2","ts":"1475568296.000000"},"ts":"1475568263.001191"},{"type":"message","user":"U1AU8DRQR","text":"hm, I will have to look into the docker files","ts":"1475568303.001194"},{"type":"message","user":"U2CC1NDT2","text":"Could not be how docker is being fired?","ts":"1475568419.001195"},{"type":"message","user":"U2CC1NDT2","text":"i.e. the docker images themselves are correct just the invocation is a bit off?","ts":"1475568450.001196"},{"type":"message","user":"U1AU8DRQR","text":"I think one should have a baseimage tagged with latest","ts":"1475568475.001197"},{"type":"message","user":"U1AU8DRQR","text":"I have it and it is only 4 days old","ts":"1475568484.001198"},{"type":"message","user":"U2CC1NDT2","text":"are you saying your baseimage is 4 days old when the one it downloaded this morning as a fresh install is 2 weeks old?","ts":"1475568595.001199"},{"type":"message","user":"U2CC1NDT2","text":"as in your virtualbox.box file is 4 days old?","ts":"1475568639.001200"},{"type":"message","user":"U1AU8DRQR","text":"I think my one was built locally, that's why it is newer","ts":"1475568658.001201"},{"type":"message","user":"U1AU8DRQR","text":"but not sure","ts":"1475568660.001202"},{"type":"message","user":"U2CC1NDT2","text":"When you say \"baseimage\" are you referring to the virtualbox.box file which provides the VM OS image (into which the Fabric is then provisioned)? or are you referring to the docker images?","ts":"1475568799.001203"},{"type":"message","user":"U2CC1NDT2","text":"I built membersrvc and peer from scratch this morning so they should both the on the latest published docker images.. I guess...?","ts":"1475568848.001204"},{"type":"message","user":"U2CC1NDT2","text":"I'm no expert but I suspect it has something to do with how docker is firing the container to run the deployed chaincode? This happens when deploying chaincode via the NodeSDK...","ts":"1475568968.001205"},{"type":"message","user":"U2CC1NDT2","text":"Anyway - will leave it to someone with the right pay grade to advise as it's beyond me :slightly_smiling_face:","ts":"1475569009.001206"},{"type":"message","user":"U1AU8DRQR","text":"I was referring to one of the docker images as you said your Peer reported this:\n07:50:12.971 [dockercontroller] deployImage -&gt; ERRO 015 Error building images: Tag latest not found in repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>","ts":"1475569050.001207"},{"type":"message","user":"U2CC1NDT2","text":"OK - yes that's what the Peer reports when deploying chaincode via the NodeSDK...","ts":"1475569112.001208"},{"type":"message","user":"U2CC1NDT2","text":"on the client side though it looks like it's completed correctly though...\n```deploying chaincode; please wait ...\ndeploy complete; results: {\"uuid\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\",\"chaincodeID\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\"}```","edited":{"user":"U2CC1NDT2","ts":"1475569195.000000"},"ts":"1475569179.001209"},{"type":"message","user":"U1AU8DRQR","text":"and you can't call it, I guess","ts":"1475569203.001211"},{"type":"message","user":"U2CC1NDT2","text":"I can invoke but can't query...","ts":"1475569224.001212"},{"type":"message","user":"U2CC1NDT2","text":"```invoke submitted successfully; results={\"uuid\":\"96202184-01a2-4455-a102-d365e8024d53\"}\ninvoke completed successfully; results={\"result\":\"Tx 96202184-01a2-4455-a102-d365e8024d53 complete\"}```","ts":"1475569240.001213"},{"type":"message","user":"U2CC1NDT2","text":"```querying chaincode ...\nFailed to query chaincode: request={\"chaincodeID\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\",\"fcn\":\"query\",\"args\":[\"a\"]}, error=%k EventTransactionError {\n  error:\n   { status: 'FAILURE',\n     msg: &lt;Buffer 45 72 72 6f 72 3a 46 61 69 6c 65 64 20 74 6f 20 6c 61 75 6e 63 68 20 63 68 61 69 6e 63 6f 64 65 20 73 70 65 63 28 43 6f 75 6c 64 20 6e 6f 74 20 67 65 ... &gt; },\n  msg: 'Error:Failed to launch chaincode spec(Could not get deployment transaction for 56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8 - LedgerError - ResourceNotFound: ledger: resource not found)' }```","ts":"1475569261.001214"},{"type":"message","user":"U2CC1NDT2","text":"but the folks over in <#C1GSVKK1U|fabric-sdk-node> don't seem surprised that query fails due to some issues they are dealing with that still need merging into the HFC SDK...","ts":"1475569316.001215"},{"type":"message","user":"U2CC1NDT2","text":"so not really worried about the query aspect until they resolve the HFC SDK","ts":"1475569344.001216"},{"type":"message","user":"U1AU8DRQR","text":"but if invoke works and the query has a bug then doesn't that mean that the chaincode is deployed?","ts":"1475569377.001217"},{"type":"message","user":"U2CC1NDT2","text":"yes - see my msg 12:18 above","ts":"1475569404.001218"},{"type":"message","user":"U1AU8DRQR","text":"12:18? can't find, please quote","ts":"1475569555.001219"},{"type":"message","user":"U2CC1NDT2","text":"OK - yes that's what the Peer reports when deploying chaincode via the NodeSDK...\non the client side though it looks like it's completed correctly though...","ts":"1475569598.001220"},{"type":"message","user":"U2CC1NDT2","text":"```deploying chaincode; please wait ...\ndeploy complete; results: {\"uuid\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\",\"chaincodeID\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\"}```","ts":"1475569610.001221"},{"type":"message","user":"U2CC1NDT2","text":"sorry I guess the time is linked to user TZ - my bad","ts":"1475569641.001222"},{"type":"message","user":"U1AU8DRQR","text":"<@U2CC1NDT2> just another tip: try make images-clean and then make peer-image","ts":"1475571769.001223"},{"type":"message","user":"U1AU8DRQR","text":"make images","ts":"1475571958.001224"},{"type":"message","user":"U2CC1NDT2","text":"nope - same result, deploy &amp; invoke seems to work but peer still reporting the `latest tag not found` issue","ts":"1475572066.001225"},{"type":"message","user":"U1AU8DRQR","text":"still no baseimage:latest?","ts":"1475572106.001226"},{"type":"message","user":"U1AU8DRQR","text":"for me it built it","ts":"1475572110.001227"},{"type":"message","user":"U1AU8DRQR","text":"hyperledger\/fabric-baseimage                                                latest                          b0bbba5bc03f        About a minute ago   1.386 GB","ts":"1475572118.001228"},{"type":"message","user":"U1AU8DRQR","text":"I mean I have this now, after clean and build","ts":"1475572131.001229"},{"type":"message","user":"U1AU8DRQR","text":"I guess you are on master, right?","ts":"1475572422.001230"},{"type":"message","user":"U1VG8LNP3","text":"<@U1AU8DRQR> hi","ts":"1475572446.001231"},{"type":"message","user":"U1AU8DRQR","text":"<@U1VG8LNP3> :slightly_smiling_face:","ts":"1475572463.001232"},{"type":"message","user":"U1AU8DRQR","text":"<@U2CC1NDT2> are you on master?","ts":"1475572642.001233"},{"type":"message","user":"U2CC1NDT2","text":"how do I check please?","ts":"1475572822.001234"},{"type":"message","user":"U1AU8DRQR","text":"git log  ... and what's the latest commit? :slightly_smiling_face:","ts":"1475572863.001235"},{"type":"message","user":"U2CC1NDT2","text":"commit 5b0a7f0a615e85be01d80b3b5ebd9aa18f49b4ed\nMerge: bb5b5f8 0b860c3\nAuthor: Jonathan Levi &lt;jonathan@levi.name&gt;\nDate:   Mon Oct 3 17:33:22 2016 +0000\n\n    Merge \"v1 preview updates\"","ts":"1475572945.001236"},{"type":"message","user":"U1AU8DRQR","text":"oh yeah I checked out and there it works somehow else :slightly_smiling_face:","ts":"1475573287.001237"},{"type":"message","user":"U1AU8DRQR","text":"baseimage is not deleted","ts":"1475573293.001238"},{"type":"message","user":"U1VG8LNP3","text":"<@U1AU8DRQR> <https:\/\/github.com\/hyperledger\/fabric-baseimage>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-baseimage","title_link":"https:\/\/github.com\/hyperledger\/fabric-baseimage","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric-baseimage>","fallback":"GitHub: hyperledger\/fabric-baseimage","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-baseimage","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1475573306.001239"},{"type":"message","user":"U1AU8DRQR","text":"I guess we needed <@U0KPFAZNF>","ts":"1475573308.001241"},{"type":"message","user":"U1AU8DRQR","text":"so, that's the repo for baseimage, the only thing I don't know is why you don't have baseimage:latest <@U2CC1NDT2>","edited":{"user":"U1AU8DRQR","ts":"1475573368.000000"},"ts":"1475573357.001242"},{"type":"message","user":"U1AU8DRQR","text":"you could try tagging it but that is a hack :smile:","ts":"1475573380.001244"},{"type":"message","user":"U0KPFAZNF","text":"hey guys, just waking up on the east coast","ts":"1475583800.001245"},{"type":"message","user":"U0KPFAZNF","text":"I think I know what @lenhs problem is","ts":"1475583814.001246"},{"type":"message","user":"U0KPFAZNF","text":"first, note that \u201cbaseimage:latest\u201d _used_ to be generated as an artifact of the build, but it isn\u2019t any more","ts":"1475583846.001247"},{"type":"message","user":"U0KPFAZNF","text":"second, I think the problem fundamentally is that the SDK creates a tarball that has a FROM directive referencing baseimage:latest that isn\u2019t executed until the tarball hits the peer","ts":"1475583886.001248"},{"type":"message","user":"U1AU8DRQR","text":"<@U2CC1NDT2>","ts":"1475583892.001249"},{"type":"message","user":"U1AU8DRQR","text":"<@U0KPFAZNF> arrived to save the day","ts":"1475583908.001250"},{"type":"message","user":"U1AU8DRQR","text":"is it better if I remove that from from the sdk code?","ts":"1475583943.001251"},{"type":"message","user":"U0KPFAZNF","text":"we need to strategize on the long term solution here, but for the short term we can just manually tag an image on the peer and I think <@U2CC1NDT2> can get past this","ts":"1475583957.001252"},{"type":"message","user":"U0KPFAZNF","text":"<@U1AU8DRQR> yeah, ultimately","ts":"1475583967.001253"},{"type":"message","user":"U0KPFAZNF","text":"what I have been advocating, but still needs further discussion\/agreement, is that the SDK should get out of the docker business","ts":"1475583997.001254"},{"type":"message","user":"U1AU8DRQR","text":"what from-image to use instead of that?","ts":"1475584019.001255"},{"type":"message","user":"U0KPFAZNF","text":"it would be better if the SDK could emit something like a .car file and let the peer and\/or chaintool worry about the mapping to a container","ts":"1475584052.001256"},{"type":"message","user":"U1AU8DRQR","text":"<@U0KPFAZNF> I think this is related to <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1047\/>","ts":"1475584094.001257"},{"type":"message","user":"U0KPFAZNF","text":"well, if the SDK is going to continue to inject a FROM statement, there isnt a perfect answer\u2026but something like ccenv:0.6.1 would be better","ts":"1475584109.001258"},{"type":"message","user":"U0KPFAZNF","text":"theres a ton of problems if we are going to continue to let the SDK create a FROM statement though","ts":"1475584140.001259"},{"type":"message","user":"U1AU8DRQR","text":"why 0.6.1?","ts":"1475584177.001260"},{"type":"message","user":"U0KPFAZNF","text":"well, it should be pinned to something\u2026.or we need to synthesize something generic (like we did with baseimage:latest","ts":"1475584227.001261"},{"type":"message","user":"U0KPFAZNF","text":"heres an idea","ts":"1475584230.001262"},{"type":"message","user":"U0KPFAZNF","text":"1) we take your patch","ts":"1475584238.001263"},{"type":"message","user":"U1AU8DRQR","text":"taking my stuff is generally a good idea :smile:","ts":"1475584265.001264","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"2) we modify the peer such that it will, as part of start up, do a \u201cdocker tag fabric-ccenv:$(ARCH)-$(VERSION) -&gt; :latest\"","ts":"1475584282.001265"},{"type":"message","user":"U0KPFAZNF","text":"that way, we synthesize the correct tag but we do it at runtime instead of at build time","ts":"1475584309.001266"},{"type":"message","user":"U0KPFAZNF","text":"(in the old system, baseimage:latest was synthesized as part of the build)","ts":"1475584323.001267"},{"type":"message","user":"U0KPFAZNF","text":"which worked fine, as long as you had run a build","ts":"1475584333.001268"},{"type":"message","user":"U0KPFAZNF","text":"that would solve the general problem, at least for now","ts":"1475584349.001269"},{"type":"message","user":"U0KPFAZNF","text":"we can worry about cleaning up the deployment payload later","ts":"1475584361.001270"},{"type":"message","user":"U0KPFAZNF","text":"thoughts?","ts":"1475584386.001271"},{"type":"message","user":"U1AU8DRQR","text":"why can't we do it at build time?","ts":"1475584446.001272"},{"type":"message","user":"U0KPFAZNF","text":"that only works for people that actually do a build","ts":"1475584483.001273"},{"type":"message","user":"U0KPFAZNF","text":"consider lots of people coming on board that only want to run fabirc","ts":"1475584495.001274"},{"type":"message","user":"U0KPFAZNF","text":"what I am striving for is that eventually someone can come in cold and say \u201cdocker run hyperledger\/fabric-peer\"","ts":"1475584528.001275"},{"type":"message","user":"U0KPFAZNF","text":"in that scenario, there would not be any local build","ts":"1475584550.001276"},{"type":"message","user":"U0KPFAZNF","text":"but, if the peer, as part of its startup, where to tag ccenv:latest properly (factoring in the version of the peer, the arch, etc), then the SDK can remain generic","ts":"1475584584.001277"},{"type":"message","user":"U1AU8DRQR","text":"wait but before running it don't they have to build it?","ts":"1475584602.001278"},{"type":"message","user":"U0KPFAZNF","text":"today. that is the only supported way, but that doesnt mean we shouldnt support binary deployments eventually","ts":"1475584634.001279"},{"type":"message","user":"U0KPFAZNF","text":"at least IMO","ts":"1475584648.001280"},{"type":"message","user":"U1AU8DRQR","text":"yeah yeah you are right, but any of the solutions we are talking about can only be temporary, I think","ts":"1475584681.001281"},{"type":"message","user":"U0KPFAZNF","text":"yes, imo the SDK creating a Dockerfile\/tarball at all should only be temporary\u2026id like to see it gravitate towards using something like a .car file and get out of the packaging business all together","ts":"1475584737.001282"},{"type":"message","user":"U0KPFAZNF","text":"e.g. let tooling create chaincode packages, let the SDK(s) deploy the general package, let the peers do the mapping to a container","ts":"1475584776.001283"},{"type":"message","user":"U0KPFAZNF","text":"anyway, the summary of the problem is that the SDK is currently assuming too much","ts":"1475584824.001284"},{"type":"message","user":"U1AU8DRQR","text":"so if it has to be changed to use car why don't we change the current process to tag after each build (as a very temporary solution)?","ts":"1475584923.001285"},{"type":"message","user":"U1AU8DRQR","text":"and then drive the change :stuck_out_tongue:","ts":"1475584931.001286"},{"type":"message","user":"U0KPFAZNF","text":"tag what?","ts":"1475584939.001287"},{"type":"message","user":"U1AU8DRQR","text":"tag ccenv with latest","ts":"1475585012.001288"},{"type":"message","user":"U0KPFAZNF","text":"in dockerhub?","ts":"1475585019.001289"},{"type":"message","user":"U1AU8DRQR","text":"no, locally, isn't SDK building the image locally?","ts":"1475585062.001290"},{"type":"message","user":"U0KPFAZNF","text":"no, and that is in fact part of the story here","ts":"1475585080.001291"},{"type":"message","user":"U0KPFAZNF","text":"the SDK is building a tarball with a Dockerfile in it","ts":"1475585088.001292"},{"type":"message","user":"U0KPFAZNF","text":"the peer then runs docker-build on it","ts":"1475585094.001293"},{"type":"message","user":"U0KPFAZNF","text":"so, the SDK is injecting the FROM baseimage:latest directive because it doesnt know that fabric.git\/master got rid of that","ts":"1475585131.001294"},{"type":"message","user":"U0KPFAZNF","text":"and then its hitting the peer which is no longer generating baseimage:latest and failing","ts":"1475585155.001295"},{"type":"message","user":"U0KPFAZNF","text":"the SDK only prepares the docker build, but it doesnt run it","ts":"1475585175.001296"},{"type":"message","user":"U0KPFAZNF","text":"(think of it this way\u2026the Dockerfile+tarball is $X MB, but the resulting container is like 1.4GB","ts":"1475585203.001297"},{"type":"message","user":"U0KPFAZNF","text":"we arent sending 1.4GB images around the network :wink:","ts":"1475585213.001298"},{"type":"message","user":"U1AU8DRQR","text":"yeah now I remember","ts":"1475585245.001299"},{"type":"message","user":"U0KPFAZNF","text":"the build happens on the peer (as it should, both from a sheer size perspective, as well as the fact that you cant possibly know the context the peer runs under","ts":"1475585264.001300"},{"type":"message","user":"U0KPFAZNF","text":"for instance, one peer could be x86 while another is ppcle","ts":"1475585276.001301"},{"user":"U2K2UC31N","text":"<@U2K2UC31N|sdiehl> has joined the channel","type":"message","subtype":"channel_join","ts":"1475585295.001302"},{"type":"message","user":"U0KPFAZNF","text":"personally, i think this is all suboptimal\u2026the SDK should not be in the Dockerfile business","ts":"1475585321.001303"},{"type":"message","user":"U0KPFAZNF","text":"i think it shouldnt even be in the packaging business","ts":"1475585338.001304"},{"type":"message","user":"U0KPFAZNF","text":"let it take a generic deployment payload and deploy it","ts":"1475585348.001305"},{"type":"message","user":"U0KPFAZNF","text":"let tooling generate optimal deployment payloads","ts":"1475585362.001306"},{"type":"message","user":"U0KPFAZNF","text":"brb, kids to school","ts":"1475585366.001307"},{"type":"message","user":"U1AU8DRQR","text":"okay I see","ts":"1475585402.001308"},{"type":"message","user":"U0KPFAZNF","text":"back","ts":"1475585456.001309"},{"type":"message","user":"U0KPFAZNF","text":"anyway, i think a temporary solution like the points 1-2 above would be fine","ts":"1475585483.001310"},{"type":"message","user":"U0KPFAZNF","text":"if my long term vision is adopted, we can simply deal with it at the chaincodeType level","ts":"1475585509.001311"},{"type":"message","user":"U0KPFAZNF","text":"eventually deprecating the GOLANG type that assumes Dockerfile payload","ts":"1475585521.001312"},{"type":"message","user":"U0KPFAZNF","text":"<@U2CC1NDT2> as a workaround for now, on your peer, run \u201cdocker tag hyperledger\/fabric-ccenv:latest hyperledger\/fabric-baseimage:latest\"","ts":"1475585629.001313"},{"type":"message","user":"U0KPFAZNF","text":"and I think your deployment will start working","ts":"1475585635.001314"},{"type":"message","user":"U1AU8DRQR","text":"which is easier to implement? which is better?","ts":"1475585637.001315"},{"type":"message","user":"U0KPFAZNF","text":"i think the 1-2 point fix is the easiest\u2026IMO the tooling+deployment payload is better","ts":"1475585696.001316"},{"type":"message","user":"U0KPFAZNF","text":"so I would be fine with a tactical\/strategical tiered fix","ts":"1475585721.001317"},{"type":"message","user":"U0KPFAZNF","text":"fwiw, here was a thread discussing the strategical option","ts":"1475585829.001318"},{"type":"message","user":"U0KPFAZNF","text":"<http:\/\/lists.hyperledger.org\/pipermail\/hyperledger-fabric\/2016-September\/000337.html>","ts":"1475585830.001319"},{"type":"message","user":"U0KPFAZNF","text":"sorry, this one","ts":"1475585850.001320"},{"type":"message","user":"U0KPFAZNF","text":"<http:\/\/lists.hyperledger.org\/pipermail\/hyperledger-fabric\/2016-September\/000331.html>","ts":"1475585851.001321"},{"type":"message","user":"U1AU8DRQR","text":"could you review my patch then?","ts":"1475585976.001322"},{"type":"message","user":"U0KPFAZNF","text":"i can, but note that the peer side to do the runtime tagging needs to go in first","ts":"1475586002.001323"},{"type":"message","user":"U0KPFAZNF","text":"though I suppose we could push this patch in now and it will not make anything worse","ts":"1475586022.001324"},{"type":"message","user":"U0KPFAZNF","text":"(because locally built systems do have ccenv:latest","ts":"1475586031.001325"},{"type":"message","user":"U0KPFAZNF","text":"actually that is an improvment, since baseimage:latest is no longer valid","ts":"1475586050.001326"},{"type":"message","user":"U0KPFAZNF","text":"yes, ok","ts":"1475586061.001327"},{"type":"message","user":"U0KPFAZNF","text":"stepping out for a bit","ts":"1475586093.001328"},{"type":"message","user":"U0KPFAZNF","text":"bbiab","ts":"1475586094.001329"},{"type":"message","user":"U1AU8DRQR","text":"first this patch and I will do another for 2)","ts":"1475586392.001330"},{"type":"message","user":"U2CC1NDT2","text":"<@U0KPFAZNF> - tried `docker tag hyperledger\/fabric-ccenv:latest hyperledger\/fabric-baseimage:latest` - here is the output from the peer node","ts":"1475589623.001331"},{"type":"message","subtype":"file_share","text":"<@U2CC1NDT2|lenh> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/lenh\/F2K47953K\/peer_node_output.txt|peer node output>","file":{"id":"F2K47953K","created":1475589651,"timestamp":1475589651,"name":"peer_node_output.txt","title":"peer node output","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U2CC1NDT2","editable":true,"size":5450,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2K47953K\/peer_node_output.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2K47953K\/download\/peer_node_output.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/lenh\/F2K47953K\/peer_node_output.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2K47953K-afabf4968d","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/lenh\/F2K47953K\/peer_node_output.txt\/edit","preview":"vagrant@hyperledger-devenv:v0.1.0-5b0a7f0:\/hyperledger$ docker tag hyperledger\/fabric-ccenv:latest hyperledger\/fabric-baseimage:latest\r\nvagrant@hyperledger-devenv:v0.1.0-5b0a7f0:\/hyperledger$ peer node start\r\n13:49:40.525 [nodeCmd] serve -> INFO 002 Security enabled status: false\r\n13:49:40.524 [eventhub_producer] start -> INFO 001 event processor started\r\n13:49:40.526 [nodeCmd] serve -> INFO 003 Privacy enabled status: false\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>vagrant@hyperledger-devenv:v0.1.0-5b0a7f0:\/hyperledger$ docker tag hyperledger\/fabric-ccenv:latest hyperledger\/fabric-baseimage:latest<\/pre><\/div>\n<div><pre>vagrant@hyperledger-devenv:v0.1.0-5b0a7f0:\/hyperledger$ peer node start<\/pre><\/div>\n<div><pre>13:49:40.525 [nodeCmd] serve -&gt; INFO 002 Security enabled status: false<\/pre><\/div>\n<div><pre>13:49:40.524 [eventhub_producer] start -&gt; INFO 001 event processor started<\/pre><\/div>\n<div><pre>13:49:40.526 [nodeCmd] serve -&gt; INFO 003 Privacy enabled status: false<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":59,"lines_more":54,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U2CC1NDT2","upload":true,"display_as_bot":false,"username":"<@U2CC1NDT2|lenh>","bot_id":null,"ts":"1475589651.001332"},{"type":"message","user":"U2CC1NDT2","text":"and here is the client side response to deploying chaincode_example02 via the SDK...","ts":"1475589682.001333"},{"type":"message","user":"U2CC1NDT2","text":"```Hyperldeger REST API provider listening on port 8081\nMiddleware invoked...\nEnrolling WebAppAdmin...\nEnrolled JohnDoe successfully\n\ndeploying chaincode; please wait ...\ndeploy complete; results: {\"uuid\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\",\"chaincodeID\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\"}\ninvoke chaincode ...\ninvoke submitted successfully; results={\"uuid\":\"afe86578-a8e8-4dfd-bb84-70d9c64c3ba8\"}\ninvoke completed successfully; results={\"result\":\"Tx afe86578-a8e8-4dfd-bb84-70d9c64c3ba8 complete\"}\nWaiting for chain to sync...\nquerying chaincode ...\nFailed to query chaincode: request={\"chaincodeID\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\",\"fcn\":\"query\",\"args\":[\"a\"]}, error=%k EventTransactionError {\n  error:\n   { status: 'FAILURE',\n     msg: &lt;Buffer 45 72 72 6f 72 3a 46 61 69 6c 65 64 20 74 6f 20 6c 61 75 6e 63 68 20 63 68 61 69 6e 63 6f 64 65 20 73 70 65 63 28 43 6f 75 6c 64 20 6e 6f 74 20 67 65 ... &gt; },\n  msg: 'Error:Failed to launch chaincode spec(Could not get deployment transaction for 56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8 - LedgerError - ResourceNotFound: ledger: resource not found)' }```","ts":"1475589711.001334"},{"user":"U2K3VT40G","text":"<@U2K3VT40G|john.mccloskey> has joined the channel","type":"message","subtype":"channel_join","ts":"1475589939.001335"},{"type":"message","user":"U0XQ35CDD","text":"Quick question: as far as I know the Go 1.7 changeset was merged. When do we see this reflected in the fabric-baseimage and in the Vagrant image?","ts":"1475590508.001336"},{"type":"message","user":"U0KPFAZNF","text":"I have to release the baseimage, and then update fabric to reference it","ts":"1475594601.001337"},{"type":"message","user":"U0KPFAZNF","text":"neither has happened yet, but ill likely do this in the next 24 hours","ts":"1475594617.001338"},{"type":"message","user":"U0KPFAZNF","text":"(for master\u2026v0.6 is not likely to receive the upgrade and convergence _should_ get it but the merge needs to be resolved","ts":"1475594650.001339"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XQ35CDD> ^^^^","ts":"1475594683.001340"},{"type":"message","user":"U0KPFAZNF","text":"i will send out a notice to the ML\/slack when the upgrade occurs, since people will generally want to rebuild their environments","ts":"1475594725.001341"},{"type":"message","user":"U0XQ35CDD","text":"<@U0KPFAZNF> Thank you. I'll wait for that email before I start posting my changesets.","ts":"1475594752.001342"},{"type":"message","user":"U0KPFAZNF","text":"note that my current plan is to rollup all of the patches I recently submitted to baseimage","ts":"1475594799.001343"},{"type":"message","user":"U0KPFAZNF","text":"this includes nodejs v6.7.0, go v1.7.1 and ubuntu 16.04","ts":"1475594819.001344"},{"type":"message","user":"U0KPFAZNF","text":"do you see that as a problem?","ts":"1475594822.001345"},{"type":"message","user":"U0XQ35CDD","text":"Not at all.","ts":"1475594831.001346"},{"type":"message","user":"U0KPFAZNF","text":"ok, cool","ts":"1475594834.001347"},{"type":"message","user":"U0KPFAZNF","text":"would you be willing to try the environment after the baseimage release but before the fabric update?","ts":"1475594885.001348"},{"type":"message","user":"U0KPFAZNF","text":"its always helpful to have as much testing diversity as possible","ts":"1475594900.001349"},{"type":"message","user":"U0KPFAZNF","text":"I can usually rope <@U0KM61BCP> and <@U0TFEHX8E> in, but I am always looking for other victims^h^h^h^h^h^hvolunteers","ts":"1475594947.001350"},{"type":"message","user":"U0XQ35CDD","text":"Sure thing.","ts":"1475594983.001351","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"ok, ill ping you when its ready","ts":"1475594995.001352"},{"type":"message","user":"U0XQ35CDD","text":"(Do note that I'm not clear on what's the difference between the baseimage release and the fabric update.)","ts":"1475595026.001353"},{"type":"message","user":"U0KPFAZNF","text":"well, theres fabric-baseimage.git -&gt; [dockerhub|atlas] -&gt; fabric.git","ts":"1475595054.001354"},{"type":"message","user":"U0KPFAZNF","text":"fabric.git simply references the baseimage indirectly by a version tag to atlas\/dockerhub","ts":"1475595077.001355"},{"type":"message","user":"U0KPFAZNF","text":"so, the first phase is cutting a release in baseimage.git and publishing the images, and the second phase is updating the pointer in fabric.git","ts":"1475595114.001356"},{"type":"message","user":"U0KPFAZNF","text":"but I can complete the first phase before phase 2 is merged in, so people can test it","ts":"1475595137.001357"},{"type":"message","user":"U0KPFAZNF","text":"thats what we usually do","ts":"1475595140.001358"},{"type":"message","user":"U0XQ35CDD","text":"Ah, alright.","ts":"1475595150.001359"},{"type":"message","user":"U0KPFAZNF","text":"fwiw: this is what creates the link","ts":"1475595254.001360"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/.baseimage-release>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/.baseimage-release","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/.baseimage-release","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1475595254.001361"},{"type":"message","user":"U0KPFAZNF","text":"so, phase 2 is a CR that updates that value","ts":"1475595276.001363"},{"type":"message","user":"U13Q594J2","text":"<@U2CC1NDT2>, I am referring the below error message from your logs\n\n```\nStep 4 : RUN go install build-chaincode &amp;&amp; cp src\/build-chaincode\/vendor\/github.com\/hyperledger\/fabric\/peer\/core.yaml $GOPATH\/bin &amp;&amp; mv $GOPATH\/bin\/build-chaincode $GOPATH\/bin\/56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\n ---&gt; Running in 371cd46c924d\ncp: cannot stat 'src\/build-chaincode\/vendor\/github.com\/hyperledger\/fabric\/peer\/core.yaml': No such file or directory\n********************\n```\n\njust wanted to check , whether you have this folder structure `$GOPATH\/src\/&lt;chaincode&gt;\/vendor\/github.com\/hyperledger\/fabric\/` where you are running node program ?","ts":"1475595875.001364"},{"type":"message","user":"U2CC1NDT2","text":"<@U13Q594J2> - my environment is setup as follows:\nI have the Fabric running on a Vagrant VM (Fabric)\nI have another VM running the node SDK (Client)\nThe chaincode is being deployed FROM client TO Fabric","ts":"1475596261.001365"},{"type":"message","user":"U0KPFAZNF","text":"<@U2CC1NDT2> are you building the SDK yourself?","ts":"1475596386.001366"},{"type":"message","user":"U0KPFAZNF","text":"or using one from NPM?","ts":"1475596393.001367"},{"type":"message","user":"U2CC1NDT2","text":"But to answer you directly - no I don't have the folder structure you mention...","ts":"1475596397.001368"},{"type":"message","user":"U2CC1NDT2","text":"on the client side I used npm install hfc","ts":"1475596418.001369"},{"type":"message","user":"U0KPFAZNF","text":"ok\u2026fwiw, I can give you a one-liner for the SDK that I _think_ will fix your baseimage problem","ts":"1475596441.001370"},{"type":"message","user":"U0KPFAZNF","text":"but you would have to build it locally","ts":"1475596447.001371"},{"type":"message","user":"U0KPFAZNF","text":"if that is not practical, we can address differently","ts":"1475596456.001372"},{"type":"message","user":"U2CC1NDT2","text":"I can build the SDK but I'm running on windows so for e.g. when I run the node sdk unit test in the VM (because of the Host OS to VM folder mappings) it tried to create the node_modules\/node_modules\/node_modules dir structure on Windows which is a known issue","ts":"1475596537.001373"},{"type":"message","user":"U0KPFAZNF","text":"ah, i see","ts":"1475596607.001374"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1475596608.001375"},{"type":"message","user":"U2CC1NDT2","text":"I've overcome this in the past by using creating a symlink though... (so do the node install OUTSIDE of the Vagrant &lt;-&gt; Host OS file mappings)","ts":"1475596611.001376"},{"type":"message","user":"U0KPFAZNF","text":"on your peer, can you paste the output of \u201cdocker images | grep fabric\"","ts":"1475596632.001377"},{"type":"message","user":"U2CC1NDT2","text":"```hyperledger\/fabric-membersrvc                                                                                                               latest                          41c3feac8651        6 hours ago         1.44 GB\nhyperledger\/fabric-membersrvc                                                                                                               x86_64-0.7.0-snapshot-5b0a7f0   41c3feac8651        6 hours ago         1.44 GB\nhyperledger\/fabric-peer                                                                                                                     latest                          44c43c14eb1c        6 hours ago         1.446 GB\nhyperledger\/fabric-peer                                                                                                                     x86_64-0.7.0-snapshot-5b0a7f0   44c43c14eb1c        6 hours ago         1.446 GB\nhyperledger\/fabric-javaenv                                                                                                                  latest                          9967f458e2f8        9 hours ago         791 MB\nhyperledger\/fabric-javaenv                                                                                                                  x86_64-0.7.0-snapshot-5b0a7f0   9967f458e2f8        9 hours ago         791 MB\nhyperledger\/fabric-baseimage                                                                                                                latest                          ba5a47491ea8        9 hours ago         1.424 GB\nhyperledger\/fabric-ccenv                                                                                                                    latest                          ba5a47491ea8        9 hours ago         1.424 GB\nhyperledger\/fabric-ccenv                                                                                                                    x86_64-0.7.0-snapshot-5b0a7f0   ba5a47491ea8        9 hours ago         1.424 GB\nhyperledger\/fabric-src                                                                                                                      latest                          39667ef2fa27        9 hours ago         1.418 GB\nhyperledger\/fabric-src                                                                                                                      x86_64-0.7.0-snapshot-5b0a7f0   39667ef2fa27        9 hours ago         1.418 GB\nhyperledger\/fabric-baseimage                                                                                                                x86_64-0.1.0                    db53d04b117c        2 weeks ago         1.39 GB```","ts":"1475596664.001378"},{"type":"message","user":"U0KPFAZNF","text":"<@U2CC1NDT2> apologies, I just saw that you already tried the docker-tag thing too","ts":"1475596701.001379"},{"type":"message","user":"U0KPFAZNF","text":"the core.yaml thing _might_ be because we hacked ccenv-&gt;baseimage","ts":"1475596744.001380"},{"type":"message","user":"U2CC1NDT2","text":"yeah - no worries - look I'm no expert but I think you nailed earlier when you were discussing how the SDK packages and sends the deploy request","ts":"1475596755.001381"},{"type":"message","user":"U0KPFAZNF","text":"try using fabric-peer instead of fabric-ccenv","ts":"1475596759.001382"},{"type":"message","user":"U0KPFAZNF","text":"yeah, we need to fix that\u2026but in the interest of getting you off the ground quick...","ts":"1475596780.001383"},{"type":"message","user":"U0KPFAZNF","text":"we can hack it like this","ts":"1475596783.001384"},{"type":"message","user":"U0KPFAZNF","text":"so try \u201cdocker tag \u2026peer:latest \u2026baseimage:latest\"","ts":"1475596804.001385"},{"type":"message","user":"U0KPFAZNF","text":"filling in the full name, of course","ts":"1475596809.001386"},{"type":"message","user":"U2CC1NDT2","text":"to be honest bud - until the node SDK Ledger query issue is fixed it's all moot","ts":"1475596816.001387"},{"type":"message","user":"U0KPFAZNF","text":"the peer image _should_ have the core.yaml in it","ts":"1475596824.001388"},{"type":"message","user":"U0KPFAZNF","text":"ah, i am not familar with that issue","ts":"1475596836.001389"},{"type":"message","user":"U2CC1NDT2","text":"Ok let me recap for sake of not causing overdue confusion \/ wasted effort...\n- I have 2 VM's (Fabric and Client)\n- Fabric runs fine and is based on latest (this morning I axed EVERYTHING - VM - vbox image - the lot)\n- client VM has node sdk installed via npm install hfc\n- client code works 100% (or so it seems to wrt deploy and invoke)\n- client code fails on query - the folks over at <#C1GSVKK1U|fabric-sdk-node> are not surprised as there are unmerged fixes needing assimilation\n- peer node spits out error messages BUT on the client side the deploy \/ invoke seems to return the expected results...","ts":"1475597099.001390"},{"type":"message","user":"U2CC1NDT2","text":"```Enrolling WebAppAdmin...\nEnrolled JohnDoe successfully\n\ndeploying chaincode; please wait ...\ndeploy complete; results: {\"uuid\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\",\"chaincodeID\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\"}\ninvoke chaincode ...\ninvoke submitted successfully; results={\"uuid\":\"bf9916aa-f111-4df4-b185-7c466206ad32\"}\ninvoke completed successfully; results={\"result\":\"Tx bf9916aa-f111-4df4-b185-7c466206ad32 complete\"}```","ts":"1475597118.001391"},{"type":"message","user":"U0KPFAZNF","text":"that is consistent with my understanding of your environment","ts":"1475597189.001392"},{"type":"message","user":"U0KPFAZNF","text":"i am still not convinced that your deploy\/invoke is working however","ts":"1475597203.001393"},{"type":"message","user":"U2CC1NDT2","text":"AHA - OK well now THAT does concern me","ts":"1475597217.001394"},{"type":"message","user":"U0KPFAZNF","text":"(though perhaps more progress has been made on that front since the baseimage problem","ts":"1475597218.001395"},{"type":"message","user":"U0KPFAZNF","text":"can you post the latest peer log?","ts":"1475597234.001396"},{"type":"message","user":"U0KPFAZNF","text":"at least w.r.t. the window of time of the deploy+invoke+query","ts":"1475597246.001397"},{"type":"message","user":"U2CC1NDT2","text":"my view is if it's the SDK that's got an issue with query which will be addressed - fine","ts":"1475597248.001398"},{"type":"message","user":"U2CC1NDT2","text":"but if it's the environment that's not working that's a biggie","ts":"1475597275.001399"},{"type":"message","user":"U2CC1NDT2","text":"yeah sure","ts":"1475597281.001400"},{"type":"message","user":"U0KPFAZNF","text":"yeah, i suspect you have a fundamental failure to deploy","ts":"1475597288.001401"},{"type":"message","user":"U2CC1NDT2","text":"where's pwd of the log","ts":"1475597289.001402"},{"type":"message","user":"U0KPFAZNF","text":"i know query in general works, we do this in our own applications all the time","ts":"1475597305.001403"},{"type":"message","user":"U0KPFAZNF","text":"(via the SDK, etc)","ts":"1475597314.001404"},{"type":"message","user":"U2CC1NDT2","text":"if the SDK is \"faking it\" as you suggested last night well then I do have a problem","ts":"1475597332.001405"},{"type":"message","user":"U0KPFAZNF","text":"honestly, i am not sure for a production-like deployment","ts":"1475597333.001406"},{"type":"message","user":"U0KPFAZNF","text":"i am always running the peer in a terminal in devmode","ts":"1475597344.001407"},{"type":"message","user":"U0KPFAZNF","text":"so the log just goes to the stdout","ts":"1475597350.001408"},{"type":"message","user":"U0KPFAZNF","text":"but that log you pasted the other day was representative of what I am asking for","ts":"1475597362.001409"},{"type":"message","user":"U0KPFAZNF","text":"so if you can get that again\u2026.","ts":"1475597366.001410"},{"type":"message","user":"U2CC1NDT2","text":"ok sure","ts":"1475597370.001411"},{"type":"message","user":"U0KPFAZNF","text":"(the one that was complaining about baseimage:latest)","ts":"1475597391.001412"},{"type":"message","user":"U2CC1NDT2","text":"I'll do a fresh run - i.e. kill membersrvc \/ clean \/var\/hyperledger\/production on fabric, clean \/tmp\/keyValStore on client, kill peer and bring everything up in clean state and dump outputs here","ts":"1475597448.001413"},{"type":"message","user":"U2CC1NDT2","text":"give me a sec plse","ts":"1475597453.001414"},{"type":"message","user":"U0KPFAZNF","text":"of course, ty","ts":"1475597463.001415"},{"type":"message","user":"U0KPFAZNF","text":"stepping away for lunch, just @tag me when you post so I see the notice","ts":"1475597540.001416"},{"type":"message","user":"U2CC1NDT2","text":"no worries - bon appetit","ts":"1475597553.001417"},{"type":"message","user":"U2CC1NDT2","text":"<@U0KPFAZNF> - peer node startup output\n\n```vagrant@hyperledger-devenv:v0.1.0-5b0a7f0:\/hyperledger$ peer node start\n16:11:31.126 [nodeCmd] serve -&gt; INFO 002 Security enabled status: false\n16:11:31.126 [nodeCmd] serve -&gt; INFO 003 Privacy enabled status: false\n16:11:31.126 [eventhub_producer] start -&gt; INFO 001 event processor started\n16:11:31.144 [chaincode] NewChaincodeSupport -&gt; INFO 004 Chaincode support using peerAddress: 0.0.0.0:7051\n16:11:31.145 [sysccapi] RegisterSysCC -&gt; INFO 005 system chaincode (noop,<http:\/\/github.com\/hyperledger\/fabric\/bddtests\/syschaincode\/noop|github.com\/hyperledger\/fabric\/bddtests\/syschaincode\/noop>) disabled\n16:11:31.146 [state] loadConfig -&gt; INFO 006 Loading configurations...\n16:11:31.146 [state] loadConfig -&gt; INFO 007 Configurations loaded. stateImplName=[buckettree], stateImplConfigs=map[numBuckets:%!s(int=1000003) maxGroupingAtEachLevel:%!s(int=5) bucketCacheSize:%!s(int=100)], deltaHistorySize=[500]\n16:11:31.147 [state] NewState -&gt; INFO 008 Initializing state implementation [buckettree]\n16:11:31.147 [buckettree] initConfig -&gt; INFO 009 configs passed during initialization = map[string]interface {}{\"numBuckets\":1000003, \"maxGroupingAtEachLevel\":5, \"bucketCacheSize\":100}\n16:11:31.147 [buckettree] initConfig -&gt; INFO 00a Initializing bucket tree state implemetation with configurations &amp;{maxGroupingAtEachLevel:5 lowestLevel:9 levelToNumBucketsMap:map[5:1601 6:8001 0:1 9:1000003 8:200001 7:40001 3:65 1:3 4:321 2:13] hashFunc:0xab1cd0}\n16:11:31.148 [buckettree] newBucketCache -&gt; INFO 00b Constructing bucket-cache with max bucket cache size = [100] MBs\n16:11:31.149 [buckettree] loadAllBucketNodesFromDB -&gt; INFO 00c Loaded buckets data in cache. Total buckets in DB = [0]. Total cache size:=0\n16:11:31.149 [genesis] func1 -&gt; INFO 00d Creating genesis block.\n16:11:31.156 [consensus\/controller] NewConsenter -&gt; INFO 00e Creating default consensus plugin (noops)\n16:11:31.160 [consensus\/noops] newNoops -&gt; INFO 00f NOOPS consensus type = *noops.Noops\n16:11:31.160 [consensus\/noops] newNoops -&gt; INFO 010 NOOPS block size = 500\n16:11:31.160 [consensus\/noops] newNoops -&gt; INFO 011 NOOPS block wait = 1s\n16:11:31.162 [consensus\/statetransfer] blockThread -&gt; INFO 013 Validated blockchain to the genesis block\n16:11:31.162 [nodeCmd] serve -&gt; INFO 012 Starting peer with ID=name:\"jdoe\" , network ID=dev, address=0.0.0.0:7051, rootnodes=, validator=true\n16:11:31.163 [rest] StartOpenchainRESTServer -&gt; INFO 014 Initializing the REST service on 0.0.0.0:7050, TLS is disabled.```","ts":"1475597694.001418"},{"type":"message","user":"U2CC1NDT2","text":"<@U0KPFAZNF> - then I run the enroll, deploy, invoke, query cycle from the client via the SDK. Peer output once deploy starts...\n```2016\/10\/04 16:12:11 transport: http2Server.HandleStreams failed to receive the preface from client: EOF\n16:12:19.446 [dockercontroller] deployImage -&gt; ERRO 015 Error building images: The command '\/bin\/sh -c go install build-chaincode &amp;&amp; cp src\/build-chaincode\/vendor\/github.com\/hyperledger\/fabric\/peer\/core.yaml $GOPATH\/bin &amp;&amp; mv $GOPATH\/bin\/build-chaincode $GOPATH\/bin\/56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8' returned a non-zero code: 1\n16:12:19.446 [dockercontroller] deployImage -&gt; ERRO 016 Image Output:\n********************\nStep 1 : FROM hyperledger\/fabric-baseimage\n ---&gt; ba5a47491ea8\nStep 2 : COPY . $GOPATH\/src\/build-chaincode\/\n ---&gt; Using cache\n ---&gt; 78bb1ebf4c91\nStep 3 : WORKDIR $GOPATH\n ---&gt; Using cache\n ---&gt; 930ff57471de\nStep 4 : RUN go install build-chaincode &amp;&amp; cp src\/build-chaincode\/vendor\/github.com\/hyperledger\/fabric\/peer\/core.yaml $GOPATH\/bin &amp;&amp; mv $GOPATH\/bin\/build-chaincode $GOPATH\/bin\/56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\n ---&gt; Running in b60762dced32\ncp: cannot stat 'src\/build-chaincode\/vendor\/github.com\/hyperledger\/fabric\/peer\/core.yaml': No such file or directory\n\n********************\n16:12:26.318 [dockercontroller] deployImage -&gt; ERRO 017 Error building images: The command '\/bin\/sh -c go install build-chaincode &amp;&amp; cp src\/build-chaincode\/vendor\/github.com\/hyperledger\/fabric\/peer\/core.yaml $GOPATH\/bin &amp;&amp; mv $GOPATH\/bin\/build-chaincode $GOPATH\/bin\/56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8' returned a non-zero code: 1\n16:12:26.318 [dockercontroller] deployImage -&gt; ERRO 018 Image Output:\n********************\nStep 1 : FROM hyperledger\/fabric-baseimage\n ---&gt; ba5a47491ea8\nStep 2 : COPY . $GOPATH\/src\/build-chaincode\/\n ---&gt; Using cache\n ---&gt; 78bb1ebf4c91\nStep 3 : WORKDIR $GOPATH\n ---&gt; Using cache\n ---&gt; 930ff57471de\nStep 4 : RUN go install build-chaincode &amp;&amp; cp src\/build-chaincode\/vendor\/github.com\/hyperledger\/fabric\/peer\/core.yaml $GOPATH\/bin &amp;&amp; mv $GOPATH\/bin\/build-chaincode $GOPATH\/bin\/56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\n ---&gt; Running in a8b7df08066a\ncp: cannot stat 'src\/build-chaincode\/vendor\/github.com\/hyperledger\/fabric\/peer\/core.yaml': No such file or directory\n\n********************\n16:12:26.318 [chaincode] Launch -&gt; ERRO 019 launchAndWaitForRegister failed Error starting container: The command '\/bin\/sh -c go install build-chaincode &amp;&amp; cp src\/build-chaincode\/vendor\/github.com\/hyperledger\/fabric\/peer\/core.yaml $GOPATH\/bin &amp;&amp; mv $GOPATH\/bin\/build-chaincode $GOPATH\/bin\/56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8' returned a non-zero code: 1\n2016\/10\/04 16:14:11 transport: http2Server.HandleStreams failed to receive the preface from client: EOF```","ts":"1475597775.001419"},{"type":"message","user":"U2CC1NDT2","text":"<@U0KPFAZNF> - client output prior to query fail...\n```vagrant@homestead:~\/Code\/node_hl$ node server.js\nHyperldeger REST API provider listening on port 8081\nMiddleware invoked...\nEnrolling WebAppAdmin...\nEnrolled JohnDoe successfully\n\ndeploying chaincode; please wait ...\ndeploy complete; results: {\"uuid\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\",\"chaincodeID\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\"}\ninvoke chaincode ...\ninvoke submitted successfully; results={\"uuid\":\"ad948f33-1b51-49e5-a3f5-44ebc7ecbc9e\"}\ninvoke completed successfully; results={\"result\":\"Tx ad948f33-1b51-49e5-a3f5-44ebc7ecbc9e complete\"}\nWaiting for chain to sync...```","ts":"1475597823.001420"},{"type":"message","user":"U2CC1NDT2","text":"<@U0KPFAZNF> - and then client side...\n```querying chaincode ...\nFailed to query chaincode: request={\"chaincodeID\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\",\"fcn\":\"query\",\"args\":[\"a\"]}, error=%k EventTransactionError {\n  error:\n   { status: 'FAILURE',\n     msg: &lt;Buffer 45 72 72 6f 72 3a 46 61 69 6c 65 64 20 74 6f 20 6c 61 75 6e 63 68 20 63 68 61 69 6e 63 6f 64 65 20 73 70 65 63 28 43 6f 75 6c 64 20 6e 6f 74 20 67 65 ... &gt; },\n  msg: 'Error:Failed to launch chaincode spec(Could not get deployment transaction for 56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8 - LedgerError - ResourceNotFound: ledger: resource not found)' }\nvagrant@homestead:~\/Code\/node_hl$```","ts":"1475597855.001421"},{"type":"message","user":"U0ZJZBJLF","text":"please can you upload the text as snippets?","ts":"1475597894.001422"},{"type":"message","user":"U0ZJZBJLF","text":"via the + button on the left","ts":"1475597911.001423"},{"type":"message","user":"U2CC1NDT2","text":"<@U0KPFAZNF> - the problem of course is we can't tell if the deploy actually worked cause the query fails so I have no idea if `\"chaincodeID\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\"` actually exists or not...","ts":"1475597946.001424"},{"type":"message","user":"U2CC1NDT2","text":"<@U0ZJZBJLF> - noted...","ts":"1475597956.001425"},{"type":"message","user":"U0ZJZBJLF","text":"can you run the command `\/bin\/sh -c go install build-chaincode &amp;&amp; cp src\/build-chaincode\/vendor\/github.com\/hyperledger\/fabric\/peer\/core.yaml $GOPATH\/bin &amp;&amp; mv $GOPATH\/bin\/build-chaincode $GOPATH\/bin\/56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8` locally?","ts":"1475597972.001426"},{"type":"message","user":"U0ZJZBJLF","text":"what does it say?","ts":"1475597981.001427"},{"type":"message","user":"U0KPFAZNF","text":"On mobile, but quick note that it did fail the deploy","ts":"1475597994.001428"},{"type":"message","user":"U0KPFAZNF","text":"That is your fundamental problem","ts":"1475598003.001429"},{"type":"message","user":"U0KPFAZNF","text":"We can fix it when I get back","ts":"1475598012.001430"},{"type":"message","user":"U0ZJZBJLF","text":"oh actually it says there","ts":"1475598028.001431"},{"type":"message","user":"U0KPFAZNF","text":"The indicator is step 4 in the first deployment log","ts":"1475598039.001432"},{"type":"message","user":"U2CC1NDT2","text":"<@U0KPFAZNF> - OK gotcha - but that's really bad wrt to the SDK then surely?","ts":"1475598080.001433"},{"type":"message","user":"U2CC1NDT2","text":"<@U0KPFAZNF> - never mind for now - enjoy lunch","ts":"1475598099.001434"},{"type":"message","user":"U0ZJZBJLF","text":"Hey, whats the upper limit for a unit test's runtime in our project? 20min? is it per package or per TestFoo method?","edited":{"user":"U0ZJZBJLF","ts":"1475598354.000000"},"ts":"1475598320.001435"},{"type":"message","user":"U13Q594J2","text":"<@U2CC1NDT2> I just wrote a quick program <https:\/\/github.com\/ratnakar-asara\/hello-blockchain>, can you try this as per the instructions, let us know if it works","attachments":[{"service_name":"GitHub","title":"ratnakar-asara\/hello-blockchain","title_link":"https:\/\/github.com\/ratnakar-asara\/hello-blockchain","text":"hello-blockchain - NodeSdk sample program","fallback":"GitHub: ratnakar-asara\/hello-blockchain","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/18034452?v=3&s=400","from_url":"https:\/\/github.com\/ratnakar-asara\/hello-blockchain","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1475599419.001437"},{"type":"message","user":"U2CC1NDT2","text":"<@U13Q594J2> - standby plse","ts":"1475600380.001439"},{"type":"message","user":"U0KPFAZNF","text":"<@U2CC1NDT2> w.r.t. SDK, the lack of a closed loop response is limiting, yes, but its also a known limitation and being actively worked on","ts":"1475600476.001440"},{"type":"message","user":"U0KPFAZNF","text":"im not quite sure why your deployment is failing now that you hacked the docker tag, as I checked a build here and I can see the core.yaml","ts":"1475600508.001441"},{"type":"message","user":"U0KPFAZNF","text":"let me study the log again","ts":"1475600516.001442"},{"type":"message","user":"U2CC1NDT2","text":"understood - I understand things are fluid in these early days","ts":"1475600548.001443"},{"type":"message","user":"U0KPFAZNF","text":"i just tried this:","ts":"1475600569.001444"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2K7BDEMD\/-.txt|Untitled>","file":{"id":"F2K7BDEMD","created":1475600576,"timestamp":1475600576,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0KPFAZNF","editable":true,"size":303,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2K7BDEMD\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2K7BDEMD\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2K7BDEMD\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2K7BDEMD-536264dc98","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2K7BDEMD\/-.txt\/edit","preview":"vagrant@hyperledger-devenv:v0.1.0-c5a9b14:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ docker run -it hyperledger\/fabric-ccenv \/bin\/bash\r\nroot@6268dad24fb0:\/# ls $GOPATH\/src\/github.com\/hyperledger\/fabric\/peer\r\nchaincode  core.yaml  main_test.go  node  version\r\ncommon     main.go    network       util","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>vagrant@hyperledger-devenv:v0.1.0-c5a9b14:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ docker run -it hyperledger\/fabric-ccenv \/bin\/bash<\/pre><\/div>\n<div><pre>root@6268dad24fb0:\/# ls $GOPATH\/src\/github.com\/hyperledger\/fabric\/peer<\/pre><\/div>\n<div><pre>chaincode  core.yaml  main_test.go  node  version<\/pre><\/div>\n<div><pre>common     main.go    network       util<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":4,"lines_more":0,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1475600577.001445"},{"type":"message","user":"U0KPFAZNF","text":"so, it seems like the basic files are there","ts":"1475600585.001446"},{"type":"message","user":"U0KPFAZNF","text":"now its a question of why that build instruction failed","ts":"1475600593.001447"},{"type":"message","user":"U2CC1NDT2","text":"but does make it \"a little challenging\" trying to get a dev workflow going","ts":"1475600597.001448"},{"type":"message","user":"U0KPFAZNF","text":"yes, understood, and sorry for the trouble","ts":"1475600612.001449"},{"type":"message","user":"U0KPFAZNF","text":"basically, it \u201cworks\u201d as long as nothing goes wrong :wink:","ts":"1475600626.001450","reactions":[{"name":"+1","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U2CC1NDT2","text":"no need to apologise","ts":"1475600632.001451"},{"type":"message","user":"U0KPFAZNF","text":"which is part of the reason its made it this long without getting fixed","ts":"1475600638.001452"},{"type":"message","user":"U0KPFAZNF","text":"my short term goal is to get you up and running, even if its limping and via nasty hacks :wink:","ts":"1475600687.001453"},{"type":"message","user":"U2CC1NDT2","text":"appreciated...","ts":"1475600791.001454"},{"type":"message","user":"U0KPFAZNF","text":"ok, so part of the problem is the \"src\/build-chaincode\/vendor\/\u201c in your path","ts":"1475600803.001455"},{"type":"message","user":"U0KPFAZNF","text":"not sure where that is coming from yet","ts":"1475600806.001456"},{"type":"message","user":"U0KPFAZNF","text":"i would have expected that to be src\/github.com\/hyperledger\u2026.","ts":"1475600842.001457"},{"type":"message","user":"U0KPFAZNF","text":"not with the build-chaincode thing interjected","ts":"1475600852.001458"},{"type":"message","user":"U13Q594J2","text":"```\nRUN go install build-chaincode &amp;&amp; cp src\/build-chaincode\/vendor\/github.com\/hyperledger\/fabric\/peer\/core.yaml $GOPATH\/bin &amp;&amp; mv $GOPATH\/bin\/build-chaincode $GOPATH\/bin\/56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\n ---&gt; Running in b60762dced32\ncp: cannot stat 'src\/build-chaincode\/vendor\/github.com\/hyperledger\/fabric\/peer\/core.yaml': No such file or directory\n```\n\nWe saw this error many times, where chaincode is missing vendor folder which is required while peer is building the chaincode","ts":"1475600864.001459"},{"type":"message","user":"U0KPFAZNF","text":"ultimately, that is what is failing\u2026im just not sure what is driving that to be there in the first place","ts":"1475600870.001460"},{"type":"message","user":"U0KPFAZNF","text":"that doesnt make sense to me, ill need to dig deeper","ts":"1475600892.001461"},{"type":"message","user":"U0KPFAZNF","text":"ah, its coming from the SDK","ts":"1475600952.001462"},{"type":"message","user":"U0KPFAZNF","text":"that seems completely broken to me","ts":"1475600958.001463"},{"type":"message","user":"U0KPFAZNF","text":"furthering my argument that the SDK should not be in the Dockerfile business","ts":"1475600991.001464"},{"type":"message","user":"U0KPFAZNF","text":"i digress","ts":"1475600993.001465"},{"type":"message","user":"U0KPFAZNF","text":"lets see what we have to hack to fix this for now","ts":"1475600999.001466"},{"type":"message","user":"U13Q594J2","text":"with current implementation in NodeSdk , it packages chaincode along with the vendor packages and sends the same to peer , then peer will extract it and comiple chaincode based on the Dockerfile","edited":{"user":"U13Q594J2","ts":"1475601099.000000"},"ts":"1475601002.001467"},{"type":"message","user":"U0KPFAZNF","text":"understood","ts":"1475601020.001468"},{"type":"message","user":"U13Q594J2","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/sdk\/node\/src\/hfc.ts#L1763>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/sdk\/node\/src\/hfc.ts#L1763","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/sdk\/node\/src\/hfc.ts#L1763","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1475601224.001472"},{"type":"message","user":"U0KPFAZNF","text":"right","ts":"1475601636.001474"},{"type":"message","user":"U0KPFAZNF","text":"basically that whole mechanism needs to be revamped","ts":"1475601645.001475"},{"type":"message","user":"U0KPFAZNF","text":"im actually confused how it ever worked through","ts":"1475601685.001476"},{"type":"message","user":"U0KPFAZNF","text":"who installed the src\/build-chaincode\/vendor folder into the tarball?","ts":"1475601710.001477"},{"type":"message","user":"U0KPFAZNF","text":"im assuming the SDK","ts":"1475601716.001478"},{"type":"message","user":"U0KPFAZNF","text":"but if so, why is the core.yaml missing now?","ts":"1475601725.001479"},{"type":"message","user":"U13Q594J2","text":"Yes it is SDK does that , core.yaml file is missing because the chaincode folder must contain vendor folder as well whcih is required for peer","ts":"1475601795.001480"},{"type":"message","user":"U13Q594J2","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/sdk\/node\/bin\/run-unit-tests.sh#L397>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/sdk\/node\/bin\/run-unit-tests.sh#L397","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/sdk\/node\/bin\/run-unit-tests.sh#L397","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1475601796.001481"},{"type":"message","user":"U0KPFAZNF","text":"so if I understand you correctly, the impetus is on the chaincode developer to provide this","ts":"1475601834.001483"},{"type":"message","user":"U0KPFAZNF","text":"?","ts":"1475601838.001484"},{"type":"message","user":"U13Q594J2","text":"If you see the node-sdk based unit tests for each example they are cloning\/copying the whole hyperledger structure to chaincode folder","ts":"1475601840.001485"},{"type":"message","user":"U0KPFAZNF","text":"before netmode deploy will work","ts":"1475601844.001486"},{"type":"message","user":"U13Q594J2","text":"Yes you are right","ts":"1475601879.001487"},{"type":"message","user":"U0KPFAZNF","text":"so, that means if <@U2CC1NDT2> makes his deployment compliant, his will work too","ts":"1475601896.001488"},{"type":"message","user":"U2CC1NDT2","text":"sorry on a call","ts":"1475601914.001489"},{"type":"message","user":"U0KPFAZNF","text":"np","ts":"1475601922.001490"},{"type":"message","user":"U13Q594J2","text":"Yes thats right .. that is what I was trying to convey","ts":"1475601956.001491"},{"type":"message","user":"U0KPFAZNF","text":"<@U13Q594J2> got it","ts":"1475601965.001492"},{"type":"message","user":"U0KPFAZNF","text":"i still think this all needs an overhaul\u2026;)  but that said, sounds like we can work around this for now by complying","ts":"1475601987.001493"},{"type":"message","user":"U13Q594J2","text":"Seems there is a task exist already on this (I don't have the details though) , once that is available , node app developer need not bother about maintaining vendor code etc.,","ts":"1475602149.001494"},{"type":"message","user":"U13Q594J2","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/nodeSDK\/node-sdk-indepth.md#net-mode>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/nodeSDK\/node-sdk-indepth.md#net-mode","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/nodeSDK\/node-sdk-indepth.md#net-mode","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1475602202.001495"},{"type":"message","user":"U0KPFAZNF","text":"<@U13Q594J2> thank you for that","ts":"1475602258.001497"},{"type":"message","user":"U0KPFAZNF","text":"<@U2CC1NDT2> ^^^^","ts":"1475602271.001498"},{"type":"message","user":"U0KPFAZNF","text":"I do believe if you follow the instructions in that link, we should at least get past the \u201ccore.yaml\u201d error you are seeing","ts":"1475602303.001499"},{"type":"message","user":"U0KPFAZNF","text":"(and hopefully all the way to deployment, but who knows what else we\u2019ll run into ;)","ts":"1475602321.001500"},{"type":"message","user":"U2CC1NDT2","text":"sorry guys - on a standup call","ts":"1475602350.001501"},{"type":"message","user":"U0KPFAZNF","text":"no worries, just there for when you return","ts":"1475602361.001502"},{"type":"message","user":"U2CC1NDT2","text":"sorry - just been roasted on my call... followed <@U13Q594J2> got this...","ts":"1475606248.001503"},{"type":"message","user":"U2CC1NDT2","text":"```vagrant@homestead:~\/hello-blockchain$ ls\napp.js  config.json  README.md  src\nvagrant@homestead:~\/hello-blockchain$ node app.js\nERROR: failed to register admin, Error : {\"code\":14,\"metadata\":{\"_internal_repr\":{}}}```","ts":"1475606271.001504"},{"type":"message","user":"U13Q594J2","text":"can you delete the crypto materials from `\/tmp\/keyValStore` folder  , restart membersrv and peer and run the program again `DEBUG=hfc node app.js`","edited":{"user":"U13Q594J2","ts":"1475606736.000000"},"ts":"1475606714.001505"},{"type":"message","user":"U2CC1NDT2","text":"sorry guys - gone past 22:30 here - been days trying to get this working and now I want to spend some time with my wife...","ts":"1475607017.001507"},{"type":"message","user":"U2CC1NDT2","text":"<@U0KPFAZNF> <@U13Q594J2> SUCCESS!","ts":"1475657341.001508"},{"type":"message","user":"U2CC1NDT2","text":"thanks a mill to both of you for the persistent assistance that eventually got it working for me","edited":{"user":"U2CC1NDT2","ts":"1475657391.000000"},"ts":"1475657376.001509"},{"type":"message","user":"U1AU8DRQR","text":"guys: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1047\/>","ts":"1475657457.001511"},{"type":"message","user":"U2CC1NDT2","text":"I think I now know why it kept failing - the chaincode was not located in the path of the node app","ts":"1475657475.001512","reactions":[{"name":"+1","users":["U13Q594J2"],"count":1}]},{"type":"message","user":"U2CC1NDT2","text":"<@U1AU8DRQR> - thanks and noted","ts":"1475657579.001513"},{"type":"message","user":"U1AU8DRQR","text":"it is just a first step, I will continue with the 2nd","ts":"1475657669.001514"},{"type":"message","user":"U0KPFAZNF","text":"<@U2CC1NDT2> awesome! glad to hear its working","ts":"1475669720.001515"},{"type":"message","user":"U2CC1NDT2","text":"thanks for all the help...","ts":"1475669772.001516"},{"type":"message","user":"U0KPFAZNF","text":"<@U2CC1NDT2> yw\u2026btw, when you talked about the \u201cledqer query problem\u201d the other day\u2026.i assume that was a result of the failed deployment?  or is there some other lurking issue we need to address?","ts":"1475670609.001517"},{"type":"message","user":"U2CC1NDT2","text":"yup","ts":"1475670624.001518"},{"type":"message","user":"U0KPFAZNF","text":"ok, cool","ts":"1475670627.001519"},{"type":"message","user":"U2CC1NDT2","text":"querying the chaincode works 100% now that deploy issue has been solved...","ts":"1475670655.001520"},{"type":"message","user":"U0KPFAZNF","text":"nice, ok","ts":"1475670660.001521"},{"user":"U2J29E206","text":"<@U2J29E206|yogigolle> has joined the channel","type":"message","subtype":"channel_join","ts":"1475715340.001522"},{"type":"message","user":"U0ZJZBJLF","text":"Hey, so what's the status of the BDD now? are all BDD tests now converted to golang?","ts":"1475764844.001523"},{"type":"message","user":"U0N5VR45B","text":"We are looking at moving from the 0.5 release to the 0.6 release. In 0.5 if a transaction is sent (invoke) to the blockchain and it results in an error we can see this by watching the events and in the block event under non hash data each transaction is listed and if it resulted in error there is an error object in it with the error.\nIn 0.6 if a transaction results in an error there is no record for it in the non hash data. Is this a bug, or intentional? If intentional how is a client now supposed to be able to see if a transaction it has submitted has resulted in an error?","ts":"1475776357.001524"},{"user":"U2KJV3309","text":"<@U2KJV3309|mahoney> has joined the channel","type":"message","subtype":"channel_join","ts":"1475782907.001525"},{"user":"U1CTBUNEN","text":"<@U1CTBUNEN|mart0nix> has joined the channel","type":"message","subtype":"channel_join","ts":"1475845764.001526"},{"type":"message","user":"U1CTBUNEN","text":"guys I need some advice about data modelling in fabric","ts":"1475845937.001527"},{"type":"message","user":"U1CTBUNEN","text":"I'm basically receiving JSON documents that I need to parse and store (and be able to query later)\nin a normal web stack I'd creat 5-6 SQL tables, parse the JSON and then do SQL queries\nright now I'm debating if I should use the shim.Table interface (it looks like it supports KEYs - at least it has the keyword there I don't know if those fields are actually being indexed right now)\nOR I should model my data layer as regular GO structs with embedded []lists for relationships","ts":"1475845961.001528"},{"type":"message","user":"U1CTBUNEN","text":"I only have write \/read operations ( i don't have to modify\/edit\/delete records)","ts":"1475846055.001529"},{"type":"message","user":"U2BGFAHC7","text":"Anyone here who can help with Linux Foundation ID\u2019s? I created one using my Github account, but I need a password to log into Gerrit. If I try to reset my password via email, it says I must enter my password to accept the new password :slightly_smiling_face:","edited":{"user":"U2BGFAHC7","ts":"1475847642.000000"},"ts":"1475847626.001530"},{"type":"message","user":"U0KPFAZNF","text":"<@U2BGFAHC7> I think there are problems trying to use the SSO logins","ts":"1475847665.001532"},{"type":"message","user":"U0KPFAZNF","text":"just create a native LFID","ts":"1475847670.001533"},{"type":"message","user":"U0KPFAZNF","text":"I ran into this too several months back","ts":"1475847698.001534"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> ^^^^","ts":"1475847704.001535"},{"user":"U0UHG4VP1","inviter":"U0KPFAZNF","text":"<@U0UHG4VP1|ry> has joined the channel","type":"message","subtype":"channel_join","ts":"1475847710.001536"},{"type":"message","user":"U2BGFAHC7","text":"<@U0KPFAZNF> thanks, will do!","ts":"1475847714.001537"},{"type":"message","user":"U2BGFAHC7","text":"<@U0UHG4VP1> unfortunately there\u2019s now both a clash on my username and email address. Can you help?","ts":"1475847866.001538"},{"type":"message","user":"U2BGFAHC7","text":"It\u2019s not a huge issue, but gorocksdb needs updating in the vendor folder to function with the latest homebrew rocksdb\n```govendor update <http:\/\/github.com\/tecbot\/gorocksdb|github.com\/tecbot\/gorocksdb>```\nsolved the problem. If somone else wants to drive this through gerrit, I\u2019d be very much appreciative :slightly_smiling_face:","ts":"1475847991.001539"},{"type":"message","user":"U2BGFAHC7","text":"The related issue is here:\n<https:\/\/github.com\/tecbot\/gorocksdb\/issues\/63>","edited":{"user":"U2BGFAHC7","ts":"1475848510.000000"},"ts":"1475848506.001540"},{"type":"message","user":"U0PB67X4K","text":"<@U2BGFAHC7>  - I believe that we might have had some issues in the code even though it might compile with the latest version of rocksdb \/ gorocksdb (but not sure)","ts":"1475852088.001543"},{"type":"message","user":"U2BGFAHC7","text":"<@U0PB67X4K> Any hints on what the issue might have been? Test failures?","ts":"1475853384.001544"},{"type":"message","user":"U0PB67X4K","text":"I honestly don't remember - I just seem to recall that there was some reason we were sticking with rocksdb 4.1.  But maybe it was actually just because thats what gorcoksdb supported at the time","ts":"1475856079.001545"},{"user":"U23S3DPFY","text":"<@U23S3DPFY|ccooper21> has joined the channel","type":"message","subtype":"channel_join","ts":"1475945829.001546"},{"type":"message","user":"U0XQ35CDD","text":"<@U0PB67X4K> quick question:","edited":{"user":"U0XQ35CDD","ts":"1475968170.000000"},"ts":"1475968138.001547"},{"type":"message","user":"U0XQ35CDD","text":"How do you make your git commits show up on the relevant issue in JIRA, as shown here? <https:\/\/jira.hyperledger.org\/browse\/FAB-541>","ts":"1475968164.001548"},{"type":"message","user":"U0XQ35CDD","text":"That's neat. I added links to the JIRA issues in my commit messages but that's not what triggers it apparently.","ts":"1475968274.001550"},{"type":"message","user":"U0ULK2JPP","text":"<@U0XQ35CDD> I just put FAB-XXX either in the subject \u2026 or maybe in a line in the comments","ts":"1475968436.001551"},{"type":"message","user":"U0XQ35CDD","text":"Cool, so it's similar to GitHub. I'll try it out next time, thanks.","ts":"1475968878.001552"},{"type":"message","user":"U0PB67X4K","text":"<@U0XQ35CDD>  - no trick - I manually do it","ts":"1475969567.001553"},{"type":"message","user":"U0XQ35CDD","text":"<@U0PB67X4K> Can you elaborate? My \"Git Commits\" tab looks like this.","ts":"1475974684.001554"},{"type":"message","subtype":"file_share","text":"<@U0XQ35CDD|kostas> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/kostas\/F2M3VHHPS\/screen_shot_2016-10-08_at_20.57.25.png|Screen Shot 2016-10-08 at 20.57.25.png>","file":{"id":"F2M3VHHPS","created":1475974689,"timestamp":1475974689,"name":"Screen Shot 2016-10-08 at 20.57.25.png","title":"Screen Shot 2016-10-08 at 20.57.25.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0XQ35CDD","editable":false,"size":66187,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2M3VHHPS\/screen_shot_2016-10-08_at_20.57.25.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2M3VHHPS\/download\/screen_shot_2016-10-08_at_20.57.25.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2M3VHHPS-6a7140175f\/screen_shot_2016-10-08_at_20.57.25_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2M3VHHPS-6a7140175f\/screen_shot_2016-10-08_at_20.57.25_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2M3VHHPS-6a7140175f\/screen_shot_2016-10-08_at_20.57.25_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":97,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2M3VHHPS-6a7140175f\/screen_shot_2016-10-08_at_20.57.25_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":129,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2M3VHHPS-6a7140175f\/screen_shot_2016-10-08_at_20.57.25_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2M3VHHPS-6a7140175f\/screen_shot_2016-10-08_at_20.57.25_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":193,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2M3VHHPS-6a7140175f\/screen_shot_2016-10-08_at_20.57.25_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":258,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2M3VHHPS-6a7140175f\/screen_shot_2016-10-08_at_20.57.25_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":275,"image_exif_rotation":1,"original_w":1586,"original_h":426,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/kostas\/F2M3VHHPS\/screen_shot_2016-10-08_at_20.57.25.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2M3VHHPS-50a417fcc8","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0XQ35CDD","upload":true,"display_as_bot":false,"username":"<@U0XQ35CDD|kostas>","bot_id":null,"ts":"1475974692.001555"},{"type":"message","user":"U0UHG4VP1","text":"<@U0XQ35CDD> they don't show up until the commits are merged","ts":"1475983985.001556"},{"type":"message","user":"U0XQ35CDD","text":"A-ha. Got it know, thanks.","ts":"1476015887.001557","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0ZJZBJLF","text":"Hey all.\nWe made a demo vid of our gossip component, you can check it out in the <#C2HHHJCSU|fabric-gossip-dev>  channel.","ts":"1476103401.001558"},{"type":"message","user":"U0UGH3X7X","text":"<@U0W7D64LC> ^^^","ts":"1476104096.001559","reactions":[{"name":"+1","users":["U0ZJZBJLF"],"count":1}]},{"user":"U0W7D64LC","inviter":"U0UGH3X7X","text":"<@U0W7D64LC|markparz> has joined the channel","type":"message","subtype":"channel_join","ts":"1476104105.001560"},{"type":"message","user":"U1F3CQ2HX","text":"Hi, Quick question : what is the block memory size in hyperledger fabric (by default)?","ts":"1476114943.001561"},{"user":"U1KDHJT6H","text":"<@U1KDHJT6H|claytonsims> has joined the channel","type":"message","subtype":"channel_join","ts":"1476115615.001562"},{"user":"U184J2R7S","text":"<@U184J2R7S|weeds> has joined the channel","type":"message","subtype":"channel_join","ts":"1476115675.001563"},{"type":"message","user":"U0S5KF44D","text":"<@U1F3CQ2HX> <@U0UGH3X7X> This is best answered by Tuand, but from looking at the defaults in fabric\/consensus\/pbft\/config.yaml, it looks like the default batchsize is 500 with a default timeout of 1 sec, if that is the question","ts":"1476188770.001564"},{"type":"message","user":"U0S5KF44D","text":"Also I wanted to mention that for anyone interested, the membership-services channel is being used to provide updates pertaining to membership services.  I just posted an update with what the membership services squad is working on","ts":"1476188919.001565"},{"type":"message","user":"U0UGH3X7X","text":"<@U1F3CQ2HX>   it's not by memory size per se ... as Keith mentioned, batchsize sets how many transactions are aggregated to go through consensus, executed and written to one block.  In addition,  if the timer fires, we aggregate the current number of transactions in queue even if we have not reached batchsize","ts":"1476191540.001566"},{"type":"message","user":"U1F3CQ2HX","text":"<@U0S5KF44D>: <@U0UGH3X7X> Thanks for clarification ..also do you agree that the block memory size for batch of transaction in the block will vary depending on the content or fields in the transaction ? Want to understand it for disk size requirements analysis for each node (VP).","ts":"1476205072.001567"},{"type":"message","user":"U0S5KF44D","text":"<@U1F3CQ2HX> Correct, the actual block memory size will vary based on transaction size","ts":"1476205532.001568"},{"type":"message","user":"U1F3CQ2HX","text":"Thanks <@U0S5KF44D> ","ts":"1476206294.001569"},{"type":"message","user":"U0XQ35CDD","text":"<@U0KPFAZNF>: Any news on the Go 1.7 front?","ts":"1476219805.001570"},{"type":"message","user":"U0KPFAZNF","text":"ive submitted the patches, waiting for maintainers to merge","ts":"1476219863.001571"},{"type":"message","user":"U0KPFAZNF","text":"see CRs 1471 and company","ts":"1476219881.001572"},{"type":"message","user":"U0KPFAZNF","text":"it all passes the UT\/behave runs though","ts":"1476219910.001573"},{"type":"message","user":"U0XQ35CDD","text":"Wonderful, thanks.","ts":"1476219934.001574"},{"type":"message","user":"U0KPFAZNF","text":"actually, i still need a rebase, but waiting for 1491 1493 to go in first","ts":"1476219968.001575"},{"type":"message","user":"U0KPFAZNF","text":"but after that, 1471 should be ready to go in","ts":"1476219978.001576"},{"user":"U2CBG8V9U","text":"<@U2CBG8V9U|humblealex> has joined the channel","type":"message","subtype":"channel_join","ts":"1476239584.001577"},{"type":"message","user":"U2CBG8V9U","text":"Maybe it is a bug?\nWe were developing a chaincode trying to read certificatepaires from CA, so we used the ReadCertificatePair function from \/membersrvc\/ca\/ecap.go through grpc connection.We got nothing.So we looked at readCertificates function in ca.go and noticed that two columns are being pulled out (cert, kdfey) while in ReadCertificatePair, rows.Scan(&amp;raw) indicates one column. So which part should be fixed? or are there any other ways around of doing this?","ts":"1476239657.001578"},{"user":"U1WAADD4N","text":"<@U1WAADD4N|akihikot> has joined the channel","type":"message","subtype":"channel_join","ts":"1476254091.001579"},{"user":"U2JCD7N7R","text":"<@U2JCD7N7R|georgeo> has joined the channel","type":"message","subtype":"channel_join","ts":"1476287436.001580"},{"user":"U2NDE1ZCK","text":"<@U2NDE1ZCK|jdockter> has joined the channel","type":"message","subtype":"channel_join","ts":"1476290970.001581"},{"type":"message","user":"U1CS08EP3","text":"Hi All, \nWe are using events to detect the business logic events from the Chaincode. \nWe used the event Client program available in example, as the test program.\nAnd we used our own chaincode to create the events.\nAnd the API used in the Chaincode was \n`err = stub.SetEvent(\"evtsender3\", []byte(tosend))`\n\nAnd the way we used it is as below \n\n`tosend := \"Event from Invoke_user\"`\n`err := stub.SetEvent(\"evtsender1\", []byte(tosend))`\n\n`\t\tdelay := 5000 * time.Millisecond`\n`\t\ttime.Sleep(delay)`\n\n`tosend = \"Event from Invoke_user with args :\"`\n`for _, s := range args {`\n`\ttosend = tosend + \",\" + s`\n`}`\n`err = stub.SetEvent(\"evtsender2\", []byte(tosend))`","ts":"1476334176.001582"},{"type":"message","user":"U1CS08EP3","text":"But on the client, only second event is being received. i.e., *evtsender2*","edited":{"user":"U1CS08EP3","ts":"1476334326.000000"},"ts":"1476334219.001583"},{"type":"message","subtype":"file_share","text":"<@U1CS08EP3|ashishkel> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ashishkel\/F2NPBJKEV\/pasted_image_at_2016_10_13_10_20.png|Pasted image at 2016-10-13, 10:20>","file":{"id":"F2NPBJKEV","created":1476334264,"timestamp":1476334264,"name":"Pasted image at 2016_10_13 10_20.png","title":"Pasted image at 2016-10-13, 10:20","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U1CS08EP3","editable":false,"size":9555,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2NPBJKEV\/pasted_image_at_2016_10_13_10_20.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2NPBJKEV\/download\/pasted_image_at_2016_10_13_10_20.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2NPBJKEV-1633b7d178\/pasted_image_at_2016_10_13_10_20_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2NPBJKEV-1633b7d178\/pasted_image_at_2016_10_13_10_20_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2NPBJKEV-1633b7d178\/pasted_image_at_2016_10_13_10_20_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":21,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2NPBJKEV-1633b7d178\/pasted_image_at_2016_10_13_10_20_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":28,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2NPBJKEV-1633b7d178\/pasted_image_at_2016_10_13_10_20_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2NPBJKEV-1633b7d178\/pasted_image_at_2016_10_13_10_20_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":41,"image_exif_rotation":1,"original_w":922,"original_h":53,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ashishkel\/F2NPBJKEV\/pasted_image_at_2016_10_13_10_20.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2NPBJKEV-365a3955f5","channels":["C0YPYBVJM","C18M92UR5"],"groups":[],"ims":[],"comments_count":0},"user":"U1CS08EP3","upload":true,"display_as_bot":false,"username":"<@U1CS08EP3|ashishkel>","bot_id":null,"ts":"1476334269.001584"},{"type":"message","user":"U1CS08EP3","text":"Is this the expected behavior ?","ts":"1476334289.001585"},{"type":"message","user":"U1CS08EP3","text":"I had introduced delay to see whether its getting lost..","ts":"1476334359.001587"},{"type":"message","user":"U1CS08EP3","text":"I was using same event Names before, then changed that to evtsender1 and evtsender2 respectively.","ts":"1476334391.001588"},{"type":"message","user":"U1CS08EP3","text":"still not able to get hold of that first event..  :disappointed:","ts":"1476334401.001589"},{"type":"message","user":"U0ULK2JPP","text":"<@U1CS08EP3> only one event from one Invoke supported ( <@U0KQ9QKH6> )","ts":"1476359678.001590"},{"type":"message","user":"U1CS08EP3","text":"<@U0ULK2JPP> , ohkay , Thanks for confirming","edited":{"user":"U1CS08EP3","ts":"1476359735.000000"},"ts":"1476359705.001591"},{"type":"message","user":"U0KQ9QKH6","text":"<@U1CS08EP3> : yes, that is the current behavior one event per invoke","ts":"1476364309.001593"},{"type":"message","user":"U1WUAQJVC","text":"Hi all, I have the latest gerrit code . Facing the following issue while make peer. Any idea? Please help.\n\n\nPushpalathas-MacBook-Pro:fabric pushpa$ make peer\nbuild\/bin\/peer\nCGO_CFLAGS=\" \" CGO_LDFLAGS=\"-lrocksdb -lstdc++ -lm -lz -lbz2 -lsnappy\" GOBIN=\/Users\/pushpa\/gocode\/src\/github.com\/hyperledger\/fabric\/build\/bin go install -ldflags \"-X <http:\/\/github.com\/hyperledger\/fabric\/metadata.Version=0.7.0-snapshot-551fa9b|github.com\/hyperledger\/fabric\/metadata.Version=0.7.0-snapshot-551fa9b>\" <http:\/\/github.com\/hyperledger\/fabric\/peer|github.com\/hyperledger\/fabric\/peer>\n# <http:\/\/github.com\/hyperledger\/fabric\/vendor\/github.com\/Sirupsen\/logrus|github.com\/hyperledger\/fabric\/vendor\/github.com\/Sirupsen\/logrus>\nvendor\/github.com\/Sirupsen\/logrus\/terminal_darwin.go:10: ioctlReadTermios redeclared in this block\n    previous declaration at vendor\/github.com\/Sirupsen\/logrus\/terminal_bsd.go:7\nvendor\/github.com\/Sirupsen\/logrus\/terminal_darwin.go:12: Termios redeclared in this block\n    previous declaration at vendor\/github.com\/Sirupsen\/logrus\/terminal_bsd.go:9\n# <http:\/\/github.com\/hyperledger\/fabric\/vendor\/github.com\/tecbot\/gorocksdb|github.com\/hyperledger\/fabric\/vendor\/github.com\/tecbot\/gorocksdb>\nvendor\/github.com\/tecbot\/gorocksdb\/options.go:328: not enough arguments in call to _Cfunc_rocksdb_options_set_compression_options\nmake: *** [build\/bin\/peer] Error 2","ts":"1476430307.001594"},{"type":"message","user":"U0ZJZBJLF","text":"Hey all, what's the status of merging convergence and master?","ts":"1476435817.001595"},{"type":"message","user":"U0KM61BCP","text":"<@U0ZJZBJLF> not clear\u2026 <@U0KPFAZNF> created a list of changesets that had no merge conflicts\u2026 think we were planning on applying those in batches","ts":"1476448635.001596"},{"type":"message","user":"U0KM61BCP","text":"then there were 36 remaining changesets that needed merge conflict resolution","ts":"1476448651.001597"},{"type":"message","user":"U0ZJZBJLF","text":"all I need is for the convergence branch to have the protobuf+gRPC version like the master branch has","ts":"1476448837.001598"},{"type":"message","user":"U0ZJZBJLF","text":"(in the vendor)","ts":"1476448854.001599"},{"type":"message","user":"U0ZJZBJLF","text":"from what I understood from him, that'll be included, so that's good.","ts":"1476448915.001600"},{"type":"message","user":"U0ZJZBJLF","text":"oh and btw :+1:  for you email proposal of context-based maintainers","ts":"1476448997.001601"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> <@U0ZJZBJLF> working with others on the merge in the <#C2NESEYV9|fabric-reconcile> channel","ts":"1476449746.001602"},{"type":"message","user":"U0KPFAZNF","text":"will send out status but I estimate we should have a CR for the convergence branch that brings all the relevant master changes in by EOD","ts":"1476449778.001603"},{"type":"message","user":"U0KPFAZNF","text":"we can then decide timing on when\/if convergence collapses back to master independently","ts":"1476449798.001604"},{"type":"message","user":"U0KPFAZNF","text":"and yes, +1 for the maintainer context","ts":"1476449822.001605"},{"type":"message","user":"U0ZJZBJLF","text":"as long as its EOD and not EOL it's GTM :slightly_smiling_face:","edited":{"user":"U0ZJZBJLF","ts":"1476449897.000000"},"ts":"1476449854.001606"},{"type":"message","user":"U0KM61BCP","text":"LOL","ts":"1476453185.001608"},{"user":"U2PE37K3J","text":"<@U2PE37K3J|n.ohagan> has joined the channel","type":"message","subtype":"channel_join","ts":"1476453330.001609"},{"user":"U2PE37K3J","text":"<@U2PE37K3J|n.ohagan> has left the channel","type":"message","subtype":"channel_leave","ts":"1476458766.001610"},{"type":"message","user":"U184J2R7S","text":"ha ha <@U0ZJZBJLF>... and <@U0KPFAZNF> I know you guys in the community are working hard at this- if we can get by EOD- will be exciting","ts":"1476460261.001611"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP> has the basic merge completed and has begin running it through the UTs etc","ts":"1476460330.001612"},{"type":"message","user":"U0KPFAZNF","text":"I think we had to drop a small number of changes that we will keep careful track of, and let the SMEs handle at a later time","ts":"1476460364.001613"},{"type":"message","user":"U0KPFAZNF","text":"specifically regarding the java shim and bdd tests","ts":"1476460372.001614"},{"type":"message","user":"U0KPFAZNF","text":"and to be clear: \u201cEOD\u201d is relative to EDT :wink:","ts":"1476460411.001615"},{"type":"message","user":"U0KPFAZNF","text":"and also, an estimate","ts":"1476460415.001616"},{"type":"message","user":"U0ZJZBJLF","text":"what about the vendor folders?","ts":"1476460447.001617"},{"type":"message","user":"U0ULK2JPP","text":"<@U0ZJZBJLF> we didn\u2019t have to \u201cresolve\u201d vendor conflicts .. so assume merge went thru for them ok. but we\u2019ll have to run thru tests","ts":"1476460752.001618"},{"type":"message","user":"U0ULK2JPP","text":"so <@U0KPFAZNF> after a couple of minor changes post merge, fabric builds and peer comes up","ts":"1476460776.001619"},{"type":"message","user":"U0ZJZBJLF","text":"So vendor folders of convergence are now these of master, right?","ts":"1476460881.001620"},{"type":"message","user":"U0ZJZBJLF","text":"Just making sure...","ts":"1476460896.001621"},{"type":"message","user":"U0KPFAZNF","text":"to be clear, vendor changes that were applied to master after the convergence branch point have now been applied to convergence (in our working tree, not pushed to gerrit yet)","ts":"1476461026.001622"},{"type":"message","user":"U0KPFAZNF","text":"that doesnt necessarily mean equivalence,","ts":"1476461042.001623"},{"type":"message","user":"U0KPFAZNF","text":"(for instance, someone might have made other vendor updates in convergence","ts":"1476461057.001624"},{"type":"message","user":"U0KPFAZNF","text":"i didnt check","ts":"1476461060.001625"},{"type":"message","user":"U0KPFAZNF","text":"but I also think that is what you are concerned with <@U0ZJZBJLF>","ts":"1476461087.001626"},{"type":"message","user":"U0ULK2JPP","text":"<@U0ZJZBJLF> `go build` on packages in gossip\/  succeeded if that means anything...","ts":"1476463378.001627"},{"type":"message","user":"U0ZJZBJLF","text":"how? The pb.go files of gossip were compiled with protobuf 3beta, and the vendor folder nlw should have protobuf version 3. Is that backward compatible?","ts":"1476463510.001628"},{"type":"message","user":"U0ULK2JPP","text":"I did a make protos first","ts":"1476463545.001629"},{"type":"message","user":"U0ZJZBJLF","text":"I think it's a good idea to delete all pb go files abyway and compile them with devenv\/compile_protos.sh","ts":"1476463548.001630"},{"type":"message","user":"U0ZJZBJLF","text":"What do you think?","ts":"1476463576.001631"},{"type":"message","user":"U0ZJZBJLF","text":"I think it's worth to check that pb.go files in convergence now are v3 and not 3beta","ts":"1476463649.001632"},{"type":"message","user":"U0ULK2JPP","text":"agreed","ts":"1476463672.001633","reactions":[{"name":"+1","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> i recompiled all the protos in convergence as part of the merge","ts":"1476465758.001634","reactions":[{"name":"+1","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"e.g. brought your patch in, got the environment updated with the new protoc, did a \u201cmake protos\u201d, and refreshed the patch","ts":"1476465797.001635"},{"type":"message","user":"U0KPFAZNF","text":"that isnt to say that we havent missed something, we are still working through validation","ts":"1476465823.001636"},{"type":"message","user":"U0KPFAZNF","text":"long story short: this is a high touch merge","ts":"1476465935.001637"},{"type":"message","user":"U0KPFAZNF","text":"we are looking patch by patch","ts":"1476465939.001638"},{"type":"message","user":"U0ZJZBJLF","text":"Thanks for the updates and I know I'm being over-paranoid than usual","ts":"1476465945.001639"},{"type":"message","user":"U0KPFAZNF","text":"its warranted","ts":"1476465972.001640"},{"type":"message","user":"U0KPFAZNF","text":"its a big merge","ts":"1476465977.001641"},{"type":"message","user":"U0KPFAZNF","text":"we are being careful, and we are experienced in such matters, but there is lots of room for error","ts":"1476465999.001642"},{"type":"message","user":"U0KPFAZNF","text":"i hope we can get through this, stablize things, and then make sure this doesnt happen again :wink:","ts":"1476466026.001643"},{"type":"message","user":"U184J2R7S","text":"I met with team on membership-services today and put some background for those in interest.","ts":"1476474596.001644"},{"type":"message","user":"U184J2R7S","text":"in the membership-services channel","ts":"1476474605.001645"},{"type":"message","user":"U0ULK2JPP","text":"just a status update \u2026 we did the master-&gt;convergence merge and <@U0KPFAZNF> has pushed it to `<https:\/\/github.com\/ghaskins\/hyperledger-fabric>` under branch `convergence-merge-for-murali`","ts":"1476478869.001646"},{"type":"message","user":"U0ULK2JPP","text":"about to test","ts":"1476478872.001647"},{"type":"message","user":"U0ULK2JPP","text":"after a few false alarms `make peer-image` and a sniff test of core\/chaincode worked\nproceeding to full unit tests","ts":"1476485039.001648"},{"type":"message","user":"U11MANG9G","text":"---","ts":"1476495941.001649"},{"type":"message","user":"U11MANG9G","text":"We can\u2019t cut a release of v0.6 without <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1607\/>","ts":"1476495959.001650"},{"type":"message","user":"U11MANG9G","text":"Seems as if the (unrelated) failure has been there for a few days (regardless of TLS\/ACA, etc).","ts":"1476496017.001651"},{"type":"message","user":"U11MANG9G","text":"Separately, I have just merged <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1747> which contains a fix to the underlying chaincode_example04\u2026. and does seem to work in `master`.","ts":"1476496107.001652"},{"type":"message","user":"U11MANG9G","text":"One solution is to cherry-pick the working version\/code of 1747 and submit it (either under <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1759> or separately)\u2026","ts":"1476496208.001653"},{"type":"message","user":"U11MANG9G","text":"But we all really need a working v0.6 branch (again, regardless of 1607).","ts":"1476496255.001654"},{"type":"message","user":"U11MANG9G","text":"Only once the branch builds\/tests successfully\u2026 I will rebase the changes from 1607 onto it.\n\nWill be happy to review patchsets. We can all see it passing now in master. We can get there. PM me.","ts":"1476496393.001657"},{"type":"message","user":"U0ULK2JPP","text":"what do you need ? :slightly_smiling_face:","ts":"1476496503.001658"},{"type":"message","user":"U11MANG9G","text":"We need someone to pick up the changes from 1747 that I have merged to master...","ts":"1476496544.001659"},{"type":"message","user":"U0ULK2JPP","text":"seems like 1607 is not passing verification ?","ts":"1476496545.001660"},{"type":"message","user":"U11MANG9G","text":"Yup, exactly.","ts":"1476496552.001661"},{"type":"message","user":"U11MANG9G","text":"Also, <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1759\/> is failing in v0.6","ts":"1476496577.001662"},{"type":"message","user":"U11MANG9G","text":"We need to get the example_chaincode04 to build successfully in the v0.6 branch.","ts":"1476496603.001663"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1476496624.001664"},{"type":"message","user":"U11MANG9G","text":"I don\u2019t know how people worked with this branch over the last 3 days, but that\u2019s a separate story.","ts":"1476496629.001665"},{"type":"message","user":"U11MANG9G","text":"We have a crucial fix (which is the last \u2018must have\u2019 for v0.6), that is 1607. But we must have a working v0.6.","ts":"1476496682.001666"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1476496688.001667"},{"type":"message","user":"U11MANG9G","text":"Jim Zhang wrote to me that he will work on this too (soon). But I\u2019ll review whatever builds.","ts":"1476496740.001670"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1476496747.001671"},{"type":"message","user":"U0ULK2JPP","text":"let me check out 0.6","ts":"1476496752.001672"},{"type":"message","user":"U11MANG9G","text":"Thank you.","ts":"1476496756.001673"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019m confused\u2026 the originial (Base) hash was correct","ts":"1476498708.001674"},{"type":"message","user":"U0ULK2JPP","text":"when I changed it back to it, it worked","ts":"1476498724.001675"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019m going to put back the original hash and see what happens","ts":"1476498856.001676"},{"type":"message","user":"U0ULK2JPP","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1765\/>","ts":"1476500073.001677"},{"type":"message","user":"U0ULK2JPP","text":"let see if CI  runs ok","ts":"1476500088.001678"},{"type":"message","user":"U0ULK2JPP","text":"<@U11MANG9G> the above went through CI fine","ts":"1476526254.001679"},{"type":"message","user":"U0ULK2JPP","text":"<@U11MANG9G> <@U13TWBRBL> 1759 did the identical thing \u2026abandoned 1765 for 1759\u2026  <@U0PB67X4K> has more info on state of 0.6","ts":"1476530820.001680"},{"type":"message","user":"U0PB67X4K","text":"reverifying 1607 now that 1759 is in","ts":"1476531448.001681"},{"type":"message","user":"U0PB67X4K","text":"hopefully that will work","ts":"1476531459.001682"},{"type":"message","user":"U221LL03Z","text":"<@U0PB67X4K> : Looks like build failed.","ts":"1476535518.001683"},{"type":"message","user":"U0PB67X4K","text":"yeah - change needs to be rebased","ts":"1476535564.001684"},{"type":"message","user":"U0PB67X4K","text":"I took care of it - hopefully this (finally) works","ts":"1476536114.001685"},{"type":"message","user":"U221LL03Z","text":"I Looked at new changes for changeset for 1607. It seems fine to me.","ts":"1476538566.001686"},{"user":"U13TWBRBL","text":"<@U13TWBRBL|jzhang> has joined the channel","type":"message","subtype":"channel_join","ts":"1476539557.001687"},{"type":"message","user":"U13TWBRBL","text":"<@U0ULK2JPP> so the change b\/w 1759 (observing failure of mismatched hash in local testing both on my machine and <@U0KM61BCP>'s) and 1767 (reverting it back because the hash was calculated differently on the build machine) took a lot of time getting right. shouldn\u2019t the example be updated to take the target hash as an input parameter?","ts":"1476539700.001688"},{"type":"message","user":"U0ULK2JPP","text":"<@U13TWBRBL> that\u2019s exactly what example05 does","ts":"1476539741.001689"},{"type":"message","user":"U13TWBRBL","text":"but we also should update example04, to avoid further confusion around this","ts":"1476539779.001690"},{"type":"message","user":"U13TWBRBL","text":"not sure what caused the hash to be different...","ts":"1476539790.001691"},{"type":"message","user":"U0ULK2JPP","text":"hang on :slightly_smiling_face: \u2026.","ts":"1476539794.001692"},{"type":"message","user":"U0ULK2JPP","text":"example04 is to make sure the hash does not change if example04 was not modified","ts":"1476539807.001693"},{"type":"message","user":"U0ULK2JPP","text":"it can get altered for two reasons","ts":"1476539832.001694"},{"type":"message","user":"U0ULK2JPP","text":"1) the code changes","ts":"1476539842.001695"},{"type":"message","user":"U0ULK2JPP","text":"2) new files get added to the dir (for example, if you built the exe for running in \u2014peer-chaincodedev mode, the exe will be in the folder causing hash to change).. another example I think was some left over files from git (<@U0KM61BCP> may recall that better ?)","edited":{"user":"U0ULK2JPP","ts":"1476540006.000000"},"ts":"1476539883.001696"},{"type":"message","user":"U0ULK2JPP","text":"3) &lt;this should NEVER happen and is the purpose of the chaincode04&gt; \u2026. nothing changed in example02 folder but the hash is somehow different","ts":"1476539942.001697"},{"type":"message","user":"U0KM61BCP","text":"there's a patch that was merged to master by gong su - fixes this","ts":"1476540050.001699"},{"type":"message","user":"U0KM61BCP","text":"was merged last night","ts":"1476540062.001700"},{"type":"message","user":"U0KM61BCP","text":"am on phone soncan't paste","ts":"1476540074.001701"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KM61BCP>  will look","ts":"1476540107.001702"},{"type":"message","user":"U13TWBRBL","text":"so 1607 was kicked off by Gari earlier, already went past the previous failure point (with the hash value in cc2cc).","ts":"1476540187.001703"},{"type":"message","user":"U13TWBRBL","text":"although I\u2019m not sure we\u2019ve weeded out all the build errors, yesterday locally I was seeing this after fixing all the other errors:","ts":"1476540261.001704"},{"type":"message","subtype":"file_share","text":"<@U13TWBRBL|jzhang> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/jzhang\/F2PR1HX0S\/-.txt|Untitled>","file":{"id":"F2PR1HX0S","created":1476540267,"timestamp":1476540267,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U13TWBRBL","editable":true,"size":8117,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2PR1HX0S\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2PR1HX0S\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/jzhang\/F2PR1HX0S\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2PR1HX0S-da1646884b","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/jzhang\/F2PR1HX0S\/-.txt\/edit","preview":"Running tests...\r\n?   \tgithub.com\/hyperledger\/fabric\/bddtests\/chaincode\/go\/table\t[no test files]\r\nok  \tgithub.com\/hyperledger\/fabric\/bddtests\/syschaincode\/noop\t0.021s\tcoverage: 71.0% of statements\r\n?   \tgithub.com\/hyperledger\/fabric\/consensus\t[no test files]\r\n?   \tgithub.com\/hyperledger\/fabric\/consensus\/controller\t[no test files]\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Running tests...<\/pre><\/div>\n<div><pre>?       github.com\/hyperledger\/fabric\/bddtests\/chaincode\/go\/table   [no test files]<\/pre><\/div>\n<div><pre>ok      github.com\/hyperledger\/fabric\/bddtests\/syschaincode\/noop    0.021s  coverage: 71.0% of statements<\/pre><\/div>\n<div><pre>?       github.com\/hyperledger\/fabric\/consensus [no test files]<\/pre><\/div>\n<div><pre>?       github.com\/hyperledger\/fabric\/consensus\/controller  [no test files]<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":100,"lines_more":95,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U13TWBRBL","upload":true,"display_as_bot":false,"username":"<@U13TWBRBL|jzhang>","bot_id":null,"ts":"1476540268.001705"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KM61BCP> that merge by gong su defeats the whole purpose of chaincode example 04","ts":"1476540302.001706"},{"type":"message","user":"U0ULK2JPP","text":"its essentially chaincode example05 now","ts":"1476540311.001707"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019d note that this type of failures in chaincode example 04 is few and far between and has ALWAYS been human error","ts":"1476540345.001708"},{"type":"message","user":"U13TWBRBL","text":"btw, latest build just failed in crypto package tests","ts":"1476540353.001709"},{"type":"message","user":"U13TWBRBL","text":"13:59:08 --- FAIL: TestParallelInitClose (0.00s)\n13:59:08 \tcrypto_test.go:172: Failed registerting userthread.","ts":"1476540605.001710"},{"type":"message","user":"U11MANG9G","text":"<@U0ULK2JPP> (good morning)","ts":"1476541574.001711"},{"type":"message","user":"U11MANG9G","text":"<@U13TWBRBL>: Yes, we still don\u2019t have a working base branch for v0.6","ts":"1476541656.001712"},{"type":"message","user":"U11MANG9G","text":"Onto which we can merge 1607. We need a working v0.6.","ts":"1476541680.001713"},{"type":"message","user":"U0ULK2JPP","text":"<@U11MANG9G> hey, gm","ts":"1476541735.001714"},{"type":"message","user":"U11MANG9G","text":"I think that the top priority (and thanks for your help since last night!) is to get a working v0.6","ts":"1476541766.001715"},{"type":"message","user":"U11MANG9G","text":"We can discuss `master` a bit later, if that\u2019s OK?","ts":"1476541781.001716"},{"type":"message","user":"U0ULK2JPP","text":"ok sure","ts":"1476541789.001717"},{"type":"message","user":"U11MANG9G","text":"I\u2019m really concerned.","ts":"1476541798.001718"},{"type":"message","user":"U0ULK2JPP","text":"about ?","ts":"1476541804.001719"},{"type":"message","user":"U11MANG9G","text":"The state of v0.6 over the last few days.","ts":"1476541813.001720"},{"type":"message","user":"U11MANG9G","text":"We should stabilize it.","ts":"1476541822.001721"},{"type":"message","user":"U11MANG9G","text":"(We wanted to take a cut of it, and tag for the v0.6 release)","ts":"1476541851.001722"},{"type":"message","user":"U0ULK2JPP","text":"understand\u2026 I have not checked. I\u2019d have assumed very little is going into 0.6 ?","ts":"1476541906.001723"},{"type":"message","user":"U0ULK2JPP","text":"ok. never mind :slightly_smiling_face:","ts":"1476541974.001724"},{"type":"message","user":"U11MANG9G","text":"Yes, relatively little, but the base is broken.","ts":"1476542097.001725"},{"type":"message","user":"U11MANG9G","text":"I\/we can\u2019t merge anything onto it.","ts":"1476542110.001726"},{"type":"message","user":"U0ULK2JPP","text":"forgive me if I\u2019m going treading know issues\/ground\u2026. but I see the with he latest 0.6 merge CI jobs have failed but the jobbuilder has +1 verified it","ts":"1476542323.001727"},{"type":"message","user":"U0ULK2JPP","text":"is that known\/ok ?","ts":"1476542330.001728"},{"type":"message","user":"U11MANG9G","text":"It\u2019s not OK, no. When we have failures, things should fail miserably\u2026.","ts":"1476543066.001729"},{"type":"message","user":"U11MANG9G","text":"[That\u2019s my take, at least]","ts":"1476543081.001730"},{"type":"message","user":"U11HH3P7Y","text":"<@U0ULK2JPP> can you give me the patch set number to verify.. This is what happens in CI,  CI sends +1 or -1 to unit-test, behave and nodesdk to gerrit after execution but we are forcibly skipping voting result of nodesdk and behave jobs as we are seeing inconsistent failures..","ts":"1476546381.001731"},{"type":"message","user":"U11MANG9G","text":"<@U11HH3P7Y>: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1607\/>","ts":"1476546572.001732"},{"type":"message","user":"U11MANG9G","text":"It states, for example, verified (right?)","ts":"1476546596.001733"},{"type":"message","user":"U11MANG9G","text":"But the underlying tests fail (miserably)","ts":"1476546615.001734"},{"type":"message","user":"U11HH3P7Y","text":"yes verified with -1 status","ts":"1476546643.001735"},{"type":"message","user":"U11HH3P7Y","text":"meaning unit-tests are failed..","ts":"1476546672.001736"},{"type":"message","user":"U11HH3P7Y","text":"+1 for success","ts":"1476546733.001737"},{"type":"message","user":"U11MANG9G","text":"I see. Verified = built + unit tests.","ts":"1476546828.001738"},{"type":"message","user":"U11MANG9G","text":"And the -1 is for the results of the entire test?","ts":"1476546853.001739"},{"type":"message","user":"U11HH3P7Y","text":"No Verified doesn't have any meaning there.. It just indicates the result of the job","ts":"1476546934.001740"},{"type":"message","user":"U11HH3P7Y","text":"similar to this ```Code-Review\t\n+2 Christopher Ferris Jonathan Levi```","ts":"1476546961.001741"},{"type":"message","user":"U11MANG9G","text":"Got you. Here\u2019s what I suggest.","ts":"1476548462.001742"},{"type":"message","user":"U11MANG9G","text":"What was the last successful build (by the CI) of the v0.6 branch?","ts":"1476548533.001743"},{"type":"message","user":"U11MANG9G","text":"By successful I mean \u201cthe full shebang\u201d. Build\/compile\/unit-tests\/bdd\/everything...","ts":"1476548560.001744"},{"type":"message","user":"U11MANG9G","text":"It is easy to confirm that the current\/latest v0.6 is broken, regardless of 1607.","ts":"1476548608.001745"},{"type":"message","user":"U11MANG9G","text":"I want to look backtrack what merges started breaking it. That might be the easier way to go about it.","ts":"1476548654.001746"},{"type":"message","user":"U11MANG9G","text":"(there weren\u2019t that many changes merged to v0.6 anyway, Murali is right)","ts":"1476548676.001747"},{"type":"message","user":"U0ULK2JPP","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1269\/> - last successful unit-tests run","ts":"1476548765.001748"},{"type":"message","user":"U0ULK2JPP","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1475\/> -  first unsuccessful merge","ts":"1476548792.001749"},{"type":"message","user":"U0ULK2JPP","text":"but 1475 was just docs so may be redherring","ts":"1476548895.001750"},{"type":"message","user":"U11MANG9G","text":"Yes, I see it.","ts":"1476548924.001751"},{"type":"message","user":"U11MANG9G","text":"And since 1475 (documentation changes) did it continuously fail?","ts":"1476548957.001752"},{"type":"message","user":"U11MANG9G","text":"That\u2019s Oct 4th.","ts":"1476548964.001753"},{"type":"message","user":"U0ULK2JPP","text":"ignore 1475 please","ts":"1476548989.001754"},{"type":"message","user":"U11MANG9G","text":"OK, ignored. So the last successful unit-test run was after the merge of 1269.","ts":"1476549021.001755"},{"type":"message","user":"U11MANG9G","text":"Is that correct?","ts":"1476549032.001756"},{"type":"message","user":"U0ULK2JPP","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1757> was successful","ts":"1476549044.001757"},{"type":"message","user":"U0ULK2JPP","text":"can you double check ?","ts":"1476549048.001758"},{"type":"message","user":"U11MANG9G","text":"Thanks. Looking.","ts":"1476549068.001759"},{"type":"message","user":"U11MANG9G","text":"Nope. That wasn\u2019t successful.","ts":"1476549129.001760"},{"type":"message","user":"U11MANG9G","text":"We skipped it, to save time.","ts":"1476549139.001761"},{"type":"message","user":"U11MANG9G","text":"So 1269 is the latest successful build, so far?","ts":"1476549157.001762"},{"type":"message","user":"U11MANG9G","text":"(ignoring 1757 which I have manually skipped)","ts":"1476549193.001763"},{"type":"message","user":"U11MANG9G","text":"That\u2019s the last time we saw a working branch v0.6?","ts":"1476549199.001764"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F2PRFRV8R\/pasted_image_at_2016_10_15_12_33_pm.png|Pasted image at 2016-10-15, 12:33 PM> and commented: thats 1757 \u2026 the \u201cSUCCESS\u201d is a successful unit test run","file":{"id":"F2PRFRV8R","created":1476549259,"timestamp":1476549259,"name":"Pasted image at 2016_10_15 12_33 PM.png","title":"Pasted image at 2016-10-15, 12:33 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":161650,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2PRFRV8R\/pasted_image_at_2016_10_15_12_33_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2PRFRV8R\/download\/pasted_image_at_2016_10_15_12_33_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PRFRV8R-ec4ee7bdf5\/pasted_image_at_2016_10_15_12_33_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PRFRV8R-ec4ee7bdf5\/pasted_image_at_2016_10_15_12_33_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PRFRV8R-ec4ee7bdf5\/pasted_image_at_2016_10_15_12_33_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":141,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PRFRV8R-ec4ee7bdf5\/pasted_image_at_2016_10_15_12_33_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":188,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PRFRV8R-ec4ee7bdf5\/pasted_image_at_2016_10_15_12_33_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PRFRV8R-ec4ee7bdf5\/pasted_image_at_2016_10_15_12_33_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":281,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PRFRV8R-ec4ee7bdf5\/pasted_image_at_2016_10_15_12_33_pm_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":375,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PRFRV8R-ec4ee7bdf5\/pasted_image_at_2016_10_15_12_33_pm_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":400,"image_exif_rotation":1,"original_w":1382,"original_h":540,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F2PRFRV8R\/pasted_image_at_2016_10_15_12_33_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2PRFRV8R-8eea7a8caa","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc2PRFS065","created":1476549259,"timestamp":1476549259,"user":"U0ULK2JPP","is_intro":true,"comment":"thats 1757 \u2026 the \u201cSUCCESS\u201d is a successful unit test run","channel":""}},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1476549261.001765"},{"type":"message","user":"U11MANG9G","text":"<@U11HH3P7Y>?","ts":"1476549292.001766"},{"type":"message","user":"U0ULK2JPP","text":"but the other ones are bad\u2026 not sure why they were skipped","ts":"1476549356.001767"},{"type":"message","user":"U11HH3P7Y","text":"<@U0ULK2JPP> <@U11MANG9G> Unit-tests are successful <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1767\/> ( this is verify job)","ts":"1476549401.001768"},{"type":"message","user":"U11HH3P7Y","text":"<@U11MANG9G> <@U0ULK2JPP> as I mentioned earlier we don't have merge jobs for v0.6 branch.. But I could see latest verify job passed","ts":"1476549469.001769"},{"type":"message","user":"U11MANG9G","text":"Yes, that\u2019s part of the problem (or at least, making it a bit more difficult\u2026 at first).","ts":"1476549515.001770"},{"type":"message","user":"U11MANG9G","text":"We can\/may have a bad merge that fails\u2026 but we can\u2019t see it, right?","ts":"1476549534.001771"},{"type":"message","user":"U11MANG9G","text":"I may have a patchset which builds\/tests successfully, but after a merge to the branch, the branch gets broken and we can\u2019t see it right?","ts":"1476549564.001772"},{"type":"message","user":"U11HH3P7Y","text":"yes","ts":"1476549573.001773"},{"type":"message","user":"U11MANG9G","text":"OK. I am reverifying both.","ts":"1476549586.001774"},{"type":"message","user":"U11HH3P7Y","text":"I just configured jenkins job for v0.6 branch in sandbox environment <https:\/\/jenkins.hyperledger.org\/sandbox\/job\/fabric-unit-tests\/1\/console>","ts":"1476549634.001775"},{"type":"message","user":"U11MANG9G","text":"Many thanks Ramesh!","ts":"1476549675.001776"},{"type":"message","user":"U11MANG9G","text":"Just to say, that I (we) can reproduce the failure of the v0.6 branch locally. But still, this is very helpful.","ts":"1476549698.001777"},{"type":"message","user":"U11MANG9G","text":"I\u2019m not going to sign off a release that just `worked on my machine` :wink:","ts":"1476549717.001778"},{"type":"message","user":"U11MANG9G","text":"We, I should say.","ts":"1476549734.001779"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F2PR1NF7W\/pasted_image_at_2016_10_15_12_42_pm.png|Pasted image at 2016-10-15, 12:42 PM> and commented: <@U11HH3P7Y> <@U11MANG9G> I must be missing something\u2026 none of the links above tell me that unit tests passed for 1757","file":{"id":"F2PR1NF7W","created":1476549798,"timestamp":1476549798,"name":"Pasted image at 2016_10_15 12_42 PM.png","title":"Pasted image at 2016-10-15, 12:42 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":156315,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2PR1NF7W\/pasted_image_at_2016_10_15_12_42_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2PR1NF7W\/download\/pasted_image_at_2016_10_15_12_42_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PR1NF7W-a1378b2bd6\/pasted_image_at_2016_10_15_12_42_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PR1NF7W-a1378b2bd6\/pasted_image_at_2016_10_15_12_42_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PR1NF7W-a1378b2bd6\/pasted_image_at_2016_10_15_12_42_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":192,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PR1NF7W-a1378b2bd6\/pasted_image_at_2016_10_15_12_42_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":256,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PR1NF7W-a1378b2bd6\/pasted_image_at_2016_10_15_12_42_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PR1NF7W-a1378b2bd6\/pasted_image_at_2016_10_15_12_42_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":384,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PR1NF7W-a1378b2bd6\/pasted_image_at_2016_10_15_12_42_pm_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":512,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PR1NF7W-a1378b2bd6\/pasted_image_at_2016_10_15_12_42_pm_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":546,"image_exif_rotation":1,"original_w":1222,"original_h":652,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F2PR1NF7W\/pasted_image_at_2016_10_15_12_42_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2PR1NF7W-30c5eeb543","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc2PRH5XFT","created":1476549798,"timestamp":1476549798,"user":"U0ULK2JPP","is_intro":true,"comment":"<@U11HH3P7Y> <@U11MANG9G> I must be missing something\u2026 none of the links above tell me that unit tests passed for 1757","channel":""}},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1476549800.001780"},{"type":"message","user":"U0ULK2JPP","text":"I mean 1767","ts":"1476549809.001781"},{"type":"message","user":"U11MANG9G","text":"Yes, same here.","ts":"1476549823.001782"},{"type":"message","user":"U11MANG9G","text":"I\u2019m reverifying <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1767\/>","ts":"1476549843.001783"},{"type":"message","user":"U11MANG9G","text":"(which is\/was the reverting of the hash code fix, right?)","ts":"1476549859.001784"},{"type":"message","user":"U11HH3P7Y","text":"<@U0ULK2JPP>  see this.. <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/1820\/>","ts":"1476549897.001785"},{"type":"message","user":"U11HH3P7Y","text":"but please note this is before merge result","ts":"1476549919.001786"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1476549937.001787"},{"type":"message","user":"U11HH3P7Y","text":"latest commit on v0.6 passed <https:\/\/jenkins.hyperledger.org\/sandbox\/job\/fabric-unit-tests\/1\/console>","ts":"1476551442.001788"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1476551513.001789"},{"type":"message","user":"U0ULK2JPP","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/1825\/console> shows test is still going on ?","ts":"1476551524.001790"},{"type":"message","user":"U0ULK2JPP","text":"by latest commit you mean <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1767\/> right <@U11HH3P7Y>  ?","ts":"1476551566.001791"},{"type":"message","user":"U11HH3P7Y","text":"yes <@U0ULK2JPP>","ts":"1476551629.001792"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1476551666.001793"},{"type":"message","user":"U11MANG9G","text":"So, we are running (reverify) 1767.","ts":"1476552941.001794"},{"type":"message","user":"U11MANG9G","text":"Other than that, the last patchset that has passed successfully for branch `v0.6` is <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1269>","ts":"1476553060.001798"},{"type":"message","user":"U11MANG9G","text":"We are talking `Sep 27, 8:17AM`, merged on `Oct 6, 11:52AM`","ts":"1476553085.001800"},{"type":"message","user":"U11MANG9G","text":"---","ts":"1476553096.001801"},{"type":"message","user":"U11MANG9G","text":"Let\u2019s see what the latest build\/reverify of v0.6 (patchset 1767) yields.","ts":"1476553126.001802"},{"type":"message","user":"U11MANG9G","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/1825\/console>","ts":"1476553146.001803"},{"type":"message","user":"U11MANG9G","text":"SUCCESS ?","ts":"1476553359.001804"},{"type":"message","user":"U11MANG9G","text":"---","ts":"1476553375.001805"},{"type":"message","user":"U11MANG9G","text":"What\u2019s going on?!","ts":"1476553380.001806"},{"type":"message","user":"U11MANG9G","text":"<@U13TWBRBL>, <@U221LL03Z>, <@U11HH3P7Y>, <@U0ULK2JPP>: we need to be able to isolate the issue.","ts":"1476553732.001807"},{"type":"message","user":"U11MANG9G","text":"Can somebody fetch and build a clean version of v0.6 (even locally)?","ts":"1476553775.001808"},{"type":"message","user":"U11MANG9G","text":"[Regardless of Jenkins]","ts":"1476553784.001809"},{"type":"message","user":"U11MANG9G","text":"And then, can somebody (else) pick up a clean version of the latest 1607 patch?","ts":"1476553804.001810"},{"type":"message","user":"U11HH3P7Y","text":"I just did and it failed","ts":"1476553814.001811"},{"type":"message","user":"U11MANG9G","text":"Same for me. Both fail locally on my machine.","ts":"1476553834.001812"},{"type":"message","user":"U11MANG9G","text":"I don\u2019t know how this code passes on the CI.","ts":"1476553841.001813"},{"type":"message","user":"U11HH3P7Y","text":"```17:34:54.715 [chaincode] processStream -&gt; ERRO 02c Error handling chaincode support stream: stream error: code = 1 desc = \"context canceled\"\n--- FAIL: TestChaincodeInvokeChaincode (141.61s)\n        exectransaction_test.go:797: TestChaincodeInvokeChaincode starting\n        db_test_exports.go:47: Creating testDB\n        exectransaction_test.go:851: deployed chaincode_example02 got cID1:path:\"<http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02>\" name:\"7991dbbf981f9127412cd9fa9698a0278fe3e59fd84ac25c479a52f6d277290a6c571abfe5e5c9f472fe9bbad32e40a1e4b0096399bd433d96e815a36a8dafe7\" ,\n                 chaincodeID1:7991dbbf981f9127412cd9fa9698a0278fe3e59fd84ac25c479a52f6d277290a6c571abfe5e5c9f472fe9bbad32e40a1e4b0096399bd433d96e815a36a8dafe7\n        exectransaction_test.go:888: Error invoking &lt;44d53a299f3f92fafcb0452877148f5d699247f20caa8756bf204d829338f73ee0a8168d8060a090330fd56cb770c3daa9dece75064532e2b2b2ca731e3f4ff6&gt;: Error invoking chaincode: Transaction or query returned with failure: [5c12b335-fb72-433d-b2fe-f592a4f660da]Chaincode handler FSM cannot handle message (ERROR) with payload size (269) while in state: ready\n17:34:57.707 [chaincode] NewChaincodeSupport -&gt; INFO 02d Chaincode support using peerAddress: 0.0.0.0:21212\ngetting deployment spec for chaincode spec: type:GOLANG chaincodeID:&lt;path:\"github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02\" &gt; ctorMsg:&lt;args:\"init\" args:\"a\" args:\"100\" args:\"b\" args:\"200\" &gt;\n```","ts":"1476553871.001814"},{"type":"message","user":"U11MANG9G","text":"Yup, same here. With:","ts":"1476553978.001815"},{"type":"message","subtype":"file_share","text":"<@U11MANG9G|jonathanlevi> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/jonathanlevi\/F2PRBAWKE\/-.pl|Untitled>","file":{"id":"F2PRBAWKE","created":1476553989,"timestamp":1476553989,"name":"-.pl","title":"Untitled","mimetype":"text\/plain","filetype":"perl","pretty_type":"Perl","user":"U11MANG9G","editable":true,"size":380,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2PRBAWKE\/-.pl?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2PRBAWKE\/download\/-.pl?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/jonathanlevi\/F2PRBAWKE\/-.pl","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2PRBAWKE-8f84c5316f","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/jonathanlevi\/F2PRBAWKE\/-.pl\/edit","preview":"vagrant@hyperledger-devenv:v0.0.11-0000118:\/hyperledger$ git log --oneline -6\r\nde2cade Reverting the change in 1759\r\n3a02a17 Merge \"Fixing HFC break caused by typedoc npm update\" into v0.6\r\n344304b Fixing a unit test error in cc2cc\r\nd1ec79a Fixing HFC break caused by typedoc npm update\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-meta\">vagrant<\/span><span class=\"cm-variable\">@hyperledger<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-meta\">devenv<\/span><span class=\"cm-operator\">:<\/span><span class=\"cm-meta\">v0<\/span><span class=\"cm-number\">.0<\/span><span class=\"cm-number\">.11<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-number\">0000118<\/span>:<span class=\"cm-operator\">\/<\/span><span class=\"cm-meta\">hyperledger<\/span>$ <span class=\"cm-meta\">git<\/span> <span class=\"cm-keyword\">log<\/span> <span class=\"cm-operator\">--<\/span><span class=\"cm-meta\">oneline<\/span> <span class=\"cm-operator\">-<\/span><span class=\"cm-number\">6<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-meta\">de2cade<\/span> <span class=\"cm-meta\">Reverting<\/span> <span class=\"cm-meta\">the<\/span> <span class=\"cm-meta\">change<\/span> <span class=\"cm-meta\">in<\/span> <span class=\"cm-number\">1759<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-number\">3<\/span><span class=\"cm-meta\">a02a17<\/span> <span class=\"cm-meta\">Merge<\/span> <span class=\"cm-string\">&quot;Fixing HFC break caused by typedoc npm update&quot;<\/span> <span class=\"cm-meta\">into<\/span> <span class=\"cm-meta\">v0<\/span><span class=\"cm-number\">.6<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-number\">344304<\/span><span class=\"cm-meta\">b<\/span> <span class=\"cm-meta\">Fixing<\/span> <span class=\"cm-meta\">a<\/span> <span class=\"cm-meta\">unit<\/span> <span class=\"cm-meta\">test<\/span> <span class=\"cm-meta\">error<\/span> <span class=\"cm-meta\">in<\/span> <span class=\"cm-meta\">cc2cc<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-meta\">d1ec79a<\/span> <span class=\"cm-meta\">Fixing<\/span> <span class=\"cm-meta\">HFC<\/span> <span class=\"cm-keyword\">break<\/span> <span class=\"cm-meta\">caused<\/span> <span class=\"cm-meta\">by<\/span> <span class=\"cm-meta\">typedoc<\/span> <span class=\"cm-meta\">npm<\/span> <span class=\"cm-meta\">update<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":7,"lines_more":2,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U11MANG9G","upload":true,"display_as_bot":false,"username":"<@U11MANG9G|jonathanlevi>","bot_id":null,"ts":"1476553989.001816"},{"type":"message","user":"U11MANG9G","text":"---","ts":"1476554004.001817"},{"type":"message","user":"U11MANG9G","text":"So, how can I help? :wink:","ts":"1476554010.001818"},{"type":"message","user":"U11MANG9G","text":"Let\u2019s do this then:","ts":"1476554054.001819"},{"type":"message","user":"U11MANG9G","text":"Fetch and try to build  <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1269>\nWe are talking `Sep 27, 8:17AM`, merged on `Oct 6, 11:52AM`","ts":"1476554065.001820"},{"type":"message","user":"U11MANG9G","text":"Locally on our machines. Maybe this failed too.","ts":"1476554082.001821"},{"type":"message","user":"U11HH3P7Y","text":"I see this in after executing `make unit-test` on commit # de2cade ```vagrant@hyperledger-devenv:v0.0.11-777bdac:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02$ ls\nchaincode_example02.go  chaincode_example02.log  chaincode_example02_test.go\n```","ts":"1476554402.001822"},{"type":"message","user":"U11HH3P7Y","text":"there is a log file in example02 directory..  could be because of this..","ts":"1476554440.001823"},{"type":"message","user":"U11HH3P7Y","text":"re-running again ..","ts":"1476554463.001824"},{"type":"message","user":"U11MANG9G","text":"OK","ts":"1476554467.001825"},{"type":"message","user":"U11MANG9G","text":"We need:\n\n1. To be able to reproduce any CI result locally.\n2. To know what commit level does really pass (at all times, regardless how many times we run it)\n3. After 2, to identify when the v0.6 branch start failing (what got merged).","edited":{"user":"U11MANG9G","ts":"1476555792.000000"},"ts":"1476554531.001826"},{"type":"message","user":"U11MANG9G","text":"Let\u2019s focus on 2 still. What was the latest build\/merge\/version of v0.6 that was successful. Sure, let\u2019s re-run.","edited":{"user":"U11MANG9G","ts":"1476554601.000000"},"ts":"1476554566.001827"},{"type":"message","user":"U0ULK2JPP","text":"<@U11HH3P7Y>  chaincode_example02.log  is wrong","ts":"1476554703.001829"},{"type":"message","user":"U0ULK2JPP","text":"what in the world is happening :slightly_smiling_face:","ts":"1476554750.001830"},{"type":"message","user":"U11HH3P7Y","text":"yes that's why chaincode is changing I guess.. but re-running again","ts":"1476554773.001831"},{"type":"message","user":"U0ULK2JPP","text":"is this in CI or local in your env","edited":{"user":"U0ULK2JPP","ts":"1476554834.000000"},"ts":"1476554815.001832"},{"type":"message","user":"U0ULK2JPP","text":"if the CI env has been instrumented to create a log file in chaincode_example02 folder, its going to fail again","ts":"1476554900.001834"},{"type":"message","user":"U11HH3P7Y","text":"See this Issue in JIRA <https:\/\/jira.hyperledger.org\/browse\/FAB-622>","ts":"1476555105.001835"},{"type":"message","user":"U0ULK2JPP","text":"guys","ts":"1476555636.001837"},{"type":"message","user":"U0ULK2JPP","text":"one sec please","ts":"1476555640.001838"},{"type":"message","user":"U11MANG9G","text":"OK","ts":"1476555642.001839"},{"type":"message","user":"U0ULK2JPP","text":"<@U11HH3P7Y> `is this in CI or local in your env`","ts":"1476555654.001840"},{"type":"message","user":"U11HH3P7Y","text":"in my vagrant environment","ts":"1476555682.001841"},{"type":"message","user":"U0ULK2JPP","text":"forgt that","ts":"1476555696.001842"},{"type":"message","user":"U0KM61BCP","text":"omg what's going on?","ts":"1476555721.001844"},{"type":"message","user":"U11HH3P7Y","text":"ok Just now tested in CI environment on commit# 344304b I am able to reproduce this issue","ts":"1476555733.001845"},{"type":"message","user":"U11HH3P7Y","text":"<https:\/\/jenkins.hyperledger.org\/sandbox\/job\/fabric-unit-tests\/2\/console>","ts":"1476555744.001846"},{"type":"message","user":"U0KM61BCP","text":"can someone look at commit logs?","ts":"1476555757.001847"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KM61BCP> will do","ts":"1476555781.001848"},{"type":"message","user":"U11MANG9G","text":"Yes, I did.","ts":"1476555802.001850"},{"type":"message","user":"U0KM61BCP","text":"nothing weird like merge master?","ts":"1476555818.001851"},{"type":"message","subtype":"file_share","text":"<@U11MANG9G|jonathanlevi> shared a file: <https:\/\/hyperledgerproject.slack.com\/files\/jonathanlevi\/F2PRBAWKE\/-.pl|Untitled>","file":{"id":"F2PRBAWKE","created":1476553989,"timestamp":1476553989,"name":"-.pl","title":"Untitled","mimetype":"text\/plain","filetype":"perl","pretty_type":"Perl","user":"U11MANG9G","editable":true,"size":380,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2PRBAWKE\/-.pl?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2PRBAWKE\/download\/-.pl?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/jonathanlevi\/F2PRBAWKE\/-.pl","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2PRBAWKE-8f84c5316f","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/jonathanlevi\/F2PRBAWKE\/-.pl\/edit","preview":"vagrant@hyperledger-devenv:v0.0.11-0000118:\/hyperledger$ git log --oneline -6\r\nde2cade Reverting the change in 1759\r\n3a02a17 Merge \"Fixing HFC break caused by typedoc npm update\" into v0.6\r\n344304b Fixing a unit test error in cc2cc\r\nd1ec79a Fixing HFC break caused by typedoc npm update\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-meta\">vagrant<\/span><span class=\"cm-variable\">@hyperledger<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-meta\">devenv<\/span><span class=\"cm-operator\">:<\/span><span class=\"cm-meta\">v0<\/span><span class=\"cm-number\">.0<\/span><span class=\"cm-number\">.11<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-number\">0000118<\/span>:<span class=\"cm-operator\">\/<\/span><span class=\"cm-meta\">hyperledger<\/span>$ <span class=\"cm-meta\">git<\/span> <span class=\"cm-keyword\">log<\/span> <span class=\"cm-operator\">--<\/span><span class=\"cm-meta\">oneline<\/span> <span class=\"cm-operator\">-<\/span><span class=\"cm-number\">6<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-meta\">de2cade<\/span> <span class=\"cm-meta\">Reverting<\/span> <span class=\"cm-meta\">the<\/span> <span class=\"cm-meta\">change<\/span> <span class=\"cm-meta\">in<\/span> <span class=\"cm-number\">1759<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-number\">3<\/span><span class=\"cm-meta\">a02a17<\/span> <span class=\"cm-meta\">Merge<\/span> <span class=\"cm-string\">&quot;Fixing HFC break caused by typedoc npm update&quot;<\/span> <span class=\"cm-meta\">into<\/span> <span class=\"cm-meta\">v0<\/span><span class=\"cm-number\">.6<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-number\">344304<\/span><span class=\"cm-meta\">b<\/span> <span class=\"cm-meta\">Fixing<\/span> <span class=\"cm-meta\">a<\/span> <span class=\"cm-meta\">unit<\/span> <span class=\"cm-meta\">test<\/span> <span class=\"cm-meta\">error<\/span> <span class=\"cm-meta\">in<\/span> <span class=\"cm-meta\">cc2cc<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-meta\">d1ec79a<\/span> <span class=\"cm-meta\">Fixing<\/span> <span class=\"cm-meta\">HFC<\/span> <span class=\"cm-keyword\">break<\/span> <span class=\"cm-meta\">caused<\/span> <span class=\"cm-meta\">by<\/span> <span class=\"cm-meta\">typedoc<\/span> <span class=\"cm-meta\">npm<\/span> <span class=\"cm-meta\">update<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":7,"lines_more":2,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U11MANG9G","upload":false,"display_as_bot":false,"username":"<@U11MANG9G|jonathanlevi>","bot_id":null,"ts":"1476555836.001852"},{"type":"message","user":"U0KM61BCP","text":"on my phone because t-rex does it look ok?","ts":"1476555914.001853"},{"type":"message","subtype":"file_share","text":"<@U11MANG9G|jonathanlevi> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/jonathanlevi\/F2PRL74LW\/-.txt|Untitled>","file":{"id":"F2PRL74LW","created":1476555958,"timestamp":1476555958,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U11MANG9G","editable":true,"size":1460,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2PRL74LW\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2PRL74LW\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/jonathanlevi\/F2PRL74LW\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2PRL74LW-963b647894","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/jonathanlevi\/F2PRL74LW\/-.txt\/edit","preview":"de2cade Reverting the change in 1759\r\n3a02a17 Merge \"Fixing HFC break caused by typedoc npm update\" into v0.6\r\n344304b Fixing a unit test error in cc2cc\r\nd1ec79a Fixing HFC break caused by typedoc npm update\r\ne91a429 Merge \"chaincode-setup.md fixes\" into v0.6\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>de2cade Reverting the change in 1759<\/pre><\/div>\n<div><pre>3a02a17 Merge &quot;Fixing HFC break caused by typedoc npm update&quot; into v0.6<\/pre><\/div>\n<div><pre>344304b Fixing a unit test error in cc2cc<\/pre><\/div>\n<div><pre>d1ec79a Fixing HFC break caused by typedoc npm update<\/pre><\/div>\n<div><pre>e91a429 Merge &quot;chaincode-setup.md fixes&quot; into v0.6<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":30,"lines_more":25,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U11MANG9G","upload":true,"display_as_bot":false,"username":"<@U11MANG9G|jonathanlevi>","bot_id":null,"ts":"1476555959.001854"},{"type":"message","user":"U11MANG9G","text":"<@U0KM61BCP> ^^^","ts":"1476555967.001855"},{"type":"message","user":"U11MANG9G","text":"That\u2019s the commit history of v0.6","ts":"1476555981.001856"},{"type":"message","user":"U0ULK2JPP","text":"<@U11MANG9G> <@U11HH3P7Y> reverify of <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1767\/> passed and we don\u2019t see cc-2-cc errors there","ts":"1476556088.001857"},{"type":"message","user":"U11MANG9G","text":"Yup","ts":"1476556104.001858"},{"type":"message","user":"U11MANG9G","text":"That\u2019s the issue: they all fail locally. Succeed on the CI.","ts":"1476556119.001859"},{"type":"message","user":"U11MANG9G","text":"That\u2019s why I was re-running them...","ts":"1476556129.001860"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1476556145.001861"},{"type":"message","user":"U0ULK2JPP","text":"in your local env","ts":"1476556158.001862"},{"type":"message","user":"U0ULK2JPP","text":"can you do an `ls -altr` in the chaincode_example02 folder","ts":"1476556178.001863"},{"type":"message","user":"U0ULK2JPP","text":"assuming if its still failing for you","edited":{"user":"U0ULK2JPP","ts":"1476556206.000000"},"ts":"1476556187.001864"},{"type":"message","user":"U11HH3P7Y","text":"<@U0ULK2JPP> : unit-tests failed in CI on commit# 344304b (Fixing a unit test error in cc2cc) with the same error","ts":"1476557044.001866"},{"type":"message","user":"U11HH3P7Y","text":"but on Commit# de2cade (latest commit on v0.6) I could see unit-tests are working as expected..","ts":"1476557146.001867"},{"type":"message","user":"U0ULK2JPP","text":"<@U11HH3P7Y> what could happen is this","ts":"1476557164.001868"},{"type":"message","user":"U0ULK2JPP","text":"developer see unit test failing on local","ts":"1476557175.001869"},{"type":"message","user":"U11HH3P7Y","text":"Executing unit-tests on commit# de2cade in my vagrant environment","ts":"1476557191.001870"},{"type":"message","user":"U0ULK2JPP","text":"and modify chaincode_example04 to fix it","ts":"1476557191.001871"},{"type":"message","user":"U13TWBRBL","text":"<@U0ULK2JPP> \n\nvagrant@hyperledger-devenv:v0.0.11-0659bfe:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02$ ls -altr\ntotal 52\ndrwxr-xr-x 1 vagrant vagrant   578 Oct  3 20:11 ..\n-rw-r--r-- 1 vagrant vagrant 37795 Oct 10 22:59 chaincode_example02.log\n-rw-r--r-- 1 vagrant vagrant  2852 Oct 14 17:01 chaincode_example02_test.go\n-rw-r--r-- 1 vagrant vagrant  5017 Oct 14 17:01 chaincode_example02.go\ndrwxr-xr-x 1 vagrant vagrant   170 Oct 14 17:01 .","ts":"1476557244.001872"},{"type":"message","user":"U0ULK2JPP","text":"right","ts":"1476557255.001873"},{"type":"message","user":"U0ULK2JPP","text":"like that","ts":"1476557256.001874"},{"type":"message","user":"U0ULK2JPP","text":"I wonder what\u2019s causing the log file to show up there","ts":"1476557279.001875"},{"type":"message","user":"U13TWBRBL","text":"using the latest v0.6 content, cc2cc test failed locally, which is the reason 1759 was made (thinking it was a hash value problem)","ts":"1476557284.001876"},{"type":"message","user":"U0ULK2JPP","text":"running the make test in 0.6 to see why this is happening","ts":"1476557299.001877"},{"type":"message","user":"U13TWBRBL","text":"which of course had to be reverted with 1767 because on the CI machine the hash value was different","ts":"1476557304.001878"},{"type":"message","user":"U0ULK2JPP","text":"right","ts":"1476557316.001879"},{"type":"message","user":"U11MANG9G","text":"right","ts":"1476557322.001880"},{"type":"message","user":"U0ULK2JPP","text":"I can\u2019t help thinking this log file is something new","ts":"1476557332.001881"},{"type":"message","user":"U11MANG9G","text":"<@U13TWBRBL>  Different error","edited":{"user":"U11MANG9G","ts":"1476557350.000000"},"ts":"1476557333.001882"},{"type":"message","user":"U0ULK2JPP","text":"note","ts":"1476557353.001884"},{"type":"message","user":"U0ULK2JPP","text":"the the time on the log file above","ts":"1476557358.001885"},{"type":"message","user":"U11MANG9G","text":"Yup, it is created as part of the build. I see it too.","ts":"1476557380.001886"},{"type":"message","user":"U13TWBRBL","text":"maybe the timestamp in the log file content?","ts":"1476557411.001887"},{"type":"message","user":"U11MANG9G","text":"-rw-r--r-- 1 vagrant vagrant     2852 Oct 14 `17:54` chaincode_example02_test.go\n-rw-r--r-- 1 vagrant vagrant     7359 Oct 14 `17:54` chaincode_example02.log\n-rwxr-xr-x 1 vagrant vagrant 14167448 Oct 14 `17:54` chaincode_example02\ndrwxr-xr-x 1 vagrant vagrant      578 Oct 14 `17:54` ..\n-rw-r--r-- 1 vagrant vagrant     5017 Oct 15 14:21 chaincode_example02.go\ndrwxr-xr-x 1 vagrant vagrant      204 Oct 15 14:21 .","edited":{"user":"U11MANG9G","ts":"1476557459.000000"},"ts":"1476557414.001888"},{"user":"U1C3LNJ58","text":"<@U1C3LNJ58|eabailey> has joined the channel","type":"message","subtype":"channel_join","ts":"1476557435.001889"},{"type":"message","user":"U13TWBRBL","text":"if the hash was calculated based on the entire folder, then it\u2019ll be different every time","ts":"1476557460.001891"},{"type":"message","user":"U0ULK2JPP","text":"here\u2019s likely the problem","ts":"1476557503.001892"},{"type":"message","user":"U0ULK2JPP","text":"docs\/nodeSDK\/sample-standalone-app.md:   cd \/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02\ndocs\/nodeSDK\/sample-standalone-app.md:   CORE_CHAINCODE_ID_NAME=mycc CORE_PEER_ADDRESS=0.0.0.0:7051 .\/chaincode_example02 &gt; log 2&gt;&amp;1&amp;","ts":"1476557504.001893"},{"type":"message","user":"U0ULK2JPP","text":"well sorry.. scratch that","ts":"1476557530.001894"},{"type":"message","user":"U0ULK2JPP","text":"<@U13TWBRBL> we have been running this test for many months now","ts":"1476557558.001895"},{"type":"message","user":"U0ULK2JPP","text":"as part of unit test","ts":"1476557564.001896"},{"type":"message","user":"U11MANG9G","text":"Yup","ts":"1476557565.001897"},{"type":"message","user":"U13TWBRBL","text":"but i think the problem at hand right now is the crypto package\u2019s go test failure","ts":"1476557577.001898"},{"type":"message","user":"U0ULK2JPP","text":"so if a log file is created its got to be something recent","ts":"1476557579.001899"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1476557584.001900"},{"type":"message","user":"U11MANG9G","text":"I think we should focus on what I suggested earlier. Trying to find out WHEN it started failing.","ts":"1476557594.001901"},{"type":"message","user":"U0ULK2JPP","text":"I think there are many problems","ts":"1476557597.001902"},{"type":"message","user":"U11MANG9G","text":"There were 3 problems. 2 got fixed (overnight) with Jim\u2019s pushes\/our merges+ revert.","ts":"1476557622.001903"},{"type":"message","user":"U11MANG9G","text":"Now we end up with the latest one, I believe?","ts":"1476557634.001904"},{"type":"message","user":"U0ULK2JPP","text":"the one that\u2019s left is the crypto package failure ?","ts":"1476557646.001905"},{"type":"message","user":"U11MANG9G","text":"(with `02` issue)","ts":"1476557649.001906"},{"type":"message","user":"U11MANG9G","text":"The problem that <@U11HH3P7Y> posted here (that I can reproduce locally too)","ts":"1476557672.001907"},{"type":"message","user":"U11MANG9G","text":"So did Gari earlier this morning, btw.","ts":"1476557678.001908"},{"type":"message","user":"U0ULK2JPP","text":":slightly_smiling_face:","ts":"1476557686.001909"},{"type":"message","user":"U11MANG9G","text":"We can all reproduce locally on our machines\u2026.","ts":"1476557699.001910"},{"type":"message","user":"U11MANG9G","text":"\u2026 while the CI run is successful.","ts":"1476557711.001911"},{"type":"message","user":"U11MANG9G","text":"But it is recent.","ts":"1476557717.001912"},{"type":"message","user":"U11MANG9G","text":"It must be.","ts":"1476557722.001913"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019ll debug the \u201cwhy cc-2-cc\u201d is failing locally","ts":"1476557769.001914"},{"type":"message","user":"U11MANG9G","text":"1. Thank you.","ts":"1476557775.001915"},{"type":"message","user":"U0ULK2JPP","text":"what other problems are there","ts":"1476557779.001916"},{"type":"message","user":"U11HH3P7Y","text":"CI run is successful on recent commit but it failed with the same error on one commit  (commit #344304b) one commit before latest","ts":"1476557783.001917"},{"type":"message","user":"U11MANG9G","text":"2. And I\u2019m trying earlier commits.","ts":"1476557794.001918"},{"type":"message","user":"U11HH3P7Y","text":"running latest commitn in my vagrant environment removing log file from 02 directory.","ts":"1476557811.001919"},{"type":"message","user":"U11MANG9G","text":"So <@U0ULK2JPP>, while you are working on the latest\u2026 I\u2019ll try to find a working build that passes locally for me.","ts":"1476557822.001920"},{"type":"message","user":"U0ULK2JPP","text":"I bet the problem has to do with this","ts":"1476557850.001921"},{"type":"message","user":"U11MANG9G","text":"<@U11HH3P7Y>: fine. Even though I did run a SUPER clean build, and it failed. Even from vagrant destroy.","ts":"1476557854.001922"},{"type":"message","user":"U13TWBRBL","text":"i\u2019m also running a clean vagrant freshly built off of v0.6 yesterday","ts":"1476557985.001927"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F2PRQMH38\/pasted_image_at_2016_10_15_03_00_pm.png|Pasted image at 2016-10-15, 3:00 PM>","file":{"id":"F2PRQMH38","created":1476558010,"timestamp":1476558010,"name":"Pasted image at 2016_10_15 03_00 PM.png","title":"Pasted image at 2016-10-15, 3:00 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":392299,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2PRQMH38\/pasted_image_at_2016_10_15_03_00_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2PRQMH38\/download\/pasted_image_at_2016_10_15_03_00_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PRQMH38-d58c0d131c\/pasted_image_at_2016_10_15_03_00_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PRQMH38-d58c0d131c\/pasted_image_at_2016_10_15_03_00_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PRQMH38-d58c0d131c\/pasted_image_at_2016_10_15_03_00_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":187,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PRQMH38-d58c0d131c\/pasted_image_at_2016_10_15_03_00_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":249,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PRQMH38-d58c0d131c\/pasted_image_at_2016_10_15_03_00_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PRQMH38-d58c0d131c\/pasted_image_at_2016_10_15_03_00_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":374,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PRQMH38-d58c0d131c\/pasted_image_at_2016_10_15_03_00_pm_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":499,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PRQMH38-d58c0d131c\/pasted_image_at_2016_10_15_03_00_pm_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":532,"image_exif_rotation":1,"original_w":1974,"original_h":1026,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F2PRQMH38\/pasted_image_at_2016_10_15_03_00_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2PRQMH38-89c87b1eb3","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1476558013.001928"},{"type":"message","user":"U0ULK2JPP","text":"that\u2019s just a make from 0.6","ts":"1476558027.001929","reactions":[{"name":"woo","users":["U11HH3P7Y"],"count":1}]},{"type":"message","user":"U0ULK2JPP","text":"well not quite :slightly_smiling_face:","ts":"1476558062.001930"},{"type":"message","user":"U0ULK2JPP","text":"why is it working for me ?","ts":"1476558070.001931"},{"type":"message","user":"U0ULK2JPP","text":"it shouldn\u2019t as its failing for you","ts":"1476558080.001932"},{"type":"message","user":"U0ULK2JPP","text":"let me make sure I refresh everything","ts":"1476558090.001933"},{"type":"message","user":"U13TWBRBL","text":"what\u2019s your output \u201cls -altr\u201d?","ts":"1476558093.001934"},{"type":"message","user":"U0ULK2JPP","text":"in 02 folder you mean ?","ts":"1476558144.001935"},{"type":"message","user":"U0ULK2JPP","text":"i expect it to be clean because it worked","ts":"1476558152.001936"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F2PS20ASV\/pasted_image_at_2016_10_15_03_02_pm.png|Pasted image at 2016-10-15, 3:02 PM>","file":{"id":"F2PS20ASV","created":1476558179,"timestamp":1476558179,"name":"Pasted image at 2016_10_15 03_02 PM.png","title":"Pasted image at 2016-10-15, 3:02 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":76773,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2PS20ASV\/pasted_image_at_2016_10_15_03_02_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2PS20ASV\/download\/pasted_image_at_2016_10_15_03_02_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PS20ASV-384ed8edf3\/pasted_image_at_2016_10_15_03_02_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PS20ASV-384ed8edf3\/pasted_image_at_2016_10_15_03_02_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PS20ASV-384ed8edf3\/pasted_image_at_2016_10_15_03_02_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":37,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PS20ASV-384ed8edf3\/pasted_image_at_2016_10_15_03_02_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":49,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PS20ASV-384ed8edf3\/pasted_image_at_2016_10_15_03_02_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PS20ASV-384ed8edf3\/pasted_image_at_2016_10_15_03_02_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":74,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PS20ASV-384ed8edf3\/pasted_image_at_2016_10_15_03_02_pm_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":99,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PS20ASV-384ed8edf3\/pasted_image_at_2016_10_15_03_02_pm_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":105,"image_exif_rotation":1,"original_w":2064,"original_h":212,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F2PS20ASV\/pasted_image_at_2016_10_15_03_02_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2PS20ASV-3c560ef800","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1476558182.001937"},{"type":"message","user":"U11MANG9G","text":"Gents, just another data point...","ts":"1476558296.001938"},{"type":"message","user":"U11MANG9G","text":"I am going back in time and trying earlier builds? Jumped back to","ts":"1476558314.001939"},{"type":"message","user":"U11MANG9G","text":"commit 131b36c9fce40447735fa497e5bdfa8fa3eb3536\nMerge: 42ca84b 79589a5\nAuthor: Srinivasan Muralidharan &lt;muralisr@us.ibm.com&gt;\nDate:   Fri Sep 30 11:32:32 2016 +0000\n\n    Merge \"    Java shim build update in DEV mode\"","ts":"1476558317.001940"},{"type":"message","user":"U0ULK2JPP","text":"this is on 0.6 ?","ts":"1476558330.001941"},{"type":"message","user":"U11MANG9G","text":"And it still fails on my machine.","ts":"1476558330.001942"},{"type":"message","user":"U11MANG9G","text":"This is on 0.6","ts":"1476558334.001943"},{"type":"message","user":"U0ULK2JPP","text":"did you remove *.log and chaincode_example02 exe from the 02 folder ?","ts":"1476558365.001944"},{"type":"message","user":"U11MANG9G","text":"Nope, I\u2019m just getting a clean set of code, in a new branch.","ts":"1476558397.001945"},{"type":"message","user":"U11MANG9G","text":"And running a clean build at a commit-level","ts":"1476558405.001946"},{"type":"message","user":"U0ULK2JPP","text":"lets do a hangout","ts":"1476558420.001947"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019ll watch ..so we can debug together","ts":"1476558431.001948"},{"type":"message","user":"U11MANG9G","text":"OK, but I\u2019m warning you. I am using very weird colors in my terminals...","ts":"1476558455.001949"},{"type":"message","user":"U0ULK2JPP","text":":slightly_smiling_face:","ts":"1476558463.001950"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019ll close my eyes","ts":"1476558476.001951"},{"type":"message","subtype":"file_share","text":"<@U11MANG9G|jonathanlevi> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/jonathanlevi\/F2PRRML78\/screen_shot_2016-10-15_at_12.07.39_pm.png|Screen Shot 2016-10-15 at 12.07.39 PM.png>","file":{"id":"F2PRRML78","created":1476558481,"timestamp":1476558481,"name":"Screen Shot 2016-10-15 at 12.07.39 PM.png","title":"Screen Shot 2016-10-15 at 12.07.39 PM.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U11MANG9G","editable":false,"size":63359,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2PRRML78\/screen_shot_2016-10-15_at_12.07.39_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2PRRML78\/download\/screen_shot_2016-10-15_at_12.07.39_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PRRML78-7c0edcfc96\/screen_shot_2016-10-15_at_12.07.39_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PRRML78-7c0edcfc96\/screen_shot_2016-10-15_at_12.07.39_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PRRML78-7c0edcfc96\/screen_shot_2016-10-15_at_12.07.39_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":76,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PRRML78-7c0edcfc96\/screen_shot_2016-10-15_at_12.07.39_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":101,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PRRML78-7c0edcfc96\/screen_shot_2016-10-15_at_12.07.39_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PRRML78-7c0edcfc96\/screen_shot_2016-10-15_at_12.07.39_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":152,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PRRML78-7c0edcfc96\/screen_shot_2016-10-15_at_12.07.39_pm_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":203,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PRRML78-7c0edcfc96\/screen_shot_2016-10-15_at_12.07.39_pm_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":216,"image_exif_rotation":1,"original_w":1230,"original_h":260,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/jonathanlevi\/F2PRRML78\/screen_shot_2016-10-15_at_12.07.39_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2PRRML78-ce0026b85b","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U11MANG9G","upload":true,"display_as_bot":false,"username":"<@U11MANG9G|jonathanlevi>","bot_id":null,"ts":"1476558486.001952"},{"type":"message","user":"U11MANG9G","text":"LOL. Sure. I\u2019m on <mailto:jonathan@levi.name|jonathan@levi.name>","ts":"1476558490.001953"},{"type":"message","user":"U11MANG9G","text":"<https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=fabric.git;a=tree;f=examples\/chaincode\/go\/chaincode_example02;h=799acf7e1092b508b6299e9ead9776005d5e8211;hb=925f4d9bf7c0aa98dbdaffe3a7c9ea7fa6831e47>","ts":"1476559094.001954"},{"type":"message","user":"U0KM61BCP","text":"how are things going","ts":"1476559318.001955"},{"type":"message","user":"U11MANG9G","text":"We can go back in time and reproduce the failures even from","ts":"1476559599.001956"},{"type":"message","user":"U11MANG9G","text":"commit 131b36c9fce40447735fa497e5bdfa8fa3eb3536\nMerge: 42ca84b 79589a5\nAuthor: Srinivasan Muralidharan &lt;muralisr@us.ibm.com&gt;\nDate:   Fri Sep 30 11:32:32 2016","ts":"1476559600.001957"},{"type":"message","user":"U0ULK2JPP","text":"the core\/crypto failed at some level\u2026 <@U11MANG9G> and I are trying to see where the failure started. The cc-2-cc local failures likley a red-herring","ts":"1476559714.001958"},{"type":"message","user":"U11MANG9G","text":"That is, even if we ignore the chaincode 02 failure (by removing the log files) we have some other errors.","ts":"1476559775.001959"},{"type":"message","user":"U11MANG9G","text":"Gari and I are each running a clean, super clean build\/test run locally now.","ts":"1476561279.001960"},{"type":"message","user":"U11MANG9G","text":"Murali is doing so too.","ts":"1476561286.001961"},{"type":"message","user":"U0KM61BCP","text":"guys, go back to v0.6 I bet broken... I suspect we pulled new dependency","ts":"1476561297.001962"},{"type":"message","user":"U11MANG9G","text":"Ramesh had some timeout issue, and he extended and is re-running.","ts":"1476561316.001963"},{"type":"message","user":"U11MANG9G","text":"<@U0KM61BCP>, what do you suggest?","ts":"1476561331.001964"},{"type":"message","user":"U0KM61BCP","text":"try building orig 0.6","ts":"1476561358.001965"},{"type":"message","user":"U11MANG9G","text":"Orig, being?","ts":"1476561370.001966"},{"type":"message","user":"U0KM61BCP","text":"when we cut the branch","ts":"1476561386.001967"},{"type":"message","user":"U0KM61BCP","text":"see if same... if broken it is something we are pulling in that isn't pinned","ts":"1476561415.001968"},{"type":"message","user":"U11MANG9G","text":"d9fb219 Re-cut v0.6.0\ne5a81bb Create release v0.6.0","ts":"1476561437.001969"},{"type":"message","user":"U0KM61BCP","text":"sounds right","ts":"1476561457.001970"},{"type":"message","user":"U11MANG9G","text":"OK, let\u2019s do that.","ts":"1476561591.001971"},{"type":"message","user":"U11MANG9G","text":"commit d9fb2195ceb198efe8714a480c6b1afd08694406\nAuthor: Gregory Haskins &lt;gregory.haskins@gmail.com&gt;\nDate:   Thu Sep 15 15:50:04 2016 -0400\n    Re-cut v0.6.0","ts":"1476561596.001972"},{"type":"message","user":"U11MANG9G","text":"(thank you <@U11HH3P7Y>)","ts":"1476561788.001973"},{"type":"message","subtype":"file_share","text":"<@U11HH3P7Y|ramesh> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ramesh\/F2PRU062G\/-.sh|Untitled> and commented: FYI: unit-tests are passed on latest v0.6 commit inside vagrant and CI","file":{"id":"F2PRU062G","created":1476561872,"timestamp":1476561872,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U11HH3P7Y","editable":true,"size":8523,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2PRU062G\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2PRU062G\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ramesh\/F2PRU062G\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2PRU062G-59bc6bad41","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ramesh\/F2PRU062G\/-.sh\/edit","preview":"Running unit tests using hyperledger\/fabric-peer:x86_64-0.6.1-preview-snapshot-de2cade\r\nCleaning membership services folder\r\nObtaining list of tests to run..DONE!\r\nStarting peer..DONE!\r\nRunning tests...\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Running unit tests using hyperledger\/fabric-peer:x86_64-0.6.1-preview-snapshot-de2cade<\/pre><\/div>\n<div><pre>Cleaning membership services folder<\/pre><\/div>\n<div><pre>Obtaining list of tests to run..DONE!<\/pre><\/div>\n<div><pre>Starting peer..DONE!<\/pre><\/div>\n<div><pre>Running tests...<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":96,"lines_more":91,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc2PS8UECX","created":1476561872,"timestamp":1476561872,"user":"U11HH3P7Y","is_intro":true,"comment":"FYI: unit-tests are passed on latest v0.6 commit inside vagrant and CI","channel":""}},"user":"U11HH3P7Y","upload":true,"display_as_bot":false,"username":"<@U11HH3P7Y|ramesh>","bot_id":null,"ts":"1476561873.001974"},{"type":"message","user":"U11MANG9G","text":"Same for me.","ts":"1476561987.001975"},{"type":"message","user":"U11MANG9G","text":"Just now, from a full, clean build (again)","edited":{"user":"U11MANG9G","ts":"1476562263.000000"},"ts":"1476561996.001976","reactions":[{"name":"+1","users":["U11HH3P7Y"],"count":1}]},{"type":"message","user":"U0ULK2JPP","text":"yep , I can vouch for it <@U11MANG9G>  \u2026  :slightly_smiling_face: so what are the next steps ?","ts":"1476562100.001977"},{"type":"message","user":"U11MANG9G","text":"Let\u2019s build 1607...","ts":"1476562277.001979"},{"type":"message","user":"U11MANG9G","text":"See my latest reverify:","ts":"1476562327.001980"},{"type":"message","user":"U11MANG9G","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1607\/>","ts":"1476562329.001981"},{"type":"message","user":"U11MANG9G","text":"It suddenly passes too.","ts":"1476562343.001982"},{"type":"message","user":"U11MANG9G","text":"Shall we merge it then?","ts":"1476562400.001983"},{"type":"message","user":"U11MANG9G","text":"See the 3 previous reverify attempts (of patchset 17 and 18)?","ts":"1476562417.001984"},{"type":"message","user":"U11MANG9G","text":"3 fails + 1 pass. The recent one.","ts":"1476562442.001985"},{"type":"message","user":"U11MANG9G","text":"What has changed. It\u2019s definitely not the case. I did rebase.","ts":"1476562464.001986"},{"type":"message","user":"U0ULK2JPP","text":"some of the past failures are likely due to the cc-2-cc confusion","ts":"1476562487.001987"},{"type":"message","user":"U0ULK2JPP","text":"from the past history of checkins to 0.6, I don\u2019t see too much risk \u2026 the biggest changes have been to the nodejs SDK","ts":"1476562551.001988"},{"type":"message","user":"U0ULK2JPP","text":"so I\u2019d say +1 to merge but leave it to you all","ts":"1476562576.001989"},{"type":"message","user":"U11MANG9G","text":"Let\u2019s do it.","ts":"1476562635.001990"},{"type":"message","user":"U11HH3P7Y","text":"CI build is in-progress <https:\/\/jenkins.hyperledger.org\/sandbox\/view\/Environment%20tests\/job\/fabric-unit-tests\/5\/console>","ts":"1476563462.001991"},{"type":"message","user":"U0KM61BCP","text":"so what's up? did some dependency go bad and then good?","ts":"1476564715.001992"},{"type":"message","user":"U11MANG9G","text":"To be honest, I\u2019m not clear.","ts":"1476564764.001993"},{"type":"message","user":"U11MANG9G","text":"It is very strange to have 1607 suddenly passing.","ts":"1476564778.001994"},{"type":"message","user":"U0KM61BCP","text":"builds are good? ","ts":"1476564788.001995"},{"type":"message","user":"U11MANG9G","text":"Gari tried 3+ times using the CI and it failed. My last run succeeded.","ts":"1476564804.001996"},{"type":"message","user":"U0KM61BCP","text":"we need to do a post mortem... this is weird","ts":"1476564812.001997"},{"type":"message","user":"U11MANG9G","text":"BUT, a few of us also tried a full clean build on our machines and it started passing just two hours ago.","ts":"1476564830.001998"},{"type":"message","user":"U11MANG9G","text":"`cbf [1:53 PM]  we need to do a post mortem... this is weird`","ts":"1476564840.001999"},{"type":"message","user":"U11MANG9G","text":"Yes, you can say that one again :wink:. We really ought to.","ts":"1476564853.002000"},{"type":"message","user":"U11MANG9G","text":"Our work plan it to run the 1655 against the latest v0.6 (I have rebased, and it\u2019s running)","ts":"1476564915.002001"},{"type":"message","user":"U11MANG9G","text":"And even if everything is OK, we would still run\/test locally.","ts":"1476564928.002002"},{"type":"message","user":"U11MANG9G","text":"For context `1655` is where the JavaScript\/integration tests are checked-in for testing the TLS feature in `1607`, all in `v0.6`.","ts":"1476564975.002003"},{"type":"message","user":"U0KM61BCP","text":"thx","ts":"1476565076.002004"},{"type":"message","user":"U11MANG9G","text":"We are like 4+ people on it. But we\u2019ll get there.","ts":"1476565136.002005"},{"type":"message","user":"U0KM61BCP","text":"you guys are troopers","ts":"1476565257.002006"},{"type":"message","user":"U0KM61BCP","text":"0.6 is not on the new base image system is it?","ts":"1476566301.002007"},{"type":"message","user":"U0KM61BCP","text":"is it still building its own base image etc?","ts":"1476566330.002008"},{"type":"message","user":"U11MANG9G","text":"It uses the 9 days old image I think.","ts":"1476566627.002009"},{"type":"message","user":"U11MANG9G","text":"1607 fails after the merge, btw.","ts":"1476566637.002010"},{"type":"message","user":"U11MANG9G","text":"(the latest v0.6 branch)","ts":"1476566645.002011"},{"type":"message","user":"U11MANG9G","text":"We are re-running. Just a headsup.","ts":"1476566652.002012"},{"type":"message","user":"U11MANG9G","text":"(From Greg) <https:\/\/github.com\/hyperledger\/fabric\/blob\/v0.6\/images\/base\/release>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/v0.6\/images\/base\/release","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/v0.6\/images\/base\/release","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1476566696.002013"},{"type":"message","user":"U11HH3P7Y","text":"<@U11MANG9G> unit-tests are executed successfully in CI on latest v0.6 commit","ts":"1476569691.002015"},{"type":"message","user":"U11HH3P7Y","text":"<https:\/\/jenkins.hyperledger.org\/sandbox\/view\/Environment%20tests\/job\/fabric-unit-tests\/6\/console>","ts":"1476569700.002016"},{"type":"message","user":"U11MANG9G","text":"Yup, I am running them locally too and it looks good here too.","ts":"1476569712.002017"},{"type":"message","user":"U11HH3P7Y","text":"yes me too","ts":"1476569719.002018"},{"type":"message","user":"U11MANG9G","text":"Next, is to make sure that we are happy with the 1655 patchset","edited":{"user":"U11MANG9G","ts":"1476570438.000000"},"ts":"1476569727.002019"},{"type":"message","user":"U11MANG9G","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1655\/>","ts":"1476569748.002020"},{"type":"message","user":"U11MANG9G","text":"(Running the tests again, to make sure)","ts":"1476569774.002021"},{"type":"message","user":"U11MANG9G","text":"Who knows, maybe we will have a `v0.6` release.","ts":"1476569789.002022","reactions":[{"name":"+1","users":["U0PB67X4K","U0KM61BCP"],"count":2}]},{"type":"message","user":"U11MANG9G","text":":pray:","ts":"1476569802.002023"},{"type":"message","user":"U11MANG9G","text":"Can others please try out a local build of 1655?","ts":"1476570849.002025"},{"type":"message","user":"U11MANG9G","text":"We are reverifying it as you can see, but I want some more data points at this point.","ts":"1476570884.002026"},{"type":"message","user":"U11MANG9G","text":"<@U11HH3P7Y>, <@U0ULK2JPP>, <@U13TWBRBL> (after you are done with the latest v0.6), etc.","ts":"1476570915.002027"},{"type":"message","subtype":"file_share","text":"<@U11MANG9G|jonathanlevi> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/jonathanlevi\/F2PSELW6S\/-.txt|Untitled>","file":{"id":"F2PSELW6S","created":1476570967,"timestamp":1476570967,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U11MANG9G","editable":true,"size":115,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2PSELW6S\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2PSELW6S\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/jonathanlevi\/F2PSELW6S\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2PSELW6S-64cec006bb","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/jonathanlevi\/F2PSELW6S\/-.txt\/edit","preview":"git fetch ssh:\/\/JonathanLevi@gerrit.hyperledger.org:29418\/fabric refs\/changes\/55\/1655\/10 && git checkout FETCH_HEAD","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>git fetch ssh:\/\/JonathanLevi@gerrit.hyperledger.org:29418\/fabric refs\/changes\/55\/1655\/10 &amp;&amp; git checkout FETCH_HEAD<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":1,"lines_more":0,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U11MANG9G","upload":true,"display_as_bot":false,"username":"<@U11MANG9G|jonathanlevi>","bot_id":null,"ts":"1476570967.002028"},{"type":"message","user":"U11HH3P7Y","text":"sure I am running latest in my vagrant once done will check out 1655","ts":"1476570982.002029"},{"type":"message","user":"U0ULK2JPP","text":"trying 1655","ts":"1476571042.002030"},{"type":"message","user":"U11MANG9G","text":"(thanks)","ts":"1476571061.002031"},{"type":"message","user":"U0PB67X4K","text":"me too","edited":{"user":"U0PB67X4K","ts":"1476571102.000000"},"ts":"1476571093.002032"},{"type":"message","user":"U11HH3P7Y","text":"seems jenkins slaves went offline.. some network glitch I guess","ts":"1476571102.002034"},{"type":"message","user":"U0PB67X4K","text":"`make unit-tests` ?","ts":"1476571138.002035"},{"type":"message","user":"U11MANG9G","text":"<@U11HH3P7Y> I\u2019m more worried about CI declaring that things work when they don\u2019t\u2026 than the other way around.","ts":"1476571146.002036"},{"type":"message","user":"U11MANG9G","text":"<@U0PB67X4K>: yes, for now. Yes.","ts":"1476571153.002037"},{"type":"message","user":"U11MANG9G","text":"If it\u2019s good, we\u2019ll run the node sdk tests (for checking the TLS fix)","ts":"1476571181.002038"},{"type":"message","user":"U0PB67X4K","text":"`make unit-tests` runs both the go tests and sdk tests","edited":{"user":"U0PB67X4K","ts":"1476571267.000000"},"ts":"1476571252.002039"},{"type":"message","user":"U0PB67X4K","text":"but as it turns out, I ran `make unit-test` anyway so will follow up with the sdk tests  :disappointed:","ts":"1476571296.002041"},{"type":"message","user":"U11MANG9G","text":"Yes, so the (in)consistent failures we saw today and last night\u2026 pop up already at the `unit test` stage. I think it\u2019s important that we run the full test suite\u2026 once we know that at least the Golang tests are consistently passing.","ts":"1476572065.002042"},{"type":"message","user":"U11MANG9G","text":"I\u2019m doing the same (the `unit-test` and then will run the full `unit-tests`)","ts":"1476572089.002043"},{"type":"message","user":"U11MANG9G","text":"Thank G-d it\u2019s raining in SF :wink: and windy and foggy and \u2026","edited":{"user":"U11MANG9G","ts":"1476572146.000000"},"ts":"1476572113.002044"},{"type":"message","user":"U0PB67X4K","text":"I'm running\n`make images`\n`make unit-test`\n`make unit-tests`","ts":"1476572128.002045"},{"type":"message","user":"U0PB67X4K","text":"I don't really lead too exciting of a life anymore  :wink:   Plus my wife is out doing something  :wink:","ts":"1476572158.002047"},{"type":"message","user":"U11MANG9G","text":"Yeah, exciting life is really over-rated. Running tests manually is the next big thing.","ts":"1476572193.002048"},{"type":"message","user":"U11MANG9G","text":"Wonder what I have been doing in all those other weekends...","ts":"1476572224.002049"},{"type":"message","user":"U0ULK2JPP","text":"just make it exiting with variations of `vagrant xxx`","ts":"1476572267.002050","reactions":[{"name":"hankey","users":["U0PB67X4K"],"count":1}]},{"type":"message","user":"U0PB67X4K","text":"I still never have and never will use vagrant for this project  :wink:","ts":"1476572292.002051","reactions":[{"name":"woo","users":["U11MANG9G"],"count":1},{"name":"+1","users":["U2BGFAHC7"],"count":1}]},{"type":"message","user":"U0ULK2JPP","text":":slightly_smiling_face:","ts":"1476572297.002052"},{"type":"message","user":"U0PB67X4K","text":"I am pretty sure when I was younger that I had better things to do.  Must have been fun as I don't recall most of my 20's","ts":"1476572330.002053","reactions":[{"name":"+1","users":["U0KM61BCP"],"count":1}]},{"type":"message","user":"U11MANG9G","text":"BTW: (and I swear I\u2019m not making this up), just opened another terminal and read `make: warning:  Clock skew detected.  Your build may be incomplete.`","ts":"1476572405.002054"},{"type":"message","user":"U11MANG9G","text":"I think our clocks are really skewed. I don\u2019t remember a huge portion of my 20s.","ts":"1476572427.002055"},{"type":"message","user":"U0ULK2JPP","text":"ok. that\u2019s hitting below the belt\u2026I don\u2019t reember day before yesterday :slightly_smiling_face:","ts":"1476572484.002056"},{"type":"message","user":"U11MANG9G","text":"\"We are as good as our latest patchset\u201d, eh? :wink:","ts":"1476572566.002057"},{"type":"message","user":"U0ULK2JPP","text":"my recent life has been strictly Markovian :wink:","ts":"1476572700.002058"},{"type":"message","user":"U0ULK2JPP","text":"started unit-test with 1655","ts":"1476572722.002059"},{"type":"message","user":"U0ULK2JPP","text":"make unit-test passe","ts":"1476573516.002060"},{"type":"message","user":"U11MANG9G","text":"A full, clean build?","ts":"1476573566.002061"},{"type":"message","user":"U0ULK2JPP","text":"yes","ts":"1476573572.002062"},{"type":"message","user":"U0ULK2JPP","text":"from scratch","ts":"1476573576.002063"},{"type":"message","user":"U11MANG9G","text":"From `vagrant destroy`?","ts":"1476573580.002064"},{"type":"message","user":"U11MANG9G","text":":wink:","ts":"1476573582.002065"},{"type":"message","user":"U0ULK2JPP","text":"yes","ts":"1476573585.002066"},{"type":"message","user":"U0ULK2JPP","text":":slightly_smiling_face:","ts":"1476573588.002067"},{"type":"message","user":"U0ULK2JPP","text":"not taking chances","ts":"1476573595.002068","reactions":[{"name":"+1","users":["U11MANG9G"],"count":1}]},{"type":"message","user":"U11MANG9G","text":"OK. Thanks. Off to node sdk ?","ts":"1476573602.002069"},{"type":"message","user":"U0ULK2JPP","text":"just do make node-sdk ?","ts":"1476573631.002070"},{"type":"message","user":"U11MANG9G","text":"`make unit-tests` (in plural)","ts":"1476573676.002071"},{"type":"message","user":"U0ULK2JPP","text":"ok.. had started `make node-sdk-unit-tests`","ts":"1476573730.002072"},{"type":"message","user":"U11MANG9G","text":"Sure thing.","ts":"1476573743.002073"},{"type":"message","user":"U11MANG9G","text":"(yes, yes, I see why you\u2019d do it, etc. ;-))","ts":"1476573762.002074"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F2PSY3RFT\/pasted_image_at_2016_10_15_07_46_pm.png|Pasted image at 2016-10-15, 7:46 PM> and commented: node unit tests pass in 1655","file":{"id":"F2PSY3RFT","created":1476575200,"timestamp":1476575200,"name":"Pasted image at 2016_10_15 07_46 PM.png","title":"Pasted image at 2016-10-15, 7:46 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":142886,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2PSY3RFT\/pasted_image_at_2016_10_15_07_46_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2PSY3RFT\/download\/pasted_image_at_2016_10_15_07_46_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PSY3RFT-1a0dcf0633\/pasted_image_at_2016_10_15_07_46_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PSY3RFT-1a0dcf0633\/pasted_image_at_2016_10_15_07_46_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PSY3RFT-1a0dcf0633\/pasted_image_at_2016_10_15_07_46_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":227,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PSY3RFT-1a0dcf0633\/pasted_image_at_2016_10_15_07_46_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":303,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PSY3RFT-1a0dcf0633\/pasted_image_at_2016_10_15_07_46_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PSY3RFT-1a0dcf0633\/pasted_image_at_2016_10_15_07_46_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":454,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PSY3RFT-1a0dcf0633\/pasted_image_at_2016_10_15_07_46_pm_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":606,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2PSY3RFT-1a0dcf0633\/pasted_image_at_2016_10_15_07_46_pm_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":646,"image_exif_rotation":1,"original_w":1322,"original_h":834,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F2PSY3RFT\/pasted_image_at_2016_10_15_07_46_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2PSY3RFT-644a9ba6d5","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc2PSXJMGF","created":1476575200,"timestamp":1476575200,"user":"U0ULK2JPP","is_intro":true,"comment":"node unit tests pass in 1655","channel":""}},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1476575203.002075"},{"type":"message","user":"U11HH3P7Y","text":"unit-test passed in 1655","ts":"1476575377.002076"},{"type":"message","user":"U11HH3P7Y","text":"running node-sdk now..","ts":"1476575382.002077"},{"type":"message","user":"U11MANG9G","text":"Golang unit-tests passed both me and Gari too.","ts":"1476575540.002078"},{"type":"message","user":"U11MANG9G","text":"Let\u2019s wait for our node sdk tests to finish locally (Jonathan and <@U11HH3P7Y>) and if they pass like they pass for Murali\u2026 we can continue.","ts":"1476575581.002079"},{"type":"message","user":"U11MANG9G","text":"Sat Oct 15 23:52:43 UTC 2016 UT tests PASSED\nmake[1]: Leaving directory `\/hyperledger\/sdk\/node'\nvagrant@hyperledger-devenv:v0.0.11-0000118:\/hyperledger$ git log --oneline -1\n7123f77 xnode-sdk: Test Updates for supporting TLS","ts":"1476576421.002080"},{"type":"message","user":"U11MANG9G","text":"(that is, the node sdk tests PASSED for me)","ts":"1476576447.002081"},{"type":"message","user":"U11MANG9G","text":"---","ts":"1476576968.002082"},{"type":"message","user":"U11MANG9G","text":"We have merged 1655.","ts":"1476576986.002083","reactions":[{"name":"+1","users":["U0KM61BCP"],"count":1}]},{"type":"message","user":"U11HH3P7Y","text":"```exit code: 0\nSun Oct 16 00:16:05 UTC 2016 UT tests PASSED\nmake[1]: Leaving directory `\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/sdk\/node'\nvagrant@hyperledger-devenv:v0.0.11-777bdac:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ git log --oneline -n 1\n7123f77 xnode-sdk: Test Updates for supporting TLS\n```","ts":"1476577002.002084"},{"type":"message","user":"U11MANG9G","text":"Noting that it added only node-sdk tests.","ts":"1476577002.002085"},{"type":"message","user":"U0UHG4VP1","text":"I have opened a ticket with our provider about the Jenkins issues","ts":"1476577004.002086","reactions":[{"name":"+1","users":["U11MANG9G"],"count":1}]},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1> I have opened one \n[Hyperledger Helpdesk #31550]","ts":"1476577046.002087"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> I am Hyperledger Helpdesk","ts":"1476577065.002088","reactions":[{"name":"+1","users":["U0KM61BCP"],"count":1}]},{"type":"message","user":"U0UHG4VP1","text":":slightly_smiling_face:","ts":"1476577068.002089"},{"type":"message","user":"U11HH3P7Y","text":"yes yes","ts":"1476577077.002090"},{"type":"message","user":"U11MANG9G","text":"Many thanks <@U0UHG4VP1>. <@U11HH3P7Y>, thanks for the confirming the tests passing for you too.","ts":"1476577196.002091","reactions":[{"name":"+1","users":["U0KM61BCP"],"count":1}]},{"type":"message","user":"U13TWBRBL","text":"thanks guys, I couldn\u2019t help with the 1655 verification because I had a strange error that no one else seemed to experience (basically \u201cmake unit-test\u201d and the go tests runner tried to look for tests inside sdk\/node\/node_modules and failed)","ts":"1476579059.002092"},{"type":"message","user":"U13TWBRBL","text":"so glad that for the new repo fabric-sdk-node I have decided to 1) remove typescript 2) not rely on vagrant 3) use native host (windows or mac) as dev environment","ts":"1476579146.002093"},{"type":"message","user":"U13TWBRBL","text":"so let me pop that question: we can cut v0.6 now right? :wink:","ts":"1476579211.002094"},{"type":"message","user":"U1KDHJT6H","text":"deafening silence\u2026\u2026.gari what do you think?","ts":"1476579585.002095"},{"type":"message","user":"U0KM61BCP","text":"<@U13TWBRBL>: yeah, I was working on a fix for that... still unclear why we are seeing that error\/warning","ts":"1476580130.002096"},{"type":"message","user":"U0PB67X4K","text":"I think we call it a day \/ night and regroup in the morning.  But I think everything is in so that's good ","ts":"1476580354.002097"},{"type":"message","user":"U11MANG9G","text":"<@U1KDHJT6H> I think we are ready to cut a release, yes.","ts":"1476580700.002098"},{"type":"message","user":"U11MANG9G","text":"But there is some more work that needs to be done.","ts":"1476580751.002099"},{"type":"message","user":"U11MANG9G","text":"[I might call it a day too. Started (too) early]","ts":"1476580778.002100"},{"type":"message","user":"U1KDHJT6H","text":"yoda says \u2018do or do not'","ts":"1476580785.002101","reactions":[{"name":"laughing","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U1KDHJT6H","text":":slightly_smiling_face:","ts":"1476580806.002102"},{"type":"message","user":"U11MANG9G","text":":slightly_smiling_face:","ts":"1476580812.002103"},{"type":"message","user":"U0ZJZBJLF","text":"any ETA on when the `feature\/convergence` branch will have vendor folders like `master`?","ts":"1476605186.002104"},{"type":"message","user":"U0PB67X4K","text":"<@U0ZJZBJLF>  - I believe we are currently trying to merge \/ move convergence to master?  So I imagine once we are there we can vendor new things","ts":"1476613433.002105"},{"type":"message","user":"U0KPFAZNF","text":"First step is we are merging master out to convergence","ts":"1476618318.002106"},{"type":"message","user":"U0KPFAZNF","text":"We completed the work to resolve conflicts on Friday and are just running the resulting tree through UTs, etc","ts":"1476618361.002107"},{"type":"message","user":"U1KDHJT6H","text":"any decision on cutting v6?","ts":"1476651145.002108"},{"type":"message","user":"U0ZJZBJLF","text":"In fabric 0.5, the `core.yaml` file,  the `peer.tls.{cert, key} `are needed to be configured in order for p2p to work with SSL.\nWhat roles do these files have? Are they the peer's public and private key? If so- what happens is that when a peer starts up it sends the pub key to the membership service in order for the membership service to distribute them to the rest of the peers on demand? <@U0PB67X4K>  perhaps you know?","edited":{"user":"U0ZJZBJLF","ts":"1476782223.000000"},"ts":"1476777661.002109"},{"type":"message","user":"U0PB67X4K","text":"Hi <@U0ZJZBJLF>  - `peer.tls.{cert, key}`  would be what you would normally call the \"server\" key pair in the web server \/ app server world - aka used for the server-side TLS endpoint","ts":"1476785816.002111"},{"type":"message","user":"U0PB67X4K","text":"The TLS communication today is strictly one-way","ts":"1476785835.002112"},{"type":"message","user":"U0ZJZBJLF","text":"the server-side p2p you mean","ts":"1476785837.002113"},{"type":"message","user":"U0ZJZBJLF","text":"it's 1 way- I know, you have that \"initiated chat\" bool thing","ts":"1476785861.002114"},{"type":"message","user":"U0PB67X4K","text":"one-way TLS - meaning there is no exchange of client certificates at the TLS layer","ts":"1476785881.002115"},{"type":"message","user":"U0ZJZBJLF","text":"oh ok","ts":"1476785888.002116"},{"type":"message","user":"U0ZJZBJLF","text":"But, is it a self signed cert then?","ts":"1476785937.002117"},{"type":"message","user":"U0PB67X4K","text":"and basically when you \"enroll\" with membership services, each peer \/ client downloads the root CA for the TLSCA - so again trust is at a pure root CA level","ts":"1476785945.002118"},{"type":"message","user":"U0PB67X4K","text":"there's a chicken \/ egg problem actually - so each peer can get its TLS cert from membership services (its part of enrollment) but then there is no way to really configure it to use it dynamically.  So you basically would need to start the peer with TLS disabled, enroll the peer, stop the peer, change the config to point to the key\/cert pair you just downloaded and then restart with TLS enabled","ts":"1476786047.002119"},{"type":"message","user":"U0ZJZBJLF","text":"but when you call cryptoPeer.Verify and you don't have the certificate of that peer, a gRPC goes to the membership service and downloads something which does into your crypto validator cache. \nWhat is that? is that the same `peer.tls.cert` file, only signed by the membership service?","ts":"1476786050.002120"},{"type":"message","user":"U0PB67X4K","text":"NET-NET - its not usable today","ts":"1476786058.002121"},{"type":"message","user":"U0ZJZBJLF","text":"I see, so the `peer.tls.{cert, key}` actually originate from the membership service","ts":"1476786125.002122"},{"type":"message","user":"U0ZJZBJLF","text":"what do you mean by NET-NET ?","ts":"1476786149.002123"},{"type":"message","user":"U0PB67X4K","text":"\"in short\"","ts":"1476786165.002124"},{"type":"message","user":"U0PB67X4K","text":"or \"bottom line\"","ts":"1476786177.002125"},{"type":"message","user":"U0PB67X4K","text":"for the BMX service - we don't use the TLS certs issued by membership services - we actually use our own","ts":"1476786214.002126"},{"type":"message","user":"U0PB67X4K","text":"but we kinda trick the system since we use a wildcard","ts":"1476786269.002127"},{"type":"message","user":"U0PB67X4K","text":"the whole thing is a mess because the TLSCA doesn't properly issue TLS certs with the right CNs, Subject or SANs - so hostname verification fails unless you use the override","ts":"1476786318.002128"},{"type":"message","user":"U0PB67X4K","text":"which makes it all essentially worthless","ts":"1476786339.002129"},{"type":"message","user":"U0ZJZBJLF","text":"I remember invoking openssl and then trying to start the peer with that, didn't work","ts":"1476786382.002130"},{"type":"message","user":"U0ZJZBJLF","text":"so I used the chaincode folder's certificates :confused:","ts":"1476786397.002131"},{"type":"message","user":"U0PB67X4K","text":"So  - for v1.0 - my take is that we don't make TLS optional - it should always be used for p2p connections and we do it in a usable \/ useful fashion.  We have most of the core plumbing  \/ building blocks, it's just putting it together correctly","ts":"1476786455.002132"},{"type":"message","user":"U0ZJZBJLF","text":"ok and 1 more question - the crypto peer has this Sign\/ verify methods. Are these different from the same files used for the SSL?","ts":"1476786460.002133"},{"type":"message","user":"U0PB67X4K","text":"yeah","ts":"1476786471.002134"},{"type":"message","user":"U0PB67X4K","text":"there are enrollment certs which are used for signing and TLS certs used for p2p communication","ts":"1476786499.002135"},{"type":"message","user":"U0ZJZBJLF","text":"I see... well there goes that idea, <@U2BGFAHC7>  there is no point of playing with the TLS-unique anymore.","ts":"1476786539.002136"},{"type":"message","user":"U0ZJZBJLF","text":"thanks Gari, I understand things better now!","ts":"1476786554.002137"},{"type":"message","user":"U0PB67X4K","text":"well I would not necessarily rule that out - in v1.0 I am not sure why one could not use the same cert for signing and TLS","ts":"1476786576.002138"},{"type":"message","user":"U0PB67X4K","text":"in the case of peers which have to be identified anyway","ts":"1476786588.002139"},{"type":"message","user":"U0ZJZBJLF","text":"that idea was for 0.5","ts":"1476786589.002140"},{"type":"message","user":"U0PB67X4K","text":"0.5 and 0.6 have \"sailed\" as they say.  v1.0 is all we should care about  :wink:","ts":"1476786629.002141"},{"type":"message","user":"U0ZJZBJLF","text":"i see","ts":"1476786650.002142"},{"type":"message","user":"U0PB67X4K","text":"meaning we can fix bugs on 0.6 but the whole community should be getting behind v1.0","ts":"1476786677.002143"},{"type":"message","user":"U0PB67X4K","text":"else we will never get it done","ts":"1476786691.002144"},{"type":"message","user":"U0ZJZBJLF","text":"ok","ts":"1476786733.002145"},{"user":"U15GBPSEB","text":"<@U15GBPSEB|milansijan> has joined the channel","type":"message","subtype":"channel_join","ts":"1476815510.002146"},{"user":"U216ML5MM","text":"<@U216ML5MM|witwiki> has joined the channel","type":"message","subtype":"channel_join","ts":"1476932357.002147"},{"user":"U2QLU433N","text":"<@U2QLU433N|msoumeit> has joined the channel","type":"message","subtype":"channel_join","ts":"1476976351.002148"},{"type":"message","user":"U0ZJZBJLF","text":"if I submit a PR tomorrow- from which branch should I branch out from? master or convergence?","ts":"1477000899.002149"},{"type":"message","user":"U0ULK2JPP","text":"<@U0ZJZBJLF> still some discussion going on in fabric-reconcile","ts":"1477003746.002150"},{"type":"message","user":"U0ULK2JPP","text":"hopefully soon we will have everything in master \u2026","ts":"1477003777.002151"},{"type":"message","user":"U0ULK2JPP","text":"can it wait ?","ts":"1477003786.002152"},{"type":"message","user":"U184J2R7S","text":"<@U0ZJZBJLF> I agree would be easier to wait.  We are really trying to get the convergence done so the skeleton will be there for people to start adding the other components on.","ts":"1477013807.002153"},{"type":"message","user":"U0ZJZBJLF","text":"Sure","ts":"1477026098.002154"},{"user":"U29DS6TQV","text":"<@U29DS6TQV|kh2se2013> has joined the channel","type":"message","subtype":"channel_join","ts":"1477057769.002155"},{"type":"message","user":"U13TWBRBL","text":"is confidentiality enabled in the current convergence branch on endorsement API? in other words, if I encrypt endorsement payload with the \u201cpkChain\u201d returned from \u201cECertCreateResp\u201d, the endorser is able to decrypt it right?\n\nwondering with the v1.0 how that\u2019s supposed to work, now that with the endorsers role and multi-channel introduced, does a \u201cpublic key for the chain\u201d still make sense?","edited":{"user":"U13TWBRBL","ts":"1477078744.000000"},"ts":"1477078505.002156"},{"type":"message","user":"U13TWBRBL","text":"wouldn\u2019t that be a per-channel key pair instead of a common pair for the whole network?","ts":"1477078549.002157"},{"type":"message","user":"U13TWBRBL","text":"or, as per <@U0ULK2JPP> from <#C2NESEYV9|fabric-reconcile> channel, this is now left completely to the client and chaincode? is that just going to be merely TLS or would there still be encryption on the payload itself? if the latter, then I think there should be a standard REST API all endorsers publish to download the certificate for extracting the public key for encryption","ts":"1477079668.002159"},{"type":"message","user":"U13TWBRBL","text":"ok, will re-post to <#C2GE7GXM1|fabric-crypto> channel as suggested by <@U0ULK2JPP>","ts":"1477079759.002160"},{"type":"message","user":"U0ULK2JPP","text":"ah already did :slightly_smiling_face: but please do add <@U13TWBRBL>","ts":"1477079842.002161"},{"type":"message","user":"U13TWBRBL","text":"thanks","ts":"1477079860.002162"},{"user":"U1GN670VD","text":"<@U1GN670VD|thiruworkspace> has joined the channel","type":"message","subtype":"channel_join","ts":"1477086782.002163"},{"user":"U2GR5RHQT","text":"<@U2GR5RHQT|zanejia> has joined the channel","type":"message","subtype":"channel_join","ts":"1477289560.002164"},{"type":"message","user":"U0ZJZBJLF","text":"Can anyone explain how this CI failure can happen even though that map is now protected by a RWMutex? \n<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/1955\/console>","ts":"1477300959.002165"},{"type":"message","user":"U2BGFAHC7","text":"<@U0ZJZBJLF> Try running that single test with the `-race` flag set and it will tell you exactly.","ts":"1477302021.002166"},{"type":"message","user":"U2BGFAHC7","text":"```go test -race <http:\/\/github.com\/hyperledger\/fabric\/core\/crypto|github.com\/hyperledger\/fabric\/core\/crypto>\n=== Start tests for scenario 'Using crypto_test.yaml properties' ===\n10:50:08.318 [ca] NewCA -&gt; INFO 001 Fresh start; creating databases, key pairs, and certificates.\nopen socket...\nopen socket...done\n10:50:08.374 [aca] Start -&gt; INFO 002 Staring ACA services...\n10:50:08.374 [aca] startACAP -&gt; INFO 003 ACA PUBLIC gRPC API server started\n10:50:08.374 [aca] Start -&gt; INFO 004 ACA services started\n==================\nWARNING: DATA RACE\nRead at 0x00c420167b90 by goroutine 13:\n  runtime.mapaccess2_faststr()\n      \/usr\/local\/Cellar\/go\/1.7.1\/libexec\/src\/runtime\/hashmap_fast.go:297 +0x0\n  <http:\/\/github.com\/hyperledger\/fabric\/vendor\/github.com\/op\/go-logging.(*moduleLeveled).Log()|github.com\/hyperledger\/fabric\/vendor\/github.com\/op\/go-logging.(*moduleLeveled).Log()>\n      \/Users\/donovanhide\/gopath\/src\/github.com\/hyperledger\/fabric\/vendor\/github.com\/op\/go-logging\/level.go:113 +0x9f\n  <http:\/\/github.com\/hyperledger\/fabric\/vendor\/github.com\/op\/go-logging.(*Logger).log()|github.com\/hyperledger\/fabric\/vendor\/github.com\/op\/go-logging.(*Logger).log()>\n      \/Users\/donovanhide\/gopath\/src\/github.com\/hyperledger\/fabric\/vendor\/github.com\/op\/go-logging\/logger.go:170 +0x34d\n  <http:\/\/github.com\/hyperledger\/fabric\/vendor\/github.com\/op\/go-logging.(*Logger).Info()|github.com\/hyperledger\/fabric\/vendor\/github.com\/op\/go-logging.(*Logger).Info()>\n      \/Users\/donovanhide\/gopath\/src\/github.com\/hyperledger\/fabric\/vendor\/github.com\/op\/go-logging\/logger.go:239 +0x68\n  <http:\/\/github.com\/hyperledger\/fabric\/membersrvc\/ca.(*ECA).Start()|github.com\/hyperledger\/fabric\/membersrvc\/ca.(*ECA).Start()>\n      \/Users\/donovanhide\/gopath\/src\/github.com\/hyperledger\/fabric\/membersrvc\/ca\/eca.go:192 +0x108\n  <http:\/\/github.com\/hyperledger\/fabric\/core\/crypto.startPKI()|github.com\/hyperledger\/fabric\/core\/crypto.startPKI()>\n      \/Users\/donovanhide\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/crypto\/crypto_test.go:1574 +0x24d\n\nPrevious write at 0x00c420167b90 by goroutine 15:\n  runtime.mapassign1()\n      \/usr\/local\/Cellar\/go\/1.7.1\/libexec\/src\/runtime\/hashmap.go:442 +0x0\n  <http:\/\/github.com\/hyperledger\/fabric\/vendor\/github.com\/op\/go-logging.(*moduleLeveled).SetLevel()|github.com\/hyperledger\/fabric\/vendor\/github.com\/op\/go-logging.(*moduleLeveled).SetLevel()>\n      \/Users\/donovanhide\/gopath\/src\/github.com\/hyperledger\/fabric\/vendor\/github.com\/op\/go-logging\/level.go:104 +0x8e\n  <http:\/\/github.com\/hyperledger\/fabric\/vendor\/github.com\/op\/go-logging.SetLevel()|github.com\/hyperledger\/fabric\/vendor\/github.com\/op\/go-logging.SetLevel()>\n      \/Users\/donovanhide\/gopath\/src\/github.com\/hyperledger\/fabric\/vendor\/github.com\/op\/go-logging\/backend.go:33 +0x70\n  <http:\/\/github.com\/hyperledger\/fabric\/core\/crypto.TestCryptoInitDoesntOverrideLoggingLevel()|github.com\/hyperledger\/fabric\/core\/crypto.TestCryptoInitDoesntOverrideLoggingLevel()>\n      \/Users\/donovanhide\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/crypto\/crypto_settings_test.go:35 +0x50\n  testing.tRunner()\n      \/usr\/local\/Cellar\/go\/1.7.1\/libexec\/src\/testing\/testing.go:610 +0xc9\n\nGoroutine 13 (running) created at:\n  <http:\/\/github.com\/hyperledger\/fabric\/core\/crypto.before()|github.com\/hyperledger\/fabric\/core\/crypto.before()>\n      \/Users\/donovanhide\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/crypto\/crypto_test.go:140 +0x47\n  <http:\/\/github.com\/hyperledger\/fabric\/core\/crypto.runTestsOnScenario()|github.com\/hyperledger\/fabric\/core\/crypto.runTestsOnScenario()>\n      \/Users\/donovanhide\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/crypto\/crypto_test.go:155 +0x234\n  <http:\/\/github.com\/hyperledger\/fabric\/core\/crypto.TestMain()|github.com\/hyperledger\/fabric\/core\/crypto.TestMain()>\n      \/Users\/donovanhide\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/crypto\/crypto_test.go:80 +0xf0\n  main.main()\n      <http:\/\/github.com\/hyperledger\/fabric\/core\/crypto\/_test\/_testmain.go:124|github.com\/hyperledger\/fabric\/core\/crypto\/_test\/_testmain.go:124> +0x1b5\n\nGoroutine 15 (running) created at:\n  testing.(*T).Run()\n      \/usr\/local\/Cellar\/go\/1.7.1\/libexec\/src\/testing\/testing.go:646 +0x52f\n  testing.RunTests.func1()\n      \/usr\/local\/Cellar\/go\/1.7.1\/libexec\/src\/testing\/testing.go:793 +0xb9\n  testing.tRunner()\n      \/usr\/local\/Cellar\/go\/1.7.1\/libexec\/src\/testing\/testing.go:610 +0xc9\n  testing.RunTests()\n      \/usr\/local\/Cellar\/go\/1.7.1\/libexec\/src\/testing\/testing.go:799 +0x4ba\n  testing.(*M).Run()\n      \/usr\/local\/Cellar\/go\/1.7.1\/libexec\/src\/testing\/testing.go:743 +0x12f\n  <http:\/\/github.com\/hyperledger\/fabric\/core\/crypto.runTestsOnScenario()|github.com\/hyperledger\/fabric\/core\/crypto.runTestsOnScenario()>\n      \/Users\/donovanhide\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/crypto\/crypto_test.go:156 +0x245\n  <http:\/\/github.com\/hyperledger\/fabric\/core\/crypto.TestMain()|github.com\/hyperledger\/fabric\/core\/crypto.TestMain()>\n      \/Users\/donovanhide\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/crypto\/crypto_test.go:80 +0xf0\n  main.main()\n      <http:\/\/github.com\/hyperledger\/fabric\/core\/crypto\/_test\/_testmain.go:124|github.com\/hyperledger\/fabric\/core\/crypto\/_test\/_testmain.go:124> +0x1b5\n==================```","ts":"1477302901.002167"},{"type":"message","user":"U2BGFAHC7","text":"There were other data races found in other parts of the code, so I\u2019d recommend adding the `-race` flag to a unit test pass of the CI process.","edited":{"user":"U2BGFAHC7","ts":"1477302963.000000"},"ts":"1477302956.002168"},{"type":"message","user":"U0ZJZBJLF","text":"first of all- thanks for the tip. second- I'm not interested in data races of other stuff but only in this specific test because I *thought* I fixed that bug, and even had a test that fails with high probability without the fix, and I ran that test with 10000 goroutines with -race enabled and didn't see a data race :confused: so I'm trying to see if there is some other code path my test doesn't check","ts":"1477303186.002170"},{"type":"message","user":"U2BGFAHC7","text":"The above quote shows the race that resulted in the panic in your Jenkins log.","ts":"1477303288.002171"},{"type":"message","user":"U0ZJZBJLF","text":"wait a second.... `fabric\/vendor\/github.com\/op\/go-logging\/level.go:104` this is a blank line in my IDE and I'm on the master branch. Is it possible the CI server doesn't have the updated vendor folders?","ts":"1477303354.002172"},{"type":"message","user":"U2BGFAHC7","text":"Run this locally:\n`go test -race <http:\/\/github.com\/hyperledger\/fabric\/core\/crypto|github.com\/hyperledger\/fabric\/core\/crypto>`\nand see if you get a race.","ts":"1477303444.002173"},{"type":"message","user":"U0ZJZBJLF","text":"I tried but it outputted too much stuff","ts":"1477303474.002174"},{"type":"message","user":"U2BGFAHC7","text":"Did you add a `-v`?","edited":{"user":"U2BGFAHC7","ts":"1477303495.000000"},"ts":"1477303488.002175"},{"type":"message","user":"U2BGFAHC7","text":"Your race is the first one.","ts":"1477303510.002179"},{"type":"message","user":"U0ZJZBJLF","text":"oops. yes","ts":"1477303571.002180"},{"type":"message","user":"U0ZJZBJLF","text":"why did it output level.go:104? that's a blank line","ts":"1477303665.002181"},{"type":"message","user":"U2BGFAHC7","text":"I think when the optimisers kick in the line numbering tends to be before the actual optimised function.","ts":"1477303783.002182"},{"type":"message","user":"U0ZJZBJLF","text":"did that crypto test run for a long time on your PC too?","ts":"1477303990.002183"},{"type":"message","user":"U0ZJZBJLF","text":"go test -race <http:\/\/github.com\/hyperledger\/fabric\/core\/crypto|github.com\/hyperledger\/fabric\/core\/crypto>","ts":"1477304000.002184"},{"type":"message","user":"U2BGFAHC7","text":"Yes, took a minute or two...","ts":"1477304038.002185"},{"type":"message","user":"U2BGFAHC7","text":"`-race` recompiles all dependencies with race detection enabled and then everything runs more slowly. It\u2019s the valgrind of Go :slightly_smiling_face:","ts":"1477304094.002186"},{"type":"message","user":"U0ZJZBJLF","text":"valgrind detects data races too?","ts":"1477304117.002187"},{"type":"message","user":"U2BGFAHC7","text":"That\u2019s mostly what I\u2019ve used it for :slightly_smiling_face:","ts":"1477304144.002188"},{"type":"message","user":"U0ZJZBJLF","text":"oh right, ripple is C++","ts":"1477304194.002189"},{"type":"message","user":"U0ZJZBJLF","text":"I think it's stuck","ts":"1477304222.002190"},{"type":"message","user":"U0ZJZBJLF","text":"the test","ts":"1477304225.002191"},{"type":"message","user":"U0ZJZBJLF","text":"yep. it was killed because it ran for too long","ts":"1477304236.002192"},{"type":"message","user":"U2BGFAHC7","text":"I\u2019d recommend writing a unit test for your patch to `op\/go-logging` that demonstrates the race and fix that first. Maybe you should add that unit test to your PR :slightly_smiling_face:","ts":"1477304237.002193"},{"type":"message","user":"U0ZJZBJLF","text":"Maybe I needed to run the peer before","ts":"1477304255.002194"},{"type":"message","user":"U0ZJZBJLF","text":"<@U2BGFAHC7> , I *have* a unit test, that's the whole problem. I ran it with 100,000 goroutines and it didn't catch fire","ts":"1477304400.002195"},{"type":"message","user":"U0ZJZBJLF","text":"core\/utils\/utils_test.go , last function","ts":"1477304434.002196"},{"type":"message","user":"U2BGFAHC7","text":"It\u2019s not a complete test:\n<https:\/\/github.com\/yacovm\/go-logging\/blob\/b042c5e48dcf4b2c19b6feea14e7f4b5eaca7ddf\/logger_test.go#L64-L75>\nYou need to look at the data race report, and see that you are invoking the Log() method.","edited":{"user":"U2BGFAHC7","ts":"1477304508.000000"},"ts":"1477304502.002197"},{"type":"message","user":"U2BGFAHC7","text":"And also run the test itself with the `-race` flag","ts":"1477304535.002200"},{"type":"message","user":"U2BGFAHC7","text":"Also it\u2019s possible that the goroutine finishes before the second loop even begins :slightly_smiling_face: You\u2019d need to synchronise the starting of the two loops and maybe stick some `time.Sleep()` in so that the scheduler gets a chance to kick in. Testing concurrency is hard :slightly_smiling_face:","ts":"1477304641.002201"},{"type":"message","user":"U0ZJZBJLF","text":"well,  that's true, but empirically- when I tested it on my machine it failed almost all times without the patch and didn't fail once with the patch so I thought that was good enough","ts":"1477304772.002202"},{"type":"message","user":"U2BGFAHC7","text":"Empirically you have evidence above that it does fail :slightly_smiling_face: Anyway, I need to some other work now :wink:","ts":"1477304820.002203"},{"type":"message","user":"U0ZJZBJLF","text":"sure, thanks for the -race tip.","ts":"1477304852.002204"},{"type":"message","user":"U0ZJZBJLF","text":"I don't see the logging data race when I run it locally, weird","ts":"1477306049.002205"},{"type":"message","user":"U184J2R7S","text":"I have had a lot of questions in terms of where all the design documentation is for Hyperledger-fabric.  Apparently there are people in the community that have problems finding it.  As a result, Binh Nguyen created a link in Hyperledger wiki to help. Hopefully this helps everyone: <https:\/\/wiki.hyperledger.org\/community\/fabric-design-docs>","ts":"1477315860.002206","reactions":[{"name":"+1","users":["U0KM61BCP"],"count":1}]},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F2TCHE3TN\/move_convergence_changeset_to_master.txt|move_convergence_changeset_to_master.txt> and commented: cheat sheet for bringing change sets from convergence to master post merge <@U0KPFAZNF> <@U0UHG4VP1>","file":{"id":"F2TCHE3TN","created":1477324090,"timestamp":1477324090,"name":"move_convergence_changeset_to_master.txt","title":"move_convergence_changeset_to_master.txt","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0ULK2JPP","editable":true,"size":1091,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2TCHE3TN\/move_convergence_changeset_to_master.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2TCHE3TN\/download\/move_convergence_changeset_to_master.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F2TCHE3TN\/move_convergence_changeset_to_master.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2TCHE3TN-2ba1572a6d","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F2TCHE3TN\/move_convergence_changeset_to_master.txt\/edit","preview":"Cheat sheet for moving changes sets from convergence to master\n==============================================================\n\nExample changeset in convergence to be moved to master \n    - https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1633\/ ","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Cheat sheet for moving changes sets from convergence to master<\/pre><\/div>\n<div><pre>==============================================================<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<div><pre>Example changeset in convergence to be moved to master <\/pre><\/div>\n<div><pre>    - https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1633\/ <\/pre><\/div>\n<\/div>\n<\/div>\n","lines":23,"lines_more":18,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc2TCTPZV3","created":1477324090,"timestamp":1477324090,"user":"U0ULK2JPP","is_intro":true,"comment":"cheat sheet for bringing change sets from convergence to master post merge <@U0KPFAZNF> <@U0UHG4VP1>","channel":""}},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1477324090.002207"},{"type":"message","user":"U13TWBRBL","text":"<@U0ULK2JPP> <@U0KPFAZNF> I\u2019m getting errors like below when trying to run \u201cdocker-compose-next-4.yml\u201d in a freshly rebuilt vagrant (destroy\/up) with latest master:\n\nvp1_1          | panic: runtime error: invalid memory address or nil pointer dereference\nvp1_1          | [signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x710947]\nvp1_1          | \nvp1_1          | goroutine 56 [running]:\nvp1_1          | panic(0xb1d660, 0xc420018070)\nvp1_1          | \t\/opt\/go\/src\/runtime\/panic.go:500 +0x1a1\nvp1_1          | <http:\/\/github.com\/hyperledger\/fabric\/core\/peernext.(*Impl).handleChat(0xc4203c26c0|github.com\/hyperledger\/fabric\/core\/peernext.(*Impl).handleChat(0xc4203c26c0>, 0x7f83d73ee928, 0xc4200182a0, 0x7f83d73eecb8, 0xc4203f25a0, 0x1, 0x0, 0x0)\nvp1_1          | \t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/peernext\/peer.go:566 +0x1d7\nvp1_1          | <http:\/\/github.com\/hyperledger\/fabric\/core\/peernext.(*Impl).chatWithPeer(0xc4203c26c0|github.com\/hyperledger\/fabric\/core\/peernext.(*Impl).chatWithPeer(0xc4203c26c0>, 0xc42000c94d, 0x8, 0x20, 0xc420125a20)\nvp1_1          | \t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/peernext\/peer.go:553 +0x61b\nvp1_1          | created by <http:\/\/github.com\/hyperledger\/fabric\/core\/peernext.(*Impl).chatWithSomePeers|github.com\/hyperledger\/fabric\/core\/peernext.(*Impl).chatWithSomePeers>\nvp1_1          | \t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/peernext\/peer.go:534 +0x115","ts":"1477336168.002208"},{"type":"message","user":"U13TWBRBL","text":"that was vp1, vp0 crashed like below:","edited":{"user":"U13TWBRBL","ts":"1477336265.000000"},"ts":"1477336199.002209"},{"type":"message","user":"U13TWBRBL","text":"vp0_1          | panic: runtime error: invalid memory address or nil pointer dereference\nvp0_1          | [signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x710947]\nvp0_1          | \nvp0_1          | goroutine 16 [running]:\nvp0_1          | panic(0xb1d660, 0xc420018070)\nvp0_1          | \t\/opt\/go\/src\/runtime\/panic.go:500 +0x1a1\nvp0_1          | <http:\/\/github.com\/hyperledger\/fabric\/core\/peernext.(*Impl).handleChat(0xc4203b03c0|github.com\/hyperledger\/fabric\/core\/peernext.(*Impl).handleChat(0xc4203b03c0>, 0x7f1a5303cd78, 0xc420155830, 0x7f1a530772b0, 0xc4203db120, 0x421500, 0x0, 0x0)\nvp0_1          | \t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/peernext\/peer.go:566 +0x1d7\nvp0_1          | <http:\/\/github.com\/hyperledger\/fabric\/core\/peernext.(*Impl).Chat(0xc4203b03c0|github.com\/hyperledger\/fabric\/core\/peernext.(*Impl).Chat(0xc4203b03c0>, 0x115bdc0, 0xc4203db120, 0xc42001e4a8, 0xc42001e4d0)\nvp0_1          | \t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/peernext\/peer.go:258 +0xa8\nvp0_1          | <http:\/\/github.com\/hyperledger\/fabric\/protos._Peer_Chat_Handler(0xbc8da0|github.com\/hyperledger\/fabric\/protos._Peer_Chat_Handler(0xbc8da0>, 0xc4203b03c0, 0x115a500, 0xc42009dd00, 0xc420155830, 0x0)\nvp0_1          | \t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/protos\/fabric.pb.go:696 +0xbb\nvp0_1          | <http:\/\/github.com\/hyperledger\/fabric\/vendor\/google.golang.org\/grpc.(*Server).processStreamingRPC(0xc4201d0bd0|github.com\/hyperledger\/fabric\/vendor\/google.golang.org\/grpc.(*Server).processStreamingRPC(0xc4201d0bd0>, 0x115b520, 0xc42007c2d0, 0xc42008c3c0, 0xc4203ad290, 0x113db80, 0xc420155800, 0x0, 0x0)\nvp0_1          | \t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/vendor\/google.golang.org\/grpc\/server.go:657 +0x6f3\nvp0_1          | <http:\/\/github.com\/hyperledger\/fabric\/vendor\/google.golang.org\/grpc.(*Server).handleStream(0xc4201d0bd0|github.com\/hyperledger\/fabric\/vendor\/google.golang.org\/grpc.(*Server).handleStream(0xc4201d0bd0>, 0x115b520, 0xc42007c2d0, 0xc42008c3c0, 0xc420155800)\nvp0_1          | \t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/vendor\/google.golang.org\/grpc\/server.go:741 +0xc33\nvp0_1          | <http:\/\/github.com\/hyperledger\/fabric\/vendor\/google.golang.org\/grpc.(*Server).serveStreams.func1.1(0xc4203db070|github.com\/hyperledger\/fabric\/vendor\/google.golang.org\/grpc.(*Server).serveStreams.func1.1(0xc4203db070>, 0xc4201d0bd0, 0x115b520, 0xc42007c2d0, 0xc42008c3c0)\nvp0_1          | \t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/vendor\/google.golang.org\/grpc\/server.go:402 +0xab\nvp0_1          | created by <http:\/\/github.com\/hyperledger\/fabric\/vendor\/google.golang.org\/grpc.(*Server).serveStreams.func1|github.com\/hyperledger\/fabric\/vendor\/google.golang.org\/grpc.(*Server).serveStreams.func1>\nvp0_1          | \t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/vendor\/google.golang.org\/grpc\/server.go:403 +0xa3","ts":"1477336269.002211"},{"type":"message","user":"U0ULK2JPP","text":"<@U13TWBRBL> will have to look but the only thing that has been tested to work is the simple skeletong with CLI","ts":"1477337949.002212"},{"type":"message","user":"U0ULK2JPP","text":"was talking with <@U0UKTPMG8> about this infact","ts":"1477337980.002213"},{"type":"message","user":"U0UKTPMG8","text":"<@U13TWBRBL> working on this right now","ts":"1477338013.002214"},{"type":"message","user":"U0UKTPMG8","text":"putting in a default engine which will remedy this issue","ts":"1477338025.002215","reactions":[{"name":"+1","users":["U13TWBRBL"],"count":1}]},{"type":"message","user":"U0ZJZBJLF","text":"Hey, question- is there a need for a membership service to run if I want to use the node SDK without security, and if the validator is running in dev mode?","edited":{"user":"U0ZJZBJLF","ts":"1477400342.000000"},"ts":"1477400328.002216"},{"type":"message","user":"U184J2R7S","text":"For Hyperledger-fabric, a few of us are trying to put what we are working on over the next month in the JIRA boards based off of the requirements for the roadmap that are tracked in Jira by end of day Tuesday:   <https:\/\/jira.hyperledger.org\/issues\/?filter=-2&amp;jql=ORDER%20BY%20createdDate%20DESC>","ts":"1477414125.002218"},{"type":"message","user":"U184J2R7S","text":"Jira boards show a prioritized order of items to be implemented based on feedback received, so I would like to encourage the community to take a look at the JIRA boards in case you have comments.  Please note that as we work through coding, there is learning, so the boards to shift as part of being an agile team.","ts":"1477414187.002219"},{"type":"message","user":"U184J2R7S","text":"if you do have comments- I suggest going to the different slack channels associated with the Jira board.  (for example if you want to comment on work for nodejs.sdk- go to fabric-sdk-nod-dev channel)","ts":"1477414238.002220"},{"type":"message","user":"U184J2R7S","text":"Also  if you have items you are working in these areas as well, please add them to the boards as it would be helpful to understand what others are working on if not already identified.  Or if you need help- tag items with \"help wanted\"","ts":"1477414332.002221"},{"type":"message","user":"U184J2R7S","text":"Mark Parzygnat also shared this document on using Jira to understand current work items.\n\nThis document has been created to give further insight into the work in progress towards the hyperledger\/fabric v1 architecture based off the community roadmap.  The requirements for the roadmap are being tracked in Jira: <https:\/\/jira.hyperledger.org\/issues\/?filter=-2&amp;jql=ORDER%20BY%20createdDate%20DESC>\n\nIt was determined to organize in sprints to better track and show a prioritized order of items to be implemented based on feedback received. We\u2019ve done this via boards. \nTo see these boards and the priorities click on Boards-&gt;manage boards:\n \n\nNow on the left side of the screen click on \u201cAll Boards\u201d:\n \nOn this page you will see all the public (and restricted) boards that have been created. If you want to see the currently focused work, click on the boards with \u201cVisibility\u201d = \u201cAll Users\u201d and \u201cBoard type\u201d = \u201cScrum\u201d for example Consensus: \n \n\n\nWhen you click on Consensus under \u201cBoard name\u201d you will be directed to a page that contains the following columns:\n \n\nThe meanings to these columns are as follows:\n\u2022\tBacklog \u2013 list of items slated for the current sprint (sprints are defined in 2 week iterations), but are not currently in progress\n\u2022\tIn progress \u2013 are items currently being worked by someone in the community.\n\u2022\tIn Review \u2013 waiting to be reviewed and merged in Gerritt\n\u2022\tDone \u2013 merged and complete in the sprint.\n\nIf you want to see all items in the backlog for a given feature set click on the stacked rows on the left navigation of the screen:\n \n\nThis shows you items slated for the current sprint at the top, and all items  in the backlog at the bottom. Items are listed in priority order. \n\nIf there is an item you are interested in working on, want more information or have questions, or if there is an item that you feel needs to be in higher priority, please add comments directly to the Jira item. All feedback and help is very much appreciated.","ts":"1477414475.002222"},{"user":"U2U1GAVL3","text":"<@U2U1GAVL3|senthil> has joined the channel","type":"message","subtype":"channel_join","ts":"1477421314.002223"},{"type":"message","user":"U0XQ35CDD","text":"Do we know whether *CI* now runs on Go 1.7?","ts":"1477421906.002224"},{"type":"message","user":"U0UHG4VP1","text":"kostas no it doesn't","ts":"1477423336.002225"},{"type":"message","user":"U0UHG4VP1","text":"that was something ghaskins was working on with muralisr IIRC","ts":"1477423361.002226"},{"type":"message","user":"U0XQ35CDD","text":"<@U0UHG4VP1>: Thanks for the update. I remember <@U0KPFAZNF> giving me a heads up on this, just wanted to check on its progress.","ts":"1477423852.002227"},{"type":"message","user":"U0UHG4VP1","text":"kostas if you can wait until tomorrow I may have a solution","ts":"1477424098.002228"},{"type":"message","user":"U0UHG4VP1","text":"kostas my hair is on fire right now, though, so... not today","ts":"1477424116.002229"},{"type":"message","user":"U0XQ35CDD","text":"<@U0UHG4VP1>: No problem at all, thank you. Post an update here whenever it's done if you can, and I'll enable the Go 1.7-related tests.","edited":{"user":"U0XQ35CDD","ts":"1477425143.000000"},"ts":"1477425136.002230"},{"type":"message","user":"U2BGFAHC7","text":"Anyone had issues with the building of chaincode being incredibly slow?\n```19:43:58.136 [consensus\/pbft] ProcessEvent -&gt; INFO 027 Replica 0 batch timer expired\n19:43:58.136 [consensus\/pbft] sendBatch -&gt; INFO 028 Creating batch with 1 requests\n19:43:58.373 [consensus\/pbft] executeOne -&gt; INFO 029 Replica 0 executing\/committing request batch for view=0\/seqNo=1 and digest HjKuvhOoO7kuwpNAUDLpRuLIi\/zLmBJr2xvZENIbzDlzFVYS4hRTZVLGH8P0U+qaXe+CWx6n068bhEwtvzVfew==\n20:11:30.383 [consensus\/pbft] execDoneSync -&gt; INFO 02a Replica 0 finished execution 1, trying next```\nIt\u2019s taken 28ish minutes to do the first part of the docker image build! I\u2019m running 5 peers on 3x3.75GB Google Cloud boxes. Must be doing something wrong :slightly_smiling_face:","ts":"1477426936.002232"},{"type":"message","user":"U0PB67X4K","text":"<@U2BGFAHC7> - are you sharing one Docker daemon across all the peers?  Or is each peer on a separate hosts with its own local daemon?","ts":"1477428778.002233"},{"type":"message","user":"U2BGFAHC7","text":"Each peer has its own matching docker daemon running in another container.","edited":{"user":"U2BGFAHC7","ts":"1477428979.000000"},"ts":"1477428961.002234"},{"type":"message","user":"U0PB67X4K","text":"on the same host?","ts":"1477428978.002235"},{"type":"message","user":"U2BGFAHC7","text":"peer-1,docker-1,peer-2,docker-2,etc.","ts":"1477428998.002237"},{"type":"message","user":"U0PB67X4K","text":"are you using DinD ?","ts":"1477429015.002238"},{"type":"message","user":"U2BGFAHC7","text":"Yep.","ts":"1477429019.002239"},{"type":"message","user":"U2BGFAHC7","text":"```...\n      containers:\n      - name: docker\n        image: docker:dind\n        securityContext:\n          privileged: true\n        ports:\n          - containerPort: 2375\n            name: docker\n      - name: peer\n        image: hyperledger\/fabric-peer:latest\n        command: [\"sh\",\"-c\",\"sleep 10;CORE_PEER_ID=$(hostname|sed 's\/peer-\/vp\/') CORE_PEER_ADDRESS=$(hostname).peer.default.svc.cluster.local:7051 peer node start\"]\n        env:\n\u2026.```","ts":"1477429086.002240"},{"type":"message","user":"U0PB67X4K","text":"When I used DinD, a couple of times I noticed that it was taking forever to download the fabric-baseimage (which is the base for each chaincode container)","ts":"1477429188.002241"},{"type":"message","user":"U2BGFAHC7","text":"Yeah, if I shutdown the cluster, I get a sudden rush of half-downloaded image logs...","ts":"1477429239.002242"},{"type":"message","user":"U2BGFAHC7","text":"Think DinD is a dead-end?","ts":"1477429256.002243"},{"type":"message","user":"U0PB67X4K","text":"It was working pretty well for me.    What I ended up doing was building a wrapper image around docker:dind where I ran a script on startup to do a \"docker pull\" and \"docker tag\" to get the base image preloaded on startup before trying to deploy chaincode","edited":{"user":"U0PB67X4K","ts":"1477429408.000000"},"ts":"1477429401.002244"},{"type":"message","user":"U2BGFAHC7","text":"I can try and replicate that :slightly_smiling_face:","ts":"1477429428.002246"},{"type":"message","user":"U2BGFAHC7","text":"Wonder why it is slow though?","ts":"1477429440.002247"},{"type":"message","user":"U0PB67X4K","text":"I honestly never figure it out.  it only happen sometimes","ts":"1477429495.002248"},{"type":"message","user":"U2BGFAHC7","text":"Is it not tempting to actually send the docker image over GRPC as part of the protocol? Build once, use everywhere?","ts":"1477429517.002249"},{"type":"message","user":"U0PB67X4K","text":"the first time I used DinD it worked like a charm.  Then it started flaking when pulling and building so I preloaded the baseimage","ts":"1477429525.002250"},{"type":"message","user":"U0PB67X4K","text":"technically you could do what you mention","ts":"1477429548.002251"},{"type":"message","user":"U2BGFAHC7","text":"Currently?","ts":"1477429561.002252"},{"type":"message","user":"U0PB67X4K","text":"so basically what you are sending over GRPC is a Docker tar.gz file like you would send to the Docker remote API","ts":"1477429622.002253"},{"type":"message","user":"U0PB67X4K","text":"so you could pretty much create a Docker tarball with a Dockerfile that was \"from scratch and a statically compiled chaincode binary\"","edited":{"user":"U0PB67X4K","ts":"1477429707.000000"},"ts":"1477429692.002254"},{"type":"message","user":"U0PB67X4K","text":"if you take a look through the NodeJS SDK, you'll actually see the point where we build this tarball using a hardcoded Dockerfile","ts":"1477429763.002256"},{"type":"message","user":"U0PB67X4K","text":"which takes the chaincode src, etc","ts":"1477429779.002257"},{"type":"message","user":"U0PB67X4K","text":"you could replace that part and build the tarball the way I mentioned  above and call the same GRPC API","ts":"1477429811.002258"},{"type":"message","user":"U2BGFAHC7","text":"Interesting! Sounds like I should get my hands dirty with some go GRPC invocations :slightly_smiling_face: Thanks!","ts":"1477429854.002259"},{"type":"message","user":"U0PB67X4K","text":"I knew that would get you revved up!   (see how I did that  :wink: )","ts":"1477429874.002260"},{"type":"message","user":"U2BGFAHC7","text":"You did :slightly_smiling_face: I also told you I\u2019d break things :wink:","ts":"1477429896.002261"},{"type":"message","user":"U0PB67X4K","text":"touche!","ts":"1477429909.002262"},{"type":"message","user":"U0UHG4VP1","text":"I recall an issue where someone was not running it in an empty directory or something and the DinD image was growing to an unbound size as it tried to make an image of itself","ts":"1477431317.002263"},{"type":"message","user":"U2BGFAHC7","text":"<@U0UHG4VP1> any links to more detail?","ts":"1477432534.002264"},{"type":"message","user":"U0UHG4VP1","text":"donovanhide no, this was an issue at the hackfest in Amsterdam. If you're seeing your DinD image growing unbound and never launching, look into that. <@U0KM61BCP> knows the details.","ts":"1477432635.002265"},{"type":"message","user":"U2BGFAHC7","text":"Ok, thanks, sounds like it might be the issue!","ts":"1477432721.002266"},{"type":"message","user":"U0UHG4VP1","text":"it's like the first step or something in the directions and this guy ran it in his home directory or something like that.","ts":"1477432777.002267"},{"user":"U2NNLN56V","text":"<@U2NNLN56V|conghonglei> has joined the channel","type":"message","subtype":"channel_join","ts":"1477441915.002268"},{"type":"message","user":"U0Z41KY5V","text":"i noticed that the sprint2 of jira is in complete status now, many related tasks are gone at the board. Anyone know how to create new sprint or project at jira? Thanks!","ts":"1477468759.002269"},{"user":"U0N4P17ND","text":"<@U0N4P17ND|oiakovlev> has joined the channel","type":"message","subtype":"channel_join","ts":"1477471851.002270"},{"user":"U1KFBBWG1","text":"<@U1KFBBWG1|harrisob> has joined the channel","type":"message","subtype":"channel_join","ts":"1477491618.002271"},{"type":"message","user":"U1KFBBWG1","text":"I see a new directory called \u2018next\u2019 under \/protos ,  should we start using these ?","ts":"1477491866.002272"},{"type":"message","user":"U0KM61BCP","text":"<@U0Z41KY5V>: there should be a button to create a new one","ts":"1477524412.002273"},{"type":"message","user":"U0Z41KY5V","text":"Thanks <@U0KM61BCP>, however, the button does not allow to create new project or sprint. Maybe some owner of the JIRA board can help? Thanks!","ts":"1477533319.002274"},{"type":"message","user":"U0UHG4VP1","text":"baohua can you tell me exactly what you need?","ts":"1477533414.002275"},{"type":"message","user":"U0Z41KY5V","text":"yes, ry. Previously we use the sprint2 to collect the related task on the fabric-sdk-py project. However, now sprint2 is marked as complete, then we cannot find a single place for the collection.  Maybe I\u2019m not using jira in the correct method? Thanks for any advice","ts":"1477533524.002276"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2UNPLPL3\/screen_shot_2016-10-26_at_6.59.32_pm.png|OK I see Sprint 4 is currently active, and I see this>","file":{"id":"F2UNPLPL3","created":1477533592,"timestamp":1477533592,"name":"Screen Shot 2016-10-26 at 6.59.32 PM.png","title":"OK I see Sprint 4 is currently active, and I see this","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0UHG4VP1","editable":false,"size":45451,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2UNPLPL3\/screen_shot_2016-10-26_at_6.59.32_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2UNPLPL3\/download\/screen_shot_2016-10-26_at_6.59.32_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2UNPLPL3-61eb4e309f\/screen_shot_2016-10-26_at_6.59.32_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2UNPLPL3-61eb4e309f\/screen_shot_2016-10-26_at_6.59.32_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2UNPLPL3-61eb4e309f\/screen_shot_2016-10-26_at_6.59.32_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":236,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2UNPLPL3-61eb4e309f\/screen_shot_2016-10-26_at_6.59.32_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","image_exif_rotation":1,"original_w":412,"original_h":270,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2UNPLPL3\/screen_shot_2016-10-26_at_6.59.32_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2UNPLPL3-69ed5d1e1d","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1477533593.002277"},{"type":"message","user":"U0UHG4VP1","text":"so do you need a Sprint 4 for SDK-py or something?","ts":"1477533614.002278"},{"type":"message","user":"U0UHG4VP1","text":"I've never really used this feature in Jira. If you need something, I'll create it for you, I'm just not sure exactly what you need","ts":"1477533752.002279"},{"type":"message","user":"U0Z41KY5V","text":"Yes, sprint 4 will not expire soon, right? Then please help create one, thanks for your help!","ts":"1477533915.002280"},{"type":"message","user":"U0UHG4VP1","text":"what do you want it called?","ts":"1477534013.002281"},{"type":"message","user":"U0UHG4VP1","text":"are you locked with fabric release?","ts":"1477534031.002282"},{"type":"message","user":"U0Z41KY5V","text":"SDK-Python should be good, and we will target at release 1.0, thanks!","ts":"1477534479.002283"},{"type":"message","user":"U0UHG4VP1","text":"baohua is this distinct from <https:\/\/jira.hyperledger.org\/secure\/RapidBoard.jspa?rapidView=85&amp;view=planning.nodetail> ?","ts":"1477535559.002284"},{"type":"message","user":"U0UHG4VP1","text":"that's the pythonSDK board, so what you need is a new sprint there?","ts":"1477535588.002285"},{"type":"message","user":"U0UHG4VP1","text":"I just created sprint 4 there, you should see it and be able to move issues there","ts":"1477535617.002286"},{"type":"message","user":"U0Z41KY5V","text":"yes, this is good, but can it show a board with processing status, like which is in todo, which is in processsing...","ts":"1477535627.002287"},{"type":"message","user":"U0UHG4VP1","text":"can you show me an example of what you want in another project?","ts":"1477535659.002288"},{"type":"message","user":"U0UHG4VP1","text":"I think by creating the new sprint you can drag items from the backlog","ts":"1477535676.002289"},{"type":"message","user":"U0UHG4VP1","text":"if you refresh this page: <https:\/\/jira.hyperledger.org\/secure\/RapidBoard.jspa?rapidView=85&amp;view=planning.nodetail> are you able to drag items from the backlog and reorder them?","ts":"1477535721.002290"},{"type":"message","user":"U0Z41KY5V","text":"yes, i\u2019m dragging :slightly_smiling_face: let me find an example","ts":"1477535786.002291"},{"type":"message","user":"U0Z41KY5V","text":"can we let them shown at here, in active sprint view: <https:\/\/jira.hyperledger.org\/secure\/RapidBoard.jspa?rapidView=85>","ts":"1477535840.002292"},{"type":"message","user":"U13TWBRBL","text":"<@U0KN2SSKE> <@U0ULK2JPP> have we decided on the \u201cendorsement policy\u201d design? in earlier discussions we said it\u2019ll be up to the application code to inspect endorsement inside ProposalResponse and judge on whether criteria have been met. is that still the case? I see \u201cendorsement policy\u201d mentioned lately that seems to point to an official construct expressing that criteria. can you please clarify?","ts":"1477540997.002293"},{"user":"U2UT57Y6Q","text":"<@U2UT57Y6Q|nitin> has joined the channel","type":"message","subtype":"channel_join","ts":"1477560690.002294"},{"user":"U2URZF2AF","text":"<@U2URZF2AF|zxc> has joined the channel","type":"message","subtype":"channel_join","ts":"1477561848.002295"},{"type":"message","user":"U0ULK2JPP","text":"<@U13TWBRBL>  `it\u2019ll be up to the application code to inspect endorsement inside ProposalResponse and judge on whether criteria have been met. is that still the case` \u2026 I think so. I remember we also talked about how the application can just get ProposalResponse from the first Endorser and pass that to others so other endorsers can use that in addition to the endorsement policy.  We should revisit this to see if we still want to do this and if so,  go over the details","edited":{"user":"U0ULK2JPP","ts":"1477570681.000000"},"ts":"1477570650.002296"},{"type":"message","user":"U0PB67X4K","text":"its more like a pre-check though - as VSCC will actually enforce endorsement policy as well as MVCC","ts":"1477578730.002298"},{"type":"message","user":"U0PB67X4K","text":"so the app is not the sole gatekeeper","ts":"1477578737.002299"},{"type":"message","user":"U0PB67X4K","text":"but you would build the thing responsible for obtaining, packaging and submitting endorsed transactions using the client sdk(s)","ts":"1477578788.002300"},{"type":"message","user":"U0ULK2JPP","text":"`pre-check` is a good way to think about this, agreed\u2026. perhaps a good time to point at the VSCC angle (verify signatures etc)  as in this <https:\/\/jira.hyperledger.org\/browse\/FAB-187>","ts":"1477579304.002301"},{"type":"message","user":"U13TWBRBL","text":"<@U0ULK2JPP> <@U0PB67X4K> makes sense, and \u201cendorsement policy\u201d on the VSCC side is also to be implemented with pure code right? in other words we are not defining a \u201cendorsement policy\u201d construct to _declaratively_ express \u201cat least 1 valid signature\u201d, \u201cmust be signed by these specific identities\u201d, \u201c80% or more approved and signed\u201d or other custom policies right?","edited":{"user":"U13TWBRBL","ts":"1477581211.000000"},"ts":"1477581178.002302"},{"type":"message","user":"U0ULK2JPP","text":"<@U13TWBRBL> `Explicit list of signatures; advanced implementation may allow boolean expressions including AND, OR. For example, (a AND b) OR c` is best done declaratively\u2026 if done in go , users will be forced to implement VSCC for every policy which is not just a usability issue but may also have code bloat and performance. Note that the `(a AND b) OR c` is just a convenience representation\u2026. it could be JSON (<@U0XPR4NP4> suggestion.) This could be part of the support in his dsl.","ts":"1477581433.002304"},{"type":"message","user":"U0ULK2JPP","text":"if we do this right this could be a powerful feature\u2026 but need <@U0KN2SSKE> <@U0PB67X4K> input\/signoff","ts":"1477581522.002305"},{"type":"message","user":"U13TWBRBL","text":"\"this could be a powerful feature\u201d - yes agreed, but will this be done by March considering all the work in other areas? it feels like a nice to have feature but not critical","ts":"1477581576.002306"},{"type":"message","user":"U0ULK2JPP","text":"I think this is not hard to do\u2026. ? when the dust settles down, its these kind of usability features that determine user buy-in. Just IMO again\u2026 you could be 100% right","ts":"1477581674.002307"},{"type":"message","user":"U0XPR4NP4","text":"<@U0ULK2JPP> I would stress that JSON is a nice CLI input, because it's human readable, but, internally I would always store as bytes (so we can leverage the protobuf niceness)","ts":"1477582016.002308"},{"type":"message","user":"U0ULK2JPP","text":"<@U0XPR4NP4> undoubtedly","ts":"1477582046.002309"},{"type":"message","user":"U0ULK2JPP","text":"<@U13TWBRBL> one more thing to consider. \u2026 with this declarative approach, modifying the policy is just a transaction. Users won\u2019t have to install a new VSCC and rebuild","ts":"1477582397.002310"},{"type":"message","user":"U184J2R7S","text":"For awareness- Binh created a link pointing to the design documentation.  Gossip was added most recently- <https:\/\/wiki.hyperledger.org\/community\/fabric-design-docs>","ts":"1477585781.002311"},{"user":"U11HTMW0H","text":"<@U11HTMW0H|bmos299> has joined the channel","type":"message","subtype":"channel_join","ts":"1477597258.002312"},{"type":"message","user":"U0ZJZBJLF","text":"Who is Tim S?","ts":"1477604163.002313"},{"type":"message","user":"U1KFBBWG1","text":"Hello \u2026 just rebuilt from fabric\/master\nTrying to run a deploy proposal and getting on the peer side \u2026 however the response back to NodeSDK is status 200\n<@U0UKTPMG8> <@U20AFGJ0Z> \n19:32:24.053 [chaincode] processStream -&gt; ERRO 0c9 Error handling chaincode support stream: stream error: code = 1 desc = \"context canceled\"","edited":{"user":"U1KFBBWG1","ts":"1477683531.000000"},"ts":"1477679290.002314"},{"user":"U2M0J2CUX","text":"<@U2M0J2CUX|arthur.yu> has joined the channel","type":"message","subtype":"channel_join","ts":"1477710527.002316"},{"user":"U153ZC9PU","text":"<@U153ZC9PU|frankwg> has joined the channel","type":"message","subtype":"channel_join","ts":"1477884182.002317"},{"user":"U2Q0HP4HY","text":"<@U2Q0HP4HY|rickr> has joined the channel","type":"message","subtype":"channel_join","ts":"1477958315.002318"},{"user":"U2WN7LSSY","text":"<@U2WN7LSSY|jhamhader> has joined the channel","type":"message","subtype":"channel_join","ts":"1477989641.002319"},{"user":"U2WQKDQPM","text":"<@U2WQKDQPM|pluradj> has joined the channel","type":"message","subtype":"channel_join","ts":"1478007321.002320"},{"type":"message","user":"U0ZR63HLK","text":"It looks like there is failure when running 'make all': recipe for target 'linter' failed. I have posted a JIRA issue here: <https:\/\/jira.hyperledger.org\/browse\/FAB-920>. Anyone knowing why it is failing?","ts":"1478009167.002321"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZR63HLK>: there are similar reports, looking into it","ts":"1478009458.002322"},{"type":"message","user":"U0KPFAZNF","text":"Not clear why, but the linter is acting non deterministic","ts":"1478009499.002323"},{"type":"message","user":"U0KPFAZNF","text":"I think generally the issues are legit, just not clear why some runs pass","ts":"1478009533.002324"},{"type":"message","user":"U0ZJZBJLF","text":"maybe the linter version is different in the CI and on some of the envs?","ts":"1478009533.002325"},{"type":"message","user":"U0KPFAZNF","text":"We've seen it in other contexts ","ts":"1478009553.002326"},{"type":"message","user":"U0ZJZBJLF","text":"ok","ts":"1478009557.002327"},{"type":"message","user":"U0KPFAZNF","text":"Short answer, we should probably fix any found as a superset","ts":"1478009582.002328"},{"type":"message","user":"U2Q0HP4HY","text":"I reported the errors it shows ..  I don't have the GO experience to know if they're a concern or not.","ts":"1478009631.002329"},{"type":"message","user":"U0ZR63HLK","text":"in my case, it reports that solo\/broadcast.go and solo\/broadcast_test.go contain errors","edited":{"user":"U0ZR63HLK","ts":"1478009683.000000"},"ts":"1478009672.002330"},{"type":"message","user":"U0ZJZBJLF","text":"someone needs to open a PR to google or whoever makes the linter\/vet, so it'll have a -w flag that can fix simple cases like these, where you have a single value in the struct","edited":{"user":"U0ZJZBJLF","ts":"1478009878.000000"},"ts":"1478009680.002331"},{"type":"message","user":"U1KFBBWG1","text":"How do I do chaincode query ?  When doing an invoke we set the first arg to be the function name \u2018invoke\u2019, however when setting it to \u2018query\u2019, the invoke is being called on the chaincode not the query. How do we build the proposal request to do a query?","ts":"1478013146.002334"},{"user":"U2X087SH4","text":"<@U2X087SH4|rangao> has joined the channel","type":"message","subtype":"channel_join","ts":"1478017306.002335"},{"type":"message","user":"U13TWBRBL","text":"<@U0ULK2JPP> <@U0UKTPMG8> <@U0KN2SSKE> with the new .proto files checked into master, how much of the new APIs and grpc message formats are completed? I tried to look inside bddtests for reference of a client impl but didn\u2019t see any targeting the new APIs","ts":"1478022731.002336"},{"type":"message","user":"U13TWBRBL","text":"when \u201cmake behave\u201d only a few solo and kafka orderer tests ran, others are skipped or failed","ts":"1478022773.002337"},{"type":"message","user":"U13TWBRBL","text":"I\u2019m getting some hint on impl details in fabric\/protos\/util\/proputils.go, but would be nice if the bddtests are caught up with the peer","ts":"1478023733.002338"},{"user":"U23DJ7XDZ","text":"<@U23DJ7XDZ|ermyas> has joined the channel","type":"message","subtype":"channel_join","ts":"1478040081.002339"},{"user":"U2UUDQP7F","text":"<@U2UUDQP7F|michaelwang> has joined the channel","type":"message","subtype":"channel_join","ts":"1478072008.002340"},{"type":"message","user":"U0NK7T8SH","text":"Hi all,  I got some problem to unmarshal transaction payload and chaincode id from the  block event, when the transaction\u2019s ConfidentialityLevel = 1,  I should get a privatekey to decrypt it, so the question is privatekey owner, who is the owner, it is the member that issued the transaction, right ? thank a lot.","ts":"1478081572.002341"},{"type":"message","user":"U0NK7T8SH","text":"Got the answer, thanks again","ts":"1478083810.002342"},{"type":"message","user":"U2Q0HP4HY","text":"Hi If I want to tag my images before a build to move back do I need to also include the *env and src container images ?","ts":"1478087378.002343"},{"user":"U2KJHTPQT","text":"<@U2KJHTPQT|stevenroose> has joined the channel","type":"message","subtype":"channel_join","ts":"1478088390.002344"},{"type":"message","user":"U2KJHTPQT","text":"Hi, I'm new to Gerrit and Jira. I made a change to the chaincode shim package and tried to submit it to Gerrit. (It was a branch with two commits and it created two separate items for it, but that's not too bad, they make separate changes). Do I also have to do something on the Jira side in order to get people to review the change?","ts":"1478088482.002345"},{"type":"message","user":"U0KPFAZNF","text":"hello <@U2KJHTPQT>\u2026if you pushed the CRs to gerrit, you dont need to do anything else in particular\u2026I know I regularly scan the list and review whats there (though I am woefully behind on account of travel last week).","ts":"1478090365.002346"},{"type":"message","user":"U0KPFAZNF","text":"<@U2Q0HP4HY> not sure what you mean\u2026.the docker images already are tagged with $arch-$version","ts":"1478090411.002347"},{"type":"message","user":"U0KPFAZNF","text":"you shouldnt need any more than that, I would think","ts":"1478090422.002348"},{"type":"message","user":"U0KPFAZNF","text":"but perhaps I am misunderstanding","ts":"1478090430.002349"},{"type":"message","user":"U2Q0HP4HY","text":"I thought the clean-dist would remove them all","ts":"1478090446.002350"},{"type":"message","user":"U2Q0HP4HY","text":"I do that before the build  -- maybe I don't need to do that ..","ts":"1478090471.002351"},{"type":"message","user":"U0KPFAZNF","text":"generally, I wouldnt use that unless you are really wanting to sanitize","edited":{"user":"U0KPFAZNF","ts":"1478090817.000000"},"ts":"1478090809.002352"},{"type":"message","user":"U2Q0HP4HY","text":"I've been bit too many may times in the past with left overs corrupting builds :slightly_smiling_face:","ts":"1478091096.002354"},{"type":"message","user":"U0KPFAZNF","text":"understood...though if that occurs I would like to know about it","ts":"1478092044.002355"},{"type":"message","user":"U0KPFAZNF","text":"at the very least, you probably want \"make clean\" not \"dist-clean\", as that nukes tools and stuff like that","ts":"1478092064.002356"},{"type":"message","user":"U0KPFAZNF","text":"but even that shouldnt be strictly necessary","ts":"1478092072.002357"},{"type":"message","user":"U2Q0HP4HY","text":"speaking of which .. just got latest master fresh clone ... built in vagrant (fresh too) ...\nseeing ... \n```\nok  \t<http:\/\/github.com\/hyperledger\/fabric\/gossip\/comm|github.com\/hyperledger\/fabric\/gossip\/comm>\t33.118s\tcoverage: 85.6% of statements\nok  \t<http:\/\/github.com\/hyperledger\/fabric\/gossip\/discovery|github.com\/hyperledger\/fabric\/gossip\/discovery>\t21.125s\tcoverage: 70.4% of statements\n2016\/11\/02 13:09:38  WARNING (*connection).serviceInput():(comm-5612)[Closing reading from stream]\n2016\/11\/02 13:09:38  WARNING (*connection).serviceInput():(comm-5610)[Closing reading from stream]\n2016\/11\/02 13:09:38  WARNING (*connection).readFromStream():(comm-5613)[[108 111 99 97 108 104 111 115 116 58 53 54 49 48\n\n(lots more)\n\n] canceling read because closing]\n2016\/11\/02 13:09:38  WARNING (*connection).readFromStream():(comm-5615)[[108 111 99 97 108 104 111 115 116 58 53 54 49 51] canceling read because closing]\n2016\/11\/02 13:09:38  WARNING (*connection).serviceInput():(comm-5611)[Closing reading from stream]\nTook 7.103924487s\n<http:\/\/github.com\/hyperledger\/fabric\/gossip\/gossip.getGoroutineRawText(0x7f09e0|github.com\/hyperledger\/fabric\/gossip\/gossip.getGoroutineRawText(0x7f09e0>, 0xacd530)\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/gossip\/gossip\/gossip_test.go:552 +0x79\n<http:\/\/github.com\/hyperledger\/fabric\/gossip\/gossip.getGoRoutines(0x1dcd6500|github.com\/hyperledger\/fabric\/gossip\/gossip.getGoRoutines(0x1dcd6500>, 0xc420190540, 0x89d716)\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/gossip\/gossip\/gossip_test.go:558 +0x56\n<http:\/\/github.com\/hyperledger\/fabric\/gossip\/gossip.ensureGoroutineExit(0xc420190540)|github.com\/hyperledger\/fabric\/gossip\/gossip.ensureGoroutineExit(0xc420190540)>\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/gossip\/gossip\/gossip_test.go:508 +0x3b8\n<http:\/\/github.com\/hyperledger\/fabric\/gossip\/gossip.TestPull(0xc420190540)|github.com\/hyperledger\/fabric\/gossip\/gossip.TestPull(0xc420190540)>\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/gossip\/gossip\/gossip_test.go:227 +0x946\ntesting.tRunner(0xc420190540, 0x8cbf20)\n\t\/opt\/go\/src\/testing\/testing.go:610 +0x81\ncreated by testing.(*T).Run\n\t\/opt\/go\/src\/testing\/testing.go:646 +0x2ec\n\ntesting.(*T).Run(0xc420190240, 0x891c59, 0x8, 0x8cbf20, 0xc42013fc01)\n\t\/opt\/go\/src\/testing\/testing.go:647 +0x316\ntesting.RunTests.func1(0xc420190240)\n\t\/opt\/go\/src\/testing\/testing.go:793 +0x6d\ntesting.tRunner(0xc420190240, 0xc4205b3d98)\n\t\/opt\/go\/src\/testing\/testing.go:610 +0x81\ntesting.RunTests(0x8cc730, 0xaa9780, 0xe, 0xe, 0x4109ee)\n\t\/opt\/go\/src\/testing\/testing.go:799 +0x2f5\ntesting.(*M).Run(0xc4205b3ef8, 0x8a4e7f)\n\t\/opt\/go\/src\/testing\/testing.go:743 +0x85\nmain.main()\n\t<http:\/\/github.com\/hyperledger\/fabric\/gossip\/gossip\/_test\/_testmain.go:132|github.com\/hyperledger\/fabric\/gossip\/gossip\/_test\/_testmain.go:132> +0x1bd\n\nruntime.goexit()\n\t\/opt\/go\/src\/runtime\/asm_amd64.s:2086 +0x1\n\ntime.Sleep(0x9502f9000)\n\t\/opt\/go\/src\/runtime\/time.go:59 +0xe1\n<http:\/\/github.com\/hyperledger\/fabric\/gossip\/gossip.waitForTestCompletion|github.com\/hyperledger\/fabric\/gossip\/gossip.waitForTestCompletion>(0xc420011028, 0x9502f9000, 0xc420190540)\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/gossip\/gossip\/gossip_test.go:529 +0x2f\ncreated by <http:\/\/github.com\/hyperledger\/fabric\/gossip\/gossip.TestPull|github.com\/hyperledger\/fabric\/gossip\/gossip.TestPull>\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/gossip\/gossip\/gossip_test.go:157 +0x141\n\n\n--- FAIL: TestPull (12.67s)\n        Error Trace:    gossip_test.go:506\n\t\t\tgossip_test.go:227\n\tError:\t\tGoroutine(s) haven't ended: %s\n\tMessages:\t[testing.(*T).Run(0xc420190240, 0x891c59, 0x8, 0x8cbf20, 0xc42013fc01) \t\/opt\/go\/src\/testing\/testing.go:647 +0x316 testing.RunTests.func1(0xc420190240) \t\/opt\/go\/src\/testing\/testing.go:793 +0x6d testing.tRunner(0xc420190240, 0xc4205b3d98) \t\/opt\/go\/src\/testing\/testing.go:610 +0x81 testing.RunTests(0x8cc730, 0xaa9780, 0xe, 0xe, 0x4109ee) \t\/opt\/go\/src\/testing\/testing.go:799 +0x2f5 testing.(*M).Run(0xc4205b3ef8, 0x8a4e7f) \t\/opt\/go\/src\/testing\/testing.go:743 +0x85 main.main() \t<http:\/\/github.com\/hyperledger\/fabric\/gossip\/gossip\/_test\/_testmain.go:132|github.com\/hyperledger\/fabric\/gossip\/gossip\/_test\/_testmain.go:132> +0x1bd]\n\t\t\n20\n```\n\n898ea6e0add33ec998a09eadc7aa32c989fffa00","ts":"1478092601.002358"},{"type":"message","user":"U0ZJZBJLF","text":"you have a Mac right? <@U2Q0HP4HY>","edited":{"user":"U0ZJZBJLF","ts":"1478093640.000000"},"ts":"1478093615.002359"},{"type":"message","user":"U0PB67X4K","text":"<@U0ZJZBJLF>  - even the latest patch you submitted was failing on my Mac","ts":"1478102782.002370"},{"type":"message","user":"U0PB67X4K","text":"discovery tests worked but gossip failed","ts":"1478102790.002371"},{"type":"message","user":"U0PB67X4K","text":"oops - will pull down latest patch set","ts":"1478102844.002372"},{"type":"message","user":"U2Q0HP4HY","text":"<@U0ZJZBJLF>  no building on linux","ts":"1478103002.002373"},{"type":"message","user":"U0ZJZBJLF","text":"you're buliding on linux?! How is that possible you have a different stack trace structure in your tests than both my PC and the CI server? :confused:","ts":"1478103031.002374"},{"type":"message","user":"U0ZJZBJLF","text":"anyway- I made a PR that should fix that bug","ts":"1478103049.002375"},{"type":"message","user":"U0ZJZBJLF","text":"can you test it locally?","ts":"1478103074.002376"},{"type":"message","user":"U0ZJZBJLF","text":"you just need to replace 1 function :slightly_smiling_face:","ts":"1478103089.002377"},{"type":"message","user":"U2Q0HP4HY","text":"not urgent I can get the sdk to do what I need.   I just feel I should report if I'm seeing errors like that","ts":"1478103138.002378"},{"type":"message","user":"U0PB67X4K","text":"<@U0ZJZBJLF>  - still fails for me on a Mac","ts":"1478103159.002379"},{"type":"message","user":"U0ZJZBJLF","text":"I'll be grateful if you can simply replace 1 function in your code and re-run the test","ts":"1478103160.002380"},{"type":"message","user":"U2Q0HP4HY","text":"post it .. I'll see if I can","ts":"1478103195.002381"},{"type":"message","subtype":"file_share","text":"<@U0ZJZBJLF|yacovm> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F2XN004N9\/-.go|Untitled>","file":{"id":"F2XN004N9","created":1478103257,"timestamp":1478103257,"name":"-.go","title":"Untitled","mimetype":"text\/plain","filetype":"go","pretty_type":"Go","user":"U0ZJZBJLF","editable":true,"size":1282,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2XN004N9\/-.go?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2XN004N9\/download\/-.go?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F2XN004N9\/-.go","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2XN004N9-2de2b6bf86","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F2XN004N9\/-.go\/edit","preview":"\r\nfunc ensureGoroutineExit(t *testing.T) {\r\n\ttime.Sleep(time.Duration(5) * time.Second)\r\n\trunTests := func(g goroutine) bool {\r\n\t\treturn searchInStackTrace(\"testing.RunTests\", g.stack)\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>&#8203;<\/pre><\/div>\n<div><pre><span class=\"cm-keyword\">func<\/span> <span class=\"cm-variable\">ensureGoroutineExit<\/span>(<span class=\"cm-variable\">t<\/span> <span class=\"cm-operator\">*<\/span><span class=\"cm-variable\">testing<\/span><span class=\"cm-number\">.<\/span><span class=\"cm-variable\">T<\/span>) {<\/pre><\/div>\n<div><pre>\t<span class=\"cm-variable\">time<\/span><span class=\"cm-number\">.<\/span><span class=\"cm-variable\">Sleep<\/span>(<span class=\"cm-variable\">time<\/span><span class=\"cm-number\">.<\/span><span class=\"cm-variable\">Duration<\/span>(<span class=\"cm-number\">5<\/span>) <span class=\"cm-operator\">*<\/span> <span class=\"cm-variable\">time<\/span><span class=\"cm-number\">.<\/span><span class=\"cm-variable\">Second<\/span>)<\/pre><\/div>\n<div><pre>\t<span class=\"cm-variable\">runTests<\/span> :<span class=\"cm-operator\">=<\/span> <span class=\"cm-keyword\">func<\/span>(<span class=\"cm-variable\">g<\/span> <span class=\"cm-variable\">goroutine<\/span>) <span class=\"cm-keyword\">bool<\/span> {<\/pre><\/div>\n<div><pre>\t\t<span class=\"cm-keyword\">return<\/span> <span class=\"cm-variable\">searchInStackTrace<\/span>(<span class=\"cm-string\">&quot;testing.RunTests&quot;<\/span>, <span class=\"cm-variable\">g<\/span><span class=\"cm-number\">.<\/span><span class=\"cm-variable\">stack<\/span>)<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":47,"lines_more":42,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0ZJZBJLF","upload":true,"display_as_bot":false,"username":"<@U0ZJZBJLF|yacovm>","bot_id":null,"ts":"1478103257.002382"},{"type":"message","user":"U0ZJZBJLF","text":"in: `gossip\/gossip\/gossip_test.go`","ts":"1478103278.002383"},{"type":"message","user":"U2Q0HP4HY","text":"<@U0ZJZBJLF>  yup ran clean now","ts":"1478104345.002384"},{"type":"message","user":"U0ZJZBJLF","text":"great, thanks! can you just re-run please?","ts":"1478104360.002385"},{"type":"message","user":"U0ZJZBJLF","text":"just to make sure","ts":"1478104362.002386"},{"type":"message","user":"U0ZJZBJLF","text":"and tell also how much time did it take?","ts":"1478104371.002387"},{"type":"message","user":"U2Q0HP4HY","text":"no cpu  or disk io metrics ?","ts":"1478104396.002388"},{"type":"message","user":"U0ZJZBJLF","text":"no i just want time","ts":"1478104406.002389"},{"type":"message","user":"U2Q0HP4HY","text":"how long do you expect it to be ?","ts":"1478104439.002390"},{"type":"message","user":"U0ZJZBJLF","text":"like 2 min","ts":"1478104699.002391"},{"type":"message","user":"U2Q0HP4HY","text":"wow you have some mac\n7m36.968s","ts":"1478104916.002392"},{"type":"message","user":"U0ZJZBJLF","text":"I don't have a Mac","ts":"1478104982.002393"},{"type":"message","user":"U0ZJZBJLF","text":"I have a windows machine and I'm running intellij on an ubuntu VM","ts":"1478104997.002394"},{"type":"message","user":"U2Q0HP4HY","text":"You can do whole suite in 2min ?","ts":"1478105019.002395"},{"type":"message","user":"U0ZJZBJLF","text":"less...","ts":"1478105025.002396"},{"type":"message","user":"U0ZJZBJLF","text":"it takes 100 seconds on the CI server and also on my machine","ts":"1478105072.002397"},{"type":"message","user":"U2Q0HP4HY","text":"I can't imagine that hardware can really cut it down that much .. can't be OS","ts":"1478105145.002398"},{"type":"message","user":"U0ZJZBJLF","text":"I also don't know why it is acting this way... it runs very fast on CI and on my machine.","ts":"1478105306.002399"},{"type":"message","user":"U0ZJZBJLF","text":"now I tweaked the tests and I managed to make then run in 1m 17s","ts":"1478105762.002400"},{"type":"message","user":"U0ZJZBJLF","text":"Now in CI I managed to reduce it to:\n`17:58:58 ok  \t<http:\/\/github.com\/hyperledger\/fabric\/gossip\/gossip|github.com\/hyperledger\/fabric\/gossip\/gossip>\t82.007s\tcoverage: 94.0% of statements`","ts":"1478109559.002401"},{"type":"message","user":"U13TWBRBL","text":"<@U0XPR4NP4> <@U0UKTPMG8> <@U0ULK2JPP> I need your help figuring out how to make transactions work with the new protos, using protos\/util\/proputil.go as reference, I have the following code in node.js test case, trying to build a valid Transaction2 object using ProposalResponse:\n\n\t\t\t\tlet headerExt = new _ccProposalProto.ChaincodeHeaderExtension();\n\t\t\t\tlet header = new _headerProto.Header();\n\t\t\t\theader.setType(_headerProto.Header.Type.CHAINCODE);\n\t\t\t\theader.setExtensions(headerExt.toBuffer());\n\n\t\t\t\tlet respPayload = _prProto.ProposalResponsePayload.decode(response.payload);\n\n\t\t\t\tlet prPayload = new _prProto.ProposalResponsePayload();\n\t\t\t\tprPayload.setProposalHash(respPayload.proposalHash);\n\t\t\t\tprPayload.setExtension(respPayload.extension);\n\n\t\t\t\tlet ccaPayload = new _ccTxProto.ChaincodeActionPayload();\n\t\t\t\tccaPayload.setChaincodeProposalPayload(Buffer.from([]));  \/\/ \u201cBuffer.from([])\u201d, also tried \u201cpayload\u201d field in the response from the endorser\n\t\t\t\tccaPayload.setAction({\n\t\t\t\t\tproposalResponsePayload: prPayload.toBuffer(),\n\t\t\t\t\tendorsements: [response.endorsement]\n\t\t\t\t});\n\n\t\t\t\tlet tx = new _txProto.Transaction2();\n\t\t\t\ttx.setActions([{\n\t\t\t\t\theader:header.toBuffer(),\n\t\t\t\t\tpayload: ccaPayload.toBuffer()\n\t\t\t\t}]);\n\nand getting the following status in the response from the orderer: BAD_REQUEST","edited":{"user":"U13TWBRBL","ts":"1478171853.000000"},"ts":"1478148336.002402"},{"type":"message","user":"U0ULK2JPP","text":"<@U13TWBRBL> there is a known issue in orderer (will be fixed when rest of the protos stuff is in \u2026 <@U0XPR4NP4> to chime in\/correct)","ts":"1478178508.002404"},{"type":"message","user":"U0ULK2JPP","text":"the workaround is","ts":"1478178540.002405"},{"type":"message","user":"U0ULK2JPP","text":"```func createBroadcastRuleset(configManager configtx.Manager) *broadcastfilter.RuleSet {\n        return broadcastfilter.NewRuleSet([]broadcastfilter.Rule{\n                broadcastfilter.EmptyRejectRule,\n                configfilter.New(configManager),\n                broadcastfilter.AcceptRule,\n        })\n}```\nin orderer\/main.go \u2026. comment out `configfilter.New(configManager),` for now and see if it works ?","edited":{"user":"U0ULK2JPP","ts":"1478178596.000000"},"ts":"1478178573.002406"},{"type":"message","user":"U13TWBRBL","text":"haha, i\u2019m just debugging that and realizing that the configRule inside the broadcastServer was causing the Reject","ts":"1478178609.002408"},{"type":"message","user":"U0ULK2JPP","text":":slightly_smiling_face:","ts":"1478178633.002409"},{"type":"message","subtype":"file_share","text":"<@U13TWBRBL|jzhang> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/jzhang\/F2Y99E45A\/pasted_image_at_2016_11_03_09_10_am.png|Pasted image at 2016-11-03, 9:10 AM>","file":{"id":"F2Y99E45A","created":1478178635,"timestamp":1478178635,"name":"Pasted image at 2016_11_03 09_10 AM.png","title":"Pasted image at 2016-11-03, 9:10 AM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U13TWBRBL","editable":false,"size":78687,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2Y99E45A\/pasted_image_at_2016_11_03_09_10_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2Y99E45A\/download\/pasted_image_at_2016_11_03_09_10_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2Y99E45A-f3c4f23148\/pasted_image_at_2016_11_03_09_10_am_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2Y99E45A-f3c4f23148\/pasted_image_at_2016_11_03_09_10_am_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2Y99E45A-f3c4f23148\/pasted_image_at_2016_11_03_09_10_am_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":100,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2Y99E45A-f3c4f23148\/pasted_image_at_2016_11_03_09_10_am_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":134,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2Y99E45A-f3c4f23148\/pasted_image_at_2016_11_03_09_10_am_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2Y99E45A-f3c4f23148\/pasted_image_at_2016_11_03_09_10_am_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":201,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2Y99E45A-f3c4f23148\/pasted_image_at_2016_11_03_09_10_am_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":268,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2Y99E45A-f3c4f23148\/pasted_image_at_2016_11_03_09_10_am_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":286,"image_exif_rotation":1,"original_w":1086,"original_h":303,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/jzhang\/F2Y99E45A\/pasted_image_at_2016_11_03_09_10_am.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2Y99E45A-f060a60917","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U13TWBRBL","upload":true,"display_as_bot":false,"username":"<@U13TWBRBL|jzhang>","bot_id":null,"ts":"1478178639.002410"},{"type":"message","user":"U13TWBRBL","text":"thanks I\u2019ll give it a try","ts":"1478178652.002411"},{"type":"message","user":"U0ULK2JPP","text":"sure, let me know if that doesn\u2019t work...","ts":"1478178673.002412"},{"type":"message","user":"U13TWBRBL","text":"<@U0ULK2JPP> that hack got me past it","ts":"1478178877.002413"},{"type":"message","user":"U13TWBRBL","text":"is there a bug opened for that?","ts":"1478178885.002414"},{"type":"message","user":"U0ULK2JPP","text":"not yet <@U13TWBRBL> \u2026feel free to open and assign to <@U0XPR4NP4>","ts":"1478179062.002415"},{"type":"message","user":"U13TWBRBL","text":"<https:\/\/jira.hyperledger.org\/browse\/FAB-939>","ts":"1478179260.002416"},{"type":"message","user":"U13TWBRBL","text":"<@U0XPR4NP4> ^^^ thanks!","ts":"1478179279.002417"},{"type":"message","user":"U13TWBRBL","text":"<@U0ULK2JPP> thanks man for getting my unstuck!","ts":"1478179312.002418"},{"type":"message","user":"U13TWBRBL","text":"now need to figure out if I built the transaction object properly to be taken by the committer :wink:","edited":{"user":"U13TWBRBL","ts":"1478179360.000000"},"ts":"1478179348.002419"},{"type":"message","user":"U13TWBRBL","text":"<@U1KFCPFQA> so the following log message says the transaction was valid and committed to the ledger right?\n\nvp0_1         | 13:24:57.104 [lockbasedtxmgmt] validateTx -&gt; DEBU 3ee Validating txRWSet:lccc::ReadSet~18chaincodes-default:1,18chaincodes-default64d93257dac2560fe52d7a62d8aacb150ac1a5f5ede2d7f6dca710f13aae1bfa9b:0,WriteSet~18chaincodes-default64d93257dac2560fe52d7a62d8aacb150ac1a5f5ede2d7f6dca710f13aae1bfa9b=[[]byte{0xa, 0x42, 0xa, 0x40, 0x64, 0x39, 0x33, 0x32, 0x35, 0x37, 0x64, 0x61, 0x63, 0x32, 0x35, 0x36, 0x30, 0x66, 0x65, 0x35, 0x32, 0x64, 0x37, 0x61, 0x36, 0x32, 0x64, 0x38, 0x61, 0x61, 0x63, 0x62, 0x31, 0x35, 0x30, 0x61, 0x63, 0x31, 0x61, 0x35, 0x66, 0x35, 0x65, 0x64, 0x65, 0x32, 0x64, 0x37, 0x66, 0x36, 0x64, 0x63, 0x61, 0x37, 0x31, 0x30, 0x66, 0x31, 0x33, 0x61, 0x61, 0x65, 0x31, 0x62, 0x66, 0x61, 0x39, 0x62, 0xa, 0x2, 0x10, 0x0, 0xa, 0xd5, 0xe, 0x32, 0xd2, 0xe, 0xa, 0x5e, 0x8, 0x1, 0x12, 0x42, 0x12, 0x40, 0x64, 0x39, 0x33, 0x32, 0x35, 0x37, 0x64, 0x61, 0x63, 0x32, 0x35, 0x36, 0x30, 0x66, 0x65, 0x35, 0x32, 0x64, 0x37, 0x61, 0x36, 0x32, 0x64, 0x38, 0x61, 0x61, 0x63, 0x62, 0x31, 0x35, 0x30, 0x61, 0x63, 0x31, 0x61, 0x35, 0x66, 0x35, 0x65, 0x64, 0x65, 0x32, 0x64, 0x37, 0x66, 0x36, 0x64, 0x63, 0x61, 0x37, 0x31, 0x30, 0x66, 0x31, 0x33, 0x61, 0x61, 0x65, 0x31, 0x62, 0x66, 0x61, 0x39, 0x62, 0x1a, 0x16, 0xa, 0x4, 0x69, 0x6e, 0x69, 0x74, 0xa, 0x1, 0x61, 0xa, 0x3, 0x31, 0x30, 0x30, 0xa, 0x1, 0x62, 0xa, 0x3, 0x32, 0x30, 0x30, 0x1a, 0xef, 0xd, 0x1f, 0x8b, 0x8, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x3, 0xed, 0x58, 0x6d, 0x73, 0xda, 0x38, 0x10, 0xee, 0x57, 0xf4, 0x2b, 0xf6, 0x3c, 0xd7, 0xe, 0xf4, 0xa8, 0x79, 0x27, 0xd7, 0xdc, 0xe4, 0x83, 0x49, 0xd2, 0x96, 0x69, 0xf, 0x72, 0x90, 0x5e, 0xd2, 0x9, 0x99, 0x8c, 0xb0, 0x65, 0xf0, 0x5, 0x6c, 0x2a, 0xc9, 0x10, 0xae, 0xd3, 0xff, 0x7e, 0x2b, 0xc9, 0x80, 0x43, 0x42, 0xda, 0xb4, 0x49, 0x7b, 0xbd, 0x8b, 0x66, 0x1a, 0x61, 0xaf, 0xb4, 0x7a, 0xf6, 0xed, 0x59, 0xb9, 0xf6, 0xa3, 0xfb, 0x1f, 0xc5, 0x62, 0x71, 0xab, 0x56, 0x3, 0x3d, 0xd7, 0xcd, 0x5c, 0x2c, 0x57, 0xcd, 0x9c, 0xc, 0x28, 0x55, 0x8a, 0xc5, 0x7a, 0xbd, 0x52, 0x2b, 0x97, 0xaa, 0x80, 0xcb, 0x2a, 0x95, 0x32, 0x3c, 0xaa, 0x7d, 0x3, 0x6c, 0x8f, 0x62, 0x21, 0x29, 0x47, 0x28, 0x5f, 0...\nvp0_1         | 13:24:57.105 [kvledger] Commit -&gt; DEBU 3ef Committing block to storage\nvp0_1         | 13:24:57.105 [protos] ConstructSerBlock2 -&gt; DEBU 3f0 ConstructSerBlock2():TxOffsets=[]int{1, 4254}\nvp0_1         | Commit success, created a block!\nvp0_1         | 13:24:57.110 [kvledger] indexBlock -&gt; DEBU 3f1 Indexing block [blockNum=3, blockHash=[]byte{0x9c, 0x4d, 0xb, 0xf0, 0x80, 0x2a, 0x2c, 0x23, 0x44, 0x4c, 0xd0, 0xa9, 0xa4, 0x79, 0xa0, 0x11, 0x30, 0xfb, 0xbb, 0x6c, 0xd7, 0x86, 0xa5, 0x8e, 0xa4, 0xe3, 0x7f, 0xaa, 0xda, 0x56, 0x53, 0x65, 0x57, 0x80, 0xff, 0x51, 0xe8, 0x83, 0x7a, 0xb, 0xc7, 0x60, 0x7f, 0x52, 0xa9, 0x56, 0x2e, 0x1, 0x15, 0x70, 0x36, 0xd8, 0x71, 0x31, 0xd4, 0x15, 0x6c, 0xc3, 0xba, 0x25, 0x32, 0x21, 0xd6, 0x77}]\nvp0_1         | 13:24:57.110 [kvledger] indexBlock -&gt; DEBU 3f2 Adding txLoc [fileSuffixNum=0, offset=4354, bytesLength=4253] for tx [3:0] to index\nvp0_1         | 13:24:57.110 [kvledger] updateCheckpoint -&gt; DEBU 3f3 Broadcasting about update checkpointInfo: latestFileChunkSuffixNum=[0], latestFileChunksize=[8613], lastBlockNumber=[3]\nvp0_1         | 13:24:57.110 [kvledger] Commit -&gt; DEBU 3f4 Committing block to state database","ts":"1478179573.002421"},{"type":"message","user":"U1KFCPFQA","text":"yes, that shows the chaincode deploy is indeed getting written to ledger","ts":"1478179697.002422","reactions":[{"name":"+1","users":["U13TWBRBL"],"count":1}]},{"type":"message","user":"U13TWBRBL","text":"<@U0XPR4NP4> <@U0ULK2JPP> regarding <https:\/\/jira.hyperledger.org\/browse\/FAB-939>, what needs to happen for this error to get resolved? Jason you said \"Once the fabric transitions onto the new transaction format\u201d, is that work that Muarli needs to do? will this impact the SDK?","ts":"1478187684.002423"},{"type":"message","user":"U13TWBRBL","text":"see <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2219\/> for what I did in node.js to get things to work in the latest fabric (with the hack of commenting out configFilter)","ts":"1478187733.002424"},{"type":"message","user":"U0XPR4NP4","text":"<@U13TWBRBL> This is work that is currently underway.  Maybe I can briefly summarize.  The fabric transaction format was developed with the needs of the fabric in mind, but not with the needs of the orderer (which has much simpler requirements).  So, we attempted to pare down the usage of the fabric transaction to be what the orderer understood, but it ended up being a doomed endeavor.  Instead, it was decided to build the absolute simplest signed message format to use with the orderer, and then rework the fabric transaction on top of this new structure.  Ultimately, the `Envelope` messages will be the outer structure encoded into the block, and encapsulating the fabric transactions.  There's a plan in place, but I can't speak to its status, <@U0ULK2JPP> or <@U0ZR63HLK> might be better equipped to do so.","ts":"1478188120.002425"},{"type":"message","user":"U0XPR4NP4","text":"But this leaves us in the position today where the fabric expects `Transaction2` type messages and the orderer expects `Envelope` messages.  Which is causing the bug you are seeing.","ts":"1478188162.002426"},{"type":"message","user":"U13TWBRBL","text":"thanks Jason for the details. makes sense.","ts":"1478188262.002427"},{"type":"message","user":"U13TWBRBL","text":"so what\u2019s the plan in the meantime to unblock squads that are dependent on the orderer service allowing the Transaction2 format through?","ts":"1478188299.002428"},{"type":"message","user":"U13TWBRBL","text":"does it make sense to add a temporary hack?","ts":"1478188314.002429"},{"type":"message","user":"U0XPR4NP4","text":"<@U0ULK2JPP> and I had discussed this, told him I was happy to accommodate that, but he said it was easy enough for him to add the local hack (which he screenshotted you I believe)","ts":"1478188373.002430"},{"type":"message","user":"U13TWBRBL","text":"you mean commenting out the configFilter rule as I did above?","ts":"1478188424.002431"},{"type":"message","user":"U13TWBRBL","text":"that\u2019d be OK by me if there are no other ramifications :wink:","ts":"1478188446.002432"},{"type":"message","user":"U0XPR4NP4","text":"Ah, your screenshot, my mistake.  But yes, unless you are interested in testing reconfiguration, commenting out that line should be benign","ts":"1478188466.002433"},{"type":"message","user":"U13TWBRBL","text":"make sense. i can submit a changeset for that. will add you and Murali as reviewer, who else should review it?","ts":"1478188521.002434"},{"type":"message","user":"U0XPR4NP4","text":"I can","ts":"1478188591.002435"},{"type":"message","user":"U0XPR4NP4","text":"If you submit, <@U0ULK2JPP> and I can each +2 and you should be good to go","ts":"1478188604.002436"},{"type":"message","user":"U13TWBRBL","text":"<http:\/\/gerrit.hyperledger.org\/r\/2225>","ts":"1478188758.002437"},{"type":"message","user":"U0XPR4NP4","text":"Done","ts":"1478188941.002438"},{"type":"message","user":"U0ULK2JPP","text":"thanks <@U13TWBRBL> \u2026 I was hoping we\u2019d have checked in the protos consolidation work so we won\u2019t need this hack.","ts":"1478188941.002439"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019ll +2 and submit as soon as the CI passes","ts":"1478188992.002440"},{"type":"message","user":"U13TWBRBL","text":"<@U0ULK2JPP> even if this temp fix lived for just one day it\u2019s useful","ts":"1478188997.002441"},{"type":"message","user":"U0ULK2JPP","text":"agreed","ts":"1478189001.002442"},{"type":"message","user":"U0ULK2JPP","text":"I meant we were hoping to get the consolidation in sooner\u2026.its getting delayed","ts":"1478189034.002443"},{"type":"message","user":"U0XPR4NP4","text":"<@U0ULK2JPP> Do you know the division of who is working on what? I got sidetracked moving the ab related protos to the main dir yesterday, was thinking to do that today, unless you think I'll be stepping on toes","ts":"1478189111.002444"},{"type":"message","user":"U0ULK2JPP","text":"right\u2026give me a few minutes","ts":"1478189301.002445"},{"type":"message","user":"U0ULK2JPP","text":"(on call with daughter\u2026 )","ts":"1478189551.002446"},{"type":"message","user":"U0XPR4NP4","text":"Definitely more important, take your time","ts":"1478189994.002447"},{"type":"message","user":"U0ULK2JPP","text":"sorry back","ts":"1478190651.002448"},{"type":"message","user":"U0ULK2JPP","text":"<@U0XPR4NP4> `moving the ab related protos to the main dir` \u2026 I think please do that\u2026 only thing not sure how we are going to resolve is  collisions with Block ?","ts":"1478190901.002449"},{"type":"message","user":"U0ULK2JPP","text":"there\u2019s already Block and Block2","ts":"1478190918.002450"},{"type":"message","user":"U0XPR4NP4","text":"Well, the proto import path will be different","ts":"1478190919.002451"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1478190923.002452"},{"type":"message","user":"U0ULK2JPP","text":"so just move the protos ?","edited":{"user":"U0ULK2JPP","ts":"1478190961.000000"},"ts":"1478190935.002453"},{"type":"message","user":"U0XPR4NP4","text":"Assuming we like `protos\/common` `protos\/orderer` and `protos\/peer`","ts":"1478190945.002454"},{"type":"message","user":"U0ULK2JPP","text":"and we will hook up implemetnation with ledger folks ?","edited":{"user":"U0ULK2JPP","ts":"1478190967.000000"},"ts":"1478190947.002455"},{"type":"message","user":"U0ULK2JPP","text":"I see","ts":"1478190985.002458"},{"type":"message","user":"U0XPR4NP4","text":"I would assume that the ledger folks can add an import for `protos\/common` and then do `cb.Block` locally","ts":"1478191007.002459"},{"type":"message","user":"U0ULK2JPP","text":"you\u2019ll do _some_ of the implementation fix to fix up paths","ts":"1478191008.002460"},{"type":"message","user":"U0XPR4NP4","text":"Right","ts":"1478191013.002461"},{"type":"message","user":"U0ULK2JPP","text":"sounds great to me...","ts":"1478191021.002462"},{"type":"message","user":"U0ULK2JPP","text":"perhaps check with others","ts":"1478191039.002463"},{"type":"message","user":"U0ULK2JPP","text":"?","ts":"1478191048.002464"},{"type":"message","user":"U0XPR4NP4","text":"<@U1KFCPFQA> <@U0Z541B3P> Does this work for you?","ts":"1478191071.002465"},{"type":"message","user":"U0ULK2JPP","text":"I think sooner we all take the same protos the better \u2026 then we\u2019ll know what we are bumping against (missing fields etc)","ts":"1478191102.002466"},{"type":"message","user":"U0XPR4NP4","text":"It will also make the end to end flow much less hacky and real, which I like","ts":"1478191304.002467","reactions":[{"name":"+1","users":["U0ULK2JPP"],"count":1}]},{"type":"message","user":"U0Z541B3P","text":"<@U0XPR4NP4> - yes that works.","ts":"1478191495.002468"},{"type":"message","user":"U0Z541B3P","text":"Further, I was looking at the changes required in the ledger and would like to understand from you what do you plan for serialization of Block ?","ts":"1478191556.002469"},{"type":"message","user":"U0Z541B3P","text":"As of now that's what appears to be biggest dependency of ledger.. in addition to importing new path","ts":"1478191612.002470"},{"type":"message","user":"U0XPR4NP4","text":"I think <@U0ZR63HLK> or <@U0ULK2JPP> need to finish the fabric transaction proto changes on top of the new `Envelope` thing","ts":"1478191747.002471"},{"type":"message","user":"U0Z541B3P","text":"The current Block2 is serialized in a custom manner.... It contains initial bytes for previous hash + tx1bytes + tx2bytes +... TxnBytes+txoffsetinfoBytes+a fixed length footer.","ts":"1478191751.002472"},{"type":"message","user":"U0Z541B3P","text":"OK, till the serialzation is decided, it will not be possible to make changes in the ledger code.","ts":"1478191829.002473"},{"type":"message","user":"U0ZR63HLK","text":"<@U0XPR4NP4> but how do you reccomend to proceed? Using directly the envelope or something like the following:","edited":{"user":"U0ZR63HLK","ts":"1478192036.000000"},"ts":"1478191961.002474"},{"type":"message","subtype":"file_share","text":"<@U0ZR63HLK|adc> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/adc\/F2YEZ8SLX\/pasted_image_at_2016_11_03_05_52_pm.png|Pasted image at 2016-11-03, 5:52 PM>","file":{"id":"F2YEZ8SLX","created":1478191964,"timestamp":1478191964,"name":"Pasted image at 2016_11_03 05_52 PM.png","title":"Pasted image at 2016-11-03, 5:52 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ZR63HLK","editable":false,"size":30798,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2YEZ8SLX\/pasted_image_at_2016_11_03_05_52_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2YEZ8SLX\/download\/pasted_image_at_2016_11_03_05_52_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2YEZ8SLX-801e54885f\/pasted_image_at_2016_11_03_05_52_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2YEZ8SLX-801e54885f\/pasted_image_at_2016_11_03_05_52_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2YEZ8SLX-801e54885f\/pasted_image_at_2016_11_03_05_52_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":203,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2YEZ8SLX-801e54885f\/pasted_image_at_2016_11_03_05_52_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":270,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2YEZ8SLX-801e54885f\/pasted_image_at_2016_11_03_05_52_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","image_exif_rotation":1,"original_w":640,"original_h":360,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/adc\/F2YEZ8SLX\/pasted_image_at_2016_11_03_05_52_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2YEZ8SLX-d4f3d49625","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0ZR63HLK","upload":true,"display_as_bot":false,"username":"<@U0ZR63HLK|adc>","bot_id":null,"ts":"1478191966.002475"},{"type":"message","user":"U0ZR63HLK","text":"which is essentially the structure you have just with different names more transaction oriented","ts":"1478191993.002476"},{"type":"message","user":"U0XPR4NP4","text":"At the end of the day, what the fabric transaction looks like won't really affect me, so long as the thing that encapsulates it is an `Envelope`.  I'd be inclined to utilize the `Envelope` structure to reduce as much duplication as you can though","ts":"1478192065.002478"},{"type":"message","user":"U0XPR4NP4","text":"I thought the idea had been to utilize the envelope header concatenated with some inner header as the sort overall proposalaction header","ts":"1478192104.002479"},{"type":"message","user":"U0XPR4NP4","text":"As it nicely makes explicit that the creator is the same for everything","ts":"1478192124.002480"},{"type":"message","user":"U0Z541B3P","text":"<@U1ZT4H8MC> - We are fine with any serialization but the objective is to be able to get the txoffsets from the block bytes we receive at ledger so as to be able to index the tx related offsets by txID","ts":"1478192148.002481"},{"type":"message","user":"U0Z541B3P","text":"<@U0ULK2JPP> I made a mistake while referring to your id ^^^^","ts":"1478192184.002482"},{"type":"message","user":"U0ZR63HLK","text":"<@U0XPR4NP4> I was hoping to have singed transaction and transaction mapping directly to envelope and payload message that you have in such a way to have a unified transaction concept","ts":"1478192286.002483"},{"type":"message","user":"U0XPR4NP4","text":"I had posted this to <#C2GE7GXM1|fabric-crypto> earlier this week tagging you and <@U0ULK2JPP> and <@U0KN2SSKE> as to what this outer thing should be called.  The only votes were really from <@U0ULK2JPP> and <@U0KN2SSKE> for the `Envelope`\/`Payload`\/`Header` so that is what I finalized things on","ts":"1478192356.002484"},{"type":"message","user":"U0ZR63HLK","text":"for the proposal I have something like this:","ts":"1478192358.002485"},{"type":"message","subtype":"file_share","text":"<@U0ZR63HLK|adc> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/adc\/F2YEP6VDJ\/pasted_image_at_2016_11_03_05_59_pm.png|Pasted image at 2016-11-03, 5:59 PM>","file":{"id":"F2YEP6VDJ","created":1478192361,"timestamp":1478192361,"name":"Pasted image at 2016_11_03 05_59 PM.png","title":"Pasted image at 2016-11-03, 5:59 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ZR63HLK","editable":false,"size":30110,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2YEP6VDJ\/pasted_image_at_2016_11_03_05_59_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2YEP6VDJ\/download\/pasted_image_at_2016_11_03_05_59_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2YEP6VDJ-917fb32d01\/pasted_image_at_2016_11_03_05_59_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2YEP6VDJ-917fb32d01\/pasted_image_at_2016_11_03_05_59_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2YEP6VDJ-917fb32d01\/pasted_image_at_2016_11_03_05_59_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":203,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2YEP6VDJ-917fb32d01\/pasted_image_at_2016_11_03_05_59_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":270,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2YEP6VDJ-917fb32d01\/pasted_image_at_2016_11_03_05_59_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","image_exif_rotation":1,"original_w":640,"original_h":360,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/adc\/F2YEP6VDJ\/pasted_image_at_2016_11_03_05_59_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2YEP6VDJ-123849dd90","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0ZR63HLK","upload":true,"display_as_bot":false,"username":"<@U0ZR63HLK|adc>","bot_id":null,"ts":"1478192364.002486"},{"type":"message","user":"U0ZR63HLK","text":"ah, okay, sorry for that","ts":"1478192394.002487"},{"type":"message","user":"U0ZR63HLK","text":"it is easy to remap to that","ts":"1478192418.002488"},{"type":"message","user":"U0XPR4NP4","text":"No problem, I had just assumed you didn't have a strong opinion on the names so were abstaining.  I know the churn is obnoxious for those building changesets on top of these changes, but if you can talk <@U0KN2SSKE> and <@U0ULK2JPP> into changing their minds, we can always rename them again.","ts":"1478192501.002489"},{"type":"message","user":"U0ZR63HLK","text":"nono, it's fine","ts":"1478192535.002490"},{"type":"message","user":"U0ZR63HLK","text":"I had just missed those messages, sorry :disappointed:","ts":"1478192545.002491"},{"type":"message","user":"U0XPR4NP4","text":"Perfectly understandable, seems like I have spent 70% of my days typing on slack lately (instead of coding as I would prefer) so it is easy to miss these things as they scroll away","ts":"1478192590.002492"},{"type":"message","user":"U0XPR4NP4","text":"So you can rework the fabric transaction on top of the `Envelope` and friends protos as defined? My plan is to move them to `protos\/common` so that you can call `import` in your fabric protos and utilize those structures so they are shared.","ts":"1478192643.002493"},{"type":"message","user":"U0XPR4NP4","text":"<@U0Z541B3P> The offsets for the transactions do not have to have some fixed rule, correct? They can be computed and stored for each block? (I'm not sure how else this would be accomplished, but just checking)","ts":"1478192698.002494"},{"type":"message","user":"U0Z541B3P","text":"yes, in current code, last portion of the block (offsetInfo) contains the offsets of the transactions in the block and last 4 bytes of the block store the beginning offset of the offsetInfo.","edited":{"user":"U0Z541B3P","ts":"1478192839.000000"},"ts":"1478192824.002495"},{"type":"message","user":"U0XPR4NP4","text":"Okay, sounds like there should be no problem","ts":"1478193107.002497"},{"type":"message","user":"U0ULK2JPP","text":"is this summary and understanding correct ?","ts":"1478193137.002498"},{"type":"message","user":"U0ULK2JPP","text":"(1) Organize protos like <@U0XPR4NP4> suggested above into `protos\/common`, `protos\/peer` and `protos\/orderer`\u2026 basically collect and organize protos from different packages under protos\/\u2026 \n(2) Block2 in common would be replaced with ab.Block (i.e., ab.Block would be renamed to common.Block2)\n(3) we need to make sure Serialization of the new Block2 is done correctly per <@U0Z541B3P>","edited":{"user":"U0ULK2JPP","ts":"1478193173.000000"},"ts":"1478193144.002499","reactions":[{"name":"+1","users":["U0KN2SSKE"],"count":1}]},{"type":"message","user":"U0ULK2JPP","text":"are there other crypto related changes <@U0ZR63HLK> <@U26T99AQ4> ?","ts":"1478193234.002501"},{"user":"U26T99AQ4","inviter":"U0ULK2JPP","text":"<@U26T99AQ4|aso> has joined the channel","type":"message","subtype":"channel_join","ts":"1478193241.002502"},{"type":"message","user":"U0Z541B3P","text":"sounds good to me... inviting <@U1KFCPFQA> here for his reference...","ts":"1478193278.002503"},{"type":"message","user":"U0Z541B3P","text":"<@U0XPR4NP4>, <@U0ULK2JPP> - if you want to serialize in a simple manner e.g., len(tx1Bytes)+tx1Bytes+len(tx2Bytes)+tx2Bytes+.... instead of putting the offsets at the end of the block - even that should also be fine by us.","ts":"1478194431.002504"},{"type":"message","user":"U0XPR4NP4","text":"<@U0Z541B3P> Serialization format doesn't particularly matter to me, would defer to whatever format you want.  We do need to decide on how to compute the `BlockData` hash and the `BlockHeader` hash.  For now I'm using naive (and theoretically incorrect) straight proto marshaling.  The data should probably be done as a wide Merkle tree, and the header should probably be some simple custom marshaling","ts":"1478194567.002505"},{"type":"message","user":"U0Z541B3P","text":"I would prefer hash on simple custom serialized tx data for performance reasons...","ts":"1478194678.002506"},{"type":"message","user":"U0Z541B3P","text":"close to what you are doing now... I do not think that this is incorrect. It's just that I am not sure whether we have a use case like bitcoin (where they have thin clients) for doing it Merkle-tree based","ts":"1478194777.002507"},{"type":"message","user":"U0XPR4NP4","text":"There were several comments in support of the Merkle tree approach","ts":"1478194842.002508"},{"type":"message","user":"U0XPR4NP4","text":"And if it is a wide Merkle tree, I would expect the performance to be relatively similar to a single large hash","ts":"1478194867.002509"},{"type":"message","user":"U0XPR4NP4","text":"And there are performance reasons at the orderer why the Merkle tree approach is superior","ts":"1478194902.002510"},{"type":"message","user":"U0ULK2JPP","text":"<@U0Z541B3P> <@U0XPR4NP4> for the  first pass it\u2019ll be good to make changes that are not too disruptive to ledger ?","ts":"1478194926.002511"},{"type":"message","user":"U0XPR4NP4","text":"I'm slightly uncertain why the ledger even needs to compute this hash? Only valid blocks should make it into the ledger.  The only time would be verifying the hash chain.","ts":"1478194979.002512"},{"type":"message","user":"U0ULK2JPP","text":"(I\u2019m making the assumption - perhaps unwarranted - that we are trying to go beyond the immediate here\u2026 )","ts":"1478194989.002513"},{"type":"message","user":"U0Z541B3P","text":"<@U0XPR4NP4> - If you have done measurements for supporting this and convinced I am fine... but I have doubts based on my previous experiments","ts":"1478194991.002514"},{"type":"message","user":"U0XPR4NP4","text":"<@U0Z541B3P> Real test are still a TODO, agreed with <@U0ULK2JPP> this doesn't have to be finalized at the moment, I just wanted to outline it as a TODO","edited":{"user":"U0XPR4NP4","ts":"1478195062.000000"},"ts":"1478195032.002515"},{"type":"message","user":"U0XPR4NP4","text":"We should do the real tests before committing","ts":"1478195040.002516"},{"type":"message","user":"U0Z541B3P","text":"sure <@U0XPR4NP4> - don't get me wrong. I was just sharing my intuitions based on some experiments that I had done for crypto-hash computation of entire state in v0.5","ts":"1478195148.002518","reactions":[{"name":"+1","users":["U0ULK2JPP"],"count":1}]},{"type":"message","user":"U0XPR4NP4","text":"Understood.  I am not married to the Merkle tree idea, if it's not better, let's not do it.  Are we certain we will never want 'light' nodes which prune some transactions out?","ts":"1478195317.002519"},{"type":"message","user":"U0Z541B3P","text":"At least I am not certain either way..","ts":"1478195384.002520"},{"type":"message","user":"U0XPR4NP4","text":"Would also ask <@U0XV1HDL3> if he had other thoughts, as I recall him being a proponent of the Merkle tree","ts":"1478195484.002521"},{"user":"U2X9KDDL7","text":"<@U2X9KDDL7|vdods> has joined the channel","type":"message","subtype":"channel_join","ts":"1478199534.002522"},{"type":"message","user":"U2X9KDDL7","text":"Is the v0.6 branch the basis for the hyperledger\/fabric-peer:x86_64-0.6.1-preview and hyperledger\/fabric-membersrvc:x86_64-0.6.1-preview images that are published on docker hub?","ts":"1478204269.002523"},{"type":"message","user":"U2X9KDDL7","text":"Sorry, I just saw the tags for those -- the answer is no: it's based on the git tag v0.6.1-preview","edited":{"user":"U2X9KDDL7","ts":"1478204521.000000"},"ts":"1478204411.002524"},{"type":"message","user":"U2Q0HP4HY","text":"Today endorsement is done by the Peer service.  Could in the future these be implemented by two separate  services ?  endorsement  by one svc and deploy invoke by another. ?","ts":"1478204681.002526"},{"type":"message","user":"U0KPFAZNF","text":"<@U2X9KDDL7> v0.6.1-preview tag is the correct answer, but there is a correlation","ts":"1478204710.002527"},{"type":"message","user":"U0KPFAZNF","text":"(e.g. v0.6.1-preview and v0.6.0-preview are both tags from the v0.6 branch","ts":"1478204725.002528"},{"type":"message","user":"U2X9KDDL7","text":"<@U0KPFAZNF> Thanks -- is it necessary to checkout v0.6 branch before resetting to one of those tags?  Or is `git reset --hard v0.6.1-preview` sufficient?","ts":"1478204919.002529"},{"type":"message","user":"U0KPFAZNF","text":"theres probably a dozen ways to do it in git: the one you provided should work fine as long as you understand the consequences","ts":"1478204954.002530"},{"type":"message","user":"U0KPFAZNF","text":"a safer alternative is to perhaps do \u201cgit checkout v0.6.1-preview\"","ts":"1478204985.002531"},{"type":"message","user":"U0PB67X4K","text":"<@U0XPR4NP4> <@U0Z541B3P>  joining this late but I think we should anticipate that there may be valid cases for light clients ","ts":"1478218105.002532"},{"type":"message","user":"U0TFEHX8E","text":"\"based on some experiments that I had done for crypto-hash computation of entire state in v0.5\"\nmaybe I'm wrong, but based on the conversation I assumed that the \"wide merkle\" was just over the transactions in a block, not the entire state. <@U0Z541B3P> we previously discussed having an array of all transactions hashes in a block which would be used to calculate the block hash. That would allow you to prune the transaction content. I believe that would be somewhat similar to a \"wide merkle\" until you hit some large number of TX","ts":"1478221499.002533"},{"type":"message","user":"U0TFEHX8E","text":"I also think it could potentially be used for privacy in the future in addition to pruning","ts":"1478221525.002534"},{"type":"message","user":"U0Z541B3P","text":"<@U0TFEHX8E> - long time :slightly_smiling_face:\nyes the conversation is about computing hash over the transactions. I was referring to my experiments from a general perspective, where I had observed that the cost of hash computation function is not a linear to the size of the data. It involves a significant setup cost that is incurred each time you invoke this function. For instance, on my Mac, the hash computation took almost the same time for any number of bytes &lt; 100 and there after it starts showing effect based on data volume. I heard once from z folks that for them this number is even larger. So, minimizing the number of times you call the hash function is desired (off course -  unless required by some concrete functionality\/use case - like a bitcoin thin client wants to verify whether a tx is present in a Block. Further, I believe these bit coin thin clients could be large in number and hence potentially the primary use case). The only thing I was saying that we should have some measurements and use cases we would need to support in order to make a judicious decision.","edited":{"user":"U0Z541B3P","ts":"1478237421.000000"},"ts":"1478236178.002535"},{"type":"message","user":"U0XV1HDL3","text":"i'm not in context here, but for merkle trees: in a textbook they are always binary. in practice, a wide tree, k-ary for k=32, 64, ... performs much better, as <@U0Z541B3P> says. the cost of hash function calculation is not linear in the hashed data, there is a significant setup cost. if the general block format should hold multiple tx, then i recommend at least a merkle tree over the tx, with a configurable k (width) in the code (not modifiable after deployment) ... because there have been quite some discussions on how large the blocks should be in this field!","ts":"1478249711.002540"},{"user":"U2XNKMF24","text":"<@U2XNKMF24|james> has joined the channel","type":"message","subtype":"channel_join","ts":"1478276136.002541"},{"user":"U2ZACGWNS","text":"<@U2ZACGWNS|matt.shams> has joined the channel","type":"message","subtype":"channel_join","ts":"1478289585.002542"},{"type":"message","user":"U0TFEHX8E","text":"<@U0Z541B3P> - I need to find more time to hang out here :slightly_smiling_face: Completely agree with your suggestion to take measurements and evaluate use cases. I think we\u2019re all in agreement though that a wide merkle tree really won\u2019t take that much extra hashing. I\u2019m assuming the system already needs to hash each individual transaction for other purposes so I\u2019m not factoring that into the cost. And that leaves room in the future (if it\u2019s made configurable as Christian suggests) to potentially support a binary merkle tree if someone has lite client with limited space but needs to verify a TX use case.","ts":"1478316851.002543"},{"user":"U2RMVHMK9","text":"<@U2RMVHMK9|hiepnm> has joined the channel","type":"message","subtype":"channel_join","ts":"1478513972.002544"},{"type":"message","user":"U2RMVHMK9","text":"I have some dummy questions: What is local ledger? What is it different with shared ledger?\nWhen I read 3.2.1.3 NonHashData section, I met localLedgerCommitTimestamp field. So I'm curious about it","ts":"1478514121.002545"},{"type":"message","user":"U13TWBRBL","text":"<@U0ULK2JPP> is the ESCC and VSCC part ready in the peer for the SDK squads to build APIs on top of it?","ts":"1478548823.002546"},{"type":"message","user":"U13TWBRBL","text":"<@U0ULK2JPP> <@U0KN2SSKE> <@U0XPR4NP4> <@U0XQ35CDD> I chatted with Kostas about the channel\/subledger work, and was told that some of the calls are stub\u2019ed out, but some are working for real, he pointed me to this story <https:\/\/jira.hyperledger.org\/browse\/FAB-819>, but it looks like it\u2019s only getting started. so here\u2019s my question: 1) what\u2019s the overall status of this work, and 2) would it be smart for the SDK squad to start working on building APIs on top of it?","edited":{"user":"U13TWBRBL","ts":"1478549054.000000"},"ts":"1478549037.002547"},{"type":"message","user":"U0XPR4NP4","text":"1) I would say that APIs are nearly final (hopefully last proto related commit will be merged later today), but implementation support may not be ready for some period of time (<@U0XQ35CDD> can speak better to this).  2) If the SDK wants to start building APIs, I think that may be okay, with the caveat that they will have nothing to test them against until the implementation is ready","ts":"1478549162.002549"},{"type":"message","user":"U13TWBRBL","text":"thanks <@U0XPR4NP4> , that helps a lot","edited":{"user":"U13TWBRBL","ts":"1478549560.000000"},"ts":"1478549545.002550"},{"type":"message","user":"U0ULK2JPP","text":"<@U13TWBRBL> regarding ESCC and VSCC .. the ESCC part is being worked on by <@U26T99AQ4> in <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2135>","ts":"1478549665.002552"},{"type":"message","user":"U0KN2SSKE","text":"jim, are you looking to start sdk on multichannel?","ts":"1478549705.002553"},{"type":"message","user":"U13TWBRBL","text":"<@U0KN2SSKE> yeah was trying to decide if i should start on that in this sprint or not","ts":"1478549736.002554"},{"type":"message","user":"U0KN2SSKE","text":"it is not ready and probably not until end of the month, but maybe we should stub out grpc apis","ts":"1478549748.002555"},{"type":"message","user":"U0KN2SSKE","text":"i think next sprint would be best","ts":"1478549783.002556"},{"type":"message","user":"U13TWBRBL","text":"<@U0KN2SSKE> based on what Jason and Kostas tell me the grpc APIs are almost done being stub\u2019ed out","ts":"1478549789.002557"},{"type":"message","user":"U0KN2SSKE","text":"you also need them on the peer side, which hasn\u2019t been started","ts":"1478549819.002558"},{"type":"message","user":"U0KN2SSKE","text":"maybe you can start as the peer will use a system chaincode to join the channel, so it\u2019s a transaction proposal api","ts":"1478550092.002559"},{"type":"message","user":"U13TWBRBL","text":"yep, that\u2019s my understanding as well","ts":"1478550109.002560"},{"type":"message","user":"U0KN2SSKE","text":"the proto has the chainID defined now","ts":"1478550113.002561"},{"type":"message","user":"U0XQ35CDD","text":"<@U13TWBRBL> Right, everything that I talked about is from the orderer side of things. (So, when I talked about validation logic being there, I wasn't referring to ESCC and VSCC but to the signature validation DSL and policy manager.)","ts":"1478550127.002562"},{"type":"message","user":"U13TWBRBL","text":"but was thinking that we could start the API design without being able to test it with a backend, still we\u2019ll be able to write unit tests against the params etc.","ts":"1478550149.002563","reactions":[{"name":"+1","users":["U0KN2SSKE"],"count":1}]},{"type":"message","user":"U0ZJZBJLF","text":"what is `kvledger`?","ts":"1478595724.002564"},{"type":"message","user":"U0ZJZBJLF","text":"`fabric\/core\/ledger\/kvledger`","ts":"1478595739.002565"},{"type":"message","user":"U0PB67X4K","text":"<@U0ZJZBJLF> - it's the new state store for v1 - there are 2 implementations - one for RocksDB (moving to goleveldb soon) and one experimental one which used couchdb","ts":"1478596280.002566"},{"type":"message","user":"U0ZJZBJLF","text":"thanks","ts":"1478596335.002567"},{"type":"message","user":"U2RMVHMK9","text":"<@U0PB67X4K> what is different between stateCF and stateDeltaCF?","ts":"1478597678.002568"},{"type":"message","user":"U1KFCPFQA","text":"<@U2RMVHMK9>  CF means RocksDB column families, think of them as data partitions within the database.  stateCF is world state and stateDeltaCF are the changes in state from a certain point in time.  These are 0.5\/0.6 implementations and are not in v1.","edited":{"user":"U1KFCPFQA","ts":"1478607608.000000"},"ts":"1478607559.002569","reactions":[{"name":"+1","users":["U2RMVHMK9"],"count":1}]},{"type":"message","user":"U2Q0HP4HY","text":"Hi Just updated to latest in master branch unit test run but :\nddtests(master)]$ docker-compose -f docker-compose-next-1.yml up\nvp0_1          | 14:24:53.266 [nodeCmd] serve -&gt; CRIT 0bc Failed creating new peer with handler Security helper not provided\n```\nrunning outside of vagrant","edited":{"user":"U2Q0HP4HY","ts":"1478615280.000000"},"ts":"1478615196.002573"},{"type":"message","user":"U2RMVHMK9","text":"<@U1KFCPFQA> Thank you! When will version 1.0 release?","ts":"1478654972.002576"},{"type":"message","user":"U1KFCPFQA","text":"<@U2RMVHMK9> v1.0 is currently targeted for March","ts":"1478655522.002577","reactions":[{"name":"+1","users":["U2RMVHMK9"],"count":1}]},{"type":"message","user":"U2RMVHMK9","text":"<@U1KFCPFQA> I'm looking forward it","ts":"1478656056.002578"},{"user":"U2PAN55V0","text":"<@U2PAN55V0|jov> has joined the channel","type":"message","subtype":"channel_join","ts":"1478688176.002579"},{"user":"U2W7U5UA3","text":"<@U2W7U5UA3|pd93> has joined the channel","type":"message","subtype":"channel_join","ts":"1478690033.002580"},{"type":"message","user":"U1KFBBWG1","text":"<@U0KN2SSKE> <@U0ULK2JPP> <@U13TWBRBL>","ts":"1478708880.002583"},{"type":"message","user":"U1KFBBWG1","text":"Should the ProposalResponse.Response2.status and ProposalResponse.Response2.payload also be signed and have the ProposalResponse.Response2 include a new signature or could it be part of the Endorsement.signature ? \nHow can we trust the status or payload otherwise ?","ts":"1478708885.002584"},{"type":"message","user":"U13TWBRBL","text":"unless there are other ways to obtain the query results from the chaincode inside the ProposalResponse, we currently rely on the \u201cResponse2.payload\u201d to carry the return value of the chaincode, using this mechanism for \u201cqueryByChaincode()\u201d","ts":"1478709119.002585"},{"type":"message","user":"U13TWBRBL","text":"to Bret\u2019s questions above, should we care if the Response2.payload is not signed?","ts":"1478709145.002586"},{"type":"message","user":"U13TWBRBL","text":"guess it can be protected by TLS (as is \u201cstatus\u201d)","ts":"1478709158.002587"},{"type":"message","user":"U13TWBRBL","text":"but since it\u2019s presumably used by applications to obtain official information on the ledger, I would think it should be signed","ts":"1478709207.002588"},{"type":"message","user":"U0ULK2JPP","text":"one thing (and <@U0KN2SSKE>  brought this up) \u2026 should the \u201creturn value\u201d from the CC be saved on the ledger ? if so we cannot set it in Response2.Payload","ts":"1478709418.002589"},{"type":"message","user":"U0ULK2JPP","text":"on the other hand, that means we are treating all queries as transactions\u2026 and there\u2019ll be a lot of them","ts":"1478709483.002590"},{"type":"message","user":"U0ULK2JPP","text":"what does everyone think ?","ts":"1478709544.002591"},{"type":"message","user":"U13TWBRBL","text":"to me i don\u2019t think it makes sense to record queries as transactions","ts":"1478709594.002592"},{"type":"message","user":"U13TWBRBL","text":"but the return values of the queries do need to be signed in my opinion","ts":"1478709624.002593"},{"type":"message","user":"U0ULK2JPP","text":"<@U13TWBRBL> I think so too...","ts":"1478709742.002594"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F30NK3KPX\/-.sh|Untitled> and commented: <@U0XPR4NP4>","file":{"id":"F30NK3KPX","created":1478729201,"timestamp":1478729201,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0KPFAZNF","editable":true,"size":7252,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30NK3KPX\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30NK3KPX\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F30NK3KPX\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F30NK3KPX-7fb1d434e8","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F30NK3KPX\/-.sh\/edit","preview":"$ make protos\r\nmkdir -p build\/bin\r\ncd gotools && make install BINDIR=\/opt\/gopath\/bin\r\nmake[1]: Entering directory '\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/gotools'\r\ncp build\/gopath\/bin\/golint build\/gopath\/bin\/govendor build\/gopath\/bin\/goimports build\/gopath\/bin\/protoc-gen-go build\/gopath\/bin\/ginkgo build\/gopath\/bin\/gocov build\/gopath\/bin\/gocov-xml \/opt\/gopath\/bin\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-def\">$ make<\/span> protos<\/pre><\/div>\n<div><pre><span class=\"cm-builtin\">mkdir<\/span> <span class=\"cm-attribute\">-p<\/span> build\/bin<\/pre><\/div>\n<div><pre><span class=\"cm-builtin\">cd<\/span> gotools &amp;&amp; <span class=\"cm-builtin\">make<\/span> install <span class=\"cm-def\">BINDIR<\/span><span class=\"cm-operator\">=<\/span>\/opt\/gopath\/bin<\/pre><\/div>\n<div><pre><span class=\"cm-builtin\">make<\/span>[1]: Entering directory <span class=\"cm-string\">'\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/gotools'<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-builtin\">cp<\/span> build\/gopath\/bin\/golint build\/gopath\/bin\/govendor build\/gopath\/bin\/goimports build\/gopath\/bin\/protoc-gen-go build\/gopath\/bin\/ginkgo build\/gopath\/bin\/gocov build\/gopath\/bin\/gocov-xml \/opt\/gopath\/bin<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":85,"lines_more":80,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc300505JM","created":1478729201,"timestamp":1478729201,"user":"U0KPFAZNF","is_intro":true,"comment":"<@U0XPR4NP4>","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1478729201.002595"},{"type":"message","user":"U0KPFAZNF","text":"im seeing this on HEAD","ts":"1478729206.002596"},{"type":"message","user":"U0KPFAZNF","text":"expected?","ts":"1478729208.002597"},{"type":"message","user":"U0XPR4NP4","text":"Yes, let me get the CR","ts":"1478729239.002598"},{"type":"message","user":"U0XPR4NP4","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2361\/>","ts":"1478729245.002599"},{"type":"message","user":"U0KPFAZNF","text":"ah, haha...i shot too low for <@U0ULK2JPP>","ts":"1478729267.002600"},{"type":"message","user":"U0KPFAZNF","text":"off by one","ts":"1478729272.002601"},{"type":"message","user":"U0KPFAZNF","text":"did you have any thoughts about the v2 thing?","ts":"1478729293.002602"},{"type":"message","user":"U0KPFAZNF","text":"was that expected?","ts":"1478729297.002603"},{"type":"message","user":"U0XPR4NP4","text":"Was about to check that now...","ts":"1478729300.002604"},{"type":"message","user":"U0KPFAZNF","text":"if so, its a +2 from me","ts":"1478729301.002605"},{"type":"message","user":"U0KPFAZNF","text":"I might just be confused, but I thought that was a sign of a incongruence in the protoc-gen-go you used","ts":"1478729330.002606"},{"type":"message","user":"U0XPR4NP4","text":"Right, I'm really not sure why, but re-ran `make protos` and I saw an update for that file, not sure how that slipped by last time","ts":"1478729482.002607"},{"type":"message","user":"U0KPFAZNF","text":"I got one too, though not in that regard","ts":"1478729495.002608"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2ZUQ5Q2C\/-.js|Untitled> and commented: mine looked more like this (there were more hunks than this though)","file":{"id":"F2ZUQ5Q2C","created":1478729549,"timestamp":1478729549,"name":"-.js","title":"Untitled","mimetype":"text\/plain","filetype":"javascript","pretty_type":"JavaScript\/JSON","user":"U0KPFAZNF","editable":true,"size":1306,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2ZUQ5Q2C\/-.js?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2ZUQ5Q2C\/download\/-.js?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2ZUQ5Q2C\/-.js","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2ZUQ5Q2C-43818abf66","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2ZUQ5Q2C\/-.js\/edit","preview":"diff --git a\/protos\/common\/common.pb.go b\/protos\/common\/common.pb.go\r\nindex 3719355..0003f21 100644\r\n--- a\/protos\/common\/common.pb.go\r\n+++ b\/protos\/common\/common.pb.go\r\n@@ -90,7 +90,7 @@ func (m *Header) GetSignatureHeader() *SignatureHeader {\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-variable\">diff<\/span> <span class=\"cm-operator\">--<\/span><span class=\"cm-variable\">git<\/span> <span class=\"cm-variable\">a<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">protos<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">common<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">common<\/span>.<span class=\"cm-property\">pb<\/span>.<span class=\"cm-property\">go<\/span> <span class=\"cm-variable\">b<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">protos<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">common<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">common<\/span>.<span class=\"cm-property\">pb<\/span>.<span class=\"cm-property\">go<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-variable\">index<\/span> <span class=\"cm-number\">3719355.<\/span><span class=\"cm-number\">.0003<\/span><span class=\"cm-variable\">f21<\/span> <span class=\"cm-number\">100644<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-operator\">---<\/span> <span class=\"cm-variable\">a<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">protos<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">common<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">common<\/span>.<span class=\"cm-property\">pb<\/span>.<span class=\"cm-property\">go<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-operator\">+++<\/span> <span class=\"cm-variable\">b<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">protos<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">common<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">common<\/span>.<span class=\"cm-property\">pb<\/span>.<span class=\"cm-property\">go<\/span><\/pre><\/div>\n<div><pre>@@ <span class=\"cm-operator\">-<\/span><span class=\"cm-number\">90<\/span>,<span class=\"cm-number\">7<\/span> <span class=\"cm-operator\">+<\/span><span class=\"cm-number\">90<\/span>,<span class=\"cm-number\">7<\/span> @@ <span class=\"cm-variable\">func<\/span> (<span class=\"cm-variable\">m<\/span> <span class=\"cm-operator\">*<\/span><span class=\"cm-variable\">Header<\/span>) <span class=\"cm-variable\">GetSignatureHeader<\/span>() <span class=\"cm-operator\">*<\/span><span class=\"cm-variable\">SignatureHeader<\/span> {<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":22,"lines_more":17,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc3007JKQR","created":1478729549,"timestamp":1478729549,"user":"U0KPFAZNF","is_intro":true,"comment":"mine looked more like this (there were more hunks than this though)","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1478729549.002609"},{"type":"message","user":"U0XPR4NP4","text":"And it's still wrong....","ts":"1478729593.002610"},{"type":"message","user":"U0KPFAZNF","text":"anyway, this is good, i can now test the docker-based form of this","ts":"1478729600.002611"},{"type":"message","user":"U0KPFAZNF","text":"at least I know what will happen on master and can compare it","ts":"1478729616.002612"},{"type":"message","user":"U0XPR4NP4","text":"I delete `$GOPATH\/bin\/protoc-gen-go`, then run `make protos` and `protoc-gen-go` is back in my `$GOPATH\/bin` and resolves from there under `which protoc-gen-go`","ts":"1478729678.002613"},{"type":"message","user":"U0KPFAZNF","text":"one thing that is tripping people up is the fact that $GOPATH\/bin\/protoc-gen-go is treated gingerly","ts":"1478729681.002614"},{"type":"message","user":"U0KPFAZNF","text":"yeah, you might be impacted by the same phenomenon I just eluded to","ts":"1478729711.002615"},{"type":"message","user":"U0KPFAZNF","text":"fwiw, this will \"go away\" in the new design since the tooling is embedded in the docker flow","ts":"1478729728.002616"},{"type":"message","user":"U0KPFAZNF","text":"but for now, i think that is the work around","ts":"1478729747.002617"},{"type":"message","user":"U0KPFAZNF","text":"theres a delicate balance between being \"right\" and \"not annoying\" with makefile deps","ts":"1478729813.002618"},{"type":"message","user":"U0KPFAZNF","text":"i think I swung too far to the right on this one","ts":"1478729821.002619"},{"type":"message","user":"U0XPR4NP4","text":"What is the workaround? I'm still getting the `const _ = proto.ProtoPackageIsVersion2 \/\/ please upgrade the proto package` after deleting and regenerating","ts":"1478729843.002620"},{"type":"message","user":"U0KPFAZNF","text":"its not picking up when the binary needs to get rebuilt properly","ts":"1478729847.002621"},{"type":"message","user":"U0KPFAZNF","text":"oh..hmm","ts":"1478729862.002622"},{"type":"message","user":"U0XPR4NP4","text":"(Same output from vagrant and my local env)","ts":"1478729865.002623"},{"type":"message","user":"U0KPFAZNF","text":"that might just be right then","ts":"1478729866.002624"},{"type":"message","user":"U0KPFAZNF","text":"yeah, i might just be confused that \"..IsVersion2\" == bad","ts":"1478729882.002625"},{"type":"message","user":"U0KPFAZNF","text":"i thought someone ran into that in the past that it meant you had protobuf v2.x instead of the expected v3","ts":"1478729904.002626"},{"type":"message","user":"U0KPFAZNF","text":"but I might be confused","ts":"1478729908.002627"},{"type":"message","user":"U0KPFAZNF","text":"I think it was <@U0ZJZBJLF>","ts":"1478729925.002628"},{"type":"message","user":"U0KPFAZNF","text":"any thoughts on that <@U0ZJZBJLF> ?","ts":"1478729933.002629"},{"type":"message","user":"U0XPR4NP4","text":"```\ngrep -r '\/\/ please upgrade the proto package' . | wc -l\n49\n```","ts":"1478729936.002630"},{"type":"message","user":"U0KPFAZNF","text":"long story short, if you blow away $GOPATH\/bin\/protoc-gen-go and re-run, it _should_ be generating that fresh from your vendor folder","ts":"1478729973.002631"},{"type":"message","user":"U0KPFAZNF","text":"actually that is something to check","ts":"1478729986.002632"},{"type":"message","user":"U0KPFAZNF","text":"make sure its actually taking whats in fabric.git\/vendor\/...\/protobuf","ts":"1478730006.002633"},{"type":"message","user":"U0KPFAZNF","text":"but I suspect it is","ts":"1478730017.002634"},{"type":"message","user":"U0ZJZBJLF","text":"Was me","ts":"1478730041.002635"},{"type":"message","user":"U0KPFAZNF","text":"if in doubt, blow away .\/gotools\/build and try again","ts":"1478730048.002636"},{"type":"message","user":"U0ZJZBJLF","text":"Override the path","ts":"1478730055.002637"},{"type":"message","user":"U0ZJZBJLF","text":"Go to the vendor folder","ts":"1478730068.002638"},{"type":"message","user":"U0ZJZBJLF","text":"Compile the protoc gem go","ts":"1478730077.002639"},{"type":"message","user":"U0ZJZBJLF","text":"And make jt first in the path","ts":"1478730093.002640"},{"type":"message","user":"U0ZJZBJLF","text":"Thats assuming you want to use the vendors buikd","ts":"1478730120.002641"},{"type":"message","user":"U0KPFAZNF","text":"we do","ts":"1478730124.002642"},{"type":"message","user":"U0KPFAZNF","text":"though I think in the latest code, this shouldnt be necessary per se...we now move the vendor stuff into .\/build rather than $GOPATH\/src","ts":"1478730152.002643"},{"type":"message","user":"U0KPFAZNF","text":"I think in earlier revs, we were putting stuff in $GOPATH\/[src,bin] and that had the potential to get stale","ts":"1478730178.002644"},{"type":"message","user":"U0KPFAZNF","text":"but that shouldnt be the case any more","ts":"1478730182.002645"},{"type":"message","user":"U0XPR4NP4","text":"```\n$ export PATH=$PWD\/gotools\/build\/gopath\/bin:$PATH &amp;&amp; rm -Rf gotools\/build &amp;&amp; make protos &amp;&amp; grep -r '\/\/ please upgrade the proto package' . | wc -l\n....\n49\n```","ts":"1478730355.002646"},{"type":"message","user":"U0XPR4NP4","text":"<@U0ZJZBJLF> When you build the protos do you get the `\/\/ please upgrade the proto package` comment in your output `pb.go` files?","ts":"1478730389.002647"},{"type":"message","user":"U0ZJZBJLF","text":"You need to compile ","ts":"1478730404.002648"},{"type":"message","user":"U0ZJZBJLF","text":"The protocgen go","ts":"1478730411.002649"},{"type":"message","user":"U0XPR4NP4","text":"```\n[yellickj@jmobile fabric]$ export PATH=$PWD\/gotools\/build\/gopath\/bin:$PATH &amp;&amp; rm -Rf gotools\/build &amp;&amp; make protos &amp;&amp; grep -r '\/\/ please upgrade the proto package' . | wc -l\nmkdir -p build\/bin\ncd gotools &amp;&amp; make install BINDIR=\/home\/yellickj\/go\/bin\nmake[1]: Entering directory '\/home\/yellickj\/go\/src\/github.com\/hyperledger\/fabric\/gotools'\nmake[2]: Entering directory '\/home\/yellickj\/go\/src\/github.com\/hyperledger\/fabric\/gotools'\nBuilding <http:\/\/github.com\/golang\/lint\/golint|github.com\/golang\/lint\/golint> -&gt; golint\nmake[2]: Leaving directory '\/home\/yellickj\/go\/src\/github.com\/hyperledger\/fabric\/gotools'\nmake[2]: Entering directory '\/home\/yellickj\/go\/src\/github.com\/hyperledger\/fabric\/gotools'\nBuilding <http:\/\/github.com\/kardianos\/govendor|github.com\/kardianos\/govendor> -&gt; govendor\nmake[2]: Leaving directory '\/home\/yellickj\/go\/src\/github.com\/hyperledger\/fabric\/gotools'\nmake[2]: Entering directory '\/home\/yellickj\/go\/src\/github.com\/hyperledger\/fabric\/gotools'\nBuilding <http:\/\/golang.org\/x\/tools\/cmd\/goimports|golang.org\/x\/tools\/cmd\/goimports> -&gt; goimports\nmake[2]: Leaving directory '\/home\/yellickj\/go\/src\/github.com\/hyperledger\/fabric\/gotools'\nmake[2]: Entering directory '\/home\/yellickj\/go\/src\/github.com\/hyperledger\/fabric\/gotools'\nBuilding <http:\/\/github.com\/golang\/protobuf\/protoc-gen-go|github.com\/golang\/protobuf\/protoc-gen-go> -&gt; protoc-gen-go\nmake[2]: Leaving directory '\/home\/yellickj\/go\/src\/github.com\/hyperledger\/fabric\/gotools'\nmake[2]: Entering directory '\/home\/yellickj\/go\/src\/github.com\/hyperledger\/fabric\/gotools'\nBuilding <http:\/\/github.com\/onsi\/ginkgo\/ginkgo|github.com\/onsi\/ginkgo\/ginkgo> -&gt; ginkgo\nmake[2]: Leaving directory '\/home\/yellickj\/go\/src\/github.com\/hyperledger\/fabric\/gotools'\nmake[2]: Entering directory '\/home\/yellickj\/go\/src\/github.com\/hyperledger\/fabric\/gotools'\nBuilding <http:\/\/github.com\/axw\/gocov\/|github.com\/axw\/gocov\/>... -&gt; gocov\nmake[2]: Leaving directory '\/home\/yellickj\/go\/src\/github.com\/hyperledger\/fabric\/gotools'\nmake[2]: Entering directory '\/home\/yellickj\/go\/src\/github.com\/hyperledger\/fabric\/gotools'\nBuilding <http:\/\/github.com\/AlekSi\/gocov-xml|github.com\/AlekSi\/gocov-xml> -&gt; gocov-xml\n...\n49\n```","ts":"1478730438.002650"},{"type":"message","user":"U0ZJZBJLF","text":"No no","ts":"1478730454.002651"},{"type":"message","user":"U0ZJZBJLF","text":"Go to the cendor folder","ts":"1478730461.002652"},{"type":"message","user":"U0ZJZBJLF","text":"Where the protoc gen go is located","ts":"1478730475.002653"},{"type":"message","user":"U0ZJZBJLF","text":"And go build -o protoc-gen-go it","ts":"1478730487.002654"},{"type":"message","user":"U0ZJZBJLF","text":"Sorry i'm on the phone on the bed :sweat_smile: ","ts":"1478730505.002655"},{"type":"message","user":"U0ZJZBJLF","text":"Hard to type","ts":"1478730515.002656"},{"type":"message","user":"U0KPFAZNF","text":"i assume you mean as a sanity check","ts":"1478730523.002657"},{"type":"message","user":"U0ZJZBJLF","text":"No","ts":"1478730527.002658"},{"type":"message","user":"U0KPFAZNF","text":"(the build should be doing this for you)","ts":"1478730529.002659"},{"type":"message","user":"U0ZJZBJLF","text":"Ibdid bot","ts":"1478730529.002660"},{"type":"message","user":"U0ZJZBJLF","text":"Oh really?","ts":"1478730535.002661"},{"type":"message","user":"U0KPFAZNF","text":"yes","ts":"1478730537.002662"},{"type":"message","user":"U0ZJZBJLF","text":"Since whwn","ts":"1478730546.002663"},{"type":"message","user":"U0ZJZBJLF","text":"When","ts":"1478730549.002664"},{"type":"message","user":"U0KPFAZNF","text":"long long time","ts":"1478730554.002665"},{"type":"message","user":"U0KPFAZNF","text":"6+ months, I dont remember exactly","ts":"1478730565.002666"},{"type":"message","user":"U0ZJZBJLF","text":"Huh? You sure? ","ts":"1478730567.002667"},{"type":"message","user":"U0KPFAZNF","text":"yeah...i wrote it :wink:","ts":"1478730572.002668"},{"type":"message","user":"U0ZJZBJLF","text":"It build the binary in the vendor folder?","ts":"1478730581.002669"},{"type":"message","user":"U0KPFAZNF","text":"\"make protos\" should generate the protoc-gen-go","ts":"1478730589.002670"},{"type":"message","user":"U0ZJZBJLF","text":"Ok","ts":"1478730594.002671"},{"type":"message","user":"U0ZJZBJLF","text":"Hmmmm well thats what i was doing. By the way:","ts":"1478730620.002672"},{"type":"message","user":"U0KPFAZNF","text":"though as I was saying earlier, the current one checked into master has a suboptimal behavor w.r.t. detecting stale image","ts":"1478730627.002673"},{"type":"message","user":"U0ZJZBJLF","text":"The compilatiom error is because the pb go file generated doesnt fit the vendor version","ts":"1478730645.002674"},{"type":"message","user":"U0ZJZBJLF","text":"And protoc doesnt know to use vendor","ts":"1478730678.002675"},{"type":"message","user":"U0XPR4NP4","text":"<@U0ZJZBJLF> Followed your instructions, produced that `protoc-gen-go` file in the vendor file, then copied it into the `gotools\/build\/gopath\/bin` and my `$GOPATH\/bin` dirs, re-ran `make protos`, and still same output.","ts":"1478730704.002676"},{"type":"message","user":"U0KPFAZNF","text":"but if the protoc-gen-go came from vendor, this shouldnt happen, right?","ts":"1478730706.002677"},{"type":"message","user":"U0ZJZBJLF","text":"Try not coying it","ts":"1478730722.002678"},{"type":"message","user":"U0ZJZBJLF","text":"Leave it there","ts":"1478730732.002679"},{"type":"message","user":"U0ZJZBJLF","text":"And overridethe path","ts":"1478730740.002680"},{"type":"message","user":"U0ZJZBJLF","text":"I know i know","ts":"1478730745.002681"},{"type":"message","user":"U0ZJZBJLF","text":"Sounds voodo","ts":"1478730754.002682"},{"type":"message","user":"U0XPR4NP4","text":"Still the same output","ts":"1478730794.002683"},{"type":"message","user":"U0XPR4NP4","text":"(though the make may be screwing with my path)","ts":"1478730807.002684"},{"type":"message","user":"U0ZJZBJLF","text":"Jyellic also try to do ls -lrt on the file compiled and after you make protos","ts":"1478730808.002685"},{"type":"message","user":"U0ZJZBJLF","text":"Oh ","ts":"1478730835.002686"},{"type":"message","user":"U0KPFAZNF","text":"I dont think the makefile will set the $PATH","ts":"1478730846.002687"},{"type":"message","user":"U0XPR4NP4","text":"(Tried running without make, same output)","ts":"1478730848.002688"},{"type":"message","user":"U0ZJZBJLF","text":"    I was running compile protos","ts":"1478730849.002689"},{"type":"message","user":"U0ZJZBJLF","text":"Not make protoa","ts":"1478730852.002690"},{"type":"message","user":"U0KPFAZNF","text":"yeah, thats all make does","ts":"1478730860.002691"},{"type":"message","user":"U0XPR4NP4","text":"Just tried `compile_protos.sh` same output","ts":"1478730860.002692"},{"type":"message","user":"U0KPFAZNF","text":"it just ensures the pre-requisites are met (in this case, the protoc-gen-go is built) and then calls the script","ts":"1478730882.002693"},{"type":"message","user":"U0XPR4NP4","text":"```\n[yellickj@jmobile fabric]$ ls -lrt vendor\/github.com\/golang\/protobuf\/protoc-gen-go\/protoc-gen-go \n-rwxr-xr-x 1 yellickj users 4252498 Nov  9 17:28 vendor\/github.com\/golang\/protobuf\/protoc-gen-go\/protoc-gen-go\n```","ts":"1478730899.002694"},{"type":"message","user":"U0ZJZBJLF","text":"Weird. Using thia trick i was pushing to master and to convergence even though they had different versikns of protocbuf","ts":"1478730917.002695"},{"type":"message","user":"U0KPFAZNF","text":"it seems fairly definitive that the .pb.go files you have seem to be properly correlated to the vendored protobuf library","ts":"1478730928.002696"},{"type":"message","user":"U0KPFAZNF","text":"now the question is: is that correct?","ts":"1478730932.002697"},{"type":"message","user":"U0KPFAZNF","text":"maybe it is","ts":"1478730944.002698"},{"type":"message","user":"U0XPR4NP4","text":"I have a recollection of, a few weeks ago, it not generating that `\/\/ please ugrade ...` message","ts":"1478730951.002699"},{"type":"message","user":"U0KPFAZNF","text":"yeah, that is my memory too","ts":"1478730962.002700"},{"type":"message","user":"U0KPFAZNF","text":"thus the raising of the issue","ts":"1478730967.002701"},{"type":"message","user":"U0KPFAZNF","text":"I suppose its possible that the confusion was the other way around","ts":"1478730979.002702"},{"type":"message","user":"U0XPR4NP4","text":"But, when I run make protos, it is not claiming that I modify all the protos, despite that line appearing in every output file","ts":"1478730984.002703"},{"type":"message","user":"U0KPFAZNF","text":"IsVersion=2 is correct and whatever the other output was was the issue","ts":"1478730990.002704"},{"type":"message","user":"U0XPR4NP4","text":"Might be... we are not version2 obviously, but maybe from a golang API perspective we still are","ts":"1478731010.002705"},{"type":"message","user":"U0KPFAZNF","text":"yeah, its not clear what that refers to","ts":"1478731022.002706"},{"type":"message","user":"U0KPFAZNF","text":"it might be a GRPC versioning namespace, orthogonal to protobuf v2 vs v3","ts":"1478731049.002707"},{"type":"message","user":"U0KPFAZNF","text":"id have to look again more closely","ts":"1478731066.002708"},{"type":"message","user":"U0XPR4NP4","text":"<@U0KPFAZNF> When you generate locally, do you get this line?","ts":"1478731071.002709"},{"type":"message","user":"U0KPFAZNF","text":"when I run locally, I do not get a diff indicating that it changed","ts":"1478731086.002710"},{"type":"message","user":"U0KPFAZNF","text":"so, yes","ts":"1478731088.002711"},{"type":"message","user":"U0KPFAZNF","text":"(or, the file isnt being emitted, which is a remote but real possibility","ts":"1478731106.002712"},{"type":"message","user":"U0KPFAZNF","text":"long story short, I run \"make protos\" and I do not see those being removed","ts":"1478731130.002713"},{"type":"message","user":"U0KPFAZNF","text":"(which is another data point that its properly correlated, if not correct","ts":"1478731156.002714"},{"type":"message","user":"U0XPR4NP4","text":"Okay... I will assume things are okay, and post to gerrit as such","ts":"1478731191.002715"},{"type":"message","user":"U0KPFAZNF","text":"agreed","ts":"1478731195.002716"},{"type":"message","user":"U0KPFAZNF","text":"sorry for the noise","ts":"1478731199.002717"},{"type":"message","user":"U0KPFAZNF","text":"any problem here, is not related to your patch","ts":"1478731209.002718"},{"type":"message","user":"U0KPFAZNF","text":"and if it is a problem, it will get cleaned up in a follow up sweep","ts":"1478731229.002719"},{"type":"message","user":"U0XPR4NP4","text":"No problem at all, good to do a little sanity checking on these things once in a while.","ts":"1478731320.002720"},{"type":"message","user":"U0ZJZBJLF","text":"Jyellic, btw- i meant to set the path prefix to be the protoc gen go of the vendor folder, not the go bin or gotools","edited":{"user":"U0ZJZBJLF","ts":"1478731444.000000"},"ts":"1478731428.002721"},{"type":"message","user":"U0ZJZBJLF","text":"But again, maybe it doesnt work in protoc 3.10? I'd run with strace to see what files it touches","ts":"1478731536.002723"},{"type":"message","user":"U0XPR4NP4","text":"<@U0ZJZBJLF> I think it was a red herring, and it was using the right proto-gen-go, we just thought the output was incorrect","ts":"1478732532.002724"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XPR4NP4> <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2393\/>","ts":"1478741240.002725"},{"type":"message","user":"U0XPR4NP4","text":"Done","ts":"1478741309.002726"},{"type":"message","user":"U0KPFAZNF","text":"ty","ts":"1478741937.002727"},{"type":"message","user":"U0KPFAZNF","text":"does anyone know if there is updated doc for dealing with running things in master?","ts":"1478744047.002728"},{"type":"message","user":"U0KPFAZNF","text":"e.g. now we have orderer, membersrvc-&gt;cop, and the new SDK","ts":"1478744063.002729"},{"type":"message","user":"U0KPFAZNF","text":"I am not clear on how to stand up an environment","ts":"1478744075.002730"},{"type":"message","user":"U0XPR4NP4","text":"I think <@U0ULK2JPP> might have put something together for when he demoed the end to end flow at the hackathon, but not certain","ts":"1478747531.002731"},{"type":"message","user":"U24M29R4G","text":"<@U0KPFAZNF> <https:\/\/lists.hyperledger.org\/pipermail\/hyperledger-fabric\/attachments\/20161022\/d3860afb\/attachment.obj> has  some documentation on how to deploy and invoke a chaincode. not sure if you are looking for something like this..","ts":"1478751164.002732"},{"type":"message","user":"U2RMVHMK9","text":"I have a dummy question about fabric v1.0.\nIn v1.0, Will fabric support validating peers to join dynamically?","ts":"1478764579.002733"},{"type":"message","user":"U0PB67X4K","text":"<@U2RMVHMK9>  - the short answer is yes\n\nThe longer answer is things are slightly more complicated while at the same time more flexible.   Peers now have 2 types of function - endorsing and committing (endorsing peers typically need to be committing peers as well) and we have introduced an ordering service as well.    The basic pattern is that a client \/ application sends proposals to endorsing peers (which run chaincode to simulate the results), collects endorsed responses, submits them to ordering which then comes back to the committing function of the peers.   \n\nFor the initial version of V1, you'll be able to add endorsing and\/or committing peers dynamically","edited":{"user":"U0PB67X4K","ts":"1478774812.000000"},"ts":"1478774800.002734","reactions":[{"name":"+1","users":["U2RMVHMK9"],"count":1}]},{"type":"message","user":"U2RMVHMK9","text":"<@U0PB67X4K> thank you","ts":"1478775380.002736"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XPR4NP4>: <@U24M29R4G> ty","ts":"1478778007.002737"},{"type":"message","user":"U0PB67X4K","text":"","attachments":[{"fallback":"[November 10th, 2016 7:06 AM] garisingh: Sorry for the wide blast here, but while I was reviewing stuff, thought I should send out a note on things which will make life easier for the maintainers and will help contributions be merged more quickly:\n\n1) Please make sure to reference a JIRA item in your commits - especially for new functionality\n\n2) Let's try to add a little more detail to some of the JIRA entries - one line entries \/ descriptions don't help us understand what contribution is trying to achieve\n\n3) When people make comments in gerrit, once you address them please mark them as done (by clicking in the comment and hitting done  :slightly_smiling_face:  )\n\n4) You'll notice that we push back a lot on lack of tests - please test locally and use a coverage tool to see where you stand\n\n5) Run linters, go import, etc to reduce CI failures","ts":"1478779599.000514","author_subname":"garisingh","channel_id":"C29512UHF","channel_name":"fabric-sdk-node-dev","is_msg_unfurl":true,"text":"Sorry for the wide blast here, but while I was reviewing stuff, thought I should send out a note on things which will make life easier for the maintainers and will help contributions be merged more quickly:\n\n1) Please make sure to reference a JIRA item in your commits - especially for new functionality\n\n2) Let's try to add a little more detail to some of the JIRA entries - one line entries \/ descriptions don't help us understand what contribution is trying to achieve\n\n3) When people make comments in gerrit, once you address them please mark them as done (by clicking in the comment and hitting done  :slightly_smiling_face:  )\n\n4) You'll notice that we push back a lot on lack of tests - please test locally and use a coverage tool to see where you stand\n\n5) Run linters, go import, etc to reduce CI failures","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/garisingh","author_icon":"https:\/\/avatars.slack-edge.com\/2016-09-10\/78323915894_521dc680194c08b166e0_48.jpg","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-sdk-node-dev\/p1478779599000514","is_share":true,"footer":"Posted in #fabric-sdk-node-dev"}],"ts":"1478779744.002738"},{"type":"message","user":"U0ULK2JPP","text":"&gt;I think <@U0ULK2JPP> might have put something together for when he demoed the end to end flow at the hackathon, but not certain","ts":"1478780678.002739"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F30R35B51\/simple_test_with_skeletal_peer.md|simple_test_with_skeletal_peer.md> and commented: <@U0KPFAZNF> <@U0XPR4NP4> the above doc goes over the steps to run end to end test in latest master V1","file":{"id":"F30R35B51","created":1478780775,"timestamp":1478780775,"name":"simple_test_with_skeletal_peer.md","title":"simple_test_with_skeletal_peer.md","mimetype":"text\/plain","filetype":"markdown","pretty_type":"Markdown (raw)","user":"U0ULK2JPP","editable":true,"size":4254,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30R35B51\/simple_test_with_skeletal_peer.md?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30R35B51\/download\/simple_test_with_skeletal_peer.md?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F30R35B51\/simple_test_with_skeletal_peer.md","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F30R35B51-c52ece6be9","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F30R35B51\/simple_test_with_skeletal_peer.md\/edit","preview":"# V1.0 Skeletal Environment\nThe V1.0 work is on its way (please see https:\/\/jira.hyperledger.org\/browse\/FAB-37 for details).\n\nUsers wishing to use pre V1.0 fabric should use branch `v0.6` under https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric,branches\n","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-header cm-header-1\"># <\/span><span class=\"cm-header cm-header-1\">V1.0<\/span><span class=\"cm-header cm-header-1\"> <\/span><span class=\"cm-header cm-header-1\">Skeletal<\/span><span class=\"cm-header cm-header-1\"> <\/span><span class=\"cm-header cm-header-1\">Environment<\/span><\/pre><\/div>\n<div><pre>The V1.0 work is on its way (please see https:\/\/jira.hyperledger.org\/browse\/FAB-37 for details).<\/pre><\/div>\n<div><pre>&#8203;<\/pre><\/div>\n<div><pre>Users wishing to use pre V1.0 fabric should use branch <span class=\"cm-comment\">`<\/span><span class=\"cm-comment\">v0.6<\/span><span class=\"cm-comment\">`<\/span> under https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric,branches<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":86,"lines_more":81,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc30785W9F","created":1478780775,"timestamp":1478780775,"user":"U0ULK2JPP","is_intro":true,"comment":"<@U0KPFAZNF> <@U0XPR4NP4> the above doc goes over the steps to run end to end test in latest master V1","channel":""}},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1478780776.002740"},{"type":"message","user":"U0ULK2JPP","text":"We should also have the equivalent flow from SDK too","ts":"1478780803.002741"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP> ty, and now that I see it, I recall you already sent that to me before","ts":"1478780807.002742"},{"type":"message","user":"U0ULK2JPP","text":"<@U13TWBRBL> ^^^","ts":"1478780810.002743"},{"type":"message","user":"U0KPFAZNF","text":"sorry for the repeat","ts":"1478780813.002744"},{"type":"message","user":"U0ULK2JPP","text":"no worries at all!!","ts":"1478780821.002745"},{"type":"message","user":"U0ULK2JPP","text":"one thing to point out","ts":"1478780834.002746"},{"type":"message","user":"U0ULK2JPP","text":"if we change fabric\/peer\/core.yaml with the right default we don\u2019t need CORE_PEER_COMMITTER_LEDGER_ORDERER=0.0.0.0:5151 in that doc","ts":"1478780887.002747"},{"type":"message","user":"U0ULK2JPP","text":"its a nit but I can imagine people getting bitten by that","ts":"1478780906.002748"},{"type":"message","user":"U0KPFAZNF","text":"ok, ill try to stand it up later and see what I run into","ts":"1478781268.002749"},{"type":"message","user":"U0KPFAZNF","text":"I am in some epic meeting right now","ts":"1478781276.002750"},{"type":"message","user":"U0PB67X4K","text":"have fun with that <@U0KPFAZNF>","ts":"1478781397.002753"},{"type":"message","user":"U0KPFAZNF","text":"ty, ty","ts":"1478781420.002754"},{"type":"message","user":"U0KPFAZNF","text":"one more thing to make my head spin","ts":"1478781427.002755"},{"type":"message","user":"U0KPFAZNF","text":"<@U0PB67X4K> so, now that membersrvc is removed from the repo, if I want to run with the SDK, do I just build\/stand-up cop in a similar way?","ts":"1478782054.002756"},{"type":"message","user":"U0KPFAZNF","text":"(does the SDK even support 1.0 yet?)","ts":"1478782063.002757"},{"type":"message","user":"U0KPFAZNF","text":"I know in the past, the SDK could only connect if membersrvc was running even if security was disabled)","ts":"1478782083.002758"},{"type":"message","user":"U0KPFAZNF","text":"so I am assuming that is still true, but perhaps it isnt","ts":"1478782091.002759"},{"type":"message","user":"U0PB67X4K","text":"the SDKs don't communicate with cop yet (and actually we want to remove the \"mandatory\" connection going forward - i.e. you should be able to use your own certs if you want).  I think the current tests do call out to membership services still using the v0.6.1 Docker image.","ts":"1478782971.002760"},{"type":"message","user":"U0KPFAZNF","text":"that makes sense since its largely the architecture I am familiar with","ts":"1478783541.002761"},{"type":"message","user":"U0KPFAZNF","text":"<@U0PB67X4K> let me play the first part back: so IIUC, the new SDK can communicate with the master branch peer, but not with security\/tcerts\/etc","ts":"1478783591.002762"},{"type":"message","user":"U0KPFAZNF","text":"?","ts":"1478783599.002763"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F31JC0MPZ\/simple_test_with_skeletal_peer.md|simple_test_with_skeletal_peer.md> and commented: <@U0KPFAZNF> just realized the doc needed to by updated for chaincode naming","file":{"id":"F31JC0MPZ","created":1478783638,"timestamp":1478783638,"name":"simple_test_with_skeletal_peer.md","title":"simple_test_with_skeletal_peer.md","mimetype":"text\/plain","filetype":"markdown","pretty_type":"Markdown (raw)","user":"U0ULK2JPP","editable":true,"size":4025,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F31JC0MPZ\/simple_test_with_skeletal_peer.md?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F31JC0MPZ\/download\/simple_test_with_skeletal_peer.md?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F31JC0MPZ\/simple_test_with_skeletal_peer.md","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F31JC0MPZ-4da4c225ed","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F31JC0MPZ\/simple_test_with_skeletal_peer.md\/edit","preview":"# V1.0 Skeletal Environment\nThe V1.0 work is on its way (please see https:\/\/jira.hyperledger.org\/browse\/FAB-37 for details).\n\nThe approach being taken is to have a skeletal implementation in with minimal component hookups to enable\n","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-header cm-header-1\"># <\/span><span class=\"cm-header cm-header-1\">V1.0<\/span><span class=\"cm-header cm-header-1\"> <\/span><span class=\"cm-header cm-header-1\">Skeletal<\/span><span class=\"cm-header cm-header-1\"> <\/span><span class=\"cm-header cm-header-1\">Environment<\/span><\/pre><\/div>\n<div><pre>The V1.0 work is on its way (please see https:\/\/jira.hyperledger.org\/browse\/FAB-37 for details).<\/pre><\/div>\n<div><pre>&#8203;<\/pre><\/div>\n<div><pre>The approach being taken is to have a skeletal implementation in with minimal component hookups to enable<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":85,"lines_more":80,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc31J0KS1L","created":1478783638,"timestamp":1478783638,"user":"U0ULK2JPP","is_intro":true,"comment":"<@U0KPFAZNF> just realized the doc needed to by updated for chaincode naming","channel":""}},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1478783639.002764"},{"type":"message","user":"U0KPFAZNF","text":"ah, ty","ts":"1478783653.002765"},{"type":"message","user":"U0KPFAZNF","text":"perhaps put this in the wiki?","ts":"1478783667.002766"},{"type":"message","user":"U0ULK2JPP","text":"(sorry for the interrupt\u2026 you had a q. above for <@U0PB67X4K> \u2026.about the doc in the wiki, we could but I don\u2019t know how. Would you be able to do that \u2026 or let me know ?)","edited":{"user":"U0ULK2JPP","ts":"1478783771.000000"},"ts":"1478783668.002767"},{"type":"message","user":"U0PB67X4K","text":"<@U0KPFAZNF> - currently the new version of the SDK actually does communicate with the old membersrvcs but the new peer does not do anything to enforce security.  <@U13TWBRBL>  and team are working to decouple the new SDK from the old membersrvcs","ts":"1478784500.002769"},{"type":"message","user":"U0KPFAZNF","text":"related: does that mean I need to be running an old membersrvc to satisfy the login?","ts":"1478784533.002770"},{"type":"message","user":"U0KPFAZNF","text":"e.g. 0.6.1-preview?","ts":"1478784543.002771"},{"type":"message","user":"U0PB67X4K","text":"actually the peer has no security right now so technically you can interact with the peer without signing anything","ts":"1478784594.002772"},{"type":"message","user":"U0PB67X4K","text":"of course the SDK I think might still follow the path of requiring login currently","ts":"1478784614.002773"},{"type":"message","user":"U0PB67X4K","text":"so its weird - SDK logs in to old membersrvc but peer could care less","ts":"1478784630.002774"},{"type":"message","user":"U0KPFAZNF","text":"thats actually how I have been running for a while now anyway","ts":"1478785588.002775"},{"type":"message","user":"U0KPFAZNF","text":"sdk+membersrvc+peer, security off, membersrvc only there to satisfy SDK","ts":"1478785609.002776"},{"type":"message","user":"U0KPFAZNF","text":"(I do this because I want to be on top of the SDK so tcerts\/ABAC\/etc\/ will work, but I am not currently testing that part","ts":"1478785642.002777"},{"type":"message","user":"U2W7U5UA3","text":"<@U0ULK2JPP>  <@U0KPFAZNF> Just noticed.. Line 80 of that doc \"Excercise\" should probably be \"Exercise\"","ts":"1478785682.002778"},{"type":"message","user":"U0KPFAZNF","text":"<@U0PB67X4K> <@U0ULK2JPP> I am going to go through the v1.0 doc today, but based on my new local OSX builds, and see where I get","ts":"1478785959.002779"},{"type":"message","user":"U0KPFAZNF","text":"I am looking at what the new workflow might look like","ts":"1478785974.002780"},{"type":"message","user":"U0KPFAZNF","text":"I suspect ill need to port my SDK clients though...i guessing the new ES6 API is not ABI compatible with the old TS based one","ts":"1478786013.002781"},{"type":"message","user":"U0KPFAZNF","text":"hopefully its not completely orthogonal and then it should go quickly","ts":"1478786034.002782"},{"type":"message","user":"U0PB67X4K","text":"I'm going to write-up a requirement on improving the logging infrastructure and possibly implement it too.  I was looking at using the logrus package?  I'll write up a JIRA entry, but anyone have any other thoughts, objections, etc?","ts":"1478792320.002783"},{"type":"message","user":"U0ZJZBJLF","text":"wasn't <@U1L24390X>  doing something in the logging area?","ts":"1478792387.002784"},{"type":"message","user":"U0PB67X4K","text":"he was making the level dynamically configurable.  I see <https:\/\/jira.hyperledger.org\/browse\/FAB-61>   <@U0KN2SSKE>  - anyone working on this?","ts":"1478792531.002785"},{"type":"message","user":"U0KPFAZNF","text":"<@U2W7U5UA3> ty for the typo note, btw","ts":"1478792786.002786"},{"type":"message","user":"U1L24390X","text":"Yes, I added a way to set and get the logging levels dynamically using CLI. That should be able to easily be modified should we switch the underlying logging package, I believe.","ts":"1478793127.002787"},{"type":"message","user":"U1L24390X","text":"In regards to errors, <@U1AU8DRQR> implemented an error handling framework (found in core\/errors) which I\u2019ve been working to utilize in the logging code as an example for other components.","ts":"1478793285.002788"},{"type":"message","user":"U0PB67X4K","text":"<@U1L24390X> - so is the idea to have all components use the fabric\/flogging package?  There are still places which use go-loggin directly.  I was planning to mess around with the flogging package and swap out different loggers to do some testing","ts":"1478793567.002789"},{"type":"message","user":"U1AU8DRQR","text":"I support the idea to use a common logging technique","ts":"1478793664.002790"},{"type":"message","user":"U1AU8DRQR","text":"e.g. some kind of fabric level framework","ts":"1478793674.002791"},{"type":"message","user":"U0PB67X4K","text":"cool - that's what I was thinking as well","ts":"1478793716.002792"},{"type":"message","user":"U1AU8DRQR","text":"uh I am a little bit sad that we are on the same page, but.. OK :stuck_out_tongue:","ts":"1478793742.002793"},{"type":"message","user":"U1L24390X","text":"As far as I\u2019ve seen the flogging package just handles initializing the go-logging levels to default values coming from viper.  I\u2019d expect everywhere else to use go-logging directly when defining a new logging module for their code. Correct me if I\u2019m mistaken on any of that though.","ts":"1478794085.002794"},{"type":"message","user":"U1AU8DRQR","text":"so it is just a configurator module for gologging?","ts":"1478794174.002795"},{"type":"message","user":"U1L24390X","text":"That\u2019s how I read the code, yes. The only functions beyond LoggingInit, init, and DefaultLoggingLevel are ones I added for dynamically getting\/setting the go-logging module levels.","ts":"1478794348.002796"},{"type":"message","user":"U1WUAQJVC","text":"Hi All, In production mode, if i want to refer to some static file from my chain code where do i need to keep it and how to refer it?","ts":"1478836759.002797"},{"user":"U2Z3FNF2N","text":"<@U2Z3FNF2N|jinyu> has joined the channel","type":"message","subtype":"channel_join","ts":"1478848132.002798"},{"user":"U319G36P4","text":"<@U319G36P4|chris.zhenghf> has joined the channel","type":"message","subtype":"channel_join","ts":"1478853613.002799"},{"type":"message","user":"U0XQ35CDD","text":"A `make all` for the latest master (`3508592`) fails on the following BDD test: `features\/endorser.feature:37  Basic deploy endorsement for chaincode through GRPC to multiple endorsers -- @1.1 Orderer Options`","edited":{"user":"U0XQ35CDD","ts":"1478856280.000000"},"ts":"1478856261.002800"},{"type":"message","user":"U0XQ35CDD","text":"Is that expected, or is there something wrong with my setup?","ts":"1478856271.002801"},{"type":"message","user":"U0ULK2JPP","text":"<@U0XQ35CDD> endorser.feature needs redoing based on all recent changes to protos","ts":"1478869915.002803"},{"type":"message","user":"U0XQ35CDD","text":"<@U0ULK2JPP>: Does this affect the CI as well? i.e.  Is there any point in me submitting a changeset today? ","edited":{"user":"U0XQ35CDD","ts":"1478879814.000000"},"ts":"1478879795.002804"},{"type":"message","user":"U0ULK2JPP","text":"<@U0XQ35CDD> CI has BDD turned off for now till all this activity subsides and <@U0UKTPMG8> can look at it wholesale","ts":"1478879844.002806"},{"type":"message","user":"U0ULK2JPP","text":"so I think you should be fine","ts":"1478879849.002807"},{"type":"message","user":"U0XQ35CDD","text":"Got it, thank you. ","ts":"1478879856.002808"},{"type":"message","user":"U0ULK2JPP","text":"sure\u2026. just to close the loop do look at CI for  <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2409\/4> if you like","ts":"1478879908.002809","reactions":[{"name":"+1","users":["U0XQ35CDD"],"count":1}]},{"type":"message","user":"U0ULK2JPP","text":"has Behave failure that looks like above","ts":"1478879922.002810"},{"type":"message","subtype":"file_share","text":"<@U11MANG9G|jonathanlevi> shared a file: <https:\/\/hyperledgerproject.slack.com\/files\/jkilpatr\/F30RB3VEV\/-.txt|Untitled>","file":{"id":"F30RB3VEV","created":1478880124,"timestamp":1478880124,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U2TD4Q7NW","editable":true,"size":514,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30RB3VEV\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30RB3VEV\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/jkilpatr\/F30RB3VEV\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F30RB3VEV-e688240b46","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/jkilpatr\/F30RB3VEV\/-.txt\/edit","preview":"could not determine kind of name for C.rocksdb_options_set_expanded_compaction_factor\r\ncould not determine kind of name for C.rocksdb_options_set_filter_deletes\r\ncould not determine kind of name for C.rocksdb_options_set_max_grandparent_overlap_factor\r\ncould not determine kind of name for C.rocksdb_options_set_memtable_prefix_bloom_bits\r\ncould not determine kind of name for C.rocksdb_options_set_memtable_prefix_bloom_probes\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>could not determine kind of name for C.rocksdb_options_set_expanded_compaction_factor<\/pre><\/div>\n<div><pre>could not determine kind of name for C.rocksdb_options_set_filter_deletes<\/pre><\/div>\n<div><pre>could not determine kind of name for C.rocksdb_options_set_max_grandparent_overlap_factor<\/pre><\/div>\n<div><pre>could not determine kind of name for C.rocksdb_options_set_memtable_prefix_bloom_bits<\/pre><\/div>\n<div><pre>could not determine kind of name for C.rocksdb_options_set_memtable_prefix_bloom_probes<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":7,"lines_more":2,"preview_is_truncated":false,"channels":["C0Y4PEU22","C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U11MANG9G","upload":false,"display_as_bot":false,"username":"<@U11MANG9G|jonathanlevi>","bot_id":null,"ts":"1478880162.002811"},{"user":"U2TD4Q7NW","text":"<@U2TD4Q7NW|jkilpatr> has joined the channel","type":"message","subtype":"channel_join","ts":"1478880218.002812"},{"type":"message","user":"U2TD4Q7NW","text":"that's trying to link against the lastest rocksdb on RHEL 7.3, the goal being RHEL compatibility for the hyperledger project.","ts":"1478880257.002813"},{"type":"message","user":"U11MANG9G","text":"Context: <@U2TD4Q7NW> Justin is trying to work out a costume build (outside Vagrant)","ts":"1478880269.002814"},{"type":"message","user":"U0KPFAZNF","text":"<@U2TD4Q7NW> <@U11MANG9G> I have a parallel effort that would effectively mitigate the need to achieve compatibility with the RHEL layer","ts":"1478881617.002815"},{"type":"message","user":"U0KPFAZNF","text":"See the series of patches headed by CR 2321","ts":"1478881643.002816"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2321\/>","ts":"1478881646.002817"},{"type":"message","user":"U0KPFAZNF","text":"if you check out that CR on top of RHEL, and ensure you have make\/git\/go(1.6 or later) and an up to date docker\/docker-compose, it should all build","ts":"1478881694.002818"},{"type":"message","user":"U2TD4Q7NW","text":"<@U0KPFAZNF> that's closer for sure. I'll have to try that commit. Once we build a go binary it just runs natively where ever we ship it right?","ts":"1478881748.002819"},{"type":"message","user":"U0KPFAZNF","text":"note that the devenv is no longer needed, I just include it for those that need an easy docker platform","ts":"1478881779.002820"},{"type":"message","user":"U0KPFAZNF","text":"<@U2TD4Q7NW> effectively, its because of docker containerization not go, but yes","ts":"1478881804.002821"},{"type":"message","user":"U0KPFAZNF","text":"The thesis\/rationale is described here: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2313\/>","ts":"1478881838.002822"},{"type":"message","user":"U2TD4Q7NW","text":"so a shipping fabric application will always run in docker?","ts":"1478881843.002823"},{"type":"message","user":"U2TD4Q7NW","text":"aka when the end user is using a final implementation it will still depend on docker?","ts":"1478881855.002824"},{"type":"message","user":"U0KPFAZNF","text":"well, its just a proposal at this point","ts":"1478881856.002825"},{"type":"message","user":"U0KPFAZNF","text":"but yes, that is the propsal","ts":"1478881866.002826"},{"type":"message","user":"U0KPFAZNF","text":"effectively, we already do depend on it because of the chaincode","ts":"1478881878.002827"},{"type":"message","user":"U2TD4Q7NW","text":"ok so right now native targets are built","ts":"1478881882.002828"},{"type":"message","user":"U2TD4Q7NW","text":"sorry i don't know much of the current state, much less the proposed state","ts":"1478881897.002829"},{"type":"message","user":"U0KPFAZNF","text":"and we make it harder on ourselves by trying to support building both native and docker binaries","ts":"1478881901.002830"},{"type":"message","user":"U0KPFAZNF","text":"so, the proposal is, fully embrace the one we are bound to support anyway, stop trying to support both","ts":"1478881922.002831"},{"type":"message","user":"U2TD4Q7NW","text":"is it really so difficult to create a platform agnostic dev env? I guess containers make for easier shipping but it seems very messy compared to more traditional linux projects, which I'm probably just more used to.","ts":"1478881981.002832"},{"type":"message","user":"U0KPFAZNF","text":"right now you can build both native artifacts, and docker artifacts","ts":"1478881987.002833"},{"type":"message","user":"U0KPFAZNF","text":"part of the problem has been rocksdb","ts":"1478882013.002834"},{"type":"message","user":"U0KPFAZNF","text":"there wasnt broad community packaging for it, at least in a consistent manner","ts":"1478882033.002835"},{"type":"message","user":"U2TD4Q7NW","text":"IMO this is just taking the \"well it works on my machine\" from a dev and then shipping a copy of that guys hdd to everyone, sure it works but *cringe*","ts":"1478882041.002836"},{"type":"message","user":"U0KPFAZNF","text":"I dont see it that way at all","ts":"1478882057.002837"},{"type":"message","user":"U0KPFAZNF","text":"Let me give my perspective","ts":"1478882070.002838"},{"type":"message","user":"U0KPFAZNF","text":"its not about \"im lazy and this works, so ship the sloppy thing\"","ts":"1478882087.002839"},{"type":"message","user":"U0KPFAZNF","text":"its about bundling, encapsulation, etc","ts":"1478882120.002840"},{"type":"message","user":"U0KPFAZNF","text":"docker really leans towards \"its a process\"...except that process can be more than just a binary...it can include any of the resources it needs","ts":"1478882165.002841"},{"type":"message","user":"U0KPFAZNF","text":"I equate it to being like an uberjar","ts":"1478882186.002842"},{"type":"message","user":"U2TD4Q7NW","text":"I agree containers aren't inherently lazy, but if I want a full dependencies list for an arbitrary platform it's not provided (at least in the docs I've managed to find) its \"whatever is in this image\"","ts":"1478882189.002843"},{"type":"message","user":"U0KPFAZNF","text":"jvm applications have had this bundling concept forever, it can be self contained and all you need is the jvm form factor...docker is kind of like that but in a completely language neutral way","ts":"1478882239.002844"},{"type":"message","user":"U0KPFAZNF","text":"so it doesnt matter if its jvm, node, go, c++, whatever, I can bundle an app into a neutral formfactor and thus simplify the dep graph","ts":"1478882278.002845"},{"type":"message","user":"U0KPFAZNF","text":"i see value there","ts":"1478882290.002846"},{"type":"message","user":"U0KPFAZNF","text":"and that aside, we _have_ to support docker anyway, as its how we isolate chaincode instances","ts":"1478882304.002847"},{"type":"message","user":"U0KPFAZNF","text":"so, the struggle was trying to support both native and docker..the thought was, we require docker, punt on native","ts":"1478882324.002848"},{"type":"message","user":"U0KPFAZNF","text":"now, instead of doing \"peer\", you do \"docker run ...peer\", but its more or less the same thing except you greatly reduced the requirements on the environment to just \"modern docker\"","ts":"1478882374.002849"},{"type":"message","user":"U0KPFAZNF","text":"rather than \"rocksdb 4.1, protobuf v3.1, golang v1.7\" etc etc","ts":"1478882402.002850"},{"type":"message","user":"U2TD4Q7NW","text":"I don't think we're going to resolve one of the bigger arguments in modern computing today, but I would like to do more documenting on what exactly the container needs to have. Sure you punt the complexity at the user level, but I would prefer we knew exactly what was in the container rather than having to go and dig into it to find out.","ts":"1478882424.002851"},{"type":"message","user":"U0KPFAZNF","text":"ok, i have no problem with that","ts":"1478882443.002852"},{"type":"message","user":"U0KPFAZNF","text":"also, to be clear: I am not _introducing_ docker containers...we already had those.  I am merely dropping native artifacts","ts":"1478882466.002853"},{"type":"message","user":"U0KPFAZNF","text":"but wanting to know whats inside is perfect fair","ts":"1478882514.002854"},{"type":"message","user":"U2TD4Q7NW","text":"I know, I've played with most of it so far. I have no inherent dislike for containers or docker, I've just dealt with docker projects that a year or two later need to be revived-updated and you can't figure out why the container ever worked in the first place, which is very frustrating.","ts":"1478882523.002855"},{"type":"message","user":"U0KPFAZNF","text":"im just pointing out that I am reducing entropy, not adding to it :wink:","ts":"1478882527.002856","reactions":[{"name":"+1","users":["U0PB67X4K"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"I know where you are coming from <@U2TD4Q7NW> though...i used to work for Suse where we did much more traditional linux packaging","ts":"1478882614.002857"},{"type":"message","user":"U0KPFAZNF","text":"rpms, etc","ts":"1478882622.002858"},{"type":"message","user":"U0KPFAZNF","text":"this is the first project ive been on where its heavily vagrant\/docker based, so it was a shift for me","ts":"1478882648.002859"},{"type":"message","user":"U0KPFAZNF","text":"but after working with it, I am seeing some value...part of it is driven by the fact that some of the dependencies are not standard","ts":"1478882670.002860"},{"type":"message","user":"U0UHG4VP1","text":"for the better or worse?","ts":"1478882673.002861"},{"type":"message","user":"U0UHG4VP1","text":"or just different","ts":"1478882683.002862"},{"type":"message","user":"U0KPFAZNF","text":"honestly, i am kind of pro container right now","ts":"1478882702.002863"},{"type":"message","user":"U0KPFAZNF","text":"dependency hell sucks...its manageable when your target is one distro","ts":"1478882716.002864"},{"type":"message","user":"U0KPFAZNF","text":"for a project like this, its hairy","ts":"1478882724.002865"},{"type":"message","user":"U0KPFAZNF","text":"if every distro in the world was shipping librocksdb forever, proto3 had been stable for years, golang 1.7 was the standard, etc, etc, it would be perhaps a different conversation","ts":"1478882770.002866"},{"type":"message","user":"U0KPFAZNF","text":"but the lightbulb turned on for me when I started thinking about how my clojure applications were interacting with the world","ts":"1478882857.002867"},{"type":"message","user":"U0UHG4VP1","text":"interesting. I should probably go through similar growth :slightly_smiling_face:","ts":"1478882878.002868"},{"type":"message","user":"U0KPFAZNF","text":"today, you can download my chaintool from <https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases\/download\/v0.10.0\/chaintool>","ts":"1478882887.002869"},{"type":"message","user":"U0KPFAZNF","text":"and as long as your platform has bash and jre, it will run","ts":"1478882896.002870"},{"type":"message","user":"U0KPFAZNF","text":"that is freakin cool","ts":"1478882900.002871"},{"type":"message","user":"U0KPFAZNF","text":"no more of this @#$ I used to have to deal with with making sure you have libboost_threads-1.59.so, but not libboost_threads-1.60.so, etc","ts":"1478882932.002872"},{"type":"message","user":"U0KPFAZNF","text":"docker kind of does that _for anything_","ts":"1478882947.002873"},{"type":"message","user":"U0KPFAZNF","text":"brb","ts":"1478882949.002874"},{"type":"message","user":"U0KPFAZNF","text":"anyway, im not saying its perfect, but it is interesting","ts":"1478883172.002875"},{"type":"message","user":"U0KPFAZNF","text":"and like I mentioned, we _need_ docker anyway...and people were really struggling with the devenv\/no-devenv thing","ts":"1478883207.002876"},{"type":"message","user":"U0KPFAZNF","text":"im some ways, I think the old model was solving a different problem set","ts":"1478883276.002877"},{"type":"message","user":"U0KPFAZNF","text":"the whole .so thing is structured around certain efficiencies (such as disk space, ram, etc), but it does carry a complexity cost","ts":"1478883318.002878"},{"type":"message","user":"U0KPFAZNF","text":"certain platforms have already eschewed that notion (for instance, java and golang tend to produce \"static\" objects) that dont have many outside dependencies","ts":"1478883428.002879"},{"type":"message","user":"U0KPFAZNF","text":"but, as we see in this case, they can still be a bit leaky in the form of native integrations (JNI, linking to librocksdb.so, etc)","ts":"1478883466.002880"},{"type":"message","user":"U0UHG4VP1","text":"sure. This is an issue we struggled with on my previous project, but a lot of the platforms were not powerful enough to resolve it elegantly. We went with static binaries when we needed to, and it's still broken on some popular platforms (Windows, OpenWRT, Android)","edited":{"user":"U0UHG4VP1","ts":"1478883889.000000"},"ts":"1478883848.002881"},{"type":"message","user":"U0KPFAZNF","text":"in the end, the pain point (for me, in particular) is the maintenance of the devenv juxtaposed against half the people refusing to use it","ts":"1478883941.002883"},{"type":"message","user":"U0KPFAZNF","text":"it wouldnt be hard for me to simply leave the support for native build in place as an unsupported alternative","ts":"1478883967.002884"},{"type":"message","user":"U0KPFAZNF","text":"i was originally of the mindset that, simple is better, but maybe flexible is better, I dont know","ts":"1478883994.002885"},{"type":"message","user":"U2TD4Q7NW","text":"in the ideal world you could just keep moving upstream until all your dependcies where fixed","ts":"1478884019.002886"},{"type":"message","user":"U2TD4Q7NW","text":"and then dependency hell would be easier to resolve. but that's not feasible.","ts":"1478884031.002887"},{"type":"message","user":"U0KPFAZNF","text":"basically, i could just drop CR 2313 from the series, and declare we wont produce more devenv baseimages, and let people that want to wrestle with it, wrestle with it","ts":"1478884049.002888"},{"type":"message","user":"U0UHG4VP1","text":"at the cost of lower adoption","ts":"1478884169.002889"},{"type":"message","user":"U0KPFAZNF","text":"<@U2TD4Q7NW> yes, though I think the confluence of circumstances here make that challenging","edited":{"user":"U0KPFAZNF","ts":"1478884195.000000"},"ts":"1478884173.002890"},{"type":"message","user":"U0UHG4VP1","text":"but, at the benefit of less of your time burned on system administration-type tasks","ts":"1478884190.002891"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: which drives lower adoption?","ts":"1478884209.002893"},{"type":"message","user":"U0KPFAZNF","text":"the move to docker? something else?","ts":"1478884218.002894"},{"type":"message","user":"U2TD4Q7NW","text":"more difficult to deploy","ts":"1478884219.002895"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins if getting your development environment takes 25 finicky steps, fewer people survive onboarding","ts":"1478884236.002896"},{"type":"message","user":"U2TD4Q7NW","text":"but I've found that native jenkins is easier to run than container jenkins, its about the quality of the packaging and the container","ts":"1478884252.002897"},{"type":"message","user":"U0KPFAZNF","text":"but this would be an improvement on that metric, no?","ts":"1478884257.002898"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins yes, I am not only agreeing with you, but (I think) reinforcing your point","ts":"1478884279.002899"},{"type":"message","user":"U0KPFAZNF","text":"oh, ok","ts":"1478884286.002900"},{"type":"message","user":"U0KPFAZNF","text":"i misunderstood, sorry","ts":"1478884291.002901"},{"type":"message","user":"U0UHG4VP1","text":"perhaps I'm a quart low on blood and not thinking clearly :slightly_smiling_face:","ts":"1478884295.002902"},{"type":"message","user":"U0KPFAZNF","text":"well, i hope not, as that means I am too :wink:","ts":"1478884308.002903"},{"type":"message","user":"U0KPFAZNF","text":"anyway, <@U2TD4Q7NW> i think if you play around with the new stuff I am proposing, its actually as close to turnkey as I think it could ever be","ts":"1478884366.002904"},{"type":"message","user":"U0KPFAZNF","text":"I can take a totally clean system and (once its committed\/released) just do \"docker run -t hyperledger\/fabric-peer\"","ts":"1478884400.002905"},{"type":"message","user":"U0KPFAZNF","text":"and done...downloads everything you need, peer starts up, and you are running","ts":"1478884413.002906"},{"type":"message","user":"U0KPFAZNF","text":"integration with something like a fabric-peer.rpm would probably involve the proper init.d minutiae to drive that process","ts":"1478884481.002907"},{"type":"message","user":"U2TD4Q7NW","text":"is that pull probable to go through?","ts":"1478884486.002908"},{"type":"message","user":"U0KPFAZNF","text":"why not?","ts":"1478884495.002909"},{"type":"message","user":"U2TD4Q7NW","text":"just don't know the lay of the land.","ts":"1478884506.002910"},{"type":"message","user":"U0KPFAZNF","text":"oh, you mean the CR?","ts":"1478884514.002911"},{"type":"message","user":"U0KPFAZNF","text":"(sorry, i took pull == docker pull)","ts":"1478884522.002912"},{"type":"message","user":"U2TD4Q7NW","text":"yup, sorry I should have been more clear.","ts":"1478884552.002913"},{"type":"message","user":"U0KPFAZNF","text":"my gut is, it has a shot as <@U0KM61BCP> and <@U0PB67X4K> have been supportive","ts":"1478884575.002914"},{"type":"message","user":"U0KPFAZNF","text":"but I havent yet got the kinks worked out such that we have had a real discussion yet","ts":"1478884588.002915"},{"type":"message","user":"U0KPFAZNF","text":"I have the series all working locally, but trying to sort out some CI infra issues with <@U0UHG4VP1> so the tests can start to pass","ts":"1478884619.002916"},{"type":"message","user":"U0KPFAZNF","text":"once I can get it running through CI, I can propose it as a more serious discussion with the other maintainers and community","ts":"1478884645.002917"},{"type":"message","user":"U0KPFAZNF","text":"your input is certainly welcome too","ts":"1478884674.002918"},{"type":"message","user":"U0KPFAZNF","text":"for instance, if you feel strongly that we need native support to remain, that is valuable feedback","ts":"1478884691.002919"},{"type":"message","user":"U2TD4Q7NW","text":"I feel that there should always be enough documentation that native builds are possible, even if its so many steps most people throw their hands up and go with docker (for good reason)","ts":"1478884732.002920"},{"type":"message","user":"U2TD4Q7NW","text":"otherwise someday the container breaks or needs to be updated\/changed and no one understands why it works in the first place.","ts":"1478884746.002921"},{"type":"message","user":"U0KPFAZNF","text":"sure, thats fair...the main painpoint for me is the vagrant devenv that we currently need to reliably build native is a PITA to support","ts":"1478884792.002922"},{"type":"message","user":"U0KPFAZNF","text":"so, I dont mind leaving the build directives for native in place, as long as I dont have to support them :wink:","ts":"1478884815.002923"},{"type":"message","user":"U0KPFAZNF","text":"actually, I wouldn't really mind continuing to support vagrant, but the broader issue is there is a large group of users who, for whatever reason, wont use it","ts":"1478884875.002924"},{"type":"message","user":"U0PB67X4K","text":"Like me!","ts":"1478884887.002925"},{"type":"message","user":"U0KPFAZNF","text":"and are thus always complaining that their builds fail, heh","ts":"1478884888.002926"},{"type":"message","user":"U0PB67X4K","text":"But I don't complain ","ts":"1478884902.002927"},{"type":"message","user":"U0KPFAZNF","text":"no, you dont","ts":"1478884908.002928"},{"type":"message","user":"U2TD4Q7NW","text":"getting vagrant working was an enormous pita on my fedora machine.","ts":"1478884914.002929"},{"type":"message","user":"U0KPFAZNF","text":"but I get plenty that do","ts":"1478884915.002930"},{"type":"message","user":"U0PB67X4K","text":"And there is actually enough here to figure out native builds from all of your work","ts":"1478884942.002931"},{"type":"message","user":"U0KPFAZNF","text":"so, i see this as a way to really broaden the platforms that _can_ build everything more than anything else","ts":"1478884957.002932"},{"type":"message","user":"U0KPFAZNF","text":"and also, I personally dont see the problem changing \"peer\" to \"docker run peer\"","ts":"1478884982.002933"},{"type":"message","user":"U0PB67X4K","text":"I've done it in Mac, Linux and Windows","ts":"1478884982.002934"},{"type":"message","user":"U0KPFAZNF","text":"but maybe not everyone will feel that way","ts":"1478885002.002935"},{"type":"message","user":"U0PB67X4K","text":"Getting rid of RocksDB helps now too","ts":"1478885003.002936"},{"type":"message","user":"U0PB67X4K","text":"Sure","ts":"1478885011.002937"},{"type":"message","user":"U0KPFAZNF","text":"you have run my new series on docker-for-windows?","ts":"1478885028.002938"},{"type":"message","user":"U0PB67X4K","text":"I'm willing to help moving forward as well","ts":"1478885028.002939"},{"type":"message","user":"U0PB67X4K","text":"Not yet","ts":"1478885039.002940"},{"type":"message","user":"U0PB67X4K","text":"I ran pure native on windows ","ts":"1478885050.002941"},{"type":"message","user":"U0KPFAZNF","text":"ah, gotcha","ts":"1478885055.002942"},{"type":"message","user":"U0KPFAZNF","text":"if you have a windows setup and can test that, I would like to know","ts":"1478885068.002943"},{"type":"message","user":"U0KPFAZNF","text":"ive tested mac\/linux, but I dont have windows handy","ts":"1478885086.002944"},{"type":"message","user":"U2TD4Q7NW","text":"where do I find the dockerfile for this stuff?","ts":"1478885222.002945"},{"type":"message","user":"U0KPFAZNF","text":"general flow is .\/images\/xxx\/Dockerfile.in becomes .\/build\/images\/xxx\/Dockerfile at build time","ts":"1478885266.002946"},{"type":"message","user":"U2TD4Q7NW","text":"that just pulls from here <https:\/\/hub.docker.com\/r\/hyperledger\/fabric-baseimage\/>","ts":"1478885405.002947"},{"type":"message","user":"U2TD4Q7NW","text":"where do  find that dockerfile?","ts":"1478885413.002948"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric-baseimage\/blob\/master\/Dockerfile.in>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-baseimage","title_link":"https:\/\/github.com\/hyperledger\/fabric-baseimage\/blob\/master\/Dockerfile.in","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric-baseimage>","fallback":"GitHub: hyperledger\/fabric-baseimage","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-baseimage\/blob\/master\/Dockerfile.in","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1478885452.002949"},{"type":"message","user":"U2TD4Q7NW","text":"cool thanks","edited":{"user":"U2TD4Q7NW","ts":"1478885559.000000"},"ts":"1478885554.002951"},{"type":"message","user":"U0KPFAZNF","text":"yw","ts":"1478885559.002953"},{"type":"message","user":"U0KPFAZNF","text":"for the complete picture, today, fabric-baseimage.git defines the instructions for \"baseimage\" which is generated for 4 targets","ts":"1478885591.002954"},{"type":"message","user":"U0KPFAZNF","text":"1) x86_64 vagrant\/devenv, 2) x86_64 docker, 3) ppcle64 docker, 4) s390x docker","ts":"1478885628.002955"},{"type":"message","user":"U0KPFAZNF","text":"so, when you build native from either devenv, or build docker, you are getting your dependencies from what is defined in that fabric-baseimage.git recipe","ts":"1478885671.002956"},{"type":"message","user":"U0KPFAZNF","text":"some people use the vagrant setup, some people go off on their own, and in a least a few cases, others have contributed back their own environments","ts":"1478885754.002957"},{"type":"message","user":"U0KPFAZNF","text":"for instance: <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/setupRHELonZ.sh>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/setupRHELonZ.sh","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/setupRHELonZ.sh","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1478885766.002958"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/setupUbuntuOnPPC64le.sh>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/setupUbuntuOnPPC64le.sh","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/setupUbuntuOnPPC64le.sh","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1478885777.002960"},{"type":"message","user":"U0KPFAZNF","text":"the goal of my effort mentioned above is to obsolete (1) and those community.sh scripts","ts":"1478885820.002962"},{"type":"message","user":"U0KPFAZNF","text":"make it so all you need is docker, and the rest will work within (2)(3)(4)","ts":"1478885890.002963"},{"type":"message","user":"U2TD4Q7NW","text":"how do you get cross compatibility? cross compile in the container itself?","ts":"1478886190.002964"},{"type":"message","user":"U2TD4Q7NW","text":"well I guess it wouldn't be cross compile at that point now would it.","ts":"1478886199.002965"},{"type":"message","user":"U0KPFAZNF","text":"its done via native jenkins workers","ts":"1478886553.002966"},{"type":"message","user":"U0KPFAZNF","text":"look on the lower left: <https:\/\/jenkins.hyperledger.org\/>","ts":"1478886577.002967"},{"type":"message","user":"U0KPFAZNF","text":"power-[1-5] and linuxone-[2-3] do the ppcle and s390x builds, respectively","ts":"1478886609.002968"},{"type":"message","user":"U0KPFAZNF","text":"x86 is spawned on demand from an IAAS provider","ts":"1478886631.002969"},{"type":"message","user":"U0KPFAZNF","text":"we also manage it as an overlay at runtime by using docker tags","ts":"1478886679.002970"},{"type":"message","user":"U2TD4Q7NW","text":"wow you go your hands on that sort of hardware","edited":{"user":"U2TD4Q7NW","ts":"1478886686.000000"},"ts":"1478886679.002971"},{"type":"message","user":"U0KPFAZNF","text":"e.g. peer:x86_64 vs peer:s390x","ts":"1478886693.002973"},{"type":"message","user":"U0KPFAZNF","text":"not me personally","ts":"1478886703.002974"},{"type":"message","user":"U2TD4Q7NW","text":"any reason to not just cross compile?","ts":"1478886711.002975"},{"type":"message","user":"U0KPFAZNF","text":"not sure, i didnt try...the P\/Z teams did their own thing","ts":"1478886749.002976"},{"type":"message","user":"U2TD4Q7NW","text":"ok then. \u00af\\_(\u30c4)_\/\u00af","ts":"1478886787.002977"},{"type":"message","user":"U2TD4Q7NW","text":"cool hardware though.","ts":"1478886797.002978"},{"type":"message","user":"U0KPFAZNF","text":"yeah","ts":"1478886815.002979"},{"type":"message","user":"U0N4P17ND","text":"Hi QQ: is there any signing transaction mechanism exist in HL? So let's say to check if transaction was signed by user A, for example? I realize that we can implement such signatures using certificate attributes, for example, and store the result in KVS. But something out of the box?\nI'm talking in the view of v06 and also curious about plans for v1?","ts":"1478891776.002980"},{"user":"U1D89DP47","text":"<@U1D89DP47|subzer0> has joined the channel","type":"message","subtype":"channel_join","ts":"1478981799.002981"},{"user":"U2BJRQLMU","text":"<@U2BJRQLMU|wale> has joined the channel","type":"message","subtype":"channel_join","ts":"1478999551.002982"},{"type":"message","subtype":"file_share","text":"<@U2Q0HP4HY|rickr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/rickr\/F3189H3LG\/-.txt|Untitled>","file":{"id":"F3189H3LG","created":1479065064,"timestamp":1479065064,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U2Q0HP4HY","editable":true,"size":4673,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3189H3LG\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3189H3LG\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/rickr\/F3189H3LG\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3189H3LG-02822d02b1","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/rickr\/F3189H3LG\/-.txt\/edit","preview":"I just updated to the latest master.  I've fixed up some proto file differences but seeing when I send the proposal to the peer :\r\n```\r\nvp0_1         | 19:16:49.201 [endorser] validateProposalMessage -> INFO 0c9 validateProposalMessage starts for proposal 0xc42021a730\r\nvp0_1         | 19:16:49.201 [endorser] validateProposalMessage -> INFO 0ca validateProposalMessage info: proposal type 1\r\nvp0_1         | 19:16:49.201 [endorser] validateChaincodeProposalMessage -> INFO 0cb validateChaincodeProposalMessage starts for proposal 0xc42021a730, header 0xc420235c00\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>I just updated to the latest master.  I've fixed up some proto file differences but seeing when I send the proposal to the peer :<\/pre><\/div>\n<div><pre>```<\/pre><\/div>\n<div><pre>vp0_1         | 19:16:49.201 [endorser] validateProposalMessage -&gt; INFO 0c9 validateProposalMessage starts for proposal 0xc42021a730<\/pre><\/div>\n<div><pre>vp0_1         | 19:16:49.201 [endorser] validateProposalMessage -&gt; INFO 0ca validateProposalMessage info: proposal type 1<\/pre><\/div>\n<div><pre>vp0_1         | 19:16:49.201 [endorser] validateChaincodeProposalMessage -&gt; INFO 0cb validateChaincodeProposalMessage starts for proposal 0xc42021a730, header 0xc420235c00<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":41,"lines_more":36,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U2Q0HP4HY","upload":true,"display_as_bot":false,"username":"<@U2Q0HP4HY|rickr>","bot_id":null,"ts":"1479065064.002983"},{"type":"message","user":"U2Q0HP4HY","text":"For the ChaincodeID I've only set the name  not the path in the past.  Not sure where it's getting `default`\/example_cc.go\nThe example_cc.go is the name I set in the ChaincodeID","edited":{"user":"U2Q0HP4HY","ts":"1479065133.000000"},"ts":"1479065081.002984"},{"type":"message","user":"U2Q0HP4HY","text":"Even setting the ChaincodeID path to something I get that same error","ts":"1479066590.002986"},{"type":"message","user":"U26T99AQ4","text":"Hi <@U0N4P17ND> \n&gt; Hi QQ: is there any signing transaction mechanism exist in HL? So let's say to check if transaction was signed by user A, for example? I realize that we can implement such signatures using certificate attributes, for example, and store the result in KVS. But something out of the box?\n&gt; I'm talking in the view of v06 and also curious about plans for v1?\n\nYes there are indeed plans - take a look at <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2453>","ts":"1479072427.002987"},{"type":"message","user":"U0N4P17ND","text":"Thanks <@U26T99AQ4> - guess this is only for v1, right? so v06 has no these options - at least I have not found) \nAnd also is there any related ticket describing the idea?","ts":"1479072869.002988"},{"user":"U1B9E51R8","text":"<@U1B9E51R8|xixuejia> has joined the channel","type":"message","subtype":"channel_join","ts":"1479083335.002989"},{"type":"message","user":"U1VG8LNP3","text":"<@U26T99AQ4> why do you want to store the check result in KVS?  usually check this in chaincode is enough.","ts":"1479106679.002990"},{"type":"message","user":"U26T99AQ4","text":"<@U0N4P17ND> I think it's for v1, <@U0PB67X4K> would know for sure","ts":"1479108336.002991"},{"type":"message","user":"U26T99AQ4","text":"<@U1VG8LNP3> which check result are you referring to?","ts":"1479108359.002992"},{"type":"message","user":"U1VG8LNP3","text":"<@U26T99AQ4> I thought the result said by <@U0N4P17ND>  is `check if transaction was signed by user A`.","ts":"1479108570.002993"},{"type":"message","user":"U1VG8LNP3","text":"for v0.6, we can signing tx with Ecert or Tcert.","ts":"1479108716.002994"},{"type":"message","user":"U0N4P17ND","text":"what I want to achieve is to be able to sign transaction by user A, than appon approval of user B - sign it by user B and so on, so ledger will have some sort of signatures. <@U1VG8LNP3> If I'm not mistaken - what we have in v06 and what are you telling - is just signing transaction by user certificate - upon execution. What I want is a bit more complicated scenario.","ts":"1479109040.002995"},{"type":"message","user":"U1VG8LNP3","text":"sorry for misread.  in v0.6, transaction has a `signature` field.   peer will help you to sign transaction if you specify user. the approval is implemented by membership service. you can see more at <https:\/\/github.com\/hyperledger\/fabric\/blob\/v0.6\/docs\/protocol-spec.md#42-user-privacy-through-membership-services>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/v0.6\/docs\/protocol-spec.md#42-user-privacy-through-membership-services","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/v0.6\/docs\/protocol-spec.md#42-user-privacy-through-membership-services","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1479110456.002996"},{"type":"message","user":"U1VG8LNP3","text":"<@U0N4P17ND>","ts":"1479110467.002998"},{"type":"message","user":"U0N4P17ND","text":"thanks, just curious  - can signature contain few signatures in it? Maybe I have read the link .. first..before asking :slightly_smiling_face:","ts":"1479110737.002999"},{"type":"message","user":"U1VG8LNP3","text":"for v0.6, there's only one signature. I don't know the scenario of few signatures. maybe you want  hierarchical identity based signature?","ts":"1479111912.003000"},{"type":"message","user":"U0N4P17ND","text":"just let's say - transfer between accounts should be signed by 2 entities + some approval entity. For approval entity and each of involved entities - there can be hierarchy but guess that between 2 involved - there is no hierarchy...","ts":"1479113191.003001"},{"type":"message","user":"U1VG8LNP3","text":"<@U0N4P17ND> that sounds like endorse mechanism in v1.0.  a transaction need be endorsed by endorsers. then transaction contains signatures of multiple endorsers.","ts":"1479115530.003002"},{"type":"message","user":"U0N4P17ND","text":"yes, it make sense. Thanks.","ts":"1479115569.003003"},{"type":"message","user":"U26T99AQ4","text":"<@U0N4P17ND> \n&gt; just let's say - transfer between accounts should be signed by 2 entities + some approval entity. For approval entity and each of involved entities - there can be hierarchy but guess that between 2 involved - there is no hierarchy...\nI think endorsement policies might be of interest for you. Take a look at <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/proposals\/r1\/Next-Consensus-Architecture-Proposal.md>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/proposals\/r1\/Next-Consensus-Architecture-Proposal.md","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/proposals\/r1\/Next-Consensus-Architecture-Proposal.md","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1479116338.003004"},{"type":"message","user":"U0N4P17ND","text":"yes, I have read about it - it make sense what you're saying, thanks","ts":"1479116368.003006"},{"type":"message","user":"U2X9KDDL7","text":"I've got a question about ChaincodeStubInterface GetRows method -- you can specify a partial key, but is it only a partial prefix?  Not an arbitrary subset of keys?  I.e. if the keys are A B C D, then you could specify A B C D, or A B C, or A B, or A, or &lt;empty&gt;, but no other combinations, such as B D.  Is that correct?","ts":"1479161711.003007"},{"type":"message","user":"U2X9KDDL7","text":"I think it must be the case because there's no way to specify along with `keys []*shim.Column` the column names, should you want to specify a non-prefix subset of keys.","ts":"1479164200.003008"},{"type":"message","user":"U13TWBRBL","text":"<@U0KN2SSKE> <@U0PB67X4K> would the \u201csystem ledger\u201d be created just as another channel (believe that\u2019s my understanding from chatting with you on Friday) or it\u2019s joined by all Peers by default?","ts":"1479179146.003009"},{"type":"message","user":"U13TWBRBL","text":"the SDK work group had this question during our design review","ts":"1479179196.003010"},{"type":"message","user":"U1RLZ5729","text":"Hey all,\nI am running with a setup which has two peers running on two different physical machines. When security was not enabled, i was able to have communication between them. \nBut now, I have security enabled and now the peers are not able to communicate and it is giving certification error. \nI am using the following docker-compose.yaml file:\n# membersrvc:\n#   image: hyperledger\/fabric-membersrvc\n#   ports:\n#     - \"50051:50051\"\n#     - \"7054:7054\"\n#   command: membersrvc\nvp1:\nimage: hyperledger\/fabric-peer\nports:\n  - \"5000:5000\"\n  - \"7051:7051\"\n  - \"7050:7050\"\n  - \"30303:30303\"\n  - \"30304:30304\"\nenvironment:\n  - CORE_PEER_ADDRESSAUTODETECT=false\n  - CORE_VM_ENDPOINT=unix:\/\/\/var\/run\/docker.sock\n  - CORE_LOGGING_LEVEL=DEBUG\n  - CORE_PEER_ID=vp1\n  - CORE_SECURITY_ENABLED=true\n  #- CORE_SECURITY_PRIVACY=true\n  - CORE_SECURITY_ENROLLID=test_vp0\n  - CORE_SECURITY_ENROLLSECRET=MwYpmSRjupbT\n  - CORE_PEER_DISCOVERY_ROOTNODE=9.109.251.105:7051\n  - CORE_PEER_PKI_ECA_PADDR=9.109.251.105:7054\n  - CORE_PEER_PKI_TCA_PADDR=9.109.251.105:7054\n  - CORE_PEER_PKI_TLSCA_PADDR=9.109.251.105:7054\n  - CORE_CHAINCODE_DEPLOYTIMEOUT=180000\n#  - MEMBERSRVC_CA_ACA_ENABLED=true\nvolumes:\n  - \/var\/run\/docker.sock:\/var\/run\/docker.sock\n# links:\n#   - membersrvc\ncommand: sh -c \"sleep 5; peer node start\u201d\n\nAny help is appreciated.","ts":"1479189740.003011"},{"type":"message","user":"U0N4P17ND","text":"in your docker-compose you have commented membersrvc, which is responsible for security, so how would it work? :slightly_smiling_face:","ts":"1479197076.003012"},{"type":"message","user":"U0N4P17ND","text":"Hi is there any example exist of event listener example (similar to <https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/examples\/events\/block-listener>) but based on NodeJS SDK? I guess that this support has been added, here: <https:\/\/github.com\/hyperledger\/fabric\/commit\/e9d3ac296de89a092b48990fd2e1b7bc4173a5c4>. Right?","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/examples\/events\/block-listener","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/examples\/events\/block-listener","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1},{"service_name":"GitHub","title":"node-SDK: add support for fabric events(block, chaincode, transactional) \u00b7 hyperledger\/fabric@e9d3ac2 \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/commit\/e9d3ac296de89a092b48990fd2e1b7bc4173a5c4","text":"This patch adds support for fabric events to the SDK. It defaults to the same timer based mechanism for transactional events if the app doesn't connect to a peer event source(eventHubConnect). Cha...","fallback":"GitHub: node-SDK: add support for fabric events(block, chaincode, transactional) \u00b7 hyperledger\/fabric@e9d3ac2","thumb_url":"https:\/\/avatars0.githubusercontent.com\/u\/520134?v=3&s=200","from_url":"https:\/\/github.com\/hyperledger\/fabric\/commit\/e9d3ac296de89a092b48990fd2e1b7bc4173a5c4","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":2}],"ts":"1479207120.003013"},{"type":"message","user":"U0XQ35CDD","text":"Whenever we mess around with the protos, can we do the `@channel` thingy here?","ts":"1479220907.003015"},{"type":"message","user":"U0ZJZBJLF","text":"maybe it is possible to have some gerrit hook that sends you an email when a commit touches a certain folder","edited":{"user":"U0ZJZBJLF","ts":"1479221017.000000"},"ts":"1479221006.003016","reactions":[{"name":"+1","users":["U0XQ35CDD"],"count":1}]},{"type":"message","user":"U13TWBRBL","text":"<@U0KN2SSKE> <@U0PB67X4K> <@U1FDTCEUR> about my questions above, from talking to <@U0XPR4NP4> today, it looks like the latest thinking is to not have a default \u201csystem channel\u201d, but instead have all channels be created after the bootstrap as per the channel\/ledger design doc. this is consistent with my understanding from talking to Binh last Friday.","edited":{"user":"U13TWBRBL","ts":"1479240680.000000"},"ts":"1479240456.003018"},{"user":"U1FDTCEUR","inviter":"U13TWBRBL","text":"<@U1FDTCEUR|tim.s> has joined the channel","type":"message","subtype":"channel_join","ts":"1479240460.003019"},{"type":"message","user":"U13TWBRBL","text":"<@U1FDTCEUR> so the main reason based on talking with Jason is that there\u2019s no serialization\/ordering guarantee across channels b\/w peers, such that one peer may have the \u201csystem ledger\u201d in one state (that may have the latest CA roots saved), and another peer\u2019s system ledger in a different state (hasn\u2019t had the latest CA roots saved in the genesis block yet), which will result in non-deterministic behaviors with Peers in a channel","ts":"1479240657.003020","reactions":[{"name":"+1","users":["U0XPR4NP4"],"count":1}]},{"type":"message","user":"U2X9KDDL7","text":"I've been working on fixing some bugs in MockStub and am wondering what the workflow you guys use is -- because the work is done on <http:\/\/gerrit.hyperledger.org|gerrit.hyperledger.org> but the golang import path is <http:\/\/github.com\/hyperledger\/fabric|github.com\/hyperledger\/fabric>, is there some particular customization that's used for pushing changes, such as cloning the github repo but setting the 'push' remote to be gerrit?","ts":"1479242999.003022"},{"type":"message","user":"U2X9KDDL7","text":"(I'd like to push my fixes to gerrit at some point)","ts":"1479243019.003023"},{"type":"message","user":"U2X9KDDL7","text":"Sorry, I just found some docs on that -- I'll read those and hopefully not have any questions","ts":"1479243117.003024"},{"type":"message","user":"U2X9KDDL7","text":"Ok, apart from using git-review to submit changes to Gerrit for review, is there anything else I need to do?","ts":"1479275017.003025"},{"type":"message","user":"U2X9KDDL7","text":"Like maybe add a reviewer","ts":"1479275204.003026"},{"type":"message","user":"U0UHG4VP1","text":"<@U2X9KDDL7> yes you will need to add a reviewer and flog the commit in <#C1K16MW77|fabric-pr-review> if it needs love","ts":"1479276492.003027"},{"type":"message","user":"U0UHG4VP1","text":"<@U2X9KDDL7> add cr-fabric to reviewers if you want them all","ts":"1479276520.003028"},{"type":"message","user":"U2X9KDDL7","text":"<@U0UHG4VP1> Is there a particular owner of the shim code, or maybe MockStub in particular?","ts":"1479276539.003029"},{"type":"message","user":"U0UHG4VP1","text":"<@U2X9KDDL7> I don't know the answer to that, sorry.","ts":"1479276565.003030"},{"type":"message","user":"U2X9KDDL7","text":"<@U0UHG4VP1> Ok, thanks for the instruction!","ts":"1479276583.003031"},{"type":"message","user":"U0UHG4VP1","text":"if you have any questions about gerrit in general or the review process, I can help with that.","ts":"1479276594.003032"},{"type":"message","user":"U0UHG4VP1","text":"sure thing","ts":"1479276597.003033"},{"user":"U2WNGML7Q","text":"<@U2WNGML7Q|z21921> has joined the channel","type":"message","subtype":"channel_join","ts":"1479288748.003034"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F32M9FVHN\/-.pl|Untitled> and commented: <@U0ULK2JPP> ever see the circumstance where the peer only seems to be listening on IPv6 ?","file":{"id":"F32M9FVHN","created":1479313186,"timestamp":1479313186,"name":"-.pl","title":"Untitled","mimetype":"text\/plain","filetype":"perl","pretty_type":"Perl","user":"U0KPFAZNF","editable":true,"size":570,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F32M9FVHN\/-.pl?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F32M9FVHN\/download\/-.pl?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F32M9FVHN\/-.pl","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F32M9FVHN-7f91ad97aa","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F32M9FVHN\/-.pl\/edit","preview":"# netstat -apn\r\nActive Internet connections (servers and established)\r\nProto Recv-Q Send-Q Local Address           Foreign Address         State       PID\/Program name\r\ntcp        0      0 172.17.0.3:33992        172.17.0.2:5151         ESTABLISHED 7\/peer\r\ntcp6       0      0 :::7051                 :::*                    LISTEN      7\/peer\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-comment\"># netstat -apn<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-meta\">Active<\/span> <span class=\"cm-meta\">Internet<\/span> <span class=\"cm-meta\">connections<\/span> (<span class=\"cm-meta\">servers<\/span> <span class=\"cm-operator\">and<\/span> <span class=\"cm-meta\">established<\/span>)<\/pre><\/div>\n<div><pre><span class=\"cm-meta\">Proto<\/span> <span class=\"cm-meta\">Recv<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-meta\">Q<\/span> <span class=\"cm-meta\">Send<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-meta\">Q<\/span> <span class=\"cm-meta\">Local<\/span> <span class=\"cm-meta\">Address<\/span>           <span class=\"cm-meta\">Foreign<\/span> <span class=\"cm-meta\">Address<\/span>         <span class=\"cm-meta\">State<\/span>       <span class=\"cm-meta\">PID<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-meta\">Program<\/span> <span class=\"cm-meta\">name<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-meta\">tcp<\/span>        <span class=\"cm-number\">0<\/span>      <span class=\"cm-number\">0<\/span> <span class=\"cm-number\">172.17<\/span><span class=\"cm-number\">.0<\/span><span class=\"cm-number\">.3<\/span><span class=\"cm-operator\">:<\/span><span class=\"cm-number\">33992<\/span>        <span class=\"cm-number\">172.17<\/span><span class=\"cm-number\">.0<\/span><span class=\"cm-number\">.2<\/span><span class=\"cm-operator\">:<\/span><span class=\"cm-number\">5151<\/span>         <span class=\"cm-meta\">ESTABLISHED<\/span> <span class=\"cm-number\">7<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-meta\">peer<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-meta\">tcp6<\/span>       <span class=\"cm-number\">0<\/span>      <span class=\"cm-number\">0<\/span> :<span class=\"cm-operator\">::<\/span><span class=\"cm-number\">7051<\/span>                 :::<span class=\"cm-operator\">*<\/span>                    <span class=\"cm-meta\">LISTEN<\/span>      <span class=\"cm-number\">7<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-meta\">peer<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":8,"lines_more":3,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc33AMNQRZ","created":1479313186,"timestamp":1479313186,"user":"U0KPFAZNF","is_intro":true,"comment":"<@U0ULK2JPP> ever see the circumstance where the peer only seems to be listening on IPv6 ?","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1479313187.003035"},{"user":"U32ND8W73","text":"<@U32ND8W73|emtrevin> has joined the channel","type":"message","subtype":"channel_join","ts":"1479313952.003036"},{"type":"message","user":"U1B2FF8LR","text":"I could use some advice on gerrit procedures. After my first set of files were reviewed in gerrit, I made fixes, using a new commit. The instructions say to use the same change ID when revising code after inspections; should I edit my latest commit patchset using \"git commit -s --amend\" and change the newly provided changeID to the one used for the prior commit, before I push the new patchset? If it is bad to edit the changeID at this point, then how would I close off the original patchset as well as my new patchset (after it gets approved)?","ts":"1479315307.003037"},{"type":"message","user":"U0UGH3X7X","text":"do `commit --amend` then `git push origin HEAD:refs\/for\/master`","ts":"1479315379.003038"},{"type":"message","user":"U0UHG4VP1","text":"scottz yes, reuse your original change ID","ts":"1479315421.003039"},{"type":"message","user":"U0KPFAZNF","text":"<@U1B2FF8LR> gerrit will understand that pushing the different version of the patch with the same ChangeID is an update to the original, and create a new version","ts":"1479315460.003040"},{"type":"message","user":"U0UHG4VP1","text":"well wait, how did you fix them? is it a new commit on top of the old commit?","ts":"1479315464.003041"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP> nevermind my q above...aside from the confusing netstat nomenclature, it does seem to be listening on IPv4 too","ts":"1479315501.003042"},{"type":"message","user":"U0UHG4VP1","text":"if you now have two commits, the original commit and the new commit with fixes, you should squash them (git rebase -i or similar) and reuse the original commit id","ts":"1479315511.003043"},{"type":"message","user":"U0KPFAZNF","text":"I had a calamity of errors in my use of netstat + nmap that led me down a rabbit hole","ts":"1479315529.003044"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: good point","ts":"1479315569.003045"},{"type":"message","user":"U0KPFAZNF","text":"not that I want to add confusion to the mix, but I use stgit to manage all this...its very nice way to curate a series","ts":"1479315601.003046"},{"type":"message","user":"U0UHG4VP1","text":"I suggest anyone just getting started follow <@U0KPFAZNF>' tooling advice, as I still disclaim ANSI C as too newfangled to trust","ts":"1479315791.003047"},{"type":"message","user":"U0KPFAZNF","text":"my understanding is the path of least friction with gerrit is to use git-review","ts":"1479315953.003048"},{"type":"message","user":"U0KPFAZNF","text":"though I have never done this, as ive been using stgit for years","ts":"1479315965.003049"},{"type":"message","user":"U1B2FF8LR","text":"thx; since I already created a new commit, I will try to squash and then push again. i hope this does not mess up the existiing review records.","ts":"1479315979.003050"},{"type":"message","user":"U0KPFAZNF","text":"for the most part, stgit is a good model though there are a few warts when dealing with gerrit","ts":"1479316011.003051"},{"type":"message","user":"U0KPFAZNF","text":"for one, the commit-hook doesnt fire when you add a patch via stgit...","ts":"1479316036.003052"},{"type":"message","user":"U0KPFAZNF","text":"(the one that assigns a changeid","ts":"1479316042.003053"},{"type":"message","user":"U0KPFAZNF","text":"so, i have to do a little dance to work around that","ts":"1479316049.003054"},{"type":"message","user":"U0UHG4VP1","text":"scottz which commit are you working on?","ts":"1479316067.003055"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2205\/> ?","ts":"1479316083.003056"},{"type":"message","user":"U1B2FF8LR","text":"yes.  branch v6: e606a60ed64e962ddf4695a82ed130fc693d3d8, and new commit 99ccda1867306f13ed86f15ff9d2a1ac8186cefe","ts":"1479316128.003057"},{"type":"message","user":"U0UHG4VP1","text":"it looks like you never pushed the unsquashed commits, so as long as you reuse the change ID, the review records will match","ts":"1479316197.003058"},{"type":"message","user":"U0UHG4VP1","text":"and you'll be pushing to refs\/for\/v0.6 instead of the refs\/for\/master as noted above","ts":"1479316222.003059"},{"type":"message","user":"U1B2FF8LR","text":"correct, I never pushed the new commit. ok.","ts":"1479316579.003060"},{"type":"message","user":"U0UHG4VP1","text":"scottz looks like it worked!","ts":"1479317832.003061"},{"type":"message","user":"U1B2FF8LR","text":"yes I am verifying, and agree it looks good. I rebased, and edited the changeid when amended the commit msg. thanks.","ts":"1479317935.003062"},{"type":"message","user":"U1B2FF8LR","text":"will a notification get sent to all the reviewers automatically saying it is updated and ready for re-review?","ts":"1479318417.003063"},{"type":"message","user":"U0UHG4VP1","text":"they should get an email if they signed up for emails, yes.","ts":"1479318552.003064"},{"type":"message","user":"U26T99AQ4","text":"is this CI failure expected?\n```\n# <http:\/\/github.com\/hyperledger\/fabric\/vendor\/github.com\/tecbot\/gorocksdb|github.com\/hyperledger\/fabric\/vendor\/github.com\/tecbot\/gorocksdb>\nvendor\/github.com\/tecbot\/gorocksdb\/backup.go:4:24: fatal error: rocksdb\/c.h: No such file or directory\n \/\/ #include \"rocksdb\/c.h\"\n                        ^        \ncompilation terminated.\nFAIL <http:\/\/github.com\/hyperledger\/fabric\/core|github.com\/hyperledger\/fabric\/core> [build failed]\n```","ts":"1479331485.003065"},{"type":"message","user":"U26T99AQ4","text":"it's from a \"new\" jenkins run `fabric-verify-d112-x86_64`","ts":"1479331508.003066"},{"type":"message","user":"U0ZJZBJLF","text":"I would guess that is related to a new build type that doesn't rely on vagrant, am I right <@U0KPFAZNF> ?","ts":"1479331531.003067"},{"type":"message","user":"U0KPFAZNF","text":"ignore any -d112 output","ts":"1479331551.003068"},{"type":"message","user":"U0KPFAZNF","text":"its an experiment that <@U0UHG4VP1> and I are conducting, it was supposed to be behind the scenes","edited":{"user":"U0KPFAZNF","ts":"1479331586.000000"},"ts":"1479331572.003069"},{"type":"message","user":"U0KPFAZNF","text":"not sure why it even bubbled up","ts":"1479331576.003070"},{"type":"message","user":"U26T99AQ4","text":"unfortunately it still -1's my change set","ts":"1479331579.003071"},{"type":"message","user":"U0ZJZBJLF","text":"I think you can still merge a -1","ts":"1479331594.003073"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: ^^^^","ts":"1479331594.003074"},{"type":"message","user":"U0ZJZBJLF","text":"can't you?","ts":"1479331596.003075"},{"type":"message","user":"U26T99AQ4","text":"probably true","ts":"1479331610.003076"},{"type":"message","user":"U0UHG4VP1","text":"ah the -112 changes shouldn't be voting, if they are that's an error, let me look could you link to the exact failed build please?","ts":"1479331613.003077"},{"type":"message","user":"U0ZJZBJLF","text":"just saying, of course","ts":"1479331615.003078"},{"type":"message","user":"U26T99AQ4","text":"anyway, thx!","ts":"1479331616.003079"},{"type":"message","user":"U26T99AQ4","text":"thx <@U0UHG4VP1> <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2453\/>","ts":"1479331630.003080"},{"type":"message","user":"U26T99AQ4","text":"you won't find the -1 now because I've rebased in the meantime","ts":"1479331658.003081"},{"type":"message","user":"U0UHG4VP1","text":"OK I will wait until it fails, that job shouldn't have any output to gerrit in the current iteration","ts":"1479331692.003082"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0ULK2JPP>  ^ that's the reason for the -1 failure","ts":"1479331738.003083"},{"type":"message","user":"U0ZJZBJLF","text":"it was actually supposed to be a +1","ts":"1479331744.003084"},{"type":"message","user":"U0UHG4VP1","text":"OK I manually made it silent I don't know why setting the two silent options didn't work","ts":"1479331870.003085"},{"type":"message","user":"U26T99AQ4","text":"thx!","ts":"1479332090.003086"},{"type":"message","user":"U26T99AQ4","text":"<@U0UHG4VP1> <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2453\/> -1 and yet the CI run was successful","ts":"1479332766.003087"},{"type":"message","user":"U0UHG4VP1","text":"aso: I removed the -1, Gari will need to over-ride it","ts":"1479332866.003088"},{"type":"message","user":"U26T99AQ4","text":"thx!","ts":"1479332875.003089"},{"type":"message","user":"U26T99AQ4","text":"yeah, <@U0PB67X4K> 's -2 was because that change-set started as a WIP but now it's ready","ts":"1479332910.003090"},{"type":"message","user":"U26T99AQ4","text":"at any rate, thx <@U0UHG4VP1>","ts":"1479332924.003091"},{"type":"message","user":"U0UHG4VP1","text":"could you help me out, aso?","ts":"1479333039.003092"},{"type":"message","user":"U26T99AQ4","text":"sure, what can I do for you?","ts":"1479333080.003093"},{"type":"message","user":"U0UHG4VP1","text":"please add this line: `Signed-off-by: Elli Androulaki &lt;lli@zurich.ibm.com&gt;` as indicated to the commit message","ts":"1479333113.003094"},{"type":"message","user":"U0UHG4VP1","text":"that makes machine parsing of the git log for DCO compliance much easier","ts":"1479333131.003095"},{"type":"message","user":"U26T99AQ4","text":"so the commit msg should have 2 sign-offs?","ts":"1479333161.003096"},{"type":"message","user":"U0UHG4VP1","text":"yes. just add the additional line (git commit --amend)","ts":"1479333180.003097"},{"type":"message","user":"U0UHG4VP1","text":"or whatever workflow you use","ts":"1479333186.003098"},{"type":"message","user":"U26T99AQ4","text":"sure, will do","ts":"1479333190.003099"},{"type":"message","user":"U0UHG4VP1","text":"thank you. A commit message update might not trigger a full CI pass","ts":"1479333218.003100"},{"type":"message","user":"U26T99AQ4","text":"it usually does","ts":"1479333234.003101"},{"type":"message","user":"U26T99AQ4","text":"oh well :slightly_smiling_face:","ts":"1479333239.003102"},{"type":"message","user":"U0UHG4VP1","text":"c'est la vie","ts":"1479333251.003103"},{"type":"message","user":"U26T99AQ4","text":"btw: DCO compliance?","ts":"1479333252.003104"},{"type":"message","user":"U26T99AQ4","text":"(out of curiosity)","ts":"1479333272.003105"},{"type":"message","user":"U0UHG4VP1","text":"ah, developer certificate of origin? you're saying you wrote it and it isn't encumbered. in this case you are using code from someone else that already did that, so you just need to copy that line over","ts":"1479333336.003106"},{"type":"message","user":"U0UHG4VP1","text":"<http:\/\/developercertificate.org\/>","ts":"1479333343.003107"},{"type":"message","user":"U0UHG4VP1","text":"wow, I expanded the acronym correctly for once","ts":"1479333358.003108"},{"type":"message","user":"U26T99AQ4","text":":smile:","ts":"1479333364.003109"},{"type":"message","user":"U26T99AQ4","text":"right, I actually thought about doing that but concluded that given that Elli and I work in the same team I could dispense with that","ts":"1479333390.003110"},{"type":"message","user":"U26T99AQ4","text":"but I'm happy to do it anyway","ts":"1479333395.003111"},{"type":"message","user":"U26T99AQ4","text":"thx!","ts":"1479333408.003112"},{"type":"message","user":"U0UHG4VP1","text":"the issue is Elli's code isn't merged, and if it doesn't get merged, that information is lost","ts":"1479333421.003113"},{"type":"message","user":"U26T99AQ4","text":"gotcha","ts":"1479333430.003114"},{"type":"message","user":"U0UHG4VP1","text":"in the far future when hyperledger's gerrit no longer exists","ts":"1479333451.003115"},{"type":"message","user":"U0UHG4VP1","text":"anyway, thank you","ts":"1479333464.003116"},{"type":"message","user":"U26T99AQ4","text":"I'll keep that in mind next time, thx!","ts":"1479333472.003117"},{"type":"message","user":"U1WUAQJVC","text":"HI All,\n\nThe Invoke method if i return something, why i can't see that in the response ?\n\nIt always returns something like :\n{\n \"jsonrpc\": \"2.0\",\n \"result\": {\n   \"status\": \"OK\",\n   \"message\": \"b7e86ac5-02e6-46da-a3d2-7483d45630bf\"\n },\n \"id\": 3\n}\n\nplz help","ts":"1479375074.003118"},{"type":"message","user":"U1WUAQJVC","text":"why the invoke syntax has return type []byte and error both\n\nwhen we can't return any messages as it's async call?","ts":"1479375965.003119"},{"type":"message","user":"U0NK7T8SH","text":"Hi","ts":"1479384087.003120"},{"type":"message","user":"U0NK7T8SH","text":"did anyone see following error:","ts":"1479384112.003121"},{"type":"message","user":"U0NK7T8SH","text":"consensus\/pbft] Checkpoint -&gt; DEBU 2104 Replica 0 preparing checkpoint for view=0\/seqNo=8 and b64 id of CAkSQDJ1YvmpxsBoen9tXvCHly+XapthAGsQDnodrkqEm7GkZLGIzD0GW3k7hd3pnrZF58+0Qe2sA2IlVhP+YJJgBi8aQA8ew7BfByr4DP1hZVaYiBbjN2\/1HKNW1okFVD54Txn9VtG\/XzKxiaE16q0PKNVFQavX4\/N+fqw5rX8UuZJtRYo=\n11:54:36.652 [consensus\/pbft] recvCheckpoint -&gt; DEBU 2105 Replica 0 received checkpoint from replica 0, seqNo 8, digest CAkSQDJ1YvmpxsBoen9tXvCHly+XapthAGsQDnodrkqEm7GkZLGIzD0GW3k7hd3pnrZF58+0Qe2sA2IlVhP+YJJgBi8aQA8ew7BfByr4DP1hZVaYiBbjN2\/1HKNW1okFVD54Txn9VtG\/XzKxiaE16q0PKNVFQavX4\/N+fqw5rX8UuZJtRYo=\n11:54:36.652 [consensus\/pbft] recvCheckpoint -&gt; DEBU 2106 Replica 0 found 1 matching checkpoints for seqNo 8, digest CAkSQDJ1YvmpxsBoen9tXvCHly+XapthAGsQDnodrkqEm7GkZLGIzD0GW3k7hd3pnrZF58+0Qe2sA2IlVhP+YJJgBi8aQA8ew7BfByr4DP1hZVaYiBbjN2\/1HKNW1okFVD54Txn9VtG\/XzKxiaE16q0PKNVFQavX4\/N+fqw5rX8UuZJtRYo=\n11:54:36.653 [consensus\/pbft] recvCheckpoint -&gt; CRIT 2107 Network unable to find stable certificate for seqNo 8 (3 different values observed already)\npanic: Network unable to find stable certificate for seqNo 8 (3 different values observed already)\n\ngoroutine 38 [running]:\npanic(0xc13e20, 0xc820aa8f00)\n\t\/opt\/go\/src\/runtime\/panic.go:464 +0x3e6\n<http:\/\/github.com\/hyperledger\/fabric\/vendor\/github.com\/op\/go-logging.(*Logger).Panicf|github.com\/hyperledger\/fabric\/vendor\/github.com\/op\/go-logging.(*Logger).Panicf>(0xc820161d40, 0x103cce0, 0x5d, 0xc8209f47a0, 0x2, 0x2)\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/vendor\/github.com\/op\/go-logging\/logger.go:194 +0x11e\n<http:\/\/github.com\/hyperledger\/fabric\/consensus\/pbft.(*pbftCore).recvCheckpoint(0xc8202c0680|github.com\/hyperledger\/fabric\/consensus\/pbft.(*pbftCore).recvCheckpoint(0xc8202c0680>, 0xc8209f4760, 0x0, 0x0)\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/consensus\/pbft\/pbft-core.go:1185 +0xcc7\n<http:\/\/github.com\/hyperledger\/fabric\/consensus\/pbft.(*pbftCore).Checkpoint(0xc8202c0680|github.com\/hyperledger\/fabric\/consensus\/pbft.(*pbftCore).Checkpoint(0xc8202c0680>, 0x8, 0xc820c35680, 0x86, 0xa0)\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/consensus\/pbft\/pbft-core.go:988 +0x57e\n<http:\/\/github.com\/hyperledger\/fabric\/consensus\/pbft.(*pbftCore).execDoneSync(0xc8202c0680)|github.com\/hyperledger\/fabric\/consensus\/pbft.(*pbftCore).execDoneSync(0xc8202c0680)>\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/consensus\/pbft\/pbft-core.go:997 +0x215\n<http:\/\/github.com\/hyperledger\/fabric\/consensus\/pbft.(*pbftCore).ProcessEvent(0xc8202c0680|github.com\/hyperledger\/fabric\/consensus\/pbft.(*pbftCore).ProcessEvent(0xc8202c0680>, 0xc30220, 0x15ffd38, 0x0, 0x0)\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/consensus\/pbft\/pbft-core.go:386 +0x1843\n<http:\/\/github.com\/hyperledger\/fabric\/consensus\/pbft.(*obcBatch).ProcessEvent(0xc820388240|github.com\/hyperledger\/fabric\/consensus\/pbft.(*obcBatch).ProcessEvent(0xc820388240>, 0xc30220, 0x15ffd38, 0x0, 0x0)\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/consensus\/pbft\/batch.go:367 +0xbc6\n<http:\/\/github.com\/hyperledger\/fabric\/consensus\/util\/events.SendEvent(0x7f81732a0078|github.com\/hyperledger\/fabric\/consensus\/util\/events.SendEvent(0x7f81732a0078>, 0xc820388240, 0xda3a60, 0xc8209f4660)\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/consensus\/util\/events\/events.go:113 +0x45\n<http:\/\/github.com\/hyperledger\/fabric\/consensus\/util\/events.(*managerImpl).Inject(0xc820390c80|github.com\/hyperledger\/fabric\/consensus\/util\/events.(*managerImpl).Inject(0xc820390c80>, 0xda3a60, 0xc8209f4660)\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/consensus\/util\/events\/events.go:123 +0x4f\n<http:\/\/github.com\/hyperledger\/fabric\/consensus\/util\/events.(*managerImpl).eventLoop(0xc820390c80)|github.com\/hyperledger\/fabric\/consensus\/util\/events.(*managerImpl).eventLoop(0xc820390c80)>\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/consensus\/util\/events\/events.go:132 +0xdb\ncreated by <http:\/\/github.com\/hyperledger\/fabric\/consensus\/util\/events.(*managerImpl).Start|github.com\/hyperledger\/fabric\/consensus\/util\/events.(*managerImpl).Start>\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/consensus\/util\/events\/events.go:100 +0x35","ts":"1479384140.003122"},{"type":"message","user":"U0PB67X4K","text":"<@U0NK7T8SH> - your peer is no longer in sync with the rest of the network","ts":"1479388683.003123"},{"type":"message","user":"U0NK7T8SH","text":"<@U0PB67X4K> thx a lot for your answer, but how could this happen, was it caused by the chaincode?","ts":"1479390196.003124"},{"type":"message","user":"U0NK7T8SH","text":"the configuration of pbft checkpoint is K=2","ts":"1479390254.003125"},{"type":"message","user":"U0PB67X4K","text":"what kind of setup are you running?","ts":"1479390255.003126"},{"type":"message","user":"U0NK7T8SH","text":"one box, docker compose 4","ts":"1479390284.003127"},{"type":"message","user":"U0NK7T8SH","text":"vps","ts":"1479390289.003128"},{"type":"message","user":"U0PB67X4K","text":"is the chaincode running for each of the 4 peers?","ts":"1479390322.003129"},{"type":"message","user":"U0NK7T8SH","text":"this one docker-compose-4-consensus-batch.yml","ts":"1479390322.003130"},{"type":"message","user":"U0NK7T8SH","text":"yes","ts":"1479390331.003131"},{"type":"message","user":"U0PB67X4K","text":"you might want to use the REST API and take a look at the blocks \/ transactions on each peer and see where the difference occurred","ts":"1479390372.003132"},{"type":"message","user":"U0PB67X4K","text":"meaning compare the block heights, blocks and transactions of the peer that crashed above with those of the other peers","ts":"1479390408.003133"},{"type":"message","user":"U0NK7T8SH","text":"okay, let me check, thx","ts":"1479390564.003134"},{"type":"message","user":"U0NK7T8SH","text":"I c, I got the problem its caused by the chaincode","ts":"1479390751.003135"},{"type":"message","user":"U0NK7T8SH","text":"thx a lot","ts":"1479390757.003136"},{"user":"U33CM6NV7","text":"<@U33CM6NV7|streich> has joined the channel","type":"message","subtype":"channel_join","ts":"1479410925.003137"},{"type":"message","user":"U2X9KDDL7","text":"Hi all, how complete are the GRPC APIs and underlying functionality for the various components (e.g. membersrvc, peers)?  My goal is to run a real peer network through a bunch of transactions to test chaincode (I already have unit tests which use MockStub) with user authentication.  Ideally I would use HFC (node.js SDK) to drive this, but it appears that it's not feature-complete.  So I'm trying to find the next level down.  Is driving things using GRPC myself (say, from a Golang program) a good way to go?","ts":"1479433217.003138"},{"type":"message","user":"U2X9KDDL7","text":"I'm looking to drive a peer network to do something like what the `asset_management_with_roles` example does.","ts":"1479433287.003139"},{"type":"message","user":"U2X9KDDL7","text":"But I haven't found a complete end-to-end demonstration of this (for example, what the end-to-end.js unit test in node SDK would be)","ts":"1479433323.003140"},{"user":"U350X8JMD","text":"<@U350X8JMD|ypqu> has joined the channel","type":"message","subtype":"channel_join","ts":"1479457867.003141"},{"user":"U35A8J495","text":"<@U35A8J495|jpleboue> has joined the channel","type":"message","subtype":"channel_join","ts":"1479501875.003142"},{"type":"message","user":"U35A8J495","text":"Hey everyone, I'm part of a senior design team at NCSU and our project deals with blockchain and at its core, Hyperledger. We were wondering if anyone has ever deployed fabric onto a network of Raspberry Pis. Thanks for any responses.","ts":"1479502005.003143"},{"type":"message","user":"U0KPFAZNF","text":"Hello <@U35A8J495>, welcome.  I seem to recall someone talking about that before, but I do not know what became of it.  Right now I would guess there would be some basic challenges getting things compiled for ARM where they dont yet exist...we have support for x86_64, ppcle64 and s390x, and would welcome the addition of arm\/pi if you wanted to help contribute to that","ts":"1479502165.003144"},{"type":"message","user":"U2X9KDDL7","text":"Any comment on this?  The GRPC thing I mentioned earlier?  Anyone?  Beuler?","ts":"1479507494.003145"},{"type":"message","user":"U0UHG4VP1","text":"<@U0PB67X4K> <@U0XQ35CDD> the fabric builds in jenkins are on go 1.7","ts":"1479554040.003146"},{"type":"message","user":"U0UHG4VP1","text":"I haven't brought forward all of the other builds yet, and I'm vacation next week, but fabric is there.","ts":"1479554071.003147","reactions":[{"name":"+1","users":["U0PB67X4K"],"count":1}]},{"type":"message","user":"U0XQ35CDD","text":"<@U0UHG4VP1>: Great news, thank you. ","ts":"1479565748.003148"},{"type":"message","user":"U2X9KDDL7","text":"I've got a change submitted to Gerrit which has a failure on one of the Jenkins build operations ( <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-behave-x86_64\/1821\/> ) which has nothing to do with my changeset.  Is there a way to kick the build or otherwise deal with this problem?","ts":"1479584121.003149"},{"type":"message","user":"U11HH3P7Y","text":"<@U2X9KDDL7> : re-triggered","ts":"1479584379.003150"},{"type":"message","user":"U2X9KDDL7","text":"<@U11HH3P7Y> Thanks -- interestingly, I just noticed that the line in the build log says `Patch Set 2: Verified+1 Build Successful <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-behave-x86_64\/1821\/> : FAILURE (skipped) <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/2980\/> : SUCCESS`","ts":"1479584530.003151"},{"type":"message","user":"U2X9KDDL7","text":"so apparently one of these failures doesn't matter","ts":"1479584543.003152"},{"type":"message","user":"U11HH3P7Y","text":"We are skipping behave build result..","ts":"1479584575.003153"},{"type":"message","user":"U2X9KDDL7","text":"Ah ok, gotcha.","ts":"1479584583.003154"},{"type":"message","user":"U0ZJZBJLF","text":"Why are they running if they are skipped?","ts":"1479584589.003155"},{"type":"message","user":"U0ZJZBJLF","text":"doesn't it consume resources?","ts":"1479584596.003156"},{"type":"message","user":"U11HH3P7Y","text":"Most of the behave tests are failing because of containers are not coming up with in specified time...Could be because of docker version 1.8.2 in Jenkins CI","ts":"1479584921.003157"},{"type":"message","user":"U11HH3P7Y","text":"also builds are failing with this error <https:\/\/jira.hyperledger.org\/browse\/FAB-898>","ts":"1479585055.003158"},{"type":"message","user":"U0UHG4VP1","text":"Ramesh: new fabric CI image has docker 1.12","ts":"1479585114.003159"},{"type":"message","user":"U11HH3P7Y","text":"yes <@U0UHG4VP1>.. We are getting below error on new images ```Exception AttributeError: 'module' object has no attribute 'PROTOCOL_SSLv3'```","ts":"1479585186.003160"},{"type":"message","user":"U11HH3P7Y","text":"<https:\/\/jenkins.hyperledger.org\/view\/fabric\/job\/fabric-merge-behave-x86_64\/242\/console>","ts":"1479585194.003161"},{"type":"message","user":"U11HH3P7Y","text":"observed this issue on new docker version","edited":{"user":"U11HH3P7Y","ts":"1479585361.000000"},"ts":"1479585307.003162"},{"type":"message","user":"U2X9KDDL7","text":"Random question: Why Gerrit, and not Github?","ts":"1479586807.003164"},{"type":"message","user":"U0PB67X4K","text":"<@U10PB8HPH> - saw your post on the mailing list - if you want to use the v0.6 version of the fabric and build your own images, just checkout the v0.6 branch \/ tag","ts":"1479591126.003165"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> I keep getting a CI failure that seems to be unrelated to my changes: <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/3012\/console>","ts":"1479656921.003166"},{"type":"message","user":"U0KPFAZNF","text":"FAIL\t<http:\/\/github.com\/hyperledger\/fabric\/core\/comm|github.com\/hyperledger\/fabric\/core\/comm>\t6.062s","ts":"1479656932.003167"},{"type":"message","user":"U0ZJZBJLF","text":"that's core\/comm","ts":"1479656940.003168"},{"type":"message","user":"U0KPFAZNF","text":"know anything about that?","ts":"1479656942.003169"},{"type":"message","user":"U0ZJZBJLF","text":"what do I have to do with it? :slightly_smiling_face:","ts":"1479656944.003170"},{"type":"message","user":"U0KPFAZNF","text":"not sure, I either get gossip\/state or this one","ts":"1479656959.003171"},{"type":"message","user":"U0ZJZBJLF","text":"I'm gossip\/* without gossip\/state :wink:","ts":"1479656962.003172"},{"type":"message","user":"U0KPFAZNF","text":"so I figured they were related","ts":"1479656965.003173"},{"type":"message","user":"U0ZJZBJLF","text":"gossip\/state? no way","ts":"1479656969.003174"},{"type":"message","user":"U0ZJZBJLF","text":"I commented out the problematic tests there","edited":{"user":"U0ZJZBJLF","ts":"1479656983.000000"},"ts":"1479656976.003175"},{"type":"message","user":"U0KPFAZNF","text":"do we know who is working on either of those?","ts":"1479656980.003176"},{"type":"message","user":"U0ZJZBJLF","text":"let me see who committed on github","ts":"1479656995.003178"},{"type":"message","user":"U0ZJZBJLF","text":"the browser view shows you the last commit on the file","ts":"1479657005.003179"},{"type":"message","user":"U0KPFAZNF","text":"what file?","ts":"1479657016.003180"},{"type":"message","user":"U0ZJZBJLF","text":"`connection_test.go:40: error connection to server at host:port = localhost:7051`","ts":"1479657042.003181"},{"type":"message","user":"U0ZJZBJLF","text":"That's the test file that is running","ts":"1479657052.003182"},{"type":"message","user":"U0ZJZBJLF","text":"it appears to be you isn't it?\n<https:\/\/github.com\/hyperledger\/fabric\/commit\/2471f9a7de6b12473d335abe9003a1cbf166988b#diff-c2c516417d2a2150bef3ee5f45210f46>","attachments":[{"service_name":"GitHub","title":"Use an environment variable for unit-test peer address \u00b7 hyperledger\/fabric@2471f9a \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/commit\/2471f9a7de6b12473d335abe9003a1cbf166988b#diff-c2c516417d2a2150bef3ee5f45210f46","text":"We want to be able to programmatically direct the unit tests to a peer instance without using a big-hammer approach like CORE_PEER_ADDRESS. Since the viper knobs impact and override all configurat...","fallback":"GitHub: Use an environment variable for unit-test peer address \u00b7 hyperledger\/fabric@2471f9a","thumb_url":"https:\/\/avatars0.githubusercontent.com\/u\/367132?v=3&s=200","from_url":"https:\/\/github.com\/hyperledger\/fabric\/commit\/2471f9a7de6b12473d335abe9003a1cbf166988b#diff-c2c516417d2a2150bef3ee5f45210f46","thumb_width":200,"thumb_height":200,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1479657097.003183"},{"type":"message","user":"U0KPFAZNF","text":"ah, i think the only thing changed when was how the path was formed, but that all passed CI","ts":"1479657108.003185"},{"type":"message","user":"U0KPFAZNF","text":"now it no longer passes CI","ts":"1479657112.003186"},{"type":"message","user":"U0KPFAZNF","text":"anyway, sorry, I thought it was related to the rash of gossip failures","ts":"1479657138.003187"},{"type":"message","user":"U0KPFAZNF","text":"not sure why nothing will pass right now","ts":"1479657148.003188"},{"type":"message","user":"U0ZJZBJLF","text":"They sometimes pass","ts":"1479657156.003189"},{"type":"message","user":"U0ZJZBJLF","text":"I mean the connection_test.go","ts":"1479657165.003190"},{"type":"message","user":"U0KPFAZNF","text":"for whatever reason, <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2307\/> will not pass","ts":"1479657197.003191"},{"type":"message","user":"U0KPFAZNF","text":"i seem to get either this one, or gossip\/state failures","ts":"1479657207.003192"},{"type":"message","user":"U0KPFAZNF","text":"feels like a timing problem","ts":"1479657223.003193"},{"type":"message","user":"U0ZJZBJLF","text":"timed out?","ts":"1479657228.003194"},{"type":"message","user":"U0KPFAZNF","text":"i think so, i dont recall","ts":"1479657238.003195"},{"type":"message","user":"U0ZJZBJLF","text":"can you give me a link please?","ts":"1479657240.003196"},{"type":"message","user":"U0KPFAZNF","text":"ill try to reverify","ts":"1479657242.003197"},{"type":"message","user":"U0ZJZBJLF","text":"Ramesh had this on the merge CI job","ts":"1479657247.003198"},{"type":"message","user":"U0ZJZBJLF","text":"is it on a merge job too?","ts":"1479657254.003199"},{"type":"message","user":"U0KPFAZNF","text":"just walk though the V-1 history of 2307","ts":"1479657259.003200"},{"type":"message","user":"U0ZJZBJLF","text":"don't see","ts":"1479657311.003201"},{"type":"message","user":"U0ZJZBJLF","text":"can I get an example please?","ts":"1479657341.003202"},{"type":"message","user":"U0KPFAZNF","text":"hmm, nevermind, in this case its always comm","ts":"1479657366.003203"},{"type":"message","user":"U0KPFAZNF","text":"i am seeing the gossip\/state one too, but in other CRs","ts":"1479657377.003204"},{"type":"message","user":"U0ZJZBJLF","text":"From what I know there were 2 problematic tests, and I commented them out in a PR to make CI flow","ts":"1479657425.003205"},{"type":"message","user":"U0KPFAZNF","text":"which CR was that?","ts":"1479657437.003206"},{"type":"message","user":"U0ZJZBJLF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2575\/>","ts":"1479657443.003207"},{"type":"message","user":"U0KPFAZNF","text":"ill make sure I am rebased","ts":"1479657444.003208"},{"type":"message","user":"U0KPFAZNF","text":"ty","ts":"1479657445.003209"},{"type":"message","user":"U0KPFAZNF","text":"yeah, looks like I am on top of that now","ts":"1479657497.003210"},{"type":"message","user":"U0KPFAZNF","text":"would that explain why the gossip\/state one seems to have subsided?","ts":"1479657510.003211"},{"type":"message","user":"U0KPFAZNF","text":"or was that a different failure?","ts":"1479657514.003212"},{"type":"message","user":"U0ZJZBJLF","text":"of course","ts":"1479657516.003213"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1479657521.003214"},{"type":"message","user":"U0ZJZBJLF","text":"I don't know about other failures, if you encounter one, please tell me","ts":"1479657530.003215"},{"type":"message","user":"U0KPFAZNF","text":"well, you made some comment earlier about gossip\/* gossip\/state","ts":"1479657539.003216"},{"type":"message","user":"U0KPFAZNF","text":"ok...i was having problems with both gossip\/state and comms, but it seems gossip\/state has gone away for now","ts":"1479657564.003217"},{"type":"message","user":"U0ZJZBJLF","text":"if it's comm it must be the testBlackList","ts":"1479657604.003218"},{"type":"message","user":"U0ZJZBJLF","text":"I made a PR this morning that fixes it","ts":"1479657614.003219"},{"type":"message","user":"U0KPFAZNF","text":"not merged yet?","ts":"1479657622.003220"},{"type":"message","user":"U0ZJZBJLF","text":"and makes gossip\/comm faster","ts":"1479657623.003221"},{"type":"message","user":"U0ZJZBJLF","text":"nope","ts":"1479657626.003222"},{"type":"message","user":"U0ZJZBJLF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2637\/>","ts":"1479657641.003223"},{"type":"message","user":"U0ZJZBJLF","text":"It happens pretty rarely btw, the gossip\/comm failure.","ts":"1479658184.003224"},{"type":"message","user":"U0ZJZBJLF","text":"The tests in core\/comm pass on my machine, if that helps","ts":"1479658843.003225"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> I found the issue","ts":"1479666974.003226"},{"type":"message","user":"U0KPFAZNF","text":"nothing to do with you","ts":"1479666979.003227"},{"type":"message","user":"U0KPFAZNF","text":"<@U0PB67X4K> <@U0ULK2JPP> we should revisit the decision to merge 2453 (<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2453\/>)...it breaks any attempt to package\/run the code unless the full source tree is present","ts":"1479667048.003228"},{"type":"message","user":"U0KPFAZNF","text":"(which, I found out the hard way when I tried to clean up the included src ;)","ts":"1479667127.003229"},{"type":"message","user":"U0KPFAZNF","text":"e.g. CR 2307","ts":"1479667132.003230"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KPFAZNF> thinking\u2026. :slightly_smiling_face:","ts":"1479667167.003231"},{"type":"message","user":"U0KPFAZNF","text":"I am not against a separate .json file per se, but at the very least it should be somehow tied into the overall configuration mechanism","ts":"1479667206.003232"},{"type":"message","user":"U0ULK2JPP","text":"right","ts":"1479667211.003233"},{"type":"message","user":"U0KPFAZNF","text":"fwiw, the decision to merge 2453 materializes like this <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/3012\/console>","ts":"1479667278.003234"},{"type":"message","user":"U0KPFAZNF","text":"because the peer can no longer run unless the fabric src is present","edited":{"user":"U0KPFAZNF","ts":"1479667318.000000"},"ts":"1479667294.003235"},{"type":"message","user":"U0KPFAZNF","text":"(and other assumptions surrounding that)","ts":"1479667299.003236"},{"type":"message","user":"U0ULK2JPP","text":"this has to do with the the bootstrap mechanisms <https:\/\/jira.hyperledger.org\/issues\/?jql=text%20~%20%22bootstrap%22> which when in place can make this go away","ts":"1479667310.003237"},{"type":"message","user":"U0ULK2JPP","text":"hmmm","ts":"1479667353.003239"},{"type":"message","user":"U0KPFAZNF","text":"I was so happy because master no longer required consensus\/pbft\/config.yaml :wink:","edited":{"user":"U0KPFAZNF","ts":"1479667439.000000"},"ts":"1479667387.003240"},{"type":"message","user":"U0KPFAZNF","text":"and then this bit me","ts":"1479667390.003241"},{"type":"message","user":"U0PB67X4K","text":"<@U0KPFAZNF> - just to be clear - you are saying that a peer binary will not run unless the source is there (or minimally that various config files are in the GOPATH)?  This is of course not about unit tests, etc?","ts":"1479667543.003243"},{"type":"message","user":"U0KPFAZNF","text":"correct","ts":"1479667594.003244"},{"type":"message","user":"U0KPFAZNF","text":"the peer, as of the merge of CR 2453, now requires ..\/..\/msp\/peer-config.json (and other things like that)","ts":"1479667626.003245"},{"type":"message","user":"U0KPFAZNF","text":"which is....not right","ts":"1479667637.003246"},{"type":"message","user":"U0KPFAZNF","text":"ideally, I can make a docker container that has just","ts":"1479667646.003247"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F349ULQQZ\/-.txt|Untitled>","file":{"id":"F349ULQQZ","created":1479667655,"timestamp":1479667655,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0KPFAZNF","editable":true,"size":201,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F349ULQQZ\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F349ULQQZ\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F349ULQQZ\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F349ULQQZ-8923a82116","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F349ULQQZ\/-.txt\/edit","preview":".\r\n\u251c\u2500\u2500 etc\r\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 hyperledger\r\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 fabric\r\n\u2502\u00a0\u00a0         \u2514\u2500\u2500 core.yaml\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>.<\/pre><\/div>\n<div><pre>\u251c\u2500\u2500 etc<\/pre><\/div>\n<div><pre>\u2502\u00a0\u00a0 \u2514\u2500\u2500 hyperledger<\/pre><\/div>\n<div><pre>\u2502\u00a0\u00a0     \u2514\u2500\u2500 fabric<\/pre><\/div>\n<div><pre>\u2502\u00a0\u00a0         \u2514\u2500\u2500 core.yaml<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":9,"lines_more":4,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1479667655.003248"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F35L5606S\/-.pl|Untitled> and commented: or this, if the config has to be separate","file":{"id":"F35L5606S","created":1479667705,"timestamp":1479667705,"name":"-.pl","title":"Untitled","mimetype":"text\/plain","filetype":"perl","pretty_type":"Perl","user":"U0KPFAZNF","editable":true,"size":281,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F35L5606S\/-.pl?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F35L5606S\/download\/-.pl?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F35L5606S\/-.pl","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F35L5606S-724c9e00d5","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F35L5606S\/-.pl\/edit","preview":".\r\n\u251c\u2500\u2500 etc\r\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 hyperledger\r\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 fabric\r\n\u2502\u00a0\u00a0         \u251c\u2500\u2500 core.yaml\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-operator\">.<\/span><\/pre><\/div>\n<div><pre>\u251c\u2500\u2500 <span class=\"cm-meta\">etc<\/span><\/pre><\/div>\n<div><pre>\u2502\u00a0\u00a0 \u2514\u2500\u2500 <span class=\"cm-meta\">hyperledger<\/span><\/pre><\/div>\n<div><pre>\u2502\u00a0\u00a0     \u2514\u2500\u2500 <span class=\"cm-meta\">fabric<\/span><\/pre><\/div>\n<div><pre>\u2502\u00a0\u00a0         \u251c\u2500\u2500 <span class=\"cm-meta\">core<\/span><span class=\"cm-operator\">.<\/span><span class=\"cm-meta\">yaml<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":12,"lines_more":7,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc350AGC1Y","created":1479667705,"timestamp":1479667705,"user":"U0KPFAZNF","is_intro":true,"comment":"or this, if the config has to be separate","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1479667706.003249"},{"type":"message","user":"U0KPFAZNF","text":"but the way 2453 is coded makes this, at best, awkward","ts":"1479667740.003250"},{"type":"message","user":"U0KPFAZNF","text":"I could hack it with CWD tricks so ..\/..\/msp works, but that seems like hack on a hack :wink:","ts":"1479667773.003251"},{"type":"message","user":"U0KPFAZNF","text":"thoughts?","ts":"1479667803.003252"},{"type":"message","user":"U0KPFAZNF","text":"one thought, the peer currently uses PEER_CFG_PATH envvar to find core.yaml","ts":"1479667852.003253"},{"type":"message","user":"U0KPFAZNF","text":"if the msp stuff used that too, it would work","ts":"1479667876.003254"},{"type":"message","user":"U0KPFAZNF","text":"but someone should probably put some thought into what we want the configuration mechanism to actually look like in a production\/deployed scenario, and not so ad-hoc","ts":"1479667905.003255"},{"type":"message","user":"U0ULK2JPP","text":"given that this is a temporary solution (based on the TODO above that line\u2026 ) how about something like this","ts":"1479668053.003256"},{"type":"message","user":"U0ZR63HLK","text":"The MSP configuration file may be included in some way in core.yaml if this helps ","edited":{"user":"U0ZR63HLK","ts":"1479668152.000000"},"ts":"1479668135.003257"},{"type":"message","user":"U0ULK2JPP","text":"(1) embed the json inside main as a string and (2) look for a core.yaml param to the path","ts":"1479668155.003259"},{"type":"message","user":"U0ULK2JPP","text":"if the MSP is not defined in core.yaml, just use the embedded json in main","ts":"1479668181.003260"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZR63HLK>: that sounds ideal to me...I dont have a strong opinion on json vs yaml, but the notion that its one cohesive configuration solution is ideal to me","ts":"1479668184.003261"},{"type":"message","user":"U0ULK2JPP","text":"I think you\u2019d need both (1) and the definition in core.yaml <@U0ZR63HLK> ?","ts":"1479668225.003262"},{"type":"message","user":"U0ULK2JPP","text":"because the problem <@U0KPFAZNF> describes cannot be solved just by the definition in core.yaml","ts":"1479668247.003263"},{"type":"message","user":"U0ZR63HLK","text":"Is it possible to embed a json string in a yaml file?","ts":"1479668279.003264"},{"type":"message","user":"U0ULK2JPP","text":"or that","ts":"1479668284.003265"},{"type":"message","user":"U0ULK2JPP","text":"sure","ts":"1479668285.003266"},{"type":"message","user":"U0ZR63HLK","text":"That would be okay for the MSP","ts":"1479668310.003267"},{"type":"message","user":"U0ULK2JPP","text":"or have a separate msp-default.go","ts":"1479668334.003268"},{"type":"message","user":"U0ULK2JPP","text":"in main","ts":"1479668336.003269"},{"type":"message","user":"U0KPFAZNF","text":"heres one thought: if multiple files are required\/desired, we could we have one central definition of a global configuration root (e.g. PEER_CFG_PATH) and everything is expected to be relative to that _by default)","ts":"1479668337.003270"},{"type":"message","user":"U0ZR63HLK","text":"Sounds reasonable ","edited":{"user":"U0ZR63HLK","ts":"1479668364.000000"},"ts":"1479668357.003271"},{"type":"message","user":"U0KPFAZNF","text":"with core.yaml providing path overrides if that is desired","ts":"1479668362.003272"},{"type":"message","user":"U0KPFAZNF","text":"e.g. default MSP path is CENTRAL_PATH\/msp\/peer-config.json, but you can also set core.yaml -&gt; msp.peer-config.path to whatever you want","ts":"1479668419.003274"},{"type":"message","user":"U0ULK2JPP","text":"would that work for the current problem ? \u2026","ts":"1479668459.003275"},{"type":"message","user":"U0KPFAZNF","text":"I dont know enough about MSP to say whether it makes sense to embed the elements directly in core.yaml or not","ts":"1479668475.003276"},{"type":"message","user":"U0KPFAZNF","text":"yes, I think both solutions would work for me","ts":"1479668489.003277"},{"type":"message","user":"U0ZR63HLK","text":"From the MSP perspective that's irrelevant ","ts":"1479668499.003278"},{"type":"message","user":"U0KPFAZNF","text":"(embedding in core.yaml, or the central-config thing)","ts":"1479668500.003279"},{"type":"message","user":"U0ZR63HLK","text":"It only needs to be configured in some way. Right now, it only accepts a json-based configuration ","edited":{"user":"U0ZR63HLK","ts":"1479668555.000000"},"ts":"1479668536.003280"},{"type":"message","user":"U0KPFAZNF","text":"is this a third party component?","ts":"1479668561.003282"},{"type":"message","user":"U0ZR63HLK","text":"It might be used also in that way","ts":"1479668571.003283"},{"type":"message","user":"U0KPFAZNF","text":"e.g. we didnt code the json requirement?","ts":"1479668572.003284"},{"type":"message","user":"U0ZR63HLK","text":"Like the bccsp","ts":"1479668580.003285"},{"type":"message","user":"U0KPFAZNF","text":"or is it our code and it could be adapted to the fabric-general config solution","ts":"1479668594.003286"},{"type":"message","user":"U0ZR63HLK","text":"It's our code. We can adapt","ts":"1479668610.003287"},{"type":"message","user":"U0KPFAZNF","text":"ok...it seems to be (speaking in relative ignorance of the requirements for MSP) that this would be preferred","ts":"1479668636.003288"},{"type":"message","user":"U0KPFAZNF","text":"just make them yaml keys, or, embed json strings if need be","ts":"1479668660.003289"},{"type":"message","user":"U0KPFAZNF","text":"and keep the configuration in one place  and simple","ts":"1479668670.003290"},{"type":"message","user":"U0KPFAZNF","text":"from a packaging perspective, this would be my preference","ts":"1479668731.003291"},{"type":"message","user":"U0KPFAZNF","text":"but I can be convinced otherwise if multi-files are a hard requirement","ts":"1479668741.003292"},{"type":"message","user":"U0ZR63HLK","text":"Using yaml keys would require a modification of the MSP. Changing the config file configuration does not require any change. To be setup the MSP takes in input a json string with all the properties to configure the MSP itself ","edited":{"user":"U0ZR63HLK","ts":"1479668789.000000"},"ts":"1479668762.003293"},{"type":"message","user":"U0KPFAZNF","text":"the only thing that makes me nervous is I think we need some notion of relative path","ts":"1479668796.003295"},{"type":"message","user":"U0ULK2JPP","text":"right. That\u2019s why I was thinking an embedded default","ts":"1479668821.003296"},{"type":"message","user":"U0KPFAZNF","text":"e.g. putting \"core.msp.config-path = blah\" in the yaml would be hard to maintain too","ts":"1479668844.003297"},{"type":"message","user":"U0ULK2JPP","text":"especially if this is temporary","ts":"1479668845.003298"},{"type":"message","user":"U0KPFAZNF","text":"i think either way, the code would have to change","ts":"1479668875.003299"},{"type":"message","user":"U0KPFAZNF","text":"its purely a question of how much and where","ts":"1479668883.003300"},{"type":"message","user":"U0KPFAZNF","text":"right now this is not good...i would have -1 it if I had been paying close enough attention :wink:","ts":"1479668919.003301"},{"type":"message","user":"U0PB67X4K","text":"hang on folks  - we can't have every piece of config in the same file\n\nthis is not that hard - \n\nwe can have properties in core.yaml which specific the absolute paths to config files.  I think that's the best way to go.  You can always override those via environment variables when running unit tests","ts":"1479668930.003302"},{"type":"message","user":"U0KPFAZNF","text":"<@U0PB67X4K> not against multi files, but I still suggest a relative file default","ts":"1479668965.003303"},{"type":"message","user":"U0PB67X4K","text":"sure","ts":"1479668971.003304"},{"type":"message","user":"U0PB67X4K","text":"I concur with that","ts":"1479668977.003305"},{"type":"message","user":"U0KPFAZNF","text":"ROOT\/peer\/core.yaml, ROOT\/msp\/peer-config.json, etc","ts":"1479668983.003306"},{"type":"message","user":"U0KPFAZNF","text":"cool","ts":"1479668983.003307"},{"type":"message","user":"U0KPFAZNF","text":"I think that will be the most flexible","ts":"1479669031.003308"},{"type":"message","user":"U0KPFAZNF","text":"without being a PITA","ts":"1479669035.003309"},{"type":"message","user":"U0PB67X4K","text":"I always hated the use of GOPATH for file lookup.","ts":"1479669035.003310"},{"type":"message","user":"U0PB67X4K","text":"not sure who dreamed that one up  :wink:","ts":"1479669063.003311"},{"type":"message","user":"U0KPFAZNF","text":"yeah, I think CWD is a safer default","ts":"1479669064.003312"},{"type":"message","user":"U0KPFAZNF","text":"optionally CWD first, \/etc\/hyperledger\/fabric second, or overridden by a switch\/envvar","ts":"1479669098.003313"},{"type":"message","user":"U0ZR63HLK","text":"What's CWD? Sorry :(","ts":"1479669099.003314"},{"type":"message","user":"U0KPFAZNF","text":"current working dir","ts":"1479669107.003315"},{"type":"message","user":"U0ZR63HLK","text":"Thanks","ts":"1479669113.003316"},{"type":"message","user":"U0KPFAZNF","text":"so, who is going to put this in ?","ts":"1479669139.003317"},{"type":"message","user":"U0KPFAZNF","text":":wink:","ts":"1479669139.003318"},{"type":"message","user":"U0ULK2JPP","text":"I can unless <@U0ZR63HLK> wants to :slightly_smiling_face:","ts":"1479669153.003319"},{"type":"message","user":"U0ZR63HLK","text":"The MSP is fine with that. Only the code to load the config file has to be changed and that code is external to the MSP ","ts":"1479669162.003320"},{"type":"message","user":"U0ZR63HLK","text":"<@U0ULK2JPP>: please go ahead :)","ts":"1479669172.003321"},{"type":"message","user":"U0KPFAZNF","text":"cool, thanks all","ts":"1479669175.003322"},{"type":"message","user":"U0KPFAZNF","text":"i have to step away again","ts":"1479669178.003323"},{"type":"message","user":"U0ULK2JPP","text":"so use CWD ?","ts":"1479669185.003324"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP> I think all that needs to be done is perhaps enhance the current PEER_CFG_PATH thing","ts":"1479669205.003325"},{"type":"message","user":"U0KPFAZNF","text":"make it so the selected path is a globally accessible value","ts":"1479669214.003326"},{"type":"message","user":"U0KPFAZNF","text":"drive that with CWD by default, overridden by PEER_CFG_PATH, etc","ts":"1479669230.003327"},{"type":"message","user":"U0KPFAZNF","text":"and then make all the right places (core.yaml, msp\/peer-config.json, etc) use that global","ts":"1479669250.003328"},{"type":"message","user":"U0KPFAZNF","text":"something like that","ts":"1479669323.003329"},{"type":"message","user":"U0ULK2JPP","text":"how about we try this only for the current problem ?","ts":"1479669328.003330"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019m worried this will become a large excavation","ts":"1479669344.003331"},{"type":"message","user":"U0KPFAZNF","text":"if its at least coupled with PEER_CFG_PATH and core.yaml, that makes my life easier","ts":"1479669360.003332"},{"type":"message","user":"U0KPFAZNF","text":"but I also think this is going to be the only place","ts":"1479669368.003333"},{"type":"message","user":"U0KPFAZNF","text":"my docker images all worked earlier in the week","ts":"1479669377.003334"},{"type":"message","user":"U0KPFAZNF","text":"all of a sudden they went to hell after 2453","ts":"1479669386.003335"},{"type":"message","user":"U0KPFAZNF","text":"so, that implies that we only need core.yaml and peer-config.json","ts":"1479669414.003336"},{"type":"message","user":"U0KPFAZNF","text":"(unless msp added others)","ts":"1479669421.003337"},{"type":"message","user":"U0ULK2JPP","text":"sorry \u2026. I\u2019m likely dense :slightly_smiling_face: but why do we want to change core.yaml ?","ts":"1479669422.003338"},{"type":"message","user":"U0ULK2JPP","text":"if that was working before","ts":"1479669427.003339"},{"type":"message","user":"U0KPFAZNF","text":"no no, i mean integrate the solution for msp such that its cohesive with core\/PEER_CFG_PATH","ts":"1479669448.003340"},{"type":"message","user":"U0KPFAZNF","text":"not that there are any changes to core.yaml","ts":"1479669458.003341"},{"type":"message","user":"U0KPFAZNF","text":"i mean, dont create a one-off for MSP","ts":"1479669466.003342"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F352NDJHJ\/-.sh|Untitled> and commented: The ideal solution would more or less work with minimal changes to this Dockerfile","file":{"id":"F352NDJHJ","created":1479669557,"timestamp":1479669557,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0KPFAZNF","editable":true,"size":263,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F352NDJHJ\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F352NDJHJ\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F352NDJHJ\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F352NDJHJ-f3becf7a39","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F352NDJHJ\/-.sh\/edit","preview":"$ cat images\/peer\/Dockerfile.in\r\nFROM hyperledger\/fabric-baseimage:_BASE_TAG_\r\nENV PEER_CFG_PATH \/etc\/hyperledger\/fabric\r\nRUN mkdir -p \/var\/hyperledger\/db $PEER_CFG_PATH\r\nCOPY payload\/peer \/usr\/local\/bin\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-def\">$ cat<\/span> images\/peer\/Dockerfile.in<\/pre><\/div>\n<div><pre>FROM hyperledger\/fabric-baseimage:_BASE_TAG_<\/pre><\/div>\n<div><pre>ENV PEER_CFG_PATH \/etc\/hyperledger\/fabric<\/pre><\/div>\n<div><pre>RUN <span class=\"cm-builtin\">mkdir<\/span> <span class=\"cm-attribute\">-p<\/span> \/var\/hyperledger\/db <span class=\"cm-def\">$PEER_CFG_PATH<\/span><\/pre><\/div>\n<div><pre>COPY payload\/peer \/usr\/local\/bin<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":7,"lines_more":2,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc350EHY6N","created":1479669557,"timestamp":1479669557,"user":"U0KPFAZNF","is_intro":true,"comment":"The ideal solution would more or less work with minimal changes to this Dockerfile","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1479669558.003343"},{"type":"message","user":"U0KPFAZNF","text":"I think line 6 would change to COPY payload\/config.tar.bz $PEER_CFG_PATH","ts":"1479669583.003344"},{"type":"message","user":"U0KPFAZNF","text":"and thats it","ts":"1479669586.003345"},{"type":"message","user":"U0KPFAZNF","text":"I am open to other suggestions though","ts":"1479669594.003346"},{"type":"message","user":"U0KPFAZNF","text":"what I am getting at is, I would avoid having something orthogonal like MSP_CFG_PATH introduced","ts":"1479669676.003347"},{"type":"message","user":"U0KPFAZNF","text":"thats all","ts":"1479669677.003348"},{"type":"message","user":"U0KPFAZNF","text":"but I am open","edited":{"user":"U0KPFAZNF","ts":"1479669687.000000"},"ts":"1479669680.003349"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F34TVJ8E7\/pasted_image_at_2016_11_20_02_28_pm.png|Pasted image at 2016-11-20, 2:28 PM> and commented: where are we currently setting or using PEER_CFG_PATH ?","file":{"id":"F34TVJ8E7","created":1479670123,"timestamp":1479670123,"name":"Pasted image at 2016_11_20 02_28 PM.png","title":"Pasted image at 2016-11-20, 2:28 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":88032,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F34TVJ8E7\/pasted_image_at_2016_11_20_02_28_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F34TVJ8E7\/download\/pasted_image_at_2016_11_20_02_28_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F34TVJ8E7-170e547d01\/pasted_image_at_2016_11_20_02_28_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F34TVJ8E7-170e547d01\/pasted_image_at_2016_11_20_02_28_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F34TVJ8E7-170e547d01\/pasted_image_at_2016_11_20_02_28_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":104,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F34TVJ8E7-170e547d01\/pasted_image_at_2016_11_20_02_28_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":139,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F34TVJ8E7-170e547d01\/pasted_image_at_2016_11_20_02_28_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F34TVJ8E7-170e547d01\/pasted_image_at_2016_11_20_02_28_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":209,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F34TVJ8E7-170e547d01\/pasted_image_at_2016_11_20_02_28_pm_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":278,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F34TVJ8E7-170e547d01\/pasted_image_at_2016_11_20_02_28_pm_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":297,"image_exif_rotation":1,"original_w":1290,"original_h":374,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F34TVJ8E7\/pasted_image_at_2016_11_20_02_28_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F34TVJ8E7-4ab3ce2246","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc35LADP0E","created":1479670123,"timestamp":1479670123,"user":"U0ULK2JPP","is_intro":true,"comment":"where are we currently setting or using PEER_CFG_PATH ?","channel":""}},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1479670125.003351"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KPFAZNF> I see its used in your changeset","edited":{"user":"U0ULK2JPP","ts":"1479670865.000000"},"ts":"1479670851.003352"},{"type":"message","user":"U0KPFAZNF","text":"I use it in docker, for one","ts":"1479670867.003354"},{"type":"message","user":"U0KPFAZNF","text":"Right, otherwise I don't know if anyone uses it","ts":"1479670885.003355"},{"type":"message","user":"U0ULK2JPP","text":"understand now","ts":"1479670969.003356"},{"type":"message","user":"U0ULK2JPP","text":"sorry took me a while :slightly_smiling_face:","ts":"1479670979.003357"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KPFAZNF> how about this","ts":"1479671201.003358"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F350J5KM0\/pasted_image_at_2016_11_20_02_46_pm.png|Pasted image at 2016-11-20, 2:46 PM>","file":{"id":"F350J5KM0","created":1479671206,"timestamp":1479671206,"name":"Pasted image at 2016_11_20 02_46 PM.png","title":"Pasted image at 2016-11-20, 2:46 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":53392,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F350J5KM0\/pasted_image_at_2016_11_20_02_46_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F350J5KM0\/download\/pasted_image_at_2016_11_20_02_46_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F350J5KM0-2e31c4648b\/pasted_image_at_2016_11_20_02_46_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F350J5KM0-2e31c4648b\/pasted_image_at_2016_11_20_02_46_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F350J5KM0-2e31c4648b\/pasted_image_at_2016_11_20_02_46_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":47,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F350J5KM0-2e31c4648b\/pasted_image_at_2016_11_20_02_46_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":63,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F350J5KM0-2e31c4648b\/pasted_image_at_2016_11_20_02_46_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F350J5KM0-2e31c4648b\/pasted_image_at_2016_11_20_02_46_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":95,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F350J5KM0-2e31c4648b\/pasted_image_at_2016_11_20_02_46_pm_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":126,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F350J5KM0-2e31c4648b\/pasted_image_at_2016_11_20_02_46_pm_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":134,"image_exif_rotation":1,"original_w":1706,"original_h":224,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F350J5KM0\/pasted_image_at_2016_11_20_02_46_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F350J5KM0-58a3f630b7","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1479671208.003359"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F34A3HTTK\/pasted_image_at_2016_11_20_02_55_pm.png|Pasted image at 2016-11-20, 2:55 PM> and commented: or even safer <@U0KPFAZNF> \u2026","file":{"id":"F34A3HTTK","created":1479671732,"timestamp":1479671732,"name":"Pasted image at 2016_11_20 02_55 PM.png","title":"Pasted image at 2016-11-20, 2:55 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":69968,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F34A3HTTK\/pasted_image_at_2016_11_20_02_55_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F34A3HTTK\/download\/pasted_image_at_2016_11_20_02_55_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F34A3HTTK-32b7947cc5\/pasted_image_at_2016_11_20_02_55_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F34A3HTTK-32b7947cc5\/pasted_image_at_2016_11_20_02_55_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F34A3HTTK-32b7947cc5\/pasted_image_at_2016_11_20_02_55_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":59,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F34A3HTTK-32b7947cc5\/pasted_image_at_2016_11_20_02_55_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":78,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F34A3HTTK-32b7947cc5\/pasted_image_at_2016_11_20_02_55_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F34A3HTTK-32b7947cc5\/pasted_image_at_2016_11_20_02_55_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":117,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F34A3HTTK-32b7947cc5\/pasted_image_at_2016_11_20_02_55_pm_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":156,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F34A3HTTK-32b7947cc5\/pasted_image_at_2016_11_20_02_55_pm_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":167,"image_exif_rotation":1,"original_w":1732,"original_h":282,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F34A3HTTK\/pasted_image_at_2016_11_20_02_55_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F34A3HTTK-4089cac590","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc34A3HYNM","created":1479671732,"timestamp":1479671732,"user":"U0ULK2JPP","is_intro":true,"comment":"or even safer <@U0KPFAZNF> \u2026","channel":""}},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1479671735.003360"},{"type":"message","user":"U0ULK2JPP","text":"opened <https:\/\/jira.hyperledger.org\/browse\/FAB-1162>","ts":"1479672119.003361"},{"type":"message","user":"U0ULK2JPP","text":"will submit above fix against that for review","ts":"1479672142.003362"},{"type":"message","user":"U0ZJZBJLF","text":"Of course it has nothing to do with me, that's in a different package. What was the  issue though?","ts":"1479672335.003363"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0KPFAZNF> ","ts":"1479672348.003364"},{"type":"message","user":"U0ULK2JPP","text":"<@U0ZJZBJLF> I think <@U0KPFAZNF> had to step out for a bit\u2026 the problem was that anytime we assume full peer environment to be there (such as `os.Getenv(\"GOPATH\") + \"\/src\/github.com\/hyperledger\/fabric\/msp\/peer-config.json`) we prevent other environments that don\u2019t have the full fabric from working","ts":"1479672960.003365"},{"type":"message","user":"U0ULK2JPP","text":"GOPATH implies \u201cGO\u201d environment implies full fabric typically","ts":"1479673008.003366"},{"type":"message","user":"U0ULK2JPP","text":"we will follow other use of PEER_CFG_PATH to break that implied strong assoication with a full fabric path","ts":"1479673131.003367"},{"type":"message","user":"U0ZJZBJLF","text":"ok","ts":"1479673795.003368"},{"type":"message","user":"U0KPFAZNF","text":"Sorry <@U0ZJZBJLF> what I meant was that I confirmed it","ts":"1479674253.003369","reactions":[{"name":"+1","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"Just updating status","ts":"1479674279.003370"},{"type":"message","user":"U0KPFAZNF","text":"I know we more or less knew that, just closing it out","ts":"1479674305.003371"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP>: on mobile but fix looks good from here","ts":"1479674346.003372"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KPFAZNF> thanks. testing it . Will push it out soon","ts":"1479674389.003373"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KPFAZNF> <@U0PB67X4K> submitted <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2653>","ts":"1479679077.003374"},{"type":"message","user":"U2X9KDDL7","text":"I've dockerized a unit test from sdk\/node (with the peer running in network mode) and find that the peer leaves the chaincode docker container exited even after I quit the peer.  Is there something explicit I have to do to have it remove the exited chaincode container?","edited":{"user":"U2X9KDDL7","ts":"1479690254.000000"},"ts":"1479689859.003375"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP> seems to work fine...though there is one oddity","ts":"1479695198.003377"},{"type":"message","user":"U0KPFAZNF","text":"the core.yaml config treats PEER_CFG_PATH as relative to fabric.git\/peer whereas the peer-config.json treats it as relative to fabric.git\/","ts":"1479695254.003378"},{"type":"message","user":"U0KPFAZNF","text":"its not a huge deal, I worked around it in the Dockerfile by placing the files as \/etc\/hyperledger\/fabric\/core.yaml and \/etc\/hyperledger\/fabric\/msp\/peer-config.json","edited":{"user":"U0KPFAZNF","ts":"1479695320.000000"},"ts":"1479695312.003379"},{"type":"message","user":"U1X0KAHL1","text":"Hi ,\n\nWe are running fabric in prod mode which requires the git repo path at the time of chaincode deployment.\nCurrently we are unable to deploy the code from a private git repo. Is there a way around this? Could anybody please help on this issue?\n\nThanks","ts":"1479711709.003381"},{"type":"message","user":"U0PB67X4K","text":"<@U1X0KAHL1> - you can't deploy directly from a private git repo but you can deploy directly from a local machine using the SDK(s) and\/or the peer CLI.  Of course this means you must first clone the git repo locally (well at least onto a machine you have access to)","ts":"1479726751.003382"},{"type":"message","user":"U1X0KAHL1","text":"<@U0PB67X4K> Yes thanks I was able to deploy from a local path by attaching volumes in docker to contain the chaincode and deploying it from a local path.","ts":"1479727014.003383"},{"type":"message","user":"U0N4P17ND","text":"Hi, when I try to run `asset_managment02_test.go` locally I got the following error:\n```\n# <http:\/\/github.com\/hyperledger\/fabric\/vendor\/github.com\/tecbot\/gorocksdb|github.com\/hyperledger\/fabric\/vendor\/github.com\/tecbot\/gorocksdb>\n\n..\/..\/..\/..\/vendor\/github.com\/tecbot\/gorocksdb\/backup.go:4:24: fatal error: rocksdb\/c.h: No such file or directory\n\n \/\/ #include \"rocksdb\/c.h\"\n\n                        ^\n\ncompilation terminated.\n```\nI'm running on Ubuntu 16.04 and have not installed RocksDB - do I have to? What else could be missed? Is there any description exists how to run such tests...? Other tests work fine for me...","ts":"1479729828.003384"},{"type":"message","user":"U0N4P17ND","text":"I run test from ide and it is executed with the following command: `\/opt\/go\/go\/bin\/go test -v <http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/asset_management02|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/asset_management02> -bench . -run ^$`","ts":"1479729896.003385"},{"type":"message","user":"U0PB67X4K","text":"<@U0N4P17ND>  - yes - for `asset_management02` and `asset_management_with_roles` if you are going to run the tests you need to have RocksDB installed.  The tests for both of these start up an \"embedded\" instance of the peer in order for the test(s) to run. \n\nAre you running these in master or another branch?","ts":"1479730814.003386"},{"type":"message","user":"U0N4P17ND","text":"v06","ts":"1479730828.003387"},{"type":"message","user":"U0N4P17ND","text":"sorry for non specifying this","ts":"1479730841.003388"},{"type":"message","user":"U0N4P17ND","text":"should I add any env variables to the test execution? - if I downloaded and unpacked RocksDB under opt, then successfully run `make static_lib`... following <https:\/\/github.com\/facebook\/rocksdb\/blob\/master\/INSTALL.md>","attachments":[{"service_name":"GitHub","title":"facebook\/rocksdb","title_link":"https:\/\/github.com\/facebook\/rocksdb\/blob\/master\/INSTALL.md","text":"rocksdb - A library that provides an embeddable, persistent key-value store for fast storage.","fallback":"GitHub: facebook\/rocksdb","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/69631?v=3&s=400","from_url":"https:\/\/github.com\/facebook\/rocksdb\/blob\/master\/INSTALL.md","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1479733341.003389"},{"type":"message","user":"U0PB67X4K","text":"just make sure that you actually checkout the 4.1 tag and don't build the latest version","ts":"1479733640.003391"},{"type":"message","user":"U0N4P17ND","text":"ok, now have to uninstall.. but it have:\n`RUN cd \/opt  &amp;&amp; git clone --branch v4.1 --single-branch --depth 1 <https:\/\/github.com\/facebook\/rocksdb.git> &amp;&amp; cd rocksdb`","ts":"1479733795.003392"},{"type":"message","user":"U0N4P17ND","text":"is it a requirement to install it under \/opt? or can I install it under `\/opt\/hyperledger\/rocksdb` for example?","ts":"1479733838.003393"},{"type":"message","user":"U0PB67X4K","text":"no requirement where to install as long as it can be found","ts":"1479734094.003394"},{"type":"message","user":"U0PB67X4K","text":"so you might have to add it your LD_LIBRARY_PATH","ts":"1479734117.003395"},{"type":"message","user":"U0N4P17ND","text":"Now I got:\n```\nWait for some secs for OBCCA\n16:18:54.763 [ca] NewCA -&gt; INFO 001 Fresh start; creating databases, key pairs, and certificates.\nWait for some secs for VP\n16:18:56.764 [crypto] RegisterValidator -&gt; INFO 002 Registering validator [vp] with name [vp]...\n16:18:56.768 [crypto] Errorf -&gt; ERRO 003 [validator.vp] Failed requesting read certificate [rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure].\n16:18:56.768 [crypto] Errorf -&gt; ERRO 004 [validator.vp] Failed requesting ECA certificate [rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure].\n16:18:56.768 [crypto] Errorf -&gt; ERRO 005 [validator.vp] Failed getting ECA certificate [rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure].\n16:18:56.768 [crypto] Errorf -&gt; ERRO 006 [validator.vp] Failed retrieving ECA certs chain [rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure].\n2016\/11\/21 16:18:56 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 127.0.0.1:7054: getsockopt: connection refused\"; Reconnecting to {\"localhost:7054\" &lt;nil&gt;}\n2016\/11\/21 16:18:56 Failed to dial localhost:7054: grpc: the connection is closing; please retry.\n16:18:56.768 [crypto] Errorf -&gt; ERRO 007 [validator.vp] Failed registering node crypto engine [rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure].\n16:18:56.768 [crypto] Errorf -&gt; ERRO 008 [validator.vp] Failed registering peer [vp]: [rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure]\n16:18:56.768 [crypto] Errorf -&gt; ERRO 009 [validator.vp] Failed registering [vp]: [rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure]\n16:18:56.768 [crypto] RegisterValidator -&gt; ERRO 00a Failed registering validator [vp] with name [vp] [rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure].\npanic: rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure\n\ngoroutine 25 [running]:\npanic(0xb02100, 0xc42037c700)\n        \/opt\/go\/go\/src\/runtime\/panic.go:500 +0x1a1\n<http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/asset_management02.initVP()|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/asset_management02.initVP()>\n        \/home\/oleg\/Development\/Go\/src\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/asset_management02\/asset_management02_test.go:608 +0x541\ncreated by <http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/asset_management02.TestMain|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/asset_management02.TestMain>\n        \/home\/oleg\/Development\/Go\/src\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/asset_management02\/asset_management02_test.go:75 +0xfd\nexit status 2\nFAIL    <http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/asset_management02|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/asset_management02>  2.034s\n```\nI'm exporting:\n`export LD_LIBRARY_PATH=\/opt\/rocksdb:$LD_LIBRARY_PATH`\nand running as:\n`CGO_CFLAGS=\"-I\/opt\/rocksdb\/include\" CGO_LDFLAGS=\"-L\/opt\/rocksdb -lrocksdb -lstdc++ -lm -lz -lbz2 -lsnappy\" go test `","ts":"1479738135.003396"},{"type":"message","user":"U0N4P17ND","text":"so just what I try to achieve is to test the code, which uses `ok, err := stub.InsertRow(...)` and when I use mock `stub := shim.NewMockStub` insertRow fails - I guess it is not mocked. Any option to test it without running peers and so on?","ts":"1479738582.003397"},{"type":"message","user":"U0N4P17ND","text":"ah yes...:\n```\n\/\/ Not implemented\nfunc (stub *MockStub) InsertRow(tableName string, row Row) (bool, error) {\n\treturn false, nil\n}\n```","ts":"1479739105.003398"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KPFAZNF> `the core.yaml config treats PEER_CFG_PATH as relative to fabric.git\/peer whereas the peer-config.json treats it as relative to fabric.git\/` \u2026. right. Seemed more natural for PEER_CFG_PATH to point to a \u201ccore\u201d root than `peer` as there are other dirs whose config may belong outside of `peer`","ts":"1479740994.003399"},{"type":"message","user":"U0ULK2JPP","text":"(a bit late with the ^^^ observation :slightly_smiling_face: \u2026apologize)","ts":"1479741023.003400"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP> after thinking about it some more, things might be optimal as they are","ts":"1479741490.003401"},{"type":"message","user":"U0KPFAZNF","text":"its a little awkward that the topology is different if you are using PEER_CFG_PATH vs GOPATH, but in some ways this makes sense","ts":"1479741523.003402"},{"type":"message","user":"U0KPFAZNF","text":"e.g. what makes sense from a config topology (PEER_CFG_PATH) might not make sense from a code topology (GOPATH)","ts":"1479741547.003403"},{"type":"message","user":"U0KPFAZNF","text":"the asymmetry initially bothered my sensibilities, but after more thought, perhaps we just leave it","ts":"1479741596.003404"},{"type":"message","user":"U0KPFAZNF","text":"for instance, we dont want to propose peer\/core.yaml should be moved to ..\/ because then its confusing between peer and orderer","ts":"1479741648.003405"},{"type":"message","user":"U0KPFAZNF","text":"and likewise, we probably dont want to propose to move .\/msp to .\/peer\/msp, because that might not be appropriate","ts":"1479741668.003406"},{"type":"message","user":"U0KPFAZNF","text":"thoughts?","ts":"1479741679.003407"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KPFAZNF> right, that\u2019s exactly my thoughts too. Makes sense to have PEER_CFG_PATH be a \u201croot\u201d path of which any other config params such as for `peer` or `msp` .. and others in in future... to hang off ?","edited":{"user":"U0ULK2JPP","ts":"1479741966.000000"},"ts":"1479741941.003408"},{"type":"message","user":"U0KPFAZNF","text":"ok, but note its not _quite_ like that today","ts":"1479742084.003410"},{"type":"message","user":"U0KPFAZNF","text":"we could fix this","ts":"1479742086.003411"},{"type":"message","user":"U0KPFAZNF","text":"the code currently assumes the core.yaml will be found at $PEER_CFG_PATH\/core.yaml","ts":"1479742110.003412"},{"type":"message","user":"U0KPFAZNF","text":"do we want to change this so its $PEER_CFG_PATH\/peer\/core.yaml ?","ts":"1479742125.003413"},{"type":"message","user":"U0KPFAZNF","text":"that would provide asymmetry","ts":"1479742144.003414"},{"type":"message","user":"U0ULK2JPP","text":"right","ts":"1479742372.003415"},{"type":"message","user":"U0ULK2JPP","text":"I think that\u2019s better. I assume the workaround you used was to create msp under peer ?","ts":"1479742418.003416"},{"type":"message","user":"U0ULK2JPP","text":"but yes I think `$PEER_CFG_PATH\/peer\/core.yaml` sounds right to me","ts":"1479742457.003417"},{"type":"message","user":"U0XR6J961","text":"yey CI failures","ts":"1479742755.003418"},{"type":"message","user":"U0XR6J961","text":"something in chaincode","ts":"1479742770.003419"},{"type":"message","user":"U11HH3P7Y","text":"observed same in vagrant too.. <https:\/\/jenkins.hyperledger.org\/view\/fabric\/job\/fabric-merge-x86_64\/428\/console>","ts":"1479743809.003420"},{"type":"message","user":"U26T99AQ4","text":"I think it's related to the fact that they take too long\n```\ntest timed out after 20m0s\n```","ts":"1479745595.003421"},{"type":"message","user":"U0ULK2JPP","text":"<@U11HH3P7Y> can you try it on your vagrant now ? wonder if its a network thing","ts":"1479745703.003422"},{"type":"message","user":"U11HH3P7Y","text":"seems it's working now in CI (Jenkins).. <@U0ULK2JPP> will re-run tests in vagrant","ts":"1479745965.003423"},{"type":"message","user":"U0UGH3X7X","text":"what changed with the build of hyperledger\/fabric-orderer ?  orderer.yaml is in `etc\/hyperledger\/fabric`  which is not one of the paths that orderer searches for its config file   ...","ts":"1479747852.003424"},{"type":"message","user":"U0UGH3X7X","text":"I can fix this easily enough in the orderer code but is there some other work going on that fixes this ?","ts":"1479747898.003425"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UGH3X7X> sounds like the work I am doing","ts":"1479752225.003426"},{"type":"message","user":"U0KPFAZNF","text":"I did notice that both orderer and membersrvc (when it existed) were weak w.r.t. config path...so in the case of those components, I worked around it with a WORKDIR specification","ts":"1479752271.003427"},{"type":"message","user":"U0KPFAZNF","text":"You can see that reflected here: <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/images\/orderer\/Dockerfile.in>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/images\/orderer\/Dockerfile.in","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/images\/orderer\/Dockerfile.in","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1479752320.003428"},{"type":"message","user":"U0KPFAZNF","text":"see line 5","ts":"1479752332.003430"},{"type":"message","user":"U0KPFAZNF","text":"I would welcome a \"PEER_CFG_PATH\" type mod to orderer so I dont need to hack the WORKDIR anymore","ts":"1479752355.003431"},{"type":"message","user":"U0UGH3X7X","text":"interesting ... if i go into the orderer container via `docker exec -it \/bin\/bash` and start the orderer then the code finds the yaml file just fine","ts":"1479752793.003432"},{"type":"message","user":"U0UGH3X7X","text":"but if I start via the bddtests `docker-compose -f docker-compose-orderer-solo.yml up` then orderer does not find the yaml file","ts":"1479752871.003433"},{"type":"message","user":"U0UGH3X7X","text":"I can look at peer_cfg_path  ... can you point me to the changeset ?","ts":"1479752925.003434"},{"user":"U2SN3M334","text":"<@U2SN3M334|jamesjong> has joined the channel","type":"message","subtype":"channel_join","ts":"1479756333.003435"},{"type":"message","user":"U0KPFAZNF","text":"Check for any WORKDIR statements in the compose files bdd is using","ts":"1479756609.003436"},{"type":"message","user":"U0UGH3X7X","text":"<@U0KPFAZNF>   ... <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2693\/>","ts":"1479757114.003437"},{"type":"message","user":"U0KPFAZNF","text":"Looks good from the phone. I'll review fully when back at my desk","ts":"1479757458.003438"},{"type":"message","user":"U2TD4Q7NW","text":"ghaskins got peer working on a centos based fabric base image","ts":"1479761729.003439"},{"type":"message","user":"U0KPFAZNF","text":"cool","ts":"1479761741.003440"},{"type":"message","user":"U2TD4Q7NW","text":"easier than I expected once I got a day to work on it and had any idea what I was doing","ts":"1479761745.003441"},{"type":"message","user":"U0KPFAZNF","text":"yeah, its not too bad on modern distro","ts":"1479761760.003442"},{"type":"message","user":"U0KPFAZNF","text":"biggest PITA is usually rocksdb","ts":"1479761769.003443"},{"type":"message","user":"U2TD4Q7NW","text":"ghaskins the bash used for rocksdb setup in the baseimage automaton worked fine no tweaking at all","ts":"1479761796.003444"},{"type":"message","user":"U0KPFAZNF","text":"cool","ts":"1479761804.003445"},{"type":"message","user":"U2TD4Q7NW","text":"all I did there was convert apt to yum and a few other bits","ts":"1479761805.003446"},{"type":"message","user":"U0KPFAZNF","text":"yep, makes sense","ts":"1479761815.003447"},{"type":"message","user":"U2TD4Q7NW","text":"<https:\/\/github.com\/jkilpatr\/fabric-baseimage\/commit\/d46d3c962c7d90664ac5f06ca5e51f028b09042f>","ts":"1479761844.003448"},{"type":"message","user":"U2TD4Q7NW","text":"that's really it for the base image, then peer is just a library path added to its docker file env. Other components are in progress but probably going to be slow,  don't get much time for hyperledger.","ts":"1479761889.003449"},{"type":"message","user":"U2TD4Q7NW","text":"how would you like me to structure multi os support in this tooling if I contributed it upstream?","ts":"1479761930.003450"},{"type":"message","user":"U0KPFAZNF","text":"im not sure, id have to think about whether it makes sense to do it this way","ts":"1479761988.003451"},{"type":"message","user":"U0KPFAZNF","text":"btw: it looks like you had an overzealous s\/-j\/-j24 conversion :wink:","ts":"1479762005.003452"},{"type":"message","user":"U0KPFAZNF","text":"let me give it some thought","ts":"1479762018.003453"},{"type":"message","user":"U2TD4Q7NW","text":"building rocksdb is annoying, moved it to a machine with more POWA","ts":"1479762131.003454"},{"user":"U2XARBG3Y","text":"<@U2XARBG3Y|as93717913> has joined the channel","type":"message","subtype":"channel_join","ts":"1479786772.003455"},{"type":"message","user":"U35A8J495","text":"Hey again, I asked about implementing fabric onto a Raspberry Pi a couple of days ago, and ghaskins suggested I build support for the ARM architechture. Would anyone know where I could start in the development of this? Thank you","ts":"1479793186.003456"},{"type":"message","user":"U0XR6J961","text":"so why is nobody fixing the test failures?","ts":"1479809539.003457"},{"type":"message","user":"U0XR6J961","text":"for days or weeks there are pieces in the code that fail","ts":"1479809553.003458"},{"type":"message","user":"U11MANG9G","text":"<@U0XR6J961>: weeks :disappointed:","ts":"1479810425.003459"},{"type":"message","user":"U0XR6J961","text":"so either change gerrit so that failures don't block merges","ts":"1479810459.003460"},{"type":"message","user":"U0XR6J961","text":"or fix your failing tests","ts":"1479810468.003461"},{"type":"message","user":"U11MANG9G","text":"Yup. We should not merge anything to a broken `branch`. If you ask me.","ts":"1479810489.003462"},{"type":"message","user":"U11MANG9G","text":"We can define broken as any build failing.","ts":"1479810512.003463"},{"type":"message","user":"U0XR6J961","text":"no that's not the problem","ts":"1479810518.003464"},{"type":"message","user":"U0XR6J961","text":"fix your broken tests","ts":"1479810522.003465"},{"type":"message","user":"U0XR6J961","text":"have some responsibility for your own code","ts":"1479810540.003466"},{"type":"message","user":"U11MANG9G","text":"Amen to that. That\u2019s if we assume\/expect each and every contributor to proactively support his stuff.","ts":"1479810576.003467"},{"type":"message","user":"U11MANG9G","text":"I\u2019m trying to also think of what we can do, to prevent such ongoing cases of broken or even needing to support \u201cthem non-deterministic tests\u201d, if you recall.","ts":"1479810613.003468"},{"type":"message","user":"U11MANG9G","text":"We should probably complement your suggestion with a policy for the \u201ccode guards\u201d.","ts":"1479810645.003469"},{"type":"message","user":"U0XR6J961","text":"well, i spent half a year to rewrite the code so that the tests can be deterministic","ts":"1479810649.003470"},{"type":"message","user":"U11MANG9G","text":"I know, I know!","ts":"1479810657.003471"},{"type":"message","user":"U11MANG9G","text":"If you recall we have a few branches that would not build in October and in September.","ts":"1479810689.003472"},{"type":"message","user":"U11MANG9G","text":"At some point, I felt like \u201creverting\u201d offending code\u2026 but then we started all converging back to master, so most of these got addressed. Most, I have to say.","ts":"1479810737.003473"},{"type":"message","user":"U11MANG9G","text":"It\u2019s still painful (especially as some of these tests are so slowwwwwww)","ts":"1479810810.003474"},{"type":"message","user":"U0ZJZBJLF","text":"Right now CI is broken","ts":"1479810886.003475"},{"type":"message","user":"U0ZJZBJLF","text":"I think the CI minions are dead or something, I tagged people in <#C0YMWRX19|ci-pipeline>","edited":{"user":"U0ZJZBJLF","ts":"1479810928.000000"},"ts":"1479810920.003476"},{"type":"message","user":"U0XR6J961","text":"yacovm: there is a problem in gossip","ts":"1479810980.003478"},{"type":"message","user":"U0ZJZBJLF","text":"what problem?","ts":"1479810988.003479"},{"type":"message","user":"U0XR6J961","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/3061\/console>","ts":"1479810993.003480"},{"type":"message","user":"U0ZJZBJLF","text":"Do you know if there is a way to access the code of the test there? It doesn't look up to date <@U0XR6J961>","ts":"1479811218.003481"},{"type":"message","user":"U0XR6J961","text":"i don't know","ts":"1479811238.003482"},{"type":"message","user":"U0XR6J961","text":"what do you mean, up to date","ts":"1479811244.003483"},{"type":"message","user":"U0ZJZBJLF","text":"I mean- that stack trace is a symptom of code that I fixed","ts":"1479811275.003484"},{"type":"message","user":"U0ZJZBJLF","text":"I remember the very line numbers","ts":"1479811285.003485","reactions":[{"name":"muscle","users":["U11MANG9G"],"count":1},{"name":"wink","users":["U11MANG9G"],"count":1}]},{"type":"message","user":"U0ZJZBJLF","text":"and the error (send on closed channel) should not be received because that channel doesn't close now","ts":"1479811351.003486"},{"type":"message","user":"U0ZJZBJLF","text":"I submitted the PR that fixes it myself","ts":"1479811359.003487"},{"type":"message","user":"U11MANG9G","text":"Yes, I remember that.","ts":"1479811366.003488"},{"type":"message","user":"U0XR6J961","text":"when has that been merged?","ts":"1479811368.003489"},{"type":"message","user":"U11MANG9G","text":"Yup","ts":"1479811371.003490"},{"type":"message","user":"U0ZJZBJLF","text":"last week,","ts":"1479811376.003491"},{"type":"message","user":"U0ZJZBJLF","text":"I think?","ts":"1479811389.003492"},{"type":"message","user":"U11MANG9G","text":"Indeed.","ts":"1479811396.003493"},{"type":"message","user":"U0XR6J961","text":"wat","ts":"1479811429.003494"},{"type":"message","user":"U0XR6J961","text":"i did rebases","ts":"1479811436.003495"},{"type":"message","user":"U0ZJZBJLF","text":"I think CI is acting weird, Ramesh opened a JIRA issue to me this sunday about a test failing in gossip, and this test was commented out by a PR of mine- so it should never have failed in Ramesh's CI job because, well... it was commented out in master.","edited":{"user":"U0ZJZBJLF","ts":"1479811687.000000"},"ts":"1479811470.003496"},{"type":"message","user":"U0ZJZBJLF","text":"(remember that time last week you submitted ?BFT and complained that the tests fail? I submitted a PR that comments the faulty tests on that very day <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2575\/)>","ts":"1479811527.003497"},{"type":"message","user":"U0ZJZBJLF","text":"oh found it","ts":"1479811613.003498"},{"type":"message","user":"U0ZJZBJLF","text":"this failure you just showed, was supposed to be fixed by: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2505\/>","ts":"1479811628.003499"},{"type":"message","user":"U0ZJZBJLF","text":"Look here:  <https:\/\/jira.hyperledger.org\/browse\/FAB-1158>\n<@U0XR6J961>","edited":{"user":"U0ZJZBJLF","ts":"1479811844.000000"},"ts":"1479811836.003501"},{"type":"message","user":"U0XR6J961","text":"then something in the gerrit rebase didn't work","ts":"1479812324.003505"},{"type":"message","user":"U1HFNJB50","text":"something doesn\u2019t make sense for me, since in trace here: <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/3061\/console>","ts":"1479812720.003506"},{"type":"message","user":"U1HFNJB50","text":"```11:45:28 \n11:45:28 goroutine 606 [running]:\n11:45:28 panic(0x961460, 0xc421390c60)\n11:45:28 \t\/opt\/go\/go1.7.linux.amd64\/src\/runtime\/panic.go:500 +0x1a1\n11:45:28 <http:\/\/github.com\/hyperledger\/fabric\/gossip\/state.waitUntilTrueOrTimeout.func1(0xc420a8e4d8|github.com\/hyperledger\/fabric\/gossip\/state.waitUntilTrueOrTimeout.func1(0xc420a8e4d8>, 0xc420a8e710, 0xc42136ac00)\n11:45:28 \t\/w\/workspace\/fabric-verify-x86_64\/gopath\/src\/github.com\/hyperledger\/fabric\/gossip\/state\/state_test.go:334 +0x216\n11:45:28 created by <http:\/\/github.com\/hyperledger\/fabric\/gossip\/state.waitUntilTrueOrTimeout|github.com\/hyperledger\/fabric\/gossip\/state.waitUntilTrueOrTimeout>\n11:45:28 \t\/w\/workspace\/fabric-verify-x86_64\/gopath\/src\/github.com\/hyperledger\/fabric\/gossip\/state\/state_test.go:338 +0xd0\n11:45:28 FAIL\t<http:\/\/github.com\/hyperledger\/fabric\/gossip\/state|github.com\/hyperledger\/fabric\/gossip\/state>\t56.359s\n11:45:28 error: exit status 1\n11:45:28 panic: EOF```","ts":"1479812730.003507"},{"type":"message","user":"U0XR6J961","text":"well allegedly it is fixed","ts":"1479812748.003508"},{"type":"message","user":"U1HFNJB50","text":"it refers to lines which doesn\u2019t really exists","ts":"1479812749.003509"},{"type":"message","user":"U0XR6J961","text":"different code","ts":"1479812763.003510"},{"type":"message","subtype":"file_share","text":"<@U1HFNJB50|c0rwin> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/c0rwin\/F350N9TC0\/pasted_image_at_2016_11_22_01_06_pm.png|Pasted image at 2016-11-22, 1:06 PM>","file":{"id":"F350N9TC0","created":1479812771,"timestamp":1479812771,"name":"Pasted image at 2016_11_22 01_06 PM.png","title":"Pasted image at 2016-11-22, 1:06 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U1HFNJB50","editable":false,"size":119449,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F350N9TC0\/pasted_image_at_2016_11_22_01_06_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F350N9TC0\/download\/pasted_image_at_2016_11_22_01_06_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F350N9TC0-77cc13fe11\/pasted_image_at_2016_11_22_01_06_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F350N9TC0-77cc13fe11\/pasted_image_at_2016_11_22_01_06_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F350N9TC0-77cc13fe11\/pasted_image_at_2016_11_22_01_06_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":145,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F350N9TC0-77cc13fe11\/pasted_image_at_2016_11_22_01_06_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":193,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F350N9TC0-77cc13fe11\/pasted_image_at_2016_11_22_01_06_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F350N9TC0-77cc13fe11\/pasted_image_at_2016_11_22_01_06_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":290,"image_exif_rotation":1,"original_w":898,"original_h":362,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/c0rwin\/F350N9TC0\/pasted_image_at_2016_11_22_01_06_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F350N9TC0-b01e4c905d","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U1HFNJB50","upload":true,"display_as_bot":false,"username":"<@U1HFNJB50|c0rwin>","bot_id":null,"ts":"1479812773.003511"},{"type":"message","user":"U1HFNJB50","text":"different code? how?","ts":"1479812784.003512"},{"type":"message","user":"U1HFNJB50","text":"didn\u2019t you rebased?","ts":"1479812792.003513"},{"type":"message","user":"U0ZJZBJLF","text":"That's what I'm saying. The code that was running in jenkins is different than the real code","ts":"1479812809.003514"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0XR6J961>  can you verify my PRs too? :wink:","ts":"1479815866.003515"},{"type":"message","user":"U0XR6J961","text":"what do you mean","ts":"1479815879.003516"},{"type":"message","user":"U0ZJZBJLF","text":"Jenkins is broken","ts":"1479815906.003517"},{"type":"message","user":"U0ZJZBJLF","text":"so I see you're +1 in its stead?","ts":"1479815921.003518"},{"type":"message","user":"U0XR6J961","text":"well, you can +1 yours as well","ts":"1479816001.003519"},{"type":"message","user":"U0ZJZBJLF","text":"Instead of jenkins?","ts":"1479816010.003520"},{"type":"message","user":"U0XR6J961","text":"in addition","ts":"1479816032.003521"},{"type":"message","user":"U0ZJZBJLF","text":"I'm simply trying to say- how are your PRs merged now when Jenkins is broken?","ts":"1479816056.003522"},{"type":"message","user":"U0ZJZBJLF","text":"Isn't it risky?","ts":"1479816067.003523"},{"type":"message","user":"U1HFNJB50","text":"isn\u2019t that a requirement to pass CI blessing before anyone can actually +2 and merge CR? :face_with_rolling_eyes:","ts":"1479816091.003524","reactions":[{"name":"+1","users":["U11MANG9G"],"count":1}]},{"type":"message","user":"U0ZJZBJLF","text":"Yeah, this :arrow_up:","ts":"1479816113.003525"},{"type":"message","user":"U0XR6J961","text":"why?","ts":"1479816154.003526"},{"type":"message","user":"U0XR6J961","text":"+2 is a different dimension from verify","ts":"1479816161.003527"},{"type":"message","user":"U11MANG9G","text":"I believe we should not merge things when the build is broken.","ts":"1479816176.003528","reactions":[{"name":"+1","users":["U1HFNJB50"],"count":1}]},{"type":"message","user":"U11MANG9G","text":"(whether it is the code or the CI)","ts":"1479816183.003529"},{"type":"message","user":"U0XR6J961","text":"i agree","ts":"1479816188.003530"},{"type":"message","user":"U0XR6J961","text":"we also shouldn't write any code","ts":"1479816196.003531"},{"type":"message","user":"U11MANG9G","text":"We did it manually for v0.6, because we did not have a choice.","ts":"1479816198.003532"},{"type":"message","user":"U0XR6J961","text":"except for fixing the bug","ts":"1479816202.003533"},{"type":"message","user":"U11MANG9G","text":"WDYM?","ts":"1479816222.003534"},{"type":"message","user":"U11MANG9G","text":"People can submit PRs, etc\u2026 but usually it is difficult to later on find out what\u2019s going on.","ts":"1479816247.003535"},{"type":"message","user":"U11MANG9G","text":"(Again, on average, in the long run - it is not good practice)","ts":"1479816260.003536"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1479816260.003537"},{"type":"message","user":"U0XR6J961","text":"but as a concept","ts":"1479816264.003538"},{"type":"message","user":"U0XR6J961","text":"stuff is broken - stop everything, fix what is broken","ts":"1479816273.003539"},{"type":"message","user":"U0ZJZBJLF","text":"So how are <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2565\/> and <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2561\/> merged then?","ts":"1479816290.003540"},{"type":"message","user":"U1HFNJB50","text":"how +2 is a different dimension from CI verification? no one is expected to merge staff before it actually got verified","ts":"1479816296.003541"},{"type":"message","user":"U11MANG9G","text":"<@U0ZJZBJLF> I didn\u2019t say that we practice\/enforce that policy\/concept religiously.","ts":"1479816354.003542"},{"type":"message","user":"U11MANG9G","text":"I\u2019m trying to reach a consensus and possibly change the policy going forward (the more \u201cstable\u201d master gets)","ts":"1479816377.003543"},{"type":"message","user":"U11MANG9G","text":"[As a follow up to Simon\u2019s comments about tests\/branch being broken for a while]","ts":"1479816407.003544"},{"type":"message","user":"U1HFNJB50","text":"if you one can override +1 verification step w\/ +2, so what is the point in CI?","ts":"1479816421.003545"},{"type":"message","user":"U0XR6J961","text":"you cannot","ts":"1479816476.003546"},{"type":"message","user":"U11MANG9G","text":"<@U1HFNJB50>: good point. I was happy to override the verification step, say, when someone has changed a README file (after I have been a pain for a few iterations, and they really need the latest merged]","ts":"1479816489.003547"},{"type":"message","user":"U11MANG9G","text":"But we should not (really) do so either.","ts":"1479816501.003548"},{"type":"message","user":"U0XR6J961","text":"this project is full of process","ts":"1479816516.003549"},{"type":"message","user":"U0XR6J961","text":"and process quells responsibility","ts":"1479816526.003550"},{"type":"message","user":"U11MANG9G","text":"<@U1HFNJB50> has a point, and I agree with <@U0XR6J961> (I, too, expect contributors to take care of their code\/tests when stuff is broken!)","ts":"1479816697.003551"},{"type":"message","subtype":"file_share","text":"<@U0ZJZBJLF|yacovm> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F351EF33J\/capture.png|Capture.PNG>","file":{"id":"F351EF33J","created":1479816722,"timestamp":1479816722,"name":"Capture.PNG","title":"Capture.PNG","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ZJZBJLF","editable":false,"size":32829,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F351EF33J\/capture.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F351EF33J\/download\/capture.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F351EF33J-7d05928aff\/capture_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F351EF33J-7d05928aff\/capture_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F351EF33J-7d05928aff\/capture_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":255,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F351EF33J-7d05928aff\/capture_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":339,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F351EF33J-7d05928aff\/capture_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","image_exif_rotation":1,"original_w":488,"original_h":345,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F351EF33J\/capture.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F351EF33J-aa60d26e45","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0ZJZBJLF","upload":true,"display_as_bot":false,"username":"<@U0ZJZBJLF|yacovm>","bot_id":null,"ts":"1479816724.003552"},{"type":"message","user":"U0ZJZBJLF","text":"What do you mean you cannot? You just did :arrow_up:","edited":{"user":"U0ZJZBJLF","ts":"1479816794.000000"},"ts":"1479816733.003553"},{"type":"message","user":"U0XR6J961","text":"how is that overriding?","ts":"1479816734.003554"},{"type":"message","user":"U0XR6J961","text":"the +2 does not override the verified","ts":"1479816745.003555"},{"type":"message","user":"U0XR6J961","text":"the code review is independent of the verified","ts":"1479816761.003556"},{"type":"message","user":"U11MANG9G","text":"I believe we need to strike the right balance between working under the `incubation` status - where we are OK with a few of us being `cowboys` at times.","ts":"1479816789.003557"},{"type":"message","user":"U11MANG9G","text":"I believe it\u2019s a matter of what makes the code better.","ts":"1479816811.003559"},{"type":"message","user":"U1HFNJB50","text":"but how that possible that one could +1 instead of CI and got CR merged?","ts":"1479816815.003560"},{"type":"message","user":"U11MANG9G","text":"Too restrictive, will be a problem. Too lenient will keep the mess.","ts":"1479816827.003561"},{"type":"message","user":"U0XR6J961","text":"well i run the code locally, test passes, therefore i can +1 verified it","ts":"1479816838.003562"},{"type":"message","user":"U1HFNJB50","text":"Oh","ts":"1479816844.003563"},{"type":"message","user":"U1HFNJB50","text":"So my tests also runs locally","ts":"1479816854.003564"},{"type":"message","user":"U11MANG9G","text":"<@U1HFNJB50> Oh, that\u2019s what you are asking. Yes, physically, we `can` do it.","ts":"1479816856.003565"},{"type":"message","user":"U0ZJZBJLF","text":"who is we?","ts":"1479816867.003566"},{"type":"message","user":"U0ZJZBJLF","text":"I don't think I can","ts":"1479816870.003567"},{"type":"message","user":"U0XR6J961","text":"you're not a maintainer then","ts":"1479816885.003568"},{"type":"message","user":"U0ZJZBJLF","text":"aha!","ts":"1479816888.003569"},{"type":"message","user":"U1HFNJB50","text":"but there is definitely something wrong with them on CI and this is the reason we commented them out to take closer look","ts":"1479816905.003570"},{"type":"message","user":"U0XR6J961","text":"them who?","ts":"1479816916.003571"},{"type":"message","user":"U1HFNJB50","text":"them == my gossip state tests","edited":{"user":"U1HFNJB50","ts":"1479816945.000000"},"ts":"1479816936.003572"},{"type":"message","user":"U0XR6J961","text":"ah no, i'm talking about my tests","ts":"1479816949.003574"},{"type":"message","user":"U0XR6J961","text":"that's the whole thing, that existing tests fail","ts":"1479816962.003575"},{"type":"message","user":"U1HFNJB50","text":"I understand","ts":"1479816962.003576"},{"type":"message","user":"U1HFNJB50","text":"and my point","ts":"1479816965.003577"},{"type":"message","user":"U1HFNJB50","text":"is that indication of your tests passed on you laptop has nothing to do w\/ CI","ts":"1479816988.003578"},{"type":"message","user":"U1HFNJB50","text":"and not an indication for real","ts":"1479817001.003579"},{"type":"message","user":"U0ZJZBJLF","text":"yeah, maybe (for example) you have a really strong laptop with SSD and tests that may pass locally will fail on CI","ts":"1479817018.003580"},{"type":"message","user":"U0XR6J961","text":"well clearly CI tests passing doesn't indicate anything either","ts":"1479817032.003581"},{"type":"message","user":"U0XR6J961","text":"because one time CI passes, another time it fails","ts":"1479817046.003582"},{"type":"message","user":"U1HFNJB50","text":"it\u2019s more reliable than you local setup","ts":"1479817057.003583"},{"type":"message","user":"U0XR6J961","text":"clearly not","ts":"1479817064.003584"},{"type":"message","user":"U1HFNJB50","text":"k","ts":"1479817068.003585"},{"type":"message","user":"U0XR6J961","text":"how come broken code\/tests made it into the repo?","ts":"1479817078.003586"},{"type":"message","user":"U0ZJZBJLF","text":"The tests are not reliable, not the CI, unless the CI fails with a java jenkins strack trace","ts":"1479817082.003587"},{"type":"message","user":"U0ZJZBJLF","text":"And if tests are unreliable they just need to be fixed or commented out and polished locally and then returned to the master branch","ts":"1479817519.003588"},{"type":"message","user":"U11MANG9G","text":"","attachments":[{"fallback":"[November 22nd, 2016 4:13 AM] jonathanlevi: I believe we need to strike the right balance between working under the `incubation` status - where we are OK with a few of us being `cowboys` at times.","ts":"1479816789.003557","author_subname":"jonathanlevi","channel_id":"C0YPYBVJM","channel_name":"fabric-dev","is_msg_unfurl":true,"text":"I believe we need to strike the right balance between working under the `incubation` status - where we are OK with a few of us being `cowboys` at times.","author_name":"Jonathan Levi","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/jonathanlevi","author_icon":"https:\/\/avatars.slack-edge.com\/2016-09-06\/76710770455_2316fc867e622c8f0008_48.jpg","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev\/p1479816789003557","is_share":true,"footer":"Posted in #fabric-dev"}],"ts":"1479817606.003589"},{"type":"message","user":"U11MANG9G","text":"If you guys want, we can put together a proposal for a more strict process.","ts":"1479817633.003590"},{"type":"message","user":"U11MANG9G","text":"That is, if we all agree that the CI results \u201coverrules\u201d everything - then in case of an issue, we stop everything and fix it.","ts":"1479817672.003591"},{"type":"message","user":"U11MANG9G","text":"But as long as we have flaky tests (in any part of the project), it is very difficult to enforce a\/such policy.","ts":"1479817713.003592"},{"type":"message","user":"U11MANG9G","text":"That\u2019s why some of us\/we (<@U0ZJZBJLF>: we == the maintainers) sometimes allow stuff into the branch, without triple-checking it.","ts":"1479817776.003593"},{"type":"message","user":"U0XR6J961","text":"please no automatic enforcement","edited":{"user":"U0XR6J961","ts":"1479817788.000000"},"ts":"1479817779.003594"},{"type":"message","user":"U11MANG9G","text":"Yes, <@U0XR6J961>, I hear you.","ts":"1479817794.003596"},{"type":"message","user":"U0XR6J961","text":"it just allows you to be sloppy","ts":"1479817796.003597"},{"type":"message","user":"U11MANG9G","text":"But I also understand where <@U1HFNJB50> is coming from\u2026 if you see what I mean?","ts":"1479817820.003598"},{"type":"message","user":"U0XR6J961","text":"no i don't get his point","ts":"1479817831.003599"},{"type":"message","user":"U0ZJZBJLF","text":"But, what is going on now is *not* because of flaky tests, it's because of CI being *dead*","ts":"1479817839.003600"},{"type":"message","user":"U0XR6J961","text":"ah yea CI now is not running at all?","ts":"1479817856.003601"},{"type":"message","user":"U11MANG9G","text":"I\u2019m not talking about just now <@U0ZJZBJLF>. I\u2019m talking about the point that <@U1HFNJB50> has raised.","ts":"1479817866.003602"},{"type":"message","user":"U0ZJZBJLF","text":"I told you it's not","ts":"1479817870.003603"},{"type":"message","user":"U11MANG9G","text":"Yes, the CI now is super weird. I have \u201creverify\u201died an hour or so\u2026 with not help.","ts":"1479817898.003604"},{"type":"message","user":"U0ZJZBJLF","text":"I complained in <#C0YMWRX19|ci-pipeline>  I don't really know what else can be done\n<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/>","ts":"1479817911.003605"},{"type":"message","user":"U11MANG9G","text":"AFAIK, the CI \u201cguys\u201d are in a different timezone (PDT) though they start early.","ts":"1479817957.003606"},{"type":"message","user":"U11MANG9G","text":"Give it a few hours\u2026","ts":"1479817973.003607"},{"type":"message","user":"U0PB67X4K","text":"actually I believe <@U0UHG4VP1> is on vacation this week - not sure who his backup is?  maybe <@U11HH3P7Y>","ts":"1479818542.003608"},{"type":"message","user":"U0ZJZBJLF","text":"","attachments":[{"fallback":"[November 22nd, 2016 11:41 AM] yacovm: <@U11HH3P7Y>  or <@U1BC5NF2S>  can you take a look please?","ts":"1479807699.003230","author_subname":"yacovm","channel_id":"C0YMWRX19","channel_name":"ci-pipeline","is_msg_unfurl":true,"text":"<@U11HH3P7Y>  or <@U1BC5NF2S>  can you take a look please?","author_name":"Yacov Manevich","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/yacovm","author_icon":"https:\/\/avatars.slack-edge.com\/2016-09-30\/85916865123_74ecb5d18535acea44aa_48.png","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/ci-pipeline\/p1479807699003230","is_share":true,"footer":"Posted in #ci-pipeline"}],"ts":"1479818580.003609"},{"type":"message","user":"U0ZJZBJLF","text":"I tagged both him and bramwelt","ts":"1479818591.003610"},{"type":"message","user":"U11MANG9G","text":"Will try to \u201cescalate\u201d, too, in a bit.","ts":"1479818841.003611"},{"type":"message","user":"U0PB67X4K","text":"BTW - related question - I know we run CI when change sets are pushed - but do we actually run the build on master every time we merge commits?","ts":"1479818905.003612"},{"type":"message","user":"U0ZJZBJLF","text":"yeah","ts":"1479818953.003613"},{"type":"message","user":"U0ZJZBJLF","text":"there is another type of job in jenkins","ts":"1479818961.003614"},{"type":"message","user":"U0ZJZBJLF","text":"fabric-merge","ts":"1479818963.003615"},{"type":"message","user":"U0ZJZBJLF","text":"something like that","ts":"1479818966.003616"},{"type":"message","user":"U0ZJZBJLF","text":"<https:\/\/hyperledgerproject.slack.com\/archives\/ci-pipeline\/p1479583455003208>","attachments":[{"from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/ci-pipeline\/p1479583455003208","fallback":"[November 19th, 2016 11:24 AM] ramesh: -verify job is to test every patch set and - merge job is after patch set is merged","ts":"1479583455.003208","author_subname":"ramesh","channel_id":"C0YMWRX19","channel_name":"ci-pipeline","is_msg_unfurl":true,"text":"-verify job is to test every patch set and - merge job is after patch set is merged","author_name":"Ramesh Thoomu","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/ramesh","author_icon":"https:\/\/avatars.slack-edge.com\/2016-06-09\/49693129078_d32a6cd73112d6891d70_48.jpg","mrkdwn_in":["text"],"id":1,"footer":"Posted in #ci-pipeline"}],"ts":"1479819015.003617"},{"type":"message","user":"U0PB67X4K","text":"ah - right - ok","ts":"1479820112.003619"},{"type":"message","user":"U0KPFAZNF","text":"one problem I see is that very little attention is paid to the -merge jobs","ts":"1479820787.003620"},{"type":"message","user":"U0KPFAZNF","text":"everyone notices the -verify jobs because their CR wont be merged until it passes","ts":"1479820806.003621"},{"type":"message","user":"U0KPFAZNF","text":"but then the CR gets merged, and often times, the -merge job fails","ts":"1479820822.003622"},{"type":"message","user":"U0KPFAZNF","text":"(not because the CR broke it per se, but just because of the flakiness","ts":"1479820834.003623"},{"type":"message","user":"U11MANG9G","text":"True.","ts":"1479820906.003624"},{"type":"message","user":"U11MANG9G","text":"Maybe we should be able to somehow flag that ?","ts":"1479820956.003625"},{"type":"message","user":"U11MANG9G","text":"I used to work with systems that auto-reverts a broken merge.","ts":"1479820981.003626"},{"type":"message","user":"U11MANG9G","text":"We won\u2019t be able to miss that ;-)\u2026 but I wonder whether it\u2019s too complex to implement.","ts":"1479821028.003627"},{"type":"message","user":"U0PB67X4K","text":"<@U0KPFAZNF>  - what are the typical causes of the flakiness?","ts":"1479821151.003628"},{"type":"message","user":"U0ZJZBJLF","text":"I think there is a bug there in the merge jobs, because *I was opened* a JIRA issue about a gossip test that fails, even though that test wasn't supposed to exist at the time of the merge","edited":{"user":"U0ZJZBJLF","ts":"1479821194.000000"},"ts":"1479821179.003629"},{"type":"message","user":"U0PB67X4K","text":"I would also say that we should consider re-running CI merge jobs as well","ts":"1479821181.003630"},{"type":"message","user":"U0XR6J961","text":"i don't understand the diference","ts":"1479821225.003632"},{"type":"message","user":"U0PB67X4K","text":"<@U0XR6J961> - which difference?","ts":"1479821260.003633"},{"type":"message","user":"U0XR6J961","text":"between verify and merge jobs","ts":"1479821290.003634"},{"type":"message","user":"U0KPFAZNF","text":"<@U0PB67X4K> I get the impression its a revolving door of issues","ts":"1479821309.003635"},{"type":"message","user":"U0ZJZBJLF","text":"Difference is- merge job runs after the master has changed","ts":"1479821317.003636"},{"type":"message","user":"U0KPFAZNF","text":"new flakiness introduced, old flakiness eventually getting fixed\/removed","ts":"1479821328.003637"},{"type":"message","user":"U0PB67X4K","text":"verify is run when you submit an change set - merge runs after a maintainer merges the commit","ts":"1479821336.003638"},{"type":"message","user":"U0KPFAZNF","text":"sometimes I think its the CI platform is a little slow","ts":"1479821337.003639"},{"type":"message","user":"U0PB67X4K","text":"certainly for all the $$$ people pay to HL we can get some decent machines for these jobs if that's the issue","ts":"1479821369.003640"},{"type":"message","user":"U0KPFAZNF","text":"for instance, one source I have been seeing in the last week is that the chaincode tests take 19.5 - 20.5 minutes, and there is a 20m timeout","ts":"1479821369.003641"},{"type":"message","user":"U0XR6J961","text":"shouldn't the ci run on the commit that would happen if you merged?","ts":"1479821384.003642"},{"type":"message","user":"U0KPFAZNF","text":"so sometimes it squeaks by, and sometimes it fails","ts":"1479821386.003643"},{"type":"message","user":"U0PB67X4K","text":"<@U0XR6J961> - it does","ts":"1479821395.003644"},{"type":"message","user":"U0XR6J961","text":"so why does it have to run again?","ts":"1479821407.003645"},{"type":"message","user":"U0XR6J961","text":"also, 20 minutes for chaincode tests?","ts":"1479821417.003646"},{"type":"message","user":"U0KPFAZNF","text":"yes, we need to address that","ts":"1479821428.003647"},{"type":"message","user":"U0KPFAZNF","text":"I am of the opinion that UTs in general should be fast","ts":"1479821437.003648","reactions":[{"name":"+1","users":["U0PB67X4K","U11MANG9G"],"count":2}]},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1479821442.003649"},{"type":"message","user":"U0KPFAZNF","text":"like, &lt; 5 mins","ts":"1479821445.003650"},{"type":"message","user":"U0XR6J961","text":"mine run in less than a second","ts":"1479821449.003651"},{"type":"message","user":"U0KPFAZNF","text":"if something takes 20 minutes, it should be in a later acceptance test but not uts","ts":"1479821467.003652"},{"type":"message","user":"U0XR6J961","text":"i don't think that anybody runs tests during development if they take 20 minutes","ts":"1479821493.003653"},{"type":"message","user":"U0KPFAZNF","text":"but thats a sep issue...the primary issue right now is that the result of the run is not reliable","ts":"1479821497.003654"},{"type":"message","user":"U0XR6J961","text":"i don't buy it","ts":"1479821497.003655"},{"type":"message","user":"U0KPFAZNF","text":"i agree. thats why UTs should be quick","ts":"1479821518.003656"},{"type":"message","user":"U0KPFAZNF","text":"acceptance tests (like perhaps behave) can be in the pipeline to vet a commit\/build for promotion","ts":"1479821542.003657"},{"type":"message","user":"U0KPFAZNF","text":"but UTs should be quick to encourage dev workflow adoption","ts":"1479821573.003658"},{"type":"message","user":"U0ZJZBJLF","text":"The problem with behave is that you can only test the system as a whole for that","ts":"1479821589.003659"},{"type":"message","user":"U0ZJZBJLF","text":"you can't test a part of the system with behave","ts":"1479821599.003660"},{"type":"message","user":"U0KPFAZNF","text":"im not advocating one over the other...just saying that something like behave and possible this 20 minute chaincode test are more \"acceptance tests\" than \"unit-tests\"","ts":"1479821629.003661"},{"type":"message","user":"U0KPFAZNF","text":"at least in the definition that unit tests should be quick litmus test on the sanity of the code","ts":"1479821649.003662"},{"type":"message","user":"U0KPFAZNF","text":"I realize the line can be blurry","ts":"1479821666.003663"},{"type":"message","user":"U0KPFAZNF","text":"but I think the important takeaway is that we need the first phase of testing to be relatively quick checks to encourage devs to actually use them","ts":"1479821694.003664"},{"type":"message","user":"U11MANG9G","text":"I really like Golang tests, btw, but you all probably know that.","ts":"1479821789.003665"},{"type":"message","user":"U11MANG9G","text":"As for the Python BDD, what shall we do then?","ts":"1479821803.003666"},{"type":"message","user":"U11MANG9G","text":"Shall we have a set of \u201csmaller\u201d Python tests (first) and then a full set of tests maybe?","ts":"1479821822.003667"},{"type":"message","user":"U11MANG9G","text":"It is really frustrating, at development time to wait for 40 or even 20 mins.","ts":"1479821855.003668"},{"type":"message","user":"U0XR6J961","text":"these behave tests are dysfunctional","ts":"1479821862.003669"},{"type":"message","user":"U0XR6J961","text":"they are full of sleeps","ts":"1479821878.003670"},{"type":"message","user":"U11MANG9G","text":"<@U0XR6J961>: and I thought that I was being direct above :wink:","ts":"1479821878.003671"},{"type":"message","user":"U11MANG9G","text":"They are full of sleeps, the parallelism is not consistent.","ts":"1479821891.003672"},{"type":"message","user":"U0XR6J961","text":"and they are totally inefficient due to lots of container creation and teardown","ts":"1479821899.003673"},{"type":"message","user":"U11MANG9G","text":"And we have so much logic added as part of the tests, that\u2019s outside the core functionality of fabric.","ts":"1479821913.003674"},{"type":"message","user":"U0KPFAZNF","text":"from my perspective, the delineation should be between \"quick things we want devs running _all_ the time\" and \"other tests that prove the mettle  of a release that are run in the CI pipeline but not necessarily by hand\"","ts":"1479821946.003675"},{"type":"message","user":"U11MANG9G","text":"If you\/one told me that we need an external set of \u201cAPI testing\u201d so we chose Python as a completely independent language or so\u2026 then I\u2019d probably be much more OK with these. But at the moment, I don\u2019t know if the overhead and pain is justifiable.","ts":"1479821987.003676"},{"type":"message","user":"U11MANG9G","text":"<@U0KPFAZNF> Yes, I meant something along these exact lines. To separate to two (or so) test suites.","ts":"1479822019.003677"},{"type":"message","user":"U0KPFAZNF","text":"and of course, we want both to be runnable by a dev if they need to check something","ts":"1479822020.003678"},{"type":"message","user":"U11MANG9G","text":"Yup, locally, with a single CLI\/command.","ts":"1479822039.003679"},{"type":"message","user":"U0KPFAZNF","text":"it seems to me that we are _almost_ there today between \"make unit-test\" and \"make behave\", with the exception of the chaincode UTs","ts":"1479822056.003680"},{"type":"message","user":"U11MANG9G","text":"Prior to submitting, and\/or also for debugging, addressing issues.","ts":"1479822056.003681"},{"type":"message","user":"U0KPFAZNF","text":"they are just too slow","ts":"1479822059.003682"},{"type":"message","user":"U11MANG9G","text":"Yes, this is the main concern. We have the Makefile\/targets, etc. The speed (and somewhat, reliability) seem to be the biggest issue.","ts":"1479822103.003683"},{"type":"message","user":"U0KPFAZNF","text":"I dont have an opinion on the applicability of behave in this role","ts":"1479822107.003684"},{"type":"message","user":"U11MANG9G","text":"<@U0KPFAZNF>: noted. We can still continue with Behave, should we be able to reduce testing time?","ts":"1479822145.003685"},{"type":"message","user":"U11MANG9G","text":"And\/or parallelize more?","ts":"1479822155.003686"},{"type":"message","user":"U11MANG9G","text":"I agree with <@U0PB67X4K>, hardware should not be the issue.","ts":"1479822178.003687"},{"type":"message","user":"U11MANG9G","text":"(or \u2018an issue\u2019)","ts":"1479822183.003688"},{"type":"message","user":"U11MANG9G","text":"<@U0XR6J961>: do you believe we can split the tests to two suites that make more sense? LIke a \u201cquick pass\u201d vs \u201cfull\u201d ?","ts":"1479822224.003689"},{"type":"message","user":"U0XR6J961","text":"for unit tests?","ts":"1479822242.003690"},{"type":"message","user":"U11MANG9G","text":"I am still worried as well about the time wasted indeed on the \"teardown\"","ts":"1479822248.003691"},{"type":"message","user":"U11MANG9G","text":"(plumbing the Golang\/Behave together)","ts":"1479822260.003692"},{"type":"message","user":"U11MANG9G","text":"For the BDD tests","ts":"1479822273.003693"},{"type":"message","user":"U0XR6J961","text":"i don't see any benefit of the BDD as it is today","ts":"1479822280.003694","reactions":[{"name":"+1","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U0XR6J961","text":"it's a weird english-like formalised language","ts":"1479822288.003695"},{"type":"message","user":"U11MANG9G","text":"`BOOM` :slightly_smiling_face:","ts":"1479822290.003696"},{"type":"message","user":"U0XR6J961","text":"the tests take forever to run","ts":"1479822299.003697"},{"type":"message","user":"U0XR6J961","text":"they've been unreliable on my system from day 1","ts":"1479822317.003698"},{"type":"message","user":"U11MANG9G","text":"BTW: I do know that most developers don\u2019t really run them prior to submission.","ts":"1479822327.003699"},{"type":"message","user":"U0XR6J961","text":"yea of course not","ts":"1479822333.003700"},{"type":"message","user":"U0XR6J961","text":"it blocks your machine for one hour","ts":"1479822343.003701"},{"type":"message","user":"U0KPFAZNF","text":"I dont have a problem with a framework that does full E2E testing, but I would like to see it run as efficiently as possible","ts":"1479822344.003702"},{"type":"message","user":"U0KPFAZNF","text":"(and relegated to the \"acceptance criteria\" as opposed to a normal dev workflow","ts":"1479822380.003703"},{"type":"message","user":"U0KPFAZNF","text":"so, to that point, if a bunch of tests are sleeping\/waiting, they should be parallelized","ts":"1479822411.003704"},{"type":"message","user":"U0XR6J961","text":"change the code so that you can test it better","ts":"1479822416.003705"},{"type":"message","user":"U0KPFAZNF","text":"anyway, behave is @jeffgarratts baby, we should include him","ts":"1479822481.003706"},{"type":"message","user":"U11MANG9G","text":"True. Let\u2019s wait a bit until more people wake up?","ts":"1479822504.003707"},{"type":"message","user":"U11MANG9G","text":"<@U0UKTPMG8>","ts":"1479822524.003708"},{"type":"message","user":"U0PB67X4K","text":"its 8:45 EST - people should be awake","ts":"1479822527.003709"},{"type":"message","user":"U0PB67X4K","text":":wink:","ts":"1479822529.003710"},{"type":"message","user":"U0XR6J961","text":"oh gari","ts":"1479822583.003711"},{"type":"message","user":"U0XR6J961","text":"not everybody gets up at 5am like you :slightly_smiling_face:","ts":"1479822591.003712"},{"type":"message","user":"U11MANG9G","text":"<@U0XR6J961>, in that note you sound like a true European :wink:","ts":"1479822660.003713"},{"type":"message","user":"U11MANG9G","text":"[ I used to love it when the trains in London never worked early enough :wink: ]","ts":"1479822697.003714"},{"type":"message","user":"U0XR6J961","text":"i keep wondering how gari gets up so early","ts":"1479822718.003715"},{"type":"message","user":"U11MANG9G","text":"It must be Fabric. It makes us all sleep extremely well at night. Don\u2019t you feel it?","ts":"1479822785.003716"},{"type":"message","user":"U0XR6J961","text":"i do","ts":"1479822794.003717"},{"type":"message","user":"U0XR6J961","text":"well, i'm out of the project tomorrow","ts":"1479822806.003718"},{"type":"message","user":"U0XR6J961","text":"so no more good sleep","ts":"1479822811.003719"},{"type":"message","user":"U11MANG9G","text":"Wait, what?","ts":"1479822819.003720"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961> joke?","ts":"1479822835.003721"},{"type":"message","user":"U11MANG9G","text":"<@U0XR6J961> Really? PM'ing you now!","ts":"1479822838.003722"},{"type":"message","user":"U0ZJZBJLF","text":"You don't know that?","ts":"1479822841.003723"},{"type":"message","user":"U0XR6J961","text":"lol","ts":"1479822841.003724"},{"type":"message","user":"U11MANG9G","text":"&lt;joking&gt;\nDon\u2019t tell us that it\u2019s because you\u2019d miss vagrant\u2026 !","edited":{"user":"U11MANG9G","ts":"1479822898.000000"},"ts":"1479822867.003725"},{"type":"message","user":"U11MANG9G","text":"Is it really because of Docker?","ts":"1479822877.003726"},{"type":"message","user":"U11MANG9G","text":"You never said anything!","ts":"1479822886.003727"},{"type":"message","user":"U11MANG9G","text":"&lt;\/joking&gt;","ts":"1479822890.003728"},{"type":"message","user":"U0XR6J961","text":"no, i'm starting my own hardware\/firmware design consulting company","ts":"1479822896.003729","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"ah...sorry to hear: best of luck to you","ts":"1479822919.003731"},{"type":"message","user":"U0XR6J961","text":"thanks","ts":"1479822926.003732"},{"type":"message","user":"U11MANG9G","text":"Yes, first of all, best of luck mate!","ts":"1479822932.003733"},{"type":"message","user":"U11MANG9G","text":"Really sorry to hear\/read about this!","ts":"1479822944.003734"},{"type":"message","user":"U11MANG9G","text":"But it\u2019s probably a good thing (for you!)","ts":"1479822965.003735"},{"type":"message","user":"U0ZJZBJLF","text":"so,  about the tests issue- is it possible to run the tests in CI in parallel? I mean, most unit tests don't need to connect to a peer, so why not have them run in a container of their own in parallel?\nMaybe it's possible to do something more smart than do `go list` and then run them in serial 1 by 1","edited":{"user":"U0ZJZBJLF","ts":"1479823132.000000"},"ts":"1479823063.003736"},{"type":"message","user":"U11MANG9G","text":"We had\/have some tests that run the go side in parallel. We should look into what Behave can do for us. That is, whether it can spawn a few \u201cjobs\u201d that are independent.","ts":"1479823174.003738"},{"type":"message","user":"U11MANG9G","text":"Yes, <@U0ZJZBJLF>, serializing them (with the delay\/waits) is \u2026 Meh.","ts":"1479823205.003739"},{"type":"message","user":"U0ZJZBJLF","text":"I wasn't talking about behave","ts":"1479823290.003740"},{"type":"message","user":"U0ZJZBJLF","text":"I was talking about UTs","ts":"1479823294.003741"},{"type":"message","user":"U0ZJZBJLF","text":"instead of doing an iteration over `go list`, maybe have at each time `K` containers running 1 package's tests. When a container finishes running a package, have it \"grab\" the next package and run it (or, to be precise- have the script that orchestrates this do that and launch a new container)","edited":{"user":"U0ZJZBJLF","ts":"1479823420.000000"},"ts":"1479823394.003742"},{"type":"message","user":"U11MANG9G","text":"<@U0ZJZBJLF> the UTs are relatively fast, but there are some examples for parallel (Golang) runs.","ts":"1479823530.003744"},{"type":"message","user":"U11MANG9G","text":"I might be able to help with these, if you like.","ts":"1479823542.003745"},{"type":"message","user":"U0ZJZBJLF","text":"They are *not* fast as a whole","ts":"1479823850.003746"},{"user":"U353QR7G9","text":"<@U353QR7G9|bretharrison> has joined the channel","type":"message","subtype":"channel_join","ts":"1479824934.003747"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> I actually tried this a while back","ts":"1479824972.003748"},{"type":"message","user":"U0KPFAZNF","text":"the results were not good","ts":"1479824977.003749"},{"type":"message","user":"U0KPFAZNF","text":"they got slower, though this wasnt entirely a surprise","ts":"1479825017.003750"},{"type":"message","user":"U0KPFAZNF","text":"that is: parallelism will only help workloads that trend towards io-bound...compute-bound jobs will degrade with parallelism...and I am not sure which category the UTs fall into","ts":"1479825075.003751"},{"type":"message","user":"U0KPFAZNF","text":"id be happy to share my patch","ts":"1479825082.003752"},{"type":"message","user":"U0KPFAZNF","text":"based on the result, it is implied they are compute bound","ts":"1479825101.003753"},{"type":"message","user":"U0KPFAZNF","text":"(sorry, I should clarify my statement: compute-bound jobs will degrade if you increase concurrency without increasing parallelism )","ts":"1479825167.003754"},{"type":"message","user":"U0KPFAZNF","text":"but since the number of available cores in things like vagrant and ci is both fixed and small, its tougher to exploit","ts":"1479825190.003755"},{"type":"message","user":"U0KPFAZNF","text":"I have some really nice big iron in my lab where that is not the case :wink:","ts":"1479825211.003756"},{"type":"message","user":"U0KPFAZNF","text":"but alas, not here","ts":"1479825217.003757"},{"type":"message","user":"U0KPFAZNF","text":"to that point, and the point made earlier about LF\/HL $$$, perhaps we throw bigger VMs at the problem","edited":{"user":"U0KPFAZNF","ts":"1479825273.000000"},"ts":"1479825263.003758"},{"type":"message","user":"U0PB67X4K","text":"well if the CI team has time and we want to prove that compute power is part of the problem, I'm happy to provide access to some big iron  if we can't immediately get something from LF.","ts":"1479825452.003760","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0PB67X4K","text":":wink:","ts":"1479825454.003761"},{"type":"message","user":"U0KPFAZNF","text":"ill see if I can find my patch","ts":"1479825499.003762"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F35S6M4EQ\/-.pl|Untitled> and commented: Probably needs to be ported, but should be trivial","file":{"id":"F35S6M4EQ","created":1479825617,"timestamp":1479825617,"name":"-.pl","title":"Untitled","mimetype":"text\/plain","filetype":"perl","pretty_type":"Perl","user":"U0KPFAZNF","editable":true,"size":2007,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F35S6M4EQ\/-.pl?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F35S6M4EQ\/download\/-.pl?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F35S6M4EQ\/-.pl","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F35S6M4EQ-8d9b9b8d75","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F35S6M4EQ\/-.pl\/edit","preview":"commit ca5b86186484b54cf254d6312113e3ab46fcab66\r\nAuthor: Gregory Haskins <gregory.haskins@gmail.com>\r\nDate:   Sun Jun 12 08:38:58 2016 -0400\r\n\r\n    Launch our unit-tests in parallel per package\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-meta\">commit<\/span> <span class=\"cm-meta\">ca5b86186484b54cf254d6312113e3ab46fcab66<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-meta\">Author<\/span><span class=\"cm-operator\">:<\/span> <span class=\"cm-meta\">Gregory<\/span> <span class=\"cm-meta\">Haskins<\/span> <span class=\"cm-operator\">&lt;<\/span><span class=\"cm-meta\">gregory<\/span><span class=\"cm-operator\">.<\/span><span class=\"cm-meta\">haskins<\/span><span class=\"cm-variable\">@gmail<\/span><span class=\"cm-operator\">.<\/span><span class=\"cm-meta\">com<\/span><span class=\"cm-operator\">&gt;<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-meta\">Date<\/span><span class=\"cm-operator\">:<\/span>   <span class=\"cm-meta\">Sun<\/span> <span class=\"cm-meta\">Jun<\/span> <span class=\"cm-number\">12<\/span> <span class=\"cm-number\">08<\/span><span class=\"cm-operator\">:<\/span><span class=\"cm-number\">38<\/span><span class=\"cm-operator\">:<\/span><span class=\"cm-number\">58<\/span> <span class=\"cm-number\">2016<\/span> <span class=\"cm-operator\">-<\/span><span class=\"cm-number\">0400<\/span><\/pre><\/div>\n<div><pre>&#8203;<\/pre><\/div>\n<div><pre>    <span class=\"cm-meta\">Launch<\/span> <span class=\"cm-def\">our<\/span> <span class=\"cm-meta\">unit<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-meta\">tests<\/span> <span class=\"cm-meta\">in<\/span> <span class=\"cm-meta\">parallel<\/span> <span class=\"cm-meta\">per<\/span> <span class=\"cm-keyword\">package<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":63,"lines_more":58,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc35S6MC9J","created":1479825617,"timestamp":1479825617,"user":"U0KPFAZNF","is_intro":true,"comment":"Probably needs to be ported, but should be trivial","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1479825617.003763"},{"type":"message","user":"U0KPFAZNF","text":"<@U0PB67X4K> ^^^","ts":"1479825654.003764"},{"type":"message","user":"U0ZJZBJLF","text":"don't the chaincode UTs run in 20 min?","ts":"1479825685.003765"},{"type":"message","user":"U0KPFAZNF","text":"well, locally they run 400-500s","ts":"1479825703.003766"},{"type":"message","user":"U0KPFAZNF","text":"just lately, on CI, they take 1100s typically","ts":"1479825715.003767"},{"type":"message","user":"U0ZJZBJLF","text":"ok, so if you run them in parallel, you save 500s if the other tests combined are more than 500s","edited":{"user":"U0ZJZBJLF","ts":"1479825748.000000"},"ts":"1479825725.003768"},{"type":"message","user":"U0KPFAZNF","text":"that has nothing to do with this","ts":"1479825737.003769"},{"type":"message","user":"U0KPFAZNF","text":"I wrote that patch back in June for one thing, when we were looking at 60m travis runs","ts":"1479825754.003771"},{"type":"message","user":"U0KPFAZNF","text":"personally, I think that chaincode test needs to be reworked","ts":"1479825771.003772"},{"type":"message","user":"U0KPFAZNF","text":"so, consider the \"parallel\" discussion as orthogonal to the chaincode UT discussion","ts":"1479825790.003773"},{"type":"message","user":"U0KPFAZNF","text":"but yes, if you did it at package level, we would be gated by largest package","ts":"1479825815.003774"},{"type":"message","user":"U0KPFAZNF","text":"that wasnt what I was referring to though","ts":"1479825831.003775"},{"type":"message","user":"U0KPFAZNF","text":"what I was referring to was that overall the times went up","ts":"1479825841.003776"},{"type":"message","user":"U0KPFAZNF","text":"on a tangent: what I am currently thinking is we change \"make unit-test\" and \"make behave\" to \"make quick-test\" and \"make acceptance-test\" or something like that","ts":"1479825929.003777"},{"type":"message","user":"U0KPFAZNF","text":"and then move chaincode UT and behave under acceptance test","ts":"1479825941.003778"},{"type":"message","user":"U0ZJZBJLF","text":"well that was only a thought","ts":"1479826245.003779"},{"type":"message","user":"U0KPFAZNF","text":"understood, and it was a good one","ts":"1479826315.003780"},{"type":"message","user":"U0KPFAZNF","text":"just reporting that was not a factor in the assessment","ts":"1479826333.003781"},{"type":"message","user":"U0UKTPMG8","text":"<@U11MANG9G> <@U0PB67X4K> <@U0KPFAZNF> sorry I missed the discussion wrt to BDD.  What is the crux of the issue?","ts":"1479828489.003782"},{"type":"message","user":"U0XR6J961","text":"it's slow","ts":"1479828511.003783"},{"type":"message","user":"U0UKTPMG8","text":"ahhh, the latest version support parallelization","ts":"1479828537.003784","reactions":[{"name":"+1","users":["U11MANG9G","U0KPFAZNF"],"count":2}]},{"type":"message","user":"U0UKTPMG8","text":"at the feature level","ts":"1479828569.003785"},{"type":"message","user":"U0UKTPMG8","text":"so if we can separate the tests features logically, we should be able to reap some speed up benefits","ts":"1479828589.003786"},{"type":"message","user":"U11MANG9G","text":"That\u2019s what I was hoping (above) <@U0UKTPMG8>","attachments":[{"fallback":"[November 22nd, 2016 5:59 AM] jonathanlevi: We had\/have some tests that run the go side in parallel. We should look into what Behave can do for us. That is, whether it can spawn a few \u201cjobs\u201d that are independent.","ts":"1479823174.003738","author_subname":"jonathanlevi","channel_id":"C0YPYBVJM","channel_name":"fabric-dev","is_msg_unfurl":true,"text":"We had\/have some tests that run the go side in parallel. We should look into what Behave can do for us. That is, whether it can spawn a few \u201cjobs\u201d that are independent.","author_name":"Jonathan Levi","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/jonathanlevi","author_icon":"https:\/\/avatars.slack-edge.com\/2016-09-06\/76710770455_2316fc867e622c8f0008_48.jpg","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev\/p1479823174003738","is_share":true,"footer":"Posted in #fabric-dev"}],"ts":"1479828606.003787"},{"type":"message","user":"U0UKTPMG8","text":"both the go and behave BDDs can run in parallel, though you lose the BDD output on the godog side","ts":"1479828643.003788"},{"type":"message","user":"U0UKTPMG8","text":"correct, we could spawn the various feature files independently and concatenate the results","ts":"1479828671.003789"},{"type":"message","user":"U0UKTPMG8","text":"I am working on the boostrap.feature at the moment as it is the basis for all future compositions within any feature we build hereafter","ts":"1479828720.003790"},{"type":"message","user":"U0UKTPMG8","text":"ie,, the old \"given we compose\" must effectively bootstrap the network properly per run","edited":{"user":"U0UKTPMG8","ts":"1479828761.000000"},"ts":"1479828749.003791"},{"type":"message","user":"U0UKTPMG8","text":"was slow the only issue?","ts":"1479828826.003793"},{"type":"message","user":"U11MANG9G","text":"I think slowness and the fact that some of them are\/were flaky.","ts":"1479829177.003794"},{"type":"message","user":"U11MANG9G","text":"(not necessarily due to Behave)","ts":"1479829193.003795"},{"type":"message","user":"U11MANG9G","text":"The context (above) was mostly around what should be the \u201cmerging policy\u201d. Do we require that everything is built and \u201csigned\/approved\u201d by the CI prior to a merge, shall we continue to have cases where we allow maintainers to just \u201cverify\u201d manually a changeset and merge it, etc.","ts":"1479829266.003796"},{"type":"message","user":"U0UKTPMG8","text":"as of this point the only active features are in the bddtests\/features folder","ts":"1479829290.003797"},{"type":"message","user":"U11MANG9G","text":"Then we talked about cases where the CI is down, or when we don\u2019t have the time to \u201cwait\u201d for the tests...","ts":"1479829296.003798"},{"type":"message","user":"U11MANG9G","text":"[That\u2019s my vague \u201cExecutive Summary\u201d of the above ;-)]","ts":"1479829344.003799"},{"type":"message","user":"U0UKTPMG8","text":"good deal","ts":"1479829350.003800"},{"type":"message","user":"U0UKTPMG8","text":"thnx","ts":"1479829351.003801"},{"type":"message","user":"U11MANG9G","text":"A more general question is whether we should port these at some point ?","ts":"1479829363.003802"},{"type":"message","user":"U11MANG9G","text":"I personally, am asking people to write more UT in Golang.","ts":"1479829393.003803"},{"type":"message","user":"U0UKTPMG8","text":"I have a movie that shows the mechanism for creating BDDs then porting to golang","ts":"1479829396.003804"},{"type":"message","user":"U0UKTPMG8","text":"perhaps I forgot to post it","ts":"1479829405.003805"},{"type":"message","user":"U11MANG9G","text":"Especially while we are refactoring so much.","ts":"1479829410.003806"},{"type":"message","user":"U11MANG9G","text":"<@U0UKTPMG8> Or maybe you did, and I have missed it. Would love to see it.","ts":"1479829436.003807"},{"type":"message","user":"U0UKTPMG8","text":"I write in behave first as it is generally much more terse and readable","ts":"1479829438.003808"},{"type":"message","user":"U0UKTPMG8","text":"let me go check, was working on write before vacation... perhaps I jumped before hitting the button :slightly_smiling_face:","ts":"1479829464.003809"},{"type":"message","user":"U11MANG9G","text":"The description\/test is top notch. I used to work with Cucumber, etc.","ts":"1479829490.003810"},{"type":"message","user":"U11MANG9G","text":"Is it possible to use a similar description language with Golang binidngs? Like the Ginkgo, etc.? I remember a discussion about that back in v0.5, but I personally haven\u2019t done much in that regard, I have to admit.","ts":"1479829545.003811"},{"type":"message","user":"U0UKTPMG8","text":"the current bddtests support python and golang with the same Gherkin feature file","ts":"1479829568.003812"},{"type":"message","user":"U0UKTPMG8","text":"there are examples of both","ts":"1479829582.003813"},{"type":"message","user":"U0UKTPMG8","text":"using the same feature file :slightly_smiling_face:","ts":"1479829588.003814"},{"type":"message","user":"U0UKTPMG8","text":"works like a charm","ts":"1479829591.003815"},{"type":"message","user":"U0UKTPMG8","text":"and we reuse all of the feature files we write","ts":"1479829598.003816"},{"type":"message","user":"U11MANG9G","text":"That\u2019s awesome! (I didn\u2019t know that)","ts":"1479829616.003817"},{"type":"message","user":"U0UKTPMG8","text":"yeah, It is pretty nice","ts":"1479829630.003818"},{"type":"message","user":"U0UKTPMG8","text":"will dig the movie up, post to box and push out the link","ts":"1479829644.003819"},{"type":"message","user":"U0N4P17ND","text":"Hi question if I want to run few peers on different physical machines which options do I have for the peers to discover each other?","ts":"1479833285.003820"},{"type":"message","user":"U0N4P17ND","text":"so more correct question: will docker-compose on each host work and what are the tricks there, so peers will discover membersvc and other peers?","ts":"1479833395.003821"},{"type":"message","user":"U0N4P17ND","text":"will `CORE_VM_ENDPOINT` work for this and what will be correct address for this? or `CORE_PEER_DISCOVERY_ROOTNODE` might help - the question is the similar, what are correct\/working example...?","ts":"1479833581.003822"},{"type":"message","user":"U0N4P17ND","text":"I'm asking in context of v06...","ts":"1479833625.003823"},{"type":"message","user":"U0KPFAZNF","text":"<@U0N4P17ND> its the CORE_PEER_DISCOVERY_ROOTNODE you want to be looking at","ts":"1479833691.003824"},{"type":"message","user":"U0KPFAZNF","text":"the VM_ENDPOINT is related to how the peer communicates with dockerd","ts":"1479833713.003825"},{"type":"message","user":"U0N4P17ND","text":"ok how to link two different `docker-compose.yml`s?","ts":"1479833731.003826"},{"type":"message","user":"U0KPFAZNF","text":"\"discovery\" is a little weak in v0.6 and older: its more of an apriori whitelist than true discovery","ts":"1479833751.003827"},{"type":"message","user":"U0N4P17ND","text":"right now I use `CORE_PEER_DISCOVERY_ROOTNODE=vp0:7051` which works because vp0 is in the same docker compose, if these are differnet host and different files, what will do the trick?","ts":"1479833781.003828"},{"type":"message","user":"U0KPFAZNF","text":"im not sure, but I think you would either want to use a downstream composition of the two, or use docker links","ts":"1479833789.003829"},{"type":"message","user":"U0KPFAZNF","text":"if you want to use compose AND use different hosts, look at docker-swarm","ts":"1479833810.003830"},{"type":"message","user":"U0KPFAZNF","text":"thats what that is meant for","ts":"1479833814.003831"},{"type":"message","user":"U0ZJZBJLF","text":"You can make the CORE_PEER_DISCOVERY_ROOTNODE a list too, btw","ts":"1479833815.003832"},{"type":"message","user":"U0ZJZBJLF","text":"unless that PR of mine has been un-merged since","ts":"1479833832.003833"},{"type":"message","user":"U0KPFAZNF","text":"i havent tried this personally, but my understanding is docker-swarm is a superset of compose, designed for multi-host","ts":"1479833844.003834"},{"type":"message","user":"U0N4P17ND","text":"is this the one: <https:\/\/blog.docker.com\/2015\/11\/docker-multi-host-networking-ga\/>?","attachments":[{"service_name":"Docker Blog","title":"Multi-Host Docker Networking is now ready for production - Docker Blog","title_link":"https:\/\/blog.docker.com\/2015\/11\/docker-multi-host-networking-ga\/","text":"At DockerCon in June, we first introduced experimental support for Docker Networking. In Docker 1.9, we are excited to announce that Networking is ready to use in production and works with Swarm and Compose. Networking is a feature of Docker \u2026 Continued","fallback":"Docker Blog: Multi-Host Docker Networking is now ready for production - Docker Blog","ts":1446593151,"from_url":"https:\/\/blog.docker.com\/2015\/11\/docker-multi-host-networking-ga\/","service_icon":"https:\/\/www.docker.io\/static\/favicon.png","id":1}],"ts":"1479833861.003835"},{"type":"message","user":"U0KPFAZNF","text":"fwiw, I use kubernetes\/openshift as an alternative to swarm, but same concepts","ts":"1479833867.003837"},{"type":"message","user":"U0KPFAZNF","text":"<@U0N4P17ND> that is somewhat old (looks like docker v1.9\/2015","ts":"1479833998.003838"},{"type":"message","user":"U0KPFAZNF","text":"theres been a bunch of stuff done since then: i would start here: <https:\/\/docs.docker.com\/swarm\/overview\/>","attachments":[{"service_name":"Docker","title":"Docker Swarm overview","title_link":"https:\/\/docs.docker.com\/swarm\/overview\/","text":"Swarm: a Docker-native clustering system","fallback":"Docker: Docker Swarm overview","image_url":"https:\/\/www.docker.com\/sites\/default\/files\/social\/docker-twitter-share.png","ts":1479779185,"from_url":"https:\/\/docs.docker.com\/swarm\/overview\/","image_width":625,"image_height":250,"image_bytes":49214,"service_icon":"https:\/\/docs.docker.com\/favicons\/apple-touch-icon-57x57.png","id":1}],"ts":"1479834013.003839"},{"type":"message","user":"U0N4P17ND","text":"<@U26BX6S3B> ^^ this is what we discussing","edited":{"user":"U0N4P17ND","ts":"1479834047.000000"},"ts":"1479834017.003841"},{"user":"U26BX6S3B","inviter":"U0N4P17ND","text":"<@U26BX6S3B|pmcosta> has joined the channel","type":"message","subtype":"channel_join","ts":"1479834024.003842"},{"type":"message","user":"U0KPFAZNF","text":"the main rub is: if you want to use docker-links (e.g. \"vp0\") it has to be within an SDN that docker controls AFAICT","ts":"1479834060.003844"},{"type":"message","user":"U0KPFAZNF","text":"swarm would buy you that","ts":"1479834066.003845"},{"type":"message","user":"U0KPFAZNF","text":"otherwise, you would need to manage the ip namespace some other way","ts":"1479834098.003846"},{"type":"message","user":"U0KPFAZNF","text":"(which is doable, btw)","ts":"1479834105.003847"},{"type":"message","user":"U0N4P17ND","text":"ok, so swarm bring me some sort of composition of different docker-compose.yml? I can think of it like this","ts":"1479834119.003848"},{"type":"message","user":"U0N4P17ND","text":"and that's how my peers will know what vp0 means, right?","ts":"1479834133.003849"},{"type":"message","user":"U0KPFAZNF","text":"im not sure as I have never used it, but I dont think that is quite right","ts":"1479834137.003850"},{"type":"message","user":"U0KPFAZNF","text":"rather, I think what swarm does is add multi-host orchastration to your composition","ts":"1479834153.003851"},{"type":"message","user":"U0KPFAZNF","text":"keep in mind, I am no swarm expert..but I do use other orchestration layers and I have a sense of what swarm is likely doing","ts":"1479834182.003852"},{"type":"message","user":"U0KPFAZNF","text":"in that sense, I suspect it still wants to work within one composition\/link namespace, but can distribute the jobs across the cluster rather than within a single node","ts":"1479834210.003853"},{"type":"message","user":"U0ZJZBJLF","text":"keep in mind, if you use pbft you have to make the peer's IDs be vp0, vp1 etc etc","ts":"1479834245.003854"},{"type":"message","user":"U0N4P17ND","text":"ok another more generic question: what other options do we have to run real network on few physical nodes?","ts":"1479834246.003855"},{"type":"message","user":"U0N4P17ND","text":"and yes we have pbft enabled :slightly_smiling_face:","ts":"1479834261.003856"},{"type":"message","user":"U0ZJZBJLF","text":"where is the problem exactly?","ts":"1479834265.003857"},{"type":"message","user":"U0KPFAZNF","text":"if you wanted to join two compositions, you are probably better off defining a new composition that includes the other two","ts":"1479834266.003858"},{"type":"message","user":"U0KPFAZNF","text":"I am not sure there is any other way to do it","ts":"1479834279.003859"},{"type":"message","user":"U0KPFAZNF","text":"that way \"vp0\" etc have meaning in context","ts":"1479834299.003860"},{"type":"message","user":"U0N4P17ND","text":"the statement of problem - is how to run few peers on different machines correctly so they discover each other","ts":"1479834303.003861"},{"type":"message","user":"U0N4P17ND","text":"with pbft, security and privacy enabled :slightly_smiling_face:","ts":"1479834320.003862"},{"type":"message","user":"U0N4P17ND","text":"maybe I asked initially incorrectly starting with `docker-compose`","ts":"1479834338.003863"},{"type":"message","user":"U0KPFAZNF","text":"if all you want to do is run them, you can just use IP\/DNS instead of docker links","ts":"1479834344.003864"},{"type":"message","user":"U0KPFAZNF","text":"you just have to manage it yourself","ts":"1479834353.003865"},{"type":"message","user":"U0ZJZBJLF","text":"Just put in the `CORE_PEER_DISCOVERY_ROOTNODE` a list of some of the addresses of them or something","ts":"1479834383.003866"},{"type":"message","user":"U0KPFAZNF","text":"all docker-compose is doing is providing a DNS context","ts":"1479834388.003867"},{"type":"message","user":"U0ZJZBJLF","text":"and try it out","ts":"1479834390.003868"},{"type":"message","user":"U0ZJZBJLF","text":"oh","ts":"1479834409.003869"},{"type":"message","user":"U0KPFAZNF","text":"so if you define a node \"vp0\", it will surface as a dns name that other hosts within that definition can lookup","ts":"1479834413.003870"},{"type":"message","user":"U0ZJZBJLF","text":"you're asking how to configure everything?","ts":"1479834416.003871"},{"type":"message","user":"U0KPFAZNF","text":"theres no real magic, its just convenient to define relative relationships","ts":"1479834425.003872"},{"type":"message","user":"U0N4P17ND","text":"nope, nope everything is running with single docker-compose","ts":"1479834437.003873"},{"type":"message","user":"U0N4P17ND","text":"on the single node","ts":"1479834448.003874"},{"type":"message","user":"U0N4P17ND","text":"just wnated to double check if direct ip will work","ts":"1479834463.003875"},{"type":"message","user":"U0KPFAZNF","text":"right, so you are still using SDN, its just not a very topologically complicated environment :wink:","ts":"1479834469.003876"},{"type":"message","user":"U0N4P17ND","text":"and if `CORE_PEER_DISCOVERY_ROOTNODE` is the correct param for it","ts":"1479834480.003877"},{"type":"message","user":"U0KPFAZNF","text":"but you dont have to use SDN","ts":"1479834482.003878"},{"type":"message","user":"U0KPFAZNF","text":"yes, it is","ts":"1479834488.003879"},{"type":"message","user":"U0N4P17ND","text":"ok, thanks!","ts":"1479834491.003880"},{"type":"message","user":"U0KPFAZNF","text":"subst \"vp0\" for the ip\/dns name of where the \"rootnode\" really is, and it will work","ts":"1479834514.003881"},{"type":"message","user":"U0N4P17ND","text":"cool, this is not prod, this is some sort of PoC","ts":"1479834525.003882"},{"type":"message","user":"U0N4P17ND","text":"Thanks a lot!","ts":"1479834529.003883"},{"type":"message","user":"U0KPFAZNF","text":"perfect","ts":"1479834531.003884"},{"type":"message","user":"U0KPFAZNF","text":"np","ts":"1479834534.003885"},{"type":"message","user":"U0ZJZBJLF","text":"<@U2BGFAHC7>  maybe you have a config file or something? I recall you ran fabric with docker swarm?","ts":"1479834541.003886"},{"type":"message","user":"U0ZJZBJLF","text":"oh wait, you're not using swarm? you're just using different physical machines? <@U0N4P17ND>","edited":{"user":"U0ZJZBJLF","ts":"1479834621.000000"},"ts":"1479834604.003887"},{"type":"message","user":"U2BGFAHC7","text":"I was using kubernetes..","ts":"1479834606.003888"},{"type":"message","user":"U0N4P17ND","text":"right now just differnet physical machines, but I guess this works for some initial testing but swarm will be next step","ts":"1479834641.003890"},{"type":"message","user":"U0N4P17ND","text":"as managing manually few different docker-composes for each host is not something we like :slightly_smiling_face:","ts":"1479834665.003891"},{"type":"message","user":"U0ZJZBJLF","text":"oh, right. I always mix them up. Sorry ^^","ts":"1479834665.003892"},{"type":"message","user":"U0N4P17ND","text":"so if there is any example for correct setup exist - it will be really helpful","ts":"1479834684.003893"},{"type":"message","user":"U0N4P17ND","text":"hm... for correct = for more advanced setup :slightly_smiling_face:","ts":"1479834704.003894"},{"type":"message","subtype":"file_share","text":"<@U0ZJZBJLF|yacovm> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F356QCUGZ\/docker-pbft.yml.txt|docker-pbft.yml.txt>","file":{"id":"F356QCUGZ","created":1479834849,"timestamp":1479834849,"name":"docker-pbft.yml.txt","title":"docker-pbft.yml.txt","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0ZJZBJLF","editable":true,"size":1577,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F356QCUGZ\/docker-pbft.yml.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F356QCUGZ\/download\/docker-pbft.yml.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F356QCUGZ\/docker-pbft.yml.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F356QCUGZ-f95e67050a","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F356QCUGZ\/docker-pbft.yml.txt\/edit","preview":"membersrvc:\r\n  image: hyperledger\/fabric-membersrvc\r\n  ports:\r\n    - \"7054:7054\"\r\n  command: membersrvc\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>membersrvc:<\/pre><\/div>\n<div><pre>  image: hyperledger\/fabric-membersrvc<\/pre><\/div>\n<div><pre>  ports:<\/pre><\/div>\n<div><pre>    - &quot;7054:7054&quot;<\/pre><\/div>\n<div><pre>  command: membersrvc<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":59,"lines_more":54,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0ZJZBJLF","upload":true,"display_as_bot":false,"username":"<@U0ZJZBJLF|yacovm>","bot_id":null,"ts":"1479834850.003895"},{"type":"message","user":"U0ZJZBJLF","text":"try this one","ts":"1479834855.003896"},{"type":"message","user":"U0ZJZBJLF","text":"not sure if it's up to date regarding port numbers and stuff","ts":"1479834865.003897"},{"type":"message","user":"U0ZJZBJLF","text":"but I guess you can \"start\" with this","ts":"1479834874.003898"},{"type":"message","subtype":"file_share","text":"<@U0ZJZBJLF|yacovm> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F355TP880\/ssl-docker-compose.yml.txt|ssl-docker-compose.yml.txt>","file":{"id":"F355TP880","created":1479834889,"timestamp":1479834889,"name":"ssl-docker-compose.yml.txt","title":"ssl-docker-compose.yml.txt","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0ZJZBJLF","editable":true,"size":2079,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F355TP880\/ssl-docker-compose.yml.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F355TP880\/download\/ssl-docker-compose.yml.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F355TP880\/ssl-docker-compose.yml.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F355TP880-17b1c92242","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F355TP880\/ssl-docker-compose.yml.txt\/edit","preview":"membersrvc:\r\n  image: hyperledger\/fabric-membersrvc\r\n  ports:\r\n    - \"7054:7054\"\r\n  command: membersrvc\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>membersrvc:<\/pre><\/div>\n<div><pre>  image: hyperledger\/fabric-membersrvc<\/pre><\/div>\n<div><pre>  ports:<\/pre><\/div>\n<div><pre>    - &quot;7054:7054&quot;<\/pre><\/div>\n<div><pre>  command: membersrvc<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":67,"lines_more":62,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0ZJZBJLF","upload":true,"display_as_bot":false,"username":"<@U0ZJZBJLF|yacovm>","bot_id":null,"ts":"1479834889.003899"},{"type":"message","user":"U0ZJZBJLF","text":"This is one with SSL, etc.","ts":"1479834894.003900"},{"type":"message","user":"U0N4P17ND","text":"thanks <@U0ZJZBJLF> we have all this and it works on single machine - to run it on different physical machines we'll need to split it in few files and push to each host it's own config. My question was - if we can avoid it, have some sort of common config instead. Will swarm help here? Or I miss the point?","ts":"1479835023.003901"},{"type":"message","user":"U0ZJZBJLF","text":"Maybe. I don't know, never used swarm","ts":"1479835108.003902"},{"type":"message","user":"U0N4P17ND","text":"so this is just the question of conf management - having host specific config might be tricky... even if they are really similar and the difference is just between mbrsvc, vp0 and rest hosts. And rest vp1..N docker-compose will be really similar - the difference is just in vpN...","edited":{"user":"U0N4P17ND","ts":"1479835170.000000"},"ts":"1479835135.003903"},{"type":"message","user":"U0KPFAZNF","text":"<@U0N4P17ND> my impression is, with swarm the cluster is transparent","ts":"1479835307.003905"},{"type":"message","user":"U0KPFAZNF","text":"its like doing \"docker-compose up\" but its cluster aware so the location of the jobs is distributed","ts":"1479835328.003906"},{"type":"message","user":"U0KPFAZNF","text":"so, theres no need to split the composition up","ts":"1479835339.003907"},{"type":"message","user":"U0KPFAZNF","text":"swarm will split it for you as part of its orchestration function","ts":"1479835353.003908"},{"type":"message","user":"U0N4P17ND","text":"sounds cool but there is no example? nobody tried it?","ts":"1479835359.003909"},{"type":"message","user":"U0KPFAZNF","text":"im sure others have, i use kubernetes myself","ts":"1479835371.003910"},{"type":"message","user":"U0KPFAZNF","text":"(which is overlapping in concept with swarm)","ts":"1479835381.003911"},{"type":"message","user":"U0N4P17ND","text":"also question - how the deployment inside bluemix is done - is it always now single virtual host with single docker-compose?","ts":"1479835421.003912"},{"type":"message","user":"U0N4P17ND","text":"maybe, you are aware :slightly_smiling_face:","ts":"1479835433.003913"},{"type":"message","user":"U0KPFAZNF","text":"<@U0PB67X4K> is your man on bluemix questions","ts":"1479835438.003914"},{"type":"message","user":"U0KPFAZNF","text":"i havent tried that platform yet","ts":"1479835463.003915"},{"type":"message","user":"U0N4P17ND","text":"when I tried it, it was black box from outer world...","ts":"1479835498.003916"},{"type":"message","user":"U0KPFAZNF","text":"sorry, i have to defer to Gari","ts":"1479835509.003917"},{"type":"message","user":"U0KPFAZNF","text":"<@U0N4P17ND> you know more about it than I do at this point :wink:","edited":{"user":"U0KPFAZNF","ts":"1479835539.000000"},"ts":"1479835522.003918"},{"type":"message","user":"U0N4P17ND","text":"Thanks a lot !","ts":"1479835561.003920"},{"type":"message","user":"U0KPFAZNF","text":"anytime","ts":"1479835565.003921"},{"type":"message","user":"U0PB67X4K","text":"<@U0N4P17ND>  - the Bluemix Blockchain Starter Plan is a shared compute environment.  We deploy everything as Docker containers - we have hosts dedicated for each type of peer - vp0,vp1,vp2,vp3 with membersrvcs spread across those hosts (this way we can lose one host but still have 2f+1 (3) peer per network.  We then have multiple Docker hosts for running chaincode - basically we have separate hosts for chaincode from each peer type as well.  We run all of this over a Docker overlay network","ts":"1479837613.003922"},{"type":"message","user":"U0N4P17ND","text":"and how docker cluster is managed?","ts":"1479837647.003923"},{"type":"message","user":"U0N4P17ND","text":"swarm any other tool? or just separate docker-compose for each host?","ts":"1479837672.003924"},{"type":"message","user":"U0PB67X4K","text":"we use Swarm for overall mgmt but we deploy somethings directly to the Docker hosts via the Docker remote API  (we actually have a NodeJS app \/ process we use to do this)","ts":"1479843261.003925"},{"type":"message","user":"U0PB67X4K","text":"we also use nghttp2 as a reverse proxy to do host header-based routing so that we don't directly expose the endpoints to the Internet","ts":"1479843305.003926"},{"type":"message","user":"U0PB67X4K","text":"and we use Consul as the KV store for both Swarm and for the overlay network","ts":"1479843326.003927"},{"type":"message","user":"U0N4P17ND","text":"thanks","ts":"1479853658.003928"},{"user":"U367FA19T","text":"<@U367FA19T|squeue> has joined the channel","type":"message","subtype":"channel_join","ts":"1479880008.003929"},{"type":"message","user":"U2TD4Q7NW","text":"so if I have my own custom fabric base-image and I run peer-docker it looks like the binary is built elsewhere before being pushed into the peer image (I edited its docker file) what sort of pipeline does it follow?","ts":"1479912038.003930"},{"type":"message","user":"U2TD4Q7NW","text":"<@U0KPFAZNF> ^","ts":"1479913441.003931"},{"type":"message","user":"U0KPFAZNF","text":"<@U2TD4Q7NW>: not clear on what you are trying to do.  Can you elaborate?","ts":"1479913833.003932"},{"type":"message","user":"U0KPFAZNF","text":"I assume you mean to ask where the build\/docker\/bin\/peer binary comes from before I stuff it?","ts":"1479913904.003933"},{"type":"message","user":"U0KPFAZNF","text":"If so, it's all in the top level Makefile ","ts":"1479913945.003934"},{"type":"message","user":"U0KPFAZNF","text":"Be happy to walk through it","ts":"1479913959.003935"},{"type":"message","user":"U2TD4Q7NW","text":"<@U0KPFAZNF> hence my confusion build peer doesn't work (RHEL native) but build peer-docker does, at first I thought it was because it was all containerized and my centos container works fine, but then I see that build peer-docker calls build peer which doesn't work when I call it and got very confused.","ts":"1479916016.003936"},{"type":"message","user":"U0KPFAZNF","text":"I am reasonably confident that peer-docker does not call peer","ts":"1479916074.003937"},{"type":"message","user":"U0KPFAZNF","text":"what makes you think that it does?","ts":"1479916085.003938"},{"type":"message","user":"U2TD4Q7NW","text":"nevermind I suffer from stupid or maybe just too many tests running","ts":"1479916208.003939"},{"type":"message","user":"U2TD4Q7NW","text":"peer: build\/bin\/peer\npeer-docker: build\/image\/peer\/.dummy","ts":"1479916210.003940"},{"type":"message","user":"U2TD4Q7NW","text":"so its the dummy not the peer build.","ts":"1479916219.003941"},{"type":"message","user":"U0KPFAZNF","text":"right, and really that is just an alias","ts":"1479916900.003942"},{"type":"message","user":"U0KPFAZNF","text":"peer-docker == build\/image\/peer\/.dummy","ts":"1479916912.003943"},{"type":"message","user":"U2TD4Q7NW","text":"I'm kinda seeing it now, the ccenv and the javaenv right?","ts":"1479916913.003944"},{"type":"message","user":"U0KPFAZNF","text":"yeah...the issue is two fold","ts":"1479916923.003945"},{"type":"message","user":"U0KPFAZNF","text":"1) make only knows how to evaluate files, whereas docker images are not files","ts":"1479916940.003946"},{"type":"message","user":"U2TD4Q7NW","text":"yeha this make -&gt; docker stuff is really odd to me. I'm not exactly a make wiz normally either.","ts":"1479916971.003947"},{"type":"message","user":"U0KPFAZNF","text":"2) phony-targets like \"peer-docker\" are bad to use in general since they always evaluate as needing to be rebuilt","ts":"1479916971.003948"},{"type":"message","user":"U0KPFAZNF","text":"so, if I said \"foo: bar\" where bar is a phony target, \"foo\" will _always_ need to be rebuilt","ts":"1479916996.003949"},{"type":"message","user":"U0KPFAZNF","text":"so its better to quickly translate into files asap","ts":"1479917015.003950"},{"type":"message","user":"U0KPFAZNF","text":"and then use those, so make can (more correctly) eval the system state","ts":"1479917030.003951"},{"type":"message","user":"U0KPFAZNF","text":"e.g. bar: build\/bar\/.dummy\\nfoo: build\/bar\/.dummy","ts":"1479917074.003952"},{"type":"message","user":"U0KPFAZNF","text":"would yield superior performance, if but a bit ugly","ts":"1479917089.003953"},{"type":"message","user":"U2TD4Q7NW","text":"ok so the dummy files are used to signal to make, the one I looked at was blank, should it contain a hash or somthing?","ts":"1479917096.003954"},{"type":"message","user":"U2TD4Q7NW","text":"oh wait timestamp on the file","ts":"1479917105.003955"},{"type":"message","user":"U0KPFAZNF","text":"yeah, its based on timestamps","ts":"1479917112.003956"},{"type":"message","user":"U0KPFAZNF","text":"but to that point, I do need to enhance them with the gitsha","ts":"1479917125.003957"},{"type":"message","user":"U0KPFAZNF","text":"e.g. build\/images\/peer\/.dummy-$sha","ts":"1479917150.003958"},{"type":"message","user":"U0KPFAZNF","text":"because we have a problem right now where someone can change their git tree but make doesnt detect it needs to rebuild","ts":"1479917172.003959"},{"type":"message","user":"U0KPFAZNF","text":"this materializes in .dummy being satisifed, but dependendies between docker containers are not","ts":"1479917221.003960"},{"type":"message","user":"U0KPFAZNF","text":"i digress","ts":"1479917226.003961"},{"type":"message","user":"U0KPFAZNF","text":"neither here nor there","ts":"1479917230.003962"},{"type":"message","user":"U0KPFAZNF","text":"none of this would be a problem if docker-images surfaced as part of the posix filesystem","ts":"1479917263.003963"},{"type":"message","user":"U0KPFAZNF","text":"but they dont, so I had to get clever","ts":"1479917268.003964"},{"type":"message","user":"U2TD4Q7NW","text":"so right now I'm just trying to figure out next steps, that would be the javaenv and the ccenv, I guess I can leave the javaenv alone and not port it to redhat land","ts":"1479917272.003965"},{"type":"message","user":"U2TD4Q7NW","text":"this is going to be so much easier if we convince RH management to just package all this crap for us in a special repo.","ts":"1479917305.003966"},{"type":"message","user":"U0KPFAZNF","text":"let me ask you this: aside from branding optics, what does it matter whats inside the container","ts":"1479917308.003967"},{"type":"message","user":"U0KPFAZNF","text":"is there a technical reason too?","ts":"1479917316.003968"},{"type":"message","user":"U2TD4Q7NW","text":"there are lots of people using rhel that face significant certification requirments for all software they run","ts":"1479917344.003969"},{"type":"message","user":"U0KPFAZNF","text":"you could convievably just run docker containers on RHEL\/CentOs without caring the contents","ts":"1479917347.003970"},{"type":"message","user":"U2TD4Q7NW","text":"so... rhel, rhel everywhere.","ts":"1479917350.003971"},{"type":"message","user":"U0KPFAZNF","text":"ah, I see","ts":"1479917352.003972"},{"type":"message","user":"U0KPFAZNF","text":"yes, this makes sense","ts":"1479917354.003973"},{"type":"message","user":"U2TD4Q7NW","text":"these are many of the same customers interested in blockchain\/hyperledger","ts":"1479917363.003974"},{"type":"message","user":"U2TD4Q7NW","text":"\u00af\\_(\u30c4)_\/\u00af","ts":"1479917369.003975"},{"type":"message","user":"U0KPFAZNF","text":"well, I would very much like to stay in the loop with what you are doing in making multi $distro something we can support upstream if its reasonable to do so","ts":"1479917407.003976"},{"type":"message","user":"U2TD4Q7NW","text":"ghaskins base image\/ peer took me all of 15 min once I figured out what I was doing really","ts":"1479917430.003977"},{"type":"message","user":"U0KPFAZNF","text":"im not quite sure what that might end up looking like, but lets work together","ts":"1479917437.003978"},{"type":"message","user":"U2TD4Q7NW","text":"agreed","ts":"1479917443.003979"},{"type":"message","user":"U0KPFAZNF","text":"we still have ubuntu-isms sprayed everywhere, but we can work on cleaning those up","ts":"1479917473.003980"},{"type":"message","user":"U2TD4Q7NW","text":"the big problem is handling all the funky dependencies, over in rhel land we have to package them and sign off anyways so we can skip that problem downstream","ts":"1479917473.003981"},{"type":"message","user":"U2TD4Q7NW","text":"but upstream I think we should move to put all the dependency handling into system agnostic scripts and then have components for the distro specific stuff","ts":"1479917514.003982"},{"type":"message","user":"U0KPFAZNF","text":"yeah...i have long thought that using a higher-level provisioner (like puppet) might be easier to normalize the dependency specification than our current bash approach","ts":"1479917514.003983"},{"type":"message","user":"U0KPFAZNF","text":"thoughts?","ts":"1479917516.003984"},{"type":"message","user":"U2TD4Q7NW","text":"we're an ansible shop, but i can learn puppet, anything is better than bash in large quantities","ts":"1479917542.003985"},{"type":"message","user":"U0KPFAZNF","text":"to be clear, I just mean the stand-alone puppet thing that can process a manifest file, not a full scale client\/server setup","ts":"1479917542.003986"},{"type":"message","user":"U0KPFAZNF","text":"im not against ansible...i just dont know it","ts":"1479917558.003987"},{"type":"message","user":"U0KPFAZNF","text":"ive worked with puppet, so that was my go-to","ts":"1479917564.003988"},{"type":"message","user":"U2TD4Q7NW","text":"to be honest puppet is probably better for this ansible can do cool things locally but its smarts are tied up doing remote admin","edited":{"user":"U2TD4Q7NW","ts":"1479917597.000000"},"ts":"1479917593.003989"},{"type":"message","user":"U0KPFAZNF","text":"I think conceptually, any devop-like thing (puppet\/chef\/ansible) would get us closer to $distro neutral","ts":"1479917594.003990"},{"type":"message","user":"U2TD4Q7NW","text":"+1","ts":"1479917605.003992"},{"type":"message","user":"U0KPFAZNF","text":"I have nothing against bash, and in fact favor it when I know $distro is not a factor","ts":"1479917628.003993"},{"type":"message","user":"U0KPFAZNF","text":"its just simple and reliable","ts":"1479917636.003994"},{"type":"message","user":"U2TD4Q7NW","text":"I often still don't understand bash parsing rules.  The issue is how messy it gets when you need to do more complicated stuff","ts":"1479917668.003995"},{"type":"message","user":"U2TD4Q7NW","text":"but copy \/ install \/ build sure","ts":"1479917678.003996"},{"type":"message","user":"U0KPFAZNF","text":"thats probably true","ts":"1479917679.003997"},{"type":"message","user":"U0KPFAZNF","text":"anyway, long story short, id be interested in seeing if a $distro neutral approach could be adopted upstream, so lets hammer it out together so you dont end up with a one-off you have to maintain on the side","ts":"1479917729.003998"},{"type":"message","user":"U2TD4Q7NW","text":"agreed, setup a meeting sometime after the holiday then? Or maybe just start passing around a gdoc?","ts":"1479917834.003999"},{"type":"message","user":"U0KPFAZNF","text":"either way","ts":"1479917844.004000"},{"type":"message","user":"U0KPFAZNF","text":"though after the holiday either way","ts":"1479917864.004001"},{"type":"message","user":"U0KPFAZNF","text":"im about T-45m away from kicking out for the week","ts":"1479917877.004002"},{"type":"message","user":"U0KPFAZNF","text":":wink:","ts":"1479917880.004003"},{"type":"message","user":"U0KPFAZNF","text":"though knowing me, ill still be slack-lurking even through turkey dinner","ts":"1479917917.004004"},{"type":"message","user":"U2TD4Q7NW","text":"have a good thanksgiving!","ts":"1479918003.004005"},{"user":"U2NG5AX0A","text":"<@U2NG5AX0A|klorenz> has joined the channel","type":"message","subtype":"channel_join","ts":"1479918037.004006"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KPFAZNF> ` T-45m away from kicking out for the week` \u2026 I was going to say \u2026hmmm :slightly_smiling_face:","ts":"1479918079.004007"},{"type":"message","user":"U0ULK2JPP","text":"(Happy Thanksgiving!)","ts":"1479918090.004008"},{"type":"message","user":"U0KPFAZNF","text":"ty sir, likewise","ts":"1479918133.004009"},{"type":"message","user":"U0KPFAZNF","text":"<@U2TD4Q7NW> you too","ts":"1479918273.004010"},{"user":"U2Y2V95D2","text":"<@U2Y2V95D2|alanlee> has joined the channel","type":"message","subtype":"channel_join","ts":"1479920338.004011"},{"type":"message","user":"U13Q594J2","text":"After cleanup I ended up with the below error , Unable to create the docker images\n`\"make: *** No rule to make target build\/bin\/orderer\" needed by 'orderer'.  Stop.\" `","edited":{"user":"U13Q594J2","ts":"1479920758.000000"},"ts":"1479920697.004012"},{"type":"message","user":"U13Q594J2","text":"can some one help me how to get rid of this issue","ts":"1479920713.004013"},{"type":"message","user":"U11HH3P7Y","text":"<@U13Q594J2> I am able to build images on latest commit using `make docker`","ts":"1479920892.004016"},{"type":"message","user":"U13Q594J2","text":"<@U11HH3P7Y> I was able to generate too .. However after `make clean` it is not working any more and ended up with this error.\nnot really sure what is going wrong here","ts":"1479921233.004017"},{"type":"message","user":"U0KPFAZNF","text":"hey guys, OTP but ill ping you back shortly","ts":"1479921567.004018"},{"type":"message","subtype":"file_share","text":"<@U11MANG9G|jonathanlevi> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/jonathanlevi\/F35P1JPCY\/_build_nextroundofdockercrs.png|[BUILD]NextRoundOfDockerCRs Merged> and commented: BTW: I have just merged 3 of Greg\u2019s CRs to `master`, and for working with the latest, you might need to `vagrant destroy`, etc.\n\nGreg will send an email shortly with instructions.","file":{"id":"F35P1JPCY","created":1479929963,"timestamp":1479929963,"name":"[BUILD]NextRoundOfDockerCRs.png","title":"[BUILD]NextRoundOfDockerCRs Merged","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U11MANG9G","editable":false,"size":101075,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F35P1JPCY\/_build_nextroundofdockercrs.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F35P1JPCY\/download\/_build_nextroundofdockercrs.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F35P1JPCY-e35317ce4e\/_build_nextroundofdockercrs_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F35P1JPCY-e35317ce4e\/_build_nextroundofdockercrs_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F35P1JPCY-e35317ce4e\/_build_nextroundofdockercrs_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":23,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F35P1JPCY-e35317ce4e\/_build_nextroundofdockercrs_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":30,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F35P1JPCY-e35317ce4e\/_build_nextroundofdockercrs_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F35P1JPCY-e35317ce4e\/_build_nextroundofdockercrs_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":45,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F35P1JPCY-e35317ce4e\/_build_nextroundofdockercrs_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":60,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F35P1JPCY-e35317ce4e\/_build_nextroundofdockercrs_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":64,"image_exif_rotation":1,"original_w":2826,"original_h":178,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/jonathanlevi\/F35P1JPCY\/_build_nextroundofdockercrs.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F35P1JPCY-8f26dacf78","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc36CEB3KM","created":1479929963,"timestamp":1479929963,"user":"U11MANG9G","is_intro":true,"comment":"BTW: I have just merged 3 of Greg\u2019s CRs to `master`, and for working with the latest, you might need to `vagrant destroy`, etc.\n\nGreg will send an email shortly with instructions.","channel":""}},"user":"U11MANG9G","upload":true,"display_as_bot":false,"username":"<@U11MANG9G|jonathanlevi>","bot_id":null,"ts":"1479929966.004019"},{"type":"message","user":"U11MANG9G","text":"[ Thank you <@U0KPFAZNF> for working to get rid of vagrant, in the spirit of Thanksgiving, etc. Updated :wink: ]","edited":{"user":"U11MANG9G","ts":"1479931353.000000"},"ts":"1479930071.004020"},{"type":"message","user":"U0KPFAZNF","text":"well, we arent quite there yet, but soon","ts":"1479931001.004021"},{"type":"message","user":"U0KPFAZNF","text":"for one, I havent addressed behave","ts":"1479931012.004022"},{"type":"message","user":"U0KPFAZNF","text":"also, the \"peer chaincode\" CLI still needs native binaries, and the documentation needs to be updated","ts":"1479931036.004023"},{"type":"message","user":"U0KPFAZNF","text":"I will be working with <@U10LM0FFZ> on the doc after the holiday","ts":"1479931054.004024"},{"type":"message","user":"U0KPFAZNF","text":"so, for the time being, certain use cases will still rely on vagrant (namely, CLI users)","ts":"1479931079.004025"},{"type":"message","user":"U0KPFAZNF","text":"(and behave","ts":"1479931088.004026"},{"type":"message","user":"U0KPFAZNF","text":"the biggest challenge is that we need docker v1.8.1 but the current vagrant baseimage ships v1.5.2","ts":"1479931113.004027"},{"type":"message","user":"U0KPFAZNF","text":"thus the need for the destroy","ts":"1479931118.004028"},{"type":"message","user":"U0KPFAZNF","text":"sorry, compose v1.8.1","ts":"1479931125.004029"},{"type":"message","user":"U11MANG9G","text":"I have approved that too I think. Need another.","ts":"1479931318.004030"},{"user":"U2UKSBLG5","text":"<@U2UKSBLG5|jjmiranda> has joined the channel","type":"message","subtype":"channel_join","ts":"1479943231.004032"},{"user":"U1F1CU61Y","text":"<@U1F1CU61Y|ankitkamra> has joined the channel","type":"message","subtype":"channel_join","ts":"1479955677.004033"},{"user":"U2UU1LKTR","text":"<@U2UU1LKTR|jonathan.tan> has joined the channel","type":"message","subtype":"channel_join","ts":"1480057579.004034"},{"type":"message","user":"U2UU1LKTR","text":"Hi All, just a quick question regarding the Table API and the GetRows command, does anyone know would there be a new feature in future versions (we\u2019re on 0.6 now) where the GetRows command could do some form of pagination \/ limits? There could be a usecase where 10,000 \u201cRows\u201d would be returned and I could imagine , that call would take an impact on the peer.","ts":"1480057732.004035"},{"type":"message","user":"U1F1CU61Y","text":"hi i am facing following issue while deploying chaincode :-\n\nvp0_1  | 09:16:17.441 [dockercontroller] deployImage -&gt; ERRO 025 Error building images: Post <http:\/\/172.17.0.1:2375\/build?t=dev-vp0-0f5b1d65041bc6d500bd0f1cab50eb6154c291ef0f4596d64b6797e8ef8f7c34a179b5a2cea82253ff3d74e768512fe0481503eadcf13d18f9761bbb8133efd0>: dial tcp 172.17.0.1:2375: getsockopt: no route to host\nvp0_1  | 09:16:17.441 [dockercontroller] deployImage -&gt; ERRO 026 Image Output:\nvp0_1  | ********************\nvp0_1  |\nvp0_1  | ********************\nvp0_1  | 09:16:21.453 [dockercontroller] Start -&gt; ERRO 027 start-could not recreate container Post <http:\/\/172.17.0.1:2375\/containers\/create?name=dev-vp0-0f5b1d65041bc6d500bd0f1cab50eb6154c291ef0f4596d64b6797e8ef8f7c34a179b5a2cea82253ff3d74e768512fe0481503eadcf13d18f9761bbb8133efd0>: dial tcp 172.17.0.1:2375: getsockopt: no route to host\nvp0_1  | 09:16:21.453 [chaincode] Launch -&gt; ERRO 028 launchAndWaitForRegister failed Error starting container: Post <http:\/\/172.17.0.1:2375\/containers\/create?name=dev-vp0-0f5b1d65041bc6d500bd0f1cab50eb6154c291ef0f4596d64b6797e8ef8f7c34a179b5a2cea82253ff3d74e768512fe0481503eadcf13d18f9761bbb8133efd0>: dial tcp 172.17.0.1:2375: getsockopt: no route to host","ts":"1480066058.004037"},{"type":"message","user":"U1F1CU61Y","text":"any help","ts":"1480066071.004038"},{"type":"message","user":"U1F1CU61Y","text":"?","ts":"1480066072.004039"},{"type":"message","user":"U0N4P17ND","text":"Hi All. When we deploy chaincode it prepares some deployment package and on deployment it creates docker image inside peer, right? So the question: what is included in deployment package? and what is requirement for the instance which makes a deployment? I mean if I deploy using NodeSDK to remote peer - what dependencies should be installed on this host: my chaincode, go dependencies, peer images - and why?","ts":"1480070661.004040"},{"type":"message","user":"U0PB67X4K","text":"<@U0N4P17ND>  -  when you deploy chaincode from the NodeSDK (or in the future any of the client SDKs), the \"deployment package\" is basically a tarball which contains the information for being able to create an image using the Docker Remote API  (so basically a Dockerfile and any contents which are needed to run \"build image\").   The default Dockerfile created by the SDKs (currently) requires that you include the source for your chaincode as well as any external dependencies (which also includes the fabric src) packaged in the vendor folder of your chaincode directory in order to deploy","ts":"1480082407.004041"},{"type":"message","user":"U0N4P17ND","text":"<@U0PB67X4K> thanks. It make sense - but what we phased yesterday (based on v06) deploying from remote NodeSDK to the peer is that it caused chaincode start error on peer before we have not pulled docker images on NodeSDK, which was a bit odd.. is it expected to pull docker images on NodeSDK to deploy chaincode or did we mixed something?","edited":{"user":"U0N4P17ND","ts":"1480084408.000000"},"ts":"1480083563.004042"},{"type":"message","user":"U0N4P17ND","text":"And another related question - can we add node dynamically while running with PBFT enabled? So the question is we are running on few different physical instances (so running instance one by one with different docker-compose) and it works but we have not enabled PBFT yet. Crossing fingers and will try now - but should we expect any issues or not really?","ts":"1480084990.004044"},{"type":"message","user":"U0N4P17ND","text":"Sorry, for the 1st question docker images not needed on NodeSDK - rechecked - my mistake, so go dependencies were missed...","ts":"1480086673.004045"},{"type":"message","user":"U0PB67X4K","text":"<@U0N4P17ND> - in v0.6 with PBFT you cannot dynamically add a validating peer \/ node","ts":"1480097499.004046"},{"type":"message","user":"U2Y2V95D2","text":"Hi <@U0PB67X4K> , will v1.0 allow \"PBFT while allowing dynamically add validating peer\"?  This is quite important features in live expansion of nodes. Thank you.","ts":"1480128096.004047"},{"type":"message","user":"U0UGH3X7X","text":"<@U2Y2V95D2> v1.0 drastically reorganizes the various fabric components.  Suggest you got to <https:\/\/wiki.hyperledger.org\/community\/fabric-design-docs> )","ts":"1480130099.004048"},{"type":"message","user":"U2Y2V95D2","text":"Thanks <@U0UGH3X7X>","ts":"1480131032.004049"},{"type":"message","user":"U0XQ35CDD","text":"<@U2Y2V95D2>: This is in our radar, but there is no timeline for when this will be ready, and no code to show for the dynamic addition of BFT ordering nodes at this time either. ","edited":{"user":"U0XQ35CDD","ts":"1480134958.000000"},"ts":"1480134436.004050"},{"type":"message","user":"U2Y2V95D2","text":"Thanks @kos'","ts":"1480147133.004052"},{"type":"message","user":"U2X9KDDL7","text":"Hi all, are there any docs on the various data types used in ChaincodeStubInterface for user\/transaction authentication -- like GetCallerCertificate, GetCallerMetadata, GetBinding, GetPayload -- these terms don't seem to be well-defined in any document I've found so far.","ts":"1480199309.004053"},{"user":"U1K0ADU82","text":"<@U1K0ADU82|hsukhwa> has joined the channel","type":"message","subtype":"channel_join","ts":"1480293675.004054"},{"type":"message","user":"U2UU1LKTR","text":"<@U2X9KDDL7> I am looking for such documentation as well.","ts":"1480300752.004055"},{"type":"message","user":"U0UHG4VP1","text":"<@U11MANG9G> <@U0PB67X4K>  the CI hardware is sized to be ~equal to <@U0KM61BCP>'s Macbook Pro.","edited":{"user":"U0UHG4VP1","ts":"1480301247.000000"},"ts":"1480301027.004056"},{"user":"U2XF5L2S3","text":"<@U2XF5L2S3|tbltzk> has joined the channel","type":"message","subtype":"channel_join","ts":"1480347309.004058"},{"user":"U2TBCE9D3","text":"<@U2TBCE9D3|jefftenn> has joined the channel","type":"message","subtype":"channel_join","ts":"1480361322.004059"},{"type":"message","user":"U2TBCE9D3","text":"Hi, I am attempting to run go build .\/* from the IBM-Blockchain\/learn-chaincode\/start folder, on my Mac.  I already have run a simple hello-world go build on the system without any issues, but when I ran the go build.\/*, the build hung.  After ctrl-c out of the build command, any build attempts now fail with a fatal error unexpected signal during runtime execution.  runtime.sigpanic().  I was wondering if anyone else had experienced anything similar.  Thanks!","ts":"1480361367.004060"},{"type":"message","user":"U2TBCE9D3","text":"Looks like there are issues with Go and Mac Sierra (according to the golang\/go git issues.","ts":"1480361942.004061"},{"type":"message","user":"U0KPFAZNF","text":"<@U0PB67X4K> do you know the timeline for the goleveldb change?","ts":"1480363516.004062"},{"type":"message","user":"U0KPFAZNF","text":"I have my --static patches in the last phases of test....so if its more than 1-week out, I still would suggest a new baseimage with updated .a","ts":"1480363558.004063"},{"type":"message","user":"U0KPFAZNF","text":"it shouldnt really impact anything other than my effort to produce a new release, which I am willing to do","ts":"1480363583.004064"},{"type":"message","user":"U0PB67X4K","text":"The code does not use rocks anymore as far as I can tell.  I asked on the ledger channel when they plan to delete the rocks code","ts":"1480364173.004065"},{"type":"message","user":"U1KFCPFQA","text":"goleveldb is the default database already.  RocksDB is not used in any code, and will be completely removed from the code and environments in the next week or so.","ts":"1480364784.004066"},{"type":"message","user":"U0PB67X4K","text":"<@U0KPFAZNF>:  if you want me to +2 your CR I can","ts":"1480366181.004067"},{"user":"U3781DR97","text":"<@U3781DR97|karl.e> has joined the channel","type":"message","subtype":"channel_join","ts":"1480367994.004068"},{"type":"message","user":"U3781DR97","text":"Hi all, SK here; we're currently on sprint 4 (182a8672aaceacdbc3a9673d420a2c0bbcb5300c fabric and 4d706854822211c63694a72dccd9ad9353f29cee fabric-node-sdk). Is there a similar end-of-sprint5 state we could upgrade to? Thanks.","ts":"1480368200.004069"},{"user":"U234U0A5U","text":"<@U234U0A5U|ruslan.ardashev> has joined the channel","type":"message","subtype":"channel_join","ts":"1480428252.004070"},{"type":"message","user":"U234U0A5U","text":"(hopefully this is the right place to ask) with v1 coming out soon &amp; its new consensus, don't we remove a lot of the security inherent to blockchain by limiting the transaction to relevant parties?","ts":"1480430697.004071"},{"type":"message","user":"U234U0A5U","text":"(by security I mean the data replication and lack of a need for reconciliation that\u2019s inherent to blockchain)","ts":"1480430761.004072"},{"type":"message","user":"U234U0A5U","text":"would also like to ask about transaction confidentiality - I've been under the impression that even though each validating peer can see the data, we hide details away by running the transactions in a secure process (that runs the chaincode). is this a correct way of looking at things? here (<https:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/abstract_v1\/>) it says that up until now \" Every peer can see the logic for every transaction.\"","ts":"1480430936.004073"},{"type":"message","user":"U0PB67X4K","text":"<@U234U0A5U>  - I am honestly not sure why people actually think that blockchains are more secure than other types of data stores, but I do see these types of questions \/ comments quite often.","ts":"1480430959.004074"},{"type":"message","user":"U0PB67X4K","text":"if you run a public, permissionless blockchain, then clearly the greater the number of validating \/ storage nodes, the harder it will be for someone to take over the chain and or modify (or even just wholesale wipeout) the data","edited":{"user":"U0PB67X4K","ts":"1480431072.000000"},"ts":"1480431058.004075","reactions":[{"name":"+1","users":["U234U0A5U"],"count":1}]},{"type":"message","user":"U234U0A5U","text":"yeah maybe secure was a bad term. to expand a bit I mean in terms of hacking - when you replicate your data store across more parties you have less risk (more secure) if one node gets hacked","ts":"1480431103.004077"},{"type":"message","user":"U234U0A5U","text":"exactly","ts":"1480431107.004078"},{"type":"message","user":"U234U0A5U","text":"so don\u2019t we significantly lose out on this by limiting transactions to relevant parties?","ts":"1480431161.004079"},{"type":"message","user":"U234U0A5U","text":"how does everyone have a consistent view of the dB if not everyone gets a copy of the transaction?","ts":"1480431187.004080"},{"type":"message","user":"U234U0A5U","text":"and weren\u2019t we previously running all transactions on all nodes without visibility to all users via secured processes?","edited":{"user":"U234U0A5U","ts":"1480431223.000000"},"ts":"1480431206.004081"},{"type":"message","user":"U234U0A5U","text":"so many questions lol","ts":"1480431209.004082"},{"user":"U37F5PG64","text":"<@U37F5PG64|anton> has joined the channel","type":"message","subtype":"channel_join","ts":"1480432351.004084"},{"user":"U0KMJF9AA","text":"<@U0KMJF9AA|vikasjakhar> has joined the channel","type":"message","subtype":"channel_join","ts":"1480441240.004085"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> now seeing this one: FAIL\t<http:\/\/github.com\/hyperledger\/fabric\/gossip\/gossip|github.com\/hyperledger\/fabric\/gossip\/gossip>\t157.839s in a local run","ts":"1480443301.004086"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0KPFAZNF>  pics or didn't happen :wink:","ts":"1480452456.004087","reactions":[{"name":"stuck_out_tongue_winking_eye","users":["U11MANG9G"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"understood, and sorry, will grab next time.","ts":"1480452731.004088"},{"type":"message","user":"U0KPFAZNF","text":"I mostly was reporting that I now saw it local (previously there were comments about it only occuring in CI)","ts":"1480452750.004089"},{"type":"message","user":"U0ZJZBJLF","text":"np, just didn't want this to hang in the air because it looks to a 3rd party that I'm ignoring you","ts":"1480452755.004090"},{"type":"message","user":"U0KPFAZNF","text":"right, sorry","ts":"1480452762.004091"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> response time = superb :wink:","ts":"1480452776.004092"},{"type":"message","user":"U0P2GSA8Z","text":"<@U234U0A5U> <@U0PB67X4K> from what I understand permissioned blockchains have over other datastores the advantage of being temper-evident, while permissionless blockchains have the advantage of being temper-proof (albeit after a certain number of blocks have been validated)","ts":"1480453682.004093"},{"type":"message","user":"U0P2GSA8Z","text":"but I too would like a more refined answer because I get a lot of questions from people as to what the real advantage is over distributed databases","ts":"1480453746.004094","reactions":[{"name":"+1","users":["U234U0A5U"],"count":1}]},{"type":"message","user":"U234U0A5U","text":"even if we ignore the concept of permissioned versus permissionless for a second, it seems that v1 will isolate transactions to only relevant parties (only a few nodes) versus distributing them across the entire system","ts":"1480453788.004095"},{"type":"message","user":"U234U0A5U","text":"seems to eliminate one of the key benefits of blockchain imo","ts":"1480453836.004096"},{"type":"message","user":"U0P2GSA8Z","text":"yes","ts":"1480453846.004097"},{"type":"message","user":"U234U0A5U","text":"(the fact that data is replicated and eliminates the need for reconciliation)","ts":"1480453851.004098"},{"type":"message","user":"U234U0A5U","text":"one of the reasons cited for doing this was \u201cadditional security\u201d because we only expose the data to relevant parties in doing so. but I was under the impression that we always distributed each transaction network-wide and never exposed data thanks to secure processes","ts":"1480453932.004099"},{"type":"message","user":"U234U0A5U","text":"(that run the chaincode, are given the decryption keys to everything during setup, and then securely run as to not expose the keys or data)","ts":"1480453977.004100"},{"type":"message","user":"U0P2GSA8Z","text":"well, the \"additional security\" from what I understand refers to not putting on the ledger accessible by parties\/peers data you don't want to share with them","ts":"1480454636.004101"},{"type":"message","user":"U0P2GSA8Z","text":"it does enable use cases that are hard to handle otherwise","ts":"1480454708.004102"},{"type":"message","user":"U0P2GSA8Z","text":"but like permissioned networks which are seen as heretic by some I suspect this will too","ts":"1480454733.004103"},{"type":"message","user":"U0P2GSA8Z","text":"hey, <@U0KPFAZNF> will you be at the hackfest next week?","ts":"1480454938.004104"},{"type":"message","user":"U0KPFAZNF","text":"hey <@U0P2GSA8Z> if I am, I really should book something heh","ts":"1480455006.004105"},{"type":"message","user":"U0KPFAZNF","text":"I live not too far away, though","ts":"1480455020.004106"},{"type":"message","user":"U0KPFAZNF","text":"(MA -&gt;NY)","ts":"1480455023.004107"},{"type":"message","user":"U0P2GSA8Z","text":"cool, will be nice to meet you in person","ts":"1480455043.004108"},{"type":"message","user":"U0PB67X4K","text":"<@U0KPFAZNF> - guest appearance in NYC for you next week?","ts":"1480455474.004109"},{"type":"message","user":"U11MANG9G","text":"<@U0PB67X4K> - that would not be a bad idea!","ts":"1480455660.004110"},{"type":"message","user":"U0P2GSA8Z","text":"that's what these are supposed to be about","ts":"1480455679.004111"},{"type":"message","user":"U0P2GSA8Z","text":"you gotta hang out and have drinks to develop strong working relationships :wink:","ts":"1480455807.004112"},{"type":"message","user":"U0P2GSA8Z","text":"it's all for the good of the project of course","ts":"1480455849.004113"},{"type":"message","user":"U0PB67X4K","text":"project?  there's a project going on?  no one told me","ts":"1480456779.004114"},{"type":"message","user":"U0P2GSA8Z","text":":slightly_smiling_face:","ts":"1480457123.004115"},{"type":"message","user":"U0P2GSA8Z","text":"seriously though, <@U0KPFAZNF> you should come","ts":"1480457137.004116","reactions":[{"name":"woo","users":["U0UHG4VP1","U11MANG9G"],"count":2}]},{"type":"message","user":"U0P2GSA8Z","text":"so, guys, I just tried to build the latest master version to check where things are at but I don't understand what I'm getting","ts":"1480457385.004117"},{"type":"message","user":"U0P2GSA8Z","text":"when I tried launching the peer with peer node start --peer-chaincodedev","ts":"1480457478.004118"},{"type":"message","user":"U0P2GSA8Z","text":"I get an error:","ts":"1480457504.004119"},{"type":"message","user":"U0P2GSA8Z","text":"13:24:40.780 [committer] startDeliver -&gt; INFO 063 Starting deliver service client\n13:24:43.782 [committer] initDeliver -&gt; ERRO 064 Cannot dial to 0.0.0.0:7050, because of grpc: timed out when dialing\n13:24:43.783 [committer] startDeliver -&gt; ERRO 065 Can't initiate deliver protocol [grpc: timed out when dialing]","ts":"1480457506.004120"},{"type":"message","user":"U0P2GSA8Z","text":"but then it goes on anyway","ts":"1480457515.004121"},{"type":"message","user":"U0P2GSA8Z","text":"13:24:50.972 [GossipStateProvider] antiEntropy -&gt; DEBU 066 Current ledger height is the same as ledger height on other peers.\n13:25:01.134 [GossipStateProvider] antiEntropy -&gt; DEBU 067 Current ledger height is the same as ledger height on other peers.","ts":"1480457530.004122"},{"type":"message","user":"U0P2GSA8Z","text":"I should say that I'm running vagrant","ts":"1480457541.004123"},{"type":"message","user":"U0P2GSA8Z","text":"then I tried to stop it, hitting Ctrl C doesn't do shit","ts":"1480457580.004124"},{"type":"message","user":"U0P2GSA8Z","text":"so I go to another shell and run \"peer node stop\"","ts":"1480457613.004125"},{"type":"message","user":"U0P2GSA8Z","text":"this crashes","ts":"1480457663.004126"},{"type":"message","user":"U0P2GSA8Z","text":"13:25:17.547 [msp] Setup -&gt; INFO 00a MSP manager setup complete (config file \/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/msp\/peer-config.json)\n13:25:17.558 [nodeCmd] stop -&gt; INFO 00b Stopping peer using grpc\npanic: runtime error: invalid memory address or nil pointer dereference\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x8fdf86]\n\ngoroutine 1 [running]:\npanic(0xa7cac0, 0xc42000e0d0)\n        \/opt\/go\/src\/runtime\/panic.go:500 +0x1a1\n<http:\/\/github.com\/hyperledger\/fabric\/vendor\/github.com\/tecbot\/gorocksdb.(*ColumnFamilyHandle).Destroy(0x0)|github.com\/hyperledger\/fabric\/vendor\/github.com\/tecbot\/gorocksdb.(*ColumnFamilyHandle).Destroy(0x0)>\n        \/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/vendor\/github.com\/tecbot\/gorocksdb\/cf_handle.go:25 +0x26\n<http:\/\/github.com\/hyperledger\/fabric\/core\/db.(*OpenchainDB).close(0xc42018d170)|github.com\/hyperledger\/fabric\/core\/db.(*OpenchainDB).close(0xc42018d170)>\n        \/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/db\/db.go:214 +0x33\n<http:\/\/github.com\/hyperledger\/fabric\/core\/db.Stop()|github.com\/hyperledger\/fabric\/core\/db.Stop()>\n        \/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/db\/db.go:82 +0x2d\n<http:\/\/github.com\/hyperledger\/fabric\/peer\/node.stop|github.com\/hyperledger\/fabric\/peer\/node.stop>(0x0, 0x4)\n        \/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/peer\/node\/stop.go:76 +0x6cd\n<http:\/\/github.com\/hyperledger\/fabric\/peer\/node.glob..func3|github.com\/hyperledger\/fabric\/peer\/node.glob..func3>(0x1088280, 0x10d1df8, 0x0, 0x0)\n        \/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/peer\/node\/stop.go:49 +0x22\n...","ts":"1480457698.004127"},{"type":"message","user":"U0P2GSA8Z","text":"interestingly it still stops the node.","ts":"1480457714.004128"},{"type":"message","user":"U0P2GSA8Z","text":"but all of that doesn't seem quite right","ts":"1480457725.004129"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0PB67X4K> any idea?","ts":"1480457749.004130"},{"type":"message","user":"U0PB67X4K","text":"well I need to fix the CTRL+C - I was looking at that - we know that's an issue","ts":"1480457824.004131"},{"type":"message","user":"U0PB67X4K","text":"not sure about the rocksdb one - I had not seen that before","ts":"1480457842.004132"},{"type":"message","user":"U0P2GSA8Z","text":"ok","ts":"1480457875.004133"},{"type":"message","user":"U0P2GSA8Z","text":"it is totally reproducible on my env right now","ts":"1480458624.004134"},{"type":"message","user":"U0KPFAZNF","text":"<@U24M29R4G> <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2853\/>","ts":"1480461141.004135"},{"type":"message","user":"U0KPFAZNF","text":"<@U0P2GSA8Z> will def see if I can arrange that","ts":"1480461161.004136"},{"type":"message","user":"U24M29R4G","text":"<@U0KPFAZNF> thanks. will take a look","ts":"1480461613.004137"},{"user":"U38GJ3C1H","text":"<@U38GJ3C1H|cypherzealot> has joined the channel","type":"message","subtype":"channel_join","ts":"1480480120.004138"},{"type":"message","user":"U1AU8DRQR","text":"having a gerrit slowdown...","ts":"1480500400.004139"},{"type":"message","user":"U196R0LA2","text":"Hi, I\u2019ve submitted a new example application for review [<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2883\/>] \u2014 this is my first contribution to this project and my first time using Gerrit code review, so any feedback would be very much appreciated. Thanks!","ts":"1480537076.004140"},{"type":"message","user":"U0ZJZBJLF","text":"nvp?","ts":"1480538448.004141"},{"type":"message","user":"U0ZJZBJLF","text":"if you mean by non validator peer then this term isn't used in V1","ts":"1480538479.004142"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/3519\/console>","ts":"1480563248.004143"},{"type":"message","user":"U0KPFAZNF","text":"gossip\/comm:TestParallelSend failure","ts":"1480563263.004144"},{"type":"message","user":"U0KPFAZNF","text":"same: <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/3520\/console>","ts":"1480564492.004145"},{"type":"message","user":"U0ZJZBJLF","text":"It's always for 5611","ts":"1480568530.004146"},{"type":"message","user":"U0ZJZBJLF","text":"I will try something today","ts":"1480568547.004147"},{"type":"message","user":"U0ZJZBJLF","text":"Thanks","ts":"1480568554.004148"},{"type":"message","user":"U1VG8LNP3","text":"<@U0PB67X4K> not sure about your \"CTRL+C\" problem. if you mean peer can quite by \"CTRL+C\", <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2867\/> is a fix.","ts":"1480578291.004149"},{"type":"message","user":"U0PB67X4K","text":"<@U1VG8LNP3> - yes - that's the issue - ctrl+c does not currently kill the peer process on master","ts":"1480588965.004150"},{"type":"message","user":"U1VG8LNP3","text":"<@U0PB67X4K>  i explain the reason in <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2867\/> and fix it, need reviews","ts":"1480589260.004151"},{"type":"message","user":"U0PB67X4K","text":"yep - we knew the reason and thanks for the fix - going to do a quick review and test","ts":"1480590308.004152"},{"type":"message","user":"U0ULK2JPP","text":"<@U0PB67X4K> let me know after the test please ? I have some time before getting to office and help +2","ts":"1480590460.004153","reactions":[{"name":"+1","users":["U0PB67X4K"],"count":1}]},{"type":"message","user":"U0PB67X4K","text":"<@U1VG8LNP3> <@U0ULK2JPP> -  looks good and works like a charm","ts":"1480590729.004154"},{"type":"message","user":"U0ULK2JPP","text":"perfect. let me look","ts":"1480590745.004155"},{"type":"message","user":"U0ULK2JPP","text":"<@U1VG8LNP3> just curious \u2026 why did you need to add the `d.stopDeliver()` ?","ts":"1480591162.004156"},{"type":"message","user":"U0ULK2JPP","text":"(looked right .. but just curious as I wonder why it was not there in the first place.., ie, perhaps you ran into a specific problem while doing this work)","edited":{"user":"U0ULK2JPP","ts":"1480591354.000000"},"ts":"1480591186.004157"},{"type":"message","user":"U1VG8LNP3","text":"<@U0ULK2JPP>  `d.stopDeliver()` to make line227 `d.client.Recv()` return connection error right away. or code will be blocked at Recv if no new message.","ts":"1480591957.004159"},{"type":"message","user":"U0ULK2JPP","text":"ah \u2026 so it _was_ missing","ts":"1480592010.004160"},{"type":"message","user":"U0ULK2JPP","text":"thanks much","ts":"1480592014.004161"},{"type":"message","user":"U0ULK2JPP","text":"merged. Thanks <@U1VG8LNP3>, <@U0PB67X4K>","ts":"1480592116.004162"},{"type":"message","user":"U0PB67X4K","text":"thanks for this <@U1VG8LNP3>","ts":"1480592201.004163"},{"type":"message","user":"U1VG8LNP3","text":":grinning:","ts":"1480592216.004164"},{"user":"U39D3065S","text":"<@U39D3065S|ephan> has joined the channel","type":"message","subtype":"channel_join","ts":"1480602913.004165"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0KPFAZNF>  <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2907\/>","ts":"1480661136.004166"},{"user":"U392HPXFB","text":"<@U392HPXFB|ceobco> has joined the channel","type":"message","subtype":"channel_join","ts":"1480668706.004167"},{"type":"message","user":"U392HPXFB","text":"Hello","ts":"1480668708.004168"},{"type":"message","user":"U11MANG9G","text":"Hello and welcome <@U392HPXFB>.","ts":"1480684123.004169"},{"type":"message","user":"U392HPXFB","text":"Hello <@U11MANG9G>","ts":"1480684704.004170"},{"user":"U3AAY7PPX","text":"<@U3AAY7PPX|lesterpig> has joined the channel","type":"message","subtype":"channel_join","ts":"1480785304.004171"},{"user":"U3A83MMK5","text":"<@U3A83MMK5|steven.landers> has joined the channel","type":"message","subtype":"channel_join","ts":"1480817095.000002"},{"user":"U3B4HDQ3Y","text":"<@U3B4HDQ3Y|jaysa> has joined the channel","type":"message","subtype":"channel_join","ts":"1480895590.000003"},{"type":"message","user":"U12AHQ3NK","text":"Is it possible to start only 3 peers on IBM bluemix and 1 on my Data center and get connected?","edited":{"user":"U12AHQ3NK","ts":"1480921633.000000"},"ts":"1480921616.000004"},{"type":"message","user":"U0PB67X4K","text":"<@U12AHQ3NK>  - you could connect a non-validating peer but there's really no purpose in doing that.  You can't add a validating peer to the Bluemix setup - it's a fixed network config with 4 validating nodes","ts":"1480932935.000007"},{"type":"message","user":"U12AHQ3NK","text":"Oh Can i purchase a IBM bluemix container and run peer on that and then connect to 3 peers in my Data centers. So a network would like 3 pees running in my data center and 1 on IBM bluemix","ts":"1480936342.000008"},{"type":"message","user":"U184J2R7S","text":"We are at the Hyperledger Hackathan here in NY- IBM Binh Nguyen is presenting today--","ts":"1480950097.000009"},{"type":"message","user":"U184J2R7S","text":"He thanked the community members for all their code contribusion- LSEG, CLS, JPMC, and so many others","ts":"1480950115.000010"},{"type":"message","user":"U184J2R7S","text":"He did indicate there are two companies in production with the 0.6 version of the fabric.","ts":"1480950126.000011"},{"type":"message","user":"U184J2R7S","text":"He indicated that there are many things we have learned","ts":"1480950133.000012"},{"type":"message","user":"U184J2R7S","text":"that have been integrated into the new design","ts":"1480950144.000013"},{"type":"message","user":"U184J2R7S","text":"Data and decisions remain with stakeholders (endorser model, multi-chain architecture)","ts":"1480950156.000014"},{"type":"message","user":"U184J2R7S","text":"Plug-ability to enable fleibility in development and deployment ( Identity- MSP, Consensus, Data store)","ts":"1480950173.000015"},{"type":"message","user":"U184J2R7S","text":"Transaction history on an Asset","ts":"1480950177.000016"},{"type":"message","user":"U184J2R7S","text":"Native SDK- SDK spec for developers to implement in any language, where we have development occurring on Java, Node.js, Python and more to come","ts":"1480950198.000017"},{"type":"message","user":"U184J2R7S","text":"Hardware Security model support- 2 implementations: modified, and unmodified PKSC11 for T-cert generation","ts":"1480950218.000018"},{"type":"message","user":"U184J2R7S","text":"Access control on whho can query or submit transactions","ts":"1480950225.000019"},{"type":"message","user":"U184J2R7S","text":"Upgradeable chaincode","ts":"1480950229.000020"},{"type":"message","user":"U184J2R7S","text":"Binh inidcated given consensus is pluggable  he would like to partner closely with intel to see what could plug into the fabric","ts":"1480950269.000021"},{"type":"message","user":"U184J2R7S","text":"Binh indicated a lot of this capability is going to complete very soon... and that they will be giving a demo.","ts":"1480950575.000022"},{"type":"message","user":"U184J2R7S","text":"Binh showed Organization peer 1.1, 1.2, and 13... and then organization peer 2.1, 22, 2.3,.. and an ordering service-- they are not connected at this point (except for peers in their own organization).","ts":"1480950699.000023"},{"type":"message","user":"U184J2R7S","text":"Let's say members of 1.1, 1.2, and 1.3 and 2.1, 2.2, and 2.3 want to create a chain","ts":"1480950723.000024"},{"type":"message","user":"U184J2R7S","text":"#.\/peer chain create &lt;config file&gt; ,.................... #.\/peer chain join &lt;1.1, 1.2&gt;&lt;configuration block&gt;","ts":"1480950776.000025"},{"type":"message","user":"U184J2R7S","text":"This org 1 peer tells which node they can connect to... node 1.3 is an anchor of the chain so that te orgs can connect to each other.","ts":"1480950813.000026"},{"type":"message","user":"U184J2R7S","text":"These nodes then form the gossip group... the leader will then connect to the ordering service to receive data from that particular chain.","ts":"1480950858.000027"},{"type":"message","user":"U184J2R7S","text":"Anchors have become 1.3, 2.3,... leaders were 1.1, 2.1","ts":"1480950874.000028"},{"type":"message","user":"U184J2R7S","text":"Another Example.","ts":"1480950879.000029"},{"type":"message","user":"U184J2R7S","text":"Chain 2 we want to create chain with 1.1, 1.3,2.2, 2.3","ts":"1480950896.000030"},{"type":"message","user":"U184J2R7S","text":"You can do that,.. and then you can also add organization 3 as well if needed","ts":"1480950935.000031"},{"type":"message","user":"U184J2R7S","text":"So How do you define a transaction?","ts":"1480950947.000032"},{"type":"message","user":"U184J2R7S","text":"Transaction starts with a proposal and sent to a specific set of peers to get an endorsement.","ts":"1480950959.000033"},{"type":"message","user":"U184J2R7S","text":"Once endorsement happens, you send to orderer and will organization transactions and send back to the peer","ts":"1480950974.000034"},{"type":"message","user":"U184J2R7S","text":"Peer will validate the transaction and commit wit consensus","ts":"1480950986.000035"},{"type":"message","user":"U184J2R7S","text":"-&gt; Transaction transforms data, scoped by chaincode on ledger from which it operates","ts":"1480950999.000036"},{"type":"message","user":"U184J2R7S","text":"-&gt; Transaction types: chaincode configuration, and any custom. Each type is associated with a handler (system chaincode)","ts":"1480951018.000037"},{"type":"message","user":"U184J2R7S","text":"application SDK-&gt; endorse (TX) -&gt; peers--&gt; respond (endorse tx)--&gt; application\/sdk--&gt; broadcast to the order on the specific chain--&gt; put in sequence to blocks and send only back to the peers within that chain","ts":"1480951073.000038"},{"type":"message","user":"U184J2R7S","text":"---&gt;Transaction Flow inside a peer&lt;----","ts":"1480951100.000039"},{"type":"message","user":"U184J2R7S","text":"Application needs ability to control endorsement and validation logic","ts":"1480951117.000040"},{"type":"message","user":"U184J2R7S","text":"- Each chaincode is associated with an endorsement (ESCC) and validation system chaincode (VSCC) when deployed","ts":"1480951135.000041"},{"type":"message","user":"U184J2R7S","text":"- Default implementation: simple declarative language","ts":"1480951149.000042"},{"type":"message","user":"U184J2R7S","text":"- ESCC signs the proposal response (endorsement)","ts":"1480951158.000043"},{"type":"message","user":"U184J2R7S","text":"-VSCC validates the endorsement and MVCC","ts":"1480951168.000044"},{"type":"message","user":"U1HFNJB50","text":"<@U184J2R7S> is there video recording of the presentations? will somebody publish slides afterwards?","ts":"1480951191.000045"},{"type":"message","user":"U184J2R7S","text":"--&gt; Dynamic Multichain &lt;--","ts":"1480951207.000046"},{"type":"message","user":"U184J2R7S","text":"Chain is peers + ledger + ordering cahnnel","ts":"1480951216.000047"},{"type":"message","user":"U184J2R7S","text":"Achain is isolates data and code to specific stakeholders","ts":"1480951223.000048"},{"type":"message","user":"U184J2R7S","text":"What happens to the ledger- you can now replace te database","ts":"1480951241.000049"},{"type":"message","user":"U184J2R7S","text":"The blocks , the # of transactions of blocks are still there-- all of tat is persisted in transaciton log on file database.  From file, we extract out tat is related to state.","ts":"1480951269.000050"},{"type":"message","user":"U184J2R7S","text":"You have read set and write set... that database is cached.. but not a database tat stores the transaction","ts":"1480951297.000051"},{"type":"message","user":"U184J2R7S","text":"You can do sophisticated query depending on how you plug in the database... Level DB is limited to key value only,.. But we already have couchdb in master that as full query on JSON, which is much more powerful","ts":"1480951331.000052"},{"type":"message","user":"U184J2R7S","text":"We also  can keep track of another database for indexing-- maybe transaction 1, 2, 3 or give me block 5,.. you can go to index and extract it really quickly.","ts":"1480951367.000053"},{"type":"message","user":"U184J2R7S","text":"Jim Zhang shows a demo","ts":"1480951426.000054"},{"user":"U3AKCHR2P","text":"<@U3AKCHR2P|jonathanbmorley> has joined the channel","type":"message","subtype":"channel_join","ts":"1480951637.000055"},{"user":"U0Q6BA1EU","text":"<@U0Q6BA1EU|bobbiejc> has joined the channel","type":"message","subtype":"channel_join","ts":"1480952844.000056"},{"user":"U0N4D2T61","text":"<@U0N4D2T61|bfuentes> has joined the channel","type":"message","subtype":"channel_join","ts":"1480953194.000057"},{"user":"U33HN2ETU","text":"<@U33HN2ETU|adnan> has joined the channel","type":"message","subtype":"channel_join","ts":"1480953831.000058"},{"type":"message","user":"U184J2R7S","text":"@ c0rwin I assume they will publish slides","ts":"1480970007.000059"},{"type":"message","user":"U184J2R7S","text":"the demo at least of fabric is in <#C28M6TC90|playbacks> channel","ts":"1480970021.000060"},{"type":"message","user":"U0XPR4NP4","text":"Does anyone know where these new (middle three) CI tests came from and if they're expected to fail?\n\n```\nPatch Set 14: Verified-1\nBuild Failed \n<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-behave-x86_64\/2481\/> : FAILURE (skipped)\n<https:\/\/jenkins.hyperledger.org\/job\/fabric-app-image-verify-docker-ppc64le\/6\/> : FAILURE\n<https:\/\/jenkins.hyperledger.org\/job\/fabric-app-image-verify-docker-s390x\/6\/> : FAILURE\n<https:\/\/jenkins.hyperledger.org\/job\/fabric-app-image-verify-docker-x86_64\/6\/> : FAILURE\n<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/3650\/> : SUCCESS\n```","edited":{"user":"U0XPR4NP4","ts":"1480970715.000000"},"ts":"1480970696.000061"},{"type":"message","user":"U0ZJZBJLF","text":"better ask in <#C0YMWRX19|ci-pipeline> they should know that","ts":"1480970722.000063"},{"type":"message","user":"U0XPR4NP4","text":"Ah thanks, didn't know that channel existed, will check there","ts":"1480970741.000064"},{"user":"U1AJV5S2G","text":"<@U1AJV5S2G|jjjjibm> has joined the channel","type":"message","subtype":"channel_join","ts":"1480975774.000065"},{"type":"message","user":"U1AJV5S2G","text":"<@U0UHG4VP1>  I get an error when I try to create an issue in Jira.  It wants me to specify a resolution even though the issue is not yet created.  Here is a screen shot:","ts":"1480976397.000066"},{"type":"message","subtype":"file_share","text":"<@U1AJV5S2G|jjjjibm> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/jjjjibm\/F3ARZ0R99\/pasted_image_at_2016_12_05_05_19_pm.png|Pasted image at 2016-12-05, 5:19 PM>","file":{"id":"F3ARZ0R99","created":1480976399,"timestamp":1480976399,"name":"Pasted image at 2016_12_05 05_19 PM.png","title":"Pasted image at 2016-12-05, 5:19 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U1AJV5S2G","editable":false,"size":88146,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3ARZ0R99\/pasted_image_at_2016_12_05_05_19_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3ARZ0R99\/download\/pasted_image_at_2016_12_05_05_19_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3ARZ0R99-74ab542d1f\/pasted_image_at_2016_12_05_05_19_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3ARZ0R99-74ab542d1f\/pasted_image_at_2016_12_05_05_19_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3ARZ0R99-74ab542d1f\/pasted_image_at_2016_12_05_05_19_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":313,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3ARZ0R99-74ab542d1f\/pasted_image_at_2016_12_05_05_19_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":417,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3ARZ0R99-74ab542d1f\/pasted_image_at_2016_12_05_05_19_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3ARZ0R99-74ab542d1f\/pasted_image_at_2016_12_05_05_19_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":626,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3ARZ0R99-74ab542d1f\/pasted_image_at_2016_12_05_05_19_pm_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":835,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3ARZ0R99-74ab542d1f\/pasted_image_at_2016_12_05_05_19_pm_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":890,"image_exif_rotation":1,"original_w":1088,"original_h":946,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/jjjjibm\/F3ARZ0R99\/pasted_image_at_2016_12_05_05_19_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3ARZ0R99-14ff201a91","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U1AJV5S2G","upload":true,"display_as_bot":false,"username":"<@U1AJV5S2G|jjjjibm>","bot_id":null,"ts":"1480976402.000067"},{"type":"message","user":"U1AJV5S2G","text":"I had a team member try this also, and she got the same result.","ts":"1480976466.000068"},{"type":"message","user":"U0ULK2JPP","text":"<@U1AJV5S2G> just ran into that too\u2026 I used \u201cCustom\u201d under configure fields to unselect Resolution","ts":"1480976861.000069"},{"type":"message","user":"U0ULK2JPP","text":"a workaround :slightly_smiling_face:","ts":"1480976870.000070"},{"type":"message","user":"U0UHG4VP1","text":"I apologize - this is my fault entirely - I will fix it in the morning","ts":"1480979224.000071","reactions":[{"name":"+1","users":["U0ULK2JPP"],"count":1}]},{"type":"message","user":"U0ULK2JPP","text":"<@U0UHG4VP1> I just assumed a JIRA idiosyncracy","ts":"1480980018.000072"},{"type":"message","user":"U0UHG4VP1","text":"muralisr I changed the fabric workflow for cbf and it broke stuff.","ts":"1480980072.000073"},{"type":"message","user":"U0ULK2JPP","text":"ah ok","ts":"1480980105.000074"},{"type":"message","user":"U0ULK2JPP","text":"basically add a resolution field to bug and such sounds like except it added it to tasks too","ts":"1480980139.000075"},{"type":"message","user":"U0ULK2JPP","text":"?","ts":"1480980141.000076"},{"type":"message","user":"U0UHG4VP1","text":"yes","ts":"1480980145.000077"},{"type":"message","user":"U0UHG4VP1","text":"if anyone is a JIRA expert and wants to help maintain the fabric workflow I need help","ts":"1480980163.000078"},{"type":"message","user":"U0ULK2JPP","text":"(ducking hurriedly :slightly_smiling_face: )","ts":"1480980176.000079"},{"type":"message","user":"U0ULK2JPP","text":"I am just \u201cuser level\u201d guy with JIRA","ts":"1480980210.000080"},{"type":"message","user":"U0UHG4VP1","text":"muralisr could you please try to file a bug against fabric and see if you can do it?","ts":"1480980404.000081"},{"type":"message","user":"U0ULK2JPP","text":"sure","ts":"1480980417.000082"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F3BKJULLF\/pasted_image_at_2016_12_05_06_28_pm.png|Pasted image at 2016-12-05, 6:28 PM> and commented: that list doesn\u2019t seem right under a new bug ?","file":{"id":"F3BKJULLF","created":1480980500,"timestamp":1480980500,"name":"Pasted image at 2016_12_05 06_28 PM.png","title":"Pasted image at 2016-12-05, 6:28 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":40604,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3BKJULLF\/pasted_image_at_2016_12_05_06_28_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3BKJULLF\/download\/pasted_image_at_2016_12_05_06_28_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3BKJULLF-a49364fa46\/pasted_image_at_2016_12_05_06_28_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3BKJULLF-a49364fa46\/pasted_image_at_2016_12_05_06_28_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3BKJULLF-a49364fa46\/pasted_image_at_2016_12_05_06_28_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":128,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3BKJULLF-a49364fa46\/pasted_image_at_2016_12_05_06_28_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":170,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3BKJULLF-a49364fa46\/pasted_image_at_2016_12_05_06_28_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3BKJULLF-a49364fa46\/pasted_image_at_2016_12_05_06_28_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":255,"image_exif_rotation":1,"original_w":784,"original_h":278,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F3BKJULLF\/pasted_image_at_2016_12_05_06_28_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3BKJULLF-73a5f08223","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc3A7Z3HPS","created":1480980500,"timestamp":1480980500,"user":"U0ULK2JPP","is_intro":true,"comment":"that list doesn\u2019t seem right under a new bug ?","channel":""}},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1480980502.000083"},{"type":"message","user":"U0ULK2JPP","text":"Resolution being a required field I have to select one of those","ts":"1480980532.000084"},{"type":"message","user":"U0UHG4VP1","text":"to create a bug, right?","ts":"1480980547.000085"},{"type":"message","user":"U0ULK2JPP","text":"right","ts":"1480980550.000086"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F3AUS4YQJ\/pasted_image_at_2016_12_05_06_29_pm.png|Pasted image at 2016-12-05, 6:29 PM> and commented: like so","file":{"id":"F3AUS4YQJ","created":1480980580,"timestamp":1480980580,"name":"Pasted image at 2016_12_05 06_29 PM.png","title":"Pasted image at 2016-12-05, 6:29 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":65283,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3AUS4YQJ\/pasted_image_at_2016_12_05_06_29_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3AUS4YQJ\/download\/pasted_image_at_2016_12_05_06_29_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3AUS4YQJ-5bd4d7e15e\/pasted_image_at_2016_12_05_06_29_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3AUS4YQJ-5bd4d7e15e\/pasted_image_at_2016_12_05_06_29_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3AUS4YQJ-5bd4d7e15e\/pasted_image_at_2016_12_05_06_29_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":236,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3AUS4YQJ-5bd4d7e15e\/pasted_image_at_2016_12_05_06_29_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":314,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3AUS4YQJ-5bd4d7e15e\/pasted_image_at_2016_12_05_06_29_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3AUS4YQJ-5bd4d7e15e\/pasted_image_at_2016_12_05_06_29_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":471,"image_exif_rotation":1,"original_w":920,"original_h":602,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F3AUS4YQJ\/pasted_image_at_2016_12_05_06_29_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3AUS4YQJ-b80a24a595","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc3BKKDPM5","created":1480980580,"timestamp":1480980580,"user":"U0ULK2JPP","is_intro":true,"comment":"like so","channel":""}},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1480980582.000087"},{"type":"message","user":"U0UHG4VP1","text":"please refresh the page and see if it's still there","ts":"1480980587.000088"},{"type":"message","user":"U0ULK2JPP","text":"good idea","ts":"1480980593.000089"},{"type":"message","user":"U0UHG4VP1","text":"if it isn't you don't need to file it","ts":"1480980595.000090"},{"type":"message","user":"U0ULK2JPP","text":"let me try that","ts":"1480980598.000091"},{"type":"message","user":"U0UHG4VP1","text":"no, I mean, I just deleted it","ts":"1480980600.000092"},{"type":"message","user":"U0UHG4VP1","text":"I expected that test to fail for you","ts":"1480980622.000093"},{"type":"message","user":"U0ULK2JPP","text":"i see","ts":"1480980707.000094"},{"type":"message","user":"U0ULK2JPP","text":"its not there","ts":"1480980713.000095"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F3BKLA6P9\/pasted_image_at_2016_12_05_06_32_pm.png|Pasted image at 2016-12-05, 6:32 PM> and commented: resolution is just a uneditable field now (like it was ?)","file":{"id":"F3BKLA6P9","created":1480980740,"timestamp":1480980740,"name":"Pasted image at 2016_12_05 06_32 PM.png","title":"Pasted image at 2016-12-05, 6:32 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":79885,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3BKLA6P9\/pasted_image_at_2016_12_05_06_32_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3BKLA6P9\/download\/pasted_image_at_2016_12_05_06_32_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3BKLA6P9-5935b1f332\/pasted_image_at_2016_12_05_06_32_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3BKLA6P9-5935b1f332\/pasted_image_at_2016_12_05_06_32_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3BKLA6P9-5935b1f332\/pasted_image_at_2016_12_05_06_32_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":112,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3BKLA6P9-5935b1f332\/pasted_image_at_2016_12_05_06_32_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":150,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3BKLA6P9-5935b1f332\/pasted_image_at_2016_12_05_06_32_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3BKLA6P9-5935b1f332\/pasted_image_at_2016_12_05_06_32_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":224,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3BKLA6P9-5935b1f332\/pasted_image_at_2016_12_05_06_32_pm_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":299,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3BKLA6P9-5935b1f332\/pasted_image_at_2016_12_05_06_32_pm_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":319,"image_exif_rotation":1,"original_w":1598,"original_h":498,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F3BKLA6P9\/pasted_image_at_2016_12_05_06_32_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3BKLA6P9-b2fcb127c2","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc3BKLBZJT","created":1480980740,"timestamp":1480980740,"user":"U0ULK2JPP","is_intro":true,"comment":"resolution is just a uneditable field now (like it was ?)","channel":""}},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1480980745.000096"},{"type":"message","user":"U0UHG4VP1","text":"but you can file bugs now","ts":"1480980792.000097"},{"type":"message","user":"U0UHG4VP1","text":"so you're unblocked tonight","ts":"1480980796.000098"},{"type":"message","user":"U0P2GSA8Z","text":"I can tell <@U0UHG4VP1> is loving this...","ts":"1480980896.000099","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1},{"name":"woo","users":["U0UHG4VP1","U0P2GSA8Z"],"count":2}]},{"type":"message","user":"U0UHG4VP1","text":"I just wanted to go get dinner","ts":"1480980920.000100"},{"type":"message","user":"U0P2GSA8Z","text":"I have another \"small jira request\" for you when you're done ;-)","ts":"1480980977.000101"},{"type":"message","user":"U0UHG4VP1","text":"hit me","ts":"1480980987.000102"},{"type":"message","user":"U0P2GSA8Z","text":"No I'm just pulling your chain","ts":"1480981020.000103","reactions":[{"name":"chicken","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0ULK2JPP","text":"ah there's the <@U0P2GSA8Z> style :slightly_smiling_face:","edited":{"user":"U0ULK2JPP","ts":"1480981410.000000"},"ts":"1480981392.000104"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0ULK2JPP> where are you? We're missing you here","ts":"1480981838.000106"},{"type":"message","user":"U0ULK2JPP","text":"Arnaud, I\u2019m missing it too \u2026 what a great gathering! \u2026 but next time :slightly_smiling_face:","ts":"1480981895.000107"},{"user":"U1NGC2X9D","text":"<@U1NGC2X9D|dinesh_rivankar> has joined the channel","type":"message","subtype":"channel_join","ts":"1481000561.000108"},{"user":"U3ADJU5MZ","text":"<@U3ADJU5MZ|kansi> has joined the channel","type":"message","subtype":"channel_join","ts":"1481018069.000109"},{"type":"message","user":"U12AHQ3NK","text":"Hi. What are the minimum hardware specs required for setting up a  single peer without vagrant?","ts":"1481026361.000110"},{"type":"message","user":"U0PB67X4K","text":"<@U12AHQ3NK> -  of course it will all depend on how many chaincodes, transaction rate, etc, but something like 1 CPU \/ 2GB RAM should work","ts":"1481027386.000111"},{"user":"U2JLNV77T","text":"<@U2JLNV77T|chaitanya> has joined the channel","type":"message","subtype":"channel_join","ts":"1481035125.000112"},{"type":"message","user":"U2JLNV77T","text":"In the example given at <https:\/\/github.com\/hyperledger\/fabric\/blob\/v0.6\/examples\/chaincode\/go\/asset_management_with_roles\/asset_management_with_roles_test.go>, the deploy method is bound to the chaincode setup by the `go initAssetManagementChaincode()`, right?\n\nWhat I have, is a set of chaincodes that need to be run one after another, and I need to test for Attribute Based Access Control on one of them. This would require that I deploy multiple chaincodes. Can someone point me to how I should go about it?","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/v0.6\/examples\/chaincode\/go\/asset_management_with_roles\/asset_management_with_roles_test.go","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/v0.6\/examples\/chaincode\/go\/asset_management_with_roles\/asset_management_with_roles_test.go","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1481035801.000113"},{"type":"message","user":"U3AKCHR2P","text":"Hi folks -- trying to \"make peer\" and it downloaded the image and got stuck extracting... 370.9 MB \/ 400 and something. Sat there for an hour, so I killed it. Will try again. Any ideas?","ts":"1481040490.000115"},{"type":"message","user":"U3AKCHR2P","text":"Maybe that was a bad idea:","ts":"1481040901.000116"},{"type":"message","user":"U3AKCHR2P","text":"vagrant@hyperledger-devenv:v0.2.1-da16559:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ make peer                                                                      mkdir -p build\/image\/ccenv\/payload\ncp build\/docker\/gotools\/bin\/protoc-gen-go build\/bin\/chaintool build\/goshim.tar.bz2 build\/image\/ccenv\/payload\ncp: cannot stat 'build\/docker\/gotools\/bin\/protoc-gen-go': No such file or directory\nMakefile:191: recipe for target 'build\/image\/ccenv\/payload' failed\nmake: *** [build\/image\/ccenv\/payload] Error 1","ts":"1481040903.000117"},{"type":"message","user":"U3AKCHR2P","text":"Did vagrant destroy and then re-ran the commands. Made it a bit farther but stalled at 384 this time. Thinking it's a memory limitation in the VM","ts":"1481041957.000118"},{"type":"message","user":"U0KPFAZNF","text":"hi <@U3AKCHR2P> is it downloading a docker image?","ts":"1481043667.000119"},{"type":"message","user":"U3AKCHR2P","text":"Hi <@U0KPFAZNF>, it downloaded the image and got stuck extracting. I've tried three times -- I think I'm out of memory on my laptop","ts":"1481046813.000120"},{"type":"message","user":"U3AKCHR2P","text":"This machine has 4GB and task manager shows 0 free when extraction stalls","ts":"1481046832.000121"},{"type":"message","user":"U0KPFAZNF","text":"yeah, that could be the problem","ts":"1481046832.000122"},{"type":"message","user":"U3AKCHR2P","text":"I tried safe mode; however, Vagrant won't spin up with safe mode.","ts":"1481046854.000123"},{"type":"message","user":"U0KPFAZNF","text":"ive also seen weirdness on my setup where the VM will hang until you do something peripheral","ts":"1481046855.000124"},{"type":"message","user":"U0KPFAZNF","text":"like, login from another window and do something that generates activity, like run \"top\"","ts":"1481046879.000125"},{"type":"message","user":"U0KPFAZNF","text":"then it will start working again...I dont know what it could be","ts":"1481046888.000126"},{"type":"message","user":"U3AKCHR2P","text":"I'll give that a shot in a few minutes. Thanks!","ts":"1481046897.000127"},{"type":"message","user":"U0KPFAZNF","text":"but in your case, the fact that you have so little memory is suspect","ts":"1481046898.000128"},{"type":"message","user":"U0KPFAZNF","text":"are you working with mainline?","ts":"1481046917.000129"},{"type":"message","user":"U0KPFAZNF","text":"if so, note that vagrant is more or less optional for most things if you have a docker environment (such as docker-for-mac","ts":"1481046953.000130"},{"type":"message","user":"U0KPFAZNF","text":"so, if you are memory constrained, that might work better for you","ts":"1481046966.000131"},{"type":"message","user":"U3AKCHR2P","text":"I'm on Windows, not Mac.","ts":"1481046994.000132"},{"type":"message","user":"U0KPFAZNF","text":"That was a for-example","ts":"1481065320.000133"},{"type":"message","user":"U0KPFAZNF","text":"Comments would apply equally to any platform that supports docker","ts":"1481065354.000134"},{"user":"U31TA64TT","text":"<@U31TA64TT|newdev2524> has joined the channel","type":"message","subtype":"channel_join","ts":"1481080886.000135"},{"type":"message","user":"U31TA64TT","text":"Hi, after I brought up a new peer node while other nodes were running, it seemed the chaincode previously deployed in other nodes didn't sync to the new peer node. Does anyone know what the problem is?","ts":"1481080890.000136"},{"user":"U1FMASJFL","text":"<@U1FMASJFL|nvlasov> has joined the channel","type":"message","subtype":"channel_join","ts":"1481093017.000137"},{"user":"U16A62N2D","text":"<@U16A62N2D|alexliusch> has joined the channel","type":"message","subtype":"channel_join","ts":"1481115655.000138"},{"type":"message","user":"U16A62N2D","text":"<@U0XR6J961> <@U0S5KF44D> can i ask a question?how to solve the problem that CA certificates expired after three month without emptying all existed data?","ts":"1481115765.000139"},{"type":"message","user":"U11MANG9G","text":"","attachments":[{"fallback":"[December 7th, 2016 6:06 AM] satyam_agl: <@U0PB67X4K> 19:32:42.828 [shim] DEBU : os.Args returns: [C:\\projectsGO\\GO\\src\\<http:\/\/github.com|github.com>\\mai\nn_chaincode\\main_chaincode.exe]\n19:32:42.830 [shim] DEBU : Registering.. sending REGISTER\n19:32:42.833 [shim] DEBU : []Received message REGISTERED from shim\n19:32:42.833 [shim] DEBU : []Handling ChaincodeMessage of type: REGISTERED(state\n:created)\n19:32:42.834 [shim] DEBU : Received REGISTERED, ready for invocations\n19:33:37.362 [shim] DEBU : [abc]Received message INIT from shim\n19:33:37.362 [shim] DEBU : [abc]Handling ChaincodeMessage of type: INIT(state:es\ntablished)\n19:33:37.362 [shim] DEBU : Entered state init\n19:33:37.363 [shim] DEBU : [abc]Received INIT, initializing chaincode\n19:33:37.372 [shim] ERRO : [abc]Init failed. Sending ERROR\n19:33:37.372 [shim] DEBU : [abc]Move state message ERROR\n19:33:37.373 [shim] DEBU : [abc]Handling ChaincodeMessage of type: ERROR(state:i\nnit)\n19:33:37.373 [shim] DEBU : [abc]send state message ERROR","ts":"1481119613.000725","author_subname":"satyam_agl","channel_id":"C0J02NU1E","channel_name":"general","is_msg_unfurl":true,"text":"<@U0PB67X4K> 19:32:42.828 [shim] DEBU : os.Args returns: [C:\\projectsGO\\GO\\src\\<http:\/\/github.com|github.com>\\mai\nn_chaincode\\main_chaincode.exe]\n19:32:42.830 [shim] DEBU : Registering.. sending REGISTER\n19:32:42.833 [shim] DEBU : []Received message REGISTERED from shim\n19:32:42.833 [shim] DEBU : []Handling ChaincodeMessage of type: REGISTERED(state\n:created)\n19:32:42.834 [shim] DEBU : Received REGISTERED, ready for invocations\n19:33:37.362 [shim] DEBU : [abc]Received message INIT from shim\n19:33:37.362 [shim] DEBU : [abc]Handling ChaincodeMessage of type: INIT(state:es\ntablished)\n19:33:37.362 [shim] DEBU : Entered state init\n19:33:37.363 [shim] DEBU : [abc]Received INIT, initializing chaincode\n19:33:37.372 [shim] ERRO : [abc]Init failed. Sending ERROR\n19:33:37.372 [shim] DEBU : [abc]Move state message ERROR\n19:33:37.373 [shim] DEBU : [abc]Handling ChaincodeMessage of type: ERROR(state:i\nnit)\n19:33:37.373 [shim] DEBU : [abc]send state message ERROR","author_name":"Satyam Agrawal","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/satyam_agl","author_icon":"https:\/\/secure.gravatar.com\/avatar\/168a4e05755664d6c207f94299394b80.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-48.png","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/general\/p1481119613000725","is_share":true,"footer":"Posted in #general"}],"ts":"1481123764.000140"},{"type":"message","user":"U11MANG9G","text":"___\n<@U16A62N2D>: of course you can :wink:","ts":"1481123855.000141"},{"type":"message","user":"U11MANG9G","text":"It depends on the version you work with, but you can restart the \u201cCA generating service\/process\u201d, without affecting the \u201cchain\u201d.","ts":"1481123895.000142"},{"type":"message","user":"U11MANG9G","text":"I\u2019m being a bit careful here though, in terms of what\u2019s \u201cexisting data\u201d\u2026.","ts":"1481123939.000143"},{"type":"message","user":"U11MANG9G","text":"There is a much nicer separation of the storage in v1.0, along with a better clarity in terms of a \u2018certDB\u2019\u2026 etc.","ts":"1481123996.000144"},{"type":"message","user":"U11MANG9G","text":"BTW: when you wrote `CA certificates` I assumed that you are asking about the \u201cServer\u201d CA certificates and not the ECerts or TCerts ?","ts":"1481124085.000145"},{"type":"message","user":"U11MANG9G","text":"We can also move this discussion to <#C2Y3CPP16|fabric-cop>.","ts":"1481124136.000146"},{"type":"message","user":"U16A62N2D","text":"thx!i\u2019ll try it, the 'existing data \u2018 means data on chain:grin: forgive my poor English","ts":"1481124213.000147"},{"type":"message","user":"U16A62N2D","text":"yeah i asked about CA server,i ll join that channel <@U11MANG9G>","ts":"1481124333.000148"},{"type":"message","user":"U11MANG9G","text":"Not a problem (English or otherwise). I am just trying to clarify, so that I do not misunderstand you\/or mislead you.","edited":{"user":"U11MANG9G","ts":"1481124398.000000"},"ts":"1481124344.000149"},{"type":"message","user":"U11MANG9G","text":"Sure, please do. A lot is going on there, and these are good days to provide feedback as we merge related stuff to the master branch daily. Let us know.","ts":"1481124382.000150"},{"type":"message","user":"U16A62N2D","text":"okay:slightly_smiling_face:","ts":"1481124476.000152"},{"user":"U2HJ7SLSC","text":"<@U2HJ7SLSC|martijnwouters> has joined the channel","type":"message","subtype":"channel_join","ts":"1481125012.000153"},{"type":"message","user":"U112NNFV4","text":"","attachments":[{"fallback":"[December 4th, 2016 4:56 PM] donjohnny: Hi I have a question regarding this documentation page: <https:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/Setup\/Chaincode-setup\/> I'm running the dev environment in vagrant and trying to deploy chaincode_example01 but it's still requiring me a path parameter while it's mentioned that It's not needed.. What can I do to succesfully deploy the chaincode?","ts":"1480888582.000003","author_subname":"donjohnny","channel_id":"C111FMZ3M","channel_name":"documentation","is_msg_unfurl":true,"text":"Hi I have a question regarding this documentation page: <https:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/Setup\/Chaincode-setup\/> I'm running the dev environment in vagrant and trying to deploy chaincode_example01 but it's still requiring me a path parameter while it's mentioned that It's not needed.. What can I do to succesfully deploy the chaincode?","author_name":"Jonathan S","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/donjohnny","author_icon":"https:\/\/secure.gravatar.com\/avatar\/149da6e3a633eed13fbe843172cf0b27.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-48.png","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/documentation\/p1480888582000003","is_share":true,"footer":"Posted in #documentation"}],"ts":"1481137076.000154"},{"type":"message","user":"U112NNFV4","text":"Error message inquiry ...","attachments":[{"fallback":"[December 6th, 2016 10:09 AM] synblockchainteam: I have setup Hyper ledger v 0.6. \nWhile executing \"Invoke\" method of sample application \"authorizable_counter\", we face issue ... \"Failed retrieving extension\". \nDid someone face similar issue? if so, please provide us some clue.\n\nThanks.","ts":"1481036985.000006","author_subname":"synblockchainteam","channel_id":"C111FMZ3M","channel_name":"documentation","is_msg_unfurl":true,"text":"I have setup Hyper ledger v 0.6. \nWhile executing \"Invoke\" method of sample application \"authorizable_counter\", we face issue ... \"Failed retrieving extension\". \nDid someone face similar issue? if so, please provide us some clue.\n\nThanks.","author_name":"synblockchain team","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/synblockchainteam","author_icon":"https:\/\/avatars.slack-edge.com\/2016-12-06\/113325442212_fa1baedad8fe419d5682_48.png","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/documentation\/p1481036985000006","is_share":true,"footer":"Posted in #documentation"}],"ts":"1481137356.000155"},{"user":"U0N8X4FN1","text":"<@U0N8X4FN1|tylerkeen> has joined the channel","type":"message","subtype":"channel_join","ts":"1481140364.000156"},{"user":"U1PF7CF5F","text":"<@U1PF7CF5F|t-watana> has joined the channel","type":"message","subtype":"channel_join","ts":"1481156526.000157"},{"user":"U1FEUAG9E","text":"<@U1FEUAG9E|harsha544> has joined the channel","type":"message","subtype":"channel_join","ts":"1481167774.000158"},{"type":"message","user":"U2CBG8V9U","text":"hi all, I have two questions:","ts":"1481190235.000159"},{"type":"message","user":"U2CBG8V9U","text":"1. when I push a change to gerrit, should I add reviewers manually, or just wait for someone to do the assignment?","ts":"1481190296.000160"},{"type":"message","user":"U2CBG8V9U","text":"2. Is fabric v0.6 still open for changes?","ts":"1481190320.000161"},{"type":"message","user":"U2CBG8V9U","text":"very much appreciated if someone can provide the answers","ts":"1481190337.000162"},{"type":"message","user":"U1HFNJB50","text":"<@U2CBG8V9U> there `cr-fabric` review group you can add so people will get notified about your CR and I do not think that v0.6 still open for new changes.","ts":"1481190509.000163"},{"type":"message","user":"U2CBG8V9U","text":"<@U1HFNJB50> thank you very much, I will try to do that:)","ts":"1481190649.000164"},{"user":"U3BGG1H6V","text":"<@U3BGG1H6V|trueter> has joined the channel","type":"message","subtype":"channel_join","ts":"1481195543.000165"},{"user":"U36RKMPBQ","text":"<@U36RKMPBQ|bercinho> has joined the channel","type":"message","subtype":"channel_join","ts":"1481200678.000166"},{"type":"message","user":"U36RKMPBQ","text":"Hi All, anyone knows where too lookup information regarding codechain integration? when I don\u00b4t want to push data into the blockchain worls state, but rather have chaincode acess data via external  serices? (this especailly becomes complex with real time data, like Pricing) ... I am aware of Oracles by Ethereum (SW, HW) and Cryplets from Microsoft, but what is the de-facto standard for Hyperledger?","ts":"1481200707.000167"},{"type":"message","user":"U0N4D2T61","text":"<@U36RKMPBQ>   well, normally it should be done by the chaincode. If you do it externally, no problem but there is anything to do with Hyperledger development","ts":"1481203496.000168"},{"type":"message","user":"U0N4D2T61","text":"we do not trust the caller by default","ts":"1481203506.000169"},{"type":"message","user":"U0N4D2T61","text":"he has to sign all what he does, and he is known by the CA","ts":"1481203524.000170"},{"type":"message","user":"U36RKMPBQ","text":"Hi Benjamin, what I meant is that the chaincode execution can not only rely on data within the Blockchain World State, but it needs external data. There are tons of use cases for this. One way to solve this is to have external data pushed down to the blockchain (once it changes, periodically or whatsoever). But in cases when this is not possible the chaincode should be able to reach out for data. For Ethereum Smart Contracts they introduced the concept of Oracles, and Microsoft provides the Cryplet architecture to deal with this having supprot from Intel via enclaves. There must be some pattern \/ guideline how to deal with this in case of Hyperledger allowing chaincode to reach out for external data. I do understand the problem that this has to be consistent over all Peers and should result with collecting the same data.","ts":"1481204056.000171"},{"user":"U2TUCLGRJ","text":"<@U2TUCLGRJ|ahmedelhajji> has joined the channel","type":"message","subtype":"channel_join","ts":"1481204216.000172"},{"user":"U1BC5A0F9","text":"<@U1BC5A0F9|elli> has joined the channel","type":"message","subtype":"channel_join","ts":"1481204741.000173"},{"type":"message","user":"U1BC5A0F9","text":"<@U36RKMPBQ>, you are right: When there is a need for the chaincode to obtain information from external resources you would either need to have some \"trusted entities\" that are allowed to post announcements of this info occasionally to the blockchain, or you would need to have \"oracles\", i.e., dedicated entities trusted by the chaincode(s), and that the chaincode could query.","ts":"1481205031.000174"},{"type":"message","user":"U1BC5A0F9","text":"Up to version 0.6, the latter method could cause issues, as having two validators receiving different answer from the oracle (which can happen in cases of answers, whose value change in time) would bring the system potentially to an inconsistent state.","ts":"1481205123.000175"},{"type":"message","user":"U1BC5A0F9","text":"With the new architecture though we are not in this situation; while inconsistent responses may lead to difficulties on the client side, to have a proposal endorsed, as soon as endorsements (satisfying the endorsement policy of the chaincode) are obtained, the system cannot be brought to  inconsistent state.","ts":"1481205204.000176"},{"type":"message","user":"U1BC5A0F9","text":"[At least with the default ESCC\/VSCC provided by the fabric]","edited":{"user":"U1BC5A0F9","ts":"1481205223.000000"},"ts":"1481205219.000177"},{"type":"message","user":"U36RKMPBQ","text":"ok, so with Fabric v1 we should handle choosing between inconsistent results when simulating the chaincode execution as part of the endorsement policy?","ts":"1481205346.000179"},{"type":"message","user":"U1BC5A0F9","text":"My impression is that through the docker configuration chaincodes can indeed connect to external resources as of now, but adding <@U0KN2SSKE> , <@U0ULK2JPP>  to confirm this.","ts":"1481205385.000180"},{"type":"message","user":"U1BC5A0F9","text":"With the new architecture that fabric v1 is implementing, the execution takes place before the addition of the transaction to the ledger.","ts":"1481205417.000181"},{"type":"message","user":"U36RKMPBQ","text":"with v0.6 we should simply  keep pushing down the data to the Blockchain World State, is there any support for integration with IPFS or BigChainDB for Hyperledger?","ts":"1481205434.000182"},{"type":"message","user":"U1BC5A0F9","text":"The client sends \"tx-proposals\" to the endorsers who are listed as \"responsible for that chaincode's execution\", and try to obtain signatures of these endorsers on the same result.","ts":"1481205463.000183"},{"type":"message","user":"U36RKMPBQ","text":"it would be better to push down the data into these distributed file system, DB instead of the Blockchain World State","ts":"1481205472.000184"},{"type":"message","user":"U1BC5A0F9","text":"Result here would be the input and output (i am guessing this you would still need to track through some fabric state).","ts":"1481205511.000185"},{"type":"message","user":"U1BC5A0F9","text":"Ok, i will need to look into the bigchaindb system ( I havent had the time to do so far unfortunately), and get back to you. Perhaps <@U1KFCPFQA> has already an answer on this, or <@U0Y14MWA2> .","ts":"1481205608.000186"},{"type":"message","user":"U36RKMPBQ","text":"Thanks Elli!","ts":"1481205656.000187"},{"type":"message","user":"U1BC5A0F9","text":"Overall though you need read-sets and write-sets of the state associated to a tx to refer to an external db, and not refer to the HPL state (?)","edited":{"user":"U1BC5A0F9","ts":"1481205746.000000"},"ts":"1481205662.000188"},{"type":"message","user":"U0N4D2T61","text":"<@U36RKMPBQ> if you want to talk about interaction with external systems, as we are in a distributed network, I advise you to set a proxy to deal with non determinstic problems","ts":"1481205755.000192"},{"type":"message","user":"U0N4D2T61","text":"a blockchain is not a DB system, it is a distributed application","ts":"1481205786.000193"},{"type":"message","user":"U0N4D2T61","text":"the World State is the statefull and validated part of Hyperledger","ts":"1481205851.000194"},{"type":"message","user":"U0N4D2T61","text":"does not work like Bitcoin on this point","ts":"1481205866.000195"},{"type":"message","user":"U36RKMPBQ","text":"The question is does my distributed application have to own all the data that influences it\u00b4s behavior or we might have external data it might reach out to (pull) or be pushed into it\u00b4s scope.","ts":"1481205994.000196"},{"type":"message","user":"U0N4D2T61","text":"<@U36RKMPBQ> very hard to answer, depends on your use case","ts":"1481206146.000197"},{"type":"message","user":"U0N4D2T61","text":"just share what it should be shared by all and need trust","edited":{"user":"U0N4D2T61","ts":"1481206202.000000"},"ts":"1481206167.000198"},{"type":"message","user":"U36RKMPBQ","text":"when we have to push all data into the World State, then it might grow exponentially if my external data need &amp; change frequency is really high why I was thinking to stage such data in an IPFS or BlockchainDB; if I can somehow call out via trusted proxies (Oracles, Cryplets) to maintain a deterministic, consistent &amp; trusted response what is the pattern to do so (how do I do this from a chaincode running in a Docker?) ...","ts":"1481206209.000200"},{"type":"message","user":"U0N4D2T61","text":"yep","ts":"1481206227.000201"},{"type":"message","user":"U0N4D2T61","text":"for real time purpose, it can be problematic","ts":"1481206241.000202"},{"type":"message","user":"U36RKMPBQ","text":"I am looking into Energy Trading use case","ts":"1481206263.000203"},{"type":"message","user":"U36RKMPBQ","text":":slightly_smiling_face:","ts":"1481206267.000204"},{"type":"message","user":"U0N4D2T61","text":"if your transactions are a big volume","ts":"1481206275.000205"},{"type":"message","user":"U0N4D2T61","text":"maybe, better to store an average \/month","ts":"1481206298.000206"},{"type":"message","user":"U0N4D2T61","text":"as a trustable declaration","ts":"1481206306.000207"},{"type":"message","user":"U0N4D2T61","text":"otherwise, store very little data","ts":"1481206317.000208"},{"type":"message","user":"U0N4D2T61","text":"on each transaction","ts":"1481206335.000209"},{"type":"message","user":"U0N4D2T61","text":"but keep in mind","ts":"1481206346.000210"},{"type":"message","user":"U0N4D2T61","text":"you have blocks -    and on the other side   - World State","ts":"1481206366.000211"},{"type":"message","user":"U0N4D2T61","text":"this is 2 separated things","ts":"1481206373.000212"},{"type":"message","user":"U0N4D2T61","text":"maybe in World State, you can store only the current \"count\"","ts":"1481206400.000213"},{"type":"message","user":"U0N4D2T61","text":"that is updated at each transaction","ts":"1481206407.000214"},{"type":"message","user":"U0N4D2T61","text":"on this way, the WorldState is very light","ts":"1481206417.000215"},{"type":"message","user":"U0N4D2T61","text":"but if you want to keep all history \u2026 ? well you have still blocks to look up","ts":"1481206443.000216"},{"type":"message","user":"U0N4D2T61","text":"up to u","ts":"1481206451.000217"},{"user":"U3AFRMY68","text":"<@U3AFRMY68|donjohnny> has joined the channel","type":"message","subtype":"channel_join","ts":"1481206913.000218"},{"user":"U3BKMJZTK","text":"<@U3BKMJZTK|mdevilliers> has joined the channel","type":"message","subtype":"channel_join","ts":"1481210523.000219"},{"user":"U0MS3TK2A","text":"<@U0MS3TK2A|nao> has joined the channel","type":"message","subtype":"channel_join","ts":"1481219231.000220"},{"user":"U3CAX2JKW","text":"<@U3CAX2JKW|shinji> has joined the channel","type":"message","subtype":"channel_join","ts":"1481230288.000221"},{"user":"U3BQF48RE","text":"<@U3BQF48RE|oliverledger> has joined the channel","type":"message","subtype":"channel_join","ts":"1481231743.000222"},{"type":"message","user":"U0KN2SSKE","text":"<@U36RKMPBQ> what would a transaction look like?  if you have a lot of data (10s of MBs), I would suggest you store them somewhere else and use the hash on the transaction.  The interaction with external systems is ideally done through the application, which then feeds the data into the chaincodes.  In v1.0, chaincode may call out but its tricky to ensure deterministic result from external system. Also access to those external systems is another issue.","ts":"1481240131.000223"},{"user":"U35FGUMN0","text":"<@U35FGUMN0|walker> has joined the channel","type":"message","subtype":"channel_join","ts":"1481314857.000224"},{"user":"U327VGGF9","text":"<@U327VGGF9|yuwei> has joined the channel","type":"message","subtype":"channel_join","ts":"1481379705.000225"},{"user":"U3D5886CB","text":"<@U3D5886CB|ruslan> has joined the channel","type":"message","subtype":"channel_join","ts":"1481401829.000226"},{"user":"U3DC8Q8S0","text":"<@U3DC8Q8S0|darije.ramljak> has joined the channel","type":"message","subtype":"channel_join","ts":"1481493324.000227"},{"user":"U20M776SW","text":"<@U20M776SW|mdavid> has joined the channel","type":"message","subtype":"channel_join","ts":"1481589974.000228"},{"user":"U3EKCBHEK","text":"<@U3EKCBHEK|zhoupeiyuan> has joined the channel","type":"message","subtype":"channel_join","ts":"1481690306.000229"},{"user":"U3CBDC0JG","text":"<@U3CBDC0JG|kenzhang> has joined the channel","type":"message","subtype":"channel_join","ts":"1481690839.000230"},{"user":"U3DEHEA4R","text":"<@U3DEHEA4R|phoolet> has joined the channel","type":"message","subtype":"channel_join","ts":"1481705512.000231"},{"type":"message","user":"U3DEHEA4R","text":"Hi, I started with fabric only two days. I'm very confused. I am trying to follow the instructions here: <https:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/Setup\/Chaincode-setup\/>","ts":"1481707154.000232"},{"type":"message","user":"U3DEHEA4R","text":"When I'm trying to run","ts":"1481707165.000233"},{"type":"message","user":"U3DEHEA4R","text":"the command \u201cmake membersrvc &amp;&amp; membersrvc\u201d i keep getting this error : make: *** No rule to make target 'membersrvc'.  Stop.","ts":"1481707180.000234"},{"type":"message","user":"U3DEHEA4R","text":"I'm using the 0.6 v","ts":"1481707206.000235"},{"type":"message","user":"U0Z41KY5V","text":"aha, pier, you may need the 0.6 branch code when using the inherent membersrvc","ts":"1481707209.000236"},{"type":"message","user":"U11MANG9G","text":"From which directory are you running it?","ts":"1481707212.000237"},{"type":"message","user":"U3DEHEA4R","text":"favric","ts":"1481707226.000238"},{"type":"message","user":"U3DEHEA4R","text":"fabric directory","ts":"1481707233.000239"},{"type":"message","user":"U11MANG9G","text":"<@U3DEHEA4R>: what\u2019s your \u201cpwd\"","ts":"1481707233.000240"},{"type":"message","user":"U0Z41KY5V","text":"cd $GOPATH\/src\/github.com\/hyperledger\/fabric\nmake membersrvc","ts":"1481707246.000241"},{"type":"message","user":"U11MANG9G","text":"(show us the output, please)\nAlso, `ls -l`","ts":"1481707272.000242"},{"type":"message","user":"U3DEHEA4R","text":"sorry, I don't know what is pwd","ts":"1481707288.000243"},{"type":"message","user":"U3DEHEA4R","text":"ok","ts":"1481707295.000244","reactions":[{"name":"grinning","users":["U3DEHEA4R"],"count":1}]},{"type":"message","user":"U11MANG9G","text":"Can you please execute\/run `pwd` [ENTER] :wink:","edited":{"user":"U11MANG9G","ts":"1481714440.000000"},"ts":"1481707303.000245"},{"type":"message","user":"U3DEHEA4R","text":"ok sorry :grinning:","ts":"1481707389.000246"},{"type":"message","user":"U11MANG9G","text":"NP (no problem)","ts":"1481707409.000247","reactions":[{"name":"upside_down_face","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U0Z41KY5V","text":":+1:","ts":"1481707523.000248"},{"type":"message","user":"U3DEHEA4R","text":"<@U11MANG9G>  Ok works, sorry I had installed the version 1, now i have v0.6","ts":"1481708636.000249","reactions":[{"name":"+1","users":["U11MANG9G"],"count":1}]},{"user":"U3CMVMBRS","text":"<@U3CMVMBRS|sarkoi> has joined the channel","type":"message","subtype":"channel_join","ts":"1481719052.000251"},{"type":"message","user":"U0UGH3X7X","text":"have a problem on jenkins <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/4067\/>    ...  a unit test works fine on my local vagrant but fails in jenkins ?   is there a channel I can go to ask for help ?","ts":"1481726955.000252"},{"type":"message","user":"U0ZJZBJLF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3279\/>?","ts":"1481727109.000253"},{"type":"message","user":"U0UGH3X7X","text":"right","ts":"1481727328.000254"},{"type":"message","user":"U0ZJZBJLF","text":"well","ts":"1481727534.000255"},{"type":"message","user":"U0ZJZBJLF","text":"you only have ca with lowercase","ts":"1481727539.000256"},{"type":"message","user":"U0ZJZBJLF","text":"not with uppercase","ts":"1481727541.000257"},{"type":"message","user":"U0ZJZBJLF","text":"I assume in your local FS you have that?","ts":"1481727554.000258"},{"type":"message","user":"U0ZJZBJLF","text":"and on gerrit you don't?","ts":"1481727559.000259"},{"type":"message","user":"U0UGH3X7X","text":"which ca ? test-ca-cert ?","ts":"1481727598.000260"},{"type":"message","user":"U0ZJZBJLF","text":"yeah","ts":"1481727601.000261"},{"type":"message","user":"U0ZJZBJLF","text":"I'm talking about the file","ts":"1481727628.000262"},{"type":"message","user":"U0UGH3X7X","text":"no diff between local fs and gerrit","ts":"1481727632.000263"},{"type":"message","user":"U0ZJZBJLF","text":"certFile, _ = ioutil.ReadFile(\".\/test-CA-cert\")","ts":"1481727640.000264"},{"type":"message","user":"U0ZJZBJLF","text":"well I cloned the PR","ts":"1481727645.000265"},{"type":"message","user":"U0ZJZBJLF","text":"and I don't see a test-CA-cert, only a test-ca-cert","ts":"1481727654.000266"},{"type":"message","user":"U0UGH3X7X","text":"hmmm ... my gerrit says test-ca-cert","ts":"1481727732.000267"},{"type":"message","user":"U0UGH3X7X","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3279\/1\/orderer\/common\/crypto\/cryptoutils_test.go>","ts":"1481727763.000268"},{"type":"message","user":"U0ZJZBJLF","text":"no, you also have test-CA-cert there","ts":"1481727793.000269"},{"type":"message","user":"U0UGH3X7X","text":"argh !  i see it now","ts":"1481727795.000270"},{"type":"message","user":"U0ZJZBJLF","text":"aren't you late for your scrum?","ts":"1481727817.000271"},{"type":"message","user":"U0ZJZBJLF","text":"oh right","ts":"1481727823.000272"},{"type":"message","user":"U0ZJZBJLF","text":"Wednesday","ts":"1481727826.000273"},{"type":"message","user":"U0UGH3X7X","text":"brain fart  .... thanks yacov  ... still don't see why it worked on my vagrant","ts":"1481727829.000274"},{"type":"message","user":"U0ZJZBJLF","text":"like I said","ts":"1481727839.000275"},{"type":"message","user":"U0ZJZBJLF","text":"check you don't accidentally have the test-CA file or something locally","edited":{"user":"U0ZJZBJLF","ts":"1481727861.000000"},"ts":"1481727846.000276"},{"type":"message","user":"U0UGH3X7X","text":"one less meeting on wed :wink:","ts":"1481727871.000278"},{"type":"message","user":"U0ZJZBJLF","text":"ok, glad I could help","ts":"1481727882.000279"},{"type":"message","user":"U0UHG4VP1","text":"tuand yacovm also check to make sure the filesystem isn't folding case (windows or mac os may not respect case depending on options)","ts":"1481731422.000280","reactions":[{"name":"+1","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U0UGH3X7X","text":"that sounds right ... i'm running vagrant on mac","ts":"1481731513.000281"},{"user":"U3255JG20","text":"<@U3255JG20|py> has joined the channel","type":"message","subtype":"channel_join","ts":"1481787185.000282"},{"user":"U36UDC6RK","text":"<@U36UDC6RK|kamo> has joined the channel","type":"message","subtype":"channel_join","ts":"1481810283.000283"},{"user":"U3FUEPPF1","text":"<@U3FUEPPF1|vladislav_zolotarev> has joined the channel","type":"message","subtype":"channel_join","ts":"1481813357.000284"},{"type":"message","user":"U3FUEPPF1","text":"Hello! I am looking for the latest code possible for fabric project. I heard that there is a 1.0 ongoing development version? Is that the master I can see on github? Makefile states that it is 0.7.0 version","ts":"1481813361.000285"},{"type":"message","user":"U0UGH3X7X","text":"master branch has the latest ... design docs are at <https:\/\/wiki.hyperledger.org\/community\/fabric-design-docs>","ts":"1481813501.000286"},{"type":"message","user":"U3FUEPPF1","text":"Thank you.","ts":"1481813584.000287"},{"type":"message","user":"U3FUEPPF1","text":"Do you happen to now, whether the 'Confidentiality' change is already present in the master branch?","ts":"1481813734.000288"},{"user":"U3EHYEF89","text":"<@U3EHYEF89|d.baranov> has joined the channel","type":"message","subtype":"channel_join","ts":"1481817713.000289"},{"user":"U0Z81GL6S","text":"<@U0Z81GL6S|anya> has left the channel","type":"message","subtype":"channel_leave","ts":"1481828861.000290"},{"type":"message","user":"U0PB67X4K","text":"<@U3FUEPPF1>  - `\nDo you happen to now, whether the `Confidentiality' change is already present in the master branch?` - can you be a bit more specific?  What exactly are you looking for?","edited":{"user":"U0PB67X4K","ts":"1481887735.000000"},"ts":"1481887725.000291"},{"type":"message","user":"U3FUEPPF1","text":"<@U0PB67X4K> I am talking about the cryptographic feature that allows peers to validate transactions based on additional transaction hash, so that transactions cam be anonymous.","ts":"1481888428.000293"},{"user":"U38JCNW5V","text":"<@U38JCNW5V|divyank-sk> has joined the channel","type":"message","subtype":"channel_join","ts":"1481901572.000294"},{"type":"message","user":"U0ZJZBJLF","text":"Where can I find information regarding the anchor peers (the special peers that are related to JoinChannel messages)?","ts":"1481925432.000295"},{"type":"message","user":"U36RKMPBQ","text":"Gents, why is this moved to graveyard? <https:\/\/jira.hyperledger.org\/browse\/FAB-22>","ts":"1482139689.000296"},{"type":"message","user":"U36RKMPBQ","text":"is there any plan to manage the lifecycle of chaincodes?","ts":"1482139699.000297"},{"type":"message","user":"U36RKMPBQ","text":"also does anyone know how we can view the blockchain in hyperledger? to see past historical transacitons?","ts":"1482139850.000298"},{"type":"message","user":"U0N4D2T61","text":"i think the focus on this feature is for V1.0","attachments":[{"fallback":"[December 19th, 2016 10:28 AM] bercinho: Gents, why is this moved to graveyard? <https:\/\/jira.hyperledger.org\/browse\/FAB-22>","ts":"1482139689.000296","author_subname":"bercinho","channel_id":"C0YPYBVJM","channel_name":"fabric-dev","is_msg_unfurl":true,"text":"Gents, why is this moved to graveyard? <https:\/\/jira.hyperledger.org\/browse\/FAB-22>","author_name":"Bertalan Vecsei","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/bercinho","author_icon":"https:\/\/avatars.slack-edge.com\/2016-11-23\/109042308134_5a9d3b59fbebb2868113_48.jpg","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev\/p1482139689000296","is_share":true,"footer":"Posted in #fabric-dev"}],"ts":"1482140098.000299"},{"type":"message","user":"U184J2R7S","text":"<@U36RKMPBQ>  <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3389> implements a usable\/testable version of upgrade (happy path will work). This just got checked in recently.   The  chaincode is uniquely identified by (chain name, chaincode name). With upgrading support, we need to add the version number into the id generation- which is being worked (Murali might have already checked in already, but unclear)","ts":"1482152203.000300"},{"type":"message","user":"U36RKMPBQ","text":"<@U184J2R7S> thanks a lot, will check it out right away! :slightly_smiling_face:","ts":"1482152279.000301"},{"type":"message","user":"U184J2R7S","text":"<@U36RKMPBQ> one of the things that is getting worked on is to add couchdb to help more easily see past historical transactions.  The developers working on this are on fabric-ledger-dev.  I think they are looking for input on API interfaces as they are working through that.","ts":"1482152287.000302"},{"type":"message","user":"U184J2R7S","text":"<@U3FUEPPF1> please note when working with version 1.0 out of master there are a couple of sites that are useful.  Design docs are here <https:\/\/wiki.hyperledger.org\/community\/fabric-design-docs>  .  There are also some instructions that they have been posting on  how to get master running at that site.  Also on you tube they have been posting playbacs.","ts":"1482152426.000303"},{"user":"U2SCJN8F6","text":"<@U2SCJN8F6|zws> has joined the channel","type":"message","subtype":"channel_join","ts":"1482152510.000304"},{"type":"message","user":"U184J2R7S","text":"<@U36RKMPBQ> Also for the Couchdb work,.. you can go to the  main design wiki <https:\/\/wiki.hyperledger.org\/community\/fabric-design-docs>, follow the link to the Ledger design.  There you will find design charts that might answer some of your questions.","ts":"1482152570.000305"},{"type":"message","user":"U3FUEPPF1","text":"<@U184J2R7S> Thank you!","ts":"1482152634.000306"},{"type":"message","user":"U0PB67X4K","text":"<@U36RKMPBQ>  - I think FAB-22 was moved their as it was a duplicate.  You can see <https:\/\/jira.hyperledger.org\/browse\/FAB-183>","ts":"1482153818.000307"},{"type":"message","user":"U2TUCLGRJ","text":"Hello,\nI would like an example of a docker-compose.yml file or use swarm to deploy multiple containers in several machines connected with swarm.\nFor example 3 containers vp0 vp1 vp2.","ts":"1482154334.000308"},{"type":"message","user":"U0ULK2JPP","text":"<@U36RKMPBQ> a usable version of upgrade waiting on the wings in <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3389>","ts":"1482158848.000309"},{"type":"message","user":"U0ULK2JPP","text":"<@U1VG8LNP3> and I plan to post a playback on it","ts":"1482158896.000310"},{"type":"message","user":"U36RKMPBQ","text":"<@U0ULK2JPP> Thanks for the recommendation! I see this is for Fabric v1, so I guess for v0.6 we should not wait for such features anymore.","ts":"1482160514.000311"},{"type":"message","user":"U0ULK2JPP","text":"that would be correct :slightly_smiling_face: <@U36RKMPBQ>","ts":"1482160552.000312"},{"type":"message","user":"U36RKMPBQ","text":"One more question: with the Blockchain Explorer you can indeed view the Ledger transactions, blocks, etc. but naturally everything encrypted. Is there any plan to provide a view on the blockchain regards to past transactions in a non-encrypted way for certain identities \/ roles , who actually triggered those transactions? So in case \"robert\" is firing couple of transactions via a ChainCode to the Blockchain, then he would be able to see all his historical transactions whenever requesting with his identitiy and approriate ECERT?","ts":"1482160670.000313"},{"type":"message","user":"U0ULK2JPP","text":"<@U36RKMPBQ>  I\u2019d think that would be in control of the app in some form but it is reasonable to assume if \"robert\" has the right creds he should be able to see the transactions\u2026. will refer to @ado <@U26T99AQ4>  <@U0PB67X4K> to elaborate","ts":"1482161230.000314"},{"type":"message","user":"U36RKMPBQ","text":"Thanks <@U0ULK2JPP> , it\u00b4s a feature we would really need for our PoC, and I do see it as a natural &amp; quite useful functionality Hyperledger could easily provide via a new API ... I wouldn\u00b4t really like to trust and rely on the \"external\" app to store and persist these transactions.","ts":"1482161508.000315"},{"type":"message","user":"U0ULK2JPP","text":"<@U36RKMPBQ> let me make sure .. you are referring to v1.0 correct ?","ts":"1482161577.000316"},{"type":"message","user":"U36RKMPBQ","text":"yes sure","ts":"1482161635.000317"},{"type":"message","user":"U36RKMPBQ","text":"v0.6 we started, but will migrate to v1.0","ts":"1482161652.000318"},{"type":"message","user":"U0ULK2JPP","text":"Ok. the security models are different in 1.0 \u2026good to look at the details and differences. \u201cfabric-crypto\u201d channel would be a good resource","ts":"1482161829.000319"},{"type":"message","user":"U0XQ35CDD","text":"On the latest master (HEAD `6e9073c`), if you `make peer` you get:","edited":{"user":"U0XQ35CDD","ts":"1482212946.000000"},"ts":"1482212915.000320"},{"type":"message","user":"U0XQ35CDD","text":"```Step 3 : ADD payload\/goshim.tar.bz2 $GOPATH\/src\/\nError processing tar file(bzip2 data invalid: bad magic value in continuation file):\nmake: *** [build\/image\/ccenv\/.dummy-x86_64-0.7.0-snapshot-6e9073c] Error 1```","ts":"1482212918.000321"},{"type":"message","user":"U0XQ35CDD","text":"Something wrong on my end, or the master is indeed broken?","ts":"1482212925.000322"},{"type":"message","user":"U0ZJZBJLF","text":"You're running mac right?","ts":"1482215775.000324"},{"type":"message","user":"U0ZJZBJLF","text":"I think it's related with the tar binary or something","ts":"1482215874.000325"},{"type":"message","user":"U3FUEPPF1","text":"Hi. I am trying to figure out which would be the best API to use with fabric. Currently I went with REST API, but I have seen multiple statements that imply removal of REST API in the future, is that correct?","ts":"1482231117.000326"},{"type":"message","user":"U0PB67X4K","text":"<@U3FUEPPF1> - in Fabric V1 (the current code in the master branch), there are no REST APIs built-in to the peer for invoking \/ querying chaincode.  You'll need to use the GRPC-based APIs although hopefully you can use one of the SDKs - Node, Java, Python","ts":"1482231942.000327"},{"type":"message","user":"U3FUEPPF1","text":"<@U0PB67X4K> Thank you, for clarification. I got a bit confused, since the latest documentation contains examples for running chaincode with CLI and REST options.","ts":"1482232012.000328"},{"type":"message","user":"U0PB67X4K","text":"<@U0XQ35CDD> - the default `tar` included with OSX (and actually a few other utilities as well) are actually the BSD versions rather than the POSIX compliant versions used by *Nix operating systems.   This link should help:   <https:\/\/www.topbug.net\/blog\/2013\/04\/14\/install-and-use-gnu-command-line-tools-in-mac-os-x\/>","attachments":[{"service_name":"Top Bug Net","title":"Install and Use GNU Command Line Tools on macOS\/OS X - Top Bug Net","title_link":"https:\/\/www.topbug.net\/blog\/2013\/04\/14\/install-and-use-gnu-command-line-tools-in-mac-os-x\/","text":"If you are moving onto macOS\/OS X from GNU\/Linux, you would probably find out that the command line tools shipped with OS X are not as powerful and easy to use as the tools in Linux. The reason is that macOS\/Mac OS X uses the BSD version command line tools, which are different from the \u2026","fallback":"Top Bug Net: Install and Use GNU Command Line Tools on macOS\/OS X - Top Bug Net","ts":1365899520,"from_url":"https:\/\/www.topbug.net\/blog\/2013\/04\/14\/install-and-use-gnu-command-line-tools-in-mac-os-x\/","service_icon":"https:\/\/www.topbug.net\/wp-content\/uploads\/2016\/08\/cropped-avatar-180x180.png","id":1}],"ts":"1482232082.000329"},{"type":"message","user":"U0PB67X4K","text":"<@U3FUEPPF1> - yeah - those are based on the \"current\" version which is v0.6 (and it's fine to play around with v0.6 right now as well).  We should be putting out more consumable versions of V1 in January","ts":"1482232158.000331"},{"type":"message","user":"U3FUEPPF1","text":"<@U0PB67X4K> Okay, thank you! I will consider available SDK options.","ts":"1482232242.000332"},{"type":"message","user":"U3DEHEA4R","text":"hi","ts":"1482233015.000333"},{"type":"message","user":"U0PB67X4K","text":"hello","ts":"1482233157.000334"},{"type":"message","user":"U3DEHEA4R","text":"I have installed and use chaincode with 1 validato as a doc <https:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/Setup\/Chaincode-setup\/>","ts":"1482233173.000335"},{"type":"message","user":"U3DEHEA4R","text":"and i depliy, invoke and query chaincode","ts":"1482233226.000336"},{"type":"message","user":"U3DEHEA4R","text":"I can use more validator?","ts":"1482233272.000337"},{"type":"message","user":"U0XQ35CDD","text":"<@U0PB67X4K> <@U0ZJZBJLF> Gotcha, thanks for the pointer.","ts":"1482236362.000338"},{"type":"message","user":"U0XQ35CDD","text":"If macOS's BSD tools are the culprit here, shouldn't this issue go away, if you decide to `make peer` from within the vagrant environment?","edited":{"user":"U0XQ35CDD","ts":"1482237018.000000"},"ts":"1482237008.000339"},{"type":"message","user":"U0ZJZBJLF","text":"and it doesn't?","ts":"1482237073.000341"},{"type":"message","user":"U0XQ35CDD","text":"Correct. Same error. ","ts":"1482237903.000342"},{"user":"U3HM4KM62","text":"<@U3HM4KM62|svasilyev> has joined the channel","type":"message","subtype":"channel_join","ts":"1482238319.000343"},{"type":"message","user":"U0PB67X4K","text":"<@U0XQ35CDD> - I don't use Vagrant, but as I recall doesn't Vagrant mount the fabric src from your host system?","ts":"1482238334.000344"},{"type":"message","user":"U0KM61BCP","text":"<@U0PB67X4K> yes it does","ts":"1482238355.000345"},{"type":"message","user":"U0PB67X4K","text":"perhaps you tried `make peer` locally first and then tried to spin up Vagrant?  You might want to do a `make clean` in Vagrant first?","ts":"1482238369.000346"},{"type":"message","user":"U0PB67X4K","text":"or `make clean` on your host before loading up Vagrant","ts":"1482238394.000347"},{"type":"message","user":"U0KM61BCP","text":"I generally make clean before a local build","ts":"1482238400.000348"},{"type":"message","user":"U0PB67X4K","text":"(I could be off)  :wink:","ts":"1482238412.000349"},{"type":"message","user":"U0ZJZBJLF","text":"It does sound like what Gari said. .. But you can also do the make clean in vagrant IMO","ts":"1482239108.000350"},{"type":"message","user":"U0KPFAZNF","text":"I concur with <@U0PB67X4K>, <@U0XQ35CDD>.  I suspect you had residual build artifacts left over from your OSX build and a 'make clean' should fix it","ts":"1482239546.000351"},{"type":"message","user":"U0XQ35CDD","text":"Roger, will do a `make clean` first.","ts":"1482239588.000352"},{"type":"message","user":"U0PB67X4K","text":"<@U0KPFAZNF> - question \/ suggestion.    So generally I build and test all my changes natively on my host (i.e. I just run `go test` directly on my host system)  and then when things look good I then run `make unit-tests` locally (although I do forget sometimes) before submitted by patch for review\n\nThere are of course times when `go test` runs fine locally but then when run in the context of `make unit-tests` it fails for one reason or another.   `make unit-tests` takes a while to run so this is a pain (as others have stated).\n\nSo one thing I've been doing locally is modifying `unit-test\/run.sh` locally to only run the unit tests for the package(s) I've changed to quickly ensure that things work.\n\nSo my question \/ suggestion - what do you think about possibly parameterizing `unit-test\/run.sh` to optionally pass in the package you want to test rather than running unit tests for the whole fabric?   It might be a nice convenience for people to quickly run their local change only in the \"official\" build\/test environment?","ts":"1482240515.000353","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"This has been on the \"todo\" list since that run.sh script went in","ts":"1482240566.000354"},{"type":"message","user":"U0KPFAZNF","text":"if you want to tackle, greatly appreciated","ts":"1482240573.000355"},{"type":"message","user":"U0KPFAZNF","text":"My thought was, we make it always accept the list of tests to run, and the default operation will acertain the list of all tests and pass that in","ts":"1482240609.000356"},{"type":"message","user":"U0KPFAZNF","text":"that would pave the way to allow people to filter it to what they want","ts":"1482240629.000357"},{"type":"message","user":"U0PB67X4K","text":"ok - cool","ts":"1482240634.000358"},{"type":"message","user":"U0PB67X4K","text":"I'll take it on  :wink:","ts":"1482240645.000359"},{"type":"message","user":"U0KPFAZNF","text":"ty","ts":"1482240648.000360"},{"type":"message","user":"U0KPFAZNF","text":"(I had been annoyed by this too, so I feel your pain","ts":"1482240659.000361"},{"type":"message","user":"U0PB67X4K","text":"just wanted to check with the master of all things build first","ts":"1482240669.000362"},{"type":"message","user":"U0KPFAZNF","text":"waiting for chaincode\/core is, um, annoying","ts":"1482240677.000363"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1482240678.000364"},{"type":"message","user":"U0PB67X4K","text":"yep","ts":"1482240688.000365"},{"type":"message","user":"U0ZJZBJLF","text":"Can't we make it run in parallel to the other unit tests and then combine the result? like scatter--&gt;gather or something","ts":"1482240731.000366"},{"type":"message","user":"U0ZJZBJLF","text":"just this test, it's like 11 min","ts":"1482240748.000367"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> I had tried to parallelize the tests in the past, it didnt work out so well","ts":"1482240772.000368"},{"type":"message","user":"U0KPFAZNF","text":"but I also didnt have the time to fully dedicate to investigating why","ts":"1482240787.000369"},{"type":"message","user":"U0KPFAZNF","text":"I would be in favor of moving chaincode\/core in particular out of the \"unit-test\" path","ts":"1482240819.000370"},{"type":"message","user":"U0KPFAZNF","text":"i.e. I think unit-tests should be quick (&lt; 5min), anything else can be a later stage as part of an acceptance test","ts":"1482240860.000371"},{"type":"message","user":"U0KPFAZNF","text":"e.g. behave, chaincode\/core, etc","ts":"1482240867.000372"},{"type":"message","user":"U0ZJZBJLF","text":"You mean each unit tests, not 5 min it total right?","ts":"1482241951.000373"},{"type":"message","user":"U0ZJZBJLF","text":"All our tests are less than 90 seconds","ts":"1482241968.000374"},{"type":"message","user":"U0KPFAZNF","text":"I mean I would like \"make unit-tests\" to take no longer than 5m total","ts":"1482242197.000375","reactions":[{"name":"pray","users":["U0XQ35CDD"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"right now it takes about 20m IIRC","ts":"1482242206.000376"},{"type":"message","user":"U0KPFAZNF","text":"mostly because of chaincode\/core","ts":"1482242213.000377"},{"type":"message","user":"U0KPFAZNF","text":"basically, for two reasons","ts":"1482242244.000378"},{"type":"message","user":"U0KPFAZNF","text":"making them as painless as possible will encourage more people to run them locally before wasting CI resources","ts":"1482242265.000379"},{"type":"message","user":"U0KPFAZNF","text":"and also, filtering out as many bad CRs as possible before we waste 20+ minutes of CI time...","ts":"1482242335.000380"},{"type":"message","user":"U0KPFAZNF","text":"this will be particularly important for the resource constrained  $arch's","ts":"1482242354.000381"},{"type":"message","user":"U0KPFAZNF","text":"like P and Z, who only have ~3 builders","ts":"1482242367.000382"},{"type":"message","user":"U0KPFAZNF","text":"if any random CR activity is going to squash 30+ minutes of a builders time, this could be a problem","ts":"1482242410.000383"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0KPFAZNF>  speaking of CI squashing builder time, I have a PR and I have [ci-skip] and [skip-ci] in the commit message and it is still running unit tests. Any idea why?","edited":{"user":"U0ZJZBJLF","ts":"1482267179.000000"},"ts":"1482267170.000384"},{"type":"message","user":"U0ZJZBJLF","text":"```\n[skip-ci] \n[ci-skip]\n```","edited":{"user":"U0ZJZBJLF","ts":"1482267208.000000"},"ts":"1482267196.000386"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> no idea, that is <@U11HH3P7Y>'s dept :wink:","ts":"1482267206.000387"},{"type":"message","user":"U0ZJZBJLF","text":"But it's what I'm supposed to put there, right?","ts":"1482267224.000389"},{"type":"message","user":"U0KPFAZNF","text":"I think the latter is right","ts":"1482267234.000390"},{"type":"message","user":"U0ZJZBJLF","text":"I assume you know","ts":"1482267234.000391"},{"type":"message","user":"U0KPFAZNF","text":"but I am not an expert","ts":"1482267238.000392"},{"type":"message","user":"U0ZJZBJLF","text":"Yeah, I put both because I wasn't sure. will ask in ci-|. thanks","ts":"1482267252.000393"},{"type":"message","user":"U0KPFAZNF","text":"np","ts":"1482267256.000394"},{"type":"message","user":"U184J2R7S","text":"<@U1BLWHZ8W> <@U12KFP7JN>  Surya any chance you can help yacovm or Ghaskins - see above.","ts":"1482267756.000395"},{"user":"U1BLWHZ8W","inviter":"U184J2R7S","text":"<@U1BLWHZ8W|suryavb95> has joined the channel","type":"message","subtype":"channel_join","ts":"1482267768.000396"},{"user":"U12KFP7JN","inviter":"U184J2R7S","text":"<@U12KFP7JN|mohanv> has joined the channel","type":"message","subtype":"channel_join","ts":"1482267768.000397"},{"type":"message","user":"U0PB67X4K","text":"<@U0ZJZBJLF>  - what exactly are you trying to do?  Meaning you want to have a PR accepted \/ merged without it having to pass CI?","ts":"1482270037.000398"},{"type":"message","user":"U0ZJZBJLF","text":"lol what?","ts":"1482270061.000399"},{"type":"message","user":"U0ZJZBJLF","text":"The opposite","ts":"1482270068.000400"},{"type":"message","user":"U0ZJZBJLF","text":"I have a WIP PR","ts":"1482270073.000401"},{"type":"message","user":"U0ZJZBJLF","text":"I don't want jenkins to waste resources on it","ts":"1482270081.000402"},{"type":"message","user":"U0ZJZBJLF","text":"I added the tags that are supposed to make it skip unit tests, but it still runs them","ts":"1482270099.000403"},{"type":"message","user":"U0PB67X4K","text":"you can try removing the job builder in the UI right after submitting?  I think there's a small window of time where that works as well","ts":"1482270153.000404"},{"type":"message","user":"U0ZJZBJLF","text":"In the gerrit UI or in jenkins?","ts":"1482270181.000405"},{"type":"message","user":"U0ZJZBJLF","text":"I don't think I have permissions for anything, I'm not a maintainer","ts":"1482270195.000406"},{"type":"message","user":"U0PB67X4K","text":"Gerrit UI - now I may have just gotten lucky when I did it that way but right be worth a shot while waiting for the CI folks to respond","ts":"1482270216.000407"},{"type":"message","user":"U0ZJZBJLF","text":"How do I do that?","ts":"1482270238.000408"},{"type":"message","user":"U0ZJZBJLF","text":"ah","ts":"1482270278.000409"},{"type":"message","user":"U0ZJZBJLF","text":"the reviewer?","ts":"1482270280.000410"},{"type":"message","user":"U0PB67X4K","text":"try deleting job builder from the reviewers - but as I said - it might not actually work - it may have been coincidence that it worked for me in the past","ts":"1482270298.000411"},{"type":"message","user":"U0ZJZBJLF","text":"Tells me \"Delete not permitted\"","ts":"1482270344.000412"},{"type":"message","user":"U0PB67X4K","text":"hmm - what's the PR?","ts":"1482270353.000413"},{"type":"message","user":"U0ZJZBJLF","text":"I'm afraid to tell you that, it's... pretty big :wink:","ts":"1482270368.000414"},{"type":"message","user":"U0ZJZBJLF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2785\/>","ts":"1482270372.000415"},{"type":"message","user":"U0PB67X4K","text":"ha - that was my guess","ts":"1482270389.000416"},{"type":"message","user":"U0ZJZBJLF","text":"400 of it is pb.go though","ts":"1482270395.000417"},{"type":"message","user":"U0PB67X4K","text":"I deleted job builder from the reviewers list","ts":"1482270415.000418"},{"type":"message","user":"U0ZJZBJLF","text":"I asked in <#C0YMWRX19|ci-pipeline>  anyway","ts":"1482270418.000419"},{"type":"message","user":"U0ZJZBJLF","text":"It was working long ago, that tag. Maybe there is a regression and they should fix it","ts":"1482270436.000420"},{"type":"message","user":"U0UHG4VP1","text":"please don't worry about it. let Jenkins do its thing","ts":"1482270465.000421"},{"type":"message","user":"U0ZJZBJLF","text":"But I checked and it still ran the unit tests...","ts":"1482270481.000422"},{"type":"message","user":"U0UHG4VP1","text":"wasting Jenkins resources is super low priority. why are you worrying about this?","ts":"1482270531.000423"},{"type":"message","user":"U0ZJZBJLF","text":"Oh, I thought we have a limited number of VMs at a time and if I submit a change set and all VMs are taken it means that if someone else submits it doesn't start building right away and delays the feedback. If you say it's low priority than it's low priority, no problem.","ts":"1482270661.000424"},{"type":"message","user":"U0ZJZBJLF","text":"Just trying to be a good citizen and all","ts":"1482270674.000425"},{"type":"message","user":"U0UHG4VP1","text":"we are limited, but right now, we aren't close to that limit on the whole.","ts":"1482270688.000426"},{"type":"message","user":"U0UHG4VP1","text":"I'll see if the ci-skip plugin was dropped.","ts":"1482270708.000427"},{"type":"message","user":"U0UHG4VP1","text":"which is what I suspect happened.","ts":"1482270715.000428"},{"type":"message","user":"U0ZJZBJLF","text":"I'm happy to hear that. I remember we had times in which jenkins was saying sometimes \"waiting for a free worker\" or something of that sort","ts":"1482270722.000429"},{"type":"message","user":"U0UHG4VP1","text":"looking at it, we have ci-skip version 0.0.2 installed and enabled, and there aren't any other versions available. I'll see if the logs shed any light","ts":"1482270822.000430"},{"type":"message","user":"U0UHG4VP1","text":"yacovm I have what I suspect is the answer, would you be willing to try it out?","ts":"1482271198.000431"},{"type":"message","user":"U0ZJZBJLF","text":"I can't in the near 8 hours, I left my laptop at the office :confused: \nBut I can try in the morning","ts":"1482271233.000432"},{"type":"message","user":"U0UHG4VP1","text":"if I update your CR is that OK?","ts":"1482271250.000433"},{"type":"message","user":"U0ZJZBJLF","text":"sure","ts":"1482271254.000434"},{"type":"message","user":"U0ZJZBJLF","text":"It's all yours","ts":"1482271265.000435"},{"type":"message","user":"U0UHG4VP1","text":"let's see how it goes. <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2785\/8..9\/\/COMMIT_MSG>","ts":"1482271352.000436"},{"type":"message","user":"U0ZJZBJLF","text":"oh come on I can't believe I haven't tried that","ts":"1482271391.000437"},{"text":"shrugs","type":"message","subtype":"me_message","user":"U0UHG4VP1","ts":"1482271404.000438"},{"type":"message","user":"U0ZJZBJLF","text":"I should write this down or something","ts":"1482271416.000439"},{"type":"message","user":"U0UHG4VP1","text":"I did \"git log | grep skip |more\" and that's how I found it","ts":"1482271422.000440"},{"type":"message","user":"U0ZJZBJLF","text":"Heh, good idea!","ts":"1482271445.000441"},{"type":"message","user":"U0ZJZBJLF","text":"thanks!","ts":"1482271459.000442","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3HBFAEBE\/this_is_what_the_log_says.txt|this is what the log says>","file":{"id":"F3HBFAEBE","created":1482271502,"timestamp":1482271502,"name":"this_is_what_the_log_says.txt","title":"this is what the log says","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":454,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3HBFAEBE\/this_is_what_the_log_says.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3HBFAEBE\/download\/this_is_what_the_log_says.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3HBFAEBE\/this_is_what_the_log_says.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3HBFAEBE-53a278abcd","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3HBFAEBE\/this_is_what_the_log_says.txt\/edit","preview":"Dec 20, 2016 10:01:58 PM INFO com.sonyericsson.hudson.plugins.gerrit.trigger.gerritnotifier.ToGerritRunListener onTriggered\r\nProject [fabric-verify-x86_64] triggered by Gerrit: [PatchsetCreated: Change-Id for #2785: I1ae8c78d80c7da11f43396179551990bca42cc45 PatchSet: 9]\r\nDec 20, 2016 10:01:58 PM INFO com.sonyericsson.hudson.plugins.gerrit.trigger.hudsontrigger.EventListener schedule\r\nProject fabric-verify-x86_64 Build Scheduled: true By event: 2785\/9","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Dec 20, 2016 10:01:58 PM INFO com.sonyericsson.hudson.plugins.gerrit.trigger.gerritnotifier.ToGerritRunListener onTriggered<\/pre><\/div>\n<div><pre>Project [fabric-verify-x86_64] triggered by Gerrit: [PatchsetCreated: Change-Id for #2785: I1ae8c78d80c7da11f43396179551990bca42cc45 PatchSet: 9]<\/pre><\/div>\n<div><pre>Dec 20, 2016 10:01:58 PM INFO com.sonyericsson.hudson.plugins.gerrit.trigger.hudsontrigger.EventListener schedule<\/pre><\/div>\n<div><pre>Project fabric-verify-x86_64 Build Scheduled: true By event: 2785\/9<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":4,"lines_more":0,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1482271505.000443"},{"type":"message","user":"U0ZJZBJLF","text":"Yeah I see","ts":"1482271520.000444"},{"type":"message","user":"U0UHG4VP1","text":"so it did schedule a build, but nothing happened, so I think the ci-skip plugin just kills the build","ts":"1482271532.000445"},{"type":"message","user":"U0ZJZBJLF","text":"` Build is skipped through commit message.`","ts":"1482271541.000446"},{"type":"message","user":"U0ZJZBJLF","text":"That's what it says","ts":"1482271550.000447"},{"type":"message","user":"U0UHG4VP1","text":"funny. it goes to all the work to spin up a minion just to get that log message and throw it away. I figured it would do something smarter","ts":"1482271607.000448"},{"type":"message","user":"U0XQ35CDD","text":"On the very latest master (tip `784d260`), `make dist-clean` followed by `make unit-test` results in:","ts":"1482290585.000449"},{"type":"message","user":"U0XQ35CDD","text":"```cd unit-test &amp;&amp; docker-compose up --abort-on-container-exit --force-recreate &amp;&amp; docker-compose down\nRecreating 62c448903d2a_62c448903d2a_62c448903d2a_62c448903d2a_62c448903d2a_unittest_vp_1\n\nERROR: for vp  No such image: sha256:b487745fe4203a4330f120dc0ce2e66246559932d469159edfbdac2849e1ef1e\nERROR: Encountered errors while bringing up the project.\nMakefile:102: recipe for target 'unit-test' failed\nmake: *** [unit-test] Error 1```","ts":"1482290609.000450"},{"type":"message","user":"U0XQ35CDD","text":"Is this expected?","edited":{"user":"U0XQ35CDD","ts":"1482295051.000000"},"ts":"1482290614.000451"},{"type":"message","user":"U0KPFAZNF","text":"Try \"cd unit-test &amp;&amp; docker-compose down \"","ts":"1482299939.000453"},{"type":"message","user":"U0KPFAZNF","text":"Then try again","ts":"1482299946.000454"},{"type":"message","user":"U0KPFAZNF","text":"It's a docker compose issue that is exacerbated by the clean ","ts":"1482299996.000455"},{"user":"U2P0N5J5A","text":"<@U2P0N5J5A|sergefdrv> has joined the channel","type":"message","subtype":"channel_join","ts":"1482313177.000456"},{"user":"U3DHKV84C","text":"<@U3DHKV84C|yuryandreev> has joined the channel","type":"message","subtype":"channel_join","ts":"1482332202.000457"},{"type":"message","user":"U0XQ35CDD","text":"<@U0KPFAZNF>: That seems to fix it, thanks.","edited":{"user":"U0XQ35CDD","ts":"1482333223.000000"},"ts":"1482333216.000458"},{"type":"message","user":"U0XQ35CDD","text":"```+ protoc --proto_path=\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/comm\/testdata\/grpc --go_out=plugins=grpc:\/opt\/gopath\/src \/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/comm\/testdata\/grpc\/test.proto\n\/opt\/gopath\/src\/test.pb.go: Permission deniedMakefile:223: recipe for target 'protos' failed\nmake: *** [protos] Error 1```","ts":"1482335078.000460"},{"type":"message","user":"U0XQ35CDD","text":"This is the output of `make protos` (preceded by `make clean`). Expected?","edited":{"user":"U0XQ35CDD","ts":"1482335146.000000"},"ts":"1482335123.000461"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XQ35CDD> something looks busted","ts":"1482336952.000463"},{"type":"message","user":"U0KPFAZNF","text":"I wouldnt expect \/opt\/gopath\/src\/test.pb.go","ts":"1482336962.000464"},{"type":"message","user":"U0XQ35CDD","text":"Note that this is the case even if I do `make dist-clean` first.","ts":"1482337176.000465"},{"type":"message","user":"U0XQ35CDD","text":"I am not blocked because I can always run the `protoc` command directly, but I figured I'd bring this to your attention.","ts":"1482337213.000466"},{"type":"message","user":"U0KPFAZNF","text":"ty, pls file JIRA if you dont mind","ts":"1482337839.000467"},{"type":"message","user":"U112NNFV4","text":"Please flag <@U112NNFV4> when content on here is good for external v1.0 doc. Hard to keep track of all slack channels, thanks!","ts":"1482338759.000468"},{"type":"message","user":"U0XQ35CDD","text":"<@U0KPFAZNF>: Gari cannot reproduce this on his machine, so I'm guessing it's just the result of an unsuccessful run on my end, and then a case of `make clean` (and `make dist-clean`) not cleaning up everything. I'll do a `vagrant destroy`, and take it from there.","ts":"1482348574.000469"},{"type":"message","user":"U0XQ35CDD","text":"If the issue persists, I'll follow-up with a JIRA issue.","ts":"1482348585.000470","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"user":"U3HE2V38F","text":"<@U3HE2V38F|mohamoudegal> has joined the channel","type":"message","subtype":"channel_join","ts":"1482348775.000471"},{"type":"message","user":"U3HE2V38F","text":"Hi everyone.","ts":"1482348875.000472"},{"type":"message","user":"U3HE2V38F","text":"I recently started developing on Fabric tutorial \u201cLearn Chain code\u201d -github and I ran into a bug that I need help with.","ts":"1482348920.000473"},{"type":"message","subtype":"file_share","text":"<@U3HE2V38F|mohamoudegal> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/mohamoudegal\/F3HQ9GZ60\/screen_shot_2016-12-21_at_11.45.24_am.png|Screen Shot 2016-12-21 at 11.45.24 AM.png> and commented: I inputted the right info from the credentials file on Bluemix, but I\u2019m getting a syntax error message. Please advise.","file":{"id":"F3HQ9GZ60","created":1482348953,"timestamp":1482348953,"name":"Screen Shot 2016-12-21 at 11.45.24 AM.png","title":"Screen Shot 2016-12-21 at 11.45.24 AM.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U3HE2V38F","editable":false,"size":215778,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3HQ9GZ60\/screen_shot_2016-12-21_at_11.45.24_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3HQ9GZ60\/download\/screen_shot_2016-12-21_at_11.45.24_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3HQ9GZ60-315919b278\/screen_shot_2016-12-21_at_11.45.24_am_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3HQ9GZ60-315919b278\/screen_shot_2016-12-21_at_11.45.24_am_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3HQ9GZ60-315919b278\/screen_shot_2016-12-21_at_11.45.24_am_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":262,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3HQ9GZ60-315919b278\/screen_shot_2016-12-21_at_11.45.24_am_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":349,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3HQ9GZ60-315919b278\/screen_shot_2016-12-21_at_11.45.24_am_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3HQ9GZ60-315919b278\/screen_shot_2016-12-21_at_11.45.24_am_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":524,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3HQ9GZ60-315919b278\/screen_shot_2016-12-21_at_11.45.24_am_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":699,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3HQ9GZ60-315919b278\/screen_shot_2016-12-21_at_11.45.24_am_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":745,"image_exif_rotation":1,"original_w":2270,"original_h":1652,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/mohamoudegal\/F3HQ9GZ60\/screen_shot_2016-12-21_at_11.45.24_am.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3HQ9GZ60-de352de562","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc3HL0CE3V","created":1482348953,"timestamp":1482348953,"user":"U3HE2V38F","is_intro":true,"comment":"I inputted the right info from the credentials file on Bluemix, but I\u2019m getting a syntax error message. Please advise.","channel":""}},"user":"U3HE2V38F","upload":true,"display_as_bot":false,"username":"<@U3HE2V38F|mohamoudegal>","bot_id":null,"ts":"1482348956.000474"},{"user":"U37LUBK8R","text":"<@U37LUBK8R|emir-sk> has joined the channel","type":"message","subtype":"channel_join","ts":"1482349700.000475"},{"user":"U3H0CJXND","text":"<@U3H0CJXND|atom> has joined the channel","type":"message","subtype":"channel_join","ts":"1482351874.000476"},{"type":"message","user":"U3H0CJXND","text":"<@U11MANG9G>  It was kind of rough.  Seems most of the issues revolved around the hashtable package, and the native compiler setup it needs.  As I fought through the errors, I had to install Python (2.7 version, as the 3.0 version didn't work), then I had to install the Windows 8.1 SDK, but that doesn't include the compiler that was needed, so I had to install Visual Studio 2013 Express edition.  Previously I had set a npm config setting to try and use VS2015, so I had to reset that to be msvs_version=2015, so i had to reset that to 2013.  Whew...  Figuring out what was needed at each step consisted of some luck and a lot of google'n.","ts":"1482352211.000477"},{"type":"message","user":"U3H0CJXND","text":"oh, btw...  for folks not in the general channel, that's related to installing the hfc package from npm for the SDK-Demo project.","ts":"1482352245.000478"},{"type":"message","user":"U0PB67X4K","text":"<@U3H0CJXND> - I guess we need to add <https:\/\/github.com\/felixrieseberg\/windows-build-tools>  to the docs for hfc.  This makes it a snap to install the prereqs required on Windows for installing \/ compiling node packages with native code","attachments":[{"service_name":"GitHub","title":"felixrieseberg\/windows-build-tools","title_link":"https:\/\/github.com\/felixrieseberg\/windows-build-tools","text":"windows-build-tools - :package: Install C++ Build Tools for Windows using npm","fallback":"GitHub: felixrieseberg\/windows-build-tools","thumb_url":"https:\/\/avatars0.githubusercontent.com\/u\/1426799?v=3&s=400","from_url":"https:\/\/github.com\/felixrieseberg\/windows-build-tools","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1482353995.000479"},{"type":"message","user":"U3H0CJXND","text":"I believe I installed those as well :slightly_smiling_face:","ts":"1482354186.000481"},{"type":"message","user":"U3H0CJXND","text":"thanks for reminding me so that I can update my notes. :slightly_smiling_face:","ts":"1482354194.000482"},{"type":"message","user":"U3H0CJXND","text":"bummer...  Now when I ry to run \"node helloblockchain.js\" I get the following error:  Error: Cannot find module 'C:\\Users\\....\\...\\SDK-Demo\\node_modules\\grpc\\src\\node\\extension_binary\\grpc_node.node'","ts":"1482354374.000483"},{"type":"message","user":"U3H0CJXND","text":"Gave a shot at updating to grpc@1.0.1 (latest)..  seemed to get further on the 'node helloblockchain.js', but still threw an error:  Enrolled admin sucecssfully\nevents.js:160\n      throw er; \/\/ Unhandled 'error' event\n      ^\n\nError\n    at ClientDuplexStream._emitStatusIfDone (C:\\Users\\...\\...\\SDK-Demo\\node_modules\\hfc\\node_modules\\grpc\\src\\node\\src\\client.js:189:19)","ts":"1482355429.000484"},{"type":"message","user":"U11MANG9G","text":"<@U3H0CJXND> First of all, thanks for this. I haven\u2019t used Windows in quite a while, but I agree, we should collect this and document. Shall we try to summarize these steps together? I can give it a shot and run it by you...","ts":"1482355903.000485"},{"type":"message","user":"U11MANG9G","text":"And then we\u2019ll get someone else, who\u2019s completely new to this (that would \u201cthe old you\u201d, before going through this ;-))\u2026 and see if he\/she can simply follow these steps.","ts":"1482355952.000486"},{"type":"message","user":"U3H0CJXND","text":"<@U11MANG9G>  Sounds good to me, at least once I get it actually running. :slightly_smiling_face: I'm recording my steps, and I'd like to retry the steps on a fresh machine to make sure I've got it right.","ts":"1482356048.000487"},{"type":"message","user":"U11MANG9G","text":"Not a problem. We can iterate on it. I\u2019m just trying to use the \u201cmomentum\u201d, while you are at it\u2026 and capture this.","ts":"1482356159.000489"},{"type":"message","user":"U11MANG9G","text":"It\u2019s good feedback. Certainly.","ts":"1482356169.000490"},{"type":"message","user":"U3H0CJXND","text":"I've set a reminder to circle back around on this next week (after the holiday and all)","ts":"1482356202.000491"},{"type":"message","user":"U11MANG9G","text":"OK. If you don\u2019t mind me Copying &amp; Pasting this, I will quickly open a JIRA item\u2026.","ts":"1482356241.000492"},{"type":"message","user":"U11MANG9G","text":"(Not legally binding :-))","ts":"1482356251.000493"},{"type":"message","user":"U3H0CJXND","text":"not a problem at all.","ts":"1482356289.000494","reactions":[{"name":"+1","users":["U11MANG9G"],"count":1}]},{"type":"message","user":"U11MANG9G","text":"<https:\/\/jira.hyperledger.org\/browse\/FAB-1466>","ts":"1482357050.000495"},{"type":"message","user":"U11MANG9G","text":"<@U3H0CJXND>: You can also update there, or continue here. (now, later, when you are back from hols, etc.) Thanks again, and sorry for the \u201cexperience\u201d :wink:","ts":"1482357114.000496"},{"type":"message","user":"U3H0CJXND","text":"Thanks. Will do.","ts":"1482357157.000497"},{"type":"message","user":"U0XQ35CDD","text":"<@U0KPFAZNF>: Just a heads up - <https:\/\/jira.hyperledger.org\/browse\/FAB-1468>","ts":"1482361917.000498"},{"type":"message","user":"U0KPFAZNF","text":"ty, i just grabbed ownership","ts":"1482361967.000499","reactions":[{"name":"+1","users":["U0XQ35CDD"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"thanks for the report, sorry for the trouble :wink:","ts":"1482361980.000500"},{"type":"message","user":"U0XQ35CDD","text":"np, this is the main story behind my upcoming book, \"How `make protos` stole Christmas\"","ts":"1482362122.000501"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1482362128.000502"},{"type":"message","user":"U0KPFAZNF","text":"you are not blocked?","ts":"1482362156.000503"},{"type":"message","user":"U0KPFAZNF","text":"IIUC","ts":"1482362167.000504"},{"type":"message","user":"U0XQ35CDD","text":"I can always do `.\/scripts\/compile_protos.sh` and work around this. (Thanks <@U0ZJZBJLF>.)","edited":{"user":"U0XQ35CDD","ts":"1482362217.000000"},"ts":"1482362207.000505"},{"type":"message","user":"U0KPFAZNF","text":"cool","ts":"1482362212.000506"},{"type":"message","user":"U0ZJZBJLF","text":"np","ts":"1482362224.000508"},{"type":"message","user":"U0XQ35CDD","text":"(Note that this command doesn't seem to work on my Mac by the way.)","ts":"1482362226.000509"},{"type":"message","user":"U0ZJZBJLF","text":"yeah the flags are too platform specific","ts":"1482362239.000510"},{"type":"message","user":"U0KPFAZNF","text":"yeah, IIRC there are linux-isms in there...it should work natively from linux (like devenv) or (barring bugs) from \"make protos\" since that runs in a docker environment","ts":"1482362291.000511"},{"type":"message","user":"U0KPFAZNF","text":"but native osx? probably not, and not likely to ever be the case unless there is pressure because of FAB-1468","edited":{"user":"U0KPFAZNF","ts":"1482362469.000000"},"ts":"1482362326.000512"},{"type":"message","user":"U0XQ35CDD","text":"No pressure.","ts":"1482362430.000513"},{"type":"message","user":"U0XQ35CDD","text":"Thanks for looking into it.","ts":"1482362441.000514"},{"user":"U3JGTMWB0","text":"<@U3JGTMWB0|shakespeare> has joined the channel","type":"message","subtype":"channel_join","ts":"1482375653.000516"},{"type":"message","user":"U1CS08EP3","text":"Does Fabric 0.6 have the soft logout feature? Right now if we use the Delete API, it deletes the user from the user data store rite? ","ts":"1482377102.000517"},{"type":"message","user":"U1CS08EP3","text":"This prevents the use of same login credentials in any subsequent logins, ","ts":"1482377103.000518"},{"type":"message","user":"U1CS08EP3","text":"So there was a discussion of implementing a soft logout a while back I guess","edited":{"user":"U1CS08EP3","ts":"1482377814.000000"},"ts":"1482377103.000519"},{"user":"U1V6SJ1FF","text":"<@U1V6SJ1FF|dgorman> has joined the channel","type":"message","subtype":"channel_join","ts":"1482399472.000521"},{"user":"U3HUXKKEW","text":"<@U3HUXKKEW|haixu> has joined the channel","type":"message","subtype":"channel_join","ts":"1482400820.000522"},{"type":"message","user":"U0PB67X4K","text":"<@U1CS08EP3>  -\nTL;DR - no soft logout using the REST API\n\n if you use the REST API to register \/ login with a peer, you will only ever be able to \"login\" to that same peer and no other peer.  If you \"delete\" the user via the REST API against that same peer, you'll never be able to use that user with any other peer.\n\nIf you use one of the SDKs (Node, Java) to register a user, you can use that user with any peer.","ts":"1482400943.000523"},{"type":"message","user":"U1CS08EP3","text":"Java SDK has the support for the soft logout ? That's great news. It's planned or  is it available in the current gerrit source? ","ts":"1482404411.000524"},{"user":"U2KL18VPU","text":"<@U2KL18VPU|vigneswaran.r> has joined the channel","type":"message","subtype":"channel_join","ts":"1482404778.000525"},{"type":"message","user":"U2KL18VPU","text":"Hello, is there any way to tell the peer to stop\/end the chaincode (thus freeing up the resources) when the chaincode is not needed anymore? I couldn't see such feature in v0.6 and not sure about v1.0. Thanks.","ts":"1482404932.000526"},{"type":"message","user":"U0KPFAZNF","text":"<@U2KL18VPU> 1.0, I believe, will have full chaincode lifecycle (deploy, update, terminate)","ts":"1482412298.000527"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP> ^^^","ts":"1482412313.000528"},{"type":"message","user":"U0ULK2JPP","text":"right <@U0KPFAZNF> .. <@U2KL18VPU> the first version of upgrade will be out soon","ts":"1482412384.000529"},{"type":"message","user":"U0ULK2JPP","text":"its already in master but a playback will be posted on usage","ts":"1482412405.000530"},{"type":"message","user":"U36RKMPBQ","text":"Gents, I see that shim-client-1.0.jar is compiled with Java v1.8 and also we should use 1.8 version when developping &amp; testing ChainCode locally (gradle needs it as well), but inside the Docker Container for the Peers we have Java version 1.7","ts":"1482417471.000531"},{"type":"message","user":"U36RKMPBQ","text":"how to manage this version incompatbility?","ts":"1482417485.000532"},{"type":"message","user":"U0N4D2T61","text":"<@U36RKMPBQ> I never had problems, are you using V0.6.1 official images ?","ts":"1482417694.000533"},{"type":"message","subtype":"file_share","text":"<@U36RKMPBQ|bercinho> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/bercinho\/F3J4HMK9T\/grafik.png|grafik.png>","file":{"id":"F3J4HMK9T","created":1482417738,"timestamp":1482417738,"name":"grafik.png","title":"grafik.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U36RKMPBQ","editable":false,"size":16831,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3J4HMK9T\/grafik.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3J4HMK9T\/download\/grafik.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3J4HMK9T-9a1eb8ec6b\/grafik_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3J4HMK9T-9a1eb8ec6b\/grafik_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3J4HMK9T-9a1eb8ec6b\/grafik_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":105,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3J4HMK9T-9a1eb8ec6b\/grafik_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":140,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3J4HMK9T-9a1eb8ec6b\/grafik_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3J4HMK9T-9a1eb8ec6b\/grafik_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":210,"image_exif_rotation":1,"original_w":853,"original_h":249,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/bercinho\/F3J4HMK9T\/grafik.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3J4HMK9T-54e2be6d6a","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0,"num_stars":1},"user":"U36RKMPBQ","upload":true,"display_as_bot":false,"username":"<@U36RKMPBQ|bercinho>","bot_id":null,"ts":"1482417741.000534"},{"type":"message","user":"U36RKMPBQ","text":"Yes sure, have a look","ts":"1482417746.000535"},{"type":"message","user":"U0N4D2T61","text":"what is the error ? It should run fine","ts":"1482418979.000536"},{"user":"U3H68QR7X","text":"<@U3H68QR7X|benlewis> has joined the channel","type":"message","subtype":"channel_join","ts":"1482420343.000537"},{"type":"message","user":"U12AHQ3NK","text":"I am using a table with 2 keys. Stub.GetRows() breaks when called with just the first key. Using v0.6","edited":{"user":"U12AHQ3NK","ts":"1482420580.000000"},"ts":"1482420553.000538"},{"type":"message","user":"U3H68QR7X","text":"On v0.6, is there any framework for listening for\/responding to events?","ts":"1482422350.000540"},{"type":"message","user":"U0W7D64LC","text":"If you are not subscribed to the hyperledger fabric channel on youtube already please go out and do so to receive automatic notifications\u2026. Otherwise you might have missed another great video showing how to upgrade chaincode, thank you <@U1VG8LNP3>!! <https:\/\/youtu.be\/hlJmRKo8HXE>","attachments":[{"service_name":"YouTube","service_url":"https:\/\/www.youtube.com\/","title":"Chaincode upgrade","title_link":"https:\/\/youtu.be\/hlJmRKo8HXE","author_name":"Hyperledger Fabric","author_link":"https:\/\/www.youtube.com\/channel\/UCCFdgCWH_1vCndMPVqQlwZw","thumb_url":"https:\/\/i.ytimg.com\/vi\/hlJmRKo8HXE\/hqdefault.jpg","thumb_width":480,"thumb_height":360,"fallback":"YouTube Video: Chaincode upgrade","video_html":"<iframe width=\"400\" height=\"225\" src=\"https:\/\/www.youtube.com\/embed\/hlJmRKo8HXE?feature=oembed&autoplay=1&iv_load_policy=3\" frameborder=\"0\" allowfullscreen><\/iframe>","video_html_width":400,"video_html_height":225,"from_url":"https:\/\/youtu.be\/hlJmRKo8HXE","service_icon":"https:\/\/a.slack-edge.com\/2089\/img\/unfurl_icons\/youtube.png","id":1}],"ts":"1482424146.000541"},{"type":"message","user":"U2KL18VPU","text":"<@U0KPFAZNF> <@U0ULK2JPP> Ok, thank you.","ts":"1482454767.000543"},{"user":"U3H9ZGLGG","text":"<@U3H9ZGLGG|wjq> has joined the channel","type":"message","subtype":"channel_join","ts":"1482461622.000544"},{"type":"message","user":"U3JGTMWB0","text":"\"Connect to the anchor Peers and start discovery protocol using ecert\n\". Here \"anchor peers\" is mentioned. How to understand this phrase? Which kind of peers are called \"anchor peer? Anybody can explain it for me, thanks.","ts":"1482709825.000545"},{"type":"message","user":"U0ZJZBJLF","text":"<@U3JGTMWB0>  where is this sentence from? got a link?","ts":"1482712408.000546"},{"type":"message","user":"U3JGTMWB0","text":"<@U0ZJZBJLF> FabricNext-Community.pdf. From this document. Thanks","ts":"1482713374.000547"},{"user":"U3HS0S61K","text":"<@U3HS0S61K|shrike> has joined the channel","type":"message","subtype":"channel_join","ts":"1482766362.000548"},{"type":"message","user":"U3HS0S61K","text":"Hi, is there any docs\/posts\/materials about how to approach to the problem of big data - what are restrictions (if any) of data kept in blockchain? what are guidances (if any) of what size of data can be kept in blockchain? And what to do if I need store bigger data?","ts":"1482766686.000549"},{"type":"message","user":"U184J2R7S","text":"<@U0Q6BA1EU> Bobbie- anything that you can provide guidance on for <@U3HS0S61K> (I think she is on vacation, but she would know- i would suspect she would be back at first of year.","ts":"1482782883.000550"},{"type":"message","user":"U3HS0S61K","text":"<@U184J2R7S> thanks. I'll be back on January )","ts":"1482786694.000551"},{"type":"message","user":"U11MANG9G","text":"<@U3HS0S61K>, while obviously I don\u2019t have all the context and background regarding the use-case you are after...","ts":"1482791162.000552"},{"type":"message","user":"U11MANG9G","text":"there are a few approaches for dealing with \u201cbig data\u201d ( &lt;\u2014 needs definition\/clarification, e.g. how much data, what\u2019s its frequency, size\/volume, number of sources\u2026. etc. but):","ts":"1482791230.000553"},{"type":"message","user":"U11MANG9G","text":"the simpler way is probably to store hashes of the data on a blockchain. So that you need to store so much information.","ts":"1482791266.000554"},{"type":"message","user":"U11MANG9G","text":"Again, I\u2019m apologizing again, as i don\u2019t even know what specific property (or feature that the blockchain provide) you are after\u2026","ts":"1482791316.000555"},{"type":"message","user":"U11MANG9G","text":"\u2026 but if it is a scheme where you need a \u201ctrusted\u201d or \u201cprovable\u201d timestamping mechanism, or needing to later on prove that you had the original at a specific time in the past\u2026 or if you have one of the common \u201ccommitment\u201d or timed (and signed) schemes\u2026 the simpler approach is to have another repository for the data, and a corresponding blockchain transaction (on the chain).","ts":"1482791463.000556"},{"type":"message","user":"U3HS0S61K","text":"<@U11MANG9G>  <https:\/\/hyperledgerproject.slack.com\/archives\/help\/p1482771015000032>","attachments":[{"from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/help\/p1482771015000032","fallback":"[December 26th, 2016 8:50 AM] shrike: It would be some registry for goods where attributes are kept on chain but PDF with scanned certificates (some legal docs) should be kept somewhere beside.. I'm not against keeping them on chain, but I need to know what limits for data on it.. (if they exist)","ts":"1482771015.000032","author_subname":"shrike","channel_id":"C3J4X2DJL","channel_name":"help","is_msg_unfurl":true,"text":"It would be some registry for goods where attributes are kept on chain but PDF with scanned certificates (some legal docs) should be kept somewhere beside.. I'm not against keeping them on chain, but I need to know what limits for data on it.. (if they exist)","author_name":"Sergei Dorogin","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/shrike","author_icon":"https:\/\/secure.gravatar.com\/avatar\/e91e5c05a396e9c9aac994a840e5691a.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-48.png","mrkdwn_in":["text"],"id":1,"footer":"Posted in #help"}],"ts":"1482794884.000559"},{"user":"U3JL32AFJ","text":"<@U3JL32AFJ|makimaki18> has joined the channel","type":"message","subtype":"channel_join","ts":"1482934861.000561"},{"type":"message","user":"U0PB67X4K","text":"<@U3BH74NH0> - what issues are you having building Docker images from the master branch?","ts":"1483009255.000562"},{"user":"U3BH74NH0","inviter":"U0PB67X4K","text":"<@U3BH74NH0|passkit> has joined the channel","type":"message","subtype":"channel_join","ts":"1483009260.000563"},{"type":"message","user":"U3BH74NH0","text":"Firstly the vagrant image was missing some python packages (sha3 and openssl I think)","ts":"1483009648.000564"},{"type":"message","user":"U3BH74NH0","text":"After installing those, everything was ok up until here:","ts":"1483009663.000565"},{"type":"message","subtype":"file_share","text":"<@U3BH74NH0|passkit> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/passkit\/F3KMY92Q5\/-.txt|Untitled>","file":{"id":"F3KMY92Q5","created":1483009672,"timestamp":1483009672,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U3BH74NH0","editable":true,"size":1558,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3KMY92Q5\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3KMY92Q5\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/passkit\/F3KMY92Q5\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3KMY92Q5-62081436ac","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/passkit\/F3KMY92Q5\/-.txt\/edit","preview":"unit-tests_1  | ok  \tgithub.com\/hyperledger\/fabric\/gossip\/discovery\t7.146s\tcoverage: 84.1% of statements\r\nunit-tests_1  | ?   \tgithub.com\/hyperledger\/fabric\/gossip\/election\t[no test files]\r\nunit-tests_1  | --- FAIL: TestBatchingEmitterExpiration (0.57s)\r\n        Error Trace:    batcher_test.go:65 \r\nunit-tesError:| \tNot equal: 10 (expected)\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>unit-tests_1  | ok      github.com\/hyperledger\/fabric\/gossip\/discovery  7.146s  coverage: 84.1% of statements<\/pre><\/div>\n<div><pre>unit-tests_1  | ?       github.com\/hyperledger\/fabric\/gossip\/election   [no test files]<\/pre><\/div>\n<div><pre>unit-tests_1  | --- FAIL: TestBatchingEmitterExpiration (0.57s)<\/pre><\/div>\n<div><pre>        Error Trace:    batcher_test.go:65 <\/pre><\/div>\n<div><pre>unit-tesError:|     Not equal: 10 (expected)<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":15,"lines_more":10,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U3BH74NH0","upload":true,"display_as_bot":false,"username":"<@U3BH74NH0|passkit>","bot_id":null,"ts":"1483009673.000566"},{"user":"U36HLH8SC","text":"<@U36HLH8SC|madhava> has joined the channel","type":"message","subtype":"channel_join","ts":"1483009680.000567"},{"type":"message","user":"U3BH74NH0","text":"Then for Kafka, may of the scenarios fail","ts":"1483009737.000568"},{"type":"message","subtype":"file_share","text":"<@U3BH74NH0|passkit> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/passkit\/F3LAA35MM\/-.txt|Untitled>","file":{"id":"F3LAA35MM","created":1483009744,"timestamp":1483009744,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U3BH74NH0","editable":true,"size":1281,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3LAA35MM\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3LAA35MM\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/passkit\/F3LAA35MM\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3LAA35MM-91ceb4bd4c","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/passkit\/F3LAA35MM\/-.txt\/edit","preview":"Failing scenarios:\r\n  features\/bootstrap.feature:75  Bootstrap a development network with 1 peer and 1 orderer, each having a single independent root of trust (No COP) -- @1.1 Orderer Options\r\n  features\/endorser.feature:37  Basic deploy endorsement for chaincode through GRPC to multiple endorsers -- @1.1 Orderer Options\r\n  features\/orderer.feature:26  Basic orderer function -- @1.1 Solo Orderer\r\n  features\/orderer.feature:27  Basic orderer function -- @1.2 Solo Orderer\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Failing scenarios:<\/pre><\/div>\n<div><pre>  features\/bootstrap.feature:75  Bootstrap a development network with 1 peer and 1 orderer, each having a single independent root of trust (No COP) -- @1.1 Orderer Options<\/pre><\/div>\n<div><pre>  features\/endorser.feature:37  Basic deploy endorsement for chaincode through GRPC to multiple endorsers -- @1.1 Orderer Options<\/pre><\/div>\n<div><pre>  features\/orderer.feature:26  Basic orderer function -- @1.1 Solo Orderer<\/pre><\/div>\n<div><pre>  features\/orderer.feature:27  Basic orderer function -- @1.2 Solo Orderer<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":17,"lines_more":12,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U3BH74NH0","upload":true,"display_as_bot":false,"username":"<@U3BH74NH0|passkit>","bot_id":null,"ts":"1483009745.000569"},{"type":"message","user":"U0PB67X4K","text":"which make target were you using?","ts":"1483009946.000570"},{"type":"message","user":"U0PB67X4K","text":"(BTW - what's your host operating system?   With the current master branch, you should be able to build\/run everything without Vagrant by simply using Docker)","ts":"1483010023.000571"},{"type":"message","user":"U0PB67X4K","text":"if you just want to build the peer and orderer images, you should be able to just run:\n\n`make peer-docker`\n`make orderer-docker`","ts":"1483010110.000572"},{"type":"message","user":"U3BH74NH0","text":"I\u2019m using Mac OSX","ts":"1483010154.000573"},{"type":"message","user":"U3BH74NH0","text":"target was dist-clean all","ts":"1483010248.000574"},{"type":"message","user":"U0PB67X4K","text":"I'm pretty sure that many of the bdd tests still fail (it's a problem which will be addressed when most people get back from the holiday)\n\nI use Mac OSX myself.  I basically just installed Docker for Mac and then just run everything locally on my Mac (i.e. I don't use Vagrant)\n\n`make unit-tests` works fine for me with the latest master\n`make peer-docker` and `make orderer-docker` also work for me as well","ts":"1483010751.000575"},{"user":"U3KAS13FG","text":"<@U3KAS13FG|serinth> has joined the channel","type":"message","subtype":"channel_join","ts":"1483049603.000576"},{"type":"message","user":"U3BH74NH0","text":"Thanks - I started again with a clean setup and everything build ok natively.","ts":"1483062271.000577"},{"type":"message","user":"U36HLH8SC","text":"Hi All, when try to start and register the chaincode am getting below error","ts":"1483080919.000578"},{"type":"message","subtype":"file_share","text":"<@U36HLH8SC|madhava> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3L0277D2\/-.txt|Untitled>","file":{"id":"F3L0277D2","created":1483080926,"timestamp":1483080926,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U36HLH8SC","editable":true,"size":854,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3L0277D2\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3L0277D2\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3L0277D2\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3L0277D2-96b9793914","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3L0277D2\/-.txt\/edit","preview":":~\/work\/src\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02$ CORE_CHAINCODE_ID_NAME=mycc CORE_PEER_ADDRESS=0.0.0.0:7052 .\/chaincode_example02\r\n06:51:35.665 [shim] DEBU : Peer address: 0.0.0.0:7052\r\n2016\/12\/30 06:51:36 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 0.0.0.0:7052: getsockopt: connection refused\"; Reconnecting to {\"0.0.0.0:7052\" <nil>}\r\n2016\/12\/30 06:51:38 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 0.0.0.0:7052: getsockopt: connection refused\"; Reconnecting to {\"0.0.0.0:7052\" <nil>}\r\n06:51:38.666 [shim] ERRO : Error trying to connect to local peer: grpc: timed out when dialing\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>:~\/work\/src\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02$ CORE_CHAINCODE_ID_NAME=mycc CORE_PEER_ADDRESS=0.0.0.0:7052 .\/chaincode_example02<\/pre><\/div>\n<div><pre>06:51:35.665 [shim] DEBU : Peer address: 0.0.0.0:7052<\/pre><\/div>\n<div><pre>2016\/12\/30 06:51:36 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = &quot;transport: dial tcp 0.0.0.0:7052: getsockopt: connection refused&quot;; Reconnecting to {&quot;0.0.0.0:7052&quot; &lt;nil&gt;}<\/pre><\/div>\n<div><pre>2016\/12\/30 06:51:38 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = &quot;transport: dial tcp 0.0.0.0:7052: getsockopt: connection refused&quot;; Reconnecting to {&quot;0.0.0.0:7052&quot; &lt;nil&gt;}<\/pre><\/div>\n<div><pre>06:51:38.666 [shim] ERRO : Error trying to connect to local peer: grpc: timed out when dialing<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":6,"lines_more":1,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U36HLH8SC","upload":true,"display_as_bot":false,"username":"<@U36HLH8SC|madhava>","bot_id":null,"ts":"1483080926.000579"},{"type":"message","user":"U36HLH8SC","text":"i tried with 7051 port also but still no luck","ts":"1483080948.000580"},{"type":"message","user":"U36HLH8SC","text":"and when i ran the netstat cmd","ts":"1483080973.000581"},{"type":"message","subtype":"file_share","text":"<@U36HLH8SC|madhava> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3L0CF74M\/-.txt|Untitled>","file":{"id":"F3L0CF74M","created":1483080980,"timestamp":1483080980,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U36HLH8SC","editable":true,"size":329,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3L0CF74M\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3L0CF74M\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3L0CF74M\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3L0CF74M-cbe252fad9","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3L0CF74M\/-.txt\/edit","preview":"ubuntu@ip-20-0-4-206:~\/work\/src\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02$ sudo netstat -atp tcp | grep -i \"listen\"\r\ntcp        0      0 *:ssh                   *:*                     LISTEN      1225\/sshd\r\ntcp6       0      0 [::]:ssh                [::]:*                  LISTEN      1225\/sshd\r\n","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>ubuntu@ip-20-0-4-206:~\/work\/src\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02$ sudo netstat -atp tcp | grep -i &quot;listen&quot;<\/pre><\/div>\n<div><pre>tcp        0      0 *:ssh                   *:*                     LISTEN      1225\/sshd<\/pre><\/div>\n<div><pre>tcp6       0      0 [::]:ssh                [::]:*                  LISTEN      1225\/sshd<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":4,"lines_more":0,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U36HLH8SC","upload":true,"display_as_bot":false,"username":"<@U36HLH8SC|madhava>","bot_id":null,"ts":"1483080981.000582"},{"type":"message","user":"U36HLH8SC","text":"i don't see any listening ports but the peer is running","ts":"1483081003.000583"},{"type":"message","user":"U36HLH8SC","text":"please help me to resolve the issue","ts":"1483081033.000584"},{"type":"message","user":"U36HLH8SC","text":"in .yml file what would be the CORE_VM_ENDPOINT=unix:\/\/\/var\/run\/docker.sock EP , am using unbutu","ts":"1483082118.000585"},{"type":"message","subtype":"file_share","text":"<@U36HLH8SC|madhava> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3KRCQ27M\/-.txt|Untitled>","file":{"id":"F3KRCQ27M","created":1483083945,"timestamp":1483083945,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U36HLH8SC","editable":true,"size":417,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3KRCQ27M\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3KRCQ27M\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3KRCQ27M\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3KRCQ27M-324d2870f0","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3KRCQ27M\/-.txt\/edit","preview":"ubuntu@ip-20-0-4-206:~\/work\/src\/github.com\/hyperledger\/fabric\/peer$ peer chaincode deploy -n mycc -c '{\"Args\": [\"init\", \"a\",\"100\", \"b\", \"200\"]}'\r\nNo command 'peer' found, did you mean:\r\n Command 'beer' from package 'gerstensaft' (universe)\r\n Command 'pee' from package 'moreutils' (universe)\r\n Command 'pear' from package 'php-pear' (main)\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>ubuntu@ip-20-0-4-206:~\/work\/src\/github.com\/hyperledger\/fabric\/peer$ peer chaincode deploy -n mycc -c '{&quot;Args&quot;: [&quot;init&quot;, &quot;a&quot;,&quot;100&quot;, &quot;b&quot;, &quot;200&quot;]}'<\/pre><\/div>\n<div><pre>No command 'peer' found, did you mean:<\/pre><\/div>\n<div><pre> Command 'beer' from package 'gerstensaft' (universe)<\/pre><\/div>\n<div><pre> Command 'pee' from package 'moreutils' (universe)<\/pre><\/div>\n<div><pre> Command 'pear' from package 'php-pear' (main)<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":8,"lines_more":3,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U36HLH8SC","upload":true,"display_as_bot":false,"username":"<@U36HLH8SC|madhava>","bot_id":null,"ts":"1483083946.000586"},{"type":"message","user":"U36HLH8SC","text":"i pulled the fabric from git only but when i try to run peer cmd its says not found","ts":"1483083980.000587"},{"type":"message","user":"U36HLH8SC","text":"i pulled v0.6 fabric version only but still am getting same error","ts":"1483085478.000588"},{"type":"message","user":"U36HLH8SC","text":"please help me to resolve the issue","ts":"1483085493.000589"},{"type":"message","user":"U1FEUAG9E","text":"<@U36HLH8SC>  Let's resolve the problem step-by-step","ts":"1483089868.000590"},{"type":"message","user":"U1FEUAG9E","text":"is your peer and membersrvc running on the system ?","ts":"1483089897.000591"},{"type":"message","user":"U36HLH8SC","text":"Harsha yes both containers are running","ts":"1483089965.000592"},{"type":"message","subtype":"file_share","text":"<@U36HLH8SC|madhava> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3K7V498R\/-.txt|Untitled>","file":{"id":"F3K7V498R","created":1483089972,"timestamp":1483089972,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U36HLH8SC","editable":true,"size":500,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3K7V498R\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3K7V498R\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3K7V498R\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3K7V498R-76880181bf","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3K7V498R\/-.txt\/edit","preview":"CONTAINER ID        IMAGE                           COMMAND                  CREATED             STATUS              PORTS               NAMES\r\nc6d49fea7162        hyperledger\/fabric-peer         \"sh -c 'sleep 10; pee\"   2 hours ago         Up 2 hours                              peer\r\n373a9ee38b2b        hyperledger\/fabric-membersrvc   \"membersrvc\"             2 hours ago         Up 2 hours                              membersrvc\r\nubuntu@ip-20-0-4-206:~\/work\/src\/github.com\/hyperledger\/fabric$\r\n","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>CONTAINER ID        IMAGE                           COMMAND                  CREATED             STATUS              PORTS               NAMES<\/pre><\/div>\n<div><pre>c6d49fea7162        hyperledger\/fabric-peer         &quot;sh -c 'sleep 10; pee&quot;   2 hours ago         Up 2 hours                              peer<\/pre><\/div>\n<div><pre>373a9ee38b2b        hyperledger\/fabric-membersrvc   &quot;membersrvc&quot;             2 hours ago         Up 2 hours                              membersrvc<\/pre><\/div>\n<div><pre>ubuntu@ip-20-0-4-206:~\/work\/src\/github.com\/hyperledger\/fabric$<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":5,"lines_more":0,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U36HLH8SC","upload":true,"display_as_bot":false,"username":"<@U36HLH8SC|madhava>","bot_id":null,"ts":"1483089973.000593"},{"type":"message","user":"U36HLH8SC","text":"am using docker not vagrant","ts":"1483090021.000594"},{"type":"message","user":"U1FEUAG9E","text":"Did you try make peer from $GOPATH\/src\/github.com\/hyperledger\/fabric\/","ts":"1483090301.000595"},{"type":"message","user":"U36HLH8SC","text":"let me try, when i ran last time its says what is the target for make peer","ts":"1483090383.000596"},{"type":"message","user":"U36HLH8SC","text":"ran the cmd, it took around 5mins to execute it and am seeing error at the end","ts":"1483090717.000597"},{"type":"message","user":"U36HLH8SC","text":"# <http:\/\/github.com\/hyperledger\/fabric\/vendor\/github.com\/tecbot\/gorocksdb|github.com\/hyperledger\/fabric\/vendor\/github.com\/tecbot\/gorocksdb>\nexec: \"gcc\": executable file not found in $PATH\n# <http:\/\/github.com\/hyperledger\/fabric\/vendor\/github.com\/mattn\/go-sqlite3|github.com\/hyperledger\/fabric\/vendor\/github.com\/mattn\/go-sqlite3>\nexec: \"gcc\": executable file not found in $PATH\nMakefile:176: recipe for target 'build\/bin\/peer' failed\nmake: *** [build\/bin\/peer] Error 2","ts":"1483090718.000598"},{"type":"message","user":"U36HLH8SC","text":"Harsha, build folder got created but there is no peer under \/bin folder","edited":{"user":"U36HLH8SC","ts":"1483091150.000000"},"ts":"1483091135.000599"},{"type":"message","user":"U1FEUAG9E","text":"Looks like gcc isn't installed on your system. \n\nsudo apt install  build-essential -y","ts":"1483095758.000601"},{"type":"message","user":"U36HLH8SC","text":"all, when i try to run chain code am getting below connection timeout error","ts":"1483111389.000602"},{"type":"message","user":"U36HLH8SC","text":"ubuntu@ip-20-0-4-206:~\/work\/src\/github.com\/hyperledger\/fabric\/build\/bin$ .\/peer chaincode deploy -n mycc -c '{\"Args\": [\"init\", \"a\",\"100\", \"b\", \"200\"]}'\n2016\/12\/30 15:20:55 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 0.0.0.0:7051: getsockopt: connection refused\"; Reconnecting to {\"0.0.0.0:7051\" &lt;nil&gt;}\n2016\/12\/30 15:20:56 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 0.0.0.0:7051: getsockopt: connection refused\"; Reconnecting to {\"0.0.0.0:7051\" &lt;nil&gt;}\nError: Error building chaincode: Error trying to connect to local peer: grpc: timed out when dialing","ts":"1483111390.000603"},{"type":"message","user":"U36HLH8SC","text":"please help me to fix the issue","ts":"1483111421.000604"},{"type":"message","user":"U36HLH8SC","text":"is there any fix for above issue","ts":"1483112162.000605"},{"type":"message","user":"U0ULK2JPP","text":"<@U36HLH8SC> .. I assume you have the peer running ?","edited":{"user":"U0ULK2JPP","ts":"1483112356.000000"},"ts":"1483112336.000606"},{"type":"message","user":"U36HLH8SC","text":"yes its running and i chain code is also registered in peer","ts":"1483112459.000608"},{"type":"message","subtype":"file_share","text":"<@U36HLH8SC|madhava> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3LM0LLPR\/-.txt|Untitled>","file":{"id":"F3LM0LLPR","created":1483112478,"timestamp":1483112478,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U36HLH8SC","editable":true,"size":1564,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3LM0LLPR\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3LM0LLPR\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3LM0LLPR\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3LM0LLPR-068a58fdd6","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3LM0LLPR\/-.txt\/edit","preview":"peer       | 15:40:35.756 [peer] ensureConnected -> DEBU 3acb Connected to: []\r\npeer       | 15:40:35.756 [peer] ensureConnected -> DEBU 3acc Discovery knows about: []\r\npeer       | 15:40:41.756 [peer] ensureConnected -> DEBU 3acd Touch service indicates no dropped connections\r\npeer       | 15:40:41.756 [peer] ensureConnected -> DEBU 3ace Connected to: []\r\npeer       | 15:40:41.756 [peer] ensureConnected -> DEBU 3acf Discovery knows about: []\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>peer       | 15:40:35.756 [peer] ensureConnected -&gt; DEBU 3acb Connected to: []<\/pre><\/div>\n<div><pre>peer       | 15:40:35.756 [peer] ensureConnected -&gt; DEBU 3acc Discovery knows about: []<\/pre><\/div>\n<div><pre>peer       | 15:40:41.756 [peer] ensureConnected -&gt; DEBU 3acd Touch service indicates no dropped connections<\/pre><\/div>\n<div><pre>peer       | 15:40:41.756 [peer] ensureConnected -&gt; DEBU 3ace Connected to: []<\/pre><\/div>\n<div><pre>peer       | 15:40:41.756 [peer] ensureConnected -&gt; DEBU 3acf Discovery knows about: []<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":18,"lines_more":13,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U36HLH8SC","upload":true,"display_as_bot":false,"username":"<@U36HLH8SC|madhava>","bot_id":null,"ts":"1483112479.000609"},{"type":"message","user":"U36HLH8SC","text":"this is the current log of peer","ts":"1483112491.000610"},{"type":"message","user":"U0ULK2JPP","text":"how did the chaincode connect to the peer ?","ts":"1483112496.000611"},{"type":"message","user":"U36HLH8SC","text":"CORE_CHAINCODE_ID_NAME=mycc CORE_PEER_ADDRESS=172.17.0.3:7051 .\/chaincode_example02","ts":"1483112509.000612"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1483112513.000613"},{"type":"message","user":"U0ULK2JPP","text":"can you try `CORE_PEER_ADDRESS=172.17.0.3:7051  .\/peer chaincode deploy -n mycc -c '{\"Args\": [\"init\", \"a\",\"100\", \"b\", \"200\"]}\u2019`","ts":"1483112541.000614"},{"type":"message","user":"U36HLH8SC","text":"i used above cmd  to register chain code","ts":"1483112549.000615"},{"type":"message","user":"U36HLH8SC","text":"sure","ts":"1483112552.000616"},{"type":"message","user":"U36HLH8SC","text":"Error: Error building chaincode: rpc error: code = 5 desc = open \/var\/hyperledger\/production\/crypto\/client\/ks\/raw\/eca.cert.chain: no such file or directory","ts":"1483112597.000617"},{"type":"message","user":"U36HLH8SC","text":"and in peer logs i see below error","ts":"1483112615.000618"},{"type":"message","subtype":"file_share","text":"<@U36HLH8SC|madhava> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3KA5R457\/-.txt|Untitled>","file":{"id":"F3KA5R457","created":1483112621,"timestamp":1483112621,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U36HLH8SC","editable":true,"size":1028,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3KA5R457\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3KA5R457\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3KA5R457\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3KA5R457-503a7e5436","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3KA5R457\/-.txt\/edit","preview":"peer       | 15:42:49.699 [crypto] Debugf -> DEBU 3b1a [client.] Loading certificate [eca.cert.chain] at [\/var\/hyperledger\/production\/crypto\/client\/ks\/raw\/eca.cert.chain]...\r\npeer       | 15:42:49.699 [crypto] Errorf -> ERRO 3b1b [client.] Failed loading certificate [eca.cert.chain]: [open \/var\/hyperledger\/production\/crypto\/client\/ks\/raw\/eca.cert.chain: no such file or directory].\r\npeer       | 15:42:49.699 [crypto] Errorf -> ERRO 3b1c [client.] Failed loading ECA certificates chain [open \/var\/hyperledger\/production\/crypto\/client\/ks\/raw\/eca.cert.chain: no such file or directory].\r\npeer       | 15:42:49.699 [crypto] Errorf -> ERRO 3b1d [client.] Failed initiliazing crypto engine [open \/var\/hyperledger\/production\/crypto\/client\/ks\/raw\/eca.cert.chain: no such file or directory]. Registration to the Membership Service required.\r\npeer       | 15:42:49.699 [crypto] InitClient -> ERRO 3b1e Failed client initialization []: [open \/var\/hyperledger\/production\/crypto\/client\/ks\/raw\/eca.cert.chain: no such file or directory...","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>peer       | 15:42:49.699 [crypto] Debugf -&gt; DEBU 3b1a [client.] Loading certificate [eca.cert.chain] at [\/var\/hyperledger\/production\/crypto\/client\/ks\/raw\/eca.cert.chain]...<\/pre><\/div>\n<div><pre>peer       | 15:42:49.699 [crypto] Errorf -&gt; ERRO 3b1b [client.] Failed loading certificate [eca.cert.chain]: [open \/var\/hyperledger\/production\/crypto\/client\/ks\/raw\/eca.cert.chain: no such file or directory].<\/pre><\/div>\n<div><pre>peer       | 15:42:49.699 [crypto] Errorf -&gt; ERRO 3b1c [client.] Failed loading ECA certificates chain [open \/var\/hyperledger\/production\/crypto\/client\/ks\/raw\/eca.cert.chain: no such file or directory].<\/pre><\/div>\n<div><pre>peer       | 15:42:49.699 [crypto] Errorf -&gt; ERRO 3b1d [client.] Failed initiliazing crypto engine [open \/var\/hyperledger\/production\/crypto\/client\/ks\/raw\/eca.cert.chain: no such file or directory]. Registration to the Membership Service required.<\/pre><\/div>\n<div><pre>peer       | 15:42:49.699 [crypto] InitClient -&gt; ERRO 3b1e Failed client initialization []: [open \/var\/hyperledger\/production\/crypto\/client\/ks\/raw\/eca.cert.chain: no such file or directory...<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":6,"lines_more":1,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U36HLH8SC","upload":true,"display_as_bot":false,"username":"<@U36HLH8SC|madhava>","bot_id":null,"ts":"1483112621.000619"},{"type":"message","user":"U0ULK2JPP","text":"so now at least its getting thru","ts":"1483112629.000620"},{"type":"message","user":"U0ULK2JPP","text":"how are you running the peer ?","ts":"1483112640.000621"},{"type":"message","user":"U36HLH8SC","text":"hmm correct","ts":"1483112658.000622"},{"type":"message","user":"U36HLH8SC","text":"docker-compose up","ts":"1483112672.000623"},{"type":"message","user":"U0ULK2JPP","text":"sounds like you are running in secure mode","ts":"1483112679.000624"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019d modify the compose file to remove all security params","ts":"1483112720.000625"},{"type":"message","user":"U0ULK2JPP","text":"and try to get it working first","ts":"1483112729.000626"},{"type":"message","user":"U36HLH8SC","text":"ok","ts":"1483112740.000627"},{"type":"message","user":"U36HLH8SC","text":"<http:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/Setup\/Chaincode-setup\/#removing-temporary-files-when-security-is-enabled>","ts":"1483112811.000628"},{"type":"message","user":"U36HLH8SC","text":"do i need to follow this link?","ts":"1483112821.000629"},{"type":"message","user":"U0ULK2JPP","text":"well","ts":"1483112890.000630"},{"type":"message","user":"U0ULK2JPP","text":"I assume in your compose file you have something like ```    - CORE_PEER_PKI_ECA_PADDR=membersrvc:7054\n    - CORE_PEER_PKI_TCA_PADDR=membersrvc:7054\n    - CORE_PEER_PKI_TLSCA_PADDR=membersrvc:7054\n    - CORE_SECURITY_ENABLED=true\n    - CORE_SECURITY_ENROLLID=test_vp0\n    - CORE_SECURITY_ENROLLSECRET=MwYpmSRjupbT```","ts":"1483112904.000631"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019d remove all those properties and start","ts":"1483112931.000632"},{"type":"message","user":"U36HLH8SC","text":"yes have like this","ts":"1483113013.000633"},{"type":"message","subtype":"file_share","text":"<@U36HLH8SC|madhava> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3L3BKXLM\/-.txt|Untitled>","file":{"id":"F3L3BKXLM","created":1483113020,"timestamp":1483113020,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U36HLH8SC","editable":true,"size":379,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3L3BKXLM\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3L3BKXLM\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3L3BKXLM\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3L3BKXLM-13a3578b9d","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3L3BKXLM\/-.txt\/edit","preview":"environment:\r\n    - CORE_PEER_ADDRESSAUTODETECT=true\r\n    - CORE_VM_ENDPOINT=http:\/\/0.0.0.0:2375\r\n    - CORE_LOGGING_LEVEL=DEBUG\r\n    - CORE_PEER_ID=vp0\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>environment:<\/pre><\/div>\n<div><pre>    - CORE_PEER_ADDRESSAUTODETECT=true<\/pre><\/div>\n<div><pre>    - CORE_VM_ENDPOINT=http:\/\/0.0.0.0:2375<\/pre><\/div>\n<div><pre>    - CORE_LOGGING_LEVEL=DEBUG<\/pre><\/div>\n<div><pre>    - CORE_PEER_ID=vp0<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":10,"lines_more":5,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U36HLH8SC","upload":true,"display_as_bot":false,"username":"<@U36HLH8SC|madhava>","bot_id":null,"ts":"1483113020.000634"},{"type":"message","user":"U36HLH8SC","text":"so will remove below entries and start the peer again, is that ok?","ts":"1483113095.000635"},{"type":"message","user":"U36HLH8SC","text":"- CORE_SECURITY_ENABLED=true\n    - CORE_PEER_PKI_ECA_PADDR=membersrvc:7054\n    - CORE_PEER_PKI_TCA_PADDR=membersrvc:7054\n    - CORE_PEER_PKI_TLSCA_PADDR=membersrvc:7054","ts":"1483113096.000636"},{"type":"message","user":"U0ULK2JPP","text":"yes","ts":"1483113139.000639"},{"type":"message","user":"U0ULK2JPP","text":"that should be fine","ts":"1483113143.000640"},{"type":"message","user":"U36HLH8SC","text":"ok","ts":"1483113143.000641"},{"type":"message","user":"U0ULK2JPP","text":"lets try with that","ts":"1483113147.000642"},{"type":"message","user":"U36HLH8SC","text":"sure","ts":"1483113196.000643"},{"type":"message","user":"U36HLH8SC","text":"<@U0ULK2JPP> , restarted peer after making changes to .yml file","ts":"1483113400.000644"},{"type":"message","user":"U36HLH8SC","text":"also i ran deploy cmd","ts":"1483113430.000645"},{"type":"message","user":"U36HLH8SC","text":"ubuntu@ip-20-0-4-206:~\/work\/src\/github.com\/hyperledger\/fabric\/build\/bin$ CORE_PEER_ADDRESS=172.17.0.3:7051  .\/peer chaincode deploy -n mycc -c '{\"Args\": [\"init\", \"a\",\"100\", \"b\", \"200\"]}'\nDeploy chaincode: mycc","ts":"1483113431.000646"},{"type":"message","user":"U36HLH8SC","text":"its returned \"Deploy chaincode: mycc\"","ts":"1483113523.000647"},{"type":"message","user":"U0ULK2JPP","text":"what do you see on the chaincode terminal ?","ts":"1483113548.000648"},{"type":"message","subtype":"file_share","text":"<@U36HLH8SC|madhava> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3K9H8KCY\/-.txt|Untitled>","file":{"id":"F3K9H8KCY","created":1483113790,"timestamp":1483113790,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U36HLH8SC","editable":true,"size":1655,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3K9H8KCY\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3K9H8KCY\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3K9H8KCY\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3K9H8KCY-af18bd77e7","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3K9H8KCY\/-.txt\/edit","preview":"16:02:37.850 [shim] DEBU : [mycc]Received message INIT from shim\r\n16:02:37.850 [shim] DEBU : [mycc]Handling ChaincodeMessage of type: INIT(state:established)\r\n16:02:37.850 [shim] DEBU : Entered state init\r\n16:02:37.850 [shim] DEBU : [mycc]Received INIT, initializing chaincode\r\nAval = 100, Bval = 200\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>16:02:37.850 [shim] DEBU : [mycc]Received message INIT from shim<\/pre><\/div>\n<div><pre>16:02:37.850 [shim] DEBU : [mycc]Handling ChaincodeMessage of type: INIT(state:established)<\/pre><\/div>\n<div><pre>16:02:37.850 [shim] DEBU : Entered state init<\/pre><\/div>\n<div><pre>16:02:37.850 [shim] DEBU : [mycc]Received INIT, initializing chaincode<\/pre><\/div>\n<div><pre>Aval = 100, Bval = 200<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":26,"lines_more":21,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U36HLH8SC","upload":true,"display_as_bot":false,"username":"<@U36HLH8SC|madhava>","bot_id":null,"ts":"1483113791.000649"},{"type":"message","user":"U0ULK2JPP","text":"sounds you are in business","ts":"1483113815.000650"},{"type":"message","user":"U36HLH8SC","text":":slightly_smiling_face: thank you but confused","ts":"1483113838.000651"},{"type":"message","user":"U36HLH8SC","text":"how can i expose chain code as micro services ep's","ts":"1483113867.000652"},{"type":"message","user":"U36HLH8SC","text":"can you please refer any document","ts":"1483113890.000653"},{"type":"message","user":"U0ULK2JPP","text":"well, first of all what you have done just now is working with the chaincode in \u201cdevelopment mode\u201d","ts":"1483114096.000654"},{"type":"message","user":"U0ULK2JPP","text":"the question really belongs to the deployment architecture for your use case.","ts":"1483114127.000655"},{"type":"message","user":"U36HLH8SC","text":"my use case is supply chain to see the complete audit trail","ts":"1483114228.000656"},{"type":"message","user":"U0ULK2JPP","text":"googling `hyperledger fabric supply chain` gets some interesting links","ts":"1483114396.000657"},{"type":"message","user":"U36HLH8SC","text":"sure","ts":"1483114489.000658"},{"type":"message","user":"U0ULK2JPP","text":"one approach that\u2019ll get you familiarized with the fabric would be to build a chaincode that can be deployed on all the peers on your supply chain","ts":"1483114493.000659"},{"type":"message","user":"U0ULK2JPP","text":"the chaincode would contain the datastructures that would save the supply chain transactions","ts":"1483114556.000660"},{"type":"message","user":"U0ULK2JPP","text":"let me get you a more comprehensive chaincode than chaincode_example02","ts":"1483114604.000661"},{"type":"message","user":"U36HLH8SC","text":"that would be very helpful","ts":"1483114623.000662"},{"type":"message","user":"U0ULK2JPP","text":"<https:\/\/github.com\/ITPeople-Blockchain\/auction>","attachments":[{"service_name":"GitHub","title":"ITPeople-Blockchain\/auction","title_link":"https:\/\/github.com\/ITPeople-Blockchain\/auction","text":"auction - ITPeople Blockchain - Art Auction Demo","fallback":"GitHub: ITPeople-Blockchain\/auction","thumb_url":"https:\/\/avatars0.githubusercontent.com\/u\/20110871?v=3&s=400","from_url":"https:\/\/github.com\/ITPeople-Blockchain\/auction","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1483114652.000663"},{"type":"message","user":"U36HLH8SC","text":"when the data gets stored in blockchain its stored in hash format right Murali?","ts":"1483114655.000665"},{"type":"message","user":"U0ULK2JPP","text":"not exactly \u201chash\u201d \u2026 but if you - the chaincode developer - wants to store hash, you could","ts":"1483114731.000666"},{"type":"message","user":"U0ULK2JPP","text":"the above demo uses a lot of features a typical chaincode dev would need","ts":"1483114759.000667"},{"type":"message","user":"U0ULK2JPP","text":"while not \u201csupply chain\u201d I\u2019m sure you would be able to use ideas from there","ts":"1483114778.000668"},{"type":"message","user":"U36HLH8SC","text":"yes correct, one small clarification, do i need to explicitly expose chain code as services or as shown in this link need to  \"<http:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/Setup\/Chaincode-setup\/#running-the-chaincode>\"","ts":"1483114881.000669"},{"type":"message","user":"U36HLH8SC","text":"&lt;host:port&gt;\/chaincode","ts":"1483114896.000670"},{"type":"message","user":"U36HLH8SC","text":"or i just use &lt;host:port&gt;\/chaincode","ts":"1483114913.000671"},{"type":"message","user":"U0ULK2JPP","text":"I assume you are referring to the REST interface ?","ts":"1483114951.000672"},{"type":"message","user":"U36HLH8SC","text":"yes correct","ts":"1483114989.000673"},{"type":"message","user":"U0ULK2JPP","text":"the REST service is supplied by the fabric for all chaincodes","ts":"1483115017.000674"},{"type":"message","user":"U0ULK2JPP","text":"you would provie chaincode ID along with invoke\/query params to call your particular chaincode","ts":"1483115047.000675"},{"type":"message","user":"U36HLH8SC","text":"why am getting confused is, i did small POC on Eris ( Monax ) where i need to create smart contact deploy to a chain and then exposed rest API's using nodeJS","ts":"1483115062.000676"},{"type":"message","user":"U0ULK2JPP","text":"using the nodeJS SDK supplied by the fabric ?","ts":"1483115102.000677"},{"type":"message","user":"U36HLH8SC","text":"Monax is a other private blockchain platform","ts":"1483115135.000678"},{"type":"message","user":"U0ULK2JPP","text":"or did you write your own nodeJS app to talk to the fabric using the above REST interface ?","ts":"1483115138.000679"},{"type":"message","user":"U0ULK2JPP","text":"oh I see","ts":"1483115143.000680"},{"type":"message","user":"U0ULK2JPP","text":"not on fabric","ts":"1483115148.000681"},{"type":"message","user":"U36HLH8SC","text":"correct not on fabric, fabric i just started yesterday","ts":"1483115165.000682"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1483115168.000683"},{"type":"message","user":"U36HLH8SC","text":"so fabric itself will takecare of exposing chaincode as a rest API's","ts":"1483115205.000684"},{"type":"message","user":"U36HLH8SC","text":"is that my understanding correct?","ts":"1483115220.000685"},{"type":"message","user":"U0ULK2JPP","text":"in 0.6\/0.7 you can use the aboce REST API","ts":"1483115239.000686"},{"type":"message","user":"U36HLH8SC","text":"ok","ts":"1483115296.000687"},{"type":"message","user":"U0ULK2JPP","text":"in the latest master REST support is removed in favor of a SDK based middle tier approach","ts":"1483115320.000688"},{"type":"message","user":"U0ULK2JPP","text":"the SDK provides APIs for you to interact with the fabric on which you can develop your application (fabric-sdk, fabric-sdk-dev provides more details)","ts":"1483115377.000689"},{"type":"message","user":"U0ULK2JPP","text":"but for now you could use the REST apis with 0.6\/0.7 to familiarize with the fabric","ts":"1483115418.000690"},{"type":"message","user":"U36HLH8SC","text":"thank you Murali","ts":"1483115445.000691"},{"type":"message","user":"U0ULK2JPP","text":"but really, its just an alternative to `peer chaincode deploy\u2026`, `peer chaincode invoke\u2026` etc","ts":"1483115461.000692"},{"type":"message","user":"U0ULK2JPP","text":"absolutely","ts":"1483115468.000693"},{"type":"message","user":"U36HLH8SC","text":"ok","ts":"1483115473.000694"},{"user":"U3M2C44G6","text":"<@U3M2C44G6|locusf> has joined the channel","type":"message","subtype":"channel_join","ts":"1483341921.000695"},{"type":"message","user":"U1WUAQJVC","text":"Hi All, i have a question regarding ledger database..\n\nI want to get the details of column families\n\nvar columnfamilies = []string{\n    blockchainCF, \/\/ blocks of the block chain\n    stateCF,      \/\/ world state\n    stateDeltaCF, \/\/ open transaction state\n    indexesCF,    \/\/ tx uuid -&gt; blockno\n    persistCF,    \/\/ persistent per-peer state (consensus)\n}\n\nAny idea??? plz help.","ts":"1483352533.000696"},{"type":"message","user":"U0NLP5909","text":"Hi, I met some problem when building peer binary:\n\n\tvagrant@hyperledger-devenv:v0.0.10-e3b2d3f:\/hyperledger$ make peer\n\t\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/committer\/txvalidator\/validator.go:20:2: cannot find package \"context\" in any of:\n\t\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/vendor\/context (vendor tree)\n\t\t\/opt\/go\/src\/context (from $GOROOT)\n\t\t\/opt\/gopath\/src\/context (from $GOPATH)\n\tmake: *** [build\/bin\/peer] Error 1\n\nfabric\/core\/committer\/txvalidator\/validator.go is using \"context\", which is only available in Go1.7\n\nDoes that mean that in V1.0, the Golang dependency should be 1.7 or later ?","edited":{"user":"U0NLP5909","ts":"1483355289.000000"},"ts":"1483355119.000697"},{"type":"message","user":"U0NLP5909","text":"Also I found this change-set that in fabric-baseimage, the Golang base image has been moved to v1.7.3\n\n<https:\/\/github.com\/hyperledger\/fabric-baseimage\/commit\/9a6c79924597aafd33bc53a493b601b5cd6c7887>","attachments":[{"service_name":"GitHub","title":"Upgrade Golang to v1.7.3 \u00b7 hyperledger\/fabric-baseimage@9a6c799 \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric-baseimage\/commit\/9a6c79924597aafd33bc53a493b601b5cd6c7887","text":"All platforms will now install Golang v1.7.3. The primary motivation for this was that Kafka requires Golang v1.7.x and both the ppc64le and s390x platforms were using Golang 1.6. This change also...","fallback":"GitHub: Upgrade Golang to v1.7.3 \u00b7 hyperledger\/fabric-baseimage@9a6c799","thumb_url":"https:\/\/1.gravatar.com\/avatar\/8fb50471afad2c1e78d0064b41746b31?d=https%3A%2F%2Fassets-cdn.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png&r=x&s=200","from_url":"https:\/\/github.com\/hyperledger\/fabric-baseimage\/commit\/9a6c79924597aafd33bc53a493b601b5cd6c7887","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/bfaba\/img\/unfurl_icons\/github.png","id":1}],"ts":"1483355231.000699"},{"type":"message","user":"U0PB67X4K","text":"<@U0NLP5909>  - yes - we use Go 1.7.x for Fabric v1.0","ts":"1483359246.000702"},{"type":"message","user":"U0NLP5909","text":"<@U0PB67X4K> thanks","ts":"1483361084.000703"},{"user":"U3LGHQ70D","text":"<@U3LGHQ70D|karthikimg> has joined the channel","type":"message","subtype":"channel_join","ts":"1483366281.000704"},{"user":"U3K1EMJ2F","text":"<@U3K1EMJ2F|sabaset> has joined the channel","type":"message","subtype":"channel_join","ts":"1483384591.000705"},{"type":"message","user":"U0PB67X4K","text":"posting here as well","attachments":[{"fallback":"[January 3rd, 2017 12:31 PM] garisingh: BTW - for folks working on Fabric development, you might be interested in this recently merged build feature:    <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3555\/>\n\nSee the commit for details, but basically it allows you to run  unit-tests for a list of packages rather than running the whole suite.  It's nice as a pre-test before submitting to quickly ensure that your tests will pass in the CI environment without having to run all the unit-tests for all packages","ts":"1483464710.000736","author_subname":"garisingh","channel_id":"C0YQ1NHGD","channel_name":"fabric-dev-env","is_msg_unfurl":true,"text":"BTW - for folks working on Fabric development, you might be interested in this recently merged build feature:    <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3555\/>\n\nSee the commit for details, but basically it allows you to run  unit-tests for a list of packages rather than running the whole suite.  It's nice as a pre-test before submitting to quickly ensure that your tests will pass in the CI environment without having to run all the unit-tests for all packages","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/garisingh","author_icon":"https:\/\/avatars.slack-edge.com\/2016-09-10\/78323915894_521dc680194c08b166e0_48.jpg","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev-env\/p1483464710000736","is_share":true,"footer":"Posted in #fabric-dev-env"}],"ts":"1483466576.000706","reactions":[{"name":"+1","users":["U0ULK2JPP","U0YK3KKCY"],"count":2}]},{"user":"U3HN4GFA9","text":"<@U3HN4GFA9|tzipih> has joined the channel","type":"message","subtype":"channel_join","ts":"1483503908.000707"},{"type":"message","user":"U36RKMPBQ","text":"Hi All, can someone tell me the different values for \"type\" and meaning within the REST API, see below an example for a deploy transaction:","ts":"1483520795.000708"},{"type":"message","user":"U36RKMPBQ","text":"{\n  \"jsonrpc\": \"2.0\",\n  \"method\": \"query\",\n  \"params\": {\n      \"type\": 4,\n      \"chaincodeID\":{\n          \"name\":\"bfdcbcf587970ffde3a078d8a897925280f8d503560185a42d24d3b1df7a78b1910480ae29722a1e5bb8c01b7939d2a5efe8d4a1d8217ae3b3da119858769521\"\n      },\n      \"ctorMsg\": {\n         \"function\":\"query\",\n         \"args\":[\"farmer\"]\n      },\n      \"secureContext\": \"lukas\"\n  },\n  \"id\": 5\n}","ts":"1483520797.000709"},{"type":"message","user":"U36RKMPBQ","text":"I have seen type with \"1\" and \"4\" so far, but did not yet find explanation which stands for what","ts":"1483520832.000710"},{"type":"message","user":"U0PB67X4K","text":"<@U36RKMPBQ>  - <https:\/\/github.com\/hyperledger\/fabric\/blob\/v0.6\/protos\/chaincode.proto#L59>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/v0.6\/protos\/chaincode.proto#L59","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/v0.6\/protos\/chaincode.proto#L59","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1483526053.000711"},{"type":"message","user":"U0PB67X4K","text":"basically it's the type of chaincode being deployed - e.g. 1= golang, 4= java (which are the most widely used)","ts":"1483526092.000713"},{"type":"message","user":"U0PB67X4K","text":"type 3 (CAR) uses the CAR packaging tool  and type 2 (NODE) is for NodeJS in the future","ts":"1483526166.000714"},{"type":"message","user":"U36RKMPBQ","text":"Hi Garisingh, thanks for the response :slightly_smiling_face:","ts":"1483532041.000715"},{"type":"message","user":"U36RKMPBQ","text":"What I try to do is to deploy the Java Chaincode triggered via the REST API. This is my transaction:","ts":"1483532101.000716"},{"type":"message","user":"U36RKMPBQ","text":"{\n  \"jsonrpc\": \"2.0\",\n  \"method\": \"deploy\",\n  \"params\": {\n    \"type\": 4,\n    \"chaincodeID\": {\n      \"name\": \"JavaCDD\",\n      \"path\": \"<http:\/\/github.com\/JavaCDD|github.com\/JavaCDD>\"\n    },\n    \"ctorMsg\": {\n      \"function\": \"init\",\n      \"args\": [\n        \"farmer\", \"10\", \"42\"\n      ]\n    },\n    \"secureContext\": \"lukas\"\n  },\n  \"id\": 1\n}","ts":"1483532102.000717"},{"type":"message","user":"U36RKMPBQ","text":"I have the chaincode placed under \"\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/github.com\/JavaCDD\" on the Peer where I am submitting the command","ts":"1483532190.000718"},{"type":"message","user":"U36RKMPBQ","text":"actually I am running the Peer within a Docker Container and mapping a volume as below:","ts":"1483532245.000719"},{"type":"message","user":"U36RKMPBQ","text":"\"vp3:\n      image: hyperledger\/fabric-peer\n      net: hyperledger\n      volumes:\n          # tweak this to map a local developmnt directory tree into the container\n        - \/opt\/gopath\/src\/github.com:\/opt\/gopath\/src\/github.com\n\"","ts":"1483532248.000720"},{"type":"message","subtype":"file_share","text":"<@U36RKMPBQ|bercinho> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/bercinho\/F3M7XHMPW\/grafik.png|grafik.png>","file":{"id":"F3M7XHMPW","created":1483532318,"timestamp":1483532318,"name":"grafik.png","title":"grafik.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U36RKMPBQ","editable":false,"size":20803,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3M7XHMPW\/grafik.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3M7XHMPW\/download\/grafik.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3M7XHMPW-bff8de82ed\/grafik_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3M7XHMPW-bff8de82ed\/grafik_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3M7XHMPW-bff8de82ed\/grafik_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":146,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3M7XHMPW-bff8de82ed\/grafik_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":195,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3M7XHMPW-bff8de82ed\/grafik_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3M7XHMPW-bff8de82ed\/grafik_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":293,"image_exif_rotation":1,"original_w":792,"original_h":322,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/bercinho\/F3M7XHMPW\/grafik.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3M7XHMPW-8b8e847fcd","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U36RKMPBQ","upload":true,"display_as_bot":false,"username":"<@U36RKMPBQ|bercinho>","bot_id":null,"ts":"1483532320.000721"},{"type":"message","user":"U36RKMPBQ","text":"The response of the Rest Call is:","ts":"1483532345.000722"},{"type":"message","user":"U36RKMPBQ","text":"{\n  \"jsonrpc\": \"2.0\",\n  \"result\": {\n    \"status\": \"OK\",\n    \"message\": \"bfdcbcf587970ffde3a078d8a897925280f8d503560185a42d24d3b1df7a78b1910480ae29722a1e5bb8c01b7939d2a5efe8d4a1d8217ae3b3da119858769521\"\n  },\n  \"id\": 1\n}","ts":"1483532347.000723"},{"type":"message","user":"U36RKMPBQ","text":"But Query fails after:","ts":"1483532361.000724"},{"type":"message","user":"U36RKMPBQ","text":"{\n  \"jsonrpc\": \"2.0\",\n  \"method\": \"query\",\n  \"params\": {\n      \"type\": 4,\n      \"chaincodeID\":{\n          \"name\":\"bfdcbcf587970ffde3a078d8a897925280f8d503560185a42d24d3b1df7a78b1910480ae29722a1e5bb8c01b7939d2a5efe8d4a1d8217ae3b3da119858769521\"\n      },\n      \"ctorMsg\": {\n         \"function\":\"query\",\n         \"args\":[\"farmer\"]\n      },\n      \"secureContext\": \"lukas\"\n  },\n  \"id\": 5\n}","ts":"1483532363.000725"},{"type":"message","user":"U36RKMPBQ","text":"{\n  \"jsonrpc\": \"2.0\",\n  \"error\": {\n    \"code\": -32003,\n    \"message\": \"Query failure\",\n    \"data\": \"Error when querying chaincode: Error:Failed to launch chaincode spec(Could not get deployment transaction for bfdcbcf587970ffde3a078d8a897925280f8d503560185a42d24d3b1df7a78b1910480ae29722a1e5bb8c01b7939d2a5efe8d4a1d8217ae3b3da119858769521 - LedgerError - ResourceNotFound: ledger: resource not found)\"\n  },\n  \"id\": 5\n}","ts":"1483532369.000726"},{"type":"message","user":"U36RKMPBQ","text":"so for some reason the deploy did not eventually work","ts":"1483532378.000727"},{"type":"message","user":"U36RKMPBQ","text":"Is this the correct deployment process?","ts":"1483532536.000728"},{"type":"message","user":"U36RKMPBQ","text":"Move chaincode (not yet built) to one of the Peers, submit a deploy transaction as above to this Peer and let Hyperledger take care of the rest?","ts":"1483532595.000729"},{"type":"message","user":"U0N4D2T61","text":"<@U36RKMPBQ> see on peer logs, sometimes you will find the error there during the deployment phase","ts":"1483534854.000730"},{"type":"message","user":"U0N4D2T61","text":"if all is ok, do a : docker ps","ts":"1483534868.000731"},{"type":"message","user":"U0N4D2T61","text":"to see if your new container is running well","ts":"1483534880.000732"},{"type":"message","user":"U0N4D2T61","text":"the id is the same as the field \u201cmessage\u201d from the response","ts":"1483534905.000733"},{"type":"message","user":"U36RKMPBQ","text":"Hi Benjamin, Thanks for the  feedback! The chaincode is not started up in a new container, though I receive the corresponding \"chaincodeID\" back, I have added the log of the peers, but can\u00b4t really see what\u00b4s going on ...","ts":"1483536077.000734"},{"type":"message","subtype":"file_share","text":"<@U36RKMPBQ|bercinho> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/bercinho\/F3M8G7E3E\/docker-compose-nodes.out.1483535800|docker-compose-nodes.out.1483535800>","file":{"id":"F3M8G7E3E","created":1483536107,"timestamp":1483536107,"name":"docker-compose-nodes.out.1483535800","title":"docker-compose-nodes.out.1483535800","mimetype":"application\/octet-stream","filetype":"binary","pretty_type":"Binary","user":"U36RKMPBQ","editable":false,"size":2220860,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3M8G7E3E\/docker-compose-nodes.out.1483535800?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3M8G7E3E\/download\/docker-compose-nodes.out.1483535800?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/bercinho\/F3M8G7E3E\/docker-compose-nodes.out.1483535800","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3M8G7E3E-87a26b8415","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U36RKMPBQ","upload":true,"display_as_bot":false,"username":"<@U36RKMPBQ|bercinho>","bot_id":null,"ts":"1483536110.000735"},{"type":"message","user":"U0N4D2T61","text":"are you using a secure network ?","ts":"1483536546.000736"},{"type":"message","user":"U0N4D2T61","text":"deploying java chaincode on V0.6 only work on a *non* secure network","ts":"1483536572.000737"},{"type":"message","user":"U36RKMPBQ","text":"what do you mean in terms of secure network?","ts":"1483536697.000738"},{"type":"message","user":"U0PB67X4K","text":"<@U0N4D2T61>  - you mean with TLS disabled?   (which is the default anyway)","ts":"1483536756.000739"},{"type":"message","user":"U36RKMPBQ","text":"TLS is disabled for sure, I did not configure that","ts":"1483536772.000740"},{"type":"message","user":"U0N4D2T61","text":"this env :         - CORE_SECURITY_ENABLED=false","ts":"1483536776.000741"},{"type":"message","user":"U36RKMPBQ","text":"that setting is wrong in my setup, you are right!","ts":"1483536844.000742"},{"type":"message","user":"U36RKMPBQ","text":"this is what I have","ts":"1483536857.000743"},{"type":"message","user":"U36RKMPBQ","text":"vp0:\n  image: hyperledger\/fabric-peer\n  net: hyperledger\n  volumes:\n      # tweak this to map a local developmnt directory tree into the container\n    - \/opt\/gopath\/src\/github.com:\/opt\/gopath\/src\/github.com\n    - \/var\/run\/docker.sock:\/var\/run\/docker.sock\n  ports:\n    - \"7050:7050\"\n    - \"7051:7051\"\n    - \"7053:7053\"\n  environment:\n    - CORE_PEER_ADDRESSAUTODETECT=true\n    - CORE_VM_ENDPOINT=unix:\/\/\/var\/run\/docker.sock\n    - CORE_LOGGING_LEVEL=DEBUG\n    - CORE_PEER_ID=vp0\n    - CORE_PEER_PKI_ECA_PADDR=10.43.185.247:7054\n    - CORE_PEER_PKI_TCA_PADDR=10.43.185.247:7054\n    - CORE_PEER_PKI_TLSCA_PADDR=10.43.185.247:7054\n    - CORE_SECURITY_ENABLED=true\n    - CORE_SECURITY_ENROLLID=test_vp0\n    - CORE_SECURITY_ENROLLSECRET=MwYpmSRjupbT\n    - CORE_PEER_VALIDATOR_CONSENSUS_PLUGIN=pbft\n    - CORE_PBFT_GENERAL_MODE=batch\n    - CORE_PBFT_GENERAL_N=6\n      #this gives access to the docker host daemon to deploy chain code in network mode\n      #volumes:\n      #  - \/var\/run\/docker.sock:\/var\/run\/docker.sock\n  external_links:\n    - membersrvc\n  command: sh -c \"sleep 10; peer node start\"","ts":"1483536860.000744"},{"type":"message","user":"U0N4D2T61","text":"try on a non secure network, you will not need to register a user when using REST API ;o)","ts":"1483536874.000745"},{"type":"message","user":"U0N4D2T61","text":"yep","ts":"1483536880.000746"},{"type":"message","user":"U0N4D2T61","text":"do it","ts":"1483536882.000747"},{"type":"message","user":"U0N4D2T61","text":"=&gt; false","ts":"1483536886.000748"},{"type":"message","user":"U0N4D2T61","text":"it should work","ts":"1483536909.000749"},{"type":"message","user":"U36RKMPBQ","text":"ok, but can you confirm that Java Chaincode deployment will not work on a \"secure network\" ?","ts":"1483536912.000750"},{"type":"message","user":"U0N4D2T61","text":"normally when you do it on a secure network, you get a \u201cDocker image null\u201d ERR on the peer logs","ts":"1483536941.000751"},{"type":"message","user":"U36RKMPBQ","text":"how is that related?","ts":"1483536992.000752"},{"type":"message","user":"U0N4D2T61","text":"as the V0.6 java shim is not the current sprints , do it on a non secure. I am sure on the V1.0 this will be ok","ts":"1483536992.000753"},{"type":"message","user":"U0N4D2T61","text":"I do not know, I tried to find the cause without success","ts":"1483537029.000754"},{"type":"message","user":"U0N4D2T61","text":"no time for that , sorry :confused:","ts":"1483537042.000755"},{"type":"message","user":"U36RKMPBQ","text":"ok ok :slightly_smiling_face:","ts":"1483537067.000756"},{"type":"message","user":"U36RKMPBQ","text":"well it\u00b4s v0.6 anyway","ts":"1483537076.000757"},{"type":"message","user":"U36RKMPBQ","text":"so I should remove CORE_SECURITY_ENROLLID, CORE_SECURITY_ENROLLSECRET from the yaml?","ts":"1483537098.000758"},{"type":"message","user":"U0N4D2T61","text":"no more sec","ts":"1483537111.000759"},{"type":"message","user":"U0N4D2T61","text":"yep","ts":"1483537113.000760"},{"type":"message","user":"U36RKMPBQ","text":"ok, let me try :slightly_smiling_face:","ts":"1483537121.000761"},{"type":"message","user":"U36RKMPBQ","text":"thanks for advice","ts":"1483537127.000762"},{"type":"message","user":"U0N4D2T61","text":"i have this for a peer :","ts":"1483537153.000763"},{"type":"message","user":"U0N4D2T61","text":"environment:\n      - CORE_PEER_DISCOVERY_PERIOD=300s\n      - CORE_PEER_DISCOVERY_TOUCHPERIOD=301s\n      - CORE_PEER_ADDRESSAUTODETECT=true\n      - CORE_VM_ENDPOINT=unix:\/\/\/var\/run\/docker.sock\n      - CORE_LOGGING_LEVEL=DEBUG\n      - CORE_PEER_PKI_ECA_PADDR=membersrvc:7054\n      - CORE_PEER_PKI_TCA_PADDR=membersrvc:7054\n      - CORE_PEER_PKI_TLSCA_PADDR=membersrvc:7054\n      - CORE_SECURITY_ENABLED=false","ts":"1483537154.000764"},{"type":"message","user":"U36RKMPBQ","text":"It still fails ...","ts":"1483537784.000765"},{"type":"message","user":"U36RKMPBQ","text":"vp0_1  | 13:48:11.464 [rest] processChaincodeInvokeOrQuery -&gt; ERRO 66d Error when querying chaincode: Error:Failed to launch chaincode spec(Could not get deployment transaction for bfdcbcf587970ffde3a078d8a897925280f8d50356\n0185a42d24d3b1df7a78b1910480ae29722a1e5bb8c01b7939d2a5efe8d4a1d8217ae3b3da119858769521 - LedgerError - ResourceNotFound: ledger: resource not found)\nvp0_1  | 13:48:11.464 [rest] ProcessChaincode -&gt; INFO 66e REST successfully query chaincode: {\"jsonrpc\":\"2.0\",\"error\":{\"code\":-32003,\"message\":\"Query failure\",\"data\":\"Error when querying chaincode: Error:Failed to launch chainc\node spec(Could not get deployment transaction for bfdcbcf587970ffde3a078d8a897925280f8d503560185a42d24d3b1df7a78b1910480ae29722a1e5bb8c01b7939d2a5efe8d4a1d8217ae3b3da119858769521 - LedgerError - ResourceNotFound: ledger: resource not fou\nnd)\"},\"id\":5}","ts":"1483537786.000766"},{"type":"message","user":"U36RKMPBQ","text":"I do however have this log for the deployment:","ts":"1483537892.000767"},{"type":"message","user":"U36RKMPBQ","text":"[36mvp0_1  |\u001b[0m \u001b[36m13:47:55.439 [peer] sendTransactionsToLocalEngine -&gt; DEBU 507\u001b[0m Sending message CHAIN_TRANSACTION with timestamp seconds:1483537675 nanos:439844076  to local engine\n\u001b[36mvp0_1  |\u001b[0m 13:47:55.443 [rest] processChaincodeDeploy -&gt; INFO 50e\u001b[0m Successfully deployed chainCode: bfdcbcf587970ffde3a078d8a897925280f8d503560185a42d24d3b1df7a78b1910480ae29722a1e5bb8c01b7939d2a5efe8d4a1d8217ae3b3da119858769521\n\u001b[36mvp0_1  |\u001b[0m 13:47:55.443 [rest] ProcessChaincode -&gt; INFO 50f\u001b[0m REST successfully deploy chaincode: {\"jsonrpc\":\"2.0\",\"result\":{\"status\":\"OK\",\"message\":\"bfdcbcf587970ffde3a078d8a897925280f8d503560185a42d24d3b1df7a78b1910480ae29722a1e5bb8c01b7939d2a5efe8d4a1d8217ae3b3da119858769521\"},\"id\":1}\n\u001b[36mvp0_1  |\u001b[0m \u001b[36m13:47:55.443 [consensus\/pbft] ProcessEvent -&gt; DEBU 510\u001b[0m Replica 0 batch main thread looping","ts":"1483537907.000768"},{"type":"message","user":"U36RKMPBQ","text":"there is no new docker engine started","ts":"1483537931.000769"},{"type":"message","subtype":"file_share","text":"<@U36RKMPBQ|bercinho> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/bercinho\/F3LFYQG81\/docker-compose-nodes.yaml|docker-compose-nodes.yaml>","file":{"id":"F3LFYQG81","created":1483537956,"timestamp":1483537956,"name":"docker-compose-nodes.yaml","title":"docker-compose-nodes.yaml","mimetype":"text\/plain","filetype":"yaml","pretty_type":"YAML","user":"U36RKMPBQ","editable":true,"size":4578,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3LFYQG81\/docker-compose-nodes.yaml?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3LFYQG81\/download\/docker-compose-nodes.yaml?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/bercinho\/F3LFYQG81\/docker-compose-nodes.yaml","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3LFYQG81-cda862937b","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/bercinho\/F3LFYQG81\/docker-compose-nodes.yaml\/edit","preview":"vp0:\n  image: hyperledger\/fabric-peer\n  net: hyperledger\n  volumes:\n      # tweak this to map a local developmnt directory tree into the container","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-atom\">vp0<\/span><span class=\"cm-meta\">:<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-atom\">  image<\/span><span class=\"cm-meta\">: <\/span>hyperledger\/fabric-peer<\/pre><\/div>\n<div><pre><span class=\"cm-atom\">  net<\/span><span class=\"cm-meta\">: <\/span>hyperledger<\/pre><\/div>\n<div><pre><span class=\"cm-atom\">  volumes<\/span><span class=\"cm-meta\">:<\/span><\/pre><\/div>\n<div><pre>      <span class=\"cm-comment\"># tweak this to map a local developmnt directory tree into the container<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":122,"lines_more":117,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U36RKMPBQ","upload":true,"display_as_bot":false,"username":"<@U36RKMPBQ|bercinho>","bot_id":null,"ts":"1483537957.000770"},{"type":"message","user":"U36RKMPBQ","text":"Hi Benjamin, what is the consensus you are running? is it noops or pbft?","ts":"1483540752.000771"},{"type":"message","user":"U0N4D2T61","text":"noops","ts":"1483541197.000772"},{"type":"message","user":"U0N4D2T61","text":"better for testing","ts":"1483541203.000773"},{"type":"message","user":"U36RKMPBQ","text":"but does the java chaincode deployment work with pbft? did you try that?","ts":"1483541365.000774"},{"type":"message","user":"U0N4D2T61","text":"yes, it works","ts":"1483541527.000775"},{"type":"message","user":"U0N4D2T61","text":"just longer","ts":"1483541535.000776"},{"type":"message","user":"U36RKMPBQ","text":"Ok ,so now I have the engines up &amp; running (noops, non-secure network)","ts":"1483542888.000777"},{"type":"message","subtype":"file_share","text":"<@U36RKMPBQ|bercinho> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/bercinho\/F3M7LJB0S\/grafik.png|grafik.png>","file":{"id":"F3M7LJB0S","created":1483542918,"timestamp":1483542918,"name":"grafik.png","title":"grafik.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U36RKMPBQ","editable":false,"size":18808,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3M7LJB0S\/grafik.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3M7LJB0S\/download\/grafik.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3M7LJB0S-63a69c80ad\/grafik_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3M7LJB0S-63a69c80ad\/grafik_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3M7LJB0S-63a69c80ad\/grafik_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":40,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3M7LJB0S-63a69c80ad\/grafik_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":53,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3M7LJB0S-63a69c80ad\/grafik_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3M7LJB0S-63a69c80ad\/grafik_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":80,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3M7LJB0S-63a69c80ad\/grafik_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":106,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3M7LJB0S-63a69c80ad\/grafik_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":113,"image_exif_rotation":1,"original_w":1606,"original_h":178,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/bercinho\/F3M7LJB0S\/grafik.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3M7LJB0S-3357136ae0","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U36RKMPBQ","upload":true,"display_as_bot":false,"username":"<@U36RKMPBQ|bercinho>","bot_id":null,"ts":"1483542922.000780"},{"type":"message","user":"U36RKMPBQ","text":"but still problems with the Query transaciton","ts":"1483542942.000781"},{"type":"message","user":"U36RKMPBQ","text":"{\n  \"jsonrpc\": \"2.0\",\n  \"error\": {\n    \"code\": -32003,\n    \"message\": \"Query failure\",\n    \"data\": \"Error when querying chaincode: Error:Failed to launch chaincode spec(Could not get deployment transaction for bfdcbcf587970ffde3a078d8a897925280f8d503560185a42d24d3b1df7a78b1910480ae29722a1e5bb8c01b7939d2a5efe8d4a1d8217ae3b3da119858769521 - LedgerError - ResourceNotFound: ledger: resource not found)\"\n  },\n  \"id\": 5\n}","ts":"1483542969.000782"},{"type":"message","user":"U0PB67X4K","text":"your chaincode is not being successfully deployed","ts":"1483542995.000783"},{"type":"message","user":"U36RKMPBQ","text":"but is that not strange to have the engines up &amp; running?","ts":"1483543222.000784"},{"type":"message","user":"U36RKMPBQ","text":"I do get from all the Peers this feedback in the log:","ts":"1483543867.000785"},{"type":"message","user":"U36RKMPBQ","text":"\u001b[35mvp1_1  |\u001b[0m \u001b[36m15:29:01.055 [consensus\/noops] RecvMsg -&gt; DEBU 2aa\u001b[0m Handling Message of type: CONSENSUS \n\u001b[36mvp0_1  |\u001b[0m \u001b[36m15:29:01.060 [consensus\/noops] RecvMsg -&gt; DEBU 2d0\u001b[0m Sending to channel tx uuid: bfdcbcf587970ffde3a078d8a897925280f8d503560185a42d24d3b1df7a78b1910480ae29722a1e5bb8c01b7939d2a5efe8d4a1d8217ae3b3da119858769521\n\u001b[36mvp0_1  |\u001b[0m 15:29:01.060 [rest] processChaincodeDeploy -&gt; INFO 2d1\u001b[0m Successfully deployed chainCode: bfdcbcf587970ffde3a078d8a897925280f8d503560185a42d24d3b1df7a78b1910480ae29722a1e5bb8c01b7939d2a5efe8d4a1d8217ae3b3da119858769521\n\u001b[36mvp0_1  |\u001b[0m 15:29:01.060 [rest] ProcessChaincode -&gt; INFO 2d2\u001b[0m REST successfully deploy chaincode: {\"jsonrpc\":\"2.0\",\"result\":{\"status\":\"OK\",\"message\":\"bfdcbcf587970ffde3a078d8a897925280f8d503560185a42d24d3b1df7a78b1910480ae29722a1e5bb8c01b7939d2a5efe8d4a1d8217ae3b3da119858769521\"},\"id\":1}\n\u001b[35mvp1_1  |\u001b[0m \u001b[36m15:29:01.088 [consensus\/noops] RecvMsg -&gt; DEBU 2ad\u001b[0m Sending to channel tx uuid: bfdcbcf587970ffde3a078d8a897925280f8d503560185a42d24d3b1df7a78b1910480ae29722a1e5bb8c01b7939d2a5efe8d4a1d8217ae3b3da119858769521\n\u001b[33mvp3_1  |\u001b[0m \u001b[36m15:29:01.759 [consensus\/noops] handleChannels -&gt; DEBU 2b0\u001b[0m Process block due to time","ts":"1483543869.000786"},{"type":"message","user":"U36RKMPBQ","text":"\"Successfully deployed chainCode\"","ts":"1483543886.000787"},{"type":"message","user":"U36RKMPBQ","text":"docker containers are running for the chaincode after deployment transaction","ts":"1483543903.000788"},{"type":"message","subtype":"file_share","text":"<@U36RKMPBQ|bercinho> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/bercinho\/F3MU6294P\/grafik.png|still the>","file":{"id":"F3MU6294P","created":1483543940,"timestamp":1483543940,"name":"grafik.png","title":"still the","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U36RKMPBQ","editable":false,"size":19941,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3MU6294P\/grafik.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3MU6294P\/download\/grafik.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3MU6294P-0f9f021d7b\/grafik_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3MU6294P-0f9f021d7b\/grafik_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3MU6294P-0f9f021d7b\/grafik_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":39,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3MU6294P-0f9f021d7b\/grafik_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":53,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3MU6294P-0f9f021d7b\/grafik_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3MU6294P-0f9f021d7b\/grafik_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":79,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3MU6294P-0f9f021d7b\/grafik_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":105,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3MU6294P-0f9f021d7b\/grafik_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":112,"image_exif_rotation":1,"original_w":1653,"original_h":181,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/bercinho\/F3MU6294P\/grafik.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3MU6294P-d4bc8f7c2b","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U36RKMPBQ","upload":true,"display_as_bot":false,"username":"<@U36RKMPBQ|bercinho>","bot_id":null,"ts":"1483543944.000789"},{"type":"message","user":"U36RKMPBQ","text":"still I get an exception for the Query transaction","ts":"1483543956.000790"},{"type":"message","user":"U36RKMPBQ","text":"please note the strange random names of the containers","ts":"1483544084.000791"},{"type":"message","user":"U36RKMPBQ","text":"which are not aligned with the \"bfdcbcf587970ffde3a078d8a897925280f8d503560185a42d24d3b1df7a78b1910480ae29722a1e5bb8c01b7939d2a5efe8d4a1d8217ae3b3da119858769521\" chaincode id","ts":"1483544099.000792"},{"type":"message","user":"U36RKMPBQ","text":"can this be an issue?","ts":"1483544110.000793"},{"type":"message","subtype":"file_share","text":"<@U36RKMPBQ|bercinho> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/bercinho\/F3MU9H7FZ\/grafik.png|grafik.png>","file":{"id":"F3MU9H7FZ","created":1483544348,"timestamp":1483544348,"name":"grafik.png","title":"grafik.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U36RKMPBQ","editable":false,"size":100252,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3MU9H7FZ\/grafik.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3MU9H7FZ\/download\/grafik.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3MU9H7FZ-95f6ca5f4f\/grafik_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3MU9H7FZ-95f6ca5f4f\/grafik_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3MU9H7FZ-95f6ca5f4f\/grafik_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":126,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3MU9H7FZ-95f6ca5f4f\/grafik_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":168,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3MU9H7FZ-95f6ca5f4f\/grafik_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3MU9H7FZ-95f6ca5f4f\/grafik_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":253,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3MU9H7FZ-95f6ca5f4f\/grafik_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":337,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3MU9H7FZ-95f6ca5f4f\/grafik_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":359,"image_exif_rotation":1,"original_w":1890,"original_h":663,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/bercinho\/F3MU9H7FZ\/grafik.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3MU9H7FZ-389a8a9a18","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U36RKMPBQ","upload":true,"display_as_bot":false,"username":"<@U36RKMPBQ|bercinho>","bot_id":null,"ts":"1483544355.000794"},{"type":"message","subtype":"file_share","text":"<@U36RKMPBQ|bercinho> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/bercinho\/F3MTYJHML\/docker-compose-nodes.out.1483543619|docker-compose-nodes.out.1483543619>","file":{"id":"F3MTYJHML","created":1483544378,"timestamp":1483544378,"name":"docker-compose-nodes.out.1483543619","title":"docker-compose-nodes.out.1483543619","mimetype":"application\/octet-stream","filetype":"binary","pretty_type":"Binary","user":"U36RKMPBQ","editable":false,"size":637527,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3MTYJHML\/docker-compose-nodes.out.1483543619?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3MTYJHML\/download\/docker-compose-nodes.out.1483543619?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/bercinho\/F3MTYJHML\/docker-compose-nodes.out.1483543619","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3MTYJHML-0061a6c838","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U36RKMPBQ","upload":true,"display_as_bot":false,"username":"<@U36RKMPBQ|bercinho>","bot_id":null,"ts":"1483544380.000795"},{"user":"U1Y4P0HM4","text":"<@U1Y4P0HM4|yangtao76> has joined the channel","type":"message","subtype":"channel_join","ts":"1483544666.000796"},{"type":"message","subtype":"file_share","text":"<@U36RKMPBQ|bercinho> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/bercinho\/F3LH0BX4Y\/grafik.png|grafik.png>","file":{"id":"F3LH0BX4Y","created":1483545864,"timestamp":1483545864,"name":"grafik.png","title":"grafik.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U36RKMPBQ","editable":false,"size":21409,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3LH0BX4Y\/grafik.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3LH0BX4Y\/download\/grafik.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3LH0BX4Y-e45ae5feb4\/grafik_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3LH0BX4Y-e45ae5feb4\/grafik_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3LH0BX4Y-e45ae5feb4\/grafik_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":114,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3LH0BX4Y-e45ae5feb4\/grafik_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":152,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3LH0BX4Y-e45ae5feb4\/grafik_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3LH0BX4Y-e45ae5feb4\/grafik_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":228,"image_exif_rotation":1,"original_w":869,"original_h":275,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/bercinho\/F3LH0BX4Y\/grafik.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3LH0BX4Y-9a2413cdb7","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U36RKMPBQ","upload":true,"display_as_bot":false,"username":"<@U36RKMPBQ|bercinho>","bot_id":null,"ts":"1483545867.000797"},{"type":"message","user":"U36RKMPBQ","text":"ERRO[3665] Handler for POST \/containers\/dev-vp2-bfdcbcf587970ffde3a078d8a897925280f8d503560185a42d24d3b1df7a78b1910480ae29722a1e5bb8c01b7939d2a5efe8d4a1d8217ae3b3da119858769521\/kill returned error: Cannot kill container dev-vp2-bfdcbcf587970ffde3a078d8a897925280f8d503560185a42d24d3b1df7a78b1910480ae29722a1e5bb8c01b7939d2a5efe8d4a1d8217ae3b3da119858769521: No such container: dev-vp2-bfdcbcf587970ffde3a078d8a897925280f8d503560185a42d24d3b1df7a78b1910480ae29722a1e5bb8c01b7939d2a5efe8d4a1d8217ae3b3da119858769521\nERRO[3665] Handler for DELETE \/containers\/dev-vp2-bfdcbcf587970ffde3a078d8a897925280f8d503560185a42d24d3b1df7a78b1910480ae29722a1e5bb8c01b7939d2a5efe8d4a1d8217ae3b3da119858769521 returned error: No such container: dev-vp2-bfdcbcf587970ffde3a078d8a897925280f8d503560185a42d24d3b1df7a78b1910480ae29722a1e5bb8c01b7939d2a5efe8d4a1d8217ae3b3da119858769521\nERRO[3665] Handler for POST \/containers\/create returned error: No such image: dev-vp2-bfdcbcf587970ffde3a078d8a897925280f8d503560185a42d24d3b1df7a78b1910480ae29722a1e5bb8c01b7939d2a5efe8d4a1d8217ae3b3da119858769521:latest","ts":"1483545898.000798"},{"type":"message","user":"U36RKMPBQ","text":"somehow after the deploy transaction the Docker Images created for the Chaincode and the Docker Containers created out of these images don\u00b4t follow the expected naming","ts":"1483545944.000799"},{"type":"message","user":"U36RKMPBQ","text":"this seems to cause some problems","ts":"1483545950.000800"},{"type":"message","user":"U36RKMPBQ","text":"can you please confirm on how images supposed to be named and containers and why this problem might occur that the deploy transaction is not resulting with expected naming?","ts":"1483545991.000801"},{"type":"message","user":"U36RKMPBQ","text":"I also don\u00b4t find the chaincode within the Docker Containers created","ts":"1483547028.000802"},{"type":"message","user":"U36RKMPBQ","text":"# find . -name \"JavaCDD.java\"\n.\/chaincode\/src\/main\/java\/com\/ibm\/JavaCDD.java","ts":"1483547154.000803"},{"type":"message","user":"U36RKMPBQ","text":"sorry I have to correct myself the chaincode is there and is running ... so the only problem might be with the Image &amp; Container names?","ts":"1483547494.000804"},{"type":"message","user":"U36RKMPBQ","text":"\u001b[36mvp0_1  |\u001b[0m \u001b[31m16:36:12.319 [dockercontroller] deployImage -&gt; ERRO 1b74\u001b[0m Error building images: The command '\/bin\/sh -c cd \/root\/chaincode &amp;&amp; gradle -b build.gradle clean &amp;&amp; gradle -b build.gradle build' returned a non-zero code: 1\n\u001b[36mvp0_1  |\u001b[0m \u001b[31m16:36:12.319 [dockercontroller] deployImage -&gt; ERRO 1b75\u001b[0m Image Output:\n\u001b[36mvp0_1  |\u001b[0m ********************\n\u001b[36mvp0_1  |\u001b[0m Step 1 : FROM hyperledger\/fabric-javaenv:x86_64-0.6.1-preview\n\u001b[36mvp0_1  |\u001b[0m  ---&gt; a932c5e9f394\n\u001b[36mvp0_1  |\u001b[0m Step 2 : COPY src \/root\/chaincode\n\u001b[36mvp0_1  |\u001b[0m  ---&gt; Using cache\n\u001b[36mvp0_1  |\u001b[0m  ---&gt; f097196847ea\n\u001b[36mvp0_1  |\u001b[0m Step 3 : RUN cd \/root\/chaincode &amp;&amp; gradle -b build.gradle clean &amp;&amp; gradle -b build.gradle build\n\u001b[36mvp0_1  |\u001b[0m  ---&gt; Running in ea4b244ae39e\n\u001b[36mvp0_1  |\u001b[0m :clean\n\u001b[36mvp0_1  |\u001b[0m \n\u001b[36mvp0_1  |\u001b[0m BUILD SUCCESSFUL\n\u001b[36mvp0_1  |\u001b[0m \n\u001b[36mvp0_1  |\u001b[0m Total time: 20.141 secs\n\u001b[36mvp0_1  |\u001b[0m \n\u001b[36mvp0_1  |\u001b[0m This build could be faster, please consider using the Gradle Daemon: <https:\/\/docs.gradle.org\/2.12\/userguide\/gradle_daemon.html>\n\u001b[36mvp0_1  |\u001b[0m :compileJava\u001b[91m\/root\/chaincode\/src\/main\/java\/com\/ibm\/WeatherObservationResponse.java:3: error: package com.fasterxml.jackson.annotation does not exist\n\u001b[36mvp0_1  |\u001b[0m \u001b[0m\u001b[91mimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\u001b[36mvp0_1  |\u001b[0m \u001b[0m\u001b[91m                                       ^\n\u001b[36mvp0_1  |\u001b[0m \u001b[0m\u001b[91m\/root\/chaincode\/src\/main\/java\/com\/ibm\/WeatherObservationResponse.java:5: error: cannot find symbol\n\u001b[36mvp0_1  |\u001b[0m \u001b[0m\u001b[91m@JsonIgnoreProperties(ignoreUnknown = true)\n\u001b[36mvp0_1  |\u001b[0m \u001b[0m\u001b[91m ^\n\u001b[36mvp0_1  |\u001b[0m \u001b[0m\u001b[91m  symbol: class JsonIgnoreProperties\n\u001b[36mvp0_1  |\u001b[0m \u001b[0m\u001b[91m\/root\/chaincode\/src\/main\/java\/com\/ibm\/WeatherObservationResponse.java:21: error: cannot find symbol\n\u001b[36mvp0_1  |\u001b[0m \u001b[0m\u001b[91m@JsonIgnoreProperties(ignoreUnknown = true)\n\u001b[36mvp0_1  |\u001b[0m \u001b[0m\u001b[91m ^\n\u001b[36mvp0_1  |\u001b[0m \u001b[0m\u001b[91m  symbol: class JsonIgnoreProperties\n\u001b[36mvp0_1  |\u001b[0m \u001b[0m\u001b[91m3 errors\n\u001b[36mvp0_1  |\u001b[0m \u001b[0m FAILED\n\u001b[36mvp0_1  |\u001b[0m \u001b[91m\n\u001b[36mvp0_1  |\u001b[0m FAILURE: \u001b[0m\u001b[91mBuild failed with an exception.\n\u001b[36mvp0_1  |\u001b[0m \u001b[0m\u001b[91m\n\u001b[36mvp0_1  |\u001b[0m * What went wrong:\n\u001b[36mvp0_1  |\u001b[0m \u001b[0m\u001b[91mExecution failed for task ':compileJava'.\n\u001b[36mvp0_1  |\u001b[0m &gt; \u001b[0m\u001b[91mCompilation failed; see the compiler error output for details.\n\u001b[36mvp0_1  |\u001b[0m \n\u001b[36mvp0_1  |\u001b[0m \u001b[0m\u001b[91m* Try:\n\u001b[36mvp0_1  |\u001b[0m Run with \u001b[0m\u001b[91m--stacktrace option to get the stack trace. Run with \u001b[0m\u001b[91m--info or \u001b[0m\u001b[91m--debug option to get more log output.\n\u001b[36mvp0_1  |\u001b[0m \u001b[0m\n\u001b[36mvp0_1  |\u001b[0m BUILD FAILED\n\u001b[36mvp0_1  |\u001b[0m \n\u001b[36mvp0_1  |\u001b[0m Total time: 8 mins 47.535 secs\n\u001b[36mvp0_1  |\u001b[0m \n\u001b[36mvp0_1  |\u001b[0m ********************","ts":"1483549344.000805"},{"type":"message","user":"U0N4D2T61","text":"humm","ts":"1483549416.000806"},{"type":"message","user":"U0N4D2T61","text":"i smells a missing dep declaration on gradle","ts":"1483549427.000807"},{"type":"message","user":"U0N4D2T61","text":"check that this lib is declared :  com.fasterxml.jackson","ts":"1483549448.000808"},{"type":"message","user":"U0N4D2T61","text":"on the build.gradle","ts":"1483549463.000809"},{"type":"message","user":"U36RKMPBQ","text":"dependencies {\n    compile 'io.grpc:grpc-all:0.13.2'\n    compile 'commons-cli:commons-cli:1.3.1'\n    compile 'org.hyperledger:shim-client:1.0'\n    compile 'com.fasterxml.jackson.core:jackson-databind:2.8.3'\n    compile 'org.apache.commons:commons-lang3:3.5'\n    testCompile 'org.mockito:mockito-core:2.1.0'\n    testCompile 'junit:junit:4.12'\n        }","ts":"1483549506.000810"},{"type":"message","user":"U0N4D2T61","text":"compile 'com.fasterxml.jackson.core:jackson-databind:2.8.3'","ts":"1483549507.000811"},{"type":"message","user":"U36RKMPBQ","text":"its the copy of the Github one","ts":"1483549521.000812"},{"type":"message","user":"U36RKMPBQ","text":"no changes","ts":"1483549523.000813"},{"type":"message","user":"U0N4D2T61","text":"yep","ts":"1483549545.000814"},{"type":"message","user":"U0N4D2T61","text":"is on symbol @ ?","ts":"1483549554.000815"},{"type":"message","user":"U0N4D2T61","text":"[36mvp0_1  |\u001b[0m \u001b[0m\u001b[91m@JsonIgnoreProperties(ignoreUnknown = true)\n\u001b[36mvp0_1  |\u001b[0m \u001b[0m\u001b[91m ^","ts":"1483549562.000816"},{"type":"message","user":"U0N4D2T61","text":"weird","ts":"1483549564.000817"},{"type":"message","user":"U0N4D2T61","text":"\u001b[36mvp0_1  |\u001b[0m :compileJava\u001b[91m\/root\/chaincode\/src\/main\/java\/com\/ibm\/WeatherObservationResponse.java:3: error: package com.fasterxml.jackson.annotation does not exist","ts":"1483549586.000818"},{"type":"message","user":"U0N4D2T61","text":"well is clear , no ?","ts":"1483549592.000819"},{"type":"message","user":"U0N4D2T61","text":"if you had this ?","ts":"1483549672.000820"},{"type":"message","user":"U0N4D2T61","text":"compile group: 'com.fasterxml.jackson.core', name: 'jackson-annotations', version: \u20182.8.3'","ts":"1483549682.000821"},{"type":"message","user":"U0N4D2T61","text":"*add","ts":"1483549685.000822"},{"type":"message","user":"U0N4D2T61","text":"give it a try","ts":"1483549691.000823"},{"type":"message","user":"U36RKMPBQ","text":"ok","ts":"1483549701.000824"},{"type":"message","user":"U36RKMPBQ","text":"let me check","ts":"1483549703.000825"},{"type":"message","user":"U0N4D2T61","text":"i have to go, i hope it will be ok","ts":"1483549738.000826"},{"type":"message","user":"U0N4D2T61","text":";o)","ts":"1483549740.000827"},{"type":"message","user":"U36RKMPBQ","text":"ok, thanks","ts":"1483549815.000828"},{"type":"message","user":"U36RKMPBQ","text":"will let you know :slightly_smiling_face:","ts":"1483549822.000829"},{"type":"message","user":"U36RKMPBQ","text":"have a nice evening!","ts":"1483549826.000830"},{"type":"message","user":"U36RKMPBQ","text":"ERRO[0749] Handler for POST \/containers\/dev-vp1-eabe51054126401021124636e5439e48c82b677df501114333309db65426c47e35953c9204a3ab7c3661c468ced1ce086f6f470c9f8e5c47e5d5da5ef591360b\/stop returned error: No such container: dev-vp1-eabe51054126401021124636e5439e48c82b677df501114333309db65426c47e35953c9204a3ab7c3661c468ced1ce086f6f470c9f8e5c47e5d5da5ef591360b\nERRO[0749] Handler for POST \/containers\/dev-vp1-eabe51054126401021124636e5439e48c82b677df501114333309db65426c47e35953c9204a3ab7c3661c468ced1ce086f6f470c9f8e5c47e5d5da5ef591360b\/kill returned error: Cannot kill container dev-vp1-","ts":"1483550519.000831"},{"type":"message","user":"U36RKMPBQ","text":"I still don\u00b4t get it, please let me know what should be the name of images and containers that are created for the Java Chaincode after the deploy transaction?","ts":"1483550544.000832"},{"type":"message","user":"U0KM61BCP","text":"so, fabric CI seems to be broken","ts":"1483556268.000833"},{"type":"message","user":"U0ZJZBJLF","text":"Do you mean the chaincode tests or the I\/O\/routing issues ? <@U0KM61BCP>","edited":{"user":"U0ZJZBJLF","ts":"1483557482.000000"},"ts":"1483557460.000834"},{"type":"message","user":"U0UHG4VP1","text":"cbf: the slowdown due to routing should be fixed. The slowdown due to I\/O is getting better very quickly","ts":"1483560380.000836"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> seems that the tests that <@U0ULK2JPP> added for concurrent chaincode pushed it close to the 20 min limit","ts":"1483568025.000837"},{"type":"message","user":"U0KM61BCP","text":"I ran a few times locally and skipping the new test passes consistently where with it included it fails","ts":"1483568057.000838"},{"type":"message","user":"U0KM61BCP","text":"I'm going to submit a CS that skips the test unless a variable is set","ts":"1483568089.000839","reactions":[{"name":"+1","users":["U0ZJZBJLF","U1HFNJB50","U0UHG4VP1"],"count":3}]},{"type":"message","user":"U0UHG4VP1","text":"ok","ts":"1483568142.000840"},{"user":"U35EMQWK1","text":"<@U35EMQWK1|jojocheung> has joined the channel","type":"message","subtype":"channel_join","ts":"1483599216.000841"},{"type":"message","user":"U36RKMPBQ","text":"Hello Gents, many thanks for all the feedback, can you please explain the issue a bit so I have a better understanding? Thanks :slightly_smiling_face:","ts":"1483605474.000842"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KM61BCP> seems CI is working better today (at least 2 CI that timed out for me yesterday passed).  The chaincode tests should take around 10-12 mins. Still too long but shouldn\u2019t timeout on 20m. I\u2019m going to refactor them into smaller test packages as a start (multichain_tests, concurrency_tests) and so on to at least reduce the time-per-UT","ts":"1483612556.000843","reactions":[{"name":"crown","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U0ULK2JPP","text":"should also Skip some tests from the main (slight variations that don\u2019t help a lot)","ts":"1483612649.000844"},{"type":"message","user":"U0ULK2JPP","text":"will try to take of this weekend","ts":"1483612674.000845"},{"type":"message","user":"U0KM61BCP","text":"ok, I will hold off then","ts":"1483621433.000846","reactions":[{"name":"+1","users":["U0ULK2JPP"],"count":1}]},{"type":"message","user":"U11MANG9G","text":"","attachments":[{"fallback":"[January 5th, 2017 6:11 AM] greg_not_so: what's the best place to clone v1.0?","ts":"1483625483.002727","author_subname":"greg_not_so","channel_id":"C0J02NU1E","channel_name":"general","is_msg_unfurl":true,"text":"what's the best place to clone v1.0?","author_name":"greg misiorek","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/greg_not_so","author_icon":"https:\/\/secure.gravatar.com\/avatar\/b0ec2bec47ee5cf89b65b96c735b12e8.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0009-48.png","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/general\/p1483625483002727","is_share":true,"footer":"Posted in #general"}],"ts":"1483625601.000847"},{"type":"message","user":"U11MANG9G","text":"<@U18T2HJRM>: the `master` branch.","ts":"1483625620.000848"},{"user":"U18T2HJRM","inviter":"U11MANG9G","text":"<@U18T2HJRM|greg_not_so> has joined the channel","type":"message","subtype":"channel_join","ts":"1483625629.000849"},{"type":"message","user":"U18T2HJRM","text":"<@U11MANG9G> i meant into my windows go directory","ts":"1483626169.000850"},{"type":"message","user":"U0UGH3X7X","text":"<@U18T2HJRM> , use $GOPATH\/src   ... full path is $GOPATH\/src\/github.com\/hyperledger\/fabric","ts":"1483626951.000851"},{"user":"U2N8F32KZ","text":"<@U2N8F32KZ|goms143> has joined the channel","type":"message","subtype":"channel_join","ts":"1483627156.000852"},{"type":"message","user":"U18T2HJRM","text":"<@U0UGH3X7X> is this good for v1.0 or for v0.6 only?","ts":"1483627234.000853"},{"type":"message","user":"U0UGH3X7X","text":"for both ...  after that you're just switching btw github branches","ts":"1483627773.000854"},{"user":"U3NCZ14DV","text":"<@U3NCZ14DV|conorfennell> has joined the channel","type":"message","subtype":"channel_join","ts":"1483631161.000855"},{"user":"U1WMX1P71","text":"<@U1WMX1P71|ramykamel> has joined the channel","type":"message","subtype":"channel_join","ts":"1483646531.000856"},{"user":"U3294UFT6","text":"<@U3294UFT6|eetti> has joined the channel","type":"message","subtype":"channel_join","ts":"1483646817.000857"},{"type":"message","user":"U2KJV3309","text":"Hi there. I'm having some issues related to the HFC install using NPM. Following the documentation, the command \"npm install hfc\", generates an error saying it doesn't support the version of node, and to update it. I've updated my node to the most recent version, and the error still remains. Is there a solution to this? (Aside from going back many versions in nodes.)?","ts":"1483646922.000858"},{"type":"message","user":"U1AJV5S2G","text":"fixtures_orderer_1 exited with code 137","ts":"1483647560.000861"},{"type":"message","user":"U1AJV5S2G","text":"Has anyone seen this message? What does it mean?","ts":"1483647568.000862"},{"type":"message","user":"U0KPFAZNF","text":"<@U2KJV3309>: try using node v6.x","ts":"1483651341.000863"},{"type":"message","user":"U0KPFAZNF","text":"I think the message is deceiving ","ts":"1483651363.000864"},{"type":"message","user":"U36HLH8SC","text":"<@U2KJV3309>  as per document the version should be  minimum of npm version 2.11.3 and node.js version 0.12.7","ts":"1483669469.000865"},{"type":"message","user":"U2N8F32KZ","text":"is it possible to change jim password in membersrvc.yaml file and make it as a new image ?","ts":"1483678966.000866"},{"user":"U34T14JJH","text":"<@U34T14JJH|subaru365> has joined the channel","type":"message","subtype":"channel_join","ts":"1483684739.000867"},{"type":"message","user":"U0N4D2T61","text":"<@U2N8F32KZ> you can do a new image if you have the source code, just run \u201cmake images\u201d on the root of the project. Otherwise, you can register a new user using the sdk or HTTP API","ts":"1483698878.000868"},{"type":"message","user":"U2N8F32KZ","text":"<@U0N4D2T61>  thanks but i have rebuilt my image using dockerfile and its working nw","ts":"1483698976.000869"},{"type":"message","user":"U2KJV3309","text":"Thank you for your quick responses!","ts":"1483707969.000870"},{"type":"message","user":"U0KPFAZNF","text":"To whomever it was that was driving the ansible changes to baseimage: apologies, I cannot remember who it was nor can I find the CR to review.","ts":"1483709807.000871"},{"type":"message","user":"U0KPFAZNF","text":"<@U2TD4Q7NW> Ah, google to the rescue: <https:\/\/github.com\/jkilpatr\/fabric-baseimage-2.0>","attachments":[{"service_name":"GitHub","title":"jkilpatr\/fabric-baseimage-2.0","title_link":"https:\/\/github.com\/jkilpatr\/fabric-baseimage-2.0","text":"fabric-baseimage-2.0 - An Ansible based build process for Fabric base image with platform agnostic design","fallback":"GitHub: jkilpatr\/fabric-baseimage-2.0","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/19688153?v=3&s=400","from_url":"https:\/\/github.com\/jkilpatr\/fabric-baseimage-2.0","thumb_width":327,"thumb_height":327,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1483710109.000872"},{"type":"message","user":"U0KPFAZNF","text":"(Sorry Justin, busy holidays)","ts":"1483710126.000874"},{"user":"U3MB5BH42","text":"<@U3MB5BH42|fbenhamo> has joined the channel","type":"message","subtype":"channel_join","ts":"1483730545.000875"},{"user":"U3NKCCTHR","text":"<@U3NKCCTHR|bartek> has joined the channel","type":"message","subtype":"channel_join","ts":"1483883092.000876"},{"type":"message","user":"U36HLH8SC","text":"Hi all, have deployed sample chain code02 and able to interact with it from CLI but would like to interact with chaincode through rest API using post ( invoke ) and get ( query ) methods, so how can i expose it can you share any references, am planning to expose services using node JS\nam referring <https:\/\/github.com\/hyperledger\/fabric\/blob\/v0.6\/examples\/sdk\/node\/app.js>  but this js doesn't have any services exposed from it","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/v0.6\/examples\/sdk\/node\/app.js","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/v0.6\/examples\/sdk\/node\/app.js","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1483893694.000877"},{"type":"message","user":"U31TA64TT","text":"We're going to use production mode on v0.6, is there any standard hardware requirement or guideline to help estimate the performance? Thank you in advance for any answers.","edited":{"user":"U31TA64TT","ts":"1483933459.000000"},"ts":"1483932641.000879"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0KPFAZNF> hi and Happy New Year","ts":"1483978459.000881"},{"type":"message","user":"U0KPFAZNF","text":"<@U0P2GSA8Z> likewise!","ts":"1483978476.000882"},{"type":"message","user":"U0P2GSA8Z","text":"looking at the different repos I see that several new repos are missing the list of maintainers","ts":"1483978483.000883"},{"type":"message","user":"U0P2GSA8Z","text":"I assume busybox, cop, and baseimage should have the same list as fabric","ts":"1483978506.000884"},{"type":"message","user":"U0KPFAZNF","text":"<@U0P2GSA8Z> yes, i think the intention was that those inherit fabric, but you raise a valid point","ts":"1483978547.000885"},{"type":"message","user":"U0P2GSA8Z","text":"of course busybox isn't even populated yet so that one is somewhat different","ts":"1483978557.000886"},{"type":"message","user":"U0KPFAZNF","text":"if it will always track 1:1, should probably have a note in each that refers back to fabric.git","ts":"1483978565.000887"},{"type":"message","user":"U0KPFAZNF","text":"and if its not expected to be 1:1, should have local list","ts":"1483978578.000888"},{"type":"message","user":"U0P2GSA8Z","text":"yes, that's what I was thinking, we could just have a pointer","ts":"1483978585.000889"},{"type":"message","user":"U0P2GSA8Z","text":"the one I don't know is sdk-node","ts":"1483978597.000890"},{"type":"message","user":"U0KPFAZNF","text":"im guessing the potential is high for maintainers to be added to subprojects but not the top-level","ts":"1483978613.000891"},{"type":"message","user":"U0KPFAZNF","text":"so maybe maintainers.md has a pointer that says \"all the fabric maintainers + xyz\"","ts":"1483978639.000892"},{"type":"message","user":"U0P2GSA8Z","text":"ah, that's an idea","ts":"1483978651.000893"},{"type":"message","user":"U0P2GSA8Z","text":"but I wonder whether this is accurately reflected in gerrit","ts":"1483978681.000894"},{"type":"message","user":"U0KPFAZNF","text":"i think permissions wise, it is","ts":"1483978703.000895"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> ?","ts":"1483978708.000896"},{"type":"message","user":"U0KPFAZNF","text":"my understanding is Ry has some kind of LDAP-like control and in there, there is an established relationship between fabric.git and the subprojects","ts":"1483978746.000897"},{"type":"message","user":"U0KPFAZNF","text":"<@U0P2GSA8Z> btw: first CR against busybox.git <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3761\/>","ts":"1483978776.000898"},{"type":"message","user":"U0KPFAZNF","text":"so, hopefully populated soon","ts":"1483978788.000899"},{"type":"message","user":"U0KPFAZNF","text":"(though not in the manner you are highlighting)","ts":"1483978797.000900"},{"type":"message","user":"U0P2GSA8Z","text":"I'm looking at what's missing to exit fabric from incubation","ts":"1483978918.000901"},{"type":"message","user":"U0P2GSA8Z","text":"one requirement is to have the list of maintainers documented","ts":"1483978930.000902"},{"type":"message","user":"U0P2GSA8Z","text":"so we need to fill in the gap","ts":"1483978936.000903"},{"type":"message","user":"U0P2GSA8Z","text":"I'm happy to submit patches but we need to agree on who should be listed for each repo :slightly_smiling_face:","ts":"1483978957.000904"},{"type":"message","user":"U0P2GSA8Z","text":"unless everybody agrees with me deciding :wink:","ts":"1483978969.000905"},{"type":"message","user":"U0KPFAZNF","text":"Im fine with that, would suggest starting with <@U0UHG4VP1>'s definitions in LDAP","ts":"1483981658.000906"},{"type":"message","user":"U0KPFAZNF","text":"and we can discuss and reconcile the list","ts":"1483981671.000907"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> let me get a list together","ts":"1483986793.000908"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> <@U0P2GSA8Z> projects using the Fabric maintainer list (hyperledger-gerrit-fabric-committers): fabric fabric-baseimage fabric-busybox fabric-cop fabric-sdk-node","ts":"1483987127.000909"},{"type":"message","user":"U0UHG4VP1","text":"hyperledger-gerrit-fabric-api-committers: fabric-api hyperledger-gerrit-fabric-sdk-java-committers: fabric-sdk-java hyperledger-gerrit-fabric-sdk-py-committers: fabric-sdk-py hyperledger-gerrit-fabric-test-resources-committers: fabric-test-resources","ts":"1483987226.000910"},{"type":"message","user":"U0UHG4VP1","text":"if you need lists of the members of those LDAP groups I can provide those directly","ts":"1483987247.000911"},{"type":"message","user":"U0KPFAZNF","text":"thanks <@U0UHG4VP1>.  On a related note, we can probably collapse fabric-test-resources into fabric","ts":"1483987602.000912"},{"type":"message","user":"U0KPFAZNF","text":"i mean, maintainer list wise","ts":"1483987612.000913"},{"type":"message","user":"U0KPFAZNF","text":"not the repo itself","ts":"1483987617.000914"},{"type":"message","user":"U0KPFAZNF","text":"(if everyone agrees, of course)","ts":"1483987629.000915"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins: right now it's a subset of fabric, probably due to inattention (if the lists were supposed to be the same)","ts":"1483987877.000916"},{"type":"message","user":"U0KPFAZNF","text":"thats my guess","ts":"1483987888.000917"},{"type":"message","user":"U0P2GSA8Z","text":"But I assume you have to list all the names anyway, right? There is no reference mechanism. ","ts":"1483987953.000918"},{"type":"message","user":"U0P2GSA8Z","text":"I mean for each project you have to have a flat list","ts":"1483988129.000919"},{"type":"message","user":"U0P2GSA8Z","text":"You can't refer to another list","ts":"1483988146.000920"},{"type":"message","user":"U0UHG4VP1","text":"for the projects in the Fabric list, they literally use the same LDAP group. if that's what you're asking","ts":"1483988254.000921"},{"type":"message","user":"U0P2GSA8Z","text":"Ah, all right then","ts":"1483988283.000922"},{"type":"message","user":"U0P2GSA8Z","text":"That makes it easier actually :-)","ts":"1483988297.000923"},{"type":"message","user":"U0UHG4VP1","text":"one difficulty is people use different usernames and emails in gerrit than they use in maintainers.md. I'm not sure if people expect that to be private","ts":"1483988325.000924"},{"type":"message","user":"U0P2GSA8Z","text":"That was what I was asking. Thanks","ts":"1483988336.000925"},{"type":"message","user":"U0P2GSA8Z","text":"Yeah, that's a bit of a problem","ts":"1483988370.000926"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3P74LDNY\/hyperledger-gerrit-fabric-test-resources-committers_members.txt|hyperledger-gerrit-fabric-test-resources-committers members>","file":{"id":"F3P74LDNY","created":1483988364,"timestamp":1483988364,"name":"hyperledger-gerrit-fabric-test-resources-committers_members.txt","title":"hyperledger-gerrit-fabric-test-resources-committers members","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":278,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3P74LDNY\/hyperledger-gerrit-fabric-test-resources-committers_members.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3P74LDNY\/download\/hyperledger-gerrit-fabric-test-resources-committers_members.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3P74LDNY\/hyperledger-gerrit-fabric-test-resources-committers_members.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3P74LDNY-818e2ad263","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3P74LDNY\/hyperledger-gerrit-fabric-test-resources-committers_members.txt\/edit","preview":"USERNAME,FIRST NAME,LAST NAME\r\nbinhn,Binh,Nguyen\r\nChristopherFerris,Christopher,Ferris\r\ngreg.haskins,Greg,Haskins\r\nhgabre,Gabor,Hosszu\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>USERNAME,FIRST NAME,LAST NAME<\/pre><\/div>\n<div><pre>binhn,Binh,Nguyen<\/pre><\/div>\n<div><pre>ChristopherFerris,Christopher,Ferris<\/pre><\/div>\n<div><pre>greg.haskins,Greg,Haskins<\/pre><\/div>\n<div><pre>hgabre,Gabor,Hosszu<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":11,"lines_more":6,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1483988372.000927"},{"type":"message","user":"U0P2GSA8Z","text":"Not so good for transparency","ts":"1483988386.000928"},{"type":"message","user":"U0P2GSA8Z","text":"It was easier when all we had was github ids","ts":"1483988409.000929"},{"type":"message","user":"U0UHG4VP1","text":"since it also makes my life harder, I would like it not to be the case","ts":"1483988415.000930"},{"type":"message","user":"U0P2GSA8Z","text":"But then we added slack ids","ts":"1483988419.000931"},{"type":"message","user":"U0P2GSA8Z","text":"And then LF ids","ts":"1483988434.000932"},{"type":"message","user":"U0P2GSA8Z","text":"And the list goes on","ts":"1483988441.000933"},{"user":"U3LU3AQM8","text":"<@U3LU3AQM8|sukrit> has joined the channel","type":"message","subtype":"channel_join","ts":"1484001221.000934"},{"user":"U3DKG7M54","text":"<@U3DKG7M54|rahulhegde> has joined the channel","type":"message","subtype":"channel_join","ts":"1484010631.000935"},{"type":"message","user":"U0Z41KY5V","text":"suggest we at least keep some searchable info (gerrit id\/email) at the maintainer.txt, this is helpful when people wanna find who is the developer of the projects, and especially to invite as reviewers.","ts":"1484028881.000936"},{"user":"U3NRVFPAM","text":"<@U3NRVFPAM|egeek> has joined the channel","type":"message","subtype":"channel_join","ts":"1484058589.000937"},{"type":"message","user":"U38JCNW5V","text":"why does fabric use year-old beta versions of grpc and protocol buffers?","ts":"1484060350.000938"},{"type":"message","user":"U0ZJZBJLF","text":"Can you ask that in <#C0YQ1NHGD|fabric-dev-env>  please, <@U38JCNW5V>  ?","ts":"1484060393.000939","reactions":[{"name":"+1","users":["U38JCNW5V"],"count":1}]},{"type":"message","user":"U0P2GSA8Z","text":"<@U0KPFAZNF> hi Greg, I'm confused about the status of the chaintool project","ts":"1484060631.000940"},{"type":"message","user":"U0P2GSA8Z","text":"why hasn't it been migrated to gerrit?","ts":"1484060663.000941"},{"type":"message","user":"U0KPFAZNF","text":"<@U0P2GSA8Z> its on my \"todo\" but the blocking issue is I need to solve how I will serve release artifacts","ts":"1484061302.000942"},{"type":"message","user":"U0KPFAZNF","text":"though, I probably can continue to use GH for this","ts":"1484061315.000943"},{"type":"message","user":"U0KPFAZNF","text":"i.e. I currently use this: <https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1484061357.000944"},{"type":"message","user":"U0KPFAZNF","text":"and I upload the binary such that users\/scripts may install the tool with a simple wget","ts":"1484061380.000946"},{"type":"message","user":"U0KPFAZNF","text":"hmm, i just looked at the tags interface on -baseimage, doesnt seem I have permissions to add artifacts","ts":"1484061450.000947"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric-baseimage\/releases\/tag\/v0.2.2>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-baseimage","title_link":"https:\/\/github.com\/hyperledger\/fabric-baseimage\/releases\/tag\/v0.2.2","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric-baseimage>","fallback":"GitHub: hyperledger\/fabric-baseimage","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-baseimage\/releases\/tag\/v0.2.2","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1484061454.000948"},{"type":"message","user":"U0KPFAZNF","text":"so, one solution would be: move to gerrit, set perms on GH mirror such that I can upload artifacts to GH\/releases, done","ts":"1484061486.000950"},{"type":"message","user":"U0KPFAZNF","text":"another solution would be to utilize some kind of repository that jenkins may populate (preferred)","ts":"1484061509.000951"},{"type":"message","user":"U0KPFAZNF","text":"but the ambiguity here is precisely why the project is not yet in gerrit, heh","ts":"1484061533.000952"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> any thoughts on ^^^","ts":"1484061558.000953"},{"type":"message","user":"U0KPFAZNF","text":"do we have the nexus server in a state where we might be able to push an arbitrary binary from jenkins and surface a download URL for users\/scripts ?","ts":"1484061598.000954"},{"type":"message","user":"U0KPFAZNF","text":"if so, thats probably the best option","ts":"1484061615.000955"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> for instance I have logshipping set up to nexus: <https:\/\/logs.hyperledger.org\/jobbuilder\/vex-yul-hyp-jenkins-2\/fabric-busybox-verify-x86_64\/1\/>","ts":"1484061651.000956"},{"type":"message","user":"U0UHG4VP1","text":"there is a message missing there. Yes, nexus is there, and jenkins can push artifacts.","ts":"1484061704.000957"},{"type":"message","user":"U0KPFAZNF","text":"im not clear on what logshipping is, but I get the gist of what you are saying","ts":"1484061730.000958"},{"type":"message","user":"U0UHG4VP1","text":"all of the build logs will be saved to nexus.","ts":"1484061758.000959"},{"type":"message","user":"U0UHG4VP1","text":"and that's working now. nexus is there and ready to use.","ts":"1484061774.000960"},{"type":"message","user":"U0KPFAZNF","text":"assuming nobody objects, should we start to stage a gerrit-based fabric-chaintool and we can play around with GH import + jenkins integration?","ts":"1484061784.000961"},{"type":"message","user":"U0KPFAZNF","text":"I can send another proposal email to give others a chance to chime in","ts":"1484061812.000962"},{"type":"message","user":"U0UHG4VP1","text":"probably a good idea","ts":"1484061836.000963"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1484061840.000964"},{"type":"message","user":"U0UHG4VP1","text":"What hostname would you prefer for artifacts?","ts":"1484061896.000965"},{"type":"message","user":"U0UHG4VP1","text":"hmm I think logs is just an nginx rule to expand text files. it looks like you can link via urls like <https:\/\/nexus.hyperledger.org\/content\/sites\/logs\/jobbuilder\/vex-yul-hyp-jenkins-2\/> ...","ts":"1484061985.000966"},{"type":"message","user":"U0KPFAZNF","text":"ultimately it doesnt matter too much, i guess","ts":"1484062606.000967"},{"type":"message","user":"U0KPFAZNF","text":"what I would care about is that at least for a given release (e.g. \"v0.10.0\" the URL is stable","ts":"1484062631.000968"},{"type":"message","user":"U0KPFAZNF","text":"ideally, its consistent over time (such that only the version number changes)","ts":"1484062654.000969"},{"type":"message","user":"U0KPFAZNF","text":"but even that is negotiable since the URL has to get updated at the consumer anyway","ts":"1484062675.000970"},{"type":"message","subtype":"file_share","text":"<@U0YNFB22X|satheesh> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/satheesh\/F3PHMR8N6\/peer_build_error.txt|peer build error>","file":{"id":"F3PHMR8N6","created":1484062727,"timestamp":1484062727,"name":"peer_build_error.txt","title":"peer build error","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0YNFB22X","editable":true,"size":342,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3PHMR8N6\/peer_build_error.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3PHMR8N6\/download\/peer_build_error.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/satheesh\/F3PHMR8N6\/peer_build_error.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3PHMR8N6-7f716cbb40","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/satheesh\/F3PHMR8N6\/peer_build_error.txt\/edit","preview":"core\/committer\/txvalidator\/validator.go:20:2: cannot find package \"context\" in any of:\r\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/vendor\/context (vendor tree)\r\n\t\/usr\/lib\/go-1.6\/src\/context (from $GOROOT)\r\n\t\/opt\/gopath\/src\/context (from $GOPATH)\r\nMakefile:170: recipe for target 'build\/bin\/peer' failed\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>core\/committer\/txvalidator\/validator.go:20:2: cannot find package &quot;context&quot; in any of:<\/pre><\/div>\n<div><pre>    \/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/vendor\/context (vendor tree)<\/pre><\/div>\n<div><pre>    \/usr\/lib\/go-1.6\/src\/context (from $GOROOT)<\/pre><\/div>\n<div><pre>    \/opt\/gopath\/src\/context (from $GOPATH)<\/pre><\/div>\n<div><pre>Makefile:170: recipe for target 'build\/bin\/peer' failed<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":6,"lines_more":1,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0YNFB22X","upload":true,"display_as_bot":false,"username":"<@U0YNFB22X|satheesh>","bot_id":null,"ts":"1484062727.000971"},{"type":"message","user":"U0YNFB22X","text":"I am getting the above error when building peer from master. Am I missing something ?","ts":"1484062772.000972"},{"type":"message","user":"U0KPFAZNF","text":"<@U0YNFB22X> not sure what the issue is: but when I have a similar question, I find it helpful to start by evaluating the history of the -merge job in question","ts":"1484062898.000973"},{"type":"message","user":"U0KPFAZNF","text":"e.g. <https:\/\/jenkins.hyperledger.org\/view\/fabric\/job\/fabric-merge-x86_64\/>","ts":"1484062903.000974"},{"type":"message","user":"U0KPFAZNF","text":"if the recent commits are blue, then its probably my environment\/patch as opposed to broken mainline","ts":"1484062926.000975"},{"type":"message","user":"U0KPFAZNF","text":"that doesnt mean there isnt a bug in mainline, of course, but its a data point","ts":"1484062942.000976"},{"type":"message","user":"U0YNFB22X","text":"Thanks <@U0KPFAZNF> The merge jenkins jobs are blue","ts":"1484062972.000977"},{"type":"message","user":"U0KPFAZNF","text":"in this case, I would guess there is indeed some kind of environment\/local-patch issue though, as that seems too fundamental to have made it past the -merge job otherwise","ts":"1484062981.000978"},{"type":"message","user":"U0KPFAZNF","text":"so, now the question is: what are you trying to do and how are you trying to do it?","ts":"1484063038.000979"},{"type":"message","user":"U0KPFAZNF","text":"is this pure HEAD, in vagrant, with \"make native\" for instance?","ts":"1484063052.000980"},{"type":"message","user":"U0KPFAZNF","text":"or are you doing something else?","ts":"1484063056.000981"},{"type":"message","user":"U0YNFB22X","text":"I am building locally on a ubuntu, pure HEAD from origin\/master","ts":"1484063141.000982"},{"type":"message","user":"U0YNFB22X","text":"make all","ts":"1484063149.000983"},{"type":"message","user":"U0KPFAZNF","text":"what sha?","ts":"1484063150.000984"},{"type":"message","user":"U0YNFB22X","text":"`894febfca0337b81a3769919a5941f104d4f5960`","ts":"1484063171.000985"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3NT84UJD\/-.xml|Untitled> and commented: run this please","file":{"id":"F3NT84UJD","created":1484063212,"timestamp":1484063212,"name":"-.xml","title":"Untitled","mimetype":"text\/plain","filetype":"xml","pretty_type":"XML","user":"U0KPFAZNF","editable":true,"size":45,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3NT84UJD\/-.xml?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3NT84UJD\/download\/-.xml?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3NT84UJD\/-.xml","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3NT84UJD-1f8a584144","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3NT84UJD\/-.xml\/edit","preview":"$ go version\r\ngo version go1.7.4 darwin\/amd64","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>$ go version<\/pre><\/div>\n<div><pre>go version go1.7.4 darwin\/amd64<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":2,"lines_more":0,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc3NSE88AU","created":1484063212,"timestamp":1484063212,"user":"U0KPFAZNF","is_intro":true,"comment":"run this please","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1484063214.000986"},{"type":"message","user":"U0KPFAZNF","text":"it looks like you are running v1.6, but I want to be sure","ts":"1484063232.000987"},{"type":"message","user":"U0YNFB22X","text":"aah yes","ts":"1484063268.000988"},{"type":"message","user":"U0YNFB22X","text":"`go version go1.6.2 linux\/amd64`","ts":"1484063278.000989"},{"type":"message","user":"U0KPFAZNF","text":"that is a problem:  not sure its causing _this_ problem, but you will break somewhere along the way if you dont get 1.7.x","ts":"1484063324.000990"},{"type":"message","user":"U0KPFAZNF","text":"i would suggest starting there","ts":"1484063331.000991"},{"type":"message","user":"U0YNFB22X","text":"Got it, I will update my go version. Many thanks","ts":"1484063355.000992"},{"type":"message","user":"U0KPFAZNF","text":"np","ts":"1484063358.000993"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0KPFAZNF> ok, I understand","ts":"1484063400.000994"},{"type":"message","user":"U0KPFAZNF","text":"fyi, you can still build docker images as an alternative","ts":"1484063403.000995"},{"type":"message","user":"U0KPFAZNF","text":"<@U0YNFB22X> \"make docker\", \"make unit-test\", etc, will still work","ts":"1484063428.000996"},{"type":"message","user":"U0KPFAZNF","text":"just not all\/native","ts":"1484063435.000997"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> wonder if we should add a check to the build","ts":"1484063480.000998"},{"type":"message","user":"U0KPFAZNF","text":"based on \"go version\", i mean","ts":"1484063491.000999"},{"type":"message","user":"U11MANG9G","text":"<@U0KPFAZNF>: I think so, yes.","ts":"1484064153.001000"},{"type":"message","user":"U11MANG9G","text":"We should have a config entry stating the required go version. (even major rev should do).","ts":"1484064195.001001"},{"type":"message","user":"U11MANG9G","text":"Especially as\/while we work with pre-built images\u2026 mixing them\/version would be a nightmare.","ts":"1484064231.001002"},{"type":"message","user":"U0P2GSA8Z","text":"I agree that would make sense if we depend on a specific version","ts":"1484064246.001003","reactions":[{"name":"+1","users":["U11MANG9G"],"count":1}]},{"type":"message","user":"U11MANG9G","text":"Yup &amp; if someone wants to build EVERYTHING from scratch, say with go1.8beta - they should be able to do so - but they need to explicitly change these configs.","ts":"1484064284.001004"},{"type":"message","user":"U0KPFAZNF","text":"to my knowledge, as it stands we require 1.7.x or greater","ts":"1484064285.001005"},{"type":"message","user":"U11MANG9G","text":"(so that we know they know)","ts":"1484064290.001006"},{"type":"message","user":"U11MANG9G","text":"Yup, 1.7.x","ts":"1484064303.001007"},{"type":"message","user":"U11MANG9G","text":"1.7.3 in most cases (I work with 1.7.4 and it\u2019s fine too\u2026)","ts":"1484064320.001008"},{"type":"message","user":"U11MANG9G","text":"Not that 1.7.4 is a better \u201csize\u201d or anything :wink:","ts":"1484064333.001009"},{"type":"message","user":"U0KPFAZNF","text":"do we need 1.7.3?","ts":"1484064335.001010"},{"type":"message","user":"U11MANG9G","text":"I think 1.7.x is fine.","ts":"1484064344.001011"},{"type":"message","user":"U0KPFAZNF","text":"or is 1.7.0 ok too?","ts":"1484064345.001012"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1484064347.001013"},{"type":"message","user":"U0KPFAZNF","text":"ill see if I can come up with an unobtrusive check for 1.7.x or greater","ts":"1484064364.001014"},{"type":"message","user":"U0KPFAZNF","text":"if for only to throw a nice clean msg rather than some esoteric fail","ts":"1484064391.001015"},{"type":"message","user":"U11MANG9G","text":"\u201cThe sooner we fail - the better\u201d :wink:","ts":"1484064429.001016"},{"type":"message","user":"U0P2GSA8Z","text":":slightly_smiling_face:","ts":"1484064444.001017"},{"type":"message","user":"U0UHG4VP1","text":"it will make the \"why doesn't this work?\" emails easier to puzzle out, for sure","ts":"1484064547.001018"},{"type":"message","user":"U11MANG9G","text":"Yup - to clarify my \u201cjoke\u201d above - the main problem is that these \u201cmixes\u201d are much harder to debug\/report\/detect, as they may occur at a much later step.","ts":"1484065145.001019"},{"type":"message","user":"U36HLH8SC","text":"hi all, when i try to deploy sample chain code02 from inside docker peer container, am getting \"cannot connect to Docker endpoint\" error\n\npeer       | 16:20:57.582 [container] lockContainer -&gt; DEBU 185f got container (dev-vp0-ee5b24a1f17c356dd5f6e37307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539) lock\npeer       | 16:20:57.583 [dockercontroller] deployImage -&gt; ERRO 1860 Error building images: cannot connect to Docker endpoint\npeer       | 16:20:57.583 [dockercontroller] deployImage -&gt; ERRO 1861 Image Output:\npeer       | ********************\npeer       |","ts":"1484065634.001020"},{"type":"message","subtype":"file_share","text":"<@U36HLH8SC|madhava> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3PJMNACA\/-.txt|Untitled>","file":{"id":"F3PJMNACA","created":1484065965,"timestamp":1484065965,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U36HLH8SC","editable":true,"size":3942,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3PJMNACA\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3PJMNACA\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3PJMNACA\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3PJMNACA-44de1d8835","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3PJMNACA\/-.txt\/edit","preview":"peer       | 16:30:37.619 [container] lockContainer -> DEBU 19be got container (dev-vp0-4ea4051e1702b1086da6aad02ac43cdf331050c9791c98356c0daff5c2516267367c3e75fca9c08f5474cc86f78e775726bd27b0d294cb218c2bb93a92aa9242) lock\r\npeer       | 16:30:37.620 [dockercontroller] deployImage -> ERRO 19bf Error building images: cannot connect to Docker endpoint\r\npeer       | 16:30:37.620 [dockercontroller] deployImage -> ERRO 19c0 Image Output:\r\npeer       | ********************\r\npeer       |\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>peer       | 16:30:37.619 [container] lockContainer -&gt; DEBU 19be got container (dev-vp0-4ea4051e1702b1086da6aad02ac43cdf331050c9791c98356c0daff5c2516267367c3e75fca9c08f5474cc86f78e775726bd27b0d294cb218c2bb93a92aa9242) lock<\/pre><\/div>\n<div><pre>peer       | 16:30:37.620 [dockercontroller] deployImage -&gt; ERRO 19bf Error building images: cannot connect to Docker endpoint<\/pre><\/div>\n<div><pre>peer       | 16:30:37.620 [dockercontroller] deployImage -&gt; ERRO 19c0 Image Output:<\/pre><\/div>\n<div><pre>peer       | ********************<\/pre><\/div>\n<div><pre>peer       |<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":22,"lines_more":17,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U36HLH8SC","upload":true,"display_as_bot":false,"username":"<@U36HLH8SC|madhava>","bot_id":null,"ts":"1484065967.001021"},{"type":"message","user":"U36HLH8SC","text":"this is the complete log from peer, could you please help on the error","ts":"1484066008.001022"},{"type":"message","user":"U0YJUECE8","text":"<@U36HLH8SC> are you running on v0.6 or v1.0 and, if you were using Docker compose to start your containers, could you paste in the contents of your Docker compose yaml file?    Likely causes are that Docker daemon is not running on your host or that the property in core.yaml on the Peer (which can be overridden by the CORE_VM_ENDPOINT environment variable) is not properly configured so that you can get to your Docker daemon from the container","ts":"1484075711.001025"},{"type":"message","user":"U3H9ZGLGG","text":"Hello. Does anyone know in fabric 0.6, how tcert and ecert are related?  for example, how the auditors know one tcert is owned by the ecert?","ts":"1484115431.001026"},{"type":"message","user":"U221LL03Z","text":"<@U3H9ZGLGG> : In TCert , there is an extension called enrollment id which is Subject name of ECERT.","ts":"1484139530.001027"},{"type":"message","user":"U36HLH8SC","text":"<@U0YJUECE8>, i tried with Docker images with Docker Compose and its working fine, thank you for your response","ts":"1484141711.001028","reactions":[{"name":"+1","users":["U0YJUECE8"],"count":1}]},{"type":"message","user":"U36HLH8SC","text":"Hi All, am running fabric with Docker containers also i deployed sample chain code by following below link","ts":"1484143181.001029"},{"type":"message","user":"U36HLH8SC","text":"<https:\/\/github.com\/IBM-Blockchain\/fabric-images#getting-started-and-using-docker-compose>","attachments":[{"service_name":"GitHub","title":"IBM-Blockchain\/fabric-images","title_link":"https:\/\/github.com\/IBM-Blockchain\/fabric-images#getting-started-and-using-docker-compose","text":"fabric-images - Docker images and Docker Compose files for running the Hyperledger fabric","fallback":"GitHub: IBM-Blockchain\/fabric-images","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/17178768?v=3&s=400","from_url":"https:\/\/github.com\/IBM-Blockchain\/fabric-images#getting-started-and-using-docker-compose","thumb_width":200,"thumb_height":200,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1484143182.001030"},{"type":"message","user":"U36HLH8SC","text":"through CLI as well as with postman am able to invoke and query chain code but would like to use HFC to interact with chain code and for this am referring the NodeJS SDK from example","ts":"1484143337.001032"},{"type":"message","subtype":"file_share","text":"<@U36HLH8SC|madhava> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3PCNV8TT\/-.txt|Untitled>","file":{"id":"F3PCNV8TT","created":1484143350,"timestamp":1484143350,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U36HLH8SC","editable":true,"size":5561,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3PCNV8TT\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3PCNV8TT\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3PCNV8TT\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3PCNV8TT-a4a98daa7a","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3PCNV8TT\/-.txt\/edit","preview":"\/*\r\n Copyright IBM Corp 2016 All Rights Reserved.\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>\/*<\/pre><\/div>\n<div><pre> Copyright IBM Corp 2016 All Rights Reserved.<\/pre><\/div>\n<div><pre> Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);<\/pre><\/div>\n<div><pre> you may not use this file except in compliance with the License.<\/pre><\/div>\n<div><pre> You may obtain a copy of the License at<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":160,"lines_more":155,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U36HLH8SC","upload":true,"display_as_bot":false,"username":"<@U36HLH8SC|madhava>","bot_id":null,"ts":"1484143350.001033"},{"type":"message","user":"U36HLH8SC","text":"would like to know how the values gets assigned to below variables \nvar PEER_ADDRESS         = process.env.CORE_PEER_ADDRESS;\nvar MEMBERSRVC_ADDRESS   = process.env.MEMBERSRVC_ADDRESS;","ts":"1484143429.001034"},{"type":"message","subtype":"file_share","text":"<@U36HLH8SC|madhava> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3Q3JB9EE\/single-peer-ca_yaml.yaml|single-peer-ca.yaml>","file":{"id":"F3Q3JB9EE","created":1484144713,"timestamp":1484144713,"name":"single-peer-ca_yaml.yaml","title":"single-peer-ca.yaml","mimetype":"text\/plain","filetype":"yaml","pretty_type":"YAML","user":"U36HLH8SC","editable":true,"size":640,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3Q3JB9EE\/single-peer-ca_yaml.yaml?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3Q3JB9EE\/download\/single-peer-ca_yaml.yaml?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3Q3JB9EE\/single-peer-ca_yaml.yaml","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3Q3JB9EE-cde7f3244d","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/madhava\/F3Q3JB9EE\/single-peer-ca_yaml.yaml\/edit","preview":"version: '2'\r\nservices:\r\n  baseimage:\r\n    build: .\/baseimage\r\n    image: hyperledger\/fabric-baseimage:latest\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-atom\">version<\/span><span class=\"cm-meta\">: <\/span><span class=\"cm-string\">'2'<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-atom\">services<\/span><span class=\"cm-meta\">:<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-atom\">  baseimage<\/span><span class=\"cm-meta\">:<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-atom\">    build<\/span><span class=\"cm-meta\">: <\/span>.\/baseimage<\/pre><\/div>\n<div><pre><span class=\"cm-atom\">    image<\/span><span class=\"cm-meta\">: <\/span>hyperledger\/fabric-baseimage<span class=\"cm-meta\">:<\/span>latest<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":28,"lines_more":23,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U36HLH8SC","upload":true,"display_as_bot":false,"username":"<@U36HLH8SC|madhava>","bot_id":null,"ts":"1484144714.001035"},{"type":"message","user":"U36HLH8SC","text":"this is current .yml file","ts":"1484144752.001036"},{"type":"message","subtype":"file_share","text":"<@U3H9ZGLGG|wjq> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/wjq\/F3PDVUNKT\/how_to_set_tls_enabled.yaml|how to set tls enabled> and commented: Hello, in fabric 0.6, I tried to use with tls enabled. \nBut I get \" connection error: desc = \"transport: x509: certificate signed by unknown authority\"; Reconnecting to {\"localhost:7054\" &lt;nil&gt;\" .Can anyone help me? how should I set the tls config?","file":{"id":"F3PDVUNKT","created":1484147998,"timestamp":1484147998,"name":"how_to_set_tls_enabled.yaml","title":"how to set tls enabled","mimetype":"text\/plain","filetype":"yaml","pretty_type":"YAML","user":"U3H9ZGLGG","editable":true,"size":489,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3PDVUNKT\/how_to_set_tls_enabled.yaml?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3PDVUNKT\/download\/how_to_set_tls_enabled.yaml?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/wjq\/F3PDVUNKT\/how_to_set_tls_enabled.yaml","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3PDVUNKT-58bedf58f7","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/wjq\/F3PDVUNKT\/how_to_set_tls_enabled.yaml\/edit","preview":"In membersrvc.yaml\r\nsecurity:\r\n    level: 256\r\n    hashAlgorithm: SHA3\r\n    serverhostoverride: OBC\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>In membersrvc.yaml<\/pre><\/div>\n<div><pre><span class=\"cm-atom\">security<\/span><span class=\"cm-meta\">:<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-atom\">    level<\/span><span class=\"cm-meta\">: <\/span><span class=\"cm-number\">256<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-atom\">    hashAlgorithm<\/span><span class=\"cm-meta\">: <\/span>SHA3<\/pre><\/div>\n<div><pre><span class=\"cm-atom\">    serverhostoverride<\/span><span class=\"cm-meta\">: <\/span>OBC<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":22,"lines_more":17,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc3Q6PGQ2Y","created":1484147998,"timestamp":1484147998,"user":"U3H9ZGLGG","is_intro":true,"comment":"Hello, in fabric 0.6, I tried to use with tls enabled. \nBut I get \" connection error: desc = \"transport: x509: certificate signed by unknown authority\"; Reconnecting to {\"localhost:7054\" &lt;nil&gt;\" .Can anyone help me? how should I set the tls config?","channel":""}},"user":"U3H9ZGLGG","upload":true,"display_as_bot":false,"username":"<@U3H9ZGLGG|wjq>","bot_id":null,"ts":"1484147999.001037"},{"type":"message","user":"U0XPR4NP4","text":"<https:\/\/jira.hyperledger.org\/browse\/FAB-1608> &lt;- this is a cleanup related item around our golang package structure, I've started on it, but as I realize how wide reaching this may be, wanted to try to publicize it a bit more in case anyone has some feedback or disagrees.  <@U0ULK2JPP> <@U0KN2SSKE> <@U0PB67X4K> <@U0XQ35CDD> <@U1KDAMDJ7>  <@U0UGH3X7X> <@U0ZR63HLK> <@U26T99AQ4> <@U1BC5A0F9> <@U0ZJZBJLF> <@U1KFCPFQA> (This list tries to hit some of the bigger category maintainers but is likely incomplete so please publicize to anyone you think might care).","ts":"1484163315.001038"},{"type":"message","user":"U0ULK2JPP","text":"<@U0XPR4NP4> this is a good thing to start\u2026 but non trivial for sure as you point out","ts":"1484163654.001039"},{"type":"message","user":"U0ULK2JPP","text":"we have layers  at a hight level something like util -&gt; ledger -&gt; gossip -&gt; [committer, endorser] -&gt; peer","ts":"1484163795.001040"},{"type":"message","user":"U0ULK2JPP","text":"as long as imports flow from top to bottom that would at least be \u201cclean\u201d in one sense","ts":"1484163829.001041"},{"type":"message","user":"U0ULK2JPP","text":"sometimes things like having to call system chaincode in the opposite direction gets in the way","ts":"1484163861.001042"},{"type":"message","user":"U0ZJZBJLF","text":"util?","ts":"1484163892.001043"},{"type":"message","user":"U0ULK2JPP","text":"proto\/utils","ts":"1484163906.001044"},{"type":"message","user":"U0ZJZBJLF","text":"proto\/utils references the ledger? how?","ts":"1484163926.001045"},{"type":"message","user":"U0ZJZBJLF","text":"singleton?","ts":"1484163930.001046"},{"type":"message","user":"U0ULK2JPP","text":"-&gt; is not \u201creferencing\u201d \u2026.","ts":"1484163950.001047"},{"type":"message","user":"U0ZJZBJLF","text":"oh","ts":"1484163953.001048"},{"type":"message","user":"U0ULK2JPP","text":"let me redraw a bit","ts":"1484163960.001049"},{"type":"message","user":"U0ULK2JPP","text":"meant to indicate \u201cstack\"","ts":"1484163973.001050"},{"type":"message","user":"U0ZJZBJLF","text":"so it's the other way around?","edited":{"user":"U0ZJZBJLF","ts":"1484164001.000000"},"ts":"1484163985.001051"},{"type":"message","user":"U0ULK2JPP","text":"util \/ ledger \/ gossip \/ [committer, endorser] \/ peer","ts":"1484163991.001052"},{"type":"message","user":"U0ULK2JPP","text":"well","ts":"1484163993.001053"},{"type":"message","user":"U0XQ35CDD","text":"I left a comment along these lines on the issue.","ts":"1484164001.001054"},{"type":"message","user":"U0ULK2JPP","text":"except peer can call both ledger and util","ts":"1484164003.001056"},{"type":"message","user":"U0XQ35CDD","text":"The rules on `protos` means that the `utils` package will need to be moved out of it, which is the right move semantically IMO.","ts":"1484164031.001057"},{"type":"message","user":"U0ULK2JPP","text":"right","ts":"1484164051.001058"},{"type":"message","user":"U0XQ35CDD","text":"That `utils` package becoming a kitchen-sink is already starting to cause a few import cycle issues, e.g. <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3869\/1\/orderer\/common\/filter\/filter_test.go@123>","ts":"1484164058.001059"},{"type":"message","user":"U0ULK2JPP","text":"which is why I started with \u201cutil\"","ts":"1484164065.001060"},{"type":"message","user":"U0ULK2JPP","text":"but there are two issues IMO","ts":"1484164074.001061"},{"type":"message","user":"U0ULK2JPP","text":"1) layering (which is what I tried to indicate above) and (2) using interfaces, factories and providers to really bring out the layering and interactions","ts":"1484164144.001062","reactions":[{"name":"+1","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U0ULK2JPP","text":"not sure how much we want to go after \u2026 sounds to me (1) is what we are starting off with ?","ts":"1484164179.001063"},{"type":"message","user":"U0ULK2JPP","text":"I think just making sure we take care of minimizing upstack imports in the layers will be a great first step","ts":"1484165006.001064","reactions":[{"name":"+1","users":["U0UGH3X7X"],"count":1}]},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3PN2G9A5\/-.sh|Untitled> and commented: Anyone have a working example of a devmode deployment on master?  I get this error.","file":{"id":"F3PN2G9A5","created":1484178455,"timestamp":1484178455,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0KPFAZNF","editable":true,"size":4006,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3PN2G9A5\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3PN2G9A5\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3PN2G9A5\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3PN2G9A5-718837f9d0","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3PN2G9A5\/-.sh\/edit","preview":"$ CORE_CHAINCODE_MODE=dev peer chaincode deploy -n mycc -c '{\"Args\":[\"init\",\"a\",\"100\",\"b\",\"200\"]}'\r\n2017-01-11 23:44:47.154 UTC [msp] getPemMaterialFromDir -> INFO 001 Reading directory msp\/sampleconfig\/cacerts\r\n2017-01-11 23:44:47.194 UTC [msp] getPemMaterialFromDir -> INFO 002 Inspecting file msp\/sampleconfig\/cacerts\/cacert.pem\r\n2017-01-11 23:44:47.196 UTC [msp] getPemMaterialFromDir -> INFO 003 Reading directory msp\/sampleconfig\/signcerts\r\n2017-01-11 23:44:47.199 UTC [msp] getPemMaterialFromDir -> INFO 004 Inspecting file msp\/sampleconfig\/signcerts\/peer.pem\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-def\">$ CORE_CHAINCODE_MODE<\/span><span class=\"cm-operator\">=<\/span>dev peer chaincode deploy <span class=\"cm-attribute\">-n<\/span> mycc <span class=\"cm-attribute\">-c<\/span> <span class=\"cm-string\">'{&quot;Args&quot;:[&quot;init&quot;,&quot;a&quot;,&quot;100&quot;,&quot;b&quot;,&quot;200&quot;]}'<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-number\">2017<\/span><span class=\"cm-attribute\">-01<\/span><span class=\"cm-attribute\">-11<\/span> <span class=\"cm-number\">23<\/span>:44:47.154 UTC [msp] getPemMaterialFromDir <span class=\"cm-attribute\">-<\/span>&gt; INFO <span class=\"cm-number\">001<\/span> Reading directory msp\/sampleconfig\/cacerts<\/pre><\/div>\n<div><pre><span class=\"cm-number\">2017<\/span><span class=\"cm-attribute\">-01<\/span><span class=\"cm-attribute\">-11<\/span> <span class=\"cm-number\">23<\/span>:44:47.194 UTC [msp] getPemMaterialFromDir <span class=\"cm-attribute\">-<\/span>&gt; INFO <span class=\"cm-number\">002<\/span> Inspecting file msp\/sampleconfig\/cacerts\/cacert.pem<\/pre><\/div>\n<div><pre><span class=\"cm-number\">2017<\/span><span class=\"cm-attribute\">-01<\/span><span class=\"cm-attribute\">-11<\/span> <span class=\"cm-number\">23<\/span>:44:47.196 UTC [msp] getPemMaterialFromDir <span class=\"cm-attribute\">-<\/span>&gt; INFO <span class=\"cm-number\">003<\/span> Reading directory msp\/sampleconfig\/signcerts<\/pre><\/div>\n<div><pre><span class=\"cm-number\">2017<\/span><span class=\"cm-attribute\">-01<\/span><span class=\"cm-attribute\">-11<\/span> <span class=\"cm-number\">23<\/span>:44:47.199 UTC [msp] getPemMaterialFromDir <span class=\"cm-attribute\">-<\/span>&gt; INFO <span class=\"cm-number\">004<\/span> Inspecting file msp\/sampleconfig\/signcerts\/peer.pem<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":43,"lines_more":38,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc3R362K4N","created":1484178455,"timestamp":1484178455,"user":"U0KPFAZNF","is_intro":true,"comment":"Anyone have a working example of a devmode deployment on master?  I get this error.","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1484178455.001065"},{"type":"message","user":"U0KPFAZNF","text":"I got past this problem by using \"CORE_CHAINCODE_ID_NAME=mycc:0\/**TEST_CHAINID**\"","ts":"1484191847.001066"},{"type":"message","user":"U0KPFAZNF","text":"however, I dont think that is the only problem, as I cant invoke transactions against this instance","ts":"1484191866.001067"},{"type":"message","user":"U0KPFAZNF","text":"(I can deploy, but I cant invoke)","ts":"1484191873.001068"},{"type":"message","user":"U0KPFAZNF","text":"something seems fundamentally broken (it could very well be my understanding ;)","ts":"1484191891.001069"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP> are you invoking transactions on a regular basis against HEAD?","ts":"1484191919.001070"},{"type":"message","user":"U0ULK2JPP","text":"pretty regularly <@U0KPFAZNF>","ts":"1484191993.001071"},{"type":"message","user":"U0ULK2JPP","text":"a few hours back on latest","ts":"1484192003.001072"},{"type":"message","user":"U0KPFAZNF","text":"hmm, netmode or devmode?","ts":"1484192012.001073"},{"type":"message","user":"U0ULK2JPP","text":"but I always use cli","ts":"1484192020.001074"},{"type":"message","user":"U0ULK2JPP","text":"both","ts":"1484192022.001075"},{"type":"message","user":"U0ULK2JPP","text":"are you doing devmode ?","ts":"1484192032.001076"},{"type":"message","user":"U0KPFAZNF","text":"yeah","ts":"1484192038.001077"},{"type":"message","user":"U0ULK2JPP","text":"from cli ?","ts":"1484192049.001078"},{"type":"message","user":"U0KPFAZNF","text":"i dont understand where the mycc:0\/**TEST_CHAINID** stuff is coming from","ts":"1484192053.001079"},{"type":"message","user":"U0KPFAZNF","text":"both, well, mostly SDK but I sanity checked on CLI once","ts":"1484192066.001080"},{"type":"message","user":"U0KPFAZNF","text":"I saw same behavior from both SDK and CLI","ts":"1484192078.001081"},{"type":"message","user":"U0KPFAZNF","text":"that is, sending \"chaincodeId: mycc\" maps to a request with mycc:0\/**TEST_CHAINID** on the peer","ts":"1484192103.001082"},{"type":"message","user":"U0KPFAZNF","text":"so, if I register my devmode chaincode with that FQN, it works (for deploy, but fails invoke)","ts":"1484192132.001083"},{"type":"message","user":"U0ULK2JPP","text":"the system is initialzed for **TEST_CHAINID**","ts":"1484192133.001084"},{"type":"message","user":"U0ULK2JPP","text":"till we get multichannel stuff working","ts":"1484192149.001085"},{"type":"message","user":"U0KPFAZNF","text":"so, when you do devmode+cli, what are you using as a chaincodeid ?","ts":"1484192170.001086"},{"type":"message","user":"U0ULK2JPP","text":"yes","ts":"1484192176.001087"},{"type":"message","user":"U0ULK2JPP","text":"do you want to do a quick hangout","ts":"1484192185.001088"},{"type":"message","user":"U0ULK2JPP","text":"?","ts":"1484192186.001089"},{"type":"message","user":"U0ULK2JPP","text":"i can show you what I do","ts":"1484192191.001090"},{"type":"message","user":"U0KPFAZNF","text":"sure","ts":"1484192192.001091"},{"type":"message","user":"U0KPFAZNF","text":"ill fire up and PM you","ts":"1484192204.001092"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1484192218.001093"},{"type":"message","user":"U0ULK2JPP","text":"that works too","ts":"1484192223.001094"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> pushed a v7 for 3761 which optimizes the layers","ts":"1484240147.001095"},{"user":"U3QPATC07","text":"<@U3QPATC07|rachweb2> has joined the channel","type":"message","subtype":"channel_join","ts":"1484241756.001096"},{"type":"message","user":"U0KM61BCP","text":"still something weird with the test target","ts":"1484244738.001097"},{"type":"message","user":"U0KPFAZNF","text":"in the busybox.git\/Makefile?","ts":"1484244924.001098"},{"type":"message","user":"U0KPFAZNF","text":"or in the JJB execution of it?","ts":"1484244929.001099"},{"type":"message","user":"U0KPFAZNF","text":"I havent looked too deeply at the Jenkins\/JJB stuff since its still WIP, but the local target seems to work reliably for me","ts":"1484244978.001100"},{"type":"message","user":"U0KM61BCP","text":"I just ran locally and everything works","ts":"1484245009.001101"},{"type":"message","user":"U0KM61BCP","text":"though I got a clock skew message","ts":"1484245018.001102"},{"type":"message","user":"U0KM61BCP","text":"cbf$ make test\ndocker run -i --rm  -v \/Users\/cbf\/dev\/fabric-busybox:\/mnt -w \/mnt hyperledger\/fabric-baseimage:x86_64-0.2.2 make -f Makefile.busybox install BINDIR=build BUSYBOX_VERSION=1.25.1\nmake: Warning: File 'Makefile.busybox' has modification time 1593 s in the future\nmake -C build\/.1.25.1 -l 2.5 -j all LDFLAGS=-static\nmake[1]: Entering directory '\/mnt\/build\/.1.25.1'\nmake[1]: Warning: File '.kernelrelease' has modification time 1612 s in the future\nmake[1]: warning:  Clock skew detected.  Your build may be incomplete.\nmake[1]: Leaving directory '\/mnt\/build\/.1.25.1'\nmake: warning:  Clock skew detected.  Your build may be incomplete.\ndocker run hyperledger\/fabric-busybox:x86_64-1.25.1-1-snapshot-e950ee5 echo \"It works\"\nIt works","ts":"1484245030.001103"},{"type":"message","user":"U0KPFAZNF","text":"thats interesting","ts":"1484245054.001104"},{"type":"message","user":"U0KM61BCP","text":"who wrote the jjb stuff? I still don't get that;-)","ts":"1484245064.001105"},{"type":"message","user":"U0KPFAZNF","text":"heh, i dont know, i didnt look but I suspect Ramesh","ts":"1484245077.001106"},{"type":"message","user":"U0KPFAZNF","text":"oh you mean the framework?","ts":"1484245085.001107"},{"type":"message","user":"U0KPFAZNF","text":"no idea","ts":"1484245086.001108"},{"type":"message","user":"U0KM61BCP","text":"ok, we'll I will","ts":"1484245087.001109"},{"type":"message","user":"U0KM61BCP","text":"+2 and +1 verify","ts":"1484245095.001110"},{"type":"message","user":"U0KPFAZNF","text":"ive seen the clockskew stuff typically in the context of vagrant-&gt;volumemount-&gt;host","ts":"1484245123.001111"},{"type":"message","user":"U0KPFAZNF","text":"but never on these native builds","ts":"1484245139.001112"},{"type":"message","user":"U0KPFAZNF","text":"or at least, not that I have noticed","ts":"1484245144.001113"},{"type":"message","user":"U0P2GSA8Z","text":"I saw a clock skew warning too yesterday although I can't remember what exactly I was doing :-(","ts":"1484245951.001114"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0KPFAZNF> does your change of employer make any difference as to your likelihood of coming to the hackfests?","ts":"1484258208.001115"},{"type":"message","user":"U0KPFAZNF","text":"tbd","ts":"1484259251.001116"},{"type":"message","user":"U0UHG4VP1","text":"<@U0P2GSA8Z>: I thought we were going to IBM San Jose this time?","ts":"1484262033.001117"},{"type":"message","user":"U0UHG4VP1","text":"Or was it cbf that expressed that desire?","ts":"1484262096.001118"},{"type":"message","user":"U0KM61BCP","text":"no, the group voted in favor of SF over SJ","ts":"1484263408.001119"},{"type":"message","user":"U0UHG4VP1","text":"Oh ok. I missed that","ts":"1484263590.001120"},{"type":"message","user":"U36RKMPBQ","text":"Dear All, does anyone know why I may not have Internet access within the Hyperledger docker containers connecting to the same overlay network?","ts":"1484303233.001121"},{"type":"message","user":"U0KPFAZNF","text":"<@U36RKMPBQ> I just discovered a problem late last night that might be related","ts":"1484313813.001122"},{"type":"message","user":"U0KPFAZNF","text":"this isnt conclusive, but I think the general problem is that DNS lookups do not work","ts":"1484313841.001123"},{"type":"message","user":"U0KPFAZNF","text":"preliminary analysis is its related to how we are building the static binaries (peer\/orderer\/busybox) and a bug\/limitation in glibc for static linking","ts":"1484313894.001124"},{"type":"message","user":"U0KPFAZNF","text":"stay tuned","ts":"1484313902.001125"},{"type":"message","user":"U36RKMPBQ","text":"Hi Greg, many thanks for the update! looking forwad hearing back from you.","ts":"1484317651.001126"},{"type":"message","user":"U3HN4GFA9","text":"Does anyone know when should we expect support for multiple endorser peers?Right now we are working with the skeletal example (in <https:\/\/jira.hyperledger.org\/secure\/attachment\/10242\/simple_test_with_skeletal_peer.md>)","ts":"1484318364.001127"},{"type":"message","user":"U3HN4GFA9","text":"but we need more than one endorser fo the things we want to do","ts":"1484318389.001128"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3QHG3GF3\/-.ml|Untitled> and commented: <@U0KM61BCP>, i understand more about how it works now","file":{"id":"F3QHG3GF3","created":1484320664,"timestamp":1484320664,"name":"-.ml","title":"Untitled","mimetype":"text\/plain","filetype":"ocaml","pretty_type":"OCaml","user":"U0KPFAZNF","editable":true,"size":1023,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3QHG3GF3\/-.ml?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3QHG3GF3\/download\/-.ml?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3QHG3GF3\/-.ml","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3QHG3GF3-13eb37aa29","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3QHG3GF3\/-.ml\/edit","preview":"vagrant@hyperledger-devenv:v0.2.2-0889373:\/local-dev\/git\/fabric-busybox$ strace .\/build\/.1.26.2\/busybox nslookup cnn 2>&1 | grep open\r\nopen(\"\/etc\/resolv.conf\", O_RDONLY|O_CLOEXEC) = 3\r\nopen(\"\/etc\/nsswitch.conf\", O_RDONLY|O_CLOEXEC) = 3\r\nopen(\"\/etc\/ld.so.cache\", O_RDONLY|O_CLOEXEC) = 3\r\nopen(\"\/lib\/x86_64-linux-gnu\/libnss_files.so.2\", O_RDONLY|O_CLOEXEC) = 3\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-variable\">vagrant<\/span><span class=\"cm-variable\">@hyperledger<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">devenv<\/span><span class=\"cm-variable\">:v0<\/span><span class=\"cm-variable\">.2<\/span><span class=\"cm-variable\">.2<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-number\">0889373<\/span><span class=\"cm-variable\">:<\/span><span class=\"cm-variable\">\/local<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">dev<\/span><span class=\"cm-variable\">\/git<\/span><span class=\"cm-variable\">\/fabric<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">busybox<\/span><span class=\"cm-variable\">$<\/span> <span class=\"cm-variable\">strace<\/span> <span class=\"cm-variable\">.<\/span><span class=\"cm-variable\">\/build<\/span><span class=\"cm-variable\">\/<\/span><span class=\"cm-variable\">.1<\/span><span class=\"cm-variable\">.26<\/span><span class=\"cm-variable\">.2<\/span><span class=\"cm-variable\">\/busybox<\/span> <span class=\"cm-variable\">nslookup<\/span> <span class=\"cm-variable\">cnn<\/span> <span class=\"cm-number\">2<\/span><span class=\"cm-operator\">&gt;<\/span><span class=\"cm-operator\">&amp;<\/span><span class=\"cm-number\">1<\/span> <span class=\"cm-operator\">|<\/span> <span class=\"cm-variable\">grep<\/span> <span class=\"cm-builtin\">open<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-builtin\">open<\/span><span class=\"cm-variable\">(<\/span><span class=\"cm-string\">&quot;\/etc\/resolv.conf&quot;<\/span><span class=\"cm-variable\">,<\/span> <span class=\"cm-variable\">O_RDONLY<\/span><span class=\"cm-operator\">|<\/span><span class=\"cm-variable\">O_CLOEXEC<\/span><span class=\"cm-variable\">)<\/span> <span class=\"cm-operator\">=<\/span> <span class=\"cm-number\">3<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-builtin\">open<\/span><span class=\"cm-variable\">(<\/span><span class=\"cm-string\">&quot;\/etc\/nsswitch.conf&quot;<\/span><span class=\"cm-variable\">,<\/span> <span class=\"cm-variable\">O_RDONLY<\/span><span class=\"cm-operator\">|<\/span><span class=\"cm-variable\">O_CLOEXEC<\/span><span class=\"cm-variable\">)<\/span> <span class=\"cm-operator\">=<\/span> <span class=\"cm-number\">3<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-builtin\">open<\/span><span class=\"cm-variable\">(<\/span><span class=\"cm-string\">&quot;\/etc\/ld.so.cache&quot;<\/span><span class=\"cm-variable\">,<\/span> <span class=\"cm-variable\">O_RDONLY<\/span><span class=\"cm-operator\">|<\/span><span class=\"cm-variable\">O_CLOEXEC<\/span><span class=\"cm-variable\">)<\/span> <span class=\"cm-operator\">=<\/span> <span class=\"cm-number\">3<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-builtin\">open<\/span><span class=\"cm-variable\">(<\/span><span class=\"cm-string\">&quot;\/lib\/x86_64-linux-gnu\/libnss_files.so.2&quot;<\/span><span class=\"cm-variable\">,<\/span> <span class=\"cm-variable\">O_RDONLY<\/span><span class=\"cm-operator\">|<\/span><span class=\"cm-variable\">O_CLOEXEC<\/span><span class=\"cm-variable\">)<\/span> <span class=\"cm-operator\">=<\/span> <span class=\"cm-number\">3<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":17,"lines_more":12,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc3R60FCGK","created":1484320664,"timestamp":1484320664,"user":"U0KPFAZNF","is_intro":true,"comment":"<@U0KM61BCP>, i understand more about how it works now","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1484320664.001129"},{"type":"message","user":"U0KPFAZNF","text":"the busybox binary was statically linked in the same way we do it for real, but it was able to resolve the address when running in plain ubuntu because I think the libc is doing a dlopen","ts":"1484320711.001130"},{"type":"message","user":"U0KPFAZNF","text":"(and the files were present","ts":"1484320722.001131"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> <https:\/\/jira.hyperledger.org\/browse\/FAB-1652>","ts":"1484360499.001132"},{"type":"message","user":"U0PB67X4K","text":"<@U0KPFAZNF> - my guess would also be that you'd likely only see this issue when running on OSX  (and possibly Windows - although I believe that the VM used on Windows has the correct libraries)","ts":"1484437925.001133"},{"type":"message","user":"U0PB67X4K","text":"is there any reason for us not to use the \"official\" busybox images?   Or minimally we could just copy their build for say the uclibc version?   (I guess we do have to build for Z and P)","ts":"1484438056.001134"},{"type":"message","user":"U0PB67X4K","text":"this looks nice:    <https:\/\/github.com\/docker-library\/busybox\/blob\/master\/uclibc\/Dockerfile.builder>","attachments":[{"service_name":"GitHub","title":"docker-library\/busybox","title_link":"https:\/\/github.com\/docker-library\/busybox\/blob\/master\/uclibc\/Dockerfile.builder","text":"busybox - Docker Official Image packaging for Busybox","fallback":"GitHub: docker-library\/busybox","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/7739233?v=3&s=400","from_url":"https:\/\/github.com\/docker-library\/busybox\/blob\/master\/uclibc\/Dockerfile.builder","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1484438091.001135"},{"type":"message","user":"U0KPFAZNF","text":"<@U0PB67X4K>: actually the problem is build environment neutral.  We compile both busybox and the golang code in our baseimage container","ts":"1484442413.001137"},{"type":"message","user":"U0KPFAZNF","text":"The glibc in question is therefore picked up in our Debian\/Ubuntu ecosystem","ts":"1484442453.001138"},{"type":"message","user":"U0KPFAZNF","text":"I explain the ratioale for not using the official busybox here: <https:\/\/github.com\/hyperledger\/fabric\/commit\/b61723f9ddcc91cafd4f3a8c3634bd8d32388b32>","attachments":[{"service_name":"GitHub","title":"[BUILD] Minimize docker container sizes \u00b7 hyperledger\/fabric@b61723f \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/commit\/b61723f9ddcc91cafd4f3a8c3634bd8d32388b32","text":"We use two techniques: 1) the use of a minimal docker base (FROM scratch + busybox) 2) the use of a static binary ... to create a minimally sized image for 'peer' and 'orderer' Before this patc...","fallback":"GitHub: [BUILD] Minimize docker container sizes \u00b7 hyperledger\/fabric@b61723f","thumb_url":"https:\/\/avatars0.githubusercontent.com\/u\/367132?v=3&s=200","from_url":"https:\/\/github.com\/hyperledger\/fabric\/commit\/b61723f9ddcc91cafd4f3a8c3634bd8d32388b32","thumb_width":200,"thumb_height":200,"service_icon":"https:\/\/a.slack-edge.com\/bfaba\/img\/unfurl_icons\/github.png","id":1}],"ts":"1484442564.001139"},{"type":"message","user":"U0KPFAZNF","text":"One complication here is the multiarch stuff as you noted.  Another is that it's not only busybox that is broken","ts":"1484442632.001141"},{"type":"message","user":"U0KPFAZNF","text":"Our golang apps pick up the bad dns functions too","ts":"1484442651.001142"},{"type":"message","user":"U0KPFAZNF","text":"There are numerous ways to solve this but most of them are probably untenable from either a support and\/or licensing perspective ","ts":"1484442705.001143"},{"type":"message","user":"U0KPFAZNF","text":"I think I have a workable solution being tested right now though","ts":"1484442726.001144"},{"type":"message","user":"U0KPFAZNF","text":"I'm mobile ATM but I'll provide details later","ts":"1484442766.001145"},{"type":"message","user":"U0KPFAZNF","text":"We'll need to take a small hit on size for the short term (e.g. Peer goes from 25M to 155M (uncompressed)","ts":"1484442831.001146"},{"type":"message","user":"U0KPFAZNF","text":"I think I can reign this in again (at least on X) in the midterm","ts":"1484442871.001147"},{"type":"message","user":"U0KPFAZNF","text":"But right now focus is on correctness ","ts":"1484442883.001148"},{"type":"message","user":"U0KPFAZNF","text":"Honestly though, the size thing is probably less important than we make it out.  The peer still needs ccenv or something like it in order to function, no matter how clever I can get here","ts":"1484443045.001149"},{"type":"message","user":"U0KPFAZNF","text":"I still think a minor argument can be made that smaller is still better, so I am not giving up on this.","ts":"1484443088.001150"},{"type":"message","user":"U0KPFAZNF","text":"Just a detour ;)","ts":"1484443094.001151"},{"user":"U3SB11YDD","text":"<@U3SB11YDD|ingcr3at1on> has joined the channel","type":"message","subtype":"channel_join","ts":"1484503848.001152"},{"user":"U195M30MD","text":"<@U195M30MD|nickmelis> has joined the channel","type":"message","subtype":"channel_join","ts":"1484584927.001153"},{"type":"message","user":"U195M30MD","text":"has anyone here worked on the chaincode implementation of table? I need to understand how the getRows function works (search by partial key) and why it hasn\u2019t been ported in Java","ts":"1484584982.001154"},{"type":"message","user":"U0KPFAZNF","text":"<@U195M30MD> not sure what you are targeting, but FYI: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3649\/>","ts":"1484586539.001155"},{"type":"message","user":"U0KPFAZNF","text":"FWIW, my former teammates at LSEG used the Table API extensively in v0.6 and earlier: <@U1KASSN2F> might have more details","ts":"1484586582.001156"},{"user":"U1KASSN2F","inviter":"U0KPFAZNF","text":"<@U1KASSN2F|bensor> has joined the channel","type":"message","subtype":"channel_join","ts":"1484586587.001157"},{"type":"message","user":"U195M30MD","text":"<@U0KPFAZNF> here\u2019s the thing, I\u2019m trying to store a data structure with four different fields, three of which are keys","ts":"1484586690.001158"},{"type":"message","user":"U195M30MD","text":"something that doesn\u2019t fit in a map &lt;string, string&gt;","ts":"1484586705.001159"},{"type":"message","user":"U0KPFAZNF","text":"I understand, my understanding is the plan is to replace Table API with something couchdb-ish","ts":"1484586746.001160"},{"type":"message","user":"U195M30MD","text":"and I\u2019ve played a bit with the Table API in Java, and then realised there\u2019s no getRows() function to select results which match only one of the three fields in the key","ts":"1484586751.001161"},{"type":"message","user":"U0KPFAZNF","text":"(or perhaps that interface is already available, not sure","ts":"1484586782.001162"},{"type":"message","user":"U0KPFAZNF","text":"i am not an expert in this area, mostly wanted you to be aware that it was being yanked","ts":"1484586812.001163"},{"type":"message","user":"U195M30MD","text":"getRows is available in Go, although I don\u2019t really understand how it works, and if it relies on the underlying state map","ts":"1484586821.001164"},{"type":"message","user":"U0KPFAZNF","text":"well, not after CR 3649 goes in :wink:","ts":"1484586852.001165"},{"type":"message","user":"U0KPFAZNF","text":"then Go and Java will be equally deficient :wink:","ts":"1484586864.001166"},{"type":"message","user":"U195M30MD","text":"right, so Table API are being removed. Is there anything to query the state map by partial key then?","ts":"1484586881.001167"},{"type":"message","user":"U0KPFAZNF","text":"IIUC","ts":"1484586882.001168"},{"type":"message","user":"U0KPFAZNF","text":"Like I said, my understanding is there is some couchdb\/json-based QL going in","ts":"1484586904.001169"},{"type":"message","user":"U0KPFAZNF","text":"I am not sure what the status is","ts":"1484586908.001170"},{"type":"message","user":"U195M30MD","text":"we\u2019re talking about &gt; v0.6 though, right?","ts":"1484586924.001171"},{"type":"message","user":"U0KPFAZNF","text":"I can say that the Table API was pretty weak...it was hard to build real applications with it","ts":"1484586926.001172"},{"type":"message","user":"U0KPFAZNF","text":"yes, in master","ts":"1484586932.001173"},{"type":"message","user":"U0KPFAZNF","text":"for v0.6, Table API is in place (at least in Go shim)","ts":"1484586942.001174"},{"type":"message","user":"U195M30MD","text":"is there anyone who worked on Table API in the first place here?","ts":"1484586988.001175"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP> might know","ts":"1484587003.001176"},{"type":"message","user":"U195M30MD","text":"thanks :slightly_smiling_face:","ts":"1484587057.001177"},{"type":"message","user":"U184J2R7S","text":"<@U195M30MD> go to the fabric-ledger-dev channel and ask Dave Enyeart","ts":"1484603089.001178"},{"type":"message","user":"U184J2R7S","text":"or manishsethi","ts":"1484603107.001179"},{"user":"U3MBTR5KK","text":"<@U3MBTR5KK|tsluthra> has joined the channel","type":"message","subtype":"channel_join","ts":"1484668481.001180"},{"type":"message","user":"U12KFP7JN","text":"<@U195M30MD>   .. Here is an example -- I use it with a custom table in 0.6","edited":{"user":"U12KFP7JN","ts":"1484678704.000000"},"ts":"1484678616.001181"},{"type":"message","user":"U12KFP7JN","text":"rowChannel, err := stub.GetRows(tableName, columns)\n        if err != nil {\n                return nil, fmt.Errorf(\"GetList operation failed. %s\", err)\n        }\n        var rows []shim.Row\n        for {\n                select {\n                case row, ok := &lt;-rowChannel:\n                        if !ok {\n                                rowChannel = nil\n                        } else {\n                                rows = append(rows, row)\n                                \/\/If required enable for debugging\n                                \/\/fmt.Println(row)\n                        }\n                }\n                if rowChannel == nil {\n                        break\n                }\n        }\n\n        fmt.Println(\"Number of Keys retrieved : \", nKeys)\n        fmt.Println(\"Number of rows retrieved : \", len(rows))\n        return rows, nil\n}","ts":"1484678712.001183"},{"type":"message","user":"U12KFP7JN","text":"<@U195M30MD>   See this example <https:\/\/github.com\/ITPeople-Blockchain\/auction\/blob\/master\/art\/artchaincode\/art_app.go>","attachments":[{"service_name":"GitHub","title":"ITPeople-Blockchain\/auction","title_link":"https:\/\/github.com\/ITPeople-Blockchain\/auction\/blob\/master\/art\/artchaincode\/art_app.go","text":"auction - ITPeople Blockchain - Art Auction Demo","fallback":"GitHub: ITPeople-Blockchain\/auction","thumb_url":"https:\/\/avatars0.githubusercontent.com\/u\/20110871?v=3&s=400","from_url":"https:\/\/github.com\/ITPeople-Blockchain\/auction\/blob\/master\/art\/artchaincode\/art_app.go","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1484679044.001184"},{"type":"message","user":"U12KFP7JN","text":"4","ts":"1484680193.001186"},{"user":"U3U0MV3PZ","text":"<@U3U0MV3PZ|kzhang> has joined the channel","type":"message","subtype":"channel_join","ts":"1484768631.001187"},{"user":"U3U0TBE5C","text":"<@U3U0TBE5C|choas> has joined the channel","type":"message","subtype":"channel_join","ts":"1484771063.001188"},{"type":"message","user":"U3HN4GFA9","text":"Hi can anyone suggest in which place in the code do we need to look to open multiple endorsers? We are trying to implement an example using such a scenario. Thx.","ts":"1484830653.001189"},{"type":"message","user":"U0KM61BCP","text":"<@U0ULK2JPP> ^^","ts":"1484833230.001190"},{"type":"message","user":"U0ULK2JPP","text":"<@U3HN4GFA9> that code for a single command\/api to send to multiple endorsers is not there currently\u2026 the two high level interfaces for sending proposals to endorsers are the CLI and the SDK. They can be used - currently - to send to 1 endorser.","edited":{"user":"U0ULK2JPP","ts":"1484833663.000000"},"ts":"1484833489.001191"},{"type":"message","user":"U0ULK2JPP","text":"Please check on fabric-sdk-node or fabric-sdk-node-dev on plans for allowing a proposal to be sent to multiple endorsers","ts":"1484833724.001193"},{"type":"message","user":"U0ULK2JPP","text":"what you *can* do today which is not satisfactory by any means \u2026 is to use the CLI  `CORE_PEER_ADDRESS=&lt;endorserip&gt;:&lt;endorserport&gt; peer chaincode query \u2026` multiple times","ts":"1484833825.001194"},{"type":"message","user":"U0ULK2JPP","text":"the query command will NOT send the proposal response to the orderer","ts":"1484833852.001195"},{"type":"message","user":"U0ULK2JPP","text":"this way you can send as many requests you want to N-1 endorsers","ts":"1484833895.001196"},{"type":"message","user":"U0ULK2JPP","text":"and on the last one, do an invoke as `CORE_PEER_ADDRESS=&lt;endorserip&gt;:&lt;endorserport&gt; peer chaincode invoke \u2026`","ts":"1484833929.001197"},{"type":"message","user":"U0ULK2JPP","text":"like I said - not satisfactory :slightly_smiling_face:","ts":"1484833945.001198"},{"type":"message","user":"U0ULK2JPP","text":"it is not hard to add support for multiple endorsers to the CLI (hopefully will be done soon)\u2026 if you want take a stab at it, I can help. Do let me know","ts":"1484834033.001199"},{"type":"message","user":"U0ULK2JPP","text":"but if you want to use the SDK to do the above please check on the fabric-sdk-dev or fabric-sdk-node-dev channels","ts":"1484834084.001200"},{"user":"U3TNHH1NW","text":"<@U3TNHH1NW|dknochen> has joined the channel","type":"message","subtype":"channel_join","ts":"1484840367.001201"},{"type":"message","user":"U1KFBBWG1","text":"fabric-sdk-node supports multiple endorsers","ts":"1484841412.001202"},{"type":"message","user":"U3HN4GFA9","text":"Thank you yes, I do want to implement and use this. I will check the suggested channels.","ts":"1484842295.001203"},{"type":"message","user":"U36UDC6RK","text":"Is it possible to run all examples of the master branch(authorizable_counter, asset-management, etc. ) with v1.0 ? Or do I have to modify the chaincode?","ts":"1484842904.001204"},{"type":"message","user":"U0ULK2JPP","text":"<@U1KFBBWG1> thanks for the correction\u2026  <@U3HN4GFA9> so you should be able to use the SDK to send a proposal to multiple endorsers","ts":"1484843309.001205"},{"type":"message","user":"U3HN4GFA9","text":"<@U0ULK2JPP> Thanks. I was wondering whether it is possible to run multiple endorser peers natively (without docker containers).","ts":"1484845161.001210"},{"type":"message","user":"U3HN4GFA9","text":"I guess I just need to give them different ids and different ports. Or do I need to do something else?","ts":"1484845232.001211"},{"type":"message","user":"U0ULK2JPP","text":"<@U3HN4GFA9> I am not sure (I can imagine how it can be done)..","ts":"1484845239.001212"},{"type":"message","user":"U0ULK2JPP","text":"well the ledger directory has to be different as well, for one thing","edited":{"user":"U0ULK2JPP","ts":"1484845287.000000"},"ts":"1484845262.001213"},{"type":"message","user":"U0ULK2JPP","text":"but the recommendation would be to use docker","ts":"1484845292.001215"},{"type":"message","user":"U0ULK2JPP","text":"peer\u2019s being on the same os env would be a very unusual pattern","ts":"1484845379.001216"},{"type":"message","user":"U3HN4GFA9","text":"Ok. I'll use docker.","ts":"1484845419.001217"},{"type":"message","user":"U3HN4GFA9","text":"Do you have an example with docker containers with v1.0","ts":"1484845435.001218"},{"type":"message","user":"U3HN4GFA9","text":"Up to now, I only used the skeletal example with one native peer and orderer","ts":"1484845460.001219"},{"type":"message","user":"U0ULK2JPP","text":"yes\u2026 there are workable docker-compose files under bddtests","ts":"1484845477.001220"},{"type":"message","user":"U3HN4GFA9","text":"Ok. Thanks. I'll look at it.","ts":"1484845520.001221"},{"type":"message","user":"U0ULK2JPP","text":"fabric\/bddtests\/docker-compose-next-4.yml would be a good start but would defer to <@U0UKTPMG8> if there\u2019s a better one","ts":"1484845536.001222"},{"type":"message","user":"U0UKTPMG8","text":"<@U3HN4GFA9> <@U0ULK2JPP> correct, that is the one","ts":"1484845568.001223"},{"type":"message","user":"U0UKTPMG8","text":"over the next couple of days there should be a good example of actual usage","ts":"1484845610.001224","reactions":[{"name":"+1","users":["U0ULK2JPP"],"count":1}]},{"type":"message","user":"U3HN4GFA9","text":"<@U0UKTPMG8> Thanks. I can run it using docker-compose. But then, what's the best way to communicate to the peers \/ deploy a chaincode \/ invoke a chaincode? It seems that all the ports of the peers are closed from the outside of docker.","ts":"1484846422.001225"},{"type":"message","user":"U0UKTPMG8","text":"that part is coming :slightly_smiling_face:","ts":"1484846439.001226"},{"type":"message","user":"U0UKTPMG8","text":"every port is actually available","ts":"1484846461.001227"},{"type":"message","user":"U0UKTPMG8","text":"just not exposed","ts":"1484846468.001228"},{"type":"message","user":"U0UKTPMG8","text":"but you can connect to them","ts":"1484846472.001229"},{"type":"message","user":"U0UKTPMG8","text":"we are working on behave tests to demonstrate the entire boostrap of the network","ts":"1484846505.001230"},{"type":"message","user":"U0UKTPMG8","text":"to include the final create\/join channel with subsequent TXs (deploy, invoke, etc.)","ts":"1484846529.001231"},{"type":"message","user":"U0UKTPMG8","text":"the purpose of the boostrap feature is to demonstrate the full configuration and usage of the network wrt to peers and orderers (and MSPs)","ts":"1484846603.001232"},{"type":"message","user":"U0UKTPMG8","text":"if you like, can add you to the Jira isse to track","ts":"1484846635.001233"},{"type":"message","user":"U0UKTPMG8","text":"<https:\/\/jira.hyperledger.org\/browse\/FAB-1141>","ts":"1484846672.001234"},{"type":"message","user":"U3HN4GFA9","text":"Thanks.","ts":"1484846917.001235"},{"type":"message","user":"U3HN4GFA9","text":"Is there a simple way to expose them to peer deploy?","edited":{"user":"U3HN4GFA9","ts":"1484847022.000000"},"ts":"1484846934.001236"},{"type":"message","user":"U3HN4GFA9","text":"I tried adding ports 7051 to vp0 in the docker-compose file","ts":"1484846946.001237"},{"type":"message","user":"U0KM61BCP","text":"ICYMI - we renamed the fabric-cop component to fabric-ca by popular demand;-)\nany changesets in flight may have merge conflicts\nbest to cherrypick the changeset and apply to a clone of the new repo\nand then push again","ts":"1484847443.001239"},{"type":"message","user":"U0KM61BCP","text":"<https:\/\/hyperledgerproject.slack.com\/archives\/fabric-ca\/p1484847124001218>","attachments":[{"from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-ca\/p1484847124001218","fallback":"[January 19th, 2017 9:32 AM] ry: <@U0P2GSA8Z> all of your in-flight changes should exist on fabric-ca, and you _should_ be able to `git remote add ...` the new repo so you don't need to re-clone","ts":"1484847124.001218","author_subname":"ry","channel_id":"C2Y3CPP16","channel_name":"fabric-ca","is_msg_unfurl":true,"text":"<@U0P2GSA8Z> all of your in-flight changes should exist on fabric-ca, and you _should_ be able to `git remote add ...` the new repo so you don't need to re-clone","author_name":"Ry Jones","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/ry","author_icon":"https:\/\/avatars.slack-edge.com\/2016-12-03\/112352565781_af8a455dfc891821119c_48.jpg","mrkdwn_in":["text"],"id":1,"footer":"Posted in #fabric-ca"}],"ts":"1484847562.001240"},{"type":"message","user":"U0KM61BCP","text":"per <@U0UHG4VP1> you don't need to clone the new repo, you can simply change your git remote","ts":"1484847583.001242"},{"type":"message","user":"U0UKTPMG8","text":"<@U3HN4GFA9> you should be able to use docker exec -it &lt;container_id&gt; peer chaincode .... commands","ts":"1484847642.001243"},{"type":"message","user":"U0UKTPMG8","text":"use the peerX node (your choice)","ts":"1484847655.001244"},{"type":"message","user":"U0UKTPMG8","text":"and the SDK should also work fine","ts":"1484847681.001245"},{"type":"message","user":"U0KPFAZNF","text":"<@U3HN4GFA9> not sure this is exactly what you were looking for: but check out fabric.git\/test\/docker-compose.yml","ts":"1484848064.001246"},{"type":"message","user":"U3HN4GFA9","text":"<@U0UKTPMG8> Thanks. I tried ```docker exec -it bddtests_vp0_1 peer chaincode deploy -n mycc -p <http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02> -c '{\"Args\":[\"init\",\"a\",\"100\",\"b\",\"200\"]}'1``` but I got ```2017-01-19 17:49:08.487 UTC [msp] GetDefaultSigningIdentity -&gt; INFO 01c Obtaining default signing identity\npanic: runtime error: index out of range```","ts":"1484848217.001247"},{"type":"message","user":"U0UKTPMG8","text":"<@U3HN4GFA9> <@U0ULK2JPP> may be able to quickly answer that one","ts":"1484848274.001248"},{"type":"message","user":"U0UKTPMG8","text":"and you have an extra 1 at end it appears","ts":"1484848287.001249"},{"type":"message","user":"U0UKTPMG8","text":"not sure that is issue though","ts":"1484848291.001250"},{"type":"message","user":"U3HN4GFA9","text":"No, that's just an issue when copy\/pasting...","ts":"1484848446.001251"},{"type":"message","user":"U0UKTPMG8","text":"k, :wink:","ts":"1484848493.001252"},{"type":"message","user":"U0UKTPMG8","text":"<@U0ULK2JPP> may need to step in to explain if params are complete","ts":"1484848517.001253"},{"type":"message","user":"U3HN4GFA9","text":"<@U0KPFAZNF> Thanks. Unfortunately, this one has only one peer.","ts":"1484848520.001254"},{"type":"message","user":"U0KPFAZNF","text":"i meant it as an example of port surfacing","ts":"1484848551.001255"},{"type":"message","user":"U3HN4GFA9","text":"Yes indeed.","ts":"1484848583.001256"},{"type":"message","user":"U3HN4GFA9","text":"Thanks. Apparently, we need to expose also 7050","ts":"1484848596.001257"},{"type":"message","user":"U3HN4GFA9","text":"otherwise, we have `Error: Error getting broadcast client: Error connecting to 0.0.0.0:7050 due to grpc: timed out when dialing` when peer chaincode deploy\n`","ts":"1484848612.001258"},{"type":"message","user":"U0KPFAZNF","text":"via the orderer, though","ts":"1484848629.001259"},{"type":"message","user":"U0KPFAZNF","text":"not the peer","ts":"1484848630.001260"},{"type":"message","user":"U3HN4GFA9","text":"OK, but after adding ports: 7050:7050 to the orderer","ts":"1484848716.001261"},{"type":"message","user":"U3HN4GFA9","text":"This example with one peer seemed to work.","edited":{"user":"U3HN4GFA9","ts":"1484848741.000000"},"ts":"1484848722.001262"},{"type":"message","user":"U3HN4GFA9","text":"when running `peer chaincode ...` outside `docker`","ts":"1484848825.001264"},{"type":"message","user":"U3HN4GFA9","text":"So we'll try to add more peers after our lunch.","edited":{"user":"U3HN4GFA9","ts":"1484848848.000000"},"ts":"1484848830.001265"},{"type":"message","user":"U0KPFAZNF","text":"cool..be aware of <https:\/\/jira.hyperledger.org\/browse\/FAB-1652>","ts":"1484848954.001267"},{"type":"message","user":"U0KPFAZNF","text":"it may impact the ability for the peer container to find the orderer, etc","ts":"1484848969.001268"},{"type":"message","user":"U0KPFAZNF","text":"i have it fixed locally, fwiw","ts":"1484848977.001269"},{"type":"message","user":"U0KPFAZNF","text":"would be willing to share","ts":"1484848981.001270"},{"type":"message","user":"U1AJV5S2G","text":"Test post (we're working on the format): Functional Integration Test (FIT): \nResult=Passed\n\nCommit level:\n\nPeer: 22ec03f     \nCOP: 9c6c125       \nnode-sdk: 7eef633","ts":"1484848990.001271"},{"type":"message","user":"U11HTMW0H","text":"The CI team (Ramesh) has created an end-to-end Jenkins Job called FIT and is currently run in the Jenkins sandbox.  FIT stands for Functional Integration Test.  The test is currently based on node sdk end-to-end tests.  End-to-end implies the need for all architectural components and the corresponding docker images built from the corresponding repository for the: orderer, ca (formerly known as cop), and endorser.   The FIT test will grow and tests will be added to the Jenkins Job.   In particular, we will be adding the creation of channels\/chains in the near future.  The results from the Job will be posted to this channel, with pass\/fail status, a link to the job, the docker-compose used, and logs.  If the job fails a JIRA issue will be opened manually.   If the job passes the associated docker images will be pushed and tagged to org: rameshthoomu.  The publishing of images to Ramesh's public docker repository is a short-term solution.   Links to the tagged images will be in the slack message.  The Job will be run daily, at midnight, and primed with a run in the next hour.","ts":"1484852904.001272","reactions":[{"name":"+1","users":["U0KM61BCP"],"count":1}]},{"text":"added an integration to this channel: <https:\/\/hyperledgerproject.slack.com\/services\/B3TQKS3K5|jenkins>","bot_id":"B3TQKS3K5","type":"message","subtype":"bot_add","user":"U11HH3P7Y","ts":"1484853356.001273"},{"text":"","bot_id":"B3TQKS3K5","attachments":[{"fallback":"Slack\/Jenkins plugin: you're all set on <https:\/\/jenkins.hyperledger.org\/sandbox\/>","id":1,"color":"36a64f","fields":[{"title":"","value":"Slack\/Jenkins plugin: you're all set on <https:\/\/jenkins.hyperledger.org\/sandbox\/>","short":false}],"mrkdwn_in":["pretext","text","fields"]}],"type":"message","subtype":"bot_message","ts":"1484853387.001274"},{"text":"","bot_id":"B3TQKS3K5","attachments":[{"fallback":"Functional-Integration-Testing - #62 Back to normal after 6 hr 9 min (<https:\/\/jenkins.hyperledger.org\/sandbox\/job\/Functional-Integration-Testing\/62\/|Open>)\nClick this Link to see the Commit Levels: <https:\/\/jenkins.hyperledger.org\/sandbox\/job\/Functional-Integration-Testing(FIT)\/62\/artifact\/gopath\/src\/github.com\/hyperledger\/fabric\/bddtests\/commit_history.log>\n\nBuild Images located here: \nPEER-IMAGE: <https:\/\/hub.docker.com\/r\/rameshthoomu\/fabric-peer-x86_64\/tags> \nORDERER-IMAGE:<https:\/\/hub.docker.com\/r\/rameshthoomu\/fabric-orderer-x86_64\/tags>\nCA_IMAGE:<https:\/\/hub.docker.com\/r\/rameshthoomu\/fabric-ca-x86_64\/tags>\nCCENV_IMAGE: <https:\/\/hub.docker.com\/r\/rameshthoomu\/fabric-ccenv-x86_64\/tags>","id":1,"color":"36a64f","fields":[{"title":"","value":"Functional-Integration-Testing - #62 Back to normal after 6 hr 9 min (<https:\/\/jenkins.hyperledger.org\/sandbox\/job\/Functional-Integration-Testing\/62\/|Open>)\nClick this Link to see the Commit Levels: <https:\/\/jenkins.hyperledger.org\/sandbox\/job\/Functional-Integration-Testing(FIT)\/62\/artifact\/gopath\/src\/github.com\/hyperledger\/fabric\/bddtests\/commit_history.log>\n\nBuild Images located here: \nPEER-IMAGE: <https:\/\/hub.docker.com\/r\/rameshthoomu\/fabric-peer-x86_64\/tags> \nORDERER-IMAGE:<https:\/\/hub.docker.com\/r\/rameshthoomu\/fabric-orderer-x86_64\/tags>\nCA_IMAGE:<https:\/\/hub.docker.com\/r\/rameshthoomu\/fabric-ca-x86_64\/tags>\nCCENV_IMAGE: <https:\/\/hub.docker.com\/r\/rameshthoomu\/fabric-ccenv-x86_64\/tags>","short":false}],"mrkdwn_in":["pretext","text","fields"]}],"type":"message","subtype":"bot_message","ts":"1484857714.001275"},{"type":"message","user":"U11HH3P7Y","text":"Commit link is broken.. Fixed this now. Please see the commit log from this link `<https:\/\/jenkins.hyperledger.org\/sandbox\/job\/Functional-Integration-Testing\/62\/artifact\/gopath\/src\/github.com\/hyperledger\/fabric-sdk-node\/commit_history.log>`","ts":"1484858029.001276"},{"type":"message","user":"U3HN4GFA9","text":"<@U0ULK2JPP> <@U0UKTPMG8> when run outside docker, `peer chaincode deploy ...` failed and the peer vp0 whose ports were mapped to the machine logged ```vp0_1         | 2017-01-19 20:43:10.501 UTC [dockercontroller] deployImage -&gt; ERRO 19b Error building images: cannot connect to Docker endpoint\nvp0_1         | 2017-01-19 20:43:10.501 UTC [dockercontroller] deployImage -&gt; ERRO 19c Image Output:\nvp0_1         | ********************\nvp0_1         | \nvp0_1         | ********************\n```","ts":"1484859346.001277"},{"type":"message","user":"U3HN4GFA9","text":"But we managed to fix it by setting `CORE_VM_ENDPOINT` to `unix:\/\/\/var\/run\/docker.sock` instead of  `<http:\/\/172.17.0.1:2375>` in `bddtests\/compose-defaults.yml` and adding \n```volumes:\n       - \/var\/run\/docker.sock:\/var\/run\/docker.sock\n```\n to this file too inside `vp`.","ts":"1484859499.001278"},{"type":"message","user":"U3HN4GFA9","text":"This seemed to work.","ts":"1484859550.001279","reactions":[{"name":"+1","users":["U0ULK2JPP"],"count":1}]},{"type":"message","user":"U0ULK2JPP","text":"<@U3HN4GFA9> right\u2026 there are variations depending on how your docker env is setup","ts":"1484859926.001280"},{"type":"message","user":"U3HN4GFA9","text":"<@U0ULK2JPP> thanks for your help, appreciate it!","ts":"1484860203.001281","reactions":[{"name":"+1","users":["U0ULK2JPP"],"count":1}]},{"type":"message","user":"U0KM61BCP","text":"this is great progress <@U11HTMW0H> and <@U11HH3P7Y>","ts":"1484860755.001282"},{"type":"message","user":"U0KM61BCP","text":"but could we have the jenkins slack integration write to <#C11SL9YDV|fabric-ci-status>?","edited":{"user":"U0KM61BCP","ts":"1484860819.000000"},"ts":"1484860776.001283"},{"type":"message","user":"U11HH3P7Y","text":"yes we have","ts":"1484860821.001285"},{"type":"message","user":"U0KM61BCP","text":"oh good","ts":"1484860825.001286"},{"type":"message","user":"U0KM61BCP","text":"I saw the bot message above and was worried about spamming this channel","ts":"1484860844.001287"},{"type":"message","user":"U11HH3P7Y","text":"ok next build result will publish to <#C11SL9YDV|fabric-ci-status>","ts":"1484860870.001288","reactions":[{"name":"+1","users":["U0KM61BCP"],"count":1}]},{"type":"message","user":"U0KN2SSKE","text":"<@U0KM61BCP> <@U11HH3P7Y> I am ok with <#C11SL9YDV|fabric-ci-status> but developers rarely look there unless there\u2019s a ci problem; not sure about none-fabric developers, but i guess they would come here more often","ts":"1484923476.001289"},{"type":"message","user":"U0KM61BCP","text":"<@U0KN2SSKE> exactly - my concern is that the bot messages be perceived as spam and people will be annoyed at their conversations being hijacked with interspersed bot spam","ts":"1484923546.001290"},{"type":"message","user":"U0KM61BCP","text":"IMO, they only need to go to ci-status if there's a problem","ts":"1484923572.001291"},{"type":"message","user":"U0KM61BCP","text":"if we can post ONLY failed builds here, and then just a reference to the build's output (not a large post) that might be okay","ts":"1484923629.001292"},{"type":"message","user":"U0KN2SSKE","text":"ok, agreed","ts":"1484923734.001293"},{"user":"U3UCVTV8V","text":"<@U3UCVTV8V|davidpeyronnin> has joined the channel","type":"message","subtype":"channel_join","ts":"1484927687.001294"},{"user":"U0Z6DQ030","text":"<@U0Z6DQ030|john.d.sheehan> has joined the channel","type":"message","subtype":"channel_join","ts":"1484929475.001295"},{"type":"message","user":"U0Z41KY5V","text":"Would like to throw an old item: <https:\/\/jira.hyperledger.org\/browse\/FAB-1412>. Currently, `make peer` will first build lots of dependencies (e.g., those run-time docker images) implicitly and then compile the peer binary (like a `make peer-all`). I guess it would be helpful if we can decouple those two steps by providing some method to enable just compiling the binary (save time and efforts), as the `make peer`\u2018s doc says: `builds a native fabric peer binary`. Would like to hear more comments, thanks!:slightly_smiling_face:","ts":"1485041104.001296"},{"type":"message","user":"U0KPFAZNF","text":"<@U0Z41KY5V> the coupling was intentional since the peer cannot really run without the prerequisites.  Disabling that can cause its own set of problems that I would classify as worse than developer inconvenience, especially since (baring bugs) it should employ build caching\/optimization","ts":"1485041770.001297"},{"type":"message","user":"U0KPFAZNF","text":"I think FAB-1412 is likely just a bug that needs addressing, but I would treat FAB-1412 as different from your decoupling request","ts":"1485041816.001298"},{"type":"message","user":"U0PB67X4K","text":"plus you can always build the peer binary directly with `go build`","ts":"1485041885.001299"},{"type":"message","user":"U0PB67X4K","text":"that's what I do  :wink:","ts":"1485041890.001300"},{"type":"message","user":"U0PB67X4K","text":"I actually build the orderer that was as well","ts":"1485041911.001301"},{"type":"message","user":"U0KPFAZNF","text":"I would discourage that in general as you wont pick up all of the same flags","ts":"1485042554.001302"},{"type":"message","user":"U0KPFAZNF","text":"most notably, the metadata.Version wouldnt be provided","ts":"1485042574.001303"},{"type":"message","user":"U0KPFAZNF","text":"perhaps we need a \"training-wheels off\" mode for the build, then","ts":"1485042589.001304"},{"type":"message","user":"U0PB67X4K","text":"well I'm just doing it for quick local tests - not for distributing binaries","ts":"1485042615.001305"},{"type":"message","user":"U0KPFAZNF","text":"understood, I actually meant that more as an example","ts":"1485042628.001306"},{"type":"message","user":"U0KPFAZNF","text":"today, its not too harmful, but tomorrow it could be","ts":"1485042635.001307"},{"type":"message","user":"U0PB67X4K","text":"not sure what <@U0Z41KY5V> really wants to do","ts":"1485042643.001308"},{"type":"message","user":"U0KPFAZNF","text":"today the only implication is you dont get the metadata baked in, but that could change without notice","ts":"1485042664.001309"},{"type":"message","user":"U0KPFAZNF","text":"(actually, you also get slightly different optimization levels","ts":"1485042681.001310"},{"type":"message","user":"U0Z41KY5V","text":"<@U0PB67X4K> <@U0KPFAZNF> yeap, understand that we need the dependencies to run the peer. Building such is not that stable with downloading stuffs from various sources. Maybe we can add some `make binary` to simply build out those binaries with `go build`.","ts":"1485065297.001311"},{"type":"message","user":"U0KPFAZNF","text":"well, thats just a bug that should be fixed","ts":"1485094341.001312"},{"type":"message","user":"U0KPFAZNF","text":"if the build was stopped for whatever reason, it should be smart enough to pick up where it left off","ts":"1485094376.001313"},{"user":"U3LKHA8G5","text":"<@U3LKHA8G5|simers> has joined the channel","type":"message","subtype":"channel_join","ts":"1485097558.001314"},{"type":"message","user":"U184J2R7S","text":"A few people are meeting to talk about the status of the Master code base.  I am slacking the information as a result- this is real time discussion","ts":"1485181979.001315"},{"type":"message","user":"U184J2R7S","text":"There are multiple lists on the board-- these are all the stuff we want to walk through and determine where we are specifically-- TLS, validation message and TX, replay attacks, replication MSPs for gossip, anchor peers, channel leaders, HSM (key generation), chaincode return object, chaincode endorsement policy, revisit events, chaincode life-cycle (deploy\/init upgrade,.. and policy), ERror handling, bootstrap with pre-defined channels, custom TX, CLI accepts multiple peers, application crypto library, system Chaincode refactor (location) and Chaincode calling chaincode","ts":"1485182109.001316"},{"type":"message","user":"U184J2R7S","text":"For SDK- (node.js, and Java)- Java only : create \"official\"branch, events support (example: rejection in blockchain), chain  join ( creation basically done), REST wrapper, anything left in MSP, Java Chaincode, TCERt private key derivation, query on ledger","ts":"1485182201.001317"},{"type":"message","user":"U184J2R7S","text":"For SDK- add RSA , escc, vscc","ts":"1485182339.001318"},{"type":"message","user":"U184J2R7S","text":"For Docs- high level overview- ferris; technical overview- Josh; remove version 0.6 material; docker compose- 3 configs; ordering configs, CA configs- Keith ; APIs- Jz, SDK- JZ, policies- Murali; channels- murali","ts":"1485182406.001319"},{"type":"message","user":"U184J2R7S","text":"For Docs- end to end Barry\/Ramesh","ts":"1485182440.001320"},{"type":"message","user":"U184J2R7S","text":"For Fabric - CA: Docs- API doc \/swagger; readme; read the docs,... CLI simplification; TCERt- BCCSP integration\/. option 2 (HSM friendly) support; HSM support- BCCSP or lets ecnrypt PrSCH; BCCSP for auth. header; Intermediate CA support? ; Test","ts":"1485182527.001321"},{"type":"message","user":"U184J2R7S","text":"For BDD- RSA, P384, Deploy CC, Mutlichannel","ts":"1485182556.001322"},{"type":"message","user":"U184J2R7S","text":"That is what is currently on the board...","ts":"1485182564.001323"},{"type":"message","user":"U184J2R7S","text":"Binh- let's quickly review this list and anything else we can add on, but these are the items that we want to target for alpha for the end of this month","ts":"1485182588.001324"},{"type":"message","user":"U184J2R7S","text":"(items are being added that I will try to add here)","ts":"1485182635.001325"},{"type":"message","user":"U184J2R7S","text":"For Doc- Couddb\/ledger- Dave","ts":"1485182646.001326"},{"type":"message","user":"U184J2R7S","text":"For Ledger- finish couch Miscellaneous items (versioning, deletes); Query expose to application chaincode; history of key values(level db) - add to QSCC, expose to application chaincode; Chaincode examples- table replacement, query, history","ts":"1485182783.001327"},{"type":"message","user":"U184J2R7S","text":"for DOC- Gossary of terms- Nick, SCC- Murali","ts":"1485182811.001328"},{"type":"message","user":"U184J2R7S","text":"----------------------here is where discussion has started-------------------------------------------","ts":"1485182837.001329"},{"type":"message","user":"U184J2R7S","text":"To original list- experation of MSP certs","ts":"1485182919.001330"},{"type":"message","user":"U184J2R7S","text":"what else on the list before we go through? (binh asked)","ts":"1485183010.001331"},{"type":"message","user":"U184J2R7S","text":"Gari suggesting we go through first pass and eliminating pieces we should not go after","ts":"1485183049.001332"},{"type":"message","user":"U184J2R7S","text":"let's do the list starting with TLS first and then Ledger, then SDK, fabric CA and whatever we decide will effect the docs","ts":"1485183074.001333"},{"type":"message","user":"U184J2R7S","text":"TLS- the server side works and you can dynamically add certificates to it incrementally and that's all checked in---- Under BDD we added TLS","ts":"1485183111.001334"},{"type":"message","user":"U184J2R7S","text":"Validation of messages and transactions- this is Ale's items, this is almost done","ts":"1485183175.001335"},{"type":"message","user":"U184J2R7S","text":"Replay Attacks- Angelo indicated what we have committers check the transaction id is duplicated- only the committers, but we have to generate the transaction id, which we don't- so we had long discussion.. we agreed to generate a nonce and generate with creater's id and hash that.. that part is important. whether we can create the replay attacks or not may not be completed","ts":"1485183258.001336"},{"type":"message","user":"U184J2R7S","text":"The discussion we had with murali is what if legacy software is using for application related- so generating for nonce of creator might not be accepted.","ts":"1485183332.001337"},{"type":"message","user":"U184J2R7S","text":"Today- we need to solve replay attacks and mine the transaction id to the identity of the creator.  We need to use the TX-ID generator- this is equal to the creator plus the nonce.. this has to be done prior to preventing replay.. SDK is already generating a transaction id,.. but it's not done in the way that is highlighted here.  There as to be an adapter into a question- some event comes out- you call api and you can map the transaction id.. if you want to track it- pass it in as a parameter.   The question is for doing it- if we are going to be consistent on the SDKs and you agree and creator + nonce- it's not a hard piece of work. are we going to do it or not?  We do generate an ID today... the id is nonce so we have creator","ts":"1485183520.001338"},{"type":"message","user":"U184J2R7S","text":"we will not do this for end of the month on transactionj id generator- creator + nonce","ts":"1485183559.001339"},{"type":"message","user":"U184J2R7S","text":"Replication MSPs for gossip- basically we formatted a final document at end of last week, we need to close some edgers, but if enough time to talk with Elli, I will like Gari\/Binh to review and after that- we can finish this out","ts":"1485183657.001340"},{"type":"message","user":"U184J2R7S","text":"Anchor peers- upon channel creation, anchor is there, and we checked manually it works.  I hav enot seen code that deels with configuration of stuff in peer when new configuration blocks comes from ordering service. and the adjacent manager config transaction is not in the peer.  Jeff added that yesterday in BDD... he added the anchor peers in BDD. BUT we don't have a configuration handler on the peer side- without that, we can not deal with the configurations that are not associated with channel creation..... We also need to do extra work in the peer.   We need to combine jeff's work.","ts":"1485183748.001341"},{"type":"message","user":"U184J2R7S","text":"Board changes- Anchor config block with handler; BDD","ts":"1485183781.001342"},{"type":"message","user":"U184J2R7S","text":"Channel Leader- basically the code that elects the leader is inside and has been merged since beginning of last week. the only thing missing is plugging into gossip.  I have a chainset that I need to code review for this","ts":"1485183812.001343"},{"type":"message","user":"U184J2R7S","text":"HSM (key generation)- Vlad said we need on key derivation... our proposal is to remove this from end of January.","ts":"1485183888.001344"},{"type":"message","user":"U221LL03Z","text":"last sentence is not clear.","ts":"1485183934.001345"},{"type":"message","user":"U184J2R7S","text":"Chaincode Rerturn Object- We have a merge conflict and Murali is checking it right now.. we need to leave this here, but it's pretty close . WE are returning an object from protos that we effined a long time ago- now we are returning an object that we are returning code where we use HTTP return status code where 100's 200's 500's and a message in there and a payload (which is a byte array).  This gives more flexibility for chaincode to return what is needed.  If you ask me to endorse something and I need to kick off a workflow- I will return code saying incomplete,etc,.. ; SDK list is being updated","ts":"1485184020.001346"},{"type":"message","user":"U184J2R7S","text":"SDK: added Update CC return object","ts":"1485184032.001347"},{"type":"message","user":"U184J2R7S","text":"<@U221LL03Z> we are making decisions on what we are going to get done for end of January for our Alpha\/Beta code- we will not try to tackle completing the HSM work is the net.  Clearly if open source team has it complete- we can relook at the decision, but we're trying to make sure we prioritize as we want to get very clean Docker images and compose scripts for members of the community who want to program and play with version 1.0","ts":"1485184106.001348"},{"type":"message","user":"U184J2R7S","text":"I'm currently taking notes on the discussions here on what we should focus on among several people in community","ts":"1485184122.001349"},{"type":"message","user":"U184J2R7S","text":"(not everyone is attending, so we are going to be looking for feedback to go to <@U0KN2SSKE>  .. this is a first cut proposal)","ts":"1485184143.001350"},{"type":"message","user":"U221LL03Z","text":"thanks <@U184J2R7S>","ts":"1485184197.001351"},{"type":"message","user":"U184J2R7S","text":"We need to add some additional work on chaincode return object- the remaining work after we merge this latest piece is to take the work Jim has done and completing it writing it down to the ledger.  Why would you write the response down to the ledger?  Not in the state base, but we would write in the transaction, so we can record the response code.  We store events from chaincode into the ledger- so the worry was that we are getting all tehse responses and we are not saving it or persisting it.   So it's not in the signed part of the block?  The events are not in signed part of the block- yes they are in signed part of the block.  Is it important to persist this information?  If it's part of transaction and app is using it to make decisions, then it seems like it is important.  In the query - we never send that so it really does not matter there.  So if transaction id- what was the response?  that one piece of information- we store everything in transaction, that could be important for auditing like chaincode events... Added \"Transaction proto should contain repsonse\"","ts":"1485184321.001352"},{"type":"message","user":"U184J2R7S","text":"Chaincode endorsement policy: what kind of policies are we going to provide?  My understanding is that you can specify bv VSCC in lifecycle chaincode- if you give complex policies- code validating is there... the code in CLI\/SDK is not... you send request, at time of commitment, the code is there to query the lifecycle chaincode and to validate that all the people are signing off.  Are we using same policy that we are in protos?  We use one policy specification that Jason defined.  When we complete whatever work in runtime and by specifying in SDK and SLI- that doe effect the SDK which we titled ESCC\/VSDD.. When you do specify it, you have to serailze it into Jason's format.  We should do this by Alpha.","ts":"1485184454.001353"},{"type":"message","user":"U184J2R7S","text":"We need to check back with Ale  on this","ts":"1485184502.001354"},{"type":"message","user":"U184J2R7S","text":"Revisit Events- this is from Pat (community member).  we need to do events from chain channels and hook it up for channels and hook it up with MSP.  So we added Revisit events (channel &amp;MSP) We should add security restriction because he's not authorized.. depends on how far we want to go.  We need to confirm with Pat. <@U0KQ9QKH6>  We need to check with Pat and verify with him if we need to specify any additional policy or we use policy from the channel. The easiset thing is if we have read permission on channel, you get events.  Based on my experience on how fast it works- the best we can hope for- backend he has chaincode and block events.. and he's working on SDK.  i don't know if he can get the rejection events in and support for SDK.  WE don't need rejection events.  In 0.6 we had this- because invalid transactoins were not part of block- but now they are part of block and we have bit array that marks invalid transactions","ts":"1485184668.001355"},{"type":"message","user":"U184J2R7S","text":"We do need to add the channel ID-- we don't think we will be able to do any security on revisit events in 8 days","ts":"1485184688.001356"},{"type":"message","user":"U184J2R7S","text":"You have block come in- list of transaction. if they fail in MVCC\/VSCC,.. we still add a bit aray filter that points to location of which ones were invalid.  Basically means that we did not process a state change","ts":"1485184732.001357"},{"type":"message","user":"U184J2R7S","text":"We do have ability to check for false\/invalid transactions.  that is always just there","ts":"1485184747.001358"},{"type":"message","user":"U184J2R7S","text":"Do chaincode events get set for invalid transactions? Murali says today it is.. we should probably revisit this.","ts":"1485184770.001359"},{"type":"message","user":"U184J2R7S","text":"He builds in handler, the api that does it-- on the orderer side- it has to have the exact same logic of whether you are on channel or not.. and it will process signature from MSP list.  When Jason\/Kostas gets that code and we can take the handler code and use it for the events.  Jason and Kostas and that team will be able to probably do that faster for Pat","ts":"1485184819.001360"},{"type":"message","user":"U184J2R7S","text":"to utilize","ts":"1485184825.001361"},{"type":"message","user":"U184J2R7S","text":"Jim Zhang said we need to filter out the events for invalid transactions otherwise it may be really confusing... it is absolutely possible. the simplest way is that fabric won't send chaincode events. block has chaincode events. and SDK will do the parsing. SDK is already doing that today. events by transaction ids.. so you move that , Basically Jim will have to map for transaction id- you find out what #numberit was in the ordere and you check in bit array.","ts":"1485184930.001362"},{"type":"message","user":"U184J2R7S","text":"We  need to do post processing on the SDK","ts":"1485184950.001363"},{"type":"message","user":"U184J2R7S","text":"Do we have a size limit? i know we have number of transactions, but do we have a size limit-- we have preferred max bytes and max bytes.  it's 512K that's the preferred. I know it's north of 7 Megabytes... we need to revisit the block payload because it travels through the events like that. Pat is actually filtering out the deploy transaction and removing that and does not touch the other stuff yet and we need to make sure he's aware. I would prefer only transaction ids and events, but then they have to go back due to security.","ts":"1485185033.001364"},{"type":"message","user":"U184J2R7S","text":"Chaincode lifecycle- do we want to redo the deployment and upgrade?  We need to make a decision on this today or tomorrow. the policy is done- Kostas said he needs to ask Jason . this is chaincode policy who can deploy and manipulate the lifecycle when creating the channel .   It is the deployment of the chaincode- who can deploy chaincode on the channel? We have some control on who can deploy and upgrade on the chaincode?","ts":"1485185143.001365"},{"type":"message","user":"U184J2R7S","text":"There is a proposal on how we deploy chaincode- and we need to decide.  There are two parts of it,.. so we are highlighting chaincode life-cycle as a quesiton mark.","ts":"1485185253.001366"},{"type":"message","user":"U184J2R7S","text":"Error handling- we have the base, but everyone needs to use this.  The base - we have code at the right place to encapsulate the stack trace.. if there is an error- and that error code indicates the components .. so you know this is chaincode error, or this is peer error, or this is orderer. The framework is done but not all components has used it.  Peer has done some of this. - define error codes for component","ts":"1485185333.001367"},{"type":"message","user":"U184J2R7S","text":"Error handling is going to happen from now until GA honestly","ts":"1485185363.001368"},{"type":"message","user":"U184J2R7S","text":"(GA is a relative word here,.. but it's when the fabric is stabilized for production use, which is dependent on quality work being completed)","ts":"1485185385.001369"},{"type":"message","user":"U184J2R7S","text":"Bootstrap with predefined channel-- We have hardcoded in our code that we start up with a channel,.. but I'd rather do that as configuraiton out of the code. if we specify the configuration and we start it up with a configuration versus bake it into the code. In other words you don't create cli or SDK... you look at config- they need channel test id to start up and then we create it. rather than we have it in the code.  This assumes that we have ability in orderer and predefine in channel and genesis block and use with the peer.  We have to have block from orderer.  The orderer has to start the config block and they need to know members.. We just need to have a default thing that people start with.  This whole process is security based.. we haven't configured the orderers MSPs properly. . In our code we automatically create test channel-- that is the point. If that needs to go, we need to startup with channel for programming. We need to come up with dev mode kind of thing..  Easy to say create channel in peer, but I also need channel in orderer.  This is where the complication is.  The current feature will bootstrap system in 4 seconds. having a test id channel- the user test - i would just get rid of everything and it confuses everything.  We need to come up with a way- a nice simple way in the bootstrapping feature scenario how we have a system come up for people that is working,.. and we can do that.","ts":"1485185639.001370"},{"type":"message","user":"U184J2R7S","text":"BDD has a lot of this","ts":"1485185656.001371"},{"user":"U23274813","text":"<@U23274813|nagasurya> has joined the channel","type":"message","subtype":"channel_join","ts":"1485185766.001372"},{"type":"message","user":"U184J2R7S","text":"I worked hard on this- we should not shortcut ever-- for developers, to bring up system, we can't tell them to run BDD. But we can make that easier to do. So what we want is a CLI to bring up a system for development.. jeff stated tweeksk knobs parameters is pretty complex 27 steps- and there is a tweek in everything orderer, peer id, the signers, the developers,.. then creation policy, who are your anchors... someone is going to write it just like feature file.. but our test could just be the script.  This is a full blown interactive... WE are going to hackfest and we want people to have a simple way to do this","ts":"1485185772.001373"},{"type":"message","user":"U184J2R7S","text":"The test chain id has to be in orderer- and this is bad part- having hard coded test chain id in orderer is bad.. in dev environment, we need to prime it in dev environment and not hardcoded in environment.  So we are getting in design discussions..","ts":"1485185831.001374"},{"type":"message","user":"U184J2R7S","text":"let's take this off line-- we are going through this list, but we want people to do something on the 31st- orderer comes up and peer comes up- create channel api and I get you default certificate, create channel, and add one org and the stuff should just work-- that is what is a development system..","ts":"1485185881.001375"},{"type":"message","user":"U184J2R7S","text":"ARe we telling developers that they ned to set up our system- vagrant and everything to run BDD-- NO.. Behave stuff only requires docker compose period... there are a million ways to do this-- so we want to get to prove this out and where this is consumable is to eliminate hard coded stuff and if it doesn't work, then we need to go fix it...","ts":"1485185976.001376"},{"type":"message","user":"U184J2R7S","text":"Bootstrap with a channel for dev- Jeff Garrat is going to do this and work with Gari\/Jim...","ts":"1485186003.001377"},{"type":"message","user":"U184J2R7S","text":"there are simplist- CLI,. SDK .. the usre wants to do something more complex with BDD.. the test chain id we need to remove and make it simple","ts":"1485186026.001378"},{"type":"message","user":"U184J2R7S","text":"I worry about concept of having a separate network that is for developer mode- i think those days are gone.  in that case you provide sample ceritifcates and run through the process. no more shortcuts--","ts":"1485186052.001379"},{"type":"message","user":"U184J2R7S","text":"all keys loaded from files,etc,.. even SDK is doing that now... Jeff made important point there are 2 main places we are hard coding- test chain code id... certs was hardcoded- we still have a sample out there- we generate using bdd and this is directory or use directory already shipping","ts":"1485186096.001380"},{"type":"message","user":"U184J2R7S","text":"Custom Transactions- not for end of Jan","ts":"1485186126.001381"},{"type":"message","user":"U184J2R7S","text":"CLI accepts multiple peers; we need this to test endorsement policy","ts":"1485186139.001382"},{"type":"message","user":"U184J2R7S","text":"App crypto lib- this is a run at for alpha","ts":"1485186147.001383"},{"type":"message","user":"U184J2R7S","text":"system chaincode refactor- this is eash given Ale's work","ts":"1485186155.001384"},{"type":"message","user":"U184J2R7S","text":"Chaincode calling chaincode- we have addresswed the query case","ts":"1485186163.001385"},{"type":"message","user":"U184J2R7S","text":"QUERY CASE only on CC calling CC","ts":"1485186189.001386"},{"type":"message","user":"U184J2R7S","text":"Exsperiation MSP certs- we will not address this for alpha","ts":"1485186197.001387"},{"type":"message","user":"U184J2R7S","text":"------------------------------------","ts":"1485186201.001388"},{"type":"message","user":"U184J2R7S","text":"For SDK (node.js, Java)","ts":"1485186213.001389"},{"type":"message","user":"U184J2R7S","text":"The master is still on 0.6.,engaging with DTCC- we have created a 1.0 branch that we want to be master.","ts":"1485186249.001390"},{"type":"message","user":"U184J2R7S","text":"We are having to merge this.","ts":"1485186255.001391"},{"type":"message","user":"U184J2R7S","text":"Between DTCC and those on phone- there is also another guy from Fujitsu we need to merge everything","ts":"1485186279.001392"},{"type":"message","user":"U184J2R7S","text":"Java only: create \"official\" branch.  #1 does not have to be done by end of htis month, but we do need to \"clean\" the directories up","ts":"1485186301.001393"},{"type":"message","user":"U184J2R7S","text":"and that is being worked on to ensure we have clean consolidation","ts":"1485186310.001394"},{"type":"message","user":"U184J2R7S","text":"Events support- Jim Zhang needs to talk about the eventing piece with Pat (see discussion above )","ts":"1485186354.001395"},{"type":"message","user":"U184J2R7S","text":"Rest Wrapper- we have now handed off to the team that has joined the community in Hursley to do this","ts":"1485186375.001396"},{"type":"message","user":"U184J2R7S","text":"GRPC for Join is in there- Brett has committed that- but we have trouble with MSP definitions","ts":"1485186387.001397"},{"type":"message","user":"U184J2R7S","text":"it fails at that point- but we are getting all the way through the GRPC aspect","ts":"1485186395.001398"},{"type":"message","user":"U184J2R7S","text":"ChainQuery on Ledger- The api is available in GO code is there, but it is not there for GRPC.. pass through query","ts":"1485186441.001399"},{"type":"message","user":"U184J2R7S","text":"chaincode join- synce it's system chaincode call you can copy a lot of logic on query on ledger to complete this","ts":"1485186458.001400"},{"type":"message","user":"U184J2R7S","text":"Remove RSA and HSM for SDK goal for end of month","ts":"1485186506.001401"},{"type":"message","user":"U184J2R7S","text":"We have the Go implementationfor TCERT- we have the TCERT derivation form the last implementation is there.  It takes a key derivation on the SDK side and it's exactly the same.. we can maybe get there and Gari Singh can help that","ts":"1485186602.001402"},{"type":"message","user":"U184J2R7S","text":"<@U11MANG9G>  please make sure you read the fabric-dev channel as I know you are helping on many of these pieces- (this is a side note)","ts":"1485186621.001403"},{"type":"message","user":"U184J2R7S","text":"ESCC\/VSCC- we need to add reference to a name in the proposal and we can do that","ts":"1485186637.001404"},{"type":"message","user":"U184J2R7S","text":"For query on ledger- this is just AP that you already call on channel join, but we are down to 2 1\/2 to 3 developers.. on priority list query on ledger seems low. can't clients call system chaincode on any special thing on SDK.. they can also do from query CLi and get it","ts":"1485186677.001405"},{"type":"message","user":"U11MANG9G","text":"<@U184J2R7S>: Sure thing.","ts":"1485186702.001408"},{"type":"message","user":"U184J2R7S","text":"Jim is probably going to x out query on ledger","ts":"1485186708.001409"},{"type":"message","user":"U184J2R7S","text":"SDK already accepts multiple peers (this was a question).","ts":"1485186725.001410"},{"type":"message","user":"U184J2R7S","text":"--------","ts":"1485186790.001411"},{"type":"message","user":"U184J2R7S","text":"For ledger- finishing couch misc items (versioningk deletes)","ts":"1485186799.001412"},{"type":"message","user":"U184J2R7S","text":"Query APi is already exposed, but need to do work related to application chaincode-","ts":"1485186812.001413"},{"type":"message","user":"U184J2R7S","text":"WE are in middle of history of key values (level db)","ts":"1485186819.001414"},{"type":"message","user":"U184J2R7S","text":"We started doing the work on couch for history of key values and pushed down into level so that everyone can have the history not juts couch people","ts":"1485186836.001415"},{"type":"message","user":"U184J2R7S","text":"For couch- we do not support remote- we will only support local to the peer","ts":"1485186847.001416"},{"type":"message","user":"U184J2R7S","text":"Finalize QSCC block\/tran structure that gets returned to client has to be discussed between Binh\/Dave.. we definitely won't get through examples, but we may try to go through table replacement\/query as we can before end of next week","ts":"1485186874.001417"},{"type":"message","user":"U184J2R7S","text":"<@U0Z541B3P>  wanted to make sure you are reading the channel here- see all up above and start of conversation","ts":"1485186896.001418"},{"type":"message","user":"U184J2R7S","text":"maybe Mohan can help with examples possibly?","ts":"1485186907.001419"},{"type":"message","user":"U184J2R7S","text":"-------------------","ts":"1485186916.001420"},{"type":"message","user":"U184J2R7S","text":"For fabric- CA","ts":"1485186919.001421"},{"type":"message","user":"U184J2R7S","text":"comments on the list from up above","ts":"1485186927.001422"},{"type":"message","user":"U184J2R7S","text":"Keith is trying to generate the swagger","ts":"1485186940.001423"},{"type":"message","user":"U184J2R7S","text":"We need to decide on whether we do something on HSM support or later-- I think we decided that we are not committing HSM for alpha but HSM support (BCCSP or let's ecnrypt) - the way i'm leveraging- i want to use BCCSP integration throughout and then get HSM support through BCCSP. there are multiple places for private keys- signing of CSR request, singing of authoization header, signing of TCERts.. thing that is where we need to do the integration.  We already have BCCSP config integrated in.  The thing unclear right now is can we assume if we have BCCSP integration then we do have HSM support or no?","ts":"1485187039.001424"},{"type":"message","user":"U184J2R7S","text":"Vlad is going to have to clarrify","ts":"1485187071.001425"},{"type":"message","user":"U184J2R7S","text":"We want to do HSM support on BCCSP","ts":"1485187084.001426"},{"type":"message","user":"U184J2R7S","text":"Vlad had done CFFSL has their own layer of singer on top","ts":"1485187125.001427"},{"type":"message","user":"U184J2R7S","text":"<@U10Q62R8X>  see above","ts":"1485187145.001428"},{"type":"message","user":"U184J2R7S","text":"you have to send future request, they are authenticated in authorization header that covers certificate.. and it contains sig, the sig contains the signature and the body. we need to do the signing wiht VSCSP..","ts":"1485187180.001429"},{"type":"message","user":"U184J2R7S","text":"the signing in our CLI client","ts":"1485187196.001430"},{"type":"message","user":"U184J2R7S","text":"if we did on the server side- it does not mean that yo uhave to do at the same time as the SDK side","ts":"1485187217.001431"},{"type":"message","user":"U184J2R7S","text":"It comes down to request and re-enroll . On the CA side, the CA is some refactoring but perspective of using it, it works.  so we need to finish the register from SDK- we have almost ready to check in,.. by default we use SHA384 (only register\/reneroll for off token),.. we would have register and create new users, enroll already works beautifully (Jim integrated it).. we enroll and get cert back.. no more work on SDK side for that.","ts":"1485187303.001432"},{"type":"message","user":"U184J2R7S","text":"We just need to finish register and re-enroll.. do we take a cut. if you want to do a few things to clean up the document, it does not stop doing additional work. and we just take a cut of the CA before. so we can merge stuff after that.. and CA is in very good shape.","ts":"1485187334.001433"},{"type":"message","user":"U184J2R7S","text":"The only thing that is merged with HSM support for BCCSP.. BCCSP you can configure but it's not being used for HSM yet.  Just like HSM is out of the peer. You know that the default you changed to 256- so this is hard coded.. I di dnot change I implemented to SHA 384.. it's hard coded today so we can't change it.","ts":"1485187380.001434"},{"type":"message","user":"U184J2R7S","text":"Intermediate CA support- I assume that is something that could wait, but i put that up there because the place where this is nice- if you set up a cluster of cop servers or fabric ca servers and you want to get enrollment certs distributed for them. you can start a root ca and cluster of intermediate servers that enroll with it.. I may be overly optimistic- this is 1 day's worth of work. it's not a big effort. Binh is saying this is very useful for testing out  multiple MSP concept. it will be nice to have a single ca and generate something intermediate.  IT's also nice to reknew a CA certificate ultimately.","ts":"1485187470.001435"},{"type":"message","user":"U184J2R7S","text":"if you do the first thing with Swagger doc.. and top list. if we are willing that SDk is not complete- you can use ecerts we have that working.. we have ability to node sdk to enroll, we finish register api, cop is up- you can get certificates fo rany # of peers for encorsement and for joining channels and connecting.  We can use what Keith gets done. but we can take CA and build that out today and use that for the 31st.","ts":"1485187545.001436"},{"type":"message","user":"U184J2R7S","text":"If we don't have TCERT support throughout- that's fine","ts":"1485187557.001437"},{"type":"message","user":"U184J2R7S","text":"--------------","ts":"1485187560.001438"},{"type":"message","user":"U184J2R7S","text":"For documentation","ts":"1485187565.001439"},{"type":"message","user":"U184J2R7S","text":"We should have remove the version 0.6,... we are already started on high level overview, high level architecture, glossary of terms, how to get docker up and running with compose,.. and how developers program against chaincode -- which includes APIs, channels, couchdb\/ledger and chaincode.","ts":"1485187691.001440"},{"type":"message","user":"U184J2R7S","text":"Binh asking how much more we need to help on doc based on where we are- i need the apis and how to program against chaincode with Murali... Murali will sit with a couple of hours to step through all that stuff","ts":"1485187732.001441"},{"type":"message","user":"U184J2R7S","text":"need to have some prebuilt things- x number of the MSP- -we should at minimum in policy have that... for the docuementation things like query system chaincode, config system chaincode,","ts":"1485187796.001442"},{"type":"message","user":"U184J2R7S","text":"docker compose is self descriptive instead of reams of documentation-- just explain like was done before","ts":"1485187813.001443"},{"type":"message","user":"U184J2R7S","text":"<@U10LM0FFZ>  <@U112NNFV4>","ts":"1485187841.001444"},{"type":"message","user":"U184J2R7S","text":"Today we have sample config- we should have sifferent sample config and put them-- and use docker compose","ts":"1485187867.001445"},{"type":"message","user":"U184J2R7S","text":"and we generate the sample config","ts":"1485187871.001446"},{"type":"message","user":"U184J2R7S","text":"What does it mean to have identity to invoke chaincode?  ours is a permissioned ledger.. this is important concept.. but we need to at least need to highlight that.. wecan go into details in MSP, but at minimum this should be outlined.","ts":"1485187901.001447"},{"type":"message","user":"U184J2R7S","text":"How can I use to invoke chaincode?","ts":"1485187910.001448"},{"type":"message","user":"U184J2R7S","text":"How about we have one config and config has identities that are pre-generated and we describe how we got identities and the places we are going to use","ts":"1485187933.001449"},{"type":"message","user":"U184J2R7S","text":"This is trying to explain the initial set for end of this month and starts to be the framework- i agree that a high level description of how membership is enforced- explain permissions are organization based, we will have notion of membership defined via crypto mechanisms and x509 based support and here is a simple paragraph on that","ts":"1485187982.001450"},{"type":"message","user":"U184J2R7S","text":"We then at end of this month- you want multiple orgs- each has x509 certificate- here is what you need to gather and we have worked out in api the config transaction for create channel has that MSP config struct. we make it simple at high level that the basics have MSP name plus the pem certificate and this is how it works. Then we can add more as we go along- it gives you the basic framework to start wtih","ts":"1485188054.001451"},{"type":"message","user":"U184J2R7S","text":"In addition with that- we do some configurations for reference- we provide with 3 organizaitons and here is 3 root certificate authorities and an MSP policy that is 2 out of 3 for endorsement and have at it. <@U11HTMW0H>","ts":"1485188088.001452"},{"type":"message","user":"U184J2R7S","text":"Angelo indicated that we already have a lot of this written up- so Nick and Josh can pick up from the dock from Elli and team","ts":"1485188126.001453"},{"type":"message","user":"U184J2R7S","text":"----------------------------","ts":"1485188142.001454"},{"type":"message","user":"U184J2R7S","text":"What I want to do- put your name on the items on the board and you work on it-- I want to have a standup scrum at 3pm today where I will transcript again here on the fabric-dev channel.  We will only do 2 things- what are the things preventing you from progressing? we will then keep people who need.","ts":"1485188207.001455"},{"type":"message","user":"U184J2R7S","text":"we will do this at 9:30 and 3pm and will post on the channel","ts":"1485188216.001456"},{"type":"message","user":"U184J2R7S","text":"if there is feedback from any of  the items above from those not involved in discussion (where there were many)- please get with squad laters or Gari Singh or Binh Nguyen","ts":"1485188254.001457"},{"type":"message","user":"U184J2R7S","text":"With Clayton- we will take a quick break- we want to have discussion with Keith, Jim, and Binh so we talk about the scenario on how we use this- what is it that we expect to do on February 1st","ts":"1485188364.001458"},{"type":"message","user":"U184J2R7S","text":"This may further refine the list up above- again we should ask that the community contribute to what we have written here","ts":"1485188384.001459"},{"type":"message","user":"U184J2R7S","text":"----------------------","ts":"1485188390.001460"},{"type":"message","user":"U184J2R7S","text":"<@U0W7D64LC>  highlighting that you need to read the channel","ts":"1485188818.001461"},{"type":"message","user":"U184J2R7S","text":"-----------------------","ts":"1485188823.001462"},{"type":"message","user":"U184J2R7S","text":"We have drawn a  pic on the board","ts":"1485188938.001463"},{"type":"message","user":"U184J2R7S","text":"Boxes are fabric-ca, orderer(solo), peer, SDK\/App","ts":"1485188949.001464"},{"type":"message","user":"U184J2R7S","text":"We want someone to be able to program and use the fabric at end of month","ts":"1485188964.001465"},{"type":"message","user":"U184J2R7S","text":"Solo needs to come up- so someone needs to call create channel. There has to be a CA\/Id that the orderer has to trust","ts":"1485189111.001466"},{"type":"message","user":"U184J2R7S","text":"From SDK you must be able to create channel (orderer) and join channel (peer)","ts":"1485189171.001467"},{"type":"message","user":"U184J2R7S","text":"Let's assume that we have multiple peers\/cc 's","ts":"1485189185.001468"},{"type":"message","user":"U184J2R7S","text":"We have multiple peers\/cc","ts":"1485189205.001469"},{"type":"message","user":"U184J2R7S","text":"Org1 peer, org 2peer, org 3peer","ts":"1485189233.001470"},{"type":"message","user":"U184J2R7S","text":"in orderer- you have config block (chain name, address of orderer, msp config- cert\/anchor peer.. cert\/anchor,. cert\/anchor)","ts":"1485189356.001471"},{"type":"message","user":"U184J2R7S","text":"if we agree to this- the end scenario is that your application to prove out more than our single endorser..","ts":"1485189392.001472"},{"type":"message","user":"U184J2R7S","text":"We have definition of create channel and taking in MSP config is in there.. but the orderer is not reading it; for create channel- the orderer takes what SDK channel takes so we have to come up with the right materials... jeff has it on the screen as he worked it.  The only thing missing orderer is not taking generated MSP information- i already do it on the peer side.","ts":"1485189459.001473"},{"type":"message","user":"U184J2R7S","text":"Does the peer itself write to the block? yes.. does the peer load any of the information and loads into the channel MSP config and utilize for cert config","ts":"1485189501.001474"},{"type":"message","user":"U184J2R7S","text":"Current policy one of all members of the channel","ts":"1485189511.001475"},{"type":"message","user":"U184J2R7S","text":"Then why do we have to do any additional work for January 31st?","ts":"1485189526.001476"},{"type":"message","user":"U184J2R7S","text":"The local MSP for orderer.. do i care if orderer signs messages... the high level scenario write chaincode, deploy chaincode, and use basic policy that is more than one guy endorsing it.. 1 of MSP configured for channel","ts":"1485189571.001477"},{"type":"message","user":"U184J2R7S","text":"All the info is in messages ...","ts":"1485189583.001478"},{"type":"message","user":"U184J2R7S","text":"If you don't need access control- then we are done","ts":"1485189595.001479"},{"type":"message","user":"U184J2R7S","text":"simple scenario that works-- all the stuff surrounding it that we need to have some level of code, because in February we really need to start testing.","ts":"1485189618.001480"},{"type":"message","user":"U184J2R7S","text":"If I want to have someone use this thing- is it useable now and prove out basics of system. What is missing?  should we just do doc improvement on this scenario?","ts":"1485189658.001481"},{"type":"message","user":"U184J2R7S","text":"WE can work on  how we integrate the CA into scenario.. and process of SDK can utilize what Jeff did in his script already showing this scenario work.","ts":"1485189685.001482"},{"type":"message","user":"U184J2R7S","text":"If changes to from last week- too many merges can happen... and can hurt us","ts":"1485189702.001483"},{"type":"message","user":"U184J2R7S","text":"We should probably have ability to create multiple channels---","ts":"1485189727.001484"},{"type":"message","user":"U184J2R7S","text":"(this works)","ts":"1485189754.001485"},{"type":"message","user":"U184J2R7S","text":"@bmoss299 we should make sure that this scenario up above is what is documented by Nick\/Josh","ts":"1485189775.001486"},{"type":"message","user":"U184J2R7S","text":"Do we want to show negative checking? do we need to verify endorsements?  it would be trivial to add a user that is not signed by cas that is not accepted by channel creation and that works-","ts":"1485189805.001487"},{"type":"message","user":"U184J2R7S","text":"for SDK to do the precheck- we need MSP on backend to be done and we do need work on SDK","ts":"1485189820.001488"},{"type":"message","user":"U184J2R7S","text":"Brett seems to be working on join channel... we need to publish those as mpms alpha version. you want to have a sample","ts":"1485189843.001489"},{"type":"message","user":"U184J2R7S","text":"on sample i would separate out deploy\/invoke- here is how you create\/join channel and here's how you deploy and invoke chaincode.","ts":"1485189860.001490"},{"type":"message","user":"U184J2R7S","text":"It can fail any one of those processes, but it helps to see those steps.  we are in better shape than thought. We should take this same scenario","ts":"1485189885.001491"},{"type":"message","user":"U184J2R7S","text":"now we decide we add TLS or add authentication by ordering side and we should then iterate... we use the images from what we have","ts":"1485189910.001492"},{"type":"message","user":"U184J2R7S","text":"we could tag a version of master and build the images from there","ts":"1485189920.001493"},{"type":"message","user":"U184J2R7S","text":"----------","ts":"1485189922.001494"},{"type":"message","user":"U184J2R7S","text":"Current behave images- effectively the top part is the CA definition- you can see defined order nnetwork (only signle organization)","ts":"1485189940.001495"},{"type":"message","user":"U184J2R7S","text":"we have process a subject, a context, and a signer.. even though different verbiage we have admin tuple- cert from subject for context given an org","ts":"1485189963.001496"},{"type":"message","user":"U184J2R7S","text":"this guy orderer0signer, order0o, orderorg() this is cert that puts under orderer when it starts- we can pass the yaml file to orderer. you will have local MSPs","ts":"1485189992.001497"},{"type":"message","user":"U184J2R7S","text":"all that information is passed around","ts":"1485189997.001498"},{"type":"message","user":"U184J2R7S","text":"ordererOrg()- this points to org that points to pem file with self sgining","ts":"1485190013.001499"},{"type":"message","user":"U184J2R7S","text":"in scenario- we can decide if we do 3 cops- we can integrate that into scenario.. we can use ca for short","ts":"1485190041.001500"},{"type":"message","user":"U184J2R7S","text":"this minimizes and nick can improve on docs... Jeff feels he can generate docs dynamically","ts":"1485190058.001501"},{"type":"message","user":"U184J2R7S","text":"on volume- i'm going to output all the key artifacts","ts":"1485190107.001502"},{"type":"message","user":"U184J2R7S","text":"so organization- all key organizations you want to define, ie peer org2","ts":"1485190117.001503"},{"type":"message","user":"U184J2R7S","text":"So now you have afccess to the organization- orderer generates the GUId- so ordersystemcainid... so we utilize this name","ts":"1485190135.001504"},{"type":"message","user":"U184J2R7S","text":"then bootstram creates chain policy- so basically i'm creating policy so thhree orgs can create channels , ie peer org0, 1\/3","ts":"1485190156.001505"},{"type":"message","user":"U184J2R7S","text":"so now signed items are created-- and now we have to create the msp using that policy (chaincreate policy 1)","ts":"1485190174.001506"},{"type":"message","user":"U184J2R7S","text":"Now you have to create the genesis block for that chain id using policy solo and  referencing all tehse policies and associated names","ts":"1485190193.001507"},{"type":"message","user":"U184J2R7S","text":"chain creator does enforce that in that msp based on whatever that policy is","ts":"1485190207.001508"},{"type":"message","user":"U184J2R7S","text":"that creates the genesis block","ts":"1485190215.001509"},{"type":"message","user":"U184J2R7S","text":"We are missing a step instead of guy creating a block- the guy has to create the block data and collects signature on the orderer just like developer- orderer has to get the sigs if there is one org or multiple org in orderer. but we have to add that","ts":"1485190263.001510"},{"type":"message","user":"U184J2R7S","text":"But none of that is enforced today- no, but I don't want to miss it","ts":"1485190276.001511"},{"type":"message","user":"U184J2R7S","text":"so you tell that story- how we have to incrementally plug those features in","ts":"1485190286.001512"},{"type":"message","user":"U184J2R7S","text":"couple of other things- and this thing i'm defining th e peer network- this generates signer certs to each peer and peer starts with right  local msp","ts":"1485190316.001513"},{"type":"message","user":"U184J2R7S","text":"i gave peer 0 to peerorg0 but peer 2 and 3 peer 2 in org 1, peer 3 in org 1","ts":"1485190333.001514"},{"type":"message","user":"U184J2R7S","text":"this is template stuff--","ts":"1485190337.001515"},{"type":"message","user":"U184J2R7S","text":"the next thing we do is identify developer for peer organization- give a subject and give context chaincreate policy1 (the one we gave to orderer)","ts":"1485190355.001516"},{"type":"message","user":"U184J2R7S","text":"this is like giving developer access to a space- because I don't want anyone using the peer certs .. this gives sdk it's own identity as example","ts":"1485190374.001517"},{"type":"message","user":"U184J2R7S","text":"peer org signs and devleoping in this space which we call chain create policy1","ts":"1485190386.001518"},{"type":"message","user":"U184J2R7S","text":"I need identities for organization- so i chose peerorg0 and peerorg1 and this is subset of the genesis block- I could limit my channels to single org or subset of the org-","ts":"1485190423.001519"},{"type":"message","user":"U184J2R7S","text":"if you have create chain policy- you can add any org you want.. because it has to be in the orderers- right now it does.. how can they validate it. how can they verify the sig. they do verify sigs. you verify signatures of public but it has to be in trusted root","ts":"1485190460.001520"},{"type":"message","user":"U184J2R7S","text":"if i have create chain- theat everybody in this list-everyone has to sign it- so you have signature across the bytes, but remember these are the peerorgs you are asking for endorsement from","ts":"1485190490.001521"},{"type":"message","user":"U184J2R7S","text":"cft ordering system- there has to be at simplest- you have to then decide continue certs .. so you have to have one guy must add a bunch of root cas of who can do a create channel . now I am allowed to create channels i should not have list and should go out and pick 15 other people as long as signed by those CAs ...","ts":"1485190562.001522"},{"type":"message","user":"U184J2R7S","text":"acceptance of block- i inspect,... or never join acceptance without signing. at what point will orderer enforce his certification. On broadcast","ts":"1485190588.001523"},{"type":"message","user":"U184J2R7S","text":"IN this scneario- we are defining the peer organizations before we bootstrap the orderer. the reason we are doing that is we don't support the reconfiguration. so now who are the endorsements and particpate in the channel i'm going to create","ts":"1485190614.001524"},{"type":"message","user":"U184J2R7S","text":"i create peer anchor set and I'm saying my anchor is from peer org 0, peer 2 from peer org 1 so I'm picking 1 out of each group","ts":"1485190638.001525"},{"type":"message","user":"U184J2R7S","text":"i crate signed envelope- i have to reference channel, template, chain creation policy name and the anchor","ts":"1485190652.001526"},{"type":"message","user":"U184J2R7S","text":"Thetemplate is a reference to the ones I'm going to use that i defined,.. chaincreate policy1 is a logical name must be used in all channel creation","ts":"1485190691.001527"},{"type":"message","user":"U184J2R7S","text":"So now i get my signed config envelope- the orderer should ask all the order to sign before genesis block- org 0 collects signatures ...","ts":"1485190744.001528"},{"type":"message","user":"U184J2R7S","text":"now create config transaction using signed above","ts":"1485190781.001529"},{"type":"message","user":"U184J2R7S","text":"i save as configtx1 and broadcast to orderer","ts":"1485190792.001530"},{"type":"message","user":"U184J2R7S","text":"I wait","ts":"1485190794.001531"},{"type":"message","user":"U184J2R7S","text":"then i connect to deliver fucnation and seek request with those properties with chainid","ts":"1485190809.001532"},{"type":"message","user":"U184J2R7S","text":"i should get delivery from order0 in 1 block within 1 second","ts":"1485190818.001533"},{"type":"message","user":"U184J2R7S","text":"i then request to join using genseis block on peer 0 with result","ts":"1485190831.001534"},{"type":"message","user":"U184J2R7S","text":"I am calling api on system chaincode","ts":"1485190837.001535"},{"type":"message","user":"U184J2R7S","text":"then let's say it works (which it deos","ts":"1485190845.001536"},{"type":"message","user":"U184J2R7S","text":"now i'm delivering waiting and what does happen- we got a 200 response from peer","ts":"1485190887.001537"},{"type":"message","user":"U184J2R7S","text":"for information on immediate up above Jeff Garrat can help","ts":"1485190924.001538"},{"type":"message","user":"U184J2R7S","text":"the only thing that is not there orderer is not using the cert available to it (peer does this already so similar code)","ts":"1485190939.001539"},{"type":"message","user":"U184J2R7S","text":"I just need to deploy and have code in deploy and ask for multiple endorsements at the same time","ts":"1485190956.001540"},{"type":"message","user":"U184J2R7S","text":"lot of steps to get network up and running","ts":"1485190980.001541"},{"type":"message","user":"U184J2R7S","text":"my docker network is running and you can use cli","ts":"1485191002.001542"},{"type":"message","user":"U184J2R7S","text":"but developer should not run bdd- they should just run docker compose","ts":"1485191010.001543"},{"type":"message","user":"U184J2R7S","text":"it's more involved than that, because under the covers, i'm creating genesis file dynamically and also generating the local msp","ts":"1485191027.001544"},{"type":"message","user":"U184J2R7S","text":"so i create ca certs, pstore and parameterized","ts":"1485191038.001545"},{"type":"message","user":"U184J2R7S","text":"docker compose can bring up entities unles syou hard code- so now you need scripts to link them together","ts":"1485191049.001546"},{"type":"message","user":"U184J2R7S","text":"We have to do the work on SDK sde to make this work and they should replicate this","ts":"1485191073.001547"},{"type":"message","user":"U184J2R7S","text":"ARe you saying angelo we support one of msp policy today- we do on VSCC","ts":"1485191098.001548"},{"type":"message","user":"U184J2R7S","text":"do you define that at the ESCC side? they do have to match but we have the one of","ts":"1485191108.001549"},{"type":"message","user":"U184J2R7S","text":"and does that work when you deploy chaincode- we have to work that- which is chaincode lifecycle","ts":"1485191122.001550"},{"type":"message","user":"U184J2R7S","text":"which is in the list","ts":"1485191126.001551"},{"type":"message","user":"U184J2R7S","text":"we have everything to joined channel and we can inject deployment","ts":"1485191139.001552"},{"type":"message","user":"U184J2R7S","text":"but deployment not ready yet","ts":"1485191143.001553"},{"type":"message","user":"U184J2R7S","text":"to deploy chaincode- you need one of policy--- we need that","ts":"1485191151.001554"},{"type":"message","user":"U184J2R7S","text":"if we expect people to not break apis' we probably need chaincode return object","ts":"1485191165.001555"},{"type":"message","user":"U184J2R7S","text":"it is implemented but  merged and committed and documented","ts":"1485191176.001556"},{"type":"message","user":"U184J2R7S","text":"you need deploy transaction and need in SDK to specify the ESCC policy","ts":"1485191187.001557"},{"type":"message","user":"U184J2R7S","text":"Jeff- if i look at the log for gossip peer- which is peer 1- i see something that is concerning-","ts":"1485191255.001558"},{"type":"message","user":"U184J2R7S","text":"there is \"no such channel\" on the anchor","ts":"1485191262.001559"},{"type":"message","user":"U184J2R7S","text":"i would tag master and build and go through 20 steps and everything provisioned","ts":"1485191394.001560"},{"type":"message","user":"U184J2R7S","text":"there is a mismatch in gossip and way we are encoding","ts":"1485191424.001561"},{"type":"message","user":"U184J2R7S","text":"VSCC would only check to see if one of members is singing","ts":"1485191434.001562"},{"type":"message","user":"U184J2R7S","text":"Things for absolute minimum- chaincode return object, chaincode endorsement policy, escc\/VSCC, events support (includ rejection ), chainjoin (creation basically needs to get done)","ts":"1485191522.001563"},{"type":"message","user":"U184J2R7S","text":"The rest of the other items should progress- but we know what the most important it is","ts":"1485191750.001564"},{"type":"message","user":"U184J2R7S","text":"The other piece we MUST decide on is chaincode lifecycle","ts":"1485191766.001565"},{"type":"message","user":"U184J2R7S","text":"<@U0KPFAZNF>  please make sure to read this channel- lots of discussion today","ts":"1485191784.001566"},{"type":"message","user":"U0KPFAZNF","text":"holy cow, that is a big backlog, heh","ts":"1485191815.001567"},{"type":"message","user":"U184J2R7S","text":"i don't know that I have everyone marked and i tired to put --- in at the places where we sto;ped and talked different topics","ts":"1485191882.001568"},{"type":"message","user":"U184J2R7S","text":"and can't say anything about my spelling -","ts":"1485191894.001569","reactions":[{"name":"relaxed","users":["U11MANG9G"],"count":1}]},{"type":"message","user":"U184J2R7S","text":":wink:","ts":"1485191895.001570"},{"type":"message","user":"U0KPFAZNF","text":"I havent had a chance to digest all of that, but fwiw, I am currently driving a few areas related to busybox\/dns fixes, devmode deployment via SDK, chaintool CAR deployment via SDK, chaintool support for v1.0, and cleanup of the chaincode deployment logic in general","ts":"1485191969.001571"},{"type":"message","user":"U0KPFAZNF","text":"(much of which I already have completed but it hasnt yet been merged or submitted","ts":"1485192019.001572"},{"type":"message","user":"U0KPFAZNF","text":"that will be happening over the next few days","ts":"1485192029.001573"},{"type":"message","user":"U0UHG4VP1","text":"<@U184J2R7S> <@U0KPFAZNF> that will be on the wiki soon","ts":"1485192115.001574"},{"type":"message","user":"U0UHG4VP1","text":"<@U184J2R7S> what is the context for this?","ts":"1485192337.001575"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/wiki.hyperledger.org\/community\/fabric-notes>","ts":"1485194072.001576"},{"type":"message","user":"U184J2R7S","text":"<@U0UHG4VP1> Binh met with several people that develop on the fabric","ts":"1485196435.001577"},{"type":"message","user":"U184J2R7S","text":"We already have docker images that people can utilize (not sure it's all checked in), but we wnat to make sure for the hackfest that we have all the right pieces for people to","ts":"1485196464.001578"},{"type":"message","user":"U184J2R7S","text":"1) start up the fabric","ts":"1485196480.001579"},{"type":"message","user":"U184J2R7S","text":"2) be able to bootstrap a network","ts":"1485196498.001580"},{"type":"message","user":"U184J2R7S","text":"3) be able to  join, create and deploy chaincode on multiple chains based on who is allowed to be in that channel  (ie we have multichannels working)","ts":"1485196524.001581"},{"type":"message","user":"U184J2R7S","text":"4) they should be able to do the full transaction from sending transactions to the endorsers (where a policy is set- for example one out four endorsers can approve the transaction), be able to send to orderer and have it ordered and then put into the ledger (whether couchdb or level db).. they should be able to query the result---&gt; this should be able to be done against multiple channels","ts":"1485196594.001582"},{"type":"message","user":"U184J2R7S","text":"5) who is allowed on the channel is important part of scenario","ts":"1485196605.001583"},{"type":"message","user":"U184J2R7S","text":"As a result the items above- we took assessment where all the pieces are in the fabric (there are some holes as not everyone anted up information during hte call)... and highlighted what we thought we needed to be done.  So you will see categories of fabric, SDK, BDD (for testing) , documentation, and cop","ts":"1485196651.001584"},{"type":"message","user":"U184J2R7S","text":"after that, and this is probably where the notes got fuzzy, Jeff Garrat took us through BDD showing how to bootstrap the network","ts":"1485196674.001585"},{"type":"message","user":"U184J2R7S","text":"as this is already working and flowing an what minor pieces just need to be completed there","ts":"1485196687.001586"},{"type":"message","user":"U0UHG4VP1","text":"Belay that, I mis-remembered that","ts":"1485197161.001589"},{"type":"message","user":"U184J2R7S","text":"To be clear- not everyone from community has inputted on this ... but if there is input- would be good to get it..  to ensure everyone has right priorities.","ts":"1485198100.001590"},{"type":"message","user":"U3781DR97","text":"Hi, I recently added support for \"PortBindings\" in vm.docker.hostConfig. What would be the best way to submit a patch to you guys? It's single digit LOC.","ts":"1485204667.001591"},{"user":"U344ZJT9P","text":"<@U344ZJT9P|drteck> has joined the channel","type":"message","subtype":"channel_join","ts":"1485205066.001592"},{"user":"U1MSZ37NK","text":"<@U1MSZ37NK|sstone1> has joined the channel","type":"message","subtype":"channel_join","ts":"1485206114.001593"},{"type":"message","user":"U0KPFAZNF","text":"<@U3781DR97> awesome, welcome to the project","ts":"1485206148.001594"},{"type":"message","user":"U0KPFAZNF","text":"<http:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/CONTRIBUTING\/>","ts":"1485206149.001595"},{"type":"message","user":"U0KPFAZNF","text":"in short, we use Gerrit...its all documented in there.  Ping back if anything isnt clear","ts":"1485206183.001596"},{"type":"message","user":"U184J2R7S","text":"another quick conversation--&gt; Now the thing that we can do, we can run Jeff Garrat's BDD- capture the block, put in sample directory and we run with that.  That allows our CLI to work,.. that would allow the demo scenario to work with the new configuration block.  With that configuration block- what would we have to do to submit that transaction to the orderer.  Have you look at config txt template stuff?  Basically there is under config tx test thereis order template file and peer template file.  This is the statically exported thing (not fromjeff's tool) this is configuration tool.. and feed in new chain- and spits out the transaction you have to spit it out to create a new chain- there is no import cycles,etc,..","ts":"1485206400.001597"},{"type":"message","user":"U184J2R7S","text":"So what if you did this? bring up compose, another docker container we boot up and tells people to console into it (exec batch into it).. it has the CLi and it has a series of commands... it can be any of those things. You can log into xyz, you run CDE,.. and then your thing is initialized an dyou can run your nodejs.sdk to run your transactions.  People just have a hard time running CLI-- it allows us to use docker and not vagrant.  Have a CLI container and do stuff.  We just add additional commands- this is admin configuring the network.  So you want to create chain and here's what you do.","ts":"1485206476.001598"},{"type":"message","user":"U184J2R7S","text":"We can do that easily without channel create. and specify flag default cahnnel, use your template.","ts":"1485206490.001599"},{"type":"message","user":"U184J2R7S","text":"You can actually do interactive- whatever command you run- you run batch script and then test just exec docker and run as a command line and without invoking the container- htat is how we did this last week, we put it in a container","ts":"1485206533.001600"},{"type":"message","user":"U184J2R7S","text":"As long as we don't hardcode, but include the \"generation part\"... how many templates... let's just cli create to take argument where CLI chain create command will it do it for you.. we will call the templates","ts":"1485206562.001601"},{"type":"message","user":"U184J2R7S","text":"so now on board -- we are adding CLI channel create for alpha","ts":"1485206586.001602"},{"type":"message","user":"U184J2R7S","text":"Jeff has this working in behave- it's completely parameterized.. you get a language- you can add orgs, change orgs, create as many channels you want, create as many order networks.... will we intimidate developers to do that... Jeff says- it would be good to do a python setup .. you can clone the get... Actually, what we should really do is bake into the image.. Behave stuff drives docker compose.. and you can drive docker.. bind in the docker socket.","ts":"1485206658.001603"},{"type":"message","user":"U0KPFAZNF","text":"<@U10Q62R8X> <@U0YK3KKCY> <@U11HH3P7Y> regarding: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4359\/>","ts":"1485206675.001604"},{"type":"message","user":"U0KPFAZNF","text":"how do we want to proceed ?","ts":"1485206694.001605"},{"type":"message","user":"U10Q62R8X","text":"talking with John atm..","ts":"1485206703.001606"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1485206706.001607"},{"type":"message","user":"U0KPFAZNF","text":"ill look to you guys: if you come back and are confident my concerns are unfounded, ill remove my -2","ts":"1485206728.001608"},{"type":"message","user":"U10Q62R8X","text":"John showed me that softhsm was not installed.. and I forgot that its debian..","ts":"1485206729.001609"},{"type":"message","user":"U0YK3KKCY","text":"I think for the first step, we'll need to get softhsm2 into testenv for fabric","ts":"1485206766.001610"},{"type":"message","user":"U0KPFAZNF","text":"ok, thats a very low-risk proposition from my perspective","ts":"1485206794.001611"},{"type":"message","user":"U10Q62R8X","text":"I do need it in asap, sitting on quite the few changes that cant go in without it.. but.. found some issues with how I specify pkcs11-slot.","ts":"1485206815.001612"},{"type":"message","user":"U184J2R7S","text":"what is important is they need to have an admin thing that is clear-- so the only way to build an app is to use the SDK.. we should have two simple scripts that create channel to call the apis-- just to make it easy.","ts":"1485206817.001613"},{"type":"message","user":"U0KPFAZNF","text":"(sorry weeds, cross-talked over your stream of consciousness ;)","ts":"1485206856.001614"},{"type":"message","user":"U184J2R7S","text":"We are set on CLI and run clis in an interactive docker container.  So we are going to modify channel create.. it will take default template and use it as the configuration (it's ok greg- just trying to capture discussion here for your guys- can't tell if you can even follow the stream of consciousness)","ts":"1485206887.001615"},{"type":"message","user":"U0KPFAZNF","text":"understood, just apologizing for interrupting it","ts":"1485206912.001616"},{"type":"message","user":"U184J2R7S","text":"Jason- how would in default template get cert--- you would have to regenerate the template. Basically the tool that I keep alluding to essentially is order admin tool that connects to and dumps a template chain by looking at the block","ts":"1485206951.001617"},{"type":"message","user":"U184J2R7S","text":"The tool does not exist- there is a static tool that exists, but we need this to work at run time. then we would check template in and can be generated... as part of the compose once you are running services which dumps template and would be fed into chain creation tool","ts":"1485207003.001618"},{"type":"message","user":"U184J2R7S","text":"My developer needs a private key- we self generate all that stuff.  we will have docker image for the cli.. so we could just use a shared volume to the local msp which is needed for that key and bake it in ahead of time... hmmm.  the one jeff does bdd does it through shared volumes.   someone is outside of docker writing a node app.. he has to find stuff.. if we just started a container rather than docker run, we can do docker exec,.. you could template, keys being there,etc,..","ts":"1485207108.001619"},{"type":"message","user":"U184J2R7S","text":"in their application, where do we get their certificate from- there in a shared volume- they are on local file system,,.. you could put that in... that would be the easiest thing to do.. REally Jason said he needs to talk about the SDK guys -  they really should not know how to do that and pick up from template and be able to print them,. .for now it's an efficiency, because we only have templates working is in go.. but that really should be in sdk at this point","ts":"1485207190.001620"},{"type":"message","user":"U184J2R7S","text":"Binh suggested maybe give them an api to implement?  Jason said- ok.. give them an api to use the templates we generate. Open a JIRA or slack it to them?  Slack it to them.","ts":"1485207222.001621"},{"type":"message","user":"U184J2R7S","text":"Barry- maybe I have Latitia to help you?  Jason- I would love to get more people to know how this works. It's tying hte config and node program and spinning up something quickly.","ts":"1485207261.001622"},{"type":"message","user":"U184J2R7S","text":"(we need to forget not to miss the java sdk)","ts":"1485207274.001623"},{"type":"message","user":"U184J2R7S","text":"There are some questions for Jim in terms of validation process for Barry and Latitia","ts":"1485207316.001624"},{"type":"message","user":"U184J2R7S","text":"We have an image, spins up fabric, runs templates,.. which crypto mounted to volume and then tell sdk here is how you connect and use this.","ts":"1485207354.001625"},{"type":"message","user":"U184J2R7S","text":"Just to get someone writing ... the thing with  say I had another image he spins everything up and it's a done deal for me- i have all certs and network. if I run a behave (instead of the cli) run the docker image that runs the behave- we mount that.. in behave, you would have to generate all the cert stuff.. it will do it for you.. we just tell the end user.. hey sdk developer- yo uare ready to go.  If you just basically toe do not decompose.. if you can get an image.. put.  now we can hardcode behave .. maybe that's an easier fix.","ts":"1485207449.001626"},{"type":"message","user":"U184J2R7S","text":"Which is better? at end of the day, people are going to have to know how to create the configuration transaction and you won't have all your stuff in one place and you will have to deal with templates... Yes, that's true.","ts":"1485207482.001627"},{"type":"message","user":"U184J2R7S","text":"The big thing is can you make behave from inside a docker container-- that's going to be the question- you can bind docker socket into docker image.  That's unit test, but Jeff  might know.","ts":"1485207519.001628"},{"type":"message","user":"U0KPFAZNF","text":"<@U184J2R7S>: on that front, it was my intention, though I have yet to prove it out that \"make behave\" would eventually drive the behave tests with a \"$(DRUN) behave\", similar to how we do unit tests","ts":"1485208134.001629"},{"type":"message","user":"U0KPFAZNF","text":"as part of that, I would be moving the python installation stuff that we currently do in the baseimage to be within the testenv container that is JITted as part of the build","ts":"1485208172.001630"},{"type":"message","user":"U0KPFAZNF","text":"from there, it should be straight forward to grant the behave container permissions to dockerd for its own control of futher containers, similar to what we do in other places","ts":"1485208209.001631"},{"type":"message","user":"U0KPFAZNF","text":"but where I am going with this is: I woulnt classify it as \"make behave\" running in a container, as much as \"make behave\" drives behave within docker","ts":"1485208249.001632"},{"type":"message","user":"U0KPFAZNF","text":"thats probably the same thing you meant, but good to clarify","ts":"1485208258.001633"},{"type":"message","user":"U0KN2SSKE","text":"<@U0KPFAZNF> :+1: We were talking about what would be the best way to help app developers set up a working environment, and the thought was to run a bdd feature (pick an appropriate one)","ts":"1485224141.001634"},{"type":"message","user":"U0KPFAZNF","text":"ah, as in use bdd to help create an app developer environment?","ts":"1485224165.001635"},{"type":"message","user":"U0KN2SSKE","text":"yes, but we wouldn\u2019t want developers to have to install vagrant + other tools, just bring up a docker image to run the bdd from it","ts":"1485224229.001636"},{"type":"message","user":"U0KPFAZNF","text":"ok, but we are already largely there, arent we ?","ts":"1485224267.001637"},{"type":"message","user":"U0KPFAZNF","text":"the majority of functions (excluding bdd) only need make\/git\/docker\/docker-compose","ts":"1485224292.001638"},{"type":"message","user":"U0KPFAZNF","text":"and I think bdd could be brought into that fold fairly easily","ts":"1485224309.001639"},{"type":"message","user":"U0KPFAZNF","text":"some of what you are talking about reminds me of this old issue: <https:\/\/github.com\/hyperledger\/fabric-chaintool\/issues\/5>","attachments":[{"service_name":"GitHub","title":"add &quot;chaintool new&quot; \u00b7 Issue #5 \u00b7 hyperledger\/fabric-chaintool \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/issues\/5","text":"Would be nice if the tooling could emit a skeleton project to get things started, similar to \"lein new\".","fallback":"GitHub: add \"chaintool new\" \u00b7 Issue #5 \u00b7 hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/issues\/5","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/bfaba\/img\/unfurl_icons\/github.png","id":1}],"ts":"1485224369.001640"},{"type":"message","user":"U0KN2SSKE","text":"i think the work is to enable bdd inside a container to create images and launch other containers","ts":"1485224369.001641"},{"type":"message","user":"U0KPFAZNF","text":"I was envisioning a user doing something like \"chaintool new\" and it will spit out a skeleton chaincode app","ts":"1485224441.001643"},{"type":"message","user":"U0KPFAZNF","text":"it would be fairly easy to make different profiles that are both CCI based and those that are not","ts":"1485224470.001644"},{"type":"message","user":"U0KPFAZNF","text":"not sure if that is exactly what you were looking for though","ts":"1485224503.001645"},{"type":"message","user":"U0KN2SSKE","text":"and \u201cchaintool new\u201d with an option to launch an env and deploy the app","ts":"1485224527.001646"},{"type":"message","user":"U0KPFAZNF","text":"ok, i see where you are going","ts":"1485224548.001647"},{"type":"message","user":"U0KPFAZNF","text":"yeah, you could use chaintool code-generation capabilities to spit out whatever you wanted, and then drive an environment with docker-compose","ts":"1485224581.001648"},{"type":"message","user":"U0KPFAZNF","text":"it would mostly be a function of defining the templates that we need","ts":"1485224616.001649"},{"type":"message","user":"U0KPFAZNF","text":"chaintool is currently based on the stringtemplate engine (<http:\/\/www.stringtemplate.org\/>)","ts":"1485224660.001650"},{"type":"message","user":"U0KN2SSKE","text":"right and that is done with bdd features today, so we were thinking about capture that in an image, but it can definitely chaintool","ts":"1485224697.001651"},{"type":"message","user":"U0KPFAZNF","text":"ok...i think regardless, moving towards integrating bdd with the $(DRUN) stuff makes sense","ts":"1485224738.001652"},{"type":"message","user":"U0KN2SSKE","text":"agreed","ts":"1485224822.001653"},{"type":"message","user":"U0KN2SSKE","text":"<@U0KPFAZNF> btw, we could use some feedback on this chaincode deployment proposal <https:\/\/jira.hyperledger.org\/browse\/FAB-1783>","ts":"1485224962.001654"},{"type":"message","user":"U0KPFAZNF","text":"will take a look, thx","ts":"1485224990.001655"},{"type":"message","user":"U0KN2SSKE","text":"thanks","ts":"1485225026.001656"},{"user":"U10PJ3XH9","text":"<@U10PJ3XH9|lowry1515> has joined the channel","type":"message","subtype":"channel_join","ts":"1485229995.001657"},{"type":"message","user":"U36UDC6RK","text":"Hello, just a short question, is it possible to find out the ip address of the running membersrvc ?","ts":"1485254470.001658"},{"type":"message","user":"U0P2GSA8Z","text":"<@U36UDC6RK>, I don't know but ask on <#C2Y3CPP16|fabric-ca> where the experts are","ts":"1485255776.001659"},{"type":"message","user":"U36UDC6RK","text":"<@U0P2GSA8Z> I\u2019m still using the v0.6 branch, so im not sure if <#C2Y3CPP16|fabric-ca> is the appropriate channcel, isnt it?","ts":"1485255932.001660"},{"type":"message","user":"U0P2GSA8Z","text":"that's where all the experts in membersrvc are :slightly_smiling_face:","ts":"1485256308.001661"},{"type":"message","user":"U36UDC6RK","text":"okay thanks!","ts":"1485257044.001662"},{"type":"message","user":"U184J2R7S","text":"@bmoss299 see just above on conversation with ghaskins please as this came in after our discussion and notes i posted up above","ts":"1485257388.001663"},{"type":"message","user":"U184J2R7S","text":"<@U11HTMW0H> see above","ts":"1485257400.001664"},{"type":"message","user":"U0KPFAZNF","text":"is anyone aware of a way to see the chaincode stdout during deployment?","ts":"1485258938.001665"},{"type":"message","user":"U0KPFAZNF","text":"or really any of the logging subsystems in general?","ts":"1485260524.001666"},{"type":"message","user":"U0KPFAZNF","text":"I would like to see the 'dockercontroller\" output, but not sure how to tune the level to debug","ts":"1485260554.001667"},{"user":"U3S1PENVA","text":"<@U3S1PENVA|vadim> has joined the channel","type":"message","subtype":"channel_join","ts":"1485262946.001668"},{"user":"U3VFJD42F","text":"<@U3VFJD42F|choojoyq> has joined the channel","type":"message","subtype":"channel_join","ts":"1485263651.001669"},{"type":"message","user":"U3VFJD42F","text":"Hello, is it appropriate channel for question about java chaincode deployment process?","ts":"1485263813.001670"},{"type":"message","user":"U0P2GSA8Z","text":"<@U3VFJD42F> you might want to try <#C1D3VRND8|java-chaincode>","ts":"1485264608.001671"},{"type":"message","user":"U0P2GSA8Z","text":"not that here is a bad place to ask, just that you may have better luck there","ts":"1485264631.001672"},{"type":"message","user":"U3VFJD42F","text":"<@U0P2GSA8Z> thanks for response,  will try to find the answer there as well","ts":"1485265947.001673"},{"type":"message","user":"U3VFJD42F","text":"I have a module which provides common classes for my other modules, for example module 'common' and module 'm1' which depends on it. During chaincode deployment i point peer to the folder with 'm1' source code and build.gradle file. Sequence of steps that i noticed during deployment, correct me if i'm wrong : 1. Fabric starts new docker container. 2. Copies files from m1 directory to chaincode directory. 3. Runs grade clean &amp; gradle build in this directory. So the issue is with step 3. Could you please explain why fabric required source code and build file during deployment instead for compiled archives(jar files for example)? This causes issue with referencing the 'common' module, cause i can't pass this directory during deployment and reference it using relative path, i can't reference it from maven local as well, cause docker container has its own m2 home directory which doesn't have this module(but i noticed that container knows about java-shim, i believe that this reference presents in docker image file). Is it possible to deploy chaincode using such project structure without using of remote maven repositories? i use fabric 0.6","edited":{"user":"U3VFJD42F","ts":"1485266288.000000"},"ts":"1485266022.001674"},{"type":"message","user":"U184J2R7S","text":"Scrum meeting started (late taking notes)- i'd like to continue to run BDD with current chaincode deployment.","ts":"1485269027.001676"},{"type":"message","user":"U184J2R7S","text":"working on two things in JDK- (jim zhang)- have sdk load materials to initialize MSP for local and then need change a few things in TSA implementation; nothing on list are being checked off.  we had discussion with Grant\/Pat who are working on events. ARe you working with Jason on template stuff?  The template is involved somewhere in the request.  Jason said let's get together.","ts":"1485269161.001677"},{"type":"message","user":"U1KDHJT6H","text":"keith was to start intermeidate ca","ts":"1485269413.001678"},{"type":"message","user":"U1KDHJT6H","text":"thinks its quick","ts":"1485269420.001679"},{"type":"message","user":"U1KDHJT6H","text":"moving to docs.  binh says we have default template,  jeff generate doc from bdd.","ts":"1485269488.001680"},{"type":"message","user":"U184J2R7S","text":"ledger- beyond list- manish is doing some work on checking phantom reads","ts":"1485269497.001681"},{"type":"message","user":"U184J2R7S","text":"JEff- i worry about hiding the complexity,,.. it is comforting to comprehend the steps to bootstram and start the network- it's less daunting","ts":"1485269519.001682"},{"type":"message","user":"U184J2R7S","text":"We should not do policy at the orderer--","ts":"1485269528.001683"},{"type":"message","user":"U1KDHJT6H","text":"don\u2019t have anything to do with policy and order level","ts":"1485269531.001684"},{"type":"message","user":"U184J2R7S","text":"we are using that same policy engine for escc.. it ends up being serialized as protobuf, so in process of documentation- there is not tons of options- group of them and or an or for policies","ts":"1485269569.001685"},{"type":"message","user":"U1KDHJT6H","text":"meta data that drives a rule.  group of them and and a or","ts":"1485269571.001686"},{"type":"message","user":"U184J2R7S","text":"there is no language- it's a very simple -- we are not offering a language- it's an output with serialized structure containing protobuf that has ands, and ors,etc,..","ts":"1485269594.001687"},{"type":"message","user":"U184J2R7S","text":"do we have the structure of the docs yet?","ts":"1485269682.001688"},{"type":"message","user":"U1KDHJT6H","text":"nick will do playback on docs at 3 this afternoon","ts":"1485269764.001689"},{"type":"message","user":"U184J2R7S","text":"nick needs some actual diagrams for the flow","ts":"1485269776.001690"},{"type":"message","user":"U1KDHJT6H","text":"request to diagram for flow","ts":"1485269779.001691"},{"type":"message","user":"U1KDHJT6H","text":"nick to get with sean on diagrams","ts":"1485269829.001692"},{"type":"message","user":"U184J2R7S","text":"<@U0ZKE9PCK>  Nick needs help with diagrams for first version of documentation of version 1.0 that we deliver end of week","ts":"1485269862.001693"},{"type":"message","user":"U1KDHJT6H","text":"barry (qa) talking about docker compose for 3 configs and channel","ts":"1485269864.001694"},{"type":"message","user":"U1KDHJT6H","text":"should not use ordering chain","ts":"1485269977.001695"},{"type":"message","user":"U1KDHJT6H","text":"ordering system chain id.    was **chain_ID.   got rid of **.   for chain we bring up in beginning","ts":"1485270039.001696"},{"type":"message","user":"U1KDHJT6H","text":"will not expose to peers will have guid.","ts":"1485270105.001697"},{"type":"message","user":"U1KDHJT6H","text":"goals of alpha -  channel and basics.   may not be able to in sdk have other ways to create channel for alpha","ts":"1485270190.001698"},{"type":"message","user":"U1KDHJT6H","text":"use cli to create and join","ts":"1485270211.001699"},{"type":"message","user":"U1KDHJT6H","text":"can we drive cli from qa side?.   ratnaker doing create and join via cli.   gave SC scripts to create and join","ts":"1485270281.001700"},{"type":"message","user":"U1KDHJT6H","text":"binh and script that use template - works.   jz - want something every user can  use.   template has configuration items.   orderer will supply template to sdk","ts":"1485270444.001701"},{"type":"message","user":"U1KDHJT6H","text":"sdk is building by hand - close.","ts":"1485270467.001702"},{"type":"message","user":"U1KDHJT6H","text":"tricky part is getting sdk material.   solved my template?  gari - only need public keys.. orgs have public root certs.    jz - need way to persist materials w\/o genearatign on the fly.","ts":"1485270691.001703"},{"type":"message","user":"U1KDHJT6H","text":"gari - alpha won\u2019t have doc with every config option documented","ts":"1485270717.001704"},{"type":"message","user":"U1KDHJT6H","text":"gari - what can we show nest - solo, 3 peer, each peer separate org,  fabric ca 1 msp that trusted.    this would be useful for people.     all we can by weds next week","ts":"1485270838.001705"},{"type":"message","user":"U1KDHJT6H","text":"gari stressing simple.   slight modification of what was delivered last week.  preserve artificats from jeff,  doc end user experience.    then have updates after feedback from users","ts":"1485271000.001706"},{"type":"message","user":"U1KDHJT6H","text":"jason - jeff creating real thing.   need to strip down info for a template","ts":"1485271103.001707"},{"type":"message","user":"U1KDHJT6H","text":"who is working java shim?   murali says talk to wil","ts":"1485271164.001708"},{"type":"message","user":"U1KDHJT6H","text":"jeff bdd self generated","ts":"1485271190.001709"},{"type":"message","user":"U1KDHJT6H","text":"ca","ts":"1485271194.001710"},{"type":"message","user":"U0MRY2LKY","text":"<@U0ULK2JPP> another question - when adding peers to an existing channel with an already instantiated CC on that channel, does the sysadmin need to call a start command for the CC or will the peer automatically start the CC? What about after calling Stop (without destroy)","ts":"1485273305.001711"},{"type":"message","user":"U0MRY2LKY","text":"(re: 1783)","ts":"1485273318.001712"},{"user":"U3M2UCQPR","text":"<@U3M2UCQPR|gmuecke> has joined the channel","type":"message","subtype":"channel_join","ts":"1485276170.001713"},{"type":"message","user":"U0ULK2JPP","text":"<@U0MRY2LKY> the current model is to let an invoke for the CC (in the context of a chain) to bring up the CC\u2026 having CC started  as part of an invoke allows the \u201cstart\u201d to be associated with a proposal (invoke proposal) automatically - and we don;t have to distinguish between start-on-instantiate vs restart-if-not-running.  Do you think there\u2019s a need for a separate Start ?  `What about after calling Stop (without destroy)` yes, the \u201cdestroy\u201d should be a flag IMO","ts":"1485276937.001714"},{"user":"U3V3TJTLZ","text":"<@U3V3TJTLZ|ivan.sat> has joined the channel","type":"message","subtype":"channel_join","ts":"1485277135.001715"},{"type":"message","user":"U0MRY2LKY","text":"<@U0ULK2JPP> was just curious on the proposal :slightly_smiling_face:.","ts":"1485277217.001716"},{"type":"message","user":"U0ULK2JPP","text":"<@U0MRY2LKY> ah ok :slightly_smiling_face:","ts":"1485278351.001717"},{"user":"U3FPBMWTA","text":"<@U3FPBMWTA|meraki> has joined the channel","type":"message","subtype":"channel_join","ts":"1485280367.001718"},{"type":"message","user":"U3FPBMWTA","text":"Hi, How to run a peer without security setup?  [v1.0]","ts":"1485280667.001719"},{"type":"message","user":"U3FPBMWTA","text":"Is it a correct channel for this question?","ts":"1485280689.001720"},{"type":"message","user":"U0KPFAZNF","text":"<@U3FPBMWTA> i think by default, most things come up with security disabled","ts":"1485285240.001723"},{"type":"message","user":"U0KPFAZNF","text":"however, if you want to use an SDK client, they minimally require the CA to be available","ts":"1485285255.001724"},{"type":"message","user":"U0KPFAZNF","text":"if you only want to drive via CLI, you can skip the CA","ts":"1485285269.001725"},{"type":"message","user":"U3FPBMWTA","text":"Yes, I realized that. Thanks <@U0KPFAZNF>  Posted the query with logs on the fabric channel and got my question answered.","ts":"1485285377.001726"},{"type":"message","user":"U0KPFAZNF","text":"oh, ok, sorry for late response then","ts":"1485285391.001727"},{"type":"message","user":"U3FPBMWTA","text":"I am just trying to deploy a chaincode by running the peer node locally.","ts":"1485285418.001728"},{"user":"U3V66S6L8","text":"<@U3V66S6L8|alexz> has joined the channel","type":"message","subtype":"channel_join","ts":"1485287942.001729"},{"type":"message","user":"U195M30MD","text":"any hint on why I am getting this error when deploying java chaincode in non dev mode?\n```vp0_1         | 11:08:54.470 [dockercontroller] deployImage -&gt; ERRO 173 Error building images: API error (500): {\"message\":\"Cannot locate specified Dockerfile: Dockerfile\"}```","ts":"1485342854.001730"},{"type":"message","user":"U36UDC6RK","text":"Im trying to run the authorizable_counter example (v0.6 , Docker on mac), but by incrementing the counter i get the following error: Position =&gt;  error Failed retrieving extension. Does anyone may know whats going wrong?","ts":"1485350374.001731"},{"type":"message","subtype":"file_share","text":"<@U36UDC6RK|kamo> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/kamo\/F3WAEJPQC\/here_is_my_rest_call.txt|Here is my Rest call>","file":{"id":"F3WAEJPQC","created":1485350387,"timestamp":1485350387,"name":"Here_is_my_Rest_call.txt","title":"Here is my Rest call","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U36UDC6RK","editable":true,"size":311,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3WAEJPQC\/here_is_my_rest_call.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3WAEJPQC\/download\/here_is_my_rest_call.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/kamo\/F3WAEJPQC\/here_is_my_rest_call.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3WAEJPQC-16d1a652e7","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/kamo\/F3WAEJPQC\/here_is_my_rest_call.txt\/edit","preview":"{\r\n  \"jsonrpc\": \"2.0\",\r\n  \"method\": \"invoke\",\r\n  \"params\": {\r\n    \"type\": 1,\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>{<\/pre><\/div>\n<div><pre>  &quot;jsonrpc&quot;: &quot;2.0&quot;,<\/pre><\/div>\n<div><pre>  &quot;method&quot;: &quot;invoke&quot;,<\/pre><\/div>\n<div><pre>  &quot;params&quot;: {<\/pre><\/div>\n<div><pre>    &quot;type&quot;: 1,<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":17,"lines_more":12,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U36UDC6RK","upload":true,"display_as_bot":false,"username":"<@U36UDC6RK|kamo>","bot_id":null,"ts":"1485350387.001732"},{"type":"message","user":"U11HTMW0H","text":"Please note chaincode tests now breaking due to the interface change.  <@U11HH3P7Y> hit this in his FIT (functional integration test) run.  <https:\/\/jira.hyperledger.org\/browse\/FAB-1835>.   ....I'm sure other chaincodes are broken too.","ts":"1485351667.001733"},{"type":"message","user":"U2Q0HP4HY","text":"<@U0XPR4NP4> Are we reintroducing the need for ASN1 encoding with the latest commits ?  It looks to me if I read the code updates its now being done with BlockHeader ?","ts":"1485352678.001734"},{"type":"message","user":"U0XPR4NP4","text":"<@U2Q0HP4HY> Correct, the conclusion from the crypto team in <#C2GE7GXM1|fabric-crypto> was that this was the best way to get deterministic bytes to hash over for the block header","ts":"1485353324.001735"},{"type":"message","user":"U2Q0HP4HY","text":"This poses a  burden on toolkits for have ASN1 encoding that we so far have avoided.  Why not the protobuf encoding ?  FYI <@U0PB67X4K> <@U13TWBRBL>","ts":"1485353474.001736"},{"type":"message","user":"U0XPR4NP4","text":"<@U2Q0HP4HY> Protobuf encoding is not guaranteed to be deterministic","ts":"1485353617.001737"},{"type":"message","user":"U0XPR4NP4","text":"At a language level, to handle our certificate structure, ASN.1 is already required","ts":"1485353664.001738"},{"type":"message","user":"U2Q0HP4HY","text":"So far we've not needed for the toolkits","ts":"1485353695.001739"},{"type":"message","user":"U0XPR4NP4","text":"Understood.  In addition to <@U0PB67X4K> tagging <@U1BC5A0F9> <@U26T99AQ4> <@U0ZR63HLK> as they were also involved in this decision","ts":"1485353778.001740"},{"type":"message","user":"U13TWBRBL","text":"<@U0XPR4NP4> <@U2Q0HP4HY> <@U0ZR63HLK> I\u2019d like to understand this better, so protobuf is not deterministic in the marshal-unmarshal cycles","ts":"1485353863.001741"},{"type":"message","user":"U0XPR4NP4","text":"Unmarshaling is always deterministic","ts":"1485353881.001742"},{"type":"message","user":"U0XPR4NP4","text":"Marshaling is not","ts":"1485353884.001743"},{"type":"message","user":"U0ZR63HLK","text":"so, ASN.1 is generally used for cryptographic objects because it supposed to give minimal encoding and is deterministic. We know that it is not perfect but it is the de facto standard.","edited":{"user":"U0ZR63HLK","ts":"1485353919.000000"},"ts":"1485353900.001744"},{"type":"message","user":"U0XPR4NP4","text":"In practice, we have gotten away with using proto marshaling and depending on it to be deterministic, but there is an explicit disclaimer from the proto folks that it is not guaranteed.","ts":"1485353934.001746"},{"type":"message","user":"U2Q0HP4HY","text":"Ok -so lets scrub protobufs and do everything ASN1 .. :slightly_smiling_face:","ts":"1485353980.001747"},{"type":"message","user":"U0XPR4NP4","text":"This was pushed by <@U0XR6J961> months ago, but, was decided we could not accomplish this in the timeframe we had","ts":"1485354025.001748"},{"type":"message","user":"U0XPR4NP4","text":"(Also, note that proto encoding\/decoding is noticeably faster than ASN.1, my vague recollection from the benchmarking done a while ago was that it was over an order of magnitude faster)","ts":"1485354108.001749"},{"type":"message","user":"U2Q0HP4HY","text":"I'm failing to imagine how *ALL* of other encoding in protopufs is sufficient and for this single case we now need to use ASN.1","ts":"1485354199.001750"},{"type":"message","user":"U0XPR4NP4","text":"The messages have all been designed to tolerate the non-deterministic marshaling of protobuf.  Note that there are many fields which are marshaled bytes.  In many of these cases, it is so that the receiver can verify a signature or hash over the marshaled object before unpacking it.","ts":"1485354434.001751"},{"type":"message","user":"U13TWBRBL","text":"Jason, that\u2019s what i was getting at, as long as the signature is generated over a marshaled bytes and it\u2019s verified before it\u2019s unmarshaled, i think protobuf is fine","ts":"1485354513.001752"},{"type":"message","user":"U13TWBRBL","text":"i\u2019d like to know where this fails and would require ASN.1","ts":"1485354535.001753"},{"type":"message","user":"U13TWBRBL","text":"not simply \u201cit\u2019s more deterministic\"","ts":"1485354553.001754"},{"type":"message","user":"U13TWBRBL","text":"<@U0ZR63HLK> ^^^","ts":"1485354563.001755"},{"type":"message","user":"U0XPR4NP4","text":"<@U13TWBRBL> You're absolutely right, if the signature or hash is generated over marshaled bytes, and we have those marshaled bytes, it is sufficient.","ts":"1485354583.001756"},{"type":"message","user":"U0XPR4NP4","text":"In the block case, the header, and the block data, both have hashes and signatures.  But they are proto messages, not marshaled bytes.  If the block structure had the header as the marshaled bytes of a BlockHeader message, then we would be okay, but that is not the block structure today","edited":{"user":"U0XPR4NP4","ts":"1485354693.000000"},"ts":"1485354668.001757"},{"type":"message","user":"U0XPR4NP4","text":"<@U2Q0HP4HY> <@U13TWBRBL> Out of curiosity, when does the client need to compute the block header hash? I'd have assumed the SDK does not maintain the hash chain, so I'm not sure of what value computing this hash would be?","ts":"1485354875.001759"},{"type":"message","user":"U184J2R7S","text":"Ok Binh came by open area and a few people congregated---&gt; Here are some notes as a result","ts":"1485354932.001760"},{"type":"message","user":"U0XPR4NP4","text":"Note that we also need to fix the hashing of the data block, which is targeted to be done as a Merkle tree, but again, unless someone is interested in maintaining the hash chain, I'm not sure what the value of computing this hash is.","ts":"1485354949.001761"},{"type":"message","user":"U184J2R7S","text":"Chaincode Ednorsement policy did make it in- there is still another 1\/2 to go","ts":"1485354962.001762"},{"type":"message","user":"U184J2R7S","text":"For Chaincode REturn object - this one is in,.. and everyone needs to rebase- this is going to change your chain code... This guy is to return different status code on every chaincode","ts":"1485355002.001763"},{"type":"message","user":"U184J2R7S","text":"Anchor peers is blocked because the peer needs the handler finished which Jason Yellick has pushed some of this-- If Jason's stuff is checked in, we can proceed","ts":"1485355066.001764"},{"type":"message","user":"U184J2R7S","text":"All peers connect to the ordering service- you need to join the channel at bootstrap- that code has to be written, because not all peers will get the identity channel--&gt; Jason Yellick owns this","ts":"1485355123.001765"},{"type":"message","user":"U0XPR4NP4","text":"<@U184J2R7S> I can hopefully get this done today.","ts":"1485355141.001766"},{"type":"message","user":"U0XPR4NP4","text":"(Am on the hangout, but cannot hear anything)","ts":"1485355150.001767"},{"type":"message","user":"U184J2R7S","text":"We are almost done with the system chaincode refactoring which will come in this AM-  Murali did that work","ts":"1485355156.001768"},{"type":"message","user":"U184J2R7S","text":"Chaincode calling chaincode is almost 1\/2 way there- Binh is debugging","ts":"1485355166.001769"},{"type":"message","user":"U184J2R7S","text":"CLI channel to create default-  barry is working on that relative to the docker image","ts":"1485355181.001770"},{"type":"message","user":"U184J2R7S","text":"For ledger with Dave enyeart- there are change sets out for finishing couch miscelanous items and query.. we ahve questions on refactoring for chaincode API- he is going to get with Murali","ts":"1485355230.001771"},{"type":"message","user":"U184J2R7S","text":"Change set on history of key values 9LEVEL DB) IS ALMOST READY (SORRY CAPS)","ts":"1485355242.001772"},{"type":"message","user":"U184J2R7S","text":"the phantom read work done by Manish is readyy and checked in for review and has +1 reviews from David- needs Binh or Gari to review this.","ts":"1485355268.001773"},{"type":"message","user":"U184J2R7S","text":"One of the issues is that everyone is so busy- noone is doing the reviews- we need help on this","ts":"1485355283.001774"},{"type":"message","user":"U184J2R7S","text":"In terms of getting couch environment into docker for next week- Dave Enyeart talked to Barry - bmos299.. we left it that after you get simple happy path, we will add couch to docker compose.","ts":"1485355314.001775"},{"type":"message","user":"U2Q0HP4HY","text":"<@U0XPR4NP4> I think we will eventually need to parse it to get the block number when monitoring what transactions have processed.   The blocknumber will make sure we don't process this again","thread_ts":"1485355326.001776","reply_count":2,"replies":[{"user":"U0XPR4NP4","ts":"1485355392.001779"},{"user":"U0XPR4NP4","ts":"1485356311.001794"}],"ts":"1485355326.001776"},{"type":"message","user":"U184J2R7S","text":"For docker- we have basic path working, we are adding sdk.. Adnan is adding the couch stuff to it","ts":"1485355329.001777"},{"type":"message","user":"U184J2R7S","text":"Barry is working with Adnan","ts":"1485355339.001778"},{"type":"message","user":"U0XPR4NP4","text":"rickr: You can certainly get the block number, but I'm not sure why you need to compute the header hash?","thread_ts":"1485355326.001776","parent_user_id":"U2Q0HP4HY","ts":"1485355392.001779"},{"timestamp":"1485355392001779","is_multiteam":false,"slog_is_shared":"0","slog_is_mpdm":null,"slog_is_slackbot_dm":false,"slog_is_self_dm":false,"attachments":[{"from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev\/p1485355326001776","fallback":"[January 25th, 2017 6:42 AM] rickr: <@U0XPR4NP4> I think we will eventually need to parse it to get the block number when monitoring what transactions have processed.   The blocknumber will make sure we don't process this again","ts":"1485355326.001776","author_subname":"rickr","channel_id":"C0YPYBVJM","channel_name":"fabric-dev","is_msg_unfurl":true,"text":"<@U0XPR4NP4> I think we will eventually need to parse it to get the block number when monitoring what transactions have processed.   The blocknumber will make sure we don't process this again","author_name":"Rick Rine","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/rickr","author_icon":"https:\/\/secure.gravatar.com\/avatar\/aa32af034870d28ba4a6828888b04a92.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-48.png","mrkdwn_in":["text"],"id":1,"footer":"1 reply"},{"fallback":"rickr: You can certainly get the block number, but I'm not sure why you need to compute the header hash?","author_name":"Jason Yellick","author_subname":"jyellick","text":"rickr: You can certainly get the block number, but I'm not sure why you need to compute the header hash?","mrkdwn_in":["text"],"author_link":"https:\/\/hyperledgerproject.slack.com\/team\/jyellick","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev\/p1485355392001779?thread_ts=1485355326001776&cid=C0YPYBVJM","ts":"1485355392.001779","author_icon":"https:\/\/avatars.slack-edge.com\/2016-12-07\/114120422036_060d13e375e6bd4d8bf8_48.png","id":2}],"text":"","type":"message","subtype":"reply_broadcast","user":"U0XPR4NP4","ts":"1485355392.001781"},{"type":"message","user":"U184J2R7S","text":"On the finalized QSCC block tran structures- we talked about that yesterday. I sent a draft of whta we talked about and we will post in community on the channel- one of the questions was get transaction by id- we trun the tran protostructure, but header is above that, but header is importnat.. that is transaction id, time stamp.. so we may need to return the payload. it should be clear in the proposal for that... Dave Enyeart to post this to get feedback from community","ts":"1485355404.001782"},{"type":"message","user":"U184J2R7S","text":"to ARtem- when we do state synch, are we calling same api to get block from one peer to send to another peer? they are using committer,.. but I think it does use same api.. we need to see if it's a lower level of apis that manipulates bytes... the lower level gets block by # and retunrs the unmarshalled block proto... that's what synch wants to do. maybe we have to optimize and suck the entire file over... Right now, it calls get block... that's very inefficient. We do a lot of marshalling and unmarshalling.. repeated.  Dave is saying we need synch that works on serialized block then.  Artem says ok.  This is not for immecdiate, but needs to be logged in JIRA so as not to forget for optimization and performance (which is focus in February)","ts":"1485355520.001783"},{"type":"message","user":"U184J2R7S","text":"On the SDK- there is outstanding chainset that needs to be approved.  we're still making progress on event support and join chain. both are going in parallel. we are working on initializing the MSP that is needed to send create chain request to orderer.  All is still on going.  We are targetting event support completion if we don't get all chain creation and chain join-- is that ok? we will have to use CLI... that is the backup plan .. there is a lot of moving parts for chain creation, but we do want to get events support done.  WE haven't added the references to ESCC or VSCC to deploy yet-- that is higher priority it seems like.. this is so application can execute.","ts":"1485355625.001784"},{"type":"message","user":"U184J2R7S","text":"For event support- i merged chainset that Pat implemented","ts":"1485355634.001785"},{"type":"message","user":"U184J2R7S","text":"What is ESCC \/VSCC is needed? this is absolutely needed for endorsement. Has something changed?  There are defaults being used.. there is an item that Murali has worked called chaincode lifecyle and endorsement policy.   Currently transaciton comes in, we just say ok fine... but once we have endorsement policy which is mostly done- transaction must be signed by John.  The work on the SDK side is adding a new field to the proposal , identifying ESCC and VSCC by name, which is really not significant,.. and we can add that support.. Policy being things like 3 out of 10 sigs... We can defiintely identify and add in there for policy or we can also default system for this round.  Supposedly application should do preliminary checking on responses- if it's not meeting the policy- it should discard.  Right now, we are just sending things over where VSCC will catch that.  I'd like to keep that as is for end of month for alpha. Yes, sounds reasonable... we do think key to send in ESCC, VSCC, and policy.  The CR that I talked about with endorsement policy is out there. it's called post it notation.. end\/a\/b something like that. you need signature for a and b... is that a string?","ts":"1485355808.001786"},{"type":"message","user":"U184J2R7S","text":"from application, we haven't decided from community whether string goes all the way to the peer or deployment... or the SDK would proto this into structure- i suspect it's going to be at the peer for desing sake.","ts":"1485355843.001787"},{"type":"message","user":"U184J2R7S","text":"CLI we can do this already","ts":"1485355854.001788"},{"type":"message","user":"U184J2R7S","text":"Documentation- There is higher level pieces,.. maybe 7 or 8 separate higher level topics as an overview documentation for the community. 2 that are basically done and we can complete remainder in day or 2... and knock out the rest of the stuff with the various people assigned.","ts":"1485355901.001789"},{"type":"message","user":"U184J2R7S","text":"The flow being talked about is what is fabric for,.. what is hyperledger community, what are definition of terms, what is architecture, how do you get the docker images up and running,.. and how do you pogram against chaincode.  the hope is to have this and docker images to see what feedback we get in real time meeting next week.","ts":"1485356035.001790"},{"type":"message","user":"U184J2R7S","text":"we need a sample, Question is what do we show for policy, MSP,etc,. and need some input from the community for this first round ... We do need to probably talk about system chaincode and the apis.. that has to probably come from Murali or Binh at this point.  Performing a query against couchdb we do need to include for complex queries should come from Dave Eneyart","ts":"1485356098.001791"},{"type":"message","user":"U184J2R7S","text":"When they do the docker compose for getting started- it will have example 2 chaincode.","ts":"1485356189.001792"},{"type":"message","user":"U184J2R7S","text":"in text, you can create a channel, join a channel with these # of peers, there is a CA set up, here is your node sdk.. do an enroll and signing cert ,.. we provide a very basic nodejs program.. so at least people have some artifacts to give feedback on.","ts":"1485356231.001793"},{"type":"message","user":"U0XPR4NP4","text":"<@U0ZR63HLK>","thread_ts":"1485355326.001776","parent_user_id":"U2Q0HP4HY","ts":"1485356311.001794"},{"type":"message","user":"U184J2R7S","text":"we have docker images published somewhere, the docker compose that ties all together, and zip file with some generated materials in generated location so people can connect to it- this gives you network that works,.. another file that shows application code, mpm install and run... seems like maybe that will help get people get started next week?","ts":"1485356325.001796"},{"type":"message","user":"U184J2R7S","text":"One thing in the YAML we should remove- the fields in security section need e removed -- all those really are not appropriate- that security seciton is getting removed-","ts":"1485356428.001797"},{"type":"message","user":"U184J2R7S","text":"Chaincode interface chain really is a big bug-- that has to get updated","ts":"1485356445.001798"},{"type":"message","user":"U184J2R7S","text":"someone could help that and rebase","ts":"1485356450.001799"},{"type":"message","user":"U0ZR63HLK","text":"okay, <@U0XPR4NP4> <@U13TWBRBL> <@U2Q0HP4HY>, what I want to say is that ASN.1 is preferable solution, I would say. We can avoid it if necessary. If we do, let's have it properly documented","ts":"1485356763.001800"},{"type":"message","user":"U0XPR4NP4","text":"<@U2Q0HP4HY> <@U13TWBRBL> I'm still trying to understand why the SDK ever needs to compute this hash","ts":"1485357372.001801"},{"type":"message","user":"U184J2R7S","text":"Binh had discussion with Elli and Angelo- I have a function called check acl,. This is the chaincode calling chaincode- before we set everything to invoke another chaincode specification, we check the acl.. and what that means is what we want to do is to check to see whether this transaction in proposal the signature is valid on this channel.. so imagine that chaincode 1 calling chaincode 2. chaincode 1 on channel 1, chaincode 2 on channel 2, chaincode 1 is invoked by user 1... so when proposal comes in, we verify the signature against that user 1 against the config block on channel 1... so now when chaincode 1 calls chaincode 2 on channel 2 passing along the proposal.. so now we have to verify again the user 1 signature against the channel 2 where chaincode 2 is on.. so this is what happens in check acl.  but we seem in code to be missing a few pieces-","ts":"1485358011.001802"},{"type":"message","user":"U184J2R7S","text":"there is check sig from creator- message validation go... it's a local function..  I think I can call this function, but this function- is that it's local, so we need to change to global. but the problem is this- it takes the information we only have from a side proposal, which is at this point is in the handler at this point.. the only thing we have is th eproposal, we don't have side proposal.  I want to talk to someone who created this- Elli, angelo, ale? do we need all of this- can we work with proposal or side proposal to call this function?  We can get message bytes is the side proposal is the proposal bytes itself...","ts":"1485358109.001803"},{"type":"message","user":"U184J2R7S","text":"We either have to change our handler to pass the enitre proposal.. versus just the proposal given by this function.","ts":"1485358127.001804"},{"type":"message","user":"U184J2R7S","text":"Is this happening on the same peer? you can assume that the proposal has already been verified, because it's verified in the first channel, so you don't have to verify anymore- if the peer is malicious- it's malicious.","ts":"1485358154.001805"},{"type":"message","user":"U184J2R7S","text":"We have to assume the peer is doing the right thing- let's assume that this user has access to channel 1 to do something but this user does not have access to channel 2.. even though the peer joins both channels.  So in this case you do need this.","ts":"1485358183.001806"},{"type":"message","user":"U184J2R7S","text":"We do need to enforce the ACL on both channels-","ts":"1485358201.001807","reactions":[{"name":"+1","users":["U11MANG9G"],"count":1}]},{"type":"message","user":"U184J2R7S","text":"that function calls from validate proposal and check sig- creator is respect to this one chain.. is there a chain id on that? yes... we are assumin the creator verified on channel 1.. that same creator instance can be used... so yes.. if you have creator bytes you re fine.. so how do you check the read set and write set- how do you know?  the read can be modified on a different channel.  we don't do any of that except we verify tat the user signature is verifiable on channel 2.. we need to develop that (Angelo working on that)... ARe you saying you get read\/write set of chain? what does read\/write set on 2nd chain?  how do we resolve version conflicts regardless of access control?","ts":"1485358316.001808"},{"type":"message","user":"U184J2R7S","text":"If you read the JIRA item- it's a read only and and there is no read\/write set for the called chaincode.","ts":"1485358335.001809"},{"type":"message","user":"U184J2R7S","text":"if the query is on the same chain as chaincode- you have read\/write set of the chainocde and verify vscc shcek . but on different channel, we can ONLY do read and query only","ts":"1485358381.001810"},{"type":"message","user":"U184J2R7S","text":"there is no read set- we are not sending read set from chain 2 inside.. the only thing proposal response has is the read\/write set is for the first call of the chain.","ts":"1485358433.001811"},{"type":"message","user":"U184J2R7S","text":"WE do have the read\/write set collected on the same channel and it's working-verified","ts":"1485358462.001812"},{"type":"message","user":"U184J2R7S","text":"but on different channel we do not want to collect the read\/write set on the 2nd channel- we only want to return the value.","ts":"1485358477.001813"},{"type":"message","user":"U184J2R7S","text":"Now that you mention it- there is one more thing you need to do when doing different chains-- but same logic calling- it's going to try to include it and we need to fix that on the 2nd chain","ts":"1485358503.001814"},{"type":"message","user":"U184J2R7S","text":"From security point of view- we can check the signature- yes?","ts":"1485358514.001815"},{"type":"message","user":"U184J2R7S","text":"the 2nd chain code is working like an oracle.. it might be an endorser that might get a different value.. so you might see a transaction be rejected.. yes, sdk would reject.  this has to be calirifed to the developer.. it depends on how you implement- if you go to oracle- give me the current value- because endorsers might end up with different view, but security of execution-- you do same process when proposal first came-- is the oracle value has to be included what the endorsers endorse- the read set... but not clear if this makes sense- it's up to the calling chaincode if they want to... because eventually the value is considered by calling another chainocde will effect the outcome of the execution of that chaincode","ts":"1485358612.001816"},{"type":"message","user":"U184J2R7S","text":"if the value was idfferent, then the outcome is different,.. and the end result of that proposal would be different","ts":"1485358626.001817"},{"type":"message","user":"U184J2R7S","text":"there is no difference if you even have a regular call outside the blockchain","ts":"1485358675.001818"},{"type":"message","user":"U184J2R7S","text":"how do you replay the blockchain in this case?","ts":"1485358689.001819"},{"type":"message","user":"U184J2R7S","text":"this would allow for non-determinism","ts":"1485358747.001820"},{"type":"message","user":"U184J2R7S","text":"if 3 endorsers get the same response- it will have same simulation, endorsement will succeed and commitment will be validated despite the chaincode is not replayable","ts":"1485358782.001821"},{"type":"message","user":"U184J2R7S","text":"you have endorsement- you send read\/write set... you signed agreeing to set of inputs and you got outputs.","ts":"1485359057.001822"},{"type":"message","user":"U184J2R7S","text":"proposal come in and you want to include external data- you need to put it into key... you have to do that.","ts":"1485359073.001823"},{"type":"message","user":"U184J2R7S","text":"This is the same as keys we read without modifying","ts":"1485359080.001824"},{"type":"message","user":"U184J2R7S","text":"the big point is this there are rules for writing chaincode","ts":"1485359092.001825"},{"type":"message","user":"U184J2R7S","text":"1) access only state variables on database","ts":"1485359097.001826"},{"type":"message","user":"U184J2R7S","text":"2) if you access something external and you are on your own and you better record it somehow","ts":"1485359109.001827"},{"type":"message","user":"U184J2R7S","text":"This is true whether calling chaincode or calling external source","ts":"1485359117.001828"},{"type":"message","user":"U184J2R7S","text":"<@U11HTMW0H> please make sure in doc this is recorded clearly point 1 and 2 up above","ts":"1485359134.001829"},{"user":"U3EPNMP34","text":"<@U3EPNMP34|sandra.vrtikapa> has joined the channel","type":"message","subtype":"channel_join","ts":"1485359335.001830"},{"type":"message","user":"U3EPNMP34","text":"Currently I can only receive\/access chaincode events via block events. If I set a chaincode event in user chaincode and that part of the code doesn't generate block event later on I am not able to receive my chaincode event. Is there a plan to support sending\/firing chaincode events from user chaincode independent of block events?","ts":"1485359431.001831"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KQ9QKH6> ^^^","ts":"1485361680.001832"},{"type":"message","user":"U0KQ9QKH6","text":"<@U3EPNMP34> : if you set a chaincode event in a chaincode, you will generate a block( or be included in a block)","ts":"1485362344.001833"},{"type":"message","user":"U0KQ9QKH6","text":"if you use the upcoming eventhub in the v1.0 api, you can just register for a chaincode event - eventhub takes care of parsing the chaincode event from the block it receives","ts":"1485362428.001834"},{"type":"message","user":"U0KQ9QKH6","text":"I hope that clears the question up if not ask away","ts":"1485362462.001835"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/wiki.hyperledger.org\/community\/fabric-notes> updated with <https:\/\/wiki.hyperledger.org\/community\/fabric-notes-25-jan-2017-morning>","ts":"1485362836.001836"},{"type":"message","user":"U3EPNMP34","text":"<@U0KQ9QKH6> I would like to be able to send chaincode event from user cc even if there is no commit.","ts":"1485363712.001837"},{"type":"message","user":"U0KQ9QKH6","text":"I don't think that is allowed as events are part of the ledger state","ts":"1485363777.001838"},{"type":"message","user":"U0KQ9QKH6","text":"you *could* potentially just send a message from your chaincode for that purpose","ts":"1485363833.001839"},{"type":"message","user":"U0KQ9QKH6","text":"one more comment, the only way to generate a chaincode event is to issue a transaction to the chaincode, so you will already be committing at least that transaction. Which happens to be the transaction that the chaincode event will be associated with","ts":"1485366603.001840"},{"type":"message","user":"U3HN4GFA9","text":"When running even just one peer and one order using docker-compose (using a docker-compose file inspired from bddtests\/docker-compose-next-4.yml), a lot of weird text was displayed on the screen and deploy never finished.","ts":"1485377474.001841"},{"type":"message","user":"U3HN4GFA9","text":"We think the reason is that in the function `Sign` of  `msp\/identities.go`, in debug mode, the plaintext is displayed. And we guess during a deploy a very large plaintext is displayed.","ts":"1485377541.001842"},{"type":"message","user":"U3HN4GFA9","text":"The workaround was to increase the logging level to info, or more precisely, to remove the line `- CORE_LOGGING_LEVEL=DEBUG` in `compose-defaults.yml`. Since it worked.","ts":"1485377586.001843"},{"type":"message","user":"U3HN4GFA9","text":"By the way, what does the environment variable `DOCKER_NEXT` do?","ts":"1485377663.001844"},{"type":"message","user":"U0W7D64LC","text":"<https:\/\/youtu.be\/kfpwm8Ayj1U>","attachments":[{"service_name":"YouTube","service_url":"https:\/\/www.youtube.com\/","title":"v1 Hyperledger Fabric channels demo","title_link":"https:\/\/youtu.be\/kfpwm8Ayj1U","author_name":"Hyperledger Fabric","author_link":"https:\/\/www.youtube.com\/channel\/UCCFdgCWH_1vCndMPVqQlwZw","thumb_url":"https:\/\/i.ytimg.com\/vi\/kfpwm8Ayj1U\/hqdefault.jpg","thumb_width":480,"thumb_height":360,"fallback":"YouTube Video: v1 Hyperledger Fabric channels demo","video_html":"<iframe width=\"400\" height=\"300\" src=\"https:\/\/www.youtube.com\/embed\/kfpwm8Ayj1U?feature=oembed&autoplay=1&iv_load_policy=3\" frameborder=\"0\" allowfullscreen><\/iframe>","video_html_width":400,"video_html_height":300,"from_url":"https:\/\/youtu.be\/kfpwm8Ayj1U","service_icon":"https:\/\/a.slack-edge.com\/2089\/img\/unfurl_icons\/youtube.png","id":1}],"ts":"1485378708.001845","reactions":[{"name":"+1","users":["U0P2GSA8Z"],"count":1}]},{"type":"message","user":"U3HN4GFA9","text":"thank you we solved this","ts":"1485380023.001847"},{"user":"U0YQK8WSV","text":"<@U0YQK8WSV|pvishnum> has joined the channel","type":"message","subtype":"channel_join","ts":"1485381785.001848"},{"user":"U15KME666","text":"<@U15KME666|dayu> has joined the channel","type":"message","subtype":"channel_join","ts":"1485388546.001849"},{"type":"message","user":"U0XR6J961","text":"what's so bad about ASN.1? it's even part of any system that does crypto.","ts":"1485390263.001850"},{"user":"U3WM9K85R","text":"<@U3WM9K85R|mbaizan> has joined the channel","type":"message","subtype":"channel_join","ts":"1485429023.001853"},{"type":"message","user":"U184J2R7S","text":"Quick meeting here -","ts":"1485441293.001854"},{"type":"message","user":"U184J2R7S","text":"Event is ready to be merged (Jim Zhang)","ts":"1485441299.001855"},{"type":"message","user":"U184J2R7S","text":"Chaincode return object got done","ts":"1485441366.001856"},{"type":"message","user":"U184J2R7S","text":"As far as SDK we are in good shape- we need to test in the environment with the docker images- that's crypto materials","ts":"1485441383.001857"},{"type":"message","user":"U184J2R7S","text":"Rick needs one or two more days for Java to clean it up--- We are referring to the nodejs.sdk","ts":"1485441448.001858"},{"type":"message","user":"U184J2R7S","text":"There is a remaining glitch somewhere - when i receive the block event and I realize my transactions is in there- if i send out invocation for the chaincode- right away \"chaincode is not found\" i have to ingest an artificial pause. the event producer may send things prematurely (not happening in Java,.. )  perhaps sending before commit?","ts":"1485441550.001859"},{"type":"message","user":"U184J2R7S","text":"We are working on  more event friendly api- we want it to be easier apis on chainclass itself-- other one is we continue to do the join- create channel and join channel which is parallel work","ts":"1485441590.001860"},{"type":"message","user":"U184J2R7S","text":"We need to add endorsement policy to SDK-- Binh indicates that he reviewed on endorsement policy and some minor things need to be changed.  ESCC\/VSCC policy needs to be in as part of that)- the cr is out there now.. it's the same changeset from aAle.","ts":"1485441658.001861"},{"type":"message","user":"U184J2R7S","text":"For Fabric CA- about to check in the intermediate CA support. the CLI simplification.  It's under review and iterating on the review. Rest API doc is in sswagger now, REadme and read the docs is dependent on CLI simplification.","ts":"1485441739.001862"},{"type":"message","user":"U184J2R7S","text":"Again, intermediate CA support should be in by end of day. We have one in review to add a bunch of new tests- it's actually pretty significant on test from Allen- these are scripts that Allen wrote.","ts":"1485441807.001863"},{"type":"message","user":"U184J2R7S","text":"WE don't know how to run it and there is no instruction.","ts":"1485441836.001864"},{"type":"message","user":"U184J2R7S","text":"<@U11HTMW0H>  see above- they need to be CI tests or they should be documented clearly on how to run","ts":"1485441856.001865"},{"type":"message","user":"U184J2R7S","text":"These are unix scripts so they don't run on windows which is the issue","ts":"1485441885.001866"},{"type":"message","user":"U184J2R7S","text":"There is a chainset from Jason- we have fix for the gossip, take a look at CR 4853","ts":"1485441953.001867"},{"type":"message","user":"U184J2R7S","text":"<@U0ULK2JPP> please take a look at 4853","ts":"1485441981.001868"},{"type":"message","user":"U184J2R7S","text":"Gossip gets order endpoints from CB- this is being work today- i am testing end to end- i have finished the code and need to test before i push a CR.","ts":"1485442016.001869"},{"type":"message","user":"U184J2R7S","text":"Anchor peers - config handler is what is odone from above that murali has to review","ts":"1485442040.001870"},{"type":"message","user":"U184J2R7S","text":"Chaincode Endorsement policy from Ale has CR today","ts":"1485442050.001871"},{"type":"message","user":"U184J2R7S","text":"SEcurity and gossip integration by Angel- we have missed 2 pieces update local MSP.. this comes from the system ledger... we miss the readers policy of the channel- the code is there, but we have these two pieces we need to complete","ts":"1485442090.001872"},{"type":"message","user":"U184J2R7S","text":"TX proto shouldn't contain response- that has been done","ts":"1485442116.001873"},{"type":"message","user":"U184J2R7S","text":"For chaincode life-cycle- Murali indicated he plans to work this full time on deploy\/init\/upgrade and policy","ts":"1485442160.001874"},{"type":"message","user":"U184J2R7S","text":"System chaincode refactor (location) has been Murali-- the CR is in and merged","ts":"1485442184.001875"},{"type":"message","user":"U184J2R7S","text":"Chaincode calling chaincode- Binh is struggling with some bugs..","ts":"1485442196.001876"},{"type":"message","user":"U184J2R7S","text":"he's doing this for query.","ts":"1485442208.001877"},{"type":"message","user":"U184J2R7S","text":"What i learned debugging the query for chaincode calling chaincode- serviceability is good- the log for debugging is pretty good... but there are a couple of things, when we log- we need to log the right information... but it does not give me the information that I need. i had to change log statements.. sometimes i encounter statements that are 100's of pages... When you log something- we really have to have a strategy.. log enough to give information so we can determine the cause of the problem.. try to avoid not to log that many pages, especially these happen in every single transaction- imagine if someone is running 1000's of transaction a second- they won't be able to handle this.  We also need to walk through and make sure that the payload is not in the log and we need to step through and analyze to protect everything--- given the security element.  This is a reminder to people and we will do analysis at all points through our security team to check for all these gaps.","ts":"1485442429.001878"},{"type":"message","user":"U184J2R7S","text":"Please remember to use the new logging framework.","ts":"1485442436.001879"},{"type":"message","user":"U184J2R7S","text":"IN SDK side- you can use for info- we put in console, in debug, we put in file.. customers can control that. and we need that for the backend.","ts":"1485442459.001880"},{"type":"message","user":"U184J2R7S","text":"hashes also can not be written either!","ts":"1485442476.001881"},{"type":"message","user":"U184J2R7S","text":"Ledger- we have changesets that need reviews for finish couch misc item, query exposed to app chaincode, history of key values (level db)- add to qscc, expose to app chaincode... and phantom read management-- CRs are already there","ts":"1485442513.001882"},{"type":"message","user":"U184J2R7S","text":"<@U0ULK2JPP> need you to review please","ts":"1485442520.001883"},{"type":"message","user":"U184J2R7S","text":"We are working to have the chaincode examples for next week","ts":"1485442528.001884"},{"type":"message","user":"U184J2R7S","text":"We did get our plans straight for QSCC - and will do the tran level and include the header information","ts":"1485442544.001885"},{"type":"message","user":"U184J2R7S","text":"SDK can use the system level chaincode-- but we also expose to regular chaincode (ie to application chaincode)","ts":"1485442569.001886"},{"type":"message","user":"U184J2R7S","text":"Documentation- Nick and Josh are putting topics to gerit- there are top 4 there that are done- High level, technical overview\/glossary, remove 0.6 material , docker compose and 3 configuration--&gt; CRs are out there","ts":"1485442610.001887"},{"type":"message","user":"U184J2R7S","text":"Josh working on higher leevel stuff and Nick is getting started content-","ts":"1485442620.001888"},{"type":"message","user":"U184J2R7S","text":"WE took out the 0.6 stuff and left common stuff,.. and we are starting new for topics for the hackathon","ts":"1485442637.001889"},{"type":"message","user":"U184J2R7S","text":"There is some question as to whether that should go public on the read the docs build on Tuesday or not?","ts":"1485442649.001890"},{"type":"message","user":"U184J2R7S","text":"Have you figured out how to do versioning in read the docs?","ts":"1485442662.001891"},{"type":"message","user":"U184J2R7S","text":"if we have in repo in github-","ts":"1485442667.001892"},{"type":"message","user":"U184J2R7S","text":"readdocs you can select 0.6 or latest","ts":"1485442674.001893"},{"type":"message","user":"U184J2R7S","text":"we have that capability- for the latest we should call it version 1.0 alpha-- latest is current tag they get it","ts":"1485442693.001894"},{"type":"message","user":"U0ZR63HLK","text":"<@U0KN2SSKE> <@U0PB67X4K> <@U0UGH3X7X> <@U1BC5A0F9> <@U26T99AQ4> and all, It might be useful to start a discussion to understand if logging transaction data might cause confidentiality issues. Do you think it is an issue?","edited":{"user":"U0ZR63HLK","ts":"1485443410.000000"},"ts":"1485443372.001895"},{"type":"message","user":"U13TWBRBL","text":"<@U26T99AQ4> I opened a bug that needs to be addressed asap for the alpha: <https:\/\/jira.hyperledger.org\/browse\/FAB-1862>, <@U0ULK2JPP> is suggesting for him and you to investigate","ts":"1485445865.001898"},{"type":"message","user":"U0KN2SSKE","text":"i think we need understand the data object that we are logging not to inadvertently disclosing confidentiality","ts":"1485445929.001899"},{"type":"message","user":"U13TWBRBL","text":"<@U0PB67X4K> and I did some preliminary investigating and we both believe the producer sent event too early. instead of sending it from the deliver service client, while the block goes through gossip service, it should be sent after the committer has committed it, like <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/committer\/committer_impl.go#L60>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/committer\/committer_impl.go#L60","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/committer\/committer_impl.go#L60","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1485446003.001900"},{"type":"message","user":"U12J2D15H","text":"I am trying to build latest fabric in vagrant env. fabric bild fails here","ts":"1485446045.001902"},{"type":"message","user":"U12J2D15H","text":"docker tag hyperledger\/fabric-javaenv hyperledger\/fabric-javaenv:x86_64-0.7.0-snapshot-f73825f\nbuild\/bin\/peer\nCGO_CFLAGS=\" \" GOBIN=\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/build\/bin go install -ldflags \"-X <http:\/\/github.com\/hyperledger\/fabric\/common\/metadata.Version=0.7.0-snapshot-f73825f|github.com\/hyperledger\/fabric\/common\/metadata.Version=0.7.0-snapshot-f73825f>\" <http:\/\/github.com\/hyperledger\/fabric\/peer|github.com\/hyperledger\/fabric\/peer>\ncore\/chaincode\/ccproviderimpl.go:20:2: cannot find package \"context\" in any of:\n        \/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/vendor\/context (vendor tree)\n        \/opt\/go\/src\/context (from $GOROOT)\n        \/opt\/gopath\/src\/context (from $GOPATH)\nmake: *** [build\/bin\/peer] Error 1\nrm build\/image\/javaenv\/Dockerfile build\/image\/ccenv\/Dockerfile","ts":"1485446047.001903"},{"type":"message","user":"U12J2D15H","text":"Any ideas ?","ts":"1485446068.001904"},{"type":"message","user":"U26T99AQ4","text":"<@U13TWBRBL> thx Jim, will look into it asap","ts":"1485446297.001906","reactions":[{"name":"+1","users":["U13TWBRBL"],"count":1}]},{"type":"message","user":"U0ZR63HLK","text":"<@U0KN2SSKE>, for example a signature verification method that wants to debug the message against which the signature is verified, does not have any means to understand if the data is confidential or not. The request from signature verification comes from multiple places.","ts":"1485446679.001907"},{"user":"U3PBR406M","text":"<@U3PBR406M|bur> has joined the channel","type":"message","subtype":"channel_join","ts":"1485447343.001908"},{"type":"message","user":"U0UGH3X7X","text":"<@U0ZR63HLK>,  would it be enough to log only the digest and the signature ?  admittedly, I'm a crypto newbie","ts":"1485448304.001909"},{"type":"message","user":"U0ZR63HLK","text":"the digest might leak information if the message does not have enough entropy. One can use the digest to brute force over messages to see which one matches the digest","ts":"1485448453.001910"},{"user":"U0Y55KNG2","text":"<@U0Y55KNG2|kletkeman> has joined the channel","type":"message","subtype":"channel_join","ts":"1485450258.001911"},{"type":"message","user":"U3HN4GFA9","text":"Hi I am running a program that includes one peer and one order using docker-compose (using a docker-compose file inspired from bddtests\/docker-compose-next-4.yml),","ts":"1485453583.001912"},{"type":"message","user":"U3HN4GFA9","text":"with chaincode_example02 from a second terminal","ts":"1485453638.001913"},{"type":"message","user":"U3HN4GFA9","text":"deploying\/invoking the first peer works correctly now","ts":"1485453651.001914"},{"type":"message","user":"U3HN4GFA9","text":"but deploying the second peer returns an error \"Error: Error endorsing chaincode: rpc error: code = 13 desc = transport is closing\"","ts":"1485453679.001915"},{"type":"message","user":"U3HN4GFA9","text":"any suggestions as to how to solve this? Or can you perhaps point me to code\/example that works with two peers? thx","ts":"1485453773.001916"},{"type":"message","user":"U0P2GSA8Z","text":"<@U12J2D15H> unfortunately vagrant is no longer used by most of the developers it seems and as a result it always takes a bit of work to get the build","ts":"1485453876.001917"},{"type":"message","user":"U0KN2SSKE","text":"<@U12J2D15H> when was  the last type you re built your vagrant; there\u2019s some changes a few weeks ago that require vagrant destroy\/up","ts":"1485454087.001918"},{"type":"message","user":"U0KN2SSKE","text":"<@U3HN4GFA9> are you on 0.6 or 1.0 (current master branch) ?","ts":"1485454114.001919"},{"type":"message","user":"U12J2D15H","text":"I am on 1.0","ts":"1485454140.001920"},{"type":"message","user":"U12J2D15H","text":"I did a vagrant reload","ts":"1485454148.001921"},{"type":"message","user":"U12J2D15H","text":"should I destroy and recreate it ?","ts":"1485454159.001922"},{"type":"message","user":"U12J2D15H","text":"and on latest master branch","ts":"1485454175.001923"},{"type":"message","user":"U0P2GSA8Z","text":"If you can afford the time it takes it is always worth trying when the rest fails","ts":"1485454235.001924"},{"type":"message","user":"U0KN2SSKE","text":"<@U12J2D15H> i would suggest you take a look at the multichannel setup docker file <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/channel-setup.md>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/channel-setup.md","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/channel-setup.md","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1485454450.001925"},{"type":"message","user":"U0KN2SSKE","text":"also a bdd the sets up 4 peers <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/bddtests\/features\/bootstrap.feature>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/bddtests\/features\/bootstrap.feature","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/bddtests\/features\/bootstrap.feature","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1485454505.001927"},{"type":"message","user":"U0KN2SSKE","text":"if you haven\u2019t done vagrant destroy this year, i would suggest do that","ts":"1485454567.001929"},{"type":"message","user":"U12J2D15H","text":"I will try that. Thanks","ts":"1485454789.001930"},{"type":"message","user":"U0P2GSA8Z","text":"so, what's the equivalent of 'peer network list' in 1.0?","ts":"1485456134.001931"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0KN2SSKE> ?","ts":"1485456173.001932"},{"type":"message","user":"U0KN2SSKE","text":"not equivalent but only a subset of gossip group that a peer knows about","ts":"1485456597.001933"},{"type":"message","user":"U0KN2SSKE","text":"ie no master list of all peers","ts":"1485456623.001934"},{"type":"message","user":"U0P2GSA8Z","text":"and how do I get that?","ts":"1485457164.001935"},{"type":"message","user":"U0KN2SSKE","text":"we don\u2019t have an api yet for that; the structure is in the fabric\/gossip if you want to look and provide some admin grpc api","ts":"1485458333.001936"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0KN2SSKE> , what is the question?","ts":"1485458487.001937"},{"type":"message","user":"U0KN2SSKE","text":"`what's the equivalent of 'peer network list' in 1.0?`","ts":"1485458529.001938"},{"type":"message","user":"U3HN4GFA9","text":"solved this error - had a issue with the ports - thx","ts":"1485460862.001944"},{"type":"message","user":"U3HN4GFA9","text":"<@U0KN2SSKE> I am working with fabric 1.0","ts":"1485461954.001950"},{"type":"message","user":"U3HN4GFA9","text":"I need to set up multiple endorserers","ts":"1485461972.001951"},{"type":"message","user":"U0XQ35CDD","text":"Who in here has a hard-coded reference in their packages for `test_chainid`?\n(Or any hard-coded channel name that includes an underscore for that matter.)","edited":{"user":"U0XQ35CDD","ts":"1485463053.000000"},"ts":"1485462525.001955"},{"type":"message","user":"U0XQ35CDD","text":"Besides the `orderer` package.","ts":"1485462534.001956"},{"type":"message","user":"U0XQ35CDD","text":"^^ <@U13TWBRBL> <@U0ULK2JPP>","ts":"1485462543.001957"},{"type":"message","user":"U0XQ35CDD","text":"A heads up that I'll need to enable a filter that enforces certain restrictions on the allowed channel names. This is enforced by what's allowed in Kafka. As a result, underscores in names will be a no go, so please edit your dependencies accordingly.","ts":"1485462711.001958"},{"type":"message","user":"U0XQ35CDD","text":"(Kafka does allow underscores in general, but it doesn't allow `hello_world` and `hello.world` at the same time, so we'll remove support for underscores to keep things simple.)","ts":"1485462719.001959"},{"type":"message","user":"U0XQ35CDD","text":"Not sure our test coverage across the project is good enough to capture any breaks that this change will incur. (And it doesn't help that these hard-coded strings are not consistent from a quick grepping.)","ts":"1485462853.001960"},{"type":"message","user":"U0XQ35CDD","text":"So, I'll do my best to test in advance, and I'll tag you (or whomever else you suggest) in that changeset, but still --","ts":"1485462878.001961"},{"type":"message","user":"U0XQ35CDD","text":"I would suggest being proactive and switching to default channel names that do not have underscores in your code\/examples.","edited":{"user":"U0XQ35CDD","ts":"1485463153.000000"},"ts":"1485462915.001962"},{"type":"message","user":"U3HN4GFA9","text":"it is working better now. thx.","ts":"1485463418.001965"},{"type":"message","user":"U13TWBRBL","text":"<@U0XQ35CDD> yes we have `test_chainid` in all our test cases, but that can be easily updated. for chain names, do you have the rules documented somewhere that we can reference? would like to do client-side enforcement before it gets sent out","ts":"1485463664.001969"},{"type":"message","user":"U0XQ35CDD","text":"<@U13TWBRBL> Here's a snippet from the code:","ts":"1485464765.001970"},{"type":"message","user":"U0XQ35CDD","text":"```\/\/ ChannelNameRule rejects incoming chain-creation messages whose proposed\n\/\/ chainID (i.e. channel name) does not comply with the following restrictions:\n\/\/ 1. Contains only any of the following characters:\n\/\/      a-z (lowercase alphabetical)\n\/\/      A-Z (uppercase alphabetical)\n\/\/      0-9 (numerical)\n\/\/      . (dot)\n\/\/      - (dash)\n\/\/ 2. Is shorter than 250 characters.\n\/\/ 3. Is not \".\" or \"..\".\n\/\/\n\/\/ Our hand here is forced by:\n\/\/ <https:\/\/github.com\/apache\/kafka\/blob\/trunk\/core\/src\/main\/scala\/kafka\/common\/Topic.scala#L29>```","ts":"1485464768.001971","reactions":[{"name":"ok_hand","users":["U13TWBRBL"],"count":1}]},{"type":"message","user":"U0XQ35CDD","text":"We'll have to note these down in a Markdown document as well.","ts":"1485464790.001972"},{"user":"U3XQP0CEB","text":"<@U3XQP0CEB|cyrax> has joined the channel","type":"message","subtype":"channel_join","ts":"1485475892.001973"},{"user":"U3X6RA34J","inviter":"U0UHG4VP1","text":"<@U3X6RA34J|archivebot> has joined the channel","type":"message","subtype":"channel_join","ts":"1485489605.001974"},{"type":"message","user":"U1NGC2X9D","text":"What is the maximum lifetime for the certificates in ver 0.6 ?","ts":"1485492974.001975"},{"type":"message","user":"U0ZJZBJLF","text":"<@U1NGC2X9D> , ask in <#C2GE7GXM1|fabric-crypto>","ts":"1485492999.001976"},{"type":"message","user":"U184J2R7S","text":"Quick meeting here- longer term when someone goes to get started- they don't have to clone the repo... but for the hackathon and short term- we tell them to get clone in the repo","ts":"1485527821.001977"},{"type":"message","user":"U184J2R7S","text":"You have to run from the root of the project- it's not goingn to be quite the same if you devlop application if you use the MPM- that could be odd","ts":"1485527846.001978"},{"type":"message","user":"U184J2R7S","text":"what is the downside making the updates after we publish the MPM-- WE can do that... we just weren't sure as we thought you had blockers... Yeah- we can clean this up Monday. The preferable approach is to include it","ts":"1485527883.001979"},{"type":"message","user":"U184J2R7S","text":"(IE we are talking about SDK)","ts":"1485527893.001980"},{"type":"message","user":"U184J2R7S","text":"WE will still go with that- Jim Zhang and Ratnakar are going to publish it today-- We are going to bake the chaincode in the cli in the images also... for one environment- they don't have to type get clone","ts":"1485527957.001981"},{"type":"message","user":"U184J2R7S","text":"We don't want to do get clone for real users of the fabric-- get clone will be fall back","ts":"1485527969.001982"},{"type":"message","user":"U184J2R7S","text":"SDK- What is update here? The last thing we want to do is publish to MPM that requires naming changes.. fabric-ca-client","ts":"1485528002.001983"},{"type":"message","user":"U184J2R7S","text":"WE did not have the pending change that would be hard to move after the change- so I was waiting- that particular change is more work so we are going to push after the alpha. so I'm going to do the name change today.","ts":"1485528030.001984"},{"type":"message","user":"U184J2R7S","text":"The ESCC\/VSCC\/policy is still a CR","ts":"1485528063.001985"},{"type":"message","user":"U184J2R7S","text":"update CR return object has been completed","ts":"1485528075.001986"},{"type":"message","user":"U184J2R7S","text":"The only thing we need to do is name change and publish MPM for alpha","ts":"1485528108.001987"},{"type":"message","user":"U184J2R7S","text":"For the core:","ts":"1485528124.001988"},{"type":"message","user":"U184J2R7S","text":"are we trying to get channel leader in?  There is two cr's that is needing reviewed.. one has +2.. but we need to review the second one- and we need to connect delivery and client once this piece is in... These are under Yacov's name","ts":"1485528169.001989"},{"type":"message","user":"U184J2R7S","text":"we need to get these in and complete review","ts":"1485528177.001990"},{"type":"message","user":"U184J2R7S","text":"For gossip get order endpoints from CB- we completed this - we need someone reviewed","ts":"1485528192.001991"},{"type":"message","user":"U184J2R7S","text":"HSM is committed into master branch- a couple of other people it broke some of the rocks db library.. and could not compile against the master... The CI had some dependency in the past--- Ry mentioned sometime on slack- the images on CI are not images we use in vagrant- maybe that's the reason. Jonathan said he is able to compile, but Greg is not able to compile. Murali is using the latest.. maybe vagrant has rocks db from long ago- Murali said he destroyed last week... He's going to recreate today to see","ts":"1485528284.001992"},{"type":"message","user":"U184J2R7S","text":"Murali is trying right now- we need to resolve that right away- Binh knows he himself has to rebase.","ts":"1485528310.001993"},{"type":"message","user":"U184J2R7S","text":"Gari said---I just build on the MAC and had no problems","ts":"1485528343.001994"},{"type":"message","user":"U184J2R7S","text":"there is some wierd mix up in vagrant i think","ts":"1485528361.001995"},{"type":"message","user":"U184J2R7S","text":"Somebody said that they saw it on slack.. but I don't remember what the actual issue was- maybe they were running a different version of vagrant or base environment... Make peer still seems to build and runs in docker- were you building in vagrant?  the only thing is c go flag that was set?  Maybe it's in the base image, I'll look.","ts":"1485528431.001996"},{"type":"message","user":"U184J2R7S","text":"Typically i destroyed- make peer whenever I can- so far Murali has not had problems and will check it for certain.","ts":"1485528445.001997"},{"type":"message","user":"U184J2R7S","text":"Murali wants to get chaincode lifecycle in next week- deploy\/init\/upgrade- and to do it seperately","ts":"1485528470.001998"},{"type":"message","user":"U184J2R7S","text":"CC calling CC (query)- it is working Binh says though it's occasionally hanging and still debugging","ts":"1485528531.001999"},{"type":"message","user":"U184J2R7S","text":"We did not get the CR's for the ledger in- need + 2 to happen","ts":"1485528563.002000"},{"type":"message","user":"U184J2R7S","text":"that covers items we talked about yesterday","ts":"1485528571.002001"},{"type":"message","user":"U184J2R7S","text":"Problem is the # of lines of code- we need to stop doing this- it's too hard for community to consume","ts":"1485528594.002002"},{"type":"message","user":"U184J2R7S","text":"Dave acknowledged that they will work on that","ts":"1485528604.002003"},{"type":"message","user":"U184J2R7S","text":"For fabric- CA-......... readthedocs has a CR","ts":"1485528617.002004"},{"type":"message","user":"U184J2R7S","text":"CLI simplification has several submitted,.. keith has 2 more that will be submitted today","ts":"1485528630.002005"},{"type":"message","user":"U184J2R7S","text":"We need Maintainers to help over the weekend please","ts":"1485528642.002006"},{"type":"message","user":"U184J2R7S","text":"Gari, Chris, Jonathan and folks from other all the other companies we need help with review.","ts":"1485528663.002007"},{"type":"message","user":"U184J2R7S","text":"Sharon to ask for that request on maintainer list","ts":"1485528672.002008"},{"type":"message","user":"U184J2R7S","text":"TCERt stuff is also still for CR","ts":"1485528686.002009"},{"type":"message","user":"U184J2R7S","text":"Vlad is on vacation next week, so he gave a dump of the status.","ts":"1485528698.002010"},{"type":"message","user":"U184J2R7S","text":"WE don't need HSM in the alpha at this point","ts":"1485528777.002011"},{"type":"message","user":"U184J2R7S","text":"For documentation- we need help to review these","ts":"1485528788.002012"},{"type":"message","user":"U0ZJZBJLF","text":"<https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev\/p1485528169001989>\nJust a correction- I reviewed them... they are not my commits.","attachments":[{"from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev\/p1485528169001989","fallback":"[January 27th, 2017 6:42 AM] weeds: are we trying to get channel leader in?  There is two cr's that is needing reviewed.. one has +2.. but we need to review the second one- and we need to connect delivery and client once this piece is in... These are under Yacov's name","ts":"1485528169.001989","author_subname":"weeds","channel_id":"C0YPYBVJM","channel_name":"fabric-dev","is_msg_unfurl":true,"text":"are we trying to get channel leader in?  There is two cr's that is needing reviewed.. one has +2.. but we need to review the second one- and we need to connect delivery and client once this piece is in... These are under Yacov's name","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/weeds","author_icon":"https:\/\/secure.gravatar.com\/avatar\/a235e152d57aff17c7adae8c427e59b9.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-48.png","mrkdwn_in":["text"],"id":1,"footer":"Posted in #fabric-dev"}],"ts":"1485528807.002013"},{"type":"message","user":"U184J2R7S","text":"Josh is getting some +2's with Chris and getting some help- he knows there is urgency as he gets through review","ts":"1485528808.002015"},{"type":"message","user":"U184J2R7S","text":"there are a couple of topics to push today-- i checked with Nick- he's in good shape, no blockers. he's doing the specifics- getting started specific steps. getting docker going,etc,.. he has no blockers on that","ts":"1485528832.002016"},{"type":"message","user":"U184J2R7S","text":"More people who are able to look at it and read in detail the better","ts":"1485528845.002017"},{"type":"message","user":"U184J2R7S","text":"It does not have to be maintainers- we should ask the OM folks -","ts":"1485528865.002018"},{"type":"message","user":"U184J2R7S","text":"Quick question- how are we going to cut and tag the alpha","ts":"1485528896.002019"},{"type":"message","user":"U184J2R7S","text":"When are we going to do this- the end of today is an attempt to cut it","ts":"1485528911.002020"},{"type":"message","user":"U184J2R7S","text":"We will run through the process and see how it works- we will test this weekend-","ts":"1485528924.002021"},{"type":"message","user":"U184J2R7S","text":"We will do again on Monday- and if better- we will switch.","ts":"1485528934.002022"},{"type":"message","user":"U184J2R7S","text":"We need to do the same for the SDK branch- that has to go through Ry- right?","ts":"1485528952.002023"},{"type":"message","user":"U184J2R7S","text":"I remember coordinating with Ry- i need to run something else from Greg. There is a process. <@U0KM61BCP>  will need to help Binh on  how this works again","ts":"1485528987.002024"},{"type":"message","user":"U184J2R7S","text":"<@U0UHG4VP1> We have just realized we want to open a meeting, but we don't have great \"community\" collaboration tools outside of googlehangout to bring people from the channels","ts":"1485529297.002025"},{"type":"message","user":"U184J2R7S","text":"because it limits how many people- maybe you guys can recommend something comin gforward","ts":"1485529311.002026"},{"type":"message","user":"U184J2R7S","text":"(again sorry about any spelling errors)","ts":"1485529319.002027"},{"type":"message","user":"U184J2R7S","text":"Dave Enyeart destroyed vagrant - started from scratch- and it worked.","ts":"1485529442.002028"},{"type":"message","user":"U184J2R7S","text":"You have to remove the image--- this may be why there is an issue","ts":"1485529460.002029"},{"type":"message","user":"U184J2R7S","text":"Jeff\/Murali met and talked about how to break up the lifecycle chaincode and do it properly- the idea is according to Jira- we are going to take the deploy and spit it up into 2 parts - install\/instantiate. it used to be that deploy put the chaincode on the ledger on all the peers on the channel, but now the install- you hvae to go on peer to install this chaincode- you have to do that on all the peers. the instantiate is very close to the deploy in that if the chaincode is there on the peer where you are trying to instantiate the chain code- it will find the chaincode and make sure it's valid chaincode- what does valid really mean? it will find the chaincode and do what deploy does before- run it on the chain and instantiate the variables on the particular channel.. just emphasize on the peer where you are trying to instantiate- you have that chaincode installed previously.  At a high level, the install is local command- it's not a proposal.. it's just a local command where you install, but the instantiate is a regular proposal like it used to be.. So the real challenge is to make sure when you do the instnatiate, the mechanics are not difficult, the real important thing is that th eintegrity of the instantiate- is it the right chaincode- is the guy installing this the right guy? has the chaincode been tampered with?","ts":"1485530315.002030"},{"type":"message","user":"U184J2R7S","text":"one instantiate has happened on the peer- then all the other peers -do get the state for chaincode, but those other peers that have the chaincode installed on system will be able to do invokes and queries- in 0.6,.. when we do a deploy I have to provide chaincode and the chaincode will live on ledger and will give all security- but when you separate it and you say leave locally and instantiate , we *have* to make sure the security concerns are properly addressed","ts":"1485530389.002031"},{"type":"message","user":"U184J2R7S","text":"Peer 1 (p1) has chaincode installed locally","ts":"1485530432.002032"},{"type":"message","user":"U184J2R7S","text":"p2 has chaincode locally","ts":"1485530438.002033"},{"type":"message","user":"U184J2R7S","text":"(someone ran command to install it on that particular system)","ts":"1485530448.002034"},{"type":"message","user":"U184J2R7S","text":"it's putting files there is install","ts":"1485530461.002035"},{"type":"message","user":"U184J2R7S","text":"peer 3 does NOT have chaincode","ts":"1485530473.002036"},{"type":"message","user":"U184J2R7S","text":"Now i'm in the SDK and I use the proposal mechanism to instanatiate - I will say the name of chaincode is \"mycc\", \"zero version\" these are the two parameters- these identify the chaincode- when I install chaincode- i'm not talking about any channel, that's the whole point.","ts":"1485530534.002037"},{"type":"message","user":"U184J2R7S","text":"proposal (instantiate, \"chanel 1, mycc, zeroversion)","ts":"1485530565.002038"},{"type":"message","user":"U184J2R7S","text":"this is directed to lifecycle system chaincode - lccc","ts":"1485530597.002039"},{"type":"message","user":"U184J2R7S","text":"proposal (lccc,instantiate, \"chanel 1, mycc, zeroversion)","ts":"1485530609.002040"},{"type":"message","user":"U184J2R7S","text":"proposal (lccc,instantiate, \"chanel 1, mycc, zeroversion, initiate arguments)","ts":"1485530652.002041"},{"type":"message","user":"U184J2R7S","text":"Don't worry about security just yet- proposal gets endorsed and sends to p1, p2 who have chaincode","ts":"1485530705.002042"},{"type":"message","user":"U184J2R7S","text":"everything goes well,,.. init gets called, intialization, read\/write set works and it becomes a transaction and the ledger","ts":"1485530728.002043"},{"type":"message","user":"U184J2R7S","text":"Would it make sense to leverage a single channel-- and we can use ledger,.. and orders sign it and you have proof...","ts":"1485530754.002044"},{"type":"message","user":"U184J2R7S","text":"whenever we talk, we should say org as well as it's important point","ts":"1485530784.002045"},{"type":"message","user":"U184J2R7S","text":"SDK has to check on P1 and P2 is the same and it should be able to check it- what you did for deploy- you will have to do for instnatiate...","ts":"1485530805.002046"},{"type":"message","user":"U184J2R7S","text":"in end you get ledger 1-&gt; state a,... ledger 2-- state a","ts":"1485530823.002047"},{"type":"message","user":"U184J2R7S","text":"what's my guarantee from app that P1 and P2 is the same?  yes, we have to ask integrity of chaincode.. that's the next step","ts":"1485530848.002048"},{"type":"message","user":"U184J2R7S","text":"the very first thing is the lifecycle system chaincode (LCCC) has name, version, hashcode","ts":"1485530877.002049"},{"type":"message","user":"U184J2R7S","text":"when I instantiate-- and everything works correctly- in the end- 1) lccc gets entry on all the peers","ts":"1485530894.002050"},{"type":"message","user":"U184J2R7S","text":"mycc , zeroversion,haschode","ts":"1485530923.002051"},{"type":"message","user":"U184J2R7S","text":"Has something changed? check haschode and look at entry-- that's not sufficient, but it's necessary","ts":"1485530938.002052"},{"type":"message","user":"U184J2R7S","text":"at least chaincode matches that's the very first thing","ts":"1485530945.002053"},{"type":"message","user":"U184J2R7S","text":"Is there really ability to prove that the orgin of the hash really came from P2 or a different source?","ts":"1485530984.002054"},{"type":"message","user":"U184J2R7S","text":"It is a valid question-","ts":"1485531007.002055"},{"type":"message","user":"U184J2R7S","text":"what if someone put something and snuck in-- one thing I'm going to rely on is hash code is same... is that sufficient?","ts":"1485531030.002056"},{"type":"message","user":"U184J2R7S","text":"Angelo- if p2 is malicious- it's exactly the same hash- but he can always run a different chaincode. if you want to protect against these attacks-- there are other mechanisms that we do here","ts":"1485531063.002057"},{"type":"message","user":"U184J2R7S","text":"that we've implemented","ts":"1485531071.002058"},{"type":"message","user":"U184J2R7S","text":"whatever the result comes back- if that satisfies the endorsement policy- that is what we care about on transaction","ts":"1485531085.002059"},{"type":"message","user":"U184J2R7S","text":"whether the execution is different is now an administrative responsibility","ts":"1485531094.002060"},{"type":"message","user":"U184J2R7S","text":"if the hash is  included in blockchain- endorser did not do it's job properly by inspecting the transaction","ts":"1485531116.002061"},{"type":"message","user":"U184J2R7S","text":"1) proposal- does the client need to specify the hash of code there? because it might force the peers to endorse a specific hash code-- and we put our signature on this specific hash-","ts":"1485531161.002062"},{"type":"message","user":"U184J2R7S","text":"let's see if this make sense- we talk about chaincode being in p1- there is actually a package- it contains chaincode bytes,name version, and other things... my hash is a cobmination  of all these things","ts":"1485531197.002063"},{"type":"message","user":"U184J2R7S","text":"why don't we use a version - the hash of the chaincode- that will bind the sig of the endorser to a specific chaincode- that way they can say we did not instnatiate another chaincode-","ts":"1485531223.002064"},{"type":"message","user":"U184J2R7S","text":"hashcode is 16 bytes--","ts":"1485531232.002065"},{"type":"message","user":"U184J2R7S","text":"256 bits so 16 bytes","ts":"1485531240.002066"},{"type":"message","user":"U184J2R7S","text":"the version you are uniquely idnetified","ts":"1485531251.002067"},{"type":"message","user":"U3DEHEA4R","text":"Hi","ts":"1485531264.002068"},{"type":"message","user":"U184J2R7S","text":"asked clayton to take over","ts":"1485531300.002069"},{"type":"message","user":"U184J2R7S","text":"as i had to walk away from Binh\/Murali talking with angelo","ts":"1485531313.002070"},{"type":"message","user":"U1KDHJT6H","text":"discussing need to put hash on proposal","ts":"1485531366.002071"},{"user":"U3Y4LQ6G7","text":"<@U3Y4LQ6G7|hoolet> has joined the channel","type":"message","subtype":"channel_join","ts":"1485531413.002072"},{"type":"message","user":"U3Y4LQ6G7","text":"hi","ts":"1485531416.002073"},{"type":"message","user":"U1KDHJT6H","text":"later on the ledger hash is signed by endorser","ts":"1485531417.002074"},{"type":"message","user":"U3Y4LQ6G7","text":"help  I can't find  json and json for logout. I am doing the chaincode examples","ts":"1485531495.002075"},{"type":"message","user":"U1KDHJT6H","text":"when you instaniate 2 cc   lccc and cc","ts":"1485531503.002076"},{"type":"message","user":"U3Y4LQ6G7","text":"json and url","ts":"1485531508.002077"},{"type":"message","user":"U1KDHJT6H","text":"client sdk already check rw sets","ts":"1485531525.002078"},{"type":"message","user":"U1KDHJT6H","text":"hoolet fyi i am streaming the notes for ad hoc meeting.   in order to capture and share with the larger community.","ts":"1485531614.002079"},{"type":"message","user":"U3Y4LQ6G7","text":"ok, tkx","ts":"1485531683.002080"},{"type":"message","user":"U1KDHJT6H","text":"what are good terms for this other than install and instaniate.   jz suggest we use term deploy instead of instantiate.   jz sdk point of view this is all deploy.   install is just putting files down.   murall - 2 policites involved,  time of instaniate,  channel create establishs who can adminstirate cc.    second item.  can this cc be instaniated on this specfic cc","ts":"1485531870.002081"},{"type":"message","user":"U1KDHJT6H","text":"can we leverage serialized policy in the package to determine this.   can we decide this is ok.   important to answer.   who can sign package.   assume yes for now and can determine who and what chains.    can this person admin have right to install cc and can this admin install THIS ccc","ts":"1485532145.002082"},{"type":"message","user":"U1KDHJT6H","text":"murali now walking through example\/scenario with team.","ts":"1485532236.002083"},{"type":"message","user":"U1KDHJT6H","text":"talking through potential attack.    attacker has broken into system.   block box access.   p3 should not be able to fool p1.   get in place the basic attacks now and then come back to more edge case attack scenarios.  elli - who is can install cc.     jeff suggesting concept of a deployment channel.  this might simplify is we do this.","ts":"1485532683.002084"},{"type":"message","user":"U1KDHJT6H","text":"stepped away for customer call at 11:00 est.  here is a quick summary of notes from marali to complete the thread","ts":"1485543599.002087"},{"type":"message","user":"U1KDHJT6H","text":"for now we will agree to focus on core security aspects in new deployment model   revisit complex corner cases later once we have some basic impleenation","ts":"1485543661.002088"},{"type":"message","user":"U1KDHJT6H","text":"might be able to leverage bc deployment as opposed filebased per peer deploy","ts":"1485543704.002089"},{"type":"message","user":"U1KDHJT6H","text":"i.e jeff\u2019s propal","ts":"1485543716.002090"},{"type":"message","user":"U13TWBRBL","text":"<@U0UHG4VP1> <@U0KM61BCP> I need to create a branch of fabric-sdk-node for the alpha release, I believe <@U0KN2SSKE> and <@U0S5KF44D> are doing the same for fabric and fabric-ca","ts":"1485544301.002091"},{"type":"message","user":"U13TWBRBL","text":"how do we go about doing this?","ts":"1485544313.002092"},{"type":"message","user":"U13TWBRBL","text":"need to start with a common name","ts":"1485545077.002093"},{"type":"message","user":"U13TWBRBL","text":"for the branch","ts":"1485545081.002094"},{"type":"message","user":"U0P2GSA8Z","text":"<@U13TWBRBL> I think that's something you need to take to the <#C28CXQXD5|fabric-maintainers> channel","ts":"1485545104.002095"},{"type":"message","user":"U13TWBRBL","text":"ah makes sense, will do, thanks Arnaud","ts":"1485545122.002096"},{"type":"message","user":"U0P2GSA8Z","text":"yw","ts":"1485545129.002097"},{"type":"message","user":"U0PB67X4K","text":"1.0.0-alpha  (at least as a tag)  :wink:","ts":"1485545186.002098"},{"type":"message","user":"U0PB67X4K","text":"Docker does stuff like 1.0.0-rc1  (which would be more like a set of betas)","edited":{"user":"U0PB67X4K","ts":"1485545226.000000"},"ts":"1485545215.002099"},{"type":"message","user":"U184J2R7S","text":"do you have the number for the 3pm?","ts":"1485547214.002101"},{"type":"message","user":"U0KPFAZNF","text":"<@U0PB67X4K> ping","ts":"1485547254.002102"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3WUPPA6M\/-.diff|Untitled> and commented: If you apply this patch","file":{"id":"F3WUPPA6M","created":1485550213,"timestamp":1485550213,"name":"-.diff","title":"Untitled","mimetype":"text\/plain","filetype":"diff","pretty_type":"Diff","user":"U0KPFAZNF","editable":true,"size":312,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3WUPPA6M\/-.diff?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3WUPPA6M\/download\/-.diff?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3WUPPA6M\/-.diff","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3WUPPA6M-6aec457381","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3WUPPA6M\/-.diff\/edit","preview":"$ git diff\r\ndiff --git a\/unit-test\/docker-compose.yml b\/unit-test\/docker-compose.yml\r\nindex 1283c708f..622797f31 100644\r\n--- a\/unit-test\/docker-compose.yml\r\n+++ b\/unit-test\/docker-compose.yml\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>$ git diff<\/pre><\/div>\n<div><pre>diff --git a\/unit-test\/docker-compose.yml b\/unit-test\/docker-compose.yml<\/pre><\/div>\n<div><pre>index 1283c708f..622797f31 100644<\/pre><\/div>\n<div><pre><span class=\"cm-negative\">--- a\/unit-test\/docker-compose.yml<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-positive\">+++ b\/unit-test\/docker-compose.yml<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":12,"lines_more":7,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc3YA5RJG7","created":1485550213,"timestamp":1485550213,"user":"U0KPFAZNF","is_intro":true,"comment":"If you apply this patch","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1485550213.002103"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3XMK05N0\/-.sh|Untitled> and commented: You will see this crash from the peer","file":{"id":"F3XMK05N0","created":1485550240,"timestamp":1485550240,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0KPFAZNF","editable":true,"size":16701,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3XMK05N0\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3XMK05N0\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3XMK05N0\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3XMK05N0-c648d61f6b","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3XMK05N0\/-.sh\/edit","preview":"Attaching to unittest_vp_1, unittest_unit-tests_1\r\nvp_1          | 2017-01-27 20:49:31.719 UTC [msp] getPemMaterialFromDir -> INFO 001 Reading directory \/etc\/hyperledger\/fabric\/msp\/sampleconfig\/cacerts\r\nvp_1          | 2017-01-27 20:49:31.720 UTC [msp] getPemMaterialFromDir -> INFO 002 Inspecting file \/etc\/hyperledger\/fabric\/msp\/sampleconfig\/cacerts\/cacert.pem\r\nvp_1          | 2017-01-27 20:49:31.720 UTC [msp] getPemMaterialFromDir -> INFO 003 Reading directory \/etc\/hyperledger\/fabric\/msp\/sampleconfig\/signcerts\r\nvp_1          | 2017-01-27 20:49:31.720 UTC [msp] getPemMaterialFromDir -> INFO 004 Inspecting file \/etc\/hyperledger\/fabric\/msp\/sampleconfig\/signcerts\/peer.pem\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Attaching to unittest_vp_1, unittest_unit-tests_1<\/pre><\/div>\n<div><pre>vp_1          | <span class=\"cm-number\">2017<\/span><span class=\"cm-attribute\">-01<\/span><span class=\"cm-attribute\">-27<\/span> <span class=\"cm-number\">20<\/span>:49:31.719 UTC [msp] getPemMaterialFromDir <span class=\"cm-attribute\">-<\/span>&gt; INFO <span class=\"cm-number\">001<\/span> Reading directory \/etc\/hyperledger\/fabric\/msp\/sampleconfig\/cacerts<\/pre><\/div>\n<div><pre>vp_1          | <span class=\"cm-number\">2017<\/span><span class=\"cm-attribute\">-01<\/span><span class=\"cm-attribute\">-27<\/span> <span class=\"cm-number\">20<\/span>:49:31.720 UTC [msp] getPemMaterialFromDir <span class=\"cm-attribute\">-<\/span>&gt; INFO <span class=\"cm-number\">002<\/span> Inspecting file \/etc\/hyperledger\/fabric\/msp\/sampleconfig\/cacerts\/cacert.pem<\/pre><\/div>\n<div><pre>vp_1          | <span class=\"cm-number\">2017<\/span><span class=\"cm-attribute\">-01<\/span><span class=\"cm-attribute\">-27<\/span> <span class=\"cm-number\">20<\/span>:49:31.720 UTC [msp] getPemMaterialFromDir <span class=\"cm-attribute\">-<\/span>&gt; INFO <span class=\"cm-number\">003<\/span> Reading directory \/etc\/hyperledger\/fabric\/msp\/sampleconfig\/signcerts<\/pre><\/div>\n<div><pre>vp_1          | <span class=\"cm-number\">2017<\/span><span class=\"cm-attribute\">-01<\/span><span class=\"cm-attribute\">-27<\/span> <span class=\"cm-number\">20<\/span>:49:31.720 UTC [msp] getPemMaterialFromDir <span class=\"cm-attribute\">-<\/span>&gt; INFO <span class=\"cm-number\">004<\/span> Inspecting file \/etc\/hyperledger\/fabric\/msp\/sampleconfig\/signcerts\/peer.pem<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":134,"lines_more":129,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc3XH8UF7D","created":1485550240,"timestamp":1485550240,"user":"U0KPFAZNF","is_intro":true,"comment":"You will see this crash from the peer","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1485550241.002104"},{"type":"message","user":"U0KPFAZNF","text":"This is what is causing the UT failures in mainline related to \"linking to vp_1\" or whatever the message is <@U1KDAMDJ7> <@U0YK3KKCY>","ts":"1485550287.002105"},{"type":"message","user":"U0YK3KKCY","text":"I think this might be the issue...","ts":"1485550322.002106"},{"type":"message","user":"U0KPFAZNF","text":"my guess is someone committed a protobuf change recently, but still need to check","ts":"1485550325.002107"},{"type":"message","user":"U0YK3KKCY","text":"CULPRIT  commit 51fecbad8dba58aa65faf7c04ac3ecbc708c63f3\nMerge: 6a90017 2c98262\nAuthor: Gari Singh &lt;gari.r.singh@gmail.com&gt;\nDate:   Fri Jan 27 19:08:40 2017 +0000\n\n    Merge \"[FAB-1762] Refactor couchdb history db to leveldb.\"","ts":"1485550343.002108"},{"type":"message","user":"U0YK3KKCY","text":"If I checkout the commit prior to the one above, there are no issues.","ts":"1485550361.002109"},{"type":"message","user":"U0YK3KKCY","text":"I'll re-run to confirm","ts":"1485550378.002110"},{"type":"message","user":"U0KPFAZNF","text":"which maps to this, i believe <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4725\/>","ts":"1485550510.002111"},{"type":"message","user":"U1KDAMDJ7","text":"After `make protos`, I see:\n`\tmodified:   orderer\/sbft\/simplebft\/simplebft.pb.go`","ts":"1485550512.002112"},{"type":"message","user":"U0KPFAZNF","text":"ill try reverting","ts":"1485550517.002113"},{"type":"message","user":"U0KPFAZNF","text":"<@U1KDAMDJ7> does it run after that?","ts":"1485550535.002114"},{"type":"message","user":"U1KDAMDJ7","text":"trying...","ts":"1485550538.002115"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1485550541.002116"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> can you explore ways in which we can log the unit-test\/docker-compose.yml -&gt; vp_1 to a file rather than \/dev\/null","ts":"1485550612.002117"},{"type":"message","user":"U0KPFAZNF","text":"?","ts":"1485550615.002118"},{"type":"message","user":"U0KPFAZNF","text":"if that fails, I would say the more conservative thing is to just let the peer be chatty","ts":"1485550639.002119"},{"type":"message","user":"U0YK3KKCY","text":"This is where it starts working: git checkout 6a90017a4dc147af205c907e154da3f3f584b82b","ts":"1485550644.002120"},{"type":"message","user":"U0YK3KKCY","text":"For me anyway.","ts":"1485550653.002121"},{"type":"message","user":"U0KPFAZNF","text":"<@U0YK3KKCY> that jives with all the data I have as well","ts":"1485550694.002122","reactions":[{"name":"+1","users":["U0YK3KKCY"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"lets see what the result is from <@U1KDAMDJ7> 's experiement","ts":"1485550723.002123"},{"type":"message","user":"U0YK3KKCY","text":"OK","ts":"1485550729.002124"},{"type":"message","user":"U0KPFAZNF","text":"then we can decide if I should revert it or not","ts":"1485550732.002125"},{"type":"message","user":"U0KPFAZNF","text":"<@U1KFCPFQA> ^^^^","ts":"1485550752.002126"},{"type":"message","user":"U1KDAMDJ7","text":"1st attempt failed with exact same error. I\u2019m trying again, after a `make clean` but having trouble building.","ts":"1485550759.002127"},{"type":"message","user":"U0KPFAZNF","text":"fyi, we might have to revert CR4725 <@U0PB67X4K>","ts":"1485550787.002128"},{"type":"message","user":"U1KFCPFQA","text":"ok, i\u2019m looking","ts":"1485550801.002129"},{"type":"message","user":"U0PB67X4K","text":"what fails?","ts":"1485551136.002130"},{"type":"message","user":"U1KDAMDJ7","text":"<@U0KPFAZNF> , Updated generated proto did not help","ts":"1485551202.002131"},{"type":"message","user":"U0YK3KKCY","text":"There may be more than one issue here","ts":"1485551235.002132"},{"type":"message","user":"U0YK3KKCY","text":"Currently, the peer container startup ends in errors when issuing `make unit-test`","ts":"1485551308.002133"},{"type":"message","user":"U0PB67X4K","text":"how is that possible when CI actually runs that?","ts":"1485551324.002134"},{"type":"message","user":"U0YK3KKCY","text":"CI is failing","ts":"1485551333.002135"},{"type":"message","user":"U0PB67X4K","text":"it passed for <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4725>","ts":"1485551355.002136"},{"type":"message","user":"U0YK3KKCY","text":"I have no explanation as to why it passed during the CR verify.","ts":"1485551393.002137"},{"type":"message","user":"U0YK3KKCY","text":"When I look at current fabric verify jobs, there are a number of failures going on related to the peer container not starting up due to errors for the unit testing.","ts":"1485551448.002138"},{"type":"message","user":"U1KFCPFQA","text":"in core.yaml, you can disable history by setting historyDatabase to false","ts":"1485551520.002139","reactions":[{"name":"+1","users":["U0YK3KKCY","U0ULK2JPP"],"count":2}]},{"type":"message","user":"U1KFCPFQA","text":"that may get you going while i troubleshoot","ts":"1485551531.002140"},{"type":"message","user":"U0ULK2JPP","text":"that seems to do it <@U1KFCPFQA> \u2026just tested","ts":"1485551611.002141"},{"type":"message","user":"U0ULK2JPP","text":"we really need to get bdd or simple end-to-end integ test of some sort in","ts":"1485551668.002142"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KPFAZNF> sure will check this..","ts":"1485551822.002143"},{"type":"message","user":"U0KPFAZNF","text":"all: to debug, delete L3 from unit-test\/docker-compose","ts":"1485551896.002144"},{"type":"message","user":"U0KPFAZNF","text":"it will enable the peer log","ts":"1485551900.002145"},{"type":"message","user":"U0KPFAZNF","text":"I did confirm that reverting 2c9826297a9131654a1625bfd49888645d7c748b fixes the issue","ts":"1485551922.002146"},{"type":"message","user":"U0KPFAZNF","text":"I suggest I fire this in as a CR so we have it as a ready-to-go option, and then we can give <@U1KFCPFQA> some amount of time to derive an alternate solution","ts":"1485551969.002147"},{"type":"message","user":"U0PB67X4K","text":"fire what in?  disable to setting or revert the change?","ts":"1485551990.002148"},{"type":"message","user":"U0KPFAZNF","text":"revert of 2c9826297a9131654a1625bfd49888645d7c748b","ts":"1485551997.002149"},{"type":"message","user":"U0KPFAZNF","text":"it appears to be 100% reproducible with, and 100% successful without","ts":"1485552018.002150"},{"type":"message","user":"U0PB67X4K","text":"and that's 4725?","ts":"1485552037.002151"},{"type":"message","user":"U0KPFAZNF","text":"correct","ts":"1485552041.002152"},{"type":"message","user":"U1KFCPFQA","text":"how about a change to core.yaml to set historyDatabase to false, to make the eventual fix smaller?","ts":"1485552083.002153"},{"type":"message","user":"U0PB67X4K","text":"<@U0KPFAZNF> - you know how to revert a change with gerrit?","ts":"1485552083.002154"},{"type":"message","user":"U0KPFAZNF","text":"<@U0PB67X4K> my experience doing it with the UI has been mixed","ts":"1485552104.002155"},{"type":"message","user":"U0KPFAZNF","text":"I do it old-school","ts":"1485552108.002156"},{"type":"message","user":"U0ULK2JPP","text":"<@U1KFCPFQA> suggestion maybe necessary","ts":"1485552116.002157"},{"type":"message","user":"U0KPFAZNF","text":"\"git revert\" and then create a new CR","ts":"1485552116.002158"},{"type":"message","user":"U0PB67X4K","text":"ok - UI was failing so that makes sense","ts":"1485552125.002159"},{"type":"message","user":"U0ULK2JPP","text":"depending on where 4725 falls","ts":"1485552128.002160"},{"type":"message","user":"U0KPFAZNF","text":"yeah, that was my experience","ts":"1485552134.002161"},{"type":"message","user":"U0UHG4VP1","text":"`git revert ...; git commit --amend -s; git push ...`","edited":{"user":"U0UHG4VP1","ts":"1485552148.000000"},"ts":"1485552139.002162"},{"type":"message","user":"U0KPFAZNF","text":"actually, i never have seen it work, and I dont really trust it","ts":"1485552143.002163"},{"type":"message","user":"U0KPFAZNF","text":"(i.e. is that unilateral power?, etc)","ts":"1485552160.002165"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1485552161.002166"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: yep, exactly","ts":"1485552181.002167"},{"type":"message","user":"U0KPFAZNF","text":"tried and true, works like a champ","ts":"1485552186.002168"},{"type":"message","user":"U0UHG4VP1","text":"also if reverting multiple commits be sure to sign each one before doing the next","ts":"1485552208.002169"},{"type":"message","user":"U0KPFAZNF","text":"understood, but in this case it seems to be just one patch","ts":"1485552221.002170"},{"type":"message","user":"U0UHG4VP1","text":"sorry I'm on autopilot eating bbq with my laptop out :slightly_smiling_face:","ts":"1485552246.002171"},{"type":"message","user":"U0KPFAZNF","text":"not at all, i appreciate the guidance","ts":"1485552259.002172"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KPFAZNF> <@U0PB67X4K> ..a consideration, \u2026 if we do `change to core.yaml to set historyDatabase to false` as the default could also be a solution","ts":"1485552269.002173"},{"type":"message","user":"U0ULK2JPP","text":"basically get the latest...","ts":"1485552285.002174"},{"type":"message","user":"U1KFCPFQA","text":"here is the CR to set historyDatabase to false:","ts":"1485552379.002175"},{"type":"message","user":"U1KFCPFQA","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4949\/>","ts":"1485552380.002176"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4951\/> ready as a backup","ts":"1485552471.002177"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP> yep, im in favor of whatever works with the least disruption","ts":"1485552543.002178"},{"type":"message","user":"U0KPFAZNF","text":"just wanted to queue a revert so the CI pipeline is primed","ts":"1485552553.002179"},{"type":"message","user":"U1KFCPFQA","text":"I\u2019ve confirmed it is fixed with: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4949\/>","ts":"1485552557.002180"},{"type":"message","user":"U0KPFAZNF","text":"ok, cool","ts":"1485552563.002181"},{"type":"message","user":"U0ULK2JPP","text":"`just wanted to queue a revert so the CI pipeline is primed` \u2026 I think thats good to have as a backup and ready regardless of what we do with the current break","ts":"1485552623.002182"},{"type":"message","user":"U0PB67X4K","text":"BTW - at some point did the default directory become `\/etc\/hyperledger\/production`","ts":"1485553415.002183"},{"type":"message","user":"U0PB67X4K","text":"because now its back to `\/var\/hyperledger\/production`","ts":"1485553442.002184"},{"type":"message","user":"U0YK3KKCY","text":"Just for grins I performed a git checkout of:\ncommit 2c9826297a9131654a1625bfd49888645d7c748b\nAuthor: denyeart &lt;enyeart@us.ibm.com&gt;\nDate:   Mon Jan 23 16:10:47 2017 -0500\n\nThe unit-tests run fine.  Weird.","ts":"1485553452.002185"},{"type":"message","user":"U0PB67X4K","text":"seriously - I just want to run the damn peer  :disappointed:","ts":"1485553471.002186"},{"type":"message","user":"U0YK3KKCY","text":"Perhaps there were some incompatibilities with the original patch and other applied patches.","edited":{"user":"U0YK3KKCY","ts":"1485553525.000000"},"ts":"1485553512.002187"},{"type":"message","user":"U0KPFAZNF","text":"so, the peer container still appears busted in a different way, even after the revert","ts":"1485553656.002189"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3XL3CN58\/-.pl|Untitled>","file":{"id":"F3XL3CN58","created":1485553686,"timestamp":1485553686,"name":"-.pl","title":"Untitled","mimetype":"text\/plain","filetype":"perl","pretty_type":"Perl","user":"U0KPFAZNF","editable":true,"size":615,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3XL3CN58\/-.pl?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3XL3CN58\/download\/-.pl?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3XL3CN58\/-.pl","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3XL3CN58-30b07c9130","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3XL3CN58\/-.pl\/edit","preview":"$ docker run -it --rm hyperledger\/fabric-peer\r\n2017-01-27 21:47:54.389 UTC [msp] getPemMaterialFromDir -> INFO 001 Reading directory msp\/sampleconfig\/cacerts\r\npanic: Fatal error when setting up MSP from directory msp\/sampleconfig: err Could not load a valid ca certificate from directory msp\/sampleconfig\/cacerts, err Could not read directory open msp\/sampleconfig\/cacerts: no such file or directory, err msp\/sampleconfig\/cacerts\r\n\r\n\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>$ <span class=\"cm-meta\">docker<\/span> <span class=\"cm-meta\">run<\/span> <span class=\"cm-operator\">-<\/span><span class=\"cm-meta\">it<\/span> <span class=\"cm-operator\">--<\/span><span class=\"cm-meta\">rm<\/span> <span class=\"cm-meta\">hyperledger<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-meta\">fabric<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-meta\">peer<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-number\">2017<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-number\">01<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-number\">27<\/span> <span class=\"cm-number\">21<\/span><span class=\"cm-operator\">:<\/span><span class=\"cm-number\">47<\/span><span class=\"cm-operator\">:<\/span><span class=\"cm-number\">54.389<\/span> <span class=\"cm-meta\">UTC<\/span> [<span class=\"cm-meta\">msp<\/span>] <span class=\"cm-meta\">getPemMaterialFromDir<\/span> <span class=\"cm-operator\">-&gt;<\/span> <span class=\"cm-meta\">INFO<\/span> <span class=\"cm-number\">001<\/span> <span class=\"cm-meta\">Reading<\/span> <span class=\"cm-meta\">directory<\/span> <span class=\"cm-meta\">msp<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-meta\">sampleconfig<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-meta\">cacerts<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-meta\">panic<\/span><span class=\"cm-operator\">:<\/span> <span class=\"cm-meta\">Fatal<\/span> <span class=\"cm-meta\">error<\/span> <span class=\"cm-keyword\">when<\/span> <span class=\"cm-meta\">setting<\/span> <span class=\"cm-meta\">up<\/span> <span class=\"cm-meta\">MSP<\/span> <span class=\"cm-meta\">from<\/span> <span class=\"cm-meta\">directory<\/span> <span class=\"cm-meta\">msp<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-meta\">sampleconfig<\/span><span class=\"cm-operator\">:<\/span> <span class=\"cm-meta\">err<\/span> <span class=\"cm-meta\">Could<\/span> <span class=\"cm-operator\">not<\/span> <span class=\"cm-meta\">load<\/span> <span class=\"cm-meta\">a<\/span> <span class=\"cm-meta\">valid<\/span> <span class=\"cm-meta\">ca<\/span> <span class=\"cm-meta\">certificate<\/span> <span class=\"cm-meta\">from<\/span> <span class=\"cm-meta\">directory<\/span> <span class=\"cm-meta\">msp<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-meta\">sampleconfig<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-meta\">cacerts<\/span>, <span class=\"cm-meta\">err<\/span> <span class=\"cm-meta\">Could<\/span> <span class=\"cm-operator\">not<\/span> <span class=\"cm-keyword\">read<\/span> <span class=\"cm-meta\">directory<\/span> <span class=\"cm-keyword\">open<\/span> <span class=\"cm-meta\">msp<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-meta\">sampleconfig<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-meta\">cacerts<\/span><span class=\"cm-operator\">:<\/span> <span class=\"cm-keyword\">no<\/span> <span class=\"cm-meta\">such<\/span> <span class=\"cm-meta\">file<\/span> <span class=\"cm-operator\">or<\/span> <span class=\"cm-meta\">directory<\/span>, <span class=\"cm-meta\">err<\/span> <span class=\"cm-meta\">msp<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-meta\">sampleconfig<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-meta\">cacerts<\/span><\/pre><\/div>\n<div><pre>&#8203;<\/pre><\/div>\n<div><pre>&#8203;<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":10,"lines_more":5,"preview_is_truncated":false,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1485553686.002190"},{"type":"message","user":"U0KPFAZNF","text":"not sure what is up yet","ts":"1485553695.002191"},{"type":"message","user":"U0PB67X4K","text":"you have to explicitly pass in the MSP config location","ts":"1485553927.002192"},{"type":"message","user":"U0ULK2JPP","text":"yes\u2026 or be in \u201cfabric\/\u201c folder","ts":"1485553946.002193"},{"type":"message","user":"U0PB67X4K","text":"but then you fail for other reasons","ts":"1485553972.002194"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP> this one was you, my friend :wink:","ts":"1485554031.002195"},{"type":"message","user":"U0KPFAZNF","text":"036ceec33b","ts":"1485554034.002196"},{"type":"message","user":"U0ULK2JPP","text":"I know :slightly_smiling_face:","ts":"1485554036.002197"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1485554039.002198"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1485554039.002199"},{"type":"message","user":"U0KPFAZNF","text":"one course of action that seems possibly correct is to add the default to image\/peer\/Dockerfile.in","ts":"1485554064.002200"},{"type":"message","user":"U0ULK2JPP","text":"my profound apologies\u2026 it was either having all the users do MSPCONFIGPATH or fix it in Dockerfile","ts":"1485554078.002201"},{"type":"message","user":"U0KPFAZNF","text":"no worries","ts":"1485554085.002202"},{"type":"message","user":"U0KPFAZNF","text":"ill patch locally","ts":"1485554123.002203"},{"type":"message","user":"U0ULK2JPP","text":"`correct is to add the default to image\/peer\/Dockerfile.in` is consistent with the fix","ts":"1485554137.002204"},{"type":"message","user":"U0KPFAZNF","text":"cool","ts":"1485554143.002205"},{"type":"message","user":"U0ULK2JPP","text":"do you want me to take care of that ?","ts":"1485554188.002206"},{"type":"message","user":"U0ULK2JPP","text":"I can...","ts":"1485554190.002207"},{"type":"message","user":"U0KPFAZNF","text":"yls pls","ts":"1485554205.002208"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1485554207.002209"},{"type":"message","user":"U0ULK2JPP","text":"on it","ts":"1485554210.002210"},{"type":"message","user":"U0KPFAZNF","text":"gah, i cannot type today","ts":"1485554213.002211"},{"type":"message","user":"U1KFCPFQA","text":"the real fix is almost ready\u2026 we were iterating through the transactions to write history. worked for \u2018normal\u2019 blocks which are used in unit tests\u2026 fails for config blocks.  fix is to check tran header type:","ts":"1485555025.002212","reactions":[{"name":"+1","users":["U0YK3KKCY","U0PB67X4K"],"count":2}]},{"type":"message","user":"U1KFCPFQA","text":"if common.HeaderType(payload.Header.ChainHeader.Type) == common.HeaderType_ENDORSER_TRANSACTION","ts":"1485555028.002213"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KPFAZNF> <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4953\/> fixes the MSPCONFIGPATH for fabric-peer images","ts":"1485555420.002214","reactions":[{"name":"+1","users":["U0UGH3X7X"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP> or any other maintainer: +2 this one pls","ts":"1485555834.002215"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4949\/>","ts":"1485555835.002216"},{"type":"message","user":"U0KPFAZNF","text":"(and submit","ts":"1485555841.002217"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> <@U11HH3P7Y> FYI, odd behavior on 4949","ts":"1485555866.002218"},{"type":"message","user":"U0KPFAZNF","text":"CI said success but no V+1","ts":"1485555874.002219"},{"type":"message","user":"U0KPFAZNF","text":"it manually pushed on out","ts":"1485555880.002220"},{"type":"message","user":"U0PB67X4K","text":"<@U1KFCPFQA> - was just about to ping the same thing","ts":"1485555903.002221"},{"type":"message","user":"U0PB67X4K","text":"can't write config blocks to history  (I don't think we want to anyway)","ts":"1485555923.002222"},{"type":"message","user":"U0KPFAZNF","text":"ill abandon 4951","ts":"1485555926.002223"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KPFAZNF> Patch set 2 build is still in progress <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/5829\/console>","edited":{"user":"U11HH3P7Y","ts":"1485555972.000000"},"ts":"1485555962.002224"},{"type":"message","user":"U1KFCPFQA","text":"<@U0PB67X4K> agreed.  do you want to merge the historyDatabase disablement:","ts":"1485555995.002226"},{"type":"message","user":"U1KFCPFQA","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4949\/>","ts":"1485555996.002227"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> ah, ok","ts":"1485555996.002228"},{"type":"message","user":"U0KPFAZNF","text":"that explains it","ts":"1485555999.002229"},{"type":"message","user":"U0KPFAZNF","text":"ill clear my V+1 then","ts":"1485556011.002230"},{"type":"message","user":"U1KFCPFQA","text":"while i do some more tests on the \u2018real fix'","ts":"1485556013.002231"},{"type":"message","user":"U0PB67X4K","text":"<@U1KFCPFQA> - can't we just eliminate saving config blocks (well really a block with a single config tx) to history ?","ts":"1485556071.002232"},{"type":"message","user":"U1KFCPFQA","text":"yes, i\u2019ve got that fix made, just testing it","ts":"1485556093.002233"},{"type":"message","user":"U0PB67X4K","text":"that's the \"real\" fix?","ts":"1485556101.002234"},{"type":"message","user":"U1KFCPFQA","text":"yes","ts":"1485556104.002235"},{"type":"message","user":"U0PB67X4K","text":"ok","ts":"1485556106.002236"},{"type":"message","user":"U0PB67X4K","text":"I misunderstood your comment above","ts":"1485556119.002237"},{"type":"message","user":"U1KFCPFQA","text":"the real fix is to add the condition:","ts":"1485556150.002238"},{"type":"message","user":"U1KFCPFQA","text":"if common.HeaderType(payload.Header.ChainHeader.Type) == common.HeaderType_ENDORSER_TRANSACTION","ts":"1485556151.002239"},{"type":"message","user":"U1KFCPFQA","text":"i can push that now, and figure out how to add the unit test with config blocks later","ts":"1485556212.002240"},{"type":"message","user":"U1HFNJB50","text":"<@U0PB67X4K> &gt; can't we just eliminate saving config blocks (well really a block with a single config tx) to history ?\n\nis the only block w\/ single tx will be a config block?","ts":"1485556324.002241"},{"type":"message","user":"U0PB67X4K","text":"no","ts":"1485556333.002242"},{"type":"message","user":"U0PB67X4K","text":"I was just clarifying what I meant by config block  :wink:","ts":"1485556359.002243"},{"type":"message","user":"U1HFNJB50","text":"Just making sure I\u2019ve got you correctly :blush:","edited":{"user":"U1HFNJB50","ts":"1485556516.000000"},"ts":"1485556394.002244"},{"type":"message","user":"U0PB67X4K","text":"<@U1KFCPFQA> - you should be able to copy the util function which generates a default config block when the peer starts up","ts":"1485556405.002245"},{"type":"message","user":"U0PB67X4K","text":"hey - someone has to make sure I am making sense  :wink:","ts":"1485556422.002246","reactions":[{"name":"joy","users":["U1HFNJB50"],"count":1}]},{"type":"message","user":"U0PB67X4K","text":"`configtxtest.MakeGenesisBlock(chainID)`","ts":"1485556451.002247"},{"type":"message","user":"U1KFCPFQA","text":"<@U0PB67X4K> <@U0KPFAZNF> Real fix along with genesis block test pushed: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4957\/>","ts":"1485558662.002249"},{"type":"message","user":"U0PB67X4K","text":"will look out for CI to finish","ts":"1485558716.002250"},{"type":"message","user":"U1KFCPFQA","text":"<@U0PB67X4K> The CI failed, looks like connection problems?","ts":"1485563248.002251"},{"type":"message","user":"U1KFCPFQA","text":"ah, murali just did reverify","ts":"1485563290.002252"},{"type":"message","user":"U1KFCPFQA","text":"<@U0KPFAZNF> <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4957\/> passed CI verification, if you want to merge it...","ts":"1485568764.002253"},{"type":"message","user":"U0KPFAZNF","text":"done","ts":"1485569163.002254"},{"type":"message","user":"U0KPFAZNF","text":"rebased <@U0ULK2JPP> fix too","ts":"1485569174.002255","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"user":"U2ZEVNKTP","text":"<@U2ZEVNKTP|spiro> has joined the channel","type":"message","subtype":"channel_join","ts":"1485573556.002256"},{"user":"U3BU07SN7","text":"<@U3BU07SN7|karkal72> has joined the channel","type":"message","subtype":"channel_join","ts":"1485622880.002257"},{"type":"message","user":"U0P2GSA8Z","text":"hi there","ts":"1485693914.002258"},{"type":"message","user":"U0P2GSA8Z","text":"I launched a new build (from scratch) with vagrant last night and it failed running the behave tests","ts":"1485693948.002259"},{"type":"message","user":"U0P2GSA8Z","text":"Running behave tests\nException ImportError: No module named sha3\nTraceback (most recent call last):\n  File \"\/usr\/local\/bin\/behave\", line 11, in &lt;module&gt;\n    sys.exit(main())\n  File \"\/usr\/local\/lib\/python2.7\/dist-packages\/behave\/__main__.py\", line 109, in main\n    failed = runner.run()\n  File \"\/usr\/local\/lib\/python2.7\/dist-packages\/behave\/runner.py\", line 672, in run\n    return self.run_with_paths()\n  File \"\/usr\/local\/lib\/python2.7\/dist-packages\/behave\/runner.py\", line 678, in run_with_paths\n    self.load_step_definitions()\n  File \"\/usr\/local\/lib\/python2.7\/dist-packages\/behave\/runner.py\", line 658, in load_step_definitions\n    exec_file(os.path.join(path, name), step_module_globals)\n  File \"\/usr\/local\/lib\/python2.7\/dist-packages\/behave\/runner.py\", line 304, in exec_file\n    exec(code, globals, locals)\n  File \"steps\/bootstrap_impl.py\", line 17, in &lt;module&gt;\n    import endorser_util\n  File \"\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/bddtests\/steps\/endorser_util.py\", line 5, in &lt;module&gt;\n    import bootstrap_util\n  File \"\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/bddtests\/steps\/bootstrap_util.py\", line 20, in &lt;module&gt;\n    import sha3\nImportError: No module named sha3\nMakefile:117: recipe for target 'behave' failed\nmake: *** [behave] Error 1\nrm build\/image\/zookeeper\/Dockerfile build\/image\/testenv\/Dockerfile build\/image\/javaenv\/Dockerfile build\/image\/kafka\/Dockerfile build\/image\/peer\/Dockerfile build\/image\/orderer\/Dockerfile build\/image\/ccenv\/Dockerfile","ts":"1485693999.002260"},{"type":"message","user":"U0P2GSA8Z","text":"I've seen this error before and fixing it came down to installing some missing python package","edited":{"user":"U0P2GSA8Z","ts":"1485701088.000000"},"ts":"1485694059.002261"},{"type":"message","user":"U0P2GSA8Z","text":"I'll report back when I get a chance to try that again","ts":"1485694071.002262"},{"type":"message","user":"U0UHG4VP1","text":"it looks like `pysha3` is the package","ts":"1485694378.002265"},{"type":"message","user":"U0P2GSA8Z","text":"right","ts":"1485695853.002266"},{"type":"message","user":"U0P2GSA8Z","text":"ok, I got the behave tests running but I had to install 3 python packages: pysh3, pyOpenSSL, and ecdsa","edited":{"user":"U0P2GSA8Z","ts":"1485701077.000000"},"ts":"1485700830.002267"},{"type":"message","user":"U0P2GSA8Z","text":"so, these need to be added to our vagrant environment","ts":"1485700859.002268"},{"type":"message","user":"U0ULK2JPP","text":"<@U0UKTPMG8> had instructions somewhere","ts":"1485700904.002269"},{"type":"message","user":"U0ULK2JPP","text":"I think in one of the JIRA <@U0P2GSA8Z> .. let me try look it up","ts":"1485700917.002270"},{"type":"message","user":"U0P2GSA8Z","text":"I'd be happy to submit a CR if I could figure out how to patch this stuff","ts":"1485700958.002271"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F3XULBJ9G\/pasted_image_at_2017_01_29_09_45_am.png|Pasted image at 2017-01-29, 9:45 AM> and commented: <@U0P2GSA8Z> not sure if this is what you are looking for but <https:\/\/jira.hyperledger.org\/browse\/FAB-1141> might help","file":{"id":"F3XULBJ9G","created":1485701134,"timestamp":1485701134,"name":"Pasted image at 2017_01_29 09_45 AM.png","title":"Pasted image at 2017-01-29, 9:45 AM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":82318,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3XULBJ9G\/pasted_image_at_2017_01_29_09_45_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3XULBJ9G\/download\/pasted_image_at_2017_01_29_09_45_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3XULBJ9G-3523ef0c6b\/pasted_image_at_2017_01_29_09_45_am_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3XULBJ9G-3523ef0c6b\/pasted_image_at_2017_01_29_09_45_am_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3XULBJ9G-3523ef0c6b\/pasted_image_at_2017_01_29_09_45_am_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":79,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3XULBJ9G-3523ef0c6b\/pasted_image_at_2017_01_29_09_45_am_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":105,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3XULBJ9G-3523ef0c6b\/pasted_image_at_2017_01_29_09_45_am_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3XULBJ9G-3523ef0c6b\/pasted_image_at_2017_01_29_09_45_am_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":158,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3XULBJ9G-3523ef0c6b\/pasted_image_at_2017_01_29_09_45_am_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":210,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3XULBJ9G-3523ef0c6b\/pasted_image_at_2017_01_29_09_45_am_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":224,"image_exif_rotation":1,"original_w":1552,"original_h":340,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F3XULBJ9G\/pasted_image_at_2017_01_29_09_45_am.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3XULBJ9G-c1fd1f0a89","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc3Y1FP6NQ","created":1485701134,"timestamp":1485701134,"user":"U0ULK2JPP","is_intro":true,"comment":"<@U0P2GSA8Z> not sure if this is what you are looking for but <https:\/\/jira.hyperledger.org\/browse\/FAB-1141> might help","channel":""}},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1485701136.002274"},{"type":"message","user":"U0P2GSA8Z","text":"ok, I'll have a look. Thanks!","ts":"1485701149.002275"},{"type":"message","user":"U0ULK2JPP","text":"sure!","ts":"1485701153.002276"},{"user":"U2CBFCQG0","text":"<@U2CBFCQG0|cybersphaker> has joined the channel","type":"message","subtype":"channel_join","ts":"1485703171.002277"},{"type":"message","user":"U0UKTPMG8","text":"<@U0P2GSA8Z> <https:\/\/jira.hyperledger.org\/browse\/FAB-1141> is correct","ts":"1485704822.002278","reactions":[{"name":"+1","users":["U0ULK2JPP"],"count":1}]},{"type":"message","user":"U0UKTPMG8","text":"I am getting ready to add 1 more dependency as well, will document in that issue","ts":"1485704864.002279"},{"type":"message","user":"U0UKTPMG8","text":"<https:\/\/jira.hyperledger.org\/browse\/FAB-1141> is the running issue I use to document the progress with boostrap, getting ready to add a new change set that goes through the entire process including deployment and verification","ts":"1485704903.002280"},{"type":"message","user":"U0P2GSA8Z","text":"Do you have ecdsa as well?","ts":"1485704905.002281"},{"type":"message","user":"U0UKTPMG8","text":"it is in the thread of <https:\/\/jira.hyperledger.org\/browse\/FAB-1141>","ts":"1485704913.002282"},{"type":"message","user":"U0UKTPMG8","text":"once complete, will make sure that vagrant env changes are in place","ts":"1485704929.002283"},{"type":"message","user":"U0P2GSA8Z","text":"Ok, sounds good","ts":"1485704945.002284"},{"type":"message","user":"U0P2GSA8Z","text":"Thanks","ts":"1485704949.002285"},{"type":"message","user":"U0UKTPMG8","text":"trying to complete bootstrap in its entirety before CI is re-enabled with behave","ts":"1485704956.002286"},{"type":"message","user":"U0UKTPMG8","text":"search for 'pip ...'","edited":{"user":"U0UKTPMG8","ts":"1485704985.000000"},"ts":"1485704967.002287"},{"type":"message","user":"U0UKTPMG8","text":"the list you determined appears complete","ts":"1485705028.002289"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UKTPMG8> if you are managing deps for behave, one suggestion I would make is lets get all of the pip stuff into the testenv docker container, and then run behave with $(DRUN) like we do for unit tests","ts":"1485706206.002290"},{"type":"message","user":"U0KPFAZNF","text":"then vagrant\/native\/ci will all work without mods","ts":"1485706223.002291"},{"type":"message","user":"U0KPFAZNF","text":"in the near future, I would like to see vagrant\/ci be reduced to some minimal environment (e.g. apt-get install make go docker docker-compose)","ts":"1485706274.002292"},{"type":"message","user":"U0KPFAZNF","text":"in short, if we need to tweak vagrant, ci, or both, we are doing something wrong","ts":"1485706298.002293"},{"type":"message","user":"U0UKTPMG8","text":"<@U0KPFAZNF> saw <@U0XPR4NP4> attempted a CS to update, but looks like it stalled","ts":"1485706473.002294"},{"type":"message","user":"U0KPFAZNF","text":"CS?","ts":"1485706484.002295"},{"type":"message","user":"U0UKTPMG8","text":"change st","ts":"1485706487.002296"},{"type":"message","user":"U0UKTPMG8","text":"set","ts":"1485706487.002297"},{"type":"message","user":"U0KPFAZNF","text":"ah, roger","ts":"1485706491.002298"},{"type":"message","user":"U0UKTPMG8","text":"with the above would it still be available from vagrant command line?","ts":"1485706533.002299"},{"type":"message","user":"U0UKTPMG8","text":"<@U0KPFAZNF> ^","ts":"1485706552.002300"},{"type":"message","user":"U0KPFAZNF","text":"you mean to run behave natively in vagrant?","ts":"1485706595.002301"},{"type":"message","user":"U0UKTPMG8","text":"yes","ts":"1485706598.002302"},{"type":"message","user":"U0KPFAZNF","text":"is it unacceptable if it runs in a docker container within vagrant?","ts":"1485706618.002303"},{"type":"message","user":"U0UKTPMG8","text":"I would prefer to have access from vagrant, as I use it for development","ts":"1485706642.002304"},{"type":"message","user":"U0UKTPMG8","text":"interactively","ts":"1485706644.002305"},{"type":"message","user":"U0UKTPMG8","text":"I do not write the behave for CI","ts":"1485706670.002306"},{"type":"message","user":"U0UKTPMG8","text":"it is just useful as a step up from unit testing","ts":"1485706685.002307"},{"type":"message","user":"U0UKTPMG8","text":"I use it for development process","ts":"1485706696.002308"},{"type":"message","user":"U0KPFAZNF","text":"so, heres where I am coming from: maintaining the vagrant and CI baseimage has become difficult for a variety of uninteresting reasons","ts":"1485706704.002309"},{"type":"message","user":"U0KPFAZNF","text":"I see no reason why we couldnt have pip, etc, installed in fabric.git\/devenv scripts, rather than baseimage","ts":"1485706725.002310"},{"type":"message","user":"U0UKTPMG8","text":"k","ts":"1485706743.002311"},{"type":"message","user":"U0KPFAZNF","text":"but it should be done in a manner in which devenv and testenv can share","ts":"1485706743.002312"},{"type":"message","user":"U0KPFAZNF","text":"if we can achieve that, I think we would both be happy","ts":"1485706755.002313"},{"type":"message","user":"U0UKTPMG8","text":"understood, would you have some time tomorrow to discuss?","ts":"1485706761.002314"},{"type":"message","user":"U0KPFAZNF","text":"e.g. I can drop support for devenv\/ci baseimage and vagrant would still support native behave execution","ts":"1485706777.002315"},{"type":"message","user":"U0KPFAZNF","text":"sure thing","ts":"1485706780.002316"},{"type":"message","user":"U0UKTPMG8","text":"thank you!","ts":"1485706792.002317"},{"type":"message","user":"U0KPFAZNF","text":"ok, ttyl","ts":"1485706806.002318"},{"type":"message","user":"U1KFCPFQA","text":"I have created a version of marbles chaincode that demonstrates ledger interaction patterns in v1 -","ts":"1485776936.002319"},{"type":"message","user":"U1KFCPFQA","text":"It\u2019s called marbles02 to differentiate from the full blown marbles app.  And like example02 it can be used for simple trials\/demos.","ts":"1485776984.002320","reactions":[{"name":"+1","users":["U0YK3KKCY","U33HN2ETU","U13Q594J2"],"count":3}]},{"type":"message","user":"U1KFCPFQA","text":"Demonstrates how to work with JSON in chaincode instead of tables, how to use composite key range queries for simple queries used in transactions, how to structure data for most efficient lookups, how to enable parameterized rich queries vs ad hoc rich queries for point-in-time ledger queries.","ts":"1485777024.002321"},{"type":"message","user":"U1KFCPFQA","text":"Deploy using `peer chaincode deploy -C myc1 -n marbles -p <http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/marbles02|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/marbles02> -c '{\u201dArgs\":[\"init\"]}'`","ts":"1485777063.002322"},{"type":"message","user":"U1KFCPFQA","text":"Sample invoke and query commands are included as comments at the top of the chaincode","ts":"1485777091.002323"},{"type":"message","user":"U1KFCPFQA","text":"<@U13TWBRBL> <@U0KN2SSKE> <@U184J2R7S> <@U0PB67X4K> This can be used as demo at hackathon","ts":"1485777128.002324"},{"type":"message","user":"U1KFCPFQA","text":"<@U10LM0FFZ> <@U112NNFV4> Check the comments in the chaincode, there are some nuggets you can use in chaincode authoring documentation","edited":{"user":"U1KFCPFQA","ts":"1485777272.000000"},"ts":"1485777204.002325"},{"user":"U3VKNAAQH","text":"<@U3VKNAAQH|ssaddem> has joined the channel","type":"message","subtype":"channel_join","ts":"1485781746.002327"},{"type":"message","user":"U3VKNAAQH","text":"thx","ts":"1485782964.002329"},{"type":"message","user":"U10LM0FFZ","text":"<@U1KFCPFQA> - that's awesome, thanks.  will play around with it today if I have time and see if we can sneak it into alpha.  worst case we can at least point to the sample with some pointers on how to do the complex queries","ts":"1485784325.002330"},{"type":"message","user":"U1KFCPFQA","text":"sure, and its not just the complex queries that are important, at an even more basic its how to use json instead of the old table apis, and how to do simple lookups in chaincode for groups of keys.","edited":{"user":"U1KFCPFQA","ts":"1485784442.000000"},"ts":"1485784431.002331"},{"type":"message","user":"U3S1PENVA","text":"by the way, what would be the best way to preserve data stored in the chaincode in case I need to update it?","ts":"1485784680.002334"},{"type":"message","user":"U1KFCPFQA","text":"any data used across transactions should be stored as state","ts":"1485785401.002335"},{"type":"message","user":"U1KFCPFQA","text":"via normal PutState() approach","ts":"1485785409.002336"},{"type":"message","user":"U3S1PENVA","text":"What I mean that if I have a chaincode version 1 that stores data and processes it. Then some business requirements have changed, so I adapted it and now I need to upgrade the existing chaincode. As far as I know, there is no upgrade mechanism for chaincodes, so instead I deploy a new chaincode version 2. But it\u2019s state will be empty, because this is a new chaincode. But logically, it should have the data from the chaincode version 1. So my question is, how to achieve that?","ts":"1485785671.002337"},{"type":"message","user":"U1KFCPFQA","text":"I believe there are some people thinking about a new upgrade feature that will do just as you say","ts":"1485786526.002338"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP> ^^^","ts":"1485786587.002339"},{"type":"message","user":"U0KPFAZNF","text":"<@U3S1PENVA> what you are referring to is generally called \"chaincode lifecycle\" which includes deployment, upgrade, and termination","ts":"1485786652.002340"},{"type":"message","user":"U0KPFAZNF","text":"v0.6 and earlier only supported deployment, but support for upgrade and terminate is emerging (or maybe even available) in master","ts":"1485786677.002341"},{"type":"message","user":"U3S1PENVA","text":"I\u2019m actually working with master, could you maybe point me out to jira\/commit that does it?","ts":"1485786727.002342"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/0dea6b10800213f482bca581d90ba40a89e26add\/peer\/chaincode\/upgrade_test.go#L56>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/0dea6b10800213f482bca581d90ba40a89e26add\/peer\/chaincode\/upgrade_test.go#L56","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/0dea6b10800213f482bca581d90ba40a89e26add\/peer\/chaincode\/upgrade_test.go#L56","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1485786828.002343"},{"type":"message","user":"U3S1PENVA","text":"thanks a lot","ts":"1485786846.002345"},{"type":"message","user":"U0KPFAZNF","text":"yw","ts":"1485786848.002346"},{"type":"message","user":"U1KDHJT6H","text":"Taking notes for Binh\u2019s meeting.    Plan to cut Alpha today","ts":"1485787070.002347"},{"type":"message","user":"U1KDHJT6H","text":"Create a branch","ts":"1485787098.002348"},{"type":"message","user":"U1KDHJT6H","text":"the name will be 1.0.0-alpha","ts":"1485787164.002349"},{"type":"message","user":"U1KDHJT6H","text":"this is ad hoc meeting in the common area - several developers have gathered","ts":"1485787272.002350"},{"type":"message","user":"U1KDHJT6H","text":"tag is 1.0.0-alpha barck v1.0-aplpah","ts":"1485787337.002351"},{"type":"message","user":"U1KDHJT6H","text":"branch v1.0-alpha  (can\u2019t type)","ts":"1485787361.002352"},{"type":"message","user":"U1KDHJT6H","text":"after cut alpha branch - only critical fixes will be added to alpha branch","ts":"1485787485.002353"},{"type":"message","user":"U1KDHJT6H","text":"cc calling cc almost done binh working final pieces - shooting to put in alpha","ts":"1485787634.002354"},{"type":"message","user":"U1KDHJT6H","text":"bootstrap for channels checked in needs to be merged","ts":"1485787665.002355"},{"type":"message","user":"U1KDHJT6H","text":"security and gossip will make call by noon on whether to include in alpah","ts":"1485787808.002356"},{"user":"U3V4G8HUZ","text":"<@U3V4G8HUZ|sagmeister> has joined the channel","type":"message","subtype":"channel_join","ts":"1485787869.002357"},{"type":"message","user":"U1KDHJT6H","text":"escc vscc will be post alpha","ts":"1485788025.002358"},{"type":"message","user":"U1KDHJT6H","text":"Ledger would like to get one more defect in prior to alpha cut.   feature complete for alpha.","ts":"1485788154.002359"},{"type":"message","user":"U1KDHJT6H","text":"fabric-ca 4973 required or update doc to workaround","ts":"1485788252.002360"},{"type":"message","user":"U1KDHJT6H","text":"murali now talking about cc lifecycle.   cc deployed on file system and not on ledger","ts":"1485789073.002361"},{"type":"message","user":"U1KDHJT6H","text":"need to work through security aspects","ts":"1485789101.002362"},{"type":"message","user":"U1KDHJT6H","text":"have 3 peers,  only want 2 peers to have cc,  have to install separately on 2 peers","ts":"1485789163.002363"},{"type":"message","user":"U3DEHEA4R","text":"Hello, i have a problem with fabric v0.6. When i make a post with this json :\n{\n \"jsonrpc\": \"2.0\",\n \"method\": \"deploy\",\n \"params\": {\n     \"type\": 1,\n   \"chaincodeID\":{\n       \"name\":\"mycc\"\n   },\n   \"ctorMsg\": {\n       \"function\":\"init\",\n       \"args\":[\"a\", \"1000\", \"b\", \"2000\"]\n   },\n   \"secureContext\": \"lukas\"\n },\n \"id\": \"1\"  \n}\nin the json response the status.status is always \"OK\" .\nAlso when i add some parameters. Why?\nThanks","ts":"1485789993.002364"},{"type":"message","user":"U0ULK2JPP","text":"thanks <@U1KDHJT6H> about deploy \/ lifecyle changes etc there is a WIP  Jira <https:\/\/jira.hyperledger.org\/browse\/FAB-1783> and few WIP tasks and gerritt (not for merge)","ts":"1485799084.002365"},{"type":"message","user":"U0ULK2JPP","text":"hope to put out a video on playback to assist with the review sometime this week","edited":{"user":"U0ULK2JPP","ts":"1485799141.000000"},"ts":"1485799131.002366"},{"type":"message","user":"U3HN4GFA9","text":"Hi I am trying to open a specific address from with the system chaincode","ts":"1485815016.002368"},{"type":"message","user":"U3HN4GFA9","text":"I am running a version based on docker-compose-next-4.yml but am only trying to open one port","ts":"1485815072.002369"},{"type":"message","user":"U3HN4GFA9","text":"This is the code I am trying to use with the system chaincode:","ts":"1485815323.002374"},{"type":"message","user":"U3HN4GFA9","text":"\/\/ Set up a connection to the server.\n\taddress := viper.GetString(\"peer.mpc.serverAddress\")\n\tlogger.Infof(\"Address read from viper client: %s --------------------------------------------------\", address)\n\tconn, err := grpc.Dial(address, grpc.WithInsecure())\n\tif err != nil {\n\t\tlog.Fatalf(\"did not connect: %v -----------------------------------------\", err)\n\t}\n\tdefer conn.Close()\n\tc := mpcclient.NewGreeterClient(conn)","ts":"1485815325.002375"},{"type":"message","user":"U3HN4GFA9","text":"on the peer I am getting a 'rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure' error","ts":"1485815364.002376"},{"type":"message","user":"U3HN4GFA9","text":"and similarly on the endorser 'grpc: timed out when dialing'. I wanted to add that when I run it natively (without the docker-compose) this runs correctly and that the client I am using is helloworld from <https:\/\/github.com\/grpc\/grpc-go\/tree\/master\/examples>","edited":{"user":"U3HN4GFA9","ts":"1485968467.000000"},"ts":"1485815384.002377"},{"type":"message","user":"U3HN4GFA9","text":"if anyone can point me to an example that works or perhaps give suggestions?","ts":"1485815418.002378"},{"type":"message","user":"U3HN4GFA9","text":"Thanks!","ts":"1485815423.002379"},{"user":"U3NCSU999","text":"<@U3NCSU999|hl.rose> has joined the channel","type":"message","subtype":"channel_join","ts":"1485818609.002380"},{"type":"message","user":"U3FPBMWTA","text":"Hello, Trying to deploy marbles02 example. Using code from master branch. Command used: `peer chaincode deploy -C myc1 -n marbles -p <http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/marbles02|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/marbles02> -c '{\"Args\":[\"init\"]}'`  . Getting this error: Error: Error endorsing chaincode: rpc error: code = 2 desc = Failed to deploy chaincode spec(Error creating image: %!s(&lt;nil&gt;))","ts":"1485859558.002381"},{"type":"message","user":"U3FPBMWTA","text":"Peer logs: ```# <http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/marbles02|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/marbles02>\nsrc\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/marbles02\/marbles_chaincode.go:303: stub.SplitCompositeKey undefined (type shim.ChaincodeStubInterface has no field or method SplitCompositeKey)\nsrc\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/marbles02\/marbles_chaincode.go:395: stub.GetQueryResult undefined (type shim.ChaincodeStubInterface has no field or method GetQueryResult)```","ts":"1485859875.002382"},{"type":"message","user":"U3FPBMWTA","text":"I checked the source code and see that shim package contains 'SplitCompositeKey' function..","ts":"1485859919.002383"},{"type":"message","user":"U3S1PENVA","text":"which fabric version do you use?","ts":"1485859942.002384"},{"type":"message","user":"U3FPBMWTA","text":"v1.0","ts":"1485859948.002385"},{"type":"message","user":"U3FPBMWTA","text":"Detailed output: ```2017-01-31 10:31:17.470 UTC [dockercontroller] deployImage -&gt; ERRO 3c4 Error building images: The command '\/bin\/sh -c go install <http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/marbles02|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/marbles02> &amp;&amp; mv $GOPATH\/bin\/marbles02 $GOPATH\/bin\/marbles' returned a non-zero code: 2\n2017-01-31 10:31:17.470 UTC [dockercontroller] deployImage -&gt; ERRO 3c5 Image Output:\n********************\nStep 1\/4 : FROM hyperledger\/fabric-ccenv:x86_64-0.7.0-snapshot-3ee280e\n ---&gt; 14e0680b231e\nStep 2\/4 : COPY src $GOPATH\/src\n ---&gt; Using cache\n ---&gt; 1caabd91b5c4\nStep 3\/4 : WORKDIR $GOPATH\n ---&gt; Using cache\n ---&gt; c4421a348441\nStep 4\/4 : RUN go install <http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/marbles02|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/marbles02> &amp;&amp; mv $GOPATH\/bin\/marbles02 $GOPATH\/bin\/marbles\n ---&gt; Running in 748a76679220\n# <http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/marbles02|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/marbles02>\nsrc\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/marbles02\/marbles_chaincode.go:303: stub.SplitCompositeKey undefined (type shim.ChaincodeStubInterface has no field or method SplitCompositeKey)\nsrc\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/marbles02\/marbles_chaincode.go:395: stub.GetQueryResult undefined (type shim.ChaincodeStubInterface has no field or method GetQueryResult)```","ts":"1485860007.002386"},{"type":"message","user":"U3FPBMWTA","text":"Before this I've performed Deploy, Invoke and Query operation on chaincode_example02, it works fine on the same setup.","ts":"1485860109.002387"},{"type":"message","user":"U3S1PENVA","text":"do you use vagrant?","ts":"1485860148.002388"},{"type":"message","user":"U3S1PENVA","text":"looks like chaincode tries to build against the old fabric","ts":"1485860175.002389"},{"type":"message","user":"U3S1PENVA","text":"I've tried on my setup, it worked fine","ts":"1485860202.002390"},{"type":"message","user":"U3S1PENVA","text":"I use master branch and deployed it in vagrant","ts":"1485860224.002391"},{"type":"message","user":"U3FPBMWTA","text":"I am not using vagrant","ts":"1485862089.002392"},{"type":"message","user":"U3FPBMWTA","text":"Used the Multichannel setup :<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/channel-setup.md>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/channel-setup.md","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/channel-setup.md","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1485862113.002393"},{"type":"message","user":"U3FPBMWTA","text":"And running the deploy command from inside the CLI container","ts":"1485862127.002395"},{"type":"message","user":"U3S1PENVA","text":"<@U3FPBMWTA> just guessing here: the setup your mentioned uses some old images which don\u2019t have the recent shim API changes from master, but marbles example needs them","ts":"1485862595.002396","reactions":[{"name":"+1","users":["U33HN2ETU"],"count":1}]},{"type":"message","user":"U3FPBMWTA","text":"Oh yes. You are probably right.","ts":"1485862651.002397"},{"type":"message","user":"U3FPBMWTA","text":"<@U3S1PENVA> what's a easy way to test marbles02 on this setup?","ts":"1485862810.002398"},{"type":"message","user":"U3VKNAAQH","text":"there are no rest in v1.0 ?","ts":"1485873322.002399"},{"user":"U3W7VM353","text":"<@U3W7VM353|jonas.hedin> has joined the channel","type":"message","subtype":"channel_join","ts":"1485873724.002400"},{"type":"message","user":"U2W7U5UA3","text":"<@U3VKNAAQH> REST has been deprecated in v1 in favour of GRPC and the SDKs","ts":"1485873866.002401"},{"type":"message","user":"U3VKNAAQH","text":"thanks","ts":"1485875794.002402"},{"type":"message","user":"U13Q594J2","text":"After Vagrant destory &amp; up\nand then `make native &amp;&amp; make docker` is throwing me the error\n\n```\nmake: *** No rule to make target 'build\/bin\/orderer', needed by 'orderer'.  Stop.\nvagrant@hyperledger-devenv:v0.2.2-8f5dfca:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ make docker\nmake: *** No rule to make target 'build\/docker\/bin\/peer', needed by 'build\/image\/peer\/payload'.  Stop.\n\n```","ts":"1485907571.002403"},{"type":"message","user":"U11HH3P7Y","text":"<@U13Q594J2>: can you try on the latest commit.. recently baseimage is upgraded to 0.3.0...","ts":"1485908900.002404"},{"type":"message","user":"U13Q594J2","text":"Yes it is latest ...And as I said I did Vagrant destroy and vagrant up also ...So I have got the latest base image","edited":{"user":"U13Q594J2","ts":"1485909218.000000"},"ts":"1485909189.002405"},{"user":"U3Z6UHA5Q","text":"<@U3Z6UHA5Q|ishida_yoshiteru> has joined the channel","type":"message","subtype":"channel_join","ts":"1485916681.002407"},{"type":"message","user":"U3BH74NH0","text":"I know that it is not one of the official SDK languages, but has anyone built anything in golang for 1.0 that they would be willing to share?","ts":"1485941329.002408"},{"type":"message","user":"U31TA64TT","text":"I'm using v0.6. Can anyone suggest the method to trace the transaction that it belongs to which user? I saw the cert attribute  in transaction but still don't have the idea how we can use it ? (it seems they cannot map with ecert or any tcerts of the user). Thank you in advance for your help.","edited":{"user":"U31TA64TT","ts":"1485942226.000000"},"ts":"1485942143.002409"},{"user":"U3RV94S8M","text":"<@U3RV94S8M|jansony1> has joined the channel","type":"message","subtype":"channel_join","ts":"1485959913.002411"},{"user":"U3ZDVU1QB","text":"<@U3ZDVU1QB|ghadi> has joined the channel","type":"message","subtype":"channel_join","ts":"1485967189.002412"},{"type":"message","user":"U1KFCPFQA","text":"<@U3FPBMWTA> <@U3S1PENVA> There is a demo showing how to run marbles02 on latest multi-channel environment: <https:\/\/youtu.be\/XoW9gjAH93k>","attachments":[{"service_name":"YouTube","service_url":"https:\/\/www.youtube.com\/","title":"Fabric v1 Ledger DataPatterns","title_link":"https:\/\/youtu.be\/XoW9gjAH93k","author_name":"Hyperledger Fabric","author_link":"https:\/\/www.youtube.com\/channel\/UCCFdgCWH_1vCndMPVqQlwZw","thumb_url":"https:\/\/i.ytimg.com\/vi\/XoW9gjAH93k\/hqdefault.jpg","thumb_width":480,"thumb_height":360,"fallback":"YouTube Video: Fabric v1 Ledger DataPatterns","video_html":"<iframe width=\"400\" height=\"300\" src=\"https:\/\/www.youtube.com\/embed\/XoW9gjAH93k?feature=oembed&autoplay=1&iv_load_policy=3\" frameborder=\"0\" allowfullscreen><\/iframe>","video_html_width":400,"video_html_height":300,"from_url":"https:\/\/youtu.be\/XoW9gjAH93k","service_icon":"https:\/\/a.slack-edge.com\/2089\/img\/unfurl_icons\/youtube.png","id":1}],"ts":"1485968039.002413","reactions":[{"name":"+1","users":["U0N4D2T61","U3FPBMWTA"],"count":2}]},{"type":"message","user":"U3HN4GFA9","text":"Hi I am still trying to solve my port communication issue with docker","thread_ts":"1485968494.002416","reply_count":29,"replies":[{"user":"U0ZJZBJLF","ts":"1485968551.002417"},{"user":"U3HN4GFA9","ts":"1485968580.002420"},{"user":"U3HN4GFA9","ts":"1485968584.002422"},{"user":"U3HN4GFA9","ts":"1485968616.002424"},{"user":"U3HN4GFA9","ts":"1485968632.002426"},{"user":"U3HN4GFA9","ts":"1485968639.002428"},{"user":"U3HN4GFA9","ts":"1485968655.002430"},{"user":"U3HN4GFA9","ts":"1485968660.002432"},{"user":"U3HN4GFA9","ts":"1485968698.002434"},{"user":"U3HN4GFA9","ts":"1485968717.002436"},{"user":"U0ZJZBJLF","ts":"1485969595.002444"},{"user":"U0ZJZBJLF","ts":"1485969669.002446"},{"user":"U3HN4GFA9","ts":"1485983032.002450"},{"user":"U3HN4GFA9","ts":"1485983042.002452"},{"user":"U3HN4GFA9","ts":"1485983043.002454"},{"user":"U3HN4GFA9","ts":"1485983054.002456"},{"user":"U3HN4GFA9","ts":"1485983073.002458"},{"user":"U3HN4GFA9","ts":"1485983082.002460"},{"user":"U3HN4GFA9","ts":"1485983095.002462"},{"user":"U3HN4GFA9","ts":"1485983211.002464"},{"user":"U0ZJZBJLF","ts":"1485984032.002466"},{"user":"U0ZJZBJLF","ts":"1485984061.002468"},{"user":"U0ZJZBJLF","ts":"1485984075.002470"},{"user":"U0ZJZBJLF","ts":"1485984084.002472"},{"user":"U3HN4GFA9","ts":"1485984171.002474"},{"user":"U3HN4GFA9","ts":"1485984208.002476"},{"user":"U3HN4GFA9","ts":"1485984273.002478"},{"user":"U0ZJZBJLF","ts":"1485984307.002480"},{"user":"U3HN4GFA9","ts":"1485984313.002482"}],"ts":"1485968494.002416"},{"type":"message","user":"U0ZJZBJLF","text":"tzipih: what issue?","thread_ts":"1485968494.002416","parent_user_id":"U3HN4GFA9","ts":"1485968551.002417"},{"type":"message","user":"U3HN4GFA9","text":"I added some details to my January 30 message","ts":"1485968569.002419"},{"type":"message","user":"U3HN4GFA9","text":"from January 30","thread_ts":"1485968494.002416","parent_user_id":"U3HN4GFA9","ts":"1485968580.002420"},{"type":"message","user":"U3HN4GFA9","text":"I added some details today","thread_ts":"1485968494.002416","parent_user_id":"U3HN4GFA9","ts":"1485968584.002422"},{"type":"message","user":"U3HN4GFA9","text":"am trying to open a specific port using an example based on docker-compose-next-4.yml","thread_ts":"1485968494.002416","parent_user_id":"U3HN4GFA9","ts":"1485968616.002424"},{"type":"message","user":"U3HN4GFA9","text":"with the server from grpc\/helloworld example","thread_ts":"1485968494.002416","parent_user_id":"U3HN4GFA9","ts":"1485968632.002426"},{"type":"message","user":"U3HN4GFA9","text":"can run this successfully without docker","thread_ts":"1485968494.002416","parent_user_id":"U3HN4GFA9","ts":"1485968639.002428"},{"type":"message","user":"U3HN4GFA9","text":"changed the system chaincode to dial an address","thread_ts":"1485968494.002416","parent_user_id":"U3HN4GFA9","ts":"1485968655.002430"},{"type":"message","user":"U3HN4GFA9","text":"but from within docker it fails","thread_ts":"1485968494.002416","parent_user_id":"U3HN4GFA9","ts":"1485968660.002432"},{"type":"message","user":"U3HN4GFA9","text":"but I need to run it inside docker as I am planning eventually to have multiple endorserers\/peers","thread_ts":"1485968494.002416","parent_user_id":"U3HN4GFA9","ts":"1485968698.002434"},{"type":"message","user":"U3HN4GFA9","text":"would appreciate suggestions\/examples I can look at. thx","thread_ts":"1485968494.002416","parent_user_id":"U3HN4GFA9","ts":"1485968717.002436"},{"type":"message","user":"U3HN4GFA9","text":"basically I am trying to open a specific port using an example based off docker-compose-next-4.yml with the grpc\/helloworld server","ts":"1485968758.002438"},{"type":"message","user":"U3HN4GFA9","text":"this runs successfully natively but not within the docker","ts":"1485968773.002439"},{"type":"message","user":"U3HN4GFA9","text":"would appreciate suggestions. thx","ts":"1485968795.002440"},{"type":"message","user":"U3HN4GFA9","text":"this is the code I added inside the system chain: \/ Set up a connection to the server.\n    address := viper.GetString(\"peer.mpc.serverAddress\")\n    logger.Infof(\"Address read from viper client: %s --------------------------------------------------\", address)\n    conn, err := grpc.Dial(address, grpc.WithInsecure())\n    if err != nil {\n        log.Fatalf(\"did not connect: %v -----------------------------------------\", err)\n    }\n    defer conn.Close()\n    c := mpcclient.NewGreeterClient(conn)","ts":"1485968843.002441"},{"type":"message","user":"U3HN4GFA9","text":"on the peer I am getting a 'rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure' error","ts":"1485968859.002442"},{"type":"message","user":"U3HN4GFA9","text":"thanks!","ts":"1485968863.002443"},{"type":"message","user":"U0ZJZBJLF","text":"hmm is the address a hostname or an IP?","thread_ts":"1485968494.002416","parent_user_id":"U3HN4GFA9","ts":"1485969595.002444"},{"type":"message","user":"U0ZJZBJLF","text":"and what's the hostname\/ip?","thread_ts":"1485968494.002416","parent_user_id":"U3HN4GFA9","ts":"1485969669.002446"},{"type":"message","user":"U3VKNAAQH","text":"please increase the quality of video next time","ts":"1485970648.002448"},{"user":"U3ZGDK2D9","text":"<@U3ZGDK2D9|jflowers> has joined the channel","type":"message","subtype":"channel_join","ts":"1485976798.002449"},{"type":"message","user":"U3HN4GFA9","text":"Hi sorry I had to go before","thread_ts":"1485968494.002416","parent_user_id":"U3HN4GFA9","ts":"1485983032.002450"},{"type":"message","user":"U3HN4GFA9","text":"in core.yaml we define:","thread_ts":"1485968494.002416","parent_user_id":"U3HN4GFA9","ts":"1485983042.002452"},{"type":"message","user":"U3HN4GFA9","text":"mpc:\n        serverAddress: localhost:50051","thread_ts":"1485968494.002416","parent_user_id":"U3HN4GFA9","ts":"1485983043.002454"},{"type":"message","user":"U3HN4GFA9","text":"so the address is 50051","thread_ts":"1485968494.002416","parent_user_id":"U3HN4GFA9","ts":"1485983054.002456"},{"type":"message","user":"U3HN4GFA9","text":"we also check and it is indeed the correct address read by viper client","thread_ts":"1485968494.002416","parent_user_id":"U3HN4GFA9","ts":"1485983073.002458"},{"type":"message","user":"U3HN4GFA9","text":"and it works when running natively but not in docker","thread_ts":"1485968494.002416","parent_user_id":"U3HN4GFA9","ts":"1485983082.002460"},{"type":"message","user":"U3HN4GFA9","text":"any suggestions?","thread_ts":"1485968494.002416","parent_user_id":"U3HN4GFA9","ts":"1485983095.002462"},{"type":"message","user":"U3HN4GFA9","text":"<@U0ZJZBJLF> thanks for looking at this, there should be a way (I assume) to do this from docker, but don't know how","thread_ts":"1485968494.002416","parent_user_id":"U3HN4GFA9","ts":"1485983211.002464"},{"type":"message","user":"U0ZJZBJLF","text":"I'm sorry but i'm no longer on the office, can't take a look now...","thread_ts":"1485968494.002416","parent_user_id":"U3HN4GFA9","ts":"1485984032.002466"},{"type":"message","user":"U0ZJZBJLF","text":"I assume you need to give the right ip address","thread_ts":"1485968494.002416","parent_user_id":"U3HN4GFA9","ts":"1485984061.002468"},{"type":"message","user":"U0ZJZBJLF","text":"Why is this local host?","thread_ts":"1485968494.002416","parent_user_id":"U3HN4GFA9","ts":"1485984075.002470"},{"type":"message","user":"U0ZJZBJLF","text":"Who's trying to xonnect to who?","thread_ts":"1485968494.002416","parent_user_id":"U3HN4GFA9","ts":"1485984084.002472"},{"type":"message","user":"U3HN4GFA9","text":"\u05db\u05df?","thread_ts":"1485968494.002416","parent_user_id":"U3HN4GFA9","ts":"1485984171.002474"},{"type":"message","user":"U3HN4GFA9","text":"trying to talk to the helloworld server","thread_ts":"1485968494.002416","parent_user_id":"U3HN4GFA9","ts":"1485984208.002476"},{"type":"message","user":"U3HN4GFA9","text":"<@U0ZJZBJLF> \u05d9\u05e2\u05e7\u05d1?","thread_ts":"1485968494.002416","parent_user_id":"U3HN4GFA9","ts":"1485984273.002478"},{"type":"message","user":"U0ZJZBJLF","text":"Pms?","thread_ts":"1485968494.002416","parent_user_id":"U3HN4GFA9","ts":"1485984307.002480"},{"type":"message","user":"U3HN4GFA9","text":"?","thread_ts":"1485968494.002416","parent_user_id":"U3HN4GFA9","ts":"1485984313.002482"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP> <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/5427\/>","ts":"1485989447.002484"},{"type":"message","user":"U0KPFAZNF","text":"theres the SDK side of FAB-678","ts":"1485989456.002485"},{"type":"message","user":"U0KPFAZNF","text":"(its a WIP because it wont work until the fabric side is merged)","ts":"1485989468.002486"},{"type":"message","user":"U0KPFAZNF","text":"but it seems to all work fine","ts":"1485989478.002487"},{"user":"U1HE3UBFF","text":"<@U1HE3UBFF|viktor.nikolenko> has joined the channel","type":"message","subtype":"channel_join","ts":"1485991035.002488"},{"type":"message","user":"U0KN2SSKE","text":"some folks asking for the CLI I used during my multichannel session\n```\nAll windows below should be in fabric\/build\/bin\nVagrant window 1 - start orderer\n  ORDERER_GENERAL_LOGLEVEL=debug .\/orderer\nVagrant window 2 - start the peer without **TEST_CHAINID**\n  peer node start --peer-defaultchain=false --logging-level=DEBUG\nVagrant window 3 - ask orderer to create a chain\n  peer channel create -c ch1\n  peer channel join -b ch1.block\n  - deploy a chaincode to myc1\n  peer chaincode deploy -C ch1 -n cc02 -p <http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02> -c '{\"Args\":[\"init\",\"a\",\"100\",\"b\",\"200\"]}'\n  peer chaincode deploy -C ch2 -n cc04 -p <http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example04|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example04> -c '{\"Args\":[\"init\",\"event\",\"1\"]}'\n  #note the use of \"-C myc1\" -- wait for 10 secs or so\n  - query chaincode\n  peer chaincode query -C ch1 -n cc02 -c '{\"Args\":[\"query\",\"a\"]}'\n  peer chaincode query -C ch2 -n cc04 -c '{\"Args\":[\"query\",\"event\"]}'\n  peer chaincode query -C ch2 -n cc04 -c '{\"Args\":[\"query\",\"event\",\"cc02\",\"a\",\"ch1\"]}'\n  - invoke chaincode\n  peer chaincode invoke -C ch1 -n cc02 -c '{\"Args\":[\"invoke\",\"a\",\"b\",\"10\"]}'\n  peer chaincode invoke -C ch2 -n cc04 -c '{\"Args\":[\"invoke\",\"cc02\/ch1\",\"event\",\"1\"]}\u2019\n```","ts":"1485998235.002489","reactions":[{"name":"+1","users":["U3YUF8ZCH"],"count":1}]},{"user":"U3YUF8ZCH","text":"<@U3YUF8ZCH|schwentker> has joined the channel","type":"message","subtype":"channel_join","ts":"1485998556.002490"},{"user":"U3Z4HH4HE","text":"<@U3Z4HH4HE|leminhy89> has joined the channel","type":"message","subtype":"channel_join","ts":"1486007251.002491"},{"user":"U3PT34VAP","text":"<@U3PT34VAP|coolsvap> has joined the channel","type":"message","subtype":"channel_join","ts":"1486024039.002492"},{"user":"U1FBDMBMG","text":"<@U1FBDMBMG|ryokawawork> has joined the channel","type":"message","subtype":"channel_join","ts":"1486033694.002493"},{"type":"message","user":"U3FPBMWTA","text":"Hello, Using v1.0, Vagrant setup. On join channel, getting this error: Error: proposal failed (err: rpc error: code = 2 desc = LedgerID already exists). Command : `peer channel join -b myc1.block`","edited":{"user":"U3FPBMWTA","ts":"1486034036.000000"},"ts":"1486033990.002494"},{"type":"message","user":"U3FPBMWTA","text":"Running Vagrant setup on windows system.","ts":"1486034077.002497"},{"type":"message","user":"U3S1PENVA","text":"<@U3FPBMWTA> have you created a channel? `peer channel create -c myc1`","ts":"1486039019.002498"},{"type":"message","user":"U0P2GSA8Z","text":"is it the second time you're trying this?","ts":"1486039086.002499"},{"type":"message","user":"U3D5886CB","text":"How about checking hash sum of chaincode's source code in an each peer when chaincode is being deploying?\n\nYesterday I had put in a 'peer docker container' different source code files and have used cli to deploy chaincode from local path. As result, fabric has accepted different chaincode","ts":"1486039764.002500"},{"type":"message","user":"U3D5886CB","text":"by same name","ts":"1486039987.002501"},{"type":"message","user":"U3S1PENVA","text":"<@U3D5886CB> I guess endorsers\u2019 proposals will be different in this case, so you can discard the wrong proposal from the bad chaincode","ts":"1486040015.002502"},{"type":"message","user":"U3D5886CB","text":"using sdk?","ts":"1486040053.002503"},{"type":"message","user":"U3D5886CB","text":"In my opinion, without pbft sonsensus its a security hole...","ts":"1486040149.002504"},{"type":"message","user":"U3S1PENVA","text":"this is how it works in v1: you send proposals to peers, they simulate the transaction and sign it (endorse), then you get the results back and the results should be the same","ts":"1486040177.002505"},{"type":"message","user":"U3S1PENVA","text":"in your case the results won\u2019t be the same","ts":"1486040187.002506"},{"type":"message","user":"U3D5886CB","text":"and next step is to submit this proposals?","ts":"1486040215.002507"},{"type":"message","user":"U3S1PENVA","text":"yes, to the ordering service","ts":"1486040223.002508"},{"type":"message","user":"U3FPBMWTA","text":"<@U3S1PENVA> Yes I have created the channel","ts":"1486040228.002509"},{"type":"message","user":"U3S1PENVA","text":"I guess it also won\u2019t be happy if they don\u2019t match","ts":"1486040234.002510"},{"type":"message","user":"U3S1PENVA","text":"<@U3FPBMWTA> have you tried resetting the chain completely? Removing everything from \/var\/hyperledger\/*, removing myc1.block, then starting orderer and peer again and then creating and joining the channel?","ts":"1486040471.002511"},{"user":"U3Z9DHWGY","text":"<@U3Z9DHWGY|miika> has joined the channel","type":"message","subtype":"channel_join","ts":"1486040746.002512"},{"type":"message","user":"U3FPBMWTA","text":"Will give that a try <@U3S1PENVA>","ts":"1486041320.002513"},{"type":"message","user":"U0P2GSA8Z","text":"<@U3FPBMWTA>, I agree with <@U3S1PENVA>, this is likely due to some leftovers from other runs","edited":{"user":"U0P2GSA8Z","ts":"1486041520.000000"},"ts":"1486041507.002514"},{"type":"message","user":"U0P2GSA8Z","text":"that's been my experience at least","ts":"1486041528.002516"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KPFAZNF> also added <@U13TWBRBL>  for <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/5427\/>","ts":"1486046374.002517"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP> how did you do that btw?","ts":"1486046388.002518"},{"type":"message","user":"U0KPFAZNF","text":"when I try to add reviewers, I fail miserably","ts":"1486046397.002519"},{"type":"message","user":"U0KPFAZNF","text":"the only thing I can add is that canned list of the maintainers","ts":"1486046412.002520"},{"type":"message","user":"U0ULK2JPP","text":"oh really ?","ts":"1486046494.002521"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F40043NBV\/pasted_image_at_2017_02_02_09_42_am.png|all I did was click `Add\u2026`>","file":{"id":"F40043NBV","created":1486046535,"timestamp":1486046535,"name":"Pasted image at 2017_02_02 09_42 AM.png","title":"all I did was click `Add\u2026`","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":32753,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F40043NBV\/pasted_image_at_2017_02_02_09_42_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F40043NBV\/download\/pasted_image_at_2017_02_02_09_42_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F40043NBV-c52b89fbf3\/pasted_image_at_2017_02_02_09_42_am_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F40043NBV-c52b89fbf3\/pasted_image_at_2017_02_02_09_42_am_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F40043NBV-c52b89fbf3\/pasted_image_at_2017_02_02_09_42_am_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":61,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F40043NBV-c52b89fbf3\/pasted_image_at_2017_02_02_09_42_am_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":82,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F40043NBV-c52b89fbf3\/pasted_image_at_2017_02_02_09_42_am_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F40043NBV-c52b89fbf3\/pasted_image_at_2017_02_02_09_42_am_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":123,"image_exif_rotation":1,"original_w":940,"original_h":160,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F40043NBV\/pasted_image_at_2017_02_02_09_42_am.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F40043NBV-a5c2e5defb","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1486046537.002522"},{"type":"message","user":"U3S1PENVA","text":"could any of the developers check the issue please? <https:\/\/jira.hyperledger.org\/browse\/FAB-1977> . Seems like a bug to me which is easy to fix. Thanks.","ts":"1486046600.002523"},{"type":"message","user":"U0ULK2JPP","text":"<@U3S1PENVA> this needs to be addressed as part of the ACL work for the chaincode \u2026 defer to <@U0ZR63HLK>","edited":{"user":"U0ULK2JPP","ts":"1486046740.000000"},"ts":"1486046695.002524"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP> i see, others do come up now","ts":"1486046739.002525"},{"type":"message","user":"U0KPFAZNF","text":"before they didnt","ts":"1486046743.002527"},{"type":"message","user":"U0KPFAZNF","text":"but I cant find you","ts":"1486046747.002528"},{"type":"message","user":"U0KPFAZNF","text":"what email are you registered under?","ts":"1486046754.002529"},{"type":"message","user":"U0ULK2JPP","text":"I added myself \u2026","ts":"1486046757.002530"},{"type":"message","user":"U0ULK2JPP","text":"but I also use the full name for searching","ts":"1486046766.002531"},{"type":"message","user":"U0KPFAZNF","text":"im trying to rope you into this one: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/5195\/>","ts":"1486046785.002532"},{"type":"message","user":"U0KPFAZNF","text":":wink:","ts":"1486046786.002533"},{"type":"message","user":"U0ULK2JPP","text":"it seems to prompt only after typing in the first name fully","ts":"1486046791.002534"},{"type":"message","user":"U0KPFAZNF","text":"ah, that could be it","ts":"1486046797.002535"},{"type":"message","user":"U0ULK2JPP","text":"try \u201cSrinivasan \"","ts":"1486046798.002536"},{"type":"message","user":"U0KPFAZNF","text":"i need a cheat-sheet for yours :wink:","ts":"1486046804.002537"},{"type":"message","user":"U0KPFAZNF","text":"I was putting in \"srin\" and hoping it would match","ts":"1486046814.002538"},{"type":"message","user":"U0KPFAZNF","text":"got it, thx","ts":"1486046817.002539"},{"type":"message","user":"U0ULK2JPP","text":"sure :slightly_smiling_face:","ts":"1486046823.002540"},{"type":"message","user":"U0KPFAZNF","text":"bingo, that worked","ts":"1486046841.002541"},{"type":"message","user":"U0KPFAZNF","text":"i didnt think to try the full, I figured if partial match wasnt working, full wasnt going to help","ts":"1486046857.002542"},{"type":"message","user":"U0KPFAZNF","text":"but I see how it works now","ts":"1486046860.002543"},{"type":"message","user":"U0ULK2JPP","text":"right, l think I spent at least 5 mins before landing on the formula :slightly_smiling_face:","ts":"1486046892.002544"},{"type":"message","user":"U0KPFAZNF","text":"ty for that","ts":"1486046898.002545"},{"type":"message","user":"U0KPFAZNF","text":"i had all but given up on the \"add\" function","ts":"1486046905.002546"},{"type":"message","user":"U0ULK2JPP","text":"absolutely :slightly_smiling_face:","ts":"1486046921.002547"},{"type":"message","user":"U0ULK2JPP","text":"its a feature to make you know the full names of he people you work with :slightly_smiling_face:","ts":"1486046968.002548"},{"type":"message","user":"U0KPFAZNF","text":"heh, indeed","ts":"1486046991.002549"},{"type":"message","user":"U0KPFAZNF","text":"since you are always \"Murali\" I was never forced to learn","ts":"1486047020.002550"},{"type":"message","user":"U221LL03Z","text":"try Murali the gr8, It might work as well.:grinning:","ts":"1486047241.002551"},{"type":"message","user":"U0ULK2JPP","text":"no worries at all .. and actually Murali is right. Srinivasan is my dad\u2019s name :slightly_smiling_face:","ts":"1486047653.002552"},{"type":"message","user":"U0ZR63HLK","text":"<@U3S1PENVA> Hi Vadim, there is this change-set that is addressing what you are looking for: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/5091\/>","ts":"1486047735.002553"},{"type":"message","user":"U0ZR63HLK","text":"Hope that it will be merged soon","ts":"1486047740.002554"},{"type":"message","user":"U3S1PENVA","text":"<@U0ZR63HLK> thanks, I will close that ticket then","ts":"1486047784.002555"},{"type":"message","user":"U0ZR63HLK","text":"thanks for the feedback :slightly_smiling_face:","edited":{"user":"U0ZR63HLK","ts":"1486047829.000000"},"ts":"1486047800.002556"},{"type":"message","user":"U0ZR63HLK","text":"soon we will have back the mechanisms to enforce access control","edited":{"user":"U0ZR63HLK","ts":"1486047835.000000"},"ts":"1486047818.002557"},{"type":"message","user":"U3S1PENVA","text":"looking forward to it :slightly_smiling_face:","ts":"1486047852.002560"},{"type":"message","user":"U0W7D64LC","text":"thanks <@U1MSZ37NK> for showing composer at the hackfest. Here is the deck shown for those that didn\u2019t see it","ts":"1486065458.002561"},{"type":"message","subtype":"file_share","text":"<@U0W7D64LC|markparz> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/markparz\/F40UE8GAK\/fabric_composer_-_construct_2017.pptx|Fabric Composer - Construct 2017.pptx>","file":{"id":"F40UE8GAK","created":1486065470,"timestamp":1486065470,"name":"Fabric Composer - Construct 2017.pptx","title":"Fabric Composer - Construct 2017.pptx","mimetype":"application\/vnd.openxmlformats-officedocument.presentationml.presentation","filetype":"pptx","pretty_type":"PowerPoint Presentation","user":"U0W7D64LC","editable":false,"size":1458118,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F40UE8GAK\/fabric_composer_-_construct_2017.pptx?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F40UE8GAK\/download\/fabric_composer_-_construct_2017.pptx?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/markparz\/F40UE8GAK\/fabric_composer_-_construct_2017.pptx","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F40UE8GAK-7bfb5f98b1","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U0W7D64LC","upload":true,"display_as_bot":false,"username":"<@U0W7D64LC|markparz>","bot_id":null,"ts":"1486065471.002562"},{"type":"message","user":"U1HE3UBFF","text":"thanks Mark!","ts":"1486069777.002563"},{"type":"message","user":"U1KDHJT6H","text":"We are proposing the following content for an Alpha release.   <https:\/\/wiki.hyperledger.org\/projects\/proposedv1alphacontent> .   Take a look and we would like your feedback","thread_ts":"1486070710.002564","reply_count":2,"replies":[{"user":"U0ZJZBJLF","ts":"1486072388.002566"},{"user":"U1KDHJT6H","ts":"1486072417.002568"}],"ts":"1486070710.002564"},{"type":"message","user":"U1KDHJT6H","text":"Let us know what you think!","ts":"1486070783.002565"},{"type":"message","user":"U0ZJZBJLF","text":"claytonsims: kavka--&gt;kafka","thread_ts":"1486070710.002564","parent_user_id":"U1KDHJT6H","ts":"1486072388.002566"},{"type":"message","user":"U1KDHJT6H","text":"already done","thread_ts":"1486070710.002564","parent_user_id":"U1KDHJT6H","ts":"1486072417.002568"},{"type":"message","user":"U184J2R7S","text":"Also,the following link gives you documentation that provides instructions to get familiar with the preview of the alpha for version 1.0:   <http:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/gettingstarted\/>   .In those instructions, it guides you to use Docker Compose that will create a consortium of three organizations, each running an endorsing\/committing peer, as well as a \u201csolo\u201d orderer and a Certificate Authority (CA). The network will be generated automatically upon execution of docker-compose up, and the APIs for create channel and join channel will be explained and demonstrated; as such, a user can go through the steps to manually generate their own network and channel, or quickly jump to the application development phase.","ts":"1486078245.002570"},{"type":"message","user":"U3AKCHR2P","text":"Thanks, <@U184J2R7S>!","ts":"1486078487.002571"},{"type":"message","user":"U184J2R7S","text":"hi everybody, in case you have not heard, linux foundation is moving us off of Slack and onto Rocket.Chat, everybody in Slack can log in to the new chat server using your existing linux foundation ID, please visit <http:\/\/chat.hyperledger.org\/> to login to the new chat server","ts":"1486078881.002572"},{"user":"U40FDGJN8","text":"<@U40FDGJN8|jimyang> has joined the channel","type":"message","subtype":"channel_join","ts":"1486089912.002573"},{"type":"message","user":"U0Z6DQ030","text":"Hi, could somebody help me with the following error?\n*vp_18_00009_1  | 11:59:21.111 [peer] handleChat -&gt; ERRO 03d Error handling message: Peer FSM cannot handle message (DISC_GET_PEERS) with payload size (0) while in state: created*\n*vp_18_00013_1  | 11:59:21.217 [peer] ensureConnected -&gt; WARN 040 Touch service indicates dropped connections, attempting to reconnect\u2026*\nI am using the following images *ibmblockchain\/fabric-peer:ppc64le-0.6.1-preview* and *hyperledger\/fabric-baseimage:ppc64le-0.2.2* and I get the errors if I try and start 17 or more  peers with docker-compose. Could it be a docker issue?","ts":"1486133258.002576"},{"type":"message","user":"U0ULK2JPP","text":"<@U0Z6DQ030> the error is from the discovery\/pings between peers \u2026hard to say for sure, but I would doubt its a docker issue. First guess would be gRPC dropping connection","ts":"1486134286.002577"},{"type":"message","user":"U0Z6DQ030","text":"Thanks <@U0ULK2JPP>, is there any way to work around the issue or diagnose the cause? Is there an upper bound on the number of peers in v0.6?","ts":"1486134514.002578"},{"type":"message","user":"U0ULK2JPP","text":"I do not know of work around (honestly, I have\u2019t tried with more than 4 peers). It does say `attempting to reconnect` .. did that work ?","ts":"1486134699.002579"},{"type":"message","user":"U0ULK2JPP","text":"as to upperbounds, are you using pbft or noops ? if pbft, I\u2019d check on fabric-consensensus-dev as a first cut upperbound for pbft","ts":"1486134783.002580"},{"type":"message","user":"U0Z6DQ030","text":"<@U0ULK2JPP> it is using pbft","ts":"1486134910.002581"},{"type":"message","user":"U0Z6DQ030","text":"I\u2019ll try it with noops, that should rule out pbft?","ts":"1486134950.002582"},{"type":"message","user":"U0ULK2JPP","text":"it would, yes","ts":"1486134960.002583"},{"type":"message","user":"U0Z6DQ030","text":"No, switching to noops has no effect\n*vp_18_00006_1  | 15:16:31.471 [rest] StartOpenchainRESTServer -&gt; INFO 018 Initializing the REST service on 0.0.0.0:7050, TLS is disabled.*\n*vp_18_00017_1  | 15:16:34.482 [peer] handleChat -&gt; ERRO 019 Error handling message: Peer FSM failed while handling message (DISC_HELLO): current state: created, error: transition canceled with error: Error registering Handler: Duplicate Handler error: {name:\"vp_18_00001\"  172.18.0.16:7051 VALIDATOR }*\n*vp_18_00001_1  | 15:16:34.483 [peer] handleChat -&gt; ERRO 019 Error handling message: Peer FSM failed while handling message (DISC_HELLO): current state: created, error: transition canceled with error: Error registering Handler: Duplicate Handler error: {name:\"vp_18_00017\"  172.18.0.11:7051 VALIDATOR }*","ts":"1486135273.002584"},{"user":"U1JHA4NP9","text":"<@U1JHA4NP9|gbolo> has joined the channel","type":"message","subtype":"channel_join","ts":"1486136965.002585"},{"type":"message","user":"U1JHA4NP9","text":"I am getting a panic when running peer: panic: ---empty version---(chain=,chaincode=cscc,version=,txid=26d72afe-e3d9-4314-b1cb-53aeff0d3271,syscc=true,proposal=0x0","ts":"1486136982.002586"},{"type":"message","user":"U1JHA4NP9","text":"what is this empty version all about?","ts":"1486136994.002587"},{"type":"message","user":"U3S1PENVA","text":"<@U1JHA4NP9> I suppose you need to rebuild the peer, i.e. do `make peer`in the fabric directory","ts":"1486138720.002588"},{"type":"message","user":"U0ULK2JPP","text":"<@U1JHA4NP9> second <@U3S1PENVA>\u2019s recommendatiod. The above is what I\u2019d expect if you did \u201cgo build\u201d and \u201c.\/peer\u201d \u2026 but basically the fabrics version is not being set in the exe","ts":"1486138887.002589"},{"type":"message","user":"U1JHA4NP9","text":"<@U3S1PENVA> yea i found that i needed -ldflags \"-X <http:\/\/github.com\/hyperledger\/fabric\/common\/metadata.Version=1.0.0-preview|github.com\/hyperledger\/fabric\/common\/metadata.Version=1.0.0-preview>\" during my go build","edited":{"user":"U1JHA4NP9","ts":"1486138920.000000"},"ts":"1486138912.002590"},{"type":"message","user":"U0ULK2JPP","text":"right","ts":"1486138916.002591"},{"type":"message","user":"U0ULK2JPP","text":"or that","ts":"1486138918.002592"},{"type":"message","user":"U0ULK2JPP","text":"`make peer` does the ldflags glue for you","ts":"1486138938.002594"},{"type":"message","user":"U1JHA4NP9","text":"yea i just noticed :slightly_smiling_face:","ts":"1486138945.002595"},{"type":"message","user":"U0ULK2JPP","text":":slightly_smiling_face:","ts":"1486138949.002596"},{"type":"message","user":"U1JHA4NP9","text":"sorry about that","ts":"1486138949.002597"},{"type":"message","user":"U0ULK2JPP","text":"no worries","ts":"1486138953.002598"},{"type":"message","user":"U1JHA4NP9","text":"things change really fast","ts":"1486138959.002599"},{"type":"message","user":"U0ULK2JPP","text":"that they do","ts":"1486138972.002600"},{"type":"message","user":"U1JHA4NP9","text":"another hard time im having is this msp config certs and the orderer.template","edited":{"user":"U1JHA4NP9","ts":"1486138997.000000"},"ts":"1486138983.002601"},{"type":"message","user":"U1JHA4NP9","text":"any ideas on this? how to generate these?","ts":"1486139062.002603"},{"type":"message","user":"U0YJUECE8","text":"<@U0Z6DQ030> Often, the cause of what you are seeing is as follows:   I've seen this where people are trying to use the v0.6 branch of the code and then are following the instructions in the v0.6 branch of the documentation, but....get twisted up because there are a couple spots in this doc where it has a wget (for the chaincode) and a git clone (for getting the fabric code available locally in order to build the chaincode) that refer to *master*.   The problem is, that *master* is now v1.0 code.    So, they are running Docker images with v0.6 code but when they build the chaincode locally, it incorporates v1.0 code in into it.   The solution is, in the *wget* and the *git clone*,  change *master* to *v0.6* in the path name.   I am being purposely vague as to where this documentation is, because if I've guessed correctly, you know what I'm referring to, but if I've guessed wrong, it's something else and I don't want to lead you on a wild goose chase.   I hope this helps.","ts":"1486140360.002604"},{"type":"message","user":"U0Z6DQ030","text":"Hi <@U0YJUECE8>, tbh, I followed bits and pieces of various docs. What I did was\n```\ndocker pull  ibmblockchain\/fabric-peer:ppc64le-0.6.1-preview\ndocker pull  hyperledger\/fabric-baseimage:ppc64le-0.2.2\n\ndocker tag  ibmblockchain\/fabric-peer:ppc64le-0.6.1-preview  hyperledger\/fabric-peer:latest\ndocker tag  hyperledger\/fabric-baseimage:ppc64le-0.2.2  hyperledger\/fabric-baseimage:latest\n```\n\ncreated a *peer.yml*\n\n```\nversion: '2'\n\nservices:\n  vp:\n    image: hyperledger\/fabric-peer:latest\n    restart: unless-stopped\n    environment:\n      - CORE_PEER_ADDRESSAUTODETECT=true\n      - CORE_PEER_NETWORKID=dev\n      - CORE_LOGGING_LEVEL=info  #critical, error, warning, notice, info, debug\n      # The following section enables pbft consensus\n      - CORE_PEER_VALIDATOR_CONSENSUS_PLUGIN=noops # noops, pbft\n      - CORE_PBFT_GENERAL_MODE=batch  # batch. classic and sieve will be not supported again.\n      - CORE_PBFT_GENERAL_N=4\n      - CORE_PBFT_GENERAL_BATCHSIZE=2  # only useful when in batch mode\n      - CORE_PBFT_GENERAL_TIMEOUT_REQUEST=2s\n      - GOPATH=\/opt\/gopath\n    expose:\n      - \"7050\"  # Rest\n      - \"7051\"  # Grpc\n      - \"7052\"  # Peer CLI\n      - \"7053\"  # Peer Event\n      - \"7054\"  # eCAP\n      - \"7055\"  # eCAA\n      - \"7056\"  # tCAP\n      - \"7057\"  # eCAA\n      - \"7058\"  # tlsCAP\n      - \"7059\"  # tlsCAA\n    volumes: # docker.sock is mapped as the default CORE_VM_ENDPOINT\n      - \/home\/sheehanj\/quickstart\/chaincode:\/opt\/gopath\/src\/chaincode\n      - \/var\/run\/docker.sock:\/var\/run\/docker.sock\n    command: peer node start\n```\n\ncreated *00018peers.yml*\n\n```\nversion: '2'\n\nservices:\n  # validating node as the root\n  # vp0 will also be used for client interactive operations\n  # If you want to run fabric command on the host, then map 7051:7051 to host\n  # port, or use like `CORE_PEER_ADDRESS=172.17.0.2:7051` to specify peer addr.\n\n\n  vp_18_00000:\n    extends:\n      file: peer.yml\n      service: vp\n    hostname: vp_18_00000\n    environment:\n      - CORE_PEER_ID=vp_18_00000\n    ports:\n      - \"7050:7050\"\n      #- \"7051:7051\"\n \n\n  # validating node\n  vp_18_00001:\n    extends:\n      file: peer.yml\n      service: vp\n    hostname: vp_18_00001\n    environment:\n      - CORE_PEER_ID=vp_18_00001\n      - CORE_PEER_DISCOVERY_ROOTNODE=vp_18_00000:7051\n    links:\n      - vp_18_00000\n\n\n  # validating node\n  vp_18_00002:\n    extends:\n      file: peer.yml\n      service: vp\n    hostname: vp_18_00002\n    environment:\n      - CORE_PEER_ID=vp_18_00002\n      - CORE_PEER_DISCOVERY_ROOTNODE=vp_18_00000:7051\n    links:\n      - vp_18_00000\n\netc...\n```\n\nand ran *docker-compose -f 00018peers.yml up*","ts":"1486141087.002605"},{"type":"message","user":"U0YJUECE8","text":"<@U0Z6DQ030>   what I described is only applicable if you are getting it when trying to do a query-  that is, you have successfully deployed and invoked the chaincode_example02.    Also, I should have mentioned this, I was referring to your original error message that mentioned *Peer FSM...*  If that error occurred anywhere else you are probably running into something different.   You're already off the beaten path by running on Power  (not that there's anything wrong with that!)","ts":"1486141296.002606"},{"type":"message","user":"U0Z6DQ030","text":"<@U0YJUECE8>  :smile:  . have you tried running lots (more than 16 say) peers (on any arch)?","ts":"1486141512.002607"},{"type":"message","user":"U0YJUECE8","text":"<@U0Z6DQ030>   I'm lazy.  I've maxed out at 4.","edited":{"user":"U0YJUECE8","ts":"1486141606.000000"},"ts":"1486141589.002608"},{"type":"message","user":"U0Z6DQ030","text":"<@U0YJUECE8>  no worries, I thought I ask.","ts":"1486141683.002610"},{"type":"message","user":"U11MANG9G","text":"Let\u2019s move to <https:\/\/chat.hyperledger.org> ?","ts":"1486147099.002611","reactions":[{"name":"+1","users":["U3DHKV84C"],"count":1}]},{"type":"message","user":"U3HE2V38F","text":"which version of cURL do I need to run Fabric on Mac OS?","ts":"1486330945.002612"},{"type":"message","user":"U31TA64TT","text":"Hi, I'm using v0.6 with TLS enabled. after I enabled TLS, it seems I cannot access to PEER node via REST anymore although I installed the certificate on the browser. Is this the normal behavior? Could anyone suggest on this? Thanks","edited":{"user":"U31TA64TT","ts":"1486369425.000000"},"ts":"1486369398.002615"},{"user":"U4091RGRJ","inviter":"U0UHG4VP1","text":"<@U4091RGRJ|rocket.chat> has joined the channel","type":"message","subtype":"channel_join","ts":"1486397486.002617"},{"type":"message","user":"U3CBDC0JG","text":"got  question about production env for fabric. would container be supported or it's just for development?","ts":"1486413679.002618"},{"type":"message","user":"U11MANG9G","text":"<@U0UHG4VP1>: nice!","attachments":[{"fallback":"[February 6th, 2017 8:11 AM] rocket.chat: <@U4091RGRJ|rocket.chat> has joined the channel","ts":"1486397486.002617","author_subname":"rocket.chat","channel_id":"C0YPYBVJM","channel_name":"fabric-dev","is_msg_unfurl":true,"text":"<@U4091RGRJ|rocket.chat> has joined the channel","author_name":"Rocket Chat","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/rocket.chat","author_icon":"https:\/\/avatars.slack-edge.com\/2017-02-02\/135550320337_55f5ab28174736a3e589_48.png","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev\/p1486397486002617","is_share":true,"footer":"Posted in #fabric-dev"}],"ts":"1486416480.002619"},{"type":"message","user":"U0UHG4VP1","text":"<@U11MANG9G> it's a one-way mirror","ts":"1486416505.002620"},{"type":"message","user":"U11MANG9G","text":"Like a one-way hash, all the way! :wink:","ts":"1486416533.002621"},{"type":"message","user":"U3HN4GFA9","text":"Hi I need some help. I am working with fabric 1.0.","ts":"1486424637.002622"},{"type":"message","user":"U3HN4GFA9","text":"I am trying to specify ore than one endorser for the blockchain","ts":"1486424656.002623"},{"type":"message","user":"U3HN4GFA9","text":"the endorsement-policies document specifies using -P and then the endorsers","ts":"1486424702.002624"},{"type":"message","user":"U3HN4GFA9","text":"but when I am trying to send a simliar deploy command, I am getting an error that -P is an unknown flag","ts":"1486424782.002625"},{"type":"message","user":"U3HN4GFA9","text":"I looked in the next-consensus-architecture-proposal but did not find an updated method to specify this","ts":"1486424831.002626"},{"type":"message","user":"U3HN4GFA9","text":"Could anyone suggest what the updated command is for two endorserers?","ts":"1486424870.002627"},{"type":"message","user":"U3HE2V38F","text":"Hi,","ts":"1486442771.002628"},{"type":"message","user":"U3HE2V38F","text":"I am working to on a Chaincode tutorial and I\u2019m currently stuck. Below is a screen shot of the error message, my file directory for the example Chain code go file I made per instructions and the command I was supposed to use","ts":"1486442897.002629"},{"type":"message","subtype":"file_share","text":"<@U3HE2V38F|mohamoudegal> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/mohamoudegal\/F41S9U0QJ\/screen_shot_2017-02-06_at_11.37.23_pm.png|Screen Shot 2017-02-06 at 11.37.23 PM.png>","file":{"id":"F41S9U0QJ","created":1486442918,"timestamp":1486442918,"name":"Screen Shot 2017-02-06 at 11.37.23 PM.png","title":"Screen Shot 2017-02-06 at 11.37.23 PM.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U3HE2V38F","editable":false,"size":287512,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F41S9U0QJ\/screen_shot_2017-02-06_at_11.37.23_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F41S9U0QJ\/download\/screen_shot_2017-02-06_at_11.37.23_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F41S9U0QJ-ccef8c0c54\/screen_shot_2017-02-06_at_11.37.23_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F41S9U0QJ-ccef8c0c54\/screen_shot_2017-02-06_at_11.37.23_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F41S9U0QJ-ccef8c0c54\/screen_shot_2017-02-06_at_11.37.23_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":87,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F41S9U0QJ-ccef8c0c54\/screen_shot_2017-02-06_at_11.37.23_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":116,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F41S9U0QJ-ccef8c0c54\/screen_shot_2017-02-06_at_11.37.23_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F41S9U0QJ-ccef8c0c54\/screen_shot_2017-02-06_at_11.37.23_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":174,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F41S9U0QJ-ccef8c0c54\/screen_shot_2017-02-06_at_11.37.23_pm_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":231,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F41S9U0QJ-ccef8c0c54\/screen_shot_2017-02-06_at_11.37.23_pm_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":247,"image_exif_rotation":1,"original_w":2880,"original_h":694,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/mohamoudegal\/F41S9U0QJ\/screen_shot_2017-02-06_at_11.37.23_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F41S9U0QJ-0396450dd7","channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U3HE2V38F","upload":true,"display_as_bot":false,"username":"<@U3HE2V38F|mohamoudegal>","bot_id":null,"ts":"1486442921.002630"},{"type":"message","user":"U11MANG9G","text":"I highly recommend <https:\/\/chat.hyperledger.org>...","ts":"1486442925.002631"},{"type":"message","user":"U3HE2V38F","text":"<@U11MANG9G> thanks","ts":"1486443297.002632"},{"user":"U0UHG4VP1","members":["U0J5URUJU","U0KM3Q4FL","U0KM61BCP","U0KMJF9AA","U0KN2SSKE","U0KPFAZNF","U0KPTLRGU","U0KQ9QKH6","U0LBXH9S4","U0M28HM6J","U0MJBP0KZ","U0MM86C84","U0MRY2LKY","U0MS3TK2A","U0MSG4RL7","U0MT4CBHB","U0MTAMEN4","U0MUSGY5N","U0N0GDVJ5","U0N1D1UAE","U0N1K6Z0X","U0N20TJUA","U0N3Q8N1W","U0N4D2T61","U0N4P17ND","U0N5VR45B","U0N8X4FN1","U0N94UUA0","U0N9SUW82","U0NCW1DPX","U0NK7T8SH","U0NLP5909","U0NLZCF8V","U0P1VU0QG","U0P2GSA8Z","U0P75RFT4","U0PB67X4K","U0Q6BA1EU","U0QUNGLJK","U0R7Q5C30","U0RD1ALMV","U0S5KF44D","U0SPN1A68","U0TFEHX8E","U0U2AJURZ","U0UGH3X7X","U0UHG4VP1","U0UKSBAKZ","U0UKTPMG8","U0ULK2JPP","U0ULP7ARX","U0ULX737C","U0V86V3QR","U0VKKEGKB","U0W7D64LC","U0X3PTHN0","U0XNB1QNA","U0XPR4NP4","U0XQ35CDD","U0XQX3U9G","U0XR6J961","U0XRC0KLH","U0XRCMCR2","U0XV1HDL3","U0Y55KNG2","U0Y62UYF7","U0Y6AUDST","U0YATJ18S","U0YJUECE8","U0YK3KKCY","U0YLVSWE4","U0YM41HA5","U0YNFB22X","U0YP7KFGQ","U0YQK8WSV","U0YR44350","U0YTUU2T0","U0Z3BE0F5","U0Z41KY5V","U0Z541B3P","U0Z5BHCEM","U0Z68F4HE","U0Z6DQ030","U0Z6EEJ69","U0ZHVB1UP","U0ZJZBJLF","U0ZLVCQPM","U0ZMB7ZEJ","U0ZR63HLK","U10LM0FFZ","U10MVHVHQ","U10MXCPEF","U10PD21K7","U10PFCC4R","U10PJ3XH9","U10Q62R8X","U10RH4A2G","U10U4K6JC","U10UBFKK3","U112NNFV4","U115YGEH1","U11BP64LD","U11C7DZU5","U11HH3P7Y","U11HTMW0H","U11L89VHU","U11L9NAUW","U11M1GJHG","U11MANG9G","U11NUTP4L","U11Q02ZKL","U11RW82PM","U11TAFPUP","U123PQHLN","U12452RAP","U1296EA0M","U12AHQ3NK","U12E0JBLZ","U12J2D15H","U12KFP7JN","U12V3D2P2","U130QV7RB","U137A6LBE","U13CYDM1Q","U13DAL5V5","U13JUH485","U13MLMGCB","U13Q594J2","U13TWBRBL","U142E5N0P","U143D0EQ4","U147GA9A4","U14NC480K","U14REU524","U14S06MT7","U150L8BDF","U153ZC9PU","U15B57S4R","U15C5RM7F","U15GBPSEB","U15KME666","U15LJGQPN","U163J7MRT","U16A62N2D","U16NAHH8U","U16NDNH08","U173QDB0W","U1751P7U4","U17BRDHPG","U17CZFXGU","U1802P5D3","U184J2R7S","U18D82GJH","U18T2HJRM","U18U45W48","U18UG9K9S","U190439J6","U195M30MD","U196R0LA2","U196W47SL","U197CR6BF","U19CHF6LE","U19MP2N67","U19VASPGV","U1A62D6F6","U1A9JNB1T","U1AD3THQS","U1AJV5S2G","U1AU8DRQR","U1AU9JL6P","U1AURJNE4","U1B2FF8LR","U1B5DPRLG","U1B6WAAKF","U1B86HRGE","U1B9E51R8","U1BC5A0F9","U1BC5NF2S","U1BENKMD0","U1BLB3EFQ","U1BLWHZ8W","U1BR7GTEU","U1C3LNJ58","U1C3WNWRF","U1CK6522F","U1CPB11D0","U1CS08EP3","U1CTBUNEN","U1D5P2DHD","U1D89DP47","U1DFU0M32","U1E795PLG","U1E8LK23Z","U1EAX6QN5","U1EE1TRQE","U1EEGQARJ","U1EF2CN9M","U1ENXTQRL","U1F1CU61Y","U1F3CQ2HX","U1FB2EXB8","U1FBDMBMG","U1FDTCEUR","U1FEUAG9E","U1FMASJFL","U1FMLC60J","U1G3WJ740","U1G8FRV33","U1GLPP8QN","U1GN670VD","U1GNUNKRV","U1GPHH6PQ","U1HD28HEH","U1HE3UBFF","U1HFNJB50","U1HSEPL9M","U1J5DE65D","U1JBVRNQ3","U1JHA4NP9","U1JHMKC8H","U1JT2LQJH","U1K0ADU82","U1K869J4W","U1KASSN2F","U1KC1TAHE","U1KDAMDJ7","U1KDHJT6H","U1KFBBWG1","U1KFCPFQA","U1KJY9BJQ","U1L24390X","U1LES78TT","U1LNG6E8H","U1M7K67EV","U1MA81VBK","U1MJ9SRF0","U1MNES6NR","U1MSZ37NK","U1N2L5UNT","U1N4KNWP2","U1N8VD2CE","U1NBM7NHH","U1NGC2X9D","U1NTT2YP2","U1P52TCE4","U1PF7CF5F","U1PFK7GG5","U1PTA31D2","U1R9A8Q3A","U1RLZ5729","U1S01QY6L","U1SDX7EQZ","U1SLE9PJN","U1SLH9TK9","U1T1PHTCL","U1TMQDYKE","U1TV7SZ7C","U1U7BR1KP","U1V5VNSAD","U1V6SJ1FF","U1V7YURHQ","U1VG8LNP3","U1VNN4LGJ","U1WAADD4N","U1WMX1P71","U1WTM3H3L","U1WUAQJVC","U1X0KAHL1","U1XEVQU11","U1XHDHQKF","U1XMKU015","U1Y4P0HM4","U20K2FUTZ","U20M776SW","U20NAT0SF","U20T0R475","U216ML5MM","U2191B4BU","U21DSN0CX","U221LL03Z","U231CKQH2","U231RFLFP","U23274813","U234U0A5U","U2368MLAW","U23CGEC7N","U23DJ7XDZ","U23GLSTS4","U23JFU108","U23RZ2M4N","U23S3DPFY","U24J6JYVC","U24M29R4G","U268EB76W","U269P9D8W","U26BX6S3B","U26T99AQ4","U27EGE223","U2891BNAG","U296PJDD1","U29BAKE8L","U29DS6TQV","U29G76C9L","U29TSCRQU","U2A55SKC7","U2AF9V8QK","U2AKT6YS1","U2B0DFA4Q","U2BGFAHC7","U2BJRQLMU","U2CBFCQG0","U2CBG8V9U","U2CC1NDT2","U2CSLPV1Q","U2D4VTF5M","U2EM20LF4","U2GR5RHQT","U2HEHNF27","U2HG2LQH4","U2HJ7SLSC","U2HSRQXGQ","U2J0R1VCY","U2J29E206","U2JCD7N7R","U2JLNV77T","U2K2UC31N","U2K3VT40G","U2KJHTPQT","U2KJV3309","U2KL18VPU","U2M0J2CUX","U2N8F32KZ","U2NDE1ZCK","U2NG5AX0A","U2NNLN56V","U2P0N5J5A","U2PAN55V0","U2Q0HP4HY","U2QLU433N","U2RMVHMK9","U2SCJN8F6","U2SN3M334","U2TBCE9D3","U2TD4Q7NW","U2TUCLGRJ","U2U1GAVL3","U2UKSBLG5","U2URZF2AF","U2UT57Y6Q","U2UU1LKTR","U2UUDQP7F","U2W7U5UA3","U2WN7LSSY","U2WNGML7Q","U2WQKDQPM","U2X087SH4","U2X9KDDL7","U2XARBG3Y","U2XF5L2S3","U2XNKMF24","U2Y2V95D2","U2Z3FNF2N","U2ZACGWNS","U2ZEVNKTP","U319G36P4","U31TA64TT","U3255JG20","U327VGGF9","U3294UFT6","U32ND8W73","U33CM6NV7","U33HN2ETU","U344ZJT9P","U34T14JJH","U350X8JMD","U353QR7G9","U35A8J495","U35EMQWK1","U35FGUMN0","U367FA19T","U36HLH8SC","U36RKMPBQ","U36UDC6RK","U3781DR97","U37F5PG64","U37LUBK8R","U38GJ3C1H","U38JCNW5V","U392HPXFB","U39D3065S","U3A83MMK5","U3AAY7PPX","U3ADJU5MZ","U3AFRMY68","U3AKCHR2P","U3B4HDQ3Y","U3BGG1H6V","U3BH74NH0","U3BKMJZTK","U3BQF48RE","U3BU07SN7","U3CAX2JKW","U3CBDC0JG","U3CMVMBRS","U3D5886CB","U3DC8Q8S0","U3DEHEA4R","U3DHKV84C","U3DKG7M54","U3EHYEF89","U3EKCBHEK","U3EPNMP34","U3FPBMWTA","U3FUEPPF1","U3H0CJXND","U3H68QR7X","U3H9ZGLGG","U3HE2V38F","U3HM4KM62","U3HN4GFA9","U3HS0S61K","U3HUXKKEW","U3JGTMWB0","U3JL32AFJ","U3K1EMJ2F","U3KAS13FG","U3LGHQ70D","U3LKHA8G5","U3LU3AQM8","U3M2C44G6","U3M2UCQPR","U3MB5BH42","U3MBTR5KK","U3NCSU999","U3NCZ14DV","U3NKCCTHR","U3NRVFPAM","U3PBR406M","U3PT34VAP","U3QPATC07","U3RV94S8M","U3S1PENVA","U3SB11YDD","U3TNHH1NW","U3U0MV3PZ","U3U0TBE5C","U3UCVTV8V","U3V3TJTLZ","U3V4G8HUZ","U3V66S6L8","U3VFJD42F","U3VKNAAQH","U3W7VM353","U3WM9K85R","U3X6RA34J","U3XQP0CEB","U3Y4LQ6G7","U3YUF8ZCH","U3Z4HH4HE","U3Z6UHA5Q","U3Z9DHWGY","U3ZDVU1QB","U3ZGDK2D9","U4091RGRJ","U40FDGJN8"],"text":"<@U0UHG4VP1|ry> archived the channel (w\/ 465 members)","type":"message","subtype":"channel_archive","ts":"1486490268.002633"}]