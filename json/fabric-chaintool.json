[{"user":"U0KPFAZNF","type":"message","subtype":"channel_join","text":"<@U0KPFAZNF|ghaskins> has joined the channel","ts":"1466451033.000002"},{"user":"U0KPFAZNF","purpose":"Discussion surrounding https:\/\/github.com\/hyperledger\/fabric-chaintool","type":"message","subtype":"channel_purpose","text":"<@U0KPFAZNF|ghaskins> set the channel purpose: Discussion surrounding https:\/\/github.com\/hyperledger\/fabric-chaintool","ts":"1466451034.000003"},{"user":"U0ULK2JPP","inviter":"U0KPFAZNF","type":"message","subtype":"channel_join","text":"<@U0ULK2JPP|muralisr> has joined the channel","ts":"1466451034.000004"},{"user":"U0KRRM29Z","inviter":"U0KPFAZNF","type":"message","subtype":"channel_join","text":"<@U0KRRM29Z|ecblseg> has joined the channel","ts":"1466451034.000005"},{"type":"message","user":"U0KPFAZNF","text":"hey guys, thanks for agreeing to help out","ts":"1466451965.000006"},{"type":"message","user":"U0KPFAZNF","text":"you should both have maintainer perms in the repo","ts":"1466451980.000007"},{"type":"message","user":"U0ULK2JPP","text":"thanks .. I just received a mail","ts":"1466452273.000008"},{"type":"message","user":"U0KPFAZNF","text":"im thinking now that we are official, should probably adopt a \u201cno self merging\u201d policy","ts":"1466452274.000009"},{"type":"message","user":"U0ULK2JPP","text":"right","ts":"1466452287.000010"},{"type":"message","user":"U0KPFAZNF","text":"i.e. PRs for all commits, cant merge own","ts":"1466452287.000011"},{"type":"message","user":"U0ULK2JPP","text":"understood","ts":"1466452289.000012"},{"type":"message","user":"U0KPFAZNF","text":"thoughts?","ts":"1466452289.000013"},{"type":"message","user":"U0ULK2JPP","text":"basically same rules as for the fabric ?","ts":"1466452310.000014"},{"type":"message","user":"U0KPFAZNF","text":"yeah, thats my thought","ts":"1466452316.000015"},{"type":"message","user":"U0KPFAZNF","text":"it of course slows the process down, but it is more community inclusive (hopefully we have one someday ;)","ts":"1466452351.000016"},{"type":"message","user":"U0KPFAZNF","text":"also encourages review","ts":"1466452369.000017"},{"type":"message","user":"U0KPFAZNF","text":"the other downside is it increases burden on the other maintainers, but I don\u2019t expect the volume to be super high for PR review","ts":"1466452447.000018"},{"type":"message","user":"U0KPFAZNF","text":"also, I wanted to cut a new release and get it integrated with fabric","ts":"1466452518.000019"},{"type":"message","user":"U0KPFAZNF","text":"right now, v0.5.1 is in fabric which is really old and no longer ABI compatible","ts":"1466452537.000020"},{"type":"message","user":"U0KPFAZNF","text":"0.7 is the current released version, but we have 0.8-SNAPSHOT in head that fixes a few more things","ts":"1466452559.000021"},{"type":"message","user":"U0KPFAZNF","text":"so, ill probably look to cut master to something (either v0.8 or v1.0) and then update fabric with whatever it is","ts":"1466452587.000022"},{"user":"U0SPN1A68","type":"message","subtype":"channel_join","text":"<@U0SPN1A68|mkabanau> has joined the channel","ts":"1466457059.000023"},{"user":"U0Z6VMEER","type":"message","subtype":"channel_join","text":"<@U0Z6VMEER|beauson45> has joined the channel","ts":"1466534104.000002"},{"user":"U0KM61BCP","type":"message","subtype":"channel_join","text":"<@U0KM61BCP|cbf> has joined the channel","ts":"1466548698.000003"},{"user":"U1D5P2DHD","type":"message","subtype":"channel_join","text":"<@U1D5P2DHD|randy> has joined the channel","ts":"1466622768.000002"},{"user":"U150L8BDF","type":"message","subtype":"channel_join","text":"<@U150L8BDF|clessor> has joined the channel","ts":"1466702888.000002"},{"user":"U12452RAP","type":"message","subtype":"channel_join","text":"<@U12452RAP|grapebaba> has joined the channel","ts":"1466772239.000003"},{"user":"U1L9MD31B","type":"message","subtype":"channel_join","text":"<@U1L9MD31B|chris> has joined the channel","ts":"1466884079.000002"},{"user":"U1L9MD31B","type":"message","subtype":"channel_leave","text":"<@U1L9MD31B|chris> has left the channel","ts":"1466884096.000003"},{"user":"U0YP7KFGQ","type":"message","subtype":"channel_join","text":"<@U0YP7KFGQ|gennady.laventman> has joined the channel","ts":"1466930450.000004"},{"user":"U0ZMB7ZEJ","type":"message","subtype":"channel_join","text":"<@U0ZMB7ZEJ|jatinderbali> has joined the channel","ts":"1467295664.000002"},{"user":"U1G3WJ740","type":"message","subtype":"channel_join","text":"<@U1G3WJ740|castlesb> has joined the channel","ts":"1467297440.000003"},{"user":"U1N8VD2CE","type":"message","subtype":"channel_join","text":"<@U1N8VD2CE|sunsay00> has joined the channel","ts":"1467407950.000002"},{"user":"U0MS3TK2A","type":"message","subtype":"channel_join","text":"<@U0MS3TK2A|nao> has joined the channel","ts":"1467442760.000002"},{"user":"U1JK24HE3","type":"message","subtype":"channel_join","text":"<@U1JK24HE3|nick.dawson> has joined the channel","ts":"1467660164.000003"},{"user":"U1JK24HE3","type":"message","subtype":"channel_leave","text":"<@U1JK24HE3|nick.dawson> has left the channel","ts":"1467777863.000004"},{"user":"U1GRJD9NC","text":"<@U1GRJD9NC|yuki.k> has joined the channel","type":"message","subtype":"channel_join","ts":"1467917303.000005"},{"user":"U1GRJD9NC","text":"<@U1GRJD9NC|yuki.k> has left the channel","type":"message","subtype":"channel_leave","ts":"1467917499.000006"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP> <@U0KRRM29Z> howdy","ts":"1468424012.000002"},{"type":"message","user":"U0ULK2JPP","text":"howdy! welcome back <@U0KPFAZNF> :slightly_smiling_face:","ts":"1468424042.000003"},{"type":"message","user":"U0KPFAZNF","text":"thanks, drowning in messages atm :wink:","ts":"1468424057.000004"},{"type":"message","user":"U0ULK2JPP","text":"my sympathies\u2026 maybe you need to go into hiding to do that :slightly_smiling_face:","ts":"1468424079.000005"},{"type":"message","user":"U0KPFAZNF","text":"heh, no kidding","ts":"1468424084.000006"},{"type":"message","user":"U0KPFAZNF","text":"I have a couple of chaintool related action items I wanted to discuss","ts":"1468424110.000007"},{"type":"message","user":"U0KPFAZNF","text":"#1 desperately need to cut a new release from the master\/v0.8-SNAPSHOT branch and get it integrated into the fabric tree","ts":"1468424144.000008"},{"type":"message","user":"U0KPFAZNF","text":"(tree currently has a v0.5.1 binary\u2026i want to change that to instead pull the release from the chaintool repo rather than include the binary","ts":"1468424171.000009"},{"type":"message","user":"U0KPFAZNF","text":"#2 I had a general misunderstanding about fabric when I implemented the platforms\/car support that needs to be addressed","ts":"1468424203.000010"},{"type":"message","user":"U0KPFAZNF","text":"at the time, I didnt fully understand that this was \u201cpre-distribution\u201d stage","ts":"1468424229.000011"},{"type":"message","user":"U0KPFAZNF","text":"as a result, I closely modeled the platforms\/go code and had the platform take the .car -&gt; docker.tar","ts":"1468424255.000012"},{"type":"message","user":"U0KPFAZNF","text":"I think that was a mistake, the .car file should be distributed directly","ts":"1468424270.000013"},{"type":"message","user":"U0KPFAZNF","text":"but, before that can happen, we need to consider how dependencies are packaged in .car","ts":"1468424297.000014"},{"type":"message","user":"U0KPFAZNF","text":"(because right now that \u201cmistake\u201d is what is resolving things like the shim for us)","ts":"1468424308.000015"},{"type":"message","user":"U0KPFAZNF","text":"and of course, item #3, Eric is already working on supporting chaincode events on top of the work that <@U0ULK2JPP> has been doing","ts":"1468424360.000016"},{"type":"message","user":"U0KPFAZNF","text":"oh yeah, and related to #2, need to add support for the SDK for deploying .car","ts":"1468424401.000017"},{"type":"message","user":"U0ULK2JPP","text":"need to digest and think through that\u2026.","ts":"1468424468.000018"},{"type":"message","user":"U0KPFAZNF","text":"regarding #1, I envision we will update this: <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/Makefile#L114>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/Makefile#L114","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/Makefile#L114","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1468424471.000019"},{"type":"message","user":"U0KPFAZNF","text":"such that it pulls something like this down: <https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases\/download\/chaintool-0.7\/chaintool>","ts":"1468424501.000021"},{"type":"message","user":"U0KPFAZNF","text":"(rather than take the binary from fabric.git","ts":"1468424516.000022"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP>: yeah, and understood\u2026#2 was something that occurred to me as I sat on the beach","ts":"1468424565.000023"},{"type":"message","user":"U0KPFAZNF","text":"not sure I am right about that","ts":"1468424568.000024"},{"type":"message","user":"U0KPFAZNF","text":"I think 1,3,4 are less controversial","ts":"1468424592.000025"},{"user":"U1S0GJ38V","text":"<@U1S0GJ38V|jndewey> has joined the channel","type":"message","subtype":"channel_join","ts":"1468551949.000002"},{"user":"U1PFK7GG5","text":"<@U1PFK7GG5|leo> has joined the channel","type":"message","subtype":"channel_join","ts":"1468644139.000003"},{"user":"U19PSLZV1","text":"<@U19PSLZV1|kanelai> has joined the channel","type":"message","subtype":"channel_join","ts":"1468924331.000002"},{"user":"U1SDX7EQZ","text":"<@U1SDX7EQZ|liewsc> has joined the channel","type":"message","subtype":"channel_join","ts":"1469027582.000003"},{"user":"U1ENXTQRL","text":"<@U1ENXTQRL|cbruguera> has joined the channel","type":"message","subtype":"channel_join","ts":"1469054309.000004"},{"user":"U1296EA0M","text":"<@U1296EA0M|maro> has joined the channel","type":"message","subtype":"channel_join","ts":"1469061669.000005"},{"type":"message","user":"U0KPFAZNF","text":"im going to cut a v1.0 from HEAD","ts":"1469159475.000006"},{"type":"message","user":"U0KM61BCP","text":"what relationship has the Platform Name and Version to the fabric release level?","ts":"1469194354.000007"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF>: ^^","ts":"1469194361.000008"},{"type":"message","user":"U0KPFAZNF","text":"i see them as independent, or at least that was the intent","ts":"1469194386.000009"},{"type":"message","user":"U0KPFAZNF","text":"like java 1.8","ts":"1469194391.000010"},{"type":"message","user":"U0KPFAZNF","text":"supposed to imply a specific ABI that the chaincode could rely upon","ts":"1469194408.000011"},{"type":"message","user":"U0KM61BCP","text":"hmmm","ts":"1469194428.000012"},{"type":"message","user":"U0KPFAZNF","text":"right now, its not strictly controlled, but eventually I see that as perhaps locking things down like the shim API","ts":"1469194429.000013"},{"type":"message","user":"U0KPFAZNF","text":"maybe golang 1.6, etc","ts":"1469194439.000014"},{"type":"message","user":"U0KPFAZNF","text":"right now, \u201cthe platform\u201d ends up being whatever stuff the VP that builds it happens to have","ts":"1469194464.000015"},{"type":"message","user":"U0KM61BCP","text":"would make sense if we versioned the shim api","ts":"1469194474.000016"},{"type":"message","user":"U0KPFAZNF","text":"but that needs to change eventually","ts":"1469194474.000017"},{"type":"message","user":"U0KPFAZNF","text":"yes, i think so","ts":"1469194488.000018"},{"type":"message","user":"U0KM61BCP","text":"I think it really should be independent of the fabric release","ts":"1469194501.000019"},{"type":"message","user":"U0KPFAZNF","text":"yes, i was envisioning that \u201cplatform\/ver\u201d might correlate 1:1 with a docker image","ts":"1469194521.000020"},{"type":"message","user":"U0KPFAZNF","text":"that has the shim, golang, etc, baked in","ts":"1469194533.000021"},{"type":"message","user":"U0KM61BCP","text":"so each shim independent? I guess that\u2019s right","ts":"1469194555.000022"},{"type":"message","user":"U0KPFAZNF","text":"(or whatever is appropriate, obviously a java platform would have different things in it","ts":"1469194570.000023"},{"type":"message","user":"U0KM61BCP","text":"we should have a discussion about our project organization","ts":"1469194594.000024"},{"type":"message","user":"U0KM61BCP","text":"one repo was a good idea but has lost some of its luster","ts":"1469194609.000025"},{"type":"message","user":"U0KPFAZNF","text":"yeah, my gut feeling is we should let the protobuf schema be the compatibility mechanism","ts":"1469194611.000026"},{"type":"message","user":"U0KPFAZNF","text":"version the shim API, let clients code to a specific version of it, etc","ts":"1469194626.000027"},{"type":"message","user":"U0KM61BCP","text":"despite my loathing of submodules, we probably need to go there","ts":"1469194635.000028"},{"type":"message","user":"U0KPFAZNF","text":"oh god no, please","ts":"1469194643.000029"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1469194643.000030"},{"type":"message","user":"U0KM61BCP","text":"lol","ts":"1469194651.000031"},{"type":"message","user":"U0KPFAZNF","text":"i used them on a major project here, it was a nightmare","ts":"1469194653.000032"},{"type":"message","user":"U0KM61BCP","text":"I know","ts":"1469194658.000033"},{"type":"message","user":"U0KM61BCP","text":"I suppose we could go with normal dependencies","ts":"1469194671.000034"},{"type":"message","user":"U0KPFAZNF","text":"if you were a git ninja and knew all the details of the project, it was fine","ts":"1469194673.000035"},{"type":"message","user":"U0KM61BCP","text":"yeah","ts":"1469194679.000036"},{"type":"message","user":"U0KPFAZNF","text":"anyone new coming in would make a complete mess of their checkout, though","ts":"1469194709.000037"},{"type":"message","user":"U0KM61BCP","text":"separate repos, publish a release in whatever appropriate form and handle the interdependencies as dependencies?","ts":"1469194712.000038"},{"type":"message","user":"U0KPFAZNF","text":"yeah, something like that","ts":"1469194722.000039"},{"type":"message","user":"U0KPFAZNF","text":"i think strictly speaking, the shim doesnt need to be in a sep repo, but that might be a good idea in general","ts":"1469194753.000040"},{"type":"message","user":"U0KM61BCP","text":"well, yes, but it would make it clearer that there were no unexpected dependencies","ts":"1469194775.000041"},{"type":"message","user":"U0KPFAZNF","text":"from a versioning perspective, it doesnt matter too much, but we are seeing weirdness with GOPATH\/vendoring simply because of the topology choice","ts":"1469194784.000042"},{"type":"message","user":"U0KPFAZNF","text":"right, i agree","ts":"1469194789.000043"},{"type":"message","user":"U0KPFAZNF","text":"just logically makes things cleaner","ts":"1469194801.000044"},{"type":"message","user":"U0KM61BCP","text":"I don\u2019t think that vendoring just the <http:\/\/github.com\/hypereldger\/fabric\/core\/chaincode\/shim|github.com\/hypereldger\/fabric\/core\/chaincode\/shim> works","ts":"1469194806.000045"},{"type":"message","user":"U0KPFAZNF","text":"hyperledger\/fabric-shim, has different langs in there etc","ts":"1469194820.000046"},{"type":"message","user":"U0KM61BCP","text":"at least I had some issues with it a while back","ts":"1469194828.000047"},{"type":"message","user":"U0KPFAZNF","text":"yeah, it doesnt\u2026it gets messed up because of the vendoring up higher in the tree","ts":"1469194837.000048"},{"type":"message","user":"U0KM61BCP","text":"right","ts":"1469194842.000049"},{"type":"message","user":"U0KPFAZNF","text":"so for that reason alone...","ts":"1469194851.000050"},{"type":"message","user":"U0KM61BCP","text":"which if it were separate would make cleaner","ts":"1469194852.000051"},{"type":"message","user":"U0KPFAZNF","text":"the other reason is it might be goofy to have, say, java and nodejs shims along side the current one in the current topology","ts":"1469194881.000052"},{"type":"message","user":"U0KPFAZNF","text":"might be cleaner to have hyperledger\/fabric-shim.git\/[golang, java, nodejs] etc","ts":"1469194906.000053"},{"type":"message","user":"U0KPFAZNF","text":"or maybe they each get their own?","ts":"1469194918.000054"},{"type":"message","user":"U0KPFAZNF","text":"hyperledger\/fabric-shim-golang, etc","ts":"1469194927.000055"},{"type":"message","user":"U0KPFAZNF","text":"that way each shim team can manage their own releases a little cleaner, etc","ts":"1469194940.000056"},{"type":"message","user":"U0KM61BCP","text":"well, the dependency management are all different","ts":"1469194947.000057"},{"type":"message","user":"U0KM61BCP","text":"yes","ts":"1469194950.000058"},{"type":"message","user":"U0KPFAZNF","text":"right, thats what i meant really","ts":"1469194955.000059"},{"type":"message","user":"U0KPFAZNF","text":"releases+dep management","ts":"1469194960.000060"},{"type":"message","user":"U0KM61BCP","text":"eg node npm, java maven, go etc","ts":"1469194966.000061"},{"type":"message","user":"U0KPFAZNF","text":"right","ts":"1469194969.000062"},{"type":"message","user":"U0KPFAZNF","text":"i like the hyperledger\/fabric-shim-[golang|java|nodejs].git proposal","ts":"1469195019.000063"},{"type":"message","user":"U0KM61BCP","text":"yes","ts":"1469195031.000064"},{"type":"message","user":"U0KM61BCP","text":"+1","ts":"1469195038.000065"},{"type":"message","user":"U0KM61BCP","text":"now, where do we keep the protobuf?","ts":"1469195064.000066"},{"type":"message","user":"U0ULK2JPP","text":"wouldn\u2019t it be nice if all the APIs were abstracted out entirely in the protobuf specification interactions \u2026 so we can make that the main thing all the above","ts":"1469195068.000067"},{"type":"message","user":"U0KM61BCP","text":"-[core]?","ts":"1469195072.000068"},{"type":"message","user":"U0ULK2JPP","text":"I think you read my mind <@U0KM61BCP> ?","ts":"1469195082.000069"},{"type":"message","user":"U0ULK2JPP","text":":slightly_smiling_face:","ts":"1469195085.000070"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP>: agree, that should be the contract","ts":"1469195086.000071"},{"type":"message","user":"U0KM61BCP","text":"+1","ts":"1469195091.000072"},{"type":"message","user":"U0KPFAZNF","text":"im torn on the .proto topic","ts":"1469195115.000073"},{"type":"message","user":"U0KPFAZNF","text":"on one hand, I loath duplication","ts":"1469195122.000074"},{"type":"message","user":"U0KM61BCP","text":"hmmm","ts":"1469195148.000075"},{"type":"message","user":"U0KPFAZNF","text":"on the other hand, each project having its own sense of the current contract is exactly what happens in reality","ts":"1469195149.000076"},{"type":"message","user":"U0KPFAZNF","text":"(on the wire, i mean)","ts":"1469195156.000077"},{"type":"message","user":"U0ULK2JPP","text":"right. I think its worth preventing right at get-go","ts":"1469195180.000078"},{"type":"message","user":"U0ULK2JPP","text":"One way to concretize that is by \u201cpointing\u201d to the common proto (which I think is what <@U0KM61BCP> suggests ?)","ts":"1469195245.000079"},{"type":"message","user":"U0KM61BCP","text":"submodule (ducks)","ts":"1469195247.000080"},{"type":"message","user":"U0KPFAZNF","text":"whats been working reasonably well from me lately is that ill keep the .protos in one place, but I keep the intermediates checked into the project","ts":"1469195259.000081"},{"type":"message","user":"U0KPFAZNF","text":"(such as the .pb.go)","ts":"1469195266.000082"},{"type":"message","user":"U0ULK2JPP","text":"yea","ts":"1469195274.000083"},{"type":"message","user":"U0KM61BCP","text":"hmmm","ts":"1469195282.000084"},{"type":"message","user":"U0KPFAZNF","text":"that way, the definition is in one place, but the ABI is stable for a project until someone takes explicit action to update them","ts":"1469195284.000085"},{"type":"message","user":"U0KM61BCP","text":"how do we manage the affinity?","ts":"1469195292.000086"},{"type":"message","user":"U0ULK2JPP","text":"no way to prevent that kind of \u201cgeneration\u201d for cross-language","ts":"1469195293.000087"},{"type":"message","user":"U0ULK2JPP","text":"I should have said for \u201cmultiple\u201d languges \u2026 the files would have to be generated for each","ts":"1469195334.000088"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP>: what do you mean by affinity?","ts":"1469195339.000089"},{"type":"message","user":"U0KM61BCP","text":"well, if I understood you correctly, you were suggesting maintain the .proto centrally and generate the lang specific .pb.go\/java eyc","ts":"1469195397.000090"},{"type":"message","user":"U0KM61BCP","text":"etc","ts":"1469195399.000091"},{"type":"message","user":"U0KM61BCP","text":"and then you check those into the lang specific repo?","ts":"1469195413.000092"},{"type":"message","user":"U0KM61BCP","text":"I guess if the commit message were crystal clear...","ts":"1469195428.000093"},{"type":"message","user":"U0KM61BCP","text":"would want to track which commit the .pb.* was built from","ts":"1469195444.000094"},{"type":"message","user":"U0KPFAZNF","text":"right, so you could have the protos remain in fabric.git, and something like a \u201cmake protos\u201d directive in your subordinate project that will take some reference to the proto you want and generate intermediate artifacts that get checked in to the subordinate project","ts":"1469195470.000095"},{"type":"message","user":"U0KPFAZNF","text":"oh i see what you are getting at","ts":"1469195505.000096"},{"type":"message","user":"U0KPFAZNF","text":"hmm, i guess I havent run into the situation where that matters per se","ts":"1469195540.000097"},{"type":"message","user":"U0KPFAZNF","text":"but I see your point","ts":"1469195542.000098"},{"type":"message","user":"U0KM61BCP","text":"for debugging when there\u2019s a mismatch","ts":"1469195564.000099"},{"type":"message","user":"U0KPFAZNF","text":"yeah\u2026i mean, if no one breaks the rules, it \u201cshouldnt matter\u201d, but I do see your concern","ts":"1469195590.000100"},{"type":"message","user":"U0KPFAZNF","text":"if for anything, sanity","ts":"1469195595.000101"},{"type":"message","user":"U0KM61BCP","text":"y","ts":"1469195599.000102"},{"type":"message","user":"U0ULK2JPP","text":"so when we generate for one language, we generate all ?","ts":"1469195648.000103"},{"type":"message","user":"U0ULK2JPP","text":"would that take care of the problem ?","ts":"1469195656.000104"},{"type":"message","user":"U0KPFAZNF","text":"i dont think so","ts":"1469195667.000105"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1469195669.000106"},{"type":"message","user":"U0KPFAZNF","text":"because the different projects might update at different times","ts":"1469195678.000107"},{"type":"message","user":"U0KM61BCP","text":"right","ts":"1469195689.000108"},{"type":"message","user":"U0KPFAZNF","text":"each update potentially requires a code update to go with it","ts":"1469195692.000109"},{"type":"message","user":"U0KM61BCP","text":"could we use a make rule that d\/l\u2019s the build artefact?","ts":"1469195733.000110"},{"type":"message","user":"U0KPFAZNF","text":"one thing that could be done is something like \u201cmake protos\u201d copies the proto to the subordinate project with a \u201cDO NOT EDIT, see <http:\/\/blah>\u201d at the top or something","ts":"1469195752.000111"},{"type":"message","user":"U0KPFAZNF","text":"so its known that this is not the authoritative source","ts":"1469195780.000112"},{"type":"message","user":"U0KPFAZNF","text":"another idea, we could compute a hash\/reference to the one we built from and include that in metadata","ts":"1469195799.000113"},{"type":"message","user":"U0KPFAZNF","text":"or another idea, just stop worrying about the dup and let projects copy the .proto into their project that they want to support","ts":"1469195836.000114"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1469195837.000115"},{"type":"message","user":"U0KM61BCP","text":"curl -XGET <https:\/\/raw.githubusercontent.com\/hyperledger\/fabric\/master\/core\/chaincode\/shim\/proto.pb.go> etc","ts":"1469195838.000116"},{"type":"message","user":"U0KPFAZNF","text":"(ive done that too)","ts":"1469195841.000117"},{"type":"message","user":"U0KPFAZNF","text":"well, to be clear, i wouldnt recommend we pull intermediates","ts":"1469195869.000118"},{"type":"message","user":"U0KPFAZNF","text":"just .protos at the most","ts":"1469195873.000119"},{"type":"message","user":"U0KM61BCP","text":"yes, that could work","ts":"1469195885.000120"},{"type":"message","user":"U0KM61BCP","text":"but would need to be tied to a release","ts":"1469195919.000121"},{"type":"message","user":"U0KM61BCP","text":"hmmm","ts":"1469195928.000122"},{"type":"message","user":"U0KPFAZNF","text":"not necessarily","ts":"1469195930.000123"},{"type":"message","user":"U0KPFAZNF","text":"only the user knows what version of the contract they want, really, but generally most updates are going to be \u201clatest\"","ts":"1469195951.000124"},{"type":"message","user":"U0KM61BCP","text":"well, let\u2019s say I want to fix a defect in a previous release","ts":"1469195954.000125"},{"type":"message","user":"U0KPFAZNF","text":"ah, yes, i see where you are going","ts":"1469195966.000126"},{"type":"message","user":"U0KM61BCP","text":"I don\u2019t want the current master .proto","ts":"1469195968.000127"},{"type":"message","user":"U0KPFAZNF","text":"right","ts":"1469195972.000128"},{"type":"message","user":"U0KPFAZNF","text":"I think those giturls can have tags, etc in them","ts":"1469196004.000129"},{"type":"message","user":"U0KPFAZNF","text":"but maybe we are overcomplicating things","ts":"1469196021.000130"},{"type":"message","user":"U0KPFAZNF","text":"maybe the best thing is just let the projects have whatever .proto they want","ts":"1469196040.000131"},{"type":"message","user":"U0KPFAZNF","text":"thats their ABI contract, some may stay on an old one forever, some may track latest religiously, and if someone wants to do something weird and edit locally, thats their business","ts":"1469196079.000132"},{"type":"message","user":"U0KPFAZNF","text":"but a disciplined project would track the contract they want to support in a timeline that makes sense to their project","ts":"1469196104.000133"},{"type":"message","user":"U0KPFAZNF","text":"by ^^^ i just mean, maybe the \u201ccentral place\u201d is too complicated","ts":"1469196129.000134"},{"type":"message","user":"U0KPFAZNF","text":"maybe just let the apps maintain the .proto\/intermediates how they want","ts":"1469196147.000135"},{"type":"message","user":"U0KPFAZNF","text":"then, if foo\/branchA needs fabric\/branchY .proto update, a human just grabs what they need","ts":"1469196208.000136"},{"type":"message","user":"U0KPFAZNF","text":"is that punting?","ts":"1469196217.000137"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP>: when you get a chance: <https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/18>","attachments":[{"service_name":"GitHub","title":"v1.0 release and v1.1-SNAPSHOT prep by ghaskins \u00b7 Pull Request #18 \u00b7 hyperledger\/fabric-chaintool \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/18","text":"This PR creates a v1.0 release and adjusts master to continue on with v1.1-SNAPSHOT. After merge, I will create a tag\/release on the 3fb6ded commit","fallback":"GitHub: v1.0 release and v1.1-SNAPSHOT prep by ghaskins \u00b7 Pull Request #18 \u00b7 hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/18","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1469196945.000138"},{"type":"message","user":"U0KM61BCP","text":"do you think 1.0 is appropriate given the conservatism expressed by the TSC members?","ts":"1469196980.000140"},{"type":"message","user":"U0KPFAZNF","text":"for chaintool?","ts":"1469196990.000141"},{"type":"message","user":"U0KM61BCP","text":"y","ts":"1469196993.000142"},{"type":"message","user":"U0KPFAZNF","text":"it doesnt strike me as particularly controversial, but if you think otherwise i am open to that","ts":"1469197012.000143"},{"type":"message","user":"U0KPFAZNF","text":"i was just thinking \u201cits stable, it does pretty much what I set out to do, blah blah\"","ts":"1469197030.000144"},{"type":"message","user":"U0KPFAZNF","text":"so it made sense to me","ts":"1469197033.000145"},{"type":"message","user":"U0KPFAZNF","text":"but if that implies something that might be frowned upon by others, I am not married to it","ts":"1469197048.000146"},{"type":"message","user":"U0KM61BCP","text":"I am not saying it isn't","ts":"1469197048.000147"},{"type":"message","user":"U0KPFAZNF","text":"i could tag it v0.8, which is what it would have been otherwise","ts":"1469197074.000148"},{"type":"message","user":"U0KPFAZNF","text":"(a new release is def in order, the actual tag doesnt matter much","ts":"1469197087.000149"},{"type":"message","user":"U0KM61BCP","text":"that would likely be better received","ts":"1469197089.000150"},{"type":"message","user":"U0KPFAZNF","text":"ok, i can do that","ts":"1469197096.000151"},{"type":"message","user":"U0KM61BCP","text":"we\u2019re going to be using <http:\/\/semver.org|semver.org>","ts":"1469197098.000152"},{"type":"message","user":"U0KPFAZNF","text":"so v0.8.0 ?","ts":"1469197106.000153"},{"type":"message","user":"U0KPFAZNF","text":"(previous release was v0.7","ts":"1469197116.000154"},{"type":"message","user":"U0KM61BCP","text":"yeah, and if you want to tag a release candidate you could append -rc1 etc","ts":"1469197136.000155"},{"type":"message","user":"U0KPFAZNF","text":"or maybe v0.7.1, id have to look","ts":"1469197139.000156"},{"type":"message","user":"U0KPFAZNF","text":"yeah, though personally i think the project is too small to go through a -rc formality","ts":"1469197158.000157"},{"type":"message","user":"U0KPFAZNF","text":"but again, i am open if that is the process we want","ts":"1469197165.000158"},{"type":"message","user":"U0KM61BCP","text":"going from 0.7 to 1.0 means not backwards compatible","ts":"1469197171.000159"},{"type":"message","user":"U0KPFAZNF","text":"oh i see where you are going","ts":"1469197177.000160"},{"type":"message","user":"U0KM61BCP","text":"although there is some flexibility for the initial releases","ts":"1469197189.000161"},{"type":"message","user":"U0KPFAZNF","text":"thats not the case, but I see what you mean","ts":"1469197197.000162"},{"type":"message","user":"U0KPFAZNF","text":"yeah, generally I do my releases where v0.x = all bets are off","ts":"1469197209.000163"},{"type":"message","user":"U0KPFAZNF","text":"actually, thats not true","ts":"1469197229.000164"},{"type":"message","user":"U0KPFAZNF","text":"what I do is I treat v0.x.y where x is the compatible and y is the point release","ts":"1469197248.000165"},{"type":"message","user":"U0KPFAZNF","text":"until it hits 1.0","ts":"1469197253.000166"},{"type":"message","user":"U0KPFAZNF","text":"I use v0.x.y to just mean \u201cits not fully baked project yet\"","ts":"1469197281.000167"},{"type":"message","user":"U0KPFAZNF","text":"but, related to your point: do you think releases need to be done more formally?","ts":"1469197301.000168"},{"type":"message","user":"U0KPFAZNF","text":"i was not really thinking about that, thus the simple PR","ts":"1469197318.000169"},{"type":"message","user":"U0KPFAZNF","text":"ill retract the PR and resubmit as v0.8, unless you think that also needs to go through some other process","ts":"1469197459.000170"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP>: I actually wasn\u2019t on the TSC call yesterday (and I also missed a few in the last few weeks due to vacation)","ts":"1469198447.000171"},{"type":"message","user":"U0KM61BCP","text":"no worries","ts":"1469198466.000172"},{"type":"message","user":"U0KPFAZNF","text":"was there something discussed particularly about chaintool\/conservatism that i missed?]","ts":"1469198477.000173"},{"type":"message","user":"U0KM61BCP","text":"no","ts":"1469198483.000174"},{"type":"message","user":"U0KPFAZNF","text":"or was this about general conservatism with releases, etc","ts":"1469198490.000175"},{"type":"message","user":"U0KM61BCP","text":"we have been discussing exit criteria from Incubation which set off discussion of release taxonomy and maturity assessment","ts":"1469198511.000176"},{"type":"message","user":"U0KPFAZNF","text":"ah, ok, i did hear part of that conversation last week, i think","ts":"1469198530.000177"},{"type":"message","user":"U0KM61BCP","text":"so generally, we will want to have clear and unambiguous release taxonomy and set expectations accordingly","ts":"1469198546.000178"},{"type":"message","user":"U0KPFAZNF","text":"so, reading between the lines, i am guessing you are equating \u201c1.0\u201d with \u201cexit incubation\"","ts":"1469198557.000179"},{"type":"message","user":"U0KPFAZNF","text":"right, got it","ts":"1469198566.000180"},{"type":"message","user":"U0KPFAZNF","text":"this makes sense","ts":"1469198568.000181"},{"type":"message","user":"U0KPFAZNF","text":"def didnt mean to imply anything along those lines","ts":"1469198581.000182"},{"type":"message","user":"U0KM61BCP","text":"well, incubation is about the project TEAM\u2019s maturity, not the code necessarily","ts":"1469198591.000183"},{"type":"message","user":"U0KPFAZNF","text":"(still adapting to \u201cmy pet project\u201d to \u201caccepted upstream\u201d ;)","ts":"1469198595.000184"},{"type":"message","user":"U0KM61BCP","text":"chaintool is pretty mature","ts":"1469198602.000185"},{"type":"message","user":"U0KM61BCP","text":"but when we get to naming something 1.0, the expectation will be that will be suitable for production deployments, I think","ts":"1469198629.000186"},{"type":"message","user":"U0KPFAZNF","text":"tbh, i didnt really think much about the version number, just knew I wanted a new release so I can update fabric to use it","ts":"1469198642.000187"},{"type":"message","user":"U0KM61BCP","text":"eg our first production release","ts":"1469198647.000188"},{"type":"message","user":"U0KPFAZNF","text":"yeah, this makes sense","ts":"1469198648.000189"},{"type":"message","user":"U0KM61BCP","text":"kind of like what Docker did","ts":"1469198652.000190"},{"type":"message","user":"U0KPFAZNF","text":"right","ts":"1469198657.000191"},{"type":"message","user":"U0KPFAZNF","text":"v0.8 or whatever is fine, or even v0.7.1","ts":"1469198678.000192"},{"type":"message","user":"U0KM61BCP","text":"yep","ts":"1469198684.000193"},{"type":"message","user":"U0KPFAZNF","text":"(i already have v0.7 out there)","ts":"1469198687.000194"},{"type":"message","user":"U0KM61BCP","text":"if it is just tweaks and fixes 0.7.1 is fine","ts":"1469198712.000195"},{"type":"message","user":"U0KPFAZNF","text":"ive tended to bump v0.x def for abi compat, but even for feature additions","ts":"1469198715.000196"},{"type":"message","user":"U0KM61BCP","text":"also too you could do 0.8.0 if you wanted to make a statement","ts":"1469198731.000197"},{"type":"message","user":"U0KPFAZNF","text":"I\u2019ve added a few new features since v0.7, thus the bump","ts":"1469198737.000198"},{"type":"message","user":"U0KPFAZNF","text":"but its not strictly critical","ts":"1469198741.000199"},{"type":"message","user":"U0KM61BCP","text":"makes sense","ts":"1469198743.000200"},{"type":"message","user":"U0KPFAZNF","text":"(to delineate, i mean)","ts":"1469198749.000201"},{"type":"message","user":"U0KPFAZNF","text":"ok, sounds good","ts":"1469198775.000202"},{"type":"message","user":"U0KPFAZNF","text":"discuss on ML first, or just a 0.7.1\/0.8 PR is fine?","ts":"1469198792.000203"},{"type":"message","user":"U0KPFAZNF","text":"stepping out for a run, bbiab","ts":"1469198883.000204"},{"type":"message","user":"U0KM61BCP","text":"you should send announce to ml yes","ts":"1469199140.000205"},{"type":"message","user":"U0KM61BCP","text":"looks like you could use some .gitignore rules for build artefacts","ts":"1469200608.000206"},{"type":"message","user":"U0KM61BCP","text":"I\u2019ll add if you like","ts":"1469200623.000207"},{"type":"message","user":"U0KM61BCP","text":"done PR pushed","ts":"1469201115.000208"},{"type":"message","user":"U0KM61BCP","text":"having some issues building in the vagrant environment","ts":"1469202194.000209"},{"type":"message","user":"U0KM61BCP","text":"1) JDK not installed - I don\u2019t understand this because we now have the java shim, maybe I need to vagrant destroy and vagrant up to refresh","ts":"1469202233.000210"},{"type":"message","user":"U0KM61BCP","text":"2) \/usr\/local\/bin is owned by root and not writable","ts":"1469202270.000211"},{"type":"message","user":"U0KM61BCP","text":"had to sudo make install","ts":"1469202336.000212"},{"type":"message","user":"U0KM61BCP","text":"you know what would be nice, is if we could have the node client work with context","ts":"1469204561.000213"},{"type":"message","user":"U0KM61BCP","text":"so that you don\u2019t spend all your time cutting and pasting hashes and fqps","ts":"1469204607.000214"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP>: <http:\/\/lists.hyperledger.org\/pipermail\/hyperledger-technical-discuss\/2016-July\/000346.html>","ts":"1469205056.000215"},{"type":"message","user":"U0KPFAZNF","text":"ill take alook at your PR, seems reasonable","ts":"1469205089.000216"},{"type":"message","user":"U0KPFAZNF","text":"regarding JDK, i thought we installed that but maybe it is JRE","ts":"1469205104.000217"},{"type":"message","user":"U0KM61BCP","text":"me too","ts":"1469205109.000218"},{"type":"message","user":"U0KM61BCP","text":"I rebuilt vagrant","ts":"1469205114.000219"},{"type":"message","user":"U0KPFAZNF","text":"regarding 2, that should be an easy fix (for vagrant at least)","ts":"1469205116.000220"},{"type":"message","user":"U0KM61BCP","text":"must have been old","ts":"1469205117.000221"},{"type":"message","user":"U0KM61BCP","text":"sudo make install","ts":"1469205129.000222"},{"type":"message","user":"U0KPFAZNF","text":"oh, i was thinking we could make \/usr\/local writable by uid:vagrant","ts":"1469205157.000223"},{"type":"message","user":"U0KPFAZNF","text":"but that works too :wink:","ts":"1469205159.000224"},{"type":"message","user":"U0KPFAZNF","text":"i havent run into either of these because I build on my mac and run it in vagrant via the \/local-dev","ts":"1469205190.000225"},{"type":"message","user":"U0KPFAZNF","text":"e.g. I do export PATH=\/local-dev\/path\/to\/chaintool\/target:$PATH","ts":"1469205218.000226"},{"type":"message","user":"U0KPFAZNF","text":"but that is a reasonable workflow too","ts":"1469205233.000227"},{"type":"message","user":"U0KM61BCP","text":"oh of course","ts":"1469208597.000228"},{"type":"message","user":"U0KM61BCP","text":"so we pick up the shim package because fabric is in the $GOPATH?","ts":"1469208626.000229"},{"type":"message","user":"U0KM61BCP","text":"that\u2019s an unstated dependency for chaintool","ts":"1469208648.000230"},{"type":"message","user":"U0KM61BCP","text":"might want to make that clear","ts":"1469208658.000231"},{"type":"message","user":"U0KPFAZNF","text":"yes, though it will also just put HEAD from github if you dont happen to have it","ts":"1469232093.000232"},{"type":"message","user":"U0KPFAZNF","text":"pull HEAD, i mean","ts":"1469232119.000233"},{"type":"message","user":"U0KPFAZNF","text":"in theory you can run chaintool on a completely pristine environment and it will use go-get to get anything not found","ts":"1469232145.000234"},{"type":"message","user":"U0KPFAZNF","text":"eventually, we need to have platform\/version mean something specific, though","ts":"1469232165.000235"},{"type":"message","user":"U0KPFAZNF","text":"(but we dont have this in normal chaincode dev yet either","ts":"1469232175.000236"},{"type":"message","user":"U0KPFAZNF","text":"so not like chaintool broke this","ts":"1469232180.000237"},{"type":"message","user":"U0KM61BCP","text":"oh, don\u2019t get me wrong, I am not at all suggesting that chaincode broke anything\u2026 I agree that we need to untangle the dependencies so that we can have a clear path to being able to just resolve the shim package (essentially)","ts":"1469332894.000002"},{"user":"U0N1FDZK2","text":"<@U0N1FDZK2|harsh> has joined the channel","type":"message","subtype":"channel_join","ts":"1469382240.000003"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP>: <@U0KM61BCP> <@U0KRRM29Z> any thoughts on the v0.8 release proposal?","ts":"1469639287.000004"},{"user":"U1VE97GV8","text":"<@U1VE97GV8|imperial> has joined the channel","type":"message","subtype":"channel_join","ts":"1469639290.000005"},{"type":"message","user":"U0KPFAZNF","text":"i didnt see any feedback from the ML","ts":"1469639297.000006"},{"type":"message","user":"U0KPFAZNF","text":"also, <@U0KM61BCP>, do you foresee chaintool moving to gerrit too?","ts":"1469639314.000007"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF>:  think that would be good","ts":"1469651120.000008"},{"user":"U0W7D64LC","text":"<@U0W7D64LC|markparz> has joined the channel","type":"message","subtype":"channel_join","ts":"1469663696.000009"},{"type":"message","user":"U0W7D64LC","text":"<@U1VE97GV8>: <@U0KPFAZNF> .. HI Greg, the question is trying to figure out how to define an array in a *.cci file","ts":"1469663716.000010"},{"type":"message","user":"U0KPFAZNF","text":"It closely follows most of proto3, so an array would have \"repeated\" prefix","ts":"1469664590.000011"},{"type":"message","user":"U0KPFAZNF","text":"E.g. \"repeated int32 foo = 1;\"","ts":"1469664632.000012"},{"type":"message","user":"U0KPFAZNF","text":"Gives you an array of ints ","ts":"1469664644.000013"},{"type":"message","user":"U0KPFAZNF","text":"<@U1VE97GV8>: ^^^","ts":"1469664703.000014"},{"type":"message","user":"U0KPFAZNF","text":"There are a few exceptions, like I currently do not support oneof or map","ts":"1469664855.000015"},{"type":"message","user":"U0KPFAZNF","text":"But those are likely to be supported soon","ts":"1469664867.000016"},{"type":"message","user":"U0KPFAZNF","text":"<@U0W7D64LC>: ","ts":"1469665055.000017"},{"type":"message","user":"U1VE97GV8","text":"Thanks <@U0KPFAZNF> that helped greatly.  For documentation purposes, it might be useful to refer people to <https:\/\/developers.google.com\/protocol-buffers\/docs\/proto3> for how to define things.  So now I've gotten to the point where I can package a car (sweet name).  But I'm trying to find documentation on how to deploy cars, I'm assuming I just point to the package at some location on the node machine when running the deploy command, is that true?","ts":"1469745978.000018"},{"type":"message","user":"U0KPFAZNF","text":"<@U1VE97GV8>: I think generally you have the right idea, though there might be a few speed bumps","ts":"1469747327.000019"},{"type":"message","user":"U0KPFAZNF","text":"1) the chaintool binary that is currently checked into the fabric tree is really old (v0.5.1 vs the current v0.8-SNAPSHOT)","ts":"1469747353.000020"},{"type":"message","user":"U0KPFAZNF","text":"so, if you do a standard deployment, the infrastructure is going to compile your .car with old tooling","edited":{"user":"U0KPFAZNF","ts":"1469747458.000000"},"ts":"1469747373.000021"},{"type":"message","user":"U0KPFAZNF","text":"theres workarounds, but lets come back to that","ts":"1469747382.000022"},{"type":"message","user":"U0KPFAZNF","text":"2) The SDK I think is currently limited to deploying GOLANG type payloads, so others (like CAR) are not likely to work via this method","ts":"1469747429.000023"},{"type":"message","user":"U0KPFAZNF","text":"(there are workarounds here too)","ts":"1469747437.000024"},{"type":"message","user":"U0KPFAZNF","text":"1a), the old tooling is no longer ABI compatible with the current chaintool protocol, that is why I mention that","ts":"1469747483.000026"},{"type":"message","user":"U0KPFAZNF","text":"I am using base64 encoding now, I wasnt then","ts":"1469747491.000027"},{"type":"message","user":"U0KPFAZNF","text":"so, it wont work","ts":"1469747494.000028"},{"type":"message","user":"U0KPFAZNF","text":"one thing you can do is simply replace the fabric.git\/devenv\/tools\/chaintool binary with the one you built from HEAD","ts":"1469747529.000029"},{"type":"message","user":"U0KPFAZNF","text":"if you do that, you will also need to make sure that the hyperledger\/fabric-ccenv docker image is rebuilt","ts":"1469747551.000030"},{"type":"message","user":"U0KPFAZNF","text":"what i was going to suggest as a workaround to both is: use devmode (for now)","ts":"1469747588.000031"},{"type":"message","user":"U0KPFAZNF","text":"if you are willing to use devmode, you just use \u201cchaintool build\u201d and run the binary that way, that circumvents both the (1) and (2) issues","ts":"1469747614.000032"},{"type":"message","user":"U0KPFAZNF","text":"I can help with the specifics","ts":"1469747623.000033"},{"type":"message","user":"U0KPFAZNF","text":"if that is not acceptable, then what we need to do in summary is A) update your chaintool\/ccenv, and B) deploy using something other than the SDK, such as the REST interface","ts":"1469747654.000034"},{"type":"message","user":"U0KPFAZNF","text":"let me know which direction is more appealing and I can guide appropriately","ts":"1469747695.000035"},{"type":"message","user":"U0KPFAZNF","text":"(and sorry for the troubles, hope to have both fixed ASAP)","ts":"1469747711.000036"},{"type":"message","user":"U1VE97GV8","text":"So let's assume that I have a special build on my local which pulls in all the necessary chaintool dependencies to build 0.8-SNAPSHOT, then builds and packages the car.  I'm not using the vagrant image right now since I run on Mint anyways and it seemed like additional overhead to start a VM of basically what I'm running.  I was thinking to deploy using the REST interface anyways, so the car should work for that use case as long as I build with the 0.8-SNAPSHOT?","ts":"1469748322.000037"},{"type":"message","user":"U0KPFAZNF","text":"<@U1VE97GV8>: yes AND you update the tool that is in the ccenv docker image","ts":"1469748399.000038"},{"type":"message","user":"U0KPFAZNF","text":"otherwise the deployment will be processed by the old tooling","ts":"1469748428.000039"},{"type":"message","user":"U1VE97GV8","text":"Ah, I see.  Do you know when the main fabric tree will pull in the new version out of curiosity?","ts":"1469748470.000040"},{"type":"message","user":"U0KPFAZNF","text":"I think the steps would be something like: take the chaintool binary and copy it to .\/devenv\/tools\/chaintool; rm -rf build\/image\/ccenv; make images","ts":"1469748505.000041"},{"type":"message","user":"U0KPFAZNF","text":"right now, it pulls it from a local cache","ts":"1469748520.000042"},{"type":"message","user":"U0KPFAZNF","text":"checked into fabric.git\/devenv\/tools","ts":"1469748529.000043"},{"type":"message","user":"U0KPFAZNF","text":"that needs to be updated though","ts":"1469748534.000044"},{"type":"message","user":"U0KPFAZNF","text":"sorry for the dance, you are one of the first customers of chaintool, heh","ts":"1469748566.000045"},{"type":"message","user":"U0KPFAZNF","text":"so, some growing pains","ts":"1469748571.000046"},{"type":"message","user":"U1VE97GV8","text":"Yeah, I think that was the question, when would it be updated?  After the gerrit change I'm assuming?","ts":"1469748591.000047"},{"type":"message","user":"U0KPFAZNF","text":"(dont be scared by that comment, my team uses it extensively, its quite solid in general","ts":"1469748595.000048"},{"type":"message","user":"U0KPFAZNF","text":"its just that we are currently in -devmode type workflows, so this discrepancy hasnt yet been very painful","ts":"1469748619.000049"},{"type":"message","user":"U1VE97GV8","text":"No worries about the growing pains, I make things work","ts":"1469748628.000050"},{"type":"message","user":"U0KPFAZNF","text":"yeah, i have a PR to release chaintool v0.8.0..i was planning on updating fabric after that gets accepted","ts":"1469748660.000051"},{"text":"eyes <@U0ULK2JPP|muralisr>","type":"message","subtype":"me_message","user":"U0KPFAZNF","ts":"1469748668.000052"},{"type":"message","user":"U1VE97GV8","text":"yeah, we actually took something we wrote in the old chaintool environment and migrated it to the 0.8-SNAPSHOT, we wanted to know if it would work, I am going to test right now","ts":"1469748698.000053"},{"type":"message","user":"U0KPFAZNF","text":"oh cool, i didnt realize people were actually using it","ts":"1469748713.000054"},{"type":"message","user":"U0KPFAZNF","text":"this is cool","ts":"1469748714.000055","reactions":[{"name":"+1","users":["U0KM61BCP"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"outside my team, i mean","ts":"1469748720.000056"},{"type":"message","user":"U0KPFAZNF","text":"in general things have been backwards compatible, few exceptions aside (like the v0.5.1 base64 borkage","ts":"1469748754.000057"},{"type":"message","user":"U0KPFAZNF","text":"mostly its been enhancements, like supporting proto nested messages and parameterless RPCs","ts":"1469748780.000058"},{"type":"message","user":"U0KPFAZNF","text":"so, conceivably if you tried to compile a parameterless function in an older version, that would break","ts":"1469748804.000059"},{"type":"message","user":"U0KPFAZNF","text":"<@U1VE97GV8>: <https:\/\/github.com\/hyperledger\/fabric-chaintool\/issues\/21>","attachments":[{"service_name":"GitHub","title":"Documentation should reference proto3 specification in a clear way \u00b7 Issue #21 \u00b7 hyperledger\/fabric-chaintool \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/issues\/21","text":"The grammar for CCI closesly models proto3, but this is not called out in a clear manner. We should make sure this is clear and provide reference links, etc.","fallback":"GitHub: Documentation should reference proto3 specification in a clear way \u00b7 Issue #21 \u00b7 hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/issues\/21","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1469749302.000060"},{"type":"message","user":"U1VE97GV8","text":"Very cool, thanks for that","ts":"1469749347.000062"},{"type":"message","user":"U1VE97GV8","text":"<@U0KPFAZNF>: For the deploying via REST, I'm assuming its a relative path to somewhere inside the GOPATH?","ts":"1469749756.000063"},{"type":"message","user":"U0KPFAZNF","text":"FQP path, $GOPATH isnt used at all","ts":"1469749773.000064"},{"type":"message","user":"U0KPFAZNF","text":"FQP relative to the (N)VP handling the REST call","ts":"1469749795.000065"},{"type":"message","user":"U1VE97GV8","text":"Hmm, {\"code\":-32001,\"message\":\"Deployment failure\",\"data\":\"Error when deploying chaincode: Error getting chaincode package bytes: code does not exist File \/home\/jonathan\/Code\/hyperledger-hackathon\/src\/com.calypso.chaincode.slb-0.1-SNAPSHOT.car is not dir\\n\"},\"id\":1}","ts":"1469749902.000066"},{"type":"message","user":"U0KPFAZNF","text":"ok, so on the machine running your (N)VP, can you stat that file ?","ts":"1469750072.000067"},{"type":"message","user":"U0KPFAZNF","text":"\/home\/jonathan\/Code\/hyperledger-hackathon\/src\/com.calypso.chaincode.slb-0.1-SNAPSHOT.car","ts":"1469750105.000068"},{"type":"message","user":"U1VE97GV8","text":"$ stat \/home\/jonathan\/Code\/hyperledger-hackathon\/src\/com.calypso.chaincode.slb-0.1-SNAPSHOT.car\n  File: \u2018\/home\/jonathan\/Code\/hyperledger-hackathon\/src\/com.calypso.chaincode.slb-0.1-SNAPSHOT.car\u2019\n  Size: 1952      \tBlocks: 8          IO Block: 4096   regular file\nDevice: 805h\/2053d\tInode: 29624154    Links: 1\nAccess: (0644\/-rw-r--r--)  Uid: ( 1000\/jonathan)   Gid: ( 1000\/jonathan)\nAccess: 2016-07-28 16:50:05.525001734 -0700\nModify: 2016-07-28 16:50:05.525001734 -0700\nChange: 2016-07-28 16:50:05.525001734 -0700\n Birth: -","ts":"1469750112.000069"},{"type":"message","user":"U0KPFAZNF","text":"ok, good, did you set the type in the request to \u201c3\"","ts":"1469750126.000070"},{"type":"message","user":"U0KPFAZNF","text":"(most literature is going to say use \u201c1\u201d for GOLANG","ts":"1469750151.000071"},{"type":"message","user":"U0KPFAZNF","text":"but CAR = 3","ts":"1469750154.000072"},{"type":"message","user":"U0KPFAZNF","text":"(post the full request, if you can )","ts":"1469750169.000073"},{"type":"message","user":"U1VE97GV8","text":"curl -X'POST' 10.1.119.157:5000\/chaincode -d '{\"jsonrpc\":\"2.0\", \"method\": \"deploy\", \"params\": { \"type\": 3, \"chaincodeID\": { \"path\": \"com.calypso.chaincode.slb-0.1-SNAPSHOT.car\"}, \"ctorMsg\": {\"function\":\"init\",\"args\":[\"1\",\"ISIN-1111\",\"500.00\",\"cert1,cert2\",\"sometime later\"]} }, \"id\": 1 }'","ts":"1469750184.000074"},{"type":"message","user":"U0KPFAZNF","text":"ok, that looks good","ts":"1469750195.000075"},{"type":"message","user":"U0KPFAZNF","text":"note that your args: will need to be encoded","ts":"1469750234.000076"},{"type":"message","user":"U1VE97GV8","text":"ah, different error message with type 3","ts":"1469750236.000077"},{"type":"message","user":"U0KPFAZNF","text":"but the path\/type look right","ts":"1469750243.000078"},{"type":"message","user":"U1VE97GV8","text":"\"error\":{\"code\":-32001,\"message\":\"Deployment failure\",\"data\":\"Error when deploying chaincode: Error getting chaincode package bytes: Error generating hashcode: Error reading file: open com.calypso.chaincode.slb-0.1-SNAPSHOT.car: no such file or directory\"}","ts":"1469750259.000079"},{"type":"message","user":"U0KPFAZNF","text":"hmm, thats strange","ts":"1469750271.000080"},{"type":"message","user":"U0KPFAZNF","text":"let me try on this side","ts":"1469750277.000081"},{"type":"message","user":"U1VE97GV8","text":"might need to put full path?","ts":"1469750281.000082"},{"type":"message","user":"U0KPFAZNF","text":"ive been using devmode for so long, havent tried this path in a bit","ts":"1469750291.000083"},{"type":"message","user":"U0KPFAZNF","text":"oh yes, needs fqp","ts":"1469750303.000084"},{"type":"message","user":"U0KPFAZNF","text":"didnt notice that part, sorry","ts":"1469750307.000085"},{"type":"message","user":"U1VE97GV8","text":"ah yes","ts":"1469750315.000086"},{"type":"message","user":"U1VE97GV8","text":"good news, we are deployed","ts":"1469750321.000087"},{"type":"message","user":"U0KPFAZNF","text":"nice!","ts":"1469750325.000088"},{"type":"message","user":"U0KPFAZNF","text":"though i wouldnt expect that args: to have been valid","ts":"1469750337.000089"},{"type":"message","user":"U0KPFAZNF","text":"normally its some base64 string as a result of encoding your appinit.cci::Init","ts":"1469750359.000090"},{"type":"message","user":"U1VE97GV8","text":"hmm","ts":"1469750379.000091"},{"type":"message","user":"U0KPFAZNF","text":"but it looks like it worked?","ts":"1469750387.000092"},{"type":"message","user":"U0KPFAZNF","text":"fwiw, its super easy to write a nodejs script to do the rest call with encoding for you","ts":"1469750445.000093"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/examples\/example02\/client\/rest\/nodejs\/index.js#L14>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/examples\/example02\/client\/rest\/nodejs\/index.js#L14","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/examples\/example02\/client\/rest\/nodejs\/index.js#L14","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1469750446.000094"},{"type":"message","user":"U0KPFAZNF","text":"but, i would have expected the ctor to reject your args","ts":"1469750464.000096"},{"type":"message","user":"U0KPFAZNF","text":"sometimes the fabric logging is deceptively terse, it might have actually failed","ts":"1469750479.000097"},{"type":"message","user":"U0KPFAZNF","text":"but FYI, if you wanted to adapt that nodejs script, you can use \u201cchaintool proto path\/to\/cci -o path\/to\/proto\u201d to get a .proto file from your CCI","ts":"1469750538.000098"},{"type":"message","user":"U0KPFAZNF","text":"for instance, to convert appinit.cci","ts":"1469750554.000099"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP>: <@U0KRRM29Z> could you review the outstanding chaintool PRs at your earliest?","ts":"1469750610.000100"},{"type":"message","user":"U0KPFAZNF","text":"<@U1VE97GV8>: have to step out for the night, but ill be back online tomorrow","ts":"1469750948.000101"},{"type":"message","user":"U1VE97GV8","text":"<@U0KPFAZNF>: ok, thanks for the help","ts":"1469750975.000102"},{"type":"message","user":"U1VE97GV8","text":"Will save up some questions for tomorrow","ts":"1469750982.000103"},{"type":"message","user":"U0KPFAZNF","text":"fwiw, theres some details of the tunnelling protocol here","ts":"1469750993.000104"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric-chaintool#input-protocol>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool#input-protocol","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool#input-protocol","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1469750994.000105"},{"type":"message","user":"U0KPFAZNF","text":"generally a healthy deploy would look something like: {\"function\u201d:\"init\",\"args\":[\"CgNmb28=\"]}}","ts":"1469751031.000107"},{"type":"message","user":"U0KPFAZNF","text":"ok, im out, ttyl","ts":"1469751046.000108"},{"type":"message","user":"U0KPFAZNF","text":"Thank you <@U0ULK2JPP>, sorry but one more: <https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/24>","attachments":[{"service_name":"GitHub","title":"Release v0.8.1 by ghaskins \u00b7 Pull Request #24 \u00b7 hyperledger\/fabric-chaintool \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/24","text":"Primary interest is pulling in bugfix #22 from commit bfd0a93 Changes since v0.8.0 dc77af4 Prepare for v0.8.2 development 45450c0 Release v0.8.1 a150fee Merge pull request #23 from ghaskins\/issue...","fallback":"GitHub: Release v0.8.1 by ghaskins \u00b7 Pull Request #24 \u00b7 hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/24","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1469797122.000109"},{"type":"message","user":"U0KPFAZNF","text":"In retrospect, I should have resubmitted the v0.8.0 so that that issue 22 fix would be included","ts":"1469797163.000111"},{"type":"message","user":"U0ULK2JPP","text":"sure","ts":"1469798025.000112"},{"type":"message","user":"U0KPFAZNF","text":"ty, release created","ts":"1469800002.000113"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1469800012.000114"},{"type":"message","user":"U0KPFAZNF","text":"im updating fabric now","ts":"1469800026.000116"},{"type":"message","user":"U0KPFAZNF","text":"<@U1VE97GV8>: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/331\/>","ts":"1469803678.000117"},{"type":"message","user":"U0KPFAZNF","text":"once that goes in, you won\u2019t need to do the manual ccenv fixup","ts":"1469803693.000118"},{"type":"message","user":"U0KPFAZNF","text":"<@U1VE97GV8>: 331 was merged, so if you update to the latest fabric, it should have release v0.8.1 installed appropriately","ts":"1469834136.000119"},{"user":"U1XMKU015","text":"<@U1XMKU015|adamrichard> has joined the channel","type":"message","subtype":"channel_join","ts":"1470205369.000002"},{"user":"U1NBM7NHH","text":"<@U1NBM7NHH|louisw> has joined the channel","type":"message","subtype":"channel_join","ts":"1470243289.000003"},{"user":"U1Z6V101X","text":"<@U1Z6V101X|pascalli> has joined the channel","type":"message","subtype":"channel_join","ts":"1470658783.000004"},{"type":"message","user":"U1Z6V101X","text":"Hello, did someone already developed a unit test to test query and invok  methods in chain code ?","ts":"1470730972.000005"},{"user":"U1HG09QB1","text":"<@U1HG09QB1|sajz> has joined the channel","type":"message","subtype":"channel_join","ts":"1470736434.000006"},{"user":"U1JB7QCBD","text":"<@U1JB7QCBD|ashnur> has joined the channel","type":"message","subtype":"channel_join","ts":"1470834132.000007"},{"type":"message","user":"U1JB7QCBD","text":"is there some other way to install chaintool that doesn't involve running everything with sudo? seems a bit weird","ts":"1470834187.000008"},{"type":"message","user":"U0KM61BCP","text":"what do you need sudo for?","ts":"1470839318.000009"},{"type":"message","user":"U1JB7QCBD","text":"make install wants to copy stuff in \/usr\/bin","ts":"1470839585.000010"},{"type":"message","user":"U1JB7QCBD","text":"i am on arch linux","ts":"1470839681.000011"},{"type":"message","user":"U0KPFAZNF","text":"You can specify an alternate BINDIR","ts":"1470869224.000012"},{"type":"message","user":"U0KPFAZNF","text":"One that you have non sudo perms to","ts":"1470869237.000013"},{"type":"message","user":"U0KPFAZNF","text":"Just say \"make install BINDIR=path\/to\/where\/you\/want","ts":"1470869275.000014"},{"type":"message","user":"U0KPFAZNF","text":"Btw: latest code is \/use\/local, ensure you are on latest","ts":"1470869334.000015"},{"type":"message","user":"U1JB7QCBD","text":"<@U0KPFAZNF>: thanks will do that","ts":"1470898837.000016"},{"type":"message","user":"U1JB7QCBD","text":"<@U0KPFAZNF>: where is the latest, github or gerrit? I honestly don't understand gerrit, I click on links and nothing happens, and just looking at it, i have no idea what is what. will take a long time to adapt :disappointed:","ts":"1470898915.000017"},{"type":"message","user":"U1JB7QCBD","text":"i had the latest from github yesterday when it was trying to install to \/usr\/bin  with make install","ts":"1470898951.000018"},{"type":"message","user":"U0KPFAZNF","text":"GitHub should be one and only","ts":"1470909728.000019"},{"type":"message","user":"U0KPFAZNF","text":"I could have sworn I merged a patch from <@U0KM61BCP> that switch default install path, hmm","ts":"1470909780.000020"},{"type":"message","user":"U0KPFAZNF","text":"Will have to investigate ","ts":"1470909787.000021"},{"type":"message","user":"U1JB7QCBD","text":"ghaskins: well, i don't have the repo anymore, but I see <https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/Makefile#L3> so it probably was that not \/usr\/bin and my memory is failing me as per usual :slightly_smiling_face:. it still would've required sudo for me.","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/Makefile#L3","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/Makefile#L3","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1470910826.000022"},{"user":"U20RCSSKW","text":"<@U20RCSSKW|mzobe> has joined the channel","type":"message","subtype":"channel_join","ts":"1471006640.000024"},{"user":"U1RL1951R","text":"<@U1RL1951R|alex.moudelos> has joined the channel","type":"message","subtype":"channel_join","ts":"1471534823.000025"},{"user":"U0N0GDVJ5","text":"<@U0N0GDVJ5|nick> has joined the channel","type":"message","subtype":"channel_join","ts":"1471844752.000026"},{"user":"U23GLSTS4","text":"<@U23GLSTS4|jlamiel> has joined the channel","type":"message","subtype":"channel_join","ts":"1471854551.000027"},{"user":"U1TA5FDU7","text":"<@U1TA5FDU7|warm3snow> has joined the channel","type":"message","subtype":"channel_join","ts":"1471997998.000028"},{"user":"U1P52TCE4","text":"<@U1P52TCE4|yoshihara> has joined the channel","type":"message","subtype":"channel_join","ts":"1472005885.000029"},{"user":"U24M29R4G","text":"<@U24M29R4G|nikileshsa> has joined the channel","type":"message","subtype":"channel_join","ts":"1472075733.000030"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP> <@U0KRRM29Z> : <https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/26>","attachments":[{"service_name":"GitHub","title":"Release 0.9.0 by ghaskins \u00b7 Pull Request #26 \u00b7 hyperledger\/fabric-chaintool \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/26","text":"Changes since v0.8.1 Add support for ChaincodeStubInterface (Brad Gorman) Signed-off-by: Greg Haskins <mailto:gregory.haskins@gmail.com|gregory.haskins@gmail.com> @brad-gorman","fallback":"GitHub: Release 0.9.0 by ghaskins \u00b7 Pull Request #26 \u00b7 hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/26","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1472093542.000031"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> saw your note about 0.9.1, note that was just the \u201c-SNAPSHOT\u201d commit","ts":"1472158209.000033"},{"type":"message","user":"U0KPFAZNF","text":"the release was for v0.9.0","edited":{"user":"U0KPFAZNF","ts":"1472158230.000000"},"ts":"1472158216.000034"},{"type":"message","user":"U0KPFAZNF","text":"(you\u2019ll usually see me do that pattern of two commits..one to set the release and a follow up to set the branch up for the _next_ release","ts":"1472158262.000036"},{"type":"message","user":"U0KPFAZNF","text":"but I agree, it presents in an awkward way via PR","ts":"1472158288.000037"},{"type":"message","user":"U0KPFAZNF","text":"FYI, release created","ts":"1472159079.000038"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases\/tag\/v0.9.0>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases\/tag\/v0.9.0","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases\/tag\/v0.9.0","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1472159080.000039"},{"user":"U1CPB11D0","text":"<@U1CPB11D0|dianfu> has joined the channel","type":"message","subtype":"channel_join","ts":"1472175516.000041"},{"type":"message","user":"U1JB7QCBD","text":"is it possible to have the chaintool working inside the docker images?","ts":"1472200569.000042"},{"type":"message","user":"U0KPFAZNF","text":"It's currently installed in the ccenv image, so it's certainly \"possible\".  I'm guessing you are asking for something else, like available in the peer image that is pushed to dockerhub","ts":"1472211957.000043"},{"type":"message","user":"U0KPFAZNF","text":"?","ts":"1472211969.000044"},{"type":"message","user":"U1JB7QCBD","text":"<@U0KPFAZNF> I was not aware of the ccenv image. :disappointed:","ts":"1472214255.000045"},{"type":"message","user":"U1JB7QCBD","text":"<@U0KPFAZNF> and yes, i was curious if i could take the peer image hyperledger builds on the docker hub and autobuild an image on top of it with chaintool support","ts":"1472214299.000046"},{"type":"message","user":"U0KPFAZNF","text":"it should be possible, though we dont (yet) install chaintool in the peer image","ts":"1472214335.000047"},{"type":"message","user":"U1JB7QCBD","text":"ccenv is not on the docker hub?","ts":"1472214381.000048"},{"type":"message","user":"U0KPFAZNF","text":"right now, the only thing that is really fully supported is assuming you are using vagrant\u2026the ability to run everything from a simple \u201cdocker pull\u201d is still emerging","ts":"1472214389.000049"},{"type":"message","user":"U0KPFAZNF","text":"no, but we are working on it","ts":"1472214399.000050"},{"type":"message","user":"U1JB7QCBD","text":"i am not using vagrant either","ts":"1472214409.000051"},{"type":"message","user":"U0KPFAZNF","text":"in fact, a major piece of the puzzle was just merged yesterday","ts":"1472214410.000052"},{"type":"message","user":"U0KPFAZNF","text":"understood, just setting expectations..your use case is reasonable, but not quite ready yet","ts":"1472214431.000053"},{"type":"message","user":"U0KPFAZNF","text":"i expect this to start to look better in the next few weeks","ts":"1472214472.000054"},{"type":"message","user":"U1JB7QCBD","text":"<@U0KPFAZNF> thanks, i was asking because we want to try to make such an image, but I figured better ask first, maybe not possible and the we shouldn't waste time on it","ts":"1472214474.000055"},{"type":"message","user":"U0KPFAZNF","text":"(as I need to get docker based workflow working too)","ts":"1472214481.000056"},{"type":"message","user":"U1JB7QCBD","text":"yeah, that's our goal :smile:","ts":"1472214494.000057"},{"type":"message","user":"U0KPFAZNF","text":"well, help is always welcome, but if you do want to work on it, lets coordinate","ts":"1472214507.000058"},{"type":"message","user":"U0KPFAZNF","text":"avoid duplicate effort, etc","ts":"1472214517.000059"},{"type":"message","user":"U1JB7QCBD","text":"absolutely","ts":"1472214542.000060"},{"type":"message","user":"U0KPFAZNF","text":"ill fill you in on where its at now and where I see it going","ts":"1472214556.000061"},{"type":"message","user":"U0KPFAZNF","text":"so, this is the patch that went in yesterday","ts":"1472214586.000062"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric\/commit\/2eadb11a0dd57d59d9645711a75ee8a0be9876f9>","attachments":[{"service_name":"GitHub","title":"Add versioning support to our applications \u00b7 hyperledger\/fabric@2eadb11 \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/commit\/2eadb11a0dd57d59d9645711a75ee8a0be9876f9","text":"This patch introduces a more robust versioning mechanism, summarized as follows: 1) The top-level makefile defines $PROJECT_VERSION which is intended to be consumed throughout (though some plac...","fallback":"GitHub: Add versioning support to our applications \u00b7 hyperledger\/fabric@2eadb11","thumb_url":"https:\/\/avatars0.githubusercontent.com\/u\/367132?v=3&s=200","from_url":"https:\/\/github.com\/hyperledger\/fabric\/commit\/2eadb11a0dd57d59d9645711a75ee8a0be9876f9","thumb_width":200,"thumb_height":200,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1472214587.000063"},{"type":"message","user":"U0KPFAZNF","text":"the reason it was important (to this conversation) is because (and you may already know this) the peer itself manages docker containers (chaincode is deployed in docker containers)","ts":"1472214630.000065"},{"type":"message","user":"U0KPFAZNF","text":"so, one of the problems with the current setup is that the current peer assumes it can build chaincode containers with a FROM reference that only exists in the local build environment (e.g. vagrant)","ts":"1472214672.000066"},{"type":"message","user":"U0KPFAZNF","text":"it doesnt exist on dockerhub","ts":"1472214677.000067"},{"type":"message","user":"U1JB7QCBD","text":"oh, i see, i was not aware of this","ts":"1472214698.000068"},{"type":"message","user":"U0KPFAZNF","text":"in order to sanely allow something to be pulled from dockerhub, we needed way to associate versions","ts":"1472214699.000069"},{"type":"message","user":"U0KPFAZNF","text":"for instance, peer:v1.0.0 should be using ccenv:v1.0.0, etc","ts":"1472214716.000070"},{"type":"message","user":"U0KPFAZNF","text":"in lockstep","ts":"1472214718.000071"},{"type":"message","user":"U1JB7QCBD","text":"yeah, i understand the need for this","ts":"1472214726.000072"},{"type":"message","user":"U0KPFAZNF","text":"ok, good","ts":"1472214730.000073"},{"type":"message","user":"U0KPFAZNF","text":"so that was the first step","ts":"1472214733.000074"},{"type":"message","user":"U0KPFAZNF","text":"the next step is I want to clean up the image library generation method, and then I want to start having the peer use \u201cccenv\u201d etc, rather than \u201cbaseimage\u201d which was never meant to be used directly","ts":"1472214782.000075"},{"type":"message","user":"U0KPFAZNF","text":"I already fixed CAR\/JAVA types, but the main GOLANG type still needs more work","ts":"1472214824.000076"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/peer\/core.yaml#L280>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/peer\/core.yaml#L280","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/peer\/core.yaml#L280","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1472214825.000077"},{"type":"message","user":"U0KPFAZNF","text":"the goal is that the GOLANG type will probably be similar to the CAR target","ts":"1472214867.000079"},{"type":"message","user":"U0KPFAZNF","text":"(ccenv:$VERSION)","ts":"1472214884.000080"},{"type":"message","user":"U0KPFAZNF","text":"but before we can switch that over, I need to refactor the entire docker image generation pipeline","ts":"1472214910.000081"},{"type":"message","user":"U1JB7QCBD","text":"i was just about to ask, what does the \"library generation method\" mean? and now \"image generation pipeline\", the terminology for me is unclear","ts":"1472214949.000082"},{"type":"message","user":"U1JB7QCBD","text":"the rest i see, although I am not sure how can we  coordinate on this, what is the work that we can do","ts":"1472214991.000083"},{"type":"message","user":"U0KPFAZNF","text":"images are generated primarily in 2 places","ts":"1472214993.000084"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/Makefile#L196>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/Makefile#L196","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/Makefile#L196","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1472214995.000085"},{"type":"message","user":"U0KPFAZNF","text":"and <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/scripts\/provision\/docker.sh>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/scripts\/provision\/docker.sh","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/scripts\/provision\/docker.sh","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1472215032.000087"},{"type":"message","user":"U1JB7QCBD","text":"and you have to change\/refactor this whole Makefile?","ts":"1472215047.000089"},{"type":"message","user":"U0KPFAZNF","text":"well, no, \u201crefactor\u201d is probably too strong of a word here","ts":"1472215061.000090"},{"type":"message","user":"U0KPFAZNF","text":"just minor tweaks to the build process","ts":"1472215071.000091"},{"type":"message","user":"U0KPFAZNF","text":"the \u201cmajor refactoring\u201d would really be w.r.t. the current hierarchy of images","ts":"1472215105.000092"},{"type":"message","user":"U1JB7QCBD","text":"i see","ts":"1472215137.000093"},{"type":"message","user":"U1JB7QCBD","text":"nice hack with the ENV variables btw :smile:","ts":"1472215144.000094"},{"type":"message","user":"U0KPFAZNF","text":"right now it looks something like this: dockerhub:baseimage -&gt; local:baseimage -&gt; local:src -&gt; [ccenv, javaenv, peer, membersrvc]","ts":"1472215147.000095"},{"type":"message","user":"U0KPFAZNF","text":"yeah, that needs to go","ts":"1472215170.000096"},{"type":"message","user":"U0KPFAZNF","text":"have to step away for 5 minute, brb","ts":"1472215213.000097"},{"type":"message","user":"U1JB7QCBD","text":"ok. i will be online for like 3 more hours, and i will have time to discuss this at any point","ts":"1472215240.000098"},{"type":"message","user":"U0KPFAZNF","text":"back","ts":"1472215932.000099"},{"type":"message","user":"U0KPFAZNF","text":"so, the fundamental thing I want to change is #1, nothing at runtime should reference baseimage directly\u2026it should just be a cache for the build to use to speed things up","ts":"1472215992.000100"},{"type":"message","user":"U0KPFAZNF","text":"#2 the way we build fabric-src and then derive everything else is suboptimal","ts":"1472216021.000101"},{"type":"message","user":"U0KPFAZNF","text":"what should happen instead is the chaincode environments (ccenv, javaenv, etc) should only have the shims+tools injected, and the runtime environments (peer, membersrvc) should just volume mount the source for the purposes of building","ts":"1472216077.000102"},{"type":"message","user":"U0KPFAZNF","text":"once those things are done, we can push the suite up to dockerhub (peer, membersrvc, ccenv, javaenv) with their versioned tags, and people can just use standard \u201cdocker pull\u201d like operations and it should all just work","ts":"1472216142.000103"},{"type":"message","user":"U1JB7QCBD","text":"yeah, that sounds really nice","ts":"1472216333.000104"},{"type":"message","user":"U1JB7QCBD","text":"so what do you think I could help you with here?","ts":"1472216342.000105"},{"type":"message","user":"U0KPFAZNF","text":"well, one thing that needs to happen is regarding shims","ts":"1472216756.000106"},{"type":"message","user":"U0KPFAZNF","text":"i think ideally, things like the java and golang shims were in their own repos","ts":"1472216774.000107","reactions":[{"name":"+1","users":["U1JB7QCBD"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"but until that happens, we will have to suffice with extracting the shims out and injecting them into docker containers","ts":"1472216791.000108"},{"type":"message","user":"U0KPFAZNF","text":"one thing I could use help on is develping a script\/tool that can extract the golang shim (or at least a file list)","ts":"1472216817.000109"},{"type":"message","user":"U0KPFAZNF","text":"theres some interesting properties of the \u201cgo list\u201d tool that can likely be exploited","ts":"1472216834.000110"},{"type":"message","user":"U0KPFAZNF","text":"i had written about this in an issue once, let me see if I can find it","ts":"1472216853.000111"},{"type":"message","user":"U0KPFAZNF","text":"here it is: <https:\/\/github.com\/hyperledger-archives\/fabric\/issues\/1581>","attachments":[{"service_name":"GitHub","title":"Deploy transaction is too large and not good for the client SDK \u00b7 Issue #1581 \u00b7 hyperledger-archives\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger-archives\/fabric\/issues\/1581","text":"Description The current deploy transaction as created by the NVP (Non Validating Peer) consists of the chaincode plus dependencies (e.g. shim, etc). The size of the dependencies is large which mak...","fallback":"GitHub: Deploy transaction is too large and not good for the client SDK \u00b7 Issue #1581 \u00b7 hyperledger-archives\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/9592001?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger-archives\/fabric\/issues\/1581","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1472216967.000112"},{"type":"message","user":"U0KPFAZNF","text":"and here is the link I referred to","ts":"1472216983.000114"},{"type":"message","user":"U0KPFAZNF","text":"<http:\/\/dave.cheney.net\/2014\/09\/14\/go-list-your-swiss-army-knife>","ts":"1472216984.000115"},{"type":"message","user":"U0KPFAZNF","text":"it should be possible to use that technique to introspect the golang shim and all of its dependencies for a file list","ts":"1472217028.000116"},{"type":"message","user":"U0KPFAZNF","text":"we can then take that filelist, and inject those files into the ccenv","ts":"1472217043.000117"},{"type":"message","user":"U0KPFAZNF","text":"thats a task that can be easily worked on independently","ts":"1472217059.000118"},{"type":"message","user":"U0KPFAZNF","text":"if you were interested","ts":"1472217063.000119"},{"type":"message","user":"U0KPFAZNF","text":"im envisioning its something like a script in .\/scripts\/getGolangFiles.sh that we can call with a golang package and it will return a list of all the files that this package needs","ts":"1472217158.000120"},{"type":"message","user":"U0KPFAZNF","text":"e.g. \".\/scripts\/getGolangFiles.sh <http:\/\/github.com\/hyperledger\/fabric\/core\/chaincode\/shim|github.com\/hyperledger\/fabric\/core\/chaincode\/shim>\"","ts":"1472217186.000121"},{"type":"message","user":"U0KPFAZNF","text":"we could then use that in the makefile","ts":"1472217201.000122"},{"type":"message","user":"U0KPFAZNF","text":"i have to step out for a little bit, but ill be back online later","ts":"1472217249.000123"},{"type":"message","user":"U0KPFAZNF","text":"let me know if you think you want to tackle that","ts":"1472217257.000124"},{"user":"U25ATRAMB","text":"<@U25ATRAMB|schristie> has joined the channel","type":"message","subtype":"channel_join","ts":"1472219193.000125"},{"user":"U257V93MJ","text":"<@U257V93MJ|u_peter> has joined the channel","type":"message","subtype":"channel_join","ts":"1472219498.000126"},{"type":"message","user":"U25ATRAMB","text":"<@U0KPFAZNF> when loading a protobuf in clojure, how does it find the java protobuf library? Is that through the com.google.protobuf\/protobuf-java dependency of clojure-protobuf? or just somewhere on the classpath?","ts":"1472221970.000127"},{"type":"message","user":"U25ATRAMB","text":"I'm running into an error trying to load a cci compiled with the latest protoc v3.0.0: error: package \ncom.google.protobuf.GeneratedMessageV3 does not exist","ts":"1472222064.000128"},{"type":"message","user":"U0KPFAZNF","text":"<@U25ATRAMB>","ts":"1472222073.000129"},{"type":"message","user":"U0KPFAZNF","text":"opps, sorry, fat fingered the send","ts":"1472222080.000130"},{"type":"message","user":"U0KPFAZNF","text":"its a transitive dep on on the clojars.ghaskins\/protobuf library","ts":"1472222101.000131"},{"type":"message","user":"U0KPFAZNF","text":"ill probably need to update things to the released v3.0.0","ts":"1472222138.000132"},{"type":"message","user":"U0KPFAZNF","text":"im still on the beta, but i am confused how that is mattering","ts":"1472222148.000133"},{"type":"message","user":"U0KPFAZNF","text":"everything should be relatively self contained IIUC","ts":"1472222215.000134"},{"type":"message","user":"U0KPFAZNF","text":"so, this: <https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/project.clj#L20>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/project.clj#L20","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/project.clj#L20","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1472222252.000135"},{"type":"message","user":"U0KPFAZNF","text":"pulls in this: <https:\/\/github.com\/ghaskins\/clojure-protobuf\/blob\/develop\/project.clj#L10>","attachments":[{"service_name":"GitHub","title":"ghaskins\/clojure-protobuf","title_link":"https:\/\/github.com\/ghaskins\/clojure-protobuf\/blob\/develop\/project.clj#L10","text":"clojure-protobuf - Google protocol buffers wrapper for Clojure.","fallback":"GitHub: ghaskins\/clojure-protobuf","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/ghaskins\/clojure-protobuf\/blob\/develop\/project.clj#L10","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1472222276.000137"},{"type":"message","user":"U0KPFAZNF","text":"actually, reading your post again, you clearly already understood this","ts":"1472222317.000139"},{"type":"message","user":"U0KPFAZNF","text":"(sorry)","ts":"1472222321.000140"},{"type":"message","user":"U0KPFAZNF","text":"can you describe the scenario you are seeing in more detail?","ts":"1472222341.000141"},{"type":"message","user":"U0KPFAZNF","text":"unless you are somehow messing with the classpath, it should be only using the beta-3.jar that I baked into the binary","ts":"1472222371.000142"},{"type":"message","user":"U25ATRAMB","text":"from what I understand, when they released the final v3 of protoc \/ protobuf, they changed the class names to be versioned","ts":"1472222589.000143"},{"type":"message","user":"U25ATRAMB","text":"so they're now GeneratedMessageV3 instead of just GeneratedMessage, and it's not backward compatible to the beta3 or earlier versions","ts":"1472222613.000144"},{"type":"message","user":"U25ATRAMB","text":"which is somewhat annoying","ts":"1472222621.000145"},{"type":"message","user":"U25ATRAMB","text":"so your clojure-protobuf library is properly loading the v3.0.0-beta3 jar, but I need to load the final v3.0.0 jar in order to get the compiled protobufs to work","ts":"1472222685.000146"},{"type":"message","user":"U0KPFAZNF","text":"understood on the abi borkage\u2026but what i dont understand is that, IIUC, the chaintool environment should be \"hermetically sealed\" on beta3","ts":"1472222799.000147"},{"type":"message","user":"U0KPFAZNF","text":"can you post the errors you are seeing, including some context as to what you were doing","ts":"1472222830.000148"},{"type":"message","user":"U0KPFAZNF","text":"e.g. were you using \u201cchaintool build\u201d, doing something else? etc","ts":"1472222850.000149"},{"type":"message","user":"U0KPFAZNF","text":"oh, i think I might understand what you are saying now","ts":"1472222889.000150"},{"type":"message","user":"U0KPFAZNF","text":"you are saying the output of the cci -&gt; .proto conversion is not compliant with v3.0.0 as an input?","ts":"1472222914.000151"},{"type":"message","user":"U0KPFAZNF","text":"to protoc, i mean","ts":"1472222928.000152"},{"type":"message","user":"U25ATRAMB","text":"no, it's compliant with protoc as an input","ts":"1472222949.000153"},{"type":"message","user":"U0KPFAZNF","text":"where do things blow up?","ts":"1472222958.000154"},{"type":"message","subtype":"file_share","text":"<@U25ATRAMB|schristie> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/schristie\/F25BRG0N5\/-.txt|Untitled>","file":{"id":"F25BRG0N5","created":1472223031,"timestamp":1472223031,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U25ATRAMB","editable":true,"size":355,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F25BRG0N5\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F25BRG0N5\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/schristie\/F25BRG0N5\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F25BRG0N5-a24eea8590","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/schristie\/F25BRG0N5\/-.txt\/edit","preview":"mkdir -p interfaces\/\r\nchaintool proto registry\/src\/interfaces\/appinit.cci -o interfaces\/appinit.proto\r\n\r\nchaintool proto registry\/src\/interfaces\/registry.cci -o interfaces\/registry.proto\r\n\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>mkdir -p interfaces\/<\/pre><\/div>\n<div><pre>chaintool proto registry\/src\/interfaces\/appinit.cci -o interfaces\/appinit.proto<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<div><pre>chaintool proto registry\/src\/interfaces\/registry.cci -o interfaces\/registry.proto<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":9,"lines_more":4,"preview_is_truncated":false,"channels":["C1JJ6BL5T"],"groups":[],"ims":[],"comments_count":0},"user":"U25ATRAMB","upload":true,"display_as_bot":false,"username":"<@U25ATRAMB|schristie>","bot_id":null,"ts":"1472223032.000155"},{"type":"message","user":"U25ATRAMB","text":"those are the commands my make script runs to generate the java protobufs for my clojure app","ts":"1472223058.000156"},{"type":"message","user":"U25ATRAMB","text":"it works after I made a checkouts version of your clojure-protobuf bumping the protobuf-java version to `[com.google.protobuf\/protobuf-java \"3.0.0\"]`","ts":"1472223111.000157"},{"type":"message","user":"U0KPFAZNF","text":"ok, cool..can you do me a favor and file an issue against chaintool","ts":"1472223319.000158"},{"type":"message","user":"U0KPFAZNF","text":"ill update to the 3.0 release, as I need to anyway","ts":"1472223339.000159"},{"type":"message","user":"U25ATRAMB","text":"is that against chaintool, or clojure-protobuf?","ts":"1472223352.000160"},{"type":"message","user":"U0KPFAZNF","text":"well, both, heh","ts":"1472223357.000161"},{"type":"message","user":"U0KPFAZNF","text":"but clojure-protobuf doesnt really have much governance around it","ts":"1472223373.000162"},{"type":"message","user":"U25ATRAMB","text":"ah","ts":"1472223378.000163"},{"type":"message","user":"U0KPFAZNF","text":"(probably should fix that","ts":"1472223378.000164"},{"type":"message","user":"U0KPFAZNF","text":"i more or less consider them one in the same project","ts":"1472223393.000165"},{"type":"message","user":"U0KPFAZNF","text":"nice to meet a fellow clojurist, though","ts":"1472223444.000166"},{"type":"message","user":"U0KPFAZNF","text":"btw: I was recently forced to learn clojurescript on nodejs because of the hyperledger SDK supporting node\u2026.i have to say, the protobuf environment under clojurescript\/node is 100x better than on clojure\/jvm","ts":"1472223501.000167"},{"type":"message","user":"U0KPFAZNF","text":"the protobuf.js library is awesome\u2026no compilation, does everything with reflection","ts":"1472223534.000168"},{"type":"message","user":"U0KPFAZNF","text":"its awesome","ts":"1472223536.000169"},{"type":"message","user":"U25ATRAMB","text":"interesting","ts":"1472223761.000170"},{"type":"message","user":"U0KPFAZNF","text":"<@U25ATRAMB> you probably already understand this, but in case not: I would recommend naming \u201cregistry.cci\u201d to something more specific (like \u201ccom.acme.registry.cci\"","ts":"1472223787.000171"},{"type":"message","user":"U25ATRAMB","text":"it does seem that protobufs on clojure\/jvm are nearly unused","ts":"1472223788.000172"},{"type":"message","user":"U0KPFAZNF","text":"otherwise, you could conflict with another project someday","ts":"1472223799.000173"},{"type":"message","user":"U0KPFAZNF","text":"yeah, its really poorly supported on clojure, which is unforunate","ts":"1472223827.000174"},{"type":"message","user":"U25ATRAMB","text":"yeah, we should probably do that, though I kinda doubt this PoC will get that far","ts":"1472223832.000175"},{"type":"message","user":"U0KPFAZNF","text":"i hacked that original flatlands project to make the clojure-protobufs lib in use now","ts":"1472223845.000176"},{"type":"message","user":"U0KPFAZNF","text":"it was in bad shape, and I couldnt find any derivatives that were much better","ts":"1472223859.000177"},{"type":"message","user":"U25ATRAMB","text":"I noticed","ts":"1472223864.000178"},{"type":"message","user":"U0KPFAZNF","text":"i think part of the pain points was that v3 was in beta\/flux for so long","ts":"1472223933.000179"},{"type":"message","user":"U0KPFAZNF","text":"now that its stabilized, perhaps the clojure community can make something more tenable","ts":"1472223958.000180"},{"type":"message","user":"U25ATRAMB","text":"yeah, based on the fact that they managed to break things between v3.0.0 beta3 and the final, I'm not surprised","ts":"1472223975.000181"},{"type":"message","user":"U0KPFAZNF","text":"actually the flatlands code that I based on is fairly decent, its just been a huge PITA to deal with the flux in the protobuf community","ts":"1472223996.000182"},{"type":"message","user":"U0KPFAZNF","text":"you will probably appreciate this:","ts":"1472224080.000183"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/examples\/example02\/client\/sdk\/src\/example02\/core.cljs#L20>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/examples\/example02\/client\/sdk\/src\/example02\/core.cljs#L20","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/examples\/example02\/client\/sdk\/src\/example02\/core.cljs#L20","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1472224081.000184"},{"type":"message","user":"U0KPFAZNF","text":"lines 12-20 are really all you need to do in clojurescript\/nodejs to injest a .proto directly","ts":"1472224101.000186"},{"type":"message","user":"U0KPFAZNF","text":"it couldnt be easier","ts":"1472224113.000187"},{"type":"message","user":"U25ATRAMB","text":"I'm almost wondering whether I should have built the whole app in cljs","ts":"1472224345.000188"},{"type":"message","user":"U0KPFAZNF","text":"the cljs language itself is impressively robust and supported\u2026but I think the main thrust of the clojurescript community is on in-browser, not nodejs","ts":"1472224672.000189"},{"type":"message","user":"U0KPFAZNF","text":"so, things are a little rough around the edges","ts":"1472224681.000190"},{"type":"message","user":"U0KPFAZNF","text":"but its doable, I now have 4-5 cljs\/node projects under my belt and am quite pleased with the environment","ts":"1472224709.000191"},{"type":"message","user":"U0KPFAZNF","text":"for example: there is no equivalent to uber.jar","ts":"1472224741.000192"},{"type":"message","user":"U0KPFAZNF","text":"the cljsbuild compiler on the node platform just spits a big mess of .js files","ts":"1472224766.000193"},{"type":"message","user":"U0KPFAZNF","text":"so, packaging, repl, etc, is a little weak compared to jvm clojure","ts":"1472224784.000194"},{"type":"message","user":"U0KPFAZNF","text":"ive mitigated the lack of uber.jar by adopting my own processes on top, but you dont get it out of the can","ts":"1472224835.000195"},{"type":"message","user":"U0KPFAZNF","text":"in the hyperledger context, the key is that you get node-sdk integration","ts":"1472224879.000196"},{"type":"message","user":"U1JB7QCBD","text":"<@U0KPFAZNF> sorry, something came up even though I said I will have time. I read what you wrote, but I will have to dive into it. Maybe in the weekend I will have some time :slightly_smiling_face:. If I understand correctly you want to use `go list` and retrieve the dependencies given by it dynamically at deploy time?","ts":"1472225561.000197"},{"type":"message","user":"U0KPFAZNF","text":"Build time, but yes","ts":"1472225627.000198"},{"type":"message","user":"U0KPFAZNF","text":"For a given go package, return all of the files that need to be present to successfully build, including direct and transitive deps ","ts":"1472225686.000199"},{"type":"message","user":"U0KPFAZNF","text":"I know it does this, just needs to be written","ts":"1472225708.000200"},{"type":"message","user":"U0KPFAZNF","text":"I can then use this to extract the golang shim for the purposes of injecting it into a docker build","edited":{"user":"U0KPFAZNF","ts":"1472225774.000000"},"ts":"1472225752.000201"},{"type":"message","user":"U1JB7QCBD","text":"I will definitely look more into the discussion on the github issue and how to use it, and get back to you monday. I know we will have time for this, but not sure exactly how much, I just know that I would love to avoid the whole vagrant thing. :slightly_smiling_face:","ts":"1472225876.000203"},{"type":"message","user":"U0KPFAZNF","text":"Thanks <@U1JB7QCBD> ","ts":"1472232197.000204"},{"user":"U268EB76W","text":"<@U268EB76W|chainsaw> has joined the channel","type":"message","subtype":"channel_join","ts":"1472573696.000002"},{"user":"U0Y55KNG2","text":"<@U0Y55KNG2|kletkeman> has joined the channel","type":"message","subtype":"channel_join","ts":"1472655062.000003"},{"user":"U1LES78TT","text":"<@U1LES78TT|bgorman> has joined the channel","type":"message","subtype":"channel_join","ts":"1472710079.000004"},{"type":"message","user":"U1LES78TT","text":"does anyone here have an idea as to why `fabric\/examples\/chaincode\/chaintool\/example02\/src\/chaincode\/chaincode_example02.go` would have trouble finding these packages?\nhyperledger\/cci\/appinit \nhyperledger\/cci\/org\/hyperledger\/chaincode\/example02\nhyperledger\/ccs","ts":"1472710199.000005"},{"type":"message","user":"U1LES78TT","text":"I was looking at enabling the example unit tests and ran into this error","ts":"1472710223.000006"},{"type":"message","user":"U1LES78TT","text":"I'm kind of wondering why a chaintool example is in `fabric` rather than `fabric-chaintool` as well (duplicate, unused code?)","ts":"1472710355.000007"},{"type":"message","user":"U0KPFAZNF","text":"Hi Brad, those components are synthesized by chaintool when you do \"chaintool build\" in the example folder. The example was included in fabric because it's used in the UTs","ts":"1472730913.000008"},{"type":"message","user":"U0KPFAZNF","text":"(There is explicit support for chaintool in the fabric code in general)","ts":"1472730949.000009"},{"type":"message","user":"U0KPFAZNF","text":"<@U1LES78TT>: ^^^","ts":"1472730975.000010"},{"type":"message","user":"U1LES78TT","text":"ok, thanks <@U0KPFAZNF> I'll see if I can get `chaintool build` to run over that before the unit tests get invoked on the examples","ts":"1472781451.000011"},{"type":"message","user":"U1LES78TT","text":"In the Makefile I can see chaintool being downloaded, but never actually used... I guess it was just a manual example before","ts":"1472781619.000012"},{"type":"message","user":"U1LES78TT","text":"hmm... not sure I'm doing this right\n\nexamples\/chaincode\/chaintool\/example02\/build\/src\/hyperledger\/cci\/appinit\/server-stub.go:10:2: cannot find package \"hyperledger\/ccs\/api\" in any of:\n        \/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/vendor\/hyperledger\/ccs\/api (vendor tree)\n        \/opt\/go\/src\/hyperledger\/ccs\/api (from $GOROOT)\n        \/opt\/gopath\/src\/hyperledger\/ccs\/api (from $GOPATH)\n\nI can see the files cci and ccs files being generated into examples\/chaincode\/chaintool\/example02\/build\/src\/hyperledger\/ but they need to make it into my $GOPATH somehow","ts":"1472784521.000013"},{"type":"message","user":"U1LES78TT","text":"I'm running `chaintool build` from the `examples\/chaincode\/chaintool\/example02` dir","ts":"1472784618.000014"},{"type":"message","user":"U0KPFAZNF","text":"<@U1LES78TT> thats odd, chaintool is supposed to synthesize the proper GOPATH","ts":"1472785014.000015"},{"type":"message","user":"U0KPFAZNF","text":"i might know what is happening","ts":"1472785030.000016"},{"type":"message","user":"U0KPFAZNF","text":"there was a bug in earlier versions of golang where really long GOPATHs were not handled properly","ts":"1472785044.000017"},{"type":"message","user":"U1LES78TT","text":"echo $GOPATH\n\/opt\/gopath","ts":"1472785066.000018"},{"type":"message","user":"U1LES78TT","text":"is that too long? :slightly_smiling_face:","ts":"1472785070.000019"},{"type":"message","user":"U0KPFAZNF","text":"well, to be clear: the chaintool command will sythesize a dynamic GOPATH in the context of the compiler session","ts":"1472785100.000020"},{"type":"message","user":"U1LES78TT","text":"ah ok","ts":"1472785106.000021"},{"type":"message","user":"U0KPFAZNF","text":"but, if the project happens to be in a really deep path, it ends up setting it to be really long","ts":"1472785126.000022"},{"type":"message","user":"U1LES78TT","text":"go version go1.6 linux\/amd64","ts":"1472785126.000023"},{"type":"message","user":"U0KPFAZNF","text":"in this case, it would include \"examples\/chaincode\/chaintool\/example02\/build\u201d etc","ts":"1472785171.000024"},{"type":"message","user":"U0KPFAZNF","text":"to see if this is the problem, do something like","ts":"1472785180.000025"},{"type":"message","user":"U0KPFAZNF","text":"ln -s path\/to\/chaincode\/example \/tmp\/foo &amp;&amp; cd \/tmp\/foo &amp;&amp; chaintool build","ts":"1472785203.000026"},{"type":"message","user":"U0KPFAZNF","text":"i suspect that will work","ts":"1472785207.000027"},{"type":"message","user":"U1LES78TT","text":"it still installed the cci and ccs under \/tmp\/foo\/build\/src\/hyperledger","ts":"1472785309.000028"},{"type":"message","user":"U1LES78TT","text":"should they have gone into my actual GOPATH too?","ts":"1472785317.000029"},{"type":"message","user":"U0KPFAZNF","text":"no no, thats expected","ts":"1472785325.000030"},{"type":"message","user":"U0KPFAZNF","text":"the tool would have set GOPATH=\/tmp\/foo\/build","ts":"1472785345.000031"},{"type":"message","user":"U0KPFAZNF","text":"which is short enough","ts":"1472785349.000032"},{"type":"message","user":"U0KPFAZNF","text":"same error?","ts":"1472785366.000033"},{"type":"message","user":"U1LES78TT","text":"ok... so it doesn't put the files into my actual GOPATH?","ts":"1472785370.000034"},{"type":"message","user":"U0KPFAZNF","text":"no","ts":"1472785376.000035"},{"type":"message","user":"U0KPFAZNF","text":"they are under .\/build relative to the project","ts":"1472785383.000036"},{"type":"message","user":"U1LES78TT","text":"ok... I don't think they are going to work with `go test` then","ts":"1472785399.000037"},{"type":"message","user":"U0KPFAZNF","text":"not sure I fully understand yet, but thats ok","ts":"1472785430.000038"},{"type":"message","user":"U1LES78TT","text":"I'm trying to add the examples dir to the `make unit-test` invocation","ts":"1472785449.000039"},{"type":"message","user":"U0KPFAZNF","text":"what are you trying to test?  a \u201cchaintool build\u201d + deploy scenario?","ts":"1472785482.000040"},{"type":"message","user":"U1LES78TT","text":"I basically want `go test <http:\/\/github.com\/hyperledger\/examples|github.com\/hyperledger\/examples>` to work","ts":"1472785512.000041"},{"text":"looks","type":"message","subtype":"me_message","user":"U0KPFAZNF","ts":"1472785521.000042"},{"type":"message","user":"U1LES78TT","text":"as part of that it compiles the chaintool example... but that fails because of these cci and ccs packages not being in the normal GOPATH","ts":"1472785550.000043"},{"type":"message","user":"U0KPFAZNF","text":"i see, so you are wanting the \u201cgo test\u201d command to descend down into <https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/examples\/chaincode\/chaintool\/example02\/src\/chaincode> and do something meaningful","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/examples\/chaincode\/chaintool\/example02\/src\/chaincode","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/examples\/chaincode\/chaintool\/example02\/src\/chaincode","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1472785581.000044"},{"type":"message","user":"U1LES78TT","text":"yes... I was more interested in the other examples, but that is getting picked up as well","ts":"1472785613.000046"},{"type":"message","user":"U0KPFAZNF","text":"yeah, its probably not something that is advisable\u2026can we just exclude it from the test suite?","ts":"1472785622.000047"},{"type":"message","user":"U0KPFAZNF","text":"i seem to recall there was an exclusion mechanism, but id have to look","ts":"1472785639.000048"},{"type":"message","user":"U1LES78TT","text":"yep, working on that now","ts":"1472785653.000049"},{"type":"message","user":"U0KPFAZNF","text":"ok, you probably already found this but","ts":"1472785667.000050"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/scripts\/goUnitTests.sh#L22>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/scripts\/goUnitTests.sh#L22","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/scripts\/goUnitTests.sh#L22","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1472785668.000051"},{"type":"message","user":"U0KPFAZNF","text":"just make it more precise to exclude chaintool examples and i think you are ok","ts":"1472785683.000053"},{"type":"message","user":"U1LES78TT","text":"yeah, I took the `grep -v \/examples\/` off, and I am making it more specific :slightly_smiling_face:","ts":"1472785697.000054"},{"type":"message","user":"U0KPFAZNF","text":"cool","ts":"1472785704.000055"},{"type":"message","user":"U0KPFAZNF","text":"logging off for the night, but you seem to be on the right track","ts":"1472785718.000056"},{"type":"message","user":"U1LES78TT","text":"a lot of the examples don't actually compile at the moment.... hence my trying to include them :slightly_smiling_face:","ts":"1472785720.000057"},{"type":"message","user":"U1LES78TT","text":"no worries, thanks for the help","ts":"1472785725.000058"},{"type":"message","user":"U1LES78TT","text":"have a good night :slightly_smiling_face:","ts":"1472785729.000059"},{"type":"message","user":"U0KPFAZNF","text":"a noble (and appreciated) effort","edited":{"user":"U0KPFAZNF","ts":"1472785745.000000"},"ts":"1472785731.000060"},{"user":"U0NLP5909","text":"<@U0NLP5909|hanhzf> has joined the channel","type":"message","subtype":"channel_join","ts":"1473138793.000002"},{"user":"U0NK7T8SH","text":"<@U0NK7T8SH|bryan-huang> has joined the channel","type":"message","subtype":"channel_join","ts":"1473159158.000003"},{"user":"U231RFLFP","text":"<@U231RFLFP|bala.vellanki> has joined the channel","type":"message","subtype":"channel_join","ts":"1473285499.000004"},{"user":"U269P9D8W","text":"<@U269P9D8W|rajeshsubhankar> has joined the channel","type":"message","subtype":"channel_join","ts":"1473486038.000005"},{"type":"message","user":"U0KPFAZNF","text":"<@U0N4D2T61> you mentioned in <#C19ABCKPW|chaincode> that you could help if the project is signed\u2026i wasnt sure what that meant so I wanted to clarify","ts":"1474463627.000006"},{"user":"U0N4D2T61","inviter":"U0KPFAZNF","text":"<@U0N4D2T61|bfuentes> has joined the channel","type":"message","subtype":"channel_join","ts":"1474463632.000007"},{"type":"message","user":"U0KPFAZNF","text":"are you referring to something like a PGP signature on the release? DCO signatures, something else?","ts":"1474463671.000008"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> speaking of, there is some upcoming work on chaintool\u2026perhaps time to get it into gerrit\/jira before any patches really start rolling in","ts":"1474463738.000009"},{"type":"message","user":"U0KPFAZNF","text":"?","ts":"1474463743.000010"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF> I\u2019m ready when you are\u2026 we just need some help from <@U0UHG4VP1>","ts":"1474470100.000011"},{"type":"message","user":"U0KPFAZNF","text":"ok\u2026.i have a relatively high priority fix for the P team ill push onto the current GH and cut v0.9.1","ts":"1474470133.000012"},{"type":"message","user":"U0KPFAZNF","text":"after that, lets move it over","ts":"1474470137.000013"},{"type":"message","user":"U0KM61BCP","text":"would be useful to also track stories in Jira","ts":"1474470141.000014"},{"type":"message","user":"U0KM61BCP","text":"cool","ts":"1474470149.000015"},{"type":"message","user":"U0KPFAZNF","text":"yeah\u2026the biggest unknown right now is, how to host release artifacts","ts":"1474470159.000016"},{"type":"message","user":"U0KPFAZNF","text":"(I currently use the GH release mechanism","ts":"1474470165.000017"},{"type":"message","user":"U0KPFAZNF","text":"i.e. <https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1474470199.000018"},{"type":"message","user":"U0KPFAZNF","text":"its convenient because I can upload the binary which things like fabric just wget into the environment","ts":"1474470233.000020"},{"type":"message","user":"U0KPFAZNF","text":"any thoughts <@U0UHG4VP1> ?","ts":"1474470254.000021"},{"user":"U0UHG4VP1","inviter":"U0KPFAZNF","text":"<@U0UHG4VP1|ry> has joined the channel","type":"message","subtype":"channel_join","ts":"1474470258.000022"},{"type":"message","user":"U0KPFAZNF","text":"one possibility is I just continue to use GH even after its a mirror of gerrit","ts":"1474470287.000023"},{"type":"message","user":"U0KPFAZNF","text":"(not sure id have perms to do that, though)","ts":"1474470295.000024"},{"type":"message","user":"U0KPFAZNF","text":"another is perhaps we fund an S3 resource under the hyperledger umbrella","ts":"1474470355.000025"},{"type":"message","user":"U0KPFAZNF","text":"e.g. <http:\/\/s3.hyperledger.org\/fabric\/chaintool|s3.hyperledger.org\/fabric\/chaintool>","ts":"1474470367.000026"},{"type":"message","user":"U0KPFAZNF","text":"one neat thing about moving it to s3-like is I can envision it being populated by CI","ts":"1474470404.000027"},{"type":"message","user":"U0KPFAZNF","text":"(right now, i manually create\/upload the binaries per release","ts":"1474470417.000028"},{"type":"message","user":"U0KPFAZNF","text":"not sure I could do an automated release with GH releases, though perhaps you can\u2026id have to look into it","ts":"1474470441.000029"},{"type":"message","user":"U0UHG4VP1","text":"we could use Nexus to host artifacts","ts":"1474470971.000030"},{"type":"message","user":"U0UHG4VP1","text":"LF has a Nexus Pro site license now","ts":"1474470981.000031"},{"type":"message","user":"U0KM61BCP","text":"+1 to Nexus out of CI","ts":"1474471421.000032"},{"type":"message","user":"U0KM61BCP","text":"GH release I think would be disabled, <@U0UHG4VP1> would know","ts":"1474471442.000033"},{"type":"message","user":"U0KM61BCP","text":"but the mirrors are pretty locked down","ts":"1474471458.000034"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> I am familiar with nexus in general in the context of maven-coordinate type artifacts\u2026and I know you can upload arbitrary files as a maven coordinate, so I think it works from the CI path perspective","ts":"1474471477.000035"},{"type":"message","user":"U0KPFAZNF","text":"what I am not sure is: would the artifacts be accessible as a simple REST URL for things like curl?","ts":"1474471500.000036"},{"type":"message","user":"U0UHG4VP1","text":"I\u2019ll have to look, I have no familiarity with it operationally","ts":"1474471525.000037"},{"type":"message","user":"U0KPFAZNF","text":"or would it require clients to use maven-like operations?","ts":"1474471526.000038"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1474471530.000039"},{"type":"message","user":"U0KPFAZNF","text":"that would be the last part of the puzzle, I think","ts":"1474471539.000040"},{"type":"message","user":"U0KPFAZNF","text":"(we might even be able to make that work too, but for minimum friction, REST\/curl compatibility would be preferred)","ts":"1474471562.000041"},{"type":"message","user":"U0UHG4VP1","text":"we might also use it for docker publishing","ts":"1474471601.000042"},{"type":"message","user":"U0KPFAZNF","text":"yeah, that would be cool","ts":"1474471608.000043"},{"type":"message","user":"U0KPFAZNF","text":"even if just as an intermediate repository for pipeline stages","ts":"1474471621.000044"},{"type":"message","user":"U0KPFAZNF","text":"(e.g. even if dockerhub still hosts the final artifact)","ts":"1474471631.000045"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> my guess is: you are right about it being locked down","ts":"1474471765.000046"},{"type":"message","user":"U0KPFAZNF","text":"and even if its not enforced ACL wise, it might be a bad idea","ts":"1474471781.000047"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1474471782.000048"},{"type":"message","user":"U0KPFAZNF","text":"we would need to step carefully though\u2026..we risk breaking old versions of the tree if the URL goes away","ts":"1474471820.000049"},{"type":"message","user":"U0KPFAZNF","text":"(even if new releases go somewhere else)","ts":"1474471832.000050"},{"type":"message","user":"U0KPFAZNF","text":"i know GH in general is fairly decent with redirects at least for git when you relocate trees","ts":"1474471880.000051"},{"type":"message","user":"U0KPFAZNF","text":"so, I wonder, if we move the current hyperledger\/fabric-chaintool to hyperledger-archive (move, not re-create), will the release URLs get redirected too?","ts":"1474471918.000052"},{"type":"message","user":"U0KPFAZNF","text":"ill need to experiment","ts":"1474471921.000053"},{"type":"message","user":"U0UHG4VP1","text":"until we create a mirror, yes","ts":"1474471940.000054"},{"type":"message","user":"U0UHG4VP1","text":"once you create a mirror, the redirects are broken","ts":"1474471950.000055"},{"type":"message","user":"U0KPFAZNF","text":"thats my concern","ts":"1474471950.000056"},{"type":"message","user":"U0KPFAZNF","text":"hmm, thats not good","ts":"1474471955.000057"},{"type":"message","user":"U0UHG4VP1","text":"I\u2019m pretty sure that was the result of an experiment we did earlier, no?","ts":"1474472015.000058"},{"type":"message","user":"U0KPFAZNF","text":"things def got severed there, but I was unclear how the repo was moved","ts":"1474472051.000059"},{"type":"message","user":"U0KPFAZNF","text":"things like wiki links broke, i know that","ts":"1474472068.000060"},{"type":"message","user":"U0KPFAZNF","text":"but it could have been how the repo was moved or the mirror (or both, not sure)","ts":"1474472087.000061"},{"type":"message","user":"U0KPFAZNF","text":"my guess is: you are right","ts":"1474472097.000062"},{"type":"message","user":"U0KPFAZNF","text":"regardless of move method, mirror will eclipse the namespace and break things","ts":"1474472122.000063"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP> <@U0KRRM29Z> <https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/29>","attachments":[{"service_name":"GitHub","title":"Explicitly set -server in the JVM options by ghaskins \u00b7 Pull Request #29 \u00b7 hyperledger\/fabric-chaintool \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/29","text":"It was discovered that chaintool would not run on Power systems because the JVM would complain about the -client switch being passed in. This switch was emitted into the JAR preamble script create...","fallback":"GitHub: Explicitly set -server in the JVM options by ghaskins \u00b7 Pull Request #29 \u00b7 hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/29","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1474474307.000064"},{"type":"message","user":"U0KPFAZNF","text":"<@U12V3D2P2> <@U11NUTP4L> <https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases\/tag\/v0.9.1>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases\/tag\/v0.9.1","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases\/tag\/v0.9.1","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1474486938.000066"},{"user":"U12V3D2P2","inviter":"U0KPFAZNF","text":"<@U12V3D2P2|bsmita> has joined the channel","type":"message","subtype":"channel_join","ts":"1474486948.000068"},{"user":"U11NUTP4L","inviter":"U0KPFAZNF","text":"<@U11NUTP4L|srirama_sharma> has joined the channel","type":"message","subtype":"channel_join","ts":"1474486948.000069"},{"type":"message","user":"U0KPFAZNF","text":"ill push the fabric patch to v0.6 now","ts":"1474486966.000070"},{"type":"message","user":"U0KPFAZNF","text":"er, well, next, after I write it","ts":"1474486978.000071"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1474486979.000072"},{"type":"message","user":"U12V3D2P2","text":"Thank you <@U0KPFAZNF>","ts":"1474487471.000073"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1165\/>","ts":"1474487595.000074"},{"user":"U2CSLPV1Q","text":"<@U2CSLPV1Q|hhadass> has joined the channel","type":"message","subtype":"channel_join","ts":"1474492122.000075"},{"user":"U1TMQDYKE","text":"<@U1TMQDYKE|wil.pannell> has joined the channel","type":"message","subtype":"channel_join","ts":"1475011896.000076"},{"user":"U231ZGXDG","text":"<@U231ZGXDG|shukla> has joined the channel","type":"message","subtype":"channel_join","ts":"1475084431.000077"},{"user":"U2DU7F90B","text":"<@U2DU7F90B|mlesswing> has joined the channel","type":"message","subtype":"channel_join","ts":"1475154192.000078"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP> <@U0KRRM29Z> some love at earliest convenience: <https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/30>","attachments":[{"service_name":"GitHub","title":"Upgrade protobuf and java compatibility by ghaskins \u00b7 Pull Request #30 \u00b7 hyperledger\/fabric-chaintool \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/30","text":"We update chaintool to use the released protobuf v3.0.2 as well as java 1.8 Signed-off-by: Greg Haskins <mailto:gregory.haskins@gmail.com|gregory.haskins@gmail.com>","fallback":"GitHub: Upgrade protobuf and java compatibility by ghaskins \u00b7 Pull Request #30 \u00b7 hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/30","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1475174401.000079"},{"user":"U1Z1KQDMM","text":"<@U1Z1KQDMM|rajnair2k> has joined the channel","type":"message","subtype":"channel_join","ts":"1475179775.000081"},{"user":"U2B4QU7U3","text":"<@U2B4QU7U3|karnn> has joined the channel","type":"message","subtype":"channel_join","ts":"1475873435.000082"},{"user":"U0NCW1DPX","text":"<@U0NCW1DPX|gengjh> has joined the channel","type":"message","subtype":"channel_join","ts":"1476167338.000083"},{"user":"U2NRJK00K","text":"<@U2NRJK00K|mattgee> has joined the channel","type":"message","subtype":"channel_join","ts":"1476361861.000084"},{"user":"U2PE37K3J","text":"<@U2PE37K3J|n.ohagan> has joined the channel","type":"message","subtype":"channel_join","ts":"1476453307.000085"},{"user":"U2PE37K3J","text":"<@U2PE37K3J|n.ohagan> has left the channel","type":"message","subtype":"channel_leave","ts":"1476454362.000086"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP> <https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/34>","attachments":[{"service_name":"GitHub","title":"Release 0.10.0 by ghaskins \u00b7 Pull Request #34 \u00b7 hyperledger\/fabric-chaintool \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/34","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: Release 0.10.0 by ghaskins \u00b7 Pull Request #34 \u00b7 hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/34","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1476828841.000087"},{"type":"message","user":"U0KPFAZNF","text":"folds your fix in for incorporation into the convergence branch","ts":"1476828856.000089"},{"type":"message","user":"U0KPFAZNF","text":"I tested it by running a build against our 1839 environmebnt","ts":"1476828902.000090"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KPFAZNF> thanks, merged","ts":"1476829573.000091"},{"type":"message","user":"U0KPFAZNF","text":"ty","ts":"1476829579.000092"},{"type":"message","user":"U0ULK2JPP","text":"we need to update the fabric too, yes ?","ts":"1476829585.000093"},{"type":"message","user":"U0KPFAZNF","text":"ill push the tag","ts":"1476829585.000094"},{"type":"message","user":"U0KPFAZNF","text":"yes, ill make a CR on top of 1839 that re-enables the test and ups the version number","ts":"1476829606.000095"},{"type":"message","user":"U0KPFAZNF","text":"i have to make the release on GH first","ts":"1476829610.000096"},{"type":"message","user":"U0ULK2JPP","text":"right","ts":"1476829628.000097"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1476829629.000098"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases\/tag\/v0.10.0>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases\/tag\/v0.10.0","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases\/tag\/v0.10.0","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1476829875.000099"},{"user":"U2SK7FU68","text":"<@U2SK7FU68|habpy> has joined the channel","type":"message","subtype":"channel_join","ts":"1477317167.000101"},{"user":"U1M9R3C8Z","text":"<@U1M9R3C8Z|rascal> has joined the channel","type":"message","subtype":"channel_join","ts":"1477320992.000102"},{"user":"U0UHG4VP1","text":"<@U0UHG4VP1|ry> has left the channel","type":"message","subtype":"channel_leave","ts":"1477443504.000103"},{"user":"U2ZACGWNS","text":"<@U2ZACGWNS|matt.shams> has joined the channel","type":"message","subtype":"channel_join","ts":"1478289548.000104"},{"user":"U2FQG0FD1","text":"<@U2FQG0FD1|jens_fr> has joined the channel","type":"message","subtype":"channel_join","ts":"1478523698.000105"},{"user":"U1TA5FDU7","text":"<@U1TA5FDU7|warm3snow> has left the channel","type":"message","subtype":"channel_leave","ts":"1478680254.000106"},{"user":"U1D89DP47","text":"<@U1D89DP47|subzer0> has joined the channel","type":"message","subtype":"channel_join","ts":"1478981791.000107"},{"user":"U32ND8W73","text":"<@U32ND8W73|emtrevin> has joined the channel","type":"message","subtype":"channel_join","ts":"1479313997.000108"},{"user":"U36SX65UN","text":"<@U36SX65UN|meghana> has joined the channel","type":"message","subtype":"channel_join","ts":"1480304405.000109"},{"type":"message","user":"U36SX65UN","text":"HI,\nI am getting below error when i tried hitting command\n\nvagrant@ubuntu:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ make peer\ncurl: (7) Failed to connect to 192.168.0.2 port 3128: Connection timed out\n\nCan someone help me in resolving this?","ts":"1480304411.000110"},{"user":"U0MS3TK2A","text":"<@U0MS3TK2A|nao> has left the channel","type":"message","subtype":"channel_leave","ts":"1481219213.000002"},{"user":"U3CMTAX18","text":"<@U3CMTAX18|joee> has joined the channel","type":"message","subtype":"channel_join","ts":"1481277374.000003"},{"user":"U0KQ9QKH6","text":"<@U0KQ9QKH6|pmullaney> has joined the channel","type":"message","subtype":"channel_join","ts":"1481915569.000004"},{"user":"U1V6SJ1FF","text":"<@U1V6SJ1FF|dgorman> has joined the channel","type":"message","subtype":"channel_join","ts":"1482399415.000005"},{"user":"U3ENCLLUA","text":"<@U3ENCLLUA|sibelius> has joined the channel","type":"message","subtype":"channel_join","ts":"1482782077.000006"},{"type":"message","user":"U0KPFAZNF","text":"<@U3ENCLLUA> as <@U0ULK2JPP> mentioned, CCI is a chain-code-interface file, as part of the chaintool utility","ts":"1482787411.000007"},{"type":"message","user":"U0KPFAZNF","text":"and yes, it works on v0.6 though you will want to use the v0.9.1 release","ts":"1482787424.000008"},{"type":"message","user":"U0KPFAZNF","text":"v0.10.0 has some 1.0 isms in it","ts":"1482787431.000009"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1482787455.000010"},{"user":"U1WMX1P71","text":"<@U1WMX1P71|ramykamel> has joined the channel","type":"message","subtype":"channel_join","ts":"1482800271.000012"},{"type":"message","user":"U3ENCLLUA","text":"tks for the  answer","ts":"1482833583.000013"},{"user":"U3DKG7M54","text":"<@U3DKG7M54|rahulhegde> has joined the channel","type":"message","subtype":"channel_join","ts":"1483536431.000014"},{"type":"message","user":"U3DKG7M54","text":"As per documentation, chaintool package is used to develop, package and deploy the user chaincode. will this be one of the OR the standard tool for assisting in chaincode development life cycle for v1.0 architecture?","edited":{"user":"U3DKG7M54","ts":"1483536600.000000"},"ts":"1483536584.000015"},{"type":"message","user":"U0KPFAZNF","text":"<@U3DKG7M54> that depends on users like you adopting it","ts":"1483539864.000017"},{"type":"message","user":"U0KPFAZNF","text":"I am biased, of course...i would love for it to become the standard way to develop chaincode, and I designed it with that in mind","ts":"1483539895.000018"},{"type":"message","user":"U0KPFAZNF","text":"that said, the community needs to adopt it","ts":"1483539900.000019"},{"type":"message","user":"U0KPFAZNF","text":"fwiw, my team uses it internally for all of our projects","ts":"1483539931.000020"},{"type":"message","user":"U3DKG7M54","text":"thanks <@U0KPFAZNF>; Let me try using it on *v1.0 architecture* using <https:\/\/github.com\/hyperledger\/fabric-chaintool\/tree\/master\/examples\/example02> as hello-world.","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/tree\/master\/examples\/example02","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/tree\/master\/examples\/example02","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1483540850.000021"},{"type":"message","user":"U0KPFAZNF","text":"<@U3DKG7M54> cool...I know one weak spot right now is SDK support...you will have the least friction using the devmode deployment model","ts":"1483540895.000023","reactions":[{"name":"+1","users":["U3DKG7M54"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"(or, really I should say, using any deployment model other than via SDK)","ts":"1483540917.000024"},{"type":"message","user":"U0KPFAZNF","text":"\"peer chaincode deploy\" CLI should work too","ts":"1483540934.000025"},{"type":"message","user":"U0KPFAZNF","text":"but I use devmode for most things these days","ts":"1483540943.000026"},{"type":"message","user":"U0KPFAZNF","text":"feel free to ping with any questions or feedback","ts":"1483540951.000027"},{"type":"message","user":"U0KPFAZNF","text":"<@U3DKG7M54> also note that you will want chaintool v0.9.1 for the v0.6 fabric release, and v0.10.0 for master","ts":"1483541036.000028"},{"type":"message","user":"U0KPFAZNF","text":"(v0.10.0 is also the latest release","ts":"1483541046.000029"},{"type":"message","user":"U3DKG7M54","text":"Yes this  help - I want to try this on Master Branch (v1.0 architecture). I will use the CLI approach to deploy.","ts":"1483541135.000030"},{"type":"message","user":"U0KPFAZNF","text":"cool...also note that the REST api was deprecated in the master branch, so the REST based clients are not likely to work","ts":"1483541255.000031"},{"type":"message","user":"U0KPFAZNF","text":"ill try to get the example updated with the latest SDK for master ASAP","ts":"1483541290.000032"},{"type":"message","user":"U0KPFAZNF","text":"(sorry, master is still wet-bits)","ts":"1483541325.000033"},{"type":"message","user":"U0KPFAZNF","text":"fwiw, everything def works on v0.6, as I have multiple POCs based on it","ts":"1483541342.000034"},{"type":"message","user":"U3DKG7M54","text":"thanks - peer YML disables REST by default though. I need to try this on v1.0.","ts":"1483541410.000035"},{"type":"message","user":"U3DKG7M54","text":"I understand here - u have tried this on Master branch and using peer CLI interface","ts":"1483541449.000036"},{"type":"message","user":"U0KPFAZNF","text":"actually, no.  Everytime I sit down to try to go through and qualify the new stuff I get distracted by some othe fire","ts":"1483541611.000037"},{"type":"message","user":"U0KPFAZNF","text":"i desperately want to get this qualified on 1.0 though","ts":"1483541621.000038"},{"type":"message","user":"U3DKG7M54","text":"I am exploring different methodology for deploying chaincode, can you please check. Do you have the CLI CL documentation available for reference.","edited":{"user":"U3DKG7M54","ts":"1483541896.000000"},"ts":"1483541791.000039"},{"type":"message","user":"U0KPFAZNF","text":"ill try to take a look...i suspect that build\/deployment works fine","ts":"1483541955.000041"},{"type":"message","user":"U0KPFAZNF","text":"the issue is going to be SDK examples","ts":"1483541965.000042"},{"type":"message","user":"U0KPFAZNF","text":"I need to port the current example to the new SDK","ts":"1483541980.000043"},{"type":"message","user":"U0KPFAZNF","text":"I think operationally, everything you need would be supported with the following exceptions","ts":"1483541998.000044"},{"type":"message","user":"U0KPFAZNF","text":"1) cant use the SDK to deploy (use devmode or CLI as discussed as a workaround)","ts":"1483542013.000045"},{"type":"message","user":"U0KPFAZNF","text":"2) no functioning example of a client with the new SDK","ts":"1483542023.000046"},{"type":"message","user":"U0KPFAZNF","text":"however, that said, you could take the node client (<https:\/\/github.com\/hyperledger\/fabric-chaintool\/tree\/master\/examples\/example02\/client\/rest\/nodejs>)","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/tree\/master\/examples\/example02\/client\/rest\/nodejs","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/tree\/master\/examples\/example02\/client\/rest\/nodejs","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1483542065.000047"},{"type":"message","user":"U0KPFAZNF","text":"and work it into the SDK examples","ts":"1483542082.000049"},{"type":"message","user":"U0KPFAZNF","text":"the main thing is you basically need to take a standard client, and integrate the .proto stuff in so you can talk to the chaintool based chaincode","ts":"1483542110.000050"},{"type":"message","user":"U0KPFAZNF","text":"if you look at the node example here: <https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/examples\/example02\/client\/rest\/nodejs\/index.js>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/examples\/example02\/client\/rest\/nodejs\/index.js","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/examples\/example02\/client\/rest\/nodejs\/index.js","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1483542143.000051"},{"type":"message","user":"U0KPFAZNF","text":"its primarily lines 4-10 to load the .proto","ts":"1483542160.000053"},{"type":"message","user":"U0KPFAZNF","text":"and then things like line 26 to encode","ts":"1483542176.000054"},{"type":"message","user":"U0KPFAZNF","text":"and thats it...other than that, its a vanilla SDK client example","ts":"1483542189.000055"},{"type":"message","user":"U0KPFAZNF","text":"ill try to get the SDK example in the tree ported ASAP","ts":"1483542232.000056"},{"type":"message","user":"U3DKG7M54","text":"Ok - let me understand the process too - I checked the chaincode and I don't see invoke\/query function. Not sure if this be wrapper by CCI interface 'query' alike section. I will post more question once I go through it.","ts":"1483542900.000057"},{"type":"message","user":"U3DKG7M54","text":"for now the above information is good enough to start!","ts":"1483543031.000058"},{"type":"message","user":"U3DKG7M54","text":"thanks <@U0KPFAZNF>.","ts":"1483543040.000059"},{"type":"message","user":"U0KPFAZNF","text":"<@U3DKG7M54> thats correct, chaintool will write the query\/invoke for you","ts":"1483543643.000060"},{"type":"message","user":"U0KPFAZNF","text":"basically you define in the interface (as a .cci file) and then chaintool will write the minutiae that deals with the query\/invoke calls, checking parameters, etc","ts":"1483543702.000061"},{"type":"message","user":"U0KPFAZNF","text":"you just write the functions that you declare in the CCI","ts":"1483543714.000062"},{"user":"U1Y4P0HM4","text":"<@U1Y4P0HM4|yangtao76> has joined the channel","type":"message","subtype":"channel_join","ts":"1483544630.000063"},{"user":"U2BFLDMEE","text":"<@U2BFLDMEE|mikkop> has joined the channel","type":"message","subtype":"channel_join","ts":"1484049671.000064"},{"user":"U17CZFXGU","text":"<@U17CZFXGU|plucena> has joined the channel","type":"message","subtype":"channel_join","ts":"1484234381.000065"},{"user":"U3QPATC07","text":"<@U3QPATC07|rachweb2> has joined the channel","type":"message","subtype":"channel_join","ts":"1484241739.000066"},{"user":"U3MBTR5KK","text":"<@U3MBTR5KK|tsluthra> has joined the channel","type":"message","subtype":"channel_join","ts":"1484668621.000067"},{"type":"message","user":"U25ATRAMB","text":"hey all; I'm running into a bug that may or may not be chaintool related. I can run and deploy my chaincode, and run all of the invoke transactions, but any time I do a query I get this error: \n```Error handling message: [dd955c2b-f4e6-4d34-9aa1-febe2926d542]Chaincode handler FSM cannot handle message (RANGE_QUERY_STATE) with payload size (36) while in state: ready```","ts":"1484779802.000068"},{"type":"message","user":"U25ATRAMB","text":"This is old code that I had written last summer and am now trying to get working again, so it's quite possible that it has to do with changes in the new fabric stuff","ts":"1484779869.000069"},{"user":"U3U4Y046B","text":"<@U3U4Y046B|gammavega> has joined the channel","type":"message","subtype":"channel_join","ts":"1484787062.000070"},{"type":"message","user":"U0KPFAZNF","text":"<@U25ATRAMB> it sounds like its unrelated, but sometimes failures of incongruence can be misleading","ts":"1484793310.000071"},{"type":"message","user":"U0KPFAZNF","text":"can you tell me about your environment?","ts":"1484793322.000072"},{"type":"message","user":"U0KPFAZNF","text":"e.g. what version of fabric, what version of chaintool, etc ?","ts":"1484793332.000073"},{"type":"message","user":"U25ATRAMB","text":"<@U0KPFAZNF> I'm running the latest version of chaintool (chaintool version: v0.10.1-SNAPSHOT), built myself, and the hyperledger\/fabric-peer docker image which seems to be ~3mo old","ts":"1484839314.000074"},{"type":"message","user":"U25ATRAMB","text":"Fabric peer server version 0.6.1-preview","ts":"1484839344.000075"},{"type":"message","user":"U0KPFAZNF","text":"<@U25ATRAMB> by \"the .. docker image\" I assume you mean the v0.6.1-preview release on dockerhub?","ts":"1484839348.000076"},{"type":"message","user":"U25ATRAMB","text":"apparently","ts":"1484839356.000077"},{"type":"message","user":"U25ATRAMB","text":"is there a newer or better one to use?","ts":"1484839368.000078"},{"type":"message","user":"U0KPFAZNF","text":"ok, part of the story is likely that v0.6.1 requires chaintool v0.9.1","ts":"1484839373.000079"},{"type":"message","user":"U0KPFAZNF","text":"0.10.0 is geared towards mainline","ts":"1484839387.000080"},{"type":"message","user":"U0KPFAZNF","text":"(once we hit v1.0 I plan to do a better job of ABI compatibility)","ts":"1484839403.000081"},{"type":"message","user":"U25ATRAMB","text":"do you recommend upgrading my fabric, or downgrading my chaintool?","ts":"1484839529.000082"},{"type":"message","user":"U25ATRAMB","text":"and is there a mainline docker image?","ts":"1484839554.000083"},{"user":"U3TNHH1NW","text":"<@U3TNHH1NW|dknochen> has joined the channel","type":"message","subtype":"channel_join","ts":"1484840361.000084"},{"type":"message","user":"U0KPFAZNF","text":"right now, if you are trying to develop on top of fabric, I would advise v0.6 fabric and 0.9.1 chaintool","ts":"1484853172.000085"},{"type":"message","user":"U0KPFAZNF","text":"if you are trying to develop fabric itself, then master and v0.10.0","ts":"1484853187.000086"},{"type":"message","user":"U0KPFAZNF","text":"(though note that chaintool has not yet been qualified on master, I am working on that this week","ts":"1484853207.000087"},{"user":"U2UNR91RB","text":"<@U2UNR91RB|bmatsuo> has joined the channel","type":"message","subtype":"channel_join","ts":"1485156609.000088"},{"type":"message","user":"U2UNR91RB","text":"Hi all, I am trying to build the 'invoker' example to run on fabric v0.6.1 (chaintool 0.9.1 as suggested above) but I get this error \"too many arguments in call to stub.InvokeChaincode\"","ts":"1485156926.000089"},{"type":"message","subtype":"file_share","text":"<@U2UNR91RB|bmatsuo> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/bmatsuo\/F3VKKJZT8\/_invoker__build_output.txt|\"invoker\" build output>","file":{"id":"F3VKKJZT8","created":1485156953,"timestamp":1485156953,"name":"_invoker__build_output.txt","title":"\"invoker\" build output","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U2UNR91RB","editable":true,"size":2274,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3VKKJZT8\/_invoker__build_output.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3VKKJZT8\/download\/_invoker__build_output.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/bmatsuo\/F3VKKJZT8\/_invoker__build_output.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3VKKJZT8-a76c4b1a0f","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/bmatsuo\/F3VKKJZT8\/_invoker__build_output.txt\/edit","preview":"vagrant@hyperledger-devenv:v0.0.11-e6ff0ff:~\/fabric-chaintool\/examples\/invoker$ chaintool build\r\nBuild using configuration for  .\/\r\n[CCI] parse org.hyperledger.chaincode.example02\r\n[CCI] parse appinit\r\n[PB] protoc --go_out=\/home\/vagrant\/fabric-chaintool\/examples\/invoker\/build\/src\/hyperledger\/cci\/org\/hyperledger\/chaincode\/example02 --proto_path=\/home\/vagrant\/fabric-chaintool\/examples\/invoker\/build\/src\/hyperledger\/cci\/org\/hyperledger\/chaincode\/example02 \/home\/vagrant\/fabric-chaintool\/examples\/invoker\/build\/src\/hyperledger\/cci\/org\/hyperledger\/chaincode\/example02\/interface.proto\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>vagrant@hyperledger-devenv:v0.0.11-e6ff0ff:~\/fabric-chaintool\/examples\/invoker$ chaintool build<\/pre><\/div>\n<div><pre>Build using configuration for  .\/<\/pre><\/div>\n<div><pre>[CCI] parse org.hyperledger.chaincode.example02<\/pre><\/div>\n<div><pre>[CCI] parse appinit<\/pre><\/div>\n<div><pre>[PB] protoc --go_out=\/home\/vagrant\/fabric-chaintool\/examples\/invoker\/build\/src\/hyperledger\/cci\/org\/hyperledger\/chaincode\/example02 --proto_path=\/home\/vagrant\/fabric-chaintool\/examples\/invoker\/build\/src\/hyperledger\/cci\/org\/hyperledger\/chaincode\/example02 \/home\/vagrant\/fabric-chaintool\/examples\/invoker\/build\/src\/hyperledger\/cci\/org\/hyperledger\/chaincode\/example02\/interface.proto<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":20,"lines_more":15,"preview_is_truncated":true,"channels":["C1JJ6BL5T"],"groups":[],"ims":[],"comments_count":0},"user":"U2UNR91RB","upload":true,"display_as_bot":false,"username":"<@U2UNR91RB|bmatsuo>","bot_id":null,"ts":"1485156954.000090"},{"type":"message","user":"U2UNR91RB","text":"It seems to me like the generated code is out of sync with the shim interface? But I also just wonder if there is something wrong with my development setup...","edited":{"user":"U2UNR91RB","ts":"1485159767.000000"},"ts":"1485157037.000091"},{"type":"message","user":"U2UNR91RB","text":"I looked into building using a different release of chaintool, but I didn't see any promising looking ones on github","ts":"1485157318.000092"},{"type":"message","subtype":"file_share","text":"<@U25ATRAMB|schristie> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/schristie\/F3V7RAE69\/init_interface_error.txt|Init interface error> and commented: I built chaintool v0.9.1 and tried to use it to build my chaincode, but I am now getting the following error:","file":{"id":"F3V7RAE69","created":1485185563,"timestamp":1485185563,"name":"Init_interface_error.txt","title":"Init interface error","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U25ATRAMB","editable":true,"size":470,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3V7RAE69\/init_interface_error.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3V7RAE69\/download\/init_interface_error.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/schristie\/F3V7RAE69\/init_interface_error.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3V7RAE69-d14cd4e62f","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/schristie\/F3V7RAE69\/init_interface_error.txt\/edit","preview":"Error: # hyperledger\/ccs\r\nbuild\/src\/hyperledger\/ccs\/entrypoint.go:125: cannot use handler (type *stubHandler) as type shim.C\r\nhaincode in argument to shim.Start:                                                              \r\n        *stubHandler does not implement shim.Chaincode (wrong type for Init method)\r\n                have Init(shim.ChaincodeStubInterface, string, []string) ([]byte, error)\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Error: # hyperledger\/ccs<\/pre><\/div>\n<div><pre>build\/src\/hyperledger\/ccs\/entrypoint.go:125: cannot use handler (type *stubHandler) as type shim.C<\/pre><\/div>\n<div><pre>haincode in argument to shim.Start:                                                              <\/pre><\/div>\n<div><pre>        *stubHandler does not implement shim.Chaincode (wrong type for Init method)<\/pre><\/div>\n<div><pre>                have Init(shim.ChaincodeStubInterface, string, []string) ([]byte, error)<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":6,"lines_more":1,"preview_is_truncated":false,"channels":["C1JJ6BL5T"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc3UELNUQ1","created":1485185563,"timestamp":1485185563,"user":"U25ATRAMB","is_intro":true,"comment":"I built chaintool v0.9.1 and tried to use it to build my chaincode, but I am now getting the following error:","channel":""}},"user":"U25ATRAMB","upload":true,"display_as_bot":false,"username":"<@U25ATRAMB|schristie>","bot_id":null,"ts":"1485185563.000094"},{"type":"message","user":"U25ATRAMB","text":"It almost seems like the automatic fetch of dependencies for hyperledger that chaintool does while building may be getting an incompatible version of the fabric?","ts":"1485185618.000095"},{"type":"message","user":"U25ATRAMB","text":"because it looks like it wants the interface that is used in <https:\/\/github.com\/hyperledger\/fabric-chaintool\/commit\/03f80380ef4c2887e68cc124b0ca2d088561e01d>","ts":"1485185729.000096"},{"type":"message","user":"U25ATRAMB","text":"I suppose there could be a problem with my chaincode; it builds fine with v0.10.1, but that doesn't mean it's compatible with v0.9.1","ts":"1485187825.000097"},{"type":"message","user":"U25ATRAMB","text":"the only changes I thought I made though were to switch from *shim.ChaincodeStub to shim.ChaincodeStubInterface, and to use the new empty parameter feature","ts":"1485187889.000098"},{"type":"message","user":"U25ATRAMB","text":"both of those seem to be merged in before the 0.9.1 release","ts":"1485187909.000099"},{"type":"message","user":"U25ATRAMB","text":"ok, I got it to work; just had to replace the version of fabric in the build\/deps directory with the actual v0.6 version","ts":"1485191642.000100"},{"type":"message","user":"U25ATRAMB","text":"since it automatically pulls master, which is now v1","ts":"1485191658.000101"},{"type":"message","user":"U0KPFAZNF","text":"<@U25ATRAMB> yeah, I think it its current form, it is assuming you have the fabric that you want to work with already in the GOPATH","ts":"1485207033.000102"},{"type":"message","user":"U0KPFAZNF","text":"I have some ideas on how to improve the user experience in that regard, but its not there yet","ts":"1485207049.000103"},{"type":"message","user":"U0KPFAZNF","text":"on a slight tangent to this: i did get chaintool working on master over the weekend","ts":"1485207083.000104"},{"type":"message","user":"U0KPFAZNF","text":"(need a bunch of patches upstreamed in various projects before this will be readily available, though","ts":"1485207103.000105"},{"type":"message","user":"U0KPFAZNF","text":"including fabric, ca, and sdk","ts":"1485207117.000106"},{"type":"message","user":"U0KPFAZNF","text":"but its close","ts":"1485207120.000107"},{"type":"message","user":"U0KPFAZNF","text":"hopefully have all the substrate pushed upstream in the next week","ts":"1485207148.000108"},{"type":"message","user":"U0KPFAZNF","text":"one important note: I was forced to make a decision about the CCI schema on account of some changes in v1.0","ts":"1485207175.000109"},{"type":"message","user":"U0KPFAZNF","text":"unlike previous versions of fabric which had a distinct notion of Invoke() and Query(), master only has Invoke()","ts":"1485207202.000110"},{"type":"message","user":"U0KPFAZNF","text":"thus, I made the decision to collapse the transaction\/queries sections in the grammar into one unified \"functions\" block","ts":"1485207223.000111"},{"type":"message","user":"U0KPFAZNF","text":"this is of course one of many divergent ABI changes in 1.0 compared to v0.6 and earlier, but something to be aware of","ts":"1485207260.000112"},{"type":"message","user":"U0KPFAZNF","text":"<@U2UNR91RB> sorry, i had missed your messages earlier","ts":"1485207340.000113"},{"type":"message","user":"U0KPFAZNF","text":"are you sorted?","ts":"1485207344.000114"},{"type":"message","user":"U2UNR91RB","text":"<@U0KPFAZNF> I never got an out-of-the-box release of fabric-chaintool to build the \"invoker\" example using fabric v0.6.1. I ended up forking fabric-chaintool and branching of the v0.9.x branch to make the generated Go code build. <https:\/\/github.com\/bmatsuo\/fabric-chaintool\/commit\/fd4aabdfe296a4b6aded59348d8ac091a220a089>","attachments":[{"service_name":"GitHub","title":"Golang generator matches shim interface for fabric v0.6.1 \u00b7 bmatsuo\/fabric-chaintool@fd4aabd \u00b7 GitHub","title_link":"https:\/\/github.com\/bmatsuo\/fabric-chaintool\/commit\/fd4aabdfe296a4b6aded59348d8ac091a220a089","text":"The generator was expecting an incorrect signature for the following methods on ChaincodeStubInterface: InvokeChaincode(chaincodeName string, args [][]byte) ([]byte, error) QueryChaincode(...","fallback":"GitHub: Golang generator matches shim interface for fabric v0.6.1 \u00b7 bmatsuo\/fabric-chaintool@fd4aabd","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/15089?v=3&s=200","from_url":"https:\/\/github.com\/bmatsuo\/fabric-chaintool\/commit\/fd4aabdfe296a4b6aded59348d8ac091a220a089","thumb_width":200,"thumb_height":200,"service_icon":"https:\/\/a.slack-edge.com\/bfaba\/img\/unfurl_icons\/github.png","id":1}],"ts":"1485207702.000115"},{"type":"message","user":"U0KPFAZNF","text":"<@U2UNR91RB> its possible that the example has some bitrot","ts":"1485207758.000117"},{"type":"message","user":"U2UNR91RB","text":"I figured that may be the case","ts":"1485207769.000118"},{"type":"message","user":"U0KPFAZNF","text":"I think example02 _should_ build if the environment is ok, so that is a good sanity check","ts":"1485207783.000119"},{"type":"message","user":"U0KPFAZNF","text":"if you find that example02 builds and invoker doesnt, please file an issue","ts":"1485207804.000120"},{"type":"message","user":"U2UNR91RB","text":"OK. I have had example02 working before.","ts":"1485207816.000121"},{"type":"message","user":"U0KPFAZNF","text":"if example02 doesnt build, ping me back and we can see if I can get you sorted out","ts":"1485207821.000122"},{"type":"message","user":"U2UNR91RB","text":"I will get it working again to test and follow up","ts":"1485207825.000123"},{"type":"message","user":"U0KPFAZNF","text":"ok, thanks (and sorry)","ts":"1485207832.000124"},{"type":"message","user":"U2UNR91RB","text":"No problem. Thanks for the help.","ts":"1485207839.000125"},{"type":"message","user":"U0KPFAZNF","text":"I can definitively say that v0.9.1 chaintool _should_ work with v0.6.1-preview release, as I have numerous projects built on that combo","ts":"1485207902.000126"},{"type":"message","user":"U0KPFAZNF","text":"so i suspect its just the example went neglected","ts":"1485207931.000127"},{"type":"message","user":"U0KPFAZNF","text":"ill try to take a look","ts":"1485207941.000128"},{"type":"message","user":"U2UNR91RB","text":"Ah. That confirmation is helpful. Thanks :slightly_smiling_face:","ts":"1485207962.000129"},{"user":"U3VDLN47L","text":"<@U3VDLN47L|chen.nie> has joined the channel","type":"message","subtype":"channel_join","ts":"1485218183.000130"},{"user":"U1934J6RX","text":"<@U1934J6RX|iamsamwood> has joined the channel","type":"message","subtype":"channel_join","ts":"1485221263.000131"},{"type":"message","user":"U2UNR91RB","text":"<@U0KPFAZNF> I do have chaintool v0.9.1 building example02 in my environment with fabric v0.6.1 (I can interact using client\/rest\/cljs). The invoker example is still failing to build with the same error output I included originally. From what you have told me it does seem like this a bug during generation of the client-stub.go file on the v0.9.x branch of fabric-chaintoo (which I fixed in the commit I linked above). I'm happy to submit the commit I referenced as a pull-request, though right now I'm not very clear on the contribution process.","ts":"1485225006.000132"},{"type":"message","user":"U0KPFAZNF","text":"<@U2UNR91RB> right now, chaintool still uses GH issues\/PRs","ts":"1485225042.000133"},{"type":"message","user":"U0KPFAZNF","text":"if you know what I mean by that, go ahead and submit an issue and then a PR against it","ts":"1485225057.000134"},{"type":"message","user":"U0KPFAZNF","text":"if not, I can direct you appropriately","ts":"1485225067.000135"},{"type":"message","user":"U2UNR91RB","text":"OK. That sounds easy enough","ts":"1485225078.000136"},{"type":"message","user":"U0KPFAZNF","text":"(and thank you)","ts":"1485225090.000137"},{"type":"message","user":"U2UNR91RB","text":"I was mostly wondering if there was a JIRA workflow that needed to be followed","ts":"1485225094.000138"},{"type":"message","user":"U0KPFAZNF","text":"well, i have an outstanding issue to integrate with jira\/gerrit\/jenkins","ts":"1485225128.000139"},{"type":"message","user":"U0KPFAZNF","text":"actually, you can likely use JIRA rather than GH issue","ts":"1485225139.000140"},{"type":"message","user":"U0KPFAZNF","text":"not sure if there is a chaintool category yet","ts":"1485225146.000141"},{"type":"message","user":"U2UNR91RB","text":"I'm more comfortable with GH if that is fine with you","ts":"1485225167.000142"},{"type":"message","user":"U0KPFAZNF","text":"main thing is that gerrit\/jenkins flow isnt in place yet, so its still uses GH PRs and TravisCI","ts":"1485225170.000143"},{"type":"message","user":"U2UNR91RB","text":"But either way works","ts":"1485225171.000144"},{"type":"message","user":"U0KPFAZNF","text":"thats fine","ts":"1485225176.000145"},{"type":"message","user":"U2UNR91RB","text":"Great :slightly_smiling_face:","ts":"1485225188.000146"},{"type":"message","user":"U2UNR91RB","text":"I will work on putting together an issue with the proper description and reproduction info","ts":"1485225230.000147"},{"type":"message","user":"U0KPFAZNF","text":"im guessing there was some bitrot that crept into the client-side generator template?","ts":"1485225242.000148"},{"type":"message","user":"U0KPFAZNF","text":"ty, appreciated","ts":"1485225247.000149"},{"type":"message","user":"U2UNR91RB","text":"Yea... The invoker example doesn't even have a client.. So i'm not sure it was ever really being tested","ts":"1485225268.000150"},{"type":"message","user":"U0KPFAZNF","text":"I can tell you it was not, at least not in an automated way","ts":"1485225292.000151"},{"type":"message","user":"U2UNR91RB","text":"Well, I guess you would use the example02 client...","ts":"1485225303.000152"},{"type":"message","user":"U0KPFAZNF","text":"I think I just wrote it, confirmed it built (at the time) and there it stayed","ts":"1485225307.000153"},{"type":"message","user":"U0KPFAZNF","text":"yeah, you can drive it from example02 client, IIRC","ts":"1485225320.000154"},{"type":"message","user":"U2UNR91RB","text":"I never really thought about it. I have an actual use case I'm trying to work through.. I'm not just trying to get examples working","edited":{"user":"U2UNR91RB","ts":"1485225342.000000"},"ts":"1485225333.000155"},{"type":"message","user":"U0KPFAZNF","text":"thats awesome","ts":"1485225343.000157"},{"type":"message","user":"U0KPFAZNF","text":"actually, i am just thrilled someone is using chaintool at all","ts":"1485225356.000158"},{"type":"message","user":"U2UNR91RB","text":":smile:","ts":"1485225361.000159"},{"type":"message","user":"U0KPFAZNF","text":"we use it extensively, but I dont get a lot of external feedback","ts":"1485225367.000160"},{"type":"message","user":"U0KPFAZNF","text":"though I can see there are some GH stars\/forks, so _someone_ is looking at it","ts":"1485225400.000161"},{"type":"message","user":"U0KPFAZNF","text":"just never sure if silence is satisfied customers, or disinterest :wink:","ts":"1485225427.000162"},{"type":"message","user":"U2UNR91RB","text":"Heh","ts":"1485225440.000163"},{"type":"message","user":"U0KPFAZNF","text":"but anyway, will gladly take your fix for the invoker use case, so thanks again","ts":"1485225467.000164"},{"type":"message","user":"U2UNR91RB","text":"Would it be OK to make GH issues regarding enhancements\/feature requests?","ts":"1485225503.000165"},{"type":"message","user":"U0KPFAZNF","text":"of course, there are some of both types already there","ts":"1485225515.000166"},{"type":"message","user":"U2UNR91RB","text":"Cool","ts":"1485225522.000167"},{"type":"message","user":"U0KPFAZNF","text":"my advice is, i would post it and then ping me here with an @mention","ts":"1485225536.000168"},{"type":"message","user":"U0KPFAZNF","text":"i tend to miss the GH emaisl","ts":"1485225541.000169"},{"type":"message","user":"U2UNR91RB","text":"I understand","ts":"1485225547.000170"},{"type":"message","user":"U2UNR91RB","text":"Thanks","ts":"1485225551.000171"},{"type":"message","user":"U0KPFAZNF","text":"np, and thank you","ts":"1485225563.000172"},{"type":"message","user":"U2UNR91RB","text":"Unfortunately I am not very good with clojure, myself. So my ability to dive into the fabric-chaintool code and implement enhancements is quite limited. In this case, luckily, I was able to bypass learning clojure and just edit a template :wink:","ts":"1485225753.000173"},{"type":"message","user":"U0KPFAZNF","text":"not a problem","ts":"1485226068.000174"},{"type":"message","user":"U0KPFAZNF","text":"though that has been a cool part of the project...a lot of the features have been implemented just in the EBNF or STG grammars with the clojure core not needing any changes","ts":"1485226110.000175","reactions":[{"name":"+1","users":["U2UNR91RB"],"count":1}]},{"type":"message","user":"U2UNR91RB","text":"<@U0KPFAZNF>: I created an issue to describe the bug in chaintool I encountered <https:\/\/github.com\/hyperledger\/fabric-chaintool\/issues\/35>","attachments":[{"service_name":"GitHub","title":"[v0.9.1] Generated client-stub.go invocation\/query code does not match shim.ChaincodeStubInterface method signatures. \u00b7 Issue #35 \u00b7 hyperledger\/fabric-chaintool \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/issues\/35","text":"Fabric Version: v0.6.1-preview Chaintool Version: v0.9.1 Chaincode: invoker example on branch v0.9.x (link) OS\/Arch: Linux\/amd64 (fabric devenv VM) Command: chaintool build Expected Output: Success...","fallback":"GitHub: [v0.9.1] Generated client-stub.go invocation\/query code does not match shim.ChaincodeStubInterface method signatures. \u00b7 Issue #35 \u00b7 hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/15089?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/issues\/35","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/bfaba\/img\/unfurl_icons\/github.png","id":1}],"ts":"1485258177.000176"},{"type":"message","user":"U0KPFAZNF","text":"<@U2UNR91RB> ty","ts":"1485258189.000178"},{"type":"message","user":"U2UNR91RB","text":"Sorry there was a delay","ts":"1485258191.000179"},{"type":"message","user":"U0KPFAZNF","text":"not at all, that was fast to me","ts":"1485258203.000180"},{"type":"message","user":"U2UNR91RB","text":"I'll get a pull request open sometime today","ts":"1485258236.000181"},{"type":"message","user":"U0KPFAZNF","text":"cool...if you dont mind, pls submit it to the v0.9.x branch","ts":"1485258359.000182"},{"type":"message","user":"U2UNR91RB","text":"Of course","ts":"1485258367.000183"},{"type":"message","user":"U0KPFAZNF","text":"and dont worry about master, I need to re-work things there for v1.0 ABI anyway","ts":"1485258383.000184"},{"type":"message","user":"U2UNR91RB","text":"That is where I branched my fix off","ts":"1485258386.000185"},{"type":"message","user":"U0KPFAZNF","text":"ill take care of merging your patch out when its ready","ts":"1485258391.000186"},{"type":"message","user":"U2UNR91RB","text":"Cool. Thanks","ts":"1485258416.000187"},{"type":"message","user":"U2UNR91RB","text":"<@U0KPFAZNF>, now that I have chaintool bulding the invoker example, I am actually a little unsure how to 'deploy' it","ts":"1485306200.000188"},{"type":"message","user":"U2UNR91RB","text":"(in order to test my PR)","ts":"1485306211.000189"},{"type":"message","user":"U2UNR91RB","text":"You mentioned that the the example02 client (rest\/cljs) could be used to interact with the invoker chaincode. That is mostly true but it does not allow me to deploy the invoker because the two chaincodes have different appinit.cci contents.","ts":"1485306312.000190"},{"type":"message","user":"U2UNR91RB","text":"Am I missing something?","ts":"1485306330.000191"},{"type":"message","user":"U2UNR91RB","text":"I have tried using `peer chaincode deploy -n invoker -c '{\"Args\":[\"init\", \"example02\"]}'` as the current fabric docs would suggest is possible. But I see an error in the peer logs which seem to indicate that the peer requires the second element of \"Args\" to be a base64 encoded protobuf message.","ts":"1485306484.000192"},{"type":"message","user":"U2UNR91RB","text":"I have always deployed my own chaincodes through clients which perform the translation from JSON to base64-encoded-protobuf (as the example02 cljs client does). So I don't have much experience working in the absence of such a client.","edited":{"user":"U2UNR91RB","ts":"1485306651.000000"},"ts":"1485306619.000193"},{"type":"message","user":"U0KPFAZNF","text":"You are running into a limitation where in the current state of things, chaintool may only be used in devmode","ts":"1485306845.000195"},{"type":"message","user":"U0KPFAZNF","text":"I am actively working on updating the SDK in master to address this, fwiw","ts":"1485306876.000196"},{"type":"message","user":"U0KPFAZNF","text":"You can deploy car via CLI though, so a workaround could be to wrap the CLI for deploy","ts":"1485306924.000197"},{"type":"message","user":"U0KPFAZNF","text":"All other functions are supported in the v0.6.5 HFC node SDK ","ts":"1485306976.000198"},{"type":"message","user":"U0KPFAZNF","text":"Oh wait","ts":"1485307002.000199"},{"type":"message","user":"U2UNR91RB","text":"I am starting my peer with `peer node start --peer-chaincodedev`","ts":"1485307003.000200"},{"type":"message","user":"U0KPFAZNF","text":"I'm sorry.  I forgot that v0.6 also supports rest","ts":"1485307018.000201"},{"type":"message","user":"U0KPFAZNF","text":"So if you look in the examples, there's a way to deploy via rest iirc","ts":"1485307043.000202"},{"type":"message","user":"U0KPFAZNF","text":"Ok perfect","ts":"1485307051.000203"},{"type":"message","user":"U0KPFAZNF","text":"That's the most supported way","ts":"1485307060.000204"},{"type":"message","user":"U0KPFAZNF","text":"So now, you just need to fire in the encoded appinit to deploy","ts":"1485307086.000205"},{"type":"message","user":"U0KPFAZNF","text":"See the examples","ts":"1485307092.000206"},{"type":"message","user":"U2UNR91RB","text":"The fabric-chaintool examples only interact with chaincode using the client program","ts":"1485307135.000207"},{"type":"message","user":"U0KPFAZNF","text":"Are you familiar with non-chaintool devmode deploy?","ts":"1485307146.000208"},{"type":"message","user":"U2UNR91RB","text":"I have been deploying car files for a while now.. But I am not sure how that will solve my problem","ts":"1485307174.000209"},{"type":"message","user":"U0KPFAZNF","text":"i might be confused","ts":"1485307204.000210"},{"type":"message","user":"U0KPFAZNF","text":"(and sorry, i am fighting a nasty head cold today","ts":"1485307213.000211"},{"type":"message","user":"U0KPFAZNF","text":"a little foggy","ts":"1485307216.000212"},{"type":"message","user":"U2UNR91RB","text":"No problem","ts":"1485307218.000213"},{"type":"message","user":"U0KPFAZNF","text":"so, how have you been deploying in the past?","ts":"1485307228.000214"},{"type":"message","user":"U2UNR91RB","text":"Well, I used the rest\/cljs client as an example and have been writing clients for all my chaincode","ts":"1485307267.000215"},{"type":"message","user":"U2UNR91RB","text":"So I call `myclient` and give it an Init message in JSON format, it turns it into a protobuf, base64-encodes that, and calls the fabric rest API","ts":"1485307315.000216"},{"type":"message","user":"U0KPFAZNF","text":"yep, that sounds right","ts":"1485307344.000217"},{"type":"message","user":"U2UNR91RB","text":"I'm actually working on a CLI generator","ts":"1485307344.000218"},{"type":"message","user":"U2UNR91RB","text":"Because it has been a pain","ts":"1485307354.000219"},{"type":"message","user":"U2UNR91RB","text":"To do for every cc app","edited":{"user":"U2UNR91RB","ts":"1485307383.000000"},"ts":"1485307377.000220"},{"type":"message","user":"U0KPFAZNF","text":"yeah, ive thought of doing something similar...the way nodejs supports protobufs with reflection makes that a possibility","ts":"1485307381.000221"},{"type":"message","user":"U2UNR91RB","text":"Yea.. I've been using Go, which has the same functionality","ts":"1485307399.000223"},{"type":"message","user":"U2UNR91RB","text":"It is certainly possible","ts":"1485307404.000224"},{"type":"message","user":"U0KPFAZNF","text":"you could conceivably do something like \"mycli -proto path\/to\/my.proto -invoke --input Foo --output Bar \"{ foo:bar, baz:bat }\"","ts":"1485307475.000225"},{"type":"message","user":"U2UNR91RB","text":"Yea...","ts":"1485307489.000226"},{"type":"message","user":"U0KPFAZNF","text":"go supports .proto reflection?","ts":"1485307492.000227"},{"type":"message","user":"U0KPFAZNF","text":"i didnt know that, thats cool","ts":"1485307498.000228"},{"type":"message","user":"U2UNR91RB","text":"I found a project called polyglot which does something like that for grpc","ts":"1485307502.000229"},{"type":"message","user":"U0KPFAZNF","text":"ah, very cool","ts":"1485307509.000230"},{"type":"message","user":"U0KPFAZNF","text":"thanks for the pointer","ts":"1485307517.000231"},{"type":"message","user":"U2UNR91RB","text":"<https:\/\/godoc.org\/github.com\/golang\/protobuf\/jsonpb>","attachments":[{"title":"Package jsonpb","title_link":"https:\/\/godoc.org\/github.com\/golang\/protobuf\/jsonpb","text":"Package jsonpb provides marshaling and unmarshaling between protocol buffers and JSON.","fallback":"Package jsonpb","from_url":"https:\/\/godoc.org\/github.com\/golang\/protobuf\/jsonpb","service_icon":"https:\/\/godoc.org\/favicon.ico","service_name":"godoc.org","id":1}],"ts":"1485307536.000232"},{"type":"message","user":"U0KPFAZNF","text":"anyway, back to your problem","ts":"1485307553.000234"},{"type":"message","user":"U2UNR91RB","text":"I'm not sure how it does it, but it does work","ts":"1485307556.000235"},{"type":"message","user":"U0KPFAZNF","text":"so, i havent looked at invoker for a while, but IIRC it takes the ccid of the thing it will proxy in its init","ts":"1485307592.000236"},{"type":"message","user":"U2UNR91RB","text":"Right. That's my problem","ts":"1485307620.000237"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/examples\/invoker\/src\/interfaces\/appinit.cci>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/examples\/invoker\/src\/interfaces\/appinit.cci","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/examples\/invoker\/src\/interfaces\/appinit.cci","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1485307627.000238"},{"type":"message","user":"U2UNR91RB","text":"I can't easily get the Init message to the invoker cc","ts":"1485307653.000240"},{"type":"message","user":"U0KPFAZNF","text":"if you deploy example02 as \"primary\" and invoker as \"secondary\", initialize invoker with appinit{ address: primary }","ts":"1485307668.000241"},{"type":"message","user":"U2UNR91RB","text":"Yea. Sure.","ts":"1485307687.000242"},{"type":"message","user":"U0KPFAZNF","text":"oh, why not?","ts":"1485307695.000243"},{"type":"message","user":"U2UNR91RB","text":"I just need to create the protobuf message somehow","ts":"1485307697.000244"},{"type":"message","user":"U2UNR91RB","text":"I'm not actually sure how to do that without using a cli","ts":"1485307706.000245"},{"type":"message","user":"U0KPFAZNF","text":"well, how are you deploying the others?","ts":"1485307709.000246"},{"type":"message","user":"U2UNR91RB","text":"By writing these CLI programs to turn JSON like `{\"address\": \"primary\"}` into a protobuf","ts":"1485307734.000247"},{"type":"message","user":"U0KPFAZNF","text":"im not sure what I am missing: thats what I would have expected","ts":"1485307758.000248"},{"type":"message","user":"U2UNR91RB","text":"I just don't have a tool to create the protobuf","ts":"1485307786.000249"},{"type":"message","user":"U0KPFAZNF","text":"how did you write the other CLI programs?","ts":"1485307825.000250"},{"type":"message","user":"U0KPFAZNF","text":"i guess reading between the lines: you are saying: you know how to write CLI programs to do it, but you cant use one here?","ts":"1485307856.000251"},{"type":"message","user":"U2UNR91RB","text":"I just want to show in my PR that the invoker works. So I'm trying to compile a minimal sequence of commands that, say, you could reproduce to ensure that my code actually works","ts":"1485307869.000252"},{"type":"message","user":"U0KPFAZNF","text":"oh, i get you","ts":"1485307884.000253"},{"type":"message","user":"U0KPFAZNF","text":"not sure you can do it without something like a javascript file","ts":"1485307954.000254"},{"type":"message","user":"U0KPFAZNF","text":"but if you want to ensure it doesnt break","ts":"1485307974.000255"},{"type":"message","user":"U2UNR91RB","text":"I can write a one-off script to do the deploy and test things myself","ts":"1485307984.000256"},{"type":"message","user":"U0KPFAZNF","text":"one thing you could do is hack the nodejs script, get the string values, and capture them","ts":"1485307988.000257"},{"type":"message","user":"U0KPFAZNF","text":"then integrate the captured values in a UT","edited":{"user":"U0KPFAZNF","ts":"1485308024.000000"},"ts":"1485308002.000258"},{"type":"message","user":"U0KPFAZNF","text":"i have to get my kids to bed...ill be on in a bit","ts":"1485308032.000260"},{"type":"message","user":"U2UNR91RB","text":"OK. Thanks for the help. Sorry we got so lost in the weeds there","ts":"1485308050.000261"},{"type":"message","user":"U0KPFAZNF","text":"heh, no problem, its probably me","ts":"1485308058.000262"},{"type":"message","user":"U0KPFAZNF","text":"im so groggy today","ts":"1485308065.000263"},{"type":"message","user":"U0KPFAZNF","text":"bbiab","ts":"1485308076.000264"},{"type":"message","user":"U2UNR91RB","text":"I hope you feel better soon","ts":"1485308099.000265"},{"type":"message","user":"U2UNR91RB","text":"<@U0KPFAZNF> Thanks for the fast response. So I need to include the DCO signed-off-by on every commit present in the PR?","ts":"1485310847.000266"},{"type":"message","user":"U0KPFAZNF","text":"for GH, you can just comment in the PR","ts":"1485310914.000267"},{"type":"message","user":"U0KPFAZNF","text":"(in gerrit, yes, each patch)","ts":"1485310921.000268"},{"type":"message","user":"U2UNR91RB","text":"Oh. OK. Great","ts":"1485310938.000269"},{"type":"message","user":"U0KPFAZNF","text":"chaintool will likely move to gerrit soon to get parity with the rest of the project","ts":"1485310949.000270"},{"type":"message","user":"U0KPFAZNF","text":"but for now...","ts":"1485310951.000271"},{"type":"message","user":"U2UNR91RB","text":"Sure. I imagine there is a way to set my local git config for the repo to sign off on every commit message from now on..","ts":"1485311004.000272"},{"type":"message","user":"U2UNR91RB","text":"Well, I left a comment on the PR. I hope that worked.","ts":"1485311096.000273"},{"type":"message","user":"U0KPFAZNF","text":"yes, if you use \"-s\" for git-commit, it will add one for you","ts":"1485311434.000274"},{"type":"message","user":"U0KPFAZNF","text":"in fact, i very rarely do _not_ use -s","ts":"1485311449.000275"},{"type":"message","user":"U0KPFAZNF","text":"thanks for the patch: ill pull it down tomorrow and merge it if all goes well","ts":"1485311486.000276"},{"type":"message","user":"U0KPFAZNF","text":"thanks again, and also thanks for the excellent issue writeup","ts":"1485311495.000277"},{"type":"message","user":"U2UNR91RB","text":"Thanks for all your help <@U0KPFAZNF>","ts":"1485311640.000278"},{"type":"message","user":"U0KPFAZNF","text":"anytime","ts":"1485311684.000279"},{"type":"message","user":"U2UNR91RB","text":"<@U0KPFAZNF>: Heads up, I created a new fabric-chaintool issue. Let me know what you think. <https:\/\/github.com\/hyperledger\/fabric-chaintool\/issues\/37>","attachments":[{"service_name":"GitHub","title":"Add &quot;chaintool env&quot; command \u00b7 Issue #37 \u00b7 hyperledger\/fabric-chaintool \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/issues\/37","text":"I like to edit Go projects in the vim\/nvim text editor, for which I have installed the \"vim-go\" plugin installed. But, this doesn't work very well by default when I am working on chaintool-based ch...","fallback":"GitHub: Add \"chaintool env\" command \u00b7 Issue #37 \u00b7 hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/15089?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/issues\/37","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/bfaba\/img\/unfurl_icons\/github.png","id":1}],"ts":"1485428835.000280","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U2UNR91RB","text":"<@U0KPFAZNF>: does `chaintool build` set any other Go-related environment variables? if so I probably should have included that in my issue description -- printing other relevant variables on subsequent lines","ts":"1485437418.000282"},{"type":"message","user":"U0KPFAZNF","text":"I dont think so, but if it does ill include them all","ts":"1485437474.000283"},{"type":"message","user":"U2UNR91RB","text":"Awesome","ts":"1485437491.000284"},{"type":"message","user":"U0KPFAZNF","text":"i plan on making \"env\" work with a project (e.g. cwd, or -p path\/to\/project) so it can factor in the type of project you are compiling, etc","ts":"1485437538.000285"},{"type":"message","user":"U0KPFAZNF","text":"is that what you had in mind?","ts":"1485437545.000286"},{"type":"message","user":"U2UNR91RB","text":"Yea. I thought about it.. seems a nice-to-have. I wasn't considering it a requirement though.","ts":"1485437595.000287"},{"type":"message","user":"U0KPFAZNF","text":"right now we only have golang, but that might change in the future","ts":"1485437599.000288"},{"type":"message","user":"U2UNR91RB","text":"Ah right.. I guess I was fairly presumptuous about it only being Go variables :wink:","ts":"1485437648.000289"},{"type":"message","user":"U0KPFAZNF","text":"not at all, i just read that as \"for example","ts":"1485437691.000290"},{"type":"message","user":"U0KPFAZNF","text":"it might be the kind of thing that golang is the only platform that needs envvars, and then the command is a no-op for other platforms, but that is fine","ts":"1485437726.000291"},{"type":"message","user":"U0KPFAZNF","text":"actually come to think of it: it _has_ to know the project or I cant formulate the paths properly :wink:","ts":"1485437750.000292"},{"type":"message","user":"U2UNR91RB","text":"Hrm. I'm not sure if GOPATH works with relative paths or not","ts":"1485437781.000293"},{"type":"message","user":"U0KPFAZNF","text":"well, what I mean is: if you need to include build\/deps, I have to know the full path to set the envvar","ts":"1485437813.000294"},{"type":"message","user":"U0KPFAZNF","text":"etc etc","ts":"1485437830.000295"},{"type":"message","user":"U0KPFAZNF","text":"anyway, this is trivial","ts":"1485437844.000296"},{"type":"message","user":"U2UNR91RB","text":"Yea. I'm not completely following. But what I do understand makes it seem inconsequential.. I think we are basically on the same page","ts":"1485437889.000297"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1485437930.000298"},{"type":"message","user":"U2UNR91RB","text":"As long as it doesn't force me to pass in an absolute path I don't think it's a big deal","ts":"1485437944.000299"},{"type":"message","user":"U0KPFAZNF","text":"well, if you were in the project cwd, \"chaintool env\" would do the right thing","ts":"1485437965.000300"},{"type":"message","user":"U2UNR91RB","text":"Ok. That sounds fine to me","ts":"1485437989.000301"},{"type":"message","user":"U0KPFAZNF","text":"if outside, you could still do \"chaintool env -p path\/to\/project\"","ts":"1485438008.000302"},{"type":"message","user":"U0KPFAZNF","text":"but that doesnt sound like your use case","ts":"1485438017.000303"},{"type":"message","user":"U2UNR91RB","text":"Not really, but my point is similar","ts":"1485438035.000304"},{"type":"message","user":"U2UNR91RB","text":"I don't think path\/to\/project should need to be absolute (starting from \"\/\"), but it looks like that is not your intention either","ts":"1485438069.000305"},{"type":"message","user":"U0KPFAZNF","text":"its not","ts":"1485438080.000306"},{"type":"message","user":"U0KPFAZNF","text":"-p accepts relative paths","ts":"1485438084.000307"},{"type":"message","user":"U2UNR91RB","text":"Cool","ts":"1485438091.000308"},{"type":"message","user":"U0KPFAZNF","text":"but when I synthesize the GOPATH, i use fqps","ts":"1485438097.000309"},{"type":"message","user":"U0KPFAZNF","text":"(IIRC)","ts":"1485438105.000310"},{"type":"message","user":"U2UNR91RB","text":"I don't see a problem with that","ts":"1485438109.000311"},{"type":"message","user":"U0KPFAZNF","text":"ok, cool","ts":"1485438112.000312"},{"type":"message","user":"U2UNR91RB","text":":+1:","ts":"1485438119.000313"},{"type":"message","user":"U0KPFAZNF","text":"All I was saying earlier is that I have to use FQPs in the GOPATH, so I therefore need to know where the project is","ts":"1485438149.000314"},{"type":"message","user":"U2UNR91RB","text":"Ah","ts":"1485438160.000315"},{"type":"message","user":"U2UNR91RB","text":"OK. I didn't know if `go` accepted relative paths in GOPATH","ts":"1485438176.000316"},{"type":"message","user":"U0KPFAZNF","text":"(as opposed to possibly allowing the command to run anywhere without knowing your chaincode.yaml)","ts":"1485438177.000317"},{"type":"message","user":"U0KPFAZNF","text":"I dont think so, but I could be mistaken","ts":"1485438186.000318"},{"type":"message","user":"U2UNR91RB","text":"Might be worth trying, but I'm not sure it's really a big deal.","ts":"1485438213.000319"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1485438220.000320"},{"type":"message","user":"U2UNR91RB","text":"I'm not sure what the use case there is","ts":"1485438221.000321"},{"type":"message","user":"U0KPFAZNF","text":"right, me either actually","ts":"1485438229.000322"},{"type":"message","user":"U2UNR91RB","text":"Getting the chaincode env for non-chaincode directories...","ts":"1485438232.000323"},{"type":"message","user":"U2UNR91RB","text":"I guess I might try it to satisfy my own curiosity at some point.. But it sounds like always outputing fqps is fine.","ts":"1485438298.000324","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"user":"U3X6RA34J","inviter":"U0KPFAZNF","text":"<@U3X6RA34J|archivebot> has joined the channel","type":"message","subtype":"channel_join","ts":"1485529393.000325"},{"type":"message","user":"U0KPFAZNF","text":"test","ts":"1485529413.000326"},{"type":"message","user":"U2UNR91RB","text":"<@U0KPFAZNF> I created another enhancement request for fabric-chaintool <https:\/\/github.com\/hyperledger\/fabric-chaintool\/issues\/38>","attachments":[{"service_name":"GitHub","title":"Expose the mapping from function ids to Tx\/Query names for the chaincode application to use \u00b7 Issue #38 \u00b7 hyperledger\/fabric-chaintool \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/issues\/38","text":"This desire is mostly based around logging. I want (some) log messages from the chaincode to state the chaincode-operation they are a part of. Currently, I can only log stub.GetStringArgs()[0], whi...","fallback":"GitHub: Expose the mapping from function ids to Tx\/Query names for the chaincode application to use \u00b7 Issue #38 \u00b7 hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/15089?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/issues\/38","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/bfaba\/img\/unfurl_icons\/github.png","id":1}],"ts":"1485529768.000327","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"ty, keep them coming","ts":"1485529799.000329"},{"type":"message","user":"U0KPFAZNF","text":"ill try to get to your patch today too","ts":"1485529803.000330"},{"type":"message","user":"U2UNR91RB","text":"Oh. That would be great honestly.","ts":"1485529820.000331"},{"type":"message","user":"U2UNR91RB","text":"I either need a release binary from the upstream project or I need to build myself a binary to put on S3","ts":"1485529845.000332"},{"type":"message","user":"U2UNR91RB","text":"It's not a big deal either way, not worth rushing you over","ts":"1485529901.000333"},{"type":"message","user":"U0KPFAZNF","text":"ok, will shoot for that","ts":"1485529993.000334"},{"type":"message","user":"U0KPFAZNF","text":"regarding Issue 38, chaintool def has all that info, its just a matter of how it is exposed","ts":"1485530012.000335"},{"type":"message","user":"U0KPFAZNF","text":"help me to understand your use case","ts":"1485530019.000336"},{"type":"message","user":"U0KPFAZNF","text":"from the context, I assume you are trying to log something in your chaincode via the stub parameters?","ts":"1485530046.000337"},{"type":"message","user":"U2UNR91RB","text":"Well yea. I'm trying to attach useful info to log message for debugging\/auditing purposes","ts":"1485530077.000338"},{"type":"message","user":"U0KPFAZNF","text":"(as an aside, I had been planning on adding general logging to the emitted code","ts":"1485530080.000339"},{"type":"message","user":"U2UNR91RB","text":"Ah","ts":"1485530090.000340"},{"type":"message","user":"U0KPFAZNF","text":"if I automatically generated debug logs for the function\/parameters, would that cover what you are after?","ts":"1485530104.000341"},{"type":"message","user":"U2UNR91RB","text":"Well logging from within generated chaintool code would help, though in general I would want more","ts":"1485530108.000342"},{"type":"message","user":"U0KPFAZNF","text":"then you dont have to write anything, the code generator can tackle","ts":"1485530114.000343"},{"type":"message","user":"U0KPFAZNF","text":"ok, if I passed you some additional context object (say MyCCFunc(stub, ctctx, ... )","ts":"1485530170.000344"},{"type":"message","user":"U2UNR91RB","text":"Ok. here is an example...","ts":"1485530186.000345"},{"type":"message","user":"U0KPFAZNF","text":"and the ctctx had extra info in it for decoding, would that help?","ts":"1485530189.000346"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1485530190.000347"},{"type":"message","user":"U2UNR91RB","text":"Say chaincode B wants to invoke chaincode A","ts":"1485530202.000348"},{"type":"message","user":"U2UNR91RB","text":"And it wants to tell chaincode A what function in B caused the transaction in A","ts":"1485530234.000349"},{"type":"message","user":"U0KPFAZNF","text":"i see","ts":"1485530250.000350"},{"type":"message","user":"U0KPFAZNF","text":"the only way I can think to do that would be to carry perhaps a meta parameter, which I think we can do","ts":"1485530276.000351"},{"type":"message","user":"U2UNR91RB","text":"I'm not sure I understand what you mean by a meta parameter","ts":"1485530300.000352"},{"type":"message","user":"U0KPFAZNF","text":"e.g. I current stuff the function parameters in arg[0] (well, really arg[1] in master since they got rid of the function name)","ts":"1485530306.000353"},{"type":"message","user":"U0KPFAZNF","text":"what I am saying is, I could add an optional arg[2], and if its there, it could be decoded","ts":"1485530333.000354"},{"type":"message","user":"U2UNR91RB","text":"hrm","ts":"1485530353.000355"},{"type":"message","user":"U0KPFAZNF","text":"though actually, now that I think about it, what you are asking for could be tracked at a lower level and apply to non-chaintool applications as well","ts":"1485530408.000356"},{"type":"message","user":"U0KPFAZNF","text":"if A invokes B, B should be able to tell who the caller is (in this case A running function Foo","ts":"1485530439.000357"},{"type":"message","user":"U2UNR91RB","text":"oh? honestly I'm not completely sure of the boundary between chaintool and fabric","ts":"1485530449.000358"},{"type":"message","user":"U0KPFAZNF","text":"for the most part, fabric is completely unaware","ts":"1485530467.000359"},{"type":"message","user":"U2UNR91RB","text":"Ok. Right.. that much I can understand","ts":"1485530475.000360"},{"type":"message","user":"U0KPFAZNF","text":"chaintool just writes code that looks like chaincode as far as fabric is concerned","ts":"1485530488.000361"},{"type":"message","user":"U0KPFAZNF","text":"the one exception is there is explicit support for peer to launch .car based chaincode","ts":"1485530508.000362"},{"type":"message","user":"U0KPFAZNF","text":"but transport wise, it is unaware","ts":"1485530513.000363"},{"type":"message","user":"U2UNR91RB","text":"Ah yes. I noticed the car code in the fabric repo","ts":"1485530555.000364"},{"type":"message","user":"U2UNR91RB","text":"I was wondering if there was an effort to completely integrate chaintool into that project or something","ts":"1485530578.000365"},{"type":"message","user":"U0KPFAZNF","text":"yeah, though I dont see it needing to go too much beyond where it already is","ts":"1485530619.000366"},{"type":"message","user":"U2UNR91RB","text":"But now that I understand more about how the chaincode deployment system works I basically figured all of what you said out","ts":"1485530619.000367"},{"type":"message","user":"U0KPFAZNF","text":"the biggest gap right now is the SDKs lack the ability to deploy .car","ts":"1485530628.000368"},{"type":"message","user":"U0KPFAZNF","text":"which I am actively working on","ts":"1485530632.000369"},{"type":"message","user":"U2UNR91RB","text":"Meaning the node sdk?","ts":"1485530641.000370"},{"type":"message","user":"U0KPFAZNF","text":"yeah","ts":"1485530644.000371"},{"type":"message","user":"U2UNR91RB","text":"Ok. I have not used them, actually","ts":"1485530651.000372"},{"type":"message","user":"U0KPFAZNF","text":"right","ts":"1485530660.000373"},{"type":"message","user":"U0KPFAZNF","text":"im just saying, integration wise, that is the biggest gap right now","ts":"1485530670.000374"},{"type":"message","user":"U2UNR91RB","text":"Gotcha","ts":"1485530683.000375"},{"type":"message","user":"U0KPFAZNF","text":"anyway, ill give it some more thought...i might have more questions for you as I am not sure I fully understand your use case","ts":"1485530704.000376"},{"type":"message","user":"U2UNR91RB","text":"OK. Here is one more example","ts":"1485530713.000377"},{"type":"message","user":"U2UNR91RB","text":"A quick one","ts":"1485530719.000378"},{"type":"message","user":"U0KPFAZNF","text":"I do plan on having some kind of automated logger emitted into the code, so that part should be covered","ts":"1485530721.000379"},{"type":"message","user":"U2UNR91RB","text":"I might want to attach the name of the function to all of my chaincode logs","ts":"1485530744.000380"},{"type":"message","user":"U2UNR91RB","text":"So that I can write a simple query with `grep` to say \"when did MyBusinessProcess log a ~error~ warning?\"","edited":{"user":"U2UNR91RB","ts":"1485531068.000000"},"ts":"1485530773.000381"},{"type":"message","user":"U2UNR91RB","text":"AFAIK right now that is not an easy question to answer","ts":"1485530802.000382"},{"type":"message","user":"U0KPFAZNF","text":"so what would that look like in terms of chaintool integration in your mind?","ts":"1485532171.000385"},{"type":"message","user":"U0KPFAZNF","text":"you have a client, a chaincode A, and a chaincode B","ts":"1485532185.000386"},{"type":"message","user":"U0KPFAZNF","text":"client sends an invoke to A, which sends another invoke to B","ts":"1485532199.000387"},{"type":"message","user":"U0KPFAZNF","text":"you want to attach \"MyBusinessProcess\" tag to logs for that flow","ts":"1485532221.000388"},{"type":"message","user":"U0KPFAZNF","text":"right?","ts":"1485532222.000389"},{"type":"message","user":"U0KPFAZNF","text":"would it be the kind of thing you foresee being in the CCI schema for the interfaces for A and B (e.g. a compile time tagging), or would it be a thing that is carried in the payload (runtime tagging)","edited":{"user":"U0KPFAZNF","ts":"1485532323.000000"},"ts":"1485532305.000390"},{"type":"message","user":"U2UNR91RB","text":"Well, it's a good question. \"runtime tagging or not?\"","ts":"1485534730.000392"},{"type":"message","user":"U2UNR91RB","text":"I had some time to think about it while I was grabbing coffee","ts":"1485534743.000393"},{"type":"message","user":"U2UNR91RB","text":"I came to a different question.","ts":"1485534772.000394"},{"type":"message","user":"U2UNR91RB","text":"What is chaintool?","ts":"1485534776.000395"},{"type":"message","user":"U2UNR91RB","text":"Is it a tool for fabric to build chaincode containers with?","edited":{"user":"U2UNR91RB","ts":"1485534862.000000"},"ts":"1485534796.000396"},{"type":"message","user":"U2UNR91RB","text":"Is it a protocol that allows chaincode to communicate in a structured way?","ts":"1485534824.000397"},{"type":"message","user":"U2UNR91RB","text":"Is it a chaincode application framework?","ts":"1485534838.000398"},{"type":"message","user":"U2UNR91RB","text":"Right now it is all of these things, I believe","ts":"1485534913.000400"},{"type":"message","user":"U2UNR91RB","text":"I believe this tagging is an application concern (or a concern of the application framework if the developer wishes)","edited":{"user":"U2UNR91RB","ts":"1485535990.000000"},"ts":"1485534992.000401"},{"type":"message","user":"U2UNR91RB","text":"But it seems to me that CCI is strictly in the domain of chaintool the protocol","ts":"1485535374.000402"},{"type":"message","user":"U2UNR91RB","text":"OK. So now I think I have the use case to knock all your curveballs out of the park, <@U0KPFAZNF> (sorry for the colloquialism)... In this example where chaincode A invokes chaincode B, what if chaincode B wasn't built with chaintool? What if my company contracted some person to write a complex chaincode application and they just used straight Go (or an alternate Go framework that isn't based on CAR files)?","ts":"1485537768.000404"},{"type":"message","user":"U0KPFAZNF","text":"ok, go on","ts":"1485537814.000405"},{"type":"message","user":"U0KPFAZNF","text":"(or was that it?)","ts":"1485537824.000406"},{"type":"message","user":"U2UNR91RB","text":"How does A tell B where the invocation originated from?","ts":"1485537852.000407"},{"type":"message","user":"U0KPFAZNF","text":"so I wouldnt have much power to generate any kind of logs within B","ts":"1485537868.000408"},{"type":"message","user":"U2UNR91RB","text":"How does the tag get communicated when B doesn't speak CCI?","ts":"1485537869.000409"},{"type":"message","user":"U2UNR91RB","text":"Exactly","ts":"1485537877.000410"},{"type":"message","user":"U0KPFAZNF","text":"BUT, (and I am not sure if this is implemented yet)","ts":"1485537891.000411"},{"type":"message","user":"U2UNR91RB","text":"At the application level A needs to communicate that to B","ts":"1485537895.000412"},{"type":"message","user":"U0KPFAZNF","text":"that sounds like more of a general fabric \"IPC\" substrate feature","ts":"1485537907.000413"},{"type":"message","user":"U0KPFAZNF","text":"theres a few things that I think we need (and they may already be there, <@U0ULK2JPP> would know)","ts":"1485537925.000414"},{"type":"message","user":"U0KPFAZNF","text":"one of them would be that B could tell who the original sender is (via tcert, attributes, etc","ts":"1485537941.000415"},{"type":"message","user":"U0KPFAZNF","text":"i have to step away for 10m","ts":"1485537947.000416"},{"type":"message","user":"U0KPFAZNF","text":"brb","ts":"1485537947.000417"},{"type":"message","user":"U0KPFAZNF","text":"back","ts":"1485538103.000418"},{"type":"message","user":"U0KPFAZNF","text":"so as I was saying: another feature (I dont think we have this today) would be that the IPC substrate could offer endpoint tracing","ts":"1485538131.000419"},{"type":"message","user":"U2UNR91RB","text":"I see","ts":"1485538144.000420"},{"type":"message","user":"U0KPFAZNF","text":"e.g. it could maintain a stack that, at B, would show stack[B, A]","ts":"1485538153.000421"},{"type":"message","user":"U2UNR91RB","text":"I'm still not sure how B would map the stack back into my business domain","ts":"1485538187.000422"},{"type":"message","user":"U0KPFAZNF","text":"we would have to think about if it makes sense to allow some additional context to be attached","ts":"1485538192.000423"},{"type":"message","user":"U2UNR91RB","text":"Oh, I see","ts":"1485538209.000424"},{"type":"message","user":"U0KPFAZNF","text":"like stack[B-&gt;ctx(), A-&gt;ctx(\"FUNCTION=\"MyBusinessProcess\", \"PARAMS=blah\")]","ts":"1485538234.000425"},{"type":"message","user":"U0KPFAZNF","text":"and provide some stub function to allow that context to be set","ts":"1485538250.000426"},{"type":"message","user":"U2UNR91RB","text":"Yea. That makes sense, I think","ts":"1485538256.000427"},{"type":"message","user":"U0KPFAZNF","text":"then, chaintool could generate context assignments automatically and attach them","ts":"1485538269.000428"},{"type":"message","user":"U0KPFAZNF","text":"something like that","ts":"1485538288.000429"},{"type":"message","user":"U0KPFAZNF","text":"im thinking that the context would be some kind of KV mapping because that would be the most conducive to collision-avoidance as well as general logging","ts":"1485538335.000430"},{"type":"message","user":"U0KPFAZNF","text":"e.g. chaintool could use keys like \"chaintool.function\", so that we dont collide if you also want to say \"mybusiness.flarf\" too","ts":"1485538379.000431"},{"type":"message","user":"U2UNR91RB","text":"This sounds OK, though the scope of this is much bigger than I expected it would be initially","ts":"1485538458.000432"},{"type":"message","user":"U0KPFAZNF","text":"well, I am just spitballing anyway","ts":"1485538470.000433"},{"type":"message","user":"U0KPFAZNF","text":"maybe there is a simpler way","ts":"1485538476.000434"},{"type":"message","user":"U0KPFAZNF","text":"its easy(er) if we stick to .car to .car since I can control that layer with the code generator","ts":"1485538500.000435"},{"type":"message","user":"U2UNR91RB","text":"I just wanted a generated function which I could call to translate first argument to a meaningful string.","ts":"1485538543.000436"},{"type":"message","user":"U0KPFAZNF","text":"how do you envision that working?","ts":"1485538561.000437"},{"type":"message","user":"U0KPFAZNF","text":"oh i think I get you","ts":"1485538573.000438"},{"type":"message","user":"U2UNR91RB","text":"A function that is in server-stub.go i guess","ts":"1485538578.000439"},{"type":"message","user":"U0KPFAZNF","text":"yeah, that would be easy","ts":"1485538583.000440"},{"type":"message","user":"U2UNR91RB","text":"GetFunctionName(id string)","ts":"1485538591.000441"},{"type":"message","user":"U2UNR91RB","text":"Or something","ts":"1485538593.000442"},{"type":"message","user":"U0KPFAZNF","text":"you want to map \"com.foo\/txn\/1\" to \"MyBusinessFunctionAlpha\"","ts":"1485538608.000443"},{"type":"message","user":"U2UNR91RB","text":"Yea","ts":"1485538618.000444"},{"type":"message","user":"U0KPFAZNF","text":"thats easy, we can do that","ts":"1485538626.000445"},{"type":"message","user":"U2UNR91RB","text":"It's the simplest way to get tracing today","ts":"1485538630.000446"},{"type":"message","user":"U0KPFAZNF","text":"but heres the thing:","ts":"1485538632.000447"},{"type":"message","user":"U2UNR91RB","text":"seems to me","ts":"1485538633.000448"},{"type":"message","user":"U0KPFAZNF","text":"wouldnt you already know what function you are in ? :wink:","ts":"1485538643.000449"},{"type":"message","user":"U2UNR91RB","text":"No, because I want tracing through chained invocation","ts":"1485538661.000450"},{"type":"message","user":"U2UNR91RB","text":"I want everything you talked about right now :wink:","ts":"1485538672.000451"},{"type":"message","user":"U2UNR91RB","text":"I am going to build what I need of it for  my project","ts":"1485538710.000452"},{"type":"message","user":"U0KPFAZNF","text":"ok, so if I assume you have taken care of getting \"com.foo\/txn\/1\" to the right place, translating that to name is piece of cake","ts":"1485538713.000453"},{"type":"message","user":"U2UNR91RB","text":"It is","ts":"1485538732.000454"},{"type":"message","user":"U0KPFAZNF","text":"(within the .car application that uses the com.foo interface, anyway)","ts":"1485538735.000455"},{"type":"message","user":"U2UNR91RB","text":"I just need the code generated","ts":"1485538739.000456"},{"type":"message","user":"U0KPFAZNF","text":"ok, thats easy, I can do that","ts":"1485538748.000457"},{"type":"message","user":"U2UNR91RB","text":"I was going to write a tool myself if it couldn't be integrated into chaintool's code generation","ts":"1485538762.000458"},{"type":"message","user":"U0KPFAZNF","text":"nah, everything I need is already in place, at least in the AST","ts":"1485538786.000459"},{"type":"message","user":"U2UNR91RB","text":"Right","ts":"1485538792.000460"},{"type":"message","user":"U0KPFAZNF","text":"i might have to update the view I push to the STG generator, worst case","ts":"1485538804.000461"},{"type":"message","user":"U0KPFAZNF","text":"but that is not hard","ts":"1485538807.000462"},{"type":"message","user":"U0KPFAZNF","text":"actually no, I know the function name, I use that to generate the interface into your app code","ts":"1485538868.000463"},{"type":"message","user":"U2UNR91RB","text":"Right... you may already have a `map[string]string` variable in server-stub.go that contains exactly the info I want?","ts":"1485538916.000464"},{"type":"message","user":"U0KPFAZNF","text":"i dont think its readily consumable (yet), but that is probably exactly what I will add","ts":"1485538938.000465"},{"type":"message","user":"U2UNR91RB","text":"Great.","ts":"1485538946.000466"},{"type":"message","user":"U0KPFAZNF","text":"I can use it when I add the built-in logger too","ts":"1485538947.000467"},{"type":"message","user":"U2UNR91RB","text":"I could add it myself if that would be faster?","ts":"1485538953.000468"},{"type":"message","user":"U0KPFAZNF","text":"totally up to you","ts":"1485538961.000469"},{"type":"message","user":"U0KPFAZNF","text":"i think its all in the .stg domain, so no clojure","ts":"1485538968.000470"},{"type":"message","user":"U0KPFAZNF","text":"it would help me out if you are willing, i am swamped","ts":"1485538985.000471"},{"type":"message","user":"U2UNR91RB","text":"Even if there was I bet I could piece it together","ts":"1485538988.000472"},{"type":"message","user":"U2UNR91RB","text":"I have written clojure before","ts":"1485538992.000473"},{"type":"message","user":"U0KPFAZNF","text":"cool","ts":"1485539001.000474"},{"type":"message","user":"U2UNR91RB","text":"OK. Right. I figured you might be rather busy with the upcoming 1.0 release","ts":"1485539040.000475"},{"type":"message","user":"U0KPFAZNF","text":"while you are in there, one thing I hate about the current generator is it spits out a switch statement","ts":"1485539048.000476"},{"type":"message","user":"U2UNR91RB","text":"I can't promise I will have it done as fast as that current PR, but I will try to get it done soon","ts":"1485539065.000477"},{"type":"message","user":"U0KPFAZNF","text":"it might be better to have a map with all this","ts":"1485539069.000478"},{"type":"message","user":"U2UNR91RB","text":"Agreed","ts":"1485539075.000479"},{"type":"message","user":"U2UNR91RB","text":"Go switch statements are not as fast as C switch statements","ts":"1485539085.000480"},{"type":"message","user":"U0KPFAZNF","text":"(though I guess I would need at least two indices","ts":"1485539085.000481"},{"type":"message","user":"U0KPFAZNF","text":"one by fqn, another by fcnid","ts":"1485539098.000482"},{"type":"message","user":"U0KPFAZNF","text":"wonder if golang has a multi-index map like boost","ts":"1485539119.000483"},{"type":"message","user":"U2UNR91RB","text":"I might need to look at the code to understand more about what you mean","ts":"1485539127.000484"},{"type":"message","user":"U2UNR91RB","text":"I don't write C++ either &gt;_&lt;","ts":"1485539148.000485"},{"type":"message","user":"U0KPFAZNF","text":"ok, well if you abstract the interface to the name transaction behind a function call, we can always enhance the backend model later","ts":"1485539171.000486"},{"type":"message","user":"U2UNR91RB","text":"But I think the answer is no.. it's probably no","ts":"1485539171.000487"},{"type":"message","user":"U0KPFAZNF","text":"then you can just keep this task focused to name translation","ts":"1485539195.000488"},{"type":"message","user":"U2UNR91RB","text":"Great","ts":"1485539210.000489"},{"type":"message","user":"U0KPFAZNF","text":"we can tackle optimizing\/cleaning-up into a map as a different step","ts":"1485539215.000490"},{"type":"message","user":"U2UNR91RB","text":"I'm definitely open to suggestions about what to name the new function","ts":"1485539236.000491"},{"type":"message","user":"U0KPFAZNF","text":"id have to look at the code to come up with a good suggestion","ts":"1485539251.000492"},{"type":"message","user":"U2UNR91RB","text":"Since it is part of an exported API there should be more thought to it than I gave when I type that suggestion","edited":{"user":"U2UNR91RB","ts":"1485539267.000000"},"ts":"1485539256.000493"},{"type":"message","user":"U0KPFAZNF","text":"just come up with something, if I hate it, i will tell you :wink:","ts":"1485539259.000494"},{"type":"message","user":"U0KPFAZNF","text":"but yes, apply API design principles to it","ts":"1485539283.000496"},{"type":"message","user":"U0KPFAZNF","text":"we'll be stuck with supporting it in the not too distant future :wink:","ts":"1485539312.000497"},{"type":"message","user":"U2UNR91RB","text":"heh","ts":"1485539324.000498"},{"type":"message","user":"U0KPFAZNF","text":"we have a little wiggle room for now though","ts":"1485539332.000499"},{"type":"message","user":"U2UNR91RB","text":"It could work a little differently too, I suppose","ts":"1485539390.000500"},{"type":"message","user":"U2UNR91RB","text":"Something like `func GetFunctionName(stub shim.ChaincodeStubInterface) string`","ts":"1485539413.000501"},{"type":"message","user":"U0KPFAZNF","text":"I think that is reasonable","ts":"1485539543.000502"},{"type":"message","user":"U2UNR91RB","text":"Did you mention something about 1.0 changing how arguments are arranged?","ts":"1485539567.000503"},{"type":"message","user":"U0KPFAZNF","text":"yeah, they are a little different now","ts":"1485539579.000504"},{"type":"message","user":"U2UNR91RB","text":"Well maybe that would be the best for me as an application developer","ts":"1485539601.000505"},{"type":"message","user":"U0KPFAZNF","text":"its all [][]byte as opposed to [string, []string] tuple","ts":"1485539604.000506"},{"type":"message","user":"U2UNR91RB","text":"Oh wait, I thought that was how it worked on v0.6.1","ts":"1485539626.000507"},{"type":"message","user":"U0KPFAZNF","text":"though there is a synthetic interface on the stub that makes it still appear to have a discrete function","ts":"1485539634.000508"},{"type":"message","user":"U0KPFAZNF","text":"ah, haha","ts":"1485539638.000509"},{"type":"message","user":"U0KPFAZNF","text":"it could","ts":"1485539639.000510"},{"type":"message","user":"U0KPFAZNF","text":"i cant keep it straight any more","ts":"1485539644.000511"},{"type":"message","user":"U0KPFAZNF","text":":wink:","ts":"1485539644.000512"},{"type":"message","user":"U0KPFAZNF","text":"its changed like 4 times","ts":"1485539652.000513"},{"type":"message","user":"U2UNR91RB","text":"np","ts":"1485539654.000514"},{"type":"message","user":"U2UNR91RB","text":"I understand","ts":"1485539658.000515"},{"type":"message","user":"U2UNR91RB","text":"So that is my point, I guess","ts":"1485539663.000516"},{"type":"message","user":"U0KPFAZNF","text":"yeah, ideally abstract to you, because chaintool is opinionated that you are invoking function(params)","ts":"1485539693.000517"},{"type":"message","user":"U2UNR91RB","text":"If it's going to change again, then the function would be better taking `stub` so that there is less friction for application developers who are trying to upgrade their code for a new version of fabric","ts":"1485539718.000518"},{"type":"message","user":"U0KPFAZNF","text":"speaking of ABI changes though, one of the thing I am planning on doing for v1.0 is forgoing the base64 encoding and just go binary on the wire","ts":"1485539738.000519"},{"type":"message","user":"U0KPFAZNF","text":"should be transparent to chaincode","ts":"1485539752.000520"},{"type":"message","user":"U2UNR91RB","text":"Right","ts":"1485539757.000521"},{"type":"message","user":"U0KPFAZNF","text":"but may be visible on the client side","ts":"1485539763.000522"},{"type":"message","user":"U0KPFAZNF","text":"(or, I should say, _will_ be visible)","ts":"1485539777.000523"},{"type":"message","user":"U2UNR91RB","text":"I have wondered why fabric uses base64 encoded protobufs in a lot of places","ts":"1485539785.000524"},{"type":"message","user":"U0KPFAZNF","text":"historically, the interfaces were strings","ts":"1485539797.000525"},{"type":"message","user":"U0KPFAZNF","text":"it only changed to bytes late in the game","ts":"1485539820.000526"},{"type":"message","user":"U0KPFAZNF","text":"(at least at the chaintool level)","ts":"1485539838.000527"},{"type":"message","user":"U2UNR91RB","text":"OK. That definitely explains a couple specific cases that had come to mind","ts":"1485539838.000528"},{"type":"message","user":"U0KPFAZNF","text":"i cant speak for other transports","ts":"1485539842.000529"},{"type":"message","user":"U2UNR91RB","text":"There is no way to share data structures (i.e. protobuf message definitions) between CCI files, is there?","edited":{"user":"U2UNR91RB","ts":"1485592948.000000"},"ts":"1485592886.000530"},{"type":"message","user":"U2UNR91RB","text":"To be a little less vague... It would be nice if I could define some internal types for my chaincode to use for serialization of data being stored on the chain with stub.PutState\/.GetState. And those internal types would not be part of my exported application interface (what is currently defined in the CCI file)","edited":{"user":"U2UNR91RB","ts":"1485593290.000000"},"ts":"1485593230.000532"},{"type":"message","user":"U2UNR91RB","text":"It may currently be possible to do what I want using an out-of-band process involving generating Go source from a .proto file which depends on the proto file generated by chaintool... I'm not sure whether the process would be compatible with the official Go protobuf implementation.","edited":{"user":"U2UNR91RB","ts":"1485593681.000000"},"ts":"1485593617.000534"},{"type":"message","user":"U2UNR91RB","text":"The idea that spawned my original obscure question was the thought that, if CCI files could share definitions somehow, I might define two CCI files for my application, and one might just be considered internal by convention. The \"public\" CCI would not use internal types while the \"internal\" CCI would be able to wrap \"public\" types with higher-level internal structures.","ts":"1485594043.000536"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KRRM29Z> <@U0ULK2JPP> <https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/39>","attachments":[{"service_name":"GitHub","title":"Add &quot;chaintool env&quot; command by ghaskins \u00b7 Pull Request #39 \u00b7 hyperledger\/fabric-chaintool \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/39","text":"This would make it easy to instrument certain IDEs such as: env $(chaintool env) vim src\/chaincode\/chaincode.go Implements enhancement #37 Signed-off-by: Greg Haskins <mailto:gregory.haskins@gmail.com|gregory.haskins@gmail.com>","fallback":"GitHub: Add \"chaintool env\" command by ghaskins \u00b7 Pull Request #39 \u00b7 hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/39","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/bfaba\/img\/unfurl_icons\/github.png","id":1}],"ts":"1485619085.000537"},{"type":"message","user":"U0KPFAZNF","text":"<@U2UNR91RB> ^^^","ts":"1485619094.000539"},{"type":"message","user":"U0KPFAZNF","text":"<@U2UNR91RB> regarding sharing...i intentionally excluded the notion of \"include\" as it exists in the raw protobuf spec because I wanted each .cci file to essentially represent the ABI contract","ts":"1485619240.000540"},{"type":"message","user":"U0KPFAZNF","text":"that said, I understand your pain here, as I hit it often myself","ts":"1485619256.000541"},{"type":"message","user":"U0KPFAZNF","text":"often in the form of appinit and main.cci have some commonality","ts":"1485619277.000542"},{"type":"message","user":"U0KPFAZNF","text":"I was worried that if I opened up the possibility of including other files, it would be easy to break the contract","ts":"1485619310.000543"},{"type":"message","user":"U2UNR91RB","text":"I understand that, not to mention the implementation complexity increases significantly. ","ts":"1485619341.000544"},{"type":"message","user":"U0KPFAZNF","text":"maybe that was being too pragmatic about that though","ts":"1485619347.000545"},{"type":"message","user":"U0KPFAZNF","text":"yes, that too","ts":"1485619352.000546"},{"type":"message","user":"U0KPFAZNF","text":"anyway, we can brainstorm on a solution, because I know what you are after","ts":"1485619366.000547"},{"type":"message","user":"U0KPFAZNF","text":"I was just afraid of the downsides","ts":"1485619371.000548"},{"type":"message","user":"U2UNR91RB","text":"As for the sharing between appinit and main cci.. my convention has been to make the Init message (essentially) empty.","edited":{"user":"U2UNR91RB","ts":"1485619404.000000"},"ts":"1485619387.000549"},{"type":"message","user":"U0KPFAZNF","text":"have to step away","ts":"1485619401.000550"},{"type":"message","user":"U0KPFAZNF","text":"have a nice w\/e if I dont talk to you","ts":"1485619408.000552"},{"type":"message","user":"U2UNR91RB","text":"Ok. I will check out that change you posted. ","ts":"1485619430.000553"},{"type":"message","user":"U2UNR91RB","text":"<@U0KPFAZNF> I have fixed my PR to be targeted against the v0.9.x branch of fabric-chaintool. Sorry I forgot to ping you here yesterday.","ts":"1485648822.000554"},{"type":"message","user":"U0KPFAZNF","text":"<@U2UNR91RB> merged, thx","ts":"1485784671.000555"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP> <@U0KRRM29Z> could one of you gents review\/merge this? <https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/39>","attachments":[{"service_name":"GitHub","title":"Add &quot;chaintool env&quot; command by ghaskins \u00b7 Pull Request #39 \u00b7 hyperledger\/fabric-chaintool \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/39","text":"This would make it easy to instrument certain IDEs such as: env $(chaintool env) vim src\/chaincode\/chaincode.go Implements enhancement #37 Signed-off-by: Greg Haskins <mailto:gregory.haskins@gmail.com|gregory.haskins@gmail.com>","fallback":"GitHub: Add \"chaintool env\" command by ghaskins \u00b7 Pull Request #39 \u00b7 hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/39","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/bfaba\/img\/unfurl_icons\/github.png","id":1}],"ts":"1485784682.000556"},{"type":"message","user":"U0KPFAZNF","text":"I will then submit a CR for release v0.9.2 right behind it","ts":"1485784696.000558"},{"user":"U3BD4SWBH","inviter":"U0KPFAZNF","text":"<@U3BD4SWBH|rkiouak> has joined the channel","type":"message","subtype":"channel_join","ts":"1485784790.000559"},{"type":"message","user":"U0KRRM29Z","text":"<@U0KPFAZNF>: cracking the whip at 9am on a Monday? Let me get a coffee and I'll take a look. ","ts":"1485785519.000560","reactions":[{"name":"+1","users":["U0ULK2JPP"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"yeehaw","ts":"1485785531.000561"},{"type":"message","user":"U0ULK2JPP","text":"I;ll get out of your way then <@U0KRRM29Z>","edited":{"user":"U0ULK2JPP","ts":"1485785575.000000"},"ts":"1485785543.000562"},{"type":"message","user":"U0KPFAZNF","text":"dont worry, plenty of work to go around","ts":"1485785560.000564"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1485785561.000565"},{"type":"message","user":"U0KPFAZNF","text":"i have the v0.9.2 release, of course, as well as updates for v1.0 support","edited":{"user":"U0KPFAZNF","ts":"1485785587.000000"},"ts":"1485785579.000567"},{"type":"message","user":"U0ULK2JPP","text":"awesome!","ts":"1485785590.000569"},{"type":"message","user":"U0ULK2JPP","text":"I felt a tad guilty about all the changes that kept break you <@U0KPFAZNF>","ts":"1485785612.000570"},{"type":"message","user":"U0KPFAZNF","text":"thats ok, i am not anticipating they will be too bad","ts":"1485785628.000571"},{"type":"message","user":"U0KPFAZNF","text":"we shall see, heh","ts":"1485785632.000572"},{"type":"message","user":"U0ULK2JPP","text":"indeed","ts":"1485785639.000573"},{"type":"message","user":"U0KPFAZNF","text":"bottom line, its already broken between v0.6.1 and master, so whats one more","ts":"1485785671.000574"},{"user":"U3V4G8HUZ","text":"<@U3V4G8HUZ|sagmeister> has joined the channel","type":"message","subtype":"channel_join","ts":"1485787821.000575"},{"type":"message","user":"U0KPFAZNF","text":"<@U2UNR91RB> was just thinking, as an extension of your -env idea, could also probably have \"chaintool edit path\/to\/file.go\"","ts":"1485797429.000576"},{"type":"message","user":"U0KPFAZNF","text":"where it would act like \"chaintool env\" as well as launch your $EDITOR","ts":"1485797443.000577"},{"type":"message","user":"U0KPFAZNF","text":"slightly less typing","ts":"1485797495.000578"},{"type":"message","user":"U2UNR91RB","text":"<@U0KPFAZNF> I had considered making that my initial proposal. So yes, I think it is not a bad idea. I just though `env` was more general. ","ts":"1485797532.000579"},{"type":"message","user":"U0KPFAZNF","text":"yeah, it is..i think having both is good","ts":"1485797546.000580"},{"type":"message","user":"U2UNR91RB","text":"Certainly, env has additional use cases. I would use `chaintool edit`","ts":"1485797628.000581"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1485797637.000582"},{"type":"message","user":"U0KPFAZNF","text":"its trivial to add and support both, so ill add that to my list","ts":"1485797648.000583"},{"type":"message","user":"U2UNR91RB","text":":+1::skin-tone-4: ","ts":"1485797661.000584"},{"user":"U3BH74NH0","text":"<@U3BH74NH0|passkit> has joined the channel","type":"message","subtype":"channel_join","ts":"1485832399.000585"},{"user":"U3DHKV84C","text":"<@U3DHKV84C|yuryandreev> has joined the channel","type":"message","subtype":"channel_join","ts":"1485856431.000586"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP> <@U0KRRM29Z> when you get a chance: <https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/41>","attachments":[{"service_name":"GitHub","title":"V1.0 port by ghaskins \u00b7 Pull Request #41 \u00b7 hyperledger\/fabric-chaintool \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/41","text":"Initial effort to port chaintool to the v1.0 architecture. Current works with nodejs client and devmode. Netmode and cljs client still pending.","fallback":"GitHub: V1.0 port by ghaskins \u00b7 Pull Request #41 \u00b7 hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/41","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/bfaba\/img\/unfurl_icons\/github.png","id":1}],"ts":"1485923750.000587"},{"type":"message","user":"U0KPFAZNF","text":"<@U2UNR91RB> <https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases\/tag\/v0.9.2>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases\/tag\/v0.9.2","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases\/tag\/v0.9.2","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1485924475.000589","reactions":[{"name":"confetti_ball","users":["U2UNR91RB"],"count":1}]},{"type":"message","user":"U2UNR91RB","text":"Great! Thanks, <@U0KPFAZNF> :smile:","ts":"1485924544.000591"},{"user":"U0PV6MUD6","text":"<@U0PV6MUD6|sbrakev> has joined the channel","type":"message","subtype":"channel_join","ts":"1485947149.000592"},{"type":"message","user":"U0KRRM29Z","text":"<@U0KPFAZNF> PR #41 merged","ts":"1485950999.000593"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KRRM29Z> ty","ts":"1485955662.000594"},{"user":"U3ENCLLUA","text":"<@U3ENCLLUA|sibelius> has left the channel","type":"message","subtype":"channel_leave","ts":"1485955968.000595"},{"user":"U3VKNAAQH","text":"<@U3VKNAAQH|ssaddem> has joined the channel","type":"message","subtype":"channel_join","ts":"1485967229.000596"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KRRM29Z> <@U0ULK2JPP> sorry to bother you, but one more: <https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/42>","attachments":[{"service_name":"GitHub","title":"Release v0.10.1 by ghaskins \u00b7 Pull Request #42 \u00b7 hyperledger\/fabric-chaintool \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/42","text":"See release commit for notes on what is included Signed-off-by: Greg Haskins <mailto:gregory.haskins@gmail.com|gregory.haskins@gmail.com>","fallback":"GitHub: Release v0.10.1 by ghaskins \u00b7 Pull Request #42 \u00b7 hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/42","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/bfaba\/img\/unfurl_icons\/github.png","id":1}],"ts":"1485968759.000597"},{"type":"message","user":"U0KPFAZNF","text":"this adds full e2e support for deploying netmode chaintool apps on v1.0 architecture","ts":"1485968791.000599"},{"type":"message","user":"U0KPFAZNF","text":"(there are patches for sdk and fabric needed though, still working on upstreaming those","edited":{"user":"U0KPFAZNF","ts":"1485968814.000000"},"ts":"1485968807.000600"},{"type":"message","user":"U0KRRM29Z","text":"merged","ts":"1485969684.000602"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KRRM29Z> ty","ts":"1485970156.000603"},{"type":"message","user":"U2UNR91RB","text":"<@U0KPFAZNF> thanks for putting in the effort to upstream my fix","ts":"1485970476.000604"},{"type":"message","user":"U0KPFAZNF","text":"<@U2UNR91RB> no problem, I had a bunch of other work queued up anyway","edited":{"user":"U0KPFAZNF","ts":"1485970578.000000"},"ts":"1485970569.000605"},{"type":"message","user":"U2UNR91RB","text":"I didn't realize REST was removed from 1.0","ts":"1485970621.000607"},{"type":"message","user":"U2UNR91RB","text":"(Just reading release notes)","ts":"1485970651.000608"},{"type":"message","user":"U0KPFAZNF","text":"yeah, it was yanked a while ago in master, but I lagged in cleaning up the example in chaintool until now","ts":"1485970689.000609"},{"type":"message","user":"U2UNR91RB","text":"My client generation tool is going to need some love..","ts":"1485970691.000610"},{"type":"message","user":"U2UNR91RB","text":"Ah","ts":"1485970698.000611"},{"type":"message","user":"U0KPFAZNF","text":"you can, of course, code to GRPC instead, but I suspect its far less friction to adopt one of the SDKs","ts":"1485970725.000612"},{"type":"message","user":"U0KPFAZNF","text":"because of the crypto, etc","ts":"1485970731.000613"},{"type":"message","user":"U2UNR91RB","text":"Are the gRPC APIs 'public' now?","ts":"1485970754.000614"},{"type":"message","user":"U0KPFAZNF","text":"well, they've always been public.  I assume you mean \"stable\" ? :wink:","ts":"1485970772.000615"},{"type":"message","user":"U2UNR91RB","text":"Heh. Sure","ts":"1485970782.000616"},{"type":"message","user":"U0KPFAZNF","text":"its a good question, <@U0ULK2JPP> would know better than myself","edited":{"user":"U0KPFAZNF","ts":"1485970843.000000"},"ts":"1485970796.000617"},{"type":"message","user":"U0KPFAZNF","text":"my understanding is they are converging on the set we expect to support for v1.0","ts":"1485970811.000618"},{"type":"message","user":"U0KPFAZNF","text":"but I am not involved so not sure if more work is queued","ts":"1485970818.000619"},{"type":"message","user":"U2UNR91RB","text":"Ideally I would have Go client packages for my chaincodes","ts":"1485970821.000620"},{"type":"message","user":"U2UNR91RB","text":"(Ideally for me :D)","ts":"1485970868.000622"},{"type":"message","user":"U0KPFAZNF","text":"this should be theoretically possible","ts":"1485970884.000623"},{"type":"message","user":"U0KPFAZNF","text":"essentially the CLI function of the peer has an embedded golang client API","edited":{"user":"U0KPFAZNF","ts":"1485970938.000000"},"ts":"1485970900.000624"},{"type":"message","user":"U0KPFAZNF","text":"it could be ideally extricated into its own coordinate though","ts":"1485970916.000625"},{"type":"message","user":"U2UNR91RB","text":"I see. That sounds like a good starting point","ts":"1485970947.000627"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KPFAZNF> jumping in :slightly_smiling_face: \u2026 gRPC from client to peer ?","ts":"1485970953.000628"},{"type":"message","user":"U0ULK2JPP","text":"or from Chaincode to Peer ?","ts":"1485970961.000629"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP> I did say theortically :wink:","ts":"1485970965.000630"},{"type":"message","user":"U0KPFAZNF","text":"not that I would advise this","ts":"1485970973.000631"},{"type":"message","user":"U2UNR91RB","text":"<@U0ULK2JPP> gRPC from client to peer","ts":"1485970975.000632"},{"type":"message","user":"U0KPFAZNF","text":"sorry, yes, client -&gt; peer","ts":"1485970987.000633"},{"type":"message","user":"U0KPFAZNF","text":"<@U2UNR91RB> was lamenting on the fallout from the removal of the REST endpoint","ts":"1485971004.000634"},{"type":"message","user":"U0ULK2JPP","text":"ah ye","ts":"1485971009.000635"},{"type":"message","user":"U0ULK2JPP","text":"yes","ts":"1485971010.000636"},{"type":"message","user":"U0ULK2JPP","text":"I think using the SDK and exposing a REST an option ?","ts":"1485971027.000637"},{"type":"message","user":"U0KPFAZNF","text":"was just noting that its theoretically possible to still code to GRPC, though its not advised","ts":"1485971027.000638"},{"type":"message","user":"U0ULK2JPP","text":"right","ts":"1485971031.000639"},{"type":"message","user":"U0ULK2JPP","text":"+1 that","ts":"1485971034.000640"},{"type":"message","user":"U0ULK2JPP","text":"and for the reasones you mentioned\u2026 all the crypto stuff and packaging that\u2019d have to be done","ts":"1485971061.000641"},{"type":"message","user":"U0ULK2JPP","text":"better use something more easily consumable","ts":"1485971071.000642"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3ZF727PV\/-.js|Untitled> and commented: Just finished adding CAR support to the node SDK","file":{"id":"F3ZF727PV","created":1485971146,"timestamp":1485971146,"name":"-.js","title":"Untitled","mimetype":"text\/plain","filetype":"javascript","pretty_type":"JavaScript\/JSON","user":"U0KPFAZNF","editable":true,"size":947,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3ZF727PV\/-.js?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3ZF727PV\/download\/-.js?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3ZF727PV\/-.js","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3ZF727PV-3c9a51bd80","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3ZF727PV\/-.js\/edit","preview":"function packageGolangChaincode(request) {\r\n\tlogger.info(\"packaging GOLANG from %s\", request.chaincodePath);\r\n\r\n\tvar chaincodePath = request.chaincodePath;\r\n\tvar chaincodeId = request.chaincodeId;\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-keyword\">function<\/span> <span class=\"cm-def\">packageGolangChaincode<\/span>(<span class=\"cm-def\">request<\/span>) {<\/pre><\/div>\n<div><pre>\t<span class=\"cm-variable\">logger<\/span>.<span class=\"cm-property\">info<\/span>(<span class=\"cm-string\">&quot;packaging GOLANG from %s&quot;<\/span>, <span class=\"cm-variable-2\">request<\/span>.<span class=\"cm-property\">chaincodePath<\/span>);<\/pre><\/div>\n<div><pre>&#8203;<\/pre><\/div>\n<div><pre>\t<span class=\"cm-keyword\">var<\/span> <span class=\"cm-def\">chaincodePath<\/span> <span class=\"cm-operator\">=<\/span> <span class=\"cm-variable-2\">request<\/span>.<span class=\"cm-property\">chaincodePath<\/span>;<\/pre><\/div>\n<div><pre>\t<span class=\"cm-keyword\">var<\/span> <span class=\"cm-def\">chaincodeId<\/span> <span class=\"cm-operator\">=<\/span> <span class=\"cm-variable-2\">request<\/span>.<span class=\"cm-property\">chaincodeId<\/span>;<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":28,"lines_more":23,"preview_is_truncated":false,"channels":["C1JJ6BL5T"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc3ZH7KDV0","created":1485971146,"timestamp":1485971146,"user":"U0KPFAZNF","is_intro":true,"comment":"Just finished adding CAR support to the node SDK","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1485971146.000643"},{"type":"message","user":"U2UNR91RB","text":"<@U0ULK2JPP>: So you are suggesting that I build a REST frontend using the node SDK?","ts":"1485971152.000644"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP> to that point, if things were the way Id like them, the packaging portion is a no-op :wink:","ts":"1485971167.000645"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KPFAZNF> I used the wrong word (but I know what you mean) \u2026 I meant protobuf handling that goes with the gRPC","ts":"1485971247.000646"},{"type":"message","user":"U0KPFAZNF","text":"other than readfile, of course","ts":"1485971248.000647"},{"type":"message","user":"U0KPFAZNF","text":"right","ts":"1485971253.000648"},{"type":"message","user":"U0KPFAZNF","text":"im being a wiseass anyway","ts":"1485971257.000649"},{"type":"message","user":"U0ULK2JPP","text":":slightly_smiling_face:","ts":"1485971262.000650"},{"type":"message","user":"U0KPFAZNF","text":"preaching to the choir","ts":"1485971266.000651"},{"type":"message","user":"U0KPFAZNF","text":"on a more serious note, it does all work now though","ts":"1485971291.000652"},{"type":"message","user":"U0KPFAZNF","text":"which is cool","ts":"1485971293.000653"},{"type":"message","user":"U0KPFAZNF","text":"(and this includes full FAB-678 support too","ts":"1485971307.000654"},{"type":"message","user":"U0ULK2JPP","text":"`So you are suggesting that I build a REST frontend using the node SDK?` \u2026 sounds attractive but likely have been thought out at some level","ts":"1485971322.000655"},{"type":"message","user":"U0KPFAZNF","text":"for all CC types","ts":"1485971322.000656"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019d reach to the SDK folks to see what they think of that <@U2UNR91RB>","ts":"1485971341.000657"},{"type":"message","user":"U0ULK2JPP","text":"oh so  FAB-678 is done <@U0KPFAZNF> ?","ts":"1485971359.000658"},{"type":"message","user":"U2UNR91RB","text":"What would be the best channel for my inquiry?","ts":"1485971374.000659"},{"type":"message","user":"U0KPFAZNF","text":"well, its \"done\" in that I have it implemented and tested","ts":"1485971374.000660"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1485971377.000661"},{"type":"message","user":"U0ULK2JPP","text":"what does it mean to \u201cdeploy\u201d ?","ts":"1485971388.000662"},{"type":"message","user":"U0KPFAZNF","text":"its not done in that the patches are not upstream yet, and I have to fix a CI problem before they can be merged","ts":"1485971391.000663"},{"type":"message","user":"U0ULK2JPP","text":"(I can go read it again if you want me to)","ts":"1485971404.000664"},{"type":"message","user":"U0ULK2JPP","text":"fabric-sdk-dev would be a start <@U2UNR91RB>","ts":"1485971448.000665"},{"type":"message","user":"U0KPFAZNF","text":"well, the meat of the changes to deployment are simple: its exactly as before except the Dockerfile can be omitted from the CodePackage and will in fact be ignored even if its included","ts":"1485971449.000666"},{"type":"message","user":"U0ULK2JPP","text":"so in the 1.0 CLI the \u201cuser\u201d does exactly what he does today","ts":"1485971477.000667"},{"type":"message","user":"U0KPFAZNF","text":"on the backend, <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4943\/> is doing all the heavy lifting","ts":"1485971480.000668"},{"type":"message","user":"U0KPFAZNF","text":"exactly","ts":"1485971490.000669"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1485971493.000670"},{"type":"message","user":"U0KPFAZNF","text":"user doesnt change anything, but the CLI\/SDK have been mutated to omit the Dockerfile","ts":"1485971509.000671"},{"type":"message","user":"U2UNR91RB","text":"<@U0ULK2JPP> oh ok, -dev. Thanks","ts":"1485971509.000672"},{"type":"message","user":"U0KPFAZNF","text":"if someone runs an old CLI\/SDK against the new (yet to be merged) peer, the peer will simply disregard the Dockerfile provided","ts":"1485971537.000673"},{"type":"message","user":"U0KPFAZNF","text":"so, the only group that might notice a change is anyone that had been providing a custom Dockerfile","ts":"1485971555.000674"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1485971570.000675"},{"type":"message","user":"U0KPFAZNF","text":"i am not aware of the scope of users that might have done this","ts":"1485971583.000676"},{"type":"message","user":"U0ULK2JPP","text":"right","ts":"1485971586.000677"},{"type":"message","user":"U0KPFAZNF","text":"i suspect its small\/none","ts":"1485971588.000678"},{"type":"message","user":"U0ULK2JPP","text":"I was thinking that too","ts":"1485971597.000679"},{"type":"message","user":"U0KPFAZNF","text":"one thing I nee to do is make a nice obvious log when I detect a Dockerfile is present","ts":"1485971622.000680"},{"type":"message","user":"U0KPFAZNF","text":"to aid in the \"WTF\" moment that might arise if someone had been doing the custom thing","ts":"1485971639.000681"},{"type":"message","user":"U0KPFAZNF","text":"right now, i just silently plow over it if it happens to be there","ts":"1485971657.000682"},{"type":"message","user":"U0KPFAZNF","text":"actually, i should test that","ts":"1485971669.000683"},{"type":"message","user":"U0KPFAZNF","text":"i actually dont know what would happen if one is provided","ts":"1485971678.000684"},{"type":"message","user":"U0KPFAZNF","text":"i assume it would be plowed over by the TarStreamer thing, but that is a guess","ts":"1485971700.000685"},{"type":"message","user":"U0KPFAZNF","text":"basically we are talking about line 157 here: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4943\/2\/core\/chaincode\/platforms\/golang\/platform.go>","ts":"1485971749.000686"},{"type":"message","user":"U0KPFAZNF","text":"oh right, yeah, it will be ignored","ts":"1485971783.000687"},{"type":"message","user":"U0KPFAZNF","text":"the user no longer has access to the tarball that is presented to Docker","ts":"1485971794.000688"},{"type":"message","user":"U0KPFAZNF","text":"rather, its loaded as a subordinate payload","ts":"1485971803.000689"},{"type":"message","user":"U0KPFAZNF","text":"(line 162)","ts":"1485971815.000690"},{"type":"message","user":"U0KPFAZNF","text":"so codepackage.tgz could very well have a Dockerfile in it, but we will never look at it","ts":"1485971839.000691"},{"type":"message","user":"U0KPFAZNF","text":"on a related but different topic <@U0ULK2JPP>: im thinking we should clean up the whole \"go binary is named after the chaincodeName\" thing","ts":"1485971958.000692"},{"type":"message","user":"U0KPFAZNF","text":"and use ENTRYPOINTs","ts":"1485971969.000693"},{"type":"message","user":"U0KPFAZNF","text":"e.g. go install GOBIN=\/usr\/bin\/chaincode &amp;&amp; ENTRYPOINT \/usr\/bin\/chaincode","ts":"1485971998.000694"},{"type":"message","user":"U0KPFAZNF","text":"it buys us nothing to use custom names within the container and just makes the docker interactions more complex","ts":"1485972040.000695"},{"type":"message","user":"U0KPFAZNF","text":"would also help us unify the platform drivers...e.g. java could have its own entrypoint that conforms, etc","ts":"1485972087.000696"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases\/tag\/v0.10.1>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases\/tag\/v0.10.1","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/releases\/tag\/v0.10.1","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1485972651.000697"},{"type":"message","user":"U0KPFAZNF","text":"<@U2UNR91RB> that includes your fix, chaintool-env, as well as the emerging support for v1.0","edited":{"user":"U0KPFAZNF","ts":"1485972691.000000"},"ts":"1485972680.000699"},{"type":"message","user":"U0KPFAZNF","text":"but if you are using v0.6.1, stick with v0.9.2","ts":"1485972706.000701"},{"type":"message","user":"U0KPFAZNF","text":"im not maintaining compatibility, at least not until we hit v1.0","ts":"1485972730.000702"},{"type":"message","user":"U2UNR91RB","text":"Thanks <@U0KPFAZNF>. I will be sticking with v0.9.2... Hopefully not too long.. This SDK issue is going to stick with me though..","ts":"1485972739.000703"},{"type":"message","user":"U0KPFAZNF","text":"the good news is, the SDK is much easier to work with in v1.0 than it was in v0.6","ts":"1485972770.000704"},{"type":"message","user":"U0KPFAZNF","text":"fwiw","ts":"1485972772.000705"},{"type":"message","user":"U0KPFAZNF","text":"i realize thats still a bit of refactoring if you were using REST though","ts":"1485972784.000706"},{"type":"message","user":"U2UNR91RB","text":"I said something over in <#C25AQBS4B|fabric-sdk-dev> though, no need to divert this channel with it any more","ts":"1485972789.000707","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"<@U2UNR91RB> if you get a chance, think about a sane way we could incorporate a unit-test to ensure the invoker thing doesnt break in the future","ts":"1485972909.000708"},{"type":"message","user":"U0KPFAZNF","text":"or really any of the code generators would be nice to have coverage","ts":"1485972926.000709"},{"type":"message","user":"U0KPFAZNF","text":"right now its somewhat detached","ts":"1485972939.000710"},{"type":"message","user":"U0KPFAZNF","text":"i think I do have some coverage for proto.stg","ts":"1485972954.000711"},{"type":"message","user":"U0KPFAZNF","text":"but even that is a bit synthetic","ts":"1485972962.000712"},{"type":"message","user":"U2UNR91RB","text":"<@U0KPFAZNF> I am definitely thinking about testing chaincode. I still haven't played around with the mock stub.ChaincodeStubInterface implementation yet though. I'm not sure it does what I would expect","ts":"1485972993.000713"},{"type":"message","user":"U0KPFAZNF","text":"yeah, that is probably the right line of thinking at least","ts":"1485973011.000714"},{"type":"message","user":"U2UNR91RB","text":":slightly_smiling_face:","ts":"1485973031.000715"},{"type":"message","user":"U0KPFAZNF","text":"even if it ends up being that we have to patch the mocks, thats fine","ts":"1485973054.000716"},{"type":"message","user":"U0KPFAZNF","text":"i.e. dont feel constrained by whats currently available in other aspects of the project","ts":"1485973081.000717"},{"type":"message","user":"U2UNR91RB","text":"OK. I do intend to look at that stuff in the coming couple of weeks","ts":"1485973109.000718","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U2UNR91RB","text":"Basically, when I start writing my next chaincode app I will try to actually get unit tests implemented. Right now everything is tested by being integrated with a peer, which is fairly clunky","ts":"1485973239.000719"},{"type":"message","user":"U2UNR91RB","text":"In terms of ensuring that \"invoker\"  continues to work... I'm not sure. I guess you would want to create a test that deploys example02 and invoker into a fabric-peer container that is running --peer-chaincodedev, iirc like I showed in my original pull-request (the one I had to close :wink: ).","edited":{"user":"U2UNR91RB","ts":"1485973596.000000"},"ts":"1485973536.000720"},{"type":"message","user":"U2UNR91RB","text":"I have been using python scripts to do something like this with fabric v0.6.1 (chaintool v0.9.x). I would be at a disadvantage trying to do that with the node SDK. I have deliberately stayed away from JS development the last few years due to all the churn in the ecosystem","ts":"1485973733.000723"},{"type":"message","user":"U0KPFAZNF","text":"i was thinking it was simpler than that: some what to basically generate essentially the invoker stubs, and then compile them","ts":"1485973761.000724"},{"type":"message","user":"U2UNR91RB","text":"Well, you can make sure it compiles","ts":"1485973774.000725"},{"type":"message","user":"U2UNR91RB","text":"But that is not the same as making sure it works","ts":"1485973785.000726"},{"type":"message","user":"U0KPFAZNF","text":"e.g. \"chaintool build -p path\/to\/invoker\" and just make sure it succeeds","ts":"1485973786.000727"},{"type":"message","user":"U0KPFAZNF","text":"agreed, but its a huge improvement over what we have today","ts":"1485973797.000728"},{"type":"message","user":"U2UNR91RB","text":"OK. Sure","ts":"1485973810.000729"},{"type":"message","user":"U0KPFAZNF","text":"right now, the .stg gets very little validation that it produces code that is actual go code, much less that it compiles","ts":"1485973822.000730"},{"type":"message","user":"U0KPFAZNF","text":"having a go-build pass over that would go a long way","ts":"1485973838.000731"},{"type":"message","user":"U2UNR91RB","text":"Indeed","ts":"1485973846.000732"},{"type":"message","user":"U0KPFAZNF","text":"anything beyond that is gravy","ts":"1485973846.000733","reactions":[{"name":"smile","users":["U2UNR91RB"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/5195\/>","ts":"1485973873.000734"},{"type":"message","user":"U0KPFAZNF","text":"maybe I just somewhat answered my own question","ts":"1485973903.000735"},{"type":"message","user":"U0KPFAZNF","text":"we could use the invoker example in that CR 5195 UT","edited":{"user":"U0KPFAZNF","ts":"1485974003.000000"},"ts":"1485973910.000736"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1485973912.000737"},{"type":"message","user":"U0KPFAZNF","text":"its not tightly coupled to changes in the chaintool.git, but its better than what we have today","ts":"1485973926.000738"},{"type":"message","user":"U0KPFAZNF","text":"ideally, i would love to get this coverage in the chaintool.git::lein test suite","ts":"1485973968.000739"},{"type":"message","user":"U2UNR91RB","text":"Would you still want to do those tests in some container to ensure that you have access to the <http:\/\/github.com\/hyperledger\/fabric\/|github.com\/hyperledger\/fabric\/>... packages at the right version?","ts":"1485974027.000741"},{"type":"message","user":"U0KPFAZNF","text":"thats what I was just thinking","ts":"1485974036.000742"},{"type":"message","user":"U2UNR91RB","text":"Cool","ts":"1485974041.000743"},{"type":"message","user":"U0KPFAZNF","text":"maybe in the UT, we do that particular validation in a container so we can get the run go compiler, shim, etc","ts":"1485974059.000744"},{"type":"message","user":"U0KPFAZNF","text":"i think there are at least java libs to drive docker, so we could use java interop...or we could just exec shell commands","ts":"1485974110.000745"},{"type":"message","user":"U2UNR91RB","text":"Maybe you can just use Go's built-in vendoring...","ts":"1485974113.000746"},{"type":"message","user":"U2UNR91RB","text":"i.e. create a directory, examples\/vendor","ts":"1485974132.000747"},{"type":"message","user":"U0KPFAZNF","text":"im open to anything at this point","ts":"1485974143.000748"},{"type":"message","user":"U0KPFAZNF","text":"so if you have an idea, run with it","ts":"1485974148.000749"},{"type":"message","user":"U2UNR91RB","text":"Well, you may not have fabric-chaintool in your GOPATH","ts":"1485974164.000750"},{"type":"message","user":"U2UNR91RB","text":"that is probably likely","ts":"1485974169.000751"},{"type":"message","user":"U0KPFAZNF","text":"yeah, i think this has to be done in docker","ts":"1485974175.000752"},{"type":"message","user":"U2UNR91RB","text":"So Go's builtin vendoring wouldn't work unless the examples\/ directory looked like a GOPATH (i.e. nested the examples below a src\/ directory)","ts":"1485974194.000753"},{"type":"message","user":"U0KPFAZNF","text":"i think its ok to say the ut depends on docker, but if we start getting into go\/GOPATH, we will run into trouble","ts":"1485974202.000754"},{"type":"message","user":"U2UNR91RB","text":"Yes... This idea has gotten way too complicated. Just use Docker","ts":"1485974222.000755"},{"type":"message","user":"U0KPFAZNF","text":"agreed","ts":"1485974228.000756"},{"type":"message","user":"U0KPFAZNF","text":"we can use hyperledger\/fabric-baseimage:$(ARCH)-0.3.0 as a stable coordinate that would have more or less the full environment","ts":"1485974278.000757"},{"type":"message","user":"U0KPFAZNF","text":"from there, pull a specific version of fabric-shim, and then run a build","ts":"1485974304.000758"},{"type":"message","user":"U2UNR91RB","text":"Sounds right","ts":"1485974319.000759"},{"type":"message","user":"U0KPFAZNF","text":"would think that would be relatively reliable","ts":"1485974326.000760"},{"type":"message","user":"U2UNR91RB","text":"Agreed","ts":"1485974338.000761"},{"type":"message","user":"U0KPFAZNF","text":"would also be a decent platform to get fancier with actually spinning things up down the road, if we want to get that elaborate","ts":"1485974358.000762"},{"type":"message","user":"U2UNR91RB","text":"Right.. I was thinking that.","ts":"1485974382.000763"},{"type":"message","user":"U0KPFAZNF","text":"though probably better to wait for things like hyperledger\/fabric-peer:$(ARCH)-1.0.0 than to try to build, etc","ts":"1485974407.000764"},{"type":"message","user":"U2UNR91RB","text":"Sounds reasonable","ts":"1485974476.000765"},{"type":"message","user":"U2UNR91RB","text":"<@U0KPFAZNF> what are your thoughts on chaintool compressing tx\/query payloads?","ts":"1485981361.000766"},{"type":"message","user":"U2UNR91RB","text":"That is, adjusting chaintool's RPC protocol to support compressed payloads. ","ts":"1485981410.000767"},{"type":"message","user":"U0KPFAZNF","text":"we could, and it would be easy to do on the chaincode side, but without a client side stack (currently) I fear it would complicate clients","ts":"1485981427.000768"},{"type":"message","user":"U2UNR91RB","text":"Indeed. I had similar thoughts. ","ts":"1485981446.000769"},{"type":"message","user":"U0KPFAZNF","text":"on a related note, I was planning on dropping the base64 encoding for 1.0","ts":"1485981454.000770"},{"type":"message","user":"U0KPFAZNF","text":"i think we talked about that already though","ts":"1485981462.000771"},{"type":"message","user":"U0KPFAZNF","text":"that would have a slight compressing effect","ts":"1485981472.000772"},{"type":"message","user":"U2UNR91RB","text":"Indeed. Base64 expands data at a ratio of 4\/3 ","ts":"1485981500.000773"},{"type":"message","user":"U0KPFAZNF","text":"I like the idea overall, but without a client side stack it might be awkward","ts":"1485981511.000774"},{"type":"message","user":"U0KPFAZNF","text":"this is actually the first RPC\/IDL system I have worked on where I wasnt generating code on both sides","ts":"1485981530.000775"},{"type":"message","user":"U0KPFAZNF","text":"it is a bit limiting, heh","ts":"1485981536.000776"},{"type":"message","user":"U2UNR91RB","text":"In my world I am generating Go clients. So it has little effect","ts":"1485981537.000777"},{"type":"message","user":"U0KPFAZNF","text":"but related to all this, I had been contemplating having some kind of header\/envelope","ts":"1485981577.000778"},{"type":"message","user":"U0KPFAZNF","text":"one of the things that envelope could carry would be encoding options, like gzip","ts":"1485981592.000779"},{"type":"message","user":"U2UNR91RB","text":"Well, you are generating client side code, but the problem is there are three sides and only two are generated ;)","edited":{"user":"U2UNR91RB","ts":"1485981608.000000"},"ts":"1485981595.000780"},{"type":"message","user":"U0KPFAZNF","text":"so, if we left it up to the app, it might be palatable","ts":"1485981607.000781"},{"type":"message","user":"U0KPFAZNF","text":"ah, i see what you are saying","ts":"1485981646.000783"},{"type":"message","user":"U0KPFAZNF","text":"i was confused at first, heh","ts":"1485981650.000784"},{"type":"message","user":"U0KPFAZNF","text":"you mean the cc2cc clients","ts":"1485981657.000785"},{"type":"message","user":"U2UNR91RB","text":"Heh. Right. ","ts":"1485981663.000786"},{"type":"message","user":"U2UNR91RB","text":"Should have said consumer code. ","ts":"1485981678.000787"},{"type":"message","user":"U0KPFAZNF","text":"so here are a few ideas ive kicked around","ts":"1485981688.000788"},{"type":"message","user":"U2UNR91RB","text":"That happens to reside in a file called client-stub.go","ts":"1485981696.000789"},{"type":"message","user":"U0KPFAZNF","text":"still use \"1 arg\" model, but have an envelope for the payload","ts":"1485981708.000790"},{"type":"message","user":"U0KPFAZNF","text":"thats \"model 1\"","ts":"1485981722.000791"},{"type":"message","user":"U0KPFAZNF","text":"mode 2: use the second arg as optional","ts":"1485981732.000792"},{"type":"message","user":"U0KPFAZNF","text":"argv[2] = pb.Header","ts":"1485981745.000793"},{"type":"message","user":"U0KPFAZNF","text":"if its there, decode it","ts":"1485981750.000794"},{"type":"message","user":"U0KPFAZNF","text":"if its not, assume default options","ts":"1485981757.000795"},{"type":"message","user":"U0KPFAZNF","text":"that way, clients that dont care can stay simple","ts":"1485981775.000796"},{"type":"message","user":"U2UNR91RB","text":"The latter sounds backwards compatible. ","ts":"1485981783.000797"},{"type":"message","user":"U0KPFAZNF","text":"in there, we could have options for encoding like gzip","ts":"1485981789.000798"},{"type":"message","user":"U2UNR91RB","text":"I would like snappy support, but yes http-style Content-Encoding","ts":"1485981837.000799"},{"type":"message","user":"U0KPFAZNF","text":"yeah, though backwards compat is largely out the window v0.6-&gt;v1.0 anyway","ts":"1485981838.000800"},{"type":"message","user":"U0KPFAZNF","text":"so i am not as worried about it","ts":"1485981842.000801"},{"type":"message","user":"U2UNR91RB","text":"Sure. That's not really what I meant. ","ts":"1485981861.000802"},{"type":"message","user":"U0KPFAZNF","text":"np, that was an aside more than anything","ts":"1485981872.000803"},{"type":"message","user":"U2UNR91RB","text":"Just saying, fabric 1.0 might launch without this support in chaintool?","ts":"1485981890.000804"},{"type":"message","user":"U0KPFAZNF","text":"related though: if we want to do this, would be good to get it in before 1.0 goes out","ts":"1485981890.000805"},{"type":"message","user":"U0KPFAZNF","text":"because then backwards compat does matter","ts":"1485981897.000806"},{"type":"message","user":"U2UNR91RB","text":"Ah","ts":"1485981898.000807"},{"type":"message","user":"U2UNR91RB","text":"We are on the same page. ","ts":"1485981915.000808"},{"type":"message","user":"U0KPFAZNF","text":"ah, i see what you meant","ts":"1485981915.000809"},{"type":"message","user":"U0KPFAZNF","text":"the challenge is, unlike other protocols I have designed, we dont have much opportunity to negotiate","ts":"1485981939.000810"},{"type":"message","user":"U0KPFAZNF","text":"so, if a client encodes with snappy and sets arg[2] to a chaincode compiled with an old chaintool, it wont know how to read it","ts":"1485981966.000811"},{"type":"message","user":"U2UNR91RB","text":"Hrm. Could there be some meta negotiation query?","ts":"1485981993.000812"},{"type":"message","user":"U0KPFAZNF","text":"so, if this arg[2] thing is the way we want to go, we should at least lay the groundwork","ts":"1485981994.000813"},{"type":"message","user":"U0KPFAZNF","text":"hmm, thats a great idea actually","ts":"1485982006.000814"},{"type":"message","user":"U0KPFAZNF","text":"I already have a meta interface","ts":"1485982012.000815"},{"type":"message","user":"U0KPFAZNF","text":"not for this reason, but it could be extended","ts":"1485982026.000816"},{"type":"message","user":"U2UNR91RB","text":"I saw that just recently.. though didn't know its purpose. ","ts":"1485982032.000817"},{"type":"message","user":"U0KPFAZNF","text":"its primary purpose is it allows you to introspect a chaincode for the CCIs it supports","ts":"1485982052.000818"},{"type":"message","user":"U0KPFAZNF","text":"but it also lets you query some other metadata, like the version of your app and the compilers used","ts":"1485982071.000819"},{"type":"message","user":"U2UNR91RB","text":"Interesting. ","ts":"1485982094.000820"},{"type":"message","user":"U0KPFAZNF","text":"but theres nothing that would stop us for extending that notion to say \"what encodings do you support\" etc","ts":"1485982095.000821"},{"type":"message","user":"U2UNR91RB","text":"Right!","ts":"1485982103.000822"},{"type":"message","user":"U0KPFAZNF","text":"You probably already saw this, but its covered in detail here: <https:\/\/github.com\/hyperledger\/fabric-chaintool#metadata>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool#metadata","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool#metadata","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1485982172.000823"},{"type":"message","user":"U0KPFAZNF","text":"that said, I suspect the \"chaintool inspect\" command is broken in 1.0 because I rely on the REST endpoint","ts":"1485982197.000825"},{"type":"message","user":"U0KPFAZNF","text":"so that will need to be refactored for 1.0","ts":"1485982207.000826"},{"type":"message","user":"U0KPFAZNF","text":"but the interface is still there, regardless","ts":"1485982212.000827"},{"type":"message","user":"U0KPFAZNF","text":"its just a standard CCI, with the exception that I implicitly compile it into your app","ts":"1485982230.000828"},{"type":"message","user":"U0KPFAZNF","text":"so the backend is there, I just dont have a convenient way to query it","ts":"1485982246.000829"},{"type":"message","user":"U0KPFAZNF","text":"so, you could make a query(metadata) with no arg[2] set as a LCD","ts":"1485982299.000830"},{"type":"message","user":"U2UNR91RB","text":"I actually didn't remember reading that section :p","ts":"1485982303.000831"},{"type":"message","user":"U0KPFAZNF","text":"figure out the encodings, and then hit the real interface encoded as you want","ts":"1485982318.000832"},{"type":"message","user":"U2UNR91RB","text":"It took me a long time to decouple fabric and chaintool mentally. ","ts":"1485982335.000833"},{"type":"message","user":"U0KPFAZNF","text":"one complication would be figuring out what to do with cc2cc","ts":"1485982347.000834"},{"type":"message","user":"U2UNR91RB","text":"So a lot of the readme didn't make too much sense on the first read","ts":"1485982370.000835"},{"type":"message","user":"U0KPFAZNF","text":"but anyway, check it out if you have an 0.6.1\/0.9.2 setup running","ts":"1485982386.000836"},{"type":"message","user":"U0KPFAZNF","text":"i think inspect will work there","ts":"1485982390.000837"},{"type":"message","user":"U2UNR91RB","text":"I will try that at some point. ","ts":"1485982404.000838"},{"type":"message","user":"U0KPFAZNF","text":"you can even download the CCIs","ts":"1485982411.000839"},{"type":"message","user":"U0KPFAZNF","text":"its kind of cool","ts":"1485982417.000840"},{"type":"message","user":"U2UNR91RB","text":"Oh, huh. That is interesting","ts":"1485982436.000841"},{"type":"message","user":"U2UNR91RB","text":"Maybe I could promote a chaincode out of a staging chain and into a production chain like that","ts":"1485982484.000842"},{"type":"message","user":"U2UNR91RB","text":"Err. Nevermind","ts":"1485982497.000843"},{"type":"message","user":"U2UNR91RB","text":"I thought you said I could download the car.","edited":{"user":"U2UNR91RB","ts":"1485982529.000000"},"ts":"1485982511.000844"},{"type":"message","user":"U2UNR91RB","text":"Derp","ts":"1485982518.000845"},{"type":"message","user":"U0KPFAZNF","text":"its the CCIs not the car","ts":"1485982524.000846"},{"type":"message","user":"U2UNR91RB","text":"Is the CCI format spec defined in a way that parsers could be generated in non-jvm languages?","ts":"1485982617.000848"},{"type":"message","user":"U0KPFAZNF","text":"yeah, its protobuf","ts":"1485982649.000849"},{"type":"message","user":"U0KPFAZNF","text":"err, sorry","ts":"1485982656.000850"},{"type":"message","user":"U0KPFAZNF","text":"CAR is protobuf","ts":"1485982660.000851"},{"type":"message","user":"U0KPFAZNF","text":"there is an EBNF grammar for the CCI","ts":"1485982673.000852"},{"type":"message","user":"U0KPFAZNF","text":"so, this defines the EBNF for CCI: <https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/resources\/parsers\/interface\/grammar.bnf>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/resources\/parsers\/interface\/grammar.bnf","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/resources\/parsers\/interface\/grammar.bnf","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1485982712.000853"},{"type":"message","user":"U0KPFAZNF","text":"though note that I also use a whitespace grammar: <https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/resources\/parsers\/interface\/skip.bnf>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/resources\/parsers\/interface\/skip.bnf","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/resources\/parsers\/interface\/skip.bnf","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1485982740.000855"},{"type":"message","user":"U0KPFAZNF","text":"subtractive from the first","ts":"1485982748.000857"},{"type":"message","user":"U2UNR91RB","text":"Oh interesting. I thought there may have been some oddities of whitespace handling. ","ts":"1485982799.000858"},{"type":"message","user":"U0KPFAZNF","text":"for completeness, here is the CAR spec","ts":"1485982802.000859"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/resources\/proto\/car.proto>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/resources\/proto\/car.proto","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/resources\/proto\/car.proto","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1485982802.000860"},{"type":"message","user":"U0KPFAZNF","text":"yeah, I use the instaparse library, but most parsers I have used have some form of a whitespace\/skipper function","ts":"1485982844.000862"},{"type":"message","user":"U2UNR91RB","text":"I have some weird behavior with whitespace and inline comments (i.e. \/\/)","edited":{"user":"U2UNR91RB","ts":"1485982869.000000"},"ts":"1485982850.000863"},{"type":"message","user":"U0KPFAZNF","text":"I could have a bug\/limitation in the grammar","ts":"1485982873.000865"},{"type":"message","user":"U2UNR91RB","text":"I've been meaning to do more investigation and come up with small test cases. ","ts":"1485982904.000866"},{"type":"message","user":"U0KPFAZNF","text":"if you find something odd, make a unit-test for it that shows the borkage","ts":"1485982920.000867"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/test\/chaintool\/build\/test_interface.clj>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/test\/chaintool\/build\/test_interface.clj","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/test\/chaintool\/build\/test_interface.clj","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1485982943.000868"},{"type":"message","user":"U0KPFAZNF","text":"once its in that form, its easy for me to debug the parser","ts":"1485982955.000870"},{"type":"message","user":"U2UNR91RB","text":"Excellent test_interface.clj looks like the place to go. ","ts":"1485982984.000871"},{"type":"message","user":"U2UNR91RB","text":"Thanks. ","ts":"1485982998.000872"},{"type":"message","user":"U0KPFAZNF","text":"the very first test (<https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/test\/chaintool\/build\/test_interface.clj#L21>) deals with comments","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/test\/chaintool\/build\/test_interface.clj#L21","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/blob\/master\/test\/chaintool\/build\/test_interface.clj#L21","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1485983010.000873"},{"user":"U3WM9K85R","text":"<@U3WM9K85R|mbaizan> has joined the channel","type":"message","subtype":"channel_join","ts":"1486021090.000875"},{"user":"U21SS2VQQ","text":"<@U21SS2VQQ|geahaad> has joined the channel","type":"message","subtype":"channel_join","ts":"1486033824.000876"},{"type":"message","user":"U0KPFAZNF","text":"all: note that LF is moving to rocketchat, and I created a <#C1JJ6BL5T|fabric-chaintool> channel over there","ts":"1486146492.000877"},{"type":"message","user":"U0KPFAZNF","text":"pls migrate at earliest convenience","ts":"1486146500.000878"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KRRM29Z> especially you, slacker","ts":"1486146510.000879"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/chat.hyperledger.org>","ts":"1486146533.000880"},{"type":"message","user":"U0KPFAZNF","text":"use the \"CAS\" button to login with your LF credentials","ts":"1486146544.000881"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP> <@U0KRRM29Z> <@U2UNR91RB> <https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/43>","attachments":[{"service_name":"GitHub","title":"Remove base64 from protocol by ghaskins \u00b7 Pull Request #43 \u00b7 hyperledger\/fabric-chaintool \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/43","text":"This was a leftover from when the fabric transport was string based. Since we can now send raw bytes, we might as well use them since its more space and time efficient to avoid the base64 encode\/d...","fallback":"GitHub: Remove base64 from protocol by ghaskins \u00b7 Pull Request #43 \u00b7 hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool\/pull\/43","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/bfaba\/img\/unfurl_icons\/github.png","id":1}],"ts":"1486213590.000882"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jira.hyperledger.org\/browse\/FAB-2036>","ts":"1486214157.000884"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: I imported all of the GH issues over to JIRA: <https:\/\/jira.hyperledger.org\/browse\/FAB-2044?jql=project%20%3D%20FAB%20AND%20component%20%3D%20fabric-chaintool>","ts":"1486217427.000885"},{"user":"U0UHG4VP1","inviter":"U0KPFAZNF","text":"<@U0UHG4VP1|ry> has joined the channel","type":"message","subtype":"channel_join","ts":"1486217431.000886"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: (sorry for traffic on legacy slack, most users havent moved yet and I didnt want them to miss)","ts":"1486217720.000887"},{"type":"message","user":"U0KPFAZNF","text":"but I think we are ready for the gerrit move whenever you are, but make sure we coordinate so we can restore the URLs as quickly as possible","ts":"1486217754.000888"},{"type":"message","user":"U0KPFAZNF","text":"I do wonder, perhaps we can stage the mirror first","ts":"1486217791.000889"},{"type":"message","user":"U0KPFAZNF","text":"e.g. leave <http:\/\/github.com\/hyperledger\/fabric-chaintool|github.com\/hyperledger\/fabric-chaintool> in place, set up gerrit with a gh mirror to a different name","ts":"1486217830.000890"},{"type":"message","user":"U0KPFAZNF","text":"get all the patches\/binaries imported, and then do the switch in one fell swoop","ts":"1486217889.000891"},{"type":"message","user":"U0KPFAZNF","text":"<http:\/\/github.com\/hyperledger\/fabric-chaintool|github.com\/hyperledger\/fabric-chaintool> -&gt; archives &amp;&amp; <http:\/\/github.com\/hyperledger\/fabric-chaintool-mirror|github.com\/hyperledger\/fabric-chaintool-mirror> -&gt; <http:\/\/github.com\/hyperledger\/fabric-chaintool|github.com\/hyperledger\/fabric-chaintool>","ts":"1486217925.000892"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> the mirror doesn't work like that, the repos have to have the same name","ts":"1486252675.000893"},{"type":"message","user":"U0KPFAZNF","text":"Ah, ok","ts":"1486259504.000894"},{"type":"message","user":"U0KPFAZNF","text":"We will have to just pick a time window and work quickly","ts":"1486259523.000895"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> ping","ts":"1486318185.000896"},{"type":"message","user":"U0KPFAZNF","text":"hey","ts":"1486318190.000897"},{"type":"message","user":"U0UHG4VP1","text":"OK let me do 1\/4 of this and you do 1\/4 of this. I'll create the new repo on gerrit, and I'll move the the current github repo to the archive","ts":"1486318228.000898"},{"type":"message","user":"U0KPFAZNF","text":"ok, but i probably dont have much time left today","ts":"1486318247.000899"},{"type":"message","user":"U0UHG4VP1","text":"OK some other day then","ts":"1486318253.000900"},{"type":"message","user":"U0KPFAZNF","text":"yeah, tomorrow night perhaps?","ts":"1486318263.000901"},{"type":"message","user":"U0UHG4VP1","text":"sure.","ts":"1486318268.000902"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1486318271.000903"},{"type":"message","user":"U0UHG4VP1","text":"you can push changes to <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric-chaintool> - please don't merge them today","ts":"1486318411.000904"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: whats the status?","ts":"1486388833.000905"},{"type":"message","user":"U0KPFAZNF","text":"push but no merge still?","ts":"1486388838.000906"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins go ahead and push, you'll need 2+2 to merge (earlier, you could have just merged)","ts":"1486392009.000907"},{"type":"message","user":"U0KPFAZNF","text":"roger","ts":"1486392019.000908"},{"type":"message","user":"U0UHG4VP1","text":"I guess I should have been more clear","ts":"1486392034.000909"},{"type":"message","user":"U0KPFAZNF","text":"np","ts":"1486392041.000910"},{"type":"message","user":"U0UHG4VP1","text":"is it OK if I move <http:\/\/github.com\/..\/fabric-chaintool|github.com\/..\/fabric-chaintool> to the archive for now? the github redirects should make everyone happy for a bit","ts":"1486392094.000911"},{"type":"message","user":"U0KPFAZNF","text":"i think its ok as long as the redirects provide coverage","ts":"1486396109.000912"},{"type":"message","user":"U0KPFAZNF","text":"the critical part wont happen until we turn on the mirror","ts":"1486396128.000913"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/github.com\/hyperledger-archives\/fabric-chaintool>","attachments":[{"service_name":"GitHub","title":"hyperledger-archives\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger-archives\/fabric-chaintool","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger-archives\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/20729145?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger-archives\/fabric-chaintool","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1486397384.000914"},{"user":"U4091RGRJ","inviter":"U0UHG4VP1","text":"<@U4091RGRJ|rocket.chat> has joined the channel","type":"message","subtype":"channel_join","ts":"1486397409.000916"},{"type":"message","user":"U2B4QU7U3","text":"hey <@U0KPFAZNF> i've been getting some errors trying to get the fabric-boilerplate up and running","ts":"1486404566.000917"},{"type":"message","subtype":"file_mention","text":"<@U2B4QU7U3|karnn> mentioned a file: <https:\/\/hyperledgerproject.slack.com\/files\/karnn\/F41FKMG6Q\/docker-compose_up.txt|docker-compose_up.txt>.","file":{"id":"F41FKMG6Q","created":1486383108,"timestamp":1486383108,"name":"docker-compose_up.txt","title":"docker-compose up","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U2B4QU7U3","editable":true,"size":4759,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F41FKMG6Q\/docker-compose_up.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F41FKMG6Q\/download\/docker-compose_up.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/karnn\/F41FKMG6Q\/docker-compose_up.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F41FKMG6Q-3514e31351","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/karnn\/F41FKMG6Q\/docker-compose_up.txt\/edit","preview":"Creating fabricboilerplate_membersrvc_1\r\nCreating fabricboilerplate_vp0_1\r\nAttaching to fabricboilerplate_membersrvc_1, fabricboilerplate_vp0_1\r\nvp0_1         | 11:58:32.806 [peer] func1 -> INFO 001 Auto detected peer address: 172.17.0.3:7051\r\nvp0_1         | 11:58:32.806 [peer] func1 -> INFO 002 Auto detected peer address: 172.17.0.3:7051\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Creating fabricboilerplate_membersrvc_1<\/pre><\/div>\n<div><pre>Creating fabricboilerplate_vp0_1<\/pre><\/div>\n<div><pre>Attaching to fabricboilerplate_membersrvc_1, fabricboilerplate_vp0_1<\/pre><\/div>\n<div><pre>vp0_1         | 11:58:32.806 [peer] func1 -&gt; INFO 001 Auto detected peer address: 172.17.0.3:7051<\/pre><\/div>\n<div><pre>vp0_1         | 11:58:32.806 [peer] func1 -&gt; INFO 002 Auto detected peer address: 172.17.0.3:7051<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":39,"lines_more":34,"preview_is_truncated":true,"channels":["C0Y4PEU22"],"groups":[],"ims":[],"comments_count":0},"user":"U2B4QU7U3","ts":"1486404574.000919"},{"type":"message","subtype":"file_mention","text":"<@U2B4QU7U3|karnn> mentioned a file: <https:\/\/hyperledgerproject.slack.com\/files\/karnn\/F423VJM4N\/npm_start.txt|npm_start.txt>.","file":{"id":"F423VJM4N","created":1486383187,"timestamp":1486383187,"name":"npm_start.txt","title":"npm start","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U2B4QU7U3","editable":true,"size":7298,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F423VJM4N\/npm_start.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F423VJM4N\/download\/npm_start.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/karnn\/F423VJM4N\/npm_start.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F423VJM4N-531303e821","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/karnn\/F423VJM4N\/npm_start.txt\/edit","preview":"> server@0.0.0 start \/home\/karn\/blockchain\/fabric\/src\/github.com\/fabric-boilerplate\r\n> npm run build-css | npm run watch-css | npm run nodemon\r\n\r\n\r\n> server@0.0.0 nodemon \/home\/karn\/blockchain\/fabric\/src\/github.com\/fabric-boilerplate\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>&gt; server@0.0.0 start \/home\/karn\/blockchain\/fabric\/src\/github.com\/fabric-boilerplate<\/pre><\/div>\n<div><pre>&gt; npm run build-css | npm run watch-css | npm run nodemon<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<div><pre><\/pre><\/div>\n<div><pre>&gt; server@0.0.0 nodemon \/home\/karn\/blockchain\/fabric\/src\/github.com\/fabric-boilerplate<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":91,"lines_more":86,"preview_is_truncated":true,"channels":["C0Y4PEU22"],"groups":[],"ims":[],"comments_count":0},"user":"U2B4QU7U3","ts":"1486404597.000922"},{"type":"message","user":"U0KPFAZNF","text":"<@U2B4QU7U3> I am not really sure what i am looking at","ts":"1486404688.000924"},{"type":"message","user":"U0KPFAZNF","text":"can you move this over to rocketchat?","ts":"1486404693.000925"},{"user":"U0UHG4VP1","topic":"Discussion moved to <https:\/\/chat.hyperledger.org\/> channel #fabric-chaintool","text":"<@U0UHG4VP1|ry> set the channel topic: Discussion moved to <https:\/\/chat.hyperledger.org\/> channel #fabric-chaintool","type":"message","subtype":"channel_topic","ts":"1486405001.000926"},{"user":"U0UHG4VP1","members":["U0KM61BCP","U0KPFAZNF","U0KQ9QKH6","U0KRRM29Z","U0N0GDVJ5","U0N1FDZK2","U0N4D2T61","U0NCW1DPX","U0NK7T8SH","U0NLP5909","U0PV6MUD6","U0SPN1A68","U0UHG4VP1","U0ULK2JPP","U0W7D64LC","U0Y55KNG2","U0YP7KFGQ","U0Z6VMEER","U0ZMB7ZEJ","U11NUTP4L","U12452RAP","U1296EA0M","U12V3D2P2","U150L8BDF","U17CZFXGU","U1934J6RX","U19PSLZV1","U1CPB11D0","U1D5P2DHD","U1D89DP47","U1ENXTQRL","U1G3WJ740","U1HG09QB1","U1JB7QCBD","U1LES78TT","U1M9R3C8Z","U1N8VD2CE","U1NBM7NHH","U1P52TCE4","U1PFK7GG5","U1RL1951R","U1S0GJ38V","U1SDX7EQZ","U1TMQDYKE","U1V6SJ1FF","U1VE97GV8","U1WMX1P71","U1XMKU015","U1Y4P0HM4","U1Z1KQDMM","U1Z6V101X","U20RCSSKW","U21SS2VQQ","U231RFLFP","U231ZGXDG","U23GLSTS4","U24M29R4G","U257V93MJ","U25ATRAMB","U268EB76W","U269P9D8W","U2B4QU7U3","U2BFLDMEE","U2CSLPV1Q","U2DU7F90B","U2FQG0FD1","U2NRJK00K","U2SK7FU68","U2UNR91RB","U2ZACGWNS","U32ND8W73","U36SX65UN","U3BD4SWBH","U3BH74NH0","U3CMTAX18","U3DHKV84C","U3DKG7M54","U3MBTR5KK","U3QPATC07","U3TNHH1NW","U3U4Y046B","U3V4G8HUZ","U3VDLN47L","U3VKNAAQH","U3WM9K85R","U3X6RA34J","U4091RGRJ"],"text":"<@U0UHG4VP1|ry> archived the channel (w\/ 87 members)","type":"message","subtype":"channel_archive","ts":"1486405013.000927"}]