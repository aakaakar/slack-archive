[{"user":"U0TFEHX8E","type":"message","subtype":"channel_join","text":"<@U0TFEHX8E|sheehan> has joined the channel","ts":"1460037712.000002"},{"user":"U0TFEHX8E","purpose":"Discuss the fabric development environment. https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/devenv","type":"message","subtype":"channel_purpose","text":"<@U0TFEHX8E|sheehan> set the channel purpose: Discuss the fabric development environment. https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/devenv","ts":"1460037712.000003"},{"user":"U0KPFAZNF","inviter":"U0TFEHX8E","type":"message","subtype":"channel_join","text":"<@U0KPFAZNF|ghaskins> has joined the channel","ts":"1460037712.000004"},{"type":"message","user":"U0KPFAZNF","text":"greetings","ts":"1460037815.000005"},{"user":"U0XPR4NP4","type":"message","subtype":"channel_join","text":"<@U0XPR4NP4|jyellick> has joined the channel","ts":"1460037863.000006"},{"type":"message","user":"U0KPFAZNF","text":"on this topic, I started to put together the \u201crepo rebranding\u201d (vagrant\/atlas, dockerhub) as requested by <@U0KN2SSKE> but am hitting a few snags","ts":"1460037874.000007"},{"type":"message","user":"U0KPFAZNF","text":"you might have seen the atlas activity <@U0TFEHX8E>","ts":"1460037892.000008"},{"user":"U0XR6J961","type":"message","subtype":"channel_join","text":"<@U0XR6J961|simon> has joined the channel","ts":"1460037893.000009"},{"user":"U0UGH3X7X","type":"message","subtype":"channel_join","text":"<@U0UGH3X7X|tuand> has joined the channel","ts":"1460037924.000010"},{"type":"message","user":"U0TFEHX8E","text":"I\u2019ve been traveling so I have a bit of catching up to do. Will take a look shortly. I need to switch over to the hyperledger repo on my laptop today","ts":"1460037949.000011"},{"type":"message","user":"U0KPFAZNF","text":"no worries\u2026i havent gotten far yet, but I did create the hyperledger repo on atlas and assigned you ownership, as before","ts":"1460038061.000012"},{"type":"message","user":"U0KPFAZNF","text":"i have a patch that utilizes it, but unit tests are failing so I havent pushed it to the PR branch yet","ts":"1460038082.000013"},{"type":"message","user":"U0KPFAZNF","text":"still investigating","ts":"1460038084.000014"},{"type":"message","user":"U0XR6J961","text":"shouldn't we have packages to install all requirements?","ts":"1460038102.000015"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: that was my original proposal (see dev-env PRs 47 and 48, <https:\/\/github.com\/openblockchain\/obc-dev-env\/pull\/47>)","attachments":[{"service_name":"GitHub","title":"Convert vagrant environment over to use PPA by ghaskins \u00b7 Pull Request #47 \u00b7 openblockchain\/obc-dev-env \u00b7 GitHub","title_link":"https:\/\/github.com\/openblockchain\/obc-dev-env\/pull\/47","text":"Our first update migrates rocksdb to the Launchpad PPA. Other deps may be moved in the future. While the baseimage configuration has been modified, it is not essential to respin the base image ju...","fallback":"GitHub: Convert vagrant environment over to use PPA by ghaskins \u00b7 Pull Request #47 \u00b7 openblockchain\/obc-dev-env","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/openblockchain\/obc-dev-env\/pull\/47","thumb_width":400,"thumb_height":400,"id":1}],"ts":"1460038171.000016"},{"type":"message","user":"U0XR6J961","text":"oh that is great","ts":"1460038185.000018"},{"type":"message","user":"U0KPFAZNF","text":"but it was felt at the time that the indirection to packages was too confusing for developers to understand how to tweak the catalog over the raw vagrant machinations","ts":"1460038219.000019"},{"type":"message","user":"U0KPFAZNF","text":"so, PR 49 was derived from that effort which stripped out the PPA proposal","ts":"1460038235.000020"},{"type":"message","user":"U0XR6J961","text":"i don't understand","ts":"1460038247.000021"},{"type":"message","user":"U0XPR4NP4","text":"Yes, I think the packages generally make everyone's life easier, except for those who want to go a nonstandard path.  If you don't want your env to be x86_64 Ubuntu, then having to reverse engineer the packages is perhaps a daunting step.","ts":"1460038285.000022"},{"type":"message","user":"U0KPFAZNF","text":"well, I put out PR 47\/48 but the PPA portion was rejected in review","ts":"1460038300.000023"},{"type":"message","user":"U0KPFAZNF","text":"thats the short summary","ts":"1460038307.000024"},{"type":"message","user":"U0KPFAZNF","text":"so, then I backed that out and resubmitted as PR 49","ts":"1460038324.000025"},{"type":"message","user":"U0XR6J961","text":"what's the problem with prebuilt packages?","ts":"1460038336.000026"},{"type":"message","user":"U0KPFAZNF","text":"the argument was that the extra level of indirection (needing to edit\/submit PPA stuff) vs just editing vagrant files like setup.sh was more onerous","ts":"1460038396.000027"},{"type":"message","user":"U0XR6J961","text":"jyellick: packages for rocksdb, etc?  other systems have packages already","ts":"1460038406.000028"},{"type":"message","user":"U0XPR4NP4","text":"Moving the compilation step to be only in the baseimage construction eliminates 90% of the pain.  The additional ease that came from building the packages was deemed not enough because of the additional indirection.  I'm not sure I'm entirely sold by that argument, but, at least we got that 90% with the much improved new baseimage stuff.","ts":"1460038494.000029"},{"type":"message","user":"U0XR6J961","text":"not everybody wants to or can use vagrant","ts":"1460038513.000030"},{"type":"message","user":"U0XR6J961","text":"especially for deployments","ts":"1460038518.000031"},{"type":"message","user":"U0XPR4NP4","text":"For those who do not want to use Ubuntu, or x86_64 architecture, then they would need to re-roll those packages for their platform.  Simply doing the 'make' is arguably easier.","ts":"1460038562.000032"},{"type":"message","user":"U0KPFAZNF","text":"obviously I am a proponent of packaging or I wouldnt have submitted the proposal, but I do see both sides","ts":"1460038577.000033"},{"type":"message","user":"U0XPR4NP4","text":"Yes, I definitely liked the PPA approach, and supported its merge.  But I understand the opposition.","ts":"1460038651.000034"},{"type":"message","user":"U0XR6J961","text":"how is that even an either\/or?","ts":"1460038683.000035"},{"type":"message","user":"U0KPFAZNF","text":"one thing I learned through those particular PRs was that the launchpad build system isnt the most easy to use and I could foresee some challenges getting people comfortable with maintaining packages there","ts":"1460038698.000036"},{"type":"message","user":"U0KPFAZNF","text":"its probably at least partly a familiarity thing for me:  i am much more well versed maintaining packages in <http:\/\/build.opensuse.org|build.opensuse.org>","ts":"1460038725.000037"},{"type":"message","user":"U0XR6J961","text":"so what about using this?","ts":"1460038811.000038"},{"type":"message","user":"U0KPFAZNF","text":"if we move towards packaging, that would be my recommendation","ts":"1460038829.000039"},{"type":"message","user":"U0KPFAZNF","text":"(it supports ubuntu and other distros, despite the suse affiliation)","ts":"1460038848.000040"},{"type":"message","user":"U0KPFAZNF","text":"one thing to note, PPA methodology does not mitigate the notion of baseimage: i think the best architecture would encompass both","ts":"1460038885.000041"},{"type":"message","user":"U0XR6J961","text":"i absolutely agree","ts":"1460038921.000042"},{"type":"message","user":"U0KPFAZNF","text":"it has to do with repeatability: baseimage captures repeatability in a manner more natural than raw package repos","ts":"1460038927.000043"},{"type":"message","user":"U0XPR4NP4","text":"I think if it were possible to easily build the packages locally, and not depend on the PPA, then it would be fine.  But, that's starting to introduce additional complexity, and more permutations to dev environments.  For the mainline case, I think the big feature for Vagrant is that everyone's dev environment is exactly the same, so tracking down problems is much easier.  Once some people are rolling their own packages, some are pulling from a PPA, you lose a little of the benefit of Vagrant.  Still, it would be nice for those who want to setup a dev env on their system without all the compilation could simply pull those packages from a repo.  Adding a small script to do so I think would receive much less pushback.","ts":"1460038943.000044","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"so the ideal (to me) would be all stuff are packages, baseimage captures the set of packages for a stable environment","ts":"1460038958.000045"},{"type":"message","user":"U0XR6J961","text":"jyellick: oh it is","ts":"1460038988.000046"},{"user":"U0MUSGY5N","type":"message","subtype":"channel_join","text":"<@U0MUSGY5N|ethertyper> has joined the channel","ts":"1460039085.000047"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XPR4NP4>: well said, one of the things that might make the model work is if the stuff that isnt in the distro were perhaps maintained as part of the hyperledger project","ts":"1460039455.000048"},{"type":"message","user":"U0KPFAZNF","text":"e.g. \/thirdparty\/rocksdb","ts":"1460039465.000049"},{"type":"message","user":"U0KPFAZNF","text":"and if it were simple to say \u201ccd .\/thirdparty\/rocksdb; make package\u201d, that might mitigate the concern","ts":"1460039495.000050"},{"type":"message","user":"U0KPFAZNF","text":"that would then be similar to what we have already adopted on the baseimage front\u2026that is, some person\/group is in charge of curating the officially hosted binaries, but anyone can build local ala your USE_LOCAL_BASEIMAGE type approach","ts":"1460039569.000051"},{"type":"message","user":"U0KPFAZNF","text":"would need some thought, obviously, but..","ts":"1460039584.000052"},{"type":"message","user":"U0KPFAZNF","text":"anyway, like you said: 90% of my pain went away just not having to wait for the stuff to be compiled each iteration :wink:","ts":"1460039619.000053"},{"type":"message","user":"U0KPFAZNF","text":"actually, probably better as a sep repo (e.g. hyperledger\/thirdparty.git)","ts":"1460039691.000054"},{"type":"message","user":"U0XR6J961","text":"let's see","ts":"1460039709.000055"},{"type":"message","user":"U0XR6J961","text":"what software packages are we even talking about?","ts":"1460039722.000056"},{"type":"message","user":"U0XR6J961","text":"go, rocksdb, what else?","ts":"1460039732.000057"},{"type":"message","user":"U0XR6J961","text":"docker?","ts":"1460039737.000058"},{"type":"message","user":"U0KPFAZNF","text":"the summary is here: <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/baseimage\/scripts\/common\/setup.sh>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/baseimage\/scripts\/common\/setup.sh","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/docs.google.com\/document\/d\/1XECRVN9hXGrjAjysrnuNSdggzAKYm6XESR6KmABwhkE>. Information on wh...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/baseimage\/scripts\/common\/setup.sh","thumb_width":142,"thumb_height":142,"id":1}],"ts":"1460039756.000059"},{"type":"message","user":"U0KPFAZNF","text":"golang, rocksdb, grpc, and nodejs, primarily","ts":"1460039781.000061"},{"type":"message","user":"U0KPFAZNF","text":"of those, golang and nodejs are already binary distributions, but not .deb packages","ts":"1460039808.000062"},{"type":"message","user":"U0KPFAZNF","text":"rocksdb and protobuf are just raw dl+compile, so those are the primary targets","ts":"1460039867.000063"},{"type":"message","user":"U0KPFAZNF","text":"i think docker is already consumed as a package","ts":"1460039929.000064"},{"type":"message","user":"U0KPFAZNF","text":"that happens here: <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/setup.sh#L45>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/setup.sh#L45","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/docs.google.com\/document\/d\/1XECRVN9hXGrjAjysrnuNSdggzAKYm6XESR6KmABwhkE>. Information on wh...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/setup.sh#L45","thumb_width":142,"thumb_height":142,"id":1}],"ts":"1460039955.000065"},{"type":"message","user":"U0XPR4NP4","text":"Yes, Docker comes in from the official Docker repos","ts":"1460039964.000067"},{"type":"message","user":"U0XPR4NP4","text":"(And in fact comes in during the `vagrant up` not `baseimage` stage, so that we can pick a storage backend)","ts":"1460039986.000068"},{"type":"message","user":"U0XR6J961","text":"wuh, nodejs?","ts":"1460040557.000069"},{"user":"U0XRC0KLH","inviter":"U0KPFAZNF","type":"message","subtype":"channel_join","text":"<@U0XRC0KLH|chetsky> has joined the channel","ts":"1460040639.000070"},{"user":"U0QUNGLJK","type":"message","subtype":"channel_join","text":"<@U0QUNGLJK|shemnon> has joined the channel","ts":"1460040646.000071"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: I am not sure what consumes that:  i suspect it might be three primary parts: 1) the website stuff that was being developed at one time, 2) some of the REST clients I have seen are written in javascript, and 3) there was some preliminary support for JS based chaincode added to the fabric","ts":"1460040727.000072"},{"type":"message","user":"U0XR6J961","text":"ah i see","ts":"1460040742.000073"},{"type":"message","user":"U0XR6J961","text":"so why can't we just use rocksdb and grpc packages?","ts":"1460040907.000074"},{"type":"message","user":"U0XR6J961","text":"and go as well?","ts":"1460040922.000075"},{"type":"message","user":"U0XR6J961","text":"all in debian packages","ts":"1460040927.000076"},{"type":"message","user":"U0XR6J961","text":"ah, in debian testing","ts":"1460040945.000077"},{"type":"message","user":"U0XR6J961","text":"but still","ts":"1460040947.000078"},{"type":"message","user":"U0KPFAZNF","text":"generally for two reasons","ts":"1460041005.000079"},{"type":"message","user":"U0KPFAZNF","text":"1) they tend to be old, and 2) we cant control the specific version we want","ts":"1460041026.000080"},{"type":"message","user":"U0KPFAZNF","text":"for instance, both golang 1.6 and protobufs 3 are cutting edge, not exactly likely to be in trusty","ts":"1460041092.000081"},{"type":"message","user":"U0KPFAZNF","text":"i agree that we should strive to consume distro packages whenever at all possible, however","ts":"1460041120.000082"},{"type":"message","user":"U0KPFAZNF","text":"let it be upstream\u2019s headache :wink:","ts":"1460041129.000083"},{"type":"message","user":"U0XR6J961","text":"obviously for deployment everything has to be packaged anyways","ts":"1460041725.000084"},{"type":"message","user":"U0XRC0KLH","text":"My opinion has no weight in the vote, but I feel that, it is -important- that it be possible to set up and run OBC, *without* Vagrant\/Docker.","ts":"1460041732.000085"},{"type":"message","user":"U0XRC0KLH","text":"I feel it is *very very very* important.","ts":"1460041742.000086"},{"type":"message","user":"U0XRC0KLH","text":"as in: it's a deal-breaker for me, based upon my experiences as an admin.","ts":"1460041766.000087"},{"type":"message","user":"U0XR6J961","text":"yea, i only did that vagrant thing once, and then installed it on my bare system","ts":"1460041841.000088"},{"type":"message","user":"U0XRC0KLH","text":"(Digging into my past) here's another reason why packages are a deal-breaker.","ts":"1460042107.000089"},{"type":"message","user":"U0XRC0KLH","text":"Let's imagine a financial institution.  Say, MSEG (don't know what the acronym stands for).","ts":"1460042126.000090"},{"type":"message","user":"U0XRC0KLH","text":"Well, let's not use that name; instead, the example I know of, which is a company named ... champ.","ts":"1460042168.000091"},{"type":"message","user":"U0XRC0KLH","text":"\"Champ\" as in a dog's name.","ts":"1460042174.000092"},{"type":"message","user":"U0XRC0KLH","text":"they have sysadmins","ts":"1460042178.000093"},{"type":"message","user":"U0XRC0KLH","text":"those syadmins (the ops group) has rules about what has to be on a  box.  Networking, Virus, security, backup, shared FS, etc.","ts":"1460042214.000094"},{"type":"message","user":"U0XRC0KLH","text":"This has resulted in 6week lag-times after a box is delivered with OS running, to when apps can be installed.","ts":"1460042229.000095"},{"type":"message","user":"U0XRC0KLH","text":"When a certain company comes in and says \"we have this cloud mgmt solution that will deploy our app-server onto VM base images that we create, so you can deploy your apps and our patches and such automatically\", it helps NOTHING","ts":"1460042272.000096"},{"type":"message","user":"U0XRC0KLH","text":"b\/c the ops folks -still- need to customize that image.","ts":"1460042281.000097"},{"type":"message","user":"U0XRC0KLH","text":"And since this mgmt solution wants to stamp a NEW image (from their own known base) each time, the ops folks have to go SECOND","ts":"1460042312.000098"},{"type":"message","user":"U0XRC0KLH","text":"but the ops folks want to go FIRST, b\/c then they can do things teh way they're used to -- which probably doesn't involve automation.","ts":"1460042331.000099"},{"type":"message","user":"U0XRC0KLH","text":"what I'm saying is, in many places (like Champ, Inc), distributing a vagrant image isn't a good answer","ts":"1460042355.000100"},{"type":"message","user":"U0XRC0KLH","text":"each time that vagrant image changes, the ops folks have to reinstall their customizations","ts":"1460042377.000101"},{"type":"message","user":"U0XRC0KLH","text":"ok, done.","ts":"1460042382.000102"},{"type":"message","user":"U0XR6J961","text":"i hope everybody agrees that vagrant is not at all considered to be a solution for deployment","ts":"1460042405.000103","reactions":[{"name":"+1","users":["U0KPFAZNF","U0TFEHX8E"],"count":2}]},{"type":"message","user":"U0KPFAZNF","text":"I look at the current reliance on it as purely a function of project maturity, not an architectural goal","ts":"1460042458.000104"},{"type":"message","user":"U0XR6J961","text":"then let's talk about the architectural goal :simple_smile:","ts":"1460042486.000105"},{"type":"message","user":"U0KPFAZNF","text":"that said, in its current design at least, I think docker is considered part of the deployment environment","ts":"1460042508.000106"},{"type":"message","user":"U0KPFAZNF","text":"vagrant is just a convenience for development","ts":"1460042528.000107"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1460042563.000108"},{"type":"message","user":"U0XRC0KLH","text":"whoa ... \"vagrant is just a convenience for development\"?   Really?  holy cow.","ts":"1460044152.000109"},{"type":"message","user":"U0XR6J961","text":"that's how i understood it","ts":"1460044182.000110"},{"type":"message","user":"U0XRC0KLH","text":"\"Let's do it the completely wrong, more-complicated way, b\/c it's a convenience for development; we -want- to screw up everybody who isn't doint it PRECISELY the way we want it done\".","ts":"1460044192.000111"},{"type":"message","user":"U0XRC0KLH","text":"\"Inconcievable\"","ts":"1460044202.000112"},{"user":"U0N1K6Z0X","type":"message","subtype":"channel_join","text":"<@U0N1K6Z0X|georglink> has joined the channel","ts":"1460044223.000113"},{"type":"message","user":"U0KPFAZNF","text":"I don\u2019t have any problem with vagrant per se:  in the devops meme, its a way to create a normalized, repeatable, environment that is conducive to change-management","ts":"1460047399.000114"},{"type":"message","user":"U0KPFAZNF","text":"some are annoyed at the weight of firing up a VM, I suppose, but it should be noted that not using a normalized mechanism has its own challenges as well","ts":"1460047437.000115"},{"type":"message","user":"U0KPFAZNF","text":"in the ideal world, the logic that goes into supporting vagrant would be more generally consumable for people that dont want to use it, and we are marching in that direction","edited":{"user":"U0KPFAZNF","ts":"1460047492.000000"},"ts":"1460047484.000116"},{"type":"message","user":"U0KPFAZNF","text":"the fact that it isn\u2019t quite there is simply a matter of priorities\/maturity","ts":"1460047517.000118"},{"type":"message","user":"U0XR6J961","text":"yes!","ts":"1460047584.000119"},{"type":"message","user":"U0XR6J961","text":"e.g. if vagrant used packages built","ts":"1460047599.000120"},{"type":"message","user":"U0XR6J961","text":"then vagrant works, and the packages are usable outside as well","ts":"1460047610.000121"},{"type":"message","user":"U0KPFAZNF","text":"right, that was the \u201cideal\u201d i mentioned above","ts":"1460047886.000122"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XRC0KLH>: so can you elaborate on what you think is completely wrong?","ts":"1460048039.000123"},{"type":"message","user":"U0XRC0KLH","text":"sorry, on the phone, will IM back after","ts":"1460048060.000124"},{"user":"U0Y55KNG2","type":"message","subtype":"channel_join","text":"<@U0Y55KNG2|kletkeman> has joined the channel","ts":"1460049077.000125"},{"type":"message","user":"U0Y55KNG2","text":"Hmmm ... I am just now spinning up my first fresh fabric from hyperledger and noticed this weird behavior change ... the vagrant file previously expected a trailing \"\/\" on GOPATH but that fails now, even though the leading slash has always been there ... the difference being the style of concatenation presumably. I wonder if this is peculiar to Windows systems?\n\nThis worked in my older vagrantfile:\n\nHOST_GOPATH = ENV['GOPATH']\nconfig.vm.synced_folder \"#{HOST_GOPATH}\/src\/github.com\/openblockchain\/obc-peer\", ...\n\nThis fails in the current vagrantfile:\n\nHOST_GOPATH = ENV['GOPATH']\nHOST_OBC_PEER_DIR = HOST_GOPATH + \"\/src\/github.com\/hyperledger\/fabric\"\n\nif not Dir.exists?(HOST_OBC_PEER_DIR)\n  abort(\"hyperledger directory '\" + HOST_OBC_PEER_DIR + \"' does not exist\")\nend","ts":"1460049220.000126"},{"type":"message","user":"U0Y55KNG2","text":"my gopath being:\n$ set | grep GOPATH\nGOPATH='V:\\OPENCHAINDEV\\OBCPEER\\'","ts":"1460049258.000127"},{"type":"message","user":"U0Y55KNG2","text":"perhaps I always had it wrong","ts":"1460049278.000128"},{"type":"message","user":"U0KPFAZNF","text":"FWIW, I have a PR proposal in place that eliminates the need for GOPATH entirely","ts":"1460049279.000129"},{"type":"message","user":"U0KPFAZNF","text":"HL PR #994","ts":"1460049305.000130"},{"type":"message","user":"U0Y55KNG2","text":"cool ... meanwhile, I hope that stripping off the trailing slash does not freak anything else out in go land","ts":"1460049306.000131"},{"type":"message","user":"U0KPFAZNF","text":"not sure if\/when it will go in","ts":"1460049310.000132"},{"type":"message","user":"U0Y55KNG2","text":"OMG ... has anyone tested hyperledger on windows????\n\n$ FORWARD_DOCKER_PORTS='true' vagrant up\nhyperledger directory 'V:\\OPENCHAINDEV\\OBCPEER\/src\/github.com\/hyperledger\/fabric' does not exist\n<!channel>","edited":{"user":"U0Y55KNG2","ts":"1460049549.000000"},"ts":"1460049522.000133"},{"type":"message","user":"U0KPFAZNF","text":"FWIW, I never have a trailing slash and everything seems to work","ts":"1460049618.000135"},{"type":"message","user":"U0Y55KNG2","text":"<@U0KPFAZNF>: you don't happen to have a hack based on your proposal :simple_smile:","ts":"1460049619.000136"},{"type":"message","user":"U0Y55KNG2","text":"on windows?","ts":"1460049625.000137"},{"type":"message","user":"U0KPFAZNF","text":"you could always just pull my branch from the PR","ts":"1460049635.000138"},{"type":"message","user":"U0XR6J961","text":"haha windows","ts":"1460049670.000139"},{"type":"message","user":"U0Y55KNG2","text":"I might do that, but I really need to be able to say that the stock version works ... you mentioned that your path does not have the trailing slash, which is now true of my path ... but it still fails ...","ts":"1460049693.000140"},{"type":"message","user":"U0XR6J961","text":"but i agree, development must be easy on windows","ts":"1460049699.000141"},{"type":"message","user":"U0Y55KNG2","text":"actually, dev is horrid on Windows ... and exactly because people don't test on it","ts":"1460049731.000142"},{"type":"message","user":"U0Y55KNG2","text":"I'll play with the script and see if there is a way to retain the test without using the unix-only concatenation ...","ts":"1460049759.000143"},{"type":"message","user":"U0Y55KNG2","text":"I need to acquire an old laptop to run linux on so I can test on both ...","ts":"1460049812.000144"},{"type":"message","user":"U0XRC0KLH","text":"<@U0KPFAZNF> still there?","ts":"1460056044.000145"},{"type":"message","user":"U0XRC0KLH","text":"I can explain about \"all wrong\" if you'd like","ts":"1460056049.000146"},{"type":"message","user":"U0KPFAZNF","text":"yep","ts":"1460056057.000147"},{"type":"message","user":"U0XRC0KLH","text":"uh ... can you do voice?","ts":"1460056063.000148"},{"type":"message","user":"U0XRC0KLH","text":"maybe easier?","ts":"1460056065.000149"},{"type":"message","user":"U0KPFAZNF","text":"not right this second, maybe in a bit","ts":"1460056079.000150"},{"type":"message","user":"U0KPFAZNF","text":"i re-read though, i might have misunderstood you","ts":"1460056087.000151"},{"type":"message","user":"U0XRC0KLH","text":"ok","ts":"1460056088.000152"},{"type":"message","user":"U0XRC0KLH","text":"oh, ok","ts":"1460056095.000153"},{"type":"message","user":"U0KPFAZNF","text":"i thought you were saying vagrant = wrong, but I think maybe you meant the impl was wrong?","ts":"1460056109.000154"},{"type":"message","user":"U0XRC0KLH","text":"all I really mean is, there are strong reasons for thinking that \"images\" are \"the new hotness, same as teh old hotness\"","ts":"1460056111.000155"},{"type":"message","user":"U0KPFAZNF","text":"because it was vagrant specific without considering non vagrant?","ts":"1460056124.000156"},{"type":"message","user":"U0XRC0KLH","text":"whereas, \"building images b y installing DEBs\" is a perfectly fine thing","ts":"1460056133.000157"},{"type":"message","user":"U0KPFAZNF","text":"oh, ok, thats not where I thought you were going","ts":"1460056148.000158"},{"type":"message","user":"U0XRC0KLH","text":"no, the particular thing I find objectionable, is using -scripts- to build stuff on images","ts":"1460056151.000159"},{"type":"message","user":"U0XRC0KLH","text":"there's a long history of trying to make that work","ts":"1460056161.000160"},{"type":"message","user":"U0XRC0KLH","text":"it's fraught with problems.  Whereas, installing piles of native packages to build images, works a treat","ts":"1460056189.000161"},{"type":"message","user":"U0KPFAZNF","text":"yeah, i think we need to go there eventually","ts":"1460056204.000162"},{"type":"message","user":"U0KPFAZNF","text":"though I actually like the combo of packages + baseimage because it solves a different problem","ts":"1460056227.000163"},{"type":"message","user":"U0XRC0KLH","text":"this isn't my reason (b\/c I belived this long, long ago) bu: <http:\/\/techblog.netflix.com\/2013\/03\/ami-creation-with-aminator.html>","attachments":[{"title":"The Netflix Tech Blog: AMI Creation with Aminator","title_link":"http:\/\/techblog.netflix.com\/2013\/03\/ami-creation-with-aminator.html","fallback":"The Netflix Tech Blog: AMI Creation with Aminator","image_url":"http:\/\/2.bp.blogspot.com\/-pKwz3Of8cQc\/UUdWJzkSILI\/AAAAAAAAAAg\/FxS5DXNNALk\/w1200-h630-p-nu\/baseami-diag.jpg","from_url":"http:\/\/techblog.netflix.com\/2013\/03\/ami-creation-with-aminator.html","image_width":164,"image_height":86,"image_bytes":4043,"id":1}],"ts":"1460056230.000164"},{"type":"message","user":"U0KPFAZNF","text":"that is: distro freeze","ts":"1460056234.000166"},{"type":"message","user":"U0XRC0KLH","text":"well, I'm fine with there being a base image from a distro","ts":"1460056243.000167"},{"type":"message","user":"U0XRC0KLH","text":"but what I DO NOT want, is to take that base image, and run scripts to build software, as a way of building the image on which I'll do dev.","ts":"1460056264.000168"},{"type":"message","user":"U0XRC0KLH","text":"that way lies the death of a thousand InstallShield packages.","ts":"1460056278.000169"},{"type":"message","user":"U0KPFAZNF","text":"do you object to JIT building or is it the imperative nature of scripts?","ts":"1460056295.000170"},{"type":"message","user":"U0XRC0KLH","text":"imperative nature of scripts","ts":"1460056303.000171"},{"type":"message","user":"U0KPFAZNF","text":"for instance, are you fine if instead of scripts it was a declarative engine, like puppet","ts":"1460056311.000172"},{"type":"message","user":"U0KPFAZNF","text":"?","ts":"1460056317.000173"},{"type":"message","user":"U0XRC0KLH","text":"puppet runs scripts","ts":"1460056317.000174"},{"type":"message","user":"U0XRC0KLH","text":"right?","ts":"1460056321.000175"},{"type":"message","user":"U0XRC0KLH","text":"ok, so .... have you ever read the Debian policy manual about DEBs?","ts":"1460056337.000176"},{"type":"message","user":"U0KPFAZNF","text":"sort of, but its an declarative language on top","ts":"1460056339.000177"},{"type":"message","user":"U0XRC0KLH","text":"they lay out careful rules","ts":"1460056341.000178"},{"type":"message","user":"U0XRC0KLH","text":"the preinst\/posting scripts are required to behave in constrained ways","ts":"1460056359.000179"},{"type":"message","user":"U0KPFAZNF","text":"i am not advocating puppet either per se, just tryign to understand what your issue is","ts":"1460056371.000180"},{"type":"message","user":"U0XRC0KLH","text":"and they have methods for doing what would otherwise be imperative","ts":"1460056378.000181"},{"type":"message","user":"U0XRC0KLH","text":"e.g., suppose you have \/etc\/modules, which is supposd to list all the kernel modules to load","ts":"1460056397.000182"},{"type":"message","user":"U0XRC0KLH","text":"and multiple packages want to install kernel modules to be loaded","ts":"1460056413.000183"},{"type":"message","user":"U0XRC0KLH","text":"in RPMs, I've seen 'em (back in the day) each edit the file","ts":"1460056422.000184"},{"type":"message","user":"U0XRC0KLH","text":"yeah: recipe for disaster","ts":"1460056425.000185"},{"type":"message","user":"U0XRC0KLH","text":"in Debian (since forever) they've had \/etc\/modules.d","ts":"1460056435.000186"},{"type":"message","user":"U0XRC0KLH","text":"and each package drops a file in that dir","ts":"1460056443.000187"},{"type":"message","user":"U0XRC0KLH","text":"and -then- runs a script, that concats the files, to produce the actual file that is used to load","ts":"1460056460.000188"},{"type":"message","user":"U0XRC0KLH","text":"same story with \/etc\/apt\/sources.list.d","ts":"1460056465.000189"},{"type":"message","user":"U0XRC0KLH","text":"the general method is to enusre that anything that is -imperative- is also idempotent","ts":"1460056476.000190"},{"type":"message","user":"U0KPFAZNF","text":"i agree that this is good, but I am not seeing how that relates to an aversion to scripting","ts":"1460056484.000191"},{"type":"message","user":"U0XRC0KLH","text":"scripts are never idempotent","ts":"1460056492.000192"},{"type":"message","user":"U0XRC0KLH","text":"they break in interesting ways","ts":"1460056495.000193"},{"type":"message","user":"U0KPFAZNF","text":"ok, but that means you shouldnt be against declarative, as that is idempotent","ts":"1460056514.000194"},{"type":"message","user":"U0XRC0KLH","text":"truly declarative, sure.  But \"configure ; make\" isn't declarative","ts":"1460056535.000195"},{"type":"message","user":"U0KPFAZNF","text":"but that isnt what puppet does","ts":"1460056549.000196"},{"type":"message","user":"U0XRC0KLH","text":"-some- use of cfengine can be declarative","ts":"1460056554.000197"},{"type":"message","user":"U0XRC0KLH","text":"oh, I thought you meant to use puppet to do the build of the vagrant image from sources","ts":"1460056566.000198"},{"type":"message","user":"U0XRC0KLH","text":"sure, if puppet is used to do very declarative things, with careful idempotence, sure","ts":"1460056577.000199"},{"type":"message","user":"U0KPFAZNF","text":"no no, i mean to install packages at vagrant-up","ts":"1460056582.000200"},{"type":"message","user":"U0XRC0KLH","text":"Oh also, I strongly object to cases where the actions are really a -sequence- (instead of a list of actions with prereqs that get sorted into a topological order)","ts":"1460056607.000201"},{"type":"message","user":"U0XRC0KLH","text":"oh, sure -- puppet doing dpkg -i is fine fine fine","ts":"1460056616.000202"},{"type":"message","user":"U0KPFAZNF","text":"ok, then we are on the same page","ts":"1460056624.000203"},{"type":"message","user":"U0KPFAZNF","text":"right, so bash is imperative and would model a sequence","ts":"1460056638.000204"},{"type":"message","user":"U0XRC0KLH","text":"right.  Ditto Ant","ts":"1460056647.000205"},{"type":"message","user":"U0XRC0KLH","text":"ever used that?","ts":"1460056651.000206"},{"type":"message","user":"U0XRC0KLH","text":"I used to rail against ant","ts":"1460056657.000207"},{"type":"message","user":"U0KPFAZNF","text":"puppet is declarative, so you could just say \u201cthis is the package inventory\u201d and it will reconcile current state with desired state","ts":"1460056657.000208"},{"type":"message","user":"U0XRC0KLH","text":"yeah, that's fine","ts":"1460056663.000209"},{"type":"message","user":"U0KPFAZNF","text":"it would have more value to someone like <@U0N1D1UAE> who is running his own environment","ts":"1460056695.000210"},{"user":"U0N1D1UAE","inviter":"U0KPFAZNF","type":"message","subtype":"channel_join","text":"<@U0N1D1UAE|bcbrock> has joined the channel","ts":"1460056702.000211"},{"type":"message","user":"U0KPFAZNF","text":"for the vagrant dev-env, the declarative script would still more or less need to install each package each time","ts":"1460056725.000212"},{"type":"message","user":"U0XRC0KLH","text":"yeah, I'm cool with that.  just want -packages-","ts":"1460056739.000213"},{"type":"message","user":"U0KPFAZNF","text":"but for someone maintaining their own environment, it would only reconcile their current state with the required state","ts":"1460056742.000214"},{"type":"message","user":"U0KPFAZNF","text":"ok, we are in agreement i think","ts":"1460056765.000215"},{"type":"message","user":"U0KPFAZNF","text":"to others point, we do need to make the package generation mechanism approachable","ts":"1460056787.000216"},{"type":"message","user":"U0KPFAZNF","text":"right now, the launchpad setup leaves some things to be desired","ts":"1460056798.000217"},{"type":"message","user":"U0KPFAZNF","text":"I got it to work, but only out of sheer will and past experience","ts":"1460056822.000218"},{"type":"message","user":"U0XRC0KLH","text":"Hmm .... I've never worked with launchpad.  I'd be happy with just generating packages on a build-server, and serving them from some web-server (setting up APT distro archives is a walk in the park).","ts":"1460057030.000219"},{"type":"message","user":"U0XRC0KLH","text":"It's not trivial to generate DEB source-packages.  But I'd be OK with \"check install\".","ts":"1460057059.000220"},{"type":"message","user":"U0XRC0KLH","text":"to generate the DEBs","ts":"1460057062.000221"},{"type":"message","user":"U0XRC0KLH","text":"I just don't want to have some non-reproducible mechanism that requires fricken' images","ts":"1460057080.000222"},{"type":"message","user":"U0XRC0KLH","text":"or, more precisely, I'm happy if the unwashed use images.  I ain't gonna.  Never seen a good use for images in a dev environment","ts":"1460057103.000223"},{"type":"message","user":"U0KPFAZNF","text":"you def do not want to be hand-building the packages, especially with some of the hosted options out there like <http:\/\/build.opensuse.org|build.opensuse.org>","ts":"1460057340.000224"},{"type":"message","user":"U0KPFAZNF","text":"they do a ton of stuff that is a complete PITA for the hand-built model","ts":"1460057355.000225"},{"type":"message","user":"U0KPFAZNF","text":"like, cleanroom build, multi-arch support, and transitive rebuilds","ts":"1460057368.000226"},{"type":"message","user":"U0XRC0KLH","text":"oh, I agree COMPLETELY.  But if it's a choice between hand-building+hosting, or scripting, I'll take hand-building","ts":"1460057381.000227"},{"type":"message","user":"U0XRC0KLH","text":"cleanroom build!","ts":"1460057388.000228"},{"type":"message","user":"U0XRC0KLH","text":"yes!","ts":"1460057389.000229"},{"type":"message","user":"U0KPFAZNF","text":"gotcha, and agree","ts":"1460057392.000230"},{"type":"message","user":"U0KPFAZNF","text":"yes, that used to be _so_ nasty to do by hand, at least with RPMs","ts":"1460057412.000231"},{"type":"message","user":"U0KPFAZNF","text":"basically, the hosted environments set up a ephemeral environment that is barebones each build, so if you dont list your deps properly you find out right away","edited":{"user":"U0KPFAZNF","ts":"1460077635.000000"},"ts":"1460057447.000232"},{"type":"message","user":"U0XRC0KLH","text":"-yes-!","ts":"1460057501.000233"},{"type":"message","user":"U0XRC0KLH","text":"that is what I want","ts":"1460057504.000234"},{"type":"message","user":"U0XRC0KLH","text":"no \"inadvertently, something got built the wrong way\"","ts":"1460057515.000235"},{"type":"message","user":"U0KPFAZNF","text":"right","ts":"1460057523.000236"},{"type":"message","user":"U0KPFAZNF","text":"the transitive rebuild thing is super cool, too","ts":"1460057533.000237"},{"type":"message","user":"U0KPFAZNF","text":"if you dep on X Y and Z, and one of those gets rebuilt, your package gets scheduled to rebuild after it finishes","ts":"1460057559.000238"},{"user":"U0NCW1DPX","type":"message","subtype":"channel_join","text":"<@U0NCW1DPX|gengjh> has joined the channel","ts":"1460074366.000239"},{"user":"U0YATJ18S","type":"message","subtype":"channel_join","text":"<@U0YATJ18S|dileban> has joined the channel","ts":"1460075983.000240"},{"type":"message","user":"U0KPFAZNF","text":"<@U0TFEHX8E>: did that python\/yaml fix ever get merged?","ts":"1460076274.000241"},{"type":"message","user":"U0KPFAZNF","text":"i still see lots of python errors during vagrant-up","ts":"1460076285.000242"},{"type":"message","user":"U0TFEHX8E","text":"yes. <https:\/\/github.com\/openblockchain\/obc-dev-env\/pull\/51\/files>","edited":{"user":"U0TFEHX8E","ts":"1460077656.000000"},"ts":"1460077652.000244"},{"type":"message","user":"U0KPFAZNF","text":"oh, did this not make it to hyperledger\/fabric?","ts":"1460077676.000247"},{"type":"message","user":"U0TFEHX8E","text":"it\u2019s in there. Looks like somehow they lost history of the devenv stuff","ts":"1460077703.000248"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F0YUF1H4K\/-.txt|Untitled> and commented: i still see lots of chatter like this","file":{"id":"F0YUF1H4K","created":1460077714,"timestamp":1460077714,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0KPFAZNF","editable":true,"size":1469,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F0YUF1H4K\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F0YUF1H4K\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F0YUF1H4K\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F0YUF1H4K-801d221c74","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F0YUF1H4K\/-.txt\/edit","preview":"==> default:     ext\/_yaml.c:16500:7: warning: pointer targets in passing argument 3 of \u2018yaml_scalar_event_initialize\u2019 differ in signedness [-Wpointer-sign]\r\n==> default:            __pyx_t_10 = (yaml_scalar_event_initialize((&__pyx_v_event), __pyx_v_anchor, __pyx_v_tag, __pyx_v_value, __pyx_v_length, __pyx_v_plain_implicit, __pyx_v_quoted_implicit, __pyx_v_scalar_style) == 0);\r\n==> default:            ^\r\n==> default:     In file included from ext\/_yaml.h:2:0,\r\n==> default:                      from ext\/_yaml.c:223:\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>==&gt; default:     ext\/_yaml.c:16500:7: warning: pointer targets in passing argument 3 of \u2018yaml_scalar_event_initialize\u2019 differ in signedness [-Wpointer-sign]<\/pre><\/div>\n<div><pre>==&gt; default:            __pyx_t_10 = (yaml_scalar_event_initialize((&amp;__pyx_v_event), __pyx_v_anchor, __pyx_v_tag, __pyx_v_value, __pyx_v_length, __pyx_v_plain_implicit, __pyx_v_quoted_implicit, __pyx_v_scalar_style) == 0);<\/pre><\/div>\n<div><pre>==&gt; default:            ^<\/pre><\/div>\n<div><pre>==&gt; default:     In file included from ext\/_yaml.h:2:0,<\/pre><\/div>\n<div><pre>==&gt; default:                      from ext\/_yaml.c:223:<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":17,"lines_more":12,"preview_is_truncated":true,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc0Z0G4031","created":1460077714,"timestamp":1460077714,"user":"U0KPFAZNF","is_intro":true,"comment":"i still see lots of chatter like this","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1460077715.000249"},{"type":"message","user":"U0TFEHX8E","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/setup.sh#L142>","edited":{"user":"U0TFEHX8E","ts":"1460077759.000000"},"ts":"1460077737.000250"},{"type":"message","user":"U0KPFAZNF","text":"as before, it doesnt seem to break anything, just looks odd","ts":"1460077750.000252"},{"type":"message","user":"U0KPFAZNF","text":"oh, interesting","ts":"1460077766.000254"},{"type":"message","user":"U0KPFAZNF","text":"not sure why I get all that then","ts":"1460077771.000255"},{"type":"message","user":"U0TFEHX8E","text":"I\u2019m see the same. I don\u2019t know python well enough to know what\u2019s going on there","ts":"1460077891.000256"},{"type":"message","user":"U0KPFAZNF","text":"yeah, me either","ts":"1460078122.000257"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KN2SSKE>: I completed the work on rebranding the vagrant side of the puzzle, but decided I would not push it in with PR #994 since I don\u2019t think we\u2019ve had enough discussion on the \u201chyperledger\/baseimage\u201d naming debate.  However, you can review the work here: <https:\/\/github.com\/ghaskins\/obc-peer\/commit\/1a3b08145650b8d96922a95188269174b7cef840>","ts":"1460079088.000258"},{"user":"U0KN2SSKE","inviter":"U0KPFAZNF","type":"message","subtype":"channel_join","text":"<@U0KN2SSKE|binhn> has joined the channel","ts":"1460079095.000259"},{"type":"message","user":"U0KPFAZNF","text":"likewise, I cannot make any forward progress on the dockerhub side until the ACL thing has been resolved","ts":"1460079124.000260"},{"type":"message","user":"U0KN2SSKE","text":"<@U0KPFAZNF>: i asked Todd during the call today, and he said he will get back to me on who owes that location. I havent got any info yet.","ts":"1460083914.000261"},{"user":"U0N0GDVJ5","type":"message","subtype":"channel_join","text":"<@U0N0GDVJ5|nick> has joined the channel","ts":"1460087879.000262"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KN2SSKE>: ok thanks","ts":"1460117974.000263"},{"user":"U0Z541B3P","type":"message","subtype":"channel_join","text":"<@U0Z541B3P|manish-sethi> has joined the channel","ts":"1460128062.000264"},{"user":"U0Y6AUDST","type":"message","subtype":"channel_join","text":"<@U0Y6AUDST|rgupta1> has joined the channel","ts":"1460128324.000265"},{"user":"U0Z68F4HE","type":"message","subtype":"channel_join","text":"<@U0Z68F4HE|toddsjsimmer> has joined the channel","ts":"1460134634.000266"},{"user":"U0MM86C84","type":"message","subtype":"channel_join","text":"<@U0MM86C84|novusopt> has joined the channel","ts":"1460135177.000267"},{"user":"U0Z6EEJ69","type":"message","subtype":"channel_join","text":"<@U0Z6EEJ69|keoja> has joined the channel","ts":"1460135308.000268"},{"user":"U0P2GSA8Z","type":"message","subtype":"channel_join","text":"<@U0P2GSA8Z|arnaud> has joined the channel","ts":"1460225989.000269"},{"user":"U0MTAMEN4","type":"message","subtype":"channel_join","text":"<@U0MTAMEN4|noam> has joined the channel","ts":"1460283562.000270"},{"user":"U0YTUU2T0","type":"message","subtype":"channel_join","text":"<@U0YTUU2T0|paulojrmoreira> has joined the channel","ts":"1460325214.000271"},{"user":"U0P75RFT4","type":"message","subtype":"channel_join","text":"<@U0P75RFT4|tim.blankers> has joined the channel","ts":"1460358781.000272"},{"user":"U0ZMB7ZEJ","type":"message","subtype":"channel_join","text":"<@U0ZMB7ZEJ|jatinderbali> has joined the channel","ts":"1460394734.000273"},{"user":"U0S5KF44D","type":"message","subtype":"channel_join","text":"<@U0S5KF44D|keithsmith> has joined the channel","ts":"1460407541.000274"},{"type":"message","user":"U0Y55KNG2","text":"Looks like some interesting discussion the last couple of days re vagrant etc ... so I suppose it was fated that my first attempt to spin up a peer on hyperledger met with this:\n\nvagrant@hyperledger-devenv:v0.0.9-79cbb5d:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ docker run --rm -it -e CORE_VM_ENDPOINT=<http:\/\/172.17.0.1:4243> -e CORE_PEER_ID=vp0 -e CORE_PEER_ADDRESSAUTODETECT=true hyperledger-peer peer peer\nexec: \"peer\": executable file not found in $PATH\ndocker: Error response from daemon: Container command not found or does not exist..\nvagrant@hyperledger-devenv:v0.0.9-79cbb5d:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$\n\nAny thoughts?","ts":"1460410111.000275"},{"type":"message","user":"U0UGH3X7X","text":"how did you build the image ?","ts":"1460410232.000276"},{"type":"message","user":"U0UGH3X7X","text":"also, the executable might be named `fabric` rather than peer.","ts":"1460410316.000277"},{"type":"message","user":"U0UGH3X7X","text":"there's been talk of setting the exec name but i don't think that's been merged yet","ts":"1460410352.000278"},{"user":"U0ZHVB1UP","type":"message","subtype":"channel_join","text":"<@U0ZHVB1UP|akakoudakis> has joined the channel","ts":"1460412066.000279"},{"user":"U0Z3BE0F5","type":"message","subtype":"channel_join","text":"<@U0Z3BE0F5|mcrafols> has joined the channel","ts":"1460446841.000280"},{"user":"U0N25BLQH","type":"message","subtype":"channel_join","text":"<@U0N25BLQH|carmania> has joined the channel","ts":"1460454624.000281"},{"type":"message","user":"U0Y55KNG2","text":"<@U0UGH3X7X> I followed the instructions verbatim in dev_net ... I assume that the docs have not been tested since the big changeover ...","ts":"1460466414.000282"},{"type":"message","user":"U0Y55KNG2","text":"I thought I had tried fabric, but it seems I had not .... anyway, it started up ... thanks for reminding me","ts":"1460466476.000283"},{"type":"message","user":"U0Y55KNG2","text":"there is an inconsistency between the sandbox instructions (now in the fabric readme) and the devnet_setup instructions ... the former wants you to build with -o peer and debug with .\/peer ; the latter just uses the folder name fabric, which is the default output of go build ... so I find it easiest just to use go build and debug with .\/fabric to be consistent ...","ts":"1460474813.000284"},{"user":"U0P0H8NL8","type":"message","subtype":"channel_join","text":"<@U0P0H8NL8|andrea.milazzo> has joined the channel","ts":"1460529028.000285"},{"user":"U0YM41HA5","type":"message","subtype":"channel_join","text":"<@U0YM41HA5|mandler> has joined the channel","ts":"1460536082.000286"},{"type":"message","subtype":"file_share","text":"<@U0UGH3X7X|tuand> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/tuand\/F10FJKV0S\/pasted_image_at_2016_04_13_05_15_pm.png|Pasted image at 2016-04-13, 5:15 PM> and commented: I'm getting a `no route to host` error when running the behave tests ?","file":{"id":"F10FJKV0S","created":1460582133,"timestamp":1460582133,"name":"Pasted image at 2016_04_13 05_15 PM.png","title":"Pasted image at 2016-04-13, 5:15 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0UGH3X7X","editable":false,"size":80909,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F10FJKV0S\/pasted_image_at_2016_04_13_05_15_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F10FJKV0S\/download\/pasted_image_at_2016_04_13_05_15_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F10FJKV0S-78b9a1cb1f\/pasted_image_at_2016_04_13_05_15_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F10FJKV0S-78b9a1cb1f\/pasted_image_at_2016_04_13_05_15_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F10FJKV0S-78b9a1cb1f\/pasted_image_at_2016_04_13_05_15_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":127,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F10FJKV0S-78b9a1cb1f\/pasted_image_at_2016_04_13_05_15_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":170,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F10FJKV0S-78b9a1cb1f\/pasted_image_at_2016_04_13_05_15_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F10FJKV0S-78b9a1cb1f\/pasted_image_at_2016_04_13_05_15_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":255,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F10FJKV0S-78b9a1cb1f\/pasted_image_at_2016_04_13_05_15_pm_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":340,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F10FJKV0S-78b9a1cb1f\/pasted_image_at_2016_04_13_05_15_pm_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":362,"image_exif_rotation":1,"original_w":1066,"original_h":377,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/tuand\/F10FJKV0S\/pasted_image_at_2016_04_13_05_15_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F10FJKV0S-2edd8682e9","channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc10F5MJDN","created":1460582133,"timestamp":1460582133,"user":"U0UGH3X7X","is_intro":true,"comment":"I'm getting a `no route to host` error when running the behave tests ?","channel":""}},"user":"U0UGH3X7X","upload":true,"display_as_bot":false,"username":"<@U0UGH3X7X|tuand>","bot_id":null,"ts":"1460582136.000287"},{"type":"message","user":"U0UGH3X7X","text":"error does not happen all the time and occurs in different tests at different times.  It does happen at least once when running the `peer_basic.feature` test suite","ts":"1460582238.000288"},{"type":"message","user":"U0UGH3X7X","text":"I'm guessing something to do with docker but I can't figure out how to pinpoint. Ideas ?","ts":"1460582291.000289"},{"user":"U0XNB1QNA","type":"message","subtype":"channel_join","text":"<@U0XNB1QNA|davidcosta> has joined the channel","ts":"1460625553.000290"},{"user":"U10LM0FFZ","type":"message","subtype":"channel_join","text":"<@U10LM0FFZ|nickgaski> has joined the channel","ts":"1460642319.000291"},{"user":"U10MVHVHQ","type":"message","subtype":"channel_join","text":"<@U10MVHVHQ|inabatk> has joined the channel","ts":"1460646357.000292"},{"user":"U0LBXH9S4","type":"message","subtype":"channel_join","text":"<@U0LBXH9S4|evan.wagner> has joined the channel","ts":"1460649746.000293"},{"user":"U0UFDAS91","type":"message","subtype":"channel_join","text":"<@U0UFDAS91|christophera> has joined the channel","ts":"1460654984.000294"},{"user":"U0N20TJUA","type":"message","subtype":"channel_join","text":"<@U0N20TJUA|guruprasath> has joined the channel","ts":"1460658818.000295"},{"user":"U0ULX737C","type":"message","subtype":"channel_join","text":"<@U0ULX737C|vipinb> has joined the channel","ts":"1460683960.000296"},{"user":"U0Q6DJC4W","type":"message","subtype":"channel_join","text":"<@U0Q6DJC4W|webdaford> has joined the channel","ts":"1460742960.000297"},{"type":"message","user":"U0Y55KNG2","text":"OOPS ... please ignore this message ... I had one vestigial OPENCHAIN command line reference ... sigh","edited":{"user":"U0Y55KNG2","ts":"1460749607.000000"},"ts":"1460748842.000298"},{"type":"message","user":"U0Y55KNG2","text":"<!here|@here>: I have a new question, and this one is not the result of a brain fart (I hope) ... I am running the peer and my contract in sandbox mode and deploy and query both seem to work, except I'm getting no body in the response. So I can't see the name returned from the deploy (which should be mycc) and I can't see the query results coming back from the query. But it does show them in the debug log for the peer ...\n\n19:56:22.555 [rest] processChaincodeInvokeOrQuery -&gt; INFO 13e Successfuly queried chaincode: {\"version\":\"3.0.5\",\"nickname\":\"TEST001\",\"activeAssets\":{}}\n19:56:22.555 [rest] ProcessChaincode -&gt; INFO 13f REST sucessfully query chaincode: {\"jsonrpc\":\"2.0\",\"result\":{\"status\":\"OK\",\"message\":\"{\\\"version\\\":\\\"3.0.5\\\",\\\"nickname\\\":\\\"TEST001\\\",\\\"activeAssets\\\":{}}\"},\"id\":null}","ts":"1460750336.000301"},{"type":"message","user":"U0Y55KNG2","text":"<!here|@here>: Answered: If you have an \"id\", you can see the response. If not, you never get the response. The peer code must be conflating the normal response from any rest message with the asynch callback and thus without the id it simply does not send anything at all. I note this as a probable bug because the postman scripts we were sent that play with example02 also do not use ids and thus should not work.","ts":"1460750766.000302"},{"user":"U10PD21K7","type":"message","subtype":"channel_join","text":"<@U10PD21K7|ajlopez> has joined the channel","ts":"1460757983.000303"},{"user":"U11BP64LD","type":"message","subtype":"channel_join","text":"<@U11BP64LD|nathonline> has joined the channel","ts":"1460916675.000002"},{"user":"U0KM61BCP","type":"message","subtype":"channel_join","text":"<@U0KM61BCP|cbf> has joined the channel","ts":"1460923476.000003"},{"user":"U11C7DZU5","type":"message","subtype":"channel_join","text":"<@U11C7DZU5|mark.moir> has joined the channel","ts":"1460932105.000004"},{"type":"message","user":"U0TFEHX8E","text":"Hi - there have been requests to remove the `-o peer` flag when building the peer as it\u2019s causing confusion for two reasons\n1) The documentation does not always refer to the binary as `peer`\n2) People naturally use `go build` without the flag and end up with a binary named `fabric` that does not match the instructions in most documentation.\nI posted a proposal at <https:\/\/github.com\/hyperledger\/fabric\/issues\/1131> which I have already discussed with <@U0KN2SSKE>. Post any questions\/comments\/ideas in this issue. Thanks.","edited":{"user":"U0TFEHX8E","ts":"1460946374.000000"},"ts":"1460946370.000005"},{"type":"message","user":"U0Z3BE0F5","text":"Hi! I am trying to set up a network of VP and I am getting this error when starting the docker image","ts":"1460968761.000008"},{"type":"message","user":"U0Z3BE0F5","text":"2016\/04\/18 08:34:22 Failed Peer docker build:\nStep 1 : FROM openblockchain\/baseimage:latest\nPulling repository <http:\/\/docker.io\/openblockchain\/baseimage|docker.io\/openblockchain\/baseimage>\n\n--- FAIL: TestVM_BuildImage_Peer (16.60s)\n        vm_test.go:76: Error building Peer container: Tag latest not found in re\npository <http:\/\/docker.io\/openblockchain\/baseimage|docker.io\/openblockchain\/baseimage>\n\nFAIL\nexit status 1\nFAIL    <http:\/\/github.com\/hyperledger\/fabric\/core\/container|github.com\/hyperledger\/fabric\/core\/container>    16.650s","ts":"1460968763.000009"},{"type":"message","user":"U0Z3BE0F5","text":"it seems that something is still pointing to OBC, how do I fix it?","ts":"1460968813.000010"},{"type":"message","user":"U0XR6J961","text":"yep, i get the same bug","ts":"1460980840.000011"},{"type":"message","user":"U0XR6J961","text":"how come this works for other people?","ts":"1460980869.000012"},{"type":"message","user":"U0XR6J961","text":"and where is the dockerfile to create this baseimage?","ts":"1460980984.000013"},{"type":"message","user":"U0XR6J961","text":"seems it is called `hyperledger\/fabric-baseimage` now","ts":"1460981240.000014"},{"type":"message","user":"U0UGH3X7X","text":"I ran into the same error friday. Baseimage is not on docker hub but is installed during vagrant setup. Do 'vagrant destroy' then 'vagrant up' to reset everything","ts":"1460981306.000015"},{"type":"message","user":"U0XR6J961","text":"many people don't use vagrant...","ts":"1460981601.000016"},{"type":"message","user":"U0UGH3X7X","text":"Then will have to look in fabric\/devenv\/setup.sh and see how docker is configured","ts":"1460982173.000017"},{"type":"message","user":"U0XR6J961","text":"yea","ts":"1460982312.000018"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: <@U0Z3BE0F5> This has been tripping many people up, sorry\u2026.bottom line, if you dont use vagrant, you are going to run into problems, heh","ts":"1460983733.000019"},{"type":"message","user":"U0KPFAZNF","text":"there are new scripts in .\/scripts\/provision\/* that any environment that wants to support an peer must run","edited":{"user":"U0KPFAZNF","ts":"1460983798.000000"},"ts":"1460983769.000020"},{"type":"message","user":"U0KPFAZNF","text":"vagrant runs these, as should your homegrown setup","ts":"1460983781.000021"},{"type":"message","user":"U0XR6J961","text":"now i have a openblockchain\/baseimage (built by the baseimage script)","ts":"1460984890.000023"},{"type":"message","user":"U0XR6J961","text":"but the peer still won't build","ts":"1460984899.000024"},{"type":"message","user":"U0XR6J961","text":"still tries to contact the registry","ts":"1460984905.000025"},{"type":"message","user":"U0XR6J961","text":"<@U0KPFAZNF>: where is provision?","ts":"1460985313.000026"},{"type":"message","user":"U0Z3BE0F5","text":"<https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/scripts\/provision> this scripts must run if not using vagrant then?","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/scripts\/provision","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/scripts\/provision","thumb_width":142,"thumb_height":142,"id":1}],"ts":"1460985841.000027"},{"type":"message","user":"U0KPFAZNF","text":"heres how vagrant does it: <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/setup.sh#L83>","edited":{"user":"U0KPFAZNF","ts":"1460986069.000000"},"ts":"1460986065.000029"},{"type":"message","user":"U0KPFAZNF","text":"the ordering doesn\u2019t matter, though you should call both technically","ts":"1460986089.000032"},{"type":"message","user":"U0KPFAZNF","text":"I need to find a way to unify the versioning such that one source (e.g. fabric.git\/version.txt) governs all the logic","ts":"1460986129.000033"},{"type":"message","user":"U0KPFAZNF","text":"right now, you\u2019ll have to explicitly request the version you want (right now \u201c0.0.9\u201d)","ts":"1460986156.000034"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: what did you mean by \u201cbaseimage script\u201d ?","ts":"1460986193.000035"},{"type":"message","user":"U0KPFAZNF","text":"you want the one in .\/scripts\/provision\/docker.sh, not .\/devenv\/baseimage","ts":"1460986223.000036"},{"type":"message","user":"U0XR6J961","text":"i don't have provision","ts":"1460986360.000037"},{"type":"message","user":"U0XR6J961","text":"oh","ts":"1460986371.000038"},{"type":"message","user":"U0KPFAZNF","text":"what sha are you on?","ts":"1460986374.000039"},{"type":"message","user":"U0XR6J961","text":"6bc272efc1f0aec1a062b32f0ef7621489673d43","ts":"1460986394.000040"},{"type":"message","user":"U0KPFAZNF","text":"you should have them","ts":"1460986516.000041"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric\/tree\/6bc272efc1f0aec1a062b32f0ef7621489673d43\/scripts\/provision>","edited":{"user":"U0KPFAZNF","ts":"1460986606.000000"},"ts":"1460986601.000042"},{"type":"message","user":"U0KPFAZNF","text":"See the comments in the docker.sh for the rationale on why you need to provision the image rather than pull it directly from the net","ts":"1460986651.000045"},{"type":"message","user":"U0KPFAZNF","text":"note that the directory is in the root, not under devenv","ts":"1460986865.000046"},{"type":"message","user":"U0Z3BE0F5","text":"I reestarted vagrant (vagrant destroy) and it seems to work know","ts":"1460986925.000047"},{"type":"message","user":"U0KPFAZNF","text":"cool, sorry for the headache","ts":"1460986937.000048"},{"type":"message","user":"U0Z3BE0F5","text":"although I skipped this step explained in the documentation:","ts":"1460986946.000049"},{"type":"message","user":"U0Z3BE0F5","text":"To create a Docker image for the hyperledger\/fabric, first clean out any active containers (peer and chaincode) using docker ps -a and docker rm commands. Second, remove any old images with docker images and docker rmi commands","ts":"1460986947.000050"},{"type":"message","user":"U0KPFAZNF","text":"if you just vagrant-up\u2019d you setup, that shouldnt be necessary","ts":"1460986967.000051"},{"type":"message","user":"U0KPFAZNF","text":"it would have no docker images anyway","ts":"1460986974.000052"},{"type":"message","user":"U0Z3BE0F5","text":"I actually had docker images","ts":"1460986988.000053"},{"type":"message","user":"U0KPFAZNF","text":"yes, but not peer\/chaincode","ts":"1460986998.000054"},{"type":"message","user":"U0Z3BE0F5","text":"but I had this one:","ts":"1460987017.000055"},{"type":"message","user":"U0Z3BE0F5","text":"openblockchain\/baseimage   latest              883e11bcb0b2        13 minutes ag","ts":"1460987019.000056"},{"type":"message","user":"U0KPFAZNF","text":"you probably had the baseimage [:0.0.9,:latest] and busybox","ts":"1460987023.000057"},{"type":"message","user":"U0KPFAZNF","text":"yes, that is normal","ts":"1460987026.000058"},{"type":"message","user":"U0Z3BE0F5","text":"okey","ts":"1460987035.000059"},{"type":"message","user":"U0Z3BE0F5","text":"I used to remove all images","ts":"1460987040.000060"},{"type":"message","user":"U0KPFAZNF","text":"in fact, not only normal, desired, heh","ts":"1460987041.000061"},{"type":"message","user":"U0Z3BE0F5","text":"that's why it failed","ts":"1460987046.000062"},{"type":"message","user":"U0KPFAZNF","text":"if you remove :latest, you will hit the same problem","ts":"1460987049.000063"},{"type":"message","user":"U0KPFAZNF","text":"probably should update the doc to be more clear","ts":"1460987072.000064"},{"type":"message","user":"U0Z3BE0F5","text":"<@U0XR6J961>: maybe you have the same problem?","ts":"1460987074.000065"},{"type":"message","user":"U0KPFAZNF","text":"where is that?","ts":"1460987076.000066"},{"type":"message","user":"U0Z3BE0F5","text":"I have a pending PR with some update on that document","ts":"1460987094.000067"},{"type":"message","user":"U0Z3BE0F5","text":"I might as well add the clarification","ts":"1460987100.000068"},{"type":"message","user":"U0KPFAZNF","text":"ok, cool","ts":"1460987104.000069"},{"type":"message","user":"U0Z3BE0F5","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/dev-setup\/devnet-setup.md>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/dev-setup\/devnet-setup.md","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/dev-setup\/devnet-setup.md","thumb_width":142,"thumb_height":142,"id":1}],"ts":"1460987106.000070"},{"type":"message","user":"U0KPFAZNF","text":"I think the second statement was referring to the peer\/chaincode images mentioned in the first statement, but its a bit confusing","ts":"1460987170.000072"},{"type":"message","user":"U0KPFAZNF","text":"might be clearer to just instruct to remove those and only those images, but leave the baseimage or something like that","ts":"1460987206.000073"},{"type":"message","user":"U0Z3BE0F5","text":"yes remove hyperledger images only","edited":{"user":"U0Z3BE0F5","ts":"1460987256.000000"},"ts":"1460987237.000074"},{"user":"U11Q02ZKL","type":"message","subtype":"channel_join","text":"<@U11Q02ZKL|fjk> has joined the channel","ts":"1461044495.000076"},{"user":"U11QFV44X","type":"message","subtype":"channel_join","text":"<@U11QFV44X|jacksonlim> has joined the channel","ts":"1461053397.000077"},{"type":"message","user":"U11QFV44X","text":"Folks, I tried running \"peer peer\" and got a permission error: \"[db] CreateDB -&gt; ERRO 00b Error calling  os.MkdirAll for directory path [\/var\/hyperledger\/production\/db]: mkdir \/var\/hyperledger: permission denied\".  Do I need to change the program? Or is there any work-around? Thanks for any suggestions.","ts":"1461054430.000078"},{"type":"message","user":"U11QFV44X","text":"Solved. I got around the problem by \"sudo passwd root\" to get root access, then changing permission of \"\/var\" using \"chmod 777 \/var\" to allow access by vagrant.","ts":"1461057570.000079"},{"type":"message","user":"U0XR6J961","text":"the packer scripts to build the docker image don't set the environment variables properly","ts":"1461059469.000080"},{"type":"message","user":"U0XR6J961","text":"`scripts\/common\/setup.sh` writes the env vars to `\/etc\/profile.d\/goroot.sh`, which is not read for non-login shells","ts":"1461059534.000081"},{"type":"message","user":"U0XR6J961","text":"how is this working for anybody?","ts":"1461059539.000082"},{"user":"U11RE3ZUG","type":"message","subtype":"channel_join","text":"<@U11RE3ZUG|shiva> has joined the channel","ts":"1461061715.000083"},{"type":"message","user":"U0XR6J961","text":"i finally managed to build a docker image that works","ts":"1461069983.000084"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: read that comment I referenced yesterday","ts":"1461070021.000085"},{"type":"message","user":"U0KPFAZNF","text":"the env vars are processed at provisioning time","ts":"1461070030.000086"},{"type":"message","user":"U0KPFAZNF","text":"ideally I could have done that at baseimage creation, but packer lacked the ability to express certain docker operations","ts":"1461070083.000087"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1461070090.000088"},{"type":"message","user":"U0XR6J961","text":"like env vars","ts":"1461070092.000089"},{"type":"message","user":"U0KPFAZNF","text":"precisely","ts":"1461070098.000090"},{"type":"message","user":"U0XR6J961","text":"so when do i use the provisioning stuff?","ts":"1461070108.000091"},{"type":"message","user":"U0KPFAZNF","text":"its roughly 1:1 with when you would do a vagrant destroy\/up","ts":"1461070132.000092"},{"type":"message","user":"U0XR6J961","text":"so vagrant up runs the provisioning?","ts":"1461070195.000093"},{"type":"message","user":"U0KPFAZNF","text":"yes","ts":"1461070203.000094"},{"type":"message","user":"U0XR6J961","text":"this is quite obscure","ts":"1461070211.000095"},{"type":"message","user":"U0KPFAZNF","text":"not really, you always needed an environment, and there has always been a link between what the fabric needs in your environment","ts":"1461070249.000096"},{"type":"message","user":"U0XR6J961","text":"sure","ts":"1461070282.000097"},{"type":"message","user":"U0XR6J961","text":"this provisioning script is a nasty hack","ts":"1461070341.000098"},{"type":"message","user":"U0KPFAZNF","text":"if you use the prescribed method, you don\u2019t even need to think about it\u2026if you don\u2019t, you get to keep both pieces when it breaks","ts":"1461070379.000099"},{"type":"message","user":"U0XR6J961","text":"yea","ts":"1461070393.000100"},{"type":"message","user":"U0XR6J961","text":"that's not how we should set it up tho","ts":"1461070413.000101"},{"type":"message","user":"U0KPFAZNF","text":"but I understand the sentiment","ts":"1461070419.000102"},{"type":"message","user":"U0XR6J961","text":"or do we expect people to run deployments in vagrant?","ts":"1461070430.000103"},{"type":"message","user":"U0KPFAZNF","text":"open to suggestion on improvement","ts":"1461070431.000104"},{"type":"message","user":"U0XR6J961","text":"i'd have one Dockerfile which uses the devenv scripts to build the right image","ts":"1461070466.000105"},{"type":"message","user":"U0KPFAZNF","text":"no, we don\u2019t, but you have to consider the entire picture\u2026.we were always vagrant dependent (at least since I joined)\u2026.there were some things broken that were fixed with those changes, while introducing some other unpleasantries","ts":"1461070492.000106"},{"type":"message","user":"U0KPFAZNF","text":"so you can just consider the new unpleasantries, but the entire picture of things that were also fixed","ts":"1461070516.000107"},{"type":"message","user":"U0KPFAZNF","text":"and formulate a plan to advance things further","ts":"1461070531.000108"},{"type":"message","user":"U0XR6J961","text":"yea i haven't used vagrant except once to see that it works","ts":"1461070541.000109"},{"type":"message","user":"U0XR6J961","text":"at minimum, we should have a README describing how images get created","ts":"1461070568.000110"},{"type":"message","user":"U0XR6J961","text":"does vagrant use packer?","ts":"1461070588.000111"},{"type":"message","user":"U0KPFAZNF","text":"i think we do have at least that","ts":"1461070589.000112"},{"type":"message","user":"U0KPFAZNF","text":"yes","ts":"1461070594.000113"},{"type":"message","user":"U0XR6J961","text":"inside vagrant?","ts":"1461070604.000114"},{"type":"message","user":"U0KPFAZNF","text":"you can, but I dont","ts":"1461070617.000115"},{"type":"message","user":"U0KPFAZNF","text":"I typically run packer directly in OSX","ts":"1461070631.000116"},{"type":"message","user":"U0XR6J961","text":"so when i go to devenv and say \"vagrant up\", how does packer get involved?","ts":"1461070677.000117"},{"type":"message","user":"U0KPFAZNF","text":"bottom line, I fully agree that we shouldnt assume vagrant, and fully agree there is some awkwardness introduced recently","ts":"1461070679.000118"},{"type":"message","user":"U0KPFAZNF","text":"but just consider we did push the ball forward in a few dimensions that shouldnt be overlooked, and there is clearly more work to be done","ts":"1461070703.000119"},{"type":"message","user":"U0KPFAZNF","text":"packer is only used to create the baseimages that are in vagrant\/docker hosted servers","ts":"1461070731.000120"},{"type":"message","user":"U0XR6J961","text":"aha","ts":"1461070739.000121"},{"type":"message","user":"U0KPFAZNF","text":"when you do \u201ccd devenv\/baseimage; make\"","ts":"1461070747.000122"},{"type":"message","user":"U0XR6J961","text":"so that vagrant base image is used for vagrant up?","ts":"1461070768.000123"},{"type":"message","user":"U0KPFAZNF","text":"yes","ts":"1461070774.000124"},{"type":"message","user":"U0XR6J961","text":"ah i see","ts":"1461070777.000125"},{"type":"message","user":"U0KPFAZNF","text":"same for Docker","ts":"1461070780.000126"},{"type":"message","user":"U0XR6J961","text":"right","ts":"1461070785.000127"},{"type":"message","user":"U0XR6J961","text":"i'm wondering whether we should use a Dockerfile, instead of packer","ts":"1461070796.000128"},{"type":"message","user":"U0KPFAZNF","text":"we used packer to unify the baseimage so they are the same (functionally)","ts":"1461070796.000129"},{"type":"message","user":"U0XR6J961","text":"dockerfile just calling the same scripts","ts":"1461070811.000130"},{"type":"message","user":"U0KPFAZNF","text":"yeah, I had been wondering that too","ts":"1461070811.000131"},{"type":"message","user":"U0XR6J961","text":"like the packer config does right now","ts":"1461070819.000132"},{"type":"message","user":"U0KPFAZNF","text":"was thinking the same","ts":"1461070819.000133"},{"type":"message","user":"U0KPFAZNF","text":"it would at least solve the envvar issue","ts":"1461070835.000134"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1461070839.000135"},{"type":"message","user":"U0XR6J961","text":"and everybody can just go and say docker build","ts":"1461070852.000136"},{"type":"message","user":"U0KPFAZNF","text":"thing is, the bigger problem is the version coupling and that has nothing to do with packer","ts":"1461070855.000137"},{"type":"message","user":"U0XR6J961","text":"what version coupling?","ts":"1461070869.000138"},{"type":"message","user":"U0KPFAZNF","text":"well, for repeatability we dont want to just assume you always pull :latest","ts":"1461070889.000139"},{"type":"message","user":"U0XR6J961","text":"right","ts":"1461070901.000140"},{"type":"message","user":"U0XR6J961","text":"i was wondering that","ts":"1461070911.000141"},{"type":"message","user":"U0KPFAZNF","text":"so there is a tight coupling of versions where the vagrant\/devenv\/whatever pulls a specific docker image","ts":"1461070915.000142"},{"type":"message","user":"U0KPFAZNF","text":"that is what drove the provision\/docker.sh more than anything","ts":"1461070929.000143"},{"type":"message","user":"U0KPFAZNF","text":"the alternative is that every Dockerfile had a :0.0.9 tag in it","ts":"1461070950.000144"},{"type":"message","user":"U0KPFAZNF","text":"but that looked really ugly","ts":"1461070956.000145"},{"type":"message","user":"U0XR6J961","text":"or that we push a latest to the docker registry?","ts":"1461070975.000146"},{"type":"message","user":"U0KPFAZNF","text":"it also turns out that it is quite convenient to be able to augment the docker base at provisioning time (for instance, I need a JRE for my work)","ts":"1461070993.000147"},{"type":"message","user":"U0KPFAZNF","text":"pushing :latest to the docker registry is precisely what I think we need to avoid","ts":"1461071013.000148"},{"type":"message","user":"U0XR6J961","text":"why?","ts":"1461071024.000149"},{"type":"message","user":"U0KPFAZNF","text":"because you create a situation where the environment is not repeatable","ts":"1461071042.000150"},{"type":"message","user":"U0KPFAZNF","text":"take sha X today, and sha X tomorrow, and they might have a different docker image","ts":"1461071063.000151"},{"type":"message","user":"U0XR6J961","text":"because somebody pushed a new image?","ts":"1461071080.000152"},{"type":"message","user":"U0KPFAZNF","text":"right","ts":"1461071083.000153"},{"type":"message","user":"U0XR6J961","text":"ah yes","ts":"1461071086.000154"},{"type":"message","user":"U0XR6J961","text":"so then we should tie down the image version","ts":"1461071093.000155"},{"type":"message","user":"U0XR6J961","text":"because clearly you do want to use a different image :simple_smile:","ts":"1461071100.000156"},{"type":"message","user":"U0KPFAZNF","text":"heh, yes, thats what docker.sh does","ts":"1461071102.000157"},{"type":"message","user":"U0XR6J961","text":"so the core.yml should carry a docker image tag","ts":"1461071128.000158"},{"type":"message","user":"U0KPFAZNF","text":"the images in dockerhub are versioned, the script pulls the specific one it wants","ts":"1461071132.000159"},{"type":"message","user":"U0KPFAZNF","text":"yes, you can do that but note there are dozens of places today that have their own dockerfiles","ts":"1461071156.000160"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1461071162.000161"},{"type":"message","user":"U0KPFAZNF","text":"so its not exactly trivial","ts":"1461071162.000162"},{"type":"message","user":"U0XR6J961","text":"that is unfortunate anyways","ts":"1461071169.000163"},{"type":"message","user":"U0XR6J961","text":"i don't like that the dockerfiles live in yaml","ts":"1461071179.000164"},{"type":"message","user":"U0KPFAZNF","text":"and the common.sh provisioning thing is quite convenient (IMO)","ts":"1461071184.000165"},{"type":"message","user":"U0KPFAZNF","text":"the envvar thing is just a hack to deal with limitations of packer, i agree","ts":"1461071196.000166"},{"type":"message","user":"U0KPFAZNF","text":"that could go away","ts":"1461071199.000167"},{"type":"message","user":"U0KPFAZNF","text":"but I would hate to lose the common.sh provisioning","ts":"1461071217.000168"},{"type":"message","user":"U0XR6J961","text":"but you could as well maintain your own base image with jre, based on a specific version of the obc base image?","ts":"1461071228.000169"},{"type":"message","user":"U0KPFAZNF","text":"you could, but by that argument you could also put everything in baseimage for vagrant too","ts":"1461071258.000170"},{"type":"message","user":"U0XR6J961","text":"i don't quite get the whole run-a-script-to-modify-a-docker-image... that seems to be counter to the docker idea?","ts":"1461071261.000171"},{"type":"message","user":"U0KPFAZNF","text":"well, the progression of things was:","ts":"1461071281.000172"},{"type":"message","user":"U0KPFAZNF","text":"we used to do everything at \u201cprovisioning\u201d including building third party software that wasnt in ubuntu\/trusty in the right version","ts":"1461071309.000173"},{"type":"message","user":"U0KPFAZNF","text":"that was painful for a variety of reasons","ts":"1461071319.000174"},{"type":"message","user":"U0KPFAZNF","text":"we could go completely opposite, put everything in baseimage and just use it (vagrant and docker)","ts":"1461071337.000175"},{"type":"message","user":"U0KPFAZNF","text":"but that has its own limitations as you then need to spin new base images for even the smallest iterative change","ts":"1461071358.000176"},{"type":"message","user":"U0KPFAZNF","text":"so, the solution currently employed is a hybrid: the expensive-to-build-and-not-packaged-in-ubuntu stuff is in baseimage, other stuff gets added at provisioning","ts":"1461071396.000177"},{"type":"message","user":"U0XR6J961","text":"now i get why i didn't find the docs on provision","ts":"1461071396.000178"},{"type":"message","user":"U0XR6J961","text":"because they're not in the README.md","ts":"1461071402.000179"},{"type":"message","user":"U0XR6J961","text":"but in docs\/dev-env","ts":"1461071406.000180"},{"type":"message","user":"U0KPFAZNF","text":"so, with the mindset of the hybrid model, I tried to unify vagrant\/docker so they are sourced from the same basic process","ts":"1461071439.000181"},{"type":"message","user":"U0KPFAZNF","text":"with the idea that other environments (such as travis or your custom setup) could also consume .\/scripts\/provision in a similar manner","ts":"1461071490.000182"},{"type":"message","user":"U0XR6J961","text":"oh well","ts":"1461071523.000183"},{"type":"message","user":"U0KPFAZNF","text":"its not perfect, though I would argue its better than the original \u201cdo everything inline\u201d model for a variety of reasons","ts":"1461071535.000184"},{"type":"message","user":"U0XR6J961","text":"remember the times when you could build a full netbsd image using `sh build.sh`?","ts":"1461071576.000185"},{"type":"message","user":"U0KPFAZNF","text":"heh, was never a netbsd user but I appreciate the sentiment","ts":"1461071602.000186"},{"type":"message","user":"U0XR6J961","text":"all you need is a reasonable shell, and a compiler - not even sure about make","ts":"1461071625.000187"},{"type":"message","user":"U0KPFAZNF","text":"well, to be fair, it would be kind of like that if you used vagrant :wink:","ts":"1461071677.000188"},{"type":"message","user":"U0KPFAZNF","text":"brew install vagrant virtualbox; vagrant up","ts":"1461071695.000189"},{"type":"message","user":"U0KPFAZNF","text":"anyway, back to your original point about dockerfiles in yaml: cleaning that up would improve things","ts":"1461072046.000190"},{"type":"message","user":"U0KPFAZNF","text":"regardless of whether we need docker.sh or not","ts":"1461072075.000191"},{"type":"message","user":"U0KPFAZNF","text":"I would argue that the tight versioning is critically important, and I would vote to retain some kind of common.sh type thing if at all possible\u2026.envvars can go if we can solve the packer-induced problem","ts":"1461072145.000192"},{"type":"message","user":"U0KPFAZNF","text":"so keep those things in mind in whatever proposal you might have","ts":"1461072159.000193"},{"type":"message","user":"U0KPFAZNF","text":"one way to solve the first is if there was some central definition of \u201cFROM\u201d somewhere","ts":"1461072218.000194"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1461072409.000195"},{"type":"message","user":"U0XR6J961","text":"that's what i suggested","ts":"1461072420.000196"},{"type":"message","user":"U0XR6J961","text":"have that tag in core.yml","ts":"1461072426.000197"},{"type":"message","user":"U0XR6J961","text":"and you could build an image with JRE, and override that tag","ts":"1461072445.000198"},{"type":"message","user":"U0KPFAZNF","text":"yep, so have \u201c0.0.9\u201d as a tag in core.yaml, and the subordinate processes should pull that in","ts":"1461072458.000199"},{"type":"message","user":"U0XR6J961","text":"i'd put the whole string there","ts":"1461072470.000200"},{"type":"message","user":"U0KPFAZNF","text":"subordinate processes that build Dockefiles I mean","ts":"1461072475.000201"},{"type":"message","user":"U0KPFAZNF","text":"i see, thats fine too","ts":"1461072482.000202"},{"type":"message","user":"U0KPFAZNF","text":"if you do it as a version number, though, we can probably consume it outside of docker","ts":"1461072501.000203"},{"type":"message","user":"U0KPFAZNF","text":"meaning vagrant\/travis\/etc could read core.yaml","ts":"1461072512.000204"},{"type":"message","user":"U0KPFAZNF","text":"maybe that becomes less important, not sure","ts":"1461072550.000205"},{"type":"message","user":"U0KPFAZNF","text":"have to think about it more","ts":"1461072553.000206"},{"type":"message","user":"U0KPFAZNF","text":"certainly keeping vagrant\/docker in sync makes sense though","ts":"1461072561.000207"},{"type":"message","user":"U0KPFAZNF","text":"so that right there could be enough to justify it","ts":"1461072573.000208"},{"type":"message","user":"U0XR6J961","text":"oh hilarious, i just wanted to do a vagrant up on a virtual machine here - vagrant version too low","ts":"1461072877.000209"},{"type":"message","user":"U0KPFAZNF","text":"yeah, i cant remember the min version, but I had to brew update a few of my machines before I could work with obc","ts":"1461073003.000210"},{"type":"message","user":"U0XR6J961","text":"yea, that doesn't work in many settings","ts":"1461073457.000211"},{"type":"message","user":"U0KPFAZNF","text":"well, bottom line is the only supported config right now is a recent version of vagrant\/virtualbox","ts":"1461073593.000212"},{"type":"message","user":"U0KPFAZNF","text":"others may work, and other environments are certainly needed going forward","ts":"1461073606.000213"},{"type":"message","user":"U0KPFAZNF","text":"but that is where it is today","ts":"1461073609.000214"},{"type":"message","user":"U0Y55KNG2","text":"<@U0KPFAZNF>: <@U0XR6J961>: As a Windows user, and without the obvious long backgrounds you each have in working with these tools, I'd just like to add my thought that vagrant has been a joy to use. Knowing that the environment is identical to those used on the project itself has allowed me to concentrate only on what I was working with and not how. The changeover to the new script in hyperledger caused me a moment's glitch, but I was back up and running not long after. I do almost nothing in the native Windows environment. I use the \"FORWARD_DOCKER_PORTS='true' vagrant reload --provision\" command a lot when I am experimenting with folder mapping etc ... a very handy environment. I do the vagrant up variant whenever I feel I have corrupted my database or want a full refresh.","ts":"1461073797.000215"},{"type":"message","user":"U0KPFAZNF","text":"<@U0Y55KNG2>: thats good feedback, thanks, and that is certainly the promise\/idea of vagrant\u2026the biggest niggle in the overall process is I agree vagrant is not a deployment solution so we need to consider those requirements too","ts":"1461073970.000216"},{"type":"message","user":"U0KPFAZNF","text":"The people that are opting to create a devenv outside of vagrant are probably just causing themselves unnecessary pain, but I understand where they are coming from and the bottom line is we need to consider non-vagrant for production so why not make non-vagrant for dev as easy as possible while we are at it","ts":"1461074052.000217","reactions":[{"name":"+1","users":["U0Z3BE0F5"],"count":1}]},{"type":"message","user":"U0Y55KNG2","text":"yes, of course ... I did read the whole thread, but was struck by the fact that a lot of people work directly on Linux and Mac and so might not realize how important vagrant is to the minority on Windows ... that struck me especially hard when the script was adjusted for hyperledger to not run on Windows ... your version fixed that, but it just goes to show that Windows is uncommon ...","ts":"1461074132.000218"},{"type":"message","user":"U0Y55KNG2","text":"by the way, IMO the advantages of vagrant (total refresh in moments) pretty much outweigh that feeling of just working on the native OS ... but maybe I'd change my tune if I ever got a Mac ... who knows ...","ts":"1461074231.000219"},{"type":"message","user":"U0P2GSA8Z","text":"Let me add my voice to what <@U0Y55KNG2> said. I'm on Windows too (although with cygwin :-) and always thought it was nice to know we all had the same set up.","ts":"1461089685.000220"},{"type":"message","user":"U0P2GSA8Z","text":"but of course I'm not against making it easier for people to do without vagrant if they prefer","ts":"1461089743.000221"},{"type":"message","user":"U0TFEHX8E","text":"I have a PR that moves `main.go` and `core.yaml` under the peer folder. See <https:\/\/github.com\/hyperledger\/fabric\/pull\/1165>. This allows us to run `go build` without the need for the `-o peer` flag. I\u2019m sure this will impact some people so let me know if you have any questions.","edited":{"user":"U0TFEHX8E","ts":"1461103139.000000"},"ts":"1461103132.000222"},{"type":"message","user":"U0KM61BCP","text":"<@U0P2GSA8Z>: <@U0Y55KNG2> I don\u2019t think that because some are making it easier for those on linux to run natively means that the vagrant dev env will be deprecated. I think some are just looking for something with less overhead. Certainly, anything real will be run without Vagrant, so we definitely need both\u2026","ts":"1461106469.000225"},{"type":"message","user":"U0KM61BCP","text":"of course, this is open source and the rule of thumb is: you have an itch, scratch it - if the vagrant build is important, make this known (as you have done) but also offer to help maintain to ensure it\u2019s longevity","ts":"1461106521.000226"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0KM61BCP>: fair enough","ts":"1461108464.000227"},{"type":"message","user":"U0KN2SSKE","text":"<!here|@here>  with the Latest commit 488d266  issue #1131 \u2014 moving main.go to fabric\/peer.  You may encounter the problem in vagrant:\n```vagrant@hyperledger-devenv:v0.0.9-2457c97:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ cd peer\/\n-bash: cd: peer\/: Not a directory```\nIt seems vagrant caches the `peer` exe file. The solution is to run:\n```vagrant halt\nvagrant up\n```","ts":"1461160992.000228"},{"user":"U0J5URUJU","type":"message","subtype":"channel_join","text":"<@U0J5URUJU|nycnewman> has joined the channel","ts":"1461202496.000229"},{"type":"message","user":"U11Q02ZKL","text":"SSL read: error:00000000:lib(0):func(0):reason(0), errno 104  -- Geting this error while setting the vagrant up?","ts":"1461231820.000230"},{"user":"U12G3R3QS","type":"message","subtype":"channel_join","text":"<@U12G3R3QS|joverwimp> has joined the channel","ts":"1461239009.000231"},{"user":"U12G3R3QS","type":"message","subtype":"channel_leave","text":"<@U12G3R3QS|joverwimp> has left the channel","ts":"1461239057.000232"},{"user":"U12452RAP","type":"message","subtype":"channel_join","text":"<@U12452RAP|grapebaba> has joined the channel","ts":"1461239877.000233"},{"type":"message","subtype":"file_share","text":"<@U12452RAP|grapebaba> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/grapebaba\/F12G80Z1R\/build_failed.jpg|build failed>","file":{"id":"F12G80Z1R","created":1461240126,"timestamp":1461240126,"name":"build failed.jpg","title":"build failed","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U12452RAP","editable":false,"size":168016,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F12G80Z1R\/build_failed.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F12G80Z1R\/download\/build_failed.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F12G80Z1R-d962e83178\/build_failed_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F12G80Z1R-d962e83178\/build_failed_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F12G80Z1R-d962e83178\/build_failed_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":270,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F12G80Z1R-d962e83178\/build_failed_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","image_exif_rotation":1,"original_w":360,"original_h":270,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/grapebaba\/F12G80Z1R\/build_failed.jpg","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F12G80Z1R-bd694db415","channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U12452RAP","upload":true,"display_as_bot":false,"username":"<@U12452RAP|grapebaba>","bot_id":null,"ts":"1461240129.000234"},{"type":"message","user":"U12452RAP","text":"anyone came across this problem?","ts":"1461240165.000235"},{"type":"message","user":"U0XR6J961","text":"is this in vagrant?  all go build paths set properly?","ts":"1461240235.000236"},{"type":"message","user":"U12452RAP","text":"that is my fault","ts":"1461242416.000237"},{"type":"message","user":"U12452RAP","text":"thanks","ts":"1461242423.000238"},{"user":"U0W7D64LC","type":"message","subtype":"channel_join","text":"<@U0W7D64LC|markparz> has joined the channel","ts":"1461244607.000239"},{"type":"message","user":"U12452RAP","text":"hi guys","ts":"1461247158.000240"},{"type":"message","user":"U12452RAP","text":"i see only js SDK is provided","ts":"1461247201.000241"},{"type":"message","user":"U12452RAP","text":"other language is on plan?","ts":"1461247238.000242"},{"type":"message","user":"U0Z3BE0F5","text":"Hi! I am getting this error when trying to start a VP following the instructions in <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/dev-setup\/devnet-setup.md>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/dev-setup\/devnet-setup.md","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/dev-setup\/devnet-setup.md","thumb_width":142,"thumb_height":142,"id":1}],"ts":"1461252115.000243"},{"type":"message","subtype":"file_share","text":"<@U0Z3BE0F5|mcrafols> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/mcrafols\/F12KWMMNE\/-.txt|Untitled>","file":{"id":"F12KWMMNE","created":1461252142,"timestamp":1461252142,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0Z3BE0F5","editable":true,"size":353,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F12KWMMNE\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F12KWMMNE\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/mcrafols\/F12KWMMNE\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F12KWMMNE-1ced2addd1","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/mcrafols\/F12KWMMNE\/-.txt\/edit","preview":"vagrant@hyperledger-devenv:v0.0.9-a52b524:\/opt\/gopath\/src\/github.com\/hyperle\r\ndger\/fabric\/core\/container$ docker run --rm -it -e CORE_VM_ENDPOINT=http:\/\/1\r\n72.17.0.1:4243 -e CORE_PEER_ID=vp0 -e CORE_PEER_ADDRESSAUTODETECT=true hyper\r\nledger-peer fabric peer\r\ndocker: Error response from daemon: Container command 'fabric' not found or does\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>vagrant@hyperledger-devenv:v0.0.9-a52b524:\/opt\/gopath\/src\/github.com\/hyperle<\/pre><\/div>\n<div><pre>dger\/fabric\/core\/container$ docker run --rm -it -e CORE_VM_ENDPOINT=http:\/\/1<\/pre><\/div>\n<div><pre>72.17.0.1:4243 -e CORE_PEER_ID=vp0 -e CORE_PEER_ADDRESSAUTODETECT=true hyper<\/pre><\/div>\n<div><pre>ledger-peer fabric peer<\/pre><\/div>\n<div><pre>docker: Error response from daemon: Container command 'fabric' not found or does<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":6,"lines_more":1,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U0Z3BE0F5","upload":true,"display_as_bot":false,"username":"<@U0Z3BE0F5|mcrafols>","bot_id":null,"ts":"1461252145.000245"},{"type":"message","user":"U0KPFAZNF","text":"it looks like docker is assuming \u201cfabric\u201d is the name of the image you are trying to run, but from your command line it seems \u201chyperledger-peer\u201d is your intended name and fabric is the binary","ts":"1461253510.000246"},{"type":"message","user":"U0KPFAZNF","text":"not spying why that would be","ts":"1461253522.000247"},{"type":"message","user":"U0KPFAZNF","text":"but that seems to be the problem","ts":"1461253530.000248"},{"type":"message","user":"U0KPFAZNF","text":"my guess is something in the -e environment spec inadvertently absorbed the hyperledger-peer token","ts":"1461253579.000249"},{"type":"message","user":"U0Z3BE0F5","text":"I am completely clueless","ts":"1461253738.000250"},{"type":"message","user":"U0Z3BE0F5","text":"I must have done this 20 times at least and I have already restarted vagrant","ts":"1461253765.000251"},{"type":"message","user":"U0KPFAZNF","text":"ok, well lets simplify","ts":"1461253775.000252"},{"type":"message","user":"U0KPFAZNF","text":"try \u201cdocker run -i -t hyperledger-peer \/bin\/bash\"","ts":"1461253791.000253"},{"type":"message","user":"U0KPFAZNF","text":"if that works, you should have a \u201croot@\u2026\u201d bash shell, you can just exit out","ts":"1461253819.000254"},{"type":"message","user":"U0KPFAZNF","text":"if it doesnt work, let me know","ts":"1461253852.000255"},{"type":"message","user":"U0Z3BE0F5","text":"it worked","ts":"1461253854.000256"},{"type":"message","user":"U0KPFAZNF","text":"ok, now take your original line, but strip off \u201cfabric peer\u201d and put \/bin\/bash there","ts":"1461253868.000257"},{"type":"message","user":"U0Z3BE0F5","text":"again in a root@","ts":"1461253917.000258"},{"type":"message","user":"U0KPFAZNF","text":"ok, thats good","ts":"1461253921.000259"},{"type":"message","user":"U0KPFAZNF","text":"now, from that shell, do you see \u201cfabric\u201d in the $CWD","ts":"1461253942.000260"},{"type":"message","user":"U0Z3BE0F5","text":"no","ts":"1461253987.000261"},{"type":"message","user":"U0KPFAZNF","text":"what is your $CWD?","ts":"1461253995.000262"},{"type":"message","user":"U0KPFAZNF","text":"i just realized I misinterpretted your error earlier: its saying it cant find the binary","ts":"1461254021.000263"},{"type":"message","user":"U0KPFAZNF","text":"so never mind my comment about the image name \/ env var confusion, that was wrong","ts":"1461254034.000264"},{"type":"message","user":"U0KPFAZNF","text":"it seems the issue is the fabric binary is just not in the $PATH for some reason","ts":"1461254048.000265"},{"type":"message","user":"U0Z3BE0F5","text":"when is this binary put therE?","ts":"1461254122.000266"},{"type":"message","user":"U0KPFAZNF","text":"im actually not sure","ts":"1461254145.000267"},{"type":"message","user":"U0KPFAZNF","text":"my involvement ends at the baseimage establishment :wink:","ts":"1461254160.000268"},{"type":"message","user":"U0Z3BE0F5","text":"ouch","ts":"1461254166.000269"},{"type":"message","user":"U0KPFAZNF","text":"i suspect that is the problem though, how it was built","ts":"1461254171.000270"},{"type":"message","user":"U0KPFAZNF","text":"haha, i didnt mean I wouldnt help, just that I dont know","ts":"1461254183.000271"},{"type":"message","user":"U0Z3BE0F5","text":"thanks!","ts":"1461254193.000272"},{"type":"message","user":"U0KPFAZNF","text":"there are numerous places where docker images get built (e.g. go test BuildImage_Peer) I am just not sure about this one","ts":"1461254220.000273"},{"type":"message","user":"U0KPFAZNF","text":"i suspect that is how this one is built, just not sure why it wouldnt have been built properly","ts":"1461254241.000274"},{"type":"message","user":"U0Z3BE0F5","text":"BuildImage_Peer did not give me any error","ts":"1461254291.000275"},{"type":"message","user":"U0KPFAZNF","text":"out of curiosity, does your fabric binary build ok on the host?","ts":"1461254319.000276"},{"type":"message","user":"U0KPFAZNF","text":"(by host i mean whatever devenv you are using, vagrant, whatever)","ts":"1461254330.000277"},{"type":"message","user":"U0KPFAZNF","text":"just not docker","ts":"1461254339.000278"},{"type":"message","user":"U0Z3BE0F5","text":"i am using vagrant","ts":"1461254342.000279"},{"type":"message","user":"U0KPFAZNF","text":"ok, thats fine, whatever devenv you are using does it build?","ts":"1461254352.000280"},{"type":"message","user":"U0Z3BE0F5","text":"i don't know how I would check this","ts":"1461254353.000281"},{"type":"message","user":"U0KPFAZNF","text":"well, from the fabric, can you run \u201cgo build\u201d and get a .\/fabric binary","ts":"1461254369.000282"},{"type":"message","user":"U0KPFAZNF","text":"?","ts":"1461254370.000283"},{"type":"message","user":"U0Z3BE0F5","text":"can't load package: package <http:\/\/github.com\/hyperledger\/fabric|github.com\/hyperledger\/fabric>: no buildable Go sourc\ne files in \/opt\/gopath\/src\/github.com\/hyperledger\/fabric","ts":"1461254396.000284"},{"type":"message","user":"U0KPFAZNF","text":"hmm, sounds like you have general devenv woes","ts":"1461254448.000285"},{"type":"message","user":"U0KPFAZNF","text":"do you see files if you do \u201cls $GOPATH\/src\/github.com\/hyperledger\/fabric\u201d ?","ts":"1461254467.000286"},{"type":"message","user":"U0Z3BE0F5","text":"bddtests         core    events    MAINTAINERS.txt  protos     vendor\nconsensus        devenv  examples  membersrvc       README.md\nCONTRIBUTING.md  docs    LICENSE   peer             scripts","ts":"1461254490.000287"},{"type":"message","user":"U0TFEHX8E","text":"main.go moved. It\u2019s now under the `peer` folder","ts":"1461254536.000288"},{"type":"message","user":"U0TFEHX8E","text":"run `go build` from within the peer folder and you\u2019ll get a `peer` binary. No more `fabric` binary","ts":"1461254560.000289"},{"type":"message","user":"U0TFEHX8E","text":"See <https:\/\/github.com\/hyperledger\/fabric\/issues\/1131>","edited":{"user":"U0TFEHX8E","ts":"1461254599.000000"},"ts":"1461254596.000290"},{"type":"message","user":"U0Z3BE0F5","text":"oh does this mean that to start the peer the command would be like","ts":"1461254609.000293"},{"type":"message","user":"U0TFEHX8E","text":"`.\/peer peer`","ts":"1461254619.000294"},{"type":"message","user":"U0Z3BE0F5","text":"docker run --rm -it -e CORE_VM_ENDPOINT=<http:\/\/172.17.0.1:4243> -e CORE_PEER_ID=vp0 -e CORE_PEER_ADDRESSAUTODETECT=true hyperledger-peer .\/peer peer","ts":"1461254623.000295"},{"type":"message","user":"U0Z3BE0F5","text":"oh","ts":"1461254625.000296"},{"type":"message","user":"U0TFEHX8E","text":"yes","ts":"1461254626.000297"},{"type":"message","user":"U0Z3BE0F5","text":"documentation must be updated","ts":"1461254643.000298"},{"type":"message","user":"U0TFEHX8E","text":"if you see `fabric peer` in the documentation or code anywhere it\u2019s wrong. Trying to get that all cleaned up, but I may have missed a few","ts":"1461254649.000299"},{"type":"message","user":"U0TFEHX8E","text":"which docs are you looking at?","ts":"1461254658.000300"},{"type":"message","user":"U0Z3BE0F5","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/dev-setup\/devnet-setup.md>","ts":"1461254663.000301"},{"type":"message","user":"U0TFEHX8E","text":"shoot, I\u2019ll fix that up. sorry","ts":"1461254716.000302"},{"type":"message","user":"U0Z3BE0F5","text":"another thing I wanted to say, a ChainCode must have now Invoke and Init functions right?","ts":"1461254805.000303"},{"type":"message","user":"U0Z3BE0F5","text":"instead of the deprecated Run","ts":"1461254813.000304"},{"type":"message","user":"U0KPFAZNF","text":"sorry, had stepped away\u2026looks like you figured it out though","ts":"1461254880.000305"},{"type":"message","user":"U0Z3BE0F5","text":"yeah the main.go was moved to peer folder","ts":"1461254899.000306"},{"type":"message","user":"U0KPFAZNF","text":"ah, ok that makes sense","ts":"1461254905.000307"},{"type":"message","user":"U0KPFAZNF","text":"i havent updated recently","ts":"1461254910.000308"},{"type":"message","user":"U0Z3BE0F5","text":"<@U0KPFAZNF>: <@U0TFEHX8E> thanks a lot!","ts":"1461255076.000309"},{"type":"message","user":"U0KPFAZNF","text":"anytime","ts":"1461255085.000310"},{"type":"message","user":"U0TFEHX8E","text":"<@U0Z3BE0F5>: Yes, the chaincode Run function changed to Invoke. There is also an Init function that is now required","ts":"1461255299.000311"},{"type":"message","user":"U0TFEHX8E","text":"See <https:\/\/github.com\/hyperledger\/fabric\/wiki\/Sprint-Release-Notes>","edited":{"user":"U0TFEHX8E","ts":"1461255329.000000"},"ts":"1461255325.000312"},{"type":"message","user":"U0Z3BE0F5","text":"oh so that's probably why marbles does not work?","ts":"1461255334.000315"},{"type":"message","user":"U0TFEHX8E","text":"possibly. Marbles is IBM specific so it\u2019s designed to run on the Bluemix platform, which runs Hyperledger, but not the latest","ts":"1461255389.000316"},{"type":"message","user":"U0Z3BE0F5","text":"yeah I checked the chaincode and still has a Run function...","ts":"1461255431.000317"},{"type":"message","user":"U0TFEHX8E","text":"PR for the doc fix is at <https:\/\/github.com\/hyperledger\/fabric\/pull\/1201>. Hopefully that will be merged soon","attachments":[{"service_name":"GitHub","title":"Fix up a few remaining fabric references. Issue #1131 by srderson \u00b7 Pull Request #1201 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1201","text":"Cleans up a few remaining references to fabric that needs to changed to peer as that is the default binary name.","fallback":"GitHub: Fix up a few remaining fabric references. Issue #1131 by srderson \u00b7 Pull Request #1201 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/4872087?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1201","thumb_width":400,"thumb_height":400,"id":1}],"ts":"1461255541.000318"},{"type":"message","user":"U0P2GSA8Z","text":"who actually needs all the info that is being displayed in the vagrant shell prompt? It makes for an awfully long prompt","ts":"1461257370.000320"},{"type":"message","user":"U0XR6J961","text":"nerds? :simple_smile:","ts":"1461257777.000321"},{"type":"message","user":"U0P2GSA8Z","text":"lol","ts":"1461257781.000322"},{"type":"message","user":"U0XR6J961","text":"i switched to a two line prompt a decade ago","ts":"1461257793.000323"},{"type":"message","user":"U0P2GSA8Z","text":"ah.. that could be a trade-off","ts":"1461257815.000324"},{"type":"message","user":"U0P2GSA8Z","text":"personally I've never been a fan of these busy prompts and like to keep them really short but I realize it's hard to find something that everybody will like","ts":"1461257893.000325"},{"type":"message","user":"U0XR6J961","text":"yey vagrant","ts":"1461258002.000326"},{"type":"message","user":"U0XR6J961","text":"same thing for everybody","ts":"1461258017.000327"},{"type":"message","user":"U0P2GSA8Z","text":"for better and for worse :simple_smile:","ts":"1461258031.000328"},{"user":"U12AHQ3NK","type":"message","subtype":"channel_join","text":"<@U12AHQ3NK|nits7sid> has joined the channel","ts":"1461292781.000329"},{"type":"message","user":"U12AHQ3NK","text":"Hi,  I am facing a problem on windows machine when  i run  \"go build\n.\/membersrvc \"  command..It says permission denied for mkdir var\/hyperledger","ts":"1461306955.000330"},{"type":"message","subtype":"file_share","text":"<@U12AHQ3NK|nits7sid> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/nits7sid\/F12RLD13N\/vagrant_error.png|vagrant_error.PNG> and commented: permission denied mkdir var\/hyperledger","file":{"id":"F12RLD13N","created":1461307428,"timestamp":1461307428,"name":"vagrant_error.PNG","title":"vagrant_error.PNG","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U12AHQ3NK","editable":false,"size":22715,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F12RLD13N\/vagrant_error.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F12RLD13N\/download\/vagrant_error.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F12RLD13N-8401cbc9a1\/vagrant_error_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F12RLD13N-8401cbc9a1\/vagrant_error_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F12RLD13N-8401cbc9a1\/vagrant_error_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":194,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F12RLD13N-8401cbc9a1\/vagrant_error_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":258,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F12RLD13N-8401cbc9a1\/vagrant_error_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","image_exif_rotation":1,"original_w":639,"original_h":344,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/nits7sid\/F12RLD13N\/vagrant_error.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F12RLD13N-456ca802d2","channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc12S7FDMY","created":1461307428,"timestamp":1461307428,"user":"U12AHQ3NK","is_intro":true,"comment":"permission denied mkdir var\/hyperledger","channel":""}},"user":"U12AHQ3NK","upload":true,"display_as_bot":false,"username":"<@U12AHQ3NK|nits7sid>","bot_id":null,"ts":"1461307429.000331"},{"user":"U0U2AJURZ","type":"message","subtype":"channel_join","text":"<@U0U2AJURZ|renat-altoros> has joined the channel","ts":"1461310872.000332"},{"type":"message","user":"U0Z3BE0F5","text":"use sudo","ts":"1461319550.000333"},{"type":"message","user":"U0N1D1UAE","text":"Is there a plan in place to switch to using the \u2018hyperledger\u2019 prefix for Docker containers? I\u2019ve seen some comments around this but not sure where it stands.","ts":"1461332683.000334"},{"type":"message","user":"U0N1D1UAE","text":"I mean the place where the standard scripts get the base images.","ts":"1461332708.000335"},{"type":"message","user":"U0KPFAZNF","text":"<@U0N1D1UAE>: I was granted permission\/acl to push the other day and its on my list","ts":"1461332767.000336"},{"type":"message","user":"U0KPFAZNF","text":"i just havent had a chance to do it yet","ts":"1461332786.000337"},{"type":"message","user":"U0N1D1UAE","text":"<@U0KPFAZNF> - thanks, I\u2019ll let the POWER team know","ts":"1461332795.000338"},{"type":"message","user":"U0KPFAZNF","text":"ok, cool\u2026what was the final thought on tags vs names for $arch specification","ts":"1461332822.000339"},{"type":"message","user":"U0N1D1UAE","text":"Who do they contact to get permission to push POWER images?","ts":"1461332830.000340"},{"type":"message","user":"U0KPFAZNF","text":"actually, now I recall: we werent sure if tags supported arbitrary strings","ts":"1461332848.000341"},{"type":"message","user":"U0KPFAZNF","text":"i still have to look into it","ts":"1461332855.000342"},{"type":"message","user":"U0KPFAZNF","text":"regarding perms, I would go through Binh","ts":"1461332867.000343"},{"type":"message","user":"U0KPFAZNF","text":"i am but a lowly servant :wink:","ts":"1461332891.000344"},{"type":"message","user":"U0N1D1UAE","text":"I don\u2019t have an opinion on tags vs names - whatever works","ts":"1461332900.000345"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1461332903.000346"},{"type":"message","user":"U0KPFAZNF","text":"ill probably lean towards tags to keep the top-level namespace cleaner unless obstructed otherwise","ts":"1461332928.000347"},{"type":"message","user":"U0KPFAZNF","text":"i.e. :x86_64-0.0.9","ts":"1461332951.000348"},{"type":"message","user":"U0N1D1UAE","text":"That\u2019s good, then docker.sh doesn\u2019t have to change","ts":"1461333012.000349"},{"type":"message","user":"U0KPFAZNF","text":"hmm, not following","ts":"1461333027.000350"},{"type":"message","user":"U0KPFAZNF","text":"i would guess it has to change either way","ts":"1461333031.000351"},{"type":"message","user":"U0N1D1UAE","text":"Currently we pass in the tag","ts":"1461333040.000352"},{"type":"message","user":"U0KPFAZNF","text":"unless docker has an implicit $arch thing i am not aware of","ts":"1461333052.000353"},{"type":"message","user":"U0KPFAZNF","text":"right, but docker.sh currently does \u201cdocker pull openblockchain\/baseimage:0.0.9\"","ts":"1461333080.000354"},{"type":"message","user":"U0KPFAZNF","text":"i imagine that all has to be updated, no?","ts":"1461333092.000355"},{"type":"message","user":"U0KPFAZNF","text":"just wasnt following what you meant by it doesnt need to change","ts":"1461333104.000356"},{"type":"message","user":"U0N1D1UAE","text":"It does docker pull openblockchain\/baseimage:$1","ts":"1461333111.000357"},{"type":"message","user":"U0KPFAZNF","text":"ah!","ts":"1461333116.000358"},{"type":"message","user":"U0KPFAZNF","text":"now i see your point","ts":"1461333119.000359"},{"type":"message","user":"U0KPFAZNF","text":"yes","ts":"1461333121.000360"},{"type":"message","user":"U0KPFAZNF","text":"obviously the name will get updated, but not per arch","ts":"1461333133.000361"},{"type":"message","user":"U0KPFAZNF","text":"though you could argue that I could do the $arch detection in that script","ts":"1461333158.000362"},{"type":"message","user":"U0KPFAZNF","text":"i dont have a strong opinion either way","ts":"1461333165.000363"},{"type":"message","user":"U0N1D1UAE","text":"Now that we\u2019ve talked, I like tags assuming they work","ts":"1461333224.000364"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1461333231.000365"},{"type":"message","user":"U0KPFAZNF","text":"how about arch detection","ts":"1461333236.000366"},{"type":"message","user":"U0KPFAZNF","text":"pass in, or ascertain within docker.sh?","ts":"1461333243.000367"},{"type":"message","user":"U0N1D1UAE","text":"Why is it necessary?","ts":"1461333258.000368"},{"type":"message","user":"U0KPFAZNF","text":"dunno, maybe it isnt\u2026i am assuming I need to do \u201cdocker pull $image:$arch-$version\"","ts":"1461333283.000369"},{"type":"message","user":"U0XR6J961","text":"docker doesn't handle different architectures?","ts":"1461333297.000370"},{"type":"message","user":"U0KPFAZNF","text":"not sure","ts":"1461333303.000371"},{"type":"message","user":"U0KPFAZNF","text":"first time dealing with $arch within docker","ts":"1461333313.000372"},{"type":"message","user":"U0N1D1UAE","text":"Docker doesn\u2019t know about arch","ts":"1461333315.000373"},{"type":"message","user":"U0N1D1UAE","text":"You can pull an x86 image to power and docker will try to run it","ts":"1461333331.000374"},{"type":"message","user":"U0KPFAZNF","text":"that is my understanding as well, and the handling of it is a bit adhoc it seems","ts":"1461333352.000375"},{"type":"message","user":"U0KPFAZNF","text":"for instance, \u201cubuntu\/trusty64\u201d is x86, and \u201cs390\/ubuntu\u201d is s390","ts":"1461333386.000376"},{"type":"message","user":"U0XR6J961","text":"oh my","ts":"1461333460.000377"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: current proposal is to handle this within tags","ts":"1461333468.000378"},{"type":"message","user":"U0KPFAZNF","text":"so there would be one hyperledger\/fabric-baseimage, with tags that are $arch-$version","ts":"1461333490.000379"},{"type":"message","user":"U0KPFAZNF","text":"(though we still need to figure out if docker will let us do arbitrary strings for tags","ts":"1461333510.000380"},{"type":"message","user":"U0N1D1UAE","text":"sudo docker build -t foo:bar-1.5-baz","ts":"1461333685.000381"},{"type":"message","user":"U0N1D1UAE","text":"Works!","ts":"1461333690.000382"},{"type":"message","user":"U0KPFAZNF","text":"nice, thats a good sign","ts":"1461333704.000383"},{"type":"message","user":"U0KPFAZNF","text":"i figured there was a good chance because of \u201c:latest\"","ts":"1461333714.000384"},{"type":"message","user":"U0KPFAZNF","text":"but you never know","ts":"1461333716.000385"},{"type":"message","user":"U0N1D1UAE","text":"Does anyone know how to run single Behave tests? I\u2019ve tried","ts":"1461335585.000386"},{"type":"message","user":"U0XR6J961","text":"-n \"string\"","ts":"1461335597.000387"},{"type":"message","user":"U0N1D1UAE","text":"Need quotes?","ts":"1461335610.000388"},{"type":"message","user":"U0KPFAZNF","text":"thats all I do generally, though Jeff did show me a more direct way","ts":"1461335614.000389"},{"type":"message","user":"U0KPFAZNF","text":"for instance \u2018 -n \u201c#680\u201d '","ts":"1461335626.000390"},{"type":"message","user":"U0KPFAZNF","text":"i do all the time because #680 constantly fails for me","ts":"1461335640.000391"},{"type":"message","user":"U0KPFAZNF","text":"but that said, i think there are more direct ways using those @wip tags","ts":"1461335653.000392"},{"type":"message","user":"U0KPFAZNF","text":"i just forget the method now as the -n has worked for me","ts":"1461335662.000393"},{"type":"message","user":"U0N1D1UAE","text":"Thanks","ts":"1461335676.000394"},{"type":"message","user":"U0N1D1UAE","text":"Any idea why 680 is failing? I\u2019m also sseing strange failures I *think* may be related to too-short timeouts for Docker-compose networks to come up","ts":"1461335721.000395"},{"type":"message","user":"U0UGH3X7X","text":"some tests run more than once because they loop through multiple docker-compose setups ( e.g. consensus batch\/classic\/sieve ).","ts":"1461335762.000396"},{"type":"message","user":"U0XR6J961","text":"bcbrock: do you guys have automation for the stress tests?","ts":"1461335765.000397"},{"type":"message","user":"U0N1D1UAE","text":"Interesting, I\u2019m rerunning with logging enabled and they are working!","ts":"1461335787.000398"},{"type":"message","user":"U0XR6J961","text":"bcbrock: is there a way to maybe trigger a test for a specific commit?","ts":"1461335788.000399"},{"type":"message","user":"U0UGH3X7X","text":"talk to <@U11HTMW0H> on automation","ts":"1461335800.000400"},{"user":"U11HTMW0H","inviter":"U0UGH3X7X","type":"message","subtype":"channel_join","text":"<@U11HTMW0H|bmos299> has joined the channel","ts":"1461335808.000401"},{"type":"message","user":"U0XR6J961","text":"aha","ts":"1461335818.000402"},{"type":"message","user":"U0N1D1UAE","text":"<@U0XR6J961> There are no automated stress tests that I am aware of","ts":"1461335863.000403"},{"type":"message","user":"U0XR6J961","text":"ah okay","ts":"1461335870.000404"},{"type":"message","user":"U0UGH3X7X","text":"<@U0KM61BCP> and <@U11HTMW0H>  are lookup at using Travis CI to run tests on PR and commits","ts":"1461335876.000405"},{"type":"message","user":"U0XR6J961","text":"right","ts":"1461335882.000406"},{"type":"message","user":"U0N1D1UAE","text":"I\u2019m trying to get administrative approval to publish my stress tests","ts":"1461335904.000407"},{"type":"message","user":"U0XR6J961","text":"the code to  run them?","ts":"1461335922.000408"},{"type":"message","user":"U0N1D1UAE","text":"Yes. Need some internal approval","ts":"1461335933.000409"},{"type":"message","user":"U0N1D1UAE","text":"to publish","ts":"1461335937.000410"},{"type":"message","user":"U0XR6J961","text":"right","ts":"1461335938.000411"},{"type":"message","user":"U0XR6J961","text":"```      ConnectionError: HTTPConnectionPool(host='172.17.0.4', port=5000): Max retries exceeded with url: \/transactions\/\n9bce738a-7210-4321-9958-e034c5e02575 (Caused by NewConnectionError('&lt;requests.packages.urllib3.connection.HTTPConnecti\non object at 0x7f75cec8eb10&gt;: Failed to establish a new connection: [Errno 113] No route to host',))      ```","ts":"1461336027.000412"},{"type":"message","user":"U0XR6J961","text":"in the middle of a behave test...","ts":"1461336036.000413"},{"type":"message","user":"U0XR6J961","text":"ah no, vp3 got stopped and restarted","ts":"1461336056.000414"},{"type":"message","user":"U0XR6J961","text":"yea well","ts":"1461336059.000415"},{"type":"message","user":"U0XR6J961","text":"docker is so slow, and i don't know why","ts":"1461336074.000416"},{"type":"message","user":"U0XR6J961","text":"ah yes, that's #680","ts":"1461336118.000417"},{"type":"message","user":"U0XR6J961","text":"so that fails for others as well?","ts":"1461336126.000418"},{"type":"message","user":"U0XR6J961","text":"```unexpected fault address 0x7f25ad3a4084\nfatal error: fault\n[signal 0xb code=0x1 addr=0x7f25ad3a4084 pc=0x674bc6]\n```","ts":"1461336211.000419"},{"type":"message","user":"U0XR6J961","text":"ha! protobuf is segfaulting during unmarshal","ts":"1461336223.000420"},{"type":"message","user":"U0XR6J961","text":"well that's great","ts":"1461336227.000421"},{"type":"message","user":"U0N1D1UAE","text":"#680 is failing for me now, looks like maybe the peer is trying to connect to membersrvc before membersrvc is ready?","ts":"1461336357.000422"},{"type":"message","user":"U0XR6J961","text":"ah no, this is my own bug","ts":"1461336399.000423"},{"type":"message","user":"U0XR6J961","text":"or at least related to my changes","ts":"1461336405.000424"},{"type":"message","user":"U0XR6J961","text":"i'm going to hop on the train","ts":"1461336433.000425"},{"type":"message","user":"U0XR6J961","text":"laters!","ts":"1461336434.000426"},{"user":"U137A6LBE","type":"message","subtype":"channel_join","text":"<@U137A6LBE|latone> has joined the channel","ts":"1461458464.000427"},{"user":"U139XHJCB","type":"message","subtype":"channel_join","text":"<@U139XHJCB|aaren> has joined the channel","ts":"1461567145.000428"},{"user":"U10U4K6JC","type":"message","subtype":"channel_join","text":"<@U10U4K6JC|jasmeet> has joined the channel","ts":"1461579115.000429"},{"type":"message","user":"U10U4K6JC","text":"default: SSH auth method: private key\nTimed out while waiting for the machine to boot. This means that\nVagrant was unable to communicate with the guest machine within\nthe configured (\"config.vm.boot_timeout\" value) time period.\n\nIf you look above, you should be able to see the error(s) that\nVagrant had when attempting to connect to the machine. These errors\nare usually good hints as to what may be wrong.\n\nIf you're using a custom box, make sure that networking is properly\nworking and you're able to connect to the machine. It is a common\nproblem that networking isn't setup properly in these boxes.\nVerify that authentication configurations are also setup properly,\nas well.\n\nIf the box appears to be booting properly, you may want to increase\nthe timeout (\"config.vm.boot_timeout\") value.\n\nWhats the command to increase \nthe timeout (\"config.vm.boot_timeout\") value.","ts":"1461579147.000430"},{"type":"message","user":"U10U4K6JC","text":"<@U0KM61BCP>: <@U0KPFAZNF> <@U0ULK2JPP> Please guide !!","ts":"1461581530.000431"},{"user":"U0ULK2JPP","inviter":"U10U4K6JC","type":"message","subtype":"channel_join","text":"<@U0ULK2JPP|muralisr> has joined the channel","ts":"1461581545.000432"},{"user":"U13DAL5V5","type":"message","subtype":"channel_join","text":"<@U13DAL5V5|wimtobback> has joined the channel","ts":"1461584332.000433"},{"user":"U13JUH485","type":"message","subtype":"channel_join","text":"<@U13JUH485|fabio> has joined the channel","ts":"1461617685.000434"},{"type":"message","user":"U12AHQ3NK","text":"how do I set up development network with 8 peers?","ts":"1461675890.000435"},{"type":"message","user":"U0UGH3X7X","text":"you can extend what's in devnet-setup  . Alternatively, take a look at the docker-compose files in either .\/bddtests or .\/consensus\/docker-compose-files","ts":"1461676016.000436"},{"type":"message","user":"U0UGH3X7X","text":"also, a few folks on hyperledger slack have published tools to deploy hyperledger\/fabric using docker.  See if you can seach the various channel for \"docker\"","ts":"1461676090.000437"},{"type":"message","user":"U12AHQ3NK","text":"Okay..thank you","ts":"1461676223.000438"},{"type":"message","user":"U0UGH3X7X","text":"<@U12AHQ3NK>:   take a look at the technical-discuss listserv as well. Latest entries discuss a docker setup.  (sign up to the listserv from the hyperledger project web page )","ts":"1461677592.000439"},{"type":"message","user":"U0XR6J961","text":"can we just pipe these mails into slack?","ts":"1461677745.000440"},{"type":"message","user":"U0XR6J961","text":":simple_smile:","ts":"1461677748.000441"},{"type":"message","user":"U0UGH3X7X","text":"<@U0XR6J961>, we need Richard Stallman to join :simple_smile:    but seriously, <@U0KM61BCP> can the listserv and slack be linked ?","ts":"1461678009.000442"},{"type":"message","user":"U0KM61BCP","text":"<@U0XR6J961>: <@U0UGH3X7X> that was supposedly being worked by LF\u2026 <@U0UHG4VP1> <@U0PTU8XN3>  any chance we could integrate the technical-discuss mailing list into this slack? Also, too, IRC\u2026","ts":"1461678532.000443"},{"user":"U0UHG4VP1","inviter":"U0KM61BCP","type":"message","subtype":"channel_join","text":"<@U0UHG4VP1|ry> has joined the channel","ts":"1461678552.000444"},{"user":"U0PTU8XN3","inviter":"U0KM61BCP","type":"message","subtype":"channel_join","text":"<@U0PTU8XN3|philipdesautels> has joined the channel","ts":"1461678552.000445"},{"type":"message","user":"U0XR6J961","text":"haha irc","ts":"1461678579.000446"},{"type":"message","user":"U0N1D1UAE","text":"<@U112NNFV4>: We would like enhance the \u201cBuilding outside of Vagrant\u201d section of the current top-level README.md. \u201cWe\u201d being the POWER development team, the reason being to make the instructions more complete and comprehensive, and also point out portability issues when running on POWER. I know that you are in the process of restructuring the docs. How do you suggest we proceed?  With the current structure I believe that this topic deserves its own .md file.","ts":"1461683908.000447"},{"type":"message","user":"U0KM61BCP","text":"<@U0N1D1UAE>: we will definitely want to have multiple architectures supported\u2026 when we transition to Jenkins, we will start looking closely at that. Any changes we can affect to make that future transition smoother would be welcome","ts":"1461684746.000448"},{"type":"message","user":"U0XR6J961","text":"ideally building outside of vagrant would just be `go build`","ts":"1461689276.000449"},{"type":"message","user":"U0XR6J961","text":"with maybe a script to install go, rocksdb, and docker","ts":"1461689317.000450"},{"type":"message","user":"U0KM61BCP","text":"<@U0XR6J961>: yes, ideally","ts":"1461712594.000451"},{"type":"message","user":"U12AHQ3NK","text":"while running docker-compose to create network i get the following error.:  ERROR: Container command 'fabric' not found or does not exist.","ts":"1461733350.000452"},{"type":"message","user":"U0Z3BE0F5","text":"the documentation is not updated yet (<@U0TFEHX8E> ) you have to use peer where it says fabric","ts":"1461742857.000453"},{"type":"message","user":"U12452RAP","text":"in china env, cannot execute go get <http:\/\/golang.org\/x\/tools\/imports|golang.org\/x\/tools\/imports>","ts":"1461762185.000454"},{"type":"message","user":"U12452RAP","text":"would you like use golang tool github mirror","ts":"1461762288.000455"},{"type":"message","user":"U0XR6J961","text":"grapebaba: do you know of any mirror?","ts":"1461762338.000456"},{"type":"message","user":"U12452RAP","text":"<https:\/\/github.com\/golang\/tools?files=1>","attachments":[{"service_name":"GitHub","title":"golang\/tools","title_link":"https:\/\/github.com\/golang\/tools?files=1","text":"tools - [mirror] Go Tools","fallback":"GitHub: golang\/tools","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/4314092?v=3&s=400","from_url":"https:\/\/github.com\/golang\/tools?files=1","thumb_width":400,"thumb_height":400,"id":1}],"ts":"1461762513.000457"},{"user":"U0M28HM6J","type":"message","subtype":"channel_join","text":"<@U0M28HM6J|takekiyokubo> has joined the channel","ts":"1461764107.000459"},{"type":"message","user":"U0UGH3X7X","text":"<@U11HH3P7Y>:  can you ping <@U0XR6J961>  <@U0XPR4NP4> ... need help with travis","ts":"1461784260.000460"},{"user":"U11HH3P7Y","inviter":"U0UGH3X7X","type":"message","subtype":"channel_join","text":"<@U11HH3P7Y|ramesh> has joined the channel","ts":"1461784266.000461"},{"type":"message","user":"U11HH3P7Y","text":"will do","ts":"1461784367.000462"},{"type":"message","user":"U0TFEHX8E","text":"<@U0Z3BE0F5> <@U12AHQ3NK>: can you point me to the doc that\u2019s not updated (still says fabric). Thought we fixed everything, but must have missed something","edited":{"user":"U0TFEHX8E","ts":"1461784790.000000"},"ts":"1461784416.000463"},{"type":"message","user":"U0TFEHX8E","text":"<@U12452RAP>: Are you talking about changing <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/installGolang.sh#L53> ? I realize that causes issues for people in China. Feel free to submit a PR. If you do, please add a comment with the reason why we fetch it from a non-standard location. Does `go get <http:\/\/github.com\/golang\/lint\/golint|github.com\/golang\/lint\/golint>` work for you?","edited":{"user":"U0TFEHX8E","ts":"1461784653.000000"},"ts":"1461784648.000464"},{"type":"message","user":"U12452RAP","text":"<@U0TFEHX8E>: yes, golint works well","ts":"1461826020.000469"},{"type":"message","user":"U12452RAP","text":"<@U0TFEHX8E>: i try many methods, but all failed","ts":"1461829337.000470"},{"type":"message","user":"U0Z3BE0F5","text":"<@U0TFEHX8E>: I checked and you fixed the one that caused me problems, maybe <@U12AHQ3NK> was using the old command","ts":"1461829650.000471"},{"type":"message","user":"U0Z3BE0F5","text":"I am developing some chaincode using the sandbox setup and .\/peer peer --peer-chaincodedev","ts":"1461842848.000472"},{"type":"message","user":"U0Z3BE0F5","text":"where is the blockchain of this development peer stored? I say this because whenever I stop the peer and restart it I get all the blockchain again (I would like to remove it)","edited":{"user":"U0Z3BE0F5","ts":"1461842910.000000"},"ts":"1461842899.000473"},{"type":"message","user":"U0XR6J961","text":"in \/var\/hyperledger\/db","ts":"1461842955.000475"},{"type":"message","user":"U0Z3BE0F5","text":"<@U0XR6J961>: thanks! (\/var\/hyperledger\/production\/db)","ts":"1461847663.000476"},{"type":"message","user":"U0P2GSA8Z","text":"<!here|@here> anyone knows where behave went? It's no longer in the bddtests folder","ts":"1461866263.000477"},{"type":"message","user":"U0XPR4NP4","text":"In the vagrant image there is `\/usr\/local\/bin\/behave`","ts":"1461866335.000478"},{"type":"message","user":"U0UGH3X7X","text":"i see the the expected .feature files etc ... in the .\/bddtests folder ...  are you not able to run behave ?","ts":"1461866373.000479"},{"type":"message","user":"U0TFEHX8E","text":"behave is installed during `vagrant up`. It doesn\u2019t live in source control\n<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/setup.sh#L96>","edited":{"user":"U0TFEHX8E","ts":"1461867163.000000"},"ts":"1461867158.000480"},{"type":"message","user":"U0P2GSA8Z","text":"ah ok, my bad. I got confused somehow","ts":"1461871494.000483"},{"type":"message","user":"U0P2GSA8Z","text":"thanks","ts":"1461871495.000484"},{"type":"message","user":"U12AHQ3NK","text":"<@U0TFEHX8E>:  i was refering to this doc for setting up docker-compose environment:  <https:\/\/github.com\/openblockchain\/obc-peer\/blob\/master\/compose-consensus-4.md>","attachments":[{"service_name":"GitHub","title":"openblockchain\/obc-peer","title_link":"https:\/\/github.com\/openblockchain\/obc-peer\/blob\/master\/compose-consensus-4.md","text":"obc-peer - Blockchain fabric code","fallback":"GitHub: openblockchain\/obc-peer","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/14354670?v=3&s=400","from_url":"https:\/\/github.com\/openblockchain\/obc-peer\/blob\/master\/compose-consensus-4.md","thumb_width":400,"thumb_height":400,"id":1}],"ts":"1461904437.000485"},{"user":"U14S06MT7","type":"message","subtype":"channel_join","text":"<@U14S06MT7|igor> has joined the channel","ts":"1461928546.000487"},{"type":"message","user":"U0TFEHX8E","text":"<@U12AHQ3NK>: the obc repo is deprecated. Use <https:\/\/github.com\/hyperledger\/fabric>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric","thumb_width":142,"thumb_height":142,"id":1}],"ts":"1461929695.000488"},{"type":"message","user":"U0KPFAZNF","text":"<@U0TFEHX8E>: i was thinking at some point we should start to experiment with 16.04 update, thoughts?","ts":"1461933365.000490"},{"type":"message","user":"U0KPFAZNF","text":"no specific rush, but just on the roadmap after some of the current firedrills are out of the way","ts":"1461933386.000491"},{"type":"message","user":"U0TFEHX8E","text":"no issues with that. Maybe we could try it locally for a few weeks?","ts":"1461934152.000492"},{"type":"message","user":"U0KPFAZNF","text":"Certainly.  I can make it available in a branch and share","ts":"1461936508.000493","reactions":[{"name":"+1","users":["U0TFEHX8E","U0KM61BCP"],"count":2}]},{"user":"U0Q6BA1EU","type":"message","subtype":"channel_join","text":"<@U0Q6BA1EU|bobbiejc> has joined the channel","ts":"1461951371.000494"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0TFEHX8E> <@U0KPFAZNF> speaking of roadmaps and firedrills it would be nice if these could be documented for all to see so that community members can find out what's going on","ts":"1461955418.000495"},{"type":"message","user":"U0KPFAZNF","text":"<@U0P2GSA8Z>: i believe generally speaking that is true via the github issues","ts":"1461955458.000496"},{"type":"message","user":"U0KPFAZNF","text":"(which, btw, are much easier to follow if you have the zenhub plugin installed","edited":{"user":"U0KPFAZNF","ts":"1461955544.000000"},"ts":"1461955481.000497"},{"type":"message","user":"U0KPFAZNF","text":"but to that point, this 16.04 proposal should have an issue to track it, ill create one now","edited":{"user":"U0KPFAZNF","ts":"1461955602.000000"},"ts":"1461955590.000499"},{"type":"message","user":"U0P2GSA8Z","text":"issues don't tell the whole story though","ts":"1461955605.000501"},{"type":"message","user":"U0P2GSA8Z","text":"all issues are clearly not treated equally (not that they should be) and it's unclear what is being worked on and why","ts":"1461955710.000502"},{"type":"message","user":"U0KPFAZNF","text":"i agree with you, though that mechanism\/fact is not something i have any control over either","ts":"1461956025.000503"},{"type":"message","user":"U0KPFAZNF","text":"im sure proposals for process improvement are just as welcome as any other, is all I can say about that","ts":"1461956067.000504"},{"type":"message","user":"U0KPFAZNF","text":"FYI, tracked above as Issue 1305","ts":"1461956116.000505"},{"type":"message","user":"U0P2GSA8Z","text":"fyi, I'm an IBMer and I've been on the back of my colleagues to improve on that front for a while :wink:","ts":"1461956166.000506"},{"type":"message","user":"U0KPFAZNF","text":"ah, ok, cool","ts":"1461956199.000507"},{"type":"message","user":"U0P2GSA8Z","text":"I'm part of the Open Technology group with Chris Ferris","ts":"1461956211.000508"},{"type":"message","user":"U0KPFAZNF","text":"I am not so have little say in that matter, heh","ts":"1461956213.000509"},{"type":"message","user":"U0P2GSA8Z","text":"so part of my role is to help our colleagues who have less experience in working in the open to successfully transition to that mode of working","ts":"1461956258.000510"},{"type":"message","user":"U0KPFAZNF","text":"i would certainly encourage anything that helps track all of this stuff, but I dont have any suggestions on what that might be","ts":"1461956293.000511"},{"type":"message","user":"U0P2GSA8Z","text":"you mentioned roadmap, I think having a published roadmap would be a good start","ts":"1461956329.000512","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0P2GSA8Z","text":"the tags on the issues also reveal somebody is defining sprints and selecting issues for them","ts":"1461956389.000513"},{"type":"message","user":"U0P2GSA8Z","text":"how this gets done needs to be open","ts":"1461956438.000514"},{"type":"message","user":"U0P2GSA8Z","text":"I know there is no lack of goodwill to do so but it will take some time","ts":"1461956487.000515"},{"type":"message","user":"U0P2GSA8Z","text":"and until it's done I will keep pushing :simple_smile:","ts":"1461956506.000516","reactions":[{"name":"+1","users":["U0KM61BCP"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"sounds good, thank you","ts":"1461956748.000517"},{"user":"U0P2R5BEZ","type":"message","subtype":"channel_join","text":"<@U0P2R5BEZ|mkrishna> has joined the channel","ts":"1462111969.000518"},{"user":"U11TAFPUP","type":"message","subtype":"channel_join","text":"<@U11TAFPUP|joseph> has joined the channel","ts":"1462205910.000519"},{"user":"U13Q594J2","type":"message","subtype":"channel_join","text":"<@U13Q594J2|ratnakar> has joined the channel","ts":"1462218662.000520"},{"user":"U0Y671PMK","type":"message","subtype":"channel_join","text":"<@U0Y671PMK|kurtz> has joined the channel","ts":"1462231295.000521"},{"user":"U15KME666","type":"message","subtype":"channel_join","text":"<@U15KME666|dayu> has joined the channel","ts":"1462259191.000522"},{"type":"message","user":"U0Y671PMK","text":"Are there any instructions on how to run a fabric peer as a docker container, outside of the vagrant dev environment? I'm able to run the peer but I'm having issues starting contract containers.","edited":{"user":"U0Y671PMK","ts":"1462285188.000000"},"ts":"1462284947.000523"},{"type":"message","user":"U0XR6J961","text":"you need to allow docker containers contacting the docker daemon","ts":"1462285049.000524"},{"type":"message","user":"U0Y671PMK","text":"Yes, I have that step down. Specifically, the contract container fails on the entry command. It seems like GOROOT &amp; GOPATH are not set as environment variables. GOROOT\/bin and GOPATH\/bin are also not appended to the PATH environment variable.","ts":"1462285137.000525"},{"type":"message","user":"U0Y671PMK","text":"I guess I can modify the core.yaml to set these, not sure if anyone else has already done the dirty work.","ts":"1462285167.000526"},{"type":"message","user":"U0Y671PMK","text":"Also in case anyone else is trying to do this as well, I had to manually pull openblockchain\/baseimage:0.0.9 and tag it to latest... Seems like the devenv setup takes care of that.","ts":"1462285275.000528"},{"type":"message","user":"U0XPR4NP4","text":"<@U0Y671PMK>: Sorry for the pain.  FYI, the rationale for not pushing the latest tag, is so that people on older versions of the dev env and code don't get their  environment broken when a new image is pushed.  If you're interested in documenting your discoveries and submitting a PR for it, I'm sure others would find it helpful.","ts":"1462286063.000529"},{"type":"message","user":"U0KPFAZNF","text":"<@U0Y671PMK>: the current mechanism uses the script in .\/scripts\/provision\/docker.sh to do all that you mentioned above","ts":"1462286583.000530"},{"type":"message","user":"U0KPFAZNF","text":"im trying to formulate a design that makes this less error prone","ts":"1462286597.000531"},{"type":"message","user":"U0KPFAZNF","text":"one thing we could do is to try to coalesce all the fragmented Dockerfile definitions spread around in the yaml to perhaps be references to a Dockerfile and\/or YAML key","ts":"1462286681.000532"},{"type":"message","user":"U0KPFAZNF","text":"then that one definition could do the dirty work (pull 0.0.9, set the env, run common.sh, etc)","ts":"1462286708.000533"},{"type":"message","user":"U0KPFAZNF","text":"but one problem is how to deal with relative paths in different environments","ts":"1462286723.000534"},{"type":"message","user":"U0KPFAZNF","text":"have to step out, bbiab","ts":"1462286731.000535"},{"type":"message","user":"U0Y671PMK","text":"Ahhh OK, I see what you're doing now, I didn't really understand it at first. Thanks for the script reference.","edited":{"user":"U0Y671PMK","ts":"1462287062.000000"},"ts":"1462287049.000536"},{"type":"message","user":"U0Y671PMK","text":"Just curious, where can I find the openblockchain\/baseimage 0.0.9 Dockerfile?","ts":"1462287868.000538"},{"type":"message","user":"U0XPR4NP4","text":"<@U0Y671PMK>: You may want to wait on <@U0KPFAZNF> as he is the expert here, but you can take a look at `<http:\/\/github.com\/hyperledger\/fabric\/devenv\/baseimage|github.com\/hyperledger\/fabric\/devenv\/baseimage>`, there is a `packer.json` and a `README.md` there.  In a nutshell, packer is used to build both the vagrant baseimage, and the docker baseimage, in an attempt to keep those images in lockstep.","ts":"1462289852.000539"},{"type":"message","user":"U0P2GSA8Z","text":"<!here|@here> Please help: for some reason when I do \"go build\" now the exec that gets produced isn't executable","ts":"1462299170.000540"},{"type":"message","user":"U0P2GSA8Z","text":"I'm running on a Windows 7 Pro box","ts":"1462299210.000541"},{"type":"message","user":"U0P2GSA8Z","text":"it's been working fine for weeks","ts":"1462299217.000542"},{"type":"message","user":"U0P2GSA8Z","text":"and all of a sudden the file access mode are completely screwed up","ts":"1462299234.000543"},{"type":"message","user":"U0P2GSA8Z","text":"any idea what's going on? All I did was a pull to get back in sync with the master branch","ts":"1462299261.000544"},{"type":"message","user":"U0KPFAZNF","text":"which directory do you run the build from?","ts":"1462299296.000545"},{"type":"message","user":"U0P2GSA8Z","text":"peer","ts":"1462299302.000546"},{"type":"message","user":"U0KPFAZNF","text":"and are you in vagrant or in a native shell?","ts":"1462299312.000547"},{"type":"message","user":"U0P2GSA8Z","text":"vagrant","ts":"1462299319.000548"},{"type":"message","user":"U0KPFAZNF","text":"weird","ts":"1462299329.000549"},{"type":"message","user":"U0KPFAZNF","text":"no idea, sorry","ts":"1462299332.000550"},{"type":"message","user":"U0P2GSA8Z","text":"I've never seen anything like that","ts":"1462299343.000551"},{"type":"message","user":"U0TFEHX8E","text":"what\u2019s the output of `whoami`?","ts":"1462299350.000552"},{"type":"message","user":"U0TFEHX8E","text":"and what are the permissions on the binary?","ts":"1462299361.000553"},{"type":"message","user":"U0P2GSA8Z","text":"vagrant","ts":"1462299364.000554"},{"type":"message","user":"U0KPFAZNF","text":"so the binary is being produced but the +x isnt set?","ts":"1462299364.000555"},{"type":"message","user":"U0P2GSA8Z","text":"000!","ts":"1462299371.000556"},{"type":"message","user":"U0P2GSA8Z","text":"not readable, not writeable, not executable by anyone","ts":"1462299383.000557"},{"type":"message","user":"U0P2GSA8Z","text":"correct","ts":"1462299395.000558"},{"type":"message","user":"U0P2GSA8Z","text":"I kill the virtual box and restart the whole thing with vagrant up and all to try and reset the env","ts":"1462299427.000559"},{"type":"message","user":"U0P2GSA8Z","text":"I don't get it","ts":"1462299430.000560"},{"type":"message","user":"U0KPFAZNF","text":"thats probably a good idea for other reasons, but I have no idea what would have caused that","ts":"1462299452.000561"},{"type":"message","user":"U0TFEHX8E","text":"assume you ran `vagrant destroy` as part of your reset?","ts":"1462299468.000562"},{"type":"message","user":"U0P2GSA8Z","text":"I didn't, I'll try that","ts":"1462299482.000563"},{"type":"message","user":"U0P2GSA8Z","text":"when I create a file with touch foo it's got the right access","ts":"1462299502.000564"},{"type":"message","user":"U0P2GSA8Z","text":"so this is really weird","ts":"1462299510.000565"},{"type":"message","user":"U0TFEHX8E","text":"yeah, can\u2019t say I\u2019ve ever seen that before","ts":"1462299834.000566"},{"type":"message","user":"U0TFEHX8E","text":"I just tried a build locally to make sure there\u2019s not something weird in the env and I didn\u2019t see any issues","ts":"1462299861.000567"},{"type":"message","user":"U0P2GSA8Z","text":"right, I actually have two machines and the other is fine","ts":"1462300664.000568"},{"type":"message","user":"U0P2GSA8Z","text":"so, hopefully I can get that one back in shape","ts":"1462300676.000569"},{"type":"message","user":"U0P2GSA8Z","text":"I wish I knew what happened though","ts":"1462300685.000570"},{"type":"message","user":"U0P2GSA8Z","text":"wow, even vagrant destroy + up didn't do it","ts":"1462301803.000571"},{"type":"message","user":"U0P2GSA8Z","text":"I get the same 000 access mode on the peer exec file","ts":"1462301819.000572"},{"type":"message","user":"U0P2GSA8Z","text":"my machine was rebooted","ts":"1462301839.000573"},{"type":"message","user":"U0P2GSA8Z","text":"I installed the latest update of VirtualBox","ts":"1462301851.000574"},{"type":"message","user":"U0P2GSA8Z","text":"(can you sense the desperation here ;-)","ts":"1462301863.000575"},{"type":"message","user":"U0TFEHX8E","text":"hmmm. Maybe try `vagrant box list` and then remove your base ubuntu image?","ts":"1462302052.000576"},{"type":"message","user":"U0TFEHX8E","text":"I\u2019m guessing. I\u2019m at the \u201cturn it off and on again\u201d point of trying to fix the problem","ts":"1462302092.000577"},{"type":"message","user":"U0P2GSA8Z","text":"well, I'll have to look into this more later - gotta do something else for now","ts":"1462302153.000578"},{"type":"message","user":"U0P2GSA8Z","text":"thanks for the tips","ts":"1462302158.000579"},{"type":"message","user":"U0XPR4NP4","text":"<@U0P2GSA8Z>: Not sure if you had things working before, but my money would be on some sort of interaction between the Windows filesystem and VirtualBox, as the source tree is actually backed by your OS's filesystem.  If you've had this working before, it may not be relevant, but what filesystem are you using to store your development root? In particular, if it is an older filesystem which does not support many file attributes (say, fat32)then I think this could cause problems.  What do the permissions look like for the other elements in the tree? (Also in the same boat as <@U0TFEHX8E> here, just guessing.)","ts":"1462302613.000580"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0XPR4NP4>: that's the weird thing, I've been using this set up for weeks without problems","ts":"1462303738.000581"},{"type":"message","user":"U0P2GSA8Z","text":"I have no idea what changed between yesterday and today!","edited":{"user":"U0P2GSA8Z","ts":"1462303899.000000"},"ts":"1462303747.000582"},{"type":"message","user":"U0P2GSA8Z","text":"although I say \"without problems\" but I have had some mode changes that I didn't quite understand before","ts":"1462303842.000583"},{"type":"message","user":"U0P2GSA8Z","text":"but nothing like that","ts":"1462303846.000584"},{"type":"message","user":"U0P2GSA8Z","text":"it was more like some files ended up with the exec bit on","ts":"1462303870.000585"},{"type":"message","user":"U0P2GSA8Z","text":"interestingly I can't change the access rights I get on the peer exec file within vagrant or my windows shell (cygwin actually)","ts":"1462303982.000587"},{"type":"message","user":"U0P2GSA8Z","text":"the only way to change it is to use the windows desktop explorer and go change the access rights through security property tab","ts":"1462304021.000588"},{"type":"message","user":"U0P2GSA8Z","text":"if I change it I can then run the program without problems","ts":"1462304037.000589"},{"type":"message","user":"U0P2GSA8Z","text":"this is beyond my level of understanding I have to admit","ts":"1462304057.000590"},{"type":"message","user":"U0P2GSA8Z","text":"but for what it's worth it's an NTFS filesystem","ts":"1462304142.000591"},{"type":"message","user":"U0P2GSA8Z","text":"the permissions look like crap in vagrant but that's true on both of my systems and that's not been a problem so far","ts":"1462304255.000592"},{"type":"message","user":"U0P2GSA8Z","text":"all the files appear as -rwxrwxrwx","ts":"1462304275.000593"},{"type":"message","user":"U0P2GSA8Z","text":"only from windows can I actually see the real mode","ts":"1462304303.000594"},{"type":"message","user":"U0P2GSA8Z","text":"I'm going to have to do a bunch more tests to see if I can figure out the source of this problem","ts":"1462304384.000595"},{"type":"message","user":"U0XPR4NP4","text":"Hmmm, yeah, sounds like you're on the right track, I think I have seen some Vagrant bugs around what user VirtualBox ends up executing as, interacting with certain Windows security policies, good luck!","ts":"1462304435.000596"},{"type":"message","user":"U0P2GSA8Z","text":"thanks","ts":"1462305290.000597"},{"type":"message","user":"U0KPFAZNF","text":"<@U0N1D1UAE>: thinking some more\u2026what made you come to the conclusion that java was hardcoded to \/bin\/java","ts":"1462309376.000598"},{"type":"message","user":"U0KPFAZNF","text":"i am starting to wonder if the packager did that","ts":"1462309389.000599"},{"type":"message","user":"U0N1D1UAE","text":"You copied all of bin","ts":"1462309391.000600"},{"type":"message","user":"U0KPFAZNF","text":"ok, thats what I was wondering, note that isnt whats happening","ts":"1462309406.000601"},{"type":"message","user":"U0KPFAZNF","text":"that is just the dockerfile relative COPY directive you are seeing, right?","ts":"1462309421.000602"},{"type":"message","user":"U0KPFAZNF","text":"COPY bin\/* ...","ts":"1462309433.000603"},{"type":"message","user":"U0N1D1UAE","text":"Yes","ts":"1462309450.000604"},{"type":"message","user":"U0KPFAZNF","text":"or something else?","ts":"1462309450.000605"},{"type":"message","user":"U0N1D1UAE","text":"yiure right","ts":"1462309455.000606"},{"type":"message","user":"U0KPFAZNF","text":"ok, yeah that is just how I move the protoc-gen-go + chaintool binaries in, thats it","ts":"1462309472.000607"},{"type":"message","user":"U0N1D1UAE","text":"\u2018java\u2019 is in my PATH","ts":"1462309487.000608"},{"type":"message","user":"U0N1D1UAE","text":"it\u2019s a script","ts":"1462309491.000609"},{"type":"message","user":"U0KPFAZNF","text":"ok, perfect","ts":"1462309496.000610"},{"type":"message","user":"U0N1D1UAE","text":"So I didn\u2019t understand why it wasn\u2019t found","ts":"1462309515.000611"},{"type":"message","user":"U0KPFAZNF","text":"that is odd, but I should look at the binary preamble","ts":"1462309529.000612"},{"type":"message","user":"U0KPFAZNF","text":"the chaintool binary is created with this tool called lein-bin, which takes a .jar and a script and slams them together","ts":"1462309567.000613"},{"type":"message","user":"U0KPFAZNF","text":"i wonder if the script makes assumptions about the jre path","ts":"1462309581.000614"},{"type":"message","user":"U0KPFAZNF","text":"i can look","ts":"1462309586.000615"},{"type":"message","user":"U0N1D1UAE","text":"Oh - I thought it was private","ts":"1462309662.000616"},{"type":"message","user":"U0KPFAZNF","text":"which?","ts":"1462309675.000617"},{"type":"message","user":"U0N1D1UAE","text":"I thought our conversation was private","ts":"1462309685.000618"},{"type":"message","user":"U0N1D1UAE","text":"thats why I couldn\u2019t find it","ts":"1462309693.000619"},{"type":"message","user":"U0KPFAZNF","text":"ah","ts":"1462309696.000620"},{"type":"message","user":"U0KPFAZNF","text":"so you have a docker container (is it x or something else?) that you have done the apt-get install default-jre?","ts":"1462309743.000621"},{"type":"message","user":"U0KPFAZNF","text":"and which java resolves fine, but when you run chaintool it complains that it cannot exec java?","ts":"1462309764.000622"},{"type":"message","user":"U0N1D1UAE","text":"I am running on X, but this system uses IBM Java which is installed in \/opt and accesssed via JAVA_HOME","ts":"1462309780.000623"},{"type":"message","user":"U0KPFAZNF","text":"oh, i see, that _shouldnt_ matter as long as \u201cjava\u201d is on the path, but let me experiment","ts":"1462309809.000624"},{"type":"message","user":"U0N1D1UAE","text":"java is a script in my private ~\/bin directory","ts":"1462309826.000625"},{"type":"message","user":"U0KPFAZNF","text":"oh!","ts":"1462309833.000626"},{"type":"message","user":"U0KPFAZNF","text":"i wonder if that is it","ts":"1462309837.000627"},{"type":"message","user":"U0KPFAZNF","text":"ill see how it behaves","ts":"1462309846.000628"},{"type":"message","user":"U0N1D1UAE","text":"#!\/bin\/bash\n\n$JAVA_HOME\/bin\/java \"$@\"","ts":"1462309859.000629"},{"type":"message","user":"U0KPFAZNF","text":"you have chaintool local on this system now?","ts":"1462309873.000630"},{"type":"message","user":"U0N1D1UAE","text":"yes","ts":"1462309878.000631"},{"type":"message","user":"U0KPFAZNF","text":"so you can do \u201cjava\u201d and get the help output, but \u201cchaintool\u201d and you get that exec error","ts":"1462309899.000632"},{"type":"message","user":"U0N1D1UAE","text":"1 sec","ts":"1462309960.000633"},{"type":"message","user":"U0N1D1UAE","text":"\u2018java\u2019 gives help message","ts":"1462310112.000634"},{"type":"message","user":"U0N1D1UAE","text":"\u2018chaintool\u2019 is on path, and gives Error: Could not find or load main class chaintool.core","ts":"1462310134.000635"},{"type":"message","user":"U0N1D1UAE","text":"The \u2018java not found\u2019 is from the container","ts":"1462310186.000636"},{"type":"message","user":"U0KPFAZNF","text":"thats weird, I wonder if IBM java does not support a jar with a script preamble","ts":"1462310215.000637"},{"type":"message","user":"U0KPFAZNF","text":"the container error sounds different","ts":"1462310230.000638"},{"type":"message","user":"U0KPFAZNF","text":"if I run \u201cstrings chaintool\u201d i can get a glimpse of the script, it looks like","ts":"1462310283.000639"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F15REBDEF\/-.txt|Untitled>","file":{"id":"F15REBDEF","created":1462310292,"timestamp":1462310292,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0KPFAZNF","editable":true,"size":339,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F15REBDEF\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F15REBDEF\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F15REBDEF\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F15REBDEF-351a4f76d5","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F15REBDEF\/-.txt\/edit","preview":":;exec java -XX:+TieredCompilation -XX:TieredStopAtLevel=1 -XX:-OmitStackTraceInFastThrow -client -Dchaintool.version=0.5.1 -Xbootclasspath\/a:$0 chaintool.core \"$@\"\r\n@echo off\r\njava -XX:+TieredCompilation -XX:TieredStopAtLevel=1 -XX:-OmitStackTraceInFastThrow -client -Dchaintool.version=0.5.1 -Xbootclasspath\/a:%1 chaintool.core \"%~f0\" %*","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>:;exec java -XX:+TieredCompilation -XX:TieredStopAtLevel=1 -XX:-OmitStackTraceInFastThrow -client -Dchaintool.version=0.5.1 -Xbootclasspath\/a:$0 chaintool.core &quot;$@&quot;<\/pre><\/div>\n<div><pre>@echo off<\/pre><\/div>\n<div><pre>java -XX:+TieredCompilation -XX:TieredStopAtLevel=1 -XX:-OmitStackTraceInFastThrow -client -Dchaintool.version=0.5.1 -Xbootclasspath\/a:%1 chaintool.core &quot;%~f0&quot; %*<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":3,"lines_more":0,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1462310292.000640"},{"type":"message","user":"U0KPFAZNF","text":"so it doesnt appear to be path decorated","ts":"1462310303.000641"},{"type":"message","user":"U0KPFAZNF","text":"so that answers that part anyway","ts":"1462310331.000642"},{"type":"message","user":"U0KPFAZNF","text":"as far as IBM java, the .jar contents should be all in that file, but its like it either doesnt see the jar or at least it doesnt see it fully","ts":"1462310362.000643"},{"type":"message","user":"U0KPFAZNF","text":"like a classpath issue perhaps","ts":"1462310372.000644"},{"type":"message","user":"U0N1D1UAE","text":"Let me try an Oracle Java","ts":"1462310374.000645"},{"type":"message","user":"U0N1D1UAE","text":"The Oracle java can run it","ts":"1462310441.000646"},{"type":"message","user":"U0KPFAZNF","text":"interesting","ts":"1462310445.000647"},{"type":"message","user":"U0KPFAZNF","text":"you _should_ be able to treat the binary as a standard jar, so what happens if you do \u201cjava -jar chaintool\"","ts":"1462310502.000648"},{"type":"message","user":"U0KPFAZNF","text":"(in either)","ts":"1462310508.000649"},{"type":"message","user":"U0KPFAZNF","text":"i wonder if its the -XX switches that are messing it up","ts":"1462310529.000650"},{"type":"message","user":"U0N1D1UAE","text":"maybe, my manager (Java expert) is here looking at it","ts":"1462310605.000651"},{"type":"message","user":"U0KPFAZNF","text":"cool","ts":"1462310869.000652"},{"type":"message","user":"U0KPFAZNF","text":"im guessing its either the ibm jre doesnt like the preamble script in front of the jar, or it doesnt like the switches that it uses","ts":"1462310906.000653"},{"type":"message","user":"U0KPFAZNF","text":"(im hoping its the latter, as I cant do much about the former ;)","ts":"1462310947.000654"},{"type":"message","user":"U0N1D1UAE","text":"We don\u2019t understabd yet","ts":"1462311042.000655"},{"type":"message","user":"U0N1D1UAE","text":"Looks like IBM does not undderstand that the JAR is attached","ts":"1462311060.000656"},{"type":"message","user":"U0KPFAZNF","text":"ugg, thats not good","ts":"1462311072.000657"},{"type":"message","user":"U0N1D1UAE","text":"Why does it have 2 commands?","ts":"1462311078.000658"},{"type":"message","user":"U0N1D1UAE","text":"One before and 1 after echo EOF","ts":"1462311092.000659"},{"type":"message","user":"U0KPFAZNF","text":"otp","ts":"1462311100.000660"},{"type":"message","user":"U0KPFAZNF","text":"i suspect it doesnt actually, i think that was probably a comment and then the real invocation","ts":"1462311178.000661"},{"type":"message","user":"U0KPFAZNF","text":"let me look at the plugin that generates the preamble","ts":"1462311187.000662"},{"type":"message","user":"U0KPFAZNF","text":"or at least capture a better rendering","ts":"1462311198.000663"},{"type":"message","user":"U0KPFAZNF","text":"hmm, actually that snippet above seems to be fairly represenative of the script","ts":"1462311276.000664"},{"type":"message","user":"U0KPFAZNF","text":"not sure what the \u201c:;\u201d does though","ts":"1462311286.000665"},{"type":"message","user":"U0N1D1UAE","text":"java -jar chaintool works","ts":"1462311364.000666"},{"type":"message","user":"U0KPFAZNF","text":"even with ibm jre?","ts":"1462311372.000667"},{"type":"message","user":"U0N1D1UAE","text":"yes","ts":"1462311376.000668"},{"type":"message","user":"U0KPFAZNF","text":"ah, thats a good sign","ts":"1462311380.000669"},{"type":"message","user":"U0N1D1UAE","text":"As long as you are in that dir","ts":"1462311393.000670"},{"type":"message","user":"U0KPFAZNF","text":"now see if it works with the pasted switches","ts":"1462311401.000671"},{"type":"message","user":"U0KPFAZNF","text":"ah!","ts":"1462311403.000672"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1462311404.000673"},{"type":"message","user":"U0KPFAZNF","text":"maybe thats it then","ts":"1462311408.000674"},{"type":"message","user":"U0KPFAZNF","text":"its weird though as I would have expected the $0 to cover CWD discrepancies","ts":"1462311487.000675"},{"type":"message","user":"U0KPFAZNF","text":"oh, wait","ts":"1462311557.000676"},{"type":"message","user":"U0KPFAZNF","text":"you mean \u201cjava -jar chaintool\u201d only works with chaintool in the CWD?","ts":"1462311581.000677"},{"type":"message","user":"U0KPFAZNF","text":"i guess that makes sense, its not going to search $PATH in that case","ts":"1462311593.000678"},{"type":"message","user":"U0N1D1UAE","text":"Yes","ts":"1462311698.000679"},{"type":"message","user":"U0N1D1UAE","text":"Can you control the script on top?","ts":"1462311714.000680"},{"type":"message","user":"U0KPFAZNF","text":"ultimately, yes","ts":"1462311724.000681"},{"type":"message","user":"U0KPFAZNF","text":"the plugin that generated it is FOSS","ts":"1462311731.000682"},{"type":"message","user":"U0N1D1UAE","text":"Rei suggests chaning Xbootclasspath\/a:$0 to -jar $0","ts":"1462311734.000683"},{"type":"message","user":"U0N1D1UAE","text":"changing","ts":"1462311744.000684"},{"type":"message","user":"U0KPFAZNF","text":"ok, i think I can actually change that in leiningen options","ts":"1462311755.000685"},{"type":"message","user":"U0N1D1UAE","text":"Trying it anyway","ts":"1462311757.000686"},{"type":"message","user":"U0N1D1UAE","text":"We tried to edit the file but it was \u201ccorrupted\u201d after that","ts":"1462311770.000687"},{"type":"message","user":"U0N1D1UAE","text":"Do you have IBM JAVA?","ts":"1462311786.000688"},{"type":"message","user":"U0KPFAZNF","text":"i think that is controlled by this switch","ts":"1462311792.000689"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/ghaskins\/chaintool\/blob\/master\/project.clj#L31>","edited":{"user":"U0KPFAZNF","ts":"1462311857.000000"},"ts":"1462311793.000690"},{"type":"message","user":"U0KPFAZNF","text":"if you have the tree, you can try taking that out and rebuilding (just do \u201cmake\u201d(","ts":"1462311809.000692"},{"type":"message","user":"U0KPFAZNF","text":"otherwise, i can try to get ibm java installed","ts":"1462311819.000693"},{"type":"message","user":"U0N1D1UAE","text":"We can try that I think","ts":"1462311863.000695"},{"type":"message","user":"U0KPFAZNF","text":"i think that should change how the script generator emits the code","ts":"1462311884.000696"},{"type":"message","user":"U0KPFAZNF","text":"if that switch doesnt sufficiently neuter the offending flag, I can fork the plugin that generates the script","ts":"1462312119.000697"},{"type":"message","user":"U0N1D1UAE","text":"where is the final \u2018chaintool\u2019 with header end up?","ts":"1462312405.000698"},{"type":"message","user":"U0KPFAZNF","text":".\/target","ts":"1462312412.000699"},{"type":"message","user":"U0N1D1UAE","text":"warning: [options] bootstrap class path not set in conjunction with -source 1.7","ts":"1462312544.000700"},{"type":"message","user":"U0KPFAZNF","text":"yeah, though I would have expected that to go away if you turned off the feature","ts":"1462312587.000701"},{"type":"message","user":"U0N1D1UAE","text":"Bingo","ts":"1462312596.000702"},{"type":"message","user":"U0N1D1UAE","text":"It works now","ts":"1462312605.000703"},{"type":"message","user":"U0KPFAZNF","text":"I was forced to target v1.7 because trusty doesnt have 1.8","ts":"1462312617.000704"},{"type":"message","user":"U0KPFAZNF","text":"nice!","ts":"1462312623.000705"},{"type":"message","user":"U0KPFAZNF","text":"so it was just removing the bootclasspath=true option?","ts":"1462312637.000706"},{"type":"message","user":"U0N1D1UAE","text":"yes, it substituted -jar $0","ts":"1462312665.000707"},{"type":"message","user":"U0KPFAZNF","text":"if so, that change is of little practical consequence anyway as I think it effectively was disabled when java 1.7 was being used","ts":"1462312681.000708"},{"type":"message","user":"U0KPFAZNF","text":"it allowed the app to start a little faster under 1.8, but that isnt currently available anyway","ts":"1462312702.000709"},{"type":"message","user":"U0N1D1UAE","text":"I am using IBM Java 8","ts":"1462312703.000710"},{"type":"message","user":"U0N1D1UAE","text":"Let me try Java 7","ts":"1462312722.000711"},{"type":"message","user":"U0KPFAZNF","text":"right, sorry, i meant ubuntu\/trusty didnt have 8 in standard repos","ts":"1462312735.000712"},{"type":"message","user":"U0KPFAZNF","text":"IOW i was forced to downgrade output to 1.7 and thus negating any benefit from that bootclasspath thing anyway","ts":"1462312764.000713"},{"type":"message","user":"U0KPFAZNF","text":"so it shouldnt matter to remove it","ts":"1462312779.000714"},{"type":"message","user":"U0KPFAZNF","text":"anyway, nice find, ill make that change","ts":"1462312817.000715"},{"type":"message","user":"U0KPFAZNF","text":"(or send me a PR if you\u2019d like the proper attribution)","ts":"1462312829.000716"},{"type":"message","user":"U0N1D1UAE","text":"IBM Java 7 works too","ts":"1462312867.000717"},{"type":"message","user":"U0KPFAZNF","text":"regarding the container, im guessing you need to rebuild your docker image","ts":"1462312870.000718"},{"type":"message","user":"U0KPFAZNF","text":"nice!","ts":"1462312872.000719"},{"type":"message","user":"U0N1D1UAE","text":"I don\u2019t need attribution, thanks for the offer!","ts":"1462312887.000720"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1462312891.000721"},{"type":"message","user":"U0KPFAZNF","text":"the PR that added chaintool modified .\/scripts\/provision\/common.sh to install default-jre, which gets invoked when you run docker.sh","ts":"1462312919.000722"},{"type":"message","user":"U0KPFAZNF","text":"so im speculating that your docker is out of date","ts":"1462312925.000723"},{"type":"message","user":"U0KPFAZNF","text":"that _should_ have added \u2018java\u2019 to the $PATH within the container if it was run","ts":"1462312949.000724"},{"type":"message","user":"U0KPFAZNF","text":"but if that is not the case, ill need to investigate further","ts":"1462312993.000725"},{"type":"message","user":"U0N1D1UAE","text":"I was thinking about your rhetorical question - why not just git clone &amp;&amp; go build. Why do we need Docker anyway? Why not just run chaincodes as processes with assigned ports. It would make things so mush easier and faster.","ts":"1462313015.000726"},{"type":"message","user":"U0KPFAZNF","text":"actually, for golang chaincode, the runtime probably can be some other isolating mechanism like an selinux-sandbox","ts":"1462313067.000727"},{"type":"message","user":"U0KPFAZNF","text":"but for building the golang chaincode, it might still be beneficial to do it in docker so we can start to define a chaincode ABI","ts":"1462313093.000728"},{"type":"message","user":"U0KPFAZNF","text":"but neither here nor there, there are lots of ways to solve this problem","ts":"1462313105.000729"},{"type":"message","user":"U0KPFAZNF","text":"if the goal is to eliminate docker, there are plenty of options","ts":"1462313123.000730"},{"type":"message","user":"U0N1D1UAE","text":"Greg, Ravi\u2019s here I need to chat with hiom for awhil","ts":"1462313128.000731"},{"type":"message","user":"U0KPFAZNF","text":"but I suspect the clone+build model has many other requrements too","ts":"1462313142.000732"},{"type":"message","user":"U0KPFAZNF","text":"ok, sounds good","ts":"1462313145.000733"},{"type":"message","user":"U0KPFAZNF","text":"thanks for the help","ts":"1462313147.000734"},{"user":"U106SFX62","type":"message","subtype":"channel_join","text":"<@U106SFX62|clyde_dcruz> has joined the channel","ts":"1462344881.000735"},{"type":"message","user":"U0P2GSA8Z","text":"<!here|@here>, so I couldn't figure out what went wrong with my setup yesterday","ts":"1462377034.000736"},{"type":"message","user":"U0P2GSA8Z","text":"I got a new clone of my repo and restarted from there and it works","ts":"1462377081.000737"},{"type":"message","user":"U0P2GSA8Z","text":"so somehow something got corrupted","ts":"1462377088.000738"},{"type":"message","user":"U0P2GSA8Z","text":"it seems like no clean up would fix it","ts":"1462377134.000739"},{"type":"message","user":"U0KPFAZNF","text":"<@U0N1D1UAE>: <@U0XR6J961> any feedback on PR 1349?","ts":"1462382982.000740"},{"type":"message","user":"U0XR6J961","text":"in principle, love it","ts":"1462383007.000741"},{"type":"message","user":"U0XR6J961","text":"didn't go through the code yet","ts":"1462383012.000742"},{"type":"message","user":"U0KPFAZNF","text":"if it wasnt obvious, I was targeting your requirements","ts":"1462383013.000743"},{"type":"message","user":"U0XR6J961","text":"it was :simple_smile:","ts":"1462383020.000744"},{"type":"message","user":"U0XR6J961","text":"thanks a lot","ts":"1462383027.000745"},{"type":"message","user":"U0KPFAZNF","text":"no problem, still working through a travis failure, but its getting close","ts":"1462383040.000746"},{"type":"message","user":"U0XR6J961","text":"i started using \"go install\" instead of go build - much faster","ts":"1462383065.000747"},{"type":"message","user":"U0XR6J961","text":"doesn't matter as soon as you run the behave tests though :simple_smile:","ts":"1462383078.000748"},{"type":"message","user":"U0KPFAZNF","text":"yeah, there is a difference between them that matters in certain circumstances however","ts":"1462383183.000749"},{"type":"message","user":"U0KPFAZNF","text":"but I think it relates to go-get or something, id have to look it up","ts":"1462383200.000750"},{"type":"message","user":"U0KPFAZNF","text":"but otherwise, I have no strong opinion","ts":"1462383208.000751"},{"type":"message","user":"U0XR6J961","text":"it is a great base to extend from","ts":"1462383234.000752"},{"type":"message","user":"U0KPFAZNF","text":"one discrepancy is that the vagrant setup did \u201cgo install\u201d and the docs said \u201cgo build\u201d, so I made the makefile pick one (in this case, go build) so it remains to be seen if  there is any fallout from that","ts":"1462383269.000753"},{"type":"message","user":"U0KPFAZNF","text":"i ran through unit-tests\/behave on an earlier iteration of the patch and it all seemed well, so I dont anticipate as such, but,...","ts":"1462383306.000754"},{"type":"message","user":"U0KPFAZNF","text":"needs to be run again on the final changeset, still pending","ts":"1462383317.000755"},{"type":"message","user":"U0KPFAZNF","text":"just wrestling with travis atm","ts":"1462383331.000756"},{"type":"message","user":"U0KPFAZNF","text":"I _think_ that because we use vendoring with everything self contained, the difference between install and build wont matter...","ts":"1462383380.000757"},{"type":"message","user":"U0KPFAZNF","text":"TBD","ts":"1462383382.000758"},{"type":"message","user":"U0N1D1UAE","text":"<@U0KPFAZNF> I like the idea of using make. I\u2019ll try to review your PR later today or tomorrow","ts":"1462384680.000759"},{"type":"message","user":"U0KPFAZNF","text":"<@U0N1D1UAE>: thanks\u2026one thing to note, I made the build more opinionated w.r.t. CGO flags in conjunction with the location of your librocksdb install","ts":"1462385825.000760"},{"type":"message","user":"U0P2GSA8Z","text":"the old fart I am would be quite happy to use make :simple_smile:","ts":"1462385835.000761"},{"type":"message","user":"U0KPFAZNF","text":"not sure how you are handling it within your platform","ts":"1462385840.000762"},{"type":"message","user":"U0KPFAZNF","text":"<@U0P2GSA8Z>: heh","ts":"1462385850.000763"},{"type":"message","user":"U0P2GSA8Z","text":"by the way I think we should have convention to tag PRs that aren't meant to be landed yet","ts":"1462385892.000764"},{"type":"message","user":"U0KPFAZNF","text":"<@U0N1D1UAE>: to be clear, the build plumbing now assumes that the librocksdb is available via standard ldconfig managed mechanisms, instead of relying on an explicit CGO_LDFLAG","ts":"1462385907.000765"},{"type":"message","user":"U0P2GSA8Z","text":"I know the nodejs community does that","ts":"1462385908.000766"},{"type":"message","user":"U0KPFAZNF","text":"(this broke travis initially as it was still using custom paths)","ts":"1462385927.000767"},{"type":"message","user":"U0KPFAZNF","text":"<@U0P2GSA8Z>: I am in favor of that","ts":"1462385944.000768"},{"type":"message","user":"U0KPFAZNF","text":"IIUC the protocol historically was to withhold DCO which had the benefit of blocking it from being merged (I think), but that doesnt help for visibility at the UI level which is what I think you are getting at","ts":"1462385991.000769"},{"type":"message","user":"U0P2GSA8Z","text":"here: \"When a Pull Request is not ready to merge, and is still being iterated on or reviewed, it should have the in-progress tag applied.\" <https:\/\/nodejs.org\/en\/get-involved\/development\/#issue-and-pull-request-tagging>","ts":"1462386032.000770"},{"type":"message","user":"U0P2GSA8Z","text":"I think we have quite a few things like that to develop for our project to improve communication among contributors","ts":"1462386099.000771"},{"type":"message","user":"U0KPFAZNF","text":"yeah, that seems like a reasonable approach","ts":"1462386120.000772"},{"type":"message","user":"U0P2GSA8Z","text":"and a lot has already been invented we just need to adopt it :simple_smile:","ts":"1462386131.000773"},{"type":"message","user":"U0KPFAZNF","text":"one challenge is I dont seem to have the ability to apply a label, so there might be a perms issue","ts":"1462386138.000774"},{"type":"message","user":"U0KPFAZNF","text":"(or I just need to learn how to drive github ui better ;)","ts":"1462386150.000775"},{"type":"message","user":"U0KPFAZNF","text":"either is possible","ts":"1462386154.000776"},{"type":"message","user":"U0P2GSA8Z","text":"ah...","ts":"1462386156.000777"},{"type":"message","user":"U0P2GSA8Z","text":"maybe that's something the admins can fix?","ts":"1462386188.000778"},{"type":"message","user":"U0KPFAZNF","text":"im guessing, bigger challenge is probably deciding what the policy should be (i.e. can anyone post any label, is there a fixed set, etc)","ts":"1462386513.000779"},{"type":"message","user":"U0KPFAZNF","text":"(and whether the policy can be enforced at the UI level)","ts":"1462386539.000780"},{"type":"message","user":"U0KPFAZNF","text":"<@U0TFEHX8E> <@U0UKTPMG8> <@U0KN2SSKE> any feedback on PR 1349?","ts":"1462386744.000781"},{"user":"U0UKTPMG8","inviter":"U0KPFAZNF","type":"message","subtype":"channel_join","text":"<@U0UKTPMG8|jeffgarratt> has joined the channel","ts":"1462386753.000782"},{"type":"message","user":"U0KPFAZNF","text":"it would fundamentally change the workflow for using the code, but I think its for the better","ts":"1462386903.000783"},{"type":"message","user":"U0N1D1UAE","text":"<@U0KPFAZNF> My experience is that when rocksdb is installed \u201ccorrectly\u201d you don\u2019t even need the CGO_FLAGS","ts":"1462387884.000784"},{"type":"message","user":"U0KPFAZNF","text":"fully agree","ts":"1462387896.000785"},{"type":"message","user":"U0KPFAZNF","text":"actually, let me make sure I understand","ts":"1462387920.000786"},{"type":"message","user":"U0KPFAZNF","text":"i was referring specifically to the -L\/-I paths pointing to a non-standard\/non-ldconfig managed location, but we still need the other things like CGO_LDFLAGS=\u201c-lsnappy\"","ts":"1462387963.000787"},{"type":"message","user":"U0KPFAZNF","text":"or are you saying you can get rid of all of them?","ts":"1462387973.000788"},{"type":"message","user":"U0KPFAZNF","text":"what I did was get rid of the need for -L\/-I, but the others are still present","ts":"1462387997.000789"},{"type":"message","user":"U0KPFAZNF","text":"(getting rid of all would be most welcome)","ts":"1462388010.000790"},{"type":"message","user":"U0N1D1UAE","text":"There is no CGO_* in my env. I just type \u201cgo build\u201d and it works","ts":"1462388020.000791"},{"type":"message","user":"U0KPFAZNF","text":"nice!","ts":"1462388031.000792"},{"type":"message","user":"U0KPFAZNF","text":"what are you using to manage the deps like snappy?","ts":"1462388043.000793"},{"type":"message","user":"U0N1D1UAE","text":"Probably because all of the compression libs are also installed correectly, it knows where to find them","ts":"1462388061.000794"},{"type":"message","user":"U0KPFAZNF","text":"i see, i suppose its possible that once I did the ldconfig stuff that was also the case but never tried it","ts":"1462388086.000795"},{"type":"message","user":"U0KPFAZNF","text":"anyway, long story short, you shouldnt be impacted by the decision","ts":"1462388103.000796"},{"type":"message","user":"U0KPFAZNF","text":"the ones that would be impacted are those installing rocksdb in a custom path","ts":"1462388120.000797"},{"type":"message","user":"U0N1D1UAE","text":"I only learned by accident","ts":"1462388123.000798"},{"type":"message","user":"U0KPFAZNF","text":"are you sure its not set in your env?","ts":"1462388148.000799"},{"type":"message","user":"U0KPFAZNF","text":"(thats how we did in within vagrant for instance)","ts":"1462388161.000800"},{"type":"message","user":"U0N1D1UAE","text":"I\u2019m 99% sure","ts":"1462388246.000801"},{"type":"message","user":"U0N1D1UAE","text":"It\u2019s not in the env, not in my Makefile","ts":"1462388256.000802"},{"type":"message","user":"U0KPFAZNF","text":"cool, ill look into it","ts":"1462388256.000803"},{"type":"message","user":"U0KPFAZNF","text":"it might be that whats there is superfluous, i never tried","ts":"1462388270.000804"},{"type":"message","user":"U0N1D1UAE","text":"That was my story, I realized one day I was not defining that stuff and it was working","ts":"1462388318.000805"},{"type":"message","user":"U0KPFAZNF","text":"nice when things work in your favor","ts":"1462388346.000806"},{"type":"message","user":"U0KPFAZNF","text":"speaking of, a slightly related story is behind why we set the CGO_CFLAGS=\u201c \"","ts":"1462388399.000807"},{"type":"message","user":"U0N1D1UAE","text":"This Ubuntu system does define LD_LIBARY_PATH to point to where the compression libs are stored","ts":"1462388408.000808"},{"type":"message","user":"U0N1D1UAE","text":"I don\u2019t think I am doing that explicitly","ts":"1462388419.000809"},{"type":"message","user":"U0KPFAZNF","text":"generally, thats a good thing","ts":"1462388426.000810"},{"type":"message","user":"U0KPFAZNF","text":"if you _dont_ set it, it turns on CGO compiler optimizations","ts":"1462388440.000811"},{"type":"message","user":"U0KPFAZNF","text":"(at the expense of a slower build)","ts":"1462388456.000812"},{"type":"message","user":"U0N1D1UAE","text":"Actually I am doing it but it is redundant","ts":"1462388494.000813"},{"type":"message","user":"U0KPFAZNF","text":"during some refactoring, we found the build was suddenly slower..root caused it to the notion that \u201cCGO_CFLAGS=-I\u2026\u201d had the side effect of disabling optimizations","ts":"1462388528.000814"},{"type":"message","user":"U0KPFAZNF","text":"so when we cleaned that up, suddenly the build was 2x slower","ts":"1462388540.000815"},{"user":"U11L89VHU","type":"message","subtype":"channel_join","text":"<@U11L89VHU|posnerj> has joined the channel","ts":"1462389324.000816"},{"type":"message","user":"U0TFEHX8E","text":"<@U0KPFAZNF>: I've been away from my computer most of the day, so I haven't reviewed the code in 1349 yet, but I think it's a great idea ","ts":"1462415785.000817"},{"type":"message","user":"U0KPFAZNF","text":"Ok cool.  I'll rebase it since it conflicted with the 1350 merge and we can see what the others think","ts":"1462415966.000818"},{"user":"U16NAHH8U","type":"message","subtype":"channel_join","text":"<@U16NAHH8U|michaelhaley> has joined the channel","ts":"1462542466.000819"},{"user":"U16NDNH08","type":"message","subtype":"channel_join","text":"<@U16NDNH08|crow15> has joined the channel","ts":"1462571623.000820"},{"type":"message","user":"U0KPFAZNF","text":"<@U0TFEHX8E> <@U0KN2SSKE>  <@U0N1D1UAE> <@U10Q62R8X>: FYI started to put the hyperledger-branded docker images together <https:\/\/hub.docker.com\/r\/hyperledger\/fabric-baseimage\/tags\/>","ts":"1462708783.000821"},{"user":"U10Q62R8X","inviter":"U0KPFAZNF","type":"message","subtype":"channel_join","text":"<@U10Q62R8X|vpaprots> has joined the channel","ts":"1462708790.000822"},{"type":"message","user":"U0KPFAZNF","text":"ill have a patch to PR after I finish verification","ts":"1462708807.000823"},{"user":"U0NLZCF8V","type":"message","subtype":"channel_join","text":"<@U0NLZCF8V|juanblanco> has joined the channel","ts":"1462728959.000824"},{"user":"U173QDB0W","type":"message","subtype":"channel_join","text":"<@U173QDB0W|pablofullana> has joined the channel","ts":"1462745435.000825"},{"user":"U1751P7U4","type":"message","subtype":"channel_join","text":"<@U1751P7U4|shubhamvrkr> has joined the channel","ts":"1462775200.000826"},{"type":"message","user":"U0N1D1UAE","text":"<@U0KPFAZNF> - Thank you for including the arch in the tag","ts":"1462821668.000827"},{"type":"message","user":"U0KPFAZNF","text":"<@U0N1D1UAE>: of course!  does that satisfy your concern in that regard?","ts":"1462821810.000828"},{"type":"message","user":"U0KPFAZNF","text":"theres probably more work to be done on the baseimage side to make it more friendly to actually building different $arch, but at least the consumer side supports it now","ts":"1462821840.000829"},{"type":"message","user":"U0N1D1UAE","text":"Since you asked - I have  a concern but have not had time to research it - who\/what is repsonsible for maintaining these images? Does it require \u201cpacker\u201d (Again, haven\u2019t looked into it)","ts":"1462821884.000830"},{"type":"message","user":"U0KPFAZNF","text":"well, who\/what I can\u2019t answer.  I am certainly willing to help in whatever way I can.  As far as \u201crequire packer\u201d, the short answer is \u201cit does today\u201d but I am seriously contemplating decoupling the packer engine from the docker baseimage","ts":"1462821959.000831"},{"type":"message","user":"U0KPFAZNF","text":"i still think the notion of having the different base images derive from a single source of truth is important, but the vast majority of that happens because of the scripts in .\/devenv\/baseimage\/scripts and has little to do with packer","ts":"1462822013.000832"},{"type":"message","user":"U0KPFAZNF","text":"and packer might be limiting us in several dimensions w.r.t $arch","ts":"1462822051.000833"},{"type":"message","user":"U0KPFAZNF","text":"its probably still fine to leave it for vagrant generation, and there are some nice things we could build on in the future such as AMI or Azure images","ts":"1462822081.000834"},{"type":"message","user":"U0KPFAZNF","text":"but as far as docker, its value is limited","ts":"1462822090.000835"},{"type":"message","user":"U0N1D1UAE","text":"<@U12V3D2P2> is one of the IBM\u2019ers who will be managing POWER; Mentioning her here for reference","edited":{"user":"U0N1D1UAE","ts":"1462822133.000000"},"ts":"1462822105.000836"},{"type":"message","user":"U0KPFAZNF","text":"ok, cool","ts":"1462822147.000838"},{"type":"message","user":"U0KPFAZNF","text":"I know <@U10Q62R8X> is working on Z as well","ts":"1462822159.000839"},{"type":"message","user":"U0KPFAZNF","text":"right now, i am thinking the simplest path forward is to gut the docker specific parts from packer.json and just go with a Dockerfile that calls the scripts","ts":"1462822216.000840"},{"type":"message","user":"U0KPFAZNF","text":"that _should_ compile on whatever native architecture supports the basics of docker\/git\/gcc, etc","ts":"1462822240.000841"},{"type":"message","user":"U0KPFAZNF","text":"which I would imagine should give us the coverage we need","ts":"1462822250.000842"},{"user":"U12V3D2P2","type":"message","subtype":"channel_join","text":"<@U12V3D2P2|bsmita> has joined the channel","ts":"1462822905.000843"},{"type":"message","user":"U0N1D1UAE","text":"<@U12V3D2P2>, Greg has a PR outstanding #1411 that talks about how Docker images will be distributed in teh future","ts":"1462823002.000844"},{"type":"message","user":"U12V3D2P2","text":"Thanks Bishop","ts":"1462823046.000845"},{"user":"U17CZFXGU","type":"message","subtype":"channel_join","text":"<@U17CZFXGU|plucena> has joined the channel","ts":"1462834712.000846"},{"user":"U14REU524","type":"message","subtype":"channel_join","text":"<@U14REU524|privoal> has joined the channel","ts":"1462889213.000847"},{"type":"message","user":"U0KPFAZNF","text":"<@U0N1D1UAE> <@U12V3D2P2> <@U10Q62R8X> FYI: <https:\/\/github.com\/hyperledger\/fabric\/compare\/master...ghaskins:multi-arch-support-preview>","edited":{"user":"U0KPFAZNF","ts":"1462905361.000000"},"ts":"1462905161.000848"},{"type":"message","user":"U0KPFAZNF","text":"in this branch, any of the makefile targets that depend on baseimage will now dynamically build the base image if its not found on dockerhub, as I mentioned in the other thread","ts":"1462905210.000850"},{"type":"message","user":"U0KPFAZNF","text":"this means dockerhub is merely an optimization now, instead of gating the critical path","ts":"1462905227.000851"},{"type":"message","user":"U0KPFAZNF","text":"that said, there is still some work to do for supporting non-x86","ts":"1462905251.000852"},{"type":"message","user":"U0KPFAZNF","text":"for one thing, <https:\/\/github.com\/ghaskins\/hyperledger-fabric\/blob\/multi-arch-support-preview\/baseimage\/Makefile#L8>","edited":{"user":"U0KPFAZNF","ts":"1462905288.000000"},"ts":"1462905284.000853"},{"type":"message","user":"U0KPFAZNF","text":"and <https:\/\/github.com\/ghaskins\/hyperledger-fabric\/blob\/multi-arch-support-preview\/baseimage\/scripts\/common\/setup.sh#L56>","edited":{"user":"U0KPFAZNF","ts":"1462905327.000000"},"ts":"1462905323.000856"},{"type":"message","user":"U0KPFAZNF","text":"comments welcome","ts":"1462905331.000859"},{"type":"message","user":"U0N1D1UAE","text":"<@U0KPFAZNF> I\u2019m using your Makefile now. There is a redundancy in Go testing I think. You require the peer image to run the unit tests, but the unit tests also recreate the peer image.","ts":"1462908106.000861"},{"type":"message","user":"U0KPFAZNF","text":"yeah, i am torn on what to do about that","ts":"1462908122.000862"},{"type":"message","user":"U0KPFAZNF","text":"i have the dep b\/c I spin up a peer to satisfy the peer test","ts":"1462908131.000863"},{"type":"message","user":"U0N1D1UAE","text":"Why do you need to run teh peer in Docker?","ts":"1462908142.000864"},{"type":"message","user":"U0KPFAZNF","text":"to clarify, i spin up a peer via docker","ts":"1462908143.000865"},{"type":"message","user":"U0KPFAZNF","text":"technically, I dont specifically require it but it seemed like a neat way  a) ensure that the peer ran in a clean-room and b) that it left no garbage laying around (such as in \/var), and to a lesser extent c) interfere with other activity on the system","ts":"1462908213.000866"},{"type":"message","user":"U0KPFAZNF","text":"but the (c) is not entirely true since I had to map 30303","ts":"1462908226.000867"},{"type":"message","user":"U0KPFAZNF","text":"but I figure that is something that could be cleaned up eventually","ts":"1462908237.000868"},{"type":"message","user":"U0KPFAZNF","text":"the seeming double-dep is annoying, I agree, but I looked at the cost and it was like 28s of overhead","ts":"1462908258.000869"},{"type":"message","user":"U0KPFAZNF","text":"so I figured, its not a big deal","ts":"1462908265.000870"},{"type":"message","user":"U0KPFAZNF","text":"(I havent tested to see if that accelerates the later test that happens as part of the unit-test\u2026if it does, that 28s is amortized later)","ts":"1462908304.000871"},{"type":"message","user":"U0KPFAZNF","text":"but even if it doesnt, it didnt seem like a huge deal for the isolation gained","ts":"1462908321.000872"},{"type":"message","user":"U0N1D1UAE","text":"It\u2019s in the eye of the beholder :simple_smile:","ts":"1462908387.000873"},{"type":"message","user":"U0N1D1UAE","text":"Hence my gripe","ts":"1462908397.000874"},{"type":"message","user":"U0KPFAZNF","text":"I suppose thats true","ts":"1462908406.000875"},{"type":"message","user":"U0KPFAZNF","text":"i am fine with a patch that launches the peer directly as long as it cleans up after","ts":"1462908421.000876"},{"type":"message","user":"U0KPFAZNF","text":"i think the problem isnt docker per se as much as how we specifically build the docker image","ts":"1462908462.000877"},{"type":"message","user":"U0KPFAZNF","text":"but I know how you feel about docker in general :wink:","ts":"1462908473.000878"},{"type":"message","user":"U0N1D1UAE","text":"I hope to be Docker free by Friday","ts":"1462908563.000879"},{"type":"message","user":"U0N1D1UAE","text":"Should I expect source dependencies to work inthis Makefile? If I modify a .go file and say make unit-test will everything get rebuilt","ts":"1462908638.000880"},{"type":"message","user":"U0N1D1UAE","text":"?","ts":"1462908639.000881"},{"type":"message","user":"U0KPFAZNF","text":"I _think_ so, based on two things","ts":"1462908930.000882"},{"type":"message","user":"U0KPFAZNF","text":"#1) unit tests do not rely on go-build afaik","ts":"1462908944.000883"},{"type":"message","user":"U0KPFAZNF","text":"#2) building the binaries was switched to using PHONY+go-build per our conversation, essentially delegating prerequisite freshness to go-tool","ts":"1462908998.000884"},{"type":"message","user":"U0KPFAZNF","text":"the thing that generally wont work magically is if you switch your git HEAD","ts":"1462909015.000885"},{"type":"message","user":"U0KPFAZNF","text":"for that, I still recommend a clean+rebuild cycle","edited":{"user":"U0KPFAZNF","ts":"1462909032.000000"},"ts":"1462909022.000886"},{"type":"message","user":"U0N1D1UAE","text":"I see, OK","ts":"1462909035.000888"},{"type":"message","user":"U0KPFAZNF","text":"the detection for when images need to be rebuilt is very coarse, so its best to just explicitly clean it","ts":"1462909069.000889"},{"type":"message","user":"U0KPFAZNF","text":"of course, images generally dont need to be rebuilt often\u2026but problem is you\u2019d have to keep track of when they do unless you just use the more draconian policy of \u201cmove HEAD?, clean\"","ts":"1462909118.000890"},{"type":"message","user":"U0KPFAZNF","text":"<@U0N1D1UAE>: one thing I wanted to mention about the docker-based peer: note that I think the majority of the 28s is coming from the go-build of the peer itself","ts":"1462918591.000891"},{"type":"message","user":"U0KPFAZNF","text":"and note that as it stands right now, switching the deps for unit-test from peer-image to peer is still going to take ~28s","ts":"1462918613.000892"},{"type":"message","user":"U0KPFAZNF","text":"we might be able to improve this with go-install (since I think it caches object files), but also note that we might be able to make similar improvements on the docker side","ts":"1462918667.000893"},{"type":"message","user":"U0KPFAZNF","text":"long story short, i don\u2019t think its docker per se, but rather the methods we are using to build things","ts":"1462918696.000894"},{"type":"message","user":"U0N1D1UAE","text":"You mean rebuilding the peer from scratch from within Docker?","ts":"1462918742.000895"},{"type":"message","user":"U0N1D1UAE","text":"(The 28s)","ts":"1462918746.000896"},{"type":"message","user":"U0KPFAZNF","text":"yes, i think that is what happens (I havent looked actually, i am speculating)","ts":"1462918762.000897"},{"type":"message","user":"U0KPFAZNF","text":"i do know the go-build takes in that same range of time","ts":"1462918776.000898"},{"type":"message","user":"U0KPFAZNF","text":"every time we invoke it, regardless of prerequisite updates, as I dont think go-build does object caching","ts":"1462918806.000899"},{"type":"message","user":"U0N1D1UAE","text":"I think it does try to do something smart; It has a -a flag to force recmopilation of unchanged packages","ts":"1462918858.000900"},{"type":"message","user":"U0KPFAZNF","text":"i guess the question is, why is it always ~28s?","ts":"1462918879.000901"},{"type":"message","user":"U0KPFAZNF","text":"perhaps that is the quickest it can ascertain state","ts":"1462918900.000902"},{"type":"message","user":"U0KPFAZNF","text":"i assumed it was rebuilding everyting","ts":"1462918906.000903"},{"type":"message","user":"U0KPFAZNF","text":"everything","ts":"1462918910.000904"},{"type":"message","user":"U0N1D1UAE","text":"I never timed it before; Trying now...","ts":"1462918947.000905"},{"type":"message","user":"U0N1D1UAE","text":"22s, 17s for \u201cgo build\"","ts":"1462919013.000906"},{"type":"message","user":"U0N1D1UAE","text":"47 s for \u201cgo build -a\"","ts":"1462919021.000907"},{"type":"message","user":"U0KPFAZNF","text":"ok, interesting","ts":"1462919026.000908"},{"type":"message","user":"U0KPFAZNF","text":"but if anything, thats bad news for your issue with the unit-test deps :wink:","ts":"1462919051.000909"},{"type":"message","user":"U0KPFAZNF","text":"17s might be the minimum penalty","ts":"1462919074.000910"},{"type":"message","user":"U0KPFAZNF","text":"what are you seeing for the peer-image target time?","ts":"1462919084.000911"},{"type":"message","user":"U0N1D1UAE","text":"We need to do our own dependncy checking in the Makefile","ts":"1462919088.000912"},{"type":"message","user":"U0KPFAZNF","text":"we _can_ but its not trivial nor cheap","ts":"1462919106.000913"},{"type":"message","user":"U0KPFAZNF","text":"but that would solve the problem, yes","ts":"1462919116.000914"},{"type":"message","user":"U0N1D1UAE","text":"Hard to belieg it woudl take 17 seconds","ts":"1462919125.000915"},{"type":"message","user":"U0KPFAZNF","text":"i cant argue with that","ts":"1462919134.000916"},{"type":"message","user":"U0KPFAZNF","text":"you are probably right, i will look into it","ts":"1462919143.000917"},{"type":"message","user":"U0KPFAZNF","text":"i think my concern was that I would likely have to incur the penalties of something like $(shell find . -name \u201c*.go\u201d) for all targets","ts":"1462919186.000918"},{"type":"message","user":"U0KPFAZNF","text":"but if that runs sufficently fast, who cares","ts":"1462919193.000919"},{"type":"message","user":"U0N1D1UAE","text":"0.5 seconds","ts":"1462919227.000920"},{"type":"message","user":"U0N1D1UAE","text":"Once it has the directoruy cached","ts":"1462919240.000921"},{"type":"message","user":"U0N1D1UAE","text":"Not fair - writing to \/dev\/null. Maybe 2 or 3 seconds","ts":"1462919299.000922"},{"type":"message","user":"U0KPFAZNF","text":"ok, it seems like its plausible","ts":"1462919351.000923"},{"type":"message","user":"U0N1D1UAE","text":"I just said make clean; make peer-image. I\u2019m surprised that it is doing so much work","ts":"1462919590.000924"},{"type":"message","user":"U0N1D1UAE","text":"Reinstalling all packages ()into a container I assume)","ts":"1462919612.000925"},{"type":"message","user":"U0KPFAZNF","text":"no, it shouldnt need to install packages","ts":"1462919625.000926"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF>: I was looking at what it would take to do a build only if some source file changed","ts":"1462919626.000927"},{"type":"message","user":"U0KPFAZNF","text":"i think the meat of it is that its building the peer","ts":"1462919633.000928"},{"type":"message","user":"U0KM61BCP","text":"right now, it doesn\u2019t do that","ts":"1462919634.000929"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> yeah, it doesnt directly\u2026its possibly using go-tool object caching, TBD","ts":"1462919660.000930"},{"type":"message","user":"U0KPFAZNF","text":"we decided on the first pass it was best to let the go-tool figure it out, but I think we could certainly experiment with being more intelligent about it","ts":"1462919685.000931"},{"type":"message","user":"U0KM61BCP","text":"yep understood","ts":"1462919695.000932"},{"type":"message","user":"U0KM61BCP","text":"but we should definitely look to continuously improve","ts":"1462919710.000933"},{"type":"message","user":"U0KPFAZNF","text":"its certainly fairly easy to use things like $(shell find ..) to build a list of pre-requisites and then we can drop the PHONY: peer","ts":"1462919743.000934"},{"type":"message","user":"U0KPFAZNF","text":"the risk is whether we can get it \u201cright\u201d\u2026normally pretty easy for things like C++ but go is a little different being partially managed","ts":"1462919784.000935"},{"type":"message","user":"U0KPFAZNF","text":"but certainly a good idea in general to try","ts":"1462919799.000936"},{"type":"message","user":"U0KM61BCP","text":"yes, I was researching that earlier","ts":"1462919804.000937"},{"type":"message","user":"U0KM61BCP","text":"looking for some precendent","ts":"1462919812.000938"},{"type":"message","user":"U0KM61BCP","text":"precedent","ts":"1462919815.000939"},{"type":"message","user":"U0KPFAZNF","text":"not that I exhaustively looked, but go seems to be in this weird limbo in that regard","ts":"1462920204.000940"},{"type":"message","user":"U0KPFAZNF","text":"the go-tooling was clearly not designed to replace something like make, yet it seems almost all projects rely solely on it","ts":"1462920227.000941"},{"type":"message","user":"U0KPFAZNF","text":"i think if you had a pure go codebase, perhaps its not too bad to treat it that way","ts":"1462920263.000942"},{"type":"message","user":"U0KPFAZNF","text":"but once you have things like docker, protobufs, etc, it gets awkward fast","ts":"1462920283.000943"},{"type":"message","user":"U0KPFAZNF","text":"so, its the long way of saying, we are likely in relatively uncharted waters","edited":{"user":"U0KPFAZNF","ts":"1462920317.000000"},"ts":"1462920306.000944"},{"type":"message","user":"U0KPFAZNF","text":"but I suspect this will be rapidly changing even among pure go environments\u2026things like go-generate are pseudo build hooks, but its not very well thought out","ts":"1462920509.000946"},{"type":"message","user":"U0KPFAZNF","text":"and there are some niche libraries that try to improve on go-generate, but they had their own limitations","ts":"1462920549.000947"},{"type":"message","user":"U0KPFAZNF","text":"but long story short, I do not think we are alone in this pain","ts":"1462920569.000948"},{"type":"message","user":"U0KM61BCP","text":"+1","ts":"1462920962.000949"},{"type":"message","user":"U0N1D1UAE","text":"<@U0KPFAZNF> I think the \u2018clean\u2019 target is too agressive; It should not remove .baseimage_dummy","ts":"1462921461.000950"},{"type":"message","user":"U0N1D1UAE","text":"That\u2019s what\u2019s causing everything to be rebuilt I think","ts":"1462921492.000951"},{"type":"message","user":"U0KPFAZNF","text":"my concern is that any changes to the definition of the baseimage (such as in .\/scripts\/provision\/common.sh) would not be picked up","ts":"1462921534.000952"},{"type":"message","user":"U0KPFAZNF","text":"maybe that should be dist-clean level?","ts":"1462921548.000953"},{"type":"message","user":"U0KPFAZNF","text":"i suppose we could add its prerequisites and let make do its thing","ts":"1462921596.000954"},{"type":"message","user":"U0N1D1UAE","text":"To me it is a rare event to rebuild the base docker, but I wipe out the blockchain database before every test. So I would prefer a different type of clean for the docker image","ts":"1462921619.000955"},{"type":"message","user":"U0KPFAZNF","text":"e.g. baseimage: .\/devenv\/baseimage\/* .\/scripts\/provision\/*","ts":"1462921623.000956"},{"type":"message","user":"U0N1D1UAE","text":"OK,","ts":"1462921635.000957"},{"type":"message","user":"U0KPFAZNF","text":"i have no problem with hooking baseimage to the dist-clean level, though I still think cleaning the base image is advised when moving HEAD","ts":"1462921682.000958"},{"type":"message","user":"U0KPFAZNF","text":"at least until we can find a bullet proof way to detect when it really does need to be rebuilt","ts":"1462921700.000959"},{"type":"message","user":"U0KPFAZNF","text":"perhaps the above is it","ts":"1462921705.000960"},{"type":"message","user":"U0N1D1UAE","text":"Maybe there are too many moving parts to satisfy everyone.","ts":"1462921916.000961"},{"type":"message","user":"U0KM61BCP","text":"ya think?","ts":"1462921943.000962"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0KPFAZNF>, why not add all the relevant dependencies to the Makefile so that the image actually gets rebuilt when needed?","ts":"1462923405.000963"},{"type":"message","user":"U0P2GSA8Z","text":"I know it can be a bit of pain to figure out the exact list but fundamentally that's what's needed","ts":"1462923426.000964"},{"type":"message","user":"U0P2GSA8Z","text":"in my old days of X development we had makedepend to help with that","ts":"1462923460.000965"},{"type":"message","user":"U0KPFAZNF","text":"my rational was, I was afraid of getting it subtly wrong and causing hard to find problems","ts":"1462923480.000966"},{"type":"message","user":"U0KPFAZNF","text":"vs Thors Hammer, aka make clean","ts":"1462923489.000967"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1462923490.000968"},{"type":"message","user":"U0KPFAZNF","text":"but yes, point taken","ts":"1462923496.000969"},{"type":"message","user":"U0P2GSA8Z","text":"yeah, I understand","ts":"1462923496.000970"},{"type":"message","user":"U0KPFAZNF","text":"ill see if I can come up with something clever","ts":"1462923523.000971"},{"type":"message","user":"U0KPFAZNF","text":"bottom line, I _hope_ it was a step forward, and that people start using it","ts":"1462923548.000972"},{"type":"message","user":"U0KPFAZNF","text":"and we can improve it going forward","ts":"1462923553.000973"},{"type":"message","user":"U0P2GSA8Z","text":"I still like it anyway :simple_smile:","ts":"1462923578.000974"},{"type":"message","user":"U0KPFAZNF","text":"ty","ts":"1462923583.000975"},{"type":"message","user":"U0KPFAZNF","text":"ill take a look at makedepend\u2026i dont know anything about it\u2026i would guess its not go\/docker aware but who knows","ts":"1462923622.000976"},{"type":"message","user":"U0P2GSA8Z","text":"oh no, that was for c","ts":"1462923868.000977"},{"type":"message","user":"U0P2GSA8Z","text":"it scanned all the files for #includes and added all the dependencies to the makefile automatically","ts":"1462923922.000978"},{"type":"message","user":"U0P2GSA8Z","text":"we'd have to think of some way to identify the files that matter, not sure it's possible","ts":"1462924158.000979"},{"type":"message","user":"U0KPFAZNF","text":"yeah, fortunately go is much more straight forward where everything is a .go file","ts":"1462924226.000980"},{"type":"message","user":"U0KPFAZNF","text":"so we can probably just dep on $(shell find . -name \u201c*.go\u201d) and that would be sufficient","ts":"1462924246.000981"},{"type":"message","user":"U0P2GSA8Z","text":"yes, the go part I think is easy","ts":"1462924252.000982"},{"type":"message","user":"U0P2GSA8Z","text":"it's the docker part I'm not sure about","ts":"1462924263.000983"},{"type":"message","user":"U0KPFAZNF","text":"yeah, <@U10Q62R8X> and I were just brainstorming on that","ts":"1462924309.000984"},{"type":"message","user":"U0KPFAZNF","text":"it will take some clever engineering i think","ts":"1462924332.000985"},{"type":"message","user":"U0KPFAZNF","text":"for now, thors hammer FTW","ts":"1462924340.000986"},{"type":"message","user":"U0KPFAZNF","text":"i have to put the kiddos to bed\u2026.ill be back on later","ts":"1462924362.000987"},{"type":"message","user":"U0P2GSA8Z","text":"yep...","ts":"1462924365.000988"},{"type":"message","user":"U0P2GSA8Z","text":"I updated my second machine and make unit-test succeeded without any make clean","ts":"1462925973.000989"},{"type":"message","user":"U0KPFAZNF","text":"ok, cool\u2026i have a feeling this isnt the last we\u2019ll hear of it, but glad its working again","ts":"1462928892.000990"},{"type":"message","user":"U12452RAP","text":"hi, it seems missing how to run unit test and behave tests","ts":"1462956850.000991"},{"type":"message","user":"U12452RAP","text":"in contribute doc","ts":"1462956885.000992"},{"type":"message","user":"U0XR6J961","text":"```--- FAIL: TestVM_BuildImage_ChaincodeLocal (35.87s)\n\tvm_test.go:105: Error building Chaincode container: Error building Chaincode container: Tag latest not found in repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>\n```","ts":"1462967244.000993"},{"type":"message","user":"U0XR6J961","text":"what am i doing wrong?","ts":"1462967251.000994"},{"type":"message","user":"U0XR6J961","text":"it worked yesterday","ts":"1462967256.000995"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: we rebranded the docker image to the HL, I suspect you still have obc branded in your cache","ts":"1462968004.000996"},{"type":"message","user":"U0KPFAZNF","text":"run \u201cdocker images\u201d and post it to me in a DM","ts":"1462968019.000997"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: in short, run \u201cdocker images\u201d\u2026if you have \u201copenblockchain\/baseimage\u201d your cache is stale","ts":"1462968772.000998"},{"type":"message","user":"U0KPFAZNF","text":"i advise people to run \u201cmake clean peer\u201d any time they adjust HEAD, it will make sure you system is kept up to date","ts":"1462968803.000999"},{"type":"message","user":"U0KPFAZNF","text":"for now anyway, until we make the prerequisite detection more intelligent","ts":"1462968837.001000"},{"type":"message","user":"U0XR6J961","text":"my docker images is miles long","ts":"1462969015.001001"},{"type":"message","user":"U0KPFAZNF","text":"grep for openblockchain and hyperledger","ts":"1462969026.001002"},{"type":"message","user":"U0KPFAZNF","text":"my guess is you have the former but not the latter","ts":"1462969039.001003"},{"type":"message","user":"U0XR6J961","text":"yea possible","ts":"1462969047.001004"},{"type":"message","user":"U0KPFAZNF","text":"if so, \u201cmake clean peer\u201d will rebuild it for you","ts":"1462969066.001005"},{"type":"message","user":"U0XR6J961","text":"why clean peer?","ts":"1462969073.001006"},{"type":"message","user":"U0KPFAZNF","text":"i was just about to say: \u201cmake clean baseimage\u201d is the shortest path","ts":"1462969093.001007"},{"type":"message","user":"U0KPFAZNF","text":"but I figured you wanted the peer built too (the clean will nuke the peer binary)","ts":"1462969108.001008"},{"type":"message","user":"U0KPFAZNF","text":"peer is a superset of baseimage, since it depends on it","ts":"1462969134.001009"},{"type":"message","user":"U0KPFAZNF","text":"im sorry, its \u201cbase-image\u201d with a dash","ts":"1462969195.001010"},{"type":"message","user":"U0KPFAZNF","text":"note that I do not attempt to docker rmi the openblockchain\/* stuff, you can do that at will after the cache is rebuilt","ts":"1462969236.001011"},{"type":"message","user":"U0XR6J961","text":"ghaskins: do i have to build this baseimage in vagrant?","ts":"1462971091.001012"},{"type":"message","user":"U0XR6J961","text":"or should it be in the repo already?","ts":"1462971101.001013"},{"type":"message","user":"U0XR6J961","text":"```Building docker base-image\nPulling repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>\nTag unknown-0.0.9 not found in repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>\nUnable to find image 'hyperledger\/fabric-baseimage:unknown-0.0.9' locally\nPulling repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>\ndocker: Tag unknown-0.0.9 not found in repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>.\nSee 'docker run --help'.\nSending build context to Docker daemon  7.68 kB\n\nStep 1 : FROM hyperledger\/fabric-baseimage:unknown-0.0.9\nPulling repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>\nTag unknown-0.0.9 not found in repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>\n```","ts":"1462971142.001014"},{"type":"message","user":"U0KPFAZNF","text":"Hmm, no but it does only work currently if \"uname -m\" == \"x86_64\"","ts":"1462971737.001015"},{"type":"message","user":"U0KPFAZNF","text":"Yours is returning \"unknown\" for some reason","ts":"1462971756.001016"},{"type":"message","user":"U0KPFAZNF","text":"Any idea why?","ts":"1462971787.001017"},{"type":"message","user":"U0KPFAZNF","text":"I could probably beef it up by defaulting to x86_64","ts":"1462971833.001018"},{"type":"message","user":"U0KPFAZNF","text":"Obviously you are on x86_64 or it would never have worked","ts":"1462971867.001019"},{"type":"message","user":"U0KPFAZNF","text":"(I mean as in previously)","ts":"1462971942.001020"},{"type":"message","user":"U0KPFAZNF","text":"I'm out right now, but as a workaround hack scripts\/provision\/docker.sh and force ARCH=x86_64 and I think it will work","ts":"1462972030.001021"},{"type":"message","user":"U0KPFAZNF","text":"I'll have to put in a mapping function and\/or defaults to fix it for real","ts":"1462972065.001022"},{"type":"message","user":"U0XR6J961","text":"no, `uname -p` returns unknown","ts":"1462972851.001023"},{"type":"message","user":"U0XR6J961","text":"`uname -m` returns `x86_64`","ts":"1462972883.001024"},{"type":"message","user":"U0KPFAZNF","text":"Oh right, I have this patched in the multi arch pr ","ts":"1462972977.001025"},{"type":"message","user":"U0KPFAZNF","text":"That's good, much easier ;)","ts":"1462972997.001026"},{"type":"message","user":"U0KPFAZNF","text":"Just hack it locally for now, I'll push a pr to fix it for real","ts":"1462973194.001027"},{"type":"message","user":"U0KPFAZNF","text":"I actually didn't know -p would do that, I just noted that everything else uses -m","ts":"1462973348.001028"},{"type":"message","user":"U0KPFAZNF","text":"Good to know","ts":"1462973353.001029"},{"type":"message","user":"U0KPFAZNF","text":"Feel free to submit it yourself, if you'd like","ts":"1462973627.001030"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: working now?","ts":"1462982078.001031"},{"type":"message","user":"U0XR6J961","text":"yea i ran into other issues with my build","ts":"1462983757.001032"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1462984447.001033"},{"type":"message","user":"U0P2GSA8Z","text":"docker files don't need to be executable, do they?","ts":"1462987329.001034"},{"type":"message","user":"U0P2GSA8Z","text":"like this one: .\/consensus\/docker-compose-files\/Dockerfile","ts":"1462987341.001035"},{"type":"message","user":"U0UGH3X7X","text":"+x not needed","ts":"1462987371.001036"},{"type":"message","user":"U0P2GSA8Z","text":"thanks for confirming","ts":"1462987377.001037"},{"user":"U13R9RGF6","type":"message","subtype":"channel_join","text":"<@U13R9RGF6|toddinpal> has joined the channel","ts":"1462998186.001038"},{"type":"message","user":"U13R9RGF6","text":"I'm trying to get fabric running in a different environment (RHEL without vagrant) and seem to have stuff built, but the unit tests report things like: \n ?   \t<http:\/\/github.com\/hyperledger\/fabric\/bddtests\/chaincode\/go\/table|github.com\/hyperledger\/fabric\/bddtests\/chaincode\/go\/table>\t[no test files]","ts":"1462998437.001039"},{"type":"message","user":"U13R9RGF6","text":"Is that expected or did that unit-test fail, or what?","ts":"1462998611.001040"},{"type":"message","user":"U0KPFAZNF","text":"thats expected","ts":"1462999656.001041"},{"type":"message","user":"U0KPFAZNF","text":"its basically that go-test does an oppotunistic grab of all source without knowing whether it has any test code, and then makes that report when it doesnt find any","ts":"1462999693.001042"},{"type":"message","user":"U0KPFAZNF","text":"the only ones you need to worry about are the explicit FAILs","ts":"1462999712.001043"},{"type":"message","user":"U13R9RGF6","text":"ok, thanks!","ts":"1463002003.001044"},{"type":"message","user":"U13R9RGF6","text":"Are there any instructions for how to set up a multi-node network of validating peers?  Lets say I want to create a blockchain with 4 validating peers, each on separate hosts and with security enabled.  Is there a sample\/template\/whatever I can follow to set this up?","ts":"1463013370.001045"},{"type":"message","user":"U0KPFAZNF","text":"<@U13R9RGF6>: are you familar with docker compose?","ts":"1463013929.001046"},{"type":"message","user":"U0KPFAZNF","text":"there are a number of docker-compose configurations you could either use directly, or at least glean the steps","ts":"1463013961.001047"},{"type":"message","user":"U13R9RGF6","text":"to a limited extent, meaning I have played with it in a single machine environment","ts":"1463013963.001048"},{"type":"message","user":"U0KPFAZNF","text":"Take a look at this one for instance: <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/bddtests\/docker-compose-4-consensus-batch.yml>","edited":{"user":"U0KPFAZNF","ts":"1463014033.000000"},"ts":"1463014029.001049"},{"type":"message","user":"U13R9RGF6","text":"I've looked a little at the behave tests as I believe those are closest to what I want, but I know squat about behave... too many new open source projects for me... meh","ts":"1463014040.001052"},{"type":"message","user":"U0UGH3X7X","text":"look at the files in fabric\/consensus\/docker-compose-files","ts":"1463014085.001053"},{"type":"message","user":"U0UGH3X7X","text":"in particular compose-consensus-4.md","ts":"1463014112.001054"},{"type":"message","user":"U13R9RGF6","text":"<@U0UGH3X7X>, thanks!  I think that might do it although I'll have to look at it in more detail.  The stuff in the bddtest directory has no descriptions, so it's hard to tell what's going on","ts":"1463014232.001055"},{"type":"message","user":"U0UGH3X7X","text":"`behave` is actually a pretty neat way of doing testcases ...  gaining entry is a bit hard though","ts":"1463014309.001056"},{"type":"message","user":"U13R9RGF6","text":"like I said, this project is about 3-4 open source dependencies beyond my limit.  :simple_smile:    I'll get there","ts":"1463014357.001057","reactions":[{"name":"+1","users":["U0UGH3X7X"],"count":1}]},{"type":"message","user":"U0UGH3X7X","text":"<@U13R9RGF6>:   forgot to mention the docs in fabric\/docs\/dev-setup  also have instructions on setting a multi peer network,  using docker only, not docker-compose","ts":"1463015600.001058"},{"type":"message","user":"U13R9RGF6","text":"So I'm trying to set up a 4 peer network just using docker, and it seems like it's stuck in the discovery phase...  I keep getting these messages in the root peer:  \n06:25:02.194 [peer] HandleMessage -&gt; DEBU 855 Handling Message of type: DISC_PEERS \n06:25:02.194 [peer] beforePeers -&gt; DEBU 856 Received DISC_PEERS, grabbing peers message\n06:25:02.194 [peer] beforePeers -&gt; DEBU 857 Received PeersMessage with Peers: peers:&lt;ID:&lt;name:\"vp0\" &gt; address:\"172.17.0.2:30303\" type:VALIDATOR pkiID:\"\\277j\\260\\340Q\\335JTM\\343\\371\\262\\312\\353\\035\\030\\254\\002\\275\\030\\213\\246F!\\336svd\\250\\240\\375\\256\" &gt; peers:&lt;ID:&lt;name:\"vp1\" &gt; address:\"172.17.0.3:30303\" type:VALIDATOR pkiID:\"B\\177\\220|\\205\\005\\r\\307{\\024\\262\\204\\233v\\n77\\273y\\353\\275\\203 \\301FnI\\003\\325\\023\\210\\014\" &gt; peers:&lt;ID:&lt;name:\"vp3\" &gt; address:\"172.17.0.5:30303\" type:VALIDATOR pkiID:\"Ig\\252\\037\\204\\376w\\340\\3370v\\357%\\035\\352a\\260I\\031sf\\223\\321\\234~\\271f\\361\\222\\177}\\024\" &gt; \n06:25:02.219 [consensus\/handler] HandleMessage -&gt; DEBU 858 Did not handle message of type DISC_GET_PEERS, passing on to next MessageHandler\n06:25:02.219 [peer] HandleMessage -&gt; DEBU 859 Handling Message of type: DISC_GET_PEERS \n06:25:02.219 [peer] beforeGetPeers -&gt; DEBU 85a Sending back DISC_PEERS\n06:25:02.219 [peer] SendMessage -&gt; DEBU 85b Sending message to stream of type: DISC_PEERS \n06:25:03.354 [peer] SendMessage -&gt; DEBU 85c Sending message to stream of type: DISC_GET_PEERS \n06:25:03.355 [consensus\/handler] HandleMessage -&gt; DEBU 85d Did not handle message of type DISC_PEERS, passing on to next MessageHandler\n06:25:03.355 [peer] HandleMessage -&gt; DEBU 85e Handling Message of type: DISC_PEERS \n06:25:03.355 [peer] beforePeers -&gt; DEBU 85f Received DISC_PEERS, grabbing peers message\n06:25:03.355 [peer] beforePeers -&gt; DEBU 860 Received PeersMessage with Peers: peers:&lt;ID:&lt;name:\"vp1\" &gt; address:\"172.17.0.3:30303\" type:VALIDATOR pkiID:\"B\\177\\220|\\205\\005\\r\\307{\\024\\262\\204\\233v\\n77\\273y\\353\\275\\203 \\301FnI\\003\\325\\023\\210\\014\" &gt; peers:&lt;ID:&lt;name:\"vp2\" &gt; address:\"172.17.0.4:30303\" type:VALIDATOR pkiID:\"\\030\\265\\337\\026\\020\\251\\312\\250T6\\266j\\210\\276h`\\261&lt;?B\\262\\332\\223\\3638%'n\\3147\\244\\002\" &gt; peers:&lt;ID:&lt;name:\"vp0\" &gt; address:\"172.17.0.2:30303\" type:VALIDATOR pkiID:\"\\277j\\260\\340Q\\335JTM\\343\\371\\262\\312\\353\\035\\030\\254\\002\\275\\030\\213\\246F!\\336svd\\250\\240\\375\\256\" &gt;","ts":"1463034342.001059"},{"user":"U18A8DC8Y","type":"message","subtype":"channel_join","text":"<@U18A8DC8Y|sudhanva> has joined the channel","ts":"1463054340.001060"},{"type":"message","user":"U0UGH3X7X","text":"<@U13R9RGF6> ... that's the peer being chatty with debug logging on ... are you able to deploy\/invoke\/query a chaincode ?","ts":"1463057973.001061"},{"type":"message","user":"U0XR6J961","text":"ghaskins: so any time i change the source, i need to do a make clean; make peer?","ts":"1463058901.001062"},{"type":"message","user":"U0KPFAZNF","text":"For now, that's the conservative thing to do","ts":"1463059557.001063"},{"type":"message","user":"U0KPFAZNF","text":"99% of the time, it won't matter.  So we will try to get the prerequisites more precise so it can figure it out on its own","ts":"1463059610.001064"},{"type":"message","user":"U13R9RGF6","text":"<@U0UGH3X7X>: I didn't try as I made an assumption once the peers were discovered it would be quiet, my bad","ts":"1463062266.001065"},{"user":"U1296EA0M","type":"message","subtype":"channel_join","text":"<@U1296EA0M|maro> has joined the channel","ts":"1463069722.001066"},{"type":"message","user":"U0XR6J961","text":"```Assertion Failed: Failed to POST to <http:\/\/172.17.0.3:5000\/devops\/query>:  {\"E\nrror\": \"Error:Failed to launch chaincode spec(Error starting container: cannot conn\nect to Docker endpoint)\"} ```","ts":"1463072231.001067"},{"type":"message","user":"U0XR6J961","text":"why is this happening now?  i don't understand you, docker","ts":"1463072243.001068"},{"type":"message","user":"U0XR6J961","text":"ah!","ts":"1463072278.001069"},{"type":"message","user":"U0XR6J961","text":"i think that's the port change that bcbrock pushed some time ago","ts":"1463072289.001070"},{"type":"message","user":"U0KPFAZNF","text":"yeah, that went in a day or two ago I think","ts":"1463072495.001071"},{"type":"message","user":"U0XR6J961","text":"ha!","ts":"1463072814.001072"},{"type":"message","user":"U0TFEHX8E","text":"<@U0XR6J961>: <https:\/\/github.com\/hyperledger\/fabric\/pull\/1422>","attachments":[{"service_name":"GitHub","title":"Change unofficial Docker port 4243 to 2375 by bcbrock \u00b7 Pull Request #1422 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1422","text":"Description Globally changed 4243 to 2375. Also fixed the doc. in YAML files around the use of port 2376. Motivation and Context Fixes #1263 The motivation can be found in that issue. How...","fallback":"GitHub: Change unofficial Docker port 4243 to 2375 by bcbrock \u00b7 Pull Request #1422 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/11968347?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1422","thumb_width":400,"thumb_height":400,"id":1}],"ts":"1463073137.001073"},{"type":"message","user":"U0XR6J961","text":"yea i saw that long ago","ts":"1463073173.001075"},{"type":"message","user":"U0XR6J961","text":"just realized what made my tests not work anymore","ts":"1463073183.001076"},{"type":"message","user":"U10Q62R8X","text":"been fixing my patches on z as well because of that port change.. still, I like the default port, so good on Bishop","ts":"1463073381.001077"},{"type":"message","user":"U0N1D1UAE","text":"Would anyone object to using a new version of RocksDB (assuming it works)? RockDB 4.1 does not build on PPC64LE w\/o patches.","ts":"1463073836.001078"},{"type":"message","user":"U0TFEHX8E","text":"nope, what version?","ts":"1463073872.001079"},{"type":"message","user":"U0N1D1UAE","text":"4.5.1 Looks like the earliest that includes the fix","ts":"1463073910.001080"},{"type":"message","user":"U0TFEHX8E","text":"whoa, they\u2019re up to 4.5.1? I\u2019ll need to read through the changes to make sure there are no breaking changes that we need to react to","ts":"1463073925.001081"},{"type":"message","user":"U0N1D1UAE","text":"Yes, that is the latest tag","ts":"1463073952.001082"},{"type":"message","user":"U0TFEHX8E","text":"<@U0Z541B3P>: ^^^ of interest to you also","ts":"1463073964.001083"},{"type":"message","user":"U0N1D1UAE","text":"Thanks Sheehan","ts":"1463074052.001084"},{"type":"message","user":"U0Z541B3P","text":"sure, I do not have any issues with upgrading. I\u2019ll run my performance tests also after the upgrade just to make sure.","ts":"1463074195.001085"},{"type":"message","user":"U0N1D1UAE","text":"<@U0TFEHX8E> <@U0KPFAZNF> The Hyperledger TSC approved my proposal to add my \u2018busywork\u2019 exerciser to the fabric project. Where would you like me to add it? It is similar to \u2018bddtests\u2019 so it could be fabric\/busywork. Or we could put bddtests, busywork, and other test methodologies under a top level directory.","ts":"1463074217.001086"},{"type":"message","user":"U0KPFAZNF","text":"I heard that, congrats!","ts":"1463074238.001087"},{"type":"message","user":"U0KPFAZNF","text":"i think it will be great to have that tied to CI","ts":"1463074250.001088"},{"type":"message","user":"U0KPFAZNF","text":"I dont have a strong opinion on the topology","ts":"1463074275.001089"},{"type":"message","user":"U0KPFAZNF","text":"i think I favor the latter proposal","ts":"1463074296.001090"},{"type":"message","user":"U0N1D1UAE","text":"Nor do I; There are a few paths that need to be known, that\u2019s all","ts":"1463074323.001091"},{"type":"message","user":"U0N1D1UAE","text":"Like Go import paths","edited":{"user":"U0N1D1UAE","ts":"1463074350.000000"},"ts":"1463074330.001092"},{"type":"message","user":"U0KPFAZNF","text":"yep, understood","ts":"1463074338.001093"},{"type":"message","user":"U0TFEHX8E","text":"<@U0N1D1UAE>: were you going to upgrade RocksDB or do you want me to submit a PR?","ts":"1463074361.001095"},{"type":"message","user":"U0N1D1UAE","text":"I would be happy for you to do it if you have time","ts":"1463074391.001096"},{"type":"message","user":"U0N1D1UAE","text":"NOte - I haven\u2019t tested it","ts":"1463074408.001097"},{"type":"message","user":"U0TFEHX8E","text":"sure, will give it a try. May take a day or two as I have some other work to complete first","ts":"1463074433.001098"},{"type":"message","user":"U0N1D1UAE","text":"Thank you","ts":"1463074461.001099"},{"type":"message","user":"U0TFEHX8E","text":"<@U0KPFAZNF>: do you plan to submit chaintool eventually? Would that live in the Fabric repo or on its own?","ts":"1463074517.001100"},{"type":"message","user":"U0TFEHX8E","text":"If it\u2019s in the fabric repo, wondering if we should have a \/tools folder or something similar for chaintool and busywork?","ts":"1463074549.001101"},{"type":"message","user":"U10Q62R8X","text":"<@U0N1D1UAE>: re rocksdb! thats great news! I have been also waiting for the z patches from <@U123PQHLN> to go through. Will update  the branch I have been reading on <@U0KPFAZNF> changes to use that version <https:\/\/github.com\/vpaprots\/fabric\/tree\/s390x-build-support>","attachments":[{"service_name":"GitHub","title":"vpaprots\/fabric","title_link":"https:\/\/github.com\/vpaprots\/fabric\/tree\/s390x-build-support","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: vpaprots\/fabric","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/16241882?v=3&s=400","from_url":"https:\/\/github.com\/vpaprots\/fabric\/tree\/s390x-build-support","thumb_width":400,"thumb_height":400,"id":1}],"ts":"1463075036.001102"},{"type":"message","user":"U0N1D1UAE","text":"<@U10Q62R8X> Are they in 4.5.1?","ts":"1463075063.001104"},{"type":"message","user":"U0KPFAZNF","text":"<@U0TFEHX8E>: thats exactly what I was just thinking","ts":"1463075100.001105"},{"type":"message","user":"U0KPFAZNF","text":"might make sense to be \/tools\/[bddtests,busywork,chaintool]","ts":"1463075117.001106"},{"type":"message","user":"U10Q62R8X","text":"Will doublecheck, but I looked earlier, Gong delivered a fix for rocksdb for 390 about the same time you did for ppc","ts":"1463075135.001107"},{"type":"message","user":"U0KPFAZNF","text":"<@U0TFEHX8E>: re rocksdb, i assume this is a baseimage respin","ts":"1463075333.001108"},{"type":"message","user":"U0TFEHX8E","text":"yes","ts":"1463075355.001109"},{"type":"message","user":"U0KPFAZNF","text":"if so, would be ideal to coordinate it with <@U10Q62R8X> s390x support so I can capture them both","ts":"1463075378.001110"},{"type":"message","user":"U10Q62R8X","text":"yeah","ts":"1463075386.001111"},{"type":"message","user":"U10Q62R8X","text":"what I was thinking too..","ts":"1463075391.001112"},{"type":"message","user":"U0TFEHX8E","text":"PR 1440 or something else?","ts":"1463075398.001113"},{"type":"message","user":"U0KPFAZNF","text":"(technically s390x doesnt matter to vagrant, but the proposal would involve changing the baseimage\/\u2026\/setup.sh scripts so will need to be tested in all","ts":"1463075415.001114"},{"type":"message","user":"U10Q62R8X","text":"since I am modifying the same code in my branch I could push it.. or Greg, you can include it in 1400","ts":"1463075429.001115"},{"type":"message","user":"U0KPFAZNF","text":"my preference is to have 1440 go in independently and then we can roll $arch supports in after","ts":"1463075462.001116"},{"type":"message","user":"U0KPFAZNF","text":"but I am open minded","ts":"1463075474.001117"},{"type":"message","user":"U10Q62R8X","text":"I meant rocksdb version change.. I could include it for all platforms in my branch.","ts":"1463075505.001118"},{"type":"message","user":"U0KPFAZNF","text":"my main concern would be avoiding needing to rebuild a new baseimage twice, so if we can capture s390x support and upgraded rocksdb into one release, that would be ideal","ts":"1463075527.001119"},{"type":"message","user":"U10Q62R8X","text":"probably update the baseimage to 0.0.10?","ts":"1463075531.001120"},{"type":"message","user":"U0KPFAZNF","text":"<@U10Q62R8X>: oh i see, yes","ts":"1463075549.001121"},{"type":"message","user":"U0KPFAZNF","text":"that would be good","ts":"1463075552.001122"},{"type":"message","user":"U0TFEHX8E","text":"<@U10Q62R8X>: does the PORTABLE=1 flag not make it compatible with all platforms?","ts":"1463075571.001123"},{"type":"message","user":"U0KPFAZNF","text":"if you are pulling a newer version of rocks specifically for s390, but the other platforms could use it too, i am fine with it being left non-conditional","ts":"1463075590.001124"},{"type":"message","user":"U0KPFAZNF","text":"as far as I know, PORTABLE=1 only affects the compiler optimizations for a given ARCH","edited":{"user":"U0KPFAZNF","ts":"1463075868.000000"},"ts":"1463075618.001125"},{"type":"message","user":"U0KPFAZNF","text":"nothing to do with cross-arch compat","ts":"1463075631.001126"},{"type":"message","user":"U10Q62R8X","text":"I thought PORTABLE meant something about the binary not hardcoding absolute PATHs.. but hadnt really looked","ts":"1463075637.001127"},{"type":"message","user":"U0KPFAZNF","text":"<@U10Q62R8X>: it minimally affected gcc optimizations on x86, not sure about other things like paths and alt-arch","ts":"1463075669.001128"},{"type":"message","user":"U0KPFAZNF","text":"we had a problem in the early days where I compiled it on my Xeon mac, and gcc enabled some intel feature as a result that wasnt universal","ts":"1463075710.001129"},{"type":"message","user":"U0KPFAZNF","text":"so, the object code didnt run on all processors after that","ts":"1463075721.001130"},{"type":"message","user":"U10Q62R8X","text":"ah.. I just blindly copied the option.. It made me think about 'relocatable code' since that is something compiler people worry about..","ts":"1463075759.001131"},{"type":"message","user":"U0KPFAZNF","text":"so the PORTABLE flag just turns that off so it generates least-common-denominator instrinsics","ts":"1463075779.001132"},{"type":"message","user":"U10Q62R8X","text":"problems, nails and hammers ...","ts":"1463075781.001133"},{"type":"message","user":"U10Q62R8X","text":"A different sorta question, <@U0TFEHX8E>  maybe a hint from you...","ts":"1463075920.001135"},{"type":"message","subtype":"file_share","text":"<@U10Q62R8X|vpaprots> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F18CYJQ03\/-.txt|Untitled>","file":{"id":"F18CYJQ03","created":1463075930,"timestamp":1463075930,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U10Q62R8X","editable":true,"size":524,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F18CYJQ03\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F18CYJQ03\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F18CYJQ03\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F18CYJQ03-37c1f782b5","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F18CYJQ03\/-.txt\/edit","preview":"func (vm *VM) writePeerPackage(tw *tar.Writer) error {\r\n\tstartTime := time.Now()\r\n\r\n\tdockerFileContents := viper.GetString(\"peer.Dockerfile\")\r\n\tdockerFileSize := int64(len([]byte(dockerFileContents)))\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>func (vm *VM) writePeerPackage(tw *tar.Writer) error {<\/pre><\/div>\n<div><pre>    startTime := time.Now()<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<div><pre>    dockerFileContents := viper.GetString(&quot;peer.Dockerfile&quot;)<\/pre><\/div>\n<div><pre>    dockerFileSize := int64(len([]byte(dockerFileContents)))<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":14,"lines_more":9,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U10Q62R8X","upload":true,"display_as_bot":false,"username":"<@U10Q62R8X|vpaprots>","bot_id":null,"ts":"1463075981.001136"},{"type":"message","user":"U10Q62R8X","text":"That tarballs the entire GOPATH!","ts":"1463076007.001137"},{"type":"message","user":"U10Q62R8X","text":"I happen to have entire golang compiler in there, since I am patching that too.. yikes, build takes forever","ts":"1463076044.001138"},{"type":"message","user":"U10Q62R8X","text":"would be nice to copy only whats needed...","ts":"1463076055.001139","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0N1D1UAE","text":"For example on POWER, PORTABLE=1 means it only uses POWER7 instructions. PORTABLE=0 means that if you compile on POWER8, the binary *may* only run on POWER8","ts":"1463076065.001140"},{"type":"message","user":"U0TFEHX8E","text":"<@U10Q62R8X>: believe there\u2019s an open issue. Let me see if I can find it","ts":"1463076202.001141"},{"type":"message","user":"U10Q62R8X","text":"was that to pick up vendoring folder? not sure where it usually gets downloaded too..","ts":"1463076274.001142"},{"type":"message","user":"U10Q62R8X","text":"i.e. presumably we just need vendoring deps + hyperledger fabric folder for peer docker container to run..","ts":"1463076324.001143"},{"type":"message","user":"U0TFEHX8E","text":"<@U0ULK2JPP>: See comment from <@U10Q62R8X> about pulling in the entire GOPATH. Is there an issue for that? Can\u2019t find it","ts":"1463076597.001144"},{"type":"message","user":"U0TFEHX8E","text":"I think early on that was done to pick up potential deps. Now that 1.6 is available, chaincode writers should use vendoring for their deps","ts":"1463076641.001145"},{"type":"message","user":"U0KPFAZNF","text":"yeah, im thinking of a couple of different ways we can exploit whats there now","ts":"1463077965.001146"},{"type":"message","user":"U0KPFAZNF","text":"1 would be doing something like git ls-files on fabric and only pulling that in","ts":"1463077986.001147"},{"type":"message","user":"U0KPFAZNF","text":"another would be we could have the makefile prepare an image with baseimage+fabric so the image already has the code and doesnt need it at deploy time","ts":"1463078033.001148"},{"type":"message","user":"U0KPFAZNF","text":"which ultimately we probably want some form of, we want to minimize the amount of work that has to be done in the fast path eventually","ts":"1463078093.001149"},{"type":"message","user":"U0N1D1UAE","text":"Referring back to the baseimage 0.0.10 discussion (?), \u2018busywork\u2019 requires the Ubuntu packages \u201ctcl\u201d, \u201ctclx\u201d and \u201ctcllib\u201d. \u201ctcllib\u201d is an issue depending on the Ubuntu version, it has different names in different versions. Also, unfortunately \u201ctcllib\u201d needs to be built from source on Z.","ts":"1463078181.001150"},{"type":"message","user":"U10Q62R8X","text":"Re rocksdb 4.5.1 <https:\/\/github.com\/facebook\/rocksdb\/commits\/master\/build_tools\/build_detect_platform> vs <https:\/\/github.com\/facebook\/rocksdb\/commits\/v4.5.1\/build_tools\/build_detect_platform>","attachments":[{"service_name":"GitHub","title":"facebook\/rocksdb","title_link":"https:\/\/github.com\/facebook\/rocksdb\/commits\/master\/build_tools\/build_detect_platform","text":"rocksdb - A library that provides an embeddable, persistent key-value store for fast storage.","fallback":"GitHub: facebook\/rocksdb","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/69631?v=3&s=400","from_url":"https:\/\/github.com\/facebook\/rocksdb\/commits\/master\/build_tools\/build_detect_platform","thumb_width":400,"thumb_height":400,"id":1}],"ts":"1463084951.001151"},{"type":"message","user":"U10Q62R8X","text":"seems like Gong delivered his fix less then a month later and the fix did not make it into 4.5.1.. oh well, I will just keep the sed in the build for a bit longer...","ts":"1463085004.001153"},{"type":"message","user":"U0XR6J961","text":"<@U0KPFAZNF>: i'm looking at how to change Makefile to use actual dependencies instead of dummy targets","ts":"1463142343.001154"},{"type":"message","user":"U0KPFAZNF","text":"that would be awesome, thanks","ts":"1463142356.001155"},{"type":"message","user":"U0KPFAZNF","text":"i was also trying to see if something could be done with prereqs\u2026like if .baseimage-dummy depended on .\/scripts\/provision\/* or something like that","ts":"1463142431.001156"},{"type":"message","user":"U0XR6J961","text":"so one thing is that `go install -v` will only print something if the sources change","ts":"1463142436.001157"},{"type":"message","user":"U0XR6J961","text":"maybe we should transition to `go install` instead of `go build`","ts":"1463142462.001158"},{"type":"message","user":"U0XR6J961","text":"that implies using the go install path, instead of `..\/peer\/peer`","ts":"1463142481.001159"},{"type":"message","user":"U0KPFAZNF","text":"yeah, i was thinking that too, it offers to be faster","ts":"1463142493.001160"},{"type":"message","user":"U0XR6J961","text":"way faster","ts":"1463142499.001161"},{"type":"message","user":"U0KPFAZNF","text":"on that front, another thing we could think about doing is for the peer-image\/ca-image targets, right now we inject the full $GOPATH and then build the peer","ts":"1463142525.001162"},{"type":"message","user":"U0XR6J961","text":"now building the peer image - can't we just copy in the binary and the configs?","ts":"1463142525.001163"},{"type":"message","user":"U0KPFAZNF","text":"yes!","ts":"1463142530.001164"},{"type":"message","user":"U0KPFAZNF","text":"thats where I was just going with that","ts":"1463142534.001165"},{"type":"message","user":"U0KPFAZNF","text":"rather than pull in the full source and do a build, we should just go-install the binary and inject that","ts":"1463142557.001166"},{"type":"message","user":"U0XR6J961","text":"and configs","ts":"1463142567.001167"},{"type":"message","user":"U0KPFAZNF","text":"right","ts":"1463142570.001168"},{"type":"message","user":"U0XR6J961","text":"however...","ts":"1463142586.001169"},{"type":"message","user":"U0KPFAZNF","text":"does the code read the full .yaml tree at runtime?","ts":"1463142592.001170"},{"type":"message","user":"U0KPFAZNF","text":"or just core.yaml?","ts":"1463142600.001171"},{"type":"message","user":"U0XR6J961","text":"yea that needs to be cleaned up as well","ts":"1463142615.001172"},{"type":"message","user":"U0XR6J961","text":"but will deploy work?","ts":"1463142641.001173"},{"type":"message","user":"U0XR6J961","text":"i.e. do we need the full source in the peer image?","ts":"1463142652.001174"},{"type":"message","user":"U0KPFAZNF","text":"technically the chaincode needs a subset","ts":"1463142667.001175"},{"type":"message","user":"U0XR6J961","text":"yea but that's silly in the first place that we need to distribute the chaincode","ts":"1463142685.001176"},{"type":"message","user":"U0KPFAZNF","text":"at least the shim, possibly some other stuff like PB","ts":"1463142685.001177"},{"type":"message","user":"U0XR6J961","text":"defeats the purpose of deploying code","ts":"1463142691.001178"},{"type":"message","user":"U0KPFAZNF","text":"not sure what you mean","ts":"1463142708.001179"},{"type":"message","user":"U0KPFAZNF","text":"anyway, i am not against the fabric code being injected, its the go-build _every_ time that kills us","ts":"1463142764.001180"},{"type":"message","user":"U0KPFAZNF","text":"so, the biggest win would be, still copy $GOPATH, but inject a peer\/ca binary built from go-install","ts":"1463142783.001181"},{"type":"message","user":"U0KPFAZNF","text":"I think if we move the business of creating the peer\/ca images out from the unit tests and into the makefile, we can optimize this fairly easily","ts":"1463142826.001182"},{"type":"message","user":"U0XR6J961","text":"okay, given that there is some peace on the consensus front, i can look into tooling","ts":"1463142827.001183"},{"type":"message","user":"U0XR6J961","text":"where i have a personal need (make takes 1h on my laptop)","ts":"1463142840.001184"},{"type":"message","user":"U0XR6J961","text":"and i've been doing tooling for other large projects for a long time","ts":"1463142855.001185"},{"type":"message","user":"U0KPFAZNF","text":"that would be awesome, thanks","ts":"1463142861.001186"},{"type":"message","user":"U0KPFAZNF","text":"is the 1h after a clean?","ts":"1463142878.001187"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1463142885.001188"},{"type":"message","user":"U0KPFAZNF","text":"is that building the baseimage too?","ts":"1463142891.001189"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1463142902.001190"},{"type":"message","user":"U0KPFAZNF","text":"i mean the :unknown-0.0.9 thing","ts":"1463142907.001191"},{"type":"message","user":"U0XR6J961","text":"no","ts":"1463142910.001192"},{"type":"message","user":"U0XR6J961","text":"that gets fetched","ts":"1463142913.001193"},{"type":"message","user":"U0KPFAZNF","text":"oh wow, thats an awfully long time for not building the base","ts":"1463142929.001194"},{"type":"message","user":"U0XR6J961","text":"i know","ts":"1463142936.001195"},{"type":"message","user":"U0KPFAZNF","text":"any idea where the bulk is spent?","ts":"1463142939.001196"},{"type":"message","user":"U0XR6J961","text":"slow CPU :simple_smile:","ts":"1463142946.001197"},{"type":"message","user":"U0KPFAZNF","text":"ah","ts":"1463142949.001198"},{"type":"message","user":"U0XR6J961","text":"so first thing that is odd is that REST deploy doesn't ship the source","ts":"1463142972.001199"},{"type":"message","user":"U0XR6J961","text":"so you can only deploy code that is either available at the peer you're sending the deploy to","ts":"1463142999.001200"},{"type":"message","user":"U0XR6J961","text":"or which the peer can fetch","ts":"1463143008.001201"},{"type":"message","user":"U0XR6J961","text":"does that make sense at all?","ts":"1463143018.001202"},{"type":"message","user":"U0XR6J961","text":"for now we can just copy the current codebase in","ts":"1463143029.001203"},{"type":"message","user":"U0XR6J961","text":"but it doesn't seem right","ts":"1463143034.001204"},{"type":"message","user":"U0KPFAZNF","text":"well, theres two things going on here I think","ts":"1463143044.001205"},{"type":"message","user":"U0KPFAZNF","text":"#1, we need some substrate to support the chaincode\u2026minimally shim and protobuf, probably others","ts":"1463143067.001206"},{"type":"message","user":"U0KPFAZNF","text":"we solve this with a heavy hand and just copy the entire $GOPATH","ts":"1463143079.001207"},{"type":"message","user":"U0KPFAZNF","text":"#2, the deploy method currently only supports accessible URL or local fs path","ts":"1463143107.001208"},{"type":"message","user":"U0KPFAZNF","text":"often times local-fs path and $GOPATH overlap, but they dont technically need to per se","ts":"1463143139.001209"},{"type":"message","user":"U0KPFAZNF","text":"one of the things I was trying to tackle with chaintool would be chaincode packaging","ts":"1463143161.001210"},{"type":"message","user":"U0KPFAZNF","text":"e.g. bundle it up and send it in with the deploy payload","ts":"1463143171.001211"},{"type":"message","user":"U0KPFAZNF","text":"that would get rid of the #2 stuff, but we still need to think about the ABI that the chaincode needs to compile","edited":{"user":"U0KPFAZNF","ts":"1463143201.000000"},"ts":"1463143191.001212"},{"type":"message","user":"U0KPFAZNF","text":"i have to get kids to school, bbiab","ts":"1463143207.001214"},{"type":"message","user":"U0XR6J961","text":"so why do we even ship the code and don't ship binaries?  probably because we want to support a heterogeneous network","ts":"1463143286.001215"},{"type":"message","user":"U0KPFAZNF","text":"It's also likely more space efficient to send code, but most importantly it's that certain use cases will require code attestation ","ts":"1463145868.001216"},{"type":"message","user":"U0KPFAZNF","text":"But heterogeneity is a good point too","ts":"1463145926.001217"},{"type":"message","user":"U0XR6J961","text":"code attestation vs binary attestation...","ts":"1463145968.001218"},{"type":"message","user":"U0XR6J961","text":"independent, the code should be sent, and not be expected to be present","ts":"1463145994.001219"},{"type":"message","user":"U0XR6J961","text":"and probably the code should be self-contained and use vendored dependencies","ts":"1463146011.001220"},{"type":"message","user":"U0XR6J961","text":"or different nodes may fetch different code (dependencies)","ts":"1463146022.001221"},{"type":"message","user":"U0KPFAZNF","text":"Assuming you can product deterministic binaries I suppose you have a point","ts":"1463146022.001222"},{"type":"message","user":"U0XR6J961","text":"i.e. the build must happen on a dockerized go build that cannot access the internet","ts":"1463146061.001223"},{"type":"message","user":"U0XR6J961","text":"i think shipping a multi-binary is better","ts":"1463146075.001224"},{"type":"message","user":"U0XR6J961","text":"maybe <@U0PB67X4K> has an opinion","ts":"1463146103.001225"},{"user":"U0PB67X4K","inviter":"U0XR6J961","type":"message","subtype":"channel_join","text":"<@U0PB67X4K|garisingh> has joined the channel","ts":"1463146109.001226"},{"type":"message","user":"U0KPFAZNF","text":"i think a production environment will not want to allow fetching","ts":"1463146529.001227"},{"type":"message","user":"U0KPFAZNF","text":"this is what I was going for with the \u201cplatforms\u201d concept in chaintool","ts":"1463146539.001228"},{"type":"message","user":"U0PB67X4K","text":"<@U0XR6J961> <@U0KPFAZNF>  - you guys are hitting the nail on the head here in terms of issues of \"code \/ binary\" attestation when it comes to chaincode.  The question is a bit easier if you are only concerned about the peer \/ environment you manage, but more complicated if you want to know what everyone else is actually running","ts":"1463146553.001229"},{"type":"message","user":"U0KPFAZNF","text":"e.g. platform: { \u201corg.hyperledger.chaincode.golang\u201d, 1 } meant a certain ABI in terms of available libraries, etc","ts":"1463146586.001230"},{"type":"message","user":"U0KPFAZNF","text":"anything not part of the platform could be added to the bundle shipped with the app","ts":"1463146599.001231"},{"type":"message","user":"U0KPFAZNF","text":"see this: <https:\/\/github.com\/ghaskins\/chaintool#chaintool-package>","edited":{"user":"U0KPFAZNF","ts":"1463146653.000000"},"ts":"1463146649.001232"},{"type":"message","user":"U0KPFAZNF","text":"the idea was that we have some properties here, like the chaincode sha and platform designation","ts":"1463146680.001235"},{"type":"message","user":"U0KPFAZNF","text":"the source-bundle + sha provides the source attestation and the platform defines the compatiblity","ts":"1463146713.001236"},{"type":"message","user":"U0KPFAZNF","text":"I liken the chaintool platform concept like java 1.6, vs 1.7 vs 1.8","ts":"1463146780.001237"},{"type":"message","user":"U0KPFAZNF","text":"it denotes compatibility with the environment the code will run in","ts":"1463146797.001238"},{"type":"message","user":"U0PB67X4K","text":"I had a few ideas:\n\n1) Have a trusted Docker registry as part of the network.  So rather than compiling code and building images on the fly, actually require that there be a signed Docker image deployed to a secure trusted registry.  We can likely leverage a lot of the existing enrollment crypto \/ certs as part of this or create some new material that's part of the network\n\n2) Require that the Docker daemon be in \"content trust\" mode or at least set that flag when starting containers\n\n3) For things like the SHIM code, we should actually move to a model where we used shared libraries (prebuilt) rather than compiling it in from source.","ts":"1463146808.001239"},{"type":"message","user":"U0PB67X4K","text":"if we move to other languages like Java, we can do better - e.g. signed JARs, etc","ts":"1463146836.001240"},{"type":"message","user":"U0KPFAZNF","text":"i dont think you need a specific language to do that, I captured signatures in the CAR concept which is language neutral","ts":"1463146878.001241"},{"type":"message","user":"U0PB67X4K","text":"we should also have a very minimal base chaincode container image - e.g. no compiler. etc","ts":"1463146884.001242","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"so you could have signed golang code too, for instance","ts":"1463146888.001243"},{"type":"message","user":"U0PB67X4K","text":"true","ts":"1463146894.001244"},{"type":"message","user":"U0PB67X4K","text":"but I would leverage the language specific ways under the covers where possible","ts":"1463146915.001245"},{"type":"message","user":"U0KPFAZNF","text":"i havent implemented the digitial signatures feature in chaintool yet, but the metadata is already there","ts":"1463146918.001246"},{"type":"message","user":"U0PB67X4K","text":"chaincode base image should be basically as close to just having the chaincode executable as possible","ts":"1463146962.001247"},{"type":"message","user":"U0KPFAZNF","text":"id be wary to base the chaincode itself on docker, its too big and too external I think","ts":"1463146973.001248"},{"type":"message","user":"U0KPFAZNF","text":"i am fine if the platform concept is in docker, though","ts":"1463146986.001249"},{"type":"message","user":"U0PB67X4K","text":"sure","ts":"1463147000.001250"},{"type":"message","user":"U0KPFAZNF","text":"for instance platform: { \u201corg.hyperledger.chaincode.golang\u201d, 1 } could be a docker container with specific versions of the shim\/protobuf libraries","ts":"1463147011.001251"},{"type":"message","user":"U0PB67X4K","text":"there are many different levels of attestation that we can try to provide","ts":"1463147017.001252"},{"type":"message","user":"U0PB67X4K","text":"and the network can agree how strict they want to be","ts":"1463147038.001253"},{"type":"message","user":"U0KPFAZNF","text":"but its the source itself that is the first-class item on the chain","ts":"1463147042.001254"},{"type":"message","user":"U0KPFAZNF","text":"regarding your minimal chaincode environment, yes","ts":"1463147182.001255"},{"type":"message","user":"U0XR6J961","text":"if the source is the first-class item, then the compiler needs to be a defined version as well, no?","ts":"1463147216.001256"},{"type":"message","user":"U0KPFAZNF","text":"and assuming we stick with the source-based deployment (I think we should), it might even be the kind of thing where you would want two (related) containers","ts":"1463147220.001257"},{"type":"message","user":"U0KPFAZNF","text":"one for build, one for runtime","ts":"1463147226.001258"},{"type":"message","user":"U0PB67X4K","text":"agreed - trusted, common build container would be the way to go IMHO","ts":"1463147244.001259"},{"type":"message","user":"U0KPFAZNF","text":"build would be a superset of runtime with the compilers, etc neeeded","ts":"1463147246.001260"},{"type":"message","user":"U0XR6J961","text":"why is this better than binary?","ts":"1463147266.001261"},{"type":"message","user":"U0PB67X4K","text":"running native binary rather than in Docker?","ts":"1463147285.001262"},{"type":"message","user":"U0XR6J961","text":"no, putting the binary into the chain instead of the source","ts":"1463147298.001263"},{"type":"message","user":"U0PB67X4K","text":"ah - I think we should be allowed to put the binary there as well.  again - could be network policy","ts":"1463147330.001264"},{"type":"message","user":"U0KPFAZNF","text":"size, heterogeneity, and ability\/ease to attest are the three leading arguments I can think of","ts":"1463147333.001265"},{"type":"message","user":"U0PB67X4K","text":"easy to hash and sign any binary though as well as source","ts":"1463147356.001266"},{"type":"message","user":"U0KPFAZNF","text":"if you can produce something like an llvm binary deterministically, than some of that falls away, but I suspect it would still be quite a bit larger than source","ts":"1463147373.001267"},{"type":"message","user":"U0KPFAZNF","text":"and still harder to review, even if the binary is deterministic","ts":"1463147385.001268"},{"type":"message","user":"U0XR6J961","text":"well this all points towards not using arbitrary code","ts":"1463147415.001269"},{"type":"message","user":"U0XR6J961","text":"and instead using a limited (scripting) language","ts":"1463147424.001270"},{"type":"message","user":"U0XR6J961","text":"but that train has left the station long ago","ts":"1463147433.001271"},{"type":"message","user":"U0KPFAZNF","text":"bingo, but then you are back to implicit source deployment again","ts":"1463147448.001272"},{"type":"message","user":"U0XR6J961","text":"yea, then your peer version is the point","ts":"1463147468.001273"},{"type":"message","user":"U0XR6J961","text":"in any case... my question was: why doesn't REST `deploy` take the source?","ts":"1463147508.001274"},{"type":"message","user":"U0KPFAZNF","text":"my take is, HL is a framework, people may take that framework and restrict\/augment the available platforms that can be supported in their own network","ts":"1463147523.001275"},{"type":"message","user":"U0KPFAZNF","text":"oh right, back to that","ts":"1463147531.001276"},{"type":"message","user":"U0KPFAZNF","text":"so, im tryign to add that, heh","ts":"1463147537.001277"},{"type":"message","user":"U0KPFAZNF","text":"i think its a good idea","ts":"1463147540.001278"},{"type":"message","user":"U0XR6J961","text":"i think it should be the whole source","ts":"1463147555.001279"},{"type":"message","user":"U0XR6J961","text":"and be built in a container that has no network access","ts":"1463147562.001280"},{"type":"message","user":"U0KPFAZNF","text":"yes!","ts":"1463147567.001281"},{"type":"message","user":"U0KPFAZNF","text":"on both counts","ts":"1463147569.001282"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/ghaskins\/chaintool#typical-workflow>","edited":{"user":"U0KPFAZNF","ts":"1463147576.000000"},"ts":"1463147571.001283"},{"type":"message","user":"U0KPFAZNF","text":"i was going for [source] -&gt; chaintool package -&gt; [.car] -&gt; deploy -&gt; build in an isolated container","ts":"1463147609.001286"},{"type":"message","user":"U0KPFAZNF","text":"via the rest payload, though the peer support is not in place yet","ts":"1463147623.001287"},{"type":"message","user":"U0KPFAZNF","text":"but fully agree","ts":"1463147632.001288"},{"type":"message","user":"U0KPFAZNF","text":"in that model, the dev uses the \u201cbuild\u201d subcommand to test their code, but the \u201cpackage\u201d command just packages the source, and the peer re-runs the build in an isolated container","ts":"1463147679.001289"},{"type":"message","user":"U0KPFAZNF","text":"(right now, we allow go-get to pull in deps though, but thats a maturity thing","ts":"1463147705.001290"},{"type":"message","user":"U0KPFAZNF","text":"until we can define what the platform abi is and lock it down","ts":"1463147720.001291"},{"type":"message","user":"U0KPFAZNF","text":"so, in that example02 example below, the payload is 2315 bytes that would be (probably base64 encoded) within the REST parameters","ts":"1463147765.001292"},{"type":"message","user":"U0KPFAZNF","text":"(though you can also use the current url\/fs-path model too if desired","ts":"1463147792.001293"},{"type":"message","user":"U0KPFAZNF","text":"bbiab","ts":"1463147821.001294"},{"type":"message","user":"U0TFEHX8E","text":"Hey <@U0KPFAZNF> - I\u2019m reviewing PR 1440 and wanted to ask a few questions. Mainly about \"move .\/devenv\/baseimage to .\/baseimage to reflect that it encompases more than the development environment\u201d\nIt seems like the base image is trying to be four things\n1. Vagrant dev env\n2. Chaincode dev env\n3. Chaincode production env\n4. Peer production env\nAm I totally off base or is that the direction?","ts":"1463163555.001295"},{"type":"message","user":"U0KPFAZNF","text":"not sure about the distinction between 2&amp;3, but otherwise i think thats right","ts":"1463163593.001296"},{"type":"message","user":"U0KPFAZNF","text":"i guess you could say vagrant, chaincode env, fabric (peer, ca, etc)","ts":"1463163647.001297"},{"type":"message","user":"U0TFEHX8E","text":"2 is me working on writing a chaincode. 3 is how the chaincode is deployed once the peer is in production","ts":"1463163651.001298"},{"type":"message","user":"U0TFEHX8E","text":"It seems for 1 and 2 people want Ubuntu where as for 3 and 4, people want Alpine or something small","ts":"1463163682.001299"},{"type":"message","user":"U0KPFAZNF","text":"ok, i see where you are going with it","ts":"1463163707.001300"},{"type":"message","user":"U0KPFAZNF","text":"i see a difference in chaincode-compilation vs chaincode-execution, for sure","ts":"1463163724.001301"},{"type":"message","user":"U0KPFAZNF","text":"today, i dont know if anyone uses docker for developing chaincode, per se, but I can see how that might be useful eventually","ts":"1463163748.001302"},{"type":"message","user":"U0TFEHX8E","text":"so I\u2019m trying to work out how we support both. seems like it may be two different images","ts":"1463163831.001303"},{"type":"message","user":"U0TFEHX8E","text":"And once we have Java chaincode, there may be a third image","ts":"1463163843.001304"},{"type":"message","user":"U0KPFAZNF","text":"i think you are right to point out that at some point, certain docker envs will want\/need to be lightweight as possible","ts":"1463163843.001305"},{"type":"message","user":"U0KPFAZNF","text":"will probably take more work to get to the point that it can be non ubuntu, but I think we can get there eventually","ts":"1463163877.001306"},{"type":"message","user":"U0TFEHX8E","text":"are you thinking non-ubuntu for the baseimage everywhere?","ts":"1463164004.001307"},{"type":"message","user":"U10Q62R8X","text":"<@U0TFEHX8E>:  what do you think constitutes chaincode dev environment? In my mind, it would be some sort of IDE, that can deploy to the network?","ts":"1463164208.001308"},{"type":"message","user":"U10Q62R8X","text":"I think thats what Ethereum is doing with Solidity?","ts":"1463164227.001309"},{"type":"message","user":"U10Q62R8X","text":"i.e. for java shim, maybe an eclipse PDE..","ts":"1463164279.001310"},{"type":"message","user":"U0TFEHX8E","text":"If I\u2019m working on a complex chaincode and it\u2019s failing, I may wish to actually run the docker container that was deployed. I\u2019ve seen others do this to debug. At this point, they\u2019re looking for tools like vi, vim, nano, etc. in the container","ts":"1463164295.001311"},{"type":"message","user":"U10Q62R8X","text":"hmm. good point, debugging the contract is a thing now too..","ts":"1463164324.001312"},{"type":"message","user":"U10Q62R8X","text":"thats kinda scary actually... how do you recover from a bug that you found when contract was in production, executing.. since blockchain only allows append.. another contract I guess...","ts":"1463164398.001313"},{"type":"message","user":"U10Q62R8X","text":"that has to have access to the same world state..","ts":"1463164431.001314"},{"type":"message","user":"U0TFEHX8E","text":"that\u2019s being worked on as part of the \u201cupgrade\u201d concept","ts":"1463164634.001315"},{"type":"message","user":"U0TFEHX8E","text":"<@U0KPFAZNF>: so my point is that the baseimage still seems tied to dev, thus maybe why it should live in the devenv folder? In production I may still wish to deploy chaincode using the golang:1.6 image.","ts":"1463164716.001316"},{"type":"message","user":"U10Q62R8X","text":"some sort of way to redeploy same contract (i.e. different executable under same name?)","ts":"1463164718.001317"},{"type":"message","user":"U0TFEHX8E","text":"<@U10Q62R8X>: The issue is at <https:\/\/github.com\/hyperledger\/fabric\/issues\/1133>. <@U0ULK2JPP> may have more details written down somewhere else or a public branch","edited":{"user":"U0TFEHX8E","ts":"1463164818.000000"},"ts":"1463164814.001318"},{"type":"message","user":"U0KPFAZNF","text":"<@U0TFEHX8E>: i see your point","ts":"1463164826.001321"},{"type":"message","user":"U0KPFAZNF","text":"ultimately its not a huge deal, i can see both arguments","ts":"1463164882.001322"},{"type":"message","user":"U0KPFAZNF","text":"(today it isnt just dev-env, but perhaps eventually it will be)","ts":"1463164895.001323"},{"type":"message","user":"U0KPFAZNF","text":"we can leave it under dev-env if you prefer","ts":"1463164907.001324"},{"type":"message","user":"U0KPFAZNF","text":"i guess what bothered me about leaving it is it seemed wrong to have the new auto provisioner reach into .\/devenv\/.. to do its work","ts":"1463164947.001325"},{"type":"message","user":"U0KPFAZNF","text":"but its not a huge deal","ts":"1463164977.001326"},{"type":"message","user":"U0KPFAZNF","text":"on the image side point, I do wonder how much that will matter given that docker is pretty good about storage efficiency","ts":"1463165050.001327"},{"type":"message","user":"U0KPFAZNF","text":"e.g. whether the image is 50M or 500M, it will scale by the delta of each chaincode, not the 50\/500","ts":"1463165095.001328"},{"type":"message","user":"U0KPFAZNF","text":"it will impact the inital download, though","ts":"1463165118.001329"},{"type":"message","user":"U0TFEHX8E","text":"agreed on size. I think it\u2019s more a perspective of less stuff = better because there\u2019s less complexity\/risk in my container?","ts":"1463165181.001330"},{"type":"message","user":"U0KPFAZNF","text":"yes, that is certainly true","ts":"1463165193.001331"},{"type":"message","user":"U0KPFAZNF","text":"you might need go, jvm, chaintool, whatever to build it, but once its built, none of that stuff should matter much","ts":"1463165230.001332"},{"type":"message","user":"U0KPFAZNF","text":"you just want the bare minimum so that \"docker run -it chaincode-image chaincode-binary\u201d can do its thing","ts":"1463165269.001333"},{"type":"message","user":"U0TFEHX8E","text":"I need to understand the new auto provisioner. Is this in your PR?","ts":"1463165278.001334"},{"type":"message","user":"U0KPFAZNF","text":"yeah, last patch","ts":"1463165285.001335"},{"type":"message","user":"U0KPFAZNF","text":"basically, it just says \u201cif I cant find the baseimage with docker-pull, build it\"","ts":"1463165299.001336"},{"type":"message","user":"U0KPFAZNF","text":"i wanted to un-gate people from dockerhub publication","ts":"1463165333.001337"},{"type":"message","user":"U0KPFAZNF","text":"particularly important for multi-arch, but could be used, for instance, for someone testing baseimage changes","ts":"1463165378.001338"},{"type":"message","user":"U0KPFAZNF","text":"even within an $arch that is supported","ts":"1463165403.001339"},{"type":"message","user":"U0KPFAZNF","text":"it throws a big WARNING to the log when this happens, though","ts":"1463165427.001340"},{"type":"message","user":"U0TFEHX8E","text":"I see. but in production, if I changed the chaincode docker file in core.yaml to something other than the base image, that would never run, correct?","ts":"1463165428.001341"},{"type":"message","user":"U0KPFAZNF","text":"correct, this only happens via the makefile plumbing","ts":"1463165454.001342"},{"type":"message","user":"U10Q62R8X","text":"in 'C-speak', you want to statically link all your libraries into your executable, so you can move it anywhere.. not sure yet what that means in GO, but once compiled.. not sure you need much of an OS anyway","ts":"1463165454.001343"},{"type":"message","user":"U0KPFAZNF","text":"if you say \u201cmake\u201d with a target that needs a baseimage, and the baseimage cannot be found, it will try to compile it locally","ts":"1463165471.001344"},{"type":"message","user":"U0KPFAZNF","text":"<@U10Q62R8X>: yah, for go that is probably largely true\u2026there might be some ABI linkage to some .sos (rocksdb comes to mind)","ts":"1463165515.001345"},{"type":"message","user":"U0TFEHX8E","text":"that makes sense. It still seems like a dev mode thing to me. Not sure I understand \"bothered me about leaving it is it seemed wrong to have the new auto provisioner reach into .\/devenv\/.. to do its work\"","ts":"1463165516.001346"},{"type":"message","user":"U0KPFAZNF","text":"<@U0TFEHX8E>: what I meant was this part:","ts":"1463165533.001347"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/ghaskins\/hyperledger-fabric\/blob\/multi-arch-substrate-v1\/scripts\/provision\/docker.sh#L64>","attachments":[{"service_name":"GitHub","title":"ghaskins\/hyperledger-fabric","title_link":"https:\/\/github.com\/ghaskins\/hyperledger-fabric\/blob\/multi-arch-substrate-v1\/scripts\/provision\/docker.sh#L64","text":"hyperledger-fabric - Blockchain fabric code","fallback":"GitHub: ghaskins\/hyperledger-fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/ghaskins\/hyperledger-fabric\/blob\/multi-arch-substrate-v1\/scripts\/provision\/docker.sh#L64","thumb_width":400,"thumb_height":400,"id":1}],"ts":"1463165569.001348"},{"type":"message","user":"U0KPFAZNF","text":"it seemed \u201cwrong\u201d for the docker auto-provisioner to reach into .\/devenv\/baseimage to do the make (I equate \u201cdevenv\u201d with vagrant)","ts":"1463165618.001350"},{"type":"message","user":"U0KPFAZNF","text":"but like I said, its a minor niggle","ts":"1463165628.001351"},{"type":"message","user":"U0TFEHX8E","text":"ah, understood. thanks","ts":"1463165671.001352"},{"type":"message","user":"U0KPFAZNF","text":"Reviewing that made me realize there is a missing error check, I just annotated the PR","ts":"1463165995.001353"},{"type":"message","user":"U0KPFAZNF","text":"ill let you finish the review as is, but that should get fixed before merging","ts":"1463166021.001354"},{"type":"message","user":"U0TFEHX8E","text":"what about instead of a \/baseimage folder, we have a \/images\/baseimage folder and then we could expand in the future if we want?","ts":"1463166461.001355"},{"type":"message","user":"U0KPFAZNF","text":"i like that","ts":"1463166472.001356"},{"type":"message","user":"U0KPFAZNF","text":"ill make a v2 with that change, the error-check fix, and whatever else you find\u2026let me know when you are done with reviewing v1 so I can incorporate all feedback","ts":"1463166538.001357"},{"type":"message","user":"U0KPFAZNF","text":"do you like .\/images\/base better?","ts":"1463166563.001358"},{"type":"message","user":"U0KPFAZNF","text":"or stick with baseimages","ts":"1463166569.001359"},{"type":"message","user":"U0TFEHX8E","text":"agreed, \/images\/base sounds better","ts":"1463166667.001360"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1463166673.001361"},{"type":"message","user":"U0TFEHX8E","text":"done with review. That was my only comment. I added a comment to the PR with a summary of our discussion","ts":"1463167078.001362"},{"type":"message","user":"U0KPFAZNF","text":"ok, sounds good, thank you","ts":"1463167100.001363"},{"user":"U13TWBRBL","type":"message","subtype":"channel_join","text":"<@U13TWBRBL|jzhang> has joined the channel","ts":"1463170864.001364"},{"user":"U1802P5D3","type":"message","subtype":"channel_join","text":"<@U1802P5D3|jianzhang98> has joined the channel","ts":"1463262676.001365"},{"user":"U197CR6BF","type":"message","subtype":"channel_join","text":"<@U197CR6BF|guglielmo_n> has joined the channel","ts":"1463414434.001366"},{"user":"U196R0LA2","type":"message","subtype":"channel_join","text":"<@U196R0LA2|mikezaccardo> has joined the channel","ts":"1463417525.001367"},{"type":"message","user":"U0KPFAZNF","text":"<@U0N1D1UAE>: I was meaning to follow up with you on your busywork pre-reqs (tcl, etc)","ts":"1463437209.001368"},{"type":"message","user":"U0KPFAZNF","text":"i assume that is still a loose end","ts":"1463437218.001369"},{"type":"message","user":"U0N1D1UAE","text":"Yes","ts":"1463437920.001370"},{"type":"message","user":"U0N1D1UAE","text":"<@U0KPFAZNF> yes, I can include the changes when I submit the PR, or we can do it ahead of time","ts":"1463437978.001371"},{"type":"message","user":"U0N1D1UAE","text":"sudo apt-get -y install tcl tclx tcllib","ts":"1463438131.001372"},{"type":"message","user":"U0N1D1UAE","text":"<!channel> - Here is a worthwhile puzzle (in my opinion) whose solution may streamline the development environment. Is there a way to set up Docker-compose networks that will not require the hyperledger-fabric image  to *ever* be rebuilt as the peer and membersrvc are updated during develoment? I\u2019m thinking, can we use Docker volumes to simply mount a common GOPATH into the container instead of rebuilding the GOPATH?","ts":"1463438458.001373"},{"type":"message","user":"U0KPFAZNF","text":"cool, where did you put them?","ts":"1463438459.001374"},{"type":"message","user":"U0N1D1UAE","text":"I didn\u2019t put them in yet","ts":"1463438478.001375"},{"type":"message","user":"U0KPFAZNF","text":"ok\u2026right now we have scripts\/provision\/common.sh\u2026.if you put them there they will get installed under vagrant\/travis\/docker\u2026.it sounds like for this it would be ideal to exclude docker","ts":"1463438525.001376"},{"type":"message","user":"U0KPFAZNF","text":"i had split out a provision\/hosts.sh at one point but the PR was dropped\u2026that would have been a closer approximation to what you want","ts":"1463438548.001377"},{"type":"message","user":"U0KPFAZNF","text":"with the intention that only host-specific things go in there, and then vagrant\/travis\/etc call hosts (which calls common)","ts":"1463438577.001378"},{"type":"message","user":"U0KPFAZNF","text":"we\u2019ll still need to sort out $arch\/$distro specific things but that would get you closer","ts":"1463438614.001379"},{"type":"message","user":"U0N1D1UAE","text":"Are you saying you want me to add hosts.sh?","ts":"1463438753.001380"},{"type":"message","user":"U0N1D1UAE","text":"Left to my own devices I would add the apt-get in setup.sh","edited":{"user":"U0N1D1UAE","ts":"1463438945.000000"},"ts":"1463438905.001381"},{"type":"message","user":"U10Q62R8X","text":"with apt-get and yum, I am hoping we can contain the issues to just $distro, rather then $arch\/$distro.. though in many cases the distro repo dont have the packages needed..","ts":"1463439035.001384"},{"type":"message","user":"U10Q62R8X","text":"in my mind its better to put an if ($arch) in that case, so that the enviroment is as close across arches as possible","ts":"1463439070.001385"},{"type":"message","user":"U10Q62R8X","text":"(i.e. if ($arch=390) build tcl...)","ts":"1463439090.001386"},{"type":"message","user":"U0N1D1UAE","text":"<@U10Q62R8X>: have you and <@U0KPFAZNF> discussed how\/where to add $arch?","ts":"1463439359.001387"},{"type":"message","user":"U10Q62R8X","text":"not in exacting detail.. in my mind setup.sh we have for vagrant could be apropriated for deb-based installs.. and the setupLinuxOne.sh for RHEL\/rpm based installs","ts":"1463439706.001388"},{"type":"message","user":"U0N1D1UAE","text":"<@U0KPFAZNF> I agree we don\u2019t need Tcl in Docker. apt-get in the vagrant environment is smart enough to do the right thing when I ask for \u201ctcl tclx tcllib\u201d. I propose to add them in setup.sh, and if they later want to run these tests from Travis they can easily add that dependendency.","ts":"1463522634.001389"},{"type":"message","user":"U0KPFAZNF","text":"<@U0N1D1UAE>: I am fine with that, but let me ask you this:  would anyone want\/need to run busywork\/tcl aside from within vagrant?  This would include travis or custom dev-envs, etc","ts":"1463528140.001390"},{"type":"message","user":"U0KPFAZNF","text":"if not, setup.sh is fine for now","ts":"1463528165.001391"},{"type":"message","user":"U0KPFAZNF","text":"but if so, I suggest 1) add .\/scripts\/provision\/host.sh which calls common.sh, 2) update setup.sh + .travis.yml to s\/common.sh\/host.sh, and 3) do the apt-get installs in host.sh","ts":"1463528232.001392"},{"type":"message","user":"U0N1D1UAE","text":"I don\u2019t see travis.yaml calling common.sh","ts":"1463528298.001393"},{"type":"message","user":"U0KPFAZNF","text":"I eventually want to start moving most of the apt-get type stuff out of setup.sh (e.g. docker-compose) there, this seems like a good excuse to get it started","ts":"1463528306.001394"},{"type":"message","user":"U0KPFAZNF","text":"hmm, right that was in the PR that never got merged","ts":"1463528316.001395"},{"type":"message","user":"U0KPFAZNF","text":"i cant keep it straight anymore, heh","ts":"1463528333.001396"},{"type":"message","user":"U0KPFAZNF","text":"i think it was 1327","ts":"1463528342.001397"},{"type":"message","user":"U0N1D1UAE","text":"I hope they will run it from Travis","ts":"1463528345.001398"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric\/pull\/1327\/files>","attachments":[{"service_name":"GitHub","title":"Add a common &quot;host.sh&quot; for sharing provisioning logic by ghaskins \u00b7 Pull Request #1327 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1327\/files","text":"Travis is missing the protoc compiler, so this starts to incorporate a shared facility to keep travis updated along with vagrant. It can be exploited by other hosting environments too. (possible)...","fallback":"GitHub: Add a common \"host.sh\" for sharing provisioning logic by ghaskins \u00b7 Pull Request #1327 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1327\/files","thumb_width":400,"thumb_height":400,"id":1}],"ts":"1463528391.001399"},{"type":"message","user":"U0KPFAZNF","text":"except in the new model, I think travis\/vagrant should only be calling host.sh","ts":"1463528410.001401"},{"type":"message","user":"U0KPFAZNF","text":"(it was calling all three in that PR, but its stale now)","ts":"1463528420.001402"},{"type":"message","user":"U0N1D1UAE","text":"Is this the only thing in host.sh","ts":"1463528462.001403"},{"type":"message","user":"U0KPFAZNF","text":"if its a hassle, i am fine with setup.sh","ts":"1463528463.001404"},{"type":"message","user":"U0KPFAZNF","text":"well, docker-compose comes to mind as something we can move too","ts":"1463528477.001405"},{"type":"message","user":"U0KPFAZNF","text":"theres probably others","ts":"1463528481.001406"},{"type":"message","user":"U0N1D1UAE","text":"It\u2019s not too bad, I\u2019ll do it","ts":"1463528499.001407"},{"type":"message","user":"U0KPFAZNF","text":"basically looking for commonality in the setups","ts":"1463528502.001408"},{"user":"U11EUGQF3","type":"message","subtype":"channel_join","text":"<@U11EUGQF3|narikiyoy> has joined the channel","ts":"1463565231.001409"},{"type":"message","user":"U13TWBRBL","text":"<!here|@here> has anybody been able to get a go debugger working in the dev environment? been experimenting delve (<https:\/\/github.com\/derekparker\/delve\/>) in vagrant, got it set up and could launch \u201cpeer\u201d with \u201cdlv debug\", but couldn\u2019t figure out how to pass the parameters for it, eg \"node start \u2014peer-chaincodedev\"","attachments":[{"service_name":"GitHub","title":"derekparker\/delve","title_link":"https:\/\/github.com\/derekparker\/delve\/","text":"delve - Delve is a debugger for the Go programming language.","fallback":"GitHub: derekparker\/delve","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/1314079?v=3&s=400","from_url":"https:\/\/github.com\/derekparker\/delve\/","thumb_width":400,"thumb_height":400,"id":1}],"ts":"1463576227.001410"},{"type":"message","user":"U13TWBRBL","text":"this one seems to be promising: <https:\/\/github.com\/derekparker\/delve\/issues\/178>, trying it out...","attachments":[{"service_name":"GitHub","title":"doc request: how to pass arguments to the running program? \u00b7 Issue #178 \u00b7 derekparker\/delve \u00b7 GitHub","title_link":"https:\/\/github.com\/derekparker\/delve\/issues\/178","text":"This is the basics. I can't find how to tell delve what command line arguments to pass to the executable being debugged. In gdb, I would do \"set args my.input.file.name\", to have argv[1] set to my...","fallback":"GitHub: doc request: how to pass arguments to the running program? \u00b7 Issue #178 \u00b7 derekparker\/delve","thumb_url":"https:\/\/avatars0.githubusercontent.com\/u\/445247?v=3&s=400","from_url":"https:\/\/github.com\/derekparker\/delve\/issues\/178","thumb_width":400,"thumb_height":400,"id":1}],"ts":"1463576469.001412"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric\/wiki\/Go-Development-Portal>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/wiki\/Go-Development-Portal","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/wiki\/Go-Development-Portal","thumb_width":142,"thumb_height":142,"id":1}],"ts":"1463576882.001414"},{"type":"message","user":"U0KPFAZNF","text":"I think you want the \"--\" switch","ts":"1463576898.001416"},{"type":"message","user":"U0KPFAZNF","text":"Eg dlv debug peer -- node start","ts":"1463576935.001417"},{"type":"message","user":"U0KPFAZNF","text":"Iirc","ts":"1463576948.001418"},{"type":"message","user":"U13TWBRBL","text":"yes that seems to get me past the launch, but still not quite working. i\u2019m setting it up for the event listener scenario (<https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/examples\/events\/block-listener>)","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/examples\/events\/block-listener","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/examples\/events\/block-listener","thumb_width":142,"thumb_height":142,"id":1}],"ts":"1463579505.001419"},{"type":"message","user":"U13TWBRBL","text":"i was able  to launch \"CORE_LOGGING_LEVEL=debug dlv debug -- node start --peer-chaincodedev\u201d and get to the dlv console prompt, but the peer program doesn\u2019t seem to be running, because when I tried to get the chaincode process to connect to it (CORE_CHAINCODE_ID_NAME=mycc CORE_PEER_ADDRESS=0.0.0.0:30303 .\/chaincode_example02), it timed out","ts":"1463579508.001421"},{"type":"message","user":"U0KPFAZNF","text":"It works like gdb.... That is, it starts up without the code running","ts":"1463579722.001422"},{"type":"message","user":"U0KPFAZNF","text":"Hit \"c\" to continue","ts":"1463579736.001423"},{"type":"message","user":"U0KPFAZNF","text":"They do that so you have a chance to set break points ","ts":"1463579801.001424"},{"type":"message","user":"U13TWBRBL","text":"ah ok, did look for a command like that to get the program going, couldn\u2019t find that in \u201chelp\u201d, trying that now","ts":"1463579922.001425"},{"type":"message","user":"U13TWBRBL","text":"(actually i missed that in help: continue (alias: c) --------- Run until breakpoint or program termination.)","ts":"1463580053.001426"},{"type":"message","user":"U13TWBRBL","text":"working now, thanks <@U0KPFAZNF>","ts":"1463580062.001427"},{"type":"message","user":"U0KPFAZNF","text":"Rule of thumb:  if your debugger has a prompt, your program is paused","ts":"1463581461.001428"},{"type":"message","user":"U0KM61BCP","text":"<https:\/\/blog.docker.com\/2016\/03\/docker-for-mac-windows-beta\/>","attachments":[{"service_name":"Docker Blog","title":"Docker for Mac and Windows Beta: the simplest way to use Docker on your laptop","title_link":"https:\/\/blog.docker.com\/2016\/03\/docker-for-mac-windows-beta\/","text":"To celebrate Docker\u2019s third birthday, today we start a limited availability beta program for Docker for Mac and Docker for Windows, an integrated, easy-to-deploy environment for building, ass\u2026","fallback":"Docker Blog: Docker for Mac and Windows Beta: the simplest way to use Docker on your laptop","thumb_url":"https:\/\/blog.docker.com\/wp-content\/uploads\/docker_for_mac_beta.png","ts":1458824440,"from_url":"https:\/\/blog.docker.com\/2016\/03\/docker-for-mac-windows-beta\/","thumb_width":330,"thumb_height":505,"id":1}],"ts":"1463585319.001429"},{"type":"message","user":"U0KM61BCP","text":"this is now open source","ts":"1463585336.001431"},{"type":"message","user":"U13TWBRBL","text":"i think it\u2019s still in closed beta, i signed up earlier from an email (to all docker hub accounts I think) and was waitlisted","ts":"1463587648.001432"},{"type":"message","user":"U13TWBRBL","text":"<https:\/\/beta.docker.com\/>","ts":"1463587816.001433"},{"type":"message","user":"U0KM61BCP","text":"I think that posture may change soon","ts":"1463587820.001434"},{"type":"message","user":"U0KM61BCP","text":"solomon actually made the github repos for the new capability public on stage","ts":"1463587838.001435"},{"type":"message","user":"U0KM61BCP","text":"and there will be a hue and cry for them to open it up","ts":"1463587852.001436"},{"type":"message","user":"U13TWBRBL","text":"yes indeed, i can\u2019t wait to have access","ts":"1463587858.001437"},{"type":"message","user":"U0N1D1UAE","text":"<@U0KPFAZNF> .travis.yml has changed quite a bit since your PR 1327. Do you still want me to add docker.sh and common.sh in the \u201cinstall\u201d section?","ts":"1463597936.001438"},{"type":"message","user":"U0KPFAZNF","text":"<@U0N1D1UAE>: no, just host.sh, and host.sh should call common.sh (presumably at the top so the rest of host may capitalize on the already fresh apt-get update","ts":"1463598050.001439"},{"type":"message","user":"U0KPFAZNF","text":"docker.sh is now managed by make, so it can skip travis.yml outright","ts":"1463598066.001440"},{"type":"message","user":"U0KPFAZNF","text":"when we spoke, I didnt realize you already had a PR outstanding though","ts":"1463598133.001441"},{"type":"message","user":"U0KPFAZNF","text":"i am fine if you want to just merge that and I can take care of the hosts thing later","ts":"1463598148.001442"},{"type":"message","user":"U0N1D1UAE","text":"OK - Thanks!","ts":"1463598167.001443"},{"type":"message","user":"U0N1D1UAE","text":"I\u2019ll keep working on the busywork PR then","ts":"1463598199.001444"},{"type":"message","user":"U0KPFAZNF","text":"done","ts":"1463598354.001445"},{"type":"message","user":"U0KPFAZNF","text":"<@U0TFEHX8E>: any thoughts on #1502?  If possible, please consider merging ASAP so I can unblock <@U10Q62R8X>\u2019 z work","ts":"1463598396.001446","reactions":[{"name":"+1","users":["U10Q62R8X"],"count":1}]},{"type":"message","user":"U0N1D1UAE","text":"<@U0KPFAZNF> I am setting up busywork as hyperledger\/fabric\/tools\/busywork - is that still the plan?","ts":"1463599598.001447","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"I propose bddtests should probably move down there too, though not sure you want to tackle that or let the bdd owners decide","ts":"1463599793.001448"},{"type":"message","user":"U0KPFAZNF","text":"but once that is in place, I plan on stealing your busywork HIP and proposing it should be \/tools\/chaintool","ts":"1463599823.001449"},{"type":"message","user":"U0KPFAZNF","text":"on a related topic, I looked into removing the :bootclasspath but it really hurt performance","ts":"1463599875.001450"},{"type":"message","user":"U0KPFAZNF","text":"not sure what to do","ts":"1463599878.001451"},{"type":"message","user":"U0N1D1UAE","text":"What is HIP?","ts":"1463599895.001452"},{"type":"message","user":"U0KPFAZNF","text":"Hyperledger Inclusion Proposal","ts":"1463599903.001453"},{"type":"message","user":"U0KPFAZNF","text":"i thought thats what you filed for busywork, i might be confused","ts":"1463599915.001454"},{"type":"message","user":"U0N1D1UAE","text":"Right, that was so long ago\u2026.","ts":"1463599933.001455"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1463599938.001456"},{"type":"message","user":"U0KPFAZNF","text":"an ugly wart of clojure is its startup time is atrocious.  For most things like long running server applications, thats not much of an issue, but it impacts command-line apps in the worst way","ts":"1463600000.001457"},{"type":"message","user":"U0KPFAZNF","text":":bootclasspath supposedly is only supported in java 1.8, but it does seem to make a performance difference even when I target 1.7 ABI","ts":"1463600026.001458"},{"type":"message","user":"U0KPFAZNF","text":"(because thats what trusty provides by default)","ts":"1463600048.001459"},{"type":"message","user":"U0KPFAZNF","text":"so with, its like 2 seconds to start, without its over 3.5","ts":"1463600067.001460"},{"type":"message","user":"U0KPFAZNF","text":"but with, ibm-jre blows up","ts":"1463600075.001461"},{"type":"message","user":"U0N1D1UAE","text":"Java considered harmful","ts":"1463600090.001462"},{"type":"message","user":"U0KPFAZNF","text":"not sure what to do","ts":"1463600093.001463"},{"type":"message","user":"U0KPFAZNF","text":"haha, java the language, for sure","ts":"1463600109.001464"},{"type":"message","user":"U0N1D1UAE","text":"I have to admit I don\u2019t know what :bootclasspath means","ts":"1463600129.001465"},{"type":"message","user":"U0N1D1UAE","text":"buut 2 vs. 3,5 doesn\u2019t sound *that* bad","ts":"1463600143.001466"},{"type":"message","user":"U0KPFAZNF","text":"im no expert, but its something to do with optimizing how the system injests CP items at JVM startup","ts":"1463600165.001467"},{"type":"message","user":"U0TFEHX8E","text":"does #1502 require people to run `vagrant destroy` `vagrant up`?","ts":"1463602563.001468"},{"type":"message","user":"U0TFEHX8E","text":"<@U0KPFAZNF>: ^^^","ts":"1463602580.001469"},{"type":"message","user":"U0KPFAZNF","text":"i dont think so, let me just review real quick","ts":"1463602616.001470"},{"type":"message","user":"U0KPFAZNF","text":"no, i think it should be fine","ts":"1463602665.001471"},{"type":"message","user":"U0KPFAZNF","text":"(in fact, people don\u2019t need to vagrant destroy much at all any more because of the new makefile)","ts":"1463602687.001472"},{"type":"message","user":"U0KPFAZNF","text":"but thats irrelevant here, shouldnt need a cycle","ts":"1463602700.001473"},{"type":"message","user":"U0KPFAZNF","text":"<@U0TFEHX8E>:","ts":"1463602733.001474"},{"type":"message","user":"U0TFEHX8E","text":"<@U0KPFAZNF>: Is it re-pulling the base image the first time I run the tests?\nok  \t<http:\/\/github.com\/hyperledger\/fabric\/core\/chaincode|github.com\/hyperledger\/fabric\/core\/chaincode>\t544.360s\nseemed slower than usual","ts":"1463603744.001475"},{"type":"message","user":"U0TFEHX8E","text":"I\u2019ll run them again to see if it speeds up the second time around","ts":"1463603764.001476"},{"type":"message","user":"U0KPFAZNF","text":"if you just vagrant-destroy\/up it would, but otherwise should have been cached","ts":"1463603782.001477"},{"type":"message","user":"U0KPFAZNF","text":"<@U0TFEHX8E>: still seeing a slow down?","ts":"1463606414.001478"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1A1YR38A\/-.sh|Untitled> and commented: This is what I see when running it:  gets to BUILD-CACHE: Success in a split second","file":{"id":"F1A1YR38A","created":1463606494,"timestamp":1463606494,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0KPFAZNF","editable":true,"size":631,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1A1YR38A\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1A1YR38A\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1A1YR38A\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1A1YR38A-bbf854c424","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1A1YR38A\/-.sh\/edit","preview":"vagrant@hyperledger-devenv:v0.0.9-5679666:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ make clean peer\r\nBuilding docker base-image\r\nBUILD-CACHE: Pulling \"hyperledger\/fabric-baseimage:x86_64-0.0.9\" from dockerhub..\r\nx86_64-0.0.9: Pulling from hyperledger\/fabric-baseimage\r\n6599cadaf950: Already exists\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>vagrant@hyperledger-devenv:v0.0.9-5679666:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric<span class=\"cm-def\">$ make<\/span> clean peer<\/pre><\/div>\n<div><pre>Building docker base-image<\/pre><\/div>\n<div><pre>BUILD-CACHE: Pulling <span class=\"cm-string\">&quot;hyperledger\/fabric-baseimage:x86_64-0.0.9&quot;<\/span> from dockerhub..<\/pre><\/div>\n<div><pre>x86_64-0.0.9: Pulling from hyperledger\/fabric-baseimage<\/pre><\/div>\n<div><pre>6599cadaf950: Already exists<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":13,"lines_more":8,"preview_is_truncated":null,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc1A1JS7LG","created":1463606494,"timestamp":1463606494,"user":"U0KPFAZNF","is_intro":true,"comment":"This is what I see when running it:  gets to BUILD-CACHE: Success in a split second","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1463606495.001479"},{"type":"message","user":"U0TFEHX8E","text":"yes, may just be my system. I want to try with master to be sure","ts":"1463607135.001480"},{"type":"message","user":"U0TFEHX8E","text":"seems like my vagrant is always up against the 4gb mem limit now. Maybe that\u2019s part of the problem","edited":{"user":"U0TFEHX8E","ts":"1463607213.000000"},"ts":"1463607205.001481"},{"type":"message","user":"U0TFEHX8E","text":"same speed on the master branch so no slowdown from your PR","ts":"1463608088.001483"},{"type":"message","user":"U0KPFAZNF","text":"ok, it seems to be general internet slowness for me","ts":"1463608222.001484"},{"type":"message","user":"U0KPFAZNF","text":"pulling down the apt-get packages","ts":"1463608226.001485"},{"type":"message","user":"U0KPFAZNF","text":"and yeah, we are bumping against that 4g for a while now","ts":"1463608251.001486"},{"type":"message","user":"U0KPFAZNF","text":"not sure what to do, we could bump it higher but not sure everyone has 8g+ machines to test with","ts":"1463608280.001487"},{"type":"message","user":"U0KPFAZNF","text":"maybe we can make a knob, default higher but allow override","ts":"1463608293.001488"},{"user":"U0UFDAS91","type":"message","subtype":"channel_leave","text":"<@U0UFDAS91|christophera> has left the channel","ts":"1463616077.001489"},{"user":"U115YGEH1","type":"message","subtype":"channel_join","text":"<@U115YGEH1|mtakemiya> has joined the channel","ts":"1463646587.001490"},{"type":"message","user":"U0KPFAZNF","text":"<!here|@here> does anyone understand why we remap port 5000 to 3000 in vagrant?","ts":"1463657941.001491"},{"type":"message","user":"U0KPFAZNF","text":"I ask because those of us developing clients are then left with the dilemma of picking a sensible default targeting either native or vagrant\u2026if theres a good reason for the remap then so be it\u2026but if not, it seems it would make more sense to set them the same.","ts":"1463658050.001492"},{"type":"message","user":"U11HTMW0H","text":"<@U0KPFAZNF>: I am not a fan of the mapping.   It has caused confusion for new engineers.","edited":{"user":"U11HTMW0H","ts":"1463666747.000000"},"ts":"1463666730.001493"},{"type":"message","user":"U0KPFAZNF","text":"i would at least like to understand why its there","ts":"1463666763.001495"},{"type":"message","user":"U0KPFAZNF","text":"perhaps there was a reason that is not apparent","ts":"1463666771.001496"},{"user":"U18UG9K9S","type":"message","subtype":"channel_join","text":"<@U18UG9K9S|adriano> has joined the channel","ts":"1463668133.001497"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0KPFAZNF> that's a question for <@U0UKTPMG8> I believe","ts":"1463675801.001498"},{"type":"message","user":"U0UKTPMG8","text":"<@U0KPFAZNF>: <@U11HTMW0H> think it is simply a holdover from initial setup","ts":"1463676802.001499"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UKTPMG8>: ok, should we try to unify them?  I assume we should just map 5000-&gt;5000 but let me know if it should be the opposite.","ts":"1463678855.001500"},{"type":"message","user":"U0UKTPMG8","text":"believe that is accurate, as the core.yaml shows the REST address value of 0.0.0.0:5000","ts":"1463678888.001501"},{"type":"message","user":"U0UKTPMG8","text":"be sure to advertise this to <@U0Z81GL6S> as she uses this for much of her dev\/testing","ts":"1463678931.001502"},{"type":"message","user":"U0KPFAZNF","text":"ok, will do","ts":"1463678943.001503"},{"type":"message","user":"U0UKTPMG8","text":":slightly_smiling_face:","ts":"1463678966.001504"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1A95546Q\/-.sh|Untitled> and commented: <@U0TFEHX8E>: while working on this patch, I noticed we are doing a \u201cgo install -a\u201d for protoc-gen-go.  Do you know why?","file":{"id":"F1A95546Q","created":1463679823,"timestamp":1463679823,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0KPFAZNF","editable":true,"size":3808,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1A95546Q\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1A95546Q\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1A95546Q\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1A95546Q-817c1936e9","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1A95546Q\/-.sh\/edit","preview":"commit c376d078b6812a727822420a1f67783ecdd32f12\r\nAuthor: Gregory Haskins <gregory.haskins@gmail.com>\r\nDate:   Thu May 19 11:11:51 2016 -0400\r\n\r\n    Move go-tool compilation to the Makefile\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>commit c376d078b6812a727822420a1f67783ecdd32f12<\/pre><\/div>\n<div><pre>Author: Gregory Haskins &lt;gregory.haskins@gmail.com&gt;<\/pre><\/div>\n<div><pre>Date:   Thu May <span class=\"cm-number\">19<\/span> <span class=\"cm-number\">11<\/span>:11:51 <span class=\"cm-number\">2016<\/span> <span class=\"cm-attribute\">-0400<\/span><\/pre><\/div>\n<div><pre>&#8203;<\/pre><\/div>\n<div><pre>    Move go-tool compilation to the Makefile<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":115,"lines_more":110,"preview_is_truncated":null,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc1A9555MJ","created":1463679823,"timestamp":1463679823,"user":"U0KPFAZNF","is_intro":true,"comment":"<@U0TFEHX8E>: while working on this patch, I noticed we are doing a \u201cgo install -a\u201d for protoc-gen-go.  Do you know why?","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1463679823.001505"},{"type":"message","user":"U0KPFAZNF","text":"specifically, i mean why the -a switch","ts":"1463679876.001506"},{"type":"message","user":"U0KPFAZNF","text":"that works in the vagrant provisioner because it runs as root, but it doesnt run as a makefile rule without sudo","ts":"1463679901.001507"},{"type":"message","user":"U0TFEHX8E","text":"I don\u2019t remember and there may not be a good reason. I can try removing it later this afternoon or tomorrow and see if there\u2019s any impact","ts":"1463680426.001508"},{"type":"message","user":"U0TFEHX8E","text":"when running make protos","ts":"1463680437.001509"},{"type":"message","user":"U0KPFAZNF","text":"ok, cool\u2026i think you already understand this but just in case not:  without the patch above, that go-install happens during vagrant provisioning so you would need to destroy to pick it up","ts":"1463680591.001510"},{"type":"message","user":"U0KPFAZNF","text":"on a related note: we currently have some redundancy in \/etc\/profile.d\/gopath.sh and goroot.sh","ts":"1463680655.001511"},{"type":"message","user":"U0KPFAZNF","text":"im going to clean that up, but I think I will retain the CGO settings from gopath from now until we can be sure they can be safely removed","ts":"1463680699.001512"},{"type":"message","user":"U0KPFAZNF","text":"(in theory the makefile sets those now, but I am not sure if everyone is using make yet)","ts":"1463680716.001513"},{"type":"message","user":"U0KPFAZNF","text":"<@U0TFEHX8E>: I confirmed that it all seems to work even without the -a, at least via the new method","ts":"1463685561.001514"},{"type":"message","user":"U0KPFAZNF","text":"hmm, scratch that, the system booted ok, \u201cmake protos\u201d runs ok, but \u201cmake unit-test\u201d is failing with a suspect message","ts":"1463685649.001515"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1A8ZDF7V\/-.sh|Untitled>","file":{"id":"F1A8ZDF7V","created":1463685675,"timestamp":1463685675,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0KPFAZNF","editable":true,"size":482,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1A8ZDF7V\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1A8ZDF7V\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1A8ZDF7V\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1A8ZDF7V-a1b0581ace","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F1A8ZDF7V\/-.sh\/edit","preview":"vagrant@hyperledger-devenv:v0.0.9-988d37a:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ make unit-test\r\ngo test github.com\/hyperledger\/fabric\/core\/container -run=BuildImage_Peer\r\nok  \tgithub.com\/hyperledger\/fabric\/core\/container\t56.867s\r\nRunning unit-tests\r\npackage github.com\/hyperledger\/fabric\/OPATH\/src\/github.com\/golang\/protobuf\/protoc-gen-go\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>vagrant@hyperledger-devenv:v0.0.9-988d37a:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric<span class=\"cm-def\">$ make<\/span> unit-test<\/pre><\/div>\n<div><pre>go test github.com\/hyperledger\/fabric\/core\/container <span class=\"cm-attribute\">-run<\/span><span class=\"cm-operator\">=<\/span>BuildImage_Peer<\/pre><\/div>\n<div><pre>ok  \tgithub.com\/hyperledger\/fabric\/core\/container\t<span class=\"cm-number\">56<\/span>.867s<\/pre><\/div>\n<div><pre>Running unit-tests<\/pre><\/div>\n<div><pre>package github.com\/hyperledger\/fabric\/OPATH\/src\/github.com\/golang\/protobuf\/protoc-gen-go<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":8,"lines_more":3,"preview_is_truncated":null,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1463685676.001516"},{"type":"message","user":"U0KPFAZNF","text":"oh wait, that is just slop from development","ts":"1463685711.001517"},{"type":"message","user":"U0KPFAZNF","text":"(see the OPATH","ts":"1463685718.001518"},{"type":"message","user":"U0KPFAZNF","text":"yeah, everything is fine after I cleaned up the fs","ts":"1463686753.001519"},{"user":"U0Z81GL6S","type":"message","subtype":"channel_join","text":"<@U0Z81GL6S|anya> has joined the channel","ts":"1463688118.001520"},{"type":"message","user":"U0TFEHX8E","text":"<@U0KPFAZNF>:  ok, were you going to submit a PR to remove the -a or do you want me to?","ts":"1463690364.001521"},{"type":"message","user":"U0TFEHX8E","text":"Also, re the REST port question. I don\u2019t know, it has always been like that, but it bugs me also","ts":"1463690388.001522"},{"type":"message","user":"U0TFEHX8E","text":"Maybe <@U0Z81GL6S> or <@U0UKTPMG8> knows? Why is the REST port mapped from 3000 to 5000? Why not just map it to 3000 like the other forwarded ports in vagrant?","ts":"1463690459.001523"},{"type":"message","user":"U0UKTPMG8","text":"<@U0TFEHX8E>: just leftover from initial setup.  No specific reason.","ts":"1463690542.001524"},{"type":"message","user":"U0TFEHX8E","text":"nice, let\u2019s change it then. I\u2019ll probably need to update some docs. Anything else where 5000 would be hardcoded?","ts":"1463690611.001525"},{"type":"message","user":"U0Z81GL6S","text":"I agree with <@U0UKTPMG8> . I think it was just left over from when we first set this up. Map it to 3000 in vagrant. You will need to update the CoreAPI.md as well as the SandboxSetup.md files. ","ts":"1463690754.001526"},{"type":"message","user":"U0TFEHX8E","text":"<@U0Z81GL6S>: thanks! And welcome back! You have IO swag for all of us, right?? :slightly_smiling_face:","ts":"1463690810.001527"},{"type":"message","user":"U0Z81GL6S","text":"I'm still there :blush:. Back in office on Monday.","ts":"1463690854.001528"},{"type":"message","user":"U0TFEHX8E","text":"ah. have fun!","ts":"1463690877.001529"},{"type":"message","user":"U0Z81GL6S","text":"IO is Wed--Fri. #nerdfest ","ts":"1463690879.001530"},{"type":"message","user":"U0KPFAZNF","text":"<@U0TFEHX8E>: ill fix the -a in my upcoming makefile PR","ts":"1463692790.001531"},{"type":"message","user":"U0KPFAZNF","text":"regarding the port, note that the peer surfaces port 5000 and then vagrant remaps it to 3000 for clients outside devenv","ts":"1463692829.001532"},{"type":"message","user":"U0KPFAZNF","text":"i assume we want to retain 5000? or should the peer change its port too?","ts":"1463692851.001533"},{"type":"message","user":"U0KPFAZNF","text":"<@U0TFEHX8E>: im just wrapping up testing on this now: <https:\/\/github.com\/hyperledger\/fabric\/compare\/master...ghaskins:build-improvements-v1>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/compare\/master...ghaskins:build-improvements-v1","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/compare\/master...ghaskins:build-improvements-v1","thumb_width":142,"thumb_height":142,"id":1}],"ts":"1463693072.001534"},{"type":"message","user":"U0KPFAZNF","text":"that includes the -a change","ts":"1463693084.001536"},{"type":"message","user":"U0TFEHX8E","text":"oh, I guess I lived in node too long and assumed 3000 was default. How was 5000 chosen?","ts":"1463693241.001537"},{"type":"message","user":"U0TFEHX8E","text":"I\u2019m fine with keeping 5000","ts":"1463693445.001538"},{"type":"message","user":"U0KPFAZNF","text":"im not sure, thats why I was asking\u2026i dont care what it is really, my only pain was that my tool\u2019s defaults didnt work depending on whether I was inside or outside of vagrant","ts":"1463693552.001539"},{"type":"message","user":"U0TFEHX8E","text":"yup. Will just make 5000 -&gt; 5000 in the vagrantfile","ts":"1463693645.001540"},{"type":"message","user":"U10Q62R8X","text":"now that I got #1502 is in.. adding z support","ts":"1463699606.001541"},{"type":"message","user":"U10Q62R8X","text":"<https:\/\/github.com\/hyperledger\/fabric\/pull\/1525>","attachments":[{"service_name":"GitHub","title":"Linux on Z build support by vpaprots \u00b7 Pull Request #1525 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1525","text":"S390X build support Description Two parts: Top level makefile can be now run on z (docker tags sensitive to s390x) development on z is done on native OS, not in vagrant. Added a script to set i...","fallback":"GitHub: Linux on Z build support by vpaprots \u00b7 Pull Request #1525 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/16241882?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1525","thumb_width":400,"thumb_height":400,"id":1}],"ts":"1463699607.001542"},{"type":"message","user":"U10Q62R8X","text":"FYI: <@U0KPFAZNF> <@U0TFEHX8E> <@U123PQHLN>","ts":"1463699635.001544"},{"user":"U123PQHLN","inviter":"U10Q62R8X","type":"message","subtype":"channel_join","text":"<@U123PQHLN|gongsu> has joined the channel","ts":"1463699645.001545"},{"user":"U1A62D6F6","type":"message","subtype":"channel_join","text":"<@U1A62D6F6|goodjoon> has joined the channel","ts":"1463897796.001549"},{"type":"message","user":"U0KPFAZNF","text":"is anyone else having trouble getting vagrant up to work lately?","ts":"1464032805.001550"},{"type":"message","user":"U0KPFAZNF","text":"the last 24 hours or so, stalling on both my laptop and workstation\u2026im guessing its some kind of problem with ubuntu updates","ts":"1464032832.001551"},{"type":"message","user":"U0KPFAZNF","text":"nevermind, seems to be working again","ts":"1464033438.001552"},{"type":"message","user":"U0XPR4NP4","text":"<@U0KPFAZNF>: Worked for me this morning, though only after a halt","edited":{"user":"U0XPR4NP4","ts":"1464036331.000000"},"ts":"1464036317.001553"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XPR4NP4>: yeah, it seems like ubuntu updates are slow or something","ts":"1464038224.001555"},{"type":"message","user":"U0KPFAZNF","text":"<@U0TFEHX8E>: FYI, requested 1533 changes are in and tests are passing","ts":"1464038260.001556"},{"type":"message","user":"U0KPFAZNF","text":"your suggestion cleaned things up nicely, so thanks for that","ts":"1464038281.001557"},{"type":"message","user":"U0TFEHX8E","text":"<@U0KPFAZNF>: thanks, trying to verify, but running into some weird issues locally. Think I just need a restart. Should be able to finish up tomorrow","ts":"1464040314.001558"},{"type":"message","user":"U0KPFAZNF","text":"np, thanks","ts":"1464040325.001559"},{"type":"message","user":"U0KPFAZNF","text":"<@U0TFEHX8E>: FYI, i should probably respin all the base images to 0.0.10 since the s390x support modified the baseimage code\u2026but ill wait for 1533 to go in so I can use the new versioning facilities without conflict","ts":"1464122617.001560"},{"type":"message","user":"U0TFEHX8E","text":"I\u2019m working on 1533 now","ts":"1464122636.001561"},{"type":"message","user":"U0KPFAZNF","text":"technically the changes are a no-op for x86, but its most prudent to rebuild everything I think","ts":"1464122658.001562"},{"type":"message","user":"U0TFEHX8E","text":"<@U0KPFAZNF>: when I run `make unit-test` with 1533 and I see `docker: Error response from daemon: driver failed programming external connectivity on endpoint goofy_brahmagupta (fdf4fccd27b2b4c4305f00f612c4cf0b62bfd5a862a1392c06316f14a1ec4615): Bind for 0.0.0.0:30303 failed: port is already allocated.`","ts":"1464123382.001563"},{"type":"message","user":"U0TFEHX8E","text":"I haven\u2019t run `vagrant destroy` `vagrant up`. Is that required for this PR?","ts":"1464123403.001564"},{"type":"message","user":"U0KPFAZNF","text":"it sounds like you might have a peer already running?","ts":"1464123406.001565"},{"type":"message","user":"U0KPFAZNF","text":"no, but there is a bug in the make unit-test that may leave the peer running from a previous session","ts":"1464123423.001566"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric\/issues\/1534>","attachments":[{"service_name":"GitHub","title":"&quot;make unit-test&quot; can leave docker-based peer instance running \u00b7 Issue #1534 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/issues\/1534","text":"Description The current Makefile will fire up a temporary peer instance during unit-test execution and then shut it down at the conclusion. However, if the unit-tests fail or are otherwise interr...","fallback":"GitHub: \"make unit-test\" can leave docker-based peer instance running \u00b7 Issue #1534 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/issues\/1534","thumb_width":400,"thumb_height":400,"id":1}],"ts":"1464123443.001567"},{"type":"message","user":"U0KPFAZNF","text":"check \u201cdocker ps\"","ts":"1464123447.001569"},{"type":"message","user":"U0KPFAZNF","text":"if one is still running, you can docker kill it","ts":"1464123473.001570"},{"type":"message","user":"U0KPFAZNF","text":"i plan on fixing 1534 ASAP","ts":"1464123485.001571"},{"type":"message","user":"U0TFEHX8E","text":"ok, my unit tests failed previously due to that obcpbft race condition","ts":"1464123513.001572"},{"type":"message","user":"U0KPFAZNF","text":"ok, that makes sense","ts":"1464123522.001573"},{"type":"message","user":"U0KPFAZNF","text":"i think what I will do for 1534 is move the logic out of the unit-test target into a script, and just have \u201cmake unit-test\u201d call the script.   That way I should be able to register an error handler in bash and have the docker cleaned up even if the test fails","ts":"1464123565.001574"},{"type":"message","user":"U0KPFAZNF","text":"but for now, docker ps\/kill is the workaround","ts":"1464123586.001575"},{"type":"message","user":"U0TFEHX8E","text":"what\u2019s the diff between kill and rm?","ts":"1464123603.001576"},{"type":"message","user":"U0KPFAZNF","text":"good question, im not sure","ts":"1464123612.001577"},{"type":"message","user":"U0KPFAZNF","text":"let me look into that","ts":"1464123618.001578"},{"type":"message","user":"U0TFEHX8E","text":"so I think `rm` stops and removes where as `kill` sends a kill signal and removes? And maybe `rm -f` is the same as `kill`?","ts":"1464124029.001579"},{"type":"message","user":"U0TFEHX8E","text":"lol, even the docker devs agree it\u2019s confusing <https:\/\/github.com\/docker\/docker\/issues\/6533>","edited":{"user":"U0TFEHX8E","ts":"1464124226.000000"},"ts":"1464124111.001580"},{"user":"U1BA8SSTG","type":"message","subtype":"channel_join","text":"<@U1BA8SSTG|pbottein> has joined the channel","ts":"1464183529.001584"},{"type":"message","subtype":"file_share","text":"<@U0UGH3X7X|tuand> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/tuand\/F1C11QEKV\/-.txt|Untitled> and commented: getting this error doing `make unit-test` ?   I'm running with my changes on top of <https:\/\/github.com\/hyperledger\/fabric\/commit\/f364dc027e3aac99dc7e19dfa435d6f794db2d03>","file":{"id":"F1C11QEKV","created":1464283325,"timestamp":1464283325,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UGH3X7X","editable":true,"size":585,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1C11QEKV\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1C11QEKV\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/tuand\/F1C11QEKV\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1C11QEKV-06ad8b661a","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/tuand\/F1C11QEKV\/-.txt\/edit","preview":"ok  \tgithub.com\/hyperledger\/fabric\/core\/chaincode\t317.707s\r\n?   \tgithub.com\/hyperledger\/fabric\/core\/chaincode\/platforms\t[no test files]\r\n?   \tgithub.com\/hyperledger\/fabric\/core\/chaincode\/platforms\/car\t[no test files]\r\n2016\/05\/26 12:07:14 setting Number of procs to -1, was 2\r\n--- FAIL: TestCar_BuildImage (0.01s)\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>ok      github.com\/hyperledger\/fabric\/core\/chaincode    317.707s<\/pre><\/div>\n<div><pre>?       github.com\/hyperledger\/fabric\/core\/chaincode\/platforms  [no test files]<\/pre><\/div>\n<div><pre>?       github.com\/hyperledger\/fabric\/core\/chaincode\/platforms\/car  [no test files]<\/pre><\/div>\n<div><pre>2016\/05\/26 12:07:14 setting Number of procs to -1, was 2<\/pre><\/div>\n<div><pre>--- FAIL: TestCar_BuildImage (0.01s)<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":9,"lines_more":4,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc1C2TL49Y","created":1464283325,"timestamp":1464283325,"user":"U0UGH3X7X","is_intro":true,"comment":"getting this error doing `make unit-test` ?   I'm running with my changes on top of <https:\/\/github.com\/hyperledger\/fabric\/commit\/f364dc027e3aac99dc7e19dfa435d6f794db2d03>","channel":""}},"user":"U0UGH3X7X","upload":true,"display_as_bot":false,"username":"<@U0UGH3X7X|tuand>","bot_id":null,"ts":"1464283326.001585"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UGH3X7X>: are you in vagrant or something else","ts":"1464284917.001588"},{"type":"message","user":"U0KPFAZNF","text":"?","ts":"1464284919.001589"},{"type":"message","user":"U0UGH3X7X","text":"in vagrant","ts":"1464284936.001590"},{"type":"message","user":"U0KPFAZNF","text":"ok, I _think_ I know whats wrong","ts":"1464284946.001591"},{"type":"message","user":"U0KPFAZNF","text":"work-around, do \u201cmake gotools unit-test\"","ts":"1464284968.001592"},{"type":"message","user":"U0KPFAZNF","text":"I suspect you did a \u201cmake clean\u201d prior to running the unit-test, I think there is a bug in the makefile that doesnt properly rebuild the protoc-gen-go tool","ts":"1464285010.001593"},{"type":"message","user":"U0KPFAZNF","text":"will fix","ts":"1464285013.001594"},{"type":"message","user":"U0UGH3X7X","text":"i did do a make clean beforehand :slightly_smiling_face:   will try your suggestion","ts":"1464285044.001595"},{"type":"message","user":"U0KPFAZNF","text":"(to be clear, you did nothing wrong, there is a bug)","ts":"1464285047.001596"},{"type":"message","user":"U0KPFAZNF","text":"ok, cool, this makes sense to me and I know what is wrong, thanks","ts":"1464285111.001597"},{"type":"message","user":"U0UGH3X7X","text":"`make gotools unit-test` works. Thanks <@U0KPFAZNF>","ts":"1464285773.001598"},{"user":"U1BLB3EFQ","type":"message","subtype":"channel_join","text":"<@U1BLB3EFQ|bc> has joined the channel","ts":"1464299412.001599"},{"user":"U14NC480K","type":"message","subtype":"channel_join","text":"<@U14NC480K|charles-cai> has joined the channel","ts":"1464355883.001600"},{"user":"U1DFU0M32","type":"message","subtype":"channel_join","text":"<@U1DFU0M32|chenhua> has joined the channel","ts":"1464840815.001601"},{"user":"U1E795PLG","type":"message","subtype":"channel_join","text":"<@U1E795PLG|starsheriff> has joined the channel","ts":"1465193121.000002"},{"user":"U1EEGQARJ","type":"message","subtype":"channel_join","text":"<@U1EEGQARJ|philippe> has joined the channel","ts":"1465226911.000003"},{"type":"message","user":"U12452RAP","text":"hi, currently i got a error when do make behave","ts":"1465283984.000004"},{"type":"message","user":"U12452RAP","text":"<https:\/\/github.com\/hyperledger\/fabric\/issues\/1736>","attachments":[{"service_name":"GitHub","title":"Error ocurr when execute behave test \u00b7 Issue #1736 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/issues\/1736","text":"Description when execute 'make behave', error ocurr. cd peer; CGO_CFLAGS=\" \" CGO_LDFLAGS=\"-lrocksdb -lstdc++ -lm -lz -lbz2 -lsnappy\" go build Running behave tests Feature: lanching 3 peers # peer...","fallback":"GitHub: Error ocurr when execute behave test \u00b7 Issue #1736 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars0.githubusercontent.com\/u\/3657859?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/issues\/1736","thumb_width":212,"thumb_height":212,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1465284069.000005"},{"type":"message","user":"U12452RAP","text":"i am in vagrant","ts":"1465284091.000007"},{"type":"message","user":"U0KPFAZNF","text":"<@U12452RAP>: seems to be having trouble with the docker-compose application itself","ts":"1465298926.000008"},{"type":"message","user":"U0KPFAZNF","text":"my only guess is that the vagrant provision failed and you didnt notice","ts":"1465298943.000009"},{"type":"message","user":"U0KPFAZNF","text":"try running docker-compose by itself","ts":"1465298955.000010"},{"type":"message","user":"U0KPFAZNF","text":"for instance, cd bddtests; docker-compose -f docker-compose-1.yml build","ts":"1465298999.000011"},{"type":"message","user":"U12452RAP","text":"<@U0KPFAZNF>: thanks, will try","ts":"1465303552.000012"},{"type":"message","user":"U0KPFAZNF","text":"if that fails, i would vagrant destroy\/up","ts":"1465303599.000013"},{"type":"message","user":"U12452RAP","text":"can vagrant up --provision instead, i don't want destroy as poor network","ts":"1465303690.000014"},{"type":"message","user":"U0KPFAZNF","text":"you can try that, but note that the scripts that the provisioner executes were not designed to be idempotent","ts":"1465305303.000015"},{"type":"message","user":"U0KPFAZNF","text":"so, YMMV","ts":"1465305310.000016"},{"type":"message","user":"U12452RAP","text":":scream:","ts":"1465305383.000017"},{"type":"message","user":"U1DFU0M32","text":"Perhaps docker-compose file is error.  My vagrant environment has same error happend at before.  The docker-compose file is zero size. If so, just reinstall the docker-compose, and make behave again.  <@U12452RAP>","ts":"1465311881.000018"},{"user":"U1D5P2DHD","type":"message","subtype":"channel_join","text":"<@U1D5P2DHD|randy> has joined the channel","ts":"1465326643.000019"},{"user":"U130QV7RB","type":"message","subtype":"channel_join","text":"<@U130QV7RB|mpage> has joined the channel","ts":"1465330743.000020"},{"type":"message","user":"U12452RAP","text":"<@U1DFU0M32>: thanks, i will check","ts":"1465347557.000021"},{"type":"message","user":"U12452RAP","text":"<@U1DFU0M32>: thanks, that is exactly you point, seems it caused by china network environment","ts":"1465354002.000022"},{"user":"U11NUTP4L","type":"message","subtype":"channel_join","text":"<@U11NUTP4L|srirama_sharma> has joined the channel","ts":"1465369551.000023"},{"type":"message","user":"U12AHQ3NK","text":"i am trying to connect two peers from different lap tops and one CA.. when i try to connect one peer with the root node (security enabled) it says x5.09 certificate is invalid or it is expired","ts":"1465480733.000024"},{"type":"message","user":"U0XR6J961","text":"i thought `make all` now was rebuilding peer image etc when required - doesn't seem it does?","ts":"1465574665.000025"},{"type":"message","user":"U0KPFAZNF","text":"well, it is supposed to _only_ build it if its needed\u2026are you saying you think it is needed and its failing to recognize this?","ts":"1465574960.000026"},{"type":"message","user":"U0KPFAZNF","text":"or are you just seeing it FAD?","ts":"1465574971.000027"},{"type":"message","user":"U0XR6J961","text":"it doesn't rebuild","ts":"1465575663.000028"},{"type":"message","user":"U0XR6J961","text":"because there is just a dummy file - how would it know to rebuild?","ts":"1465575677.000029"},{"type":"message","user":"U0KPFAZNF","text":"can you describe the problem in more detail?","ts":"1465575833.000030"},{"type":"message","user":"U0KPFAZNF","text":"the dummy file is predicated on things like the source files","ts":"1465575841.000031"},{"type":"message","user":"U0KPFAZNF","text":"so, if a source file changes, for instance, the dummy prerequisite is deemed stale and the target should rebuild","ts":"1465575869.000032"},{"type":"message","user":"U0XR6J961","text":"is that latest master?","ts":"1465575892.000033"},{"type":"message","user":"U0KPFAZNF","text":"if you are seeing that not be the case, i would want to know","ts":"1465575896.000034"},{"type":"message","user":"U0KPFAZNF","text":"yes","ts":"1465575899.000035"},{"type":"message","user":"U0XR6J961","text":"ah, i may be a bit below - i thought i rebased","ts":"1465575916.000036"},{"type":"message","user":"U0XR6J961","text":"sorry","ts":"1465575917.000037"},{"type":"message","user":"U0KPFAZNF","text":"see the \u201cbuild\/image\/*\/.dummy stuff starting here: <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/Makefile#L140>","edited":{"user":"U0KPFAZNF","ts":"1465576019.000000"},"ts":"1465575985.000038"},{"type":"message","user":"U0KPFAZNF","text":"in particular: <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/Makefile#L154>","edited":{"user":"U0KPFAZNF","ts":"1465576016.000000"},"ts":"1465576012.000040"},{"user":"U1FU2880L","type":"message","subtype":"channel_join","text":"<@U1FU2880L|gabelev> has joined the channel","ts":"1465585493.000044"},{"user":"U1CK6522F","type":"message","subtype":"channel_join","text":"<@U1CK6522F|zuowang> has joined the channel","ts":"1465905068.000002"},{"type":"message","user":"U0Q6DJC4W","text":"webdaford [3:20 PM]  \n...a quick note to announce the availability of a collection of\nAnsible playbooks that provision, configure and launch instances of\nthe Hyperledger Fabric using Consul, Docker, Docker Swarm and Docker\nCompose.\n\nThe easy to read and understand playbooks can be configured to launch\nan arbitrarily sized instance of the Fabric on an arbitrary set of\npreviously un-configured computers.  Ansible will take care of\nprovisioning the machines appropriately, and then will automatically\ngenerate a configuration file for Docker Compose to launch the Fabric\ninstance on Docker Swarm, all triggered with a single command.\n\n\nDan Ford\n<mailto:dan@keoja.com|dan@keoja.com>\nKeoja LLC\n\n<https:\/\/github.com\/keoja\/hyperledger-ansible>","attachments":[{"service_name":"GitHub","title":"keoja\/hyperledger-ansible","title_link":"https:\/\/github.com\/keoja\/hyperledger-ansible","text":"hyperledger-ansible - Ansible playbooks for Hyperledger.","fallback":"GitHub: keoja\/hyperledger-ansible","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/18072399?v=3&s=400","from_url":"https:\/\/github.com\/keoja\/hyperledger-ansible","thumb_width":94,"thumb_height":94,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1465932521.000003","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0P2GSA8Z","text":"<@U0KPFAZNF>: scripts\/idsBuild.sh isn't used?","ts":"1465941478.000005"},{"type":"message","user":"U0KPFAZNF","text":"i think that is accurate, i had the same question a few weeks back","ts":"1465941499.000006"},{"type":"message","user":"U0P2GSA8Z","text":"I see it still refers to old commands:  openchain-peer obc-peer peer","ts":"1465941500.000007"},{"type":"message","user":"U0KPFAZNF","text":"yeah, it looks defunct","ts":"1465941507.000008"},{"type":"message","user":"U0KPFAZNF","text":"IIRC, I did a git-grep and could find no users","edited":{"user":"U0KPFAZNF","ts":"1465941557.000000"},"ts":"1465941525.000009"},{"type":"message","user":"U0KPFAZNF","text":"so, if there are users, they are out of tree","ts":"1465941533.000010"},{"type":"message","user":"U0KPFAZNF","text":"but given that it looks totally broken...","ts":"1465941539.000011"},{"type":"message","user":"U0P2GSA8Z","text":"agreed","ts":"1465941554.000012"},{"type":"message","user":"U0P2GSA8Z","text":"it's always hard to get rid of this kind of stuff because noone dares to pull the trigger in fear of breaking something","ts":"1465941594.000014"},{"type":"message","user":"U0P2GSA8Z","text":"yet, it would seem to be the right thing to do as nobody would presumably notice","ts":"1465941611.000015"},{"type":"message","user":"U0KPFAZNF","text":"bingo, thats why I didnt broach it :wink:","ts":"1465941617.000016"},{"type":"message","user":"U0P2GSA8Z","text":":slightly_smiling_face:","ts":"1465941623.000017"},{"type":"message","user":"U0KPFAZNF","text":"actually i put it on a mental \u201ctodo\u201d list, and then apparently paged it out to \/dev\/null","ts":"1465941667.000018"},{"type":"message","user":"U0P2GSA8Z","text":"I saw <@U0KM61BCP> advocating for a more bullish attitude with a rule along the lines of : in doubt, kill it!","ts":"1465941680.000019"},{"type":"message","user":"U0KPFAZNF","text":"sounds good to me","ts":"1465941695.000020"},{"type":"message","user":"U0P2GSA8Z","text":"he might be right given that we can always restore the stuff we delete","ts":"1465941723.000021"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF>: comment on <https:\/\/github.com\/hyperledger\/fabric\/pull\/1834#issuecomment-226016952> ? the -z build failed, want to be sure it isn\u2019t my fault :slightly_smiling_face:","edited":{"user":"U0UHG4VP1","ts":"1465941759.000000"},"ts":"1465941751.000022"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>, sorry, was looking at that already in another window","ts":"1465941777.000025"},{"type":"message","user":"U0KPFAZNF","text":"thats quite a trainwreck :wink:","ts":"1465941784.000026"},{"type":"message","user":"U0UHG4VP1","text":"it\u2019s OK :slightly_smiling_face:","ts":"1465941785.000027"},{"type":"message","user":"U0KPFAZNF","text":"it doesnt jump out at me as _obviously_ related to the docker perms thing","ts":"1465941836.000028"},{"type":"message","user":"U0KPFAZNF","text":"(doesnt mean it isn\u2019t either, I would need more context)","ts":"1465941850.000029"},{"type":"message","user":"U0KPFAZNF","text":"e.g. was z fine and then broke with 1774 and is still broken now?","ts":"1465941869.000030"},{"type":"message","user":"U0KPFAZNF","text":"also, can you trigger a build against any tree?  if so, I could also prepare a branch that has the docker-perms just simply reverted","ts":"1465941908.000031"},{"type":"message","user":"U0KPFAZNF","text":"(I was hoping it wouldnt come to that because there will be a build-time penalty)","ts":"1465941922.000032"},{"type":"message","user":"U0KPFAZNF","text":"have to step out for a bit","ts":"1465942056.000033"},{"type":"message","user":"U0KPFAZNF","text":"will make that branch for you later","ts":"1465942062.000034"},{"type":"message","user":"U0KPFAZNF","text":"if I had to guess, id say theres somethingelse wrong with that build","ts":"1465942072.000035"},{"type":"message","user":"U0UHG4VP1","text":"If you could make a new PR against the tip of master with just your changes, it should trigger a build","ts":"1465942179.000036"},{"type":"message","user":"U0P2GSA8Z","text":"do I understand correctly that our build is broken right now and I don't need to fret over my PR regarding a simple documentation change failing?","ts":"1465946609.000037"},{"type":"message","user":"U0KM61BCP","text":"I don\u2019t think it should be broken now","ts":"1465947313.000038"},{"type":"message","user":"U0P2GSA8Z","text":"did you see the PR page? most PRs are said to be broken","ts":"1465947381.000039"},{"type":"message","user":"U0KPFAZNF","text":"wow, whats happening, heh","ts":"1465949688.000040"},{"type":"message","user":"U0KPFAZNF","text":"I blame PR 1839","ts":"1465949789.000041"},{"type":"message","user":"U0KPFAZNF","text":":wink:","ts":"1465949792.000042"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: <https:\/\/github.com\/hyperledger\/fabric\/pull\/1840>","attachments":[{"service_name":"GitHub","title":"Revert &quot;Optimize peer\/membersrvc -image generation&quot; by ghaskins \u00b7 Pull Request #1840 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1840","text":"DO NOT MERGE This reverts commit 8583744.","fallback":"GitHub: Revert \"Optimize peer\/membersrvc -image generation\" by ghaskins \u00b7 Pull Request #1840 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1840","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1465950192.000043"},{"type":"message","user":"U0UHG4VP1","text":"right now the -z machines are offline","ts":"1465950270.000045"},{"type":"message","user":"U0UHG4VP1","text":"so we\u2019re going to be unable to validate against the platform","ts":"1465950303.000046"},{"type":"message","user":"U0KPFAZNF","text":"ok, was z the only one impacted by the uid-0 issue&gt;?","ts":"1465950458.000047"},{"type":"message","user":"U0KPFAZNF","text":"or were all jenkins regardless of $arch also failing similarly?","ts":"1465950487.000048"},{"type":"message","user":"U0UHG4VP1","text":"I don\u2019t know.","ts":"1465950490.000049"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1465950493.000050"},{"type":"message","user":"U0UHG4VP1","text":"the issue with z is -1 became unresponsive, so I talked with <@U10Q62R8X> and he turned off -2 in the web UI because I wasn\u2019t explicit enough saying which machine has a problem","ts":"1465950534.000051"},{"type":"message","user":"U0KPFAZNF","text":"oops","ts":"1465950551.000052"},{"type":"message","user":"U0KPFAZNF","text":"heh, gotta hate that","ts":"1465950571.000053"},{"type":"message","user":"U10Q62R8X","text":"yep, killed the one machine that was working!! gah!","ts":"1465950590.000054"},{"type":"message","user":"U10Q62R8X","text":"and now.. something off with the 'state' of the machine.. killing it says \"you cant do it, its stopped\", but the start button says.. \"no way, you cant start it.. it must be in 'stopped state'\"","ts":"1465950699.000055"},{"type":"message","user":"U10Q62R8X","text":"sysadmin time...","ts":"1465950711.000056"},{"type":"message","user":"U10Q62R8X","text":"I could wipe the instance completely and create another one.. but I wonder if something is off with the UI... I know the sysadmins like to tinker :slightly_smiling_face: been on calls with them often enough on one project or another","ts":"1465950801.000057"},{"type":"message","user":"U10Q62R8X","text":"there is a support team in China too, but too early for them yet I guess","ts":"1465950818.000058"},{"type":"message","user":"U11HH3P7Y","text":"PR#1836 (Uid-0 issue) is working as expected in x86.. Have to check this in z once it is up..","ts":"1465951106.000059"},{"user":"U0ZJZBJLF","type":"message","subtype":"channel_join","text":"<@U0ZJZBJLF|yacovm> has joined the channel","ts":"1466084831.000064"},{"type":"message","user":"U0ZJZBJLF","text":"Hi. Has the name of the peer docker image been changed lately? I did `docker images | grep peer` and now I see `hyperledger\/fabric-peer`, wasn't it `hyperledger-peer` before?","edited":{"user":"U0ZJZBJLF","ts":"1466085004.000000"},"ts":"1466084888.000065"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF>: yes, all images were unified recently to hyperledger\/fabric-*","ts":"1466085303.000068"},{"type":"message","user":"U0KPFAZNF","text":"at least, all the images that the build system directly generates","ts":"1466085313.000069"},{"type":"message","user":"U0KPFAZNF","text":"some of the chaincode containers still have wonky names like dev-jdoe-xxx","ts":"1466085330.000070"},{"type":"message","user":"U0KPFAZNF","text":"<http:\/\/lists.hyperledger.org\/pipermail\/hyperledger-technical-discuss\/2016-June\/000310.html>","ts":"1466085382.000071"},{"type":"message","user":"U0ZJZBJLF","text":"I see. How do I know (in the future) for such changes? Is there something I can subscribe to so I'd know to re-create my testing env?\n\n<@U0KPFAZNF>: ?","edited":{"user":"U0ZJZBJLF","ts":"1466183868.000000"},"ts":"1466085860.000072"},{"type":"message","user":"U13Q594J2","text":"With latest code , after make clean I see the below error","ts":"1466103724.000073"},{"type":"message","user":"U13Q594J2","text":"make: *** No rule to make target `sdk\/node\/doc\/assets\/js\/modernizr.js', needed by `build\/image\/src\/.dummy'.  Stop.","ts":"1466103725.000074"},{"type":"message","user":"U13Q594J2","text":"Can any one help me to proceed","ts":"1466103770.000075"},{"type":"message","user":"U13Q594J2","text":"I could see modernizr.js and _typedoc_special_d_.html are getting deleted with node-sdk setup\nas a woraround reverting them allows me to proceed in building again\n\ngit checkout sdk\/node\/doc\/assets\/js\/modernizr.js\ngit checkout sdk\/node\/doc\/modules\/_typedoc_special_d_.html","ts":"1466104753.000076"},{"user":"U1GNP6E7N","type":"message","subtype":"channel_join","text":"<@U1GNP6E7N|pax> has joined the channel","ts":"1466122943.000077"},{"type":"message","user":"U11HH3P7Y","text":"Unit -tests are failing with `Error opening DB IO error: lock \/var\/hyperledger\/test\/tmpdb\/db\/LOCK: Resource temporarily unavailable\n--- FAIL: TestExecuteDeploySysChaincode (0.00s)\npanic: Could not open openchain db error = [IO error: lock \/var\/hyperledger\/test\/tmpdb\/db\/LOCK: Resource temporarily unavailable] [recovered]\n        panic: Could not open openchain db error = [IO error: lock \/var\/hyperledger\/test\/tmpdb\/db\/LOCK: Resource temporarily unavailable]\n\ngoroutine 9 [running]:\n`","ts":"1466177472.000078"},{"type":"message","user":"U11HH3P7Y","text":"I could see the same error in Jenkin builds","ts":"1466177500.000079"},{"type":"message","user":"U11HH3P7Y","text":"Jenkins Build reference:  <https:\/\/jenkins.hyperledger.org\/view\/fabric\/job\/fabric-github-merge-x86_64\/>","ts":"1466191154.000081"},{"type":"message","user":"U0UKTPMG8","text":"<@U0KPFAZNF>: <@U11HH3P7Y> quick q.  If we add a new package to pip install on <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/scripts\/provision\/host.sh#L23>, will CI automatically incorporate this?","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/scripts\/provision\/host.sh#L23","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/scripts\/provision\/host.sh#L23","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1466443850.000082"},{"type":"message","user":"U11HH3P7Y","text":"yes.","ts":"1466444047.000084"},{"type":"message","user":"U0UKTPMG8","text":"awesome1!","ts":"1466444157.000085"},{"type":"message","user":"U0KPFAZNF","text":"i concur with ramesh","ts":"1466444259.000086"},{"type":"message","user":"U11HH3P7Y","text":"Jenkins builds are failing with DB IO Error after PR#1877 merge..","ts":"1466445651.000087"},{"type":"message","user":"U0ULK2JPP","text":"<@U11HH3P7Y> hopefully <https:\/\/github.com\/hyperledger\/fabric\/pull\/1926> should help some","attachments":[{"service_name":"GitHub","title":"use a different db for system chaincode UT than chaincode UTs by muralisrini \u00b7 Pull Request #1926 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1926","text":"Make unit test for system chaincode use a different ledger DB than those used for chaincode UTs. Description We have seen errors with following signature recently Error opening DB IO error: lock...","fallback":"GitHub: use a different db for system chaincode UT than chaincode UTs by muralisrini \u00b7 Pull Request #1926 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/14361488?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1926","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1466445976.000088"},{"type":"message","user":"U11HH3P7Y","text":"Yes murali.. Re-testing in jenkins..","ts":"1466446008.000090"},{"type":"message","user":"U0ULK2JPP","text":"(assuming same error of course)","ts":"1466446011.000091"},{"type":"message","user":"U0XPR4NP4","text":"<@U0ULK2JPP>: Do you know why this was somehow triggered by 1877? I have poured through my changeset multiple times and just cannot find what might be the cause","ts":"1466446016.000092"},{"type":"message","user":"U0ULK2JPP","text":"I dont know either <@U0XPR4NP4> \u2026.  let me check one thing \u2026 <@U11HH3P7Y>, which test fails after the PR#1877 merge please ?","ts":"1466446085.000093"},{"type":"message","user":"U0XPR4NP4","text":"My best guess is that my changes affected the length of time that tests were running, and therefore pushed two tests into running concurrently that didn't used to, but I even tried with `go test -parallel 1` and I still see the failure (though not when running the package tests independently)","ts":"1466446163.000094"},{"type":"message","user":"U11HH3P7Y","text":"Unit tests are failing.  FAIL: TestExecuteDeploySysChaincode","ts":"1466446281.000095"},{"type":"message","user":"U11HH3P7Y","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-github-verify-x86_64\/245\/console>","ts":"1466446282.000096"},{"type":"message","user":"U0ULK2JPP","text":"ok <@U11HH3P7Y>. So #1926 should at least alleviate...","ts":"1466446434.000097"},{"type":"message","user":"U11HH3P7Y","text":"yes.. All unit tests passed in 1926","ts":"1466446626.000098"},{"type":"message","user":"U0ULK2JPP","text":"right","ts":"1466446658.000099"},{"type":"message","user":"U0ULK2JPP","text":"<@U0XPR4NP4>: I was thinking \u201cparallel\u201d too but couldn\u2019t go beyond that :slightly_smiling_face:","ts":"1466446712.000100"},{"type":"message","user":"U0ULK2JPP","text":"I wondered if something else beside \u201cparallel\u201d is at work here","ts":"1466446738.000101"},{"type":"message","user":"U0XPR4NP4","text":"<@U0ULK2JPP>: Well, at least you seem as unsure as I am.  I like to know how I break things so that I can avoid them in the future... but I guess I may have to let this one go.","ts":"1466446855.000102"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP>: is your suspicion that there is concurrency within the UT framework itself that is breaking things? or is it that subsequent runs are persisting state?","ts":"1466447172.000103"},{"type":"message","user":"U0KPFAZNF","text":"er, previous runs persisting state affecting subsequent runs, I should say, heh","ts":"1466447199.000104"},{"type":"message","user":"U0KPFAZNF","text":"the reason I ask is I had a patch that run the UTs in a docker instance that would offer some degree of environmental isolation that could be of interest","ts":"1466447238.000105"},{"type":"message","user":"U0KPFAZNF","text":"but it wouldnt have any impact if the problem is intra-test inteference","ts":"1466447261.000106"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KPFAZNF>: the former is the obvious first choice for an explanation ? It doesn\u2019t quite explain the \u201cwhy now\u201d. If nothing has changed, it presumes we were always running concurrent but didn\u2019t know it and now we are breaking due to timing","ts":"1466447393.000107"},{"type":"message","user":"U0KPFAZNF","text":"yeah, could just be the type\/nr of tests affect how go-tests schedules concurrency or something","ts":"1466447438.000108"},{"type":"message","user":"U0KPFAZNF","text":"i didnt think we had any parallel stuff enabled in go-test however IIUC so I am confused how that is even the case","ts":"1466447462.000109"},{"type":"message","user":"U0ULK2JPP","text":"same here","ts":"1466447482.000110"},{"type":"message","user":"U0KPFAZNF","text":"perhaps the problem isnt concurrent execution but resource cleanup","ts":"1466447492.000111"},{"type":"message","user":"U0ULK2JPP","text":"That would be surprising\u2026. all the chaincode tests use \/tmpdb and reuse that freely without explicitly tmpdb cleanup.","ts":"1466447773.000112"},{"type":"message","user":"U0ULK2JPP","text":"only \u201ctheory\u201d that fits is chaincode UT  and \u201csystem_chaincode\u201d UT are running into each other","ts":"1466447818.000113"},{"type":"message","user":"U0ULK2JPP","text":"now that I moved system_chaincode to a different DB, they no longer do","ts":"1466447832.000114"},{"type":"message","user":"U0ULK2JPP","text":"fits the facts but Sherlock won\u2019t like it :slightly_smiling_face:","ts":"1466447845.000115"},{"type":"message","user":"U0XPR4NP4","text":"<@U0KPFAZNF>: By default, go runs unit tests in parallel with the number of available CPUs:\n\n```\n\t-parallel n\n\t    Allow parallel execution of test functions that call t.Parallel.\n\t    The value of this flag is the maximum number of tests to run\n\t    simultaneously; by default, it is set to the value of GOMAXPROCS.\n\t    Note that -parallel only applies within a single test binary.\n\t    The 'go test' command may run tests for different packages\n\t    in parallel as well, according to the setting of the -p flag\n\t    (see 'go help build').\n\n...\n\n\t-p n\n\t\tthe number of programs, such as build commands or\n\t\ttest binaries, that can be run in parallel.\n\t\tThe default is the number of CPUs available, except\n\t\ton darwin\/arm which defaults to 1.\n\n```","ts":"1466447881.000116"},{"type":"message","user":"U0ULK2JPP","text":"right that also fits the observations in <https:\/\/github.com\/hyperledger\/fabric\/issues\/1921>","attachments":[{"service_name":"GitHub","title":"One unit test fails with 4 CPUs, fine with 2 CPUs \u00b7 Issue #1921 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/issues\/1921","text":"Description On a zLinux guest (debian 8) with 4 CPUs, \"make unit-test\" fails for <http:\/\/github.com\/hyperledger\/fabric\/core\/system_chaincode|github.com\/hyperledger\/fabric\/core\/system_chaincode>: 2016\/06\/20 03:35:24 Load docker HostConfig: %+v &amp;{[] [] [] [...","fallback":"GitHub: One unit test fails with 4 CPUs, fine with 2 CPUs \u00b7 Issue #1921 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/15215715?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/issues\/1921","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1466447948.000117"},{"type":"message","user":"U0ULK2JPP","text":"2 CPUs works, 4 CPUs show errors","ts":"1466447962.000119"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XPR4NP4>: understood, but the language is a bit confusing as there are places where it implies that tests have to explicitly opt-in with t.Parallel(), which I dont think we have any that do","ts":"1466448135.000120"},{"type":"message","user":"U0KPFAZNF","text":"it could be that we do in fact have some that opt-in, or it could be that I misinterpreted the doc","ts":"1466448164.000121"},{"type":"message","user":"U0KPFAZNF","text":"but I was under the distinct impression that today, we dont parallelize the tests","ts":"1466448184.000122"},{"type":"message","user":"U0KPFAZNF","text":"i guess further study is needed","ts":"1466448198.000123"},{"type":"message","user":"U0XPR4NP4","text":"<@U0KPFAZNF>: Within a single package, I think you must opt into parallelism, but when executing tests across multiple packages, I believe they are parallelized via `-p`","ts":"1466448536.000124"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XPR4NP4>: thats possible","ts":"1466448590.000125"},{"type":"message","user":"U0KPFAZNF","text":"certainly 1921 is evidence to the contrary of my understanding","ts":"1466448630.000126"},{"type":"message","user":"U0TFEHX8E","text":"I can confirm that when I modify `goUnitTests.sh` changing `go test -cover -timeout=20m $PKGS` to `go test -cover -p 1 -timeout=20m $PKGS` that the tests pass on my laptop","ts":"1466452521.000127"},{"type":"message","user":"U0KPFAZNF","text":"ah, well, that cinches it","ts":"1466452635.000128"},{"type":"message","user":"U0TFEHX8E","text":"also it feels like the tests take longer, but I didn\u2019t actually measure","ts":"1466452656.000129"},{"type":"message","user":"U0KPFAZNF","text":"this makes sense in a way: i wrote a patch which tried to run go-test per package and parallelize them with the gnu parallel tool","ts":"1466452687.000130"},{"type":"message","user":"U0KPFAZNF","text":"but it ran slower, probably because the tests were already parallel so all I did was add overhead","ts":"1466452703.000131"},{"type":"message","user":"U0KPFAZNF","text":"(the thought at the time is I would run each instance in its own container so they wouldnt interfere with one another","ts":"1466452748.000132"},{"type":"message","user":"U0KPFAZNF","text":"it all worked, but was appreciably slower, so I abandoned it","ts":"1466452761.000133"},{"type":"message","user":"U0KPFAZNF","text":"speaking of parallelization, i wonder if theres a way we can have vagrant scale up the nr of vcpus based on system its on","edited":{"user":"U0KPFAZNF","ts":"1466452885.000000"},"ts":"1466452819.000134"},{"type":"message","user":"U0KPFAZNF","text":"I have a 4c\/8t Xeon MacPro that could probably handle more than 2c vcpus","edited":{"user":"U0KPFAZNF","ts":"1466452864.000000"},"ts":"1466452854.000135"},{"type":"message","user":"U0XR6J961","text":"how come my goimports always removes the \"google\/protobuf\" import?","ts":"1466609823.000138"},{"type":"message","user":"U0XR6J961","text":"what's going on there?","ts":"1466609830.000139"},{"type":"message","user":"U0KPFAZNF","text":"<@U11MANG9G>: might have an idea, he was mentioning something about import aliasing the other day but I didn\u2019t understand the nuance","ts":"1466611431.000140"},{"user":"U11MANG9G","inviter":"U0KPFAZNF","type":"message","subtype":"channel_join","text":"<@U11MANG9G|jonathanlevi> has joined the channel","ts":"1466611435.000141"},{"user":"U1K9Z03DY","type":"message","subtype":"channel_join","text":"<@U1K9Z03DY|aish> has joined the channel","ts":"1466613050.000142"},{"type":"message","user":"U0XR6J961","text":"and how come nobody else seems to have this problem?","ts":"1466613195.000143"},{"type":"message","user":"U0XR6J961","text":"something i did fixed it -_-","ts":"1466613260.000144"},{"type":"message","user":"U0KPFAZNF","text":"as far as I know, all goimport problems are fixed in HEAD","ts":"1466613394.000145"},{"type":"message","user":"U0KPFAZNF","text":"we run this for every CI run now, so it should flag any discrepancies that remain","ts":"1466613413.000146"},{"type":"message","user":"U11MANG9G","text":"Hi <@U0XR6J961>. Show me where?","ts":"1466614512.000147"},{"type":"message","user":"U11MANG9G","text":"<@U0KPFAZNF>: Yes, I think so too.","ts":"1466614604.000148"},{"type":"message","user":"U0XR6J961","text":"ghaskins: i found the goimports issue","ts":"1466681625.000149"},{"type":"message","user":"U0XR6J961","text":"ghaskins: emacs go-mode creates a temp file, so then the vendoring disappears","ts":"1466681645.000150"},{"type":"message","user":"U0XR6J961","text":"and the new go-mode fixes it :slightly_smiling_face:","ts":"1466681790.000151"},{"type":"message","user":"U0KPFAZNF","text":"ah, ok","ts":"1466685705.000152"},{"type":"message","user":"U11HH3P7Y","text":"Master build is broken with PR# #1903 merge: - Unit-tests are failing with below error message ``` ok  \t<http:\/\/github.com\/hyperledger\/fabric\/core\/peer\/statetransfer|github.com\/hyperledger\/fabric\/core\/peer\/statetransfer>\t0.242s\tcoverage: 81.4% of statements\n\n# <http:\/\/github.com\/hyperledger\/fabric\/core\/rest|github.com\/hyperledger\/fabric\/core\/rest>\n\ncore\/rest\/rest_api_test.go:124: cannot use new(mockDevops) (type *mockDevops) as type \"<http:\/\/github.com\/hyperledger\/fabric\/protos|github.com\/hyperledger\/fabric\/protos>\".DevopsServer in assignment:\n\n\t*mockDevops does not implement \"<http:\/\/github.com\/hyperledger\/fabric\/protos|github.com\/hyperledger\/fabric\/protos>\".DevopsServer (missing EXP_ExecuteWithBinding method)\n\nFAIL\t<http:\/\/github.com\/hyperledger\/fabric\/core\/rest|github.com\/hyperledger\/fabric\/core\/rest> [build failed]```","ts":"1466694007.000153"},{"user":"U150L8BDF","type":"message","subtype":"channel_join","text":"<@U150L8BDF|clessor> has joined the channel","ts":"1466702926.000154"},{"user":"U1JJ64P53","type":"message","subtype":"channel_join","text":"<@U1JJ64P53|eugenn> has joined the channel","ts":"1466852237.000155"},{"user":"U0YP7KFGQ","type":"message","subtype":"channel_join","text":"<@U0YP7KFGQ|gennady.laventman> has joined the channel","ts":"1466930512.000156"},{"user":"U1LP4T69E","type":"message","subtype":"channel_join","text":"<@U1LP4T69E|jeffprestes> has joined the channel","ts":"1467063001.000157"},{"user":"U143JUETY","type":"message","subtype":"channel_join","text":"<@U143JUETY|andyz> has joined the channel","ts":"1467076247.000158"},{"user":"U1EE1TRQE","type":"message","subtype":"channel_join","text":"<@U1EE1TRQE|nashikkarh> has joined the channel","ts":"1467374347.000159"},{"type":"message","user":"U1EE1TRQE","text":"Hi,  I trying to run the chain-tests as mentioned in <https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/sdk\/node#getting-set-up>. But getting below error.\nAny idea what exactly is the issue?\n\nCommand - \"node test\/unit\/chain-tests.js | node_modules\/.bin\/tap-spec\"\nError - \nbash: node_modules\/.bin\/tap-spec: No such file or directory\nmodule.js:338\n    throw err;\n          ^\nError: Cannot find module '.\/lib\/hlc'\n    at Function.Module._resolveFilename (module.js:336:15)\n    at Function.Module._load (module.js:278:25)\n    at Module.require (module.js:365:17)\n    at require (module.js:384:17)\n    at Object.&lt;anonymous&gt; (\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/sdk\/node\/index.js:20:18)\n    at Module._compile (module.js:460:26)\n    at Object.Module._extensions..js (module.js:478:10)\n    at Module.load (module.js:355:32)\n    at Function.Module._load (module.js:310:12)\n    at Module.require (module.js:365:17)","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/sdk\/node#getting-set-up","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/sdk\/node#getting-set-up","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1467374352.000160"},{"type":"message","user":"U0TFEHX8E","text":"<@U1EE1TRQE>:  I think the problem is that the version published in npm uses \u201chfc\u201d instead of \u201chlc\u201d. The master branch in GitHub is still \u201chlc\u201d. There\u2019s a PR <https:\/\/github.com\/hyperledger\/fabric\/pull\/2042>, but I can\u2019t merge it because I need <@U0S5KF44D> to rebase. Perhaps you could use the previous version of the library published in NPM?","edited":{"user":"U0TFEHX8E","ts":"1467403533.000000"},"ts":"1467403527.000162"},{"user":"U1N4KNWP2","type":"message","subtype":"channel_join","text":"<@U1N4KNWP2|thomas.leplus> has joined the channel","ts":"1467679223.000165"},{"type":"message","user":"U0MM86C84","text":"i have one question  regarding the attribute certificate authority","ts":"1467728870.000166"},{"type":"message","user":"U0MM86C84","text":"is it possible to add dynamically new attributes to an existing attribute certificate?","ts":"1467728895.000167"},{"type":"message","user":"U0KM61BCP","text":"<@U0MM86C84>: I don\u2019t believe so <@U11MANG9G> might know better","ts":"1468344772.000168"},{"type":"message","user":"U11MANG9G","text":"<@U0MM86C84>: Nope. Usually certificates are kind of 'final' after issuance...","ts":"1468345447.000169"},{"type":"message","user":"U11MANG9G","text":"Is there a use-case that you are trying to address?","ts":"1468345463.000170"},{"type":"message","user":"U11MANG9G","text":"It might be easier to request a cert with a new list of attr (unless you are trying to reuse the 'attestation')","ts":"1468345517.000171"},{"type":"message","user":"U0KM61BCP","text":"why have we vendored empty.pb.go and timestamp.pb.go from google\/protobuf which is no longer a thing?","ts":"1468348958.000172"},{"type":"message","user":"U0KM61BCP","text":"this makes it impossible to build chaincode outside the vagrant environment","ts":"1468349029.000173"},{"type":"message","user":"U0KM61BCP","text":"which is stupid","ts":"1468349034.000174"},{"user":"U1G3WJ740","text":"<@U1G3WJ740|castlesb> has joined the channel","type":"message","subtype":"channel_join","ts":"1468354645.000175"},{"type":"message","user":"U1G3WJ740","text":"Hi <@U11MANG9G>: If for instance a new user registers and enrolls, the only way to assign this user certain attributes (company: ibm etc.) is to manually input them into the membrsrvc file?","ts":"1468358892.000176"},{"type":"message","user":"U11MANG9G","text":"Hi <@U1G3WJ740>, let's move this to <#C1J0BM448> ?","ts":"1468358936.000177"},{"type":"message","user":"U11MANG9G","text":"(I monitor it much more closely, there are others there, etc...)","ts":"1468358954.000178"},{"type":"message","user":"U1G3WJ740","text":"Okay perfect","ts":"1468358971.000179"},{"type":"message","user":"U11MANG9G","text":"But the quick answer is that we should add a gRPC call that does it dynamically","ts":"1468358991.000180"},{"user":"U1F3CQ2HX","text":"<@U1F3CQ2HX|nhrishi> has joined the channel","type":"message","subtype":"channel_join","ts":"1468487830.000181"},{"user":"U1ENXTQRL","text":"<@U1ENXTQRL|cbruguera> has joined the channel","type":"message","subtype":"channel_join","ts":"1468503646.000182"},{"user":"U1NV7GPM5","text":"<@U1NV7GPM5|shilei> has joined the channel","type":"message","subtype":"channel_join","ts":"1468503828.000183"},{"user":"U1JT2LQJH","text":"<@U1JT2LQJH|ericmvaughn> has joined the channel","type":"message","subtype":"channel_join","ts":"1468506424.000184"},{"user":"U0YK3KKCY","text":"<@U0YK3KKCY|harrijk> has joined the channel","type":"message","subtype":"channel_join","ts":"1468518337.000185"},{"user":"U0Z6VMEER","text":"<@U0Z6VMEER|beauson45> has joined the channel","type":"message","subtype":"channel_join","ts":"1468528491.000186"},{"type":"message","user":"U12452RAP","text":"anyone here suffer a issue no space left?","ts":"1468551876.000187"},{"type":"message","user":"U12452RAP","text":"may i suggest change the setup.sh to use pip install docker-compose","ts":"1468564884.000188"},{"type":"message","user":"U12452RAP","text":"as i observe, it is very slow for us whose network is not good to doWnload from official address.","ts":"1468565028.000189"},{"type":"message","user":"U12452RAP","text":"<@U0KPFAZNF>: can you take account my suggestion, and i also see setupZ.sh use pip install docker-compose. it seems more faster though maybe no difference for your guys","ts":"1468587414.000190"},{"type":"message","user":"U0KPFAZNF","text":"IIUC, I have no problem with that change","ts":"1468588149.000191","reactions":[{"name":"cool","users":["U12452RAP"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"make a PR and I\u2019ll review","ts":"1468588155.000192"},{"user":"U0N9SUW82","text":"<@U0N9SUW82|pniang> has joined the channel","type":"message","subtype":"channel_join","ts":"1468686464.000193"},{"type":"message","user":"U1F3CQ2HX","text":"Hi, I'm trying to run a peer with security feature on but getting following error. I'm starting up membersrvc first and then trying to run a peer with enrollment ID and secretkey. 15:11:56.583 [main] serve -&gt; INFO 00c Security enabled status: true\n15:11:56.583 [eventhub_producer] start -&gt; INFO 00d event processor started\n15:11:56.584 [main] serve -&gt; INFO 00e Privacy enabled status: true\n15:11:56.585 [main] func1 -&gt; DEBU 00f Registering validator with enroll ID: test_vp0\n15:11:56.586 [crypto] RegisterValidator -&gt; INFO 010 Registering validator [test_vp0] with name [test_vp0]...\n15:11:56.588 [crypto] Debugf -&gt; DEBU 011 [validator.test_vp0] Data will be stored at [\/var\/hyperledger\/production\/crypto\/validator\/test_vp0]\n15:11:56.589 [crypto] Debugf -&gt; DEBU 012 [validator.test_vp0] Registering node [test_vp0]...\n15:11:56.589 [crypto] Debugf -&gt; DEBU 013 [validator.test_vp0] Keystore path [\/var\/hyperledger\/production\/crypto\/validator\/test_vp0\/ks] missing [true]: [&lt;clean&gt;]\n15:11:56.590 [crypto] Debugf -&gt; DEBU 014 [validator.test_vp0] Creating Keystore at [\/var\/hyperledger\/production\/crypto\/validator\/test_vp0\/ks]...\n15:11:56.591 [crypto] Debug -&gt; DEBU 015 [validator.test_vp0]  Open Keystore DB...\n15:11:56.591 [crypto] Debug -&gt; DEBU 016 [validator.test_vp0]  Ping Keystore DB...\n15:11:56.592 [crypto] Debugf -&gt; DEBU 017 [validator.test_vp0] Keystore created at [\/var\/hyperledger\/production\/crypto\/validator\/test_vp0\/ks].\n15:11:56.593 [crypto] Debugf -&gt; DEBU 018 [validator.test_vp0] Keystore opened at [\/var\/hyperledger\/production\/crypto\/validator\/test_vp0\/ks]...done\n15:11:56.594 [crypto] Debug -&gt; DEBU 019 [validator.test_vp0]  Registering node crypto engine...\n15:11:56.595 [crypto] Debug -&gt; DEBU 01a [validator.test_vp0]  Initiliazing TLS...\n15:11:56.596 [crypto] Debug -&gt; DEBU 01b [validator.test_vp0]  Initiliazing TLS...Disabled!!!\n15:11:56.597 [crypto] Debug -&gt; DEBU 01c [validator.test_vp0]  Getting ECA client...\n15:11:56.598 [crypto] Debugf -&gt; DEBU 01d [validator.test_vp0] Dial to addr:[172.17.0.1:2375], with serverName:[OBC]...\n15:11:56.599 [crypto] Debug -&gt; DEBU 01e [validator.test_vp0]  TLS disabled...\n15:11:56.599 [crypto] Debug -&gt; DEBU 01f [validator.test_vp0]  Getting ECA client...done\n2016\/07\/18 15:11:57 grpc: ClientConn.resetTransport failed to create client transport: connection error: desc = \"transport: write tcp 172.17.0.3:48937-&gt;172.17.0.1:2375: write: broken pipe\"; Reconnecting to \"172.17.0.1:2375\"\n2016\/07\/18 15:11:57 transport: http2Client.notifyError got notified that the client transport was broken unexpected EOF.","ts":"1468855241.000002"},{"user":"U1T2X90HG","text":"<@U1T2X90HG|shishirvd> has joined the channel","type":"message","subtype":"channel_join","ts":"1468938197.000003"},{"user":"U1T7KJH9P","text":"<@U1T7KJH9P|kkoiwai> has joined the channel","type":"message","subtype":"channel_join","ts":"1468959741.000004"},{"user":"U1SDX7EQZ","text":"<@U1SDX7EQZ|liewsc> has joined the channel","type":"message","subtype":"channel_join","ts":"1469065198.000005"},{"user":"U1QTD4ZNU","text":"<@U1QTD4ZNU|somii1.01> has joined the channel","type":"message","subtype":"channel_join","ts":"1469100855.000006"},{"type":"message","user":"U1QTD4ZNU","text":"Hello all","ts":"1469100883.000007"},{"type":"message","user":"U1QTD4ZNU","text":"i am finding some difficulties in seeting up node.js api using swagger for chaincode","ts":"1469100904.000008"},{"type":"message","user":"U1QTD4ZNU","text":"can anyone please help me out with these steps","ts":"1469100920.000009"},{"type":"message","user":"U1QTD4ZNU","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/API\/CoreAPI.md#nodejs-application>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/API\/CoreAPI.md#nodejs-application","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/API\/CoreAPI.md#nodejs-application","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1469100969.000010"},{"type":"message","user":"U0KM61BCP","text":"<@U1QTD4ZNU>: just reviewed that, and I think I may see your problem\u2026 can you be a bit more specific as to what problem you are observing?","ts":"1469106034.000012"},{"type":"message","user":"U1QTD4ZNU","text":"Thanks <@U0KM61BCP>","ts":"1469110524.000013"},{"type":"message","user":"U0KM61BCP","text":"<@U1QTD4ZNU>: I have created a helper to get you swaggerized \u2026 I need to add some documentation but you can try it out if you\u2019d like. I would welcome the feedback. I\u2019ll contribute it to Hyperledger soon as I get it mostly finished","ts":"1469118914.000014"},{"type":"message","user":"U0KM61BCP","text":"<https:\/\/github.com\/christo4ferris\/fabric-swagger>","attachments":[{"service_name":"GitHub","title":"christo4ferris\/fabric-swagger","title_link":"https:\/\/github.com\/christo4ferris\/fabric-swagger","text":"fabric-swagger - Simplify Swaggerizing the Hyperledger Fabric","fallback":"GitHub: christo4ferris\/fabric-swagger","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/3630697?v=3&s=400","from_url":"https:\/\/github.com\/christo4ferris\/fabric-swagger","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1469118927.000015"},{"type":"message","user":"U0KM61BCP","text":"basically, you need to start a peer process and then run the \u2018runme.sh\u2019 script. It will install what you need and launch a web server and open a browser window to Swagger UI. Then enter \u2018rest_api.json\u2019 and hit \u2018Explore\u2019 button","ts":"1469119007.000017"},{"type":"message","user":"U1ENXTQRL","text":"Hey <@U0KM61BCP> ! Does this take care of the CORS?","ts":"1469119428.000018"},{"type":"message","user":"U0KM61BCP","text":"it runs with CORS, yes","ts":"1469122126.000019"},{"type":"message","user":"U1ENXTQRL","text":"Cool!","ts":"1469122133.000020"},{"type":"message","user":"U0KM61BCP","text":"fetch the latest, I just fixed a bug","ts":"1469122149.000021"},{"type":"message","user":"U1ENXTQRL","text":"Thanks","ts":"1469122174.000022"},{"type":"message","user":"U1ENXTQRL","text":"This needs swagger service installed and running locally, right?","ts":"1469122252.000023"},{"type":"message","user":"U0KM61BCP","text":"<@U1ENXTQRL>: no, it installs it and any dependencies for you","ts":"1469126444.000024"},{"type":"message","user":"U0KM61BCP","text":"I wrote this so that if you aren\u2019t actually developing the fabric but maybe just running the docker images, that you can still interact with the node via swagger","ts":"1469126576.000025"},{"type":"message","user":"U1ENXTQRL","text":"Sounds good, has it been tested on Windows?","ts":"1469131111.000026"},{"type":"message","user":"U0KM61BCP","text":"<@U0P2GSA8Z> tested on Windoze and there was a tweak needed which I have pushed to my repo","ts":"1469148081.000027"},{"type":"message","user":"U0KM61BCP","text":"should work","ts":"1469148085.000028"},{"type":"message","user":"U0KM61BCP","text":"the one gotcha is that the peer will probably need to run on another port because of conflict with UPnP (5000) which means that the rest_api.json needs to reflect the appropriate port number","ts":"1469148145.000029","reactions":[{"name":"+1","users":["U1ENXTQRL"],"count":1}]},{"type":"message","user":"U0P2GSA8Z","text":"<@U1ENXTQRL> Beware that I use cygwin. I have no idea what that would be like without cygwin","ts":"1469150760.000030"},{"type":"message","user":"U0P2GSA8Z","text":"But of course I have no idea how one can live on Windows without cygwin! ;-)","ts":"1469150811.000031","reactions":[{"name":"+1","users":["U1ENXTQRL"],"count":1}]},{"type":"message","user":"U0P2GSA8Z","text":"I have a Unix background.","ts":"1469150833.000032"},{"type":"message","user":"U1QTD4ZNU","text":"great thanks <@U0KM61BCP>","ts":"1469164250.000033"},{"user":"U1U7BR1KP","text":"<@U1U7BR1KP|ray> has joined the channel","type":"message","subtype":"channel_join","ts":"1469202507.000034"},{"type":"message","user":"U1QTD4ZNU","text":"hello all, I need help regarding the peer setup across 2 machines. I am using docker outside the vagrant for the peer process as of now only on one machine. \nGreat Thanks !","ts":"1469602593.000035"},{"type":"message","subtype":"file_share","text":"<@U0UGH3X7X|tuand> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/tuand\/F1VQ0MWEB\/-.txt|Untitled> and commented: I'm trying to set up the SDK in my vagrant and am getting this error when doing `npm install` ?","file":{"id":"F1VQ0MWEB","created":1469651356,"timestamp":1469651356,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UGH3X7X","editable":true,"size":867,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1VQ0MWEB\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1VQ0MWEB\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/tuand\/F1VQ0MWEB\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1VQ0MWEB-4c11247eab","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/tuand\/F1VQ0MWEB\/-.txt\/edit","preview":"vagrant@hyperledger-devenv:v0.0.10-0716064:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/sdk\/node$ npm install\r\nnpm WARN package.json hfc@0.0.2 No repository field.\r\nnpm WARN package.json hfc@0.0.2 No license field.\r\nnpm ERR! Linux 3.13.0-86-generic\r\nnpm ERR! argv \"\/usr\/local\/bin\/node\" \"\/usr\/local\/bin\/npm\" \"install\"\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>vagrant@hyperledger-devenv:v0.0.10-0716064:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/sdk\/node$ npm install<\/pre><\/div>\n<div><pre>npm WARN package.json hfc@0.0.2 No repository field.<\/pre><\/div>\n<div><pre>npm WARN package.json hfc@0.0.2 No license field.<\/pre><\/div>\n<div><pre>npm ERR! Linux 3.13.0-86-generic<\/pre><\/div>\n<div><pre>npm ERR! argv &quot;\/usr\/local\/bin\/node&quot; &quot;\/usr\/local\/bin\/npm&quot; &quot;install&quot;<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":23,"lines_more":18,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc1VPU1JRW","created":1469651356,"timestamp":1469651356,"user":"U0UGH3X7X","is_intro":true,"comment":"I'm trying to set up the SDK in my vagrant and am getting this error when doing `npm install` ?","channel":""}},"user":"U0UGH3X7X","upload":true,"display_as_bot":false,"username":"<@U0UGH3X7X|tuand>","bot_id":null,"ts":"1469651357.000036"},{"type":"message","user":"U0UGH3X7X","text":"i also ran into `clock skew detected` but that was fixed with setting the timezone","ts":"1469651437.000037"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UGH3X7X>: are you on Windows?","ts":"1469660384.000038"},{"type":"message","user":"U0UGH3X7X","text":"Yes. Vagrant on windows7. One of the folks here helped me edit the sdk makefile and run-unit-test.sh so i can at least start the unit tests. Still having problems with loading a package though.","ts":"1469662483.000039"},{"type":"message","user":"U0UGH3X7X","text":"I'll update when i get back to my machine later or tomorrow morning","ts":"1469662527.000040"},{"type":"message","user":"U0KPFAZNF","text":"Ok, I know there are issues with Windows+sdk due to the vagrant shared filesystem ","ts":"1469665691.000041"},{"type":"message","subtype":"file_share","text":"<@U0UGH3X7X|tuand> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/tuand\/F1W231WJW\/-.txt|Untitled> and commented: to continue on my previous post on the sdk ... I'm past the npm installs.  Now this error shows up when I run `make sdk-node-unit-tests`","file":{"id":"F1W231WJW","created":1469714136,"timestamp":1469714136,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UGH3X7X","editable":true,"size":1022,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1W231WJW\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1W231WJW\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/tuand\/F1W231WJW\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1W231WJW-6b9f319fe3","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/tuand\/F1W231WJW\/-.txt\/edit","preview":"cloning github.com\/hyperledger\/fabric; please wait ...\r\nCloning into 'fabric'...\r\nremote: Counting objects: 26917, done.\r\nremote: Total 26917 (delta 0), reused 0 (delta 0), pack-reused 26917\r\nReceiving objects: 100% (26917\/26917), 44.84 MiB | 2.19 MiB\/s, done.\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>cloning github.com\/hyperledger\/fabric; please wait ...<\/pre><\/div>\n<div><pre>Cloning into 'fabric'...<\/pre><\/div>\n<div><pre>remote: Counting objects: 26917, done.<\/pre><\/div>\n<div><pre>remote: Total 26917 (delta 0), reused 0 (delta 0), pack-reused 26917<\/pre><\/div>\n<div><pre>Receiving objects: 100% (26917\/26917), 44.84 MiB | 2.19 MiB\/s, done.<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":22,"lines_more":17,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc1W1GQCNQ","created":1469714136,"timestamp":1469714136,"user":"U0UGH3X7X","is_intro":true,"comment":"to continue on my previous post on the sdk ... I'm past the npm installs.  Now this error shows up when I run `make sdk-node-unit-tests`","channel":""}},"user":"U0UGH3X7X","upload":true,"display_as_bot":false,"username":"<@U0UGH3X7X|tuand>","bot_id":null,"ts":"1469714137.000042"},{"type":"message","user":"U0UGH3X7X","text":"happens on both Windows7 and osX vagrant","ts":"1469714155.000043"},{"type":"message","user":"U0UGH3X7X","text":"also, I started from a Gerrit clone, commit 0716064","ts":"1469714195.000044"},{"type":"message","user":"U0UGH3X7X","text":"so ... continuing my saga :slightly_smiling_face:","ts":"1469734642.000045"},{"type":"message","user":"U0UGH3X7X","text":"I killed my Gerrit clone and cloned from GitHub instead, commit 346f9fb","ts":"1469734696.000046"},{"type":"message","user":"U0UGH3X7X","text":"`make node-sdk-unit-tests` works out of the box on osX vagrant","edited":{"user":"U0UGH3X7X","ts":"1469734747.000000"},"ts":"1469734730.000047"},{"type":"message","user":"U0UGH3X7X","text":"in win7 vagrant,  I had to add `sudo npm install -g node node-pre-gyp &amp;&amp; npm install --no-bin-links` to the hyperledger\/fabric\/sdk\/node\/makefile and then `make node-sdk-unit-tests` works","ts":"1469734847.000049"},{"type":"message","user":"U0UGH3X7X","text":"so, at the very least, something didn't make it across the github to Gerrit migration ?","edited":{"user":"U0UGH3X7X","ts":"1469734902.000000"},"ts":"1469734889.000050"},{"type":"message","user":"U0KPFAZNF","text":"interesting, we should sanity check it","ts":"1469736908.000052"},{"type":"message","user":"U11HH3P7Y","text":"node-sdk-unit tests are failing on gerrit clone.. Observed that lib folder is not copied in sdk\/node folder","ts":"1469737029.000053"},{"user":"U1K869J4W","text":"<@U1K869J4W|mihaig> has joined the channel","type":"message","subtype":"channel_join","ts":"1469789468.000054"},{"user":"U1D9R3WAX","text":"<@U1D9R3WAX|szlaci83> has joined the channel","type":"message","subtype":"channel_join","ts":"1470056495.000055"},{"user":"U1MNES6NR","text":"<@U1MNES6NR|lbonniot> has joined the channel","type":"message","subtype":"channel_join","ts":"1470123737.000056"},{"user":"U1XMKU015","text":"<@U1XMKU015|adamrichard> has joined the channel","type":"message","subtype":"channel_join","ts":"1470205437.000057"},{"user":"U1NBM7NHH","text":"<@U1NBM7NHH|louisw> has joined the channel","type":"message","subtype":"channel_join","ts":"1470243329.000058"},{"user":"U0P1VU0QG","text":"<@U0P1VU0QG|ikruiper> has joined the channel","type":"message","subtype":"channel_join","ts":"1470403021.000059"},{"type":"message","user":"U1F3CQ2HX","text":"Hi, I'm trying to login as a client on the network (built using docker compose) with below command but getting \"existing \" message. Any idea what is wrong.","ts":"1470409964.000060"},{"type":"message","user":"U1F3CQ2HX","text":"user@HBADBC01:\/usr\/local\/go\/src\/github.com\/chaincode_example02$ sudo docker run --name test_client1 --rm -it -e CORE_VM_ENDPOINT=unix:\/\/\/var\/run\/docker.sock -e CORE_PEER_ID=vp100 -e CORE_PEER_ADDRESS=172.17.0.5:7051 -e CORE_PEER_ADDRESSAUTODETECT=true -e CORE_LOGGING_LEVEL=DEBUG -e CORE_PEER_PKI_TLS_ENABLED=true -e CORE_PEER_PKI_TLS_ROOTCERT_FILE=\/var\/hyperledger\/production\/.membersrvc\/tlsca.cert -e CORE_PEER_PKI_TLS_SERVERHOSTOVERRIDE=tlsca -e CORE_PEER_PKI_ECA_PADDR=172.17.0.2:7054 -e CORE_PEER_PKI_TCA_PADDR=172.17.0.2:7054 -e CORE_PEER_PKI_TLSCA_PADDR=172.17.0.2:7054 -e CORE_SECURITY_ENABLED=true -e CORE_SECURITY_PRIVACY=true fabric-refdata-peer peer network login jim -p 6avZQLwcUe9b\n15:08:57.751 [logging] LoggingInit -&gt; DEBU 001 Setting default logging level to DEBUG for command 'network'\n15:08:57.751 [networkCmd] networkLogin -&gt; INFO 002 CLI client login...\n15:08:57.751 [networkCmd] networkLogin -&gt; INFO 003 Local data store for client loginToken: \/var\/hyperledger\/production\/client\/\n15:08:57.751 [networkCmd] networkLogin -&gt; INFO 004 Logging in user 'jim' on CLI interface...\n15:08:57.753 [networkCmd] networkLogin -&gt; INFO 005 Storing login token for user 'jim'.\n15:08:57.753 [networkCmd] networkLogin -&gt; INFO 006 Login successful for user 'jim'.\n15:08:57.753 [main] main -&gt; INFO 007 Exiting.....","ts":"1470409966.000061"},{"type":"message","user":"U0PB67X4K","text":"<@U1F3CQ2HX>:   you basically just used Docker to run the CLI \"login\" command which literally just runs the login function and exits","ts":"1470430529.000062"},{"type":"message","user":"U0PB67X4K","text":"you would normally run `login` first and then run other CLI commands","ts":"1470430551.000063"},{"type":"message","user":"U0PB67X4K","text":"`login` basically communicates with membership services and obtains \/ downloads your enrollment data (it stores it in a folder which in this case would be in your container).  For what you ran to be meaningful, you should mount a volume which you use as the fabric directory which is where the enrollment material would be stored.  You could them keep attaching that volume to various containers as you execute CLI commands","ts":"1470430706.000064"},{"user":"U1MJ9SRF0","text":"<@U1MJ9SRF0|alexho> has joined the channel","type":"message","subtype":"channel_join","ts":"1470584981.000065"},{"type":"message","user":"U1F3CQ2HX","text":"<@U0PB67X4K>: Thanks !! it makes sense now.","ts":"1470637591.000066"},{"user":"U0MRY2LKY","text":"<@U0MRY2LKY|troyronda> has joined the channel","type":"message","subtype":"channel_join","ts":"1470756869.000067"},{"type":"message","subtype":"file_share","text":"<@U1D9R3WAX|szlaci83> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/szlaci83\/F213E88EP\/pasted_image_at_2016_08_13_04_18_pm.png|Pasted image at 2016-08-13, 4:18 PM> and commented: hi guys i am trying to deploy example02 in a 4 peer network using security, privacy and pbft. I could start up the 4 peers and trying to deploy chaincode on the first validating peer without luck... (although i get a hash  back ) I do it like this:\n  CORE_PEER_ADDRESS=0.0.0.0:30303 CORE_SECURITY_ENABLED=true CORE_SECURITY_PRIVACY=true CORE_PEER_VALIDATOR_CONSENSUS_PLUGIN=pbft peer chaincode deploy -u jim -p <http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02> -c '{\"Function\":\"init\", \"Args\": [\"a\",\"100\", \"b\", \"200\"]}'\na5389f7dfb9efae379900a41db1503fea2199fe400272b61ac5fe7bd0c6b97cf10ce3aa8dd00cd7626ce02f18accc7e5f2059dae6eb0786838042958352b89fb\n\nLog  from vp0:","file":{"id":"F213E88EP","created":1471101534,"timestamp":1471101534,"name":"Pasted image at 2016_08_13 04_18 PM.png","title":"Pasted image at 2016-08-13, 4:18 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U1D9R3WAX","editable":false,"size":209777,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F213E88EP\/pasted_image_at_2016_08_13_04_18_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F213E88EP\/download\/pasted_image_at_2016_08_13_04_18_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F213E88EP-c59afd8da0\/pasted_image_at_2016_08_13_04_18_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F213E88EP-c59afd8da0\/pasted_image_at_2016_08_13_04_18_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F213E88EP-c59afd8da0\/pasted_image_at_2016_08_13_04_18_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":202,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F213E88EP-c59afd8da0\/pasted_image_at_2016_08_13_04_18_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":270,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F213E88EP-c59afd8da0\/pasted_image_at_2016_08_13_04_18_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F213E88EP-c59afd8da0\/pasted_image_at_2016_08_13_04_18_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":405,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F213E88EP-c59afd8da0\/pasted_image_at_2016_08_13_04_18_pm_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":540,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F213E88EP-c59afd8da0\/pasted_image_at_2016_08_13_04_18_pm_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":576,"image_exif_rotation":1,"original_w":1366,"original_h":768,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/szlaci83\/F213E88EP\/pasted_image_at_2016_08_13_04_18_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F213E88EP-e6828f60f3","channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc2151D9NZ","created":1471101534,"timestamp":1471101534,"user":"U1D9R3WAX","is_intro":true,"comment":"hi guys i am trying to deploy example02 in a 4 peer network using security, privacy and pbft. I could start up the 4 peers and trying to deploy chaincode on the first validating peer without luck... (although i get a hash  back ) I do it like this:\n  CORE_PEER_ADDRESS=0.0.0.0:30303 CORE_SECURITY_ENABLED=true CORE_SECURITY_PRIVACY=true CORE_PEER_VALIDATOR_CONSENSUS_PLUGIN=pbft peer chaincode deploy -u jim -p <http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02> -c '{\"Function\":\"init\", \"Args\": [\"a\",\"100\", \"b\", \"200\"]}'\na5389f7dfb9efae379900a41db1503fea2199fe400272b61ac5fe7bd0c6b97cf10ce3aa8dd00cd7626ce02f18accc7e5f2059dae6eb0786838042958352b89fb\n\nLog  from vp0:","channel":""}},"user":"U1D9R3WAX","upload":true,"display_as_bot":false,"username":"<@U1D9R3WAX|szlaci83>","bot_id":null,"ts":"1471101538.000068"},{"type":"message","user":"U1D9R3WAX","text":"What did I do wrong? any suggestion appreciated, thanks!","ts":"1471101689.000069"},{"user":"U1VG8LNP3","text":"<@U1VG8LNP3|yaoguo> has joined the channel","type":"message","subtype":"channel_join","ts":"1471245095.000070"},{"user":"U1SDMQWER","text":"<@U1SDMQWER|roylai> has joined the channel","type":"message","subtype":"channel_join","ts":"1471320728.000071"},{"type":"message","user":"U0ZJZBJLF","text":"which protobuf version is used in fabric?","ts":"1471360811.000072"},{"type":"message","user":"U0KPFAZNF","text":"its a beta of proto3, we need to upgrade to the release","ts":"1471361211.000073"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=fabric.git;a=blob;f=images\/base\/scripts\/common\/setup.sh;h=401585cfb455475a573100516f02c0a08b208266;hb=HEAD#l88>","ts":"1471361307.000074"},{"type":"message","user":"U0TFEHX8E","text":"I opened a Jira issue if anyone wants to investigate upgrading to proto3 <https:\/\/jira.hyperledger.org\/browse\/FAB-108>","ts":"1471373083.000075"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0KPFAZNF>: , is the upgrade to 3 100% going to happen?","ts":"1471416358.000076"},{"type":"message","user":"U0ZJZBJLF","text":"any ETA on that?","ts":"1471416397.000077"},{"type":"message","user":"U0ZJZBJLF","text":"``` The advantage is that if everyone was required to compile these files, they would always be in sync. The disadvantage is that this requires developers to use Vagrant (it's hard not to already) or requires that they install and use the correct version of protobuf as defined in the Vagrant setup script. ```\nWhy is that a problem? if a developer messes with the grpc message structure shouldn't he\/she go the extra mile and install protobuf locally? we could write the protobuf version as comments in the .proto files or something","edited":{"user":"U0ZJZBJLF","ts":"1471416576.000000"},"ts":"1471416473.000078"},{"type":"message","user":"U0ZJZBJLF","text":"ok it compiles well (the project *.proto with proto v3), <@U0TFEHX8E>  can I take this issue? (108)?","ts":"1471417041.000082"},{"type":"message","user":"U0ZJZBJLF","text":"why does  the ``` make peer ``` command go through all the apt-get install the entire world each time (assuming the make fails), isn't it possible somehow to create an intermediate image with all the apt-get stuff and build the code-related actions on top of it?","ts":"1471432021.000083"},{"type":"message","user":"U0XR6J961","text":"it should be possible","ts":"1471432154.000084"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF>: re: proto3 will def happen, just a matter of resources","ts":"1471435523.000085"},{"type":"message","user":"U0KPFAZNF","text":"re: artifact (re)build avoidance, it should be doing this today","ts":"1471435544.000086"},{"type":"message","user":"U0ZJZBJLF","text":"I'm doing it now...","ts":"1471435554.000087"},{"type":"message","user":"U0ZJZBJLF","text":"I needed to upgrade the vendor grpc and net libraries because protobuf v3 needs a newer grpc version and the newer grpc version needed a new net version","ts":"1471435602.000088"},{"type":"message","user":"U0KPFAZNF","text":"can you run two builds like \u201cmake peer 2&gt;&amp;1 | tee first-build.log\u201d  and \u201c \u2026 second-build.log\u201d and post them?","ts":"1471435611.000089"},{"type":"message","user":"U0ZJZBJLF","text":"yeah, what for?","ts":"1471435636.000090"},{"type":"message","user":"U0KPFAZNF","text":"well, you said its rebuilding too much each iteration","ts":"1471435659.000091"},{"type":"message","user":"U0KPFAZNF","text":"id like to see what is getting rebuilt","ts":"1471435666.000092"},{"type":"message","user":"U0ZJZBJLF","text":"I think it's enough running only the first-build because i am doing it for the last hour, fixing new compilation error(s) each time","ts":"1471435710.000093"},{"type":"message","user":"U0KPFAZNF","text":"well, heres the thing: the build tries to detect what needs to be rebuilt based on what you changed","ts":"1471435742.000094"},{"type":"message","user":"U0ZJZBJLF","text":"the thing that happens again and again is the apt-get stuff","ts":"1471435763.000095"},{"type":"message","user":"U0ZJZBJLF","text":"when the intermediate containers are built","edited":{"user":"U0ZJZBJLF","ts":"1471435783.000000"},"ts":"1471435772.000096"},{"type":"message","user":"U0KPFAZNF","text":"so whats happening is either a) its working correctly and you changed a dependency, or b its broken and being overly aggressive when it doesn\u2019t need to be","ts":"1471435784.000098"},{"type":"message","user":"U0KPFAZNF","text":"im trying to figure out which scenario this falls under","ts":"1471435799.000099"},{"type":"message","user":"U0ZJZBJLF","text":"i'll post it (the log), np","ts":"1471435840.000100"},{"type":"message","user":"U0KPFAZNF","text":"that said, some others modified the makefiles so perhaps they introduced some inefficiencies I need to straighten out","ts":"1471435847.000101"},{"type":"message","user":"U0KPFAZNF","text":"so, one thing that jumps out at me is I see compile-protos being invoked","ts":"1471436644.000102"},{"type":"message","user":"U0KPFAZNF","text":"i assume that is something you added?","ts":"1471436653.000103"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF>:","ts":"1471436676.000104"},{"type":"message","user":"U0ZJZBJLF","text":"of course","ts":"1471436695.000105"},{"type":"message","user":"U0ZJZBJLF","text":"because now you don't have pb.go files","ts":"1471436705.000106"},{"type":"message","user":"U0KPFAZNF","text":"thats _probably_ what is triggering the rebuild","ts":"1471436707.000107"},{"type":"message","user":"U0ZJZBJLF","text":"really?","ts":"1471436710.000108"},{"type":"message","user":"U0KPFAZNF","text":"not sure, its a guess","ts":"1471436715.000109"},{"type":"message","user":"U0ZJZBJLF","text":"i don't see how","ts":"1471436720.000110"},{"type":"message","user":"U0ZJZBJLF","text":"when i run the compile protos stuff it doesn't print all that apt-get stuff","ts":"1471436733.000111"},{"type":"message","user":"U0KPFAZNF","text":"no no, thats not what I mean","ts":"1471436750.000112"},{"type":"message","user":"U0ZJZBJLF","text":"you want me to send you the Makefile I edited?","ts":"1471436759.000113"},{"type":"message","user":"U0KPFAZNF","text":"what I mean is, the flow of logic is causing later dependencies to perceive that baseimage now needs to be rebuilt","ts":"1471436779.000114"},{"type":"message","user":"U0ZJZBJLF","text":"I needed to make a small change there so that the pb.go files will be generated prior to the peer compilation","ts":"1471436781.000115"},{"type":"message","user":"U0ZJZBJLF","text":"yeah but you see, the baseimage is never successfully built.","ts":"1471436803.000116"},{"type":"message","user":"U0KPFAZNF","text":"yes, please post the makefile","ts":"1471436804.000117"},{"type":"message","user":"U0ZJZBJLF","text":"I think","ts":"1471436807.000118"},{"type":"message","user":"U0KPFAZNF","text":"ok, well then that is part of the problem too","ts":"1471436814.000119"},{"type":"message","user":"U0ZJZBJLF","text":"yeah but all I want is all the system ubuntu stuff to be built once and not each time, I think it's in the same \"job\" as the peer binary, isn't it?","ts":"1471436848.000120"},{"type":"message","user":"U0KPFAZNF","text":"well, step back for a second","ts":"1471436859.000121"},{"type":"message","user":"U0KPFAZNF","text":"from the log you sent, it does look like baseimage was successfully built","ts":"1471436875.000122"},{"type":"message","user":"U0KPFAZNF","text":"so, i think this is purely a case of the system believing it needs to rebuild baseimag\u2026now its question of \u201cwhy\"","ts":"1471436903.000123"},{"type":"message","user":"U0KPFAZNF","text":"baseimage should very rarely need to be rebuilt, so the fact that its building every time is what we need to solve","ts":"1471436920.000124"},{"type":"message","user":"U0ZJZBJLF","text":"ok you were right :slightly_smiling_face:","ts":"1471437135.000125"},{"type":"message","user":"U0ZJZBJLF","text":"it was that thing exactly","ts":"1471437141.000126"},{"type":"message","user":"U0KPFAZNF","text":"which part?","ts":"1471437151.000127"},{"type":"message","user":"U0ZJZBJLF","text":"I added the protos to the base image accidently","ts":"1471437160.000128"},{"type":"message","user":"U0ZJZBJLF","text":"I only needed to add it to the src-image","ts":"1471437222.000129"},{"type":"message","user":"U0KPFAZNF","text":"ah, cool","ts":"1471437345.000130"},{"type":"message","user":"U0KPFAZNF","text":"btw: I would highly suggest that you get rid of the compile-protos script and make these pure makefile directives","ts":"1471437367.000131"},{"type":"message","user":"U0KPFAZNF","text":"thats what I would have done, and what I would be more open to approve merging","ts":"1471437388.000132"},{"type":"message","user":"U0KPFAZNF","text":"let me know if that is unclear and I can walk you through it","ts":"1471437411.000133"},{"type":"message","user":"U0ZJZBJLF","text":"I edited it, because it tries to compile the proto files in the protbuf vendor folder and they can't be compiled in a single 1-liner","ts":"1471437545.000134"},{"type":"message","user":"U0XR6J961","text":"why not?","ts":"1471437608.000135"},{"type":"message","user":"U0ZJZBJLF","text":"it doesn't work because they have different packages, it works if you compile each package in its own command","ts":"1471437638.000136"},{"type":"message","user":"U0ZJZBJLF","text":"no idea why, but when i cd-ed to that test directory (it's a test dir...) and did protoc- bla bla *.proto it complained, but when I protoc'd each file, it worked.","ts":"1471437680.000137"},{"type":"message","user":"U0XR6J961","text":"i use","ts":"1471437697.000138"},{"type":"message","user":"U0XR6J961","text":"`protoc --go_out=plugins=grpc:. -I ~\/go\/src -I . *.proto`","ts":"1471437708.000139"},{"type":"message","user":"U0ZJZBJLF","text":"what's -I?","ts":"1471437728.000140"},{"type":"message","user":"U0XR6J961","text":"include","ts":"1471437828.000141"},{"type":"message","user":"U0ZJZBJLF","text":"well the compile protos script doesn't use the -I","ts":"1471437918.000142"},{"type":"message","user":"U0ZJZBJLF","text":"it doesn't matter anyway, I see no reason to compile protobuf test files in the protobuf vendor folder, no one uses them","ts":"1471437948.000143"},{"type":"message","user":"U0KPFAZNF","text":"yeah, we probably want to use an explicit list of .proto files, not something like $(shell find *.proto)","ts":"1471438012.000144"},{"type":"message","user":"U0KPFAZNF","text":"for that reason","ts":"1471438021.000145"},{"type":"message","user":"U0ZJZBJLF","text":"at the moment i simply added a crude grep -v, i'm working now on compilation errors, when I'm done I can look for something more elegant...","ts":"1471438050.000146"},{"type":"message","user":"U0XR6J961","text":"wat","ts":"1471438058.000147"},{"type":"message","user":"U0ZJZBJLF","text":"?","ts":"1471438072.000148"},{"type":"message","user":"U0XR6J961","text":"why are there multiple directories we have to compile proto files in?","ts":"1471438086.000149"},{"type":"message","user":"U0ZJZBJLF","text":"umm there are many","ts":"1471438096.000150"},{"type":"message","user":"U0ZJZBJLF","text":"i don't know why","ts":"1471438102.000151"},{"type":"message","user":"U0KPFAZNF","text":"yeah, its just how it is right now","ts":"1471438109.000152"},{"type":"message","user":"U0PB67X4K","text":"I thought there were 2 - one for the core fabric and one for the CA","ts":"1471438121.000153"},{"type":"message","user":"U0KPFAZNF","text":"a few components installed them down in the tree","ts":"1471438127.000154"},{"type":"message","user":"U0KPFAZNF","text":"<@U0PB67X4K>: i think there are dozens last time I looked","ts":"1471438140.000155"},{"type":"message","user":"U0ZJZBJLF","text":"also consensus, Gari","ts":"1471438150.000156"},{"type":"message","user":"U0PB67X4K","text":"oh - but not directly created by us?","ts":"1471438152.000157"},{"type":"message","user":"U0ZJZBJLF","text":"and examples","ts":"1471438154.000158"},{"type":"message","user":"U0XR6J961","text":"lol this is like a frat house","ts":"1471438158.000159","reactions":[{"name":"laughing","users":["U0ZJZBJLF","U0KM61BCP"],"count":2}]},{"type":"message","user":"U0KPFAZNF","text":"i dont recall, looking now","ts":"1471438161.000160"},{"type":"message","user":"U0XR6J961","text":"everybody just throws in their smelly stuff into some corner","ts":"1471438178.000161"},{"type":"message","user":"U0PB67X4K","text":"this is exactly why we should be using a completely new project structure for the next version of the fabric","ts":"1471438201.000162"},{"type":"message","user":"U0ZJZBJLF","text":"```\nfind . -name *.proto | grep -v vendor\n.\/core\/crypto\/attributes\/proto\/attributes.proto\n.\/core\/chaincode\/shim\/chaincode.proto\n.\/core\/chaincode\/shim\/java\/src\/main\/proto\/chaincode.proto\n.\/core\/chaincode\/shim\/java\/src\/main\/proto\/chaincodeevent.proto\n.\/membersrvc\/protos\/ca.proto\n.\/protos\/chaincode.proto\n.\/protos\/server_admin.proto\n.\/protos\/devops.proto\n.\/protos\/api.proto\n.\/protos\/fabric.proto\n.\/protos\/chaincodeevent.proto\n.\/protos\/events.proto\n.\/consensus\/pbft\/messages.proto\n.\/examples\/chaincode\/go\/utxo\/util\/dah.proto\n```","ts":"1471438212.000163"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F22565CTS\/-.sh|Untitled>","file":{"id":"F22565CTS","created":1471438217,"timestamp":1471438217,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0KPFAZNF","editable":true,"size":546,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F22565CTS\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F22565CTS\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F22565CTS\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F22565CTS-99d74e8ad3","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F22565CTS\/-.sh\/edit","preview":"Gregorys-MBP:fabric ghaskins$ find . -name \"*.proto\"\r\n.\/consensus\/pbft\/messages.proto\r\n.\/core\/chaincode\/shim\/chaincode.proto\r\n.\/core\/chaincode\/shim\/java\/src\/main\/proto\/chaincode.proto\r\n.\/core\/chaincode\/shim\/java\/src\/main\/proto\/chaincodeevent.proto\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Gregorys-MBP:fabric ghaskins<span class=\"cm-def\">$ find<\/span> . <span class=\"cm-attribute\">-name<\/span> <span class=\"cm-string\">&quot;*.proto&quot;<\/span><\/pre><\/div>\n<div><pre>.\/consensus\/pbft\/messages.proto<\/pre><\/div>\n<div><pre>.\/core\/chaincode\/shim\/chaincode.proto<\/pre><\/div>\n<div><pre>.\/core\/chaincode\/shim\/java\/src\/main\/proto\/chaincode.proto<\/pre><\/div>\n<div><pre>.\/core\/chaincode\/shim\/java\/src\/main\/proto\/chaincodeevent.proto<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":15,"lines_more":10,"preview_is_truncated":null,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1471438217.000164"},{"type":"message","user":"U0KPFAZNF","text":"opps, sorry <@U0ZJZBJLF>","ts":"1471438226.000165"},{"type":"message","user":"U0KPFAZNF","text":"crossed messages","ts":"1471438229.000166"},{"type":"message","user":"U0XR6J961","text":"why do we even need a script to compile all of these?","ts":"1471438255.000167"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: we dont, thats what I was saying","ts":"1471438264.000168"},{"type":"message","user":"U0XR6J961","text":"ah yes","ts":"1471438273.000169"},{"type":"message","user":"U0XR6J961","text":"good","ts":"1471438276.000170"},{"type":"message","user":"U0KPFAZNF","text":"before we had a makefile, the script was manually driven","ts":"1471438278.000171"},{"type":"message","user":"U0KPFAZNF","text":"after I wrote the makefile, I didnt have a chance to tackle the script, so the makefile just invokes the script, but that should go away","ts":"1471438298.000172"},{"type":"message","user":"U0KPFAZNF","text":"(ideally)","ts":"1471438324.000173"},{"type":"message","user":"U0KPFAZNF","text":"honestly, i dont have a problem with the .proto files being dispersed per se\u2026.we should be able to handle that intelligently with the build","ts":"1471438388.000174"},{"type":"message","user":"U0KPFAZNF","text":"(for one thing, having them dispersed is a more natural namespacing)","ts":"1471438404.000175"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1471438410.000176"},{"type":"message","user":"U0XR6J961","text":"but then we don't need to compile them centrally","ts":"1471438435.000177"},{"type":"message","user":"U0KPFAZNF","text":"the fact that some are dispersed and some arent is a bit sloppy I suppose","ts":"1471438438.000178"},{"type":"message","user":"U0KPFAZNF","text":"well, yes and no","ts":"1471438449.000179"},{"type":"message","user":"U0KPFAZNF","text":"for a traditional language\/environment thats probably true\u2026id have them be compiled with the compilation unit","ts":"1471438475.000180"},{"type":"message","user":"U0KPFAZNF","text":"golang is kind of weird","ts":"1471438480.000181"},{"type":"message","user":"U0KPFAZNF","text":"since the top level build just does something like \u201cgo build foo\u201d and then the transitive dependencies via go imports cause the build to meander all over your tree","ts":"1471438519.000182"},{"type":"message","user":"U0KPFAZNF","text":"so there isnt really a non-central build, ever","ts":"1471438533.000183"},{"type":"message","user":"U0KPFAZNF","text":"but do that point, perhaps we say \u201cwell the build is centrally oriented, so the protos should be too\"","ts":"1471438570.000184"},{"type":"message","user":"U0KPFAZNF","text":"just someone will have to come up with a more distinguished name for .\/consensus\/pbft\/messages.proto :wink:","ts":"1471438591.000185"},{"type":"message","user":"U0XR6J961","text":"i think in `proto\/` should be the stuff that defines the network\/storage API that is supposed to be fixed","ts":"1471438606.000186"},{"type":"message","user":"U0KPFAZNF","text":"thats fine with me","ts":"1471438619.000187"},{"type":"message","user":"U0XR6J961","text":"the stuff you could use to write your own implementation of everything","ts":"1471438626.000188"},{"type":"message","user":"U0KPFAZNF","text":"just someone needs to clean up the ones floating around like consensus","ts":"1471438633.000189"},{"type":"message","user":"U0XR6J961","text":"well, that's really internal to this specific implementation of consensus","ts":"1471438648.000190"},{"type":"message","user":"U0XR6J961","text":"of pbft","ts":"1471438654.000191"},{"type":"message","user":"U0KPFAZNF","text":"heh, understood","ts":"1471438658.000192"},{"type":"message","user":"U0KPFAZNF","text":"but now you are arguing both sides","ts":"1471438663.000193"},{"type":"message","user":"U0KPFAZNF","text":"oh, i see","ts":"1471438675.000194"},{"type":"message","user":"U0KPFAZNF","text":"i misunderstood your statement above","ts":"1471438680.000195"},{"type":"message","user":"U0XR6J961","text":"well, i'm still trying to understand what we're solving","ts":"1471438682.000196"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev-env\/p1471438606000186>","attachments":[{"from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev-env\/p1471438606000186","fallback":"[August 17th, 2016 5:56 AM] simon: i think in `proto\/` should be the stuff that defines the network\/storage API that is supposed to be fixed","ts":"1471438606.000186","author_subname":"simon","channel_id":"C0YQ1NHGD","channel_name":"fabric-dev-env","is_msg_unfurl":true,"text":"i think in `proto\/` should be the stuff that defines the network\/storage API that is supposed to be fixed","author_name":"Simon Schubert","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/simon","author_icon":"https:\/\/secure.gravatar.com\/avatar\/676aeb5acbd353b77e077be1b7bd1a6e.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-48.png","mrkdwn_in":["text"],"id":1,"footer":"Posted in #fabric-dev-env"}],"ts":"1471438701.000197"},{"type":"message","user":"U0KPFAZNF","text":"i took that as \u201call protos\"","ts":"1471438711.000199"},{"type":"message","user":"U0KPFAZNF","text":"but you were classifying certain types","ts":"1471438721.000200"},{"type":"message","user":"U0XR6J961","text":"i expect there to be a protocol\/storage definition, implying that other parties can do their own compatible implementations","ts":"1471438765.000201"},{"type":"message","user":"U0KPFAZNF","text":"heres my 2 cents: i have no strong opinion on whether the current distribution of .proto files is correct\/ideal","ts":"1471438769.000202"},{"type":"message","user":"U0XR6J961","text":"if that's not the goal, fine","ts":"1471438781.000203"},{"type":"message","user":"U0XR6J961","text":"the \"recompile proto files\" makefile should be in `proto\/` though","ts":"1471438800.000204"},{"type":"message","user":"U0XR6J961","text":"at least that's what i would do","ts":"1471438811.000205"},{"type":"message","user":"U0XR6J961","text":"`cd proto; make`","ts":"1471438817.000206"},{"type":"message","user":"U0XR6J961","text":"or is it protos?","ts":"1471438821.000207"},{"type":"message","user":"U0KPFAZNF","text":"i think that any mechanism that is going to dynamically recompile protos should be expressed as a standard make directive, like %.pb.go: %.proto\\n\\tprotoc $^","ts":"1471438828.000208"},{"type":"message","user":"U0XR6J961","text":"but that's not part of the normal build","ts":"1471438842.000209"},{"type":"message","user":"U0XR6J961","text":"recompiling them is a rare event","ts":"1471438848.000210"},{"type":"message","user":"U0XR6J961","text":"when you change a proto definition","ts":"1471438854.000211"},{"type":"message","user":"U0KPFAZNF","text":"right, so we want the make deps to incorporate that","ts":"1471438868.000212"},{"type":"message","user":"U0KPFAZNF","text":"we could try to move a makefile down into protos, but I am not sure that captures it properly since there are other proto files","ts":"1471438911.000213"},{"type":"message","user":"U0XR6J961","text":"that's my point","ts":"1471438924.000214"},{"type":"message","user":"U0XR6J961","text":"why is there even a script?","ts":"1471438930.000215"},{"type":"message","user":"U0XR6J961","text":"what's the goal","ts":"1471438935.000216"},{"type":"message","user":"U0KPFAZNF","text":"its legacy, it needs to go","ts":"1471438944.000217"},{"type":"message","user":"U0XR6J961","text":"or makefile target","ts":"1471438956.000218"},{"type":"message","user":"U0XR6J961","text":"same thing","ts":"1471438957.000219"},{"type":"message","user":"U0KPFAZNF","text":"what should happen is that something like \u201cpeer\u201d depends on build\/protos\/foo.pb.go","ts":"1471438984.000220"},{"type":"message","user":"U0KPFAZNF","text":"and then walk it backwards","ts":"1471439000.000221"},{"type":"message","user":"U0XR6J961","text":"but why?","ts":"1471439004.000222"},{"type":"message","user":"U0XR6J961","text":"we're committing the protoc outputs","ts":"1471439011.000223"},{"type":"message","user":"U0XR6J961","text":"so we don't have to compile it during build","ts":"1471439021.000224"},{"type":"message","user":"U0ZJZBJLF","text":"no we're not","ts":"1471439022.000225"},{"type":"message","user":"U0KPFAZNF","text":"thats the goal: to get rid of commited artifacts","ts":"1471439023.000226"},{"type":"message","user":"U0XR6J961","text":"oh!","ts":"1471439029.000227"},{"type":"message","user":"U0XR6J961","text":"i didn't know","ts":"1471439032.000228"},{"type":"message","user":"U0ZJZBJLF","text":"i mean","ts":"1471439036.000229"},{"type":"message","user":"U0KPFAZNF","text":"heh, np","ts":"1471439036.000230"},{"type":"message","user":"U0ZJZBJLF","text":"we are at the moment","ts":"1471439038.000231"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF>: have the JIRA id handy?","ts":"1471439077.000232"},{"type":"message","user":"U0XR6J961","text":"somebody said that it is better that way because then developers do not need protobufs installed locally","ts":"1471439081.000233"},{"type":"message","user":"U0ZJZBJLF","text":"yeah  1 sec","ts":"1471439085.000234"},{"type":"message","user":"U0ZJZBJLF","text":"i think 108, 109","ts":"1471439106.000235"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XR6J961>: i have said that, more specifically I am torn because that is a nice side effect","ts":"1471439108.000236"},{"type":"message","user":"U0ZJZBJLF","text":"<https:\/\/jira.hyperledger.org\/browse\/FAB-108>\n<https:\/\/jira.hyperledger.org\/browse\/FAB-109>","ts":"1471439116.000237"},{"type":"message","user":"U0KPFAZNF","text":"but it also has its own set of problems","ts":"1471439117.000238"},{"type":"message","user":"U0XR6J961","text":"like what?","ts":"1471439123.000239"},{"type":"message","user":"U0KPFAZNF","text":"well, we\u2019ve had a few bugs recently because devs were allowing the proto and pb.go to get out of sync","ts":"1471439155.000240"},{"type":"message","user":"U0XR6J961","text":"why bugs?","ts":"1471439166.000241"},{"type":"message","user":"U0XR6J961","text":"isn't the pb.go the authoritative then?","ts":"1471439176.000242"},{"type":"message","user":"U0KPFAZNF","text":"or more specifically, i think they committed a .pb.go that was built with an out of spec compiler","ts":"1471439236.000243"},{"type":"message","user":"U0KPFAZNF","text":"(related to the fact that proto3 was alpha\/beta)","ts":"1471439246.000244"},{"type":"message","user":"U0KPFAZNF","text":"which i understand would be the case if they dynamically built it too, but the difference is, now their out of spec environment was corrupting everyone","ts":"1471439269.000245"},{"type":"message","user":"U0XR6J961","text":"well same the other way around","ts":"1471439319.000246"},{"type":"message","user":"U0KPFAZNF","text":"since proto3 is now finalized, theres less risk of this happening (in either case) but committing the files is generally the way most projects are run","ts":"1471439324.000247"},{"type":"message","user":"U0XR6J961","text":"or maybe not the same way","ts":"1471439334.000248"},{"type":"message","user":"U0XR6J961","text":"i don't know","ts":"1471439340.000249"},{"type":"message","user":"U0XR6J961","text":"yes, committing makes sense","ts":"1471439357.000250"},{"type":"message","user":"U0XR6J961","text":"because then you can do a go get","ts":"1471439362.000251"},{"type":"message","user":"U0KPFAZNF","text":"if we _dont_ want to dynamically build them, we should at least add a jenkins check to ensure that the user didnt commit a .proto without updating the artifacts","ts":"1471439373.000252"},{"type":"message","user":"U0KPFAZNF","text":"so, one of the two needs to happen","ts":"1471439378.000253"},{"type":"message","user":"U0KPFAZNF","text":"either remove the artifacts and build dynamically, or check that they are synchronized","ts":"1471439405.000254"},{"type":"message","user":"U0XR6J961","text":"honestly, i think this is receiving too much attention","ts":"1471439406.000255"},{"type":"message","user":"U0XR6J961","text":"there are so many other things that are way more pressing","ts":"1471439413.000256"},{"type":"message","user":"U0XR6J961","text":"like, using this terrible viper + yaml","ts":"1471439421.000257"},{"type":"message","user":"U0KPFAZNF","text":"heh, why do you think I left it with the script ?","ts":"1471439427.000258"},{"type":"message","user":"U0KPFAZNF","text":":wink:","ts":"1471439429.000259"},{"type":"message","user":"U0XR6J961","text":"or how it is essentially impossible to install + run this monster","ts":"1471439446.000260"},{"type":"message","user":"U0KPFAZNF","text":"yeah, thats what I have been looking at","ts":"1471439467.000261"},{"type":"message","user":"U0XR6J961","text":"there needs to be a script (or any other executable) that the user can call, and everything works","ts":"1471439490.000262"},{"type":"message","user":"U0KPFAZNF","text":"This isnt done, but since we are on the subject","ts":"1471439523.000263"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/docs.google.com\/document\/d\/1MaBVoY0s2QVvA75ehKSFohvE6RNIzJD4PhPMKB9aFtA\/edit?usp=sharing>","ts":"1471439525.000264"},{"type":"message","user":"U0XR6J961","text":"at least for demo and local dev purposes","ts":"1471439526.000265"},{"type":"message","user":"U0KPFAZNF","text":"not done, nor even fully baked with what is there, but while we are discussing it","ts":"1471439568.000266"},{"type":"message","user":"U0XR6J961","text":"i think viper needs to go","ts":"1471439581.000267"},{"type":"message","user":"U0XR6J961","text":"and yaml","ts":"1471439585.000268"},{"type":"message","user":"U0XR6J961","text":"it may be easy for development","ts":"1471439592.000269"},{"type":"message","user":"U0XR6J961","text":"but not for the users","ts":"1471439595.000270"},{"type":"message","user":"U0XR6J961","text":"also, many configs need to come from the blockchain, and not from a config file that can be changed on the fly","ts":"1471439623.000271"},{"type":"message","user":"U0KPFAZNF","text":"I have no strong opinion on viper or yaml, but I do think we need to have a retooling of what constututes \u201cthe config\u201d and how that maps into the docker stuff","ts":"1471439624.000272"},{"type":"message","user":"U0KPFAZNF","text":"and I suspect at least part of the way to get there is to reconsider viper","ts":"1471439646.000273"},{"type":"message","user":"U0XR6J961","text":"the problem with viper is that you can misspell a key, and nobody ever tells you","ts":"1471439665.000274"},{"type":"message","user":"U0XR6J961","text":"maximum user unfriendly","ts":"1471439676.000275"},{"type":"message","user":"U0KPFAZNF","text":"for one, I think we need the notion of \u201c-c config\u201d as a command line option _before_ the config is loaded","ts":"1471439688.000276"},{"type":"message","user":"U0XR6J961","text":"sure","ts":"1471439696.000277"},{"type":"message","user":"U0XR6J961","text":"but the config really only would specify log levels and some ports\/addresses, no?","ts":"1471439722.000278"},{"type":"message","user":"U0KPFAZNF","text":"my understanding is there is a chicken\/egg scenario in the current program-opts parsing that might make this difficult","ts":"1471439723.000279"},{"type":"message","user":"U0KPFAZNF","text":"at this point, I have no strong opinion of what should be in there, but one of my main goals is to allow something like a version: to be specified and have that related to what images the docker engine consumes","ts":"1471439788.000280"},{"type":"message","user":"U0KPFAZNF","text":"for instance, if we had hyperledger\/fabric-peer:v1.0.0 and hyperledger\/fabric-membersrvc:v1.0.0 in dockerhub, then the different components should all be using the same version","ts":"1471439859.000281"},{"type":"message","user":"U0KPFAZNF","text":"right now, its completely undefined\u2026chaincode tries to run \u201cbaseimage:latest\u201d which is arbitrary","ts":"1471439883.000282"},{"type":"message","user":"U0XR6J961","text":"ah i see","ts":"1471439899.000283"},{"type":"message","user":"U0XR6J961","text":"probably that shouldn't be in the config, but sort of hard coded somewhere in the source?","ts":"1471439925.000284"},{"type":"message","user":"U0KPFAZNF","text":"what I would like to see is the suite of images (peer, membersrvc, ccenv, etc) to be tagged with the same version","ts":"1471439929.000285"},{"type":"message","user":"U0KPFAZNF","text":"yeah, i thought of that, and that is an option","ts":"1471439940.000286"},{"type":"message","user":"U0KPFAZNF","text":"but I am thinking someone somewhere might want to reconfigure it","ts":"1471439951.000287"},{"type":"message","user":"U0KPFAZNF","text":"maybe here is a compromise","ts":"1471439957.000288"},{"type":"message","user":"U0XR6J961","text":"oh you want everything be dockerized?","ts":"1471439958.000289"},{"type":"message","user":"U0KPFAZNF","text":"not per se, but what I do want to address is that the current system implies it _is_ dockerized but its not fully baked","ts":"1471439984.000290"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1471439990.000291"},{"type":"message","user":"U0XR6J961","text":"i don't understand why we have docker containers at all","ts":"1471440000.000292"},{"type":"message","user":"U0KPFAZNF","text":"so, i am not advocating that everything needs to be docker, but what I am saying is the docker stuff we have should work","ts":"1471440007.000293"},{"type":"message","user":"U0XR6J961","text":"why not just build and run a binary","ts":"1471440009.000294"},{"type":"message","user":"U0XR6J961","text":"suddenly, much less complexity","ts":"1471440034.000295"},{"type":"message","user":"U0KPFAZNF","text":"well, the docker stuff is interesting, for instance I am working on top of kubernetes\/openshift","ts":"1471440044.000296"},{"type":"message","user":"U0KPFAZNF","text":"and I would like fabric to be hosted there too","ts":"1471440053.000297"},{"type":"message","user":"U0KPFAZNF","text":"not sure, in some ways it reduces complexity, but point taken","ts":"1471440071.000298"},{"type":"message","user":"U0KPFAZNF","text":"but bottom line: we have an implied docker support, but its broken","ts":"1471440086.000299"},{"type":"message","user":"U0KPFAZNF","text":"and I aim to fix that (as well as making it conducive to building things like fabric-peer.rpm","ts":"1471440108.000300"},{"type":"message","user":"U0KPFAZNF","text":"right now, we cant do either","ts":"1471440116.000301"},{"type":"message","user":"U0XR6J961","text":"oh i mean docker to run chaincode","ts":"1471440170.000302"},{"type":"message","user":"U0KPFAZNF","text":"ah, well, that is another matter","ts":"1471440684.000303"},{"type":"message","user":"U0KPFAZNF","text":"i would love to see LXC instead, minimally","ts":"1471440696.000304"},{"type":"message","user":"U0KPFAZNF","text":"but that is a different conversation","ts":"1471440704.000305"},{"type":"message","user":"U0KPFAZNF","text":"thats a runtime thing though..compilation wise, I dont think docker is a terrible idea","ts":"1471440731.000306"},{"type":"message","user":"U0KPFAZNF","text":"in fact, it works out nicely in many respects","ts":"1471440738.000307"},{"type":"message","user":"U0PB67X4K","text":"<@U0KPFAZNF>:   we actually build docker containers for the BMX service and get everything working fine.  we don't use the fabric images because they are not conducive to actually running a service","ts":"1471444226.000308"},{"type":"message","user":"U0PB67X4K","text":"we run a Docker Swarm with overlay networking today","ts":"1471444240.000309"},{"type":"message","user":"U0PB67X4K","text":"actually 2 swarms - one for peers \/ CAs and one for chaincode","ts":"1471444265.000310"},{"type":"message","user":"U0KPFAZNF","text":"<@U0PB67X4K>: i dont think its far away from working, but I cant imagine you are just blindly consuming whats in dockerhub","ts":"1471444270.000311"},{"type":"message","user":"U0PB67X4K","text":"nope","ts":"1471444279.000312"},{"type":"message","user":"U0PB67X4K","text":"we build them ourselves","ts":"1471444284.000313"},{"type":"message","user":"U0KPFAZNF","text":"for one thing, the peer tries to reference \u201cbaseimage:latest\u201d to build chaincode","ts":"1471444288.000314"},{"type":"message","user":"U0KPFAZNF","text":"which only exists if you either run the build, or modify the yaml","ts":"1471444298.000315"},{"type":"message","user":"U0PB67X4K","text":"also - we run with TLS, etc and all that sucks in fabric today","edited":{"user":"U0PB67X4K","ts":"1471444320.000000"},"ts":"1471444306.000316"},{"type":"message","user":"U0KPFAZNF","text":"but I would like to to talk to you about what you are doing as I want to do similar in kubernetes","ts":"1471444328.000318"},{"type":"message","user":"U0KPFAZNF","text":"I assume you have your own pipeline \/ repository that is pushing the artifacts, including baseimage?","ts":"1471444367.000319"},{"type":"message","user":"U0PB67X4K","text":"kubernetes and even the new Docker Swarm mode add complexities because they are really based on scaling a set of containers together as a service.","ts":"1471444375.000320"},{"type":"message","user":"U0PB67X4K","text":"Yep","ts":"1471444380.000321"},{"type":"message","user":"U0PB67X4K","text":"And actually we are now making them \"mostly\" public","ts":"1471444391.000322"},{"type":"message","user":"U0KPFAZNF","text":"understood, though right now I dont care about the scaling aspects","ts":"1471444397.000323"},{"type":"message","user":"U0PB67X4K","text":"we add one more layer internally for our certs","ts":"1471444399.000324"},{"type":"message","user":"U0PB67X4K","text":"happy to set up some time to chat","ts":"1471444415.000325"},{"type":"message","user":"U0KPFAZNF","text":"peer is probably a better target for kubernetes petsets than it is for replica scaling anyway","ts":"1471444417.000326"},{"type":"message","user":"U0PB67X4K","text":"yes","ts":"1471444424.000327"},{"type":"message","user":"U0KPFAZNF","text":"but right now, i would be happy with single ca\/peer","ts":"1471444431.000328"},{"type":"message","user":"U0PB67X4K","text":"we actually even have a nice picture  now too :wink:","ts":"1471444441.000329"},{"type":"message","user":"U0KPFAZNF","text":"oh nice","ts":"1471444446.000330"},{"type":"message","user":"U0KPFAZNF","text":"anyway, regardless the stuff we push to dockerhub is broken and I want to fix that","ts":"1471444481.000331"},{"type":"message","user":"U0KPFAZNF","text":"i think we need strong versioning, for one","ts":"1471444494.000332"},{"type":"message","user":"U0PB67X4K","text":"yep - and we should really look at using docker autobuilds","ts":"1471444503.000333"},{"type":"message","user":"U0KPFAZNF","text":"(actually kubernetes\/openshift have almost the same problems and they solve it quite nicely","ts":"1471444513.000334"},{"type":"message","user":"U0PB67X4K","text":"especially if we get the git clone working","ts":"1471444515.000335"},{"type":"message","user":"U0KPFAZNF","text":"for instance, kubernetes can be deployed as docker and itself uses docker","ts":"1471444528.000336"},{"type":"message","subtype":"file_share","text":"<@U0PB67X4K|garisingh> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/garisingh\/F226ULUSE\/architecture-2.jpg|architecture-2.jpg>","file":{"id":"F226ULUSE","created":1471444538,"timestamp":1471444538,"name":"architecture-2.jpg","title":"architecture-2.jpg","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0PB67X4K","editable":false,"size":435456,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F226ULUSE\/architecture-2.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F226ULUSE\/download\/architecture-2.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F226ULUSE-42ae4476e8\/architecture-2_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F226ULUSE-42ae4476e8\/architecture-2_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F226ULUSE-42ae4476e8\/architecture-2_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":329,"thumb_360_h":360,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F226ULUSE-42ae4476e8\/architecture-2_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":438,"thumb_480_h":480,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F226ULUSE-42ae4476e8\/architecture-2_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F226ULUSE-42ae4476e8\/architecture-2_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":657,"thumb_720_h":720,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F226ULUSE-42ae4476e8\/architecture-2_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":876,"thumb_960_h":960,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F226ULUSE-42ae4476e8\/architecture-2_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":935,"thumb_1024_h":1024,"image_exif_rotation":1,"original_w":1932,"original_h":2117,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/garisingh\/F226ULUSE\/architecture-2.jpg","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F226ULUSE-591ec1964e","channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0,"num_stars":1},"user":"U0PB67X4K","upload":true,"display_as_bot":false,"username":"<@U0PB67X4K|garisingh>","bot_id":null,"ts":"1471444548.000337"},{"type":"message","user":"U0PB67X4K","text":"here's a glimpse at what we do","ts":"1471444555.000338"},{"type":"message","user":"U0PB67X4K","text":"we actually are running 1000 networks","ts":"1471444562.000339"},{"type":"message","user":"U0PB67X4K","text":"per pod","ts":"1471444566.000340"},{"type":"message","user":"U0KPFAZNF","text":"cool","ts":"1471444591.000341"},{"type":"message","user":"U0PB67X4K","text":"(not easy BTW)  :wink:","ts":"1471444600.000342"},{"type":"message","user":"U0ZJZBJLF","text":"hey, i'm working on the <https:\/\/jira.hyperledger.org\/browse\/FAB-109> issue, and when you do a \"make\" from scratch it needs to \"install\" \"protoc\"., from the issue: \n```\nThe disadvantage is that this requires developers to use Vagrant (it's hard not to already) or requires that they install and use the correct version of protobuf as defined in the Vagrant setup script.\n```\nprotoc can be either downloaded as prepared binaries or downloaded the source and then compiled but the compilation (from experience) takes ages.\nIf I include prepared binares, or have the makefile download them- that's kind of platform dependant:\n<https:\/\/github.com\/google\/protobuf\/releases>\n\nWhat can be (or is best to be) done?","attachments":[{"service_name":"GitHub","title":"google\/protobuf","title_link":"https:\/\/github.com\/google\/protobuf\/releases","text":"protobuf - Protocol Buffers - Google's data interchange format","fallback":"GitHub: google\/protobuf","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/1342004?v=3&s=400","from_url":"https:\/\/github.com\/google\/protobuf\/releases","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1471445095.000343"},{"type":"message","user":"U0TFEHX8E","text":"<@U0ZJZBJLF>: yes would be great to see someone tackle 108. Feel free to grab it.","ts":"1471446479.000345"},{"type":"message","user":"U0PB67X4K","text":"make sure you assign it to yourself - you should be able to?","ts":"1471446520.000346"},{"type":"message","user":"U0TFEHX8E","text":"yeah, looks like people can do that now","ts":"1471446543.000347"},{"type":"message","user":"U0ZJZBJLF","text":"I've already made all the needed changes for the code to migrate to V3","ts":"1471446555.000348"},{"type":"message","user":"U0TFEHX8E","text":"nice!","ts":"1471446560.000349"},{"type":"message","user":"U0ZJZBJLF","text":"it's compiling but i need to somehow support the devenv now, it's tricky","ts":"1471446576.000350"},{"type":"message","user":"U0ZJZBJLF","text":"and i don't know how to continue (see my comment ~ 3 comments above)","ts":"1471446598.000351"},{"type":"message","user":"U0ZJZBJLF","text":"and Gari, I assigned to myself","ts":"1471446618.000352","reactions":[{"name":"+1","users":["U0PB67X4K"],"count":1}]},{"type":"message","user":"U0PB67X4K","text":"minimally I think you need to make sure that it works with the Vagrant environment and I'd go with platform binaries for that (rather than compiling from source on startup).   I'll assume at some point as we move forward with the new architecture \/ projects we'll want to add support for working in the native environments?","ts":"1471446748.000353"},{"type":"message","user":"U0TFEHX8E","text":"yes, agree would rather use binaries as compiling is painful","ts":"1471446793.000354"},{"type":"message","user":"U0PB67X4K","text":"I'm happy to help \/ test for running code natively on OSX as well.  I do that already anyway so I always modify things to work","ts":"1471446844.000355"},{"type":"message","user":"U0PB67X4K","text":"the other (maybe not so clever) option is to use Docker to build \/ compile on various platforms?   Since we require Docker anyway.  You could imagine having a Docker image which basically mounts the src dir as a volume and outputs platform binaries","ts":"1471446943.000356"},{"type":"message","user":"U0PB67X4K","text":"not uncommon these days","ts":"1471446949.000357"},{"type":"message","user":"U0PB67X4K","text":"platform binaries for the fabric and ca that is","ts":"1471446972.000358"},{"type":"message","user":"U0PB67X4K","text":"my 2.5 cents","ts":"1471447057.000359"},{"user":"U1CS08EP3","text":"<@U1CS08EP3|ashishkel> has joined the channel","type":"message","subtype":"channel_join","ts":"1471601108.000360"},{"user":"U2368MLAW","text":"<@U2368MLAW|adrianclv> has joined the channel","type":"message","subtype":"channel_join","ts":"1471638521.000361"},{"user":"U190439J6","text":"<@U190439J6|kell> has joined the channel","type":"message","subtype":"channel_join","ts":"1471707515.000362"},{"user":"U1XL70KHB","text":"<@U1XL70KHB|gemsiva> has joined the channel","type":"message","subtype":"channel_join","ts":"1471787727.000363"},{"type":"message","user":"U0N0GDVJ5","text":"hi. I am seeing the following error when I try to setup fabric dev environment in Ubuntu.\n  \n==&gt; default: Setting up openjdk-8-jdk:amd64 (8u91-b14-0ubuntu4~14.04) ...\n==&gt; default: update-alternatives: using \/usr\/lib\/jvm\/java-8-openjdk-amd64\/bin\/appletviewer to provide \/usr\/bin\/appletviewer (appletviewer) in auto mode\n==&gt; default: update-alternatives: using \/usr\/lib\/jvm\/java-8-openjdk-amd64\/bin\/jconsole to provide \/usr\/bin\/jconsole (jconsole) in auto mode\n==&gt; default: Processing triggers for libc-bin (2.19-0ubuntu6.8) ...\n==&gt; default: update-alternatives: error: no alternatives for mozilla-javaplugin.so\n==&gt; default: update-java-alternatives: plugin alternative does not exist: \/usr\/lib\/jvm\/java-8-openjdk-amd64\/jre\/lib\/amd64\/IcedTeaPlugin.so\n==&gt; default: docker rmi -f hyperledger\/fabric-baseimage\n==&gt; default: Error response from daemon: No such image: hyperledger\/fabric-baseimage:latest\n==&gt; default: make: [base-image-clean] Error 1 (ignored)\n==&gt; default: docker rmi -f hyperledger\/fabric-src\n==&gt; default: Error response from daemon: No such image: hyperledger\/fabric-src:latest\n==&gt; default: make: [src-image-clean] Error 1 (ignored)\n==&gt; default: docker rmi -f hyperledger\/fabric-ccenv\n==&gt; default: Error response from daemon: No such image: hyperledger\/fabric-ccenv:latest\n==&gt; default: make: \n==&gt; default: [ccenv-image-clean] Error 1 (ignored)\n==&gt; default: docker rmi -f hyperledger\/fabric-peer\n==&gt; default: Error response from daemon: No such image: hyperledger\/fabric-peer:latest\n==&gt; default: make: [peer-image-clean] Error 1 (ignored)\n==&gt; default: docker rmi -f hyperledger\/fabric-membersrvc\n==&gt; default: Error response from daemon: No such image: hyperledger\/fabric-membersrvc:latest\n==&gt; default: make: \n==&gt; default: [membersrvc-image-clean] Error 1 (ignored)\n==&gt; default: cd sdk\/node &amp;&amp; make clean\n==&gt; default: make[1]: Entering directory `\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/sdk\/node'\n==&gt; default: make[1]: Nothing to be done for `clean'.\n\nI have been using fabric dev env in Windows and I am now trying to install in Ubuntu 14.04\n\n  \nhas anyone seen this before?","ts":"1471790260.000364"},{"user":"U0YJUECE8","text":"<@U0YJUECE8|silliman> has joined the channel","type":"message","subtype":"channel_join","ts":"1471792040.000365"},{"user":"U23GLSTS4","text":"<@U23GLSTS4|jlamiel> has joined the channel","type":"message","subtype":"channel_join","ts":"1471854615.000366"},{"user":"U23RZ2M4N","text":"<@U23RZ2M4N|gentrysherrill> has joined the channel","type":"message","subtype":"channel_join","ts":"1471909121.000367"},{"user":"U20T0R475","text":"<@U20T0R475|hyperpiper> has joined the channel","type":"message","subtype":"channel_join","ts":"1471923570.000368"},{"user":"U1KFCPFQA","text":"<@U1KFCPFQA|dave.enyeart> has joined the channel","type":"message","subtype":"channel_join","ts":"1471970709.000369"},{"type":"message","user":"U1D9R3WAX","text":"Hi, i am trying to set up a 4 validating peer environment. After stopping all docker containers, and deleting the \/var\/hyperledger\/production I always run into the same problem. Vp0- vp2 starts up fine, but for some reason vp3 says that it has already been registered....\n^[[36m17:02:53.386 [main] func1 -&gt; DEBU 00a^[[0m Registering validator with enroll ID: test_vp3\n17:02:53.386 [crypto] func1 -&gt; INFO 00b^[[0m Registering validator [test_vp3] with name [test_vp3]...\n17:02:53.386 [eventhub_producer] start -&gt; INFO 00c^[[0m event processor started\n^[[31m17:02:53.387 [crypto] register -&gt; ERRO 00d^[[0m [validator.test_vp3] Failed registering [test_vp3]: [Already registered.]\n^[[31m17:02:53.387 [crypto] register -&gt; ERRO 00e^[[0m [validator.test_vp3] Failed registering [test_vp3]: [Already registered.]\n17:02:53.387 [crypto] func1 -&gt; INFO 00f^[[0m Registering vlidator [test_vp3] with name [test_vp3]...done. Already registered or initiliazed.\n17:02:53.387 [crypto] func1 -&gt; INFO 010^[[0m Registering validator [test_vp3] with name [test_vp3]...done!\n^[[36m17:02:53.387 [main] func1 -&gt; DEBU 011^[[0m Initializing validator with enroll ID: test_vp3\n17:02:53.387 [crypto] func1 -&gt; INFO 012^[[0m Initializing validator [test_vp3]...\n17:02:53.390 [crypto] func1 -&gt; INFO 013^[[0m Initializing validator [test_vp3]...done!","ts":"1471972277.000370"},{"user":"U24M29R4G","text":"<@U24M29R4G|nikileshsa> has joined the channel","type":"message","subtype":"channel_join","ts":"1472075763.000371"},{"user":"U1WUAQJVC","text":"<@U1WUAQJVC|pushpalatha> has joined the channel","type":"message","subtype":"channel_join","ts":"1472108215.000372"},{"user":"U1CPB11D0","text":"<@U1CPB11D0|dianfu> has joined the channel","type":"message","subtype":"channel_join","ts":"1472175566.000373"},{"user":"U1S0JCAN4","text":"<@U1S0JCAN4|kaustubhoak> has joined the channel","type":"message","subtype":"channel_join","ts":"1472193752.000374"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> <@U11MANG9G> opps, slight miscommunication on 611","ts":"1472262728.000375"},{"type":"message","user":"U0KPFAZNF","text":"I needed to push the new vagrant\/docker images out before it could be merged","ts":"1472262749.000376"},{"type":"message","user":"U0KPFAZNF","text":"nbd, ill do it now","ts":"1472262753.000377"},{"type":"message","user":"U11MANG9G","text":"<@U0KPFAZNF>: Do you want us to revert?","ts":"1472262793.000378"},{"type":"message","user":"U11MANG9G","text":"(or can I leave this with you?)","ts":"1472262802.000379"},{"type":"message","user":"U0KPFAZNF","text":"nah, ill just generate\/push the images now","ts":"1472262814.000380"},{"type":"message","user":"U0KPFAZNF","text":"would have been ideal to do that before the merge, but ill just rush it in","ts":"1472262828.000381"},{"type":"message","user":"U11MANG9G","text":"OK, I\u2019ll stay with you online, if you need my +2.","ts":"1472262830.000382"},{"type":"message","user":"U11MANG9G","text":"sorry, (it was not clear to me == I missed this part)","ts":"1472262848.000383"},{"type":"message","user":"U0KPFAZNF","text":"thanks, but should be ok\u2026this is purely with atlas\/dockerhub at this point","ts":"1472262852.000384"},{"type":"message","user":"U11MANG9G","text":"Sure thing.","ts":"1472262861.000385"},{"type":"message","user":"U0KPFAZNF","text":"its my fault, I tried to add a comment with my +2 but since that gets cleared each new patch, it became lost","ts":"1472262876.000386"},{"type":"message","user":"U11MANG9G","text":"I\u2019m here until the sun is down...","ts":"1472262915.000387"},{"type":"message","user":"U11MANG9G","text":"(say at least another hour)\u2026 FWIW.","edited":{"user":"U11MANG9G","ts":"1472262997.000000"},"ts":"1472262945.000388"},{"type":"message","user":"U0KM61BCP","text":"I'm around too","ts":"1472262982.000389"},{"type":"message","user":"U0KPFAZNF","text":"cool, thanks","ts":"1472262993.000390"},{"type":"message","user":"U0KPFAZNF","text":"at some point, we should figure out how to get this into the CI pipeline","ts":"1472263003.000392"},{"type":"message","user":"U11MANG9G","text":"Yes, like a post-build step, conditionally ?","ts":"1472263029.000393"},{"type":"message","user":"U0KPFAZNF","text":"right now, I think im the only one who has ever published images\u2026so both from a \u201chit by a bus\u201d as well as efficiency standpoint","ts":"1472263046.000394"},{"type":"message","user":"U0KPFAZNF","text":"yeah, i think if there was a way to trigger a ci action on a new tag or something","ts":"1472263080.000395"},{"type":"message","user":"U11MANG9G","text":"A post-build step, from a repository (that requires sign-offs)\u2026 which auto-publishes?","ts":"1472263087.000396"},{"type":"message","user":"U0KPFAZNF","text":"then we could just tag each new baseimage release and have that kick a ci operation","ts":"1472263095.000397"},{"type":"message","user":"U0KPFAZNF","text":"yeah, if we could tie the tagging into 2+2 kind of thing","ts":"1472263115.000398"},{"type":"message","user":"U0KPFAZNF","text":"that would be perfect","ts":"1472263118.000399"},{"type":"message","user":"U11MANG9G","text":"Yes, something that we \u2018update\u2019 only when an update is needed.","ts":"1472263118.000400"},{"type":"message","user":"U0KPFAZNF","text":"right","ts":"1472263125.000401"},{"type":"message","user":"U0KPFAZNF","text":"it doesnt need to run every commit","ts":"1472263131.000402"},{"type":"message","user":"U11MANG9G","text":"And the SHA (that was added by `we know who` :wink:, will give an extra nice, binary level signature)","ts":"1472263157.000403"},{"type":"message","user":"U11MANG9G","text":"yes, right.","ts":"1472263160.000404"},{"type":"message","user":"U11MANG9G","text":"(hence the tag - I\u2019m with you)","ts":"1472263169.000405"},{"type":"message","user":"U0KPFAZNF","text":"vagrant 0.0.11 is building now, once its pushed, if you guys can confirm you can vagrant up from it, that would be good","ts":"1472263544.000406"},{"type":"message","user":"U11MANG9G","text":"OK","ts":"1472263556.000407"},{"type":"message","user":"U0KPFAZNF","text":"probably take at least 30m though","ts":"1472263561.000408"},{"type":"message","user":"U0KPFAZNF","text":"i might be racing the sun for you <@U11MANG9G>","ts":"1472263571.000409"},{"type":"message","user":"U11MANG9G","text":"Let\u2019s see, let\u2019s see.","ts":"1472263583.000410"},{"type":"message","user":"U11MANG9G","text":"This way, maybe I\u2019ll have less guilt-feelings re: my upcoming long holiday, completely off the grid!","ts":"1472263649.000411"},{"type":"message","user":"U20T0R475","text":"Does this mean I need to upgrade vagrant?","ts":"1472266038.000412"},{"type":"message","subtype":"file_share","text":"<@U20T0R475|hyperpiper> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/hyperpiper\/F25HW7QBB\/screen_shot_2016-08-26_at_9.43.12_pm.png|Screen Shot 2016-08-26 at 9.43.12 PM.png>","file":{"id":"F25HW7QBB","created":1472266048,"timestamp":1472266048,"name":"Screen Shot 2016-08-26 at 9.43.12 PM.png","title":"Screen Shot 2016-08-26 at 9.43.12 PM.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U20T0R475","editable":false,"size":29754,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F25HW7QBB\/screen_shot_2016-08-26_at_9.43.12_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F25HW7QBB\/download\/screen_shot_2016-08-26_at_9.43.12_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F25HW7QBB-9fb7892457\/screen_shot_2016-08-26_at_9.43.12_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F25HW7QBB-9fb7892457\/screen_shot_2016-08-26_at_9.43.12_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F25HW7QBB-9fb7892457\/screen_shot_2016-08-26_at_9.43.12_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":94,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F25HW7QBB-9fb7892457\/screen_shot_2016-08-26_at_9.43.12_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":125,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F25HW7QBB-9fb7892457\/screen_shot_2016-08-26_at_9.43.12_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","image_exif_rotation":1,"original_w":569,"original_h":148,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/hyperpiper\/F25HW7QBB\/screen_shot_2016-08-26_at_9.43.12_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F25HW7QBB-e9a488b9d1","channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U20T0R475","upload":true,"display_as_bot":false,"username":"<@U20T0R475|hyperpiper>","bot_id":null,"ts":"1472266050.000413"},{"type":"message","user":"U11MANG9G","text":"OK, for the record, I could reproduce this *before* the push:","ts":"1472267747.000414"},{"type":"message","subtype":"file_share","text":"<@U11MANG9G|jonathanlevi> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/jonathanlevi\/F25HXBYKZ\/-.tsv|Untitled>","file":{"id":"F25HXBYKZ","created":1472267757,"timestamp":1472267757,"name":"-.tsv","title":"Untitled","mimetype":"text\/tab-separated-values","filetype":"tsv","pretty_type":"TSV","user":"U11MANG9G","editable":true,"size":824,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F25HXBYKZ\/-.tsv?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F25HXBYKZ\/download\/-.tsv?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/jonathanlevi\/F25HXBYKZ\/-.tsv","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F25HXBYKZ-7183a13d30","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/jonathanlevi\/F25HXBYKZ\/-.tsv\/edit","preview":"=> vagrant up\r\nBringing machine 'default' up with 'virtualbox' provider...\r\n==> default: Box 'hyperledger\/fabric-baseimage' could not be found. Attempting to find and install...\r\n    default: Box Provider: virtualbox\r\n    default: Box Version: 0.0.11\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>=&gt; vagrant up<\/pre><\/div>\n<div><pre>Bringing machine 'default' up with 'virtualbox' provider...<\/pre><\/div>\n<div><pre>==&gt; default: Box 'hyperledger\/fabric-baseimage' could not be found. Attempting to find and install...<\/pre><\/div>\n<div><pre>    default: Box Provider: virtualbox<\/pre><\/div>\n<div><pre>    default: Box Version: 0.0.11<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":17,"lines_more":12,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U11MANG9G","upload":true,"display_as_bot":false,"username":"<@U11MANG9G|jonathanlevi>","bot_id":null,"ts":"1472267757.000415"},{"type":"message","user":"U11MANG9G","text":"----","ts":"1472267786.000416"},{"type":"message","user":"U11MANG9G","text":"And this is *after* the push (that is I\u2019m able to fetch &amp; download v0.1.11)","ts":"1472267825.000417"},{"type":"message","user":"U20T0R475","text":"<@U11MANG9G> are you on mac?","ts":"1472267982.000418"},{"type":"message","user":"U11MANG9G","text":"Harold: yes","ts":"1472268073.000419"},{"type":"message","user":"U20T0R475","text":"where do you fetch v0.1.11 from? I'm getting the same error you just screenshotted because I'm not up to date apparently","ts":"1472268248.000420"},{"type":"message","user":"U11MANG9G","text":"I\u2019m logging out soon (Shabbat dinner)\u2026 but basically, you need the latest source code.","ts":"1472268809.000421"},{"type":"message","user":"U11MANG9G","text":"Your commit level should be:","ts":"1472268856.000422"},{"type":"message","subtype":"file_share","text":"<@U11MANG9G|jonathanlevi> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/jonathanlevi\/F25HL6DJQ\/-.tsv|Untitled>","file":{"id":"F25HL6DJQ","created":1472268868,"timestamp":1472268868,"name":"-.tsv","title":"Untitled","mimetype":"text\/tab-separated-values","filetype":"tsv","pretty_type":"TSV","user":"U11MANG9G","editable":true,"size":231,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F25HL6DJQ\/-.tsv?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F25HL6DJQ\/download\/-.tsv?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/jonathanlevi\/F25HL6DJQ\/-.tsv","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F25HL6DJQ-37c91c2b11","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/jonathanlevi\/F25HL6DJQ\/-.tsv\/edit","preview":"| => git log -1\r\n\r\ncommit a087441bcf8b143cd1776d1c866be59cdddceb29\r\n\r\nMerge: d40a004 a98c59a\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>| =&gt; git log -1<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<div><pre>commit a087441bcf8b143cd1776d1c866be59cdddceb29<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<div><pre>Merge: d40a004 a98c59a<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":10,"lines_more":5,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U11MANG9G","upload":true,"display_as_bot":false,"username":"<@U11MANG9G|jonathanlevi>","bot_id":null,"ts":"1472268869.000423"},{"type":"message","user":"U11MANG9G","text":"(maybe just a `git pull` and `vagrant destroy`)","ts":"1472268901.000424"},{"type":"message","user":"U20T0R475","text":"okay thx","ts":"1472268957.000425"},{"type":"message","user":"U11MANG9G","text":"| =&gt; git log -1\ncommit a087441bcf8b143cd1776d1c866be59cdddceb29\nMerge: d40a004 a98c59a\nAuthor: Jonathan Levi &lt;jonathan@levi.name&gt;\nDate:   Sat Aug 27 01:39:35 2016 +0000\n    Merge \"Upgrade go protobuff from 3-beta to 3\"","ts":"1472268986.000426"},{"type":"message","user":"U0KPFAZNF","text":"<@U20T0R475>: there was a miscommunication between maintainers and the merge to reference 0.0.11 went in before the image was actually available.  I fixed this last night, and it should work now. Sorry for the confusion","ts":"1472298454.000427"},{"type":"message","user":"U12452RAP","text":"<@U1P6JA98S>: raised your error in this channel","ts":"1472301743.000428"},{"type":"message","user":"U12452RAP","text":"and use a snippet for long text","ts":"1472301817.000429"},{"user":"U1P1ZV6RF","text":"<@U1P1ZV6RF|matanyahu> has joined the channel","type":"message","subtype":"channel_join","ts":"1472309998.000430"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> <@U11MANG9G> <@U0ZJZBJLF> the 0.0.11 images are live now","ts":"1472310062.000431","reactions":[{"name":"+1","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U1P1ZV6RF","text":"i would like to report an error when deploying dev env via vagrant. Tested twice,  same result. It fails fairly late during setup processm when Fetching gmock-1.7.0 from the web: ==&gt; default: Google Mock not present.  Fetching gmock-1.7.0 from the web...\n==&gt; default:  \n==&gt; default:  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n==&gt; default:                                  Dload  Upload   Total   Spent    Left  Speed\n  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\n==&gt; default: \n==&gt; default:   0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\n==&gt; default: \n==&gt; default: 100  1582  100  1582    0     0   1463      0  0:00:01  0:00:01 --:--:--  1475\n==&gt; default: \n==&gt; default: [gmock-1.7.0.zip]\n==&gt; default:   End-of-central-directory signature not found.  Either this file is not\n==&gt; default:   a zipfile, or it constitutes one disk of a multi-part archive.  In the\n==&gt; default:   latter case the central directory and zipfile comment will be found on\n==&gt; default:   the last disk(s) of this archive.\n==&gt; default: unzip:  cannot find zipfile directory in one of gmock-1.7.0.zip or\n==&gt; default:         gmock-1.7.0.zip.zip, and cannot find gmock-1.7.0.zip.ZIP, period.\n==&gt; default: \n==&gt; default: The command '\/bin\/sh -c \/hyperledger\/baseimage\/scripts\/common\/setup.sh' returned a non-zero code: 9\n==&gt; default: make[1]: *** [docker] Error 9\n==&gt; default: make[1]: Leaving directory `\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/images\/base'\n==&gt; default: ERROR: Build-cache could not be compiled locally\n==&gt; default: make: *** [build\/image\/base\/.dummy] Error 255\nThe SSH command responded with a non-zero exit status. Vagrant\nassumes that this means the command failed. The output for this command\nshould be in the log above. Please read the output to determine what\nwent wrong.","edited":{"user":"U1P1ZV6RF","ts":"1472310116.000000"},"ts":"1472310082.000432"},{"type":"message","user":"U0KPFAZNF","text":"looks like we have another issue: the build needs to dep on protoc-gen-go since the protoc compiler is now run","ts":"1472310083.000433"},{"type":"message","user":"U0KPFAZNF","text":"<@U1P1ZV6RF> im actually not sure why gmock is giving you problems there, but note that the reason why this was being triggered to begin with is now fixed","ts":"1472310154.000435"},{"type":"message","user":"U0KPFAZNF","text":"(this logic is only triggered when the build-cache cant be found, and I just fixed that","ts":"1472310169.000436"},{"type":"message","user":"U0KPFAZNF","text":"so, if you tried again, i suspect it would skip this part that is failing for you","ts":"1472310187.000437"},{"type":"message","user":"U0KPFAZNF","text":"that said, i just found another bug","ts":"1472310191.000438"},{"type":"message","user":"U1P1ZV6RF","text":"<@U0KPFAZNF> : should i destroy vagrant deployment and start all over again?","ts":"1472310198.000439"},{"type":"message","user":"U0KPFAZNF","text":"i would hold off a little longer","ts":"1472310208.000440"},{"type":"message","user":"U1P1ZV6RF","text":"<@U0KPFAZNF> ok","ts":"1472310212.000441"},{"type":"message","user":"U0KPFAZNF","text":"if you do it now, i think youll get farther but still not all the way","ts":"1472310218.000442"},{"type":"message","user":"U1P1ZV6RF","text":"ok","ts":"1472310224.000443"},{"type":"message","user":"U0KPFAZNF","text":"hopefully have a fix asap, i know whats wrong its just a matter of time to get it tested\/committed","ts":"1472310248.000444"},{"type":"message","user":"U0KPFAZNF","text":"if you are desperate, i can give you a git-sha that should work","ts":"1472310269.000445"},{"type":"message","user":"U0KPFAZNF","text":"youll not be missing much","ts":"1472310279.000446"},{"type":"message","user":"U0KPFAZNF","text":"fwiw, i think if you do \u201cvagrant destroy: git checkout 17f69bd7; vagrant up\u201d, everything will work","ts":"1472310380.000447"},{"type":"message","user":"U1P1ZV6RF","text":"I can wait","ts":"1472310894.000448"},{"type":"message","user":"U1P1ZV6RF","text":"btw, I had couple of non-fatal errors during vagrant up","ts":"1472310911.000449"},{"type":"message","user":"U1P1ZV6RF","text":"once the deployment is again ready to go, I can report on these as well","ts":"1472310933.000450"},{"type":"message","user":"U0KPFAZNF","text":"<@U1P1ZV6RF> ok, sounds good","ts":"1472311780.000451"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> <@U11MANG9G> FYI, WIP to repair vagrant up","ts":"1472311796.000452"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/719\/>","ts":"1472311797.000453"},{"type":"message","user":"U0KPFAZNF","text":"this patch allows vagrant up to complete, but I am fairly sure it will break jenkins","ts":"1472311814.000454"},{"type":"message","user":"U0KPFAZNF","text":"until it can do both, do not merge","ts":"1472311823.000455"},{"type":"message","user":"U0KPFAZNF","text":"JFYI for now","ts":"1472311826.000456"},{"type":"message","user":"U1P1ZV6RF","text":"In the meantime, I would like to submit a comment to the deployment manual. I am not familiar with a way to propose changes so I will write it here. In <http:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/dev-setup\/devenv\/> the following is written with regards to the host: \"Note that your Host should not run within a VM. If you attempt this, the VM within your Host may fail to boot with a message indicating that VT-x is not available.\". That may imply that only physical hosts are accepted for this deployment. However, I managed to deploy it on an Ubuntu VM hosted on ESXi 6.0 with hardware virtualization activated through advanced settings (\"vhv.enable='true'\") which is a common option used to create nested virtualization environment with VMware software.","ts":"1472312111.000457"},{"type":"message","user":"U1P1ZV6RF","text":"I will post it to <#C111FMZ3M|documentation>","ts":"1472312440.000458"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0KPFAZNF>  This doesn't make sense to me, there is a \"gotools\" section and there it installs protoc-gen-go","edited":{"user":"U0ZJZBJLF","ts":"1472314320.000000"},"ts":"1472314310.000459"},{"type":"message","user":"U0KPFAZNF","text":"right, but nothing call it in the current \u201cvagrant up\"","ts":"1472314334.000461"},{"type":"message","user":"U0ZJZBJLF","text":"the setup doesn't?","ts":"1472314344.000462"},{"type":"message","user":"U0KPFAZNF","text":"not in the right order","ts":"1472314399.000463"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/setup.sh#L143>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/setup.sh#L143","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/setup.sh#L143","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1472314409.000464"},{"type":"message","user":"U0KPFAZNF","text":"calls \u201cmake peer gotools\u201d, but peer now depends on gotools","ts":"1472314424.000466"},{"type":"message","user":"U0ZJZBJLF","text":"Hmmm... funny this hasn't surfaced in the jenkins builds","edited":{"user":"U0ZJZBJLF","ts":"1472314532.000000"},"ts":"1472314518.000467"},{"type":"message","user":"U0ZJZBJLF","text":"and shame the protoc isn't \"vendor\" aware as the go build","ts":"1472314652.000469"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF> 16:16:25 Step 0 : FROM hyperledger\/fabric-baseimage:latest\n16:16:25  ---&gt; 88c9bb0f72c1\n16:16:25 Step 1 : ADD gopath.tar.bz2 $GOPATH\/src\/github.com\/hyperledger\/fabric\n16:16:30  ---&gt; 6c593d54070d\n16:16:30 Removing intermediate container ca38f1c9cbf5\n16:16:30 Successfully built 6c593d54070d\n16:16:30 docker tag hyperledger\/fabric-src hyperledger\/fabric-src:x86_64-0.6.0-SNAPSHOT-373b73c\n16:16:30 Error response from daemon: Conflict: Tag x86_64-0.6.0-SNAPSHOT-373b73c is already set to image 9430310a8adc1637f50ea6c996c709a3508f4efad075e73b52ca58d40d8972e4, if you want to replace it, please use -f option\n16:16:30 make: *** [build\/image\/src\/.dummy] Error 1\n16:16:30 Build step 'Execute shell' marked build as failure","ts":"1472314718.000470"},{"type":"message","user":"U0KM61BCP","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/640\/>","ts":"1472314748.000471"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> that's the failure we will get if Jenkins is building an image twice.  I could fix it so it's not fatal, but I am inclined to be careful so we don't paper over the real problem","ts":"1472315136.000472"},{"type":"message","user":"U0KPFAZNF","text":"If this was my WIP patch, I somewhat expected this failure mode","ts":"1472315167.000473"},{"type":"message","user":"U0KPFAZNF","text":"Still working on a real fix.  If this was elsewhere, I'll need to dig in to see why double build is occurring","edited":{"user":"U0KPFAZNF","ts":"1472315224.000000"},"ts":"1472315202.000474"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF>: we could fix this cheaply by fixing the order it's called from in the vagrant config, but I want to fix for real","ts":"1472315319.000476"},{"type":"message","user":"U0KPFAZNF","text":"I'll take care of it though","ts":"1472315338.000477"},{"type":"message","user":"U0KM61BCP","text":"It was the WIP fix for vagrant","ts":"1472315369.000478"},{"type":"message","user":"U0KPFAZNF","text":"As far as Jenkins, it is curious how it's managing to work there.  I suspect the Jenkins script happen to invoke go tools earlier","ts":"1472315376.000479"},{"type":"message","user":"U0KM61BCP","text":"which I am testing locally","ts":"1472315378.000480"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP>: ah, ok, disregard for now ","ts":"1472315393.000481"},{"type":"message","user":"U0KPFAZNF","text":"That was expected","ts":"1472315399.000482"},{"type":"message","user":"U0KM61BCP","text":"pls take a look at my make change","ts":"1472315408.000483"},{"type":"message","user":"U0KPFAZNF","text":"(Thus the WIP tag","ts":"1472315412.000484"},{"type":"message","user":"U0KPFAZNF","text":"Will do","ts":"1472315422.000485"},{"type":"message","user":"U0KM61BCP","text":"to avoid nuking baseimage","ts":"1472315427.000486"},{"type":"message","user":"U0KM61BCP","text":"thx","ts":"1472315429.000487"},{"type":"message","user":"U0KPFAZNF","text":"On mobile for now, but will look later","ts":"1472315433.000488"},{"type":"message","user":"U0KM61BCP","text":"ah ok, ciao","ts":"1472315445.000489"},{"type":"message","user":"U0KPFAZNF","text":"Later","ts":"1472315457.000490"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF> fwiw, I verified your patch locally - seems to get the new image and build correctly","ts":"1472316726.000491"},{"type":"message","user":"U0KM61BCP","text":"thanks","ts":"1472316728.000492"},{"type":"message","user":"U0KPFAZNF","text":"Awesome thanks for checking","ts":"1472317748.000493"},{"type":"message","user":"U1P1ZV6RF","text":"<@U0KPFAZNF> : got a new error after running vagrant up around 1 hour ago: ==&gt; default: Get:196 <http:\/\/ftp.vectranet.pl\/ubuntu\/> trusty-updates\/main gdisk amd64 0.8.8-1ubuntu0.1 [185 kB]\n==&gt; default: Fetched 78.7 MB in 4min 1s (326 kB\/s)\n==&gt; default: E\n==&gt; default: : Failed to fetch <mirror:\/\/mirrors.ubuntu.com\/mirrors.txt\/pool\/main\/l\/llvm-toolchain-3.4\/libllvm3.4_3.4-1ubuntu3_amd64.deb>  404  Not Found [Mirror: <http:\/\/ftp.vectranet.pl\/ubuntu\/>]\n==&gt; default: \n==&gt; default: E: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?\n==&gt; default: \n==&gt; default: The command '\/bin\/sh -c \/hyperledger\/scripts\/provision\/common.sh' returned a non-zero code: 100\n==&gt; default: make: \n==&gt; default: *** [build\/image\/base\/.dummy] Error 100\nThe SSH command responded with a non-zero exit status. Vagrant\nassumes that this means the command failed. The output for this command\nshould be in the log above. Please read the output to determine what\nwent wrong.","ts":"1472322936.000494"},{"type":"message","user":"U0ZJZBJLF","text":"This isn't a good week for ubuntu's mirrors...","ts":"1472324503.000495"},{"type":"message","user":"U1P1ZV6RF","text":"new error, earlier than last time: ==&gt; default: Step 12 : RUN chmod a+rw -R \/opt\/gopath\n==&gt; default:  ---&gt; Running in 0565544ffb65\n==&gt; default:  ---&gt; 5b356de5aa08\n==&gt; default: Removing intermediate container 0565544ffb65\n==&gt; default: Successfully built 5b356de5aa08\n==&gt; default: protoc --proto_path=\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/crypto\/attributes\/proto --go_out=plugins=grpc:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/crypto\/attributes\/proto \/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/crypto\/attributes\/proto\/*.proto\n==&gt; default: protoc-gen-go: program not found or is not executable\n==&gt; default: --go_out: protoc-gen-go: Plugin failed with status code 1.\n==&gt; default: make: \n==&gt; default: *** [core\/crypto\/attributes\/proto\/attributes.pb.go] Error 1\nThe SSH command responded with a non-zero exit status. Vagrant\nassumes that this means the command failed. The output for this command\nshould be in the log above. Please read the output to determine what\nwent wrong.\nmatanyahu@fabric-dev:~\/go\/src\/github.com\/hyperledger\/fabric\/devenv$","ts":"1472325936.000496"},{"type":"message","user":"U0ZJZBJLF","text":"It's a problem but I can help you resolve it on your computer","ts":"1472326119.000497"},{"type":"message","user":"U0ZJZBJLF","text":"is that ok to you? <@U1P1ZV6RF>","edited":{"user":"U0ZJZBJLF","ts":"1472326167.000000"},"ts":"1472326131.000498"},{"type":"message","user":"U1P1ZV6RF","text":"<@U0ZJZBJLF> : go ahead :slightly_smiling_face:","ts":"1472326216.000500"},{"type":"message","user":"U0ZJZBJLF","text":"`go get -u <http:\/\/github.com\/golang\/protobuf\/{proto,protoc-gen-go}|github.com\/golang\/protobuf\/{proto,protoc-gen-go}>` add this to line 115 in `devenv\/setup.sh`","edited":{"user":"U0ZJZBJLF","ts":"1472326330.000000"},"ts":"1472326322.000501"},{"type":"message","user":"U1P1ZV6RF","text":"on my way","ts":"1472326343.000503"},{"type":"message","user":"U0ZJZBJLF","text":"tell me if it doesn't work","ts":"1472326348.000504"},{"type":"message","user":"U1P1ZV6RF","text":"btw, I am costantly getting this non-fatal error : ==&gt; default: Running provisioner: shell...\n    default: Running: inline script\n==&gt; default: stdin: is not a tty\n==&gt; default: ++ export DOCKER_STORAGE_BACKEND=\n==&gt; default: ++ DOCKER_STORAGE_BACKEND=\n==&gt; default: ++ cd \/hyperledger\/devenv\n==&gt; default: ++ .\/setup.sh\n==&gt; default: .\/setup.sh: line 40: ---;;---: command not found\n==&gt; default: .\/setup.sh: command substitution: line 40: syntax error near unexpected token `||'\n==&gt; default: .\/setup.sh: command substitution: line 40: `    ||    '","ts":"1472326388.000505"},{"type":"message","user":"U0ZJZBJLF","text":"and it continues on?","ts":"1472326404.000506"},{"type":"message","user":"U1P1ZV6RF","text":"yes","ts":"1472326411.000507"},{"type":"message","user":"U0ZJZBJLF","text":"well i have a theory why this happens but it's too funny to say it","ts":"1472326486.000508"},{"type":"message","user":"U0ZJZBJLF","text":"in the same file there is a robot  in ASCII art, I think it's because of it","ts":"1472326509.000509"},{"type":"message","user":"U1P1ZV6RF","text":"...","ts":"1472326520.000510"},{"type":"message","user":"U0ZJZBJLF","text":"maybe the here document isn't closing well or something","ts":"1472326527.000511"},{"type":"message","user":"U0ZJZBJLF","text":"delete the robot","ts":"1472326531.000512"},{"type":"message","user":"U0ZJZBJLF","text":"delete lines 40-&gt;81 including","edited":{"user":"U0ZJZBJLF","ts":"1472326581.000000"},"ts":"1472326568.000513"},{"type":"message","user":"U1P1ZV6RF","text":"done, running vagrant up again","ts":"1472326765.000519"},{"type":"message","user":"U1P1ZV6RF","text":"does vagrant up invoke setup.sh?","ts":"1472326778.000520"},{"type":"message","user":"U0ZJZBJLF","text":"I think","ts":"1472326789.000521"},{"type":"message","user":"U0ZJZBJLF","text":"you can look at the `Vagrantfile`","ts":"1472326800.000522"},{"type":"message","user":"U0ZJZBJLF","text":"`cd #{SRCMOUNT}\/devenv`\n`.\/setup.sh` looks like it","edited":{"user":"U0ZJZBJLF","ts":"1472326832.000000"},"ts":"1472326823.000523"},{"type":"message","user":"U1P1ZV6RF","text":"yep, it does","ts":"1472326870.000525"},{"type":"message","user":"U1P1ZV6RF","text":"will keep you informed on results","ts":"1472327024.000526"},{"type":"message","user":"U24M29R4G","text":"reposting here.. from <#C0Y4PEU22|fabric> dev ...<https:\/\/hyperledgerproject.slack.com\/files\/nikileshsa\/F25JPPKD1\/consistently_failing_while_trying_to_make_peer_in_one_of_my_nodes____not_able_to_download_file_from_maven_repo_from_within_docker_container.txt>","ts":"1472328142.000527"},{"type":"message","subtype":"file_mention","text":"<@U24M29R4G|nikileshsa> mentioned a file: <https:\/\/hyperledgerproject.slack.com\/files\/nikileshsa\/F25JPPKD1\/consistently_failing_while_trying_to_make_peer_in_one_of_my_nodes____not_able_to_download_file_from_maven_repo_from_within_docker_container.txt|Consistently_failing_while_trying_to_make_peer_in_one_of_my_nodes____not_able_to_download_file_from_maven_repo_from_within_docker_container.txt>.","file":{"id":"F25JPPKD1","created":1472327728,"timestamp":1472327728,"name":"Consistently_failing_while_trying_to_make_peer_in_one_of_my_nodes____not_able_to_download_file_from_maven_repo_from_within_docker_container.txt","title":"Consistently failing while trying to make peer in one of my nodes..  not able to download file from maven repo from within docker container","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U24M29R4G","editable":true,"size":3663,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F25JPPKD1\/consistently_failing_while_trying_to_make_peer_in_one_of_my_nodes____not_able_to_download_file_from_maven_repo_from_within_docker_container.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F25JPPKD1\/download\/consistently_failing_while_trying_to_make_peer_in_one_of_my_nodes____not_able_to_download_file_from_maven_repo_from_within_docker_container.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/nikileshsa\/F25JPPKD1\/consistently_failing_while_trying_to_make_peer_in_one_of_my_nodes____not_able_to_download_file_from_maven_repo_from_within_docker_container.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F25JPPKD1-6a96cc71b1","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/nikileshsa\/F25JPPKD1\/consistently_failing_while_trying_to_make_peer_in_one_of_my_nodes____not_able_to_download_file_from_maven_repo_from_within_docker_container.txt\/edit","preview":"Step 1 : FROM hyperledger\/fabric-baseimage:latest\r\n ---> 619993645be1\r\nStep 2 : ADD gopath.tar.bz2 $GOPATH\/src\/github.com\/hyperledger\/fabric\r\n ---> 971486e64e37\r\nRemoving intermediate container 43943ad290b8\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Step 1 : FROM hyperledger\/fabric-baseimage:latest<\/pre><\/div>\n<div><pre> ---&gt; 619993645be1<\/pre><\/div>\n<div><pre>Step 2 : ADD gopath.tar.bz2 $GOPATH\/src\/github.com\/hyperledger\/fabric<\/pre><\/div>\n<div><pre> ---&gt; 971486e64e37<\/pre><\/div>\n<div><pre>Removing intermediate container 43943ad290b8<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":78,"lines_more":73,"preview_is_truncated":true,"channels":["C0YPYBVJM"],"groups":[],"ims":[],"comments_count":0},"user":"U24M29R4G","ts":"1472328143.000528"},{"type":"message","user":"U24M29R4G","text":"the wget of the file works from outside of the build process ...","ts":"1472328200.000529"},{"type":"message","subtype":"file_share","text":"<@U24M29R4G|nikileshsa> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/nikileshsa\/F25LN328J\/pasted_image_at_2016_08_27_01_03_pm.png|Pasted image at 2016-08-27, 1:03 PM>","file":{"id":"F25LN328J","created":1472328223,"timestamp":1472328223,"name":"Pasted image at 2016_08_27 01_03 PM.png","title":"Pasted image at 2016-08-27, 1:03 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U24M29R4G","editable":false,"size":84993,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F25LN328J\/pasted_image_at_2016_08_27_01_03_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F25LN328J\/download\/pasted_image_at_2016_08_27_01_03_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F25LN328J-5f2c548186\/pasted_image_at_2016_08_27_01_03_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F25LN328J-5f2c548186\/pasted_image_at_2016_08_27_01_03_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F25LN328J-5f2c548186\/pasted_image_at_2016_08_27_01_03_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":75,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F25LN328J-5f2c548186\/pasted_image_at_2016_08_27_01_03_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":100,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F25LN328J-5f2c548186\/pasted_image_at_2016_08_27_01_03_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F25LN328J-5f2c548186\/pasted_image_at_2016_08_27_01_03_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":149,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F25LN328J-5f2c548186\/pasted_image_at_2016_08_27_01_03_pm_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":199,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F25LN328J-5f2c548186\/pasted_image_at_2016_08_27_01_03_pm_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":213,"image_exif_rotation":1,"original_w":2206,"original_h":458,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/nikileshsa\/F25LN328J\/pasted_image_at_2016_08_27_01_03_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F25LN328J-60227e55c7","channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U24M29R4G","upload":true,"display_as_bot":false,"username":"<@U24M29R4G|nikileshsa>","bot_id":null,"ts":"1472328227.000530"},{"type":"message","user":"U24M29R4G","text":"is there a workaround?","ts":"1472328252.000531"},{"type":"message","user":"U0ZJZBJLF","text":"it didn't work for you because of luck,  did you try to re-run it and it failed on the same file?","ts":"1472328358.000534"},{"type":"message","user":"U24M29R4G","text":"i have been trying on this node since yesterday.. multiple times.. i am able to reproduce this consistently..","ts":"1472328429.000535"},{"type":"message","user":"U24M29R4G","text":"so not sure..","ts":"1472328494.000536"},{"type":"message","user":"U0ZJZBJLF","text":"on the same file?!","ts":"1472328508.000537"},{"type":"message","user":"U24M29R4G","text":"yeah..","ts":"1472328541.000538"},{"type":"message","user":"U0ZJZBJLF","text":"you can connect to the vagrant while the setup is running (i think), via ssh to localhost:2222","ts":"1472328547.000539"},{"type":"message","user":"U0ZJZBJLF","text":"and to troubleshoot there","ts":"1472328554.000540"},{"type":"message","user":"U24M29R4G","text":"oh wait.. forgot to mention... i am running this outside of vagrant..","ts":"1472328614.000541"},{"type":"message","user":"U0ZJZBJLF","text":"so... I'm not sure what you mean by saying \"from outside of the build process\"","ts":"1472328630.000542"},{"type":"message","user":"U0ZJZBJLF","text":"you're invoking setup.sh yourself?","ts":"1472328639.000543"},{"type":"message","user":"U0ZJZBJLF","text":"oh, wait- I'm confused with the talk about the setup.sh above. You're running `Make` on the project root dir I assume?","edited":{"user":"U0ZJZBJLF","ts":"1472328723.000000"},"ts":"1472328712.000544"},{"type":"message","user":"U24M29R4G","text":"<https:\/\/cbf-fabric-docs.readthedocs.io\/en\/latest\/dev-setup\/build\/> ... there is some documentation under the title \"Building outside of Vagrant\"","ts":"1472328775.000546"},{"type":"message","user":"U24M29R4G","text":"yes","ts":"1472328795.000547"},{"type":"message","user":"U24M29R4G","text":"i am trying to run a make on the root...   \/home\/cloud-user\/go\/src\/github.com\/hyperledger\/fabric","ts":"1472328833.000548"},{"type":"message","user":"U24M29R4G","text":"did you get?","ts":"1472328882.000549"},{"type":"message","user":"U0ZJZBJLF","text":"yeah","ts":"1472328999.000552"},{"type":"message","user":"U0ZJZBJLF","text":"ohh I know","ts":"1472329007.000553"},{"type":"message","user":"U0ZJZBJLF","text":"I think the download happens inside docker","ts":"1472329026.000554"},{"type":"message","user":"U24M29R4G","text":"yeah..","ts":"1472329032.000555"},{"type":"message","user":"U24M29R4G","text":"outside of docker.. its working..","ts":"1472329046.000556"},{"type":"message","user":"U0ZJZBJLF","text":"try for a second to do `docker images` and then take that docker image and wget with it that file (`docker run hyperledger\/fabric-baseimage wget bla bla`)","edited":{"user":"U0ZJZBJLF","ts":"1472329327.000000"},"ts":"1472329184.000557"},{"type":"message","user":"U24M29R4G","text":"yeah trying that..","ts":"1472329345.000561"},{"type":"message","user":"U24M29R4G","text":"thanks..","ts":"1472329358.000562"},{"type":"message","user":"U24M29R4G","text":"so the download works from hyperledger\/fabric-baseimage. the particular download that fails is part of the build process from the docker build -t hyperledger\/fabric-javaenv build\/image\/javaenv","ts":"1472329643.000563"},{"type":"message","user":"U24M29R4G","text":"i think..","ts":"1472329647.000564"},{"type":"message","user":"U0ZJZBJLF","text":"and this happens only for that file? *all the time the same file?* it's so weird....","edited":{"user":"U0ZJZBJLF","ts":"1472329726.000000"},"ts":"1472329710.000565"},{"type":"message","user":"U24M29R4G","text":"yeah..","ts":"1472329736.000567"},{"type":"message","user":"U0ZJZBJLF","text":"you can try something crazy","ts":"1472329752.000568","reactions":[{"name":"+1::skin-tone-4","users":["U24M29R4G"],"count":1}]},{"type":"message","user":"U0ZJZBJLF","text":"setup a file http server locally(i.e `python -m SimpleHTTPServer 80` ), and serve that file over http, and also override the host in \/etc\/hosts to resolve that dns name as your computer","edited":{"user":"U0ZJZBJLF","ts":"1472329861.000000"},"ts":"1472329790.000569"},{"type":"message","user":"U24M29R4G","text":"yeah.. we can try that..","ts":"1472329933.000571"},{"type":"message","user":"U24M29R4G","text":"will let you know if that works..","ts":"1472330042.000572"},{"user":"U25DG7QQ2","text":"<@U25DG7QQ2|lorenzoasr> has joined the channel","type":"message","subtype":"channel_join","ts":"1472330989.000573"},{"type":"message","user":"U24M29R4G","text":"and it worked!","ts":"1472333160.000574"},{"type":"message","user":"U24M29R4G","text":"thanks yacovm","ts":"1472333168.000575","reactions":[{"name":"+1","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U1P1ZV6RF","text":"non-fatal error during vagrant up : ==&gt; default: Get:196 <http:\/\/ftp.vectranet.pl\/ubuntu\/> trusty-updates\/main gdisk amd64 0.8.8-1ubuntu0.1 [185 kB]\n==&gt; default: debconf: unable to initialize frontend: Dialog\n==&gt; default: debconf: (TERM is not set, so the dialog frontend is not usable.)\n==&gt; default: debconf: falling back to frontend: Readline\n==&gt; default: \n==&gt; default: debconf: unable to initialize frontend: Readline\n==&gt; default: debconf: (This frontend requires a controlling tty.)\n==&gt; default: debconf: falling back to frontend: Teletype\n==&gt; default: \n==&gt; default: dpkg-preconfigure: unable to re-open stdin: \n==&gt; default: \n==&gt; default: Fetched 85.2 MB in 54s (1562 kB\/s)","ts":"1472333172.000576"},{"type":"message","user":"U1P1ZV6RF","text":"<@U0ZJZBJLF> : just wanted to let you know that after a modification of setup.sh (line 115 only, I did not touch the ascii part) the update looks like it went fine: the robot ASCII art did not appear when I did vagrant ssh. Before doing this I deleted the entire git clone and recreated it again to make sure that installation files are up to date","edited":{"user":"U1P1ZV6RF","ts":"1472334702.000000"},"ts":"1472334604.000577"},{"type":"message","user":"U1P1ZV6RF","text":"what does it mean that there are no _[test files]_ for certain components when I invoked make *unit-test* from vagrant VM?","ts":"1472335952.000579"},{"type":"message","user":"U1P1ZV6RF","text":"My tests fail with following output : 2016\/08\/27 22:13:13 Replica 1 received an unknown message type &lt;nil&gt;\n--- FAIL: TestClassicBackToBackStateTransfer (60.36s)\n2016\/08\/27 22:13:13 Halting timer\npanic: Test network took more than 60 seconds to resolve requests, this usually indicates a hang [recovered]\n\tpanic: Test network took more than 60 seconds to resolve requests, this usually indicates a hang\n\ngoroutine 191 [running]:\npanic(0xb3ba40, 0xc820470f20)\n\t\/opt\/go\/src\/runtime\/panic.go:464 +0x3e6\ntesting.tRunner.func1(0xc820257680)\n\t\/opt\/go\/src\/testing\/testing.go:467 +0x192\npanic(0xb3ba40, 0xc820470f20)\n\t\/opt\/go\/src\/runtime\/panic.go:426 +0x4e9\n<http:\/\/github.com\/hyperledger\/fabric\/consensus\/pbft.(*testnet).process|github.com\/hyperledger\/fabric\/consensus\/pbft.(*testnet).process>(0xc8204ed700, 0x0, 0x0)\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/consensus\/pbft\/mock_network_test.go:230 +0x33e\n<http:\/\/github.com\/hyperledger\/fabric\/consensus\/pbft.TestClassicBackToBackStateTransfer(0xc820257680)|github.com\/hyperledger\/fabric\/consensus\/pbft.TestClassicBackToBackStateTransfer(0xc820257680)>\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/consensus\/pbft\/batch_test.go:334 +0x3c3\ntesting.tRunner(0xc820257680, 0x1416f90)\n\t\/opt\/go\/src\/testing\/testing.go:473 +0x98\ncreated by testing.RunTests\n\t\/opt\/go\/src\/testing\/testing.go:582 +0x892\nFAIL\t<http:\/\/github.com\/hyperledger\/fabric\/consensus\/pbft|github.com\/hyperledger\/fabric\/consensus\/pbft>\t63.242s\nerror: exit status 1\npanic: EOF\n\ngoroutine 1 [running]:\npanic(0x544960, 0xc82000a170)\n\t\/opt\/go\/src\/runtime\/panic.go:464 +0x3e6\nmain.main()\n\t\/opt\/gopath\/src\/github.com\/AlekSi\/gocov-xml\/gocov-xml.go:60 +0x177\nStopping peer..\nmake: *** [unit-test] Error 2\nvagrant@hyperledger-devenv:v0.0.11-a087441:\/opt\/gopath\/src\/github.com\/hyperledge","ts":"1472336056.000580"},{"type":"message","user":"U20T0R475","text":"I don't know if it's related to the above problems but my vagrant failed with this message while doing `vagrant up`","ts":"1472341557.000581"},{"type":"message","subtype":"file_share","text":"<@U20T0R475|hyperpiper> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/hyperpiper\/F25LYQX6K\/screen_shot_2016-08-27_at_6.43.01_pm.png|Screen Shot 2016-08-27 at 6.43.01 PM.png>","file":{"id":"F25LYQX6K","created":1472341577,"timestamp":1472341577,"name":"Screen Shot 2016-08-27 at 6.43.01 PM.png","title":"Screen Shot 2016-08-27 at 6.43.01 PM.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U20T0R475","editable":false,"size":27693,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F25LYQX6K\/screen_shot_2016-08-27_at_6.43.01_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F25LYQX6K\/download\/screen_shot_2016-08-27_at_6.43.01_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F25LYQX6K-47bb3ce67d\/screen_shot_2016-08-27_at_6.43.01_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F25LYQX6K-47bb3ce67d\/screen_shot_2016-08-27_at_6.43.01_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F25LYQX6K-47bb3ce67d\/screen_shot_2016-08-27_at_6.43.01_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":95,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F25LYQX6K-47bb3ce67d\/screen_shot_2016-08-27_at_6.43.01_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":127,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F25LYQX6K-47bb3ce67d\/screen_shot_2016-08-27_at_6.43.01_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","image_exif_rotation":1,"original_w":538,"original_h":142,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/hyperpiper\/F25LYQX6K\/screen_shot_2016-08-27_at_6.43.01_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F25LYQX6K-957e72d8c9","channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U20T0R475","upload":true,"display_as_bot":false,"username":"<@U20T0R475|hyperpiper>","bot_id":null,"ts":"1472341578.000582"},{"type":"message","user":"U20T0R475","text":"Any advice or tips on what to do?","ts":"1472341729.000583"},{"type":"message","user":"U0KPFAZNF","text":"<@U20T0R475> this is a known issue, being worked on here: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/719\/>","ts":"1472348096.000584"},{"type":"message","user":"U0KPFAZNF","text":"hopefully will merge it or a close version to it, shortly","ts":"1472348112.000585"},{"type":"message","user":"U20T0R475","text":"ok thx","ts":"1472356501.000586"},{"type":"message","user":"U0ZJZBJLF","text":"<@U1P1ZV6RF>  - \"what does it mean that there are no _[test files]_ for certain components when I invoked make *unit-test* from vagrant VM?\" that's ok. it means there are no tests in that package\/folder. \nAbout the failure- it shouldn't happen, do you give the VM enough resources? (CPU\/mem)","ts":"1472360814.000587"},{"type":"message","user":"U1P1ZV6RF","text":"the host has 2 cores and 16gb of ram, the vm is generated by vagrant","ts":"1472367445.000588"},{"type":"message","user":"U1P1ZV6RF","text":"2nd time it went fine: ok  \t<http:\/\/github.com\/hyperledger\/fabric\/tools\/dbutility|github.com\/hyperledger\/fabric\/tools\/dbutility>\t0.651s\tcoverage: 31.9% of statements\nStopping peer..","ts":"1472367692.000589"},{"type":"message","user":"U1P1ZV6RF","text":"weird, got another error, even after reloading vagrant vm: FAIL\t<http:\/\/github.com\/hyperledger\/fabric\/consensus\/pbft|github.com\/hyperledger\/fabric\/consensus\/pbft>\t63.609s\nerror: exit status 1\npanic: EOF\n\ngoroutine 1 [running]:\npanic(0x544960, 0xc82000a170)\n\t\/opt\/go\/src\/runtime\/panic.go:464 +0x3e6\nmain.main()\n\t\/opt\/gopath\/src\/github.com\/AlekSi\/gocov-xml\/gocov-xml.go:60 +0x177\nStopping peer..\nmake: *** [unit-test] Error 2\nvagrant@hyperledger-devenv:v0.0.11-a087441:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$","ts":"1472370822.000590"},{"type":"message","user":"U0ZJZBJLF","text":"can you post the whole thing? the entire tests output <@U1P1ZV6RF>","edited":{"user":"U0ZJZBJLF","ts":"1472372367.000000"},"ts":"1472372355.000591"},{"type":"message","user":"U1P1ZV6RF","text":"I ran \"make behave\" tests with following results - anything I should be worried about before going further with a deployment of development environment: Failing scenarios:\n  peer_basic.feature:582  chaincode example02 with 4 peers and 1 membersrvc, issue #680 (State transfer) -- @1.1 Consensus Options\n  peer_basic.feature:1081  chaincode example02 with 4 peers, stop and start alternates, reverse\n  peer_basic.feature:1380  chaincode authorizable_counter with 4 peers, two stopped, bring back both -- @1.1 Consensus Options\n  peer_basic.feature:1381  chaincode authorizable_counter with 4 peers, two stopped, bring back both -- @1.2 Consensus Options\n  peer_logging.feature:12  Invoke is attempted after deploy in Dev Mode\n  peer_logging.feature:22  Query is attempted after deploy in Dev Mode\n  peer_logging.feature:32  Invoke is attempted before deploy in Dev Mode\n  peer_logging.feature:40  Query is attempted before deploy in Dev Mode\n\n3 features passed, 2 failed, 3 skipped\n30 scenarios passed, 8 failed, 8 skipped\n451 steps passed, 8 failed, 292 skipped, 0 undefined\nTook 36m24.137s\nmake: *** [behave] Error 1","ts":"1472396352.000593"},{"type":"message","user":"U0PB67X4K","text":"out of curiosity (and really because I am kinda lazy) - what is the Docker version being used inside of the Vagrant environment?   1.11.x?   (I am lazy in that I don't actually run Vagrant)","ts":"1472408104.000594"},{"type":"message","user":"U0PB67X4K","text":"also, is there a reason we don't delete the *.pb.go when doing `make clean`  ?","ts":"1472409031.000595"},{"type":"message","user":"U0KM61BCP","text":"no we should now","ts":"1472411262.000596"},{"type":"message","user":"U0KM61BCP","text":"probably need a target proto-clean","ts":"1472411281.000597"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0PB67X4K>  I think a specific version isn't enforced","ts":"1472411926.000598"},{"type":"message","user":"U0PB67X4K","text":"okay.  I was building on OSX (with the the Docker 1.12 version for OSX) and I get an odd error when building images with bzip2 files.   Was wondering if it is a 1.12 error or just an OSX error.","ts":"1472412008.000599"},{"type":"message","user":"U0ZJZBJLF","text":"what error?","ts":"1472412054.000600"},{"type":"message","user":"U0PB67X4K","text":"let me run it again -","ts":"1472412104.000601"},{"type":"message","user":"U0PB67X4K","text":"```\nBuilding docker src-image\ndocker build -t hyperledger\/fabric-src build\/image\/src\nSending build context to Docker daemon 12.15 MB\nStep 1 : FROM hyperledger\/fabric-baseimage:latest\n ---&gt; a613da086834\nStep 2 : ADD gopath.tar.bz2 $GOPATH\/src\/github.com\/hyperledger\/fabric\nError processing tar file(bzip2 data invalid: bad magic value in continuation file): \nmake: *** [build\/image\/src\/.dummy] Error 1\n```","ts":"1472412243.000602"},{"type":"message","user":"U0PB67X4K","text":"if I just create a tar file instead (remove the -j option), then things work fine","ts":"1472412265.000603"},{"type":"message","user":"U0PB67X4K","text":"I saw somewhere that this can happen with the bzip2 go package - hence my question on Docker version","ts":"1472412305.000604"},{"user":"U24J6JYVC","text":"<@U24J6JYVC|benbooth> has joined the channel","type":"message","subtype":"channel_join","ts":"1472412621.000605"},{"type":"message","user":"U0ZJZBJLF","text":"The script runs `apt-get install -y linux-image-extra-3.13.0-93-generic apparmor docker-engine` to install docker.","ts":"1472413150.000606"},{"type":"message","user":"U0ZJZBJLF","text":"It says: `vagrant@ubuntu-1404:~$ docker --version`\n`Docker version 1.12.1, build 23cf638`","ts":"1472413163.000607"},{"type":"message","user":"U0ZJZBJLF","text":"(I ran vagrant up)","ts":"1472413173.000608"},{"type":"message","user":"U0PB67X4K","text":"hmm - interesting.  must be something specific on the OSX version then","edited":{"user":"U0PB67X4K","ts":"1472413399.000000"},"ts":"1472413388.000609"},{"type":"message","user":"U0ZJZBJLF","text":"has it worked before?","ts":"1472413882.000611"},{"type":"message","user":"U0PB67X4K","text":"yeah - I am pretty sure that last week I was running `make peer` and `make peer image` natively on OSX","ts":"1472413974.000612"},{"type":"message","user":"U0ZJZBJLF","text":"That error doesn't come from a platform specific code, so maybe it's worth to create that bz on a linux machine (maybe the magic numbers there are different than OSX or something?), copy it to your machine and then test? I'm just shooting in the dark","ts":"1472414110.000613"},{"type":"message","user":"U0PB67X4K","text":"yeah - odd indeed.  the error comes from the bzip2 package (which is of course used by Docker).  But a quick hex dump of the the `go path.tar.bz2` files shows that the first 2 bytes are `BZ` which is what the bzip2 package checks for before throwing that error.  I don't know.  Not going to waste too much time on it.  I can work around it for now","ts":"1472414988.000614"},{"type":"message","user":"U0YK3KKCY","text":"Perhaps this has already been discussed, but during the build of the base image, the url to acquire gmock-1.7.0.zip results in a \"file not found\" error.  If you look at the contents of the downloaded gmock-1.7.0.zip file you'll see a html doc that essentially says \"&lt;p&gt;The requested URL &lt;code&gt;\/files\/gmock-1.7.0.zip&lt;\/code&gt; was not found on this server. \"","ts":"1472483830.000002"},{"user":"U0KQ9QKH6","text":"<@U0KQ9QKH6|pmullaney> has joined the channel","type":"message","subtype":"channel_join","ts":"1472484979.000003"},{"type":"message","user":"U0KQ9QKH6","text":"having trouble with vagrant up, similar to what was mentioned over the weekend - a \"vagrant up\" ends with \"The SSH connection was unexpectedly closed by the remote end. This usually indicates that SSH within the guest machine was unable to properly start up. Please boot the VM in GUI mode to check whether it is booting properly.\"  The logs first error was:","ts":"1472491603.000004"},{"type":"message","subtype":"file_share","text":"<@U0KQ9QKH6|pmullaney> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/pmullaney\/F262KBJ2H\/-.txt|Untitled>","file":{"id":"F262KBJ2H","created":1472491614,"timestamp":1472491614,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0KQ9QKH6","editable":true,"size":132,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F262KBJ2H\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F262KBJ2H\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/pmullaney\/F262KBJ2H\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F262KBJ2H-dfb96a4131","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/pmullaney\/F262KBJ2H\/-.txt\/edit","preview":"==> default: Setting up dbus (1.6.18-0ubuntu4.3) ...\r\n==> default: invoke-rc.d: policy-rc.d denied execution of start.\r\n==> default:","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>==&gt; default: Setting up dbus (1.6.18-0ubuntu4.3) ...<\/pre><\/div>\n<div><pre>==&gt; default: invoke-rc.d: policy-rc.d denied execution of start.<\/pre><\/div>\n<div><pre>==&gt; default:<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":3,"lines_more":0,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U0KQ9QKH6","upload":true,"display_as_bot":false,"username":"<@U0KQ9QKH6|pmullaney>","bot_id":null,"ts":"1472491615.000005"},{"type":"message","user":"U0KQ9QKH6","text":"followed by:","ts":"1472491640.000006"},{"type":"message","subtype":"file_share","text":"<@U0KQ9QKH6|pmullaney> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/pmullaney\/F262VC41G\/-.txt|Untitled>","file":{"id":"F262VC41G","created":1472491647,"timestamp":1472491647,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0KQ9QKH6","editable":true,"size":844,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F262VC41G\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F262VC41G\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/pmullaney\/F262VC41G\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F262VC41G-8e509bc24d","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/pmullaney\/F262VC41G\/-.txt\/edit","preview":"==> default: Setting up systemd-shim (6-2bzr1) ...\r\n==> default: Setting up libparted0debian1:amd64 (2.3-19ubuntu1.14.04.1) ...\r\n==> default: Setting up libpolkit-gobject-1-0:amd64 (0.105-4ubuntu3.14.04.1) ...\r\n==> default: Setting up libusb-1.0-0:amd64 (2:1.0.17-1ubuntu2) ...\r\n==> default: Setting up ntfs-3g (1:2013.1.13AR.1-2ubuntu2) ...\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>==&gt; default: Setting up systemd-shim (6-2bzr1) ...<\/pre><\/div>\n<div><pre>==&gt; default: Setting up libparted0debian1:amd64 (2.3-19ubuntu1.14.04.1) ...<\/pre><\/div>\n<div><pre>==&gt; default: Setting up libpolkit-gobject-1-0:amd64 (0.105-4ubuntu3.14.04.1) ...<\/pre><\/div>\n<div><pre>==&gt; default: Setting up libusb-1.0-0:amd64 (2:1.0.17-1ubuntu2) ...<\/pre><\/div>\n<div><pre>==&gt; default: Setting up ntfs-3g (1:2013.1.13AR.1-2ubuntu2) ...<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":16,"lines_more":11,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U0KQ9QKH6","upload":true,"display_as_bot":false,"username":"<@U0KQ9QKH6|pmullaney>","bot_id":null,"ts":"1472491647.000007"},{"type":"message","user":"U0KPFAZNF","text":"Hi All, the basic problem with vagrant up should be fixed with a patch as simple as;","ts":"1472494243.000008"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F261H0USX\/-.diff|Untitled>","file":{"id":"F261H0USX","created":1472494249,"timestamp":1472494249,"name":"-.diff","title":"Untitled","mimetype":"text\/plain","filetype":"diff","pretty_type":"Diff","user":"U0KPFAZNF","editable":true,"size":366,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F261H0USX\/-.diff?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F261H0USX\/download\/-.diff?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F261H0USX\/-.diff","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F261H0USX-8d9b1e1db6","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F261H0USX\/-.diff\/edit","preview":"diff --git a\/devenv\/setup.sh b\/devenv\/setup.sh\r\nindex cd5fc34..d980b7c 100755\r\n--- a\/devenv\/setup.sh\r\n+++ b\/devenv\/setup.sh\r\n@@ -140,7 +140,7 @@ sudo chown -R vagrant:vagrant \/var\/hyperledger\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>diff --git a\/devenv\/setup.sh b\/devenv\/setup.sh<\/pre><\/div>\n<div><pre>index cd5fc34..d980b7c 100755<\/pre><\/div>\n<div><pre><span class=\"cm-negative\">--- a\/devenv\/setup.sh<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-positive\">+++ b\/devenv\/setup.sh<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-meta\">@@ -140,7 +140,7 @@ sudo chown -R vagrant:vagrant \/var\/hyperledger<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":11,"lines_more":6,"preview_is_truncated":null,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1472494249.000009"},{"type":"message","user":"U0KPFAZNF","text":"i think there are a few other issues going on too, but ill see if I can fast-track that easy fix in","ts":"1472494266.000010"},{"type":"message","user":"U0KPFAZNF","text":"in the mean time, you can apply that locally to get past the protoc problem","ts":"1472494285.000011"},{"type":"message","user":"U0KPFAZNF","text":"i think <@U0KQ9QKH6> is hitting something else","ts":"1472494291.000012"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/751\/>","ts":"1472494632.000013"},{"type":"message","user":"U0KPFAZNF","text":"its a simplified form of a few fixes out there that are blocked by CI failures and\/or review feedback","ts":"1472494657.000014"},{"type":"message","user":"U0KPFAZNF","text":"should be the path of least resistance to at least fix the protoc-during-vagrant-up problem","ts":"1472494673.000015"},{"type":"message","user":"U0KPFAZNF","text":"i have the day off today, though, so stepping away again before the wife gets angry :wink:","ts":"1472494713.000016"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> one of the unsolved mysteries in master right now is a phenomenon I have seen such as captured in this log at 16:13:39","ts":"1472497279.000017"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/673\/console>","ts":"1472497280.000018"},{"type":"message","user":"U0KPFAZNF","text":"that is, for reasons that are unclear, your patch causes a vendor .proto to be compiled","ts":"1472497300.000019"},{"type":"message","user":"U0KPFAZNF","text":"could you take a look at that?","ts":"1472497311.000020"},{"type":"message","user":"U0KPFAZNF","text":"sometimes it results in a failure at that point, some times things make it past, either way, it looks like something is wrong","ts":"1472497328.000021"},{"type":"message","user":"U0ZJZBJLF","text":"hmm, but how? I do: `PROTOS=$(shell find . -name \"*.proto\" | grep -v \"vendor\" | grep -v \"shim\/java\" | grep -v \"\/sdk\")`","ts":"1472498501.000022"},{"type":"message","user":"U0ZJZBJLF","text":"and besides, it says above: ` Executing Behave test scripts`","ts":"1472498650.000023"},{"type":"message","user":"U0ZJZBJLF","text":"Oh and I don't recognize this line: `--plugin=build\/bin\/protoc-gen-go`","ts":"1472498720.000024"},{"type":"message","user":"U0ZJZBJLF","text":"it's not mine...","ts":"1472498727.000025"},{"type":"message","user":"U0KPFAZNF","text":"The plugin line is in a branch I am working on, but the errant protoc seemed to be happening in all branches since the protoc update went in","ts":"1472500765.000026"},{"type":"message","user":"U0KPFAZNF","text":"That was just an example. ","ts":"1472500784.000027"},{"type":"message","user":"U0ZJZBJLF","text":"I only know of the protoc-gen-go that was missing","ts":"1472501173.000028"},{"type":"message","user":"U0ZJZBJLF","text":"Is there another issue?","ts":"1472501255.000029"},{"type":"message","user":"U0KPFAZNF","text":"Yeah, there's an issue where a proto file in vendor tries to compile.  It's not clear why or how.","ts":"1472507633.000030"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> <@U0KM61BCP> <@U1AU8DRQR> <@U0Z81GL6S> <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/773\/>","ts":"1472520531.000031","reactions":[{"name":"+1","users":["U0Z81GL6S"],"count":1},{"name":"chicken","users":["U1AU8DRQR"],"count":1}]},{"user":"U1AU8DRQR","inviter":"U0KPFAZNF","text":"<@U1AU8DRQR|hgabor> has joined the channel","type":"message","subtype":"channel_join","ts":"1472520537.000032"},{"user":"U268EB76W","text":"<@U268EB76W|chainsaw> has joined the channel","type":"message","subtype":"channel_join","ts":"1472572800.000033"},{"type":"message","user":"U11HH3P7Y","text":"I am seeing `TestChaincodeInvokeChaincode` unit-test failed on latest commit # af5f75d","ts":"1472578389.000034"},{"type":"message","subtype":"file_share","text":"<@U11HH3P7Y|ramesh> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ramesh\/F26FALUM6\/unit-tests_failed.txt|unit-tests failed.txt> and commented: please see the log file","file":{"id":"F26FALUM6","created":1472578408,"timestamp":1472578408,"name":"unit-tests failed.txt","title":"unit-tests failed.txt","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U11HH3P7Y","editable":true,"size":17731,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F26FALUM6\/unit-tests_failed.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F26FALUM6\/download\/unit-tests_failed.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ramesh\/F26FALUM6\/unit-tests_failed.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F26FALUM6-14bc4dbd9f","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ramesh\/F26FALUM6\/unit-tests_failed.txt\/edit","preview":"Running tests...\r\n?       github.com\/hyperledger\/fabric\/bddtests\/chaincode\/go\/table       [no test files]\r\nok      github.com\/hyperledger\/fabric\/bddtests\/syschaincode\/noop        0.083s  coverage: 71.0% of statements\r\n?       github.com\/hyperledger\/fabric\/consensus [no test files]\r\n?       github.com\/hyperledger\/fabric\/consensus\/controller      [no test files]\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Running tests...<\/pre><\/div>\n<div><pre>?       github.com\/hyperledger\/fabric\/bddtests\/chaincode\/go\/table       [no test files]<\/pre><\/div>\n<div><pre>ok      github.com\/hyperledger\/fabric\/bddtests\/syschaincode\/noop        0.083s  coverage: 71.0% of statements<\/pre><\/div>\n<div><pre>?       github.com\/hyperledger\/fabric\/consensus [no test files]<\/pre><\/div>\n<div><pre>?       github.com\/hyperledger\/fabric\/consensus\/controller      [no test files]<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":165,"lines_more":160,"preview_is_truncated":true,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":2,"initial_comment":{"id":"Fc26FTFNRG","created":1472578408,"timestamp":1472578408,"user":"U11HH3P7Y","is_intro":true,"comment":"please see the log file","channel":""}},"user":"U11HH3P7Y","upload":true,"display_as_bot":false,"username":"<@U11HH3P7Y|ramesh>","bot_id":null,"ts":"1472578409.000035"},{"type":"message","user":"U0Z81GL6S","text":"I am also observing the same on commit 7c3a27d","ts":"1472579131.000036"},{"user":"U1B2FF8LR","text":"<@U1B2FF8LR|scottz> has joined the channel","type":"message","subtype":"channel_join","ts":"1472579474.000037"},{"type":"message","user":"U1AU8DRQR","text":"<@U11HH3P7Y> <@U0Z81GL6S> maybe the hash in example04 needs to be updated (it is the hash of example02)","ts":"1472582890.000038"},{"type":"message","user":"U1AU8DRQR","text":"I do not know what changed, maybe some code that is compiled into the binary made from example02 but not sure <@U0ULK2JPP> please correct me.","ts":"1472582937.000039"},{"type":"message","user":"U1AU8DRQR","text":"I always update hash with the following process:\n1) I run go test -run TestChaincodeInvokeChaincode in core\/chaincode\n2) I keep executing docker ps in another tab\/shell until I see a chaincode docker container dev-jdoe-... &lt;- that one has the hash in its name","ts":"1472583078.000040"},{"user":"U138W4A1F","text":"<@U138W4A1F|hfeeki> has joined the channel","type":"message","subtype":"channel_join","ts":"1472609683.000041"},{"type":"message","user":"U1P1ZV6RF","text":"Hi,I am getting errors when I execute make behave test: context.failed = True\u00a0\n\n\nFailing scenarios:\u00a0\n\n\u00a0 peer_basic.feature:1081\u00a0 chaincode example02 with 4 peers, stop and start alternates, reverse\u00a0\n\n\u00a0 peer_basic.feature:1380\u00a0 chaincode authorizable_counter with 4 peers, two stopped, bring back both -- @1.1 Consensus Options\u00a0\n\n\u00a0 peer_basic.feature:1381\u00a0 chaincode authorizable_counter with 4 peers, two stopped, bring back both -- @1.2 Consensus Options\u00a0\n\n\u00a0 peer_logging.feature:12\u00a0 Invoke is attempted after deploy in Dev Mode\u00a0\n\n\u00a0 peer_logging.feature:22\u00a0 Query is attempted after deploy in Dev Mode\u00a0\n\n\u00a0 peer_logging.feature:32\u00a0 Invoke is attempted before deploy in Dev Mode\u00a0\n\n\u00a0 peer_logging.feature:40\u00a0 Query is attempted before deploy in Dev Mode\u00a0\n\n\n3 features passed, 2 failed, 3 skipped\u00a0\n\n31 scenarios passed, 7 failed, 8 skipped\u00a0\n\n453 steps passed, 7 failed, 291 skipped, 0 undefined\u00a0\n\nTook 32m7.653s\u00a0\n\nmake: *** [behave] Error 1\u00a0\n\nvagrant@hyperledger-devenv:v0.0.11-a087441:\/opt\/gopath\/src\/\u00a0<http:\/\/github.com\/hyperledger\/fabric$|github.com\/hyperledger\/fabric$>\n\n\n","ts":"1472621777.000042"},{"type":"message","user":"U1P1ZV6RF","text":"As per my remarks in <#C0J02NU1E|general> discussion, vagrant up constantly fails when it tried to pull fabric-baseimage from <http:\/\/docker.io|docker.io>","ts":"1472906157.000043"},{"type":"message","user":"U1P1ZV6RF","text":"==&gt; default: Building docker src-image\n==&gt; default: docker build -t hyperledger\/fabric-src build\/image\/src\n==&gt; default: Sending build context to Docker daemon 557.1 kB\n==&gt; default: Sending build context to Docker daemon 1.114 MB\n==&gt; default: Sending build context to Docker daemon 1.671 MB\n==&gt; default: Sending build context to Docker daemon 2.228 MB\n==&gt; default: Sending build context to Docker daemon 2.785 MB\n==&gt; default: Sending build context to Docker daemon 3.342 MB\n==&gt; default: Sending build context to Docker daemon 3.899 MB\n==&gt; default: Sending build context to Docker daemon 4.456 MB\n==&gt; default: Sending build context to Docker daemon 5.014 MB\n==&gt; default: Sending build context to Docker daemon 5.571 MB\n==&gt; default: Sending build context to Docker daemon 6.128 MB\n==&gt; default: Sending build context to Docker daemon 6.685 MB\n==&gt; default: Sending build context to Docker daemon 7.242 MB\n==&gt; default: Sending build context to Docker daemon 7.799 MB\n==&gt; default: Sending build context to Docker daemon 8.356 MB\n==&gt; default: Sending build context to Docker daemon 8.913 MB\n==&gt; default: Sending build context to Docker daemon  9.47 MB\n==&gt; default: Sending build context to Docker daemon 10.03 MB\n==&gt; default: Sending build context to Docker daemon 10.58 MB\n==&gt; default: Sending build context to Docker daemon 11.14 MB\n==&gt; default: Sending build context to Docker daemon  11.4 MB\n==&gt; default: Step 1 : FROM hyperledger\/fabric-baseimage:latest\n==&gt; default: Pulling repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>\n==&gt; default: Tag latest not found in repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>\n==&gt; default: make: *** [build\/image\/src\/.dummy] Error 1\nThe SSH command responded with a non-zero exit status. Vagrant\nassumes that this means the command failed. The output for this command\nshould be in the log above. Please read the output to determine what\nwent wrong.\nmatanyahu@fabric-dev:~\/go\/src\/github.com\/hyperledger\/fabric\/devenv$","ts":"1472906170.000044"},{"type":"message","user":"U0KPFAZNF","text":"<@U1P1ZV6RF> this is quite odd\u2026can you tell me what branch\/sha you are on?  also, can you confirm if you have a .\/build directory present before you do the vagrant up?","ts":"1472921603.000045"},{"type":"message","user":"U0KPFAZNF","text":"note, the image missing on dockerhub is FAD, but that should have been built for you locally before the src-image was compiled","ts":"1472921654.000046"},{"type":"message","user":"U0KPFAZNF","text":"i speculate that the problem is you have an old .\/build laying around","ts":"1472921671.000047"},{"type":"message","user":"U0KPFAZNF","text":"hmm, actually yes I bet this is exactly whats wrong.","ts":"1472921700.000048"},{"type":"message","user":"U0KPFAZNF","text":"a beer at the next hackathon says you have a .\/build directory present before trying to do the vagrant up\u2026the fix would be to \u201cmake clean\u201d or manually delete it before running vagrant up","ts":"1472921744.000049"},{"type":"message","user":"U0KPFAZNF","text":"but please confirm its there before blowing it away","ts":"1472921752.000050"},{"type":"message","user":"U1P1ZV6RF","text":"<@U0KPFAZNF> : I already owe you and <@U0ZJZBJLF> a beer for previous help :slightly_smiling_face: Should I run make clean from inside a vagrant VM? Interestingly, I had a git clone on 27th of August which I removed in order to pull the newest vagrant setup. Curiously, vagrant up from 27th August was downloading baseimage v 0.11 from hashicorp whereas the current setup downloads v. 0.10.","ts":"1472926997.000051"},{"type":"message","user":"U1P1ZV6RF","text":"I now deleted the \/fabric folder from my host and did a clean git clone. Starting my vagrant up now","ts":"1472927034.000052"},{"type":"message","user":"U0KPFAZNF","text":"It doesn't matter where you run it, as long as the .\/build dir gets removed","ts":"1472927161.000053"},{"type":"message","user":"U0KPFAZNF","text":"We had to revert a patch that upgraded to 11, that's why you saw that","ts":"1472927186.000054"},{"type":"message","user":"U1P1ZV6RF","text":"where is .\/build directory located?","ts":"1472928255.000055"},{"type":"message","user":"U0KPFAZNF","text":"Top level of fabric repo","ts":"1472928877.000056"},{"type":"message","user":"U0KPFAZNF","text":"Where the Makefile is","ts":"1472928888.000057"},{"type":"message","user":"U1P1ZV6RF","text":"there it is","ts":"1472928906.000058"},{"type":"message","user":"U1P1ZV6RF","text":"thanks","ts":"1472928908.000059"},{"type":"message","user":"U0PB67X4K","text":"how have we made this so complex for people?  seems like new folks are having a lot of trouble.  I was able to wade through things and was pretty easily able to get the whole build process running natively (i.e. no VirtualBox) on Ubuntu 16.04  (I actually did this on 3 different hosts)","ts":"1472929008.000060"},{"type":"message","user":"U0PB67X4K","text":"(because I refuse to use VirtualBox)  :wink:","ts":"1472929059.000061"},{"type":"message","user":"U1P1ZV6RF","text":"<@U0PB67X4K> : I am interested how your deployment topology looks like and what was your approach to deployment process. I will soon have to make architectural decisions for a PoC and I am torn apart between various pre-existing choices (Bluemix, devenv) and DIY.","ts":"1472929117.000062"},{"type":"message","user":"U0PB67X4K","text":"<@U1P1ZV6RF>  - for me, it is pretty simple.   I actually (occasionally) contribute code to the fabric so in that case I run my build environment straight on Ubuntu 16.04 on my host system.    For building chaincode, I simply pull the Docker images and use Docker Compose to get a local peer and member services up and running.  I also deploy my chaincode and apps to Bluemix  (btw - I actually own development of the Bluemix service so it would be sad if I didn't use it myself)","edited":{"user":"U0PB67X4K","ts":"1472929409.000000"},"ts":"1472929358.000063"},{"type":"message","user":"U0KPFAZNF","text":"<@U1P1ZV6RF>: I think my theory was wrong.  I just looked in devenv\/setup.sh and we do in fact call \"make clean\"","ts":"1472930874.000065"},{"type":"message","user":"U0KPFAZNF","text":"This should have fixed the issue I was concerned with","ts":"1472930888.000066"},{"type":"message","user":"U0KPFAZNF","text":"So, not sure what's going on with your setup yet","ts":"1472930904.000067"},{"type":"message","user":"U1P1ZV6RF","text":"<@U0KPFAZNF> : I ran my setup again and it worked out fine, at least there was no fatal error this time. My virtualbox vm is up and running. I will now do tests to make sure that I am not blocked in the same place as couple of days ago","ts":"1472931334.000068"},{"type":"message","user":"U0KPFAZNF","text":"Ok.  Well, glad it's working","ts":"1472931359.000069"},{"type":"message","user":"U0KPFAZNF","text":"I'm not sure what went wrong though ","ts":"1472931373.000070"},{"type":"message","user":"U1P1ZV6RF","text":"I think it had to be somehow related to an improper cleanup before I did git clone to pull newest devenv files. The cleanup process I applied was: vagrant halt, vagrant destroy, rm -rf .\/fabric","ts":"1472931627.000071"},{"type":"message","user":"U1P1ZV6RF","text":"What seems to help was a snapshot I did on my VM before doing the first vagrant up couple of days ago which cloned files from 27th August","ts":"1472931670.000072"},{"type":"message","user":"U1P1ZV6RF","text":"I did snapshot rollback to return to the moment just before vagrant up. I removed .\/fabric folder, did git clone again and eventually, vagrant up with newest files. Seems to work now","ts":"1472931719.000073"},{"type":"message","user":"U1P1ZV6RF","text":"I will run make behave now","ts":"1472931774.000076"},{"type":"message","user":"U0PB67X4K","text":"<@U1P1ZV6RF>  - if you just did a git pull from master, then unit tests are broken","ts":"1472931859.000079"},{"type":"message","user":"U1P1ZV6RF","text":"I messed up with unit tests, will redo them after make behave ends","ts":"1472931935.000080"},{"type":"message","user":"U1P1ZV6RF","text":"I ran it while a peer was already running","ts":"1472931948.000081"},{"type":"message","user":"U1P1ZV6RF","text":"my fault","ts":"1472931952.000082"},{"type":"message","user":"U0PB67X4K","text":"sure - but in any case, they are broken  :slightly_smiling_face:","ts":"1472931969.000083"},{"type":"message","user":"U1P1ZV6RF","text":"what do you suggest then?","ts":"1472931990.000084"},{"type":"message","user":"U0PB67X4K","text":"well that won't stop you from building and running the peer images","ts":"1472932010.000085"},{"type":"message","user":"U0PB67X4K","text":"e.g. `make peer` and make `make peer-image`  (or something like that)","ts":"1472932037.000086"},{"type":"message","user":"U0PB67X4K","text":"but unit tests will fail when you get to the chaincode unit tests","ts":"1472932056.000087"},{"type":"message","user":"U1P1ZV6RF","text":"so, to understand it well, what you suggest is to skip tests as in the manual: <http:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/dev-setup\/build\/> and go straight to network setup and chaincode setup","ts":"1472932110.000088"},{"type":"message","user":"U0PB67X4K","text":"yep","ts":"1472932130.000089"},{"type":"message","user":"U0PB67X4K","text":"should be able to do that","ts":"1472932135.000090"},{"type":"message","user":"U1P1ZV6RF","text":"out of curiosity : why is it suggested to perform these tests and why are tests broken ?","ts":"1472932186.000091"},{"type":"message","user":"U0PB67X4K","text":"there was a change introduced which broke the tests -   <https:\/\/jira.hyperledger.org\/browse\/FAB-305>","edited":{"user":"U0PB67X4K","ts":"1472932284.000000"},"ts":"1472932275.000092"},{"type":"message","user":"U1P1ZV6RF","text":"fyi: Failing scenarios:\n  peer_basic.feature:582  chaincode example02 with 4 peers and 1 membersrvc, issue #680 (State transfer) -- @1.1 Consensus Options\n  peer_basic.feature:628  chaincode example02 with 4 peers and 1 membersrvc, issue #724 -- @1.1 Consensus Options\n  peer_basic.feature:1081  chaincode example02 with 4 peers, stop and start alternates, reverse\n  peer_basic.feature:1380  chaincode authorizable_counter with 4 peers, two stopped, bring back both -- @1.1 Consensus Options\n  peer_basic.feature:1381  chaincode authorizable_counter with 4 peers, two stopped, bring back both -- @1.2 Consensus Options\n  peer_logging.feature:12  Invoke is attempted after deploy in Dev Mode\n  peer_logging.feature:22  Query is attempted after deploy in Dev Mode\n  peer_logging.feature:32  Invoke is attempted before deploy in Dev Mode\n  peer_logging.feature:40  Query is attempted before deploy in Dev Mode\n\n3 features passed, 2 failed, 3 skipped\n29 scenarios passed, 9 failed, 8 skipped\n449 steps passed, 9 failed, 293 skipped, 0 undefined\nTook 35m17.095s\nmake: *** [behave] Error 1","ts":"1472934281.000094"},{"type":"message","user":"U1P1ZV6RF","text":"but I assume this is normal","ts":"1472934290.000095"},{"type":"message","user":"U1P1ZV6RF","text":"are variables CORE_PEER_ID and CORE_VM_ENDPOINT in <http:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/Setup\/Network-setup\/> referring to core.yaml? If yes, where can I find it within vagrant box? I do not see it in .\/fabric . From what I understand, these two variables should be written into docker compose yml file which has to be created before running the first (root) node.","edited":{"user":"U1P1ZV6RF","ts":"1472936121.000000"},"ts":"1472935597.000096"},{"type":"message","user":"U1P1ZV6RF","text":"I also need core.yaml in order to switch from noops to pbft consensus but it is not clear where should this file be located or created. EDIT: I found it in .\/peer folder.","edited":{"user":"U1P1ZV6RF","ts":"1472937587.000000"},"ts":"1472936181.000100"},{"type":"message","user":"U1P1ZV6RF","text":"there is one additional thing that is not clear to me : if I want to run PBFT consensus, in addition to editing\/creating core.yaml file as per <http:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/Setup\/Network-setup\/#assigning-a-value-for-core_peer_id> , should I also update docker-compose file by adding the third and fourth VPx like this:","edited":{"user":"U1P1ZV6RF","ts":"1472937619.000000"},"ts":"1472936355.000101"},{"type":"message","user":"U1P1ZV6RF","text":"vp2:\n  extends:\n    service: vp0\n  environment:\n    - CORE_PEER_ID=vp2\n    - CORE_PEER_DISCOVERY_ROOTNODE=vp0:7051\n  links:\n    - vp0","ts":"1472936371.000102"},{"type":"message","user":"U1P1ZV6RF","text":"vp3:\n  extends:\n    service: vp0\n  environment:\n    - CORE_PEER_ID=vp3\n    - CORE_PEER_DISCOVERY_ROOTNODE=vp0:7051\n  links:\n    - vp0","ts":"1472936387.000103"},{"type":"message","user":"U1P1ZV6RF","text":"after editing core.yaml and docker-compose.yaml I ran docker compose up and I found 4 nodes up and running. However, how can I distinguish PBFT from NOOPs within log stream?","ts":"1472937672.000107"},{"type":"message","user":"U0UGH3X7X","text":"At the beginning of the peer log, you'll see the consensus config values printed out. Look for the string [consensus]","ts":"1472939293.000108"},{"type":"message","user":"U1P1ZV6RF","text":"I am not sure if my setup is correct","ts":"1472939874.000109"},{"type":"message","subtype":"file_share","text":"<@U1P1ZV6RF|matanyahu> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F28252ULQ\/docker-compose_yml.txt|docker-compose.yml> and commented: My docker-compose.yml file (no CA integrated yet)","file":{"id":"F28252ULQ","created":1472939955,"timestamp":1472939955,"name":"docker-compose_yml.txt","title":"docker-compose.yml","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U1P1ZV6RF","editable":true,"size":729,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F28252ULQ\/docker-compose_yml.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F28252ULQ\/download\/docker-compose_yml.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F28252ULQ\/docker-compose_yml.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F28252ULQ-2f4d765b70","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F28252ULQ\/docker-compose_yml.txt\/edit","preview":"vp0:\r\n  image: hyperledger\/fabric-peer\r\n  environment:\r\n    - CORE_PEER_ID=vp0\r\n    - CORE_PEER_ADDRESSAUTODETECT=true\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>vp0:<\/pre><\/div>\n<div><pre>  image: hyperledger\/fabric-peer<\/pre><\/div>\n<div><pre>  environment:<\/pre><\/div>\n<div><pre>    - CORE_PEER_ID=vp0<\/pre><\/div>\n<div><pre>    - CORE_PEER_ADDRESSAUTODETECT=true<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":36,"lines_more":31,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc2824RMAS","created":1472939955,"timestamp":1472939955,"user":"U1P1ZV6RF","is_intro":true,"comment":"My docker-compose.yml file (no CA integrated yet)","channel":""}},"user":"U1P1ZV6RF","upload":true,"display_as_bot":false,"username":"<@U1P1ZV6RF|matanyahu>","bot_id":null,"ts":"1472939956.000110"},{"type":"message","subtype":"file_share","text":"<@U1P1ZV6RF|matanyahu> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F282EK0DV\/my_core_yaml_file_in___peer_folder.txt|My core.yaml file in .\/peer folder>","file":{"id":"F282EK0DV","created":1472940057,"timestamp":1472940057,"name":"My_core_yaml_file_in___peer_folder.txt","title":"My core.yaml file in .\/peer folder","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U1P1ZV6RF","editable":true,"size":56,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F282EK0DV\/my_core_yaml_file_in___peer_folder.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F282EK0DV\/download\/my_core_yaml_file_in___peer_folder.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F282EK0DV\/my_core_yaml_file_in___peer_folder.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F282EK0DV-105d2d923b","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F282EK0DV\/my_core_yaml_file_in___peer_folder.txt\/edit","preview":"peer.validator.consensus=pbft\r\npeer.id=vp0,vp1,vp2,vp3\r\n","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>peer.validator.consensus=pbft<\/pre><\/div>\n<div><pre>peer.id=vp0,vp1,vp2,vp3<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":3,"lines_more":0,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U1P1ZV6RF","upload":true,"display_as_bot":false,"username":"<@U1P1ZV6RF|matanyahu>","bot_id":null,"ts":"1472940057.000111"},{"type":"message","user":"U1P1ZV6RF","text":"Any ideas as to how to set it up correctly ad integrate CA into docker-compose would be greatly appreciated","ts":"1472940279.000112"},{"type":"message","user":"U1P1ZV6RF","text":"I currently see nothing to edit in membersrvc.yaml file - the default content seems to be ok","ts":"1472940399.000113"},{"type":"message","user":"U0UGH3X7X","text":"Take a look at the docker-compose files in hyperledger\/fabric\/bddtests for examples","ts":"1472943514.000114"},{"user":"U27R5GUR2","text":"<@U27R5GUR2|mshap> has joined the channel","type":"message","subtype":"channel_join","ts":"1472990857.000002"},{"user":"U1CLP9CQ4","text":"<@U1CLP9CQ4|poly> has joined the channel","type":"message","subtype":"channel_join","ts":"1472998253.000003"},{"type":"message","user":"U268EB76W","text":"<@U0KPFAZNF> please describe your development environment for Hyperledger Fabric. I am interested in decomposing the devenv and fully understanding the dependencies, so development can be setup in other non-VM linux and OS X hosts; also to configure a more selective and  modular build and test work flow.","ts":"1473006343.000004"},{"type":"message","user":"U0KPFAZNF","text":"<@U268EB76W>: start with Ubuntu 14.04, the apply this script <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/images\/base\/scripts\/common\/setup.sh>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/images\/base\/scripts\/common\/setup.sh","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/images\/base\/scripts\/common\/setup.sh","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1473016834.000005"},{"type":"message","user":"U0KPFAZNF","text":"Then..","ts":"1473016839.000007"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/scripts\/provision\/host.sh>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/scripts\/provision\/host.sh","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/scripts\/provision\/host.sh","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1473016887.000008"},{"type":"message","user":"U0KPFAZNF","text":"That will more or less replicate what happens in vagrant ","ts":"1473016903.000010"},{"type":"message","user":"U268EB76W","text":"<@U0KPFAZNF> THX, much appreciated ! So you run your linux on the metal--workstation and servers?","ts":"1473018264.000011"},{"type":"message","user":"U0KPFAZNF","text":"No I work almost exclusively within vagrant","ts":"1473018326.000012"},{"type":"message","user":"U0KPFAZNF","text":"But I have set up a 16.04 VM by hand using the technique above","ts":"1473018354.000013"},{"type":"message","user":"U1AU8DRQR","text":"if I get this when doing vagrant up:     default: Warning: Remote connection disconnect. Retrying... what to do?","ts":"1473061404.000014"},{"type":"message","user":"U1AU8DRQR","text":"I ran destroy and now I get:\n==&gt; default: ++ .\/setup.sh\n==&gt; default: .\/setup.sh: line 40: ---;;---: command not found\n==&gt; default: .\/setup.sh: command substitution: line 40: syntax error near unexpected token `||'\n==&gt; default: .\/setup.sh: command substitution: line 40: `    ||","ts":"1473061522.000015"},{"type":"message","user":"U20T0R475","text":"wait, does setting up the hyperledger repo only work for ubuntu? Because every day for the past few days, I've tried setting up the vagrant with `vagrant up` and it has yet to work lol","ts":"1473100131.000016"},{"type":"message","user":"U1D9R3WAX","text":"Hi guys, what is the FSM error ? I am using v0.5 and trying to set up a network of peers on different machines....","edited":{"user":"U1D9R3WAX","ts":"1473113639.000000"},"ts":"1473113584.000017"},{"type":"message","user":"U1AU8DRQR","text":"what kind of FSM error do you get?","ts":"1473145898.000019"},{"type":"message","user":"U1D9R3WAX","text":"<@U1AU8DRQR> :  Error handling message: Peer FSM failed while handling message (DISC_HELLO): current state: created, error: transition canceled with error: Error registering Handler: Duplicate Handler error: {name:\"vp2\"  172.17.0.4:30303 VALIDATOR \ufffd\ufffd.^V#^_\ufffd9\ufffdpV^U\ufffd^K\ufffd\ufffdq\ufffdxh^D\ufffdA\ufffdP\ufffd-\ufffd\ufffd           o(}","ts":"1473148585.000020"},{"type":"message","user":"U1D9R3WAX","text":"Received duplicate connection from &lt;nil&gt;, switching to new connection \n\nAnd this goes on and on....","ts":"1473148613.000021"},{"type":"message","user":"U1D9R3WAX","text":"i got 4 vps (vp0 - vp3) on one machine and 2 nvps (nvp0, nvp1) on the other one...","ts":"1473148683.000022"},{"type":"message","user":"U1AU8DRQR","text":"it seems that you have started two vp2 (at first glance)","ts":"1473149571.000023"},{"type":"message","user":"U1D9R3WAX","text":"hmm weird...","ts":"1473149912.000024"},{"type":"message","user":"U1D9R3WAX","text":"now i turned  around the setup  (nvps on the machine where the vps were and vica versa)  and now i get lots of grpc errors in between chatting messages:\n\n2016\/09\/06 08:04:56 grpc: ClientConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 172.17.0.4:30303: getsockopt: no r$\n2016\/09\/06 08:04:56 grpc: ClientConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 172.17.0.4:30303: getsockopt: no r$\n2016\/09\/06 08:04:56 grpc: ClientConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 172.17.0.5:30303: getsockopt: no r$\n2016\/09\/06 08:04:56 grpc: ClientConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 172.17.0.5:30303: getsockopt: no r$\n2016\/09\/06 08:04:56 grpc: ClientConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 172.17.0.4:30303: getsockopt: no r$\n2016\/09\/06 08:04:56 grpc: ClientConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 172.17.0.5:30303: getsockopt: no r$\n^[[36m08:04:56.430 [peer] chatWithPeer -&gt; DEBU 2f9^[[0m Initiating Chat with peer address: 172.17.0.5:30303\n^[[31m08:04:56.430 [peer] chatWithPeer -&gt; ERRO 2fa^[[0m Error creating connection to peer address=172.17.0.5:30303:  grpc: timed out trying to connect\n^[[36m08:04:56.430 [peer] chatWithPeer -&gt; DEBU 2fb^[[0m Initiating Chat with peer address: 172.17.0.5:30303\n^[[36m08:04:56.430 [peer] chatWithPeer -&gt; DEBU 2fc^[[0m Initiating Chat with peer address: 172.17.0.4:30303\n^[[36m08:04:56.430 [peer] chatWithPeer -&gt; DEBU 2fd^[[0m Initiating Chat with peer address: 172.17.0.4:30303\n^[[31","ts":"1473150195.000025"},{"type":"message","user":"U1D9R3WAX","text":"it seems to me they only get to the HELLO and after that they cannot communicate....","ts":"1473150284.000026"},{"type":"message","user":"U1D9R3WAX","text":"do they need any other port apart from 30303?","ts":"1473150297.000027"},{"type":"message","user":"U1AU8DRQR","text":"I think for inter-peer communication, no","ts":"1473150338.000028"},{"type":"message","user":"U1D9R3WAX","text":"-&gt; DEBU 395^[[0m Initiating Chat with peer address: 172.17.0.4:30303\n^[[36m08:05:04.433 [peer] beforeHello -&gt; DEBU 396^[[0m Verified signature for DISC_HELLO\n^[[31m08:05:04.433 [peer] handleChat -&gt; ERRO 397^[[0m Error handling message: Peer FSM failed while handling message (DISC_HELLO): current state: created, error: trans$\n^[[36m08:05:04.448 [peer] HandleMessage -&gt; DEBU 398^[[0m Handling Message of type: DISC_GET_PEERS\n^[[36m08:05:04.448 [peer] beforeGetPeers -&gt; DEBU 399^[[0m Sending back DISC_PEERS\n^[[36m08:05:04.448 [peer] SendMessage -&gt; DEBU 39a^[[0m Sending message to stream of type: DISC_PEERS\n^[[36m08:05:04.475 [peer] SendMessage -&gt; DEBU 39b^[[0m Sending message to stream of type: DISC_GET_PEERS\n^[[36m08:05:04.476 [peer] HandleMessage -&gt; DEBU 39c^[[0m Handling Message of type: DISC_PEERS\n^[[36m08:05:04.476 [peer] beforePeers -&gt; DEBU 39d^[[0m Received DISC_PEERS, grabbing peers message","ts":"1473150361.000029"},{"type":"message","user":"U1AU8DRQR","text":"now it seems to be some other error, right?","ts":"1473151081.000030"},{"type":"message","user":"U1D9R3WAX","text":"in the nvps yes but in the vps logs its the same.... or similar :","ts":"1473151240.000031"},{"type":"message","user":"U1D9R3WAX","text":"[[0m Received duplicate connection from &lt;nil&gt;, switching to new connection\n^[[31m08:05:31.105 [peer] handleChat -&gt; ERRO 07b^[[0m Error handling message: Peer FSM failed while handling message (DISC_HELLO): current state: created, error: trans$\n^[[33m08:05:33.441 [consensus\/util] RegisterChannel -&gt; WARN 07c^[[0m Received duplicate connection from &lt;nil&gt;, switching to new connection\n^[[31m08:05:33.455 [peer] handleChat -&gt; ERRO 07d^[[0m Error handling message: Peer FSM failed while handling message (DISC_HELLO): current state: created, error: trans$\n^[[33m08:05:36.096 [consensus\/util] RegisterChannel -&gt; WARN 07e^[[0m Received duplicate connection from &lt;nil&gt;, switching to new connection","ts":"1473151286.000032"},{"type":"message","user":"U1AU8DRQR","text":"it is something else","ts":"1473151333.000033"},{"type":"message","user":"U1D9R3WAX","text":"but i guess its not a good thing :slightly_smiling_face:","ts":"1473151674.000034"},{"type":"message","user":"U1AU8DRQR","text":"maybe a foolish question but... it doesn't work now, right?","ts":"1473151749.000035"},{"type":"message","user":"U1D9R3WAX","text":"not really","ts":"1473151915.000036"},{"type":"message","user":"U1D9R3WAX","text":"despite the errors i tried to","ts":"1473151930.000037"},{"type":"message","user":"U1D9R3WAX","text":"enroll an audittor and few users and deploy a chaincode","ts":"1473151950.000038"},{"type":"message","user":"U1D9R3WAX","text":"but vp0 gave up :slightly_smiling_face:","ts":"1473151957.000039"},{"type":"message","user":"U1D9R3WAX","text":"Error: grpc server exited with error: accept tcp [::]:30303: accept4: too many open files\n08:24:43.940 [main] main -&gt; INFO 4f58^[[0m Exiting.....","ts":"1473152067.000040"},{"type":"message","user":"U1D9R3WAX","text":"would it be possible that it would still work with minor errors\/warns ?","edited":{"user":"U1D9R3WAX","ts":"1473152162.000000"},"ts":"1473152126.000041"},{"type":"message","user":"U1AU8DRQR","text":"as I see yes. for us, there were always error when we tried it, with <@U0R7Q5C30>","ts":"1473152461.000043"},{"type":"message","user":"U1D9R3WAX","text":"<@U1AU8DRQR>  : good news :wink:","ts":"1473153150.000044"},{"type":"message","user":"U1WUAQJVC","text":"Anybody know where the logs go when we log something in our code using op\/logging ?  In earlier versions we used to see that on register chain code console...","ts":"1473153852.000045"},{"user":"U23JFU108","text":"<@U23JFU108|csehd> has joined the channel","type":"message","subtype":"channel_join","ts":"1473254432.000046"},{"user":"U231RFLFP","text":"<@U231RFLFP|bala.vellanki> has joined the channel","type":"message","subtype":"channel_join","ts":"1473285517.000047"},{"type":"message","user":"U1P1ZV6RF","text":"FYI I just did vagrant destroy \/ vagrant up to use image v 0.11 and the provisioning process went smoothly.","ts":"1473445926.000048","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U25DG7QQ2","text":"Hello, there is a practical size limit for a chaincode state?","ts":"1473610693.000049"},{"type":"message","user":"U25DG7QQ2","text":"Suppose that i'm deploying a chaincode that let authorized users to save, delete and search for specific data into the chaincode state. Without considering the actual space limitations of the node disc, may be cause problems if chaincode state size reaches an order of hundred gigabytes?","ts":"1473611270.000050"},{"type":"message","subtype":"file_share","text":"<@U1P1ZV6RF|matanyahu> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2AE4N886\/make_behave_output.txt|Make behave output> and commented: FYI: Less failed tests than in v 0.10","file":{"id":"F2AE4N886","created":1473621600,"timestamp":1473621600,"name":"Make_behave_output.txt","title":"Make behave output","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U1P1ZV6RF","editable":true,"size":2688,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2AE4N886\/make_behave_output.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2AE4N886\/download\/make_behave_output.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2AE4N886\/make_behave_output.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2AE4N886-6bcb8655b8","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2AE4N886\/make_behave_output.txt\/edit","preview":"Failing scenarios:\r\n  java_shim.feature:121  Java TableExample chaincode single peer\r\n  peer_basic.feature:316  chaincode example 01 single peer erroneous TX\r\n  peer_basic.feature:504  chaincode example02 with 4 peers and 1 membersrvc, issue #567 -- @1.1 Consensus Options\r\n  peer_basic.feature:505  chaincode example02 with 4 peers and 1 membersrvc, issue #567 -- @1.2 Consensus Options\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Failing scenarios:<\/pre><\/div>\n<div><pre>  java_shim.feature:121  Java TableExample chaincode single peer<\/pre><\/div>\n<div><pre>  peer_basic.feature:316  chaincode example 01 single peer erroneous TX<\/pre><\/div>\n<div><pre>  peer_basic.feature:504  chaincode example02 with 4 peers and 1 membersrvc, issue #567 -- @1.1 Consensus Options<\/pre><\/div>\n<div><pre>  peer_basic.feature:505  chaincode example02 with 4 peers and 1 membersrvc, issue #567 -- @1.2 Consensus Options<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":32,"lines_more":27,"preview_is_truncated":true,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc2AE4QF1N","created":1473621600,"timestamp":1473621600,"user":"U1P1ZV6RF","is_intro":true,"comment":"FYI: Less failed tests than in v 0.10","channel":""}},"user":"U1P1ZV6RF","upload":true,"display_as_bot":false,"username":"<@U1P1ZV6RF|matanyahu>","bot_id":null,"ts":"1473621600.000051"},{"user":"U1SLE9PJN","text":"<@U1SLE9PJN|mohan> has joined the channel","type":"message","subtype":"channel_join","ts":"1473771683.000052"},{"user":"U26BX6S3B","text":"<@U26BX6S3B|pmcosta> has joined the channel","type":"message","subtype":"channel_join","ts":"1473774665.000053"},{"type":"message","user":"U12452RAP","text":"<@U2BD64T45> this is the right channel for dev env issue","ts":"1473829600.000054"},{"user":"U0UHG4VP1","text":"<@U0UHG4VP1|ry> has left the channel","type":"message","subtype":"channel_leave","ts":"1473864689.000055"},{"user":"U2C7X84GH","text":"<@U2C7X84GH|isgandar> has joined the channel","type":"message","subtype":"channel_join","ts":"1473971697.000056"},{"type":"message","user":"U2C7X84GH","text":"Hi","ts":"1473971700.000057"},{"type":"message","user":"U2C7X84GH","text":"anyone here?","ts":"1473971721.000058"},{"type":"message","user":"U0KPFAZNF","text":"hello <@U2C7X84GH>","ts":"1473973655.000059"},{"type":"message","user":"U0UKTPMG8","text":"<@U2C7X84GH> no :slightly_smiling_face:","ts":"1473985937.000060"},{"type":"message","user":"U0UKTPMG8","text":"jk","ts":"1473985941.000061"},{"type":"message","user":"U0UKTPMG8","text":"<@U2C7X84GH> please feel free to leave any questions you may have here, the group is very helpful","ts":"1473985979.000062"},{"user":"U2CC1NDT2","text":"<@U2CC1NDT2|lenh> has joined the channel","type":"message","subtype":"channel_join","ts":"1474138310.000063"},{"type":"message","user":"U2CC1NDT2","text":"Hi, anyone around?","ts":"1474138343.000064"},{"type":"message","user":"U2CC1NDT2","text":"Hoping someone can assist - has anyone got a setup where they are running the docker images inside a Vagrant VM?","ts":"1474270132.000065"},{"type":"message","user":"U1CS08EP3","text":"<@U2CC1NDT2> I have docker images inside and outside vagrant.. both seems to be working fine.","ts":"1474285242.000066"},{"type":"message","user":"U1CS08EP3","text":"are you facing any issues?","ts":"1474285254.000067"},{"type":"message","user":"U2CC1NDT2","text":"<@U1CS08EP3> - I'm trying to get a setup going where I can have one Vagrant managed VM that automatically launches the various docker containers exposing ports, with Host OS to Container file system sync - the purpose being so that we can then use another VM to dev REST API calls with.","ts":"1474290385.000068"},{"type":"message","user":"U2CC1NDT2","text":"But I'm really stuck - all the official docs either use pure Vagrant or Docker - I guess I'm going to have to have some kind of custom Vagrantfile config but not sure how to do it - found a few tutorials but they all show rather simple use cases...","ts":"1474290499.000069"},{"type":"message","user":"U0ZJZBJLF","text":"hmm, <@U2CC1NDT2>  why not add some startup scripts to the `devenv\/setup.sh` that startup these docker containers and add iptable rules for port forwarding or something?","ts":"1474295519.000070"},{"type":"message","user":"U2CC1NDT2","text":"<@U0ZJZBJLF> <@U1CS08EP3> Tried to get the core Fabric up in vagrant by cloning the Gerrit repo as per the docs - no luck at all - the VM boots but when it runs the provisioning script it bombs - being doing this since we launched our project on Friday last...\n\nI built my own wily64 based VM and then provisioned docker, docker-compose, installed go etc and got the Fabric and Memberservices running all ok - but the way docker handles networking \/ ports is totally foreign to me atm. So although I could see the container messages on the console I am lost as to how those services should be exposed to the host VM and then out to \"world\" via vagrant port forwarding (I did however get this done by coping aspects of the Vagrantfile from the core Gerrit repo). \n\nAt the end of the day I guess I need to get some kind of Vagrantfile going that boots a VM (for chaincode development) with the docker containers running and exposed in such a fashion that this VM is accessible via a locally running hosts file DNS entry (i,e. that it appears to be a live node) - when this is working we'll then be able to load another (existing) VM image that we do webdev with to code REST API calls with - I think :slightly_smiling_face:","ts":"1474316288.000071"},{"type":"message","user":"U0KPFAZNF","text":"<@U2CC1NDT2> I work on the vagrant development env: can you provide more details about what you were doing or seeing when the provisioner died?","ts":"1474316576.000072"},{"type":"message","user":"U0ZJZBJLF","text":"hmm, I think the port forwarding rules are defined in the Vagrantfile...","ts":"1474316982.000073"},{"type":"message","user":"U2CC1NDT2","text":"<@U0KPFAZNF> Starting Fri \/ over the weekend as soon as it started to run the provisioning script it would throw a stdin tty error - I tried to manually patch it with some code I found which corrected that but then it threw red immediately thereafter (setting ENV vars I think) - this did not happen a few mins ago though - it passed that OK...\n\nLater on it gives an issue re keys during the apt-get update I think, and then it eventually complains about unresolved dependencies and bombs out.\n\nOver the weekend I also tried to manually run the setup script which got further but also eventually died with unresolved dependencies...","ts":"1474317001.000074"},{"type":"message","user":"U0ZJZBJLF","text":"what do you mean about the DNS entry? i don't quite understand","ts":"1474317008.000075"},{"type":"message","user":"U0ZJZBJLF","text":"I think it can be also useful if you can provide a console output log of the failures, or all of it.","ts":"1474317065.000076"},{"type":"message","user":"U2CC1NDT2","text":"<@U0ZJZBJLF> yeah the VM port fwding rules are in the \/devenv Vagrantfile which I used to get Host OS to VM ports working - the issue for me (I think) is how to get docker to bi-bidirectionally link up. \n\nBy host DNS I mean the ability to (from the Host OS) connect using a DNS name set in the VM Vagrantfile (e.g. hyperledger.local) so that at the end of the day when we have our dev environment setup we have 2 VM's running - one for the Fabric based on the docker containers for chaincode dev and the other with our webdev stuff for REST API calls to Fabric \"node\" - if that makes any sense...","ts":"1474317290.000077"},{"type":"message","user":"U0KPFAZNF","text":"<@U2CC1NDT2> I assume you mean you were doing \u201ccd devenv; vagrant up\"","ts":"1474317415.000078"},{"type":"message","user":"U2CC1NDT2","text":"re your request for console log output - sure - I can run the vagrant up process in debug mode if you wish and output to a logfile but I can't do it now as am in GMT +4 so can do it tomorrow sometime","ts":"1474317425.000079"},{"type":"message","user":"U0KPFAZNF","text":"?","ts":"1474317430.000080"},{"type":"message","user":"U2CC1NDT2","text":"<@U0KPFAZNF> yes","ts":"1474317435.000081"},{"type":"message","user":"U0KPFAZNF","text":"is this on windows, linux, mac?","ts":"1474317446.000082"},{"type":"message","user":"U2CC1NDT2","text":"win10","ts":"1474317450.000083"},{"type":"message","user":"U0KPFAZNF","text":"ah","ts":"1474317454.000084"},{"type":"message","user":"U0KPFAZNF","text":"can you paste the tty error you mentioned?","ts":"1474317467.000085"},{"type":"message","user":"U2CC1NDT2","text":"unfortunately not now - before we get really going i'm doing everything in a sandboxed win10 install on a usb drive so have to spin that up etc etc - can do it tomorrow when I get a gap though as am in GMT+4 timezone...","ts":"1474317576.000086"},{"type":"message","user":"U2CC1NDT2","text":"however I should mention that when I tried the vagrant up a few mins ago (after pulling a fresh copy of the repo) that the stdin tty error did not come up nor did I see red on the setting of the ENV vars","ts":"1474317664.000087"},{"type":"message","user":"U2CC1NDT2","text":"it bombed after doing the apt update","ts":"1474317678.000088"},{"type":"message","user":"U0KPFAZNF","text":"very strange","ts":"1474317813.000089"},{"type":"message","user":"U0KPFAZNF","text":"im on OSX here so not sure I will know exactly what is wrong but I think we have quite a few people who use the devenv on windows","ts":"1474317847.000090"},{"type":"message","user":"U0KPFAZNF","text":"the apt-get update is sometimes slow, could it be that you arent waiting long enough?","ts":"1474317864.000091"},{"type":"message","user":"U0KPFAZNF","text":"e.g. what did you see in that circumstance?","ts":"1474317880.000092"},{"type":"message","user":"U2CC1NDT2","text":"nope - vagrant bombs totally after missing dependencies error","ts":"1474317903.000093"},{"type":"message","user":"U0KPFAZNF","text":"ok\u2026id probably need more context to try to figure that out","ts":"1474317923.000094"},{"type":"message","user":"U0KPFAZNF","text":"so, when you get a chance to run it again, if you can grab screenshots or logs, that would be helpful","ts":"1474317942.000095"},{"type":"message","user":"U2CC1NDT2","text":"ssh into the VM and running the script manually gets further but also bombs eventually","ts":"1474317945.000096"},{"type":"message","user":"U0KPFAZNF","text":"you dont happen to be in china per chance?","ts":"1474317970.000097"},{"type":"message","user":"U2CC1NDT2","text":"do you want me to run a vagrant up in debug mode and push the output to a file?","ts":"1474317974.000098"},{"type":"message","user":"U0KPFAZNF","text":"ive seen users have trouble getting ubuntu updates in china, but otherwise...","ts":"1474317986.000099"},{"type":"message","user":"U2CC1NDT2","text":"BWHAHA ROLF nope - Mauritius","ts":"1474317988.000100"},{"type":"message","user":"U0ZJZBJLF","text":"hmm, so you want to have 2 VMs running in parallel in the end?","ts":"1474317993.000101"},{"type":"message","user":"U0KPFAZNF","text":"yes, debug output would be great","ts":"1474318022.000102"},{"type":"message","user":"U0KPFAZNF","text":"the most helpful thing is likely the main provisioner log though","ts":"1474318038.000103"},{"type":"message","user":"U2CC1NDT2","text":"<@U0ZJZBJLF> yup - one for chaincode dev and one for web dev - so it's a full development eco-system","ts":"1474318046.000104"},{"type":"message","user":"U0ZJZBJLF","text":"I'm not sure, and <@U0KPFAZNF>  can correct me if i'm wrong- but I think the vagrant file configures the VM to use NAT networking, you'll need bridged for that","ts":"1474318077.000105"},{"type":"message","user":"U2CC1NDT2","text":"<@U0KPFAZNF> Ok will do that tomorrow after I get through the sprint for the day","ts":"1474318093.000106"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> not necessarily\u2026it will surface all the ports to the host, so the webvm could just be pointed to the host IP and it would probably work","ts":"1474318113.000107"},{"type":"message","user":"U0KPFAZNF","text":"not super clean, either","ts":"1474318136.000108"},{"type":"message","user":"U0ZJZBJLF","text":"yep, haven't thought of that.","ts":"1474318143.000109"},{"type":"message","user":"U0KPFAZNF","text":"but depends on what the requirements are","ts":"1474318147.000110"},{"type":"message","user":"U0KPFAZNF","text":"<@U2CC1NDT2> ok, sounds good","ts":"1474318165.000111"},{"type":"message","user":"U0KPFAZNF","text":"<@U2CC1NDT2> also, can you tell me what branch\/sha you are on?","ts":"1474318176.000112"},{"type":"message","user":"U2CC1NDT2","text":"i made progress this evening though (I think) - the issue now it seems is the link between the docker containers and the VM","ts":"1474318185.000113"},{"type":"message","user":"U0KPFAZNF","text":"my gut feeling is that, whatever is going on, you are likely to hit it if you try to make your own VM too","ts":"1474318213.000114"},{"type":"message","user":"U0KPFAZNF","text":"(the vagrant stuff isnt doing anything particularly magical,,,its just running bash scripts on top of ubuntu","ts":"1474318232.000115"},{"type":"message","user":"U2CC1NDT2","text":"<@U0KPFAZNF> I cloned from the repo exactly as per the docs","ts":"1474318239.000116"},{"type":"message","user":"U0KPFAZNF","text":"so, if apt-get is failing for instance, it might fail outside devenv too","ts":"1474318248.000117"},{"type":"message","user":"U2CC1NDT2","text":"sure but that seems to be trusty issue - doesnt do it on wily64","ts":"1474318269.000118"},{"type":"message","user":"U0KPFAZNF","text":"ok, thats good to know","ts":"1474318277.000119"},{"type":"message","user":"U0KPFAZNF","text":"im actually trying to get everything updated, including trusty-&gt;xenial","ts":"1474318294.000120"},{"type":"message","user":"U2CC1NDT2","text":"this BADSIG \/ KEY issue on trusty64 seems to be a known problem","ts":"1474318303.000121"},{"type":"message","user":"U0KPFAZNF","text":"but i have a few blocking tasks to tackle first","ts":"1474318310.000122"},{"type":"message","user":"U0KPFAZNF","text":"what I dont understand is why this is hitting you","ts":"1474318334.000123"},{"type":"message","user":"U0KPFAZNF","text":"do you know what version of vbox\/vagrant you have on this host?","ts":"1474318349.000124"},{"type":"message","user":"U2CC1NDT2","text":"latest (although Virtualbox just released an update)","ts":"1474318383.000125"},{"type":"message","user":"U2CC1NDT2","text":"when i do the log for you i'll check all that","ts":"1474318414.000126"},{"type":"message","user":"U0KPFAZNF","text":"ok, cool","ts":"1474318434.000127"},{"type":"message","user":"U0KPFAZNF","text":"i just checked, mine is a little old (5.0.8)","ts":"1474318447.000128"},{"type":"message","user":"U0KPFAZNF","text":"i wonder if some issue slipped in","ts":"1474318453.000129"},{"type":"message","user":"U2CC1NDT2","text":"tomorrow I'll see if I can't also make some head way on figuring out how to get docker to expose bidirectional comms on the port for the REST API","ts":"1474318541.000130"},{"type":"message","user":"U0ZJZBJLF","text":"why do you need bi-di comms?","ts":"1474318553.000131"},{"type":"message","user":"U2CC1NDT2","text":"Host OS &lt; --- &gt; VM &lt; --- &gt; docker","ts":"1474318615.000132"},{"type":"message","user":"U0ZJZBJLF","text":"the VM you mean the hyperledger VM?","ts":"1474318645.000133"},{"type":"message","user":"U2CC1NDT2","text":"no not \/devenv","ts":"1474318668.000134"},{"type":"message","user":"U2CC1NDT2","text":"my own VM with docker running the Fabric and Memberservices images for chaindev","ts":"1474318705.000135"},{"type":"message","user":"U0ZJZBJLF","text":"wait, you have 2 VMS- 1 VM is the fabric VM, and the other is some web-dev VM right?","ts":"1474318736.000136"},{"type":"message","user":"U2CC1NDT2","text":"currently on my end the official \/devenv VM is busted totally on vagrant up - will do a debug log on that tomorrow","ts":"1474318816.000137"},{"type":"message","user":"U0ZJZBJLF","text":"oh i think i understand. you want to be able to connect from the docker, to the outside world?","ts":"1474318829.000138"},{"type":"message","user":"U2CC1NDT2","text":"so I built my own VM image based on wily64, installed docked, docker-compose, go etc and got the Fabric running","ts":"1474318862.000139"},{"type":"message","user":"U0ZJZBJLF","text":"to the host for example?","ts":"1474318865.000140"},{"type":"message","user":"U2CC1NDT2","text":"yeah that's it, bingo","ts":"1474318869.000141"},{"type":"message","user":"U0ZJZBJLF","text":"why not set up an iptables port forwarding rule","ts":"1474318880.000142"},{"type":"message","user":"U0ZJZBJLF","text":"that will redirect everything on a specific port to the ip address of the docker interface","ts":"1474318900.000143"},{"type":"message","user":"U0ZJZBJLF","text":"to the host IP?","ts":"1474318913.000144"},{"type":"message","user":"U0ZJZBJLF","text":"you'll need to configure the VM to be bridged for that","ts":"1474318932.000145"},{"type":"message","user":"U0ZJZBJLF","text":"or add another NIC that will be host-only","ts":"1474318945.000146"},{"type":"message","user":"U2CC1NDT2","text":"i was reading up on that and was going to see how to do that tomorrow - please remember I'm no *nix guru...","ts":"1474318950.000147"},{"type":"message","user":"U0ZJZBJLF","text":"that's not *nix, that's virtualbox :slightly_smiling_face:","ts":"1474318962.000148"},{"type":"message","user":"U2CC1NDT2","text":"so a LOT of this is above my paygrade :slightly_smiling_face:","ts":"1474318972.000149"},{"type":"message","user":"U0ZJZBJLF","text":"my timezone isn't very far from yours, I'll be online tomorrow","ts":"1474318981.000150"},{"type":"message","user":"U0KPFAZNF","text":"i cant think of anything that would require outside mapping aside from some basic NAT stuff which should already be working","ts":"1474319030.000151"},{"type":"message","user":"U0KPFAZNF","text":"but maybe I am just missing some use case","ts":"1474319042.000152"},{"type":"message","user":"U0KPFAZNF","text":"in any case, getting it mapped the way you want it shouldnt be too difficult","ts":"1474319054.000153"},{"type":"message","user":"U0ZJZBJLF","text":"maybe he has a chaincode that does forbidden stuff","ts":"1474319059.000154"},{"type":"message","user":"U0ZJZBJLF","text":"like networking?","ts":"1474319068.000155"},{"type":"message","user":"U0KPFAZNF","text":"yeah, thats the only thing I can think of","ts":"1474319071.000156"},{"type":"message","user":"U0KPFAZNF","text":"(actually right now we dont lock it down, either)","ts":"1474319081.000157"},{"type":"message","user":"U0KPFAZNF","text":"but like I said, even for that case, it should stuff be NATed out of the VM","ts":"1474319100.000158"},{"type":"message","user":"U2CC1NDT2","text":"i hope i'm not adding confusion here due to poor explanation","ts":"1474319125.000159"},{"type":"message","user":"U0ZJZBJLF","text":"no, I think that if the NIC is in NAT mode you can't connect from the guest to the host","ts":"1474319129.000160"},{"type":"message","user":"U0ZJZBJLF","text":"at least in virtualbox","ts":"1474319148.000161"},{"type":"message","user":"U0KPFAZNF","text":"sure you can, just use the host ip","ts":"1474319155.000162"},{"type":"message","user":"U2CC1NDT2","text":"ideally i'd like to get a VM like the Homestead one going","ts":"1474319197.000163"},{"type":"message","user":"U0KPFAZNF","text":"where you might run into trouble is routing tables for something that sits between the host and the public","ts":"1474319204.000164"},{"type":"message","user":"U0KPFAZNF","text":"but having something that needs to reach out into that space would be \u201ccreative\u201d :wink:","ts":"1474319231.000165"},{"type":"message","user":"U2CC1NDT2","text":"ok guys - i gotta run - will post findings tomorrow as promised","ts":"1474319306.000166"},{"type":"message","user":"U0KPFAZNF","text":"<@U2CC1NDT2> ok, have a good one","ts":"1474319314.000167"},{"type":"message","user":"U2CC1NDT2","text":"thanks folks bye for now","ts":"1474319347.000168"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> you might be right","ts":"1474319458.000169"},{"type":"message","user":"U0KPFAZNF","text":"it doesnt look like the devenv is assigning a host ip","ts":"1474319465.000170"},{"type":"message","user":"U0ZJZBJLF","text":"yep thats what i meant","ts":"1474319471.000171"},{"type":"message","user":"U0KPFAZNF","text":"I do see 10.0.2.2 but i cant tell what implements that","ts":"1474319482.000172"},{"type":"message","user":"U0ZJZBJLF","text":"where do you see this?","ts":"1474319507.000173"},{"type":"message","user":"U0KPFAZNF","text":"must be some internal vbox bridge or something","ts":"1474319508.000174"},{"type":"message","user":"U0KPFAZNF","text":"in the routing table in the devenv","ts":"1474319514.000175"},{"type":"message","user":"U0ZJZBJLF","text":"no, that's not the host","ts":"1474319520.000176"},{"type":"message","user":"U0ZJZBJLF","text":"that's the \"router\"","ts":"1474319524.000177"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2DCBGTGC\/-.m|Untitled>","file":{"id":"F2DCBGTGC","created":1474319544,"timestamp":1474319544,"name":"-.m","title":"Untitled","mimetype":"text\/plain","filetype":"objc","pretty_type":"Objective-C","user":"U0KPFAZNF","editable":true,"size":435,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2DCBGTGC\/-.m?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2DCBGTGC\/download\/-.m?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2DCBGTGC\/-.m","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2DCBGTGC-70511cef04","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2DCBGTGC\/-.m\/edit","preview":"vagrant@hyperledger-devenv:v0.1.0-b9a1408:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ route\r\nKernel IP routing table\r\nDestination     Gateway         Genmask         Flags Metric Ref    Use Iface\r\ndefault         10.0.2.2        0.0.0.0         UG    0      0        0 eth0\r\n10.0.2.0        *               255.255.255.0   U     0      0        0 eth0\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-variable\">vagrant<\/span><span class=\"cm-keyword\">@hyperledger<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">devenv<\/span>:<span class=\"cm-variable\">v0<\/span>.<span class=\"cm-number\">1.0<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">b9a1408<\/span>:<span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">opt<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">gopath<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">src<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">github<\/span>.<span class=\"cm-variable\">com<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">hyperledger<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">fabric$<\/span> <span class=\"cm-variable\">route<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-variable\">Kernel<\/span> <span class=\"cm-variable\">IP<\/span> <span class=\"cm-variable\">routing<\/span> <span class=\"cm-variable\">table<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-variable\">Destination<\/span>     <span class=\"cm-variable\">Gateway<\/span>         <span class=\"cm-variable\">Genmask<\/span>         <span class=\"cm-variable\">Flags<\/span> <span class=\"cm-variable\">Metric<\/span> <span class=\"cm-variable\">Ref<\/span>    <span class=\"cm-variable\">Use<\/span> <span class=\"cm-variable\">Iface<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-keyword\">default<\/span>         <span class=\"cm-number\">10.0<\/span>.<span class=\"cm-number\">2.2<\/span>        <span class=\"cm-number\">0.0<\/span>.<span class=\"cm-number\">0.0<\/span>         <span class=\"cm-variable\">UG<\/span>    <span class=\"cm-number\">0<\/span>      <span class=\"cm-number\">0<\/span>        <span class=\"cm-number\">0<\/span> <span class=\"cm-variable\">eth0<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-number\">10.0<\/span>.<span class=\"cm-number\">2.0<\/span>        <span class=\"cm-operator\">*<\/span>               <span class=\"cm-number\">255.255<\/span>.<span class=\"cm-number\">255.0<\/span>   <span class=\"cm-variable\">U<\/span>     <span class=\"cm-number\">0<\/span>      <span class=\"cm-number\">0<\/span>        <span class=\"cm-number\">0<\/span> <span class=\"cm-variable\">eth0<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":6,"lines_more":1,"preview_is_truncated":null,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1474319545.000178"},{"type":"message","user":"U0ZJZBJLF","text":"if you `nmap` it, it won't return to you the ports that your host listens to I think","ts":"1474319550.000179"},{"type":"message","user":"U0KPFAZNF","text":"yeah, i tried to ssh to it, it didnt respond","ts":"1474319564.000180"},{"type":"message","user":"U0KPFAZNF","text":"oh though wait, this is my laptop, i might not have sshd on","ts":"1474319573.000181"},{"type":"message","user":"U0ZJZBJLF","text":"if you have linux try do `nc -l` or something","edited":{"user":"U0ZJZBJLF","ts":"1474319604.000000"},"ts":"1474319594.000182"},{"type":"message","user":"U0KPFAZNF","text":"yeah, that worked","ts":"1474319635.000184"},{"type":"message","user":"U0KPFAZNF","text":"i enabled sshd on my laptop and I was able to ssh to ghaskins@10.0.2.2","ts":"1474319652.000185"},{"type":"message","user":"U0ZJZBJLF","text":"really? it's the host then? weird... but, the host doesn't have an ip address 10.0.2.2~","ts":"1474319662.000186"},{"type":"message","user":"U0KPFAZNF","text":"whats weird is I dont see that endpoint on my host","ts":"1474319665.000187"},{"type":"message","user":"U0ZJZBJLF","text":"yeah","ts":"1474319669.000188"},{"type":"message","user":"U0KPFAZNF","text":"yeah, thats whats confusing me","ts":"1474319673.000189"},{"type":"message","user":"U0ZJZBJLF","text":"wait, try the other way","ts":"1474319691.000190"},{"type":"message","user":"U0ZJZBJLF","text":"from the host, ssh to 10.0.2.15","ts":"1474319698.000191"},{"type":"message","user":"U0ZJZBJLF","text":"you shouldn't be able to do that","ts":"1474319704.000192"},{"type":"message","user":"U0KPFAZNF","text":"yeah, doesnt work","ts":"1474319773.000193"},{"type":"message","user":"U0KPFAZNF","text":"it doesnt seem like the host sees 10.0.2\/24","ts":"1474319788.000194"},{"type":"message","user":"U0ZJZBJLF","text":"because you don't have an ip address","ts":"1474319789.000195"},{"type":"message","user":"U0KPFAZNF","text":"understood","ts":"1474319793.000196"},{"type":"message","user":"U0KPFAZNF","text":"im not sure what the mechanics of the 10.0.2.2 route are","ts":"1474319812.000197"},{"type":"message","user":"U0KPFAZNF","text":"but in any case, it does seem you can at least reference the host that way","ts":"1474319837.000198"},{"type":"message","user":"U0KPFAZNF","text":"(as well as the broader internet via NAT)","ts":"1474319845.000199"},{"type":"message","user":"U0KPFAZNF","text":"but if you wanted something between the two, that wouldnt work","ts":"1474319853.000200"},{"type":"message","user":"U0ZJZBJLF","text":"you can use the port-forwarding from the host's end","ts":"1474319884.000201"},{"type":"message","user":"U0ZJZBJLF","text":"using localhost or something, heh","ts":"1474319891.000202"},{"type":"message","user":"U0KPFAZNF","text":"yeah, i think that is \u201cthe vagrant way\u201d in general","ts":"1474319910.000203"},{"type":"message","user":"U0ZJZBJLF","text":"yeah. It doesn't have anything to do with the virtualbox....","ts":"1474319927.000204"},{"type":"message","user":"U0KPFAZNF","text":"the alternative is to create an explicit network","ts":"1474319931.000205"},{"type":"message","user":"U0KPFAZNF","text":"in the vagrantfile, i mean","ts":"1474319942.000206"},{"type":"message","user":"U0ZJZBJLF","text":"or simply define it bridged.","ts":"1474319950.000207"},{"type":"message","user":"U0KPFAZNF","text":"yeah, though I think that also has a similar impact","ts":"1474319966.000208"},{"type":"message","user":"U0KPFAZNF","text":"IIRC vagrant always creates nic0 as a NAT","ts":"1474319982.000209"},{"type":"message","user":"U0ZJZBJLF","text":"I didn't know you can connect from the guest to the host with NAT. always tried before setting an additional dedicated host-only interface :confused:","edited":{"user":"U0ZJZBJLF","ts":"1474320009.000000"},"ts":"1474319986.000210"},{"type":"message","user":"U0KPFAZNF","text":"maybe I am wrong","ts":"1474319987.000211"},{"type":"message","user":"U0ZJZBJLF","text":"yeah","ts":"1474319993.000212"},{"type":"message","user":"U0KPFAZNF","text":"yeah, thats what I usually do","ts":"1474320011.000214"},{"type":"message","user":"U0KPFAZNF","text":"its kind of a PITA though, as the NAT one is still there","ts":"1474320019.000215"},{"type":"message","user":"U0KPFAZNF","text":"it would be nice if you could just override nic0","ts":"1474320043.000216"},{"type":"message","user":"U0KPFAZNF","text":"(I understand why its not trivial, but that doesnt change the fact that it can make certain vagrant configurations awkward)","ts":"1474320067.000217"},{"type":"message","user":"U0ZJZBJLF","text":"I don't see how creating a network would help, because you always need a NAT for internet access","ts":"1474320074.000218"},{"type":"message","user":"U0KPFAZNF","text":"well, if you want to manage that yourself","ts":"1474320090.000219"},{"type":"message","user":"U0ZJZBJLF","text":"how? create a NAT yourself?","ts":"1474320115.000220"},{"type":"message","user":"U0KPFAZNF","text":"vagrant wants it a certain way so the provisioner stuff is consistent","ts":"1474320116.000221"},{"type":"message","user":"U0KPFAZNF","text":"whatever you want: doesnt have to be NAT","ts":"1474320130.000222"},{"type":"message","user":"U0KPFAZNF","text":"for instance, could be bridged to a network that has DHCP","ts":"1474320149.000223"},{"type":"message","user":"U0ZJZBJLF","text":"I mean- to access the internet you need some kind of NAT, or have a \"public\" ip address in the segment of the host","ts":"1474320149.000224"},{"type":"message","user":"U0ZJZBJLF","text":"yeah exactly","ts":"1474320157.000225"},{"type":"message","user":"U0KPFAZNF","text":"not necessarily","ts":"1474320160.000226"},{"type":"message","user":"U0ZJZBJLF","text":"why?","ts":"1474320163.000227"},{"type":"message","user":"U0KPFAZNF","text":"oh yes, i didnt catch the second half of your statement","ts":"1474320180.000228"},{"type":"message","user":"U0KPFAZNF","text":"yes, needs to be viable some way or another","ts":"1474320188.000229"},{"type":"message","user":"U0KPFAZNF","text":"but that doesnt mean NAT, at least not vbox NAT","ts":"1474320197.000230"},{"type":"message","user":"U0KPFAZNF","text":"could be bridged to your LAN environment which could also do NAT, or give you a public address, or whatever","ts":"1474320221.000231"},{"type":"message","user":"U0KPFAZNF","text":"i just mean it doesnt have to do NAT termination coming out of vbox","ts":"1474320239.000232"},{"type":"message","user":"U0ZJZBJLF","text":"yeah i understand","ts":"1474320245.000233"},{"type":"message","user":"U0KPFAZNF","text":"i had written a config recently that was doing exactly this","ts":"1474320275.000234"},{"type":"message","user":"U0KPFAZNF","text":"setting up an openshift environment","ts":"1474320284.000235"},{"type":"message","user":"U0KPFAZNF","text":"i wanted a fixed IP so I was defining a host-only interface","ts":"1474320300.000236"},{"type":"message","user":"U0KPFAZNF","text":"but then I was battling with the nic0 stuff","ts":"1474320312.000237"},{"type":"message","user":"U0ZJZBJLF","text":"don't know openshift","ts":"1474320335.000238"},{"type":"message","user":"U0KPFAZNF","text":"kubernetes distro","ts":"1474320344.000239"},{"type":"message","user":"U0ZJZBJLF","text":"you can define a fixed IP there?","ts":"1474320391.000240"},{"type":"message","user":"U0KPFAZNF","text":"yep","ts":"1474320397.000241"},{"type":"message","user":"U0ZJZBJLF","text":"I think in docker you can't define, at least not out of the box","ts":"1474320403.000242"},{"type":"message","user":"U0KPFAZNF","text":"for something like openshift, that is more desirable than doing the port mapping","ts":"1474320411.000243"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2DD46WTC\/-.rb|Untitled>","file":{"id":"F2DD46WTC","created":1474320456,"timestamp":1474320456,"name":"-.rb","title":"Untitled","mimetype":"text\/plain","filetype":"ruby","pretty_type":"Ruby","user":"U0KPFAZNF","editable":true,"size":409,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2DD46WTC\/-.rb?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2DD46WTC\/download\/-.rb?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2DD46WTC\/-.rb","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2DD46WTC-74c1a99db9","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2DD46WTC\/-.rb\/edit","preview":"$ cat Vagrantfile\r\n# -*- mode: ruby -*-\r\n# vi: set ft=ruby :\r\n\r\nVagrant.configure(\"2\") do |config|\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-variable-3\">$ <\/span><span class=\"cm-variable\">cat<\/span> <span class=\"cm-tag\">Vagrantfile<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-comment\"># -*- mode: ruby -*-<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-comment\"># vi: set ft=ruby :<\/span><\/pre><\/div>\n<div><pre>&#8203;<\/pre><\/div>\n<div><pre><span class=\"cm-tag\">Vagrant<\/span><span class=\"cm-operator\">.<\/span><span class=\"cm-property\">configure<\/span>(<span class=\"cm-string\">&quot;2&quot;<\/span>) <span class=\"cm-keyword\">do<\/span> |<span class=\"cm-def\">config<\/span>|<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":18,"lines_more":13,"preview_is_truncated":null,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1474320456.000244"},{"type":"message","user":"U0ZJZBJLF","text":"oh but thats virtualbox","ts":"1474320469.000245"},{"type":"message","user":"U0KPFAZNF","text":"that sets a fixed IP in vagrant","ts":"1474320482.000246"},{"type":"message","user":"U0ZJZBJLF","text":"isn't the kubernetes docker?","ts":"1474320486.000247"},{"type":"message","user":"U0KPFAZNF","text":"yes, this was w.r.t. standing up a vagrant environent to run openshift itself","ts":"1474320506.000248"},{"type":"message","user":"U0ZJZBJLF","text":"oh... ok.","ts":"1474320512.000249"},{"type":"message","user":"U0KPFAZNF","text":"(for development)","ts":"1474320513.000250"},{"type":"message","user":"U0ZJZBJLF","text":"anyway, it's already past midnight and I have to get up tomorrow to continue working on the gossip mechanism for the next architecture...","ts":"1474320522.000251"},{"type":"message","user":"U0KPFAZNF","text":"ok, take it easy","ts":"1474320531.000252"},{"type":"message","user":"U0ZJZBJLF","text":"bye","ts":"1474320540.000253"},{"type":"message","user":"U2CC1NDT2","text":"<@U0KPFAZNF> <@U0ZJZBJLF> Hi chaps - I managed to get a gap to run the vagrant up from a clean pull of the repo with output &gt; logfile so you can see the errors - Virtualbox ver 5.1.6 and Vagrant 1.8.5","ts":"1474363240.000254"},{"type":"message","subtype":"file_share","text":"<@U2CC1NDT2|lenh> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/lenh\/F2DJ4CB41\/vagrant_up_trusty.log|vagrant_up_trusty.log>","file":{"id":"F2DJ4CB41","created":1474363308,"timestamp":1474363308,"name":"vagrant_up_trusty.log","title":"vagrant_up_trusty.log","mimetype":"application\/octet-stream","filetype":"binary","pretty_type":"Binary","user":"U2CC1NDT2","editable":false,"size":3684,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2DJ4CB41\/vagrant_up_trusty.log?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2DJ4CB41\/download\/vagrant_up_trusty.log?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/lenh\/F2DJ4CB41\/vagrant_up_trusty.log","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2DJ4CB41-7552ed8826","channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U2CC1NDT2","upload":true,"display_as_bot":false,"username":"<@U2CC1NDT2|lenh>","bot_id":null,"ts":"1474363309.000255"},{"type":"message","user":"U2CC1NDT2","text":"It is however not the same as I was getting before - prior to this morning it made it past the apt-get update and bombed later on...","ts":"1474363438.000256"},{"type":"message","user":"U2CC1NDT2","text":"As far as getting  Vagrant VM to provision docker and get a dev env going that way - no luck at all - feel like I'm chasing my tail due to lack of knowledge on docker, port issues, firewalling, folder sync etc.","ts":"1474363580.000257"},{"type":"message","user":"U0ZJZBJLF","text":"hmm I don't see how i can help you with an ubuntu updating problem, sorry. \nAbout the 2nd thing- I think first you need to somehow get to a running working environment, (`vagrant up` should succeed).","ts":"1474363669.000258"},{"type":"message","user":"U0ZJZBJLF","text":"did you try to search google for these errors?","ts":"1474363690.000259"},{"type":"message","user":"U2CC1NDT2","text":"Hi <@U0ZJZBJLF> - the ones in the logfile I uploaded?","ts":"1474363723.000260"},{"type":"message","user":"U0ZJZBJLF","text":"yes","ts":"1474363727.000261"},{"type":"message","user":"U0ZJZBJLF","text":"`<http:\/\/askubuntu.com\/questions\/198371\/apt-encounters-errors-with-bad-gpg-keys>`","attachments":[{"title":"Apt encounters errors with bad GPG keys","title_link":"http:\/\/askubuntu.com\/questions\/198371\/apt-encounters-errors-with-bad-gpg-keys","text":"Possible Duplicate: How do I fix a &amp;ldquo;Problem with MergeList&amp;rdquo; error when trying to do an update? I always have been a Windows guy but with my recent interesting and degree (Microb...","fallback":"Apt encounters errors with bad GPG keys","thumb_url":"http:\/\/cdn.sstatic.net\/Sites\/askubuntu\/img\/apple-touch-icon@2.png?v=c492c9229955&a","from_url":"http:\/\/askubuntu.com\/questions\/198371\/apt-encounters-errors-with-bad-gpg-keys","thumb_width":316,"thumb_height":316,"service_icon":"http:\/\/cdn.sstatic.net\/Sites\/askubuntu\/img\/favicon.ico?v=eff8fd315b9e","service_name":"askubuntu.com","id":1}],"ts":"1474363740.000262"},{"type":"message","user":"U2CC1NDT2","text":"Yeah - this BADSIG 40976EAF437D05B5 isssue seems to be a known issue","ts":"1474363806.000264"},{"type":"message","user":"U2CC1NDT2","text":"I did try the steps as indicated on the above post (admittedly not this morning but over the weekend) to no avail - it threw another SIG error, tried again, etc etc","ts":"1474363870.000265"},{"type":"message","user":"U2CC1NDT2","text":"I can try it again though a bit later and re-provision...","ts":"1474363958.000266"},{"type":"message","user":"U1AU8DRQR","text":"can I have two hyperledger vagrant machines up at the same time?","ts":"1474364212.000267"},{"type":"message","user":"U0ZJZBJLF","text":"they define port forwarding rules, the port forwarding will fail in the 2nd time IMO. maybe if you change the port numbers?","ts":"1474364272.000268"},{"type":"message","user":"U26BX6S3B","text":"if you change the ports it should work","ts":"1474364279.000269"},{"type":"message","user":"U26BX6S3B","text":"why you want to do it?","ts":"1474364290.000270"},{"type":"message","user":"U1AU8DRQR","text":"but the names collide","ts":"1474364294.000271"},{"type":"message","user":"U0ZJZBJLF","text":"yeah that too...","ts":"1474364301.000272"},{"type":"message","user":"U26BX6S3B","text":"change the name","ts":"1474364301.000273"},{"type":"message","user":"U1AU8DRQR","text":"I have to work with gerrit\/master and with a fork from github","ts":"1474364313.000274"},{"type":"message","user":"U1AU8DRQR","text":"vb.name &lt;- is this the name?","ts":"1474364347.000275"},{"type":"message","user":"U26BX6S3B","text":"I think yes","ts":"1474364427.000276"},{"type":"message","user":"U26BX6S3B","text":"assuming it\u2019s the flag inside Vagrantfile","ts":"1474364455.000277"},{"type":"message","user":"U1AU8DRQR","text":"thanks","ts":"1474364571.000278"},{"type":"message","user":"U2CC1NDT2","text":"<@U0ZJZBJLF> - please could you advise if what's depicted in the diag is feasible? Thanks","ts":"1474365452.000279"},{"type":"message","subtype":"file_share","text":"<@U2CC1NDT2|lenh> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/lenh\/F2DJ2CK5J\/hl-dev_env.pdf|HL-dev_env.pdf>","file":{"id":"F2DJ2CK5J","created":1474365474,"timestamp":1474365474,"name":"HL-dev_env.pdf","title":"HL-dev_env.pdf","mimetype":"application\/pdf","filetype":"pdf","pretty_type":"PDF","user":"U2CC1NDT2","editable":false,"size":125956,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2DJ2CK5J\/hl-dev_env.pdf?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2DJ2CK5J\/download\/hl-dev_env.pdf?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/lenh\/F2DJ2CK5J\/hl-dev_env.pdf","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2DJ2CK5J-0cfe28c145","channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0,"num_stars":1},"user":"U2CC1NDT2","upload":true,"display_as_bot":false,"username":"<@U2CC1NDT2|lenh>","bot_id":null,"ts":"1474365474.000280"},{"type":"message","user":"U0ZJZBJLF","text":"hmmm","ts":"1474366997.000281"},{"type":"message","user":"U0ZJZBJLF","text":"I don't think this is necessary","ts":"1474367005.000282"},{"type":"message","user":"U0ZJZBJLF","text":"I'd configure both VMs to have NAT NICs, and have Hyperledger VM send the REST calls to  the host, which will port-forward them to the web dev","ts":"1474367047.000283"},{"type":"message","user":"U0ZJZBJLF","text":"and vice-versa","ts":"1474367050.000284"},{"type":"message","user":"U2CC1NDT2","text":"what port does the docker container expose against which the REST API calls can be made? 5070?","edited":{"user":"U2CC1NDT2","ts":"1474378510.000000"},"ts":"1474378493.000285"},{"type":"message","user":"U0ZJZBJLF","text":"I think so but don't remember 100%, ... you can check the docs","ts":"1474379624.000287"},{"type":"message","user":"U2CC1NDT2","text":"thanks - i just gotta keep plugging away at this until we have a working solution...","ts":"1474379778.000288"},{"type":"message","user":"U0KM61BCP","text":"note that the REST API is deprecated. As for the port assignments <https:\/\/github.com\/hyperledger-archives\/fabric\/pull\/2286>","attachments":[{"service_name":"GitHub","title":"[WIP] Fix Issue 2283 by christo4ferris \u00b7 Pull Request #2286 \u00b7 hyperledger-archives\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger-archives\/fabric\/pull\/2286","text":"Description change peer REST port from 5000 to 7050 to avoid conflict with UPnP on Windows. Also reassigned all other ports as follows: 7050 REST 7051 peer gRPC 7052 peer CLI 7053 peer events 705...","fallback":"GitHub: [WIP] Fix Issue 2283 by christo4ferris \u00b7 Pull Request #2286 \u00b7 hyperledger-archives\/fabric","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/3630697?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger-archives\/fabric\/pull\/2286","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1474381725.000289"},{"type":"message","user":"U0KM61BCP","text":"7050 is REST","ts":"1474381733.000291"},{"type":"message","user":"U0KPFAZNF","text":"<@U2CSGKHRS> <@U2D4VTF5M> ping","ts":"1474386690.000292"},{"user":"U2CSGKHRS","inviter":"U0KPFAZNF","text":"<@U2CSGKHRS|teddy> has joined the channel","type":"message","subtype":"channel_join","ts":"1474386695.000293"},{"user":"U2D4VTF5M","inviter":"U0KPFAZNF","text":"<@U2D4VTF5M|vmanoria> has joined the channel","type":"message","subtype":"channel_join","ts":"1474386695.000294"},{"type":"message","user":"U0KPFAZNF","text":"I reviewed your logs: it looks like for whatever reason, you cant download artifacts from atlas.hashicorp","ts":"1474386733.000295"},{"type":"message","user":"U2CC1NDT2","text":"Hey gang - I'm sorry for the annoying noob questions but I really am properly stuck here - I would really appreciate it if someone could simply point me in the right direction. Our base requirements are to be able to get an integrated development environment going to code Chaincode and WebApps (invoking, enrollment etc). I was not aware of the REST API for interfacing being deprecated. Please could I be given some pointers as to how we could achieve the above. On the WebApp side we will be using a Vagrant VM (Laravel Homestead) - the parts missing on my end are:\nA) how do we get a Chaincode dev environment going that the Vagrant VM can communicate with to invoke Chaincode \/ query the Fabric etc, and\nB) what will the protocol we would need to be using from the WebApp side\n\nAgain apologies but I've been chasing my tail for days here without making a single stitch of progress... Very frustrating.... Thanks a mill...","ts":"1474390459.000296"},{"type":"message","user":"U0KPFAZNF","text":"<@U2CC1NDT2> i haven\u2019t forgotten about you but i have to go eat lunch","ts":"1474390798.000297"},{"type":"message","user":"U0KPFAZNF","text":"will respond when I return","ts":"1474390804.000298"},{"type":"message","user":"U2CC1NDT2","text":"<@U0KPFAZNF> no probs bon appetit","ts":"1474390821.000299"},{"type":"message","user":"U2CC1NDT2","text":"and thanks","ts":"1474390826.000300"},{"type":"message","user":"U0KM61BCP","text":"<@U2CC1NDT2> the node sdk is the preferred approach","ts":"1474397987.000301"},{"type":"message","user":"U0KM61BCP","text":"other SDKs are emerging and will be available down the road","ts":"1474398007.000302"},{"type":"message","user":"U0KM61BCP","text":"to get an enviroment set up","ts":"1474398025.000303"},{"type":"message","user":"U0KM61BCP","text":"you can set up a development environment per these directions: <http:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/dev-setup\/devenv\/>","ts":"1474398061.000304"},{"type":"message","user":"U0KM61BCP","text":"but that really is for those developing fabric","ts":"1474398081.000305"},{"type":"message","user":"U0KM61BCP","text":"probably more than you need","ts":"1474398087.000306"},{"type":"message","user":"U0KM61BCP","text":"the <http:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/Setup\/Chaincode-setup\/> setup is a lot simpler","ts":"1474398119.000307"},{"type":"message","user":"U0KM61BCP","text":"a number of optional approaches you can take","ts":"1474398130.000308"},{"type":"message","user":"U0KM61BCP","text":"simplest is to use docker-compose to run a peer network","ts":"1474398145.000309"},{"type":"message","user":"U0KM61BCP","text":"now, we are just in the process of publishing an SDK image that you can use to write a client and interact with the network","ts":"1474398168.000310"},{"type":"message","user":"U0KM61BCP","text":"I have a version of that in my personal GH <https:\/\/github.com\/christo4ferris\/node_sdk\/blob\/master\/node-sdk-self-contained.md>","attachments":[{"service_name":"GitHub","title":"christo4ferris\/node_sdk","title_link":"https:\/\/github.com\/christo4ferris\/node_sdk\/blob\/master\/node-sdk-self-contained.md","text":"node_sdk - hyperledger fabric node sdk example app","fallback":"GitHub: christo4ferris\/node_sdk","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/3630697?v=3&s=400","from_url":"https:\/\/github.com\/christo4ferris\/node_sdk\/blob\/master\/node-sdk-self-contained.md","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1474398204.000311"},{"type":"message","user":"U2CC1NDT2","text":"<@U0KM61BCP> thanks a mill for the pointers - much appreciated... So the REST API via Swagger is a thing of the past?","ts":"1474398440.000313"},{"type":"message","user":"U0KM61BCP","text":"well, it is there now but not getting any love;-)","ts":"1474398510.000314"},{"type":"message","user":"U0KM61BCP","text":"if you are just playing with swagger UI then go ahead, it is a quick and dirty client","ts":"1474398537.000315"},{"type":"message","user":"U0KM61BCP","text":"just don\u2019t invest in it. make sense?","ts":"1474398552.000316"},{"type":"message","user":"U2CC1NDT2","text":"Ok understood - no point in that then - means we need to change our thinking in terms of the webapp side away from our current framework to a node based approach","ts":"1474398738.000317"},{"type":"message","user":"U2CC1NDT2","text":"no big deal - at least now I have some solid concise pointers to help us get underway - thank you very very much","ts":"1474398788.000318"},{"type":"message","user":"U0KM61BCP","text":"webapp use the node sdk","ts":"1474398806.000319"},{"type":"message","user":"U2CC1NDT2","text":"100%","ts":"1474398813.000320"},{"type":"message","user":"U0KM61BCP","text":"it handles all the grpc comms","ts":"1474398814.000321"},{"type":"message","user":"U0KM61BCP","text":"there\u2019s a webapp sample","ts":"1474398821.000322"},{"type":"message","user":"U0KM61BCP","text":"I am also pushing to have more samples","ts":"1474398843.000323"},{"type":"message","user":"U2CC1NDT2","text":"aha OK so that's the way forward - no probs - finally the penny's dropped - so we use Go on the Chaincode side and Node SDK on the web app side","ts":"1474398901.000324"},{"type":"message","user":"U2CC1NDT2","text":"is that correct? or will we able to do everything in Node?","ts":"1474398964.000325"},{"type":"message","user":"U0KM61BCP","text":"there\u2019s java chaincode now if that is of interest","ts":"1474398965.000326"},{"type":"message","user":"U0KM61BCP","text":"the team is about to declare victory","ts":"1474398977.000327"},{"type":"message","user":"U2CC1NDT2","text":"sorry? :slightly_smiling_face: not following you","ts":"1474399004.000328"},{"type":"message","user":"U0KM61BCP","text":"we now support java and go for chaincode language","ts":"1474399019.000329"},{"type":"message","user":"U0KM61BCP","text":"we have shims for both","ts":"1474399023.000330"},{"type":"message","user":"U2CC1NDT2","text":"aha - ok perfect...","ts":"1474399044.000331"},{"type":"message","user":"U2CC1NDT2","text":"in your opinion which would be the better choice? Go or Java - if you had to make a call now in terms of skill set for the future as regards Hyperledger?","ts":"1474399119.000332"},{"type":"message","user":"U0KM61BCP","text":"well, I just happened to look earlier today - golang gets 11k hits on linkedin, java 11M","ts":"1474399191.000333"},{"type":"message","user":"U0KM61BCP","text":"you do the math;-)","ts":"1474399197.000334"},{"type":"message","user":"U2CC1NDT2","text":"ROLF - fair comment","ts":"1474399221.000335"},{"type":"message","user":"U0KM61BCP","text":"it really depends","ts":"1474399272.000336"},{"type":"message","user":"U2CC1NDT2","text":"From the outside it just looked like Go was backed heavily as the toolset of choice on the chaincode side","ts":"1474399274.000337"},{"type":"message","user":"U0KM61BCP","text":"DTCC and Fujitsu invested in java because that is where their skills are","ts":"1474399292.000338"},{"type":"message","user":"U0KM61BCP","text":"makes sense to me","ts":"1474399298.000339"},{"type":"message","user":"U2CC1NDT2","text":"Of course and it goes way back","ts":"1474399316.000340"},{"type":"message","user":"U0KM61BCP","text":"I also expect that there will be more innovation around the chaincode DSL space and IMO Java probably going to be further along in terms of support for DSLs","ts":"1474399358.000341"},{"type":"message","user":"U2CC1NDT2","text":"100% - \"sighs big sigh of relief now that way forward is clearly understood\" - I owe you lunch and beer (or two) - thanks a mill - I was going around in circles but your comments have made everything crystal...","ts":"1474399492.000342"},{"user":"U0RD1ALMV","text":"<@U0RD1ALMV|hart.montgomery> has joined the channel","type":"message","subtype":"channel_join","ts":"1474401110.000343"},{"user":"U1PT9H68Z","text":"<@U1PT9H68Z|lin> has joined the channel","type":"message","subtype":"channel_join","ts":"1474433972.000344"},{"user":"U2C55KE65","text":"<@U2C55KE65|arvin> has joined the channel","type":"message","subtype":"channel_join","ts":"1474442838.000345"},{"user":"U2CSLPV1Q","text":"<@U2CSLPV1Q|hhadass> has joined the channel","type":"message","subtype":"channel_join","ts":"1474492205.000346"},{"type":"message","user":"U0ZJZBJLF","text":"I think the proto version in the vendor folder of the master branch and in the feature convergence is different... isn't that a problem?","ts":"1474556590.000347"},{"type":"message","user":"U0KPFAZNF","text":"could be, though my impression is convergence will eventually become master and supersede whatever is there","ts":"1474556968.000348"},{"type":"message","user":"U0KPFAZNF","text":"not sure that mitigates the concern you are raising or not","ts":"1474556980.000349"},{"type":"message","user":"U0KPFAZNF","text":"I would like to get your dynamic proto generation stuff merged at some point\u2026i am assuming that might help?","ts":"1474557007.000350"},{"type":"message","user":"U0KPFAZNF","text":"(we are blocked on that until things like the shim are extricated to its own repository","ts":"1474557037.000351"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> ^^^","ts":"1474557130.000352"},{"type":"message","user":"U0ZJZBJLF","text":"what do you mean we are blocked?","ts":"1474557478.000353"},{"type":"message","user":"U0KPFAZNF","text":"i mean, until some things are broken out, the concept of dynamic generation is incompatible","ts":"1474557506.000354"},{"type":"message","user":"U0KPFAZNF","text":"thats why it was not merged","ts":"1474557510.000355"},{"type":"message","user":"U0ZJZBJLF","text":"what does broken out mean?","ts":"1474557520.000356"},{"type":"message","user":"U0KPFAZNF","text":"well, for a while now \u201cfabric.git\u201d as been an umbrella repo","ts":"1474557555.000357"},{"type":"message","user":"U0KPFAZNF","text":"peer, membersrvc, sdk, shim, devenv, baseimage, etc","ts":"1474557573.000358"},{"type":"message","user":"U0KPFAZNF","text":"all in one","ts":"1474557575.000359"},{"type":"message","user":"U0ZJZBJLF","text":"I think that convergence is *not* protobuff 3.0","ts":"1474557581.000360"},{"type":"message","user":"U0ZJZBJLF","text":"and that master *is*","ts":"1474557586.000361"},{"type":"message","user":"U0KPFAZNF","text":"oh, i see your point","ts":"1474557591.000362"},{"type":"message","user":"U0ZJZBJLF","text":"so if it becomes the master...","ts":"1474557596.000363"},{"type":"message","user":"U0KPFAZNF","text":"someone needs to be maintaining convergence","ts":"1474557608.000364"},{"type":"message","user":"U0KPFAZNF","text":"ideally, things merge v0.6-&gt;master-&gt;convergence","ts":"1474557619.000365"},{"type":"message","user":"U0KPFAZNF","text":"I thought you were saying the opposite was true","ts":"1474557626.000366"},{"type":"message","user":"U0KPFAZNF","text":"(convergence was ahead of master)","ts":"1474557634.000367"},{"type":"message","user":"U0ZJZBJLF","text":"it is ahead in some aspects","ts":"1474557644.000368"},{"type":"message","user":"U0KPFAZNF","text":"understood","ts":"1474557651.000369"},{"type":"message","user":"U0KPFAZNF","text":"i just took it as entirely ahead","ts":"1474557656.000370"},{"type":"message","user":"U0ZJZBJLF","text":"```\n\/\/ This is a compile-time assertion to ensure that this generated file\n\/\/ is compatible with the proto package it is being compiled against.\n\/\/ A compilation error at this line likely means your copy of the\n\/\/ proto package needs to be updated.\nconst _ = proto1.ProtoPackageIsVersion2 \/\/ please upgrade the proto package\n```","edited":{"user":"U0ZJZBJLF","ts":"1474557669.000000"},"ts":"1474557662.000371"},{"type":"message","user":"U0KPFAZNF","text":"yes, i understand the problem now","ts":"1474557672.000373"},{"type":"message","user":"U0ZJZBJLF","text":"This code compiles in master, but *not* in convergence","ts":"1474557683.000374"},{"type":"message","user":"U0KPFAZNF","text":"understood, i know what you are saying now","ts":"1474557691.000375","reactions":[{"name":"+1","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"the problem is: we have no process (manual or automated) for doing what should be happening","ts":"1474557712.000376"},{"type":"message","user":"U0KPFAZNF","text":"that is trickle v0.6-&gt;master-&gt;convergence","ts":"1474557721.000377"},{"type":"message","user":"U0ZJZBJLF","text":"I think it's possible to cherry pick *in* convergence at some point, the commit that you cherry picked and merged to master","edited":{"user":"U0ZJZBJLF","ts":"1474557750.000000"},"ts":"1474557740.000378"},{"type":"message","user":"U0KPFAZNF","text":"i was going to raise this merging issue (but not for this specific reason)","ts":"1474557774.000380"},{"type":"message","user":"U0ZJZBJLF","text":"ok... I only asked here to sanity test myself.","ts":"1474557802.000381"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1474557810.000382"},{"type":"message","user":"U0KPFAZNF","text":"Part of the problem is we prohibit pushing merges\u2026while I understand why, it also makes situations like this a lot harder to deal with","ts":"1474557867.000383"},{"type":"message","user":"U0KPFAZNF","text":"I am wondering if we need to open up merges for select circumstances","ts":"1474557891.000384"},{"type":"message","user":"U0KPFAZNF","text":"(i.e. only maintainers, and only for branch maintenance, etc)","ts":"1474557911.000385"},{"type":"message","user":"U0KPFAZNF","text":"not for general patch submission","ts":"1474557923.000386"},{"type":"message","user":"U0ZJZBJLF","text":"I think that copying the vendor folder, and then simply hand-fixing all the ptype type compilations errors isn't *too* hard for something so important as that. If we do this at some point (merge to master) I can do it again....","ts":"1474557968.000387"},{"type":"message","user":"U0ZJZBJLF","text":"wait actually I can try and do it now and if it'll be merged to convergence it'll be ok, right?","ts":"1474558003.000388"},{"type":"message","user":"U0KPFAZNF","text":"if you are in a pinch, sure, but I hope to make this a more natural part of the flow going forward","ts":"1474558007.000389"},{"type":"message","user":"U0ZJZBJLF","text":"well, it is a problem for me at the moment because the pb.go files don't compile in the convergence PR i sent :disappointed: \nAlthough it's not important for CR, it is important for compilation...\nI need to somehow compile it with the older version of protoc or something","edited":{"user":"U0ZJZBJLF","ts":"1474558113.000000"},"ts":"1474558073.000390"},{"type":"message","user":"U268EB76W","text":"Does anyone know of an alternative environment like IBM's BMX IBM Blockchain ? Is IBM the only one offering a hosted Fabric environment?","ts":"1474562801.000392"},{"type":"message","user":"U0KPFAZNF","text":"someone on here has been active in a different cloud, but I am having trouble remembering the who\/what","ts":"1474563019.000393"},{"type":"message","user":"U268EB76W","text":"I'm trying to focus on only chaincode development at this time and do not want the headache of rolling and maintaining my own Fabric environment--I am training future Chaincode developers at this time. Later when Fabric is close to v1 I will train sysops folks on the infrastructure. But for now the interest is in learning and developing chaincode without the confusion and frustration of the evolving complex infrastructure code.","ts":"1474563031.000394"},{"type":"message","user":"U0KPFAZNF","text":"I know I am personally striving for making it easy to deploy on openshift\/kubernetes, though I am not there yet","ts":"1474563042.000395"},{"type":"message","user":"U0KPFAZNF","text":"you are probably aware and have ruled this out for some reason, but by far the most supported option is vagrant","ts":"1474563107.000396"},{"type":"message","user":"U0KPFAZNF","text":"at least for now","ts":"1474563115.000397"},{"type":"message","user":"U0KPFAZNF","text":"there are changes coming in the next few days that will make this only about 1-2minutes to stand up anywhere, fwiw","ts":"1474563147.000398"},{"type":"message","user":"U0KPFAZNF","text":"that would be my advice for the short term","ts":"1474563185.000399"},{"type":"message","user":"U0KPFAZNF","text":"<@U268EB76W> this is the other one I was thinking of","ts":"1474563486.000400"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/cloudsoft\/brooklyn-hyperledger>","attachments":[{"service_name":"GitHub","title":"cloudsoft\/brooklyn-hyperledger","title_link":"https:\/\/github.com\/cloudsoft\/brooklyn-hyperledger","text":"brooklyn-hyperledger - Brooklyn blueprint for Hyperledger Fabric deployment","fallback":"GitHub: cloudsoft\/brooklyn-hyperledger","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/831459?v=3&s=400","from_url":"https:\/\/github.com\/cloudsoft\/brooklyn-hyperledger","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1474563487.000401","reactions":[{"name":"+1","users":["U196R0LA2"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"<@U196R0LA2> ^^^","ts":"1474563494.000403"},{"type":"message","user":"U0KPFAZNF","text":"note: ive never tried BMX nor cloudsoft, so I can\u2019t say what the differences are","ts":"1474563520.000404"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/www.youtube.com\/watch?v=jnSMjfVKgEk>","attachments":[{"service_name":"YouTube","service_url":"https:\/\/www.youtube.com\/","title":"Cloudsoft AMP Hyperledger Multi location Demo","title_link":"https:\/\/www.youtube.com\/watch?v=jnSMjfVKgEk","author_name":"Cloudsoft YouTube","author_link":"https:\/\/www.youtube.com\/channel\/UCpbLhvXrYWz8B_osUX6rn0Q","thumb_url":"https:\/\/i.ytimg.com\/vi\/jnSMjfVKgEk\/hqdefault.jpg","thumb_width":480,"thumb_height":360,"fallback":"YouTube Video: Cloudsoft AMP Hyperledger Multi location Demo","video_html":"<iframe width=\"400\" height=\"225\" src=\"https:\/\/www.youtube.com\/embed\/jnSMjfVKgEk?feature=oembed&autoplay=1&iv_load_policy=3\" frameborder=\"0\" allowfullscreen><\/iframe>","video_html_width":400,"video_html_height":225,"from_url":"https:\/\/www.youtube.com\/watch?v=jnSMjfVKgEk","service_icon":"https:\/\/a.slack-edge.com\/2089\/img\/unfurl_icons\/youtube.png","id":1}],"ts":"1474563555.000405"},{"type":"message","user":"U268EB76W","text":"I need to bite the bullet and create an environment for newbies and developers focused on the chaincode and not the infrastructure. AWS offers a lot of tools to simplify this process of defining, configuring, and deploying a complex infrastructure in a temporal manner with change tracking.  I think starting next week I will put up an AWS Fabric environment that anyone can deploy and use :slightly_smiling_face: I'm looking at kubernetes too. But have a custom solution I may use instead. I'm unraveling all the vagrant stuff to partition the dependencies and refactor for lowest common denominator, exceptions and understanding.","ts":"1474563648.000407"},{"type":"message","user":"U268EB76W","text":"thx <@U0KPFAZNF> for the tips!","ts":"1474563760.000408"},{"type":"message","user":"U268EB76W","text":"I'll let you know when I have an AWS Fabric environment for robust testing and deployment experiments :slightly_smiling_face: I'll make is public so all can enjoy!","ts":"1474563844.000409"},{"type":"message","user":"U268EB76W","text":"Self-reliance has always proven to me to be the quickest, surest, and best path to success when traveling in uncharted waters :slightly_smiling_face:","ts":"1474563928.000410"},{"type":"message","user":"U2CC1NDT2","text":"<@U0KPFAZNF> FINALLY - got the Vagrant devenv up and running on Win10. Posting steps\/info here in case it helps someone else somewhere along the line...\n\n1. Downgraded Vbox to 5.0.* and Vagrant to 1.8.4\n2. Manually downloaded the latest Vbox image from here -&gt; <https:\/\/atlas.hashicorp.com\/hyperledger\/boxes\/fabric-baseimage\/versions\/0.1.0\/providers\/virtualbox.box> and renamed to virtualbox.box\n3. In \/devenv -&gt; vagrant box add hyperledger\/fabric-baseimage file:\/\/C:\/path\/to\/file\/virtualbox.box -  then created metadata_url file in C:\\Users\\[name]\\.vagrant.d\\boxes\\hyperledger-VAGRANTSLASH-fabric-baseimage and also renamed the \"0\" dir to 0.1.0\n4. Vagrant up\n\nAt this point it correctly imports the latest 0.1.0 vbox image but provisioning still fails...\n\n5. vagrant ssh\n6. rm -rf \/var\/lib\/apt\/lists\/*\n7. sudo apt-get clean\n8. sudo apt-get autoclean\n9. In devenv\/setup.sh and in scripts\/provision\/common.sh, docker.sh and host.sh replaced every instance of apt-get update -qq with apt-get update -o Acquire::http::No-Cache=True\n10. exit and vagrant up --provision\n11. wait a while, when above drops back to bash cmd line vagrant ssh and eVoila' the correct MOTD comes up...","edited":{"user":"U2CC1NDT2","ts":"1474573270.000000"},"ts":"1474573093.000411"},{"type":"message","user":"U0KPFAZNF","text":"note that 0.1.0 is still not officially supported, but thats great you got it to work","ts":"1474573242.000412"},{"type":"message","user":"U0KPFAZNF","text":"the image itself is ok, but the fabric.git code needs this merged first: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1141\/>","ts":"1474573296.000414"},{"type":"message","user":"U0KPFAZNF","text":"otherwise, i am not sure what you might find","ts":"1474573308.000415"},{"type":"message","user":"U2CC1NDT2","text":"taken me long enough :disappointed:","ts":"1474573312.000416"},{"type":"message","user":"U0KPFAZNF","text":"whats in master was designed to work with v0.0.11","ts":"1474573316.000417"},{"type":"message","user":"U0KPFAZNF","text":"im not sure why you need all these steps though, its very odd","ts":"1474573348.000418"},{"type":"message","user":"U0KPFAZNF","text":"is there anyone else running vagrant on windows in general?","ts":"1474573359.000419"},{"type":"message","user":"U2CC1NDT2","text":"i'm pretty sure (in fact 1'm almost 100% sure) that the image was NOT the issue","ts":"1474573368.000420"},{"type":"message","user":"U0KPFAZNF","text":"(thats a question to the channel","ts":"1474573380.000421"},{"type":"message","user":"U0KPFAZNF","text":"the biggest issue is that there is a bunch of stuff in 0.1.0 that the mainline provisioner will try to install","ts":"1474573418.000422"},{"type":"message","user":"U2CC1NDT2","text":"the prov script is set to exit on error and for some reason apt-get update would inconsistently fail - what eventually did it was steps 6 through 9","ts":"1474573431.000423"},{"type":"message","user":"U0KPFAZNF","text":"(0.1.0 is kind of v0.0.11 baseimage + mainline provisioner, all baked together","ts":"1474573439.000424"},{"type":"message","user":"U0KPFAZNF","text":"so if you use 0.1.0 with mainline provisioner, there may be a collision, but it seems to have worked","ts":"1474573469.000425"},{"type":"message","user":"U0KPFAZNF","text":"you are just the first to try :wink:","ts":"1474573475.000426"},{"type":"message","user":"U2CC1NDT2","text":"yeah i see - peer is already built etc","ts":"1474573485.000427"},{"type":"message","user":"U0KPFAZNF","text":"no, that part is the same across both","ts":"1474573495.000428"},{"type":"message","user":"U0KPFAZNF","text":"its just things like docker, docker-compose, npm, etc","ts":"1474573508.000429"},{"type":"message","user":"U0KPFAZNF","text":"actually, not npm","ts":"1474573518.000430"},{"type":"message","user":"U0KPFAZNF","text":"but the others","ts":"1474573520.000431"},{"type":"message","user":"U0KPFAZNF","text":"i have a feeling its largely sorted out by the fact that the apt-gets are no-ops if its already installed","ts":"1474573552.000432"},{"type":"message","user":"U2CC1NDT2","text":"so bottom line - nothing to do with this project and everything to do with apt-get, the sources etc etc - this was the only way I could get apt-get update to go through - even tried my local repo but no joy","ts":"1474573562.000433"},{"type":"message","user":"U0KPFAZNF","text":"thats really weird","ts":"1474573574.000434"},{"type":"message","user":"U0KPFAZNF","text":"well, the good news is: 0.1.0 is one commit away from being the mainline","ts":"1474573587.000435"},{"type":"message","user":"U0KPFAZNF","text":"most of the apt-gets are gone in the new code","ts":"1474573598.000436"},{"type":"message","user":"U0KPFAZNF","text":"(or, were done for you already)","ts":"1474573609.000437"},{"type":"message","user":"U2CC1NDT2","text":"so no need for me to revert back to image being pulled by cloning the repo?","ts":"1474573642.000438"},{"type":"message","user":"U0KPFAZNF","text":"not sure, but those steps should not be necessary","ts":"1474573664.000439"},{"type":"message","user":"U0KPFAZNF","text":"do you want to try the new branch?","ts":"1474573669.000440"},{"type":"message","user":"U2CC1NDT2","text":"I can just hang on here until the commit gets done and everyone moves to 0.1.0?","ts":"1474573674.000441"},{"type":"message","user":"U0KPFAZNF","text":"(you might be shell shocked after the last hack session, heh)","ts":"1474573682.000442"},{"type":"message","user":"U2CC1NDT2","text":"happy to - how?","ts":"1474573691.000443"},{"type":"message","user":"U0KPFAZNF","text":"in patch 1141, in the upper right, there is a \u201cdownload\u201d tab","ts":"1474573719.000444"},{"type":"message","user":"U0KPFAZNF","text":"it has instructions like this: git fetch <ssh:\/\/greg.haskins@gerrit.hyperledger.org:29418\/fabric> refs\/changes\/41\/1141\/2 &amp;&amp; git checkout FETCH_HEAD","ts":"1474573725.000445"},{"type":"message","user":"U0KPFAZNF","text":"if you \u201cvagrant destroy\u201d the one that is running now, do that, and then vagrant up again...","ts":"1474573746.000446"},{"type":"message","user":"U0KPFAZNF","text":"it should all be based on the new 0.1.0 stuff","ts":"1474573754.000447"},{"type":"message","user":"U2CC1NDT2","text":"can you provide me the link plse?","ts":"1474573759.000448"},{"type":"message","user":"U0KPFAZNF","text":"heres the patch","ts":"1474573771.000449"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1141\/>","ts":"1474573772.000450"},{"type":"message","user":"U2CC1NDT2","text":"so in heperledger\/ git fetch <http:\/\/gerrit.hyperledger.org\/r\/fabric> refs\/changes\/41\/1141\/2 &amp;&amp; git checkout FETCH_HEAD then destroy the box and up it again?","ts":"1474573865.000451"},{"type":"message","user":"U0KPFAZNF","text":"i would destroy first, just to be safe","ts":"1474573876.000452"},{"type":"message","user":"U2CC1NDT2","text":"ok","ts":"1474573884.000453"},{"type":"message","user":"U0KPFAZNF","text":"it shouldnt matter, but sometimes vagrant gets confused if you yank the carpet out from under it","ts":"1474573888.000454"},{"type":"message","user":"U0KPFAZNF","text":"best to clean up on the environment it knows","ts":"1474573904.000455"},{"type":"message","user":"U2CC1NDT2","text":"sure - also need to be a bit careful cause I've got the AMP story with 5 nodes running also and really dont' wanna mess that up...","ts":"1474573932.000456"},{"type":"message","user":"U0KPFAZNF","text":"if you have to do anything other than \u201cvagrant up\u201d, I want to know about it","ts":"1474573940.000457"},{"type":"message","user":"U0KPFAZNF","text":"(including the manual download of the .box, etc)","ts":"1474573967.000458"},{"type":"message","user":"U0KPFAZNF","text":"all that should be automated","ts":"1474573972.000459"},{"type":"message","user":"U0KPFAZNF","text":"sure, understood","ts":"1474573993.000460"},{"type":"message","user":"U0KPFAZNF","text":"appreciate you checking, i know you worked hard to get to where you are now","ts":"1474574017.000461"},{"type":"message","user":"U0KPFAZNF","text":"(and sorry for all the pain, its supposed to be one command, done)","ts":"1474574040.000462"},{"type":"message","user":"U2CC1NDT2","text":"no worries - things are fluid... just one thing","ts":"1474574067.000463"},{"type":"message","user":"U2CC1NDT2","text":"when I run git fetch <http:\/\/gerrit.hyperledger.org\/r\/fabric> refs\/changes\/41\/1141\/2 &amp;&amp; git checkout FETCH_HEAD","ts":"1474574086.000464"},{"type":"message","user":"U2CC1NDT2","text":"i get","ts":"1474574089.000465"},{"type":"message","user":"U2CC1NDT2","text":"fatal: Not a git repository (or any of the parent directories): .git","ts":"1474574098.000466"},{"type":"message","user":"U2CC1NDT2","text":"am i in the right dir? c:\\code\\go_code\\src\\<http:\/\/github.com|github.com>\\hyperledger","ts":"1474574164.000467"},{"type":"message","user":"U2CC1NDT2","text":"to run the above","ts":"1474574171.000468"},{"type":"message","user":"U0KPFAZNF","text":"down one more to fabric","ts":"1474574202.000469"},{"type":"message","user":"U0KPFAZNF","text":"c:\\code\\go_code\\src\\<http:\/\/github.com|github.com>\\hyperledger\/fabric","ts":"1474574212.000470"},{"type":"message","user":"U2CC1NDT2","text":"thks","ts":"1474574224.000471"},{"type":"message","user":"U2CC1NDT2","text":"ok coming up now","ts":"1474574260.000472"},{"type":"message","user":"U0KPFAZNF","text":"cool","ts":"1474574293.000473"},{"type":"message","user":"U2CC1NDT2","text":"inadvertently a blessing I pulled 01.0 manually :slightly_smiling_face:","ts":"1474574304.000474"},{"type":"message","user":"U0KPFAZNF","text":"yeah, you should have it cached now","ts":"1474574315.000475"},{"type":"message","user":"U196R0LA2","text":"<@U2CC1NDT2> glad you got it running in some form","ts":"1474574322.000476"},{"type":"message","user":"U2CC1NDT2","text":"yeah it's in .vagra.d\/boxes etc etc","ts":"1474574329.000477"},{"type":"message","user":"U0KPFAZNF","text":"yep","ts":"1474574334.000478"},{"type":"message","user":"U2CC1NDT2","text":"hey <@U196R0LA2> - will send you the log file shortly bud","ts":"1474574349.000479"},{"type":"message","user":"U2CC1NDT2","text":"apologies for no reply yet but been fighting with this apt-get story as you can see above...","ts":"1474574414.000480"},{"type":"message","user":"U2CC1NDT2","text":"perhaps we can hook up tomorrow to look into that services startup issue I emailed you about this morning?...","ts":"1474574456.000481"},{"type":"message","user":"U0KPFAZNF","text":"<@U2CC1NDT2> is it making its way through provisioning?","ts":"1474574486.000482"},{"type":"message","user":"U196R0LA2","text":"<@U2CC1NDT2> going 1:1","ts":"1474574488.000483"},{"type":"message","user":"U2CC1NDT2","text":"so far so good <@U0KPFAZNF>","ts":"1474574501.000484","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"you are helping me out to validate the new patches, anyway, so this is good","ts":"1474574530.000485"},{"type":"message","user":"U2CC1NDT2","text":"<@U196R0LA2> yeah - to see if you can help get the cluster with BYON nodes running correcty","edited":{"user":"U2CC1NDT2","ts":"1474574550.000000"},"ts":"1474574537.000486","reactions":[{"name":"+1","users":["U196R0LA2"],"count":1}]},{"type":"message","user":"U2CC1NDT2","text":"<@U0KPFAZNF> so far so good - busy pulling the docker images and no issues so far.... previously it bombed way before this...","ts":"1474575381.000488"},{"type":"message","user":"U0KPFAZNF","text":"ok, thats good news","ts":"1474575589.000489"},{"type":"message","user":"U0KPFAZNF","text":"if you got there, the provisioning is basically done, its just running the standard build for you at this point","ts":"1474575616.000490"},{"type":"message","user":"U0KPFAZNF","text":"in fact, i have a patch in queue that takes the auto-build out of the provisioning path","ts":"1474575634.000491"},{"type":"message","user":"U0KPFAZNF","text":"it means that the provisioning process from vagrant up to ssh is like 90s","ts":"1474575653.000492"},{"type":"message","user":"U0KPFAZNF","text":"(of course, most people still have to go then kick off a build","ts":"1474575667.000493"},{"type":"message","user":"U0KPFAZNF","text":"but I wanted to decouple the provisioning success from the building success, and also give people a chance to build what they actually need instead of assuming","edited":{"user":"U0KPFAZNF","ts":"1474575703.000000"},"ts":"1474575691.000494"},{"type":"message","user":"U0KPFAZNF","text":"one thing though, i think at least the javaenv image does some apt-gets","ts":"1474575725.000496"},{"type":"message","user":"U0KPFAZNF","text":"so if that is problematic in your environment, it might still bite you","ts":"1474575735.000497"},{"type":"message","user":"U2CC1NDT2","text":"it's already done the java stuff i think","ts":"1474575777.000498","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U2CC1NDT2","text":"if this goes through without a hitch - on the weekend I'll move to vbox 5.1.6 and vagrant 1.8.5 and test devenv again","ts":"1474575863.000499"},{"type":"message","user":"U0KPFAZNF","text":"ok, thank you much for testing","ts":"1474576059.000500"},{"type":"message","user":"U2CC1NDT2","text":"pleasure","ts":"1474576069.000501"},{"type":"message","user":"U0KPFAZNF","text":"would be interested to hear the result on 5.1.x, good to get ahead of any potential snags","ts":"1474576075.000502"},{"type":"message","user":"U0KPFAZNF","text":"(and sorry again for the trouble, it was intended to be \u201cthe easy part\"","ts":"1474576091.000503"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1474576092.000504"},{"type":"message","user":"U2CC1NDT2","text":"yeah and it seems there's always issues between the two when one or the other releases an update","ts":"1474576116.000505"},{"type":"message","user":"U0KPFAZNF","text":"hopefully 1141 gets merged in the next 48 hours","ts":"1474576124.000506"},{"type":"message","user":"U2CC1NDT2","text":"especially on win","ts":"1474576125.000507"},{"type":"message","user":"U0KPFAZNF","text":"yeah, im on mac and I think a lot of us are","ts":"1474576155.000508"},{"type":"message","user":"U0KPFAZNF","text":"but im sure there are some windows users too","ts":"1474576167.000509"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> another (potentially positive) datapoint on 1142 ^^^","ts":"1474576251.000510"},{"type":"message","user":"U0KPFAZNF","text":"gah, 1141","ts":"1474576257.000511"},{"type":"message","user":"U0KM61BCP","text":"we need someone else to approve","ts":"1474576380.000512"},{"type":"message","user":"U0KM61BCP","text":":wink:","ts":"1474576387.000513"},{"type":"message","user":"U0KM61BCP","text":"<@U11MANG9G> you still awake?","ts":"1474576400.000514"},{"type":"message","user":"U0KM61BCP","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1141\/>","ts":"1474576407.000515"},{"type":"message","user":"U11MANG9G","text":"Yes","ts":"1474576413.000516"},{"type":"message","user":"U2CC1NDT2","text":"<@U0KPFAZNF> - LIKE A DREAM - no problems at all - ssh'ed in and peer is built etc","ts":"1474576415.000517"},{"type":"message","user":"U0KM61BCP","text":"heh","ts":"1474576417.000518"},{"type":"message","user":"U0KPFAZNF","text":"nice","ts":"1474576424.000519"},{"type":"message","user":"U0KPFAZNF","text":"i have to step away and help a friend move","ts":"1474576444.000520"},{"type":"message","user":"U0KPFAZNF","text":"ill catch up with you all in a bit","ts":"1474576452.000521"},{"type":"message","user":"U2CC1NDT2","text":"and it's a LOT quicker by many factors - also bear in mind I'm in the middle of the Indian Ocean so my speeds fluctuate from like 8kbps to 15Mbps depending - so normal users should provision chop chop","ts":"1474576490.000522"},{"type":"message","user":"U2CC1NDT2","text":"ok later - also outta here - will give feedback as per weekend's findings on monday...","ts":"1474576534.000523"},{"type":"message","user":"U2CC1NDT2","text":"cheers all","ts":"1474576536.000524"},{"type":"message","user":"U0KPFAZNF","text":"have a good one","ts":"1474576545.000525"},{"type":"message","user":"U2CC1NDT2","text":"same","ts":"1474576549.000526"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0KPFAZNF> , now when I look at the commits - there were 2 of them related to protoc- 1 that you cherry picked, and another one with something in the comment saying about actual merging. \nI don't want to mess with it at the moment, I think it's best to delay it until the branch is ready to be merged to the master.  (also, last time my dynamic compilation thing caused problems so I'm not too delighted to try something like that again at this time)\nHaving said that- I figured that if you fool protoc by overriding the protoc-gen-go  binary location, you control the outputted version of the pb.go files, so that's what i did and this is how I patched my commits branched out of the convergence branch....","edited":{"user":"U0ZJZBJLF","ts":"1474584970.000000"},"ts":"1474584893.000527"},{"type":"message","user":"U2CC1NDT2","text":"<@U0KPFAZNF> - Install on Win10 seems to be working flawlessly now:\n\nClean Win10 environment:\n1. Installed Virtualbox 5.1.6 and Vagrant 1.8.5\n2. Cloned Gerrit repo exactly as per docs\n3. $ cd fabric\n4. $ git fetch <http:\/\/gerrit.hyperledger.org\/r\/fabric> refs\/changes\/41\/1141\/2 &amp;&amp; git checkout FETCH_HEAD\n5. $ cd fabric\/devenv\n6. $ vagrant up\n7. $ vagrant ssh - correct \/ expected MOTD\n8. $ peer - expected help \/ available commands","ts":"1474635148.000529"},{"type":"message","user":"U0KPFAZNF","text":"<@U2CC1NDT2> awesome\u2026im guessing the fundamental problem for you seemed to be related to apt-get\u2019ing packages for some reason","ts":"1474635268.000530"},{"type":"message","user":"U0KPFAZNF","text":"(which are now largely avoided)","ts":"1474635282.000531"},{"type":"message","user":"U2CC1NDT2","text":"yup - that's it...","ts":"1474635319.000532"},{"type":"message","user":"U0KPFAZNF","text":"as flexible as it was, they were causing reliability problems all over the place (for instance, the convergence branch is failing all morning today)","ts":"1474635368.000533"},{"type":"message","user":"U0KPFAZNF","text":"so good riddance, heh","ts":"1474635373.000534"},{"type":"message","user":"U2CC1NDT2","text":"but we now know the workaround for that as per posts above if anyone else has this issue (which I doubt will surface now using the v0.1.0 box and new Vagrantfile \/ provisioning)","ts":"1474635439.000535"},{"type":"message","user":"U0KPFAZNF","text":"btw, i think 1141 was merged","ts":"1474635455.000536"},{"type":"message","user":"U0KPFAZNF","text":"so you shouldnt need step 4 any more (at least not on master","ts":"1474635468.000537"},{"type":"message","user":"U0KPFAZNF","text":"but do note that v0.6 and convergence are still using the older v0.0.11","ts":"1474635493.000538"},{"type":"message","user":"U2CC1NDT2","text":"ah ok - sure - wasn't aware and didn't want to waste time - primary purpose was to check vbox 5.1.6 - v1.8.5 was playing nicely","ts":"1474635518.000539"},{"type":"message","user":"U0KPFAZNF","text":"right, i dont think it invalidates your confirmation","ts":"1474635538.000540"},{"type":"message","user":"U0KPFAZNF","text":"jfyi for going foward","ts":"1474635546.000541"},{"type":"message","user":"U2CC1NDT2","text":"no - concretely proves the issues with apg-get update on 0.0.11 - thanks for the heads up though...","ts":"1474635586.000542"},{"type":"message","user":"U1P1ZV6RF","text":"just did a fresh vagrant up from ubuntu, works fine","ts":"1474643495.000543"},{"type":"message","user":"U0KPFAZNF","text":"<@U1P1ZV6RF> master? or one of the other branches","ts":"1474643640.000544"},{"type":"message","user":"U1P1ZV6RF","text":"master, I assume:  git clone <ssh:\/\/matanyahu@gerrit.hyperledger.org:29418\/fabric> &amp;&amp; scp -p -P 29418 <mailto:matanyahu@gerrit.hyperledger.org|matanyahu@gerrit.hyperledger.org>:hooks\/commit-msg fabric\/.git\/hooks\/","ts":"1474643728.000545"},{"type":"message","user":"U1P1ZV6RF","text":"can I verify it from the vagrant vm?","ts":"1474643788.000546"},{"type":"message","user":"U0KPFAZNF","text":"<@U1P1ZV6RF> if you did that today, then yes","ts":"1474643791.000547"},{"type":"message","user":"U0KPFAZNF","text":"yes, check the prompt","ts":"1474643799.000548"},{"type":"message","user":"U0KPFAZNF","text":"if it says \u201c0.1.0\u201d you have the latest","ts":"1474643808.000549"},{"type":"message","user":"U0KPFAZNF","text":"if it says 0.0.11, its the old one","ts":"1474643816.000550"},{"type":"message","user":"U1P1ZV6RF","text":"vagrant@hyperledger-devenv:v0.1.0-3cfaeb5:~$","ts":"1474643834.000551"},{"type":"message","user":"U0KPFAZNF","text":"cool, yep, you have the new stuff","ts":"1474643848.000552"},{"type":"message","user":"U1P1ZV6RF","text":"will this launch Fabric 0.6 environment?","ts":"1474643872.000553"},{"type":"message","user":"U0KPFAZNF","text":"thanks for confirming","ts":"1474643880.000554"},{"type":"message","user":"U0KPFAZNF","text":"0.6 is still on 0.0.11, that said, I think it would work if you check out the branch and rebuild everything","ts":"1474643914.000555"},{"type":"message","user":"U1P1ZV6RF","text":"how should I modify git clone command?","ts":"1474643943.000556"},{"type":"message","user":"U0KPFAZNF","text":"the difference between 0.0.11 and 0.1.0 is at provisioning time, so in theory once its provisioned, they should be compatible","ts":"1474643949.000557"},{"type":"message","user":"U0KPFAZNF","text":"personally, i wouldnt do it with a reclone, id just switch branches","ts":"1474643972.000558"},{"type":"message","user":"U0KPFAZNF","text":"you should be able to do \u201cgit checkout -b v0.6 origin\/v0.6","ts":"1474643984.000559"},{"type":"message","user":"U0KPFAZNF","text":"then (from within vagrant): cd $GOPATH\/src\/github.com\/hyperledger\/fabric &amp;&amp; make clean peer","ts":"1474644031.000560"},{"type":"message","user":"U0KPFAZNF","text":"there is a way to check out a specific branch at clone time, but I dont know the syntax off the top of my head as I never do that","ts":"1474644076.000561"},{"type":"message","user":"U1P1ZV6RF","text":"ok, thanks","ts":"1474644948.000562"},{"type":"message","user":"U1P1ZV6RF","text":"What does an extension --peer-chaincodedev mean in peer node start operation? What defaults does it take? What would be an alternative?","ts":"1474658343.000563"},{"type":"message","user":"U1P1ZV6RF","text":"would it be docker-compose with a custom yaml file?","ts":"1474658602.000564"},{"type":"message","user":"U0YJUECE8","text":"<@U1P1ZV6RF>   Without the --peer-chaincodedev option, when you deploy a chaincode, it will be deployed in its own Docker container.    With the --peer-chaincodedev option,  you can execute chaincode on the same host where your peer is running, and it will not be deployed in a separate container.","ts":"1474659768.000565"},{"type":"message","user":"U1P1ZV6RF","text":"what would be an alternative to this command and would someone decide not to use it? I've seen people on slack avoiding chaincodedev switch for no apparent reason","ts":"1474660033.000566"},{"type":"message","user":"U0YJUECE8","text":"<@U1P1ZV6RF> I think a main purpose of the --peer-chaincodedev option is for when you are in chaincode development mode and you'd like to debug your chaincode without having to worry about Docker.","ts":"1474660252.000567"},{"type":"message","user":"U0YJUECE8","text":"<@U1P1ZV6RF>  The alternative is to simply not use the switch-  in which case your chaincode will be in its own Docker container.","ts":"1474660294.000568"},{"type":"message","user":"U1P1ZV6RF","text":"which means I would have to log in to each container to see an output instead of seeing it in a verbose form on my vagrant host?","ts":"1474660785.000569"},{"type":"message","user":"U0YJUECE8","text":"<@U1P1ZV6RF>  log in or alternatively use the command *docker logs -f _containerName_* to view the log output...  so --peer-chaincodedev saves you from that hassle","ts":"1474661481.000570"},{"type":"message","user":"U1P1ZV6RF","text":"thanks","ts":"1474662298.000571"},{"type":"message","user":"U1P1ZV6RF","text":"I am looking for instructions that would allow me to deploy example2 chaincode within a pbft-driven network. I launched docker-compose with the use of docker-compose-4-consensus-batch-1-byzantine.yml and then I did CORE_CHAINCODE_ID_NAME=mycc CORE_PEER_ADDRESS=0.0.0.0:7051 .\/chaincode_example02 just to receive the following error","ts":"1474666426.000572"},{"type":"message","user":"U1P1ZV6RF","text":"23:30:07.485 [shim] ERRO : Error trying to connect to local peer: grpc: timed out when dialing\nError starting Simple chaincode: Error trying to connect to local peer: grpc: timed out when dialingvagrant@hyperledger-devenv:v0.1history","ts":"1474666458.000573"},{"type":"message","user":"U1P1ZV6RF","text":"I assume this is related to a network port","ts":"1474666523.000574"},{"type":"message","user":"U1P1ZV6RF","text":"I did not make any modifications to the docker-compose-4-consensus-batch-1-byzantine.yml","ts":"1474666542.000575"},{"type":"message","user":"U1P1ZV6RF","text":"tried port 2375 as well, same result","ts":"1474666704.000576"},{"type":"message","user":"U0YJUECE8","text":"<@U1P1ZV6RF>  Here's my guess at what's going on-   your docker-compose has launched 5 Docker containers-  the 4 peers and 1 membersrvc.   So your peer code is running in the 4 Docker containers.    And I'm guessing that your command was done from your host, so the 0.0.0.0:7051 would refer to your host and not the containers where your peer is running.    Try changing 0.0.0.0  to the IP address of one of your peer Docker containers","ts":"1474667416.000577"},{"type":"message","user":"U1P1ZV6RF","text":"my peers are assigned an address such as 172.17.0.x:7051 but whenever I try to invoke it, I receive an information that connection is refused: vagrant@hyperledger-devenv:v0.1.0-3cfaeb5:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/peer$ curl -X POST -d@id.json <http:\/\/172.17.0.1:7051\/registrar>","ts":"1474667740.000578"},{"type":"message","user":"U1P1ZV6RF","text":"curl: (7) Failed to connect to 172.17.0.1 port 7051: Connection refused","ts":"1474667756.000579"},{"type":"message","user":"U1P1ZV6RF","text":"a fragment of vp communication:","ts":"1474667782.000580"},{"type":"message","user":"U1P1ZV6RF","text":"vp1_1         | 23:50:46.865 [peer] SendMessage -&gt; DEBU 310b Sending message to stream of type: DISC_PEERS\nvp2_1         | 23:50:47.682 [peer] ensureConnected -&gt; DEBU 3108 Touch service indicates no dropped connections\nvp2_1         | 23:50:47.682 [peer] ensureConnected -&gt; DEBU 3109 Connected to: [172.17.0.5:7051 172.17.0.3:7051 172.17.0.4:7051]\nvp2_1         | 23:50:47.682 [peer] ensureConnected -&gt; DEBU 310a Discovery knows about: [172.17.0.3:7051 172.17.0.4:7051 172.17.0.5:7051]","ts":"1474667784.000581"},{"type":"message","user":"U0YJUECE8","text":"<@U1P1ZV6RF> chances are 172.17.0.1 is your host's IP address-   when you installed Docker, Docker automatically sets up its internal network for you.    172.17.0.1  is probably your host's IP.  you need to use one of the IP addresses of your peer-   it will either be 172.17.0.2 ,    .3 ,   .4,   .5 or .6  (one of these will be your membersrvcs).   So use one of those peer IPs and not from your host","ts":"1474668105.000582"},{"type":"message","user":"U1P1ZV6RF","text":"(I set up my environment with vagrant)  @hyperledger-devenv:v0.1.0-3cfaeb5:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/peer$ curl -X POST -d@id.json <http:\/\/172.17.0.2:7051\/registrar>\ncurl: (7) Failed to connect to 172.17.0.2 port 7051: Connection refused\nvagrant@hyperledger-devenv:v0.1.0-3cfaeb5:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/peer$ curl -X POST -d@id.json <http:\/\/172.17.0.3:7051\/registrar>\ncurl: (56) Recv failure: Connection reset by peer                                                                                      \u2592\u2592vagrant@hyperledger-\nvagrant@hyperledger-devenv:v0.1.0-3cfaeb5:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/peer$ curl -X POST -d@id.json <http:\/\/172.17.0.4:7051\/registrar>\ncurl: (56) Recv failure: Connection reset by peer                                                                                      \u2592\u2592vagrant@hyperledger-\n\nvagrant@hyperledger-devenv:v0.1.0-3cfaeb5:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/peer$\n vagrant","edited":{"user":"U1P1ZV6RF","ts":"1474668796.000000"},"ts":"1474668676.000583"},{"type":"message","user":"U0YJUECE8","text":"<@U1P1ZV6RF>  are you certain that 172.17.0.2  is not your membersrvcs container?   You can run *docker inspect _containerName_* and you'll see the container's IP address in the output","ts":"1474669525.000586"},{"type":"message","subtype":"file_share","text":"<@U1P1ZV6RF|matanyahu> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2FEB1U49\/membersrvcs_container.txt|membersrvcs container>","file":{"id":"F2FEB1U49","created":1474670086,"timestamp":1474670086,"name":"membersrvcs_container.txt","title":"membersrvcs container","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U1P1ZV6RF","editable":true,"size":1501,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2FEB1U49\/membersrvcs_container.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2FEB1U49\/download\/membersrvcs_container.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2FEB1U49\/membersrvcs_container.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2FEB1U49-e86010002e","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2FEB1U49\/membersrvcs_container.txt\/edit","preview":" \"NetworkSettings\": {\r\n            \"Bridge\": \"\",\r\n            \"SandboxID\": \"ac56e290a964ba2ca0f28a82c91375be0f0107624fc6803035883661d4af1d2e\",\r\n            \"HairpinMode\": false,\r\n            \"LinkLocalIPv6Address\": \"\",\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre> &quot;NetworkSettings&quot;: {<\/pre><\/div>\n<div><pre>            &quot;Bridge&quot;: &quot;&quot;,<\/pre><\/div>\n<div><pre>            &quot;SandboxID&quot;: &quot;ac56e290a964ba2ca0f28a82c91375be0f0107624fc6803035883661d4af1d2e&quot;,<\/pre><\/div>\n<div><pre>            &quot;HairpinMode&quot;: false,<\/pre><\/div>\n<div><pre>            &quot;LinkLocalIPv6Address&quot;: &quot;&quot;,<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":33,"lines_more":28,"preview_is_truncated":true,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U1P1ZV6RF","upload":true,"display_as_bot":false,"username":"<@U1P1ZV6RF|matanyahu>","bot_id":null,"ts":"1474670087.000587"},{"type":"message","user":"U1P1ZV6RF","text":"vagrant@hyperledger-devenv:v0.1.0-3cfaeb5:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/peer$ curl -X POST -d@id.json <http:\/\/172.17.0.2:7054\/registrar>\ncurl: (56) Recv failure: Connection reset by peer","ts":"1474670189.000588"},{"type":"message","user":"U0YJUECE8","text":"<@U1P1ZV6RF>  so it looks like that is your membersrvcs container-  you have to send your curl request to one of the peers","ts":"1474670358.000589"},{"type":"message","user":"U0YJUECE8","text":"<@U1P1ZV6RF>   oh,  and this is key...  you need to send your request to the REST port which is port 7050","ts":"1474670432.000590"},{"type":"message","user":"U0YJUECE8","text":"here is a nice place where the ports are listed...    <https:\/\/github.com\/hyperledger-archives\/fabric\/pull\/2286>","attachments":[{"service_name":"GitHub","title":"[WIP] Fix Issue 2283 by christo4ferris \u00b7 Pull Request #2286 \u00b7 hyperledger-archives\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger-archives\/fabric\/pull\/2286","text":"Description change peer REST port from 5000 to 7050 to avoid conflict with UPnP on Windows. Also reassigned all other ports as follows: 7050 REST 7051 peer gRPC 7052 peer CLI 7053 peer events 705...","fallback":"GitHub: [WIP] Fix Issue 2283 by christo4ferris \u00b7 Pull Request #2286 \u00b7 hyperledger-archives\/fabric","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/3630697?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger-archives\/fabric\/pull\/2286","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1474670483.000591"},{"type":"message","user":"U1P1ZV6RF","text":"\u2592vagrant@hyperledger-devenv:v0.1.0-3cfaeb5:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/peer$ curl -X POST -d@id.json <http:\/\/172.17.0.37050\/registrar>\n{\"OK\":\"Login successful for user 'jim'.\"}","ts":"1474670847.000593"},{"type":"message","user":"U1P1ZV6RF","text":"gotcha","ts":"1474670853.000594"},{"type":"message","user":"U1P1ZV6RF","text":"<@U0YJUECE8> <@U0KM61BCP> : thanks!","ts":"1474670877.000595"},{"type":"message","user":"U0KM61BCP","text":"nice!","ts":"1474670900.000596"},{"type":"message","user":"U0YJUECE8","text":"<@U1P1ZV6RF>  yw!","ts":"1474670961.000597"},{"type":"message","user":"U1P1ZV6RF","text":"and now the chaincode works like a charm : vagrant@hyperledger-devenv:v0.1.0-3cCHAINCODE_ID_NAME=mycc CORE_PEER_ADDRESS=172.17.0.3:7051 .\/chaincode_example02code_example02$ CORE_C\n00:47:01.302 [shim] INFO : error with chaincode log level: logger: invalid log level level=\n00:47:01.310 [shim] DEBU : Peer address: 172.17.0.3:7051\n00:47:01.363 [shim] DEBU : os.Args returns: [.\/chaincode_example02]\n00:47:01.405 [shim] DEBU : Registering.. sending REGISTER\n00:47:01.489 [shim] DEBU : []Received message REGISTERED from shim\n00:47:01.509 [shim] DEBU : []Handling ChaincodeMessage of type: REGISTERED(state:created)\n00:47:01.514 [shim] DEBU : Received REGISTERED, ready for invocations","ts":"1474670985.000598"},{"type":"message","user":"U1P1ZV6RF","text":"ok, I did a step further and I performed couple of actions but some of them end up with an error:","ts":"1474671541.000599"},{"type":"message","user":"U1P1ZV6RF","text":"curl -X POST -d@trans2.json <http:\/\/172.17.0.3:7050\/chaincode>\n{\"jsonrpc\":\"2.0\",\"error\":{\"code\":-32602,\"message\":\"Invalid params\",\"data\":\"Chaincode path may not be blank.\"},\"id\":1}","ts":"1474671555.000600"},{"type":"message","user":"U1P1ZV6RF","text":"but invoke works fine","ts":"1474671623.000601"},{"type":"message","user":"U1P1ZV6RF","text":"curl -X POST -d@inv.json <http:\/\/172.17.0.3:7050\/chaincode>\n{\"jsonrpc\":\"2.0\",\"result\":{\"status\":\"OK\",\"message\":\"9ce84dba-3ab4-4962-a8a9-6607bef45716\"},\"id\":3}","ts":"1474671629.000602"},{"type":"message","user":"U1P1ZV6RF","text":"but querying does not work","ts":"1474671694.000603"},{"type":"message","user":"U1P1ZV6RF","text":"curl -X POST -d@query.json <http:\/\/172.17.0.3:7050\/chaincode>\n{\"jsonrpc\":\"2.0\",\"error\":{\"code\":-32003,\"message\":\"Query failure\",\"data\":\"Error when querying chaincode: Error:Failed to launch chaincode spec(Could not get deployment transaction for mycc - LedgerError - ResourceNotFound: ledger: resource not found)\"},\"id\":5}","ts":"1474671705.000604"},{"type":"message","user":"U0YJUECE8","text":"<@U1P1ZV6RF>   what are the contents of trans2.json and inv.json?    Also,  FYI   the 'OK\" from your second command, assuming it was an invoke, is just an indication that the invoke transaction was received, but something can (and probably did here) go awry","ts":"1474672036.000605"},{"type":"message","subtype":"file_share","text":"<@U1P1ZV6RF|matanyahu> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2FE8E14N\/trans2_json.txt|trans2.json>","file":{"id":"F2FE8E14N","created":1474672199,"timestamp":1474672199,"name":"trans2_json.txt","title":"trans2.json","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U1P1ZV6RF","editable":true,"size":276,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2FE8E14N\/trans2_json.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2FE8E14N\/download\/trans2_json.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2FE8E14N\/trans2_json.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2FE8E14N-1b162862be","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2FE8E14N\/trans2_json.txt\/edit","preview":"{\r\n  \"jsonrpc\": \"2.0\",\r\n  \"method\": \"deploy\",\r\n  \"params\": {\r\n    \"type\": 1,\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>{<\/pre><\/div>\n<div><pre>  &quot;jsonrpc&quot;: &quot;2.0&quot;,<\/pre><\/div>\n<div><pre>  &quot;method&quot;: &quot;deploy&quot;,<\/pre><\/div>\n<div><pre>  &quot;params&quot;: {<\/pre><\/div>\n<div><pre>    &quot;type&quot;: 1,<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":17,"lines_more":12,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U1P1ZV6RF","upload":true,"display_as_bot":false,"username":"<@U1P1ZV6RF|matanyahu>","bot_id":null,"ts":"1474672199.000606"},{"type":"message","subtype":"file_share","text":"<@U1P1ZV6RF|matanyahu> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2FCT4P7V\/inv_json.txt|inv.json>","file":{"id":"F2FCT4P7V","created":1474672224,"timestamp":1474672224,"name":"inv_json.txt","title":"inv.json","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U1P1ZV6RF","editable":true,"size":285,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2FCT4P7V\/inv_json.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2FCT4P7V\/download\/inv_json.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2FCT4P7V\/inv_json.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2FCT4P7V-9e3ef5708f","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2FCT4P7V\/inv_json.txt\/edit","preview":"{\r\n  \"jsonrpc\": \"2.0\",\r\n  \"method\": \"invoke\",\r\n  \"params\": {\r\n      \"type\": 1,\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>{<\/pre><\/div>\n<div><pre>  &quot;jsonrpc&quot;: &quot;2.0&quot;,<\/pre><\/div>\n<div><pre>  &quot;method&quot;: &quot;invoke&quot;,<\/pre><\/div>\n<div><pre>  &quot;params&quot;: {<\/pre><\/div>\n<div><pre>      &quot;type&quot;: 1,<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":17,"lines_more":12,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U1P1ZV6RF","upload":true,"display_as_bot":false,"username":"<@U1P1ZV6RF|matanyahu>","bot_id":null,"ts":"1474672224.000607"},{"type":"message","subtype":"file_share","text":"<@U1P1ZV6RF|matanyahu> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2FE8KHBQ\/query_json.txt|query.json>","file":{"id":"F2FE8KHBQ","created":1474672245,"timestamp":1474672245,"name":"query_json.txt","title":"query.json","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U1P1ZV6RF","editable":true,"size":270,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2FE8KHBQ\/query_json.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2FE8KHBQ\/download\/query_json.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2FE8KHBQ\/query_json.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2FE8KHBQ-1c02671e63","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2FE8KHBQ\/query_json.txt\/edit","preview":"{\r\n  \"jsonrpc\": \"2.0\",\r\n  \"method\": \"query\",\r\n  \"params\": {\r\n      \"type\": 1,\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>{<\/pre><\/div>\n<div><pre>  &quot;jsonrpc&quot;: &quot;2.0&quot;,<\/pre><\/div>\n<div><pre>  &quot;method&quot;: &quot;query&quot;,<\/pre><\/div>\n<div><pre>  &quot;params&quot;: {<\/pre><\/div>\n<div><pre>      &quot;type&quot;: 1,<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":16,"lines_more":11,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U1P1ZV6RF","upload":true,"display_as_bot":false,"username":"<@U1P1ZV6RF|matanyahu>","bot_id":null,"ts":"1474672245.000608"},{"type":"message","user":"U0YJUECE8","text":"<@U1P1ZV6RF> ...  hmmm  ok I'm not certain of this but it's worth a try-   I think re  trans2.json,  the issue may be that with the REST API you cannot do a deploy without specifying a path...and when using --peer-chaincodedev you have set up a *name* not a *path*.  It is possible you may have to use the CLI to deploy it, like this  *CORE_PEER_ADDRESS=172.17.0.3:7051 .\/peer chaincode deploy -n mycc -c '{\"Args\": [\"init\",\"a\",\"100\",\"b\",\"200\"]}'*    (in my example I ran this command from the directory where the peer executable lives ...   ...\/build\/bin  )","ts":"1474672587.000609"},{"type":"message","user":"U0YJUECE8","text":"<@U1P1ZV6RF>   then, if you get past this....in your inv.json ....  it is possible that instead of \"function\":\"invoke\"  you'll need to put the function name as the first argument, i.e.  \"args\":[\"invoke\", \"a\", \"b\", \"10\"]        ....   then, you may have to do the same in your query.json,  i.e.   \"args\":[\"query\", \"a\"]","ts":"1474672757.000610"},{"type":"message","user":"U1P1ZV6RF","text":"will do that","ts":"1474672842.000611"},{"type":"message","user":"U0YJUECE8","text":"<@U1P1ZV6RF>  I tried the advice I just gave you and it didn't work...then I looked at the latest doc <http:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/Setup\/Chaincode-setup\/#chaincode-deploy-via-cli-and-rest> and it looks like you should be able to deploy with REST...so I probably haven't nailed it yet.... also I see in the examples they are using \"function\" : \"invoke\",   \"args\" : [\"init\",  \"a\",  \"100\",  \"b\",  \"200\" ]}'   but I had thought that the function name was moved into the first argument.... I could  be wrong or the doc could be out of date","ts":"1474674114.000612"},{"type":"message","user":"U0YJUECE8","text":"I meant  \"function\" : \"invoke\",  \"args\" : [ \"a\",  \"100\",  \"b\",  \"200\"  ]}'     (no \"init\" )","ts":"1474674178.000613"},{"type":"message","user":"U0YJUECE8","text":"<@U1P1ZV6RF>   I have another theory that you may wish to investigate--  earlier you mentioned that you used *docker-compose-4-batch-1-byzantine.yml*  to start up your network....but you are trying to work in --chaincode-dev mode.   That YAML does not start the peer in --chaincode-dev mode.     I suggest you try using *docker-compose-1-devmode.yml*  which starts the peer with --chaincode-dev","ts":"1474675226.000614"},{"type":"message","user":"U1P1ZV6RF","text":"That is true, I did not deploy the network with --chaincode-dev mode but that was my express intention because docker-compose-4-batch-1-byzantine.yml allows me to run a network with characteristics I am looking for (PBFT, 4 nodes, membership services and so on)","ts":"1474691212.000615"},{"type":"message","user":"U1P1ZV6RF","text":"should I use another chaincode to test such conditions instead?","ts":"1474691262.000616"},{"type":"message","user":"U1P1ZV6RF","text":"I should be capable of deploying it because it is possible on bluemix","ts":"1474691395.000617"},{"type":"message","user":"U0KM61BCP","text":"<@U1P1ZV6RF> the REST API is deprecated, and not in the mainstream of testing. Suggest that you use the Node SDK to interact with the peer network (deploying, invoking, querying chaincode) or use the 'peer chaincode\u2019 CLI commands.","ts":"1474715488.000624"},{"type":"message","user":"U1P1ZV6RF","text":"I am trying to deploy example02 chaincode through CLI commands instead of REST API and since I activated security, in order to do so I need to provide a user name (-u switch). When I do it, I receive an output that I need to perform peer network login &lt;username&gt; in order to obtain a security token. When I try doing this I receive the following error","ts":"1474723371.000625"},{"type":"message","user":"U1P1ZV6RF","text":"vagrant@hyperledger-devenv:v0.1.0-3cfaeb5:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02$ peer network login admin\nEnter password for user 'admin': ************\n2016\/09\/24 15:18:45 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 0.0.0.0:7051: getsockopt: connection refused\"; Reconnecting to {\"0.0.0.0:7051\" &lt;nil&gt;}\n2016\/09\/24 15:18:46 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 0.0.0.0:7051: getsockopt: connection refused\"; Reconnecting to {\"0.0.0.0:7051\" &lt;nil&gt;}\nError: Error trying to connect to local peer: grpc: timed out when dialing\n2016\/09\/24 15:18:47 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 0.0.0.0:7051: getsockopt: connection refused\"; Reconnecting to {\"0.0.0.0:7051\" &lt;nil&gt;}","ts":"1474723374.000626"},{"type":"message","user":"U1P1ZV6RF","text":"currently my network is working at 172.17.0.x","ts":"1474723388.000627"},{"type":"message","user":"U1P1ZV6RF","text":"so I assume I need to add a switch to the command but --help does not help me much here","ts":"1474723408.000628"},{"type":"message","user":"U0PB67X4K","text":"<@U1P1ZV6RF> - what's the output of `ss -l |grep 7051`","ts":"1474723742.000629"},{"type":"message","user":"U1P1ZV6RF","text":"there is no output","ts":"1474723928.000630"},{"type":"message","user":"U1P1ZV6RF","text":"but this is weird","ts":"1474723953.000631"},{"type":"message","user":"U1P1ZV6RF","text":"my network is operational","ts":"1474723957.000632"},{"type":"message","subtype":"file_share","text":"<@U1P1ZV6RF|matanyahu> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2FH7633K\/selection_073.png|Selection_073.png>","file":{"id":"F2FH7633K","created":1474724031,"timestamp":1474724031,"name":"Selection_073.png","title":"Selection_073.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U1P1ZV6RF","editable":false,"size":28803,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2FH7633K\/selection_073.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2FH7633K\/download\/selection_073.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2FH7633K-16e602105b\/selection_073_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2FH7633K-16e602105b\/selection_073_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2FH7633K-16e602105b\/selection_073_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":105,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2FH7633K-16e602105b\/selection_073_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":139,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2FH7633K-16e602105b\/selection_073_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2FH7633K-16e602105b\/selection_073_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":209,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2FH7633K-16e602105b\/selection_073_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":279,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2FH7633K-16e602105b\/selection_073_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":298,"image_exif_rotation":1,"original_w":1232,"original_h":358,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2FH7633K\/selection_073.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2FH7633K-b904e7c850","channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U1P1ZV6RF","upload":true,"display_as_bot":false,"username":"<@U1P1ZV6RF|matanyahu>","bot_id":null,"ts":"1474724034.000633"},{"type":"message","user":"U1P1ZV6RF","text":"curl shows that the network is operational","ts":"1474725323.000634"},{"type":"message","user":"U1P1ZV6RF","text":"vagrant@hyperledger-devenv:v0.1.0-3cfaeb5:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02$ curl 172.17.0.3:7050\/chain\/blocks\/0\n{\"nonHashData\":{\"localLedgerCommitTimestamp\":{\"seconds\":1474672553,\"nanos\":659993002}}}","ts":"1474725327.000635"},{"type":"message","user":"U0PB67X4K","text":"try  `CORE_PEER_ENDPOINT=172.17.0.3:7051 peer network login admin`","ts":"1474728115.000636"},{"type":"message","user":"U1P1ZV6RF","text":"it still tried to connect through the default address","ts":"1474729306.000637"},{"type":"message","user":"U1P1ZV6RF","text":"vagrant@hyperledger-devenv:v0.1.0-3cfaeb5:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02$ CORE_PEER_ENDPOINT=172.17.0.3:7051 peer network login admin\nEnter password for user 'admin': ************\n2016\/09\/24 16:59:05 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 0.0.0.0:7051: getsockopt: connection refused\"; Reconnecting to {\"0.0.0.0:7051\" &lt;nil&gt;}\n2016\/09\/24 16:59:06 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 0.0.0.0:7051: getsockopt: connection refused\"; Reconnecting to {\"0.0.0.0:7051\" &lt;nil&gt;}\nError: Error trying to connect to local peer: grpc: timed out when dialing\n2016\/09\/24 16:59:07 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 0.0.0.0:7051: getsockopt: connection refused\"; Reconnecting to {\"0.0.0.0:7051\" &lt;nil&gt;}","ts":"1474729308.000638"},{"type":"message","user":"U0KM61BCP","text":"whoa! <@U0KPFAZNF> nice work on the refactor of baseimage and vagrant\u2026 now lightning fast","ts":"1474730611.000639","reactions":[{"name":"+1","users":["U0ULK2JPP"],"count":1}]},{"type":"message","user":"U0ULK2JPP","text":"I haven\u2019t tried it but will soon, thanks <@U0KPFAZNF> !","ts":"1474732823.000640"},{"type":"message","user":"U0KPFAZNF","text":"Ty, though to be fair, I'm cheating a little by not building \"make peer\" any more","ts":"1474735029.000641"},{"type":"message","user":"U1P1ZV6RF","text":"Quick question: when I run \"peer node start --peer-chaincodedev\", a practical effect is an execution of a single VP with NOOPS consensus?","ts":"1474740695.000642"},{"type":"message","user":"U0ZJZBJLF","text":"I think it depends on your config","ts":"1474740772.000643"},{"type":"message","user":"U1P1ZV6RF","text":"I am following instructions as per <http:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/Setup\/Chaincode-setup\/#running-the-chaincode>","ts":"1474740835.000644"},{"type":"message","user":"U0ZJZBJLF","text":"I'm not familiar with the --peer-chancodedev (haven't seen in in the code, it was added at some point I think) but the consensus algorithm and others are determined via the config file, core.yaml","ts":"1474740941.000645"},{"type":"message","user":"U0ZJZBJLF","text":"there you can specify whats the algorithm. at least that's what was a few months ago, unless it has changed","ts":"1474740969.000646"},{"type":"message","user":"U1P1ZV6RF","text":"although I reconfigured core.yaml to launch pbft consensus, the abovementioned command only launches a single peer which obviously selects noops as default","ts":"1474741075.000647"},{"type":"message","user":"U1P1ZV6RF","text":"that's my logical understanding of things","ts":"1474741086.000648"},{"type":"message","user":"U0ZJZBJLF","text":"why? N=1, f=0","ts":"1474741108.000649"},{"type":"message","user":"U0ZJZBJLF","text":"the conditions for PBFT is N &gt;= 3f+1","ts":"1474741129.000650"},{"type":"message","user":"U0ZJZBJLF","text":"you can verify in the logs","ts":"1474741167.000651"},{"type":"message","user":"U0ZJZBJLF","text":"it says what algorithm it selected when the peer starts","ts":"1474741181.000652"},{"type":"message","user":"U0ULK2JPP","text":"<@U1P1ZV6RF> devmode defaults to noops","ts":"1474743444.000653"},{"type":"message","user":"U1P1ZV6RF","text":"I am still struggling to perform peer network login &lt;username&gt; to the network that I launched through docker-compose -f docker-compose-4-consensus-batch.yml","ts":"1474753299.000654"},{"type":"message","user":"U1P1ZV6RF","text":"currently, the network is running with following network configuraiton","ts":"1474753317.000655"},{"type":"message","user":"U1P1ZV6RF","text":"{\"Error\":\"Openchain endpoint not found.\"}\nvagrant@hyperledger-devenv:v0.1.0-3cfaeb5:~$ curl 172.17.0.6:7050\/network\/peers\n{\"peers\":[{\"ID\":{\"name\":\"vp0\"},\"address\":\"172.17.0.3:7051\",\"type\":1,\"pkiID\":\"xi5OgbZKO8V2EyrMxjuEXaF4jHdGHJGGTtcj34spQwQ=\"},{\"ID\":{\"name\":\"vp3\"},\"address\":\"172.17.0.4:7051\",\"type\":1,\"pkiID\":\"xhFU7CXx3N7fEF2VQqeLzfSpXfdUbeK7IxVhclOt9z4=\"},{\"ID\":{\"name\":\"vp1\"},\"address\":\"172.17.0.5:7051\",\"type\":1,\"pkiID\":\"BAPd0hNnF8cFBF7DQvjy7ei7kNrEVjOxFl9ySsERKc0=\"},{\"ID\":{\"name\":\"vp2\"},\"address\":\"172.17.0.6:7051\",\"type\":1,\"pkiID\":\"MNWtcqJsKyVIhCkDyXWs08SZTcpf9rzrgK4cFH3TeNM=\"}]}","ts":"1474753341.000656"},{"type":"message","user":"U1P1ZV6RF","text":"curl works fine","ts":"1474753351.000657"},{"type":"message","user":"U1P1ZV6RF","text":"vagrant@hyperledger-devenv:v0.1.0-3cfaeb5:~$ curl 172.17.0.6:7050\/chain\n{\"height\":1,\"currentBlockHash\":\"RrndKwuojRMjOz\/rdD7rJD\/NUupiuBuCtQwnZG7Vdi\/XXcTd2MDyAMsFAZ1ntZL2\/IIcSUeatIZAKS6ss7fEvg==\"}\nvagrant@hyperledger-devenv:v0.1.0-3cfaeb5:~$ curl 172.17.0.6:7050\/chain\/blocks\/0\n{\"nonHashData\":{\"localLedgerCommitTimestamp\":{\"seconds\":1474759106,\"nanos\":687006115}}}","ts":"1474753374.000658"},{"type":"message","user":"U1P1ZV6RF","text":"but whatever actions I want to perform and which require token retrieval (like chaincode deployment), the operation fails","ts":"1474753411.000659"},{"type":"message","user":"U1P1ZV6RF","text":"vagrant@hyperledger-devenv:v0.1.0-3cfaeb5:~$ peer network login jim\nEnter password for user 'jim': ************\n2016\/09\/24 23:37:18 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 0.0.0.0:7051: getsockopt: connection refused\"; Reconnecting to {\"0.0.0.0:7051\" &lt;nil&gt;}\n2016\/09\/24 23:37:19 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 0.0.0.0:7051: getsockopt: connection refused\"; Reconnecting to {\"0.0.0.0:7051\" &lt;nil&gt;}\nError: Error trying to connect to local peer: grpc: timed out when dialing\n2016\/09\/24 23:37:20 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 0.0.0.0:7051: getsockopt: connection refused\"; Reconnecting to {\"0.0.0.0:7051\" &lt;nil&gt;}","ts":"1474753423.000660"},{"type":"message","user":"U1P1ZV6RF","text":"I tried to call a specific ip address of a peer but with the same result","ts":"1474753508.000661"},{"type":"message","user":"U1P1ZV6RF","text":"vagrant@hyperledger-devenv:v0.1.0-3cfaeb5:~$  CORE_PEER_ENDPOINT=172.17.0.3:7051 peer network login admin\nEnter password for user 'admin': ************\n2016\/09\/24 23:42:29 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 0.0.0.0:7051: getsockopt: connection refused\"; Reconnecting to {\"0.0.0.0:7051\" &lt;nil&gt;}","ts":"1474753510.000662"},{"type":"message","user":"U1P1ZV6RF","text":"and this is what happens when I try to deploy chaincode","ts":"1474753655.000663"},{"type":"message","user":"U1P1ZV6RF","text":"vagrant@hyperledger-devenv:v0.1.0-3cfaeb5:~$ peer chaincode deploy -u jim -p <http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02> -c '{\"Function\":\"init\", \"Args\": [\"a\",\"100\", \"b\", \"200\"]}'\nError: User 'jim' not logged in. Use the 'peer network login' command to obtain a security token.","ts":"1474753658.000664"},{"type":"message","user":"U0PB67X4K","text":"oops - I think I gave you the wrong info: \n`CORE_PEER_ADDRESS=172.17.0.3:7051 peer network login admin`","ts":"1474757417.000665"},{"type":"message","user":"U1P1ZV6RF","text":"weird","ts":"1474758525.000666"},{"type":"message","subtype":"file_share","text":"<@U1P1ZV6RF|matanyahu> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2FK1K10D\/result.txt|result>","file":{"id":"F2FK1K10D","created":1474758599,"timestamp":1474758599,"name":"result.txt","title":"result","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U1P1ZV6RF","editable":true,"size":1557,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2FK1K10D\/result.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2FK1K10D\/download\/result.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2FK1K10D\/result.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2FK1K10D-37c3303090","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2FK1K10D\/result.txt\/edit","preview":"vagrant@hyperledger-devenv:v0.1.0-3cfaeb5:~$ CORE_PEER_ADDRESS=172.17.0.3:7051 peer network login admin                                 Enter password for user 'admin': ************\r\npanic: Fatal error when creating \/var\/hyperledger\/production\/client\/ directory: mkdir \/var\/hyperledger\/production\/client\/: no such file or directory\r\n\r\n\r\ngoroutine 1 [running]:\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>vagrant@hyperledger-devenv:v0.1.0-3cfaeb5:~$ CORE_PEER_ADDRESS=172.17.0.3:7051 peer network login admin                                 Enter password for user 'admin': ************<\/pre><\/div>\n<div><pre>panic: Fatal error when creating \/var\/hyperledger\/production\/client\/ directory: mkdir \/var\/hyperledger\/production\/client\/: no such file or directory<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<div><pre><\/pre><\/div>\n<div><pre>goroutine 1 [running]:<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":20,"lines_more":15,"preview_is_truncated":true,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U1P1ZV6RF","upload":true,"display_as_bot":false,"username":"<@U1P1ZV6RF|matanyahu>","bot_id":null,"ts":"1474758599.000667"},{"type":"message","user":"U1P1ZV6RF","text":"but other peers respond differently","ts":"1474758663.000668"},{"type":"message","subtype":"file_share","text":"<@U1P1ZV6RF|matanyahu> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2FK60VT9\/result.txt|result>","file":{"id":"F2FK60VT9","created":1474758692,"timestamp":1474758692,"name":"result.txt","title":"result","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U1P1ZV6RF","editable":true,"size":244,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2FK60VT9\/result.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2FK60VT9\/download\/result.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2FK60VT9\/result.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2FK60VT9-10adc75e2f","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2FK60VT9\/result.txt\/edit","preview":"vagrant@hyperledger-devenv:v0.1.0-3cfaeb5:~$ CORE_PEER_ADDRESS=172.17.0.5:7051 peer network login admin\r\nEnter password for user 'admin': ************\r\nError: Error on client login: rpc error: code = 2 desc = Identity or token does not match.\r\n","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>vagrant@hyperledger-devenv:v0.1.0-3cfaeb5:~$ CORE_PEER_ADDRESS=172.17.0.5:7051 peer network login admin<\/pre><\/div>\n<div><pre>Enter password for user 'admin': ************<\/pre><\/div>\n<div><pre>Error: Error on client login: rpc error: code = 2 desc = Identity or token does not match.<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":4,"lines_more":0,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U1P1ZV6RF","upload":true,"display_as_bot":false,"username":"<@U1P1ZV6RF|matanyahu>","bot_id":null,"ts":"1474758693.000669"},{"type":"message","user":"U1P1ZV6RF","text":"so, to summarize, when I do CORE_PEER_ADDRESS=172.17.0.x:7051 peer network login &lt;USERNAME&gt; I either receive a fatal error from one of peers (172.17.0.3) or a wrong token\/pwd from remaining peers (which is not true, I extract these from membersrvc.yml). I restarted the network, to no avail.","edited":{"user":"U1P1ZV6RF","ts":"1474784373.000000"},"ts":"1474784344.000670"},{"type":"message","user":"U1P1ZV6RF","text":"Any ideas what alternative ways could I use to deploy chaincode in such configuration?","ts":"1474784418.000672"},{"type":"message","user":"U1P1ZV6RF","text":"and if the above is an intended functioning?","ts":"1474784456.000673"},{"type":"message","user":"U0PB67X4K","text":"<@U1P1ZV6RF>  - things worked for me.  One step needed when doing `CORE_PEER_ADDRESS=172.17.0.3:7051 peer network login admin`","ts":"1474801711.000674"},{"type":"message","user":"U0PB67X4K","text":"you need to run `mkdir \/var\/hyperledger\/production` first","ts":"1474801732.000675"},{"type":"message","user":"U1P1ZV6RF","text":"will try it at once on a fresh new vagrant VM will following steps","edited":{"user":"U1P1ZV6RF","ts":"1474808437.000000"},"ts":"1474808386.000676"},{"type":"message","user":"U1P1ZV6RF","text":"(1) docker-compose -f docker-compose-4-consensus-batch.yml (I find no reason to edit core.yaml and\/or membersrvc.yaml files since all settings are enforced through docker-compose[...]yml files)","ts":"1474808514.000678"},{"type":"message","user":"U1P1ZV6RF","text":"(2) mkdir \/var\/hyperledger\/production","ts":"1474808533.000679"},{"type":"message","user":"U1P1ZV6RF","text":"(3) CORE_PEER_ADDRESS=172.17.0.3:7051 peer network login admin","ts":"1474808543.000680"},{"type":"message","user":"U1P1ZV6RF","text":"(4) peer chaincode deploy -u admin -p <http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02> -c '{\"Function\":\"init\", \"Args\": [\"a\",\"100\", \"b\", \"200\"]}'","ts":"1474808633.000681"},{"type":"message","user":"U1P1ZV6RF","text":"<@U0PB67X4K> : it works!","ts":"1474811821.000682"},{"type":"message","user":"U1P1ZV6RF","text":"I just had to modify peer chaincode deploy command","ts":"1474811847.000683"},{"type":"message","user":"U1P1ZV6RF","text":"vagrant@hyperledger-devenv:v0.1.0-3cfaeb5:~$ CORE_PEER_ADDRESS=172.17.0.3:7051 peer chaincode deploy -u admin -p <http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02> -c '{\"Function\":\"init\", \"Args\": [\"a\",\"100\", \"b\", \"200\"]}'\nDeploy chaincode: ee5b24a1f17c356dd5f6e37307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539","ts":"1474811849.000684"},{"type":"message","user":"U0ULK2JPP","text":"<@U1P1ZV6RF> `CORE_PEER_ADDRESS=172.17.0.3:7051 peer chaincode query -u admin -n ee5b24a1f17c356dd5f6e37307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539  -c '{\"Function\u201d:\"query\", \"Args\": [\"a\"]}\u2019` will confirm","ts":"1474812663.000685"},{"type":"message","user":"U1P1ZV6RF","text":"oops","ts":"1474812717.000686"},{"type":"message","user":"U1P1ZV6RF","text":"vagrant@hyperledger-devenv:v0.1.0-3cfaeb5:~$ CORE_PEER_ADDRESS=172.17.0.3:7051 peer chaincode query -u admin -n ee5b24a1f17c356dd5f6e37307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539  -c '{\"Function\":\"query\", \"Args\": [\"a\"]}'\nError: Error querying chaincode: rpc error: code = 2 desc = Error:Failed to launch chaincode spec(Could not get deployment transaction for ee5b24a1f17c356dd5f6e37307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539 - LedgerError - ResourceNotFound: ledger: resource not found)","ts":"1474812718.000687"},{"type":"message","user":"U0ULK2JPP","text":"I think you are almost there","ts":"1474812731.000688"},{"type":"message","user":"U0ULK2JPP","text":"the deploy failed for some reason","ts":"1474812755.000689"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019m assuming I typed in the \u201cee5b\u2026\u201d string correctly of course :slightly_smiling_face:","ts":"1474812802.000690"},{"type":"message","user":"U0ULK2JPP","text":"looks correct","ts":"1474812812.000691"},{"type":"message","user":"U0ULK2JPP","text":"can you do `docker ps`","ts":"1474812827.000692"},{"type":"message","user":"U0ULK2JPP","text":"and `docker ps -a` please","ts":"1474813036.000694"},{"type":"message","user":"U0ULK2JPP","text":"I want to see if it even tried to bring up ee5b24 chaincode","ts":"1474813062.000695"},{"type":"message","user":"U1P1ZV6RF","text":"vagrant@hyperledger-devenv:v0.1.0-3cfaeb5:~$ docker ps -a\nCONTAINER ID        IMAGE                                       COMMAND                  CREATED             STATUS                         PORTS                    NAMES\n2982a599aa8f        hyperledger\/fabric-peer                     \"sh -c 'exec $GOPATH\/\"   27 minutes ago      Up 26 minutes                                           bdddocker_vp2_1\n553b0b84986a        hyperledger\/fabric-peer                     \"sh -c 'exec $GOPATH\/\"   27 minutes ago      Up 27 minutes                                           bdddocker_vp1_1\n015199bdd4bd        hyperledger\/fabric-peer                     \"sh -c 'exec $GOPATH\/\"   27 minutes ago      Up 27 minutes                                           bdddocker_vp3_1\n8a9004804482        hyperledger\/fabric-peer                     \"sh -c 'exec $GOPATH\/\"   27 minutes ago      Up 27 minutes                  0.0.0.0:7050-&gt;6060\/tcp   bdddocker_vp0_1\n810d2528dbf7        hyperledger\/fabric-membersrvc               \"membersrvc\"             27 minutes ago      Up 27 minutes                                           bdddocker_membersrvc0_1\n246a688882f8        hyperledger\/fabric-baseimage:x86_64-0.1.0   \"go install <http:\/\/github.co|github.co>\"   About an hour ago   Exited (0) About an hour ago                            hopeful_bhaskara","ts":"1474813089.000697"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1474813102.000698"},{"type":"message","user":"U1P1ZV6RF","text":"so it seems deployment failed","ts":"1474813181.000699"},{"type":"message","user":"U1P1ZV6RF","text":"right?","ts":"1474813188.000700"},{"type":"message","user":"U0ULK2JPP","text":"looks like it, yes","ts":"1474813208.000701"},{"type":"message","user":"U0ULK2JPP","text":"can you paste the `sh -c 'exec $GOPATH\/\u2026` line from compose yml please ?","ts":"1474813237.000702"},{"type":"message","user":"U1P1ZV6RF","text":"I am using unedited version of compose file from \/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/bddtests\/bdd-docker","ts":"1474813452.000703"},{"type":"message","user":"U1P1ZV6RF","text":"so","ts":"1474813456.000704"},{"type":"message","user":"U1P1ZV6RF","text":"command: sh -c \"exec $$GOPATH\/src\/github.com\/hyperledger\/fabric\/bddtests\/scripts\/start-peer.sh\"","ts":"1474813497.000705"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1474813515.000706"},{"type":"message","user":"U1P1ZV6RF","text":"in compose-defaults.yml","ts":"1474813524.000707"},{"type":"message","user":"U0ULK2JPP","text":"so not in `\u2014peer-chaincodedev` for sure","ts":"1474813547.000708"},{"type":"message","user":"U1P1ZV6RF","text":"nope","ts":"1474813553.000709"},{"type":"message","user":"U1P1ZV6RF","text":"when i start docker compose i use  docker-compose -f docker-compose-4-consensus-batch.yml","ts":"1474813580.000710"},{"type":"message","user":"U0ULK2JPP","text":"docker log &lt;peer container id&gt; should contain err log for deploy failure","ts":"1474813598.000711"},{"type":"message","user":"U1P1ZV6RF","text":"one sec","ts":"1474813770.000712"},{"type":"message","user":"U1P1ZV6RF","text":"the only error I managed to identify was this","ts":"1474815016.000713"},{"type":"message","user":"U1P1ZV6RF","text":"6:44:59.287 [dockercontroller] deployImage -&gt; ERRO 5f3e Error building images: Tag latest not found in repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>\n16:44:59.287 [dockercontroller] deployImage -&gt; ERRO 5f3f Image Output:","ts":"1474815017.000714"},{"type":"message","user":"U1P1ZV6RF","text":"what is the exact information I should look for?","ts":"1474815054.000715"},{"type":"message","user":"U1P1ZV6RF","text":"if I filter by [chaincode] I get this","ts":"1474815131.000716"},{"type":"message","subtype":"file_share","text":"<@U1P1ZV6RF|matanyahu> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2FM4AS72\/output_-_172_17_0_3.txt|output - 172.17.0.3>","file":{"id":"F2FM4AS72","created":1474815178,"timestamp":1474815178,"name":"output_-_172_17_0_3.txt","title":"output - 172.17.0.3","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U1P1ZV6RF","editable":true,"size":1406,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2FM4AS72\/output_-_172_17_0_3.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2FM4AS72\/download\/output_-_172_17_0_3.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2FM4AS72\/output_-_172_17_0_3.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2FM4AS72-ab30a4ab06","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2FM4AS72\/output_-_172_17_0_3.txt\/edit","preview":"Line 211: 16:44:42.988 [peer] sendTransactionsToLocalEngine -> DEBU 5e59 Marshalling transaction CHAINCODE_DEPLOY to send to local engine\r\n\tLine 354: 16:44:47.279 [crypto] Debugf -> DEBU 5ee8 [validator.test_vp0] Transaction type [CHAINCODE_DEPLOY].\r\n\tLine 363: 16:44:47.783 [chaincode] getArgsAndEnv -> DEBU 5ef1 Executable is \/opt\/gopath\/bin\/ee5b24a1f17c356dd5f6e37307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539\r\n\tLine 364: 16:44:47.945 [chaincode] Deploy -> DEBU 5ef2 deploying chaincode ee5b24a1f17c356dd5f6e37307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539(networkid:dev,peerid:vp0)\r\n\tLine 364: 16:44:47.945 [chaincode] Deploy -> DEBU 5ef2 deploying chaincode ee5b24a1f17c356dd5f6e37307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539(networkid:dev,peerid:vp0)\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Line 211: 16:44:42.988 [peer] sendTransactionsToLocalEngine -&gt; DEBU 5e59 Marshalling transaction CHAINCODE_DEPLOY to send to local engine<\/pre><\/div>\n<div><pre>    Line 354: 16:44:47.279 [crypto] Debugf -&gt; DEBU 5ee8 [validator.test_vp0] Transaction type [CHAINCODE_DEPLOY].<\/pre><\/div>\n<div><pre>    Line 363: 16:44:47.783 [chaincode] getArgsAndEnv -&gt; DEBU 5ef1 Executable is \/opt\/gopath\/bin\/ee5b24a1f17c356dd5f6e37307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539<\/pre><\/div>\n<div><pre>    Line 364: 16:44:47.945 [chaincode] Deploy -&gt; DEBU 5ef2 deploying chaincode ee5b24a1f17c356dd5f6e37307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539(networkid:dev,peerid:vp0)<\/pre><\/div>\n<div><pre>    Line 364: 16:44:47.945 [chaincode] Deploy -&gt; DEBU 5ef2 deploying chaincode ee5b24a1f17c356dd5f6e37307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539(networkid:dev,peerid:vp0)<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":7,"lines_more":2,"preview_is_truncated":true,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U1P1ZV6RF","upload":true,"display_as_bot":false,"username":"<@U1P1ZV6RF|matanyahu>","bot_id":null,"ts":"1474815178.000719"},{"type":"message","user":"U1P1ZV6RF","text":"if I filter by chaincode ID I get this","ts":"1474815233.000720"},{"type":"message","subtype":"file_share","text":"<@U1P1ZV6RF|matanyahu> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2FKNP283\/docker_logs_172_17_0_3.txt|docker logs 172.17.0.3>","file":{"id":"F2FKNP283","created":1474815249,"timestamp":1474815249,"name":"docker_logs_172_17_0_3.txt","title":"docker logs 172.17.0.3","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U1P1ZV6RF","editable":true,"size":6182,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2FKNP283\/docker_logs_172_17_0_3.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2FKNP283\/download\/docker_logs_172_17_0_3.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2FKNP283\/docker_logs_172_17_0_3.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2FKNP283-aa17121bb1","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2FKNP283\/docker_logs_172_17_0_3.txt\/edit","preview":"Line 205: 16:44:42.790 [devops] Deploy -> DEBU 5e53 Creating secure transaction ee5b24a1f17c356dd5f6e37307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539\r\n\tLine 210: 16:44:42.984 [devops] Deploy -> DEBU 5e58 Sending deploy transaction (ee5b24a1f17c356dd5f6e37307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539) to validator\r\n\tLine 237: 16:44:44.507 [consensus\/pbft] logAddTxFromRequest -> DEBU 5e73 Replica 0 adding request from 0 with transaction ee5b24a1f17c356dd5f6e37307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539 into outstandingReqs\r\n\tLine 319: 16:44:46.821 [consensus\/pbft] execute -> DEBU 5ec5 Batch replica 0 executing request with transaction ee5b24a1f17c356dd5f6e37307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539 from outstandingReqs, seqNo=4\r\n\tLine 363: 16:44:47.783 [chaincode] getArg...","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Line 205: 16:44:42.790 [devops] Deploy -&gt; DEBU 5e53 Creating secure transaction ee5b24a1f17c356dd5f6e37307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539<\/pre><\/div>\n<div><pre>    Line 210: 16:44:42.984 [devops] Deploy -&gt; DEBU 5e58 Sending deploy transaction (ee5b24a1f17c356dd5f6e37307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539) to validator<\/pre><\/div>\n<div><pre>    Line 237: 16:44:44.507 [consensus\/pbft] logAddTxFromRequest -&gt; DEBU 5e73 Replica 0 adding request from 0 with transaction ee5b24a1f17c356dd5f6e37307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539 into outstandingReqs<\/pre><\/div>\n<div><pre>    Line 319: 16:44:46.821 [consensus\/pbft] execute -&gt; DEBU 5ec5 Batch replica 0 executing request with transaction ee5b24a1f17c356dd5f6e37307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539 from outstandingReqs, seqNo=4<\/pre><\/div>\n<div><pre>    Line 363: 16:44:47.783 [chaincode] getArg...<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":23,"lines_more":18,"preview_is_truncated":true,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U1P1ZV6RF","upload":true,"display_as_bot":false,"username":"<@U1P1ZV6RF|matanyahu>","bot_id":null,"ts":"1474815249.000721"},{"type":"message","user":"U0ULK2JPP","text":"`Error building images: Tag latest not found in repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>`","ts":"1474815519.000722"},{"type":"message","user":"U0ULK2JPP","text":"that would do it","ts":"1474815532.000723"},{"type":"message","user":"U0ULK2JPP","text":"I have to refer to <@U0KM61BCP> <@U0KPFAZNF> \u2026 haven\u2019t kept up with it. But if you don\u2019t mind trying (and haven\u2019t already done it), I\u2019d do `make peer` and  `make peer-image`","ts":"1474815700.000724"},{"type":"message","user":"U1P1ZV6RF","text":"one sec","ts":"1474815720.000725"},{"type":"message","user":"U1P1ZV6RF","text":"should I stop the network?","ts":"1474815726.000726"},{"type":"message","user":"U0ULK2JPP","text":"yes please","ts":"1474815733.000727"},{"type":"message","user":"U1P1ZV6RF","text":"any cleanup necessary? When I do docker-compose up with yml files I get information about invalid token and failing network","ts":"1474816335.000728"},{"type":"message","user":"U0ULK2JPP","text":"I don\u2019t think any cleanup is strictly necessary","ts":"1474816578.000729"},{"type":"message","user":"U0ULK2JPP","text":"although I periodically clean up containers from `docker ps -a` and remove chaincode and \u201c&lt;none&gt;\u201d images from `docker images`","ts":"1474816654.000730"},{"type":"message","user":"U1P1ZV6RF","text":"one sec, I restarted the vagrant vm","ts":"1474816766.000731"},{"type":"message","user":"U1P1ZV6RF","text":"cleaning up with docker rm &lt;containerID&gt; helped","ts":"1474817253.000732"},{"type":"message","user":"U1P1ZV6RF","text":"I will test deploy again","ts":"1474817260.000733"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1474817420.000734"},{"type":"message","user":"U1P1ZV6RF","text":"same issue but this time I found this in the log when performing a query","ts":"1474817619.000735"},{"type":"message","user":"U1P1ZV6RF","text":"vp3_1         | 17:30:47.554 [peer] HandleMessage -&gt; DEBU 6f9 Handling Message of type: DISC_GET_PEERS\nvp3_1         | 17:30:47.568 [peer] handleChat -&gt; ERRO 6fa Error handling message: Peer FSM cannot handle message (DISC_GET_PEERS) with payload size (0) while in state: created","ts":"1474817621.000736"},{"type":"message","user":"U1P1ZV6RF","text":"I will","ts":"1474817632.000737"},{"type":"message","user":"U1P1ZV6RF","text":"(1) stop the network","ts":"1474817638.000738"},{"type":"message","user":"U1P1ZV6RF","text":"(2) do docker container cleanup","ts":"1474817647.000739"},{"type":"message","user":"U1P1ZV6RF","text":"(3) make peer and make peer-image again","ts":"1474817658.000740"},{"type":"message","user":"U1P1ZV6RF","text":"re-run the network","ts":"1474817664.000741"},{"type":"message","user":"U1P1ZV6RF","text":"interestingly, this time in docker ps I see this","ts":"1474817715.000742"},{"type":"message","subtype":"file_share","text":"<@U1P1ZV6RF|matanyahu> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2FMKCXT9\/docker_ps_-a.txt|docker ps -a>","file":{"id":"F2FMKCXT9","created":1474817734,"timestamp":1474817734,"name":"docker_ps_-a.txt","title":"docker ps -a","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U1P1ZV6RF","editable":true,"size":1947,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2FMKCXT9\/docker_ps_-a.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2FMKCXT9\/download\/docker_ps_-a.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2FMKCXT9\/docker_ps_-a.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2FMKCXT9-5cda3756c1","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/matanyahu\/F2FMKCXT9\/docker_ps_-a.txt\/edit","preview":"vagrant@hyperledger-devenv:v0.1.0-3cfaeb5:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/bddtests\/bdd-docker$ docker ps -a\r\nCONTAINER ID        IMAGE                                                                                                                                      COMMAND                  CREATED              STATUS                      PORTS               NAMES\r\nfb618a7e09d5        dev-vp2-ee5b24a1f17c356dd5f6e37307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539   \"\/opt\/gopath\/bin\/ee5b\"   About a minute ago   Exited (0) 15 seconds ago                       dev-vp2-ee5b24a1f17c356dd5f6e37307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539\r\nbf68729265c1        dev-vp1-ee5b24a1f17c356dd5f6e37307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539   \"\/opt\/gopath\/bin\/ee5b\"   About a minute ago   Exited (0) 14 seconds ago                    ...","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>vagrant@hyperledger-devenv:v0.1.0-3cfaeb5:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/bddtests\/bdd-docker$ docker ps -a<\/pre><\/div>\n<div><pre>CONTAINER ID        IMAGE                                                                                                                                      COMMAND                  CREATED              STATUS                      PORTS               NAMES<\/pre><\/div>\n<div><pre>fb618a7e09d5        dev-vp2-ee5b24a1f17c356dd5f6e37307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539   &quot;\/opt\/gopath\/bin\/ee5b&quot;   About a minute ago   Exited (0) 15 seconds ago                       dev-vp2-ee5b24a1f17c356dd5f6e37307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539<\/pre><\/div>\n<div><pre>bf68729265c1        dev-vp1-ee5b24a1f17c356dd5f6e37307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539   &quot;\/opt\/gopath\/bin\/ee5b&quot;   About a minute ago   Exited (0) 14 seconds ago                    ...<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":7,"lines_more":3,"preview_is_truncated":true,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U1P1ZV6RF","upload":true,"display_as_bot":false,"username":"<@U1P1ZV6RF|matanyahu>","bot_id":null,"ts":"1474817734.000745"},{"type":"message","user":"U1P1ZV6RF","text":"I assume the chaincode managed to be deployed","ts":"1474817763.000746"},{"type":"message","user":"U1P1ZV6RF","text":"any sugestions before I perform a cleanup?","ts":"1474817787.000747"},{"type":"message","user":"U0ULK2JPP","text":"right","ts":"1474818015.000748"},{"type":"message","user":"U0ULK2JPP","text":"so it did get deployed","ts":"1474818024.000749"},{"type":"message","user":"U0ULK2JPP","text":"can you do `docker logs fb618a7e09d5`","edited":{"user":"U0ULK2JPP","ts":"1474818116.000000"},"ts":"1474818061.000750"},{"type":"message","user":"U1P1ZV6RF","text":"vagrant@hyperledger-devenv:v0.1.0-3cfaeb5:~$ docker logs fb618a7e09d5\nAval = 100, Bval = 200\n2016\/09\/25 17:32:20 transport: http2Client.notifyError got notified that the client transport was broken EOF.\n17:32:20.589 [shim] ERRO : Received error from server: rpc error: code = 13 desc = transport is closing, ending chaincode stream\nError starting Simple chaincode: rpc error: code = 13 desc = transport is closing","ts":"1474818206.000752"},{"type":"message","user":"U1P1ZV6RF","text":"redo query and check for results?","ts":"1474818251.000753"},{"type":"message","user":"U0ULK2JPP","text":"sure","ts":"1474818281.000754"},{"type":"message","user":"U0ULK2JPP","text":"if things worked correctly, the chaincode will be brought up","ts":"1474818300.000755"},{"type":"message","user":"U0ULK2JPP","text":"i assume the peer network is still up ? if not you would have to bring it up and go through the deploy again.","edited":{"user":"U0ULK2JPP","ts":"1474818444.000000"},"ts":"1474818385.000756"},{"type":"message","user":"U1P1ZV6RF","text":"i brought it up to access logs","ts":"1474818458.000758"},{"type":"message","user":"U1P1ZV6RF","text":"query fails, logs on the chaincode don't get an update","ts":"1474818481.000759"},{"type":"message","user":"U1P1ZV6RF","text":"vagrant destroy and start from scratch?","ts":"1474818572.000760"},{"type":"message","user":"U0ULK2JPP","text":"What error do u get on query (and in the peer log) ?","ts":"1474818883.000761"},{"type":"message","user":"U1P1ZV6RF","text":"vagrant@hyperledger-devenv:v0.1.0-3cfaeb5:~$ CORE_PEER_ADDRESS=172.17.0.3:7051 peer chaincode query -u admin -n ee5b24a1f17c356dd5f6e37307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539  -c '{\"Function\":\"query\", \"Args\": [\"a\"]}'\nError: Error querying chaincode: rpc error: code = 2 desc = Error:Failed to execute transaction or query(Timeout expired while executing transaction)","ts":"1474819146.000762"},{"type":"message","user":"U1P1ZV6RF","text":"wait","ts":"1474819272.000763"},{"type":"message","user":"U1P1ZV6RF","text":"it's weird but","ts":"1474819278.000764"},{"type":"message","user":"U1P1ZV6RF","text":"vagrant@hyperledger-devenv:v0.1.0-3cfaeb5:~$ CORE_PEER_ADDRESS=172.17.0.3:7051 peer chaincode query -u admin -n ee5b24a1f17c356dd5f6e37307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539  -c '{\"Function\":\"query\", \"Args\": [\"a\"]}'\nQuery Result: 100","ts":"1474819280.000765"},{"type":"message","user":"U1P1ZV6RF","text":"wtf","ts":"1474819288.000766"},{"type":"message","user":"U0ZJZBJLF","text":"what's the problem? it may have a result from an earlier invocation\/deployment","edited":{"user":"U0ZJZBJLF","ts":"1474819442.000000"},"ts":"1474819427.000767"},{"type":"message","user":"U0ULK2JPP","text":"hmm that worked :slightly_smiling_face:","ts":"1474819430.000768"},{"type":"message","user":"U0ULK2JPP","text":"not sure what\u2019s happening","ts":"1474819445.000770"},{"type":"message","user":"U1P1ZV6RF","text":"Will try again","ts":"1474819700.000771"},{"type":"message","user":"U1P1ZV6RF","text":"vagrant@hyperledger-devenv:v0.1.0-3cfaeb5:~$ CORE_PEER_ADDRESS=172.17.0.3:7051 peer chaincode query -u admin -n ee5b24a1f17c356dd5f6e3  7307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539  -c '{\"Function\":\"query\", \"  Args\": [\"a\"]}'\nQuery Result: 100\nvagrant@hyperledger-devenv:v0.1.0-3cfaeb5:~$ CORE_PEER_ADDRESS=172.17.0.3:7051 peer chaincode invoke -u admin -n ee5b24a1f17c356dd5f6e37307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539 -c '{\"Function\": \"invoke\", \"Args\": [\"a\", \"b\", \"10\"]}'\nvagrant@hyperledger-devenv:v0.1.0-3cfaeb5:~$ CORE_PEER_ADDRESS=172.17.0.3:7051 peer chaincode query -u admin -n ee5b24a1f17c356dd5f6e37307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539  -c '{\"Function\":\"query\", \"Args\": [\"a\"]}'\nQuery Result: 90","ts":"1474820265.000772"},{"type":"message","user":"U1P1ZV6RF","text":"it works","ts":"1474820270.000773"},{"type":"message","user":"U1P1ZV6RF","text":"but i dont know how","ts":"1474820285.000774"},{"type":"message","user":"U1P1ZV6RF","text":"<@U0ULK2JPP> : thanks a lot!","ts":"1474820833.000775"},{"type":"message","user":"U1P1ZV6RF","text":"will redo all tasks and document them","ts":"1474820848.000776"},{"type":"message","user":"U0ULK2JPP","text":"<@U1P1ZV6RF> thank you too\u2026 and thanks for your patience","ts":"1474820867.000777"},{"type":"message","user":"U1WUAQJVC","text":"Hi All, Is there a way we get the information of which node initiated a particular transaction?","ts":"1474872134.000778"},{"user":"U2DHRR4TE","text":"<@U2DHRR4TE|tom.appleyard> has joined the channel","type":"message","subtype":"channel_join","ts":"1474894731.000779"},{"type":"message","user":"U2DHRR4TE","text":"Hey all, does anyone know how you;d go about finding the name of the user whose made a chaincode invocation in v0.6? (v0.5 had it in the transaction certs but that no longer is the case)","ts":"1474895265.000780"},{"type":"message","user":"U0TFEHX8E","text":"<@U2DHRR4TE> try asking in the <#C1J0BM448|membership-services> channel. You\u2019ll likely need to use a tcert attribute","ts":"1474937103.000781"},{"type":"message","user":"U2DHRR4TE","text":"<@U0TFEHX8E> I'll give them a go - maybe but that seems a bit of a strange move given we've previously had a field (common name) specifically for this data :confused:","ts":"1474963652.000782"},{"user":"U1MA81VBK","text":"<@U1MA81VBK|g_alexander> has joined the channel","type":"message","subtype":"channel_join","ts":"1474967634.000783"},{"type":"message","user":"U0KM61BCP","text":"<@U2DHRR4TE> one of the use cases is transactions in a network where the transactors wish to remain anonymous in the context of the transaction","ts":"1474978568.000784"},{"type":"message","user":"U0KM61BCP","text":"in other words, if you and I wanted to make a trade, yet we are known to be in this channel with 173 others, but we don\u2019t want the other 173 members to know it was us who made the trade, yet the facts of the trade need to be known to all - in that case you want to obscure who made the trade","ts":"1474978684.000785"},{"user":"U1BENKMD0","text":"<@U1BENKMD0|andreaturli> has joined the channel","type":"message","subtype":"channel_join","ts":"1474987914.000786"},{"user":"U0PV6MUD6","text":"<@U0PV6MUD6|sbrakev> has joined the channel","type":"message","subtype":"channel_join","ts":"1475001561.000787"},{"user":"U1TMQDYKE","text":"<@U1TMQDYKE|wil.pannell> has joined the channel","type":"message","subtype":"channel_join","ts":"1475012043.000788"},{"type":"message","subtype":"file_share","text":"<@U0PB67X4K|garisingh> shared a file: <https:\/\/hyperledgerproject.slack.com\/files\/xuxinlai\/F2GTL1L2E\/pasted_image_at_2016_09_28_04_14_pm.png|Pasted image at 2016-09-28, 4:14 PM> and commented: dd","file":{"id":"F2GTL1L2E","created":1475050483,"timestamp":1475050483,"name":"Pasted image at 2016_09_28 04_14 PM.png","title":"Pasted image at 2016-09-28, 4:14 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U2G9QUKFU","editable":false,"size":78399,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2GTL1L2E\/pasted_image_at_2016_09_28_04_14_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2GTL1L2E\/download\/pasted_image_at_2016_09_28_04_14_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2GTL1L2E-4b9e36d049\/pasted_image_at_2016_09_28_04_14_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2GTL1L2E-4b9e36d049\/pasted_image_at_2016_09_28_04_14_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2GTL1L2E-4b9e36d049\/pasted_image_at_2016_09_28_04_14_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":95,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2GTL1L2E-4b9e36d049\/pasted_image_at_2016_09_28_04_14_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":126,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2GTL1L2E-4b9e36d049\/pasted_image_at_2016_09_28_04_14_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2GTL1L2E-4b9e36d049\/pasted_image_at_2016_09_28_04_14_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":190,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2GTL1L2E-4b9e36d049\/pasted_image_at_2016_09_28_04_14_pm_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":253,"image_exif_rotation":1,"original_w":965,"original_h":254,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/xuxinlai\/F2GTL1L2E\/pasted_image_at_2016_09_28_04_14_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2GTL1L2E-03a3aff1c4","channels":["C0J02NU1E","C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc2GTD2FB9","created":1475050483,"timestamp":1475050483,"user":"U2G9QUKFU","is_intro":true,"comment":"dd","channel":""}},"user":"U0PB67X4K","upload":false,"display_as_bot":false,"username":"<@U0PB67X4K|garisingh>","bot_id":null,"ts":"1475052577.000789"},{"type":"message","user":"U26BX6S3B","text":"<https:\/\/hub.docker.com\/r\/hyperledger\/fabric-baseimage\/tags\/>","ts":"1475054060.000790"},{"type":"message","user":"U0KPFAZNF","text":"<@U0PB67X4K> it seems that <@U2G9QUKFU> cannot reach atlas","ts":"1475065276.000791"},{"type":"message","user":"U0KPFAZNF","text":"not sure theres really anything to be done about that other than see if it comes back eventually","ts":"1475065333.000792"},{"type":"message","user":"U0PB67X4K","text":"yeah - that's what I figured","ts":"1475065453.000793"},{"user":"U231ZGXDG","text":"<@U231ZGXDG|shukla> has joined the channel","type":"message","subtype":"channel_join","ts":"1475084363.000796"},{"type":"message","user":"U2CC1NDT2","text":"<@U0KPFAZNF> - quick question - I see by default the devenv VM runs on IP 10.0.2.15 - are the various ports forwarded on that IP such that from another VM one should be able to \"curl 10.0.2.15:5070\/chain\" and get a response?","ts":"1475146048.000797"},{"type":"message","user":"U0ZJZBJLF","text":"no, it's a private network between the host and the guest","ts":"1475146744.000798"},{"type":"message","user":"U2CC1NDT2","text":"aha - ok - is there a way to do what's described above?","ts":"1475146816.000799"},{"type":"message","user":"U2CC1NDT2","text":"essentially what I'm asking is there a way to run devenv VM with membersrvc and peer running such that one can connect to the various ports from another VM...","ts":"1475146949.000800"},{"type":"message","user":"U0ZJZBJLF","text":"I have a deja voo","ts":"1475147651.000801"},{"type":"message","user":"U0KPFAZNF","text":"<@U2CC1NDT2> the \u201cfabric supported\u201d way to do this would be to use the port forwards that we have set up","ts":"1475149263.000802"},{"type":"message","user":"U0KPFAZNF","text":"that is, ports 7050-7054 are forwarded from your host to the devenv, so you cna use your host IP for other nodes to reach","ts":"1475149306.000803"},{"type":"message","user":"U0KPFAZNF","text":"that said, if you wanted to you could modify the Vagrantfile to add a public interface","ts":"1475149344.000804"},{"type":"message","user":"U2CC1NDT2","text":"ok thanks","ts":"1475149377.000805"},{"type":"message","user":"U0KPFAZNF","text":"this would be a local change that you wouldnt want to push back upstream,","ts":"1475149380.000806"},{"type":"message","user":"U2CC1NDT2","text":"sure","ts":"1475149390.000807"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2HDZPASX\/-.rb|Untitled> and commented: <@U2CC1NDT2> here is a Vagrantfile from a different project I am working on that does something like you are asking about","file":{"id":"F2HDZPASX","created":1475149477,"timestamp":1475149477,"name":"-.rb","title":"Untitled","mimetype":"text\/plain","filetype":"ruby","pretty_type":"Ruby","user":"U0KPFAZNF","editable":true,"size":409,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2HDZPASX\/-.rb?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2HDZPASX\/download\/-.rb?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2HDZPASX\/-.rb","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2HDZPASX-2077567037","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2HDZPASX\/-.rb\/edit","preview":"$ cat Vagrantfile\r\n# -*- mode: ruby -*-\r\n# vi: set ft=ruby :\r\n\r\nVagrant.configure(\"2\") do |config|\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-variable-3\">$ <\/span><span class=\"cm-variable\">cat<\/span> <span class=\"cm-tag\">Vagrantfile<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-comment\"># -*- mode: ruby -*-<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-comment\"># vi: set ft=ruby :<\/span><\/pre><\/div>\n<div><pre>&#8203;<\/pre><\/div>\n<div><pre><span class=\"cm-tag\">Vagrant<\/span><span class=\"cm-operator\">.<\/span><span class=\"cm-property\">configure<\/span>(<span class=\"cm-string\">&quot;2&quot;<\/span>) <span class=\"cm-keyword\">do<\/span> |<span class=\"cm-def\">config<\/span>|<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":18,"lines_more":13,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc2HFMR6SH","created":1475149477,"timestamp":1475149477,"user":"U0KPFAZNF","is_intro":true,"comment":"<@U2CC1NDT2> here is a Vagrantfile from a different project I am working on that does something like you are asking about","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1475149478.000808"},{"type":"message","user":"U0KPFAZNF","text":"see line 15","ts":"1475149490.000809"},{"type":"message","user":"U2CC1NDT2","text":"thanks will give that a bash","ts":"1475149518.000810"},{"type":"message","user":"U2CC1NDT2","text":"I had actually tried this by adding the statement before the port forwarding in the Vagrantfile... When the VM boots I can ping the Fabric host all ok but when I try telnet 10.10.10.150 7050 it shows connection refused...","edited":{"user":"U2CC1NDT2","ts":"1475149755.000000"},"ts":"1475149653.000811"},{"type":"message","user":"U0KPFAZNF","text":"7050","ts":"1475149735.000813"},{"type":"message","user":"U2CC1NDT2","text":"sorry - yes","ts":"1475149743.000814"},{"type":"message","user":"U0KPFAZNF","text":"not sure, id have to investigate","ts":"1475149784.000816"},{"type":"message","user":"U0KPFAZNF","text":"did you start the services first?","ts":"1475149795.000817"},{"type":"message","user":"U2CC1NDT2","text":"right now I've got Cloudsoft's AMP solution running so will need some time to get back to the devenv VM","ts":"1475149893.000818"},{"type":"message","user":"U2CC1NDT2","text":"I'll fiddle with it - thanks for the assist...","ts":"1475149907.000819"},{"type":"message","user":"U0KPFAZNF","text":"yw","ts":"1475149924.000820"},{"type":"message","user":"U2CC1NDT2","text":"OK I set the VM to have an IP of 10.10.10.150 - all reachable but I think I have the wrong codebase as I get the following from curl 10.10.10.150:5000\/chain:\n  vagrant@homestead:~$ curl 10.10.10.150:5000\/chain\n{\"height\":1,\"currentBlockHash\":\"RrndKwuojRMjOz\/rdD7rJD\/NUupiuBuCtQwnZG7Vdi\/XXcTd2MDyAMsFAZ1ntZL2\/IIcSUeatIZAKS6ss7fEvg==\"}","ts":"1475150760.000821"},{"type":"message","user":"U2CC1NDT2","text":"should it not be on port 7050?","ts":"1475152397.000822"},{"type":"message","user":"U2CC1NDT2","text":"Excuse my lack of knowledge - please could someone provide link or steps to get latest Membersrvc and Peer running...","ts":"1475152460.000823"},{"type":"message","user":"U0KPFAZNF","text":"sounds like you are running old release","ts":"1475152567.000824"},{"type":"message","user":"U0KPFAZNF","text":"it used to be on port 5000 but that changed quite a while ago","ts":"1475152577.000825"},{"type":"message","user":"U2CC1NDT2","text":"I know it's real noob question but I have no idea how to update and rebuild Membersrvc and Peer...","ts":"1475152638.000826"},{"type":"message","user":"U2CC1NDT2","text":"I can of course kill everything and re-clone the repo, re-provision etc but that seems wrong","ts":"1475152703.000827"},{"type":"message","user":"U0KPFAZNF","text":"have to take my kids to school, but I can walk you through it when I return","ts":"1475153180.000828"},{"type":"message","user":"U2CC1NDT2","text":"<@U0KPFAZNF> - thanks a mill - that would be really helpful...","ts":"1475153238.000829"},{"type":"message","user":"U2CC1NDT2","text":"<@U0KPFAZNF> - when you have a moment please could you assist with helping me get to the latest ver of the fabric - thks","ts":"1475159036.000830"},{"type":"message","user":"U0KPFAZNF","text":"<@U2CC1NDT2>: def will, just away from desk for a bit","ts":"1475160127.000831"},{"type":"message","user":"U2CC1NDT2","text":"thanks","ts":"1475160181.000832"},{"user":"U2HSRQXGQ","text":"<@U2HSRQXGQ|shannon_wie> has joined the channel","type":"message","subtype":"channel_join","ts":"1475214954.000833"},{"type":"message","user":"U2CC1NDT2","text":"is there a reason why \n```make membersrvc```\nreverts with\n```make: Nothing to be done for `membersrvc'.```","ts":"1475244909.000834"},{"type":"message","user":"U0KPFAZNF","text":"<@U2CC1NDT2> the makefile tries to be smart about knowing if it needs to rebuild something","ts":"1475245472.000835"},{"type":"message","user":"U0KPFAZNF","text":"in this case, it thinks membersrvc is up to date","ts":"1475245480.000836"},{"type":"message","user":"U0KPFAZNF","text":"do you have a reason to believe it needs to be rebuilt?","ts":"1475245486.000837"},{"type":"message","user":"U0KPFAZNF","text":"its always possible there is a bug","ts":"1475245496.000838"},{"type":"message","user":"U0KPFAZNF","text":"for instance, if you edited any of the .go files, it should trigger a rebuild","ts":"1475245553.000839"},{"type":"message","user":"U0KPFAZNF","text":"if you find that you have edited files and it stays says \u201cNothing to be done\u201d, there is a big","ts":"1475245632.000840"},{"type":"message","user":"U0KPFAZNF","text":"bug","ts":"1475245634.000841"},{"type":"message","user":"U0ZJZBJLF","text":"how can he have edited files? he's not developing the fabric, he's playing with it, IIUC","edited":{"user":"U0ZJZBJLF","ts":"1475245703.000000"},"ts":"1475245693.000842"},{"type":"message","user":"U0KPFAZNF","text":"I didn\u2019t say he did\u2026.im saying that its normal for \u201cmake membersrvc\u201d to say \u201cNothing to be done\u201d if it believes there is nothing to be done","ts":"1475245856.000844"},{"type":"message","user":"U0KPFAZNF","text":"his question implied it was unexpected for it to do this","ts":"1475245866.000845"},{"type":"message","user":"U0ZJZBJLF","text":"my guess is that the binary isn't found (by him) and his make isn't working","edited":{"user":"U0ZJZBJLF","ts":"1475245921.000000"},"ts":"1475245905.000846"},{"type":"message","user":"U0KPFAZNF","text":"and indeed, if he edited files, it would be unexpected for it to do this","ts":"1475245907.000847"},{"type":"message","user":"U0KPFAZNF","text":"seems unlikely, but I am always open minded","ts":"1475245931.000849"},{"type":"message","user":"U0KPFAZNF","text":"<@U2CC1NDT2> you can check in .\/build\/bin","ts":"1475245953.000850"},{"type":"message","user":"U0KPFAZNF","text":"im guessing you will find you already have .\/build\/bin\/membersrvc","ts":"1475245965.000851"},{"type":"message","user":"U0KPFAZNF","text":"also note, if you are working in the devenv, the .\/build\/bin directory should already be in your $PATH","ts":"1475246148.000852"},{"type":"message","user":"U0KPFAZNF","text":"so you can do things like \u201cwhich membersrvc\u201d or simply \u201cmembersrvc\"","ts":"1475246168.000853"},{"type":"message","user":"U0KPFAZNF","text":"<@U2CC1NDT2> also apologies for dropping the ball on the request to update your fabric, was just reminded of this when reviewing the history","ts":"1475246251.000854"},{"type":"message","user":"U0KPFAZNF","text":"this is def a downside to having so many slack channels\u2026easy to get distracted and then forget, heh","ts":"1475246285.000855"},{"type":"message","user":"U0KPFAZNF","text":"are you all set now or do you still need to get to the latest stuff?","ts":"1475246296.000856"},{"type":"message","user":"U2CC1NDT2","text":"<@U0KPFAZNF> - no worries - ended up killing everything and pulling the repo from scratch","ts":"1475246566.000857"},{"type":"message","user":"U2CC1NDT2","text":"I'm working through the docs ito a fresh install...","ts":"1475246609.000858"},{"type":"message","user":"U2CC1NDT2","text":"deploy vagrant steps - all ok\nmake peer - all ok\nmake unit-test - all ok\nmake node-sdk-unit-tests - failed","ts":"1475246626.000859"},{"type":"message","user":"U2CC1NDT2","text":"sudo make node-sdk-unit-tests -&gt; results in...","ts":"1475246646.000860"},{"type":"message","user":"U2CC1NDT2","text":"```[RUN] unit tests...\nERROR: \/src\/github.com\/hyperledger\/fabric\/build\/bin\/membersrvc does not exist\nmake[1]: *** [unit-tests] Error 1\nmake[1]: Leaving directory `\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/sdk\/node'\nmake: *** [node-sdk-unit-tests] Error 2```","ts":"1475246661.000861"},{"type":"message","user":"U0KPFAZNF","text":"that path looks suspect","ts":"1475246686.000862"},{"type":"message","user":"U0KPFAZNF","text":"\"\/src\/github.com\/hyperledger\/fabric\/build\/bin\/membersrvc does not exist\"","ts":"1475246695.000863"},{"type":"message","user":"U2CC1NDT2","text":"make membersrvc - make: Nothing to be done for `membersrvc'.","ts":"1475246706.000864"},{"type":"message","user":"U0KPFAZNF","text":"it should have \/opt\/gopath prepended","ts":"1475246711.000865"},{"type":"message","user":"U0KPFAZNF","text":"right, i think the problem is the path","ts":"1475246717.000866"},{"type":"message","user":"U0KPFAZNF","text":"i suspect if you look in \/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/build\/bin","ts":"1475246748.000867"},{"type":"message","user":"U0KPFAZNF","text":"you will see membersrvc is there","ts":"1475246753.000868"},{"type":"message","user":"U0KPFAZNF","text":"that is why the \u201cmake\u201d says \u201cnothing to do\"","ts":"1475246765.000869"},{"type":"message","user":"U2CC1NDT2","text":"yup - it's there","ts":"1475246775.000870"},{"type":"message","user":"U0KPFAZNF","text":"the problem seems to be in the sdk unit-test environment","ts":"1475246780.000871"},{"type":"message","user":"U0KPFAZNF","text":"its looking in the wrong path","ts":"1475246784.000872"},{"type":"message","user":"U2CC1NDT2","text":"snap - how come that's failing","ts":"1475246792.000873"},{"type":"message","user":"U0KPFAZNF","text":"not sure, i would ping the sdk team over in <#C1GSVKK1U|nodesdk>","ts":"1475246808.000874"},{"type":"message","user":"U2CC1NDT2","text":"although - when I run membersrvc I would expect it to log something to the console","ts":"1475246833.000875"},{"type":"message","user":"U2CC1NDT2","text":"which it doesn't","ts":"1475246839.000876"},{"type":"message","user":"U0KPFAZNF","text":"my guess is: its nothing to do with you, just a bug in the particular tree you checked out","ts":"1475246846.000877"},{"type":"message","user":"U0KPFAZNF","text":"yeah, more recent versions of membersrvc are disturbingly silent","ts":"1475246870.000878"},{"type":"message","user":"U0KPFAZNF","text":"but this is in fact normal","ts":"1475246873.000879"},{"type":"message","user":"U0KPFAZNF","text":"i was tripped up by this myself a few weeks ago","ts":"1475246885.000880"},{"type":"message","user":"U2CC1NDT2","text":"mmhh - ok","ts":"1475246885.000881"},{"type":"message","user":"U0KPFAZNF","text":"thought it was busted, spent 10 minutes chasing it down","ts":"1475246893.000882"},{"type":"message","user":"U0KPFAZNF","text":"i think you can modify the logging levels if you want the old behavior","ts":"1475246914.000883"},{"type":"message","user":"U2CC1NDT2","text":"make behave also gives...","ts":"1475246929.000884"},{"type":"message","user":"U0KPFAZNF","text":"but I havent tried this, i just accepted that it was FAD and moved on","ts":"1475246934.000885"},{"type":"message","user":"U2CC1NDT2","text":"``` When requesting \"\/chain\" from \"vp0\"                                                                               # None\n    Then I should get a JSON response with \"height\" = \"3\"                                                             # None\n\n14:36:11 - context.failed = True\n\nFailing scenarios:\n  java_shim.feature:121  Java TableExample chaincode single peer\n\n4 features passed, 1 failed, 3 skipped\n39 scenarios passed, 1 failed, 9 skipped\n549 steps passed, 1 failed, 270 skipped, 0 undefined\nTook 18m53.530s\nmake: *** [behave] Error 1\n```","ts":"1475246951.000886"},{"type":"message","user":"U0KPFAZNF","text":"unless you changed the code, i wouldn\u2019t worry about behave failing _too_ much\u2026there were some flaky tests in behave so it was removed from the CI verification process until it can be fixed","ts":"1475247004.000887"},{"type":"message","user":"U0KPFAZNF","text":"this means two things","ts":"1475247008.000888"},{"type":"message","user":"U0KPFAZNF","text":"1) theres been a long history of flaky tests, this could be one of them","ts":"1475247022.000889"},{"type":"message","user":"U0KPFAZNF","text":"2) because its no longer verified by CI, its highly likely that new failing tests have been introduced","ts":"1475247040.000890"},{"type":"message","user":"U2CC1NDT2","text":"ok which means the docs are behind","ts":"1475247053.000891"},{"type":"message","user":"U0KPFAZNF","text":"yes","ts":"1475247057.000892"},{"type":"message","user":"U0KPFAZNF","text":"its good to be aware of in general, as we need to get it fixed again","ts":"1475247098.000893"},{"type":"message","user":"U0KPFAZNF","text":"but jfyi, its currently flaky and thus you can expect some failures if you run it","ts":"1475247125.000894"},{"type":"message","user":"U0KPFAZNF","text":"its not necessarily an indication that your environment is messed up","ts":"1475247146.000895"},{"type":"message","user":"U2CC1NDT2","text":"sure - being a noob to the HL environment there's a lot of moving parts and yes I understand it's incubation but it's confusing when exposed to it...","ts":"1475247237.000896"},{"type":"message","user":"U2CC1NDT2","text":"so all I was trying to do was follow (the disjointed) docs to get one example working...","ts":"1475247296.000897"},{"type":"message","user":"U0KPFAZNF","text":"sure, and sorry","ts":"1475247496.000898"},{"type":"message","user":"U2CC1NDT2","text":"no need to apologize bud","ts":"1475247517.000899"},{"type":"message","user":"U0KPFAZNF","text":"well, i understand, and I feel bad","ts":"1475247529.000900"},{"type":"message","user":"U0KPFAZNF","text":"we are working on it, though","ts":"1475247535.000901"},{"type":"message","user":"U2CC1NDT2","text":"it's not like the Fabric is at a LTS stage and something's wonky","ts":"1475247552.000902"},{"type":"message","user":"U0KPFAZNF","text":"right, though getting things as smooth as possible is important","ts":"1475247574.000903"},{"type":"message","user":"U0ZJZBJLF","text":"If I may say, I think the core problem here is the existence of only a \"developer VM image\" and not also of a \"instant fabric in a can\" VM image","ts":"1475247601.000904"},{"type":"message","user":"U0KPFAZNF","text":"that point is not lost","ts":"1475247645.000905"},{"type":"message","user":"U0KPFAZNF","text":"we are actively working on this","ts":"1475247659.000906"},{"type":"message","user":"U0KPFAZNF","text":"at least from a docker workflow","ts":"1475247673.000907"},{"type":"message","user":"U0KPFAZNF","text":"it should soon be possible to just do something like \u201cdocker run hyperledger\/fabric-peer\"","ts":"1475247689.000908"},{"type":"message","user":"U0KPFAZNF","text":"kind of like how kubernetes works","ts":"1475247697.000909"},{"type":"message","user":"U0ZJZBJLF","text":"cool","ts":"1475247700.000910"},{"type":"message","user":"U0KPFAZNF","text":"but its not quite ironed out yet","ts":"1475247707.000911"},{"type":"message","user":"U2CC1NDT2","text":"perhaps - I've been working with Mike @ Cloudsoft ito getting a localised VM setup working that would be truly representative of a production environment with multiple nodes etc","ts":"1475247772.000912"},{"type":"message","user":"U0KPFAZNF","text":"<@U2CC1NDT2> and def keep us all in the loop on your progress there","ts":"1475247811.000913"},{"type":"message","user":"U2CC1NDT2","text":"ok followed -&gt; <http:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/nodeSDK\/sample-standalone-app\/> exactly and it doesn't work it seems","ts":"1475247868.000914"},{"type":"message","user":"U2CC1NDT2","text":"just sits at...","ts":"1475247879.000915"},{"type":"message","user":"U2CC1NDT2","text":"```enrolling user admin ...```","ts":"1475247892.000916"},{"type":"message","user":"U2CC1NDT2","text":"the couldsoft AMP setup works well - we've ironed out port issues and docker restart issues and and and - but I need to spend some time doing a complete from the ground up test install, tear down etc","edited":{"user":"U2CC1NDT2","ts":"1475248007.000000"},"ts":"1475247987.000917"},{"type":"message","user":"U0KPFAZNF","text":"i reviewed the overall steps there, they look reasonably correct so Im guessing the problem is in the sdk\/app.js side","ts":"1475248000.000918"},{"type":"message","user":"U2CC1NDT2","text":"must me - I'm no expert but I \"think\" it could be related to the following code...","ts":"1475248049.000920"},{"type":"message","user":"U0KPFAZNF","text":"my only comment there is, I never work with the sdk src\u2026i have applications that pull official hfc releases from npm","ts":"1475248050.000921"},{"type":"message","user":"U2CC1NDT2","text":"sorry - need to feed my dog...","ts":"1475248057.000922"},{"type":"message","user":"U0KPFAZNF","text":"so i wonder if you are getting bit by some transient problem in the unreleased SDK","ts":"1475248066.000923"},{"type":"message","user":"U0KPFAZNF","text":"sure, ill be here","ts":"1475248074.000924"},{"type":"message","user":"U2CC1NDT2","text":"in the app.js file...\n```\/\/ get the addresses from the docker-compose environment\nvar PEER_ADDRESS         = process.env.CORE_PEER_ADDRESS;\nvar MEMBERSRVC_ADDRESS   = process.env.MEMBERSRVC_ADDRESS;\n```","ts":"1475248193.000925"},{"type":"message","user":"U2CC1NDT2","text":"cause when it runs...\n```vagrant@hyperledger-devenv:v0.1.0-131b36c:\/tmp$ node app\n **** starting HFC sample ****\nmember services address =undefined\npeer address =undefined\nDEPLOY_MODE=undefined\nenrolling user admin ...\n```","ts":"1475248231.000926"},{"type":"message","user":"U2CC1NDT2","text":"surely the addresses need to resolve","ts":"1475248269.000927"},{"type":"message","user":"U0KPFAZNF","text":"its possible it assumes \u201clocalhost\u201d but im guessing that is your (or really \u201cthe docs\u201d) problem","ts":"1475248275.000928"},{"type":"message","user":"U2CC1NDT2","text":"mmhh - can't say other than it never completes","ts":"1475248311.000929"},{"type":"message","user":"U0KPFAZNF","text":"try this","ts":"1475248358.000930"},{"type":"message","user":"U2CC1NDT2","text":"so I can with conviction say that these docs don't work atm -&gt; <http:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/nodeSDK\/sample-standalone-app\/>","ts":"1475248368.000931"},{"type":"message","user":"U0KPFAZNF","text":"add \"CORE_PEER_ADDRESS=0.0.0.0:7051 MEMBERSRVC_ADDRESS=0.0.0.0:7054 DEPLOY_MODE=dev node app\"","ts":"1475248444.000932"},{"type":"message","user":"U0KPFAZNF","text":"(I am not sure what schema the DEPLOY_MODE needs","ts":"1475248457.000933"},{"type":"message","user":"U0KPFAZNF","text":"i just winged that","ts":"1475248461.000934"},{"type":"message","user":"U0KPFAZNF","text":"but you are using devmode if you followed the instructions on that link you sent","ts":"1475248480.000935"},{"type":"message","user":"U0KPFAZNF","text":"so im guessing its something like \u201cdev\u201d \u201cdevmode\u201d etc","ts":"1475248488.000936"},{"type":"message","user":"U2CC1NDT2","text":"yeah - i decided to start completely from scratch - so following the threads in the doc....","ts":"1475248540.000937"},{"type":"message","user":"U2CC1NDT2","text":"BINGO!","ts":"1475248575.000938"},{"type":"message","user":"U0KPFAZNF","text":"by visual inspection, i think the steps up to the nodejs parts look correct","ts":"1475248585.000939"},{"type":"message","user":"U0KPFAZNF","text":"working?","ts":"1475248601.000940"},{"type":"message","user":"U2CC1NDT2","text":"```vagrant@hyperledger-devenv:v0.1.0-131b36c:\/tmp$ CORE_PEER_ADDRESS=0.0.0.0:7051 MEMBERSRVC_ADDRESS=0.0.0.0:7054 DEPLOY_MODE=dev node app\n **** starting HFC sample ****\nmember services address =0.0.0.0:7054\npeer address =0.0.0.0:7051\nDEPLOY_MODE=dev\nenrolling user admin ...\nEnrolled JohnDoe successfully\n\ndeploying chaincode; please wait ...\nFailed to deploy chaincode: request={\"fcn\":\"init\",\"args\":[\"a\",\"100\",\"b\",\"200\"],\"chaincodePath\":\"<http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/chaincode_example02>\"}, error=%k { error: [Error: missing chaincodeName in DeployRequest],\n  msg: 'Error: missing chaincodeName in DeployRequest' }\n```","ts":"1475248604.000941"},{"type":"message","user":"U0KPFAZNF","text":"nice!","ts":"1475248617.000942"},{"type":"message","user":"U0KPFAZNF","text":"thats progress at least","ts":"1475248621.000943"},{"type":"message","user":"U2CC1NDT2","text":"yup!","ts":"1475248631.000944"},{"type":"message","user":"U2CC1NDT2","text":"although it seems the app.js code is broken....","ts":"1475248654.000945"},{"type":"message","user":"U2CC1NDT2","text":"```{ error: [Error: missing chaincodeName in DeployRequest],\n  msg: 'Error: missing chaincodeName in DeployRequest' }```","ts":"1475248672.000946"},{"type":"message","user":"U0KPFAZNF","text":"yes, there was a change not that long ago regarding chaincodeName, im guessing the sample wasnt updated","ts":"1475248674.000947"},{"type":"message","user":"U0KPFAZNF","text":"its an easy fix if you want to hack locally though","ts":"1475248686.000948"},{"type":"message","user":"U0KPFAZNF","text":"hold on","ts":"1475248687.000949"},{"type":"message","user":"U2CC1NDT2","text":"incubation is fluid... :slightly_smiling_face:","ts":"1475248699.000950"},{"type":"message","user":"U2CC1NDT2","text":"happy to","ts":"1475248706.000951"},{"type":"message","user":"U0KPFAZNF","text":"ok, you dont need to change code","ts":"1475248832.000952"},{"type":"message","user":"U0KPFAZNF","text":"its another envcar","ts":"1475248836.000953"},{"type":"message","user":"U0KPFAZNF","text":"envvar","ts":"1475248838.000954"},{"type":"message","user":"U0KPFAZNF","text":"set CORE_CHAINCODE_ID_NAME=mycc","ts":"1475248854.000955"},{"type":"message","user":"U0KPFAZNF","text":"in addition to the others","ts":"1475248858.000956"},{"type":"message","user":"U0KPFAZNF","text":"you might run into an issue where the JohnDoe user is now already created","ts":"1475248888.000957"},{"type":"message","user":"U0KPFAZNF","text":"if you see an error about logging in, let me know, I can tell you how to reset the environment","ts":"1475248902.000958"},{"type":"message","user":"U0KPFAZNF","text":"but I _think_ if you set those 4 envvars, it will work","ts":"1475248925.000959"},{"type":"message","user":"U2CC1NDT2","text":"yeah baby!","ts":"1475248928.000960"},{"type":"message","user":"U2CC1NDT2","text":"```vagrant@hyperledger-devenv:v0.1.0-131b36c:\/tmp$ CORE_CHAINCODE_ID_NAME=mycc CORE_PEER_ADDRESS=0.0.0.0:7051 MEMBERSRVC_ADDRESS=0.0.0.0:7054 DEPLOY_MODE=dev node app\n **** starting HFC sample ****\nmember services address =0.0.0.0:7054\npeer address =0.0.0.0:7051\nDEPLOY_MODE=dev\nenrolling user admin ...\nEnrolled JohnDoe successfully\n\ndeploying chaincode; please wait ...\ndeploy complete; results: {\"uuid\":\"mycc\",\"chaincodeID\":\"mycc\"}\ninvoke chaincode ...\ninvoke submitted successfully; results={\"uuid\":\"a6564085-88df-466c-b5ad-26a201bd5e7d\"}\ninvoke completed successfully; results={\"result\":\"Tx a6564085-88df-466c-b5ad-26a201bd5e7d complete\"}\nquerying chaincode ...\nquery completed successfully; results={\"result\":{\"type\":\"Buffer\",\"data\":[57,57]}}\nvagrant@hyperledger-devenv:v0.1.0-131b36c:\/tmp$\n```","ts":"1475248946.000961"},{"type":"message","user":"U0KPFAZNF","text":"nice!","ts":"1475248953.000962"},{"type":"message","user":"U0KPFAZNF","text":"could you do me a favor and file a JIRA entry against that doc?","ts":"1475248969.000963"},{"type":"message","user":"U2CC1NDT2","text":"ok so need to note that for the doc folks","ts":"1475248971.000964"},{"type":"message","user":"U2CC1NDT2","text":"sure","ts":"1475248975.000965"},{"type":"message","user":"U0KPFAZNF","text":"(if you want to submit a patch for it too, greatly appreciated","ts":"1475248980.000966"},{"type":"message","user":"U0KPFAZNF","text":"but whatever you feel comfortable with","ts":"1475248992.000967"},{"type":"message","user":"U2CC1NDT2","text":"would love to - don't know how but willing to learn...","ts":"1475249035.000968"},{"type":"message","user":"U0KPFAZNF","text":"are you comfortable with git in general and just need to learn gerrit?","ts":"1475249069.000969"},{"type":"message","user":"U0KPFAZNF","text":"or is git submission new too?","ts":"1475249075.000970"},{"type":"message","user":"U0KPFAZNF","text":"have to get my kid ready for school, bbiab","ts":"1475249105.000971"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KPFAZNF> I\u2019d love to listen in too :slightly_smiling_face:","ts":"1475249121.000972"},{"type":"message","user":"U2CC1NDT2","text":"later bud - thanks for the help....","ts":"1475249135.000973"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019d love to increase the bag of tricks","ts":"1475249143.000974"},{"type":"message","user":"U2CC1NDT2","text":"it's ALL new....","ts":"1475249155.000975"},{"type":"message","user":"U2CC1NDT2","text":"but willing to learn and put in the time....","ts":"1475249180.000976"},{"type":"message","user":"U2CC1NDT2","text":"```Congratulations! You\u2019ve successfully run your first Hyperledger fabric application.```","ts":"1475249396.000977","reactions":[{"name":"+1","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U2CC1NDT2","text":"is actually a little meaningless...","ts":"1475249440.000978"},{"type":"message","user":"U2CC1NDT2","text":"whilst being absolutely brilliant :slightly_smiling_face: if you follow me...","ts":"1475249506.000979"},{"type":"message","user":"U2CC1NDT2","text":"but progress - no doubt...","ts":"1475249583.000980"},{"type":"message","user":"U0KPFAZNF","text":"back","ts":"1475249608.000981"},{"type":"message","user":"U0KPFAZNF","text":"so, to start, you will need a linux foundation login to access both jira and gerrit, if you dont already have one","ts":"1475249633.000982"},{"type":"message","user":"U2CC1NDT2","text":"got that\\","ts":"1475249652.000983"},{"type":"message","user":"U0KPFAZNF","text":"ok, cool","ts":"1475249656.000984"},{"type":"message","user":"U0KPFAZNF","text":"so, creating the jira is trivial then, i think","ts":"1475249668.000985"},{"type":"message","user":"U2CC1NDT2","text":"cant pull the repo without same","edited":{"user":"U2CC1NDT2","ts":"1475249680.000000"},"ts":"1475249671.000986"},{"type":"message","user":"U0KPFAZNF","text":"oh, well it depends on how you cloned it","ts":"1475249690.000988"},{"type":"message","user":"U0KPFAZNF","text":"(for instane, you can clone the GH mirror without credentials)","ts":"1475249702.000989"},{"type":"message","user":"U2CC1NDT2","text":"shouldn't be - I had my team using jira years ago","ts":"1475249708.000990"},{"type":"message","user":"U0KPFAZNF","text":"but it sounds like you cloned from gerrit using the ssh url, which is good","ts":"1475249728.000991"},{"type":"message","user":"U2CC1NDT2","text":"should be able to figure it out...","ts":"1475249728.000992"},{"type":"message","user":"U0KPFAZNF","text":"it will make it easier","ts":"1475249731.000993"},{"type":"message","user":"U2CC1NDT2","text":"yup with my LFID","ts":"1475249743.000994"},{"type":"message","user":"U0KPFAZNF","text":"ok, cool","ts":"1475249747.000995"},{"type":"message","user":"U0KPFAZNF","text":"since im not sure of your familiarity with git concepts, ill start basic but just tell me if you want to fast forward","ts":"1475249779.000996"},{"type":"message","user":"U0KPFAZNF","text":"in a nutshell, one of the most confusing things for people new to git is the notion that each \u201cclone\u201d is essentially a full copy of the repo, history and all","ts":"1475249811.000997"},{"type":"message","user":"U0KPFAZNF","text":"therefore, there are two classes of commands","ts":"1475249823.000998"},{"type":"message","user":"U0KPFAZNF","text":"ones that operate just on your local clone, and ones that are meant to synchronize between clones","ts":"1475249844.000999"},{"type":"message","user":"U0KPFAZNF","text":"\u201cgit commit\u201d falls into the former category, but this often catches people by surprise since \u201ccommit\u201d sounds all official","ts":"1475249878.001000"},{"type":"message","user":"U0KPFAZNF","text":"it just means its commited to your local copy","ts":"1475249894.001001"},{"type":"message","user":"U0KPFAZNF","text":"and you dont need permissions (or even an active internet connection) to do this","ts":"1475249910.001002"},{"type":"message","user":"U2CC1NDT2","text":"i've used git locally only for my own needs - never pushing to a \"master\"","ts":"1475249916.001003"},{"type":"message","user":"U0KPFAZNF","text":"ok, cool","ts":"1475249922.001004"},{"type":"message","user":"U0KPFAZNF","text":"so, the next level then is the pushing\/pulling","ts":"1475249937.001005"},{"type":"message","user":"U0KPFAZNF","text":"now, for normal git, you typically can push patches right to some remote repo, assuming you have write permissions","ts":"1475249969.001006"},{"type":"message","user":"U0KPFAZNF","text":"you can do this various ways, but one way might look something like \u201cgit push origin HEAD:my-new-branch\"","ts":"1475250010.001007"},{"type":"message","user":"U2CC1NDT2","text":"i've found git to be a rather confusing \"young lady\"....","ts":"1475250019.001008"},{"type":"message","user":"U2CC1NDT2","text":"ok...","ts":"1475250030.001009"},{"type":"message","user":"U0KPFAZNF","text":"that says push my current tree (\u201cHEAD\u201d to a remote branch called \u201cmy-new-branch\"","ts":"1475250040.001010"},{"type":"message","user":"U0KPFAZNF","text":"(on the repo \u201corigin\"","ts":"1475250046.001011"},{"type":"message","user":"U2CC1NDT2","text":"sure - but issued from what dir?","ts":"1475250066.001012"},{"type":"message","user":"U2CC1NDT2","text":"and in this case... we set cmd line args?","ts":"1475250078.001013"},{"type":"message","user":"U0KPFAZNF","text":"but we have this thing in the middle (gerrit) which acts as a gate for submissions..you cant write to the tree directly","ts":"1475250081.001014"},{"type":"message","user":"U0KPFAZNF","text":"generally, from anywhere in the tree where your repo is","ts":"1475250101.001015"},{"type":"message","user":"U0KPFAZNF","text":"though i tend to do most operations from the root of the project","ts":"1475250110.001016"},{"type":"message","user":"U0KPFAZNF","text":"some commands, like git ls-files can be context specific","ts":"1475250130.001017"},{"type":"message","user":"U0KPFAZNF","text":"that said, I think \u201cgit push\u201d isnt","ts":"1475250143.001018"},{"type":"message","user":"U2CC1NDT2","text":"so help me here - i cloned the repo - it's on  my local and mapped to my VM","ts":"1475250146.001019"},{"type":"message","user":"U0KPFAZNF","text":"but I just make a habit of being in the root","ts":"1475250152.001020"},{"type":"message","user":"U2CC1NDT2","text":"so now I wanna make a change to the doc...","ts":"1475250174.001021"},{"type":"message","user":"U0KPFAZNF","text":"yep, and technically you could do these operations from either your host or the VM","ts":"1475250176.001022"},{"type":"message","user":"U2CC1NDT2","text":"how?","ts":"1475250177.001023"},{"type":"message","user":"U0KPFAZNF","text":"but I would advise you do them from the host","ts":"1475250188.001024"},{"type":"message","user":"U2CC1NDT2","text":"ok...","ts":"1475250193.001025"},{"type":"message","user":"U0KPFAZNF","text":"it will have your editor, etc","ts":"1475250195.001026"},{"type":"message","user":"U2CC1NDT2","text":"ok i get it... pull the doc from gerrit","ts":"1475250215.001027"},{"type":"message","user":"U2CC1NDT2","text":"branch it","ts":"1475250221.001028"},{"type":"message","user":"U2CC1NDT2","text":"push it?","ts":"1475250229.001029"},{"type":"message","user":"U0KPFAZNF","text":"so, as you probably know from the past experience, edit the doc locally","ts":"1475250231.001030"},{"type":"message","user":"U0KPFAZNF","text":"yep, the branching is up to you","ts":"1475250242.001031"},{"type":"message","user":"U0ZJZBJLF","text":"when you commit don't forget to add `Signed-off-by: your name &lt;email address&gt;`","ts":"1475250252.001032"},{"type":"message","user":"U0KPFAZNF","text":"but you would generally be doing pull -&gt; edit -&gt; commit -&gt; push","ts":"1475250257.001033"},{"type":"message","user":"U2CC1NDT2","text":"ok so one thing - how do i pull just that doc?","ts":"1475250291.001034"},{"type":"message","user":"U0KPFAZNF","text":"yes, good point <@U0ZJZBJLF> , there are several requirements for the commit message you attache","ts":"1475250297.001035"},{"type":"message","user":"U2CC1NDT2","text":"sorry guys real noob to this","ts":"1475250299.001036"},{"type":"message","user":"U0KPFAZNF","text":"<@U2CC1NDT2> there might be ways to pull just the file, but that is not what I would do","ts":"1475250319.001037"},{"type":"message","user":"U2CC1NDT2","text":"yes - saw that - will read the guidelines","ts":"1475250319.001038"},{"type":"message","user":"U0ZJZBJLF","text":"you don't pull just the doc, you just change the doc and then git knows what're the changes and paints them red\/green","ts":"1475250321.001039"},{"type":"message","user":"U0KPFAZNF","text":"just work with the entire tree","ts":"1475250330.001040"},{"type":"message","user":"U2CC1NDT2","text":"ok but guys where on my local is the doc? that's my question","ts":"1475250353.001041"},{"type":"message","user":"U0KPFAZNF","text":"right, as <@U0ZJZBJLF> mentioned, git will know you only changed N files","ts":"1475250369.001042"},{"type":"message","user":"U0KPFAZNF","text":"oh, i see","ts":"1475250378.001043"},{"type":"message","user":"U0KPFAZNF","text":"i think its in one of the .md files, but we\u2019d have to search for it","ts":"1475250397.001044"},{"type":"message","user":"U2CC1NDT2","text":"ok \/docs","ts":"1475250401.001045"},{"type":"message","user":"U0ZJZBJLF","text":"I think there is a wiki repo which is different from the fabric","ts":"1475250403.001046"},{"type":"message","user":"U0ZJZBJLF","text":"if he needs to change there","ts":"1475250413.001047"},{"type":"message","user":"U0KPFAZNF","text":"i think in this case its an .md change","ts":"1475250427.001048"},{"type":"message","user":"U0KPFAZNF","text":"in the fabric.git","ts":"1475250435.001049","reactions":[{"name":"white_check_mark","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U2CC1NDT2","text":"ok slowwwwwly getting it","ts":"1475250454.001050"},{"type":"message","user":"U2CC1NDT2","text":"in \/hyperldeger\/docs","ts":"1475250465.001051"},{"type":"message","user":"U0KPFAZNF","text":"yeah, its likely in there","ts":"1475250507.001052"},{"type":"message","user":"U2CC1NDT2","text":"make the change then \"git push origin HEAD:my-new-branch\"","ts":"1475250519.001053"},{"type":"message","user":"U0KPFAZNF","text":"so you just edit the .md file to taste, and when its ready git-commit and then git-push it to gerrit","ts":"1475250527.001054"},{"type":"message","user":"U0KPFAZNF","text":"well, almost","ts":"1475250533.001055"},{"type":"message","user":"U0KPFAZNF","text":"gerrit is a little weird","ts":"1475250539.001056"},{"type":"message","user":"U2CC1NDT2","text":"to gerrit?","ts":"1475250545.001057"},{"type":"message","user":"U0KPFAZNF","text":"you dont have direct write access to the tree, you need to make a proposal","ts":"1475250565.001058"},{"type":"message","user":"U2CC1NDT2","text":"ok","ts":"1475250574.001059"},{"type":"message","user":"U0KPFAZNF","text":"to do that, you basically do \u201cgit push origin HEAD:refs\/for\/$branch\"","ts":"1475250584.001060"},{"type":"message","user":"U0ZJZBJLF","text":"or... you can just install git-review and it'll do the dirty work for you","ts":"1475250609.001061"},{"type":"message","user":"U0KPFAZNF","text":"where $branch is the upstream branch you are proposing to modify, like \u201cmaster\u201d or \u201cv0.6\"","ts":"1475250611.001062"},{"type":"message","user":"U0ZJZBJLF","text":"and then you can just \"git-review\" and that's it","ts":"1475250626.001063"},{"type":"message","user":"U0KPFAZNF","text":"ill defer to <@U0ZJZBJLF> on git-review, i dont use it so I cant offer any advice there","ts":"1475250651.001064"},{"type":"message","user":"U0KPFAZNF","text":"but I know plenty of folks do","ts":"1475250662.001065"},{"type":"message","user":"U2CC1NDT2","text":"ok better - so git push origin HEAD:refs\/for\/git-review?","ts":"1475250670.001066"},{"type":"message","user":"U0ZJZBJLF","text":"you can read here, if you want. \n<https:\/\/www.mediawiki.org\/wiki\/Gerrit\/git-review>","ts":"1475250705.001067"},{"type":"message","user":"U0KPFAZNF","text":"no, i think it would be something like \"git push origin HEAD:refs\/for\/master\u201d, or you can alternatively use git-review instead of manually managing the push","ts":"1475250707.001068"},{"type":"message","user":"U0ZJZBJLF","text":"it also does a rebase for you, by the way","ts":"1475250728.001069"},{"type":"message","user":"U2CC1NDT2","text":"ok - no probs - will dive into this and see what's what...","ts":"1475250746.001070"},{"type":"message","user":"U0KPFAZNF","text":"now, once you do that, if everything is formatted correctly, your proposal will show up in the UI here: <https:\/\/gerrit.hyperledger.org\/r\/#\/q\/status:open>","ts":"1475250755.001071"},{"type":"message","user":"U0KPFAZNF","text":"there are a couple of things though to note","ts":"1475250766.001072"},{"type":"message","user":"U0KPFAZNF","text":"your commit message has several requirements","ts":"1475250779.001073"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0KPFAZNF> , do you do non-environmental CRs?","edited":{"user":"U0ZJZBJLF","ts":"1475251091.000000"},"ts":"1475250793.001074"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> already mentioned the SIgned-off-by","ts":"1475250800.001075"},{"type":"message","user":"U0KPFAZNF","text":"You will also need a ChangeId, which you can read about here <https:\/\/gerrit.hyperledger.org\/r\/Documentation\/user-upload.html#push_create>","ts":"1475250843.001076"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/Documentation\/user-changeid.html>","ts":"1475250904.001077"},{"type":"message","user":"U0KPFAZNF","text":"there is a local git hook you can install which is detailed in those instructions which will generate this for you","ts":"1475250935.001078"},{"type":"message","user":"U0KPFAZNF","text":"and lastly, i think we limit line length to something like 70 characters","ts":"1475250952.001079"},{"type":"message","user":"U0KPFAZNF","text":"but assuming all of that looks good, it will show up in the UI for others to review","ts":"1475250963.001080"},{"type":"message","user":"U2CC1NDT2","text":"ok - will go on this side mission to figure out how to use git \/ gerrit properly - never envisaged getting involved at this level but all good...","ts":"1475250991.001081"},{"type":"message","user":"U0KPFAZNF","text":"its totally up to you, but we appreciate the contribution if you decide to","ts":"1475251038.001082"},{"type":"message","user":"U2CC1NDT2","text":"guess that's what makes community :slightly_smiling_face:","ts":"1475251049.001083"},{"type":"message","user":"U0KPFAZNF","text":"its a slight PITA to deal with gerrit, but once you get it its not that hard to use","ts":"1475251065.001084"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> I am not even sure what \u201cnon-environmental CRs\u201d are, so I am guessing the answer is \u201cno\u201d :wink:","ts":"1475251129.001086"},{"type":"message","user":"U0ZJZBJLF","text":"fabric stuff, that aren't related to fabric-dev-env","ts":"1475251170.001087"},{"type":"message","user":"U0ZJZBJLF","text":"like ledger code, peer code, etc. etc.","ts":"1475251180.001088"},{"type":"message","user":"U0KPFAZNF","text":"oh, of course, heh","ts":"1475251186.001089"},{"type":"message","user":"U0KPFAZNF","text":"someone needs to sweep the floors and clean the toilets, though :wink:","ts":"1475251200.001090"},{"type":"message","user":"U0ZJZBJLF","text":"not urgent, was just asking for general knowledge","ts":"1475251221.001091"},{"type":"message","user":"U0KPFAZNF","text":"but yeah, i was involved in some of the core code early on\u2026lately ive been more distracted with implementing my use case on top of HL than HL core itself","ts":"1475251252.001092"},{"type":"message","user":"U0KPFAZNF","text":"but I hope to get back into fabric dev more over the next few months","ts":"1475251268.001093"},{"type":"message","user":"U2CC1NDT2","text":"I do feel we need a \"dumb-ass 1st look newbie guide\"","ts":"1475251275.001094"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> I wrote the chaintool infrastructure for one thing, though","ts":"1475251300.001095"},{"type":"message","user":"U2CC1NDT2","text":"something that can guide people coming from the outside to ease their way into HL","ts":"1475251310.001096"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric-chaintool>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1475251325.001097"},{"type":"message","user":"U0KPFAZNF","text":"<@U2CC1NDT2> yeah, point taken\u2026i know we are trying to get our wiki setup which will help with that","ts":"1475251369.001099"},{"type":"message","user":"U0KPFAZNF","text":"also, the guides as you mention","ts":"1475251380.001100"},{"type":"message","user":"U2CC1NDT2","text":"there are so many moving parts (apart from the fact HL is in incubation) that it makes it frustrating to navigate the landscape","ts":"1475251392.001101"},{"type":"message","user":"U0ZJZBJLF","text":"cool","ts":"1475251403.001102"},{"type":"message","user":"U2CC1NDT2","text":"of course when V1.0 happens and we get to LTS things will settle down.,...","ts":"1475251431.001103"},{"type":"message","user":"U0KPFAZNF","text":"<@U2CC1NDT2> yeah, and I think you are entering at a particularly tumultuous time\u2026things are being refactored etc\u2026a lot of the doc was w.r.t. the v0.5 design and a lot of it is changing in the features\/convergence branch","ts":"1475251452.001104"},{"type":"message","user":"U2CC1NDT2","text":"100%","ts":"1475251464.001105"},{"type":"message","user":"U0KPFAZNF","text":"so people that are coming in are getting caught in the middle of the two","ts":"1475251468.001106"},{"type":"message","user":"U2CC1NDT2","text":"and unless you are \"inside\" it leaves one in a vacuum...","ts":"1475251491.001107"},{"type":"message","user":"U0KPFAZNF","text":"yeah, and even when you are \u201cinside\u201d its not always easy to follow the rapidly evolving code base","ts":"1475251526.001108"},{"type":"message","user":"U2CC1NDT2","text":"along with the \"strange\" design decisions like dumping the REST API","ts":"1475251541.001109"},{"type":"message","user":"U0KPFAZNF","text":"heh, well, that makes more sense when you know the history","ts":"1475251560.001110"},{"type":"message","user":"U0KPFAZNF","text":"it was the presence of the API itself that was perhaps \u201cstrange\"","ts":"1475251573.001111"},{"type":"message","user":"U0KPFAZNF","text":":wink:","ts":"1475251581.001112"},{"type":"message","user":"U0KPFAZNF","text":"i can explain that statement, though","ts":"1475251588.001113"},{"type":"message","user":"U0KPFAZNF","text":"but suffice to say, it was a non-inuitive architectural detail that caused great confusion","ts":"1475251621.001114"},{"type":"message","user":"U0KPFAZNF","text":"so, it going away is part of the effort to straighten that out","ts":"1475251666.001115"},{"type":"message","user":"U2CC1NDT2","text":"I just find it odd that we have the 3 layers - core -chaincode and whatever else and the whatever else layer which should be \"open\" is being pushed to Node","ts":"1475251666.001116"},{"type":"message","user":"U2CC1NDT2","text":"unless i'm missing something (which is quite likely through lack of knowledge..)","ts":"1475251716.001117"},{"type":"message","user":"U0KPFAZNF","text":"the basic issue is that the \u201cpeer\u201d codebase was designed to be used in two distinct different contexts\u2026and the API was exposing one of those contexts","ts":"1475251728.001118"},{"type":"message","user":"U2CC1NDT2","text":"ah....","ts":"1475251743.001119"},{"type":"message","user":"U0KPFAZNF","text":"but because it was attached to one \u201cprocess\u201d, the lines became blurred","ts":"1475251748.001120"},{"type":"message","user":"U0ZJZBJLF","text":"if you think that's odd you're in for a treat for future releases...","ts":"1475251758.001121"},{"type":"message","user":"U2CC1NDT2","text":"ok.... but i would think we would want to make it \"easy\" from the outer ring inwards...","ts":"1475251807.001122"},{"type":"message","user":"U2CC1NDT2","text":"so web apps - build in whatever - here's the API","ts":"1475251827.001123"},{"type":"message","user":"U2CC1NDT2","text":"chaincode - go \/ java","ts":"1475251837.001124"},{"type":"message","user":"U2CC1NDT2","text":"core - it's specifics","ts":"1475251845.001125"},{"type":"message","user":"U0KPFAZNF","text":"thats exactly the intention","ts":"1475251849.001126"},{"type":"message","user":"U0KPFAZNF","text":"before, part of the \u201cwebapp\u201d stack was integrated into the peer when running in NVP mode","ts":"1475251868.001127"},{"type":"message","user":"U0KPFAZNF","text":"the REST interface served to connect the front end and backend in this capacity","ts":"1475251887.001128"},{"type":"message","user":"U0KPFAZNF","text":"but in doing so, it required a very unatural relationship to security details","ts":"1475251903.001129"},{"type":"message","user":"U2CC1NDT2","text":"I also get that codebases are being merged and that in itself is no mean feat","ts":"1475251915.001130"},{"type":"message","user":"U0KPFAZNF","text":"so, those aspects are being broken out so that the portions that were handled by \u201cclient NVP\u201d are integrated into the SDK that runs coresident with the app","ts":"1475251947.001131"},{"type":"message","user":"U0KPFAZNF","text":"which is much more natural from a security perspective\u2026and also, should help to reduce process sprawl","ts":"1475251974.001132"},{"type":"message","user":"U2CC1NDT2","text":"sure - cbf suggested possibly something like -&gt; <https:\/\/github.com\/grpc-ecosystem\/grpc-gateway>","attachments":[{"service_name":"GitHub","title":"grpc-ecosystem\/grpc-gateway","title_link":"https:\/\/github.com\/grpc-ecosystem\/grpc-gateway","text":"grpc-gateway - gRPC to JSON proxy generator","fallback":"GitHub: grpc-ecosystem\/grpc-gateway","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/19352526?v=3&s=400","from_url":"https:\/\/github.com\/grpc-ecosystem\/grpc-gateway","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1475252012.001133"},{"type":"message","user":"U2CC1NDT2","text":"as an abstraction","ts":"1475252023.001135"},{"type":"message","user":"U0KPFAZNF","text":"this isnt to indict REST apis vs something else\u2026but rather, the REST API that was implemented served the front-end\/back-end interface for this client NVP thing","ts":"1475252034.001137"},{"type":"message","user":"U0KPFAZNF","text":"and since the client NVP thing is going away, the REST API is too","edited":{"user":"U0KPFAZNF","ts":"1475252060.000000"},"ts":"1475252048.001139"},{"type":"message","user":"U0KPFAZNF","text":"if that makes sense","ts":"1475252076.001141"},{"type":"message","user":"U2CC1NDT2","text":"I guess what I'm getting it is REST is \"easy\" for web-app dev's to wrap their heads wound...","ts":"1475252101.001142"},{"type":"message","user":"U2CC1NDT2","text":"which would go a long way to getting community adoption","ts":"1475252134.001143"},{"type":"message","user":"U0KPFAZNF","text":"yeah, understood\u2026the problem is the crypto, etc, are not trivial","ts":"1475252136.001144"},{"type":"message","user":"U2CC1NDT2","text":"yes 100%","ts":"1475252145.001145"},{"type":"message","user":"U0KPFAZNF","text":"so, it was felt it could be expressed more precisely with GRPC schema than, say, swagger, and then that can be the integration point","ts":"1475252180.001146"},{"type":"message","user":"U0KPFAZNF","text":"(its probably more important to \u201cpick one\u201d than \u201cpick X\"","ts":"1475252200.001147"},{"type":"message","user":"U0KPFAZNF","text":"but GRPC was the decision","ts":"1475252206.001148"},{"type":"message","user":"U0KPFAZNF","text":"anyway, the intetion is that your typically webapp would interface to say a nodejs backend, and that would inteface to the SDK which manages the GRPC for you","ts":"1475252238.001149"},{"type":"message","user":"U2CC1NDT2","text":"I am sure the decision re gRPC was correct but the idea of a gRPC\/JSON proxy on the face of it sounds like a viable solution","ts":"1475252246.001150"},{"type":"message","user":"U2CC1NDT2","text":"but hey what the hell do I know","ts":"1475252257.001151"},{"type":"message","user":"U0KPFAZNF","text":"yes, i agree..I think that is the intention","ts":"1475252265.001152"},{"type":"message","user":"U0KPFAZNF","text":"you would have to replicate the crypto protocols, etc, but it should be possible","ts":"1475252279.001153"},{"type":"message","user":"U0KPFAZNF","text":"but this is exactly what we are seeing now\u2026we have proposals for SDKs in node, python, java","ts":"1475252300.001154"},{"type":"message","user":"U0KPFAZNF","text":"coded to the GRPC \u201cstandard\"","ts":"1475252307.001155"},{"type":"message","user":"U2CC1NDT2","text":"but coudn't the node sdk be proxied?","ts":"1475252311.001156"},{"type":"message","user":"U0KPFAZNF","text":"yes, it was designed for this","ts":"1475252330.001157"},{"type":"message","user":"U0KPFAZNF","text":"for instance, the notion of \u201cregistrar\u201d is precisely to deal with proxy scenarios","ts":"1475252352.001158"},{"type":"message","user":"U2CC1NDT2","text":"i tried to find the .proto files in the node sdk (HFC node install)...","ts":"1475252371.001159"},{"type":"message","user":"U0KPFAZNF","text":"look in fabric.git\u2026they are mostly under .\/protos and copied to the SDK during compilation","ts":"1475252396.001160"},{"type":"message","user":"U0KPFAZNF","text":"not sure where they end up in the NPM package","ts":"1475252416.001161"},{"type":"message","user":"U0KPFAZNF","text":"ok, kid to bus now\u2026bbiab","ts":"1475252427.001162"},{"type":"message","user":"U2CC1NDT2","text":"yeah I saw those but for the life of me it made no sense - but also I'm no kick-ass developer","ts":"1475252438.001163"},{"type":"message","user":"U2CC1NDT2","text":"later bud","ts":"1475252441.001164"},{"type":"message","user":"U0ZJZBJLF","text":"so, since you're here <@U0KPFAZNF> - you know of the go-logging issue that fails our tests from time to time?\noh I didn't see that kid--&gt;bus line","edited":{"user":"U0ZJZBJLF","ts":"1475252860.000000"},"ts":"1475252508.001165"},{"type":"message","user":"U0KPFAZNF","text":"back","ts":"1475254648.001168"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> i\u2019ve seen it in passing but I do not know the details there","ts":"1475254660.001169"},{"type":"message","user":"U0ZJZBJLF","text":"so TLDR- go-logging isn't thread safe when SetLevel is called concurrently with any logging method","ts":"1475254697.001170"},{"type":"message","user":"U0ZJZBJLF","text":"I created a test that fails 100% of the time, and I created a patch that fixes it and the test doesn't fail","ts":"1475254725.001171"},{"type":"message","user":"U0ZJZBJLF","text":"and uploaded to gerrit","ts":"1475254728.001172"},{"type":"message","user":"U0KPFAZNF","text":"oh, right, and you were asking if its ok to patch the vendor code?","ts":"1475254732.001173"},{"type":"message","user":"U0ZJZBJLF","text":"I think it's ok according to what the license says","ts":"1475254743.001174"},{"type":"message","user":"U0ZJZBJLF","text":"<https:\/\/github.com\/op\/go-logging\/blob\/master\/LICENSE>","attachments":[{"service_name":"GitHub","title":"op\/go-logging","title_link":"https:\/\/github.com\/op\/go-logging\/blob\/master\/LICENSE","text":"go-logging - Golang logging library","fallback":"GitHub: op\/go-logging","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/55245?v=3&s=400","from_url":"https:\/\/github.com\/op\/go-logging\/blob\/master\/LICENSE","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1475254768.001175"},{"type":"message","user":"U0ZJZBJLF","text":"I opened an issue to them but they didn't respond :disappointed: so I decided to patch it myself cause it's annoying","ts":"1475254787.001177"},{"type":"message","user":"U0KPFAZNF","text":"i guess we havent had this come up so I dont have a strong opinion one way or the other","ts":"1475254789.001178"},{"type":"message","user":"U0ZJZBJLF","text":"It usually makes crypto tests fail","ts":"1475254815.001179"},{"type":"message","user":"U0KPFAZNF","text":"one part of me says: we maintain the code in our tree for this reason","ts":"1475254820.001180"},{"type":"message","user":"U0KPFAZNF","text":"the other part says: this makes it ripe for a maintenance burden going forward","ts":"1475254838.001181"},{"type":"message","user":"U0KPFAZNF","text":"i think I would say: its fine to carry the patch as long as we also make a reasonable attempt to upstream the patch in accordance with the project in question","ts":"1475254872.001182"},{"type":"message","user":"U0KPFAZNF","text":"it sounds like you already did this","ts":"1475254885.001183"},{"type":"message","user":"U0ZJZBJLF","text":"<https:\/\/github.com\/op\/go-logging\/issues\/104>","attachments":[{"service_name":"GitHub","title":"Thread safety \u00b7 Issue #104 \u00b7 op\/go-logging \u00b7 GitHub","title_link":"https:\/\/github.com\/op\/go-logging\/issues\/104","text":"Hi. Logger.log() calls moduleLeveled.Log() which calls moduleLeveled.GetLevel(), which does a map read. Now, var defaultBackend LeveledBackend is a global field. If someone calls concurrently logg...","fallback":"GitHub: Thread safety \u00b7 Issue #104 \u00b7 op\/go-logging","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/7521849?v=3&s=400","from_url":"https:\/\/github.com\/op\/go-logging\/issues\/104","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1475254901.001184"},{"type":"message","user":"U0KPFAZNF","text":"good\u2026next best thing: submit a PR?","ts":"1475254949.001186"},{"type":"message","user":"U0ZJZBJLF","text":"to them? sure I can...","ts":"1475254958.001187"},{"type":"message","user":"U0KPFAZNF","text":"I think if you do the issue\/PR, and patch locally, thats the best we can do","ts":"1475254970.001188"},{"type":"message","user":"U0ZJZBJLF","text":"but if they didn't respond to my issue in 2 days I think nothing promises that they merge the PR","ts":"1475254988.001189"},{"type":"message","user":"U0ZJZBJLF","text":"thing is- I can't patch locally, i need someone to... CR it :wink:","ts":"1475255008.001190"},{"type":"message","user":"U0KPFAZNF","text":"the only question in my mind is: how do we prevent an accidental overwrite in a future vendor update","ts":"1475255013.001191"},{"type":"message","user":"U0KPFAZNF","text":"of course, thats what I meant sorry","ts":"1475255024.001192"},{"type":"message","user":"U0KPFAZNF","text":"i meant \u201clocally == hyperledger project locally\"","ts":"1475255036.001193"},{"type":"message","user":"U0ZJZBJLF","text":"I'll publish a PR and if they merge I guess I'll get an email","ts":"1475255043.001194"},{"type":"message","user":"U0KPFAZNF","text":"heres something to consider","ts":"1475255056.001195"},{"type":"message","user":"U0KPFAZNF","text":"we could consider forking the project, presumably under the hyperledger governance, and having fabric import that","ts":"1475255088.001196"},{"type":"message","user":"U0KPFAZNF","text":"that would make it more difficult to have a vendor update stomp on your work","ts":"1475255109.001197"},{"type":"message","user":"U0KPFAZNF","text":"but is it worth it?  i am not sure","ts":"1475255114.001198"},{"type":"message","user":"U0ZJZBJLF","text":"dunno, I'm not that of a far-thinker, I just want my CI jobs to pass with a higher probability","edited":{"user":"U0ZJZBJLF","ts":"1475255148.000000"},"ts":"1475255116.001199"},{"type":"message","user":"U0ZJZBJLF","text":"selfish, I know","ts":"1475255123.001200"},{"type":"message","user":"U0KPFAZNF","text":"perhaps best course of action is: consider merging local CR in the short term\u2026.wait and see how their community responds to the PR","ts":"1475255164.001202"},{"type":"message","user":"U0ZJZBJLF","text":"ok","ts":"1475255172.001203"},{"type":"message","user":"U0KPFAZNF","text":"if they accept the PR in a reasonable timeframe, we bump vendor rev and be done","ts":"1475255180.001204"},{"type":"message","user":"U0KPFAZNF","text":"if they dont, we consider forking","ts":"1475255186.001205"},{"type":"message","user":"U0ZJZBJLF","text":"ok I'll send a PR today","ts":"1475255194.001206"},{"type":"message","user":"U0KPFAZNF","text":"ty","ts":"1475255199.001207"},{"type":"message","user":"U0ZJZBJLF","text":"but of course you can take a look at the local PR","ts":"1475255218.001208"},{"type":"message","user":"U0KPFAZNF","text":"to be clear, i have no problem with your tactical solution\u2026i understand and appreciate the urgency","ts":"1475255228.001209","reactions":[{"name":"+1","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"and in fact, would argue thats one of the reasons to have the code local like that","ts":"1475255248.001210"},{"type":"message","user":"U0ZJZBJLF","text":"I mean, if you have time of course","ts":"1475255252.001211"},{"type":"message","user":"U0KPFAZNF","text":"sure, ill take a look after lunch","ts":"1475255266.001212"},{"type":"message","user":"U0KPFAZNF","text":"my primary concern is long term, we forget the context and lose your fix in a future vendor rev\u2026as long as that doesnt happen, I am happy","ts":"1475255311.001213"},{"type":"message","user":"U2CC1NDT2","text":"outsider opinion - vendor issues \/ motivation shouldn't be part of the thinking - this is supposed to be a community project now (and yes I understand they've devoted value) but you can't pick and choose","ts":"1475255419.001214"},{"type":"message","user":"U2CC1NDT2","text":"IMHO","ts":"1475255425.001215"},{"type":"message","user":"U2CC1NDT2","text":"H-humble not honest","ts":"1475255442.001216"},{"type":"message","user":"U2CC1NDT2","text":"but hey ho I'm just some douche living in Mauritius with a PC and an Internet connection... :slightly_smiling_face:","ts":"1475255616.001217"},{"type":"message","user":"U2CC1NDT2","text":"bon weekend folks","ts":"1475255719.001218"},{"type":"message","user":"U2CC1NDT2","text":"<@U0KPFAZNF> - thanks for the assist today - one step closer...","ts":"1475256049.001219"},{"type":"message","user":"U0KPFAZNF","text":"<@U2CC1NDT2> yw\u2026im also not clear on what you were saying above about vendor issues","ts":"1475256355.001220"},{"type":"message","user":"U0KPFAZNF","text":"im looking at it purely from a code maintenance perspective\u2026patching the vendor folder in certain ways carries a cost, that is all..i would ideally like to minimize the cost and also keep the probability of a mistake in the future to a minimum","ts":"1475256415.001221"},{"type":"message","user":"U2CC1NDT2","text":"i was speaking out of turn I feel... apologies to all...","ts":"1475256479.001222"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> you may already have done this: but can you ensure we have UT coverage executed along with the rest of fabric UTs for the problem you are highlighting so that we ensure the fix is not reverted in the future?","ts":"1475256812.001223"},{"type":"message","user":"U0ZJZBJLF","text":"how do I do that?","ts":"1475256866.001224"},{"type":"message","user":"U0ZJZBJLF","text":"and I don't really understand what you mean","ts":"1475256881.001225"},{"type":"message","user":"U0ZJZBJLF","text":"jenkins executes them doesn't it?","ts":"1475256894.001226"},{"type":"message","user":"U0KPFAZNF","text":"id have to look at the specifics, but say you added something like fabric.git\/tests\/gologging_test.go","ts":"1475256909.001227"},{"type":"message","user":"U0ZJZBJLF","text":"you want me to move it to another place ?","ts":"1475256921.001228"},{"type":"message","user":"U0KPFAZNF","text":"and have it reproduce the problem you are seeing","ts":"1475256924.001229"},{"type":"message","user":"U0ZJZBJLF","text":"I have a test I wrote but I placed it inside the vendor folder","ts":"1475256947.001230"},{"type":"message","user":"U0KPFAZNF","text":"im not saying anything specific like that, other than can you figure out a way to regression test your fix?","ts":"1475256952.001231"},{"type":"message","user":"U0KPFAZNF","text":"yeah, we dont include vendor stuff in the tests currently","ts":"1475256962.001232"},{"type":"message","user":"U0KPFAZNF","text":"so, one way or another, if it can be included, that would make me feel better","ts":"1475256977.001233"},{"type":"message","user":"U0KPFAZNF","text":"i just want to catch something like, say 18 months from now, someone vendor revs go-logging and overwrites your patch","ts":"1475257009.001234"},{"type":"message","user":"U0ZJZBJLF","text":"wait actually something isn't clear to me now- how do the vendor folders get updated in fabric?","ts":"1475257013.001235"},{"type":"message","user":"U0KPFAZNF","text":"ive actually never done it, but my understanding is the \u201cgovendor\u201d tool is used","ts":"1475257034.001236"},{"type":"message","user":"U0ZJZBJLF","text":"since they're in the git tree","ts":"1475257034.001237"},{"type":"message","user":"U0ZJZBJLF","text":"oh... I see.","ts":"1475257041.001238"},{"type":"message","user":"U0KPFAZNF","text":"and that tool will update the .\/vendor folder for you","ts":"1475257049.001239"},{"type":"message","user":"U0ZJZBJLF","text":"I can move the test to a different folder, but which one you'd suggest to?","ts":"1475257071.001240"},{"type":"message","user":"U0KPFAZNF","text":"i think this scenario doesnt have precedent, so we need to decide what makes sense","ts":"1475257109.001241"},{"type":"message","user":"U0KPFAZNF","text":"maybe .\/tests\/third-party\/gologging_test.go ?","ts":"1475257125.001242"},{"type":"message","user":"U0KPFAZNF","text":"i am open","ts":"1475257129.001243"},{"type":"message","user":"U0ZJZBJLF","text":"there is no tests","ts":"1475257141.001244"},{"type":"message","user":"U0KPFAZNF","text":"understood","ts":"1475257149.001245"},{"type":"message","user":"U0ZJZBJLF","text":"why not to core\/util\/util_tests.go ?","ts":"1475257151.001246"},{"type":"message","user":"U0ZJZBJLF","text":"it's just a small simple test","ts":"1475257157.001247"},{"type":"message","user":"U0KPFAZNF","text":"sure, that works for me","ts":"1475257160.001248"},{"type":"message","user":"U0ZJZBJLF","text":"k i'm on it","ts":"1475257165.001249"},{"type":"message","user":"U0KPFAZNF","text":"ty","ts":"1475257171.001250"},{"type":"message","user":"U0KPFAZNF","text":"to be clear: you should probably leave the UT with the vendor patch too, if that makes sense","edited":{"user":"U0KPFAZNF","ts":"1475257254.000000"},"ts":"1475257231.001251"},{"type":"message","user":"U0KPFAZNF","text":"er, what gets pushed upstream should have a test\u2026but also, we need a way to ensure we dont regress","ts":"1475257271.001253"},{"type":"message","user":"U0KPFAZNF","text":"my thought is: this might be best implemented as a DRY violation (test in both vendor and fabric)","ts":"1475257290.001254"},{"type":"message","user":"U0KPFAZNF","text":"but I am open","ts":"1475257293.001255"},{"type":"message","user":"U0KPFAZNF","text":"another alternative might be to special case the go-logging folder in the test exclusions","ts":"1475257324.001256"},{"type":"message","user":"U0KPFAZNF","text":"as long as you find a way to tie the regression test into the fabric UTs, I am happy","ts":"1475257346.001257"},{"type":"message","user":"U0ZJZBJLF","text":"done","ts":"1475257511.001258"},{"type":"message","user":"U0ZJZBJLF","text":"why in both?","ts":"1475257530.001259"},{"type":"message","user":"U0ZJZBJLF","text":"i don't understand","ts":"1475257534.001260"},{"type":"message","user":"U0KPFAZNF","text":"well, I think the patch that you submit to upstream PR should include test","ts":"1475257651.001261"},{"type":"message","user":"U0KPFAZNF","text":"i think fabric.git needs regression proof","ts":"1475257663.001262"},{"type":"message","user":"U0KPFAZNF","text":"and I suspect the easiest way to get there is to basically have your PR in the vendor folder and perhaps a fabric specific test","ts":"1475257689.001263"},{"type":"message","user":"U0KPFAZNF","text":"but ultimately, there are many ways to solve that problem","ts":"1475257700.001264"},{"type":"message","user":"U0ZJZBJLF","text":"that's what i did- the bug fix is in the vendor folder, the regression test is in core\/util\/util_test","ts":"1475257724.001265"},{"type":"message","user":"U0KPFAZNF","text":"for instance, you could patch fabric\/vendor without the test in vendor, if you dont mind maintaining the difference between fabric.git\/vendor and go-logging.git","ts":"1475257751.001266"},{"type":"message","user":"U0KPFAZNF","text":"my inclination would be to keep fabric.git\/vendor as close to what I pushed upstream, but that is just me","ts":"1475257789.001267"},{"type":"message","user":"U0ZJZBJLF","text":"it's only a 5 line change in vendor","ts":"1475257810.001268"},{"type":"message","user":"U0ZJZBJLF","text":"that's it","ts":"1475257812.001269"},{"type":"message","user":"U0KPFAZNF","text":"ok, thats fine\u2026i leave it up to you","ts":"1475257820.001270"},{"type":"message","user":"U0ZJZBJLF","text":"ok. could you take a look at this some time when you're not busy?","ts":"1475257840.001271"},{"type":"message","user":"U0KPFAZNF","text":"hah, don\u2019t qualify it with the last 4 words or its not going to happen :wink:","ts":"1475257868.001272"},{"type":"message","user":"U0KPFAZNF","text":"what was the link again?","ts":"1475257889.001273"},{"type":"message","user":"U0ZJZBJLF","text":"1379","ts":"1475257893.001274"},{"type":"message","user":"U0KPFAZNF","text":"ty","ts":"1475257897.001275"},{"type":"message","user":"U2CC1NDT2","text":"<@U0KPFAZNF>  4 words... :slightly_smiling_face:","ts":"1475257918.001276"},{"type":"message","user":"U0ZJZBJLF","text":"np ty in advance","ts":"1475257937.001277"},{"type":"message","user":"U0KPFAZNF","text":"done","ts":"1475258073.001278"},{"type":"message","user":"U0ZJZBJLF","text":"thanks!","ts":"1475258102.001279"},{"type":"message","user":"U0ZJZBJLF","text":"Done: <https:\/\/github.com\/op\/go-logging\/pull\/105>","attachments":[{"service_name":"GitHub","title":"Thread safety fix in logging and SetLevel by yacovm \u00b7 Pull Request #105 \u00b7 op\/go-logging \u00b7 GitHub","title_link":"https:\/\/github.com\/op\/go-logging\/pull\/105","text":"#104 When a logging is called concurrently with SetLevel, a panic occurs: fatal error: concurrent map read and map write goroutine 20 [running]: runtime.throw(0x5f7cc0, 0x21) \/home\/yacovm\/OBC...","fallback":"GitHub: Thread safety fix in logging and SetLevel by yacovm \u00b7 Pull Request #105 \u00b7 op\/go-logging","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/7521849?v=3&s=400","from_url":"https:\/\/github.com\/op\/go-logging\/pull\/105","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1475259759.001280"},{"type":"message","user":"U0ZJZBJLF","text":"but it seems goimports were needed to be run on the test, the linter didn't like my file. so can you please +2 again?","ts":"1475260038.001282"},{"type":"message","user":"U0KPFAZNF","text":"Sure. I'm out on an errand but will upon return","ts":"1475260286.001283","reactions":[{"name":"+1","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U2CC1NDT2","text":"<@U0KPFAZNF> - opened issue in Jira for the doc change required we picked up last night re the node standalone sample app. Changed .md file has been uploaded to gerrit for review. Not sure if this was correct but I also assigned the issue to myself in Jira and then set the workflow to Done - hope that is correct \/ acceptable...","ts":"1475320073.001284"},{"type":"message","user":"U2CC1NDT2","text":"<@U0ZJZBJLF> - thanks for the git-review tip - worked like a charm...","ts":"1475320099.001285"},{"type":"message","user":"U0ZJZBJLF","text":"Sure ","ts":"1475322677.001286"},{"type":"message","user":"U0ZJZBJLF","text":"hey ghaskins , I got another +2, can you +2 yourself and merge it please?\n<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1379\/>","edited":{"user":"U0ZJZBJLF","ts":"1475416710.000000"},"ts":"1475414750.001287"},{"type":"message","user":"U11MANG9G","text":"Done","ts":"1475415562.001290"},{"type":"message","user":"U0ZJZBJLF","text":"thanks!","ts":"1475416032.001291"},{"type":"message","subtype":"file_share","text":"<@U2CSLPV1Q|hhadass> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/hhadass\/F2JCW7DP0\/pasted_image_at_2016_10_02_03_14_pm.png|Pasted image at 2016-10-02, 3:14 PM> and commented: Hi all, i've followed the steps of setting up the chaincode in the docs, using option 2 (docker). I'm now following the Network setup guide here <http:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/Setup\/Network-setup\/#starting-up-validating-peers> . When i do `make peer-image` i get the following error: Any tips?","file":{"id":"F2JCW7DP0","created":1475417660,"timestamp":1475417660,"name":"Pasted image at 2016_10_02 03_14 PM.png","title":"Pasted image at 2016-10-02, 3:14 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U2CSLPV1Q","editable":false,"size":22794,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2JCW7DP0\/pasted_image_at_2016_10_02_03_14_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2JCW7DP0\/download\/pasted_image_at_2016_10_02_03_14_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2JCW7DP0-c48c6e724c\/pasted_image_at_2016_10_02_03_14_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2JCW7DP0-c48c6e724c\/pasted_image_at_2016_10_02_03_14_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2JCW7DP0-c48c6e724c\/pasted_image_at_2016_10_02_03_14_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":39,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2JCW7DP0-c48c6e724c\/pasted_image_at_2016_10_02_03_14_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":52,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2JCW7DP0-c48c6e724c\/pasted_image_at_2016_10_02_03_14_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2JCW7DP0-c48c6e724c\/pasted_image_at_2016_10_02_03_14_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":79,"image_exif_rotation":1,"original_w":788,"original_h":86,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/hhadass\/F2JCW7DP0\/pasted_image_at_2016_10_02_03_14_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2JCW7DP0-2d8e5d4718","channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc2JCVTMHN","created":1475417660,"timestamp":1475417660,"user":"U2CSLPV1Q","is_intro":true,"comment":"Hi all, i've followed the steps of setting up the chaincode in the docs, using option 2 (docker). I'm now following the Network setup guide here <http:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/Setup\/Network-setup\/#starting-up-validating-peers> . When i do `make peer-image` i get the following error: Any tips?","channel":""}},"user":"U2CSLPV1Q","upload":true,"display_as_bot":false,"username":"<@U2CSLPV1Q|hhadass>","bot_id":null,"ts":"1475417662.001293"},{"user":"U2J75ESJ0","text":"<@U2J75ESJ0|richardchu> has joined the channel","type":"message","subtype":"channel_join","ts":"1475420046.001294"},{"type":"message","user":"U0ZJZBJLF","text":"so it's time to upgrade to 1.7?","ts":"1475432485.001295"},{"user":"U0TH5GUQ6","text":"<@U0TH5GUQ6|brianbehlendorf> has joined the channel","type":"message","subtype":"channel_join","ts":"1475488487.001296"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> I started to prepare the next update to baseimage which includes 1.7, but its not released yet","ts":"1475499238.001297"},{"type":"message","user":"U0ZJZBJLF","text":"huh? I saw something was merged","ts":"1475499257.001298"},{"type":"message","user":"U0KPFAZNF","text":"yes, a patch was merged to fabric-baseimage.git, but this is not the same as cutting a release","ts":"1475499285.001299"},{"type":"message","user":"U0KPFAZNF","text":"two extra steps have to happen\u2026.a new image is pushed to dockerhub\/atlas, and fabric.git is updated to point to it","ts":"1475499311.001300"},{"type":"message","user":"U0KPFAZNF","text":"I\u2019m still working on some kinks in a patch that updates from 14.04 to 16.04","ts":"1475499339.001301"},{"type":"message","user":"U0KPFAZNF","text":"once that is done, ill likely propose a new release","ts":"1475499348.001302"},{"type":"message","user":"U0ZJZBJLF","text":"got it.","ts":"1475499365.001303"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> i couldn\u2019t gauge your comment: are you for or against upgrading to 1.7?","ts":"1475499492.001304"},{"type":"message","user":"U0ZJZBJLF","text":"indifferent... why would I be pro or against?","ts":"1475499522.001305"},{"type":"message","user":"U0ZJZBJLF","text":"I mean, I assume they fixed some bugs from 1.6 which is always good","ts":"1475499540.001306"},{"type":"message","user":"U0KPFAZNF","text":"when you said \"so it's time to upgrade to 1.7?\u201d I couldn\u2019t tell if you were questioning the wisdom there","ts":"1475499562.001307"},{"type":"message","user":"U0ZJZBJLF","text":"I just asked to know if I should also install 1.7 on my VM.","ts":"1475499566.001308"},{"type":"message","user":"U0ZJZBJLF","text":"I'm not using the image","ts":"1475499575.001309"},{"type":"message","user":"U0KPFAZNF","text":"oh i see, not yet","ts":"1475499576.001310"},{"type":"message","user":"U0ZJZBJLF","text":"I simply install everything manually and if something screams at me I fix it :slightly_smiling_face:","ts":"1475499590.001311"},{"type":"message","user":"U0KPFAZNF","text":"got it\u2026just wanted to make sure you werent objecting","ts":"1475499598.001312"},{"type":"message","user":"U0KPFAZNF","text":"to be honest, I see absolutely no difference","ts":"1475499622.001313"},{"type":"message","user":"U0KPFAZNF","text":"(which is probably more of a good thing than a bad thing)","ts":"1475499632.001314"},{"type":"message","user":"U0ZJZBJLF","text":"a colleague of mine mentioned some misbehavior in the `net` regarding DNS resolution in 1.6 that they fixed in 1.7, but I've no idea and didn't take a look what has changed","ts":"1475499689.001315"},{"type":"message","user":"U0KPFAZNF","text":"everything seems to work exactly like it does in 1.6, except the version number is different","ts":"1475499700.001316"},{"type":"message","user":"U0KPFAZNF","text":"ah, cool\u2026i didnt look that deep","ts":"1475499716.001317"},{"type":"message","user":"U0KPFAZNF","text":"only made sure build\/unit-test\/behave worked","ts":"1475499730.001318"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> anyway, to answer your question: monitor this file","ts":"1475499862.001319"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/.baseimage-release>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/.baseimage-release","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/.baseimage-release","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1475499863.001320"},{"type":"message","user":"U0KPFAZNF","text":"that will tell you when it changes","ts":"1475499876.001322"},{"type":"message","user":"U0ZJZBJLF","text":"that was the one i incremented to 1.1 and then it was reverted to 1.0?","ts":"1475499925.001323"},{"type":"message","user":"U0ZJZBJLF","text":"0.1.1","ts":"1475499938.001324"},{"type":"message","user":"U0ZJZBJLF","text":"oh no","ts":"1475499945.001325"},{"type":"message","user":"U0ZJZBJLF","text":"that was in a different path","ts":"1475499951.001326"},{"type":"message","user":"U0KPFAZNF","text":"no, the history has been 0.0.9-&gt;0.0.10-&gt;0.0.11-&gt;0.1.0","ts":"1475500010.001327"},{"type":"message","user":"U0KPFAZNF","text":"but I do have a 0.1.1-snapshot in the baseimage.git tree, perhaps that is what you saw","ts":"1475500033.001328"},{"type":"message","user":"U0KPFAZNF","text":"but like I said, that isnt released yet","ts":"1475500039.001329"},{"type":"message","user":"U0KPFAZNF","text":"(the only real difference between 0.0.11 and 0.1.0 is the method in which it was built","ts":"1475500099.001330"},{"type":"message","user":"U0KPFAZNF","text":"0.0.x was built manually by me on a local machine and pushed out, whereas 0.1.0 was built by jenkins","ts":"1475500127.001331"},{"type":"message","user":"U0KPFAZNF","text":"from there, changes to the baseimage go through gerrit\/jenkins, as we saw the recent patches for things like 1.7","ts":"1475500185.001332"},{"type":"message","user":"U0ZJZBJLF","text":"what does that mean if someone gives me +1 on gerrit and not +2?","edited":{"user":"U0ZJZBJLF","ts":"1475500481.000000"},"ts":"1475500295.001333"},{"type":"message","user":"U0KPFAZNF","text":"+1 means \u201cLGTM, but someone else needs to approve\"","ts":"1475501784.001336"},{"type":"message","user":"U0KPFAZNF","text":"note that non-maintainers can only give -1\/0\/+1","ts":"1475501802.001337"},{"type":"message","user":"U0KPFAZNF","text":"maintainers can chose -2-+2","ts":"1475501813.001338"},{"type":"message","user":"U0KPFAZNF","text":"so if it was a maintainer +1, they probably felt as though an SME should chime in","ts":"1475501834.001339"},{"type":"message","user":"U0KPFAZNF","text":"(related: -1 means \u201cthis cant go in until some changes are made, and -2 means \u201cthis shouldn\u2019t go in at all\"","ts":"1475501946.001340"},{"type":"message","user":"U0ZJZBJLF","text":"SME?","ts":"1475502725.001341"},{"type":"message","user":"U0YJUECE8","text":"<@U0ZJZBJLF>   SME == Subject Matter Expert","ts":"1475503876.001343","reactions":[{"name":"+1","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U13TWBRBL","text":"<@U0KPFAZNF> sorry if this question has been asked before, I saw \u201chyperledger\/fabric-baseimage-sandbox\u201d is now published to docker hub, it\u2019s a great enhancement! solves a long-time gnarly error when trying to use docker to set up a network outside of vagrant, where the \u201cnetwork\u201d mode doesn\u2019t work when you try to deploy chaincode, because the hyperledger\/fabric-baseimage is missing a bunch of content.","ts":"1475523780.001345"},{"type":"message","user":"U0KPFAZNF","text":"oh, actually thats not what that is for, heh","ts":"1475523809.001346"},{"type":"message","user":"U13TWBRBL","text":"I just tested pulling the baseimage-sandbox and tag it as baseimage:latest, now everything works like a charm!","ts":"1475523821.001347"},{"type":"message","user":"U0KPFAZNF","text":"that image was created so we could debug our baseimage CI pipeline, it really should go away","ts":"1475523831.001348"},{"type":"message","user":"U0KPFAZNF","text":"but its interesting you were using it like that","ts":"1475523843.001349"},{"type":"message","user":"U13TWBRBL","text":"yeah that\u2019s why i\u2019m asking","ts":"1475523844.001350"},{"type":"message","user":"U13TWBRBL","text":"can i count on it being there?","ts":"1475523851.001351"},{"type":"message","user":"U13TWBRBL","text":"sounds like answer is no :wink:","ts":"1475523859.001352"},{"type":"message","user":"U0KPFAZNF","text":"no, i really should delete it","ts":"1475523859.001353"},{"type":"message","user":"U0KPFAZNF","text":"but lets talk about the real problem","ts":"1475523865.001354"},{"type":"message","user":"U0KPFAZNF","text":"the whole \u201cbaseimage:latest\u201d thing has been a source of great confusion, and its in the process of being addressed","ts":"1475523900.001355"},{"type":"message","user":"U13TWBRBL","text":"so going back to my original requirement: we need to have a way for app developers to set up a local network with docker only (without vagrant)","ts":"1475523915.001356"},{"type":"message","user":"U0KPFAZNF","text":"yep","ts":"1475523924.001357"},{"type":"message","user":"U0KPFAZNF","text":"understood (I actually want the same!)","ts":"1475523932.001358","reactions":[{"name":"+1","users":["U13TWBRBL"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"the short answer is: its not ready for that use case quite yet","ts":"1475523947.001359"},{"type":"message","user":"U0KPFAZNF","text":"the long answer is: being actively worked on","ts":"1475523954.001360"},{"type":"message","user":"U13TWBRBL","text":"ok great","ts":"1475523959.001361"},{"type":"message","user":"U0KPFAZNF","text":"i hope to have it all squared away in the next few weeks","ts":"1475523973.001362"},{"type":"message","user":"U13TWBRBL","text":"is the plan to have fabric-baseimage itself be fully built?","ts":"1475523980.001363"},{"type":"message","user":"U13TWBRBL","text":"(read through your google doc proposal, thought that was the plan\u2026)","ts":"1475523998.001364"},{"type":"message","user":"U13TWBRBL","text":"(just confirming\u2026)","ts":"1475524004.001365"},{"type":"message","user":"U0KPFAZNF","text":"well, the plan is that \u201cbaseimage\u201d will become what it was always intended: a build-time optimization and not a runtime resource","ts":"1475524018.001366"},{"type":"message","user":"U0KPFAZNF","text":"right now, its kind of both","ts":"1475524024.001367"},{"type":"message","user":"U0KPFAZNF","text":"which, as you have discovered, is a problem","ts":"1475524036.001368"},{"type":"message","user":"U0KPFAZNF","text":"going forward, no runtime references to \u201cbaseimage\u201d anything will be made","ts":"1475524056.001369"},{"type":"message","user":"U13TWBRBL","text":"ok, so then for the runtime resource, where peer needs a base image to spin up instances for running chaincode, it\u2019ll ask for a different image?","ts":"1475524090.001370"},{"type":"message","user":"U0KPFAZNF","text":"historically, the primary issue is that chaincode deployment depended on baseimage:latest being present","ts":"1475524092.001371"},{"type":"message","user":"U13TWBRBL","text":"yep","ts":"1475524098.001372"},{"type":"message","user":"U0KPFAZNF","text":"yes, exactly","ts":"1475524101.001373"},{"type":"message","user":"U13TWBRBL","text":"ok","ts":"1475524109.001374"},{"type":"message","user":"U0KPFAZNF","text":"so hyperledger\/fabric-ccenv will primarily fill this role","ts":"1475524114.001375"},{"type":"message","user":"U13TWBRBL","text":"ah","ts":"1475524120.001376"},{"type":"message","user":"U0KPFAZNF","text":"but we arent publishing it yet, so it acts kind of like baseimage:latest does","ts":"1475524131.001377"},{"type":"message","user":"U0KPFAZNF","text":"that is, it only works if you build fabric locally","ts":"1475524138.001378"},{"type":"message","user":"U0KPFAZNF","text":"we will be fixing this","ts":"1475524143.001379"},{"type":"message","user":"U13TWBRBL","text":"i see","ts":"1475524147.001380"},{"type":"message","user":"U0KPFAZNF","text":"theres a new templating engine that is in master","ts":"1475524182.001381"},{"type":"message","user":"U0KPFAZNF","text":"you can get a sense of the direction if you study this:","ts":"1475524190.001382"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/peer\/core.yaml#L285>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/peer\/core.yaml#L285","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/peer\/core.yaml#L285","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1475524191.001383"},{"type":"message","user":"U13TWBRBL","text":"do you have the FAB # for track this handy?","ts":"1475524209.001385"},{"type":"message","user":"U0KPFAZNF","text":"that allows us to, for example, pin the ccenv to the same release as the peer","ts":"1475524211.001386"},{"type":"message","user":"U13TWBRBL","text":"ok will take a look","ts":"1475524216.001387"},{"type":"message","user":"U0KPFAZNF","text":"its actually pretty close to ready at this point, we just arent pushing the images out yet","ts":"1475524235.001388"},{"type":"message","user":"U0KPFAZNF","text":"I cant recall if there is a FAB, there might be","ts":"1475524245.001389"},{"type":"message","user":"U13TWBRBL","text":"got it","ts":"1475524246.001390"},{"type":"message","user":"U0KPFAZNF","text":"(sorry, too many balls in the air right now)","ts":"1475524252.001391"},{"type":"message","user":"U0KPFAZNF","text":"couple of caveats: this only applies to master","ts":"1475524269.001392"},{"type":"message","user":"U13TWBRBL","text":"don\u2019t worry about it then, i assume you\u2019ll send out a notification once it starts publishing...","ts":"1475524275.001393"},{"type":"message","user":"U0KPFAZNF","text":"v0.6 still works with the old system","ts":"1475524277.001394"},{"type":"message","user":"U13TWBRBL","text":"that\u2019s ok","ts":"1475524291.001395"},{"type":"message","user":"U0KPFAZNF","text":"(and actually, features\/* like features\/convergence are lagging merges","ts":"1475524298.001396"},{"type":"message","user":"U0KPFAZNF","text":"yeah, ill send out an email\/slack when its ready","ts":"1475524313.001397"},{"type":"message","user":"U0KPFAZNF","text":"long story short, right now things only work if you build locally first (unless you hand massage the system)","ts":"1475524336.001398"},{"type":"message","user":"U0KPFAZNF","text":"but soon, it will work in a pure docker flow","ts":"1475524344.001399"},{"type":"message","user":"U13TWBRBL","text":"perfect","ts":"1475524355.001400"},{"type":"message","user":"U0KPFAZNF","text":"e.g. \u201cdocker run hyperledger\/fabric-peer\u201d should do everything it needs","ts":"1475524363.001401"},{"type":"message","user":"U13TWBRBL","text":"btw i also got it working by \u201cmake docker-local\u201d from your repo for hyperledger-fabric-baseimage :wink:","ts":"1475524397.001402"},{"type":"message","user":"U0KPFAZNF","text":"most of the major pieces are in place already\u2026biggest challenge is how to sort out the SDK side","ts":"1475524404.001403"},{"type":"message","user":"U0KPFAZNF","text":"yes, though I think all you should really need is \u201cmake images\u201d from fabric.git","ts":"1475524434.001404"},{"type":"message","user":"U13TWBRBL","text":"but i need vagrant for that right?","ts":"1475524453.001405"},{"type":"message","user":"U0KPFAZNF","text":"baseimage building should only be necessary if you are changing the baseimage, or are wanting to support non-x86","ts":"1475524455.001406"},{"type":"message","user":"U0KPFAZNF","text":"you dont need vagrant per se, just an environment capable of supporting the fabric build","ts":"1475524491.001407"},{"type":"message","user":"U13TWBRBL","text":"if i can run \u201cmake images\u201d from fabric without vagrant then i\u2019d definitely do that","ts":"1475524511.001408"},{"type":"message","user":"U0KPFAZNF","text":"remember, fabric.git::master doesnt use baseimage at runtime","ts":"1475524513.001409"},{"type":"message","user":"U13TWBRBL","text":"ok","ts":"1475524520.001410"},{"type":"message","user":"U0KPFAZNF","text":"but you do need to make sure you have fabric-ccenv","ts":"1475524527.001411"},{"type":"message","user":"U0KPFAZNF","text":"which, building \u201cmake images\u201d will get you that","ts":"1475524535.001412"},{"type":"message","user":"U13TWBRBL","text":"cool","ts":"1475524564.001413"},{"type":"message","user":"U0KPFAZNF","text":"plus building the baseimage is sloooooowww","ts":"1475524575.001414"},{"type":"message","user":"U0KPFAZNF","text":":wink:","ts":"1475524576.001415"},{"type":"message","user":"U0KPFAZNF","text":"so youll be happy to avoid that","ts":"1475524580.001416"},{"type":"message","user":"U13TWBRBL","text":"(yes very slow)","ts":"1475524598.001417"},{"type":"message","user":"U13TWBRBL","text":"thanks for all this, very nice work!","ts":"1475524601.001418"},{"type":"message","user":"U0KPFAZNF","text":"ty, ill hopefully have something that satisfies your usecase soon","ts":"1475524626.001419","reactions":[{"name":"+1","users":["U13TWBRBL"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"<@U13TWBRBL> btw: vagrant is much lighter weight to stand up now","ts":"1475524882.001420"},{"type":"message","user":"U0KPFAZNF","text":"not sure why you are avoiding it, but if it was because the provisioning was slow, that is fixed in master","ts":"1475524898.001421"},{"type":"message","user":"U0KPFAZNF","text":"it takes about 60-90 seconds to stand up","ts":"1475524906.001422"},{"type":"message","user":"U0ZJZBJLF","text":"what?! you serious?","ts":"1475524917.001423"},{"type":"message","user":"U0KPFAZNF","text":"yeah","ts":"1475524921.001424"},{"type":"message","user":"U0KPFAZNF","text":"try it :slightly_smiling_face:","ts":"1475524925.001425"},{"type":"message","user":"U0ZJZBJLF","text":"what did you do?","ts":"1475524929.001426"},{"type":"message","user":"U0KPFAZNF","text":"bunch of stuff, the biggest was that I moved almost everything into the baseimage","ts":"1475524944.001427"},{"type":"message","user":"U0ZJZBJLF","text":"you wanna tell me i do git clone and then vagrant up and it takes 90 sec? not a chance","ts":"1475524953.001428"},{"type":"message","user":"U0KPFAZNF","text":"so its all installed already before you even type \u201cvagrant up\"","ts":"1475524959.001429"},{"type":"message","user":"U0ZJZBJLF","text":"sounds sci-fi","ts":"1475524972.001430"},{"type":"message","user":"U0KPFAZNF","text":"it does for me, and I am on a 2011 laptop","ts":"1475524977.001431"},{"type":"message","user":"U0ZJZBJLF","text":"I'm on a 2017","ts":"1475524987.001432"},{"type":"message","user":"U0KPFAZNF","text":"nice!","ts":"1475524991.001433"},{"type":"message","user":"U0ZJZBJLF","text":"I'll try and check","ts":"1475524993.001434"},{"type":"message","user":"U0KPFAZNF","text":"one caveat, the baseimage.box has to be downloaded the first time","ts":"1475525014.001435"},{"type":"message","user":"U0KPFAZNF","text":"so first boot will be slightly slower","ts":"1475525024.001436"},{"type":"message","user":"U0KPFAZNF","text":"depending on your internet speed","ts":"1475525031.001437"},{"type":"message","user":"U0KPFAZNF","text":"so 60-90 is assuming you have the image already","ts":"1475525044.001438"},{"type":"message","user":"U0KPFAZNF","text":"but it gets cached, so its pretty good for subsequent builds","ts":"1475525090.001439"},{"type":"message","user":"U0KPFAZNF","text":"just ran one","ts":"1475525279.001440"},{"type":"message","user":"U0KPFAZNF","text":"real\t1m37.301s\nuser\t0m5.094s\nsys\t0m2.481s","ts":"1475525281.001441"},{"type":"message","user":"U13TWBRBL","text":"<@U0KPFAZNF> good to know about the vagrant speed up, I\u2019m sure it\u2019ll help many peer contributors. from my standpoint, I have two hats: 1) node.js SDK contributor, 2) advocate for good experience for application (including chaincode and app dev) developers. for both of my roles, I\u2019d like to avoid vagrant since a docker-based set up is more standard in the node.js world","ts":"1475525925.001442"},{"type":"message","user":"U0KPFAZNF","text":"yeah, though I am not convinced a docker based flow is good for peer\/ca development","ts":"1475526216.001443"},{"type":"message","user":"U0KPFAZNF","text":"it goes against the grain on docker to use it that way","ts":"1475526228.001444"},{"type":"message","user":"U0KPFAZNF","text":"i think it makes a ton of sense for _runtime_ though","ts":"1475526235.001445"},{"type":"message","user":"U0KPFAZNF","text":"e.g. I just want to \u201cdocker run \u2026-peer\u201d to stand it up","ts":"1475526245.001446"},{"type":"message","user":"U0KPFAZNF","text":"as far as having all the tooling you need to compile it, etc, not sure it makes as much sense, and vagrant is a good fit there","ts":"1475526276.001447"},{"type":"message","user":"U0KPFAZNF","text":"so, i see both as continuing to have a role going forward","ts":"1475526316.001448"},{"type":"message","user":"U13TWBRBL","text":"yes, we are agreeing. i was also saying vagrant is good for peer\/ca contributors.","ts":"1475526351.001449"},{"type":"message","user":"U0KPFAZNF","text":"right ok","ts":"1475526358.001450"},{"type":"message","user":"U13TWBRBL","text":"node.js SDK is now a standalone project, separated from fabric","ts":"1475526389.001451"},{"type":"message","user":"U0KPFAZNF","text":"is that completed now?","ts":"1475526402.001452"},{"type":"message","user":"U0KPFAZNF","text":"i saw it was being broken out","ts":"1475526406.001453"},{"type":"message","user":"U0KPFAZNF","text":"im glad to see the separation, btw","ts":"1475526425.001454","reactions":[{"name":"simple_smile","users":["U13TWBRBL"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"i think we need to break out the shims too","ts":"1475526431.001455"},{"type":"message","user":"U13TWBRBL","text":"not yet complete in that we don\u2019t have it integrated in the CI process yet","ts":"1475526446.001456"},{"type":"message","user":"U0KPFAZNF","text":"right ok","ts":"1475526452.001457"},{"type":"message","user":"U13TWBRBL","text":"agreed re: breaking out shims. do you know who\u2019s working on that?","ts":"1475526489.001458"},{"type":"message","user":"U0KPFAZNF","text":"I dont even know _if_ someone is working on that","ts":"1475526503.001459"},{"type":"message","user":"U0KPFAZNF","text":"i just think it needs to be done","ts":"1475526508.001460"},{"type":"message","user":"U13TWBRBL","text":"oh ok","ts":"1475526511.001461"},{"type":"message","user":"U0KPFAZNF","text":"btw: I removed the -sandbox image :wink:","ts":"1475526541.001462"},{"type":"message","user":"U0KPFAZNF","text":"sorry if that was helpful, but it was never intended in that role","ts":"1475526549.001463"},{"type":"message","user":"U13TWBRBL","text":"ok","ts":"1475526550.001464"},{"type":"message","user":"U13TWBRBL","text":"no worries. glad I checked with you","ts":"1475526565.001465"},{"type":"message","user":"U13TWBRBL","text":"quick question:","ts":"1475526570.001466"},{"type":"message","user":"U13TWBRBL","text":"jimzhang:fabric jimzhang$ make images\nBuilding docker src-image\ndocker build -t hyperledger\/fabric-src build\/image\/src\nSending build context to Docker daemon 11.55 MB\nStep 1 : FROM hyperledger\/fabric-baseimage:x86_64-0.1.0\nx86_64-0.1.0: Pulling from hyperledger\/fabric-baseimage\n862a3e9af0ae: Already exists \n6498e51874bf: Already exists \n159ebdd1959b: Already exists \n0fdbedd3771a: Already exists \n7a1f7116d1e3: Already exists \n0620a24d487d: Pull complete \nb46385a2c430: Pull complete \nDigest: sha256:ac6a2784cfd028ae62f5688f4436f95d7a60eeacd8506eb303c9c6335328c388\nStatus: Downloaded newer image for hyperledger\/fabric-baseimage:x86_64-0.1.0\n ---&gt; db53d04b117c\nStep 2 : ADD gopath.tar.bz2 $GOPATH\/src\/github.com\/hyperledger\/fabric\nError processing tar file(bzip2 data invalid: bad magic value in continuation file): \nmake: *** [build\/image\/src\/.dummy] Error 1","ts":"1475526572.001467"},{"type":"message","user":"U13TWBRBL","text":"building this in my mac environment, any idea what might have caused the error?","ts":"1475526599.001468"},{"type":"message","user":"U13TWBRBL","text":"guess i need to install a bzip2 handler?","ts":"1475526665.001469"},{"type":"message","user":"U0KPFAZNF","text":"no idea, sorry","ts":"1475526697.001470"},{"type":"message","user":"U0KPFAZNF","text":"never seen that before","ts":"1475526701.001471"},{"type":"message","user":"U0KPFAZNF","text":"very odd though, i would expect bzip2 schema to be fairly ubiquitous at this point","ts":"1475526748.001472"},{"type":"message","user":"U0KPFAZNF","text":"have to step out for a bit","ts":"1475526756.001473"},{"type":"message","user":"U0KPFAZNF","text":"bbiab","ts":"1475526757.001474"},{"type":"message","user":"U0ZJZBJLF","text":"wow, it took me a few seconds","ts":"1475527204.001475"},{"type":"message","user":"U13TWBRBL","text":"<@U0ZJZBJLF> so if I \u201cvagrant destroy\u201d and then \u201cvagrant up\u201d, it'll only take a few seconds?","ts":"1475528001.001476"},{"type":"message","user":"U0ZJZBJLF","text":"Dunno, depends on your computer","ts":"1475528043.001477"},{"type":"message","user":"U13TWBRBL","text":"guess i\u2019ll try that to find out","ts":"1475528066.001478"},{"type":"message","user":"U13TWBRBL","text":"<@U0KPFAZNF> do you know what it takes to get the fabric-starter-kit image published to docker hub? is it a new jenkins job? is the account credentials part of the jenkins env variable? just wondering if I could ask one of my colleagues (like Ramesh) to help us with this...","ts":"1475528180.001479"},{"type":"message","user":"U0KPFAZNF","text":"It takes 1m37s on my 2011 MacBook Pro ","ts":"1475530066.001480"},{"type":"message","user":"U0KPFAZNF","text":"Ramesh needs to add it to ci-management.git and I need to create the repo for it on dockerhub","ts":"1475530132.001481"},{"type":"message","user":"U0KPFAZNF","text":"I'll do that shortly","ts":"1475530138.001482"},{"type":"message","user":"U0KPFAZNF","text":"We don't need a new job, just augment to one that pushed peer\/ca","ts":"1475530163.001483"},{"type":"message","user":"U0KPFAZNF","text":"Sorry for typos, on mobile","ts":"1475530189.001484"},{"type":"message","user":"U0KPFAZNF","text":"<@U13TWBRBL> I created this: <https:\/\/hub.docker.com\/r\/hyperledger\/fabric-starter-kit\/>","ts":"1475530611.001485"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> will need to augment the list here: <https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=ci-management.git;a=blob;f=jjb\/fabric\/include-raw-docker-image-deploy.sh;h=35ad0a282a4dc27a207591bd1013bf02eb647426;hb=HEAD>","ts":"1475530695.001486"},{"type":"message","user":"U0KPFAZNF","text":"probably should drop the :latest tag, too","ts":"1475530738.001487"},{"type":"message","user":"U0KPFAZNF","text":"actually this whole thing might need review:  not sure the $BRANCH is relevant any more either","ts":"1475530797.001488"},{"type":"message","user":"U11HH3P7Y","text":"<@U13TWBRBL>: we need a new job to test changes on fabric-starter-kit","ts":"1475532046.001489"},{"type":"message","user":"U11HH3P7Y","text":"Please let me know what tests you want to keep in new Jenkins job","ts":"1475532223.001490"},{"type":"message","user":"U13TWBRBL","text":"<@U0KPFAZNF>: thanks!","ts":"1475534420.001491"},{"type":"message","user":"U13TWBRBL","text":"<@U11HH3P7Y>: I guess for tests just a simple validation of a bash command to launch the sample app (which executes a main() and exits) should be sufficient","ts":"1475534532.001492"},{"type":"message","user":"U13TWBRBL","text":"Trick is it needs the peer and membersrvc images to be running to execute. <@U1KFBBWG1> should have more details","ts":"1475534619.001493"},{"user":"U1KFBBWG1","inviter":"U13TWBRBL","text":"<@U1KFBBWG1|harrisob> has joined the channel","type":"message","subtype":"channel_join","ts":"1475534639.001494"},{"type":"message","user":"U11HH3P7Y","text":"ok will check with him","ts":"1475535156.001495"},{"type":"message","user":"U11HH3P7Y","text":"thanks","ts":"1475535160.001496"},{"user":"U2A5NPBQ9","text":"<@U2A5NPBQ9|kent_landholm> has joined the channel","type":"message","subtype":"channel_join","ts":"1475562711.001497"},{"user":"U0XR6J961","text":"<@U0XR6J961|simon> has left the channel","type":"message","subtype":"channel_leave","ts":"1475579410.001498"},{"user":"U2KBRUPL2","text":"<@U2KBRUPL2|rik> has joined the channel","type":"message","subtype":"channel_join","ts":"1475684356.001499"},{"type":"message","user":"U138W4A1F","text":"Hi, guys, Morning!","ts":"1475726269.001500"},{"type":"message","user":"U138W4A1F","text":"I think fabric v1\u2019s write-set have some problem. In the document, is said write-set will like this: \n```\n&lt;TxReadWriteSet&gt;\n  &lt;NsReadWriteSet name=\"chaincode1\"&gt;\n    &lt;read-set&gt;\n      &lt;read key=\"K1\", version=\"1\"&gt;\n      &lt;read key=\"K2\", version=\"1\"&gt;\n    &lt;\/read-set&gt;\n    &lt;write-set&gt;\n      &lt;write key=\"K1\", value=\"V1\u201d&gt;\n      &lt;write key=\"K3\", value=\"V2\u201d&gt;\n      &lt;write key=\"K4\", isDelete=\"true\u201d&gt;\n    &lt;\/write-set&gt;\n  &lt;\/NsReadWriteSet&gt;\n&lt;TxReadWriteSet&gt;\n``` \n\nBut , this will cause can just update once for a specific key in one batch transactions, \nin one batch txs just can write once for a key, that means in a one \n\nchaincode1's instance 1:\n```\n&lt;TxReadWriteSet&gt;\n  &lt;NsReadWriteSet name=\"chaincode1\"&gt;\n    &lt;write-set&gt;\n      &lt;write key=\"K1\", value=\u201c150\u201d&gt;\n    &lt;\/write-set&gt;\n  &lt;\/NsReadWriteSet&gt;\n&lt;TxReadWriteSet&gt;\n```\n\nchaincode1's instance 2:\n```\n&lt;TxReadWriteSet&gt;\n  &lt;NsReadWriteSet name=\"chaincode1\"&gt;\n    &lt;write-set&gt;\n      &lt;write key=\"K1\", value=\u201c200\u201d&gt;\n    &lt;\/write-set&gt;\n  &lt;\/NsReadWriteSet&gt;\n&lt;TxReadWriteSet&gt;\n```\n\nThe same chaincode's two instance can not execute in one batch, but if it change \nlike next:\n\n```\n&lt;TxReadWriteSet&gt;\n  &lt;NsReadWriteSet name=\"chaincode1\"&gt;\n    &lt;write-set&gt;\n      &lt;write key=\"K1\", version=\u201c1\u201d, action=\u201c+100\u201d&gt;\n    &lt;\/write-set&gt;\n  &lt;\/NsReadWriteSet&gt;\n&lt;TxReadWriteSet&gt;\n```\n\nand next:\n```\n&lt;TxReadWriteSet&gt;\n  &lt;NsReadWriteSet name=\"chaincode1\"&gt;\n    &lt;write-set&gt;\n      &lt;write key=\"K1\", version=\u201c1\u201d, action=\u201c-10\u201d&gt;\n    &lt;\/write-set&gt;\n  &lt;\/NsReadWriteSet&gt;\n&lt;TxReadWriteSet&gt;\n```\n\nit will be ok.","ts":"1475727557.001501"},{"type":"message","user":"U138W4A1F","text":"and it will more security because add version field","ts":"1475727655.001502"},{"user":"U0XV1HDL3","text":"<@U0XV1HDL3|cca> has joined the channel","type":"message","subtype":"channel_join","ts":"1475738654.001503"},{"user":"U2B4QU7U3","text":"<@U2B4QU7U3|karnn> has joined the channel","type":"message","subtype":"channel_join","ts":"1475873410.001506"},{"user":"U23S3DPFY","text":"<@U23S3DPFY|ccooper21> has joined the channel","type":"message","subtype":"channel_join","ts":"1475945853.001507"},{"type":"message","user":"U1F3CQ2HX","text":"Hi, Quick question : what is the block memory size in hyperledger fabric (by default)?","ts":"1476115029.001508"},{"type":"message","user":"U2A5NPBQ9","text":"Is there a fabric starter docker image\/instructions for windows?","ts":"1476288381.001509"},{"user":"U2NDE1ZCK","text":"<@U2NDE1ZCK|jdockter> has joined the channel","type":"message","subtype":"channel_join","ts":"1476291145.001510"},{"type":"message","user":"U0KM61BCP","text":"<@U2A5NPBQ9> same process applies to Mac or Windows - there is native Docker for both","ts":"1476294739.001511"},{"type":"message","user":"U0KM61BCP","text":"<@U0P2GSA8Z> has verified that the process works on Windows","ts":"1476294758.001512"},{"type":"message","user":"U0P2GSA8Z","text":"yes","ts":"1476294787.001513"},{"type":"message","user":"U0P2GSA8Z","text":"although depending on the version of windows you have you either run Docker or Docker Toolbox (which isn't really native but close enough)","ts":"1476294886.001514"},{"type":"message","user":"U2A5NPBQ9","text":"Ok. Thanks. I'm down the Docker Toolbox path already. I'm curious how it everything will run on Windows 7 with 6GB of RAM.","ts":"1476295584.001515"},{"type":"message","user":"U10Q62R8X","text":"curious bug <@U1B5DPRLG> helped me debug..","ts":"1476310938.001516"},{"type":"message","user":"U10Q62R8X","text":"apparently my docker compose was too new!","ts":"1476310955.001517"},{"type":"message","subtype":"file_share","text":"<@U10Q62R8X|vpaprots> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F2NLU86E6\/-.sh|Untitled>","file":{"id":"F2NLU86E6","created":1476311041,"timestamp":1476311041,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U10Q62R8X","editable":true,"size":385,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2NLU86E6\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2NLU86E6\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F2NLU86E6\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2NLU86E6-6f243f6fe3","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F2NLU86E6\/-.sh\/edit","preview":"[root@blockchain2 ~]# docker-compose --version\r\ndocker-compose version 1.7.1, build 6c29830\r\n[root@blockchain2 ~]# pip uninstall docker-compose\r\nUninstalling docker-compose-1.7.1:\r\n...\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>[root@blockchain2 ~]<span class=\"cm-comment\"># docker-compose --version<\/span><\/pre><\/div>\n<div><pre>docker-compose version <span class=\"cm-number\">1<\/span>.7.1, build 6c29830<\/pre><\/div>\n<div><pre>[root@blockchain2 ~]<span class=\"cm-comment\"># pip uninstall docker-compose<\/span><\/pre><\/div>\n<div><pre>Uninstalling docker-compose-1.7.1:<\/pre><\/div>\n<div><pre>...<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":11,"lines_more":6,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U10Q62R8X","upload":true,"display_as_bot":false,"username":"<@U10Q62R8X|vpaprots>","bot_id":null,"ts":"1476311041.001518"},{"type":"message","user":"U10Q62R8X","text":"and that got things running..","ts":"1476311051.001519"},{"type":"message","user":"U10Q62R8X","text":"symptom: behave test failing with container name mismatches:","ts":"1476311084.001520"},{"type":"message","subtype":"file_share","text":"<@U10Q62R8X|vpaprots> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F2NLNMJEB\/-.sh|Untitled>","file":{"id":"F2NLNMJEB","created":1476311154,"timestamp":1476311154,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U10Q62R8X","editable":true,"size":917,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2NLNMJEB\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2NLNMJEB\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F2NLNMJEB\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2NLNMJEB-56047a55e3","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F2NLNMJEB\/-.sh\/edit","preview":"      Captured stdout:\r\n      00:18:46 - Containers started: \r\n      00:18:46 - ['bdddocker_membersrvc0_1', 'bdddocker_vp0_1', 'bdddocker_vp3_1', 'bdddocker_vp1_1', 'bdddocker_vp2_1']\r\n      00:18:46 - container bdddocker_membersrvc0_1 has address = 172.17.0.2\r\n...\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>      Captured stdout:<\/pre><\/div>\n<div><pre>      <span class=\"cm-number\">00<\/span>:18:46 <span class=\"cm-attribute\">-<\/span> Containers started: <\/pre><\/div>\n<div><pre>      <span class=\"cm-number\">00<\/span>:18:46 <span class=\"cm-attribute\">-<\/span> [<span class=\"cm-string\">'bdddocker_membersrvc0_1'<\/span>, <span class=\"cm-string\">'bdddocker_vp0_1'<\/span>, <span class=\"cm-string\">'bdddocker_vp3_1'<\/span>, <span class=\"cm-string\">'bdddocker_vp1_1'<\/span>, <span class=\"cm-string\">'bdddocker_vp2_1'<\/span>]<\/pre><\/div>\n<div><pre>      <span class=\"cm-number\">00<\/span>:18:46 <span class=\"cm-attribute\">-<\/span> container bdddocker_membersrvc0_1 has address <span class=\"cm-operator\">=<\/span> <span class=\"cm-number\">172<\/span>.17.0.2<\/pre><\/div>\n<div><pre>...<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":20,"lines_more":15,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U10Q62R8X","upload":true,"display_as_bot":false,"username":"<@U10Q62R8X|vpaprots>","bot_id":null,"ts":"1476311154.001521"},{"type":"message","user":"U10Q62R8X","text":"i.e. `vp1` vs `bdddocker_vp1_1`","ts":"1476311171.001522"},{"user":"U2PE37K3J","text":"<@U2PE37K3J|n.ohagan> has joined the channel","type":"message","subtype":"channel_join","ts":"1476453337.001523"},{"user":"U2PRDHT9U","text":"<@U2PRDHT9U|vrgl> has joined the channel","type":"message","subtype":"channel_join","ts":"1476553562.001524"},{"type":"message","user":"U2PRDHT9U","text":"Hi, I try to build the fabric on macOS Sierra and I get an exit error during the process.","ts":"1476553975.001525"},{"type":"message","subtype":"file_share","text":"<@U2PRDHT9U|vrgl> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/vrgl\/F2PPYEWGK\/-.sh|Untitled>","file":{"id":"F2PPYEWGK","created":1476553999,"timestamp":1476553999,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U2PRDHT9U","editable":true,"size":376,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2PPYEWGK\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2PPYEWGK\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/vrgl\/F2PPYEWGK\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2PPYEWGK-cc6fe36dbc","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/vrgl\/F2PPYEWGK\/-.sh\/edit","preview":"docker build -t hyperledger\/fabric-src build\/image\/src\r\nSending build context to Docker daemon  12.2 MB\r\nStep 1 : FROM hyperledger\/fabric-baseimage:latest\r\n ---> 02c1ce6b28f3\r\nStep 2 : ADD gopath.tar.bz2 $GOPATH\/src\/github.com\/hyperledger\/fabric\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>docker build <span class=\"cm-attribute\">-t<\/span> hyperledger\/fabric-src build\/image\/src<\/pre><\/div>\n<div><pre>Sending build context to Docker daemon  <span class=\"cm-number\">12<\/span>.2 MB<\/pre><\/div>\n<div><pre>Step <span class=\"cm-number\">1<\/span> : FROM hyperledger\/fabric-baseimage:latest<\/pre><\/div>\n<div><pre> <span class=\"cm-attribute\">--<\/span><span class=\"cm-attribute\">-<\/span>&gt; 02c1ce6b28f3<\/pre><\/div>\n<div><pre>Step <span class=\"cm-number\">2<\/span> : ADD gopath.tar.bz2 <span class=\"cm-def\">$GOPATH<\/span>\/src\/github.com\/hyperledger\/fabric<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":7,"lines_more":2,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U2PRDHT9U","upload":true,"display_as_bot":false,"username":"<@U2PRDHT9U|vrgl>","bot_id":null,"ts":"1476554000.001526"},{"user":"U2M3WV6CA","text":"<@U2M3WV6CA|alessandro> has joined the channel","type":"message","subtype":"channel_join","ts":"1476559823.001527"},{"type":"message","user":"U0ZJZBJLF","text":"Hey, I'm trying to set up a couple of peers with TLS communication (tinkering something) and I get:\n`  2016\/10\/15 19:04:02 Failed to create ehub server: Failed to generate credentials open testdata\/server1.pem: no such file or directory  `\nHow do I generate the files:\nin peer\/core.yaml I see:\n```\n    # TLS Settings for p2p communications\n    tls:\n        enabled:  false\n        cert:\n            file: testdata\/server1.pem\n        key:\n            file: testdata\/server1.key\n```\n(I enabled the tls via environment variable) how do I populate the pem and key files?","ts":"1476560104.001528"},{"type":"message","user":"U0ZJZBJLF","text":"I tried to copy `.\/core\/chaincode\/testdata\/server1.pem` into peer\/ and rebuild the images but same thing","ts":"1476560166.001529"},{"type":"message","user":"U0ULK2JPP","text":"<@U0ZJZBJLF> there\u2019s some instructions under core\/chaincode\/chaincodetest.yaml","ts":"1476560169.001530"},{"type":"message","user":"U0ULK2JPP","text":"yeah","ts":"1476560173.001531"},{"type":"message","user":"U0ZJZBJLF","text":"` openssl req -x509 -nodes -days 3650 -newkey rsa:2048 -keyout testdata\/server1.key -out testdata\/server1.pem` ?","ts":"1476560238.001532"},{"type":"message","user":"U0ULK2JPP","text":"if you want","ts":"1476560244.001533"},{"type":"message","user":"U0ULK2JPP","text":"I usually just copy the testdata folder to whereever  want","ts":"1476560350.001534"},{"type":"message","user":"U0ULK2JPP","text":"in other words what you  tried should have worked","ts":"1476560368.001535"},{"type":"message","user":"U0ULK2JPP","text":"it looks like a question of getting the right paths","ts":"1476560393.001536"},{"type":"message","user":"U0ULK2JPP","text":"where are you running peer from  ?","ts":"1476560398.001537"},{"type":"message","user":"U0ZJZBJLF","text":"I'm using a docker compose file","ts":"1476560404.001538"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1476560409.001539"},{"type":"message","user":"U0ULK2JPP","text":"you need to get testdata into it in the right place","ts":"1476560426.001540"},{"type":"message","user":"U0ZJZBJLF","text":"still doesn't work, I edited the commands to be:\n` command: sh -c \"mkdir testdata; sleep 5;  openssl req -x509 -nodes -days 3650 -newkey rsa:2048 -keyout testdata\/server1.key -out testdata\/server1.pem; peer node start\"`","ts":"1476560438.001541"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1476560458.001542"},{"type":"message","user":"U0ULK2JPP","text":"I don\u2019t remember all the incantation","ts":"1476560464.001543"},{"type":"message","user":"U0ZJZBJLF","text":"it's a shame we don't have a docker-compose files\\receipts for all kinds of scenarios, I think it would be really helpful for the community","ts":"1476560492.001544"},{"type":"message","user":"U0ULK2JPP","text":"why don\u2019t you just volume mount testdata to ind the yml so it\u2019ll find it","ts":"1476560494.001545"},{"type":"message","user":"U0ULK2JPP","text":"agreed","ts":"1476560518.001546"},{"type":"message","user":"U0ULK2JPP","text":"we need a simple wizard which will generate the docker-compose file","ts":"1476560534.001547"},{"type":"message","user":"U0ULK2JPP","text":"instead of canned ones which can really confuse users","ts":"1476560551.001548"},{"type":"message","user":"U0ULK2JPP","text":"how many peer ? login name ? where\u2019s your crypto stuff for SSL\u2026 etc","ts":"1476560587.001549"},{"type":"message","user":"U0ULK2JPP","text":"and create a docker-compose.yml","ts":"1476560598.001550"},{"type":"message","user":"U0ZJZBJLF","text":"that's weird, I increased the sleep from 5 to 500, on a different terminal I did: docker exec -it \/bin\/bash and then I did ls -l \/proc\/1 (the peer's pid) and the cwd is pointing to \/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/","ts":"1476560645.001551"},{"type":"message","user":"U0ZJZBJLF","text":"and the folder exists there :disappointed:","ts":"1476560650.001552"},{"type":"message","user":"U0ZJZBJLF","text":"oh","ts":"1476560661.001553"},{"type":"message","user":"U0ZJZBJLF","text":".... it's not in the peer","ts":"1476560666.001554"},{"type":"message","user":"U0ZJZBJLF","text":"duck programming ftw","ts":"1476560675.001555"},{"type":"message","user":"U0ULK2JPP","text":"duck programming ? :slightly_smiling_face:","ts":"1476560963.001556"},{"type":"message","user":"U11MANG9G","text":"<https:\/\/unspace.ca\/dev\/2012\/duck-programming> ?","ts":"1476560980.001557"},{"type":"message","user":"U11MANG9G","text":"\"Duck Programming is any configuration that defines or controls mission-critical behaviour of a software system that is thought to be \u201cnot programming\u201d because it doesn\u2019t appear to involve programmers, programming languages, or programming tools.\"","ts":"1476561018.001558"},{"type":"message","user":"U11MANG9G","text":"<@U0ZJZBJLF> is that what you meant?","ts":"1476561068.001559"},{"type":"message","user":"U0ZJZBJLF","text":"no, I meant: <https:\/\/en.wikipedia.org\/wiki\/Rubber_duck_debugging>","ts":"1476561072.001560"},{"type":"message","user":"U0ZJZBJLF","text":"TLDR: you think out loud","edited":{"user":"U0ZJZBJLF","ts":"1476561091.000000"},"ts":"1476561084.001561"},{"type":"message","user":"U0ULK2JPP","text":"pretty effective as long as noones around you :slightly_smiling_face:","ts":"1476561170.001563"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0ULK2JPP>  Still doesn't work, I copied the chaincode pem and key files and I get:\n`  2016\/10\/15 20:20:04 grpc: Server.Serve failed to complete security handshake from \"172.17.0.5:55340\": remote error: bad certificate `","edited":{"user":"U0ZJZBJLF","ts":"1476562910.000000"},"ts":"1476562900.001564"},{"type":"message","user":"U0ULK2JPP","text":"can you try with CORE_PEER_TLS_SERVERHOSTOVERRIDE=dummy (the value used in chaincodetest.yaml) ?","ts":"1476563100.001566"},{"type":"message","user":"U0ZJZBJLF","text":"yeah","ts":"1476563133.001567"},{"type":"message","user":"U0ULK2JPP","text":"need to leave but can wait for 5 more mins :slightly_smiling_face:","ts":"1476563252.001568"},{"type":"message","user":"U0ZJZBJLF","text":"oh I think it works, I'm checking","ts":"1476563553.001569"},{"type":"message","user":"U0ULK2JPP","text":"great","ts":"1476563584.001570"},{"type":"message","user":"U0ZJZBJLF","text":"why am i still getting ` ESC[33mvp0_1        | ESC[0mESC[36m20:32:55.933 [crypto] Debug -&gt; DEBU 01aESC[0m [validator.test_vp0]  TLS disabled... ` ?","ts":"1476563646.001571"},{"type":"message","user":"U0ZJZBJLF","text":"I made it     - CORE_PEER_TLS_ENABLED=true","ts":"1476563660.001572"},{"type":"message","user":"U0ZJZBJLF","text":"aha!!!!","ts":"1476563735.001573"},{"type":"message","user":"U0ZJZBJLF","text":"ok it works","ts":"1476563738.001574"},{"type":"message","user":"U0ZJZBJLF","text":"many thanks","ts":"1476563739.001575"},{"type":"message","user":"U0ULK2JPP","text":"ok, good luck :slightly_smiling_face:","ts":"1476563786.001576"},{"type":"message","user":"U0PB67X4K","text":"<@U2PRDHT9U> - you need to install gnu-tar and make it the default.  The tar binary which ships with OSX is not compatible with Linux gnu tar in this case","edited":{"user":"U0PB67X4K","ts":"1476580745.000000"},"ts":"1476580720.001577"},{"user":"U1LAC3ABE","text":"<@U1LAC3ABE|james.buckett> has joined the channel","type":"message","subtype":"channel_join","ts":"1476621336.001579"},{"user":"U2NNLN56V","text":"<@U2NNLN56V|conghonglei> has joined the channel","type":"message","subtype":"channel_join","ts":"1476667096.001580"},{"type":"message","user":"U2PRDHT9U","text":"<@U0PB67X4K> thank you!","ts":"1476689380.001583"},{"user":"U2GEGKXJA","text":"<@U2GEGKXJA|stchrysa> has joined the channel","type":"message","subtype":"channel_join","ts":"1476705251.001584"},{"type":"message","user":"U1WUAQJVC","text":"Hi All,\n\nAnyone tried chain code using java? is there any documentation for start?","ts":"1476796392.001585"},{"type":"message","user":"U0ULK2JPP","text":"<@U1WUAQJVC> linked above to java-chaincode channel","ts":"1476796788.001586"},{"user":"U216ML5MM","text":"<@U216ML5MM|witwiki> has joined the channel","type":"message","subtype":"channel_join","ts":"1476932297.001587"},{"user":"U0ZR63HLK","text":"<@U0ZR63HLK|adc> has joined the channel","type":"message","subtype":"channel_join","ts":"1476947459.001588"},{"type":"message","user":"U1F3CQ2HX","text":"Hi, I'm writing a HFC client app which is failing to generate TCert while fetching attributes ..Error \"Error: Error fetching attributes = BAD_REQUEST\"\" . Does anyone know about this issue? ..I'm just running on vagrant env with one membersrvc, VP, chaincode and HFC client app in development mode. The error is from \"RequestAttributes\" function in acap.go..","edited":{"user":"U1F3CQ2HX","ts":"1477222218.000000"},"ts":"1477222030.001589"},{"user":"U2MLMERFD","text":"<@U2MLMERFD|mrbuggy> has joined the channel","type":"message","subtype":"channel_join","ts":"1477245423.001591"},{"user":"U1M9R3C8Z","text":"<@U1M9R3C8Z|rascal> has joined the channel","type":"message","subtype":"channel_join","ts":"1477321017.001592"},{"type":"message","user":"U13TWBRBL","text":"<@U0KPFAZNF> am I right in assuming that your work on ccenv for deployment is now successfully integrated in master with the new peer code, such that I can start working on <https:\/\/jira.hyperledger.org\/browse\/FAB-11> for the deployment proposal API in SDK? (<https:\/\/github.com\/hyperledger\/fabric-sdk-node\/blob\/master\/lib\/Member.js#L481>)","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-sdk-node","title_link":"https:\/\/github.com\/hyperledger\/fabric-sdk-node\/blob\/master\/lib\/Member.js#L481","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric-sdk-node>","fallback":"GitHub: hyperledger\/fabric-sdk-node","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-sdk-node\/blob\/master\/lib\/Member.js#L481","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1477352107.001593"},{"type":"message","user":"U0KPFAZNF","text":"<@U13TWBRBL> it should be, please verify","ts":"1477493027.001595"},{"type":"message","user":"U0KPFAZNF","text":"right now, ccenv is pre-packed with the golang shim and all deps of the shim","ts":"1477493043.001596"},{"type":"message","user":"U0KPFAZNF","text":"so, you shouldnt need a vendor directory _unless_ you have dependencies outside of shim","ts":"1477493093.001597","reactions":[{"name":"+1","users":["U13TWBRBL"],"count":1}]},{"type":"message","user":"U13TWBRBL","text":"<@U0KPFAZNF> verified that it\u2019s working as planned, <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2017> was just merged which took advantage of this. thanks for working on that improvement!","ts":"1477494059.001598"},{"type":"message","user":"U0KPFAZNF","text":":+1:","ts":"1477501745.001599"},{"type":"message","user":"U2DHRR4TE","text":"dumb question but the mockstub, does this work for fabric 0.5","ts":"1477556277.001600"},{"user":"U2UT57Y6Q","text":"<@U2UT57Y6Q|nitin> has joined the channel","type":"message","subtype":"channel_join","ts":"1477560803.001601"},{"user":"U2Q0HP4HY","text":"<@U2Q0HP4HY|rickr> has joined the channel","type":"message","subtype":"channel_join","ts":"1477758503.001602"},{"type":"message","user":"U2Q0HP4HY","text":"Seeing this error  while doing vagrant up. os is Fedora 24\n\n```\n==&gt; default: Box 'hyperledger\/fabric-baseimage' could not be found. Attempting to find and install...\n    default: Box Provider: libvirt\n    default: Box Version: 0.2.0\n==&gt; default: Loading metadata for box 'hyperledger\/fabric-baseimage'\n    default: URL: <https:\/\/atlas.hashicorp.com\/hyperledger\/fabric-baseimage>\nThe box you're attempting to add doesn't support the provider\nyou requested. Please find an alternate box or use an alternate\nprovider. Double-check your requested provider to verify you didn't\nsimply misspell it.\n\nIf you're adding a box from HashiCorp's Atlas, make sure the box is\nreleased.\n\nName: hyperledger\/fabric-baseimage\nAddress: <https:\/\/atlas.hashicorp.com\/hyperledger\/fabric-baseimage>\nRequested provider: [:libvirt]\n```\n\n$ vagrant -v\nVagrant 1.8.1\n\nVirtualBox Graphical User Interface\nVersion 5.1.8 r111374 (Qt5.6.1)\nCopyright \u00a9 2016 Oracle Corporation and\/or its affiliates. All rights reserved","edited":{"user":"U2Q0HP4HY","ts":"1477758773.000000"},"ts":"1477758607.001603"},{"type":"message","user":"U2Q0HP4HY","text":"Should I be able to build this without vagrant ?  Is there something in the vagrant images other than the env GO,Docker etc that I have locally ?","ts":"1477759521.001606"},{"type":"message","user":"U2Q0HP4HY","text":"I got past that by specifying the provider to be virtualbox on the commandline and backing off to virtualbox 5.0","ts":"1477764120.001607"},{"type":"message","user":"U2Q0HP4HY","text":"Now seeing on the make:\n```\nMakefile:107: recipe for target 'linter' failed\nmake: *** [linter] Error 1\nvagrant@hyperledger-devenv:v0.2.0-865b0ed:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$\n``","ts":"1477764164.001608"},{"type":"message","user":"U0KPFAZNF","text":"<@U2Q0HP4HY> what git sha are you on?","ts":"1477829108.001609"},{"type":"message","user":"U2Q0HP4HY","text":"Hi <@U0KPFAZNF>  I'm on master.  I got my issues with vagrant figured out.  I'm also building now natively on Fedora (no vagrant) with the unit test all ok or ? with notests.\nSo I think it's good.  linter target fails.\nb4473da001adf1af45beae93273a1564932be7f1","ts":"1477832481.001610"},{"type":"message","user":"U0KPFAZNF","text":"my guess is your linter problem has to do with something that is different in your fedora environment vs vagrant","ts":"1477832531.001611"},{"type":"message","user":"U0KPFAZNF","text":"what version of golang do you have?","ts":"1477832546.001612"},{"type":"message","user":"U2Q0HP4HY","text":"go version go1.6.3 linux\/amd64","ts":"1477832592.001613"},{"type":"message","user":"U0KPFAZNF","text":"note that vagrant devenv:v0.2.0 is on golang v1.7.1","ts":"1477832600.001614"},{"type":"message","user":"U0KPFAZNF","text":"ok, i think that is your problem","ts":"1477832604.001615"},{"type":"message","user":"U0KPFAZNF","text":"I suspect if you upgrade to 1.7, the linter will pass","ts":"1477832619.001616"},{"type":"message","user":"U2Q0HP4HY","text":"thx -- I'll give that a shot","ts":"1477832632.001617"},{"type":"message","user":"U2Q0HP4HY","text":"I just have what is by default on Fodera - but I can upgrade","ts":"1477832651.001618"},{"type":"message","user":"U0KPFAZNF","text":"right now, the only problem is likely to be an incongruence in the linter checks, but also note I know a few people are working on new code that will depend on v1.7","ts":"1477832656.001619"},{"type":"message","user":"U0KPFAZNF","text":"so at some point it will be a hard requirement","ts":"1477832671.001620"},{"type":"message","user":"U2Q0HP4HY","text":"thx for the help.   Didn't even know I was behind.  Definitely need to see if I can get a free upgrade :slightly_smiling_face:","ts":"1477832742.001621"},{"type":"message","user":"U0KPFAZNF","text":"any time, good luck","ts":"1477832758.001622"},{"type":"message","user":"U2Q0HP4HY","text":"go version go1.7.3 linux\/amd64\n```On branch master\nYour branch is up-to-date with 'origin\/master'.\n```\n```\ngo vet .\/orderer\/...\norderer\/solo\/broadcast.go:175: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastResponse|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastResponse> composite literal uses unkeyed fields\norderer\/solo\/broadcast.go:177: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastResponse|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastResponse> composite literal uses unkeyed fields\norderer\/solo\/broadcast.go:182: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastResponse|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastResponse> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:211: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:251: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:252: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:253: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:254: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:283: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:284: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:285: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:314: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:315: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:316: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields```","ts":"1477836497.001623"},{"type":"message","user":"U2Q0HP4HY","text":"What is the role of RocksDb ?  Is it only for unit tests ?  \nI assume if I took the core docker images and installed on another system without RocksDb installed they would work?","ts":"1477837979.001624"},{"type":"message","user":"U0UGH3X7X","text":"<@U2Q0HP4HY>, the ledger uses rocksdb","ts":"1477840310.001625"},{"type":"message","user":"U2Q0HP4HY","text":"<@U0UGH3X7X> thx","ts":"1477840355.001626"},{"type":"message","user":"U2Q0HP4HY","text":"I see the same issue with linter in vagrant ..","ts":"1477854216.001627"},{"type":"message","user":"U0KPFAZNF","text":"<@U2Q0HP4HY> what is your sha again?","ts":"1477917961.001628"},{"type":"message","user":"U0KPFAZNF","text":"(and please confirm if you have performed a vagrant destroy\/up since moving to this sha","ts":"1477917990.001629"},{"type":"message","user":"U0KPFAZNF","text":"is it still: b4473da001adf1af45beae93273a1564932be7f1","ts":"1477918011.001630"},{"type":"message","user":"U0KPFAZNF","text":"?","ts":"1477918012.001631"},{"type":"message","user":"U2Q0HP4HY","text":"```\nYour branch is up-to-date with 'origin\/master'.\nnothing to commit, working directory clean\n[fabric(master)]$ git rev-parse --verify HEAD\nb4473da001adf1af45beae93273a1564932be7f1\n[fabric(master)]$ git remote -v \norigin\t<ssh:\/\/rickr@gerrit.hyperledger.org:29418\/fabric> (fetch)\norigin\t<ssh:\/\/rickr@gerrit.hyperledger.org:29418\/fabric> (push)\n[ fabric(master)]$```\n\nnew to vagrant but from the UI did a remove and there was some option I think delete files  which I said yes.","edited":{"user":"U2Q0HP4HY","ts":"1477918998.000000"},"ts":"1477918843.001632"},{"type":"message","user":"U2Q0HP4HY","text":"This isn't a blocker for me as the images do create and It appears the unit-tests all run ok.  But If I'm the only one that sees this would sure like to nail it down as to why","ts":"1477918930.001633"},{"type":"message","subtype":"file_share","text":"<@U2Q0HP4HY|rickr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/rickr\/F2W8WDMFW\/broadcast.go|broadcast.go> and commented: Here is a file it complains about .. can anyone see if it matches what's in their master-level","file":{"id":"F2W8WDMFW","created":1477919949,"timestamp":1477919949,"name":"broadcast.go","title":"broadcast.go","mimetype":"text\/plain","filetype":"go","pretty_type":"Go","user":"U2Q0HP4HY","editable":true,"size":5545,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2W8WDMFW\/broadcast.go?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2W8WDMFW\/download\/broadcast.go?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/rickr\/F2W8WDMFW\/broadcast.go","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2W8WDMFW-735e500d25","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/rickr\/F2W8WDMFW\/broadcast.go\/edit","preview":"\/*\nCopyright IBM Corp. 2016 All Rights Reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-comment\">\/*<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-comment\">Copyright IBM Corp. 2016 All Rights Reserved.<\/span><\/pre><\/div>\n<div><pre>&#8203;<\/pre><\/div>\n<div><pre><span class=\"cm-comment\">Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-comment\">you may not use this file except in compliance with the License.<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":200,"lines_more":195,"preview_is_truncated":true,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc2W90M4UW","created":1477919949,"timestamp":1477919949,"user":"U2Q0HP4HY","is_intro":true,"comment":"Here is a file it complains about .. can anyone see if it matches what's in their master-level","channel":""}},"user":"U2Q0HP4HY","upload":true,"display_as_bot":false,"username":"<@U2Q0HP4HY|rickr>","bot_id":null,"ts":"1477919950.001635"},{"type":"message","user":"U0KPFAZNF","text":"can you paste the error report from the linter?","ts":"1477922172.001636"},{"type":"message","user":"U2Q0HP4HY","text":"I _thought_ I did with yesterday 10:08 am \n<https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev-env\/p1477836497001623>\nis there more ?\n\n```\norderer\/solo\/broadcast.go:175: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastResponse|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastResponse> composite literal uses unkeyed fields\n```","attachments":[{"from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev-env\/p1477836497001623","fallback":"[October 30th, 2016 7:08 AM] rickr: go version go1.7.3 linux\/amd64\n```On branch master\nYour branch is up-to-date with 'origin\/master'.\n```\n```\ngo vet .\/orderer\/...\norderer\/solo\/broadcast.go:175: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastResponse|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastResponse> composite literal uses unkeyed fields\norderer\/solo\/broadcast.go:177: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastResponse|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastResponse> composite literal uses unkeyed fields\norderer\/solo\/broadcast.go:182: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastResponse|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastResponse> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:211: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:251: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:252: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:253: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:254: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:283: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:284: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:285: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:314: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:315: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:316: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields```","ts":"1477836497.001623","author_subname":"rickr","channel_id":"C0YQ1NHGD","channel_name":"fabric-dev-env","is_msg_unfurl":true,"text":"go version go1.7.3 linux\/amd64\n```On branch master\nYour branch is up-to-date with 'origin\/master'.\n```\n```\ngo vet .\/orderer\/...\norderer\/solo\/broadcast.go:175: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastResponse|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastResponse> composite literal uses unkeyed fields\norderer\/solo\/broadcast.go:177: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastResponse|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastResponse> composite literal uses unkeyed fields\norderer\/solo\/broadcast.go:182: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastResponse|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastResponse> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:211: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:251: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:252: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:253: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:254: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:283: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:284: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:285: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:314: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:315: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields\norderer\/solo\/broadcast_test.go:316: <http:\/\/github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage|github.com\/hyperledger\/fabric\/orderer\/atomicbroadcast.BroadcastMessage> composite literal uses unkeyed fields```","author_name":"Rick Rine","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/rickr","author_icon":"https:\/\/secure.gravatar.com\/avatar\/aa32af034870d28ba4a6828888b04a92.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-48.png","mrkdwn_in":["text"],"id":1,"footer":"Posted in #fabric-dev-env"}],"ts":"1477922432.001637"},{"type":"message","user":"U2Q0HP4HY","text":"If there's something else I should post to help on this please advise .. thx","ts":"1477922646.001639"},{"type":"message","user":"U1KFCPFQA","text":"<@U0Q6BA1EU> Here\u2019s the Atom packages I find useful for fabric development: go-plus, language-protobuf, minmap.","ts":"1477924166.001640"},{"type":"message","user":"U1KFCPFQA","text":"What other Atom packages do folks like?","edited":{"user":"U1KFCPFQA","ts":"1477935254.000000"},"ts":"1477924196.001641"},{"type":"message","user":"U0KPFAZNF","text":"<@U2Q0HP4HY> apologies, yes you did.  When I saw that go by the first time, I took it as related to your rocksdb question, sorry","ts":"1477926957.001642"},{"type":"message","user":"U0KPFAZNF","text":"ill see if I can reproduce your problem","ts":"1477926966.001643"},{"type":"message","user":"U2Q0HP4HY","text":"BTW <@U0KPFAZNF>   I seen the same issue with linter on someone else's system .. I suspect those files do have an issue or the setting for the linter needs changing to accept that.","ts":"1477950139.001645"},{"type":"message","user":"U0KPFAZNF","text":"It's not reproducing for me nor CI.  I don't understand the difference ","ts":"1477950186.001646"},{"type":"message","user":"U2Q0HP4HY","text":"odd","ts":"1477950220.001647"},{"type":"message","user":"U2Q0HP4HY","text":"Is there an env setting on the peer svc to increase debugging ?","ts":"1477950249.001648"},{"type":"message","user":"U0KPFAZNF","text":"Yes, look in peer\/core.yaml","ts":"1477950376.001649"},{"type":"message","user":"U0KPFAZNF","text":"I'm on mobile or I would send a link","ts":"1477950389.001650"},{"type":"message","user":"U2Q0HP4HY","text":"np !! thx much","ts":"1477950398.001651"},{"type":"message","user":"U0Q6BA1EU","text":"<@U1KFCPFQA> Thanks.  I think I found the culprit of the whitespace differences.:","ts":"1477957239.001656"},{"type":"message","subtype":"file_share","text":"<@U0Q6BA1EU|bobbiejc> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/bobbiejc\/F2WJCSCA2\/pasted_image_at_2016_10_31_07_40_pm.png|Pasted image at 2016-10-31, 7:40 PM>","file":{"id":"F2WJCSCA2","created":1477957243,"timestamp":1477957243,"name":"Pasted image at 2016_10_31 07_40 PM.png","title":"Pasted image at 2016-10-31, 7:40 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0Q6BA1EU","editable":false,"size":58428,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2WJCSCA2\/pasted_image_at_2016_10_31_07_40_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2WJCSCA2\/download\/pasted_image_at_2016_10_31_07_40_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2WJCSCA2-c07228e02c\/pasted_image_at_2016_10_31_07_40_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2WJCSCA2-c07228e02c\/pasted_image_at_2016_10_31_07_40_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2WJCSCA2-c07228e02c\/pasted_image_at_2016_10_31_07_40_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":122,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2WJCSCA2-c07228e02c\/pasted_image_at_2016_10_31_07_40_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":163,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2WJCSCA2-c07228e02c\/pasted_image_at_2016_10_31_07_40_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2WJCSCA2-c07228e02c\/pasted_image_at_2016_10_31_07_40_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":244,"image_exif_rotation":1,"original_w":794,"original_h":269,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/bobbiejc\/F2WJCSCA2\/pasted_image_at_2016_10_31_07_40_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2WJCSCA2-3289a75a61","channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U0Q6BA1EU","upload":true,"display_as_bot":false,"username":"<@U0Q6BA1EU|bobbiejc>","bot_id":null,"ts":"1477957245.001657"},{"type":"message","user":"U0Q6BA1EU","text":"I have now disabled","ts":"1477957255.001658"},{"type":"message","user":"U2Q0HP4HY","text":"I'm seeing errors on unexpected proto types.   Sending a proposal to an endorser .  This is sent to the peer svc on port 7051   \nproto: bad wiretype for field protos.Proposal.Header: got wiretype 0, want 2\n\n  It looks like 0 is Varint and 2 if Length-delimited .\n\nIs there any means to dump these out ..  trace them?","edited":{"user":"U2Q0HP4HY","ts":"1477957920.000000"},"ts":"1477957851.001659"},{"type":"message","user":"U2Q0HP4HY","text":"<@U0KPFAZNF> long shot and unlikely .. whens the last time you pulled down the golinter  ?","ts":"1477960946.001661"},{"type":"message","user":"U0KPFAZNF","text":" It gets rebuilt all the time, including today","ts":"1477963068.001662"},{"type":"message","user":"U2Q0HP4HY","text":"figured as much ... long shot","ts":"1477967593.001663"},{"type":"message","user":"U0ULK2JPP","text":"<@U2Q0HP4HY> I just did a deploy from CLI and did not encounter a protos issue","ts":"1477968403.001664"},{"type":"message","user":"U0ULK2JPP","text":"wonder what the difference is","ts":"1477968424.001665"},{"type":"message","user":"U2Q0HP4HY","text":"The protos for current SDK do not match the current peer proto for proposal","ts":"1478011714.001666"},{"user":"U2WAP0R6J","text":"<@U2WAP0R6J|scoin> has joined the channel","type":"message","subtype":"channel_join","ts":"1478013867.001667"},{"type":"message","user":"U0KPFAZNF","text":"<@U2Q0HP4HY> can you clarify if you mean its orthogonal or a protobuf-compatible extension?","ts":"1478013937.001668"},{"type":"message","user":"U2Q0HP4HY","text":"Posted it to the wrong channel ..just ignore","ts":"1478014612.001669"},{"type":"message","user":"U0KM61BCP","text":"<@U1KFCPFQA> port 5984 for CouchDB is exposed in the vagrant environment. However, if the developer has CouchDB running natively, the ports conflict","ts":"1478112844.001670"},{"type":"message","user":"U0KM61BCP","text":"so, for instance, I cannot launch the vagrant environment any longer","ts":"1478112865.001671"},{"type":"message","user":"U0KM61BCP","text":"I think that we should map 5984 to 15984 on the host to avoid the conflict","ts":"1478112978.001672"},{"type":"message","user":"U0KM61BCP","text":"thoughts?","ts":"1478112981.001673"},{"type":"message","user":"U0KM61BCP","text":"<@U0PB67X4K> ?","ts":"1478112988.001674"},{"type":"message","user":"U1KFCPFQA","text":"<@U0KM61BCP> That seems very reasonable","ts":"1478114641.001675"},{"type":"message","user":"U1KFCPFQA","text":"Want me to push that as a commit?","ts":"1478114662.001676"},{"type":"message","user":"U0KM61BCP","text":"sure thx","ts":"1478115693.001677"},{"type":"message","user":"U2DHRR4TE","text":"can anyone tell me how to use fabric without docker? I tried going into the source and running `make peer` and this happened:\n\n```\ntom@tom-VirtualBox:~\/src\/github.com\/hyperledger\/fabric$ make peer\nBuilding docker base-image\nBUILD-CACHE: Pulling \"hyperledger\/fabric-baseimage:x86_64-0.0.10\" from dockerhub..\nPulling repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>\nError while pulling image: Get <https:\/\/index.docker.io\/v1\/repositories\/hyperledger\/fabric-baseimage\/images>: dial tcp: lookup <http:\/\/index.docker.io|index.docker.io> on 127.0.1.1:53: server misbehaving\nBUILD-CACHE: Success!\nstdin: is not a tty\nSending build context to Docker daemon 10.75 kB\nStep 1 : FROM hyperledger\/fabric-baseimage:x86_64-0.0.10\n ---&gt; a2392cc113fd\nStep 2 : ENV HOSTNAME c89059a2f488\n ---&gt; Running in 31ed06271d2d\n ---&gt; 8779a6d0bd34\nRemoving intermediate container 31ed06271d2d\nStep 3 : ENV PATH \/usr\/local\/sbin:\/usr\/local\/bin:\/usr\/sbin:\/usr\/bin:\/sbin:\/bin:\/opt\/go\/bin:\/opt\/gopath\/bin\n ---&gt; Running in 7d6dbe0ce0cb\n ---&gt; a877105ff896\nRemoving intermediate container 7d6dbe0ce0cb\nStep 4 : ENV PWD \/\n ---&gt; Running in 3f68532293ae\n ---&gt; 54f0e2a8ea8c\nRemoving intermediate container 3f68532293ae\nStep 5 : ENV SHLVL 1\n ---&gt; Running in 1ae0c83da178\n ---&gt; 234886c1801b\nRemoving intermediate container 1ae0c83da178\nStep 6 : ENV HOME \/root\n ---&gt; Running in 92cea79c130e\n ---&gt; c6fd984a2c18\nRemoving intermediate container 92cea79c130e\nStep 7 : ENV GOROOT \/opt\/go\n ---&gt; Running in 34b969f81cbc\n ---&gt; 03370e6e2a24\nRemoving intermediate container 34b969f81cbc\nStep 8 : ENV GOPATH \/opt\/gopath\n ---&gt; Running in c6131c686a6f\n ---&gt; 7ffa4e58c7f0\nRemoving intermediate container c6131c686a6f\nStep 9 : ENV _ \/usr\/bin\/printenv\n ---&gt; Running in 47b80a01a4bf\n ---&gt; 3d7ec573c071\nRemoving intermediate container 47b80a01a4bf\nStep 10 : COPY scripts \/hyperledger\/scripts\/provision\n ---&gt; 8394bb919e68\nRemoving intermediate container 22c4ac98e06e\nStep 11 : RUN \/hyperledger\/scripts\/provision\/common.sh\n ---&gt; Running in 5fb570be80f4\nW: Failed to fetch <http:\/\/archive.ubuntu.com\/ubuntu\/dists\/trusty\/InRelease>  \n\nW: Failed to fetch <http:\/\/archive.ubuntu.com\/ubuntu\/dists\/trusty-updates\/InRelease>  \n\nW: Failed to fetch <http:\/\/archive.ubuntu.com\/ubuntu\/dists\/trusty-security\/InRelease>  \n\nW: Failed to fetch <http:\/\/archive.ubuntu.com\/ubuntu\/dists\/trusty\/Release.gpg>  Could not resolve '<http:\/\/archive.ubuntu.com|archive.ubuntu.com>'\n\nW: Failed to fetch <http:\/\/archive.ubuntu.com\/ubuntu\/dists\/trusty-updates\/Release.gpg>  Could not resolve '<http:\/\/archive.ubuntu.com|archive.ubuntu.com>'\n\nW: Failed to fetch <http:\/\/archive.ubuntu.com\/ubuntu\/dists\/trusty-security\/Release.gpg>  Could not resolve '<http:\/\/archive.ubuntu.com|archive.ubuntu.com>'\n\nW: Some index files failed to download. They have been ignored, or old ones used instead.\nReading package lists...\nBuilding dependency tree...\nReading state information...\nE: Unable to locate package default-jre\nThe command '\/bin\/sh -c \/hyperledger\/scripts\/provision\/common.sh' returned a non-zero code: 100\nMakefile:172: recipe for target 'build\/image\/base\/.dummy' failed\nmake: *** [build\/image\/base\/.dummy] Error 100\n\n```\n\nWhat does it want docker for?","edited":{"user":"U2DHRR4TE","ts":"1478156862.000000"},"ts":"1478156823.001678"},{"type":"message","user":"U0ZJZBJLF","text":"that looks like a DNS problem <@U2DHRR4TE> .\nIf you want to use docker, just do \"go build -o peer\" and that should work (I think)","ts":"1478157453.001680"},{"type":"message","user":"U2DHRR4TE","text":"I _don't_ wan't to use docker","ts":"1478157511.001681"},{"type":"message","user":"U2DHRR4TE","text":"is there anyway I can use it without docker?","ts":"1478157519.001682"},{"type":"message","user":"U2DHRR4TE","text":"or is that required?","ts":"1478157524.001683"},{"user":"U2W6ZESRH","text":"<@U2W6ZESRH|ski> has joined the channel","type":"message","subtype":"channel_join","ts":"1478162627.001684"},{"type":"message","user":"U0KPFAZNF","text":"<@U2DHRR4TE> in the current build, it is possible to build both a native peer binary and a docker-based binary\u2026.however, theres a dependency on docker in general regardless of which method you choose because the peer uses docker to contain chainccode instances","ts":"1478176837.001685"},{"type":"message","user":"U0KPFAZNF","text":"that said, I agree with <@U0ZJZBJLF>: it looks like you have some kind of networking problem","ts":"1478176880.001686"},{"type":"message","user":"U0ZJZBJLF","text":"ghaskins, do you have access control to the jenkins like the LSF guys?","ts":"1478176916.001687"},{"type":"message","user":"U0ZJZBJLF","text":"i.e- abort\/retrigger jobs manually?","ts":"1478176927.001688"},{"type":"message","user":"U0KPFAZNF","text":"I dont think so, but I can try","ts":"1478176931.001689"},{"type":"message","user":"U0KPFAZNF","text":"what do you need","ts":"1478176934.001690"},{"type":"message","user":"U0ZJZBJLF","text":"not me","ts":"1478176937.001691"},{"type":"message","user":"U0ZJZBJLF","text":"<@U1AU8DRQR>","ts":"1478176940.001692"},{"type":"message","user":"U0KPFAZNF","text":"ah, well, if <@U1AU8DRQR> doesn\u2019t, I probably dont either","ts":"1478176958.001693"},{"type":"message","user":"U0ZJZBJLF","text":"oh ok","ts":"1478176964.001694"},{"type":"message","user":"U0KPFAZNF","text":"im willing to try though, just point me to a job or whatever","ts":"1478176976.001695"},{"type":"message","user":"U1AU8DRQR","text":"sad :disappointed:","ts":"1478178258.001696"},{"type":"message","user":"U0XPR4NP4","text":"What is the status with protobuf? Are we using 3.1.0?","ts":"1478185249.001697"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XPR4NP4> yes, master is on 3.1.0","ts":"1478185848.001698"},{"type":"message","user":"U0XPR4NP4","text":"When I build the protos in vagrant, protoc claims to be:\n\n```\n$ protoc --version\nlibprotoc 3.1.0\n```\n\nBut the resulting `ab.pb.go` file contains:\n\n```\n\/\/ This is a compile-time assertion to ensure that this generated file\n\/\/ is compatible with the proto package it is being compiled against.\n\/\/ A compilation error at this line likely means your copy of the\n\/\/ proto package needs to be updated.\nconst _ = proto.ProtoPackageIsVersion2 \/\/ please upgrade the proto package\n```\n\nWhen I generate them locally, using my own local copy of 3.1.0, the result is different, and I do not get that line.","ts":"1478185865.001699"},{"type":"message","user":"U0KPFAZNF","text":"v0.6 isn\u2019t in case it matters","ts":"1478185869.001700"},{"type":"message","user":"U0XPR4NP4","text":"I'm only worried about master","ts":"1478185879.001701"},{"type":"message","user":"U0KPFAZNF","text":"that is certainly curious","ts":"1478185900.001702"},{"type":"message","user":"U0KPFAZNF","text":"my guess is its your protoc-gen-go","ts":"1478185969.001703"},{"type":"message","user":"U0KPFAZNF","text":"what does your prompt say in vagrant?","ts":"1478185979.001704"},{"type":"message","user":"U0XPR4NP4","text":"Hmmm, `protoc-gen-go --version` just hangs there, do you know how to check?","ts":"1478186042.001705"},{"type":"message","user":"U0KPFAZNF","text":"it should be v0.2.0 blah blah","ts":"1478186044.001706"},{"type":"message","user":"U0KPFAZNF","text":"not sure actually","ts":"1478186076.001707"},{"type":"message","user":"U0KPFAZNF","text":"try without the \u2018--'","ts":"1478186081.001708"},{"type":"message","user":"U0XPR4NP4","text":"`vagrant@hyperledger-devenv:v0.2.0-614e268`","ts":"1478186082.001709"},{"type":"message","user":"U0KPFAZNF","text":"ok, thats good","ts":"1478186086.001710"},{"type":"message","user":"U0KPFAZNF","text":"the fact that you have a v0.2.0 prompt tells me that you built this environment _after_ the patch went in to upgrade protoc","ts":"1478186209.001711"},{"type":"message","user":"U0KPFAZNF","text":"which means you should have also had the updated vendor\/protobuf library, which would have been used to compile protoc-gen-go","ts":"1478186232.001712"},{"type":"message","user":"U0XPR4NP4","text":"Right, I _just_ did a destroy and up to be sure","ts":"1478186236.001713"},{"type":"message","user":"U0KPFAZNF","text":"ok, good\u2026thats the most conservative option","ts":"1478186272.001714"},{"type":"message","user":"U0KPFAZNF","text":"but if it continues to emit different code from your native v3.1.0 toolchain, that is curious","ts":"1478186293.001715"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> i suppose its possible that the vendored lib is 3.0.x","ts":"1478186330.001716"},{"type":"message","user":"U0XPR4NP4","text":"I rather suspect my local toolchain is broken, as I've been seeing some odd bugs (like `proto.Marshal` returning `nil, nil` for a valid proto message)","ts":"1478186333.001717"},{"type":"message","user":"U0ZJZBJLF","text":"from what I know- the pb.go files that are outputted are effected by the protobuf in the vendor folder.","ts":"1478186342.001718"},{"type":"message","user":"U0ZJZBJLF","text":"it works like this: protoc looks for a file called `protoc-gen-go`","ts":"1478186354.001719"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> yes, I believe that is true","ts":"1478186360.001720"},{"type":"message","user":"U0ZJZBJLF","text":"you can \"control\" the protobuff version that is outputted by manipulating your PATH","ts":"1478186379.001721"},{"type":"message","user":"U0KPFAZNF","text":"one interesting side note, I think <@U0ZJZBJLF> did the work to update the vendor lib _before_ 3.1.0 came out","ts":"1478186379.001722"},{"type":"message","user":"U0ZJZBJLF","text":"wait, so you upgraded the env protobuf version after cherry picking my code?","ts":"1478186404.001723"},{"type":"message","user":"U0KPFAZNF","text":"so, my guess is: protoc\/libproto.so are v3.1.0 and vendor\/protoc-gen-go are slightly older","ts":"1478186405.001724"},{"type":"message","user":"U0KPFAZNF","text":"yes, I believe we did","ts":"1478186427.001725"},{"type":"message","user":"U0KPFAZNF","text":"(it didnt dawn on me at the time)","ts":"1478186442.001726"},{"type":"message","user":"U0KPFAZNF","text":"but in retrospect, I think that is what happened","ts":"1478186449.001727"},{"type":"message","user":"U0XPR4NP4","text":"Interesting, I removed `$GOPATH\/bin\/protoc-gen-go` on my local environment, and it was regenerated, and things seem happy now","ts":"1478186463.001728"},{"type":"message","user":"U0KPFAZNF","text":"we updated from v3.0.2 to v3.1.0 to support Z, but I dont think vendor was also updated","ts":"1478186469.001729"},{"type":"message","user":"U0ZJZBJLF","text":"when I do on my computer `protoc --version` I get `3.0.0`","ts":"1478186474.001730"},{"type":"message","user":"U0ZJZBJLF","text":"is that bad?","ts":"1478186476.001731"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XPR4NP4> ah!  I think I understand now","ts":"1478186492.001732"},{"type":"message","user":"U0KPFAZNF","text":"i think the build saw that the hostfs:$GOPATH\/bin\/protoc-gen-go was satisified and didnt rebuild it","ts":"1478186519.001733"},{"type":"message","user":"U0KPFAZNF","text":"good to know","ts":"1478186528.001734"},{"type":"message","user":"U0ZJZBJLF","text":"ghaskins?","ts":"1478186541.001735"},{"type":"message","user":"U0KPFAZNF","text":"FWIW, this should be fixed soon indirectly by the fact that I am moving tooling out of $GOPATH\/bin","ts":"1478186566.001736"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> not sure, but it might be","ts":"1478186583.001737"},{"type":"message","user":"U0XPR4NP4","text":"Ah, okay, I was just about to ask if this was worth JIRA-ing, but it sounds like not","ts":"1478186585.001738"},{"type":"message","user":"U0ZJZBJLF","text":"is Z using V1?","ts":"1478186600.001739"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XPR4NP4> generally, im a fan of keeping tabs, so if you dont mind","ts":"1478186603.001740"},{"type":"message","user":"U0ZJZBJLF","text":"going to soon?","ts":"1478186605.001741"},{"type":"message","user":"U0ZJZBJLF","text":"is the Z builds using the same code base we do now?","ts":"1478186616.001742"},{"type":"message","user":"U0ZJZBJLF","text":"because, I have a pb.go file of gossip committed....","ts":"1478186625.001743"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XPR4NP4> I could easily get distracted from my current queue and the issue gets lost","ts":"1478186627.001744"},{"type":"message","user":"U0XPR4NP4","text":"Alright, sure, I can open it","ts":"1478186643.001745"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> not sure what you mean with \u201cV1\"","ts":"1478186644.001746"},{"type":"message","user":"U0KPFAZNF","text":"you mean master branch aka v1.0","ts":"1478186652.001747"},{"type":"message","user":"U0KPFAZNF","text":"?","ts":"1478186653.001748"},{"type":"message","user":"U0ZJZBJLF","text":"yes","ts":"1478186656.001749"},{"type":"message","user":"U0ZJZBJLF","text":"is the Z using the current master, or not","ts":"1478186662.001750"},{"type":"message","user":"U0KPFAZNF","text":"support is still emerging, but master is the most closely ready to support Z","ts":"1478186678.001751"},{"type":"message","user":"U0KPFAZNF","text":"actually, scratch that","ts":"1478186690.001752"},{"type":"message","user":"U0ZJZBJLF","text":"and, can anyone of you do \"devenv\/compile_protos.sh\" please and tell me if gossip\/proto\/messages.pb.go is colored red when you do `git status`?","ts":"1478186701.001753"},{"type":"message","user":"U0KPFAZNF","text":"v0.6 also supports Z by virtue of the old contingency logic","ts":"1478186710.001754"},{"type":"message","user":"U0ZJZBJLF","text":"I'd like to know if the output is different","ts":"1478186710.001755"},{"type":"message","user":"U0ZJZBJLF","text":"(I'm not using the vagrant)","ts":"1478186722.001756"},{"type":"message","user":"U0KPFAZNF","text":"to your other question: yes, Z will use the same code base in master","ts":"1478186747.001757"},{"type":"message","user":"U0KPFAZNF","text":"we need to cut a new v0.2.1 baseimage to enable that though","ts":"1478186762.001758"},{"type":"message","user":"U0XPR4NP4","text":"FYI <https:\/\/jira.hyperledger.org\/browse\/FAB-947>","ts":"1478186871.001759"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XPR4NP4> ty","ts":"1478186900.001760"},{"type":"message","user":"U0ZJZBJLF","text":"```\n        modified:   core\/chaincode\/shim\/table.pb.go\n        modified:   gossip\/proto\/message.pb.go\n        modified:   orderer\/atomicbroadcast\/ab.pb.go\n```","ts":"1478186904.001761"},{"type":"message","user":"U0XPR4NP4","text":"Those last two are my fault","ts":"1478186915.001762"},{"type":"message","user":"U0ZJZBJLF","text":"I did `git pull` on master in a vagrant devenv","ts":"1478186920.001763"},{"type":"message","user":"U0XPR4NP4","text":"Because my local proto gen was incorrect","ts":"1478186922.001764"},{"type":"message","user":"U0XPR4NP4","text":"Oh, not the gossip one","ts":"1478186930.001765"},{"type":"message","user":"U0XPR4NP4","text":"Sorry, just the last one","ts":"1478186933.001766"},{"type":"message","user":"U0ZJZBJLF","text":"**sigh**","ts":"1478186957.001767"},{"type":"message","user":"U0ZJZBJLF","text":"I'll upgrade my proto I guess and will do a PR tonight","ts":"1478186972.001768"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> do we need a vendor update to v3.1.0?","ts":"1478187034.001769"},{"type":"message","user":"U0KPFAZNF","text":"my guess is \u201cnot urgently\u201d, but I am not sure","ts":"1478187044.001770"},{"type":"message","user":"U0ZJZBJLF","text":"why would we need a vendor update?","ts":"1478187058.001771"},{"type":"message","user":"U0ZJZBJLF","text":"oh","ts":"1478187069.001772"},{"type":"message","user":"U0ZJZBJLF","text":"yeah","ts":"1478187071.001773"},{"type":"message","user":"U0ZJZBJLF","text":"I guess?","ts":"1478187073.001774"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XPR4NP4> did you get parity between your local tooling and the vagrant tooling after fixing the protoc-gen-go snafu?","ts":"1478187080.001775"},{"type":"message","user":"U0ZJZBJLF","text":"maybe try download the latest and see if there is a difference in the files in the vendor","ts":"1478187092.001776"},{"type":"message","user":"U0KPFAZNF","text":"yeah, i probably wont have time today","ts":"1478187108.001777"},{"type":"message","user":"U0KPFAZNF","text":"but we can check that","ts":"1478187112.001778"},{"type":"message","user":"U0XPR4NP4","text":"<@U0KPFAZNF> Yes, I did get parity between local and vagrant after the regen","ts":"1478187146.001779"},{"type":"message","user":"U0KPFAZNF","text":"ok cool","ts":"1478187169.001780"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> i think thats the answer: its not urgent, as v3.0.2 and v3.1.0 seem to generate identical pb.go","ts":"1478187196.001781"},{"type":"message","user":"U0KPFAZNF","text":"just on the low-pri \u201cto do\u201d list","ts":"1478187205.001782"},{"type":"message","subtype":"file_share","text":"<@U0ZJZBJLF|yacovm> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F2YCTUD5K\/-.go|Untitled>","file":{"id":"F2YCTUD5K","created":1478187235,"timestamp":1478187235,"name":"-.go","title":"Untitled","mimetype":"text\/plain","filetype":"go","pretty_type":"Go","user":"U0ZJZBJLF","editable":true,"size":5787,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2YCTUD5K\/-.go?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2YCTUD5K\/download\/-.go?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F2YCTUD5K\/-.go","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2YCTUD5K-a1590b71f8","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F2YCTUD5K\/-.go\/edit","preview":"--- a\/gossip\/proto\/message.pb.go\r\n+++ b\/gossip\/proto\/message.pb.go\r\n@@ -826,55 +826,56 @@ var _Gossip_serviceDesc = grpc.ServiceDesc{\r\n func init() { proto1.RegisterFile(\"message.proto\", fileDescriptor0) }\r\n\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-operator\">---<\/span> <span class=\"cm-variable\">a<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">gossip<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">proto<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">message<\/span><span class=\"cm-number\">.<\/span><span class=\"cm-variable\">pb<\/span><span class=\"cm-number\">.<\/span><span class=\"cm-keyword\">go<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-operator\">+++<\/span> <span class=\"cm-variable\">b<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">gossip<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">proto<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">message<\/span><span class=\"cm-number\">.<\/span><span class=\"cm-variable\">pb<\/span><span class=\"cm-number\">.<\/span><span class=\"cm-keyword\">go<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-variable\">@<\/span><span class=\"cm-variable\">@<\/span> <span class=\"cm-operator\">-<\/span><span class=\"cm-number\">826<\/span>,<span class=\"cm-number\">55<\/span> <span class=\"cm-operator\">+<\/span><span class=\"cm-number\">826<\/span>,<span class=\"cm-number\">56<\/span> <span class=\"cm-variable\">@<\/span><span class=\"cm-variable\">@<\/span> <span class=\"cm-keyword\">var<\/span> <span class=\"cm-variable\">_Gossip_serviceDesc<\/span> <span class=\"cm-operator\">=<\/span> <span class=\"cm-variable\">grpc<\/span><span class=\"cm-number\">.<\/span><span class=\"cm-variable\">ServiceDesc<\/span>{<\/pre><\/div>\n<div><pre> <span class=\"cm-keyword\">func<\/span> <span class=\"cm-variable\">init<\/span>() { <span class=\"cm-variable\">proto1<\/span><span class=\"cm-number\">.<\/span><span class=\"cm-variable\">RegisterFile<\/span>(<span class=\"cm-string\">&quot;message.proto&quot;<\/span>, <span class=\"cm-variable\">fileDescriptor0<\/span>) }<\/pre><\/div>\n<div><pre>&#8203;<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":61,"lines_more":56,"preview_is_truncated":true,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U0ZJZBJLF","upload":true,"display_as_bot":false,"username":"<@U0ZJZBJLF|yacovm>","bot_id":null,"ts":"1478187236.001783"},{"type":"message","user":"U0ZJZBJLF","text":"that's the diff I get","ts":"1478187238.001784"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> are you saying this is an unexpected churn?","ts":"1478187276.001785"},{"type":"message","user":"U0KPFAZNF","text":"sorry, i dont have the context","ts":"1478187280.001786"},{"type":"message","user":"U0ZJZBJLF","text":"when I compiled gossip it was with 3.0.0","ts":"1478187291.001787"},{"type":"message","user":"U0KPFAZNF","text":"(e.g. are you editing message.proto, etc?)","ts":"1478187292.001788"},{"type":"message","user":"U0ZJZBJLF","text":"not 3.1","ts":"1478187293.001789"},{"type":"message","user":"U0ZJZBJLF","text":"now I did from a vagrant image- git pull in master","ts":"1478187319.001790"},{"type":"message","user":"U0ZJZBJLF","text":"and compiled the proto files","ts":"1478187324.001791"},{"type":"message","user":"U0ZJZBJLF","text":"and that's the diff","ts":"1478187328.001792"},{"type":"message","user":"U0ZJZBJLF","text":"so, the code that is checked in master at the moment has a diff in comparison to what should have been there instead","ts":"1478187345.001793"},{"type":"message","user":"U0KPFAZNF","text":"as a high level comment, I would say format produced from devenv is authoritative over produced by native tooling","ts":"1478187365.001794"},{"type":"message","user":"U0KPFAZNF","text":"all else being equal, and barring bugs (e.g. FAB-947)","ts":"1478187403.001795"},{"type":"message","user":"U0ZJZBJLF","text":"of course...","ts":"1478187403.001796"},{"type":"message","user":"U0ZJZBJLF","text":"the devenv defines what should be inside","ts":"1478187413.001797"},{"type":"message","user":"U0KPFAZNF","text":"so, if in doubt, recompile from devenv tooling ahead of your .proto updating patch, and we can get that in there","ts":"1478187454.001798"},{"type":"message","user":"U13TWBRBL","text":"<@U0KPFAZNF> want to follow up on the topic in <#C28CXQXD5|fabric-maintainers> that <@U0KM61BCP> brought up regarding publishing the v1.0 docker images. the SDK teams (node.js, java, python) would greatly benefit from this because it allows them to do development in the native host environment without vagrant","ts":"1478199877.001799"},{"type":"message","user":"U0KPFAZNF","text":"well, independent from that, we are also working on making the development environment vagrant free","ts":"1478199917.001800"},{"type":"message","user":"U0KPFAZNF","text":"would that be helpful?","ts":"1478199930.001801"},{"type":"message","user":"U13TWBRBL","text":"an even bigger benefit is it allows the test prep to be done automatically so the test bucket can run in the local host environment without requiring manually setting up the target network.","ts":"1478199976.001802"},{"type":"message","user":"U0KPFAZNF","text":"which?","ts":"1478199994.001803"},{"type":"message","user":"U0KPFAZNF","text":"sorry, which provides that benefit?","ts":"1478200040.001804"},{"type":"message","user":"U0KPFAZNF","text":"(the image publication or the eradication of vagrant) ?","ts":"1478200052.001805"},{"type":"message","user":"U13TWBRBL","text":"image publication will enable me to set up the target network without vagrant","ts":"1478200088.001806"},{"type":"message","user":"U0KPFAZNF","text":"with the patch queue I am preparing, any docker compatible host (linux, docker-for-mac, docker-for-win) can just clone fabric &amp;&amp; make","ts":"1478200107.001807"},{"type":"message","user":"U13TWBRBL","text":"that\u2019s very useful, however I think for SDK contributors in most cases a daily published images are sufficient","ts":"1478200197.001808"},{"type":"message","user":"U13TWBRBL","text":"so they don\u2019t need to always stay on the latest fabric code and build locally","ts":"1478200210.001809"},{"type":"message","user":"U0KPFAZNF","text":"I have concerns about the published image model though","ts":"1478200214.001810"},{"type":"message","user":"U13TWBRBL","text":"really? isn\u2019t that what we\u2019ve been doing though?","ts":"1478200251.001811"},{"type":"message","user":"U0KPFAZNF","text":"sorry, i mean -snapshot publication","ts":"1478200269.001812"},{"type":"message","user":"U0KPFAZNF","text":"not releases","ts":"1478200271.001813"},{"type":"message","user":"U0KPFAZNF","text":"those are fine","ts":"1478200273.001814"},{"type":"message","user":"U13TWBRBL","text":"oh...","ts":"1478200282.001815"},{"type":"message","user":"U0KPFAZNF","text":"there would be a few issues to sort out, and a few issues that really cant be sorted out with that model","ts":"1478200305.001816"},{"type":"message","user":"U0KPFAZNF","text":"for one thing, today we build every snapshot with a unique hash in the name","ts":"1478200339.001817"},{"type":"message","user":"U0KPFAZNF","text":"so you would have no deterministic target to pull from","ts":"1478200354.001818"},{"type":"message","user":"U0KPFAZNF","text":"we can mitigate that with :latest or similar, but that has problems with repeatability","ts":"1478200368.001819"},{"type":"message","user":"U0KPFAZNF","text":"and then there is the question of abuse of the storage on dockerhub as a more minor concern","ts":"1478200396.001820"},{"type":"message","user":"U0KPFAZNF","text":"to be clear: I am not saying I am voting against this: I just have some concerns","ts":"1478200450.001821"},{"type":"message","user":"U13TWBRBL","text":"i\u2019d say having a :latest and a :sprint-end is sufficient","ts":"1478200476.001822"},{"type":"message","user":"U0KPFAZNF","text":"yes, but :latest what?","ts":"1478200487.001823"},{"type":"message","user":"U13TWBRBL","text":"even just :latest","ts":"1478200489.001824"},{"type":"message","user":"U0KPFAZNF","text":"fabric-peer:latest ?  what is that? x86_64 or s390x?  v0.6:latest or v1.0:latest, etc","ts":"1478200518.001825"},{"type":"message","user":"U13TWBRBL","text":"can we use a naming scheme with v1.0 in the name?","ts":"1478200525.001826"},{"type":"message","user":"U0KPFAZNF","text":"we could have fabric-peer:s390x-1.0.0-snapshot","ts":"1478200554.001827"},{"type":"message","user":"U13TWBRBL","text":"i remember that now","ts":"1478200569.001828"},{"type":"message","user":"U0KPFAZNF","text":"that would get you closer\u2026but its still impacts repeatability","ts":"1478200577.001829"},{"type":"message","user":"U0KPFAZNF","text":"it may work today, but not tomorrow","ts":"1478200584.001830"},{"type":"message","user":"U0KPFAZNF","text":"right now I am of the mindset that we are better to reduce the friction of producing the artifacts and let those environments link that way","ts":"1478200622.001831"},{"type":"message","user":"U13TWBRBL","text":"\"still impacts repeatability\u201d - can you elaborate?","ts":"1478200641.001832"},{"type":"message","user":"U0KPFAZNF","text":"well, say todays image \u201cworks\u201d and tomorrows image \u201cdoesnt\"","ts":"1478200659.001833"},{"type":"message","user":"U0KPFAZNF","text":"you could have a test that you run today\u2026touch nothing, and get a different result tomorrow","ts":"1478200673.001834"},{"type":"message","user":"U0KPFAZNF","text":"thus, its not a repeatable operation","ts":"1478200679.001835"},{"type":"message","user":"U0KPFAZNF","text":"generally this should be avoided","ts":"1478200699.001836"},{"type":"message","user":"U13TWBRBL","text":"i\u2019d say having \u201cfabric-peer:x86_64-1.0.0-latest\u201d is going to make a number of use cases happy (local tests, CI jobs)","ts":"1478200699.001837"},{"type":"message","user":"U0KPFAZNF","text":"well, \u201chappy\u201d != \u201cdeterministic\u201d or \u201creliable\u201d :wink:","ts":"1478200736.001838"},{"type":"message","user":"U0KPFAZNF","text":"i understand what you are after, i just have concerns with the model","ts":"1478200751.001839"},{"type":"message","user":"U13TWBRBL","text":"\"a test that you run today\u2026touch nothing, and get a different result tomorrow\u201d - why would that be?","ts":"1478200772.001840"},{"type":"message","user":"U13TWBRBL","text":"you mean the fabric-peer has progressed and updated and now doesn\u2019t work with my SDK code because the peer broke in the latest build?","ts":"1478200811.001841"},{"type":"message","user":"U0KPFAZNF","text":"ok, say todays \"s390x-1.0.0-snapshot\u201d works flawlessly and tomorrows is a repackaged \/bin\/true","ts":"1478200818.001842"},{"type":"message","user":"U0KPFAZNF","text":"you could have an SDK workflow that is non deterministic even if nothing locally changes","ts":"1478200850.001843"},{"type":"message","user":"U0KPFAZNF","text":"tomorrows release doesn\u2019t open its GRPC port, or anything else","ts":"1478200878.001844"},{"type":"message","user":"U0KPFAZNF","text":"thats all I am getting at: its not guaranteed to be repeatable","ts":"1478200894.001845"},{"type":"message","user":"U13TWBRBL","text":"in that case I value staying up-to-date over determinism, i\u2019d rather be told \u201cSDK doesn\u2019t work with latest peer\u201d and go investigate who\u2019s broken, rather than \u201ceverything\u2019s still good\u201d when it\u2019s not","ts":"1478200953.001846"},{"type":"message","user":"U0KPFAZNF","text":"there are other ways to stay up to date that don\u2019t introduce reliability concerns though","ts":"1478201026.001847"},{"type":"message","user":"U0KPFAZNF","text":"what is the friction point we are trying to address?","ts":"1478201037.001848"},{"type":"message","user":"U13TWBRBL","text":"so first of all, trying to get rid of vagrant so the changeset that you are working on would help with that (big thanks!)","ts":"1478201091.001849"},{"type":"message","user":"U13TWBRBL","text":"even after that, i\u2019d still have to download fabric and build it (thought it\u2019ll be better now that it\u2019s done in macOS)","ts":"1478201139.001850"},{"type":"message","user":"U13TWBRBL","text":"and we would set up SDK\u2019s CI job to pull down the latest fabric and build the images","ts":"1478201181.001851"},{"type":"message","user":"U0KPFAZNF","text":"so, if we assume for a second that bandwidth\/compute is unlimited and you could pull any version of fabric.git and get the corresponding docker images instantaneously, would that satisfy your itch?","ts":"1478201196.001852"},{"type":"message","user":"U13TWBRBL","text":"yes","ts":"1478201214.001853"},{"type":"message","user":"U0KPFAZNF","text":"ok\u2026obviously \u201cinstant\u201d is impossible, but I think we can get this pretty low friction, especially after its been done once before","ts":"1478201245.001854"},{"type":"message","user":"U13TWBRBL","text":"plus i don\u2019t have to explain to newcomers to the SDK project how they set up the target network","ts":"1478201246.001855"},{"type":"message","user":"U13TWBRBL","text":"\u201cjust use this docker-compose\u201d, that\u2019s it","ts":"1478201275.001856"},{"type":"message","user":"U0KPFAZNF","text":"right\u2026to be clear: i have no problem with that model for releases","ts":"1478201291.001857"},{"type":"message","user":"U0KPFAZNF","text":"its the -snapshot\/latest stuff that gives me heartburn","ts":"1478201306.001858"},{"type":"message","user":"U13TWBRBL","text":"\u201cnewcomers\u201d as early adopters or contributors","ts":"1478201323.001859"},{"type":"message","user":"U0KPFAZNF","text":"sure","ts":"1478201328.001860"},{"type":"message","user":"U0KPFAZNF","text":"users or contributors, doesnt matter","ts":"1478201336.001861"},{"type":"message","user":"U0KPFAZNF","text":"want it to be as smooth and painless as possible","ts":"1478201347.001862"},{"type":"message","user":"U13TWBRBL","text":"right","ts":"1478201352.001863"},{"type":"message","user":"U0KPFAZNF","text":"ok, well let me finish up this POC and we can go from there","ts":"1478201367.001864"},{"type":"message","user":"U0KPFAZNF","text":"it might be that its trivial to get what you want based on it","ts":"1478201379.001865"},{"type":"message","user":"U13TWBRBL","text":"ok, i think i advocated for my case, please give it some thought. in the meanwhile i can\u2019t wait to be able to build the images natively on Mac","ts":"1478201405.001866"},{"type":"message","user":"U0KPFAZNF","text":"ok will do","ts":"1478201423.001867"},{"type":"message","user":"U13TWBRBL","text":"thanks Greg","ts":"1478201425.001868"},{"type":"message","user":"U0KPFAZNF","text":"one note: right now I am leaning towards only supporting docker-for-mac (rather than the older docker-machine\/boot2docker)","ts":"1478201451.001869"},{"type":"message","user":"U13TWBRBL","text":"works for me, it\u2019s infinitely more convenient than docker-machine anyway :wink:","edited":{"user":"U13TWBRBL","ts":"1478201489.000000"},"ts":"1478201476.001870"},{"type":"message","user":"U0KPFAZNF","text":"there are limitations on the older stuff","ts":"1478201478.001871"},{"type":"message","user":"U0KPFAZNF","text":"i agree","ts":"1478201483.001872"},{"type":"message","user":"U0KPFAZNF","text":"i have a 2009 macpro desktop that can only run docker-machine :disappointed:","ts":"1478201494.001874"},{"type":"message","user":"U0KPFAZNF","text":"but my macbook-pro is new enough to run docker-for-mac and its quite awesome","ts":"1478201510.001875","reactions":[{"name":"+1","users":["U13TWBRBL"],"count":1}]},{"type":"message","user":"U0XPR4NP4","text":"<@U0KPFAZNF> I'm looking at organizing our proto files into directories per some discussion with <@U0ULK2JPP> and others.  The plan is to have a `protos\/common` for things which the orderer and the peer need to understand (like the block format) and then a `protos\/orderer` for the orderer service definitions.  Apparently, if you want to import proto files across directories in a sane way, you need to specify the proto root as a base directory, and then reference them by 'canonical name'. \n\n<https:\/\/github.com\/google\/protobuf\/issues\/723>  &lt;- this has more information if you are curious\n\nI'm looking at modifying the `devenv\/compile_protos.sh`, which today compiles all protos only in the context of their current directory.  I was looking to modify this, and was wondering if you had an opinion as to a clean way to do so?  The obvious way is to exclude the `fabric\/protos` dir and add a separate compilation step for it, but that seems a little messy to me.  Do you have a better idea?","attachments":[{"service_name":"GitHub","title":"confusing interaction between -I and --cpp_out arguments \u00b7 Issue #723 \u00b7 google\/protobuf \u00b7 GitHub","title_link":"https:\/\/github.com\/google\/protobuf\/issues\/723","text":"I have the following directory structure (master)$ tree . \u251c\u2500\u2500 Makefile \u251c\u2500\u2500 protofiles \u2502\u00a0\u00a0 \u251c\u2500\u2500 Base \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 Base.proto \u2502\u00a0\u00a0 \u251c\u2500\u2500 CategoryA \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 MessageA1.proto \u2502\u00a0\u00a0 \u251c\u2500\u2500 CategoryB \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500...","fallback":"GitHub: confusing interaction between -I and --cpp_out arguments \u00b7 Issue #723 \u00b7 google\/protobuf","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/6911903?v=3&s=400","from_url":"https:\/\/github.com\/google\/protobuf\/issues\/723","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1478202288.001876"},{"type":"message","user":"U0KPFAZNF","text":"i pretty much have to wrap my head around it each time I need to work with protoc","ts":"1478202351.001878"},{"type":"message","user":"U0KPFAZNF","text":"the only comment I have atm is that <@U0ZJZBJLF> and I worked on a patch that dynamically compiled protos (rather than committed .pb.go files) which cleaned some of this up","ts":"1478202382.001879"},{"type":"message","user":"U0KPFAZNF","text":"we ultimately abandoned the patch because not having the .pb.go files commited breaks some workflows","ts":"1478202400.001880"},{"type":"message","user":"U0KPFAZNF","text":"however, there might be a few nuggets of improvement buried in that patch you could borrow","ts":"1478202420.001881"},{"type":"message","user":"U0KPFAZNF","text":"ill see if I can find it","ts":"1478202444.001882"},{"type":"message","user":"U0XPR4NP4","text":"Thanks!","ts":"1478202461.001883"},{"type":"message","user":"U0KPFAZNF","text":"hmm, maybe it wasnt <@U0ZJZBJLF>","ts":"1478202580.001884"},{"type":"message","user":"U0KPFAZNF","text":"or maybe it wasnt abandoned yet, let me look in open patches","ts":"1478202596.001885"},{"type":"message","user":"U0KPFAZNF","text":"hmm, having trouble finding it","ts":"1478202781.001886"},{"type":"message","user":"U0XPR4NP4","text":"I always prefer to steal, but no need to waste your time looking for it.  I can hack something up pretty quickly, was just hoping there was some silver bullet I was unaware of","ts":"1478202941.001887"},{"type":"message","user":"U0KPFAZNF","text":"found it","ts":"1478203006.001888"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/789\/>","ts":"1478203007.001889"},{"type":"message","user":"U0KPFAZNF","text":"not sure its entirely helpful\u2026i just remember wrestling with protoc :wink:","ts":"1478203049.001890"},{"type":"message","user":"U0XPR4NP4","text":"Thanks! I'll take a look","ts":"1478203135.001891"},{"type":"message","user":"U0ZJZBJLF","text":"that *was* me","ts":"1478205182.001892"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0XPR4NP4>  what's wrong with the compile protos script? why would you have it exclude something?","ts":"1478205877.001893"},{"type":"message","user":"U0KPFAZNF","text":"yeah, sorry, i was struggling to find the patch when searching by your name, thats why I questioned my memory","ts":"1478205897.001894"},{"type":"message","user":"U0KPFAZNF","text":"it turns out, it was because that was the one I had re-issued so it showed up under my LFID","ts":"1478205918.001895"},{"type":"message","user":"U0XPR4NP4","text":"<@U0ZJZBJLF> Essentially, the proto compilation today assumes every proto's root is the directory it resides in.  If you want to have proto imports work across directories, this doesn't work","ts":"1478205943.001896"},{"type":"message","user":"U0ZJZBJLF","text":"what do you mean across dirs? you can only \"go up a level\" and then go down levels but you can't for instance- go up 2 levels, etc?","ts":"1478206056.001897"},{"type":"message","user":"U0XPR4NP4","text":"So, for my particular application, I want to have two dirs (eventually more). `protos\/common` which contains the block definition and some other stuff, and `protos\/orderer` which contains the atomicbroadcast service definitions etc.","ts":"1478206112.001898"},{"type":"message","user":"U0XPR4NP4","text":"The `protos\/orderer\/ab.proto` file needs to reference the block structure, so, I could say something like `import common.proto`, but of course, `common.proto` is not in the same directory, so this resolution fails","ts":"1478206157.001899"},{"type":"message","user":"U0XPR4NP4","text":"Proto also doesn't support relative path resolution, so `..\/common\/common.proto` is out","ts":"1478206183.001900"},{"type":"message","user":"U0XPR4NP4","text":"So my first stab, was to basically pass the list of the directories which contain protos in as directories to be included for searching.  This works, to an extent, in so far as the protos compile.  However, the resulting go code does not.","ts":"1478206222.001901"},{"type":"message","user":"U0ZJZBJLF","text":"oh, right! so the script assumes everything is in each local dir","ts":"1478206240.001902"},{"type":"message","user":"U0XPR4NP4","text":"Right","ts":"1478206243.001903"},{"type":"message","user":"U0ZJZBJLF","text":"I remember now... I was editing that script and made it into a makefile with <@U0KPFAZNF> 's crazy (in a good way)  Makefile DSL tips","edited":{"user":"U0ZJZBJLF","ts":"1478206319.000000"},"ts":"1478206276.001904"},{"type":"message","user":"U0XPR4NP4","text":"So, apparently the 'right' way to do this, is to run the protoc command from a common parent directory, to use for the canonical root in naming, so I am working on doing this cleanly","ts":"1478206300.001905"},{"type":"message","user":"U0XPR4NP4","text":"And <@U0KPFAZNF> remembered that there had been some work done around cleaning up the proto generation (yours) and thought it might be helpful","ts":"1478206325.001907"},{"type":"message","user":"U0XPR4NP4","text":"I think it actually turns out that there's not a ton of overlap, especially if the decision to move it into make got veto-ed","ts":"1478206355.001908"},{"type":"message","user":"U0ZJZBJLF","text":"thing is- I had a commit that removed the pb.go files and made them autogenerate","ts":"1478206373.001909"},{"type":"message","user":"U0XPR4NP4","text":"Yep","ts":"1478206379.001910"},{"type":"message","user":"U0KPFAZNF","text":"this is the same commit we are referring to","ts":"1478206387.001911"},{"type":"message","user":"U0ZJZBJLF","text":"it passed CI and all","ts":"1478206393.001912"},{"type":"message","user":"U0ZJZBJLF","text":"was merged and then broke some people's builds","ts":"1478206393.001913"},{"type":"message","user":"U0ZJZBJLF","text":"no one knows why","ts":"1478206393.001914"},{"type":"message","user":"U0KPFAZNF","text":"i actually like the idea","ts":"1478206402.001915"},{"type":"message","user":"U0KPFAZNF","text":"i know why","ts":"1478206404.001916"},{"type":"message","user":"U0ZJZBJLF","text":"I was on a business trip to greece, couldn't take care of it at that time :disappointed:","ts":"1478206413.001917"},{"type":"message","user":"U0KPFAZNF","text":"its because, well, to put it bluntly, golang is a little limited sometimes, heh","ts":"1478206433.001918"},{"type":"message","user":"U0ZJZBJLF","text":"there is also a small... security flaw in our current aproach","ts":"1478206450.001919"},{"type":"message","user":"U0ZJZBJLF","text":"I assume if someone changes a .proto file and uploads pb.go files, no one reviews the pb.go files, right?","ts":"1478206472.001920"},{"type":"message","user":"U0KPFAZNF","text":"yes, this is why I like your approach, if we could make it work with the other issues","ts":"1478206473.001921"},{"type":"message","user":"U0ZJZBJLF","text":"you can easy put there some backdoor or something","ts":"1478206479.001922"},{"type":"message","user":"U0KPFAZNF","text":"we could mitigate this by having CI check the pb.go files as part of the linter run if this were a concern though","ts":"1478206504.001923"},{"type":"message","user":"U0ZJZBJLF","text":"yep, that's a great idea.","ts":"1478206520.001924"},{"type":"message","user":"U0ZJZBJLF","text":"make it generate and do diff","ts":"1478206526.001925"},{"type":"message","user":"U0KPFAZNF","text":"right","ts":"1478206530.001926"},{"type":"message","user":"U0ZJZBJLF","text":"that'll also solve problems such as someone having an old protoc","ts":"1478206540.001927"},{"type":"message","user":"U0KPFAZNF","text":"i think thats about as good as we can get with the current limitations","ts":"1478206553.001928"},{"type":"message","user":"U0KPFAZNF","text":"(the issue is that things that have go deps dont understand what protoc is","ts":"1478206591.001929"},{"type":"message","user":"U0KPFAZNF","text":"so, for instance, if you do \u201cimport <http:\/\/github.com\/hyperledger\/fabric\/core\/chaincode\/shim|github.com\/hyperledger\/fabric\/core\/chaincode\/shim>\u201d in a chaincode app, it has no idea what a .proto is","ts":"1478206626.001930"},{"type":"message","user":"U0KPFAZNF","text":"but the missing .pb.go will mean it doesnt compile","ts":"1478206650.001931"},{"type":"message","user":"U0XPR4NP4","text":"+1 on generating the protos in the CI build and making sure there is no diff","edited":{"user":"U0XPR4NP4","ts":"1478206707.000000"},"ts":"1478206686.001932"},{"type":"message","user":"U0KPFAZNF","text":"so it works when you have something like a makefile based build, but not so much elsewhere","ts":"1478206693.001933"},{"type":"message","user":"U0ZJZBJLF","text":"I don't understand the chaincode example","ts":"1478206723.001935"},{"type":"message","user":"U0KPFAZNF","text":"ok, ignore chaincode\u2026say you have two golang projects","ts":"1478206738.001936"},{"type":"message","user":"U0ZJZBJLF","text":"why would you want to import pb.go files when you write chaincode","ts":"1478206746.001937"},{"type":"message","user":"U0KPFAZNF","text":"one is a library that uses protobufs","ts":"1478206749.001938"},{"type":"message","user":"U0KPFAZNF","text":"another is an app that imports the library","ts":"1478206759.001940"},{"type":"message","user":"U0KPFAZNF","text":"when you write the app, the golang toolchain manages all the deps stuff for you","ts":"1478206781.001944"},{"type":"message","user":"U0KPFAZNF","text":"so the app just says \u201cimport foo\u201d and golang goes and downloads foo.git and compiles it into your app","ts":"1478206805.001945"},{"type":"message","user":"U0KPFAZNF","text":"you never get to interject and say \u201cwait!  I need to compile .proto -&gt; .pb.go first\"","ts":"1478206826.001946"},{"type":"message","user":"U0KPFAZNF","text":"it just does it all in one fell swoop","ts":"1478206835.001947"},{"type":"message","user":"U0ZJZBJLF","text":"oh I see what you mean now","ts":"1478206843.001948"},{"type":"message","user":"U0ZJZBJLF","text":"so you won't get *.pb.go","ts":"1478206849.001949"},{"type":"message","user":"U0KPFAZNF","text":"so, therefore, the library has to have the .pb.go checked in","ts":"1478206849.001950"},{"type":"message","user":"U0ZJZBJLF","text":"if they're auto-generated","ts":"1478206857.001951"},{"type":"message","user":"U0KPFAZNF","text":"right","ts":"1478206860.001952"},{"type":"message","user":"U0KPFAZNF","text":"and we were hitting this on the shim","ts":"1478206866.001953"},{"type":"message","user":"U0ZJZBJLF","text":"but why does this fit to our use case?","ts":"1478206868.001954"},{"type":"message","user":"U0ZJZBJLF","text":"the shim is a part of the fabric","ts":"1478206890.001955"},{"type":"message","user":"U0KPFAZNF","text":"basically things like the SDK and the shim were interacting in a manner similar to how I described","ts":"1478206891.001956"},{"type":"message","user":"U0KPFAZNF","text":"no, the shim is a library that gets embedded into chaincode","ts":"1478206905.001957"},{"type":"message","user":"U0KPFAZNF","text":"its _related_ to fabric, sure","ts":"1478206911.001958"},{"type":"message","user":"U0KPFAZNF","text":"but its not part of the peer proper","ts":"1478206916.001959"},{"type":"message","user":"U0KPFAZNF","text":"its part of the chaincode proper","ts":"1478206928.001960"},{"type":"message","user":"U0ZJZBJLF","text":"yeah it runs \"outside\"","ts":"1478206928.001961"},{"type":"message","user":"U0ZJZBJLF","text":"oh I see","ts":"1478206932.001962"},{"type":"message","user":"U0ZJZBJLF","text":"you need the pb.go files from the fabric to compile the shim","ts":"1478206940.001963"},{"type":"message","user":"U0KPFAZNF","text":"bingo","ts":"1478206946.001964"},{"type":"message","user":"U0KPFAZNF","text":"thats what broke","ts":"1478206950.001965"},{"type":"message","user":"U0ZJZBJLF","text":"that's what was broken in my changeset that time?","ts":"1478206965.001966"},{"type":"message","user":"U0KPFAZNF","text":"yep","ts":"1478206969.001967"},{"type":"message","user":"U0ZJZBJLF","text":"oh cool. Thanks for the explanation","ts":"1478206980.001968"},{"type":"message","user":"U0KPFAZNF","text":"not your fault\u2026i didnt pick up on it either until we got more testing on it","ts":"1478206982.001969"},{"type":"message","user":"U0ZJZBJLF","text":"basically if that was C or java","ts":"1478207043.001970"},{"type":"message","user":"U0ZJZBJLF","text":"you could have compiled the shim into a .o file or something","ts":"1478207058.001971"},{"type":"message","user":"U0ZJZBJLF","text":"and added that to the chaincode","ts":"1478207062.001972"},{"type":"message","user":"U0ZJZBJLF","text":"maybe there is something like that in go? an object file?","ts":"1478207180.001973"},{"type":"message","user":"U0ZJZBJLF","text":"<http:\/\/stackoverflow.com\/a\/30488222> ? maybe we can create a shared object for the shim?","attachments":[{"title":"Building and linking dynamically from a go binary","title_link":"http:\/\/stackoverflow.com\/a\/30488222","text":"My problem is the following: I have a go binary on a machineFrom that binary I need to compile an external .go fileOnce compiled, I need to link the compiled go file into the current binary so I...","fallback":"Building and linking dynamically from a go binary","thumb_url":"http:\/\/cdn.sstatic.net\/Sites\/stackoverflow\/img\/apple-touch-icon@2.png?v=73d79a89bded&a","from_url":"http:\/\/stackoverflow.com\/a\/30488222","thumb_width":316,"thumb_height":316,"service_icon":"http:\/\/cdn.sstatic.net\/Sites\/stackoverflow\/img\/favicon.ico?v=4f32ecc8f43d","service_name":"stackoverflow.com","id":1}],"ts":"1478207807.001974"},{"type":"message","user":"U0ZJZBJLF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2237\/>","ts":"1478216250.001976"},{"user":"U1KDAMDJ7","text":"<@U1KDAMDJ7|sanchezl> has joined the channel","type":"message","subtype":"channel_join","ts":"1478267602.001977"},{"type":"message","user":"U1KDAMDJ7","text":"CI seems to run on Go 1.6 ? Is that correct?","ts":"1478267723.001978"},{"type":"message","user":"U11HH3P7Y","text":"<@U1KDAMDJ7> : yes","ts":"1478268017.001979"},{"type":"message","user":"U1KDAMDJ7","text":"Any timeline for moving it to Go 1.7 to match the dev env ?","ts":"1478268045.001980"},{"type":"message","user":"U11HH3P7Y","text":"yes we are planning to move but I am not sure when we do that.. Will check and let you  know..","ts":"1478268199.001981"},{"type":"message","user":"U1KDAMDJ7","text":"Thanks","ts":"1478268379.001982"},{"type":"message","user":"U0KPFAZNF","text":"<@U1KDAMDJ7> on a related note, I am working on patches that would insulate the build from the devenv\/cienv","ts":"1478268669.001983"},{"type":"message","user":"U0KPFAZNF","text":"(via docker)","ts":"1478268678.001984"},{"type":"message","user":"U0KPFAZNF","text":"when I am done, the basic gist is that any of the *env environments we have just need to be basic docker environments","ts":"1478268725.001985"},{"type":"message","user":"U0KPFAZNF","text":"the tooling, such as golang, will be sourced within that ecosystem","ts":"1478268747.001986"},{"type":"message","user":"U1KDAMDJ7","text":"sounds great","ts":"1478268970.001987"},{"user":"U2YB2R2R1","text":"<@U2YB2R2R1|ptippett> has joined the channel","type":"message","subtype":"channel_join","ts":"1478274305.001988"},{"type":"message","user":"U13TWBRBL","text":"<@U0KPFAZNF> just want to follow on something you mentioned yesterday: `with the patch queue I am preparing, any docker compatible host (linux, docker-for-mac, docker-for-win) can just clone fabric &amp;&amp; make`","ts":"1478279078.001989"},{"type":"message","user":"U13TWBRBL","text":"can you let us know when those patches get in?","ts":"1478279095.001990"},{"type":"message","user":"U0KPFAZNF","text":"sure, its a pretty large change (conceptually) so it will need a bit of work\/review\/discussion\/acceptance","ts":"1478279938.001991"},{"type":"message","user":"U0KPFAZNF","text":"but ill post when theres something to look at","ts":"1478279945.001992"},{"type":"message","user":"U0KPFAZNF","text":"but i am at the point now where I have parity that \u201cmake peer\u201d and \u201cmake unit-test\u201d works in both the devenv and on my native mac","ts":"1478279984.001993"},{"type":"message","user":"U0KPFAZNF","text":"so, its progressing nicely","ts":"1478279996.001994"},{"type":"message","user":"U13TWBRBL","text":"cool, the key part for me is \u201cmake images\u201d, currently failing at the step adding gopath.tar.gz2 on Mac OS","ts":"1478280334.001995"},{"type":"message","user":"U0KPFAZNF","text":"oh, i know what that is","ts":"1478280345.001996"},{"type":"message","user":"U0KPFAZNF","text":"that isnt fixed explicitly in the patches, though I did have to contend with that error and have it fixed","edited":{"user":"U0KPFAZNF","ts":"1478280394.000000"},"ts":"1478280371.001997"},{"type":"message","user":"U0KPFAZNF","text":"thats the one that complains about the bzip header something or other, right?","ts":"1478280384.001998"},{"type":"message","user":"U13TWBRBL","text":"yep","ts":"1478280391.001999"},{"type":"message","user":"U0KPFAZNF","text":"the issue is that OSX ships with bsdtar but almost everything else in the flow is using\/expecting gnutar and there is an incongruence in the format","ts":"1478280430.002001"},{"type":"message","user":"U0KPFAZNF","text":"i fixed it on my system by installing gnutar with homebrew","ts":"1478280443.002002"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2Z7JJ33R\/-.txt|Untitled> and commented: ymmv","file":{"id":"F2Z7JJ33R","created":1478280473,"timestamp":1478280473,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0KPFAZNF","editable":true,"size":41,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2Z7JJ33R\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2Z7JJ33R\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2Z7JJ33R\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2Z7JJ33R-9c341e9af0","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2Z7JJ33R\/-.txt\/edit","preview":"brew install --with-default-names gnu-tar","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>brew install --with-default-names gnu-tar<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":1,"lines_more":0,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc2Z7JJ8BH","created":1478280473,"timestamp":1478280473,"user":"U0KPFAZNF","is_intro":true,"comment":"ymmv","channel":""},"reactions":[{"name":"+1","users":["U2YUJ564V"],"count":1}]},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1478280474.002003"},{"type":"message","user":"U13TWBRBL","text":"ah ok, i suspected it\u2019s something like that but couldn\u2019t nail down what the error means exactly","ts":"1478280489.002004"},{"type":"message","user":"U13TWBRBL","text":"cool","ts":"1478280490.002005"},{"type":"message","user":"U0KPFAZNF","text":"that will eclipse \u201ctar\u201d with the one from the gnutar package","ts":"1478280492.002006"},{"type":"message","user":"U13TWBRBL","text":"will give this a try","ts":"1478280495.002007"},{"type":"message","user":"U0KPFAZNF","text":"do note, if you already have it installed, it might not install the alias","ts":"1478280507.002008"},{"type":"message","user":"U0KPFAZNF","text":"you might have to do a reinstall or uninstall\/install cycle","ts":"1478280519.002009"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> ran into that particular snafu","ts":"1478280528.002010"},{"type":"message","user":"U0KPFAZNF","text":"not sure what the best long term solution is","ts":"1478280570.002011"},{"type":"message","user":"U0KPFAZNF","text":"worst case, we \u201cFAQ\u201d that fix","ts":"1478280578.002012"},{"type":"message","user":"U0KPFAZNF","text":"but would be nice to be a little more slick","ts":"1478280590.002013"},{"type":"message","user":"U0KPFAZNF","text":"as an aside, note that the \u201cimages\u201d target will likely go away in this patch series","ts":"1478280638.002014"},{"type":"message","user":"U0KPFAZNF","text":"mainline has things like \u201cpeer\u201d and \u201cpeer-image\u201d, but that doesnt make sense in the new build","ts":"1478280658.002015"},{"type":"message","user":"U0KPFAZNF","text":"so I collapsed them into just the undecorated names e.g. \u201cmake peer\u201d will spit out the peer docker image","ts":"1478280684.002016"},{"type":"message","user":"U13TWBRBL","text":"ok no problem, that works","ts":"1478280705.002017"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF> <@U13TWBRBL> I think <@U0PB67X4K> has a patch for fixing OSX build <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2255\/>","ts":"1478283787.002018"},{"type":"message","user":"U0KM61BCP","text":"note that this is for native OSX build - not the fix that Greg was talking about","ts":"1478283851.002019"},{"type":"message","user":"U0PB67X4K","text":"maybe we should make \"osx-packages.txt\" which we could then call via `brew install $(cat osx-packages.txt)`?","ts":"1478284339.002020"},{"type":"message","user":"U0PB67X4K","text":"might be useful for folks?","ts":"1478284357.002021"},{"type":"message","user":"U0KM61BCP","text":"I actually had gnutar installed but had to create symlink for \/usr\/local\/bin\/tar","ts":"1478286435.002022"},{"type":"message","user":"U0XPR4NP4","text":"<@U0KPFAZNF> I tagged you in the changeset, but <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2257\/2\/devenv\/compile_protos.sh> is what I came up with for allowing the proto compilation to support dependent directories.  Essentially, if there is a `.protoroot` file in one of the directories in a proto's path, then this is used as the root for the proto compilation, otherwise the root is inferred to be the directory which contains the proto.","edited":{"user":"U0XPR4NP4","ts":"1478288440.000000"},"ts":"1478288205.002023"},{"type":"message","user":"U0KM61BCP","text":"<@U0XPR4NP4> why in \/devenv and not \/scripts?","ts":"1478289025.002025"},{"type":"message","user":"U0XPR4NP4","text":"<@U0KM61BCP> That's just where I found it, seems like it probably belongs in `scripts`","ts":"1478289228.002026"},{"type":"message","user":"U0XPR4NP4","text":"Moved to scripts and added some additional comments <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2257\/3\/scripts\/compile_protos.sh>","ts":"1478289907.002027"},{"type":"message","user":"U0KPFAZNF","text":"its probably a vestige from when we only had devenv and not scripts dir","ts":"1478290108.002028"},{"type":"message","user":"U0KPFAZNF","text":"I agree scripts is more appropriate","ts":"1478290115.002029"},{"type":"message","user":"U0KM61BCP","text":"+1 cool thanks;-)","ts":"1478290442.002030"},{"user":"U2W7U5UA3","text":"<@U2W7U5UA3|pd93> has joined the channel","type":"message","subtype":"channel_join","ts":"1478690065.002032"},{"type":"message","user":"U0XPR4NP4","text":"<@U0KPFAZNF> It looks like the move to localize the go tools into the fabric dir creates files such as `gotools\/build\/gopath\/src\/github.com\/golang\/protobuf\/protoc-gen-go\/testdata\/extension_base.proto` so when I run a `make protos` I am getting a compile error.  Am I good to submit a patch which excludes this path?","ts":"1478706119.002033"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XPR4NP4> yes, please do","ts":"1478706600.002034"},{"type":"message","user":"U0KPFAZNF","text":"i addressed that in several places such as the linter, but missed that one","ts":"1478706613.002035"},{"type":"message","user":"U0KPFAZNF","text":"generally speaking \"build\" is probably safe to assume in general as something that should be skipped, regardless of its location in the tree","ts":"1478706648.002036"},{"type":"message","user":"U0XPR4NP4","text":"Will do","ts":"1478707122.002037"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XPR4NP4> on a related note: FYI that I have CR 2319 pending <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2319\/6\/Makefile>","ts":"1478707226.002038"},{"type":"message","user":"U0KPFAZNF","text":"I dont think this changes anything for you, just wanted you to be aware","ts":"1478707238.002039"},{"type":"message","user":"U0KPFAZNF","text":"I have some build issues to sort out before it even becomes eligible for consideration though","ts":"1478707261.002040"},{"type":"message","user":"U0XPR4NP4","text":"I was actually going to do a follow up changeset with something similar...","ts":"1478707293.002041"},{"type":"message","user":"U0XPR4NP4","text":"Had just pulled master, and realized there are now a lot of proto compilation errors","ts":"1478707310.002042"},{"type":"message","user":"U0XPR4NP4","text":"Seems like we should definitely run `make protos` in CI","ts":"1478707331.002043"},{"type":"message","user":"U0KPFAZNF","text":"yeah, i hope to be a place soon where things like the go and protoc compiler are normalized into a docker flow","ts":"1478707345.002044"},{"type":"message","user":"U0KPFAZNF","text":"yeah, just as a linter I am thinking","ts":"1478707363.002045"},{"type":"message","user":"U0KPFAZNF","text":"fails if there are outstanding updates","ts":"1478707369.002046"},{"type":"message","user":"U0XPR4NP4","text":"Right, and to make sure nobody checks in protos compiled at the wrong proto level or manually edits them etc.","ts":"1478707396.002047"},{"type":"message","user":"U0KPFAZNF","text":"will need to refactor the compile_protos script so it can work with the tree without changing it","ts":"1478707415.002048"},{"type":"message","user":"U0KPFAZNF","text":"exactly","ts":"1478707423.002049"},{"type":"message","user":"U0KPFAZNF","text":"if the script could work with an arbitrary path, one thing we could do is extract all .proto files twice (say .\/build\/proto-lint\/orig and .\/build\/proto-lint\/test and then run the script against .\/test and check the difference","ts":"1478707524.002050"},{"type":"message","user":"U0KPFAZNF","text":"any diff == fail the linter","ts":"1478707535.002051"},{"type":"message","user":"U0KPFAZNF","text":"something like that","ts":"1478707548.002052"},{"type":"message","user":"U0ZJZBJLF","text":"<https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev-env\/p1478206686001932> :face_with_rolling_eyes:","attachments":[{"from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev-env\/p1478206686001932","fallback":"[November 3rd, 2016 1:58 PM] jyellick: +1 on generating the protos in the CI build and making sure there is no diff","ts":"1478206686.001932","author_subname":"jyellick","channel_id":"C0YQ1NHGD","channel_name":"fabric-dev-env","is_msg_unfurl":true,"text":"+1 on generating the protos in the CI build and making sure there is no diff","author_name":"Jason Yellick","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/jyellick","author_icon":"https:\/\/secure.gravatar.com\/avatar\/80fccad690b283483c3b5418b8b82b5b.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F272a%2Fimg%2Favatars%2Fava_0026-48.png","mrkdwn_in":["text"],"id":1,"footer":"Posted in #fabric-dev-env"}],"ts":"1478708186.002053"},{"type":"message","user":"U0ZJZBJLF","text":"I think the best thing is to only do that in CI, and leave the vagrant script as it is","ts":"1478708350.002055"},{"type":"message","user":"U0KPFAZNF","text":"I was thinking it would be integrated into \"make linter\", that way its accessible everywhere","ts":"1478708385.002056"},{"type":"message","user":"U0KPFAZNF","text":"dev flow, ci, whatever","ts":"1478708393.002057"},{"type":"message","user":"U0ZJZBJLF","text":"the dev flow you mean the docker-only based flow?","ts":"1478708437.002058"},{"type":"message","user":"U0KPFAZNF","text":"well, i meant anywhere a dev happens to be working","ts":"1478708466.002059"},{"type":"message","user":"U0KPFAZNF","text":"but yes, it would work there too","ts":"1478708469.002060"},{"type":"message","user":"U0KPFAZNF","text":"by \"dev flow\" i just mean as part of the a developer workflow so they can lint as much of the tree as possible before firing the CR in","ts":"1478708506.002061"},{"type":"message","user":"U0KPFAZNF","text":"i think the docker part of it will dovetail nicely in that it will normalize and abstract the tools in order to make this consistent for people","ts":"1478708549.002062"},{"type":"message","user":"U0KPFAZNF","text":"but the basic concept is independent","ts":"1478708559.002063"},{"type":"message","user":"U0ZJZBJLF","text":"but you can't generate your own protos files and then check the diff","ts":"1478708951.002064"},{"type":"message","user":"U0ZJZBJLF","text":"how does that work?","ts":"1478708955.002065"},{"type":"message","user":"U0ZJZBJLF","text":"it can only work when you know the environment of the protoc is configured well, and that can only be in the CI","ts":"1478708979.002066"},{"type":"message","user":"U0KPFAZNF","text":"?","ts":"1478709048.002067"},{"type":"message","user":"U0KPFAZNF","text":"not following at all","ts":"1478709051.002068"},{"type":"message","user":"U0KPFAZNF","text":"if I run \"make linter\" under a docker container, it wont matter if it runs in ci or dev","ts":"1478709096.002069"},{"type":"message","user":"U0ZJZBJLF","text":"I meant checking the diff of the pb.go file generated","ts":"1478709113.002070"},{"type":"message","user":"U0KPFAZNF","text":"right, me too","ts":"1478709120.002071"},{"type":"message","user":"U0ZJZBJLF","text":"oh, that'd also run in docker?","ts":"1478709126.002072"},{"type":"message","user":"U0KPFAZNF","text":"yes","ts":"1478709129.002073"},{"type":"message","user":"U0ZJZBJLF","text":"and then *you* (I mean literally you) have control over the image","ts":"1478709142.002074"},{"type":"message","user":"U0ZJZBJLF","text":"so you control the version of the protobuff compiler, etc","edited":{"user":"U0ZJZBJLF","ts":"1478709159.000000"},"ts":"1478709147.002075"},{"type":"message","user":"U0KPFAZNF","text":"heh, not really, but ok","ts":"1478709170.002077"},{"type":"message","user":"U0KPFAZNF","text":"right now, protoc comes from baseimage (which is more \"me\" than normal, yes), and protoc-gen-go comes from fabric.git\/vendor (which has little to do with me in general)","ts":"1478709205.002078"},{"type":"message","user":"U0KPFAZNF","text":"but either way, the environment would be controlled by commits in git, which is a good thing","ts":"1478709236.002079"},{"type":"message","user":"U0KPFAZNF","text":"of course, anyone can submit CRs to baseimage as well","ts":"1478709261.002080"},{"type":"message","user":"U0KPFAZNF","text":"just not many do","ts":"1478709268.002081"},{"user":"U1A0HTWCX","text":"<@U1A0HTWCX|sam_ding> has joined the channel","type":"message","subtype":"channel_join","ts":"1478812405.002082"},{"user":"U2Z3FNF2N","text":"<@U2Z3FNF2N|jinyu> has joined the channel","type":"message","subtype":"channel_join","ts":"1478850143.002083"},{"user":"U2TD4Q7NW","text":"<@U2TD4Q7NW|jkilpatr> has joined the channel","type":"message","subtype":"channel_join","ts":"1478879741.002084"},{"user":"U1D89DP47","text":"<@U1D89DP47|subzer0> has joined the channel","type":"message","subtype":"channel_join","ts":"1478981817.002085"},{"type":"message","user":"U2C55KE65","text":"how can i run test with IDEA?","ts":"1479119130.002086"},{"type":"message","subtype":"file_share","text":"<@U2C55KE65|arvin> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/arvin\/F32QB5FP0\/pasted_image_at_2016_11_14_06_26_pm.png|Pasted image at 2016-11-14, 6:26 PM>","file":{"id":"F32QB5FP0","created":1479119174,"timestamp":1479119174,"name":"Pasted image at 2016_11_14 06_26 PM.png","title":"Pasted image at 2016-11-14, 6:26 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U2C55KE65","editable":false,"size":223658,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F32QB5FP0\/pasted_image_at_2016_11_14_06_26_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F32QB5FP0\/download\/pasted_image_at_2016_11_14_06_26_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F32QB5FP0-c588e77c23\/pasted_image_at_2016_11_14_06_26_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F32QB5FP0-c588e77c23\/pasted_image_at_2016_11_14_06_26_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F32QB5FP0-c588e77c23\/pasted_image_at_2016_11_14_06_26_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":196,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F32QB5FP0-c588e77c23\/pasted_image_at_2016_11_14_06_26_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":261,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F32QB5FP0-c588e77c23\/pasted_image_at_2016_11_14_06_26_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F32QB5FP0-c588e77c23\/pasted_image_at_2016_11_14_06_26_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":391,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F32QB5FP0-c588e77c23\/pasted_image_at_2016_11_14_06_26_pm_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":522,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F32QB5FP0-c588e77c23\/pasted_image_at_2016_11_14_06_26_pm_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":557,"image_exif_rotation":1,"original_w":1928,"original_h":1048,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/arvin\/F32QB5FP0\/pasted_image_at_2016_11_14_06_26_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F32QB5FP0-fd099920e1","channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U2C55KE65","upload":true,"display_as_bot":false,"username":"<@U2C55KE65|arvin>","bot_id":null,"ts":"1479119177.002087"},{"user":"U276997LP","text":"<@U276997LP|hschell> has joined the channel","type":"message","subtype":"channel_join","ts":"1479124137.002088"},{"user":"U2NG5AX0A","text":"<@U2NG5AX0A|klorenz> has joined the channel","type":"message","subtype":"channel_join","ts":"1479155334.002089"},{"type":"message","user":"U0ZJZBJLF","text":"<@U2C55KE65>  you need to install rocksDB","ts":"1479246321.002090"},{"type":"message","user":"U0ZJZBJLF","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/dev-setup\/build.md#building-outside-of-vagrant>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/dev-setup\/build.md#building-outside-of-vagrant","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/dev-setup\/build.md#building-outside-of-vagrant","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1479246504.002091"},{"user":"U31M2620Z","text":"<@U31M2620Z|fan.torchz> has joined the channel","type":"message","subtype":"channel_join","ts":"1479252226.002093"},{"type":"message","user":"U1VG8LNP3","text":"which version of protoc are we using?  with protoc3.1, run `scripts\/compile_protos.sh` on master get errors","ts":"1479267749.002094"},{"type":"message","user":"U1VG8LNP3","text":"ava\/src\/main\/proto\/chaincode.proto: Import \"chaincodeevent.proto\" was not found or had errors.\njava\/src\/main\/proto\/chaincode.proto:158:5: \"protos.ChaincodeEvent\" seems to be defined in \"java\/src\/main\/proto\/chaincodeevent.proto\", which is not imported by \"java\/src\/main\/proto\/chaincode.proto\".  To use it here, please add the necessary import.","ts":"1479267751.002095"},{"type":"message","user":"U0KPFAZNF","text":"<@U1VG8LNP3> try running the script via \"make protos\"....we use proto v3.1.0 as well, but we also rely on a specific version of protoc-gen-go which you may not pick up properly if you are not using the makefile","ts":"1479303266.002096"},{"type":"message","user":"U0KPFAZNF","text":"not sure if that is your problem or not, but I would start there","ts":"1479303274.002097"},{"user":"U32ND8W73","text":"<@U32ND8W73|emtrevin> has joined the channel","type":"message","subtype":"channel_join","ts":"1479313963.002098"},{"type":"message","user":"U12452RAP","text":"guys, now do I still use 'make checks' for validation?","ts":"1479359896.002099"},{"type":"message","subtype":"file_share","text":"<@U12452RAP|grapebaba> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/grapebaba\/F33L9J63V\/-.py|Untitled>","file":{"id":"F33L9J63V","created":1479361208,"timestamp":1479361208,"name":"-.py","title":"Untitled","mimetype":"text\/plain","filetype":"python","pretty_type":"Python","user":"U12452RAP","editable":true,"size":409,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F33L9J63V\/-.py?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F33L9J63V\/download\/-.py?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/grapebaba\/F33L9J63V\/-.py","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F33L9J63V-3b487d3b9a","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/grapebaba\/F33L9J63V\/-.py\/edit","preview":"\r\ncontext.failed = True\r\n\r\nFailing scenarios:\r\n  features\/endorser.feature:37  Basic deploy endorsement for chaincode through GRPC to multiple endorsers -- @1.1 Orderer Options\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>&#8203;<\/pre><\/div>\n<div><pre><span class=\"cm-variable\">context<\/span>.<span class=\"cm-property\">failed<\/span> = <span class=\"cm-builtin\">True<\/span><\/pre><\/div>\n<div><pre>&#8203;<\/pre><\/div>\n<div><pre><span class=\"cm-variable\">Failing<\/span> <span class=\"cm-variable\">scenarios<\/span>:<\/pre><\/div>\n<div><pre>  <span class=\"cm-variable\">features<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">endorser<\/span>.<span class=\"cm-property\">feature<\/span>:<span class=\"cm-number\">37<\/span>  <span class=\"cm-variable\">Basic<\/span> <span class=\"cm-variable\">deploy<\/span> <span class=\"cm-variable\">endorsement<\/span> <span class=\"cm-keyword\">for<\/span> <span class=\"cm-variable\">chaincode<\/span> <span class=\"cm-variable\">through<\/span> <span class=\"cm-variable\">GRPC<\/span> <span class=\"cm-variable\">to<\/span> <span class=\"cm-variable\">multiple<\/span> <span class=\"cm-variable\">endorsers<\/span> <span class=\"cm-operator\">-<\/span><span class=\"cm-operator\">-<\/span> @<span class=\"cm-number\">1.1<\/span> <span class=\"cm-variable\">Orderer<\/span> <span class=\"cm-variable\">Options<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":13,"lines_more":8,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U12452RAP","upload":true,"display_as_bot":false,"username":"<@U12452RAP|grapebaba>","bot_id":null,"ts":"1479361208.002100"},{"type":"message","user":"U12452RAP","text":"always get a behave test error","ts":"1479361228.002101"},{"type":"message","user":"U2Q0HP4HY","text":"Seems the pin is invalid for the weekly call","ts":"1479384642.002102"},{"type":"message","user":"U0KPFAZNF","text":"<@U12452RAP> \"make checks\" is still the general target to select all validations...but note that the behave check has frequently returned unreliable results and is thus disabled in V+1 voting in jenkins.  Therefore, if all the other checks pass and it doesn't look like behave is failing in a way related to your change, you are probably good to go","ts":"1479389010.002103"},{"type":"message","user":"U0KPFAZNF","text":"since its not officially checked in the pipeline right now, you have to use judgement","ts":"1479389023.002104"},{"type":"message","user":"U0KPFAZNF","text":"if unsure, you can re-run just behave with \"make behave\"","ts":"1479389062.002105"},{"type":"message","user":"U12452RAP","text":"<@U0KPFAZNF>: got it.","ts":"1479390589.002106"},{"type":"message","user":"U2Q0HP4HY","text":"I just noticed on the V 1.0 spec that peers have a name. Is this something we expect the end user to set ?\nIf not, how is it derived? \n\nAlso it appears Orderer does not have name. Seems to be an imbalance.","ts":"1479406413.002107"},{"type":"message","user":"U0KQ9QKH6","text":"seeing this deploying chaincode from peer command: \"vp1_1     | 01:41:42.880 [peer] beforePeers -&gt; DEBU 8c3 Received PeersMessage with Peers: peers:&lt;ID:&lt;name:\"vp1\" &gt; address:\"172.17.0.4:7051\" type:VALIDATOR &gt; \nvp0_1     | 01:41:43.117 [dockercontroller] deployImage -&gt; ERRO b15 Error building images: Tag x86_64-0.7.0-snapshot-8c2064e not found in repository <http:\/\/docker.io\/hyperledger\/fabric-ccenv|docker.io\/hyperledger\/fabric-ccenv>\nvp0_1     | 01:41:43.117 [dockercontroller] deployImage -&gt; ERRO b16 Image Output:\n\"","ts":"1479433426.002108"},{"type":"message","user":"U0KQ9QKH6","text":"this is the latest fabric master branch","ts":"1479433523.002109"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KQ9QKH6> I think I know","ts":"1479434300.002110"},{"type":"message","user":"U0KPFAZNF","text":"try a \"make clean\" first, and then rebuild your setup","ts":"1479434320.002111"},{"type":"message","user":"U0KPFAZNF","text":"I need to address this problem","ts":"1479434326.002112"},{"type":"message","user":"U0KPFAZNF","text":"it has to do with the fact that the makefile is satisfied by .\/build\/images\/ccenv\/.dummy but the git sha can change if you commit more stuff","ts":"1479434372.002113"},{"type":"message","user":"U0KQ9QKH6","text":"fyi: got some errors on \"make clean\"","ts":"1479434402.002114"},{"type":"message","user":"U0KPFAZNF","text":"so, make thinks the docker image is built, but the docker image that was built was a different sha and thus unreacable","ts":"1479434404.002115"},{"type":"message","user":"U0KQ9QKH6","text":"Error response from daemon: No such image: e84da3e0f63c:latest\nMakefile:239: recipe for target 'orderer-image-clean' failed\nmake: [orderer-image-clean] Error 123 (ignored)","ts":"1479434406.002116"},{"type":"message","user":"U0KPFAZNF","text":"thats fine (thats why its \"ignored\"","ts":"1479434421.002117"},{"type":"message","user":"U0KPFAZNF","text":"its an optimistic delete, cant tell if theres anything there to delete until it tries","ts":"1479434437.002118"},{"type":"message","user":"U0KPFAZNF","text":"wish there was a better way to output that though","ts":"1479434472.002119"},{"type":"message","user":"U0KPFAZNF","text":"its the same as doing \"rm *\", there might not be any files","ts":"1479434497.002120"},{"type":"message","user":"U0KQ9QKH6","text":"right","ts":"1479434533.002121"},{"type":"message","user":"U0KPFAZNF","text":"I suppose I could re-work it so it gathers the list of targets first or something","ts":"1479434539.002122"},{"type":"message","user":"U0KPFAZNF","text":"would be less confusing to users if that output wasnt there","ts":"1479434552.002123"},{"type":"message","user":"U0KQ9QKH6","text":"is it in the makefile?","ts":"1479434553.002124"},{"type":"message","user":"U0KPFAZNF","text":"yeah, see the \"clean\" target","ts":"1479434563.002125"},{"type":"message","user":"U0KQ9QKH6","text":"I thought you could nix the output for things like that - its been awhile :slightly_smiling_face:","ts":"1479434584.002126"},{"type":"message","user":"U0KPFAZNF","text":"maybe...i know I tell it to expect\/ignore failures","ts":"1479434600.002127"},{"type":"message","user":"U0KPFAZNF","text":"thats why it doesnt bail, but keeps running","ts":"1479434608.002128"},{"type":"message","user":"U0KPFAZNF","text":"im sure I could snarf output too","ts":"1479434613.002129"},{"type":"message","user":"U0KQ9QKH6","text":"ok I did a \"make clean;make peer;make images\" and now:","ts":"1479434669.002130"},{"type":"message","subtype":"file_share","text":"<@U0KQ9QKH6|pmullaney> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/pmullaney\/F34AJ9QUV\/-.txt|Untitled>","file":{"id":"F34AJ9QUV","created":1479434727,"timestamp":1479434727,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0KQ9QKH6","editable":true,"size":363,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F34AJ9QUV\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F34AJ9QUV\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/pmullaney\/F34AJ9QUV\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F34AJ9QUV-67dcd7ef33","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/pmullaney\/F34AJ9QUV\/-.txt\/edit","preview":"vagrant@hyperledger-devenv:v0.2.1-13fc74f:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ docker-compose -f bddtests\/docker-pat.yml up --force-recreate\r\nWARNING: The CORE_PEER_NETWORKID variable is not set. Defaulting to a blank string.\r\nRecreating bddtests_orderer_1\r\nERROR: No such image: sha256:e84da3e0f63cb1616409bbe7b599771c41116e414b8292f314566bf6239bcd9e\r\n","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>vagrant@hyperledger-devenv:v0.2.1-13fc74f:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ docker-compose -f bddtests\/docker-pat.yml up --force-recreate<\/pre><\/div>\n<div><pre>WARNING: The CORE_PEER_NETWORKID variable is not set. Defaulting to a blank string.<\/pre><\/div>\n<div><pre>Recreating bddtests_orderer_1<\/pre><\/div>\n<div><pre>ERROR: No such image: sha256:e84da3e0f63cb1616409bbe7b599771c41116e414b8292f314566bf6239bcd9e<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":5,"lines_more":0,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U0KQ9QKH6","upload":true,"display_as_bot":false,"username":"<@U0KQ9QKH6|pmullaney>","bot_id":null,"ts":"1479434727.002133"},{"type":"message","user":"U0KPFAZNF","text":"ive seen that on rare occasion, but I am not sure what causes it","ts":"1479434756.002134"},{"type":"message","user":"U0KPFAZNF","text":"nor how I got past it","ts":"1479434768.002135"},{"type":"message","user":"U0KQ9QKH6","text":"I think I saw this earlier today too","ts":"1479434781.002136"},{"type":"message","user":"U0KPFAZNF","text":"hmm, i do remember it was something weird though","ts":"1479434790.002137"},{"type":"message","user":"U0KQ9QKH6","text":"I ended up bailing and trying the latest fabric :slightly_smiling_face:","ts":"1479434815.002138"},{"type":"message","user":"U0KPFAZNF","text":"oh i remember!","ts":"1479434847.002139"},{"type":"message","user":"U0KPFAZNF","text":"its a docker compose thing","ts":"1479434851.002140"},{"type":"message","user":"U0KPFAZNF","text":"make sure you \"docker-compose down\" that thing","ts":"1479434861.002141"},{"type":"message","user":"U0KQ9QKH6","text":"oh ok","ts":"1479434879.002142"},{"type":"message","user":"U0KPFAZNF","text":"if you run \"docker-compose ps\" (IIRC) the containers dont \"go away\" after the up stops","ts":"1479434893.002143"},{"type":"message","user":"U0KPFAZNF","text":"its like \"docker run\" without the \"--rm\" option","ts":"1479434908.002144"},{"type":"message","user":"U0KPFAZNF","text":"the containers persist after they stop running","ts":"1479434921.002145"},{"type":"message","user":"U0KPFAZNF","text":"and, depending on whatever malarky you may be up to (like building new ccenv:snapshots) it gives that error sometimes","ts":"1479434943.002146"},{"type":"message","user":"U0KPFAZNF","text":"some kind of bad juju between the container that is still there and the fact that you deleted it with the \"make clean\", I would guess","ts":"1479434969.002147"},{"type":"message","user":"U0KPFAZNF","text":"totally stupid..i wish compose had a --rm option for up","ts":"1479434993.002148"},{"type":"message","user":"U0KPFAZNF","text":"as a matter of fact, I have started launching my tests like \"docker-compose up &amp;&amp; docker-compose down\" for this reason","ts":"1479435042.002149"},{"type":"message","user":"U0KPFAZNF","text":"not bullet proof, but largely mitigates the phenomenon","ts":"1479435056.002150"},{"type":"message","user":"U0KQ9QKH6","text":"docker-compose ps returned nothing","ts":"1479435092.002151"},{"type":"message","user":"U0KPFAZNF","text":"try \"-a\"","ts":"1479435098.002152"},{"type":"message","user":"U0KPFAZNF","text":"or maybe \"docker-compose status\"","ts":"1479435107.002153"},{"type":"message","user":"U0KPFAZNF","text":"i dont recall exactly, but the problem is the containers are still there","ts":"1479435120.002154"},{"type":"message","user":"U0KQ9QKH6","text":"ok, docker ps shows them","ts":"1479435150.002155"},{"type":"message","user":"U0KPFAZNF","text":"now try \"docker-compose down\" and I think they will go away","ts":"1479435164.002156"},{"type":"message","user":"U0KPFAZNF","text":"im pretty sure there is a docker-compose subcommand that will show them though","ts":"1479435177.002157"},{"type":"message","user":"U0KPFAZNF","text":"just not remembering which one","ts":"1479435181.002158"},{"type":"message","user":"U1VG8LNP3","text":"<@U0KPFAZNF> thanks for help. the error was triggered by legacy files. after clean these files 'make protos' run normally. But it will change fileDescriptor0 of every *.pb.go.","ts":"1479435249.002159"},{"type":"message","user":"U0KQ9QKH6","text":"I manually removed them with docker vs docker-compose","ts":"1479435251.002160"},{"type":"message","user":"U0KPFAZNF","text":"<@U1VG8LNP3> this might be normal, or it might be a discrepancy with the environment you are trying to run the \"make protos\" in vs what the last person did","ts":"1479435317.002161"},{"type":"message","user":"U0KPFAZNF","text":"fwiw, I am working on a fix that will normalize this so its the same environment for all","ts":"1479435336.002162"},{"type":"message","user":"U0KQ9QKH6","text":"<@U0KPFAZNF> : thanks looking good","ts":"1479435338.002163"},{"type":"message","user":"U0KPFAZNF","text":"but today, it is assuming some coherence in the execution environment","ts":"1479435351.002164"},{"type":"message","user":"U0KPFAZNF","text":"<@U1VG8LNP3> can I ask if you are running within vagrant?","ts":"1479435367.002165"},{"type":"message","user":"U0KPFAZNF","text":"in theory, if everyone runs in the same vagrant, that should have coherence","ts":"1479435389.002166"},{"type":"message","user":"U0KPFAZNF","text":"but, not everyone runs vagrant, and even those who do, the revlevel is not guarnateed","ts":"1479435409.002167"},{"type":"message","user":"U0KQ9QKH6","text":"and the chaincode deploys - thanks again","ts":"1479435410.002168"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KQ9QKH6> awesome","ts":"1479435415.002169"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KQ9QKH6> could you do me a favor and file a jira related to the \"cant find snapshot-xxxxx\" error","ts":"1479435444.002170"},{"type":"message","user":"U0KPFAZNF","text":"i know what that is, and know how to improve it","ts":"1479435455.002171"},{"type":"message","user":"U0KPFAZNF","text":"just need to remember to actually fix it :wink:","ts":"1479435463.002172"},{"type":"message","user":"U0KQ9QKH6","text":"sure np","ts":"1479435472.002173"},{"type":"message","user":"U0KPFAZNF","text":"feel free to assign to me","ts":"1479435481.002174"},{"type":"message","user":"U1VG8LNP3","text":"<@U0KPFAZNF> no, on my computer. it depends on something in os?","ts":"1479435513.002175"},{"type":"message","user":"U0KPFAZNF","text":"yes... it depends to a degree on the version of protoc you are running (we use v3.1.0 currently) and _very_ much depends on the version of protoc-gen-go you have","ts":"1479435548.002176"},{"type":"message","user":"U0KPFAZNF","text":"if you use the devenv, this is somewhat controlled for you, but if you build your own environment, that could be anything","ts":"1479435569.002177"},{"type":"message","user":"U0KPFAZNF","text":"and any variance may result in .pb.go churn","ts":"1479435582.002178"},{"type":"message","user":"U1VG8LNP3","text":"my protoc is v3.1.0. and protoc-gen-go is cloned and built from <https:\/\/github.com\/golang\/tools>. maybe i should check the version of protoc-gen-go.","attachments":[{"service_name":"GitHub","title":"golang\/tools","title_link":"https:\/\/github.com\/golang\/tools","text":"tools - [mirror] Go Tools","fallback":"GitHub: golang\/tools","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/4314092?v=3&s=400","from_url":"https:\/\/github.com\/golang\/tools","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1479435756.002179"},{"type":"message","user":"U0KQ9QKH6","text":"<https:\/\/jira.hyperledger.org\/browse\/FAB-1145>","ts":"1479435795.002181"},{"type":"message","user":"U0KPFAZNF","text":"<@U1VG8LNP3> yeah, that is most likely the problem","ts":"1479436042.002182"},{"type":"message","user":"U0KPFAZNF","text":"what you should do is run \"make gotools\"","ts":"1479436049.002183"},{"type":"message","user":"U0KPFAZNF","text":"that will build, amoung other things, protoc-gen-go from fabric.git\/vendor","ts":"1479436065.002184"},{"type":"message","user":"U0KPFAZNF","text":"then you can be sure you are running the same one that was bundled with the code","ts":"1479436078.002185"},{"type":"message","user":"U0KPFAZNF","text":"<@U1VG8LNP3> also note, that I think in master, \"make gotools\" will output the binary to $GOPATH\/bin","ts":"1479436216.002186"},{"type":"message","user":"U0KPFAZNF","text":"so, you will need to ensure that is in your $PATH and also that its not eclipsed by the other install you have","ts":"1479436236.002187"},{"type":"message","user":"U0KPFAZNF","text":"it might go to .\/build\/bin, alternatively","ts":"1479436259.002188"},{"type":"message","user":"U0KPFAZNF","text":"i cant recall as its changed over time","ts":"1479436265.002189"},{"type":"message","user":"U0KPFAZNF","text":"short answer, whereever it goes, make sure you are picking it up :wink:","ts":"1479436280.002190"},{"type":"message","user":"U1VG8LNP3","text":"<@U0KPFAZNF> thanks. I'll try to clean gotools\/build dir and run \"make gotools\" again.","ts":"1479436722.002191"},{"user":"U350X8JMD","text":"<@U350X8JMD|ypqu> has joined the channel","type":"message","subtype":"channel_join","ts":"1479457880.002192"},{"user":"U32LDD9JA","text":"<@U32LDD9JA|ledger888> has joined the channel","type":"message","subtype":"channel_join","ts":"1479498949.002193"},{"type":"message","user":"U32LDD9JA","text":"Hi, need some help with setting up vagrant  dev env.","ts":"1479499010.002194"},{"type":"message","user":"U32LDD9JA","text":"Running vagrant up, it can't find the baseimage. Getting this message\ndevenv $ vagrant up\nBringing machine 'default' up with 'virtualbox' provider...\n==&gt; default: Box 'hyperledger\/fabric-baseimage' could not be found. Attempting to find and install...\n    default: Box Provider: virtualbox\n    default: Box Version: 0.2.1\nThe box 'hyperledger\/fabric-baseimage' could not be found or\ncould not be accessed in the remote catalog. If this is a private\nbox on HashiCorp's Atlas, please verify you're logged in via\n`vagrant login`. Also, please double-check the name. The expanded\nURL and error message are shown below:\n\nURL: [\"<https:\/\/atlas.hashicorp.com\/hyperledger\/fabric-baseimage>\"]\nError:","ts":"1479499057.002195"},{"type":"message","user":"U32LDD9JA","text":"Saw the same issue on <#C0J02NU1E|general>, but doesn't seem someone helped over there. Thanks a lot for the help!","ts":"1479499130.002196"},{"type":"message","user":"U0KPFAZNF","text":"<@U32LDD9JA> this is strange","ts":"1479500856.002197"},{"type":"message","user":"U0KPFAZNF","text":"are you in china or another location that might be firewalling hashicorp?","ts":"1479500879.002198"},{"type":"message","user":"U0KPFAZNF","text":"<@U32LDD9JA> can you tell us what version of vagrant and virtualbox you have?","ts":"1479501171.002199"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3400VAN5\/-.txt|Untitled> and commented: <@U32LDD9JA> This is what I see after manually deleting the v0.2.1 from inventory","file":{"id":"F3400VAN5","created":1479501883,"timestamp":1479501883,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0KPFAZNF","editable":true,"size":919,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3400VAN5\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3400VAN5\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3400VAN5\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3400VAN5-5b60ba9d97","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3400VAN5\/-.txt\/edit","preview":"regorys-MBP:devenv ghaskins$ vagrant box remove hyperledger\/fabric-baseimage --box-version 0.2.1\r\nRemoving box 'hyperledger\/fabric-baseimage' (v0.2.1) with provider 'virtualbox'...\r\nGregorys-MBP:devenv ghaskins$ vagrant up\r\nBringing machine 'default' up with 'virtualbox' provider...\r\n==> default: Box 'hyperledger\/fabric-baseimage' could not be found. Attempting to find and install...\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>regorys-MBP:devenv ghaskins$ vagrant box remove hyperledger\/fabric-baseimage --box-version 0.2.1<\/pre><\/div>\n<div><pre>Removing box 'hyperledger\/fabric-baseimage' (v0.2.1) with provider 'virtualbox'...<\/pre><\/div>\n<div><pre>Gregorys-MBP:devenv ghaskins$ vagrant up<\/pre><\/div>\n<div><pre>Bringing machine 'default' up with 'virtualbox' provider...<\/pre><\/div>\n<div><pre>==&gt; default: Box 'hyperledger\/fabric-baseimage' could not be found. Attempting to find and install...<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":12,"lines_more":7,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc3400VDFT","created":1479501883,"timestamp":1479501883,"user":"U0KPFAZNF","is_intro":true,"comment":"<@U32LDD9JA> This is what I see after manually deleting the v0.2.1 from inventory","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1479501883.002200"},{"type":"message","user":"U32LDD9JA","text":"I'm in US","ts":"1479504695.002201"},{"type":"message","user":"U32LDD9JA","text":"Vagrant 1.8.7","ts":"1479504718.002202"},{"type":"message","user":"U0KPFAZNF","text":"behind a proxy?","ts":"1479504740.002203"},{"type":"message","user":"U32LDD9JA","text":"no","ts":"1479504750.002204"},{"type":"message","user":"U32LDD9JA","text":"v.box 5.1.8","ts":"1479504763.002205"},{"type":"message","user":"U0KPFAZNF","text":"can you open this: <https:\/\/atlas.hashicorp.com\/hyperledger\/boxes\/fabric-baseimage>","ts":"1479504785.002206"},{"type":"message","user":"U0KPFAZNF","text":"?","ts":"1479504789.002207"},{"type":"message","user":"U0KPFAZNF","text":"i mean in a browser","ts":"1479504795.002208"},{"type":"message","user":"U32LDD9JA","text":"yup","ts":"1479504800.002209"},{"type":"message","user":"U0KPFAZNF","text":"the only thing I can think of is its vbox 5.1","ts":"1479504822.002210"},{"type":"message","user":"U0KPFAZNF","text":"I am running v5.0 and I remember a few people reporting problems with v5.1 in general","ts":"1479504840.002211"},{"type":"message","user":"U0KPFAZNF","text":"not this error per se, but that is the only thing I can think of","ts":"1479504848.002212"},{"type":"message","user":"U32LDD9JA","text":"I'll try that. thanks.","ts":"1479504859.002213"},{"type":"message","user":"U0KPFAZNF","text":"np, let me know","ts":"1479504863.002214"},{"type":"message","user":"U32LDD9JA","text":"sure thing","ts":"1479504872.002215"},{"type":"message","user":"U0KPFAZNF","text":"its very strange...its like you cant access that URL for some reason","ts":"1479504875.002216"},{"type":"message","user":"U32LDD9JA","text":"yeah, strange","ts":"1479504891.002217"},{"type":"message","user":"U0KPFAZNF","text":"worst case, you can manually download the .box and install it with \"vagrant box\" commands","ts":"1479504951.002218"},{"type":"message","user":"U0KPFAZNF","text":"but this shouldnt be necessary","ts":"1479504955.002219"},{"type":"message","user":"U32LDD9JA","text":"seems something is wrong with my vagrant install. don't know what it is, but vagrant Getting Started steps don't work. Heading over to debug that","ts":"1479506454.002220"},{"type":"message","user":"U32LDD9JA","text":"tried v5.0, same thing though","ts":"1479506474.002221"},{"type":"message","user":"U0KPFAZNF","text":"ah, ok...that makes some sense","ts":"1479506987.002222"},{"type":"message","user":"U0KPFAZNF","text":"i think one you sort out the getting-started error, you'll be all sorted here too","ts":"1479507004.002223"},{"type":"message","user":"U32LDD9JA","text":"<@U0KPFAZNF> think I found the issue. This solved the problem <http:\/\/stackoverflow.com\/questions\/40508371\/vagrant-box-not-found-in-a-fresh-install-in-a-mac> and now box is downloading","attachments":[{"title":"Vagrant box not found, in a fresh install, in a mac","title_link":"http:\/\/stackoverflow.com\/questions\/40508371\/vagrant-box-not-found-in-a-fresh-install-in-a-mac","text":"Following the Getting Started instructions, I do:$ vagrant init hashicorp\/precise64A `Vagrantfile` has been placed in this directory. You are nowready to `vagrant up` your first virtual environ...","fallback":"Vagrant box not found, in a fresh install, in a mac","thumb_url":"http:\/\/cdn.sstatic.net\/Sites\/stackoverflow\/img\/apple-touch-icon@2.png?v=73d79a89bded&a","from_url":"http:\/\/stackoverflow.com\/questions\/40508371\/vagrant-box-not-found-in-a-fresh-install-in-a-mac","thumb_width":316,"thumb_height":316,"service_icon":"http:\/\/cdn.sstatic.net\/Sites\/stackoverflow\/img\/favicon.ico?v=4f32ecc8f43d","service_name":"stackoverflow.com","id":1}],"ts":"1479660699.002224","reactions":[{"name":"+1","users":["U0KPFAZNF","U10Q62R8X"],"count":2}]},{"type":"message","user":"U350X8JMD","text":"hi,  I need some help","ts":"1479710068.002226"},{"type":"message","user":"U350X8JMD","text":"I deploy cc and get error : [Error handling chaincode support stream: stream error: code = 1 desc = \"context canceled\"  ]","ts":"1479710071.002227"},{"type":"message","user":"U350X8JMD","text":"git head 9d3abd1","ts":"1479710132.002228"},{"user":"U1PJBPWV8","text":"<@U1PJBPWV8|n-sawada> has joined the channel","type":"message","subtype":"channel_join","ts":"1479716099.002229"},{"type":"message","user":"U0PB67X4K","text":"<@U350X8JMD>  - in my experience that error is generally harmless","ts":"1479732297.002230"},{"type":"message","user":"U0PB67X4K","text":"of course we should figure out why that error is emitted","ts":"1479732318.002231"},{"type":"message","user":"U11HH3P7Y","text":"unit-tests are failing in CI and Vagrant on fabric\/master.. <https:\/\/jenkins.hyperledger.org\/view\/fabric\/job\/fabric-merge-x86_64\/428\/console>","edited":{"user":"U11HH3P7Y","ts":"1479743742.000000"},"ts":"1479743723.002232"},{"type":"message","user":"U0KPFAZNF","text":"i think the CI platform is just running that test really slow","ts":"1479752116.002234"},{"type":"message","user":"U0KPFAZNF","text":"so its timing out at 20m","ts":"1479752126.002235"},{"type":"message","user":"U0KPFAZNF","text":"consider this one: <https:\/\/jenkins.hyperledger.org\/view\/fabric\/job\/fabric-merge-x86_64\/432\/console>","ts":"1479752135.002236"},{"type":"message","user":"U0KPFAZNF","text":"rat for 1135.074s","ts":"1479752149.002237"},{"type":"message","user":"U0KPFAZNF","text":"another 65s and that would have failed too","ts":"1479752173.002238"},{"type":"message","user":"U11HH3P7Y","text":"yes seems network is stable now and build's are passing now..","ts":"1479755903.002239"},{"user":"U2SN3M334","text":"<@U2SN3M334|jamesjong> has joined the channel","type":"message","subtype":"channel_join","ts":"1479756342.002240"},{"type":"message","user":"U0ULK2JPP","text":"hi <@U2SN3M334> welcome","ts":"1479756494.002241"},{"type":"message","user":"U2SN3M334","text":"<@U0ULK2JPP>  thanks!","ts":"1479756526.002242"},{"type":"message","user":"U13TWBRBL","text":"<@U0KPFAZNF> <@U11MANG9G> it looks like the new peer image doesn\u2019t have the fabric source tree any longer, is that right? I remember Greg\u2019s comment on a <@U26T99AQ4>  changeset that mentioned something similar to this","edited":{"user":"U13TWBRBL","ts":"1479775086.000000"},"ts":"1479775015.002243"},{"type":"message","user":"U13TWBRBL","text":"is the peer process then looking somewhere else for the \u201cpeer-config.json\u201d file to load the ecert?","ts":"1479775070.002244"},{"type":"message","user":"U0KPFAZNF","text":"<@U13TWBRBL> thats correct, the latest builds do not include the source","ts":"1479775125.002246"},{"type":"message","user":"U0KPFAZNF","text":"the configuration is now under \/etc\/hyperledger\/fabric","ts":"1479775140.002247"},{"type":"message","user":"U13TWBRBL","text":"ok thanks for confirming that and the pointer on the new location","ts":"1479775156.002248"},{"type":"message","user":"U0KPFAZNF","text":"for instance, \/etc\/hyperledger\/fabric\/msp\/peer-config.json","ts":"1479775167.002249"},{"type":"message","user":"U13TWBRBL","text":"ah ok i remember seeing this on the orderer dockerfile","ts":"1479775174.002250"},{"type":"message","user":"U13TWBRBL","text":"ok got it","ts":"1479775178.002251"},{"type":"message","user":"U0KPFAZNF","text":"FWIW, we also set an environment variable","ts":"1479775184.002252"},{"type":"message","user":"U13TWBRBL","text":"this makes better sense btw","ts":"1479775194.002253"},{"type":"message","user":"U0KPFAZNF","text":"PEER_CFG_PATH and ORDERER_CFG_PATH respectively","ts":"1479775194.002254"},{"type":"message","user":"U13TWBRBL","text":"nice","ts":"1479775203.002255"},{"type":"message","user":"U0KPFAZNF","text":"only on master, fyi","ts":"1479775216.002256"},{"type":"message","user":"U0KPFAZNF","text":"v0.6 still does it the old way, with full source","ts":"1479775224.002257"},{"type":"message","user":"U13TWBRBL","text":"yes i only roll with master :wink:","ts":"1479775230.002258"},{"type":"message","user":"U0KPFAZNF","text":"same","ts":"1479775234.002259","reactions":[{"name":"+1","users":["U13TWBRBL"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"in case you are ever curious, the docker images are formed from Dockerfiles stored under .\/images","edited":{"user":"U0KPFAZNF","ts":"1479775399.000000"},"ts":"1479775324.002260"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/images>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/images","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/images","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1479775325.002261"},{"type":"message","user":"U0KPFAZNF","text":"for instance: <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/images\/peer\/Dockerfile.in>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/images\/peer\/Dockerfile.in","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/images\/peer\/Dockerfile.in","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1479775344.002263"},{"type":"message","user":"U13TWBRBL","text":"yes saw that earlier when debugging an orderer problem","ts":"1479776381.002266"},{"user":"U353QR7G9","text":"<@U353QR7G9|bretharrison> has joined the channel","type":"message","subtype":"channel_join","ts":"1479825026.002267"},{"type":"message","user":"U0ZJZBJLF","text":"I encounter a weird behavior in the output of the unit tests:\nThe chaincode test passes but it outputs to the jenkins console, but tests that pass shouldn't output to the console, only if they fail.\n<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/3326\/console>\nCan anyone explain this?","ts":"1480259623.002268"},{"type":"message","user":"U0ULK2JPP","text":"<@U0ZJZBJLF> assuming you are referring to the logs from before the start of the actual unit test - that\u2019s a \u201cpre unit-test\u201d check using docker compose that <@U0KPFAZNF> added I believe\u2026. I gathered that its work in progress (given orderer is not started in that test) and does not affect CI in anyway.","ts":"1480259930.002269"},{"type":"message","user":"U0ZJZBJLF","text":"yeah I think that's the case, thanks","ts":"1480259969.002270"},{"type":"message","user":"U0KPFAZNF","text":"Yeah we switched to using compose and the side effect is the peer log is now visible","ts":"1480260513.002271"},{"type":"message","user":"U0KPFAZNF","text":"It used to get buried","ts":"1480260519.002272"},{"type":"message","user":"U0ZJZBJLF","text":"why use compose? because you need 2 node \"types\"?","edited":{"user":"U0ZJZBJLF","ts":"1480260761.000000"},"ts":"1480260610.002273"},{"type":"message","user":"U0ZJZBJLF","text":"(orderer\/peer)","ts":"1480260617.002274"},{"type":"message","user":"U0KPFAZNF","text":"No, we always needed a peer historically,  but we launched it manually with docker-run","ts":"1480262665.002276"},{"type":"message","user":"U0KPFAZNF","text":"As such, we were driving compose-isms manually in a script, such as during cleanup","ts":"1480262707.002277"},{"type":"message","user":"U0KPFAZNF","text":"As the system grew more complex, we needed other compose-isms like IP linking","ts":"1480262739.002278"},{"type":"message","user":"U0KPFAZNF","text":"So, we had a choice:  we could continue to add manual compose-isms or just switch to compose","ts":"1480262770.002279"},{"type":"message","user":"U0KPFAZNF","text":"I chose the latter","ts":"1480262799.002280"},{"type":"message","user":"U0KPFAZNF","text":"It seemed to be the logical choice.  Is there a reason this should be reconsidered?","ts":"1480262837.002281"},{"type":"message","user":"U0KPFAZNF","text":"That said, we may need to, in fact, support launching both peer and orderer going forward, which only further makes the argument that it should be a composition","ts":"1480262931.002282"},{"type":"message","user":"U0KPFAZNF","text":"Today the UT interaction with the peer is minimal so I think we can get away with a partial environment ","ts":"1480262985.002283"},{"type":"message","user":"U0ZJZBJLF","text":"What I meant to ask is","ts":"1480263005.002284"},{"type":"message","user":"U0ZJZBJLF","text":"previously you have a peer","ts":"1480263010.002285"},{"type":"message","user":"U0ZJZBJLF","text":"*had","ts":"1480263013.002286"},{"type":"message","user":"U0ZJZBJLF","text":"and you ran in docker","ts":"1480263016.002287"},{"type":"message","user":"U0KPFAZNF","text":"Yep","ts":"1480263033.002288"},{"type":"message","user":"U0ZJZBJLF","text":"why are you running now in compose? do you have *another* component which needs to run?","ts":"1480263034.002289"},{"type":"message","user":"U0ZJZBJLF","text":"ip linking implies there are 2 or more participants","ts":"1480263075.002290"},{"type":"message","user":"U0ZJZBJLF","text":"oh, the orderer","ts":"1480263106.002291"},{"type":"message","user":"U0KPFAZNF","text":"See above: primary drivers are a) coupled lifecycle (peer stops when UT stops) and b) IP linking (UTs can discover peer)","ts":"1480263108.002292"},{"type":"message","user":"U0KPFAZNF","text":"Both are natural constructs of a composition ","ts":"1480263131.002293"},{"type":"message","user":"U0ZJZBJLF","text":"that's all I wanted to ask- whether everything is for the orderer, although I don't understand why it runs in a separate process? Why not embed an orderer in the relevant unit test?","ts":"1480263154.002294"},{"type":"message","user":"U0ZJZBJLF","text":"but forget it I don't want to disturb you on Sunday :wink:","ts":"1480263180.002295"},{"type":"message","user":"U0KPFAZNF","text":"It had nothing to do with the orderer (at least at the time)","ts":"1480263873.002296"},{"type":"message","user":"U0KPFAZNF","text":"Though it may prove useful for integrating the orderer going forward","ts":"1480263900.002297"},{"type":"message","user":"U0KPFAZNF","text":"Not sure this is clear, but the unit tests run in a docker context now too.  That is the \"2 participants\" you were wondering about","ts":"1480269691.002298"},{"type":"message","user":"U0ZJZBJLF","text":"thanks, that was indeed missing. Now I can recompile all the sentences in my head :wink:","ts":"1480271906.002299"},{"user":"U1K0ADU82","text":"<@U1K0ADU82|hsukhwa> has joined the channel","type":"message","subtype":"channel_join","ts":"1480293669.002300"},{"user":"U37F5PG64","text":"<@U37F5PG64|anton> has joined the channel","type":"message","subtype":"channel_join","ts":"1480432075.002301"},{"type":"message","user":"U31M2620Z","text":"Hi guys, how can I clone from gerrit using ssh, \nI've setup everything including LinuxFID and the ssh key on gerrit, but still got `Permission denied` \nThe http way with password works, but it can't be used to submit patch right?","ts":"1480436873.002302"},{"user":"U2Z3ABG7N","text":"<@U2Z3ABG7N|vibhu> has joined the channel","type":"message","subtype":"channel_join","ts":"1480439800.002303"},{"type":"message","user":"U2Z3ABG7N","text":"hey guys - i am using v0.6 for fabric and running the vagrant vm. I have built the peer but when i try make membersrvc, i get an error as below: \nvagrant@hyperledger-devenv:v0.2.1-af0cd3e:~$ make membersrvc\nmake: *** No rule to make target 'membersrvc'.  Stop.\nPlease hel","ts":"1480439814.002304"},{"type":"message","user":"U0KPFAZNF","text":"<@U2Z3ABG7N> two comments","ts":"1480440166.002305"},{"type":"message","user":"U0KPFAZNF","text":"1) devenv v0.2.1 is associated with mainline:  I would suggest you exit, vagrant destroy, vagrant up within v0.6 branch to ensure maximum compatiblity","ts":"1480440203.002306"},{"type":"message","user":"U0KPFAZNF","text":"2) it looks like you are in the home dir","ts":"1480440214.002307"},{"type":"message","user":"U0KPFAZNF","text":"try \"cd $GOPATH\/src\/github.com\/hyperledger\/fabric\" before the make, and I suspect you will have better luck","edited":{"user":"U0KPFAZNF","ts":"1480440265.000000"},"ts":"1480440239.002308"},{"type":"message","user":"U2Z3ABG7N","text":"<@U0KPFAZNF> thanks for the tips - i tried comment #2 and got he following:\nvagrant@hyperledger-devenv:v0.2.1-af0cd3e:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ make membersrvc\nmake: *** No rule to make target 'membersrvc'.  Stop.","ts":"1480440278.002310"},{"type":"message","user":"U0KPFAZNF","text":"df ?","ts":"1480440300.002311"},{"type":"message","user":"U0KPFAZNF","text":"also: ls ?","ts":"1480440316.002312"},{"type":"message","user":"U2Z3ABG7N","text":"vagrant@hyperledger-devenv:v0.2.1-af0cd3e:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ df\nFilesystem                                   1K-blocks     Used Available Use% Mounted on\nudev                                           2015520        0   2015520   0% \/dev\ntmpfs                                           404664     5728    398936   2% \/run\n\/dev\/sda1                                     40636768  5542808  33006692  15% \/\ntmpfs                                          2023316        0   2023316   0% \/dev\/shm\ntmpfs                                             5120        0      5120   0% \/run\/lock\ntmpfs                                          2023316        0   2023316   0% \/sys\/fs\/cgroup\nvagrant                                      112548560 32884592  79663968  30% \/vagrant\nlocal-dev                                    112548560 32884592  79663968  30% \/local-dev\nhyperledger                                  112548560 32884592  79663968  30% \/hyperledger\nopt_gopath_src_github.com_hyperledger_fabric 112548560 32884592  79663968  30% \/opt\/gopath\/src\/github.com\/hyperledger\/fabric\ntmpfs                                           404664        0    404664   0% \/run\/user\/1000\nvagrant@hyperledger-devenv:v0.2.1-af0cd3e:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ ls\nbddtests  devenv  examples  gotools  Makefile    msp      proposals  README.md        tools               vendor\nbuild     docs    flogging  images   metadata    orderer  protos     scripts          TravisCI_Readme.md\ncore      events  gossip    LICENSE  mkdocs.yml  peer     pub        settings.gradle  unit-test","ts":"1480440361.002313"},{"type":"message","user":"U0KPFAZNF","text":"$ git rev-parse HEAD","ts":"1480440391.002314"},{"type":"message","user":"U2Z3ABG7N","text":"vagrant@hyperledger-devenv:v0.2.1-af0cd3e:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ git rev-parse HEAD\naf0cd3e018f928a685035cd27ebb22f3497f4195","ts":"1480440409.002315"},{"type":"message","user":"U0KPFAZNF","text":"is that a private commit?","ts":"1480440441.002316"},{"type":"message","user":"U2Z3ABG7N","text":"no i cloned the <https:\/\/github.com\/hyperledger\/fabric.git> and started vagrant vm from devenv, which is not v0.6 but i can try with that","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric.git","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric.git","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1480440505.002317"},{"type":"message","user":"U0KPFAZNF","text":"im confused:  af0cd3e018f isnt appearing in my tree..maybe I am just behind","ts":"1480441155.002319"},{"type":"message","user":"U0KPFAZNF","text":"oh, i know what it is","ts":"1480441169.002320"},{"type":"message","user":"U0KPFAZNF","text":"you said you were using v0.6, but it doesnt appear that you are","ts":"1480441193.002321"},{"type":"message","user":"U0KPFAZNF","text":"what made you think you were on v0.6?","ts":"1480441199.002322"},{"type":"message","user":"U0KPFAZNF","text":"im guessing here, but I think the issue is that you checked out \/built master","ts":"1480441235.002323"},{"type":"message","user":"U0KPFAZNF","text":"membersrvc doesnt exist on master (it was moved to fabric-cop.git)","ts":"1480441247.002324"},{"type":"message","user":"U2Z3ABG7N","text":"<@U0KPFAZNF> more to add to the confusion - i downloaded the zip file directly .. fabric0.6 and started vagrant up from there, this is what i got  ----\n==&gt; default: Running provisioner: shell...\n    default: Running: inline script\n==&gt; default: stdin: is not a tty\n==&gt; default: ++ export DOCKER_STORAGE_BACKEND=\n==&gt; default: ++ DOCKER_STORAGE_BACKEND=\n==&gt; default: ++ cd \/hyperledger\/devenv\n==&gt; default: ++ .\/setup.sh\n==&gt; default: fatal: Not a git repository (or any parent up to mount point \/hyperledger)\n==&gt; default: Stopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).\nThe SSH command responded with a non-zero exit status. Vagrant\nassumes that this means the command failed. The output for this command\nshould be in the log above. Please read the output to determine what\nwent wrong.","ts":"1480441355.002325"},{"type":"message","user":"U0KPFAZNF","text":"yeah, I think I know what that issue is","ts":"1480441378.002326"},{"type":"message","user":"U0KPFAZNF","text":"whats happening is that the code is assuming you are working from a git tree...it should be fixed, but as a work around you can fake it","ts":"1480441405.002327"},{"type":"message","user":"U0KPFAZNF","text":"in the place that you unpacked the tarball: git init &amp;&amp; git add . &amp;&amp; git commit -a","ts":"1480441428.002328"},{"type":"message","user":"U0KPFAZNF","text":"then, cd devenv &amp;&amp; vagrant destroy &amp;&amp; vagrant up","ts":"1480441443.002329"},{"type":"message","user":"U2Z3ABG7N","text":"ok u mean under \/src\/github.com\/hyperledger\/fabric-0.6 local folder","ts":"1480441478.002330"},{"type":"message","user":"U0KPFAZNF","text":"whereever you downloaded it","ts":"1480441490.002331"},{"type":"message","user":"U0KPFAZNF","text":"er, unpacked it, i should say","ts":"1480441497.002332"},{"type":"message","user":"U0KPFAZNF","text":"IIUC, this is \/src\/github.com\/hyperledger\/fabric-0.6 for you, so run the git commands from that top-level dir","ts":"1480441536.002333"},{"type":"message","user":"U2Z3ABG7N","text":"bhan@bhanubuntu:~\/src\/gocode\/src\/github.com\/hyperledger$ git init &amp;&amp; git add . &amp;&amp; git commit -a\nInitialized empty Git repository in \/home\/bhan\/src\/gocode\/src\/github.com\/hyperledger\/.git\/\nUse \"fg\" to return to nano.\n\n[1]+  Stopped                 git commit -a","ts":"1480441571.002334"},{"type":"message","user":"U2Z3ABG7N","text":"bhan@bhanubuntu:~\/src\/gocode\/src\/github.com\/hyperledger$ git init &amp;&amp; git add . &amp;&amp; git commit -a\nInitialized empty Git repository in \/home\/bhan\/src\/gocode\/src\/github.com\/hyperledger\/.git\/\nUse \"fg\" to return to nano.\n\n[1]+  Stopped                 git commit -a","ts":"1480441595.002335"},{"type":"message","user":"U0KPFAZNF","text":"I think its waiting for a commit message","ts":"1480441599.002336"},{"type":"message","user":"U0KPFAZNF","text":"you can either edit one in your chosen $EDITOR, or use \"git commit -a -m 'import v0.6'\" instead","ts":"1480441622.002337"},{"type":"message","user":"U2Z3ABG7N","text":"k i have done the commit, will run the vagrant command in an hour ... have to run to a meeting :disappointed:","ts":"1480441781.002338"},{"type":"message","user":"U2Z3ABG7N","text":"but thanks for the nuggets of info ... ill be back","ts":"1480441795.002339"},{"type":"message","user":"U2Z3ABG7N","text":"<@U0KPFAZNF> thank u so much .. the 0.6 vagrant vm is correctly up and running, i will have to test my deploy and invoke chaincode next to ensure all working but looking good so far!!","ts":"1480457865.002340","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U2DHRR4TE","text":"Would someone be able to explain what this code is doing:\n\n```\n\tsockp, err := net.Listen(\"tcp\", viper.GetString(\"server.port\"))\n\n\tserver = grpc.NewServer(opts...)\n\n\taca.Start(server)\n\teca.Start(server)\n\ttca.Start(server)\n\ttlsca.Start(server)\n\n\tserver.Serve(sockp)\n```\n\nFrom looking at the docs, would I be correct in thinking it's opening up a listener on some port, starting a grpc server and attaching the CA services to this server and then binding the GRPC server to the listener?","edited":{"user":"U2DHRR4TE","ts":"1480506619.000000"},"ts":"1480506566.002341"},{"type":"message","user":"U2DHRR4TE","text":"Another quick question, this `crypto.Peer` struct we find in fabric: <https:\/\/godoc.org\/github.com\/hyperledger\/fabric\/core\/crypto>\n\nWhat is it used for - as in when it says \" Peer is an entity able to verify transactions\" what does that entail exactly?","ts":"1480510057.002343"},{"user":"U1B9E51R8","text":"<@U1B9E51R8|xixuejia> has joined the channel","type":"message","subtype":"channel_join","ts":"1480514801.002344"},{"type":"message","user":"U13TWBRBL","text":"<@U0KPFAZNF> <@U0PB67X4K>  I was just able to build docker images as well as peer binary on mac, and successfully ran chaincode deploy and invoke against a network started in docker for mac. that\u2019s not by accident right? I mean this is so awesome!","ts":"1480566338.002345"},{"type":"message","user":"U0KPFAZNF","text":"heh, not by accident","ts":"1480566483.002346"},{"type":"message","user":"U0KPFAZNF","text":"very much intentional","ts":"1480566491.002347"},{"type":"message","user":"U13TWBRBL","text":":+1:","ts":"1480567081.002348"},{"type":"message","user":"U0W7D64LC","text":"signed transaction demo - sprint 5 playback - running from node.js SDK to 2 peers all the way through to committer. This uses SOLO ordering. Located at <https:\/\/youtu.be\/mfnIAh5zZjQ>. If you are not subscribed to the youtube channel, please do so and you will be notified of all new videos. Thanks <@U13TWBRBL> !","attachments":[{"service_name":"YouTube","service_url":"https:\/\/www.youtube.com\/","title":"node js SDK sprint 5","title_link":"https:\/\/youtu.be\/mfnIAh5zZjQ","author_name":"Hyperledger Fabric","author_link":"https:\/\/www.youtube.com\/channel\/UCCFdgCWH_1vCndMPVqQlwZw","thumb_url":"https:\/\/i.ytimg.com\/vi\/mfnIAh5zZjQ\/hqdefault.jpg","thumb_width":480,"thumb_height":360,"fallback":"YouTube Video: node js SDK sprint 5","video_html":"<iframe width=\"400\" height=\"225\" src=\"https:\/\/www.youtube.com\/embed\/mfnIAh5zZjQ?feature=oembed&autoplay=1&iv_load_policy=3\" frameborder=\"0\" allowfullscreen><\/iframe>","video_html_width":400,"video_html_height":225,"from_url":"https:\/\/youtu.be\/mfnIAh5zZjQ","service_icon":"https:\/\/a.slack-edge.com\/2089\/img\/unfurl_icons\/youtube.png","id":1}],"ts":"1480608473.002349"},{"type":"message","user":"U0ZR63HLK","text":"Hi All, I get the following error when running \u2018vagrant up\u2019 on macos with master:","ts":"1480742794.002351"},{"type":"message","user":"U0ZR63HLK","text":"The box 'hyperledger\/fabric-baseimage' could not be found or\ncould not be accessed in the remote catalog. If this is a private\nbox on HashiCorp's Atlas, please verify you're logged in via\n`vagrant login`. Also, please double-check the name. The expanded\nURL and error message are shown below:\n\nURL: [\"<https:\/\/atlas.hashicorp.com\/hyperledger\/fabric-baseimage>\"]\nError:","ts":"1480742795.002352"},{"type":"message","user":"U0ZR63HLK","text":"Anyone knows what\u2019s happening?","ts":"1480742803.002353"},{"user":"U3AAY7PPX","text":"<@U3AAY7PPX|lesterpig> has joined the channel","type":"message","subtype":"channel_join","ts":"1480785327.002354"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZR63HLK>: the most common reason I see for that is that you dont have virtualbox properly installed","ts":"1480788498.002355"},{"type":"message","user":"U0KPFAZNF","text":"so, vagrant can't find a match for whatever providers you have available","ts":"1480788528.002356"},{"type":"message","user":"U0KPFAZNF","text":"the other reason is network access","ts":"1480788540.002357"},{"type":"message","user":"U0KPFAZNF","text":"sometimes related to HTTP_PROXY","ts":"1480788548.002358"},{"type":"message","user":"U0KPFAZNF","text":"could either of those apply?","ts":"1480788552.002359"},{"type":"message","user":"U0KPFAZNF","text":"as an aside, you dont really need vagrant any more on master","ts":"1480788577.002360"},{"type":"message","user":"U0KPFAZNF","text":"(except to run behave, I still havent ported that","ts":"1480788591.002361"},{"user":"U3A83MMK5","text":"<@U3A83MMK5|steven.landers> has joined the channel","type":"message","subtype":"channel_join","ts":"1480815376.000002"},{"user":"U1NGC2X9D","text":"<@U1NGC2X9D|dinesh_rivankar> has joined the channel","type":"message","subtype":"channel_join","ts":"1481000587.000003"},{"user":"U2E523QBX","text":"<@U2E523QBX|ascatox> has joined the channel","type":"message","subtype":"channel_join","ts":"1481016440.000004"},{"type":"message","user":"U2Z3ABG7N","text":"Hello All -- i have been able to get the chaincode_example02 to run successfully i.e. see the values initialized, however, i see the following error messages in my peer window as Errors, but cannot find the core reason for these or if they impact the execution in any way - please let me know what they mean!!\n\n12:15:52.019 [consensus\/statetransfer] blockThread -&gt; INFO 01b Validated blockchain to the genesis block\n12:15:52.018 [nodeCmd] serve -&gt; INFO 01a Starting peer with ID=name:\"jdoe\" , network ID=dev, address=0.0.0.0:7051, rootnodes=, validator=true\n12:15:52.020 [rest] StartOpenchainRESTServer -&gt; INFO 01c Initializing the REST service on 0.0.0.0:7050, TLS is disabled.\n12:20:17.924 [crypto] RegisterClient -&gt; INFO 01d Registering client [lukas] with name [lukas]...\n12:20:17.999 [crypto] Info -&gt; INFO 01e [client.lukas]  Register crypto engine...\n12:20:18.000 [crypto] Info -&gt; INFO 01f [client.lukas]  Register crypto engine...done.\n12:20:18.001 [crypto] RegisterClient -&gt; INFO 020 Registering client [lukas] with name [lukas]...done!\n12:22:02.262 [crypto] InitClient -&gt; INFO 021 Initializing client [lukas]...\n12:22:02.277 [crypto] InitClient -&gt; INFO 022 Initializing client [lukas]...done!\n12:22:02.470 [crypto] closeClientInternal -&gt; INFO 023 Closing client [lukas]...\n12:22:03.490 [ledger] sendProducerBlockEvent -&gt; ERRO 024 Error unmarshalling deployment transaction for block event: proto: protos.ChaincodeDeploymentSpec: wiretype end group for non-group\n12:25:28.919 [chaincode] processStream -&gt; ERRO 025 Error handling chaincode support stream: stream error: code = 1 desc = \"context canceled\"","edited":{"user":"U2Z3ABG7N","ts":"1481027294.000000"},"ts":"1481027262.000005"},{"type":"message","user":"U1KDAMDJ7","text":"Can someone help me understand what configuration is being done in the Vagrant devenv that allows me to:\n1. export a port in a docker container and then\n2. access that port from the Vagrant host at `container_ip:port` ?\n\nTypically, I would expect to access this exported port at `localhost:port`, and the docker container\u2019s network would not be reachable from the host otherwise.","edited":{"user":"U1KDAMDJ7","ts":"1481062530.000000"},"ts":"1481062379.000008"},{"type":"message","user":"U0ZJZBJLF","text":"<@U1KDAMDJ7> : If I understand what you're asking:\n<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/Vagrantfile#L37-L41>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/Vagrantfile#L37-L41","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/Vagrantfile#L37-L41","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1481065381.000011"},{"type":"message","user":"U17CZFXGU","text":"Sorry folks,  I need some help. \n\n1 -  I've  cloned master brach from <http:\/\/github.com\/hyperledger\/fabric|github.com\/hyperledger\/fabric>  \n2 - vagrant up\n3 - vagrant ssh\n4 cd \/hyperledger\n5 make\n\nEverything compiles. Most of unit tests passes. Everything looks ok.\n\nWhen I try to run a peer:  peer node start --peer-chaincodedev\n\nI get the following error:\n\n18:49:08.664 [nodeCmd] serve -&gt; INFO 05f Starting peer with ID=name:\"jdoe\" , network ID=dev, address=0.0.0.0:7051, rootnodes=, validator=true\n18:49:11.656 [committer] initDeliver -&gt; ERRO 060 Cannot dial to 0.0.0.0:7050, because of grpc: timed out when dialing\n18:49:11.656 [committer] startDeliver -&gt; ERRO 061 Can't initiate deliver protocol [grpc: timed out when dialing]","ts":"1481136565.000013"},{"type":"message","user":"U17CZFXGU","text":"Should I run membership services or something before staring peer on chaincodedev mode ?","ts":"1481136623.000014"},{"type":"message","user":"U17CZFXGU","text":"It all used to run ok a couple of weeks ago","ts":"1481136649.000015"},{"type":"message","user":"U0ULK2JPP","text":"<@U17CZFXGU> in another vagrant window start orderer first","ts":"1481137080.000016"},{"type":"message","user":"U0ULK2JPP","text":"cd orderer","ts":"1481137086.000017"},{"type":"message","user":"U0ULK2JPP","text":"go build","ts":"1481137089.000018"},{"type":"message","user":"U0ULK2JPP","text":".\/orderer","ts":"1481137092.000019"},{"type":"message","user":"U0ULK2JPP","text":"then start the peer","ts":"1481137098.000020"},{"type":"message","user":"U17CZFXGU","text":"Excelent. Let me try","ts":"1481137107.000021"},{"type":"message","user":"U0ULK2JPP","text":"also this was discussed yesterday","ts":"1481137347.000022"},{"type":"message","user":"U0ULK2JPP","text":"<https:\/\/hyperledgerproject.slack.com\/archives\/chaincode\/p1481049171000171>","attachments":[{"from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/chaincode\/p1481049171000171","fallback":"[December 6th, 2016 10:32 AM] muralisr: oops .. `CORE_CHAINCODE_MODE=dev`","ts":"1481049171.000171","author_subname":"muralisr","channel_id":"C19ABCKPW","channel_name":"chaincode","is_msg_unfurl":true,"text":"oops .. `CORE_CHAINCODE_MODE=dev`","author_name":"Srinivasan Muralidharan","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/muralisr","author_icon":"https:\/\/secure.gravatar.com\/avatar\/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-48.png","mrkdwn_in":["text"],"id":1,"footer":"Posted in #chaincode"}],"ts":"1481137348.000023"},{"type":"message","user":"U0ULK2JPP","text":"that was regarding the use of \u2014peer-chaincodedev","ts":"1481137388.000025"},{"type":"message","user":"U17CZFXGU","text":"Thanks a lot <@U0ULK2JPP> \n\nI am runing ordered and I don't get that error message anymore.  Although I am not sure what orderer is all about :disappointed:\n\nNow I am trying to deploy some sample smart contracts\n\nCORE_CHAINCODE_MODE=dev   - Should let me compile go and java contracts and then deploy then without moving them to git ?\n\n1 cd \/hyperledger\/examples\/chaincode\/go\/chaincode_example01\n2 go build\n3 CORE_CHAINCODE_ID_NAME=example1  CORE_PEER_ADDRESS=0.0.0.0:7051 .\/chaincode_example01","ts":"1481138647.000026"},{"type":"message","user":"U17CZFXGU","text":"9:24:39.649 [chaincode] processStream -&gt; DEBU 0e3 []Received message REGISTER from shim\n19:24:39.649 [chaincode] HandleMessage -&gt; DEBU 0e4 []Handling ChaincodeMessage of type: REGISTER in state created\n19:24:39.649 [chaincode] beforeRegisterEvent -&gt; DEBU 0e5 Received REGISTER in state created\n19:24:39.649 [chaincode] registerHandler -&gt; DEBU 0e6 registered handler complete for chaincode gg5\n19:24:39.649 [chaincode] beforeRegisterEvent -&gt; DEBU 0e7 Got REGISTER for chaincodeID = name:\"gg5\" , sending back REGISTERED\n\nLooks ok, I used to run peer chaincode deploy to deploy the smartcontract,  but now it asks me for a path even when I add the path I still get a message saying it can't find it\n\npeer chaincode deploy -n gg5  -p \/hyperledger\/examples\/chaincode\/go\/chaincode_example01  -c '{\"function\":\"init\", \"args\":[\"a\", \"100\", \"b\", \"200\"]}'\n\n\nError: Error getting chaincode code chaincode: Path to chaincode does not exist: \/hyperledger\/examples\/chaincode\/go\/chaincode_example01","ts":"1481138876.000027"},{"type":"message","user":"U17CZFXGU","text":"Shouldn't it work? I've started the peer as \n\nCORE_CHAINCODE_MODE=dev peer node start","ts":"1481138964.000028"},{"type":"message","user":"U17CZFXGU","text":"I've got the following message on peer:\n\n19:18:23.305 [chaincode] processStream -&gt; ERRO 0ba Error handling chaincode support stream: stream error: code = 1 desc = \"context canceled\"\n19:18:23.306 [chaincode] deregisterHandler -&gt; DEBU 0bb Deregister handler: gg5\n19:18:23.306 [chaincode] deregisterHandler -&gt; DEBU 0bc Deregistered handler with key: gg5","ts":"1481139075.000029"},{"type":"message","user":"U0ULK2JPP","text":"`CORE_CHAINCODE_MODE=dev peer chaincode deploy \u2026.`","ts":"1481139317.000030"},{"type":"message","user":"U0ULK2JPP","text":"not on the `peer node start`","ts":"1481139333.000031"},{"type":"message","user":"U0ULK2JPP","text":"there\u2019s some information in the link on the chaincode channels about using `peer-chaincodedev` mode that will be good to review","ts":"1481139385.000032"},{"type":"message","user":"U17CZFXGU","text":"Let me try :smile:","ts":"1481139674.000033"},{"type":"message","user":"U2NDE1ZCK","text":"Trying to follow the v1 skeletal environment, which was working before, and now I'm getting the following error when trying to make peer in vagrant","ts":"1481143060.000034"},{"type":"message","user":"U2NDE1ZCK","text":"Step 3 : ADD payload\/goshim.tar.bz2 $GOPATH\/src\/\nError processing tar file(exit status 1): link \/github.com\/hyperledger\/fabric\/core\/chaincode\/shim\/java\/build\/classes\/main\/org\/hyperledger\/java\/shim\/ChaincodeBase.class \/github.com\/hyperledger\/fabric\/core\/chaincode\/shim\/java\/build\/classes\/main\/org\/hyperledger\/java\/shim\/ChaincodeBase.class: no such file or directory\nMakefile:195: recipe for target 'build\/image\/ccenv\/.dummy-x86_64-0.7.0-snapshot-5c9fcc3' failed\nmake: *** [build\/image\/ccenv\/.dummy-x86_64-0.7.0-snapshot-5c9fcc3] Error 1","ts":"1481143064.000035"},{"type":"message","user":"U0KPFAZNF","text":"<@U2NDE1ZCK> usually I see that when there is a file that hasnt been added\/removed from git","ts":"1481151715.000036"},{"type":"message","user":"U0KPFAZNF","text":"the issue is that the makefile uses \"git ls-files\" to determine which files to evaluate, and if you happen to be adding\/removing files to the tree, depending on how you do it, you can make git ls-files a liar :wink:","ts":"1481151764.000037"},{"type":"message","user":"U0KPFAZNF","text":"so, first question is; are you in the middle of knowingly adding\/removing files?","ts":"1481151796.000038"},{"type":"message","user":"U2NDE1ZCK","text":"<@U0KPFAZNF> the only thing I did was copy a docker-compose file into the fabric root directory...I removed just to be safe, did a git pull to make sure I had the latest copy of master.....did a vagrant destroy then tried vagrant up again...same error while running make peer... <@U2NG5AX0A> was getting the same error, so don't think it's just me","edited":{"user":"U2NDE1ZCK","ts":"1481154634.000000"},"ts":"1481154618.000039"},{"user":"U3CPS8X62","text":"<@U3CPS8X62|vinodsankar> has joined the channel","type":"message","subtype":"channel_join","ts":"1481168245.000041"},{"user":"U3BKMJZTK","text":"<@U3BKMJZTK|mdevilliers> has joined the channel","type":"message","subtype":"channel_join","ts":"1481210606.000042"},{"user":"U0MS3TK2A","text":"<@U0MS3TK2A|nao> has joined the channel","type":"message","subtype":"channel_join","ts":"1481219244.000043"},{"type":"message","user":"U2TD4Q7NW","text":"ghaskins, so lets say I got a good chunk of time to spend porting to centos \/ generally improving the build docs and process. Where would you want to start, obviously I can just use bash if statements, but that's not anyone's happy place.","ts":"1481291628.000044"},{"type":"message","user":"U0KPFAZNF","text":"<@U2NDE1ZCK> ok, that doesnt sound like it would be the problem I had seen previously","ts":"1481292795.000045"},{"type":"message","user":"U0KPFAZNF","text":"this would only impact files being added\/removed to git, not in the fs in general","ts":"1481292811.000046"},{"type":"message","user":"U0KPFAZNF","text":"oh!","ts":"1481292835.000047"},{"type":"message","user":"U0KPFAZNF","text":"i think I know what the problem is; check your GOPATH","ts":"1481292842.000048"},{"type":"message","user":"U0KPFAZNF","text":"oh, nm, you are in vagrant","ts":"1481292877.000049"},{"type":"message","user":"U0KPFAZNF","text":"hmm, not sure whats going on","ts":"1481292881.000050"},{"type":"message","user":"U0KPFAZNF","text":"<@U2TD4Q7NW> I assume this is w.r.t. the previous conversation we had about making the e2e build be more distro agnostic","ts":"1481292930.000051"},{"type":"message","user":"U2TD4Q7NW","text":"yup, sorry I'm in and out, don't get much time to dedicate to this","ts":"1481292950.000052"},{"type":"message","user":"U0KPFAZNF","text":"if so, I think I would lean towards expressing the current bash scripts in something like local puppet manifests","ts":"1481292965.000053"},{"type":"message","user":"U2TD4Q7NW","text":"but I have some tasks I'm wrapping up and it looks like I'm going to get more time on this in the near future.","ts":"1481292971.000054"},{"type":"message","user":"U2TD4Q7NW","text":"also sorry for the bogus pull request, stupid github, just going to do it locally.","ts":"1481293007.000055"},{"type":"message","user":"U0KPFAZNF","text":"like I said before, I am open to any devops platform that improves the $distro neutrality, with a proclivity to puppet being that I know it best","ts":"1481293017.000056"},{"type":"message","user":"U0KPFAZNF","text":"or are you talking about something else?","ts":"1481293059.000057"},{"type":"message","user":"U2TD4Q7NW","text":"I'll pick up puppet ansible *can* do the same things, but it's really focused on multi-server provisioning.","ts":"1481293063.000058"},{"type":"message","user":"U0KPFAZNF","text":"ok...if you are new to puppet, note that there are two ways to use it","ts":"1481293090.000059"},{"type":"message","user":"U0KPFAZNF","text":"the more obvious way is the distributed client\/server model, where the server dishes out manifests","ts":"1481293113.000060"},{"type":"message","user":"U0KPFAZNF","text":"but there is also the ability to run completely standalone","ts":"1481293120.000061"},{"type":"message","user":"U0KPFAZNF","text":"where you can just process a manifest file locally","ts":"1481293129.000062"},{"type":"message","user":"U0KPFAZNF","text":"i am thinking that is the model we would want (the local option, no server)","ts":"1481293140.000063"},{"type":"message","user":"U2TD4Q7NW","text":"agreed. I guess we could do some fancy setup where we have one control flow across all the docker container steps","ts":"1481293164.000064"},{"type":"message","user":"U2TD4Q7NW","text":"aka ssh into each docker container and perform the steps","ts":"1481293175.000065"},{"type":"message","user":"U2TD4Q7NW","text":"while that would make things easier to follow, I don't think it would be worth it.","ts":"1481293192.000066"},{"type":"message","user":"U0KPFAZNF","text":"give it some thought, I am open minded","ts":"1481293208.000067"},{"type":"message","user":"U0KPFAZNF","text":"clear\/simple\/reliable is the goal, though","ts":"1481293238.000068"},{"type":"message","user":"U2TD4Q7NW","text":"I'd want to use ansible at that point. Quick look says puppet is a bit harder to learn and debug, of course ansible just loves to make little functionality changes between versions, which is annoying","ts":"1481293262.000069"},{"type":"message","user":"U2TD4Q7NW","text":"like with_fileglob dropped support for multiple wild cards this minor revison, but might get it back the next.","ts":"1481293296.000070"},{"type":"message","user":"U0KPFAZNF","text":"fortunately, the vast majority of \"distro install\" stuff happens in the baseimage","ts":"1481293298.000071"},{"type":"message","user":"U0KPFAZNF","text":"and that is just one image","ts":"1481293302.000072"},{"type":"message","user":"U0KPFAZNF","text":"anyway, I am OTP so I should get back to it","ts":"1481293324.000073"},{"type":"message","user":"U0KPFAZNF","text":"we can chat more later","ts":"1481293329.000074"},{"type":"message","user":"U2TD4Q7NW","text":"ack","ts":"1481293335.000075"},{"user":"U2JCD7N7R","text":"<@U2JCD7N7R|georgeo> has joined the channel","type":"message","subtype":"channel_join","ts":"1481299920.000076"},{"type":"message","user":"U0KM61BCP","text":"<@U2TD4Q7NW> <@U0KPFAZNF> puppet? exactly what are we talking about? porting the build to centos or getting devops\/orchestration running on centos? I think that there's someone who had ansible running... I can try to track that down. I believe that they did this in a personal repo.","ts":"1481308127.000077"},{"type":"message","user":"U0KM61BCP","text":"My preference would be Ansible;-)","ts":"1481308153.000078"},{"type":"message","user":"U2TD4Q7NW","text":"<@U0KM61BCP> well I want to get it running on centos, but really the dev env setup right now is pretty bad, its all bash, no documented list of steps or requiremnts","ts":"1481308170.000079"},{"type":"message","user":"U0KM61BCP","text":"but the work was done for v0.6 and v1.0 has some different componts","ts":"1481308177.000080"},{"type":"message","user":"U2TD4Q7NW","text":"so the real goal is getting a better doced build process that's cleaner","ts":"1481308181.000081"},{"type":"message","user":"U2TD4Q7NW","text":"after that getting it to run on centos is trivial and I've improved upstream","ts":"1481308195.000082"},{"type":"message","user":"U2TD4Q7NW","text":"if you look at <http:\/\/github.com\/jkilpatr\/fabric|github.com\/jkilpatr\/fabric> and <http:\/\/github.com\/jkilpatr\/fabric-baseimage|github.com\/jkilpatr\/fabric-baseimage> you see I've got a working modification to the existing build software to run on centos","ts":"1481308234.000083"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF> is da man... we have largely abandoned the devenv and the heavy lifting is as Greg said in fabric-baseimage","ts":"1481308235.000084"},{"type":"message","user":"U0KM61BCP","text":"oh cool","ts":"1481308248.000085"},{"type":"message","user":"U2TD4Q7NW","text":"yup that's why I was working with him","ts":"1481308248.000086"},{"type":"message","user":"U0KM61BCP","text":"I'll take a look","ts":"1481308260.000087"},{"type":"message","user":"U2TD4Q7NW","text":"he's open to the idea, he knows puppet but I've been leaning to ansible","ts":"1481308264.000088"},{"type":"message","user":"U0KM61BCP","text":"I have a bunch of calls this afternoon, but will poke around on the weekend","ts":"1481308281.000089"},{"type":"message","user":"U2TD4Q7NW","text":"yeah I've been in and out, RHT has me looking into this on a privisional basis, but it looks like I'll get the time to really dive in and get some work done.","ts":"1481308344.000090"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP>: the goal, as I understand it, is to try to normalize out the $distro","ts":"1481308358.000091"},{"type":"message","user":"U0KPFAZNF","text":"so, to take something like this: <https:\/\/github.com\/hyperledger\/fabric-baseimage\/blob\/master\/scripts\/common\/setup.sh>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-baseimage","title_link":"https:\/\/github.com\/hyperledger\/fabric-baseimage\/blob\/master\/scripts\/common\/setup.sh","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric-baseimage>","fallback":"GitHub: hyperledger\/fabric-baseimage","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-baseimage\/blob\/master\/scripts\/common\/setup.sh","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1481308367.000092"},{"type":"message","user":"U2TD4Q7NW","text":"and clean up \/ doc the process in general.","ts":"1481308371.000094"},{"type":"message","user":"U0KPFAZNF","text":"and rather than it being bash directives specific to ubuntu\/debian, it could be higher order directives like \"install protobuf\"","ts":"1481308390.000095"},{"type":"message","user":"U0KPFAZNF","text":"but leveraging the devops frameworks so we are not reinventing the wheel","ts":"1481308411.000096"},{"type":"message","user":"U2TD4Q7NW","text":"I only made really small mods to get it working on centos, mostly find replace apt with yum, so you've done a good job with this bash and we might keep some of it but use ansilbe to clean up the messy parts.","ts":"1481308412.000097"},{"type":"message","user":"U0KPFAZNF","text":"e.g. something like puppet or ansible already understand the packaging differences between RPM and DEB, Ubuntu, vs Suse, etc","ts":"1481308456.000098"},{"type":"message","user":"U2TD4Q7NW","text":"I thought I would be fine with puppet this morning, but did some research, looks a little painful compared to ansible. I'll go with whatever if you feel strongly though.","ts":"1481308472.000099"},{"type":"message","user":"U0KPFAZNF","text":"no, please make suggestions, i am open","ts":"1481308491.000100"},{"type":"message","user":"U0KPFAZNF","text":"rather have it be \"good\" than \"easy\"","ts":"1481308499.000101"},{"type":"message","user":"U0KPFAZNF","text":"I can learn new tricks :wink:","ts":"1481308513.000102"},{"type":"message","user":"U0KPFAZNF","text":"by easy I am referring to my learning curve, of course","ts":"1481308531.000103"},{"type":"message","user":"U0KPFAZNF","text":"i hope whatever we come up with is easy for everyone to consume :wink:","ts":"1481308547.000104"},{"type":"message","user":"U2TD4Q7NW","text":"ansible is a lot easier to read and maintain, but it's also faster moving right now, so minor versions break some things, usually not major, think double wild cards on a fileglob going away one minor version and being back the next","ts":"1481308552.000105"},{"type":"message","user":"U2TD4Q7NW","text":"puppet is more stable it looks like but also much harder to just pick up.","ts":"1481308562.000106"},{"type":"message","user":"U0KPFAZNF","text":"ok...i suggest a POC","ts":"1481308578.000107"},{"type":"message","user":"U0KPFAZNF","text":"re-write that script above in ansible and present it so we can review","ts":"1481308591.000108"},{"type":"message","user":"U2TD4Q7NW","text":"that's pretty much the plan rightn ow","ts":"1481308600.000109"},{"type":"message","user":"U0KPFAZNF","text":"(or even just one aspect of it","ts":"1481308601.000110"},{"type":"message","user":"U2TD4Q7NW","text":"now*","ts":"1481308602.000111"},{"type":"message","user":"U0KPFAZNF","text":"ok, thats perfect","ts":"1481308608.000112"},{"type":"message","user":"U2TD4Q7NW","text":"I was going to do docker components only if that's ok?","ts":"1481308613.000113"},{"type":"message","user":"U2TD4Q7NW","text":"part of the goal of this is that vagrant won't be needed because $distro agnostic","ts":"1481308630.000114"},{"type":"message","user":"U0KPFAZNF","text":"yeah, vagrant is already largely unnecessary now anyway","ts":"1481308654.000115"},{"type":"message","user":"U0KPFAZNF","text":"i still need to port behave over to the new build stuff and then we can largely remove vagrant","ts":"1481308687.000116"},{"type":"message","user":"U0KPFAZNF","text":"but I digress","ts":"1481308694.000117"},{"type":"message","user":"U0KPFAZNF","text":"the baseimage stuff remains for docker, so that can be the focus for $distro neutral efforts","ts":"1481308710.000118"},{"type":"message","user":"U0KPFAZNF","text":"things that would be interesting to highlight in a POC:","ts":"1481308739.000119"},{"type":"message","user":"U0KPFAZNF","text":"install distro packages (of course)","ts":"1481308746.000120"},{"type":"message","user":"U0KPFAZNF","text":"install from tarball","ts":"1481308749.000121"},{"type":"message","user":"U0KPFAZNF","text":"install from non-standard repo","ts":"1481308753.000122"},{"type":"message","user":"U0KPFAZNF","text":"If the story for devops framework X were solid on those three points, I would be very much in favor of dropping the bash-based setup","ts":"1481308786.000123"},{"text":"nods","edited":{"user":"U2TD4Q7NW","ts":"1481308836.000000"},"type":"message","subtype":"me_message","user":"U2TD4Q7NW","ts":"1481308832.000124"},{"type":"message","user":"U0KPFAZNF","text":"also good to highlight what it looks like to support conditionals","ts":"1481308984.000126"},{"type":"message","user":"U0KPFAZNF","text":"e.g. if $arch, if $distro, etc","ts":"1481308995.000127"},{"type":"message","user":"U0KPFAZNF","text":"because im sure exceptions will come up","ts":"1481309000.000128"},{"type":"message","user":"U0KPFAZNF","text":"for example, the P\/Z teams currently insist on overriding the platform JVM with ibmjava","ts":"1481309042.000129"},{"type":"message","user":"U2TD4Q7NW","text":"that's fine, there will probably end up being a few text files with lists of dependencies for $distro where adding distro is the same as adding the dependency list and then passing that distro as an argument.","ts":"1481309115.000130"},{"type":"message","user":"U2TD4Q7NW","text":"the problem with platform agnostic package managers is that they tend to get confused with obscure packages","ts":"1481309133.000131"},{"type":"message","user":"U2TD4Q7NW","text":"apache, fine, libobscure2-devel","ts":"1481309147.000132"},{"type":"message","user":"U2TD4Q7NW","text":"nope","ts":"1481309147.000133"},{"type":"message","user":"U0KPFAZNF","text":"i have no problem with finer grained structure","ts":"1481309163.000134"},{"type":"message","user":"U0KPFAZNF","text":"e.g. ubuntu.ansible, redhat.ansible, etc","ts":"1481309191.000135"},{"type":"message","user":"U0KPFAZNF","text":"but I loath DRY violations, so ideally can be expressed in terms of the delta :wink:","ts":"1481309221.000136"},{"type":"message","user":"U2TD4Q7NW","text":"I expect the most we change is a task that is \"go isntall x distro dependencies\"","ts":"1481309329.000137"},{"type":"message","user":"U0KPFAZNF","text":"so if it were something like packages\/protoc\/common.ansible, packages\/jre\/ubuntu.ansible, packages\/jre\/centos.ansible etc that is fine","ts":"1481309341.000138"},{"type":"message","user":"U2TD4Q7NW","text":"then a few things like sudo -i in some spots and adding to path in others that aren't *required* on any distro but one but are just there for all of them.","ts":"1481309355.000139"},{"type":"message","user":"U0KPFAZNF","text":"right, ok","ts":"1481309364.000140"},{"type":"message","user":"U2TD4Q7NW","text":"hmm distro + arch conditionals, that will be interesting to see if I can avoid the ubuntu + power pc situation by seperating platform issues and distro issues.","ts":"1481309563.000141"},{"type":"message","user":"U2TD4Q7NW","text":"otherwise the number of combinations is in no one's favor.","ts":"1481309576.000142"},{"user":"U35FGUMN0","text":"<@U35FGUMN0|walker> has joined the channel","type":"message","subtype":"channel_join","ts":"1481313189.000143"},{"type":"message","user":"U0KPFAZNF","text":"<@U0YK3KKCY> <https:\/\/atlas.hashicorp.com\/hyperledger\/boxes\/fabric-baseimage>","ts":"1481394700.000144"},{"type":"message","user":"U0KPFAZNF","text":"ill push the CR later","ts":"1481394711.000145","reactions":[{"name":"+1","users":["U0YK3KKCY"],"count":1}]},{"type":"message","user":"U11MANG9G","text":"<@U3BSMKS21>","ts":"1481562376.000146"},{"user":"U3BSMKS21","inviter":"U11MANG9G","text":"<@U3BSMKS21|thojest> has joined the channel","type":"message","subtype":"channel_join","ts":"1481562382.000147"},{"type":"message","user":"U11MANG9G","text":"","attachments":[{"fallback":"[December 12th, 2016 9:03 AM] thojest: hello everyone short question. i try to clone fabric with ssh gerrit and i created a linux foundation account and also created this ssh key and uploaded it to my gerrit profile","ts":"1481562199.001184","author_subname":"thojest","channel_id":"C0J02NU1E","channel_name":"general","is_msg_unfurl":true,"text":"hello everyone short question. i try to clone fabric with ssh gerrit and i created a linux foundation account and also created this ssh key and uploaded it to my gerrit profile","author_name":"Thomas S","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/thojest","author_icon":"https:\/\/secure.gravatar.com\/avatar\/5b2776821644f2eff2dd0208797ec2d0.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0012-48.png","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/general\/p1481562199001184","is_share":true,"footer":"Posted in #general"}],"ts":"1481562432.000148"},{"type":"message","user":"U11MANG9G","text":"","attachments":[{"fallback":"[December 12th, 2016 9:03 AM] thojest: but im unable to git clone the project as it says connection refused","ts":"1481562219.001185","author_subname":"thojest","channel_id":"C0J02NU1E","channel_name":"general","is_msg_unfurl":true,"text":"but im unable to git clone the project as it says connection refused","author_name":"Thomas S","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/thojest","author_icon":"https:\/\/secure.gravatar.com\/avatar\/5b2776821644f2eff2dd0208797ec2d0.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0012-48.png","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/general\/p1481562219001185","is_share":true,"footer":"Posted in #general"}],"ts":"1481562459.000149"},{"type":"message","user":"U0KPFAZNF","text":"<@U0YK3KKCY> <@U11NUTP4L> <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3229\/>","ts":"1481562588.000150"},{"type":"message","user":"U0KPFAZNF","text":"once this is merged, P\/Z jobs can at least be enabled as an advisory vote, as discussed","ts":"1481562620.000151","reactions":[{"name":"+1","users":["U0YK3KKCY","U11NUTP4L"],"count":2}]},{"type":"message","user":"U3BSMKS21","text":"is it possible that someone has to approve my key i uploaded to gerrit?","ts":"1481562821.000152"},{"type":"message","user":"U3BSMKS21","text":"i try to clone with 'git clone <ssh:\/\/thojest@gerrit.hyperledger.org:29418\/r\/fabric>'","ts":"1481562884.000153"},{"type":"message","user":"U0YK3KKCY","text":"<@U0KPFAZNF> so the jobs will not actually run for p and z, but will at least be integrated into the verify process in terms of jenkins setup, etc.  just like behave, correct?","ts":"1481564457.000154"},{"type":"message","user":"U0YK3KKCY","text":"until around xmas time when the 0.2.2 \"cut\" (pulling in all CRs, etc) is made and then the jobs will run, if i understand correctly.","ts":"1481564525.000155"},{"type":"message","user":"U0KPFAZNF","text":"to be clear, someone (probably not me) would have to write the JJB for it, but the suggestion is that P\/Z -verify type jobs can be added after CR 3229 is merged, but that their vote should be advisory (like behave)","ts":"1481564585.000156"},{"type":"message","user":"U0KPFAZNF","text":"this is because some CRs will not be rebased on CR 3229 and we wouldnt want to block their V+1","ts":"1481564618.000157"},{"type":"message","user":"U0KPFAZNF","text":"so, the proposal is jobs will run but their vote wont count","ts":"1481564647.000158"},{"type":"message","user":"U0KPFAZNF","text":"until such time that we draw the line","ts":"1481564655.000159"},{"type":"message","user":"U0YK3KKCY","text":"ok. and if there are failures on p or z,  and for now, we'll take manual action to get with the developer to correct the issue.  i assume that this will still not prevent the merge from happening, but it's the next best thing.","ts":"1481567036.000160"},{"type":"message","user":"U0YK3KKCY","text":"<@U0KPFAZNF> ^ (sorry forgot to prefix your id)","ts":"1481567515.000161"},{"type":"message","user":"U0KPFAZNF","text":"Correct","ts":"1481567538.000162"},{"type":"message","user":"U0YK3KKCY","text":"tnx!","ts":"1481568296.000163"},{"user":"U30F89FEG","text":"<@U30F89FEG|knnithyanand> has joined the channel","type":"message","subtype":"channel_join","ts":"1481589475.000164"},{"user":"U3BRW6LH5","text":"<@U3BRW6LH5|maheshwar.ligade> has joined the channel","type":"message","subtype":"channel_join","ts":"1481604250.000165"},{"user":"U3C4XA6G2","text":"<@U3C4XA6G2|gee> has joined the channel","type":"message","subtype":"channel_join","ts":"1481606023.000166"},{"user":"U2ZNC3PKN","text":"<@U2ZNC3PKN|sk> has joined the channel","type":"message","subtype":"channel_join","ts":"1481613873.000167"},{"type":"message","user":"U2ZNC3PKN","text":"If you are not planning to commit some patch or so, there's a copy on github that you can clone without linux foundation id. git clone <https:\/\/github.com\/hyperledger\/fabric>","attachments":[{"fallback":"[December 13th, 2016 2:13 AM] thojest: is it possible that someone has to approve my key i uploaded to gerrit?","ts":"1481562821.000152","author_subname":"thojest","channel_id":"C0YQ1NHGD","channel_name":"fabric-dev-env","is_msg_unfurl":true,"text":"is it possible that someone has to approve my key i uploaded to gerrit?","author_name":"Thomas S","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/thojest","author_icon":"https:\/\/secure.gravatar.com\/avatar\/5b2776821644f2eff2dd0208797ec2d0.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0012-48.png","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev-env\/p1481562821000152","is_share":true,"footer":"Posted in #fabric-dev-env"},{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1481613874.000168"},{"type":"message","user":"U3BSMKS21","text":"thanks <@U2ZNC3PKN>","ts":"1481635852.000170"},{"type":"message","user":"U3BSMKS21","text":"hello all together","ts":"1481636490.000171"},{"type":"message","user":"U3BSMKS21","text":"there is one thing i dont seem to understand","ts":"1481636501.000172"},{"type":"message","user":"U3BSMKS21","text":"i have ubuntu running on bare metal and have git cloned fabric","ts":"1481636539.000173"},{"type":"message","user":"U3BSMKS21","text":"for what purpose do i have to run vagrant and ssh into the vm in order to 'make peer' ?","ts":"1481636574.000174"},{"type":"message","user":"U2W7U5UA3","text":"<@U3BSMKS21> Vagrant isn't really needed. Especially if you're not developing fabric itself.\nIf you're developing chaincode or an application, you're better off just using docker.","ts":"1481636914.000175"},{"type":"message","user":"U3BSMKS21","text":"<@U2W7U5UA3>  wow thanks, to be honest there seems to be a bug is this possible? running 'make peer' on the vagrant ssh machine always shuts down the vm","ts":"1481636977.000176"},{"type":"message","user":"U3BSMKS21","text":"so in fact it is docker pulling the fabric images which shuts down the vm just before the process is finished","ts":"1481637013.000177"},{"type":"message","user":"U3BSMKS21","text":"i had a similar problem using docker in windows, there it was the oracle virtualbox version which has to be 5.1 but in ubuntu changing the vb version doesnt help either","ts":"1481637059.000178"},{"type":"message","user":"U3BSMKS21","text":"but since i want to develop chaincode im fine with that","ts":"1481637141.000179"},{"type":"message","user":"U2W7U5UA3","text":"<@U3BSMKS21> If working with Ubuntu directly, I'd just install docker, pull the images you need and use docker-compose to run them in whatever configuration you need. If you really need to, then you can clone fabric (which you need for chaincode dev anyway), adjust the configuration and make your own images","ts":"1481637303.000180"},{"type":"message","user":"U3BSMKS21","text":"<@U2W7U5UA3> thx i will try that. one final question since  i am just getting started with fabric. do you know a good guide for developing chaincode or something similar, or should I just stick to official hyperledger webpage?","ts":"1481637450.000181"},{"type":"message","user":"U2W7U5UA3","text":"<@U3BSMKS21> This is a good place to start:\n<https:\/\/github.com\/IBM-Blockchain\/learn-chaincode>","attachments":[{"service_name":"GitHub","title":"IBM-Blockchain\/learn-chaincode","title_link":"https:\/\/github.com\/IBM-Blockchain\/learn-chaincode","text":"learn-chaincode - Learn how to write chaincode.","fallback":"GitHub: IBM-Blockchain\/learn-chaincode","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/17178768?v=3&s=400","from_url":"https:\/\/github.com\/IBM-Blockchain\/learn-chaincode","thumb_width":200,"thumb_height":200,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1481637518.000182"},{"type":"message","user":"U2W7U5UA3","text":"and this is the documentation for the shim. Comes in handy later on:\n<https:\/\/godoc.org\/github.com\/hyperledger\/fabric\/core\/chaincode\/shim>","attachments":[{"title":"Package shim","title_link":"https:\/\/godoc.org\/github.com\/hyperledger\/fabric\/core\/chaincode\/shim","text":"Package shim provides APIs for the chaincode to access its state variables, transaction context and call other chaincodes.","fallback":"Package shim","from_url":"https:\/\/godoc.org\/github.com\/hyperledger\/fabric\/core\/chaincode\/shim","service_icon":"https:\/\/godoc.org\/favicon.ico","service_name":"godoc.org","id":1}],"ts":"1481637563.000184"},{"type":"message","user":"U3BSMKS21","text":"<@U2W7U5UA3> thx alot","ts":"1481637655.000186"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF> see <https:\/\/hyperledgerproject.slack.com\/archives\/general\/p1481635934001263> - I haven't tried to reproduce yet, but maybe you could help <@U3E673SQL> ?","attachments":[{"from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/general\/p1481635934001263","fallback":"[December 13th, 2016 5:32 AM] brendanb: I'm trying to setup a dev environment for the first time (using option 1 vagrant), when running `make peer` it fails on `docker build  -t hyperledger\/fabric-ccenv build\/image\/ccenv` at `Step 3 : ADD payload\/goshim.tar.bz2 $GOPATH\/src\/` giving the error `Error processing tar file(exit status 1): link \/github.com\/hyperledger\/fabric\/core\/chaincode\/shim\/java\/build\/classes\/main\/org\/hyperledger\/java\/shim\/ChaincodeBase.class \/github.com\/hyperledger\/fabric\/core\/chaincode\/shim\/java\/build\/classes\/main\/org\/hyperledger\/java\/shim\/ChaincodeBase.class: no such file or directory` . Is anyone else experiencing this? It seems that the path is missing the prefix `\/opt\/gopath\/src` as `\/github.com\/` doesn't exist, however `\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ cd core\/chaincode\/shim\/java\/build\/classes\/main\/org\/hyperledger\/java\/shim\/ChaincodeBase.class` does exist.","ts":"1481635934.001263","author_subname":"brendanb","channel_id":"C0J02NU1E","channel_name":"general","is_msg_unfurl":true,"text":"I'm trying to setup a dev environment for the first time (using option 1 vagrant), when running `make peer` it fails on `docker build  -t hyperledger\/fabric-ccenv build\/image\/ccenv` at `Step 3 : ADD payload\/goshim.tar.bz2 $GOPATH\/src\/` giving the error `Error processing tar file(exit status 1): link \/github.com\/hyperledger\/fabric\/core\/chaincode\/shim\/java\/build\/classes\/main\/org\/hyperledger\/java\/shim\/ChaincodeBase.class \/github.com\/hyperledger\/fabric\/core\/chaincode\/shim\/java\/build\/classes\/main\/org\/hyperledger\/java\/shim\/ChaincodeBase.class: no such file or directory` . Is anyone else experiencing this? It seems that the path is missing the prefix `\/opt\/gopath\/src` as `\/github.com\/` doesn't exist, however `\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ cd core\/chaincode\/shim\/java\/build\/classes\/main\/org\/hyperledger\/java\/shim\/ChaincodeBase.class` does exist.","author_name":"Brendan Ball","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/brendanb","author_icon":"https:\/\/secure.gravatar.com\/avatar\/1a5df1ce23e0cca0445763575db7d638.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-48.png","mrkdwn_in":["text"],"id":1,"footer":"Posted in #general"}],"ts":"1481637742.000187"},{"user":"U3E673SQL","inviter":"U0KM61BCP","text":"<@U3E673SQL|brendanb> has joined the channel","type":"message","subtype":"channel_join","ts":"1481637749.000189"},{"type":"message","user":"U0KPFAZNF","text":"someone else reported something similar recently","ts":"1481637772.000190"},{"type":"message","user":"U0KPFAZNF","text":"im not sure what is causing it, I suspect it has to do with git ls-files but I am not sure","ts":"1481637823.000191"},{"type":"message","user":"U0KM61BCP","text":"<@U3E673SQL> note that we have been moving the 'devenv' from vagrant to Docker, gradually - you might have better results building natively on Mac or Windows, presuming that you can run Docker 1.12 natively on your version of the relevant OS","ts":"1481637863.000192"},{"type":"message","user":"U0KPFAZNF","text":"<@U3E673SQL> this is in a new vagrant setup? is it master or v0.6?","ts":"1481637873.000193"},{"type":"message","user":"U0KPFAZNF","text":"<@U3E673SQL> also note, I am behind the gun to do a presentation in 1 hour, so i might be slow to respond for the next 2 hours or so","ts":"1481637930.000194"},{"user":"U1FEUAG9E","text":"<@U1FEUAG9E|harsha544> has joined the channel","type":"message","subtype":"channel_join","ts":"1481638060.000195"},{"user":"U3DB4L15G","text":"<@U3DB4L15G|svergara> has joined the channel","type":"message","subtype":"channel_join","ts":"1481639898.000196"},{"type":"message","user":"U3AAY7PPX","text":"Hi! I'm trying to understand the new architecture of the master branch, but the documentation (<http:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/>) seems to be mostly outdated.\nIs there any \"work in progress\" documentation version anywhere? If not, is there any ETA?\nIt's quite difficult to start working on the master branch without any pointer.\nThank you very much :slightly_smiling_face:","edited":{"user":"U3AAY7PPX","ts":"1481645331.000000"},"ts":"1481645299.000197"},{"type":"message","user":"U3BSMKS21","text":"hello everyone again i have some problem i am struggling with","ts":"1481650995.000200"},{"type":"message","user":"U3BSMKS21","text":"i am following this guide","ts":"1481651000.000201"},{"type":"message","user":"U3BSMKS21","text":"<https:\/\/github.com\/IBM-Blockchain\/learn-chaincode\/blob\/master\/docs\/setup.md>","attachments":[{"service_name":"GitHub","title":"IBM-Blockchain\/learn-chaincode","title_link":"https:\/\/github.com\/IBM-Blockchain\/learn-chaincode\/blob\/master\/docs\/setup.md","text":"learn-chaincode - Learn how to write chaincode.","fallback":"GitHub: IBM-Blockchain\/learn-chaincode","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/17178768?v=3&s=400","from_url":"https:\/\/github.com\/IBM-Blockchain\/learn-chaincode\/blob\/master\/docs\/setup.md","thumb_width":200,"thumb_height":200,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1481651003.000202"},{"type":"message","user":"U3BSMKS21","text":"so I gitclone to ~\/go\/github.com\/hyperledger","ts":"1481651033.000204"},{"type":"message","user":"U3BSMKS21","text":"then i cd to ~\/go\/github.com\/hyperledger\/fabric","ts":"1481651053.000205"},{"type":"message","user":"U3BSMKS21","text":"and run 'sudo make'","ts":"1481651064.000206"},{"type":"message","user":"U3BSMKS21","text":"after downloading a lot and configuring docker","ts":"1481651077.000207"},{"type":"message","user":"U3BSMKS21","text":"i get an error GOPATH not set","ts":"1481651093.000208"},{"type":"message","user":"U3BSMKS21","text":"BUT when I try 'echo $GOPATH' it returns","ts":"1481651115.000209"},{"type":"message","user":"U3BSMKS21","text":"this \/home\/hyper\/go","ts":"1481651142.000210"},{"type":"message","user":"U3BSMKS21","text":"so of course \/home\/hyper is my home directory ~","ts":"1481651178.000211"},{"type":"message","user":"U3BSMKS21","text":"what am I doing wrong?","ts":"1481651218.000212"},{"type":"message","user":"U3BSMKS21","text":"I suspect that something is wrong with my .bashrc","ts":"1481651652.000213"},{"type":"message","user":"U3BSMKS21","text":"export GOPATH=$HOME\/go\nexport GOROOT=\/usr\/local\/go\nexport  PATH=$PATH:$GOROOT\/bin:$GOPATH\/bin","ts":"1481651752.000214"},{"type":"message","user":"U3BSMKS21","text":"so i was able to solve this","ts":"1481655536.000215"},{"type":"message","user":"U3BSMKS21","text":"apparently the Makefile in fabric\/ did not use my GOPATH variable so i fixed line 176 and told him GOPATH=","ts":"1481655598.000216"},{"type":"message","user":"U0KM61BCP","text":"<@U3BSMKS21> suggest you place your GOPATH somewhere not under your home directory... we have had people suffer panics that then try to create ginormous core dumps","ts":"1481667379.000217"},{"type":"message","user":"U0KM61BCP","text":"up to you","ts":"1481667392.000218"},{"user":"U3DMRHFJ4","text":"<@U3DMRHFJ4|jeno.gocho> has joined the channel","type":"message","subtype":"channel_join","ts":"1481671194.000219"},{"type":"message","user":"U2ZNC3PKN","text":"Hi,\nI finally able to run 4 peers with both noops and pbft plugin (docker).\nI'm using chaincode_example02 for the test.\nI found the following behaviours and wondering if this already known?\n1. PBFT, docker for chaincode is not running after the deploy\n   if you set the container name, CORE_PEER_ID to other than vpN.\n   I'm using CORE_SECURITY_ENROLLID=test_vpN, and under the assumption\n   that I have to use that same name for CORE_PEER_ID (test_vpN).\n   However it worked (docker container for chaincode were created &amp; run)\n   after I set the container name and CORE_PEER_ID to \"vpN\". \n2. NOOPS, when I run invoke, one of the peer execute the chaincode invoke twice,\n   resulting the state for ex. b=220 for that peer, but the other\n   three has b=210. query seem run on random peer, so executing it\n   multiple times return inconsistent result (b=220) when you hit that peer.\n   4 peers seems to generate this behaviours 100%, but you can also\n   reproduce it with 2 peers, only you have to run invoke multiple times.\nThanks","ts":"1481680850.000220"},{"type":"message","user":"U2ZNC3PKN","text":"Oops, I'm using v0.6","ts":"1481680872.000221"},{"type":"message","user":"U3E673SQL","text":"<@U0KM61BCP> I'm glad to hear that. I'm actually running linux so didn't actually want to use vagrant, however I failed to get any of the other environments working so I thought I'd start from what seems to be the most well documented option atm. Maybe you can clear some things up for the Java chaincode setup in dev mode <https:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/Setup\/JAVAChaincode\/#java-chaincode-deployment-in-dev-mode> .  at the top of the page it a says \"Note: This guide generally assumes you have followed the Chaincode development environment setup tutorial here.\" However under the dev mode docs you run `peer node start --peer-chaincodedev` in your normal environment, ie. not in docker so I'm unsure whether at this point I should be running a peer node and member service in docker containers as per the note at the top. Do you guys actually use docker containers for the most simplest of dev environments? I'm just trying to get the simple java chaincode to work. I'm running master branch. Is master still the old architecture? I didn't see anywhere in the docs to use branch 0.6","ts":"1481691798.000222"},{"type":"message","user":"U3E673SQL","text":"<@U0KPFAZNF> should I be using master or 0.6? I'm currently on master","ts":"1481693327.000223"},{"type":"message","user":"U3E673SQL","text":"ok I tried building peer on branch 0.6 with `make peer`. it failed after step `docker build -t hyperledger\/fabric-javaenv build\/image\/javaenv`","edited":{"user":"U3E673SQL","ts":"1481694620.000000"},"ts":"1481694490.000224"},{"type":"message","subtype":"file_share","text":"<@U3E673SQL|brendanb> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/brendanb\/F3F6YL4BZ\/-.txt|Untitled>","file":{"id":"F3F6YL4BZ","created":1481694627,"timestamp":1481694627,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U3E673SQL","editable":true,"size":798,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3F6YL4BZ\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3F6YL4BZ\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/brendanb\/F3F6YL4BZ\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3F6YL4BZ-515ce1844c","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/brendanb\/F3F6YL4BZ\/-.txt\/edit","preview":"build\/bin\/peer\r\nCGO_CFLAGS=\" \" CGO_LDFLAGS=\"-lrocksdb -lstdc++ -lm -lz -lbz2 -lsnappy\" GOBIN=\/home\/brendan\/Development\/go\/src\/github.com\/hyperledger\/fabric\/build\/bin go install -ldflags \"-X github.com\/hyperledger\/fabric\/metadata.Version=0.6.2-preview-snapshot-43e4bb4\" github.com\/hyperledger\/fabric\/peer\r\n# github.com\/hyperledger\/fabric\/vendor\/github.com\/tecbot\/gorocksdb\r\nvendor\/github.com\/tecbot\/gorocksdb\/backup.go:4:24: fatal error: rocksdb\/c.h: No such file or directory\r\n \/\/ #include \"rocksdb\/c.h\"\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>build\/bin\/peer<\/pre><\/div>\n<div><pre>CGO_CFLAGS=&quot; &quot; CGO_LDFLAGS=&quot;-lrocksdb -lstdc++ -lm -lz -lbz2 -lsnappy&quot; GOBIN=\/home\/brendan\/Development\/go\/src\/github.com\/hyperledger\/fabric\/build\/bin go install -ldflags &quot;-X github.com\/hyperledger\/fabric\/metadata.Version=0.6.2-preview-snapshot-43e4bb4&quot; github.com\/hyperledger\/fabric\/peer<\/pre><\/div>\n<div><pre># github.com\/hyperledger\/fabric\/vendor\/github.com\/tecbot\/gorocksdb<\/pre><\/div>\n<div><pre>vendor\/github.com\/tecbot\/gorocksdb\/backup.go:4:24: fatal error: rocksdb\/c.h: No such file or directory<\/pre><\/div>\n<div><pre> \/\/ #include &quot;rocksdb\/c.h&quot;<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":13,"lines_more":8,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U3E673SQL","upload":true,"display_as_bot":false,"username":"<@U3E673SQL|brendanb>","bot_id":null,"ts":"1481694627.000226"},{"type":"message","user":"U2ZNC3PKN","text":"<@U3E673SQL> look like you don't have rocksdb installed on your linux. It required to compile peer\/membersrvc. Look at setup.sh on devenv folder (if you use vagrant the provision build it automatically)","ts":"1481699463.000227"},{"type":"message","user":"U3E673SQL","text":"<@U2ZNC3PKN> apparently we HF is moving away from vagrant. I'm currently just trying this is base ubuntu. So far I've tried installing gorocksdb with `go get -v -tags=embed <http:\/\/github.com\/tecbot\/gorocksdb|github.com\/tecbot\/gorocksdb>` as per the gorocksdb docs, unfortunately this gives a compile error `..\/..\/tecbot\/gorocksdb\/options.go:436: cannot use C.double(value) (type C.double) as type C.int in argument to _Cfunc_rocksdb_options_set_max_bytes_for_level_multiplier` . I see that on master branch rocksdb  has been removed as a dependency, so it's unfortunate that I can't get this to work on master","ts":"1481699720.000228"},{"type":"message","user":"U2ZNC3PKN","text":"<@U3E673SQL> gorocksdb is wrapper for rocksdb, so technically you still need rocksdb itself if you use that. I haven't yet playing with master branch, but as far as I know on v0.6 I need to use v4.1 of rocksdb as the latest rocksdb not working. I did use vagrant devenv for compiling  peer binary only and move it to plain linux, and I have to install rocksdb separately.","ts":"1481700070.000229"},{"type":"message","user":"U3E673SQL","text":"<@U2ZNC3PKN> thanks, will do that next","ts":"1481700157.000230"},{"type":"message","user":"U2ZNC3PKN","text":"@brendand \nsudo apt-get install build-essential\ngit clone -bv4.1 <https:\/\/github.com\/facebook\/rocksdb>\ncd rocksdb\nmake shared_lib\nsudo make install-shared\ncd ..\nrm -rf rocksdb\n\n# and you need this to run peer\nsudo mkdir -p \/var\/hyperledger\nsudo chown -R $USER:$USER \/var\/hyperledger","edited":{"user":"U2ZNC3PKN","ts":"1481700959.000000"},"ts":"1481700254.000232"},{"type":"message","user":"U3E673SQL","text":"<@U2ZNC3PKN> `make install-shared_lib` make: *** No rule to make target 'install-shared_lib'.","ts":"1481700842.000238"},{"type":"message","user":"U2ZNC3PKN","text":"@brendand\nsorry typo, try \"sudo make install-shared\"","ts":"1481700931.000239"},{"type":"message","user":"U2ZNC3PKN","text":"by the way rocksdb v4.1 is for fabric v0.6, I'm not sure the req. for master.","ts":"1481701017.000241"},{"type":"message","user":"U3E673SQL","text":"i'm running 0.6 fabric as recommended. It seems that master branch is the dev branch so its not stable (I couldn't find what git workflow fabric is using but someone mentioned that master branch \"is in flux\")","ts":"1481701121.000242"},{"type":"message","user":"U3E673SQL","text":"<@U2ZNC3PKN> thanks :smile: , I've now managed to build the peer binary at last. now onto trying the chaincode examples. Do you use go or java chaincode?","ts":"1481701199.000243"},{"type":"message","user":"U2ZNC3PKN","text":"@brendab only tried go.","ts":"1481701251.000244"},{"type":"message","user":"U3E673SQL","text":"<@U2ZNC3PKN> just ran into another rocksdb issue :confused: . `build\/bin\/peer node start --peer-chaincodedev` `build\/bin\/peer: error while loading shared libraries: librocksdb.so.4.1: cannot open shared object file: No such file or directory` . `sudo make install-shared` did not throw any errors","ts":"1481701331.000245"},{"type":"message","user":"U2ZNC3PKN","text":"<@U3E673SQL>\nexport LD_LIBRARY_PATH=\/usr\/local\/lib","ts":"1481701392.000246"},{"type":"message","user":"U3E673SQL","text":"shouldn't that exist by default?","ts":"1481701451.000247"},{"type":"message","user":"U3E673SQL","text":"anyway, it seems to work now","ts":"1481701484.000248"},{"type":"message","user":"U2ZNC3PKN","text":"@brendand\nAlso, if you trying to run chaincode not with dev mode (removing --peer-chaincodedev options), you also had to install docker on that linux machine. In dev mode it should be fine though.\nNot sure on LD_LIBRARY_PATH, never dig that out.","ts":"1481701625.000249"},{"type":"message","user":"U3E673SQL","text":"yes I already have docker thanks (use it all the time). it just seemed that running the dev mode works better without docker. Do you put LD_LIBRARY_PATH into so init file like bashrc? seems unnecessary to have to do that everytime you open the terminal","ts":"1481701772.000250"},{"type":"message","user":"U2ZNC3PKN","text":"<@U3E673SQL> yes, I put it in .bashrc","ts":"1481701814.000251"},{"type":"message","user":"U3E673SQL","text":"yay seems to work <@U2ZNC3PKN> thanks so much +1000 karma to you :grin:","ts":"1481702074.000252"},{"type":"message","user":"U2ZNC3PKN","text":"<@U3E673SQL> good luck then, I'm going home with the karma :grinning:","ts":"1481702183.000253"},{"type":"message","user":"U3BSMKS21","text":"<@U3E673SQL> i exactly have the same problem with rocksdb\/c","ts":"1481705114.000254"},{"type":"message","user":"U3BSMKS21","text":"<@U3E673SQL> do you also had a problem with your GOPATH before?","ts":"1481705138.000255"},{"type":"message","user":"U3BSMKS21","text":"<@U0KM61BCP> what exactly is the problem with GOPATH in $HOME\/go ?","ts":"1481705272.000256"},{"type":"message","user":"U3E673SQL","text":"<@U3BSMKS21> what problem are you having with GOPATH? If you're not a gopher, have you followed the steps on the golang website to configure go?","ts":"1481705535.000257"},{"type":"message","user":"U3BSMKS21","text":"<@U3E673SQL> I solved it by altering my Makefile","ts":"1481705616.000258"},{"type":"message","user":"U3BSMKS21","text":"<@U3E673SQL> it told me my GOPATH would not be set but it definitely was","ts":"1481705657.000259"},{"type":"message","user":"U3BSMKS21","text":"<@U3E673SQL> actually I figured it out myself","ts":"1481705721.000260"},{"type":"message","user":"U3E673SQL","text":"<@U3BSMKS21>  are you trying to run it on linux outside of vagrant and docker?","ts":"1481705771.000261"},{"type":"message","user":"U3BSMKS21","text":"basically im following this guide at the moment <https:\/\/github.com\/IBM-Blockchain\/learn-chaincode\/blob\/master\/docs\/setup.md>","attachments":[{"service_name":"GitHub","title":"IBM-Blockchain\/learn-chaincode","title_link":"https:\/\/github.com\/IBM-Blockchain\/learn-chaincode\/blob\/master\/docs\/setup.md","text":"learn-chaincode - Learn how to write chaincode.","fallback":"GitHub: IBM-Blockchain\/learn-chaincode","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/17178768?v=3&s=400","from_url":"https:\/\/github.com\/IBM-Blockchain\/learn-chaincode\/blob\/master\/docs\/setup.md","thumb_width":200,"thumb_height":200,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1481705785.000262"},{"type":"message","user":"U3BSMKS21","text":"<@U3E673SQL> i made a fresh unbuntu installation on bare metal and do not want to use vagrant","ts":"1481705811.000264"},{"type":"message","user":"U3BSMKS21","text":"<@U3E673SQL> so if I understand correctly if I have built fabric I am able to simulate the network with docker containers","ts":"1481705846.000265"},{"type":"message","user":"U3BSMKS21","text":"@brenadanb is it possible that theres a mistake in this guide because you have to git clone fabric to GOPATH\/src\/github.com\/hyperledger","ts":"1481705900.000266"},{"type":"message","user":"U3E673SQL","text":"<@U3BSMKS21>  maybe, I haven't read that guide. I've only been on <http:\/\/hyperledger-fabric.readthedocs.io\/en\/v0.6\/>","attachments":[{"title":"Hyperledger Fabric","title_link":"http:\/\/hyperledger-fabric.readthedocs.io\/en\/v0.6\/","text":"Welcome to the Hyperledger fabric documentation","fallback":"Hyperledger Fabric","from_url":"http:\/\/hyperledger-fabric.readthedocs.io\/en\/v0.6\/","service_icon":"http:\/\/hyperledger-fabric.readthedocs.io\/favicon.ico","service_name":"hyperledger-fabric.readthedocs.io","id":1}],"ts":"1481705968.000267"},{"type":"message","user":"U3E673SQL","text":"are you trying to run a peer outside of docker or are you trying to run peer nodes in docker?","ts":"1481706004.000269"},{"type":"message","user":"U3E673SQL","text":"<@U3BSMKS21> when do you actually get an error? when you run `git clone fabric to GOPATH\/src\/github.com\/hyperledger`?","ts":"1481706062.000270"},{"type":"message","user":"U3BSMKS21","text":"<@U3E673SQL> the git clone works completely fine the problem is, when i cd to fabric and run 'sudo make'","ts":"1481706144.000271"},{"type":"message","user":"U3BSMKS21","text":"<@U3E673SQL>","ts":"1481706158.000272"},{"type":"message","user":"U3BSMKS21","text":"<@U3E673SQL> i think if you git clone to $GOPATH\/github.com\/hyperledger without src you will get an error later when running 'sudo make'","ts":"1481706201.000273"},{"type":"message","user":"U3BSMKS21","text":"<@U3E673SQL> i want to run peernodes in docker containers and if i get that working I want to get familiar with writing chaincode and write a little and very easy first smart contract","ts":"1481706269.000274"},{"type":"message","user":"U3E673SQL","text":"yes, it should be $GOPATH\/src\/github.com\/...","ts":"1481706293.000275"},{"type":"message","user":"U3BSMKS21","text":"<@U3E673SQL> yeah but the guide tells you otherwise","ts":"1481706315.000276"},{"type":"message","user":"U3BSMKS21","text":"<@U3E673SQL> so what is your setup ?","ts":"1481706329.000277"},{"type":"message","user":"U3BSMKS21","text":"<@U3E673SQL> have you worked around this rocksdb error?","ts":"1481706345.000278"},{"type":"message","user":"U3E673SQL","text":"yes, I've succesfully gone through <http:\/\/hyperledger-fabric.readthedocs.io\/en\/v0.6\/Setup\/JAVAChaincode\/#java-chaincode-deployment-in-dev-mode>","ts":"1481706365.000279"},{"type":"message","user":"U3E673SQL","text":"I think you should start there as well, before trying to setup a docker cluster of nodes","ts":"1481706387.000280"},{"type":"message","user":"U3BSMKS21","text":"<@U3E673SQL> the funny point is that I got it working in windows and it took me only half a day","ts":"1481706422.000281"},{"type":"message","user":"U3BSMKS21","text":"<@U3E673SQL> but i decided to do this again in linux because you are much more flexible","ts":"1481706453.000282"},{"type":"message","user":"U3BSMKS21","text":"<@U3E673SQL> the thing which confused me most was this vagrant part...  in fact being on the VM with vagrant ssh I was unable to 'sudo make' because the docker pull never went through","ts":"1481706522.000283"},{"type":"message","user":"U3E673SQL","text":"ye, the docs are still a work in progress, ignore all the vagrant stuff seen as you don't want to work in a vm (same as me)","ts":"1481706577.000284"},{"type":"message","user":"U3BSMKS21","text":"<@U3E673SQL> nice, so I ll try now to build my fabric, so after that ill start with this chaincode stuff. AFAIK there are 2 options. you can write in go and in java?","ts":"1481706641.000285"},{"type":"message","user":"U3E673SQL","text":"yes, I'm doing java because of my company. You should be able to get `make peer` to work if you follow sk's instructions to install rocksdb","ts":"1481706744.000286"},{"type":"message","user":"U3BSMKS21","text":"<@U3E673SQL> thats what i ll try now :slightly_smiling_face:","ts":"1481706779.000287"},{"type":"message","user":"U3BSMKS21","text":"<@U1KC1TAHE> so thx a lot.  See you soon","ts":"1481706857.000288"},{"type":"message","user":"U3E673SQL","text":"good luck","ts":"1481706888.000289"},{"type":"message","user":"U3BSMKS21","text":"hmm now i get the following error while make","ts":"1481712927.000290"},{"type":"message","user":"U3BSMKS21","text":"cannot find -lbz2","ts":"1481712934.000291"},{"type":"message","user":"U3BSMKS21","text":"\u00b4test\u00b4","ts":"1481712993.000292"},{"type":"message","user":"U3BSMKS21","text":"'test'","ts":"1481712999.000293"},{"type":"message","user":"U3BSMKS21","text":"so first noob question for readability: how do I write in code format here?","ts":"1481713050.000294"},{"type":"message","user":"U3BSMKS21","text":"k fixed that lbz2 error","ts":"1481713388.000295"},{"type":"message","user":"U3E673SQL","text":"use backticks for code. its normally on the tilde key `hi`","ts":"1481714910.000296"},{"user":"U3CMVMBRS","text":"<@U3CMVMBRS|sarkoi> has joined the channel","type":"message","subtype":"channel_join","ts":"1481719069.000297"},{"user":"U2SCJN8F6","text":"<@U2SCJN8F6|zws> has joined the channel","type":"message","subtype":"channel_join","ts":"1481719838.000298"},{"type":"message","user":"U3BSMKS21","text":"``test`","ts":"1481720599.000299"},{"type":"message","user":"U3BSMKS21","text":"`test`","ts":"1481720604.000300"},{"type":"message","user":"U3BSMKS21","text":"<@U3E673SQL> thx","ts":"1481720630.000301"},{"type":"message","user":"U3BSMKS21","text":"after git cloning and running `sudo make`","ts":"1481722021.000302"},{"type":"message","user":"U3BSMKS21","text":"everything seems to work and it is running tests but then i get `behave: not found`","ts":"1481722066.000303"},{"type":"message","user":"U3BSMKS21","text":"so behave seems to be a python programm for test ?","ts":"1481722469.000304"},{"type":"message","user":"U3E673SQL","text":"I don't know what default make does, I only did make peer","ts":"1481722518.000305"},{"type":"message","user":"U3BSMKS21","text":"about the problem with GOPATH. I had to run `sudo make GOPATH= yourgopath`","ts":"1481722598.000306"},{"type":"message","user":"U3BSMKS21","text":"so can someone tell me what is the difference between `sudo make` and `sudo make peer`","ts":"1481724935.000307"},{"type":"message","user":"U3BSMKS21","text":"so running `sudo make behave` how many days does this take ^^","ts":"1481727869.000308"},{"type":"message","user":"U0KPFAZNF","text":"<@U3BSMKS21>: \"make\" is implicitly \"make all\" which if you look at the rule for \"all\" in the makefile, builds everything and runs all tests","edited":{"user":"U0KPFAZNF","ts":"1481731854.000000"},"ts":"1481731653.000309"},{"type":"message","user":"U0KPFAZNF","text":"whereas \"make peer\" will only build the native peer binary and anything that it depends on","ts":"1481731670.000310"},{"type":"message","user":"U0KPFAZNF","text":"it will not run any tests, and it will not build anything not strictly related to the peer","ts":"1481731697.000311"},{"type":"message","user":"U3BSMKS21","text":"<@U0KPFAZNF> thx a lot so i understood that right. is it possible that after make all i have to set my PATH because the peer command does not work","ts":"1481731880.000313"},{"type":"message","user":"U0KPFAZNF","text":"i assume you are not in the vagrant environment?","ts":"1481731898.000314"},{"type":"message","user":"U0KPFAZNF","text":"if you are in vagrant, it should already have build\/bin in the $PATH","ts":"1481731914.000315"},{"type":"message","user":"U0KPFAZNF","text":"if not, you'd have to manage this yourself","ts":"1481731919.000316"},{"type":"message","user":"U0KPFAZNF","text":"(fyi, things are still really structured around building\/running from within vagrant...we will be improving the installability and generality of the development requirements moving forward, but we are not quite there yet","ts":"1481731981.000317"},{"type":"message","user":"U3BSMKS21","text":"<@U0KPFAZNF>  yes im on ubuntu bare metal  and i included it in the PATH now. now when running `peer node start` i get CORE_PBFT unsupported config type","ts":"1481732030.000318"},{"type":"message","user":"U0KPFAZNF","text":"are you in mainline or v0.6?","ts":"1481732054.000319"},{"type":"message","user":"U3BSMKS21","text":"v0.6","ts":"1481732059.000320"},{"type":"message","user":"U0KPFAZNF","text":"ok, v0.6 is slightly more complicated because there are multiple configuration files","ts":"1481732083.000321"},{"type":"message","user":"U0KPFAZNF","text":"this was condensed in master to one file, which makes things slightly easier","ts":"1481732119.000322"},{"type":"message","user":"U0KPFAZNF","text":"but the problem is that the peer is looking for the configuration in ... (standby)","ts":"1481732132.000323"},{"type":"message","user":"U3BSMKS21","text":"so basically would it be better to `rm -rf *` and git clone the master branch ?","ts":"1481732171.000324"},{"type":"message","user":"U0KPFAZNF","text":"well, it depends on what you want","ts":"1481732183.000325"},{"type":"message","user":"U0KPFAZNF","text":"v0.6 is stable, master is newer, more advanced, and still in development","ts":"1481732198.000326"},{"type":"message","user":"U3BSMKS21","text":"so my intention is to learn a bit about chaincode and maybe write a very simple smart contract","ts":"1481732233.000327"},{"type":"message","user":"U3BSMKS21","text":"@ghashkins thx a lot btw","ts":"1481732273.000328"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3FDEPZML\/-.c|Untitled> and commented: This is an excerpt from a script I have that is setting up a v0.6 peer","file":{"id":"F3FDEPZML","created":1481732309,"timestamp":1481732309,"name":"-.c","title":"Untitled","mimetype":"text\/plain","filetype":"c","pretty_type":"C","user":"U0KPFAZNF","editable":true,"size":200,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3FDEPZML\/-.c?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3FDEPZML\/download\/-.c?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3FDEPZML\/-.c","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3FDEPZML-412ae6b597","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3FDEPZML\/-.c\/edit","preview":"cp $SRC\/peer\/core.yaml $DST\/peer\r\ncp $SRC\/membersrvc\/membersrvc.yaml $DST\/membersrvc\r\ncp $SRC\/consensus\/pbft\/config.yaml $DST\/consensus\/pbft\r\ncp $SRC\/consensus\/noops\/config.yaml $DST\/consensus\/noops\r\n","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-variable\">cp<\/span> <span class=\"cm-variable\">$SRC<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">peer<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">core<\/span>.<span class=\"cm-variable\">yaml<\/span> <span class=\"cm-variable\">$DST<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">peer<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-variable\">cp<\/span> <span class=\"cm-variable\">$SRC<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">membersrvc<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">membersrvc<\/span>.<span class=\"cm-variable\">yaml<\/span> <span class=\"cm-variable\">$DST<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">membersrvc<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-variable\">cp<\/span> <span class=\"cm-variable\">$SRC<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">consensus<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">pbft<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">config<\/span>.<span class=\"cm-variable\">yaml<\/span> <span class=\"cm-variable\">$DST<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">consensus<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">pbft<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-variable\">cp<\/span> <span class=\"cm-variable\">$SRC<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">consensus<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">noops<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">config<\/span>.<span class=\"cm-variable\">yaml<\/span> <span class=\"cm-variable\">$DST<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">consensus<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">noops<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":5,"lines_more":0,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc3ER8FG5S","created":1481732309,"timestamp":1481732309,"user":"U0KPFAZNF","is_intro":true,"comment":"This is an excerpt from a script I have that is setting up a v0.6 peer","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1481732310.000329"},{"type":"message","user":"U0KPFAZNF","text":"its not quite turnkey to solve the problem you are mentioning, but its related","ts":"1481732321.000330"},{"type":"message","user":"U0KPFAZNF","text":"in a nutshell, those are the files needed to spin up a v0.6 membersrvc\/peer combo, and you will see that error if the peer cannot resolve them","ts":"1481732350.000331"},{"type":"message","user":"U0KPFAZNF","text":"usually, if you are running from a system with src installed, the easiest thing to do is ensure you run the peer with your $GOPATH set appropriately","ts":"1481732378.000332"},{"type":"message","user":"U0KPFAZNF","text":"this will auto-resolve to the configuration in the tree","ts":"1481732385.000333"},{"type":"message","user":"U0KPFAZNF","text":"otherwise, it ends up installing these in places like \/etc\/hyperledger\/fabric","edited":{"user":"U0KPFAZNF","ts":"1481732761.000000"},"ts":"1481732400.000334"},{"type":"message","user":"U0KPFAZNF","text":"in this case, the error you are seeing is basically because its not finding consensus\/pbft\/config.yaml, which would have defined CORE_PBFT","ts":"1481732447.000335"},{"type":"message","user":"U3BSMKS21","text":"thx a lot","ts":"1481732504.000336"},{"type":"message","user":"U0KPFAZNF","text":"np","ts":"1481732508.000337"},{"type":"message","user":"U3BSMKS21","text":"i noticed that for some permission-denied reason i have to `sudo peer node start`","ts":"1481732539.000338"},{"type":"message","user":"U3BSMKS21","text":"and typing `sudo go env` i see my GOPATH is not set","ts":"1481732559.000339"},{"type":"message","user":"U3BSMKS21","text":"that might be the problem","ts":"1481732565.000340"},{"type":"message","user":"U0KPFAZNF","text":"yeah, that is your problem","ts":"1481732568.000341"},{"type":"message","user":"U0KPFAZNF","text":"if the GOPATH is set, those configuration files would be auto-resolved to the tree","ts":"1481732578.000342"},{"type":"message","user":"U3BSMKS21","text":"thats wonderful :slightly_smiling_face:","ts":"1481732594.000343"},{"type":"message","user":"U0KPFAZNF","text":"you generally only need to muck around with the configuration files for when the binaries are installed without source","ts":"1481732599.000344"},{"type":"message","user":"U0KPFAZNF","text":"i am not sure why you need to launch the peer with sudo","ts":"1481732629.000345"},{"type":"message","user":"U0KPFAZNF","text":"its probably a peripheral issue (like the perms on the binary, or the perms on \/var\/hyperledger","ts":"1481732648.000346"},{"type":"message","user":"U3BSMKS21","text":"maybe i have to chown something ?","ts":"1481732649.000347"},{"type":"message","user":"U3BSMKS21","text":"yeah i think somewhere i have read that you have to chown \/var\/hyperledger\/..","ts":"1481732692.000348"},{"type":"message","user":"U0KPFAZNF","text":"yes, that is def true","ts":"1481732699.000349"},{"type":"message","user":"U0KPFAZNF","text":"the ledger is written there","ts":"1481732709.000350"},{"user":"U36UDC6RK","text":"<@U36UDC6RK|kamo> has joined the channel","type":"message","subtype":"channel_join","ts":"1481732714.000351"},{"type":"message","user":"U3BSMKS21","text":"omg it is working :slightly_smiling_face:","ts":"1481732838.000354"},{"type":"message","user":"U0KPFAZNF","text":"cool","ts":"1481732847.000355"},{"type":"message","user":"U3BSMKS21","text":"make sure to RECURSIVELY chown so:  `sudo chown -R $USER:$USER \/var\/hyperledger` did it","ts":"1481732882.000356"},{"type":"message","user":"U0KPFAZNF","text":"makes sense","ts":"1481732902.000357"},{"type":"message","user":"U3BSMKS21","text":"<@U0KPFAZNF> again thanks for your indepth help","ts":"1481732932.000358"},{"type":"message","user":"U0KPFAZNF","text":"any time","ts":"1481732938.000359"},{"type":"message","user":"U0KPFAZNF","text":"fwiw, this is greatly simplified in master","ts":"1481732971.000360"},{"type":"message","user":"U0KPFAZNF","text":"(but, like I said, its still in development)","ts":"1481732980.000361"},{"type":"message","user":"U0KPFAZNF","text":"in v0.6 we really don't officially support anything except vagrant builds","ts":"1481733041.000362"},{"type":"message","user":"U0KPFAZNF","text":"in master, we are pretty close to being able to build anywhere, or run from docker binaries in dockerhub","ts":"1481733076.000363"},{"type":"message","user":"U0KPFAZNF","text":"(this isnt to say it cant be done, its just a little more manual, as you have found)","ts":"1481733161.000364"},{"type":"message","user":"U3BSMKS21","text":"@ghashkins yeah of course this is still under development. yeah it took me 2 days to get this working including fresh ubuntu installation so its pretty cool i think","ts":"1481733208.000365"},{"type":"message","user":"U3BSMKS21","text":"@ghashkins do you have a good idea like a tutorial or something for getting started with chaincode?","ts":"1481733248.000366"},{"type":"message","user":"U0KPFAZNF","text":"the stuff that is online is all I ever use","ts":"1481733266.000367"},{"type":"message","user":"U0KPFAZNF","text":"I assume you ahve seen this: <http:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/Setup\/Chaincode-setup\/#running-the-chaincode>","ts":"1481733355.000368"},{"type":"message","user":"U0KPFAZNF","text":"that is all I do, except I use chaintool","ts":"1481733378.000369"},{"type":"message","user":"U0KPFAZNF","text":"but the flow is similar regardless of chaincode model","ts":"1481733418.000370"},{"type":"message","user":"U3BSMKS21","text":"ok  thx I think I will now try to understand this whole chaincode stuff :slightly_smiling_face:","ts":"1481733550.000371"},{"type":"message","user":"U36UDC6RK","text":"Hello, im new here and i may have a stupid question.. How can i use the community docker membersrvc image with my own membersrvc,yaml ? (Regarding v0.6)","ts":"1481734817.000372"},{"type":"message","user":"U0KPFAZNF","text":"<@U36UDC6RK> I should point out first that despite the fact that docker images are published for v0.6, the support for running from anything but a source build is a little weak right now (see <https:\/\/jira.hyperledger.org\/browse\/FAB-678>).","ts":"1481735213.000373"},{"type":"message","user":"U0KPFAZNF","text":"that said, if you wanted to do this","ts":"1481735221.000374"},{"type":"message","user":"U0KPFAZNF","text":"I think you could effect the change you want by a) installing a new membersrvc.yaml file somewhere (say \/etc\/hyperledger\/fabric) and then setting the WORKDIR to the same","ts":"1481735263.000375"},{"type":"message","user":"U0KPFAZNF","text":"because the v0.6 membersrvc will look for its config in the CWD","ts":"1481735278.000376"},{"type":"message","user":"U0KPFAZNF","text":"I _think_","ts":"1481735287.000377"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1481735288.000378"},{"type":"message","user":"U0KPFAZNF","text":"im reasonably confident this would work, but not 100%","ts":"1481735300.000379"},{"type":"message","user":"U0KPFAZNF","text":"(I should say this: I know it would look for its config in $CWD, but I am not sure which will take precedence)","ts":"1481735331.000380"},{"type":"message","user":"U0KPFAZNF","text":"alternatively, note that you can override any .yaml setting with envvars","ts":"1481735361.000381"},{"type":"message","user":"U0KPFAZNF","text":"fwiw, this is all much more straight forward in master: we map the configs to \/etc\/hyperledger\/fabric in the container, so you could just override this dir with new config and its straight forward","ts":"1481735444.000382"},{"type":"message","user":"U0KPFAZNF","text":"v0.6 is still a little hacky, it has the full $GOPATH tree and pulls the config from that","ts":"1481735468.000383"},{"type":"message","user":"U36UDC6RK","text":"First of all thank you for your immediate answer","ts":"1481735469.000384"},{"type":"message","user":"U36UDC6RK","text":"overwriting the yaml settings with envvars is how i do it at the moment, but its not that userfriendly","ts":"1481735498.000385"},{"type":"message","user":"U0KPFAZNF","text":"ok, and I understand.  Just wanted to make sure you knew about that option since in most circumstances, that is easier","ts":"1481735525.000386"},{"type":"message","user":"U36UDC6RK","text":"yes thank you, another question is: is there still a membersrvc.yaml in master?","ts":"1481735556.000387"},{"type":"message","user":"U0KPFAZNF","text":"long story short, i think you can do this in v0.6 but its going to be a little ugly","ts":"1481735568.000388"},{"type":"message","user":"U0KPFAZNF","text":"good point, membersrvc is gone in master","ts":"1481735579.000389"},{"type":"message","user":"U0KPFAZNF","text":"though this general approach is taken with the other containers","ts":"1481735588.000390"},{"type":"message","user":"U0KPFAZNF","text":"(at least for peer+orderer)","ts":"1481735602.000391"},{"type":"message","user":"U0KPFAZNF","text":"not sure what fabric-cop container looks like, as I didnt work on that one","ts":"1481735614.000392"},{"type":"message","user":"U0KPFAZNF","text":"long story short: v0.6 config override is a little ugly, master override is better supported","ts":"1481735648.000393"},{"type":"message","user":"U36UDC6RK","text":"okay then i will try this approach, one last question: is the orderer taking the tasks of the membersrvc ? or what does the orderer do?","ts":"1481735683.000394"},{"type":"message","user":"U0KPFAZNF","text":"no, and I am certainly not an expert here: but my understanding is orderer is a teasing out of the peer consensus function, membersrvc is now in its own repo (and renamed to \"COP\")","ts":"1481735746.000395"},{"type":"message","user":"U0KPFAZNF","text":"so see fabric-cop.git","ts":"1481735750.000396"},{"type":"message","user":"U36UDC6RK","text":"okay good, i understood it in the same way","ts":"1481735789.000397"},{"type":"message","user":"U0KPFAZNF","text":"so, [\"peer\" -&gt; \"peer + orderer\", \"membersrvc\" -&gt; \"cop\"] if you need a v0.6 -&gt; master dictionary","ts":"1481735793.000398"},{"type":"message","user":"U36UDC6RK","text":"okay nice!","ts":"1481735807.000399"},{"type":"message","user":"U36UDC6RK","text":"no i dont need v0.6 the only thing i wanna do at the moment is getting the asset-management-with-roles example to work","ts":"1481735834.000400"},{"type":"message","user":"U0KPFAZNF","text":"gotcha","ts":"1481735844.000401"},{"type":"message","user":"U36UDC6RK","text":"can you recommend me some instructions, how to do that, sorry for the amount of questions :confused:","ts":"1481735920.000402"},{"type":"message","user":"U36UDC6RK","text":"only some general instructions, like 1. setup dev env with master 2. .. or something like this, that would be awesome","ts":"1481735998.000403"},{"type":"message","user":"U0KPFAZNF","text":"<@U36UDC6RK> the doc is still more or less structured for the v0.6 flow currently","ts":"1481737395.000404"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ULK2JPP> had a doc floating around that might be helpful for master","ts":"1481737409.000405"},{"type":"message","user":"U0ULK2JPP","text":"<@U36UDC6RK> last link in <https:\/\/wiki.hyperledger.org\/community\/fabric-design-docs> has some instructions for running end-to-end test on the master","ts":"1481737591.000406"},{"type":"message","user":"U0ULK2JPP","text":"you also get other design docs for v1.0 there","ts":"1481737605.000407"},{"type":"message","user":"U36UDC6RK","text":"Thank you ghaskins! and also thanks muralisr i will check that link!","ts":"1481737986.000408"},{"type":"message","user":"U1AU8DRQR","text":"is this normal?     default: Progress: 22% (Rate: 27080\/s, Estimated time remaining: 0:58:20)","ts":"1481792576.000409"},{"user":"U0Z41KY5V","text":"<@U0Z41KY5V|baohua> has joined the channel","type":"message","subtype":"channel_join","ts":"1481800038.000410"},{"type":"message","user":"U0Z41KY5V","text":"hi, with latest master code, there\u2019s error msg with `make peer` after cloning and run setup.sh\n\n$ make peer\nmkdir -p build\/image\/ccenv\/payload\ncp build\/docker\/gotools\/bin\/protoc-gen-go build\/bin\/chaintool build\/goshim.tar.bz2 build\/image\/ccenv\/payload\ncp: cannot stat \u2018build\/docker\/gotools\/bin\/protoc-gen-go\u2019: No such file or directory\nmake: *** [build\/image\/ccenv\/payload] Error 1\n\nI run also `make gotools`, but not affect the  `build\/docker\/gotools\/bin\/` path\n\nThanks for any hint!","ts":"1481800172.000411"},{"type":"message","user":"U0KPFAZNF","text":"<@U0Z41KY5V> strange, looking now","ts":"1481803292.000412"},{"type":"message","user":"U0Z41KY5V","text":"thanks, greg. when run `make gotools`, it does install those tools into $GOPATH\/bin\/, but not the `fabric\/build\/docker\/gotools\/bin\/`","ts":"1481803346.000413"},{"type":"message","user":"U0KPFAZNF","text":"yeah, that is orthogonal","ts":"1481803359.000414"},{"type":"message","user":"U0KPFAZNF","text":"\"make gotools\" was meant as a way to install the tools locally, the ccenv is doing its own installation of protoc-gen-go","ts":"1481803395.000415"},{"type":"message","user":"U0KPFAZNF","text":"for whatever reason, the latter is broken for you","ts":"1481803408.000416"},{"type":"message","user":"U0KPFAZNF","text":"im just firing up my rig now, will see if I can reproduce","ts":"1481803417.000417"},{"type":"message","user":"U0Z41KY5V","text":"yes, thanks for your help~~","ts":"1481803477.000418"},{"type":"message","user":"U0KPFAZNF","text":"I was not able to reproduce the issue","ts":"1481803646.000419"},{"type":"message","user":"U0KPFAZNF","text":"can you provide any more detail of your setup?","ts":"1481803654.000420"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3FS72606\/-.sh|Untitled> and commented: fresh build from 0eadb03506","file":{"id":"F3FS72606","created":1481803727,"timestamp":1481803727,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0KPFAZNF","editable":true,"size":5253,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3FS72606\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3FS72606\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3FS72606\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3FS72606-1117f436f9","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3FS72606\/-.sh\/edit","preview":"$ make peer\r\nmake[1]: Entering directory '\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/gotools'\r\nBuilding github.com\/golang\/lint\/golint -> golint\r\nmake[1]: Leaving directory '\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/gotools'\r\nmake[1]: Entering directory '\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/gotools'\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-def\">$ make<\/span> peer<\/pre><\/div>\n<div><pre><span class=\"cm-builtin\">make<\/span>[1]: Entering directory <span class=\"cm-string\">'\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/gotools'<\/span><\/pre><\/div>\n<div><pre>Building github.com\/golang\/lint\/golint <span class=\"cm-attribute\">-<\/span>&gt; golint<\/pre><\/div>\n<div><pre><span class=\"cm-builtin\">make<\/span>[1]: Leaving directory <span class=\"cm-string\">'\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/gotools'<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-builtin\">make<\/span>[1]: Entering directory <span class=\"cm-string\">'\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/gotools'<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":91,"lines_more":86,"preview_is_truncated":true,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc3EFSU517","created":1481803727,"timestamp":1481803727,"user":"U0KPFAZNF","is_intro":true,"comment":"fresh build from 0eadb03506","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1481803728.000421"},{"type":"message","user":"U0Z41KY5V","text":"aha, is there other steps need to be done before `make peer`? Need i install protoc-gen-go manually?","ts":"1481803768.000422"},{"type":"message","user":"U0Z41KY5V","text":"strange","ts":"1481803774.000423"},{"type":"message","user":"U0KPFAZNF","text":"no, you shouldnt need to","ts":"1481803792.000424"},{"type":"message","user":"U0KPFAZNF","text":"I just did \"make clean\" and then updated to the latest git, and ran as above","ts":"1481803809.000425"},{"type":"message","user":"U0KPFAZNF","text":"this is on OSX","ts":"1481803816.000426"},{"type":"message","user":"U0Z41KY5V","text":"..so on what step, the protoc-gen-go will be installed?","ts":"1481803832.000427"},{"type":"message","user":"U0Z41KY5V","text":"make peer seems require that existed under build\/docker\/gotools\/bin\/. I\u2019m on ubuntu 14.04. will try on OSX later","ts":"1481803861.000428"},{"type":"message","user":"U0KPFAZNF","text":"it was built on line 12, and installed on line 33","ts":"1481803863.000429"},{"type":"message","user":"U0KPFAZNF","text":"ubuntu should be fine too","ts":"1481803872.000430"},{"type":"message","user":"U0KPFAZNF","text":"I only mentioned OSX to relate that I am not in a curated devenv","ts":"1481803892.000431"},{"type":"message","user":"U0Z41KY5V","text":"line 12 of fabric\/Makefile?","ts":"1481803915.000432"},{"type":"message","user":"U0KPFAZNF","text":"no, of my snippet","ts":"1481803921.000433"},{"type":"message","user":"U0Z41KY5V","text":"aha, so u mean if run `make peer`, then protoc-gen-go will be installed automatically, correct?","ts":"1481803951.000434"},{"type":"message","user":"U0KPFAZNF","text":"correct, or at least, that is the intention","ts":"1481803963.000435"},{"type":"message","user":"U36UDC6RK","text":"<@U0KPFAZNF>  are you running it in a virtualbox or native on mac os?","ts":"1481803965.000436"},{"type":"message","user":"U0KPFAZNF","text":"and at least in my case, that holds true","ts":"1481803973.000437"},{"type":"message","user":"U0Z41KY5V","text":"thanks, i will clean the env and retry, just to make sure.","ts":"1481803980.000438"},{"type":"message","user":"U0KPFAZNF","text":"<@U36UDC6RK> native on osx","ts":"1481803981.000439"},{"type":"message","user":"U36UDC6RK","text":"okay thx","ts":"1481803995.000440"},{"type":"message","user":"U0KPFAZNF","text":"I fixed the build recently in master so it doesnt rely on the virtubox setup for much of anything","ts":"1481804005.000441"},{"type":"message","user":"U0Z41KY5V","text":"great!","ts":"1481804031.000442"},{"type":"message","user":"U0KPFAZNF","text":"(though the doc still lags behind and implies it is more critical than it really is)","ts":"1481804035.000443"},{"type":"message","user":"U0Z41KY5V","text":"we need a quick dev env on baremetal sometimes.","ts":"1481804049.000444"},{"type":"message","user":"U0KPFAZNF","text":"yes, that is what this is essentially","ts":"1481804062.000445"},{"type":"message","user":"U0KPFAZNF","text":"basically all you need is a handful of things: make, git, golang v1.6+, docker","ts":"1481804080.000446"},{"type":"message","user":"U0KPFAZNF","text":"and you can build fabric baremetal","ts":"1481804090.000447"},{"type":"message","user":"U0KPFAZNF","text":"at least on linux and OSX","ts":"1481804101.000448"},{"type":"message","user":"U0KPFAZNF","text":"i am not sure if windows is that easy","ts":"1481804107.000449"},{"type":"message","user":"U0KPFAZNF","text":"do note, however, that running the full suite (like unit-tests) may only work with docker-for-mac, not the older docker-machine","ts":"1481804144.000450"},{"type":"message","user":"U0KPFAZNF","text":"(the build will work with either, but the unit tests need the newer docker setup)","ts":"1481804159.000451"},{"type":"message","user":"U0Z41KY5V","text":"aha, i guess that might be because there was some old images in my system. then it may ignore install protoc-gen-go?","ts":"1481804160.000452"},{"type":"message","user":"U0KPFAZNF","text":"<@U0Z41KY5V> possibly, can you show me your build\/docker fs?","ts":"1481804182.000453"},{"type":"message","user":"U0Z41KY5V","text":"sure, will post, am doing a clean re-make","ts":"1481804217.000454"},{"type":"message","user":"U0KPFAZNF","text":"what I dont understand is: make is governed purely by the files that are present","ts":"1481804236.000455"},{"type":"message","user":"U0Z41KY5V","text":"and can i know what part in the makefile build\/install the protoc-gen-go?","ts":"1481804244.000456"},{"type":"message","user":"U0KPFAZNF","text":"so either the file is present, and it will skip it, or its not, and it will build it","ts":"1481804250.000457"},{"type":"message","user":"U0Z41KY5V","text":"```\n$ ls build\/docker                                                                                            2 \u21b5\ngotools\n```","ts":"1481804259.000458"},{"type":"message","user":"U0KPFAZNF","text":"but your error implies it was not there","ts":"1481804262.000459"},{"type":"message","user":"U0KPFAZNF","text":"sorry, i meant full tree if you have it","ts":"1481804272.000460"},{"type":"message","user":"U0KPFAZNF","text":"tree build\/docker","ts":"1481804277.000461"},{"type":"message","user":"U0Z41KY5V","text":"lots of things actually","ts":"1481804370.000462"},{"type":"message","user":"U0Z41KY5V","text":"but ls build\/docker\/gotools\/bin, there is nothing","ts":"1481804403.000463"},{"type":"message","user":"U0Z41KY5V","text":"can i know what part in the makefile build\/install the protoc-gen-go? not find it inside","ts":"1481804419.000464"},{"type":"message","user":"U0KPFAZNF","text":"sure, hold on","ts":"1481804450.000465"},{"type":"message","user":"U0KPFAZNF","text":"so, this is the rule that would be responsible for building it","ts":"1481804508.000466"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/Makefile#L148>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/Makefile#L148","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/Makefile#L148","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1481804509.000467"},{"type":"message","user":"U0KPFAZNF","text":"this is what causes ccenv to depend on it: <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/Makefile#L177>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/Makefile#L177","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/Makefile#L177","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1481804546.000469"},{"type":"message","user":"U0KPFAZNF","text":"can you do run \"make clean &amp;&amp; make peer\" and send me the output you are seeing?","ts":"1481804577.000471"},{"type":"message","user":"U0Z41KY5V","text":"aha, so it was triggered by `build\/image\/ccenv\/payload`","ts":"1481804578.000472"},{"type":"message","user":"U0KPFAZNF","text":"yes: image -&gt; payload -&gt; stuff","ts":"1481804597.000473"},{"type":"message","user":"U0KPFAZNF","text":"in this case ccenv -&gt; ccenv\/payload -&gt; protoc-gen-go","ts":"1481804614.000474"},{"user":"U0YQK8WSV","text":"<@U0YQK8WSV|pvishnum> has joined the channel","type":"message","subtype":"channel_join","ts":"1481804623.000475"},{"type":"message","user":"U0Z41KY5V","text":"interesting, i noticed when i clean all stuffs with the images, then it can work! but when there\u2019s some remaining images\/broken during the make process, then the 2nd round will fail","ts":"1481804633.000476"},{"type":"message","user":"U0KPFAZNF","text":"ok, thats probably a makefile bug of some kind","ts":"1481804649.000477"},{"type":"message","user":"U0Z41KY5V","text":"i may suggest we decouple the image building from comping a native binary like peer\/orderer.","ts":"1481804678.000478"},{"type":"message","user":"U0KPFAZNF","text":"if you can file as much detail as possible in a JIRA, appreciated","ts":"1481804689.000479"},{"type":"message","user":"U0Z41KY5V","text":"don\u2019t think there\u2019s reason to combine them building together :disappointed:","ts":"1481804703.000480"},{"type":"message","user":"U0KPFAZNF","text":"well, the coupling was created intentionally","ts":"1481804711.000481"},{"type":"message","user":"U0KPFAZNF","text":"ccenv must exist for peer to run, but I suppose we could provide the option","ts":"1481804726.000482"},{"type":"message","user":"U0KPFAZNF","text":"to your point, its not actually needed to build peer, but it is needed to run peer so I wanted to ensure \"peer xxx\" was ready to run when the command finished","ts":"1481804766.000483"},{"type":"message","user":"U0Z41KY5V","text":"yes, and if so we may let developers know that explicitly in the docs, instead of hiding into scripts. sometimes, we just wanna build out a binary locally or just build a image.","ts":"1481804807.000484"},{"type":"message","user":"U0KPFAZNF","text":"i suspect removing the coupling will make things more error prone for users","ts":"1481804814.000485"},{"type":"message","user":"U0KPFAZNF","text":"s\/users\/devs","ts":"1481804828.000486"},{"type":"message","user":"U0Z41KY5V","text":"i guess this follows linux style? make each piece focus, while combine as users like to?","ts":"1481804834.000487"},{"type":"message","user":"U0KPFAZNF","text":"i guess...but a counter point is: whatever you are stumbling on is a bug","ts":"1481804854.000488"},{"type":"message","user":"U0KPFAZNF","text":"we can paper over it by getting rid of the ccenv step, but really we should just fix the underlying issue","ts":"1481804880.000489"},{"type":"message","user":"U0KPFAZNF","text":"normally, ccenv would build, it would be cached, and then youd never have to deal with it again","ts":"1481804911.000490"},{"type":"message","user":"U0Z41KY5V","text":"yes, and now it seems a little hard to dig it out as lots of things are comping together. However i will create an issue at the jira and let u know. thanks greg!","ts":"1481804936.000491"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1481804942.000492"},{"type":"message","user":"U0KPFAZNF","text":"ill give the decoupling more thought, but I think that would cause more problems","ts":"1481804953.000493"},{"type":"message","user":"U0KPFAZNF","text":"i understand your point though","ts":"1481804984.000494"},{"type":"message","user":"U0Z41KY5V","text":"yes, let me dig more on the makefile first. see can find what hint for the error :slightly_smiling_face:","ts":"1481804993.000495"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1481805001.000496"},{"type":"message","user":"U0KPFAZNF","text":"<@U0Z41KY5V> pls do send me the output of your build sequence that reproduces this, ideally including the initial build that worked and the subsequent builds that fail","ts":"1481805215.000497"},{"type":"message","user":"U0Z41KY5V","text":"sure, greg~~","ts":"1481805244.000498"},{"type":"message","user":"U0Z41KY5V","text":"<@U0KPFAZNF> just create it here: <https:\/\/jira.hyperledger.org\/browse\/FAB-1412>","ts":"1481805860.000499"},{"type":"message","user":"U0KPFAZNF","text":"ty","ts":"1481805912.000500"},{"type":"message","user":"U0KPFAZNF","text":"<@U0Z41KY5V> can you get it into this state easily?","ts":"1481806147.000501"},{"type":"message","user":"U0KPFAZNF","text":"if so, could you run \"make -d peer 2&gt;&amp;1 | grep protoc\" and send me the output","ts":"1481806155.000502"},{"type":"message","user":"U0KPFAZNF","text":"(or attach to bug, whatever most appropriate","ts":"1481806162.000503"},{"type":"message","user":"U0Z41KY5V","text":"aha, u need me to run this on a clean env?","ts":"1481806186.000504"},{"type":"message","user":"U0KPFAZNF","text":"well, i am assuming clean+peer will work","ts":"1481806197.000505"},{"type":"message","user":"U0KPFAZNF","text":"i mean whatever you need to do to reproduce the failure, which I assume is a unclean environment","ts":"1481806217.000506"},{"type":"message","user":"U0Z41KY5V","text":"i run ur cmd on a clean env, and there\u2019re lots of output, while the last one seems interesting","ts":"1481806286.000507"},{"type":"message","user":"U0Z41KY5V","text":"Rejecting impossible implicit prerequisite `build\/docker\/gotools\/bin\/protoc-gen-go.S'.\n         Trying pattern rule with stem `protoc-gen-go'.\n         Rejecting impossible implicit prerequisite `build\/docker\/gotools\/bin\/protoc-gen-go.mod'.\n         Trying pattern rule with stem `protoc-gen-go'.\n         Trying implicit prerequisite `build\/docker\/gotools\/bin\/protoc-gen-go.sh'.\n         Looking for a rule with intermediate file `build\/docker\/gotools\/bin\/protoc-gen-go.sh'.\n          Trying pattern rule with stem `protoc-gen-go.sh'.\n          Trying implicit prerequisite `build\/docker\/gotools\/bin\/protoc-gen-go.sh,v'.\n          Trying pattern rule with stem `protoc-gen-go.sh'.\n          Trying implicit prerequisite `build\/docker\/gotools\/bin\/RCS\/protoc-gen-go.sh,v'.\n          Trying pattern rule with stem `protoc-gen-go.sh'.\n          Trying implicit prerequisite `build\/docker\/gotools\/bin\/RCS\/protoc-gen-go.sh'.\n          Trying pattern rule with stem `protoc-gen-go.sh'.\n          Trying implicit prerequisite `build\/docker\/gotools\/bin\/s.protoc-gen-go.sh'.\n          Trying pattern rule with stem `protoc-gen-go.sh'.\n          Trying implicit prerequisite `build\/docker\/gotools\/bin\/SCCS\/s.protoc-gen-go.sh'.\n         No implicit rule found for `build\/docker\/gotools\/bin\/protoc-gen-go'.","ts":"1481806289.000508"},{"type":"message","user":"U0KPFAZNF","text":"did it work on this run?","ts":"1481807567.000509"},{"type":"message","user":"U0KPFAZNF","text":"or did you see the problem","ts":"1481807571.000510"},{"type":"message","user":"U2Q0HP4HY","text":"question : did make like this in fabric\nmake gotools peer orderer unit-test\nI thought that would just build locally without any docker.. But still seem like docker images are downloaded and made","edited":{"user":"U2Q0HP4HY","ts":"1481808064.000000"},"ts":"1481808042.000513"},{"type":"message","user":"U0KPFAZNF","text":"peer deps on ccenv\/javaenv containers","ts":"1481808713.000515"},{"type":"message","user":"U0KPFAZNF","text":"this was intentional as a convenience\/simplification, the peer cannot run without them","ts":"1481808753.000516"},{"type":"message","user":"U0KPFAZNF","text":"there is an ongoing debate whether we should enforce the relationship, but for now, that is FAD","ts":"1481808801.000517"},{"type":"message","user":"U2Q0HP4HY","text":"k thx Greg","ts":"1481808976.000518"},{"type":"message","user":"U0Z41KY5V","text":"<@U0KPFAZNF> aha, i `make clean`, then `make -d peer 2&gt;&amp;1 | grep protoc`","ts":"1481811284.000519"},{"type":"message","user":"U2Q0HP4HY","text":"running locally (no docker)  I see this when deploying chain code \n```\nStep 4 : RUN go install build-chaincode  &amp;&amp; mv $GOPATH\/bin\/build-chaincode $GOPATH\/bin\/example_cc.go\n ---&gt; Running in 3aa29ae1e319\nsrc\/build-chaincode\/example_cc.go:25:2: cannot find package \"<http:\/\/github.com\/hyperledger\/fabric\/core\/chaincode\/shim|github.com\/hyperledger\/fabric\/core\/chaincode\/shim>\" in any of:\n\t\/opt\/go\/src\/github.com\/hyperledger\/fabric\/core\/chaincode\/shim (from $GOROOT)\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/chaincode\/shim (from $GOPATH)\n\n********************\n```\n```\n$env | grep GOPATH\nGOPATH=\/home\/rineholt\/gitws\/bc\/vagrant-1215\n```","edited":{"user":"U2Q0HP4HY","ts":"1481811708.000000"},"ts":"1481811632.000520"},{"type":"message","user":"U2Q0HP4HY","text":"anyone know what I must set to change that  gopath ?","ts":"1481811741.000522"},{"type":"message","user":"U0Z41KY5V","text":"pls link ur `$GOPATH` to  `\/opt\/gopath`","ts":"1481811901.000523"},{"type":"message","user":"U2Q0HP4HY","text":"so it's hardcode ?","ts":"1481813388.000524"},{"user":"U3FUEPPF1","text":"<@U3FUEPPF1|vladislav_zolotarev> has joined the channel","type":"message","subtype":"channel_join","ts":"1481813444.000525"},{"type":"message","user":"U3FUEPPF1","text":"Hi, I am having trouble building docker images on vagrant dev env, latest from master branch. Trouble is that busybox build is failing due to 'cannot move \"include\/usage_compressed.h.561\" to  \"include\/usage_compressed.h\": Text file busy' Can anyone, please, help?","ts":"1481813556.000526"},{"type":"message","user":"U0KPFAZNF","text":"<@U2Q0HP4HY>: that shouldn't be necessary ","ts":"1481814626.000527"},{"type":"message","user":"U0KPFAZNF","text":"Make sure $GOPATH\/src\/ leads to the shim","ts":"1481814666.000528"},{"type":"message","user":"U0KPFAZNF","text":"It doesn't matter what path it is as long as it resolves ","ts":"1481814683.000529"},{"type":"message","user":"U2Q0HP4HY","text":"I want to rebuild the shim .. what do I need do with make for that ?","ts":"1481814720.000530"},{"type":"message","user":"U0KPFAZNF","text":"There's nothing to rebuild","ts":"1481816026.000531"},{"type":"message","user":"U0KPFAZNF","text":"It's a library that chaincode will reference","ts":"1481816042.000532"},{"type":"message","user":"U2Q0HP4HY","text":"odd so  I linked that directory and I still get \n```\nStep 3 : WORKDIR $GOPATH\n ---&gt; Using cache\n ---&gt; d995fbb3d2ef\nStep 4 : RUN go install build-chaincode  &amp;&amp; mv $GOPATH\/bin\/build-chaincode $GOPATH\/bin\/example_cc.go\n ---&gt; Running in 9fb01132f318\nsrc\/build-chaincode\/example_cc.go:25:2: cannot find package \"<http:\/\/github.com\/hyperledger\/fabric\/core\/chaincode\/shim|github.com\/hyperledger\/fabric\/core\/chaincode\/shim>\" in any of:\n\t\/opt\/go\/src\/github.com\/hyperledger\/fabric\/core\/chaincode\/shim (from $GOROOT)\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/chaincode\/shim (from $GOPATH)\n```\n\n```\nls \/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/chaincode\/shim\nchaincode.go  crypto  handler.go  inprocstream.go  interfaces.go  java  mockstub.go  mockstub_test.go  shim_test.go  table.pb.go  table.proto\n\n```","ts":"1481816546.000533"},{"type":"message","user":"U0KPFAZNF","text":"<@U2Q0HP4HY> can you provide the full output?  You are building chaincode in the v0.6 branch?","ts":"1481818987.000534"},{"type":"message","user":"U0KPFAZNF","text":"I at least need to see Step 1 - 4 in the above","ts":"1481819003.000535"},{"type":"message","subtype":"file_share","text":"<@U36UDC6RK|kamo> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/kamo\/F3G0CJQ9L\/-.yaml|Untitled> and commented: Does anyone know this error?","file":{"id":"F3G0CJQ9L","created":1481819018,"timestamp":1481819018,"name":"-.yaml","title":"Untitled","mimetype":"text\/plain","filetype":"yaml","pretty_type":"YAML","user":"U36UDC6RK","editable":true,"size":550,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3G0CJQ9L\/-.yaml?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3G0CJQ9L\/download\/-.yaml?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/kamo\/F3G0CJQ9L\/-.yaml","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3G0CJQ9L-68848240f6","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/kamo\/F3G0CJQ9L\/-.yaml\/edit","preview":"make native\r\nBuilding docker ccenv-image\r\ndocker build  -t hyperledger\/fabric-ccenv build\/image\/ccenv\r\nSending build context to Docker daemon 20.17 MB\r\nStep 1 : FROM hyperledger\/fabric-baseimage:x86_64-0.2.2\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>make native<\/pre><\/div>\n<div><pre>Building docker ccenv-image<\/pre><\/div>\n<div><pre>docker build  -t hyperledger\/fabric-ccenv build\/image\/ccenv<\/pre><\/div>\n<div><pre>Sending build context to Docker daemon 20.17 MB<\/pre><\/div>\n<div><pre><span class=\"cm-atom\">Step 1<\/span> <span class=\"cm-meta\">: <\/span>FROM hyperledger\/fabric-baseimage<span class=\"cm-meta\">:<\/span>x86_64-0.2.2<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":12,"lines_more":7,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc3FC5TYN8","created":1481819018,"timestamp":1481819018,"user":"U36UDC6RK","is_intro":true,"comment":"Does anyone know this error?","channel":""}},"user":"U36UDC6RK","upload":true,"display_as_bot":false,"username":"<@U36UDC6RK|kamo>","bot_id":null,"ts":"1481819019.000536"},{"type":"message","user":"U2Q0HP4HY","text":"no that was 1.0","ts":"1481819020.000537"},{"type":"message","user":"U2Q0HP4HY","text":"```\n2016-12-15 10:33:05.564 EST [chaincode] beforeCompletedEvent -&gt; DEBU 0a4 [9c68c204]beforeCompleted - not in ready state will notify when in readystate\n2016-12-15 10:33:05.564 EST [chaincode] enterReadyState -&gt; DEBU 0a5 [9c68c204]Entered state ready\n2016-12-15 10:33:05.564 EST [chaincode] notify -&gt; DEBU 0a6 notifying Txid:9c68c204-e0ac-4504-ac97-bf5bf078e8c9\n2016-12-15 10:33:05.564 EST [chaincode] NewCCContext -&gt; INFO 0a7 NewCCCC (chain=**TEST_CHAINID**,chaincode=example_cc.go,version=,txid=9c68c204-e0ac-4504-ac97-bf5bf078e8c9,syscc=false,proposal=0xc42013bc70,canname=example_cc.go\/**TEST_CHAINID**\n2016-12-15 10:33:05.564 EST [chaincode] getArgsAndEnv -&gt; DEBU 0a8 Executable is \/opt\/gopath\/bin\/example_cc.go\n2016-12-15 10:33:05.564 EST [chaincode] Deploy -&gt; DEBU 0a9 deploying chaincode example_cc.go\/**TEST_CHAINID**(networkid:dev,peerid:jdoe)\n2016-12-15 10:33:06.487 EST [dockercontroller] deployImage -&gt; ERRO 0aa Error building images: The command '\/bin\/sh -c go install build-chaincode  &amp;&amp; mv $GOPATH\/bin\/build-chaincode $GOPATH\/bin\/example_cc.go' returned a non-zero code: 1\n2016-12-15 10:33:06.487 EST [dockercontroller] deployImage -&gt; ERRO 0ab Image Output:\n********************\nStep 1 : FROM hyperledger\/fabric-ccenv\n ---&gt; 6c9026312cc3\nStep 2 : COPY . $GOPATH\/src\/build-chaincode\/\n ---&gt; Using cache\n ---&gt; d73875f5da62\nStep 3 : WORKDIR $GOPATH\n ---&gt; Using cache\n ---&gt; d995fbb3d2ef\nStep 4 : RUN go install build-chaincode  &amp;&amp; mv $GOPATH\/bin\/build-chaincode $GOPATH\/bin\/example_cc.go\n ---&gt; Running in 9fb01132f318\nsrc\/build-chaincode\/example_cc.go:25:2: cannot find package \"<http:\/\/github.com\/hyperledger\/fabric\/core\/chaincode\/shim|github.com\/hyperledger\/fabric\/core\/chaincode\/shim>\" in any of:\n\t\/opt\/go\/src\/github.com\/hyperledger\/fabric\/core\/chaincode\/shim (from $GOROOT)\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/chaincode\/shim (from $GOPATH)\n\n********************\n2016-12-15 10:33:06.965 EST [GossipStateProvider] antiEntropy -&gt; DEBU 0ac Current ledger height is t```","ts":"1481819062.000538"},{"type":"message","user":"U0KPFAZNF","text":"<@U2Q0HP4HY> ok, ccenv should have had everything pre-baked for you","ts":"1481822367.000539"},{"type":"message","user":"U0KPFAZNF","text":"can you run this: \"docker run -it hyperledger\/fabric-ccenv ls \/opt\/gopath\/src\"","ts":"1481822419.000540"},{"type":"message","user":"U0KPFAZNF","text":"<@U36UDC6RK> yes, i know that error: are you on OSX per chance?","ts":"1481822482.000541"},{"type":"message","user":"U2Q0HP4HY","text":"linux","ts":"1481822510.000542"},{"type":"message","user":"U2Q0HP4HY","text":"$docker run -it hyperledger\/fabric-ccenv ls \/opt\/gopath\/src\ngoshim.tar.bz2","ts":"1481822519.000543"},{"type":"message","user":"U0KPFAZNF","text":"<@U2Q0HP4HY> that is really bizarre","ts":"1481822541.000544"},{"type":"message","user":"U2Q0HP4HY","text":"well I moved back to vagrant now","ts":"1481822558.000545"},{"type":"message","user":"U36UDC6RK","text":" <@U0KPFAZNF> yes iam on OS X ","ts":"1481822567.000546"},{"type":"message","user":"U2Q0HP4HY","text":"Really wanted to run native","ts":"1481822587.000547"},{"type":"message","user":"U2Q0HP4HY","text":"did the make  locally","ts":"1481822603.000548"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3EKLRZUY\/-.sh|Untitled> and commented: <@U2Q0HP4HY> something is not kosher with your ccenv image","file":{"id":"F3EKLRZUY","created":1481822618,"timestamp":1481822618,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0KPFAZNF","editable":true,"size":382,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3EKLRZUY\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3EKLRZUY\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3EKLRZUY\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3EKLRZUY-f6cd628538","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3EKLRZUY\/-.sh\/edit","preview":"Greg:fabric ghaskins$ docker run -it hyperledger\/fabric-ccenv ls \/opt\/gopath\/src\r\ngithub.com\r\nGreg:fabric ghaskins$ docker run -it hyperledger\/fabric-ccenv ls \/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/chaincode\/shim\r\nchaincode.go  inprocstream.go  mockstub.go\t table.pb.go\r\ncrypto\t      interfaces.go    mockstub_test.go  table.proto\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Greg:fabric ghaskins<span class=\"cm-def\">$ docker<\/span> run <span class=\"cm-attribute\">-it<\/span> hyperledger\/fabric-ccenv <span class=\"cm-builtin\">ls<\/span> \/opt\/gopath\/src<\/pre><\/div>\n<div><pre>github.com<\/pre><\/div>\n<div><pre>Greg:fabric ghaskins<span class=\"cm-def\">$ docker<\/span> run <span class=\"cm-attribute\">-it<\/span> hyperledger\/fabric-ccenv <span class=\"cm-builtin\">ls<\/span> \/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/chaincode\/shim<\/pre><\/div>\n<div><pre>chaincode.go  inprocstream.go  mockstub.go\t table.pb.go<\/pre><\/div>\n<div><pre>crypto\t      interfaces.go    mockstub_test.go  table.proto<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":6,"lines_more":1,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc3ELF6U8Z","created":1481822618,"timestamp":1481822618,"user":"U0KPFAZNF","is_intro":true,"comment":"<@U2Q0HP4HY> something is not kosher with your ccenv image","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1481822619.000549"},{"type":"message","user":"U0KPFAZNF","text":"did you do anything custom to generate it, or was this simply what came out of a normal build?","ts":"1481822673.000550"},{"type":"message","user":"U0KPFAZNF","text":"<@U36UDC6RK> ah, yes, the answer is simple","ts":"1481822697.000551"},{"type":"message","user":"U0KPFAZNF","text":"OSX ships with bsdtar, but the build expects switches that are gnutar specific","ts":"1481822713.000552"},{"type":"message","user":"U2Q0HP4HY","text":"Well I went back to running in vagrant. I run the same sdk test and it worked","ts":"1481822723.000553"},{"type":"message","user":"U0KPFAZNF","text":"what most of us have done is used homebrew to replace bsdtar with gnutar...i can guide if that is acceptable to you","ts":"1481822731.000554"},{"type":"message","user":"U36UDC6RK","text":"yes sure, that would be nice","ts":"1481822750.000555"},{"type":"message","user":"U0KPFAZNF","text":"<@U36UDC6RK> ok, let me look it up, standby","ts":"1481822763.000556"},{"type":"message","user":"U0KPFAZNF","text":"<@U36UDC6RK> i think you want \"brew install gnu-tar --with-default-names\"","ts":"1481822822.000557"},{"type":"message","user":"U0KPFAZNF","text":"the last option makes it install it as \/usr\/local\/bin\/tar rather than \/usr\/local\/bin\/gtar","ts":"1481822844.000558"},{"type":"message","user":"U0KPFAZNF","text":"so, as long as \/usr\/local\/bin eclipses your default OSX bsdtar, that should do it","ts":"1481822865.000559"},{"type":"message","user":"U0KPFAZNF","text":"<@U2Q0HP4HY> ok, I am not sure what went wrong, but your ccenv image seems to be corrupt somehow","ts":"1481822903.000560"},{"type":"message","user":"U0KPFAZNF","text":"but glad you can work around it in the vagrant setup for now","ts":"1481822928.000561"},{"type":"message","user":"U2Q0HP4HY","text":"ok thx a bunch ...","ts":"1481822934.000562"},{"type":"message","user":"U36UDC6RK","text":"<@U0KPFAZNF> thanks alot, the make process was successful now!","ts":"1481823199.000563","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"we need to get that in a wiki\/faq somewhere","ts":"1481823279.000564"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> any thoughts as to best placement of the bsdtar\/gnutar thing for OSX?","ts":"1481823297.000565"},{"type":"message","user":"U0KM61BCP","text":"you mean in the docs?","ts":"1481827674.000566"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF> I have a changeset open that I can add this to","ts":"1481828037.000567"},{"user":"U0Z81GL6S","text":"<@U0Z81GL6S|anya> has left the channel","type":"message","subtype":"channel_leave","ts":"1481828832.000568"},{"type":"message","user":"U0YJUECE8","text":"<@U3FUEPPF1>  I don't have any answers, but, just to let you know, you're not the only one hitting this...  just ran into this this morning myself....I hadn't worked with vagrant and master for a few weeks (I usually work on z Systems).   Hopefully somebody here can help.","attachments":[{"fallback":"[December 15th, 2016 9:52 AM] vladislav_zolotarev: Hi, I am having trouble building docker images on vagrant dev env, latest from master branch. Trouble is that busybox build is failing due to 'cannot move \"include\/usage_compressed.h.561\" to  \"include\/usage_compressed.h\": Text file busy' Can anyone, please, help?","ts":"1481813556.000526","author_subname":"vladislav_zolotarev","channel_id":"C0YQ1NHGD","channel_name":"fabric-dev-env","is_msg_unfurl":true,"text":"Hi, I am having trouble building docker images on vagrant dev env, latest from master branch. Trouble is that busybox build is failing due to 'cannot move \"include\/usage_compressed.h.561\" to  \"include\/usage_compressed.h\": Text file busy' Can anyone, please, help?","author_name":"Vladislav Zolotarev","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/vladislav_zolotarev","author_icon":"https:\/\/secure.gravatar.com\/avatar\/a67fce5347fb885cea620ac1a4cfbec5.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0020-48.png","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev-env\/p1481813556000526","is_share":true,"footer":"Posted in #fabric-dev-env"}],"ts":"1481829921.000569"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP>: cool","ts":"1481830223.000570"},{"type":"message","user":"U0KM61BCP","text":"I updated <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3181\/>","ts":"1481833948.000571"},{"type":"message","user":"U0Z41KY5V","text":":+1:","ts":"1481847513.000572"},{"type":"message","user":"U3FUEPPF1","text":"<@U0YJUECE8> Yeah, couldn't workaround this, I though I'd be able to comment out this step and put pre-built binaries in the busybox folder. But it did not work out. Ended up configuring local environment for the build.","edited":{"user":"U3FUEPPF1","ts":"1481881966.000000"},"ts":"1481881943.000573"},{"type":"message","user":"U3BSMKS21","text":"are there any chaincode examples which already have a GUI implemented?","ts":"1481882614.000575"},{"user":"U3ENCLLUA","text":"<@U3ENCLLUA|sibelius> has joined the channel","type":"message","subtype":"channel_join","ts":"1481887771.000576"},{"type":"message","user":"U3ENCLLUA","text":"<@U3BSMKS21> there are 3 examples on IBM-Blockchain github","ts":"1481887800.000577"},{"type":"message","user":"U3ENCLLUA","text":"<https:\/\/github.com\/IBM-Blockchain\/marbles>","attachments":[{"service_name":"GitHub","title":"IBM-Blockchain\/marbles","title_link":"https:\/\/github.com\/IBM-Blockchain\/marbles","text":"marbles - IBM Blockchain - Marbles Demo","fallback":"GitHub: IBM-Blockchain\/marbles","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/17178768?v=3&s=400","from_url":"https:\/\/github.com\/IBM-Blockchain\/marbles","thumb_width":200,"thumb_height":200,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1481887800.000578"},{"type":"message","user":"U2TD4Q7NW","text":"<@U0KPFAZNF> no license on baseimage repo?","ts":"1481894769.000580"},{"type":"message","user":"U0KPFAZNF","text":"<@U2TD4Q7NW> oversight, it was split out from fabric.git some months back","ts":"1481894800.000581"},{"type":"message","user":"U0KPFAZNF","text":"consider it identical to fabric.git","ts":"1481894807.000582"},{"type":"message","user":"U2TD4Q7NW","text":"<@U0KPFAZNF> that's what I thought, slapping apache2 on my poc. Going to see how much I can plow though today.","ts":"1481894887.000583"},{"type":"message","user":"U2TD4Q7NW","text":"also no more rocksdb?","ts":"1481894890.000584"},{"type":"message","user":"U0KPFAZNF","text":"librocksdb.so is no longer needed in master","ts":"1481894981.000585"},{"type":"message","user":"U2TD4Q7NW","text":"well the important quesition is, does the replacement compile any faster? :stuck_out_tongue:","ts":"1481895012.000586"},{"type":"message","user":"U0KPFAZNF","text":"hah, well the replacement is native golang","ts":"1481895034.000587"},{"type":"message","user":"U0KPFAZNF","text":"so, while I havent qualified it, i would guess its probably about as fast as using pre-compiled librocksdb without having an external dep","ts":"1481895082.000588"},{"type":"message","user":"U0KPFAZNF","text":"and certainly faster than needing to compile librocksdb :wink:","ts":"1481895095.000589","reactions":[{"name":"+1","users":["U2TD4Q7NW"],"count":1}]},{"type":"message","user":"U2TD4Q7NW","text":"is there a reason we pull from google for go instead of installing golang-1.7 from the package manager?","ts":"1481919265.000590"},{"type":"message","user":"U2TD4Q7NW","text":"other than unsupported platforms like arm or IBM Z or whatever potato chip someone is using.","ts":"1481919286.000591"},{"type":"message","user":"U0KPFAZNF","text":"1.7 wasn't available packaged at the time","ts":"1481920742.000592"},{"type":"message","user":"U0KPFAZNF","text":"If it is now, I am not against using it","ts":"1481920760.000593"},{"type":"message","user":"U2TD4Q7NW","text":"ghaskins  let me push what I have now and talk it over with you real quick","ts":"1481921026.000594"},{"type":"message","user":"U2TD4Q7NW","text":"<@U0KPFAZNF>  <https:\/\/github.com\/jkilpatr\/fabric-baseimage-2.0>","attachments":[{"service_name":"GitHub","title":"jkilpatr\/fabric-baseimage-2.0","title_link":"https:\/\/github.com\/jkilpatr\/fabric-baseimage-2.0","text":"fabric-baseimage-2.0 - An Ansible based build process for Fabric base image with platform agnostic design","fallback":"GitHub: jkilpatr\/fabric-baseimage-2.0","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/19688153?v=3&s=400","from_url":"https:\/\/github.com\/jkilpatr\/fabric-baseimage-2.0","thumb_width":327,"thumb_height":327,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1481921107.000595"},{"type":"message","user":"U2TD4Q7NW","text":"so the idea is we have a playbook, which calls roles, which each perform a specific section of the build process then overwrite the docker image \"fabric-baseimage-in-progress\" in the local docker repo","ts":"1481921141.000597"},{"type":"message","user":"U2TD4Q7NW","text":"this makes the same sort of docker pipeline as before, but in a way where each part is clean and seperate","ts":"1481921166.000598"},{"type":"message","user":"U2TD4Q7NW","text":"if you need some special arch or whatever you could create a role ibm-java and in that handle installing ibm java in the container, the only bit I haven't figured out is if you use the role ibm-java how do we not install java back in the install-deps phase without adding disto + platform conditionals, which mean N distros * P platforms number of combinations to handle.","ts":"1481921261.000599"},{"type":"message","user":"U0Z41KY5V","text":"i have submitted a patch to use go 1.7 in the travis ci, welcome for review: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3215\/>","ts":"1481937805.000600"},{"type":"message","user":"U0KPFAZNF","text":"<@U0Z41KY5V> are we still using travis?","ts":"1481941286.000601"},{"type":"message","user":"U0Z41KY5V","text":"well, this is a good question, if not, i guess need to remove those travis config files instead. Any suggestion :slightly_smiling_face:","ts":"1481943636.000602"},{"type":"message","user":"U0KPFAZNF","text":"<@U2TD4Q7NW> awesome, I will take a look","ts":"1481978667.000603"},{"type":"message","user":"U0KPFAZNF","text":"<@U0Z41KY5V> I suppose <@U0UHG4VP1> or <@U11HH3P7Y> would know best.  I thought we were no longer using but I might be wrong.","ts":"1481978697.000604"},{"user":"U0UHG4VP1","inviter":"U0KPFAZNF","text":"<@U0UHG4VP1|ry> has joined the channel","type":"message","subtype":"channel_join","ts":"1481978703.000605"},{"type":"message","user":"U0Z41KY5V","text":"sure, let\u2019s confirm that and i will update the patch accordingly","ts":"1481978753.000606","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0UHG4VP1","text":"I don't know if anyone outside of HYP infra is using Travis ","ts":"1481988285.000607"},{"type":"message","user":"U0Z41KY5V","text":"<@U0UHG4VP1> So you suggest we keep the existing travis config and maybe remove it in future if no body used that?","ts":"1482023503.000608"},{"type":"message","user":"U0UHG4VP1","text":"<@U0Z41KY5V>: I know <@U0KPFAZNF> was talking a while ago about using something like that to drive builds, but AFAIK we aren't. Personally, I would remove it instead of updating it _if I knew nobody else was using it_. Perhaps you could send an email to the list and ask? Or submit a changeset and send an email?","ts":"1482024192.000609"},{"type":"message","user":"U0UHG4VP1","text":"<@U0Z41KY5V> also, if anyone else _is using it_, and you _are not using it_, shouldn't it be on the user to update it?","ts":"1482024229.000610"},{"type":"message","user":"U0UHG4VP1","text":"What drove you to update it? was it breaking stuff somewhere else?","ts":"1482024270.000611"},{"type":"message","user":"U0Z41KY5V","text":"no, it was for <https:\/\/jira.hyperledger.org\/browse\/FAB-1368>.","ts":"1482024338.000612"},{"type":"message","user":"U0Z41KY5V","text":"If it\u2019s still in-use, need to update to the golang1.7 env checking.","ts":"1482024361.000613"},{"type":"message","user":"U0Z41KY5V","text":"However, in case someone is using, i will send a email to the list too, thanks Ry!","ts":"1482024382.000614"},{"type":"message","user":"U0UHG4VP1","text":"sure thing","ts":"1482024413.000615"},{"user":"U3255JG20","text":"<@U3255JG20|py> has joined the channel","type":"message","subtype":"channel_join","ts":"1482131739.000616"},{"type":"message","user":"U3BSMKS21","text":"does there exist a ubuntu virtualbox image with a compiled hyperledger version 0.6 ?","ts":"1482145000.000617"},{"type":"message","user":"U0KPFAZNF","text":"<@U3BSMKS21> virtualbox, no, docker, yes","ts":"1482169280.000618"},{"type":"message","user":"U0KPFAZNF","text":"it would be relatively easy to create a Vagrantfile for docker and then run it inside of that, however","ts":"1482169327.000619"},{"type":"message","user":"U3BSMKS21","text":"<@U0KPFAZNF> thx i was able to clone my hyperledger bare metal ubuntu to a vm already :slightly_smiling_face:","ts":"1482170322.000620","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0Z41KY5V","text":"for 1.0, it is recommended to use docker directly. and you can also create a vm image easily by running the `make peer` command inside with latest cloned code.","ts":"1482204857.000621"},{"type":"message","subtype":"file_comment","text":"<@U3HJVAXST|anandkarwa> commented on <@U11HH3P7Y|ramesh>\u2019s file <https:\/\/hyperledgerproject.slack.com\/files\/ramesh\/F26FALUM6\/unit-tests_failed.txt|unit-tests failed.txt>: hey did you resolve this problem? I am also Facing the same","file":{"id":"F26FALUM6","created":1472578408,"timestamp":1472578408,"name":"unit-tests failed.txt","title":"unit-tests failed.txt","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U11HH3P7Y","editable":true,"size":17731,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F26FALUM6\/unit-tests_failed.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F26FALUM6\/download\/unit-tests_failed.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ramesh\/F26FALUM6\/unit-tests_failed.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F26FALUM6-14bc4dbd9f","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ramesh\/F26FALUM6\/unit-tests_failed.txt\/edit","preview":"Running tests...\r\n?       github.com\/hyperledger\/fabric\/bddtests\/chaincode\/go\/table       [no test files]\r\nok      github.com\/hyperledger\/fabric\/bddtests\/syschaincode\/noop        0.083s  coverage: 71.0% of statements\r\n?       github.com\/hyperledger\/fabric\/consensus [no test files]\r\n?       github.com\/hyperledger\/fabric\/consensus\/controller      [no test files]\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Running tests...<\/pre><\/div>\n<div><pre>?       github.com\/hyperledger\/fabric\/bddtests\/chaincode\/go\/table       [no test files]<\/pre><\/div>\n<div><pre>ok      github.com\/hyperledger\/fabric\/bddtests\/syschaincode\/noop        0.083s  coverage: 71.0% of statements<\/pre><\/div>\n<div><pre>?       github.com\/hyperledger\/fabric\/consensus [no test files]<\/pre><\/div>\n<div><pre>?       github.com\/hyperledger\/fabric\/consensus\/controller      [no test files]<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":165,"lines_more":160,"preview_is_truncated":true,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":2,"initial_comment":{"id":"Fc26FTFNRG","created":1472578408,"timestamp":1472578408,"user":"U11HH3P7Y","is_intro":true,"comment":"please see the log file","channel":""}},"comment":{"id":"Fc3HJX3279","created":1482222940,"timestamp":1482222940,"user":"U3HJVAXST","is_intro":false,"comment":"hey did you resolve this problem? I am also Facing the same","channel":""},"is_intro":false,"ts":"1482222940.000622"},{"user":"U3HJVAXST","text":"<@U3HJVAXST|anandkarwa> has joined the channel","type":"message","subtype":"channel_join","ts":"1482223411.000623"},{"type":"message","user":"U3HJVAXST","text":"Hey everyone I am trying out the basic fabric setup from the official document and trying to deploy chaincode example 2. I am facing  some error while performing query transaction which says \"Chaincode handler FSM cannot handle message (RANGE_QUERY_STATE) with payload size (10) while in state: ready\"","ts":"1482223615.000624"},{"type":"message","user":"U3HJVAXST","text":"Did anyone of you have faced and resloved the issue? I have also posted it over stackoverflow ( <http:\/\/stackoverflow.com\/questions\/41220806\/unable-to-query-on-chaincode-example-2> )","attachments":[{"title":"Unable to query on chaincode example 2","title_link":"http:\/\/stackoverflow.com\/questions\/41220806\/unable-to-query-on-chaincode-example-2","text":"I am trying to setup the blockchain as described on the official documents.Officail document linkDeploy and Invoke for blockchain seems to work fine. But whenever I perform query it fails and","fallback":"Unable to query on chaincode example 2","thumb_url":"https:\/\/cdn.sstatic.net\/Sites\/stackoverflow\/img\/apple-touch-icon@2.png?v=73d79a89bded","from_url":"http:\/\/stackoverflow.com\/questions\/41220806\/unable-to-query-on-chaincode-example-2","thumb_width":316,"thumb_height":316,"service_icon":"https:\/\/cdn.sstatic.net\/Sites\/stackoverflow\/img\/favicon.ico?v=4f32ecc8f43d","service_name":"stackoverflow.com","id":1}],"ts":"1482223663.000625"},{"type":"message","user":"U2ZNC3PKN","text":"<@U3HJVAXST> never had the problem. just curious which Option (1,2,3) did you follow?","ts":"1482232305.000627"},{"type":"message","user":"U3HJVAXST","text":"<@U2ZNC3PKN>  option 2","ts":"1482232421.000628"},{"type":"message","user":"U2ZNC3PKN","text":"<@U3HJVAXST> Mac or Windows?","ts":"1482232639.000629"},{"type":"message","user":"U3HJVAXST","text":"<@U2ZNC3PKN>  I am doing it over centos have installed docker on it","ts":"1482232752.000630"},{"type":"message","user":"U2ZNC3PKN","text":"<@U3HJVAXST> well the last time I tried that, I use ubuntu14.04 and had no problem with query.\nIt can only run with dev mode only as I remember (but that's another problem I guess)","ts":"1482232960.000631"},{"type":"message","user":"U2ZNC3PKN","text":"<@U3HJVAXST> according to the link to that manual, your are using peer CLI to deploy\/invoke\/query the chaincode?","ts":"1482233165.000632"},{"type":"message","user":"U3HJVAXST","text":"I tried it with both peer CLI as well as REST api both gives the same error","ts":"1482233207.000633"},{"type":"message","user":"U3HJVAXST","text":"I am Loging into vp0_1 docker container and executing those peer CLI queries from peer folder","ts":"1482233338.000634"},{"type":"message","user":"U2ZNC3PKN","text":"vp0_1? According to the hard to follow doc, it only configured with \"membersrvc\" and \"vp0\".","ts":"1482233480.000635"},{"type":"message","user":"U3HJVAXST","text":"when I do docker ps it shows me 2 docker containers \"githubcom_vp0_1\" and \"githubcom_membersrvc_1\"","ts":"1482233589.000636"},{"type":"message","user":"U2ZNC3PKN","text":"are you using docker-compose with the yaml file on the linked documentation?","ts":"1482233672.000637"},{"type":"message","user":"U2ZNC3PKN","text":"ah sorry, never mind. that yaml file doesn't set container name.","ts":"1482233757.000638"},{"type":"message","user":"U2ZNC3PKN","text":"and you also run the chaincode on the vp0_1?","ts":"1482233839.000639"},{"type":"message","user":"U2ZNC3PKN","text":"just to make sure, is the chaincode running when you deploy and invoke.\nthere's should be a log from the chaincode if you read the example02 source.","ts":"1482233932.000640"},{"type":"message","user":"U3HJVAXST","text":"nope I have checkedout and build the chaincode on my host machine and executed it from same pointing out the CORE_PEER_ADDRESS=0.0.0.0:7051 while running it","ts":"1482233987.000641"},{"type":"message","user":"U3HJVAXST","text":"is it necessary to run it in vp0_1 as well ?","ts":"1482234386.000642"},{"type":"message","user":"U2ZNC3PKN","text":"<@U3HJVAXST> AFAIK nope, as long as their both can talk with gRPC (7051) that should be fine I guess","ts":"1482234539.000643"},{"type":"message","user":"U2ZNC3PKN","text":"perhaps you should check your logs on peer, chaincode, and peer(cli) if there's any suspicious error when you execute the query.\nif you were able to execute invoke, I'm not sure why you won't be able to run the query.","ts":"1482234809.000644"},{"type":"message","subtype":"file_share","text":"<@U3HJVAXST|anandkarwa> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/anandkarwa\/F3H33S7BP\/log_on_peer.txt|log on peer>","file":{"id":"F3H33S7BP","created":1482235060,"timestamp":1482235060,"name":"log_on_peer.txt","title":"log on peer","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U3HJVAXST","editable":true,"size":1164,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3H33S7BP\/log_on_peer.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3H33S7BP\/download\/log_on_peer.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/anandkarwa\/F3H33S7BP\/log_on_peer.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3H33S7BP-929025e8b6","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/anandkarwa\/F3H33S7BP\/log_on_peer.txt\/edit","preview":"vp0_1         | 11:53:54.862 [chaincode] setChaincodeSecurityContext -> DEBU 57c setting chaincode security context. Metadata []\r\nvp0_1         | 11:53:54.862 [chaincode] sendExecuteMessage -> DEBU 57d [bfa64760]sending query\r\nvp0_1         | 11:53:54.868 [chaincode] processStream -> DEBU 57e [bfa64760]Received message ERROR from shim\r\nvp0_1         | 11:53:54.868 [chaincode] processStream -> ERRO 57f Got error: [bfa64760-f5b3-46c4-b051-1f3600c9a225]Chaincode handler FSM cannot handle message (RANGE_QUERY_STATE) with payload size (10) while in state: ready\r\nvp0_1         | 11:53:54.868 [chaincode] HandleMessage -> DEBU 580 [bfa64760]Handling ChaincodeMessage of type: ERROR in state ready\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>vp0_1         | 11:53:54.862 [chaincode] setChaincodeSecurityContext -&gt; DEBU 57c setting chaincode security context. Metadata []<\/pre><\/div>\n<div><pre>vp0_1         | 11:53:54.862 [chaincode] sendExecuteMessage -&gt; DEBU 57d [bfa64760]sending query<\/pre><\/div>\n<div><pre>vp0_1         | 11:53:54.868 [chaincode] processStream -&gt; DEBU 57e [bfa64760]Received message ERROR from shim<\/pre><\/div>\n<div><pre>vp0_1         | 11:53:54.868 [chaincode] processStream -&gt; ERRO 57f Got error: [bfa64760-f5b3-46c4-b051-1f3600c9a225]Chaincode handler FSM cannot handle message (RANGE_QUERY_STATE) with payload size (10) while in state: ready<\/pre><\/div>\n<div><pre>vp0_1         | 11:53:54.868 [chaincode] HandleMessage -&gt; DEBU 580 [bfa64760]Handling ChaincodeMessage of type: ERROR in state ready<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":8,"lines_more":3,"preview_is_truncated":true,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U3HJVAXST","upload":true,"display_as_bot":false,"username":"<@U3HJVAXST|anandkarwa>","bot_id":null,"ts":"1482235061.000645"},{"type":"message","user":"U2ZNC3PKN","text":"<@U3HJVAXST> wait, you said you build the chaincode yourself ? could it be some version mismatch with the running peer?\ntry to build your chaincode inside vp0_1 and run it from there, the container should already have go and all the sources inside.","ts":"1482235132.000646"},{"type":"message","user":"U3HJVAXST","text":"<@U2ZNC3PKN>  okay let me try that","ts":"1482235159.000647"},{"type":"message","user":"U3HJVAXST","text":"<@U2ZNC3PKN>  it worked. I have used the example which was present inside the container as checking out new code was giving errors (Seems container has old fabric code while there are new changes in the latest example02)","ts":"1482235926.000648"},{"type":"message","user":"U3HJVAXST","text":"Thanks for your help Sk :slightly_smiling_face: can you also reply on my stackoverflow question please :slightly_smiling_face:","ts":"1482235970.000649"},{"user":"U3HA37S67","text":"<@U3HA37S67|alexjipark> has joined the channel","type":"message","subtype":"channel_join","ts":"1482305458.000650"},{"type":"message","user":"U3HA37S67","text":"how do you guys debug when developping fabric?.. any ide? debug line by line?","ts":"1482313227.000651"},{"type":"message","user":"U3HA37S67","text":"I'm new to Hyperledger but eager to learn and contribute","ts":"1482313270.000652"},{"type":"message","user":"U3HA37S67","text":"plz help me out .. T.T","ts":"1482313277.000653"},{"type":"message","user":"U0KPFAZNF","text":"<@U3HA37S67> personally I use <https:\/\/github.com\/derekparker\/delve>","attachments":[{"service_name":"GitHub","title":"derekparker\/delve","title_link":"https:\/\/github.com\/derekparker\/delve","text":"delve - Delve is a debugger for the Go programming language.","fallback":"GitHub: derekparker\/delve","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/1314079?v=3&s=400","from_url":"https:\/\/github.com\/derekparker\/delve","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1482327878.000654"},{"type":"message","user":"U0KPFAZNF","text":"my understanding is that the IDEs have come a long way in supporting debugging golang code since I started on the project more than a year ago, but I still use this","ts":"1482327915.000656"},{"type":"message","user":"U3BSMKS21","text":"i am trying to create a table in the Init of a chaincode","ts":"1482328717.000657"},{"type":"message","user":"U3BSMKS21","text":"but when deploying it tells me this table would already exist...","ts":"1482328743.000658"},{"type":"message","user":"U3BSMKS21","text":"i already checked if i create it twice but this does not seem to be the case","ts":"1482328808.000659"},{"type":"message","user":"U0KPFAZNF","text":"<@U3BSMKS21>: ensure you blow away the \/var\/hyperledger db between runs","ts":"1482328938.000660"},{"type":"message","user":"U0KPFAZNF","text":"I suspect that is your problem","ts":"1482328951.000661"},{"type":"message","user":"U3BSMKS21","text":"ahh ok this could be possible :slightly_smiling_face:","ts":"1482328961.000662"},{"type":"message","user":"U0KPFAZNF","text":"If that works, then the issue is there's still a bug\/limitation is fabric for redeployment ","ts":"1482328985.000663"},{"type":"message","user":"U0KPFAZNF","text":"Obviously needs to be fixed, but I know it used to be a problem at least through the v0,6 release ","ts":"1482329024.000664"},{"type":"message","user":"U3BSMKS21","text":"so what exactly do i have to  `rm`","ts":"1482329034.000665"},{"type":"message","user":"U3BSMKS21","text":"the whole content in this directory?","ts":"1482329045.000666"},{"type":"message","user":"U3BSMKS21","text":"yes im working with 0.6","ts":"1482329050.000667"},{"type":"message","user":"U3BSMKS21","text":"deleted the content of db directory","ts":"1482329123.000668"},{"type":"message","user":"U3BSMKS21","text":"is working now. thx a lot :slightly_smiling_face:","ts":"1482329130.000669"},{"type":"message","user":"U0KPFAZNF","text":"Yeah I blow the whole thing away","ts":"1482329151.000670"},{"type":"message","user":"U0KPFAZNF","text":"Yw","ts":"1482329160.000671"},{"type":"message","user":"U0KPFAZNF","text":"Part of the problem is that the chaincode redeploys _too_ deterministically.  So you get the identical hash\/id each time ","ts":"1482329242.000672"},{"type":"message","user":"U0KPFAZNF","text":"And thus, same state","ts":"1482329251.000673"},{"type":"message","user":"U0KPFAZNF","text":"What needs to happen is nonce needs to be used","ts":"1482329274.000674"},{"type":"message","user":"U3BSMKS21","text":"ahh ok","ts":"1482329296.000675"},{"type":"message","user":"U3BSMKS21","text":"is there any possibility to loop through all entries of a table ?","ts":"1482333770.000676"},{"type":"message","user":"U0KPFAZNF","text":"see GetRows","ts":"1482336815.000677"},{"type":"message","user":"U3BSMKS21","text":"so it gives me all the keys which match my input","ts":"1482337058.000678"},{"type":"message","user":"U3BSMKS21","text":"at the moment im struggling to find out how to print the content of the table","ts":"1482337084.000679"},{"type":"message","user":"U3BSMKS21","text":"when querying i get something like `Query Result: %!s(&lt;-chan shim.Row=0x......)`","ts":"1482337127.000680"},{"type":"message","user":"U3BSMKS21","text":"hmm so now im getting `Query Result: {[]}`","ts":"1482338535.000681"},{"type":"message","user":"U0KPFAZNF","text":"<@U1KASSN2F> any thoughts ^^^","ts":"1482338609.000682"},{"user":"U1KASSN2F","inviter":"U0KPFAZNF","text":"<@U1KASSN2F|bensor> has joined the channel","type":"message","subtype":"channel_join","ts":"1482338613.000683"},{"type":"message","user":"U3BSMKS21","text":"so what im trying to do is to create a table of transactions","ts":"1482338730.000684"},{"type":"message","user":"U3BSMKS21","text":"`peer chaincode invoke -n settlement -c '{\"Args\": [\"createTransaction\", \"Alice\", \"Bob\", \"50\"]}'`","ts":"1482338791.000685"},{"type":"message","user":"U3BSMKS21","text":"then i wanted to check if the row is written to the table","ts":"1482338820.000686"},{"type":"message","user":"U3BSMKS21","text":"`peer chaincode query -n settlement -c '{\"Args\": [\"getRow\", \"Alice\"]}'`","ts":"1482338913.000687"},{"type":"message","user":"U3BSMKS21","text":"aaahhh got it","ts":"1482339003.000688"},{"type":"message","user":"U3BSMKS21","text":"the problem was that several columns in the table were set to 'Key: true'","ts":"1482339091.000689"},{"user":"U1V6SJ1FF","text":"<@U1V6SJ1FF|dgorman> has joined the channel","type":"message","subtype":"channel_join","ts":"1482399482.000690"},{"type":"message","user":"U12452RAP","text":"anyone know this error?","ts":"1482414312.000691"},{"type":"message","subtype":"file_share","text":"<@U12452RAP|grapebaba> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/grapebaba\/F3HB72QJD\/-.coffee|Untitled>","file":{"id":"F3HB72QJD","created":1482414333,"timestamp":1482414333,"name":"-.coffee","title":"Untitled","mimetype":"text\/plain","filetype":"coffeescript","pretty_type":"CoffeeScript","user":"U12452RAP","editable":true,"size":1122,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3HB72QJD\/-.coffee?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3HB72QJD\/download\/-.coffee?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/grapebaba\/F3HB72QJD\/-.coffee","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3HB72QJD-22e679102a","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/grapebaba\/F3HB72QJD\/-.coffee\/edit","preview":"Running behave tests\r\nException ImportError: No module named sha3\r\nTraceback (most recent call last):\r\n  File \"\/usr\/local\/bin\/behave\", line 11, in <module>\r\n    sys.exit(main())\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-variable\">Running<\/span> <span class=\"cm-variable\">behave<\/span> <span class=\"cm-variable\">tests<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-variable\">Exception<\/span> <span class=\"cm-variable\">ImportError<\/span><span class=\"cm-punctuation\">:<\/span> <span class=\"cm-variable\">No<\/span> <span class=\"cm-variable\">module<\/span> <span class=\"cm-variable\">named<\/span> <span class=\"cm-variable\">sha3<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-variable\">Traceback<\/span> <span class=\"cm-punctuation\">(<\/span><span class=\"cm-variable\">most<\/span> <span class=\"cm-variable\">recent<\/span> <span class=\"cm-variable\">call<\/span> <span class=\"cm-variable\">last<\/span><span class=\"cm-punctuation\">)<\/span><span class=\"cm-punctuation\">:<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-indent\">  <\/span><span class=\"cm-variable\">File<\/span> <span class=\"cm-string\">&quot;\/usr\/local\/bin\/behave&quot;<\/span><span class=\"cm-punctuation\">,<\/span> <span class=\"cm-variable\">line<\/span> <span class=\"cm-number\">11<\/span><span class=\"cm-punctuation\">,<\/span> <span class=\"cm-operator\">in<\/span> <span class=\"cm-operator\">&lt;<\/span><span class=\"cm-variable\">module<\/span><span class=\"cm-operator\">&gt;<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-indent\">    <\/span><span class=\"cm-variable\">sys<\/span><span class=\"cm-punctuation\">.<\/span><span class=\"cm-property\">exit<\/span><span class=\"cm-punctuation\">(<\/span><span class=\"cm-variable\">main<\/span><span class=\"cm-punctuation\">(<\/span><span class=\"cm-punctuation\">)<\/span><span class=\"cm-punctuation\">)<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":22,"lines_more":17,"preview_is_truncated":true,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U12452RAP","upload":true,"display_as_bot":false,"username":"<@U12452RAP|grapebaba>","bot_id":null,"ts":"1482414333.000692"},{"type":"message","user":"U12452RAP","text":"my vagrant  version vagrant@hyperledger-devenv:v0.2.2-784d260","ts":"1482414577.000693"},{"type":"message","user":"U12452RAP","text":"need i install sha3 manually?","ts":"1482414598.000694"},{"type":"message","user":"U1FEUAG9E","text":"pip install sha3","ts":"1482417236.000695"},{"type":"message","user":"U12452RAP","text":"Yep ","ts":"1482418253.000696"},{"type":"message","user":"U12452RAP","text":"but why missing it? Or just my env missing it","ts":"1482418289.000697"},{"type":"message","user":"U1FEUAG9E","text":"Not sure -- why it's missing..\nI do see this issue as well","edited":{"user":"U1FEUAG9E","ts":"1482418447.000000"},"ts":"1482418420.000698"},{"type":"message","user":"U12452RAP","text":":face_with_head_bandage:","ts":"1482420003.000700"},{"user":"U3JEYDAMQ","text":"<@U3JEYDAMQ|janaka-steph> has joined the channel","type":"message","subtype":"channel_join","ts":"1482528341.000701"},{"user":"U3J48LFUG","text":"<@U3J48LFUG|kfioktistov> has joined the channel","type":"message","subtype":"channel_join","ts":"1482758573.000702"},{"type":"message","subtype":"file_share","text":"<@U2B4QU7U3|karnn> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/karnn\/F3LRKPE5D\/problem_with_building_fabric.txt|Problem with building fabric>","file":{"id":"F3LRKPE5D","created":1483175993,"timestamp":1483175993,"name":"Problem_with_building_fabric.txt","title":"Problem with building fabric","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U2B4QU7U3","editable":true,"size":1272,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3LRKPE5D\/problem_with_building_fabric.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3LRKPE5D\/download\/problem_with_building_fabric.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/karnn\/F3LRKPE5D\/problem_with_building_fabric.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3LRKPE5D-e86402a9f4","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/karnn\/F3LRKPE5D\/problem_with_building_fabric.txt\/edit","preview":"When I try to build fabric using: make 'dist-clean all', in vagrant in the '\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$', I get the following output:\r\n\r\ndocker images -q hyperledger\/fabric-peer | xargs -I '{}' docker rmi -f '{}'\r\ndocker images -q hyperledger\/fabric-orderer | xargs -I '{}' docker rmi -f '{}'\r\ndocker images -q hyperledger\/fabric-ccenv | xargs -I '{}' docker rmi -f '{}'\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>When I try to build fabric using: make 'dist-clean all', in vagrant in the '\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$', I get the following output:<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<div><pre>docker images -q hyperledger\/fabric-peer | xargs -I '{}' docker rmi -f '{}'<\/pre><\/div>\n<div><pre>docker images -q hyperledger\/fabric-orderer | xargs -I '{}' docker rmi -f '{}'<\/pre><\/div>\n<div><pre>docker images -q hyperledger\/fabric-ccenv | xargs -I '{}' docker rmi -f '{}'<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":18,"lines_more":13,"preview_is_truncated":true,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U2B4QU7U3","upload":true,"display_as_bot":false,"username":"<@U2B4QU7U3|karnn>","bot_id":null,"ts":"1483175993.000703"},{"type":"message","user":"U0KPFAZNF","text":"<@U2B4QU7U3> Looks like you are having trouble reaching <https:\/\/index.docker.io>","ts":"1483194590.000704"},{"type":"message","user":"U0KPFAZNF","text":"check your networking connectivity","ts":"1483194603.000705"},{"type":"message","user":"U2B4QU7U3","text":"<@U0KPFAZNF> i've abandoned vagrant and am building directly on the host","ts":"1483194641.000706"},{"type":"message","user":"U0KPFAZNF","text":"ok, though it shouldnt have mattered","ts":"1483194930.000707"},{"type":"message","user":"U0KPFAZNF","text":"something was likely misconfigured somewhere","ts":"1483194944.000708"},{"type":"message","user":"U0KPFAZNF","text":"it seems you were having trouble reaching DNS at 10.0.2.3","ts":"1483194979.000709"},{"type":"message","user":"U2B4QU7U3","text":"<@U0KPFAZNF> it was probably a port forwarding issue. i couldn't access any address from inside vagrant. but <@U0PB67X4K> advised me(as did the docs) to not use vagrant.","ts":"1483195099.000710"},{"type":"message","user":"U2B4QU7U3","text":"<@U0KPFAZNF> i'm getting a different error when i build: 'make dist-clean all' in $GOPATH\/src\/github.com\/hyperledger\/fabric\/.","ts":"1483200186.000711"},{"type":"message","subtype":"file_share","text":"<@U2B4QU7U3|karnn> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/karnn\/F3KF02D7A\/building_fabric_without_vagrant.txt|Building fabric without vagrant>","file":{"id":"F3KF02D7A","created":1483200244,"timestamp":1483200244,"name":"Building_fabric_without_vagrant.txt","title":"Building fabric without vagrant","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U2B4QU7U3","editable":true,"size":19982,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3KF02D7A\/building_fabric_without_vagrant.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3KF02D7A\/download\/building_fabric_without_vagrant.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/karnn\/F3KF02D7A\/building_fabric_without_vagrant.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3KF02D7A-1d6df2d652","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/karnn\/F3KF02D7A\/building_fabric_without_vagrant.txt\/edit","preview":"[karn@localhost fabric]$ make dist-clean all\r\ndocker images -q hyperledger\/fabric-peer | xargs -I '{}' docker rmi -f '{}'\r\ndocker images -q hyperledger\/fabric-orderer | xargs -I '{}' docker rmi -f '{}'\r\ndocker images -q hyperledger\/fabric-ccenv | xargs -I '{}' docker rmi -f '{}'\r\ndocker images -q hyperledger\/fabric-javaenv | xargs -I '{}' docker rmi -f '{}'\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>[karn@localhost fabric]$ make dist-clean all<\/pre><\/div>\n<div><pre>docker images -q hyperledger\/fabric-peer | xargs -I '{}' docker rmi -f '{}'<\/pre><\/div>\n<div><pre>docker images -q hyperledger\/fabric-orderer | xargs -I '{}' docker rmi -f '{}'<\/pre><\/div>\n<div><pre>docker images -q hyperledger\/fabric-ccenv | xargs -I '{}' docker rmi -f '{}'<\/pre><\/div>\n<div><pre>docker images -q hyperledger\/fabric-javaenv | xargs -I '{}' docker rmi -f '{}'<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":131,"lines_more":126,"preview_is_truncated":true,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U2B4QU7U3","upload":true,"display_as_bot":false,"username":"<@U2B4QU7U3|karnn>","bot_id":null,"ts":"1483200244.000712"},{"type":"message","user":"U2B4QU7U3","text":"<@U0KPFAZNF> am i right in guessing this is a kernel issue?","ts":"1483200452.000713"},{"type":"message","user":"U2B4QU7U3","text":"<@U0KPFAZNF> hey greg, i got my vagrant environment working. But i'm having a few problems with running 'make dist-clean all' to build fabric in \/opt\/gopath\/src\/github.com\/hyperledger\/fabric. When the behave tests run the build stops with this error message:","ts":"1483286516.000714"},{"type":"message","subtype":"file_share","text":"<@U2B4QU7U3|karnn> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/karnn\/F3L7KAZ43\/-.txt|Untitled>","file":{"id":"F3L7KAZ43","created":1483286557,"timestamp":1483286557,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U2B4QU7U3","editable":true,"size":1150,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3L7KAZ43\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3L7KAZ43\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/karnn\/F3L7KAZ43\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3L7KAZ43-54fe20648a","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/karnn\/F3L7KAZ43\/-.txt\/edit","preview":"Running behave tests\r\nException ImportError: No module named sha3\r\nTraceback (most recent call last):\r\n  File \"\/usr\/local\/bin\/behave\", line 11, in <module>\r\n    sys.exit(main())\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Running behave tests<\/pre><\/div>\n<div><pre>Exception ImportError: No module named sha3<\/pre><\/div>\n<div><pre>Traceback (most recent call last):<\/pre><\/div>\n<div><pre>  File &quot;\/usr\/local\/bin\/behave&quot;, line 11, in &lt;module&gt;<\/pre><\/div>\n<div><pre>    sys.exit(main())<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":23,"lines_more":18,"preview_is_truncated":true,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U2B4QU7U3","upload":true,"display_as_bot":false,"username":"<@U2B4QU7U3|karnn>","bot_id":null,"ts":"1483286558.000715"},{"type":"message","user":"U2B4QU7U3","text":"<@U0KPFAZNF> Do I need to build fabric again?","ts":"1483286583.000716"},{"type":"message","user":"U12452RAP","text":"<@U2B4QU7U3>: yes, i have same problem ","ts":"1483404371.000717"},{"type":"message","user":"U12452RAP","text":"several python related stuff missing ","ts":"1483404409.000718"},{"type":"message","user":"U12452RAP","text":"sudo apt-get install Python3-dev ","ts":"1483404455.000719"},{"type":"message","user":"U12452RAP","text":"Sudo pip install pysha3==1.01b","ts":"1483404513.000720"},{"type":"message","user":"U12452RAP","text":"sudo pip install pyopenssl","ts":"1483404531.000721"},{"type":"message","user":"U2B4QU7U3","text":"<@U12452RAP> yea i had to install them seperately as well. my build hangs at the end of the behave test. the behave tests run for 50 mins and then give me suggestions and don't proceed. you?","ts":"1483425025.000722"},{"type":"message","user":"U12452RAP","text":"yeah","ts":"1483425209.000723"},{"type":"message","user":"U12452RAP","text":"bdd tests  not works well","ts":"1483425225.000724"},{"type":"message","user":"U2B4QU7U3","text":"<@U12452RAP> <@U1FEUAG9E> is your dev env set up already? are the behave tests crucial to the build? what happens after the behave tests? i can't decipher the makefile honestly.","ts":"1483426652.000725"},{"type":"message","user":"U12452RAP","text":"assume no other stuff after bdd tests ","ts":"1483426759.000726"},{"type":"message","user":"U3BSMKS21","text":"hey i have a question. running a peer node with  `--peer-chaincodedev` what exactly is it doing?","ts":"1483433584.000727"},{"type":"message","user":"U3BSMKS21","text":"i have read somewhere that this way the chaincode is not executed in a docker container?","ts":"1483433606.000728"},{"type":"message","user":"U3BSMKS21","text":"does this mean that in normal mode the chaincode is run in a docker container although im running my peer node locally? this somehow does not make sense to me. would be thankful for any comment","ts":"1483433646.000729"},{"type":"message","user":"U3BSMKS21","text":"as far as i understand when you start a peer node `peer node start` it uses the core.yaml file","ts":"1483442650.000730"},{"type":"message","user":"U3BSMKS21","text":"is there any possibility to pass a different yaml-file to the peer node for configuartion?","ts":"1483442684.000731"},{"type":"message","user":"U3BSMKS21","text":"same question for memberservice using membersrvc.yaml","ts":"1483442789.000732"},{"user":"U3MBKT8UF","text":"<@U3MBKT8UF|samsmith> has joined the channel","type":"message","subtype":"channel_join","ts":"1483445535.000733"},{"type":"message","user":"U0PB67X4K","text":"@thosjest -  \n\nfirst question:    When running in \"normal\" mode, chaincodes are ALWAYS deployed as Docker containers  (this provides isolation between multiple chaincodes).   When running in \"dev\" mode ( `--peer-chaincodedev` ) you are able to more quickly \"test\" your chaincode as in this case you actual simply compile and run the chaincode (passing the correct parameters for it to connect to the peer)\n\nsecond question:   in V1 there is an environment variable (`PEER_CFG_PATH`) you can  set to specify a custom location for `core.yaml` (but the filename is always `core.yaml`) but in v0.6 the file location is more or less \"fixed\" but of course you can change the contents of the file.  You can also override most of the `core.yaml` settings by passing in environment variables.  If you look at any of the Docker compose files you'll see the naming convention","ts":"1483446272.000734"},{"type":"message","user":"U3BSMKS21","text":"<@U0PB67X4K> thx a lot","ts":"1483449120.000735"},{"type":"message","user":"U0PB67X4K","text":"BTW - for folks working on Fabric development, you might be interested in this recently merged build feature:    <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3555\/>\n\nSee the commit for details, but basically it allows you to run  unit-tests for a list of packages rather than running the whole suite.  It's nice as a pre-test before submitting to quickly ensure that your tests will pass in the CI environment without having to run all the unit-tests for all packages","ts":"1483464710.000736"},{"user":"U3LU3AQM8","text":"<@U3LU3AQM8|sukrit> has joined the channel","type":"message","subtype":"channel_join","ts":"1483477119.000737"},{"user":"U3HN4GFA9","text":"<@U3HN4GFA9|tzipih> has joined the channel","type":"message","subtype":"channel_join","ts":"1483503895.000738"},{"type":"message","user":"U2B4QU7U3","text":"<@U0PB67X4K> hey, quick question. when i build for fabric, at the end of the behave tests, do i need to ctrl+c out of it because it hangs with the following message:","ts":"1483523850.000739"},{"type":"message","subtype":"file_share","text":"<@U2B4QU7U3|karnn> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/karnn\/F3M4ARAHY\/-.txt|Untitled>","file":{"id":"F3M4ARAHY","created":1483523861,"timestamp":1483523861,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U2B4QU7U3","editable":true,"size":2829,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3M4ARAHY\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3M4ARAHY\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/karnn\/F3M4ARAHY\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3M4ARAHY-9a6610187d","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/karnn\/F3M4ARAHY\/-.txt\/edit","preview":"Failing scenarios:\r\n  features\/bootstrap.feature:75  Bootstrap a development network with 1 peer and 1 orderer, each having a single independent root of trust (No COP) -- @1.1 Orderer Options\r\n  features\/endorser.feature:37  Basic deploy endorsement for chaincode through GRPC to multiple endorsers -- @1.1 Orderer Options\r\n  features\/orderer.feature:26  Basic orderer function -- @1.1 Solo Orderer\r\n  features\/orderer.feature:27  Basic orderer function -- @1.2 Solo Orderer\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Failing scenarios:<\/pre><\/div>\n<div><pre>  features\/bootstrap.feature:75  Bootstrap a development network with 1 peer and 1 orderer, each having a single independent root of trust (No COP) -- @1.1 Orderer Options<\/pre><\/div>\n<div><pre>  features\/endorser.feature:37  Basic deploy endorsement for chaincode through GRPC to multiple endorsers -- @1.1 Orderer Options<\/pre><\/div>\n<div><pre>  features\/orderer.feature:26  Basic orderer function -- @1.1 Solo Orderer<\/pre><\/div>\n<div><pre>  features\/orderer.feature:27  Basic orderer function -- @1.2 Solo Orderer<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":42,"lines_more":37,"preview_is_truncated":true,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U2B4QU7U3","upload":true,"display_as_bot":false,"username":"<@U2B4QU7U3|karnn>","bot_id":null,"ts":"1483523863.000740"},{"type":"message","user":"U0PB67X4K","text":"Hi <@U2B4QU7U3> -   \n\nif you just want to build the Docker images locally, you can just run `make docker`\n\nif you are making changes to the Fabric code and want to test locally, just run `make unit-tests`\n\nI never run `make all` locally as I'm pretty sure the BDD tests still fail these days","ts":"1483525843.000741"},{"type":"message","user":"U2B4QU7U3","text":"<@U0PB67X4K> i should do make docker within vagrant as well? when i make all locally i get this. : <https:\/\/hyperledgerproject.slack.com\/files\/karnn\/F3KF02D7A\/building_fabric_without_vagrant.txt>","ts":"1483526045.000742"},{"type":"message","subtype":"file_mention","text":"<@U2B4QU7U3|karnn> mentioned a file: <https:\/\/hyperledgerproject.slack.com\/files\/karnn\/F3KF02D7A\/building_fabric_without_vagrant.txt|Building_fabric_without_vagrant.txt>.","file":{"id":"F3KF02D7A","created":1483200244,"timestamp":1483200244,"name":"Building_fabric_without_vagrant.txt","title":"Building fabric without vagrant","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U2B4QU7U3","editable":true,"size":19982,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3KF02D7A\/building_fabric_without_vagrant.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3KF02D7A\/download\/building_fabric_without_vagrant.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/karnn\/F3KF02D7A\/building_fabric_without_vagrant.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3KF02D7A-1d6df2d652","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/karnn\/F3KF02D7A\/building_fabric_without_vagrant.txt\/edit","preview":"[karn@localhost fabric]$ make dist-clean all\r\ndocker images -q hyperledger\/fabric-peer | xargs -I '{}' docker rmi -f '{}'\r\ndocker images -q hyperledger\/fabric-orderer | xargs -I '{}' docker rmi -f '{}'\r\ndocker images -q hyperledger\/fabric-ccenv | xargs -I '{}' docker rmi -f '{}'\r\ndocker images -q hyperledger\/fabric-javaenv | xargs -I '{}' docker rmi -f '{}'\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>[karn@localhost fabric]$ make dist-clean all<\/pre><\/div>\n<div><pre>docker images -q hyperledger\/fabric-peer | xargs -I '{}' docker rmi -f '{}'<\/pre><\/div>\n<div><pre>docker images -q hyperledger\/fabric-orderer | xargs -I '{}' docker rmi -f '{}'<\/pre><\/div>\n<div><pre>docker images -q hyperledger\/fabric-ccenv | xargs -I '{}' docker rmi -f '{}'<\/pre><\/div>\n<div><pre>docker images -q hyperledger\/fabric-javaenv | xargs -I '{}' docker rmi -f '{}'<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":131,"lines_more":126,"preview_is_truncated":true,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U2B4QU7U3","ts":"1483526045.000743"},{"type":"message","user":"U2B4QU7U3","text":"<@U0PB67X4K> so i should make docker locally instead of make all","ts":"1483526079.000744"},{"type":"message","user":"U0PB67X4K","text":"yeah - I would not go with `make all` for now.   I believe the error you are getting locally is because you are running a downlevel of Go - for V1.0 we require Golang 1.7 and higher","ts":"1483526255.000745"},{"type":"message","user":"U2B4QU7U3","text":"<@U0PB67X4K> you're right. it's 1.6. thanks so much. one quick question, i've used sawtooth in the past and was wondering if it was as easy to set up a marketplace with fabric as with sawtooth.","ts":"1483526867.000746"},{"type":"message","user":"U0PB67X4K","text":"<@U2B4QU7U3> - fabric does not currently have the concept of a marketplace.  I hesitate to say if there is a \"equivalent\" capability, but basically one you get the hang of writing chaincode it's pretty easy to add your own types of transactions \/ processing logic to the fabric","ts":"1483527147.000747"},{"user":"U1Y4P0HM4","text":"<@U1Y4P0HM4|yangtao76> has joined the channel","type":"message","subtype":"channel_join","ts":"1483545350.000748"},{"type":"message","user":"U13TWBRBL","text":"<@U0UHG4VP1> there seems to be an intermittent CI job failure lately, see this for example (and the same happens to other changesets in other projects): <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3569>","ts":"1483556768.000749"},{"type":"message","user":"U0UHG4VP1","text":"<@U13TWBRBL> I'm working on it.","ts":"1483556817.000750","reactions":[{"name":"+1","users":["U13TWBRBL"],"count":1}]},{"type":"message","user":"U0XPR4NP4","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3663\/>\n<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3665\/>\n\nAdded <@U0KPFAZNF> for review, but wasn't sure who else was interested in reviewing dev-env changes, so if anyone here would like to, would appreciate it.","ts":"1483560851.000751"},{"user":"U35EMQWK1","text":"<@U35EMQWK1|jojocheung> has joined the channel","type":"message","subtype":"channel_join","ts":"1483605923.000752"},{"user":"U2N8F32KZ","text":"<@U2N8F32KZ|goms143> has joined the channel","type":"message","subtype":"channel_join","ts":"1483625808.000753"},{"user":"U1WMX1P71","text":"<@U1WMX1P71|ramykamel> has joined the channel","type":"message","subtype":"channel_join","ts":"1483646580.000754"},{"type":"message","user":"U2N8F32KZ","text":"is it possible to change jim password in membersrvc.yaml file and make it as a new image ?","ts":"1483678935.000755"},{"user":"U3GLPV06R","text":"<@U3GLPV06R|bkimminich> has joined the channel","type":"message","subtype":"channel_join","ts":"1483977909.000756"},{"type":"message","user":"U3GLPV06R","text":"Hi all! I'm trying to get the Vagrant `devenv` running while sitting behind a corporate web proxy. I configured Vagrant for that proxy, but run into this error after all:\n\n```\nStep 14 : RUN core\/chaincode\/shim\/java\/javabuild.sh\n ---&gt; Running in 5d80a4f1513b\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file '\/root\/core\/chaincode\/shim\/java\/build.gradle' line: 30\n\n* What went wrong:\nError resolving plugin [id: 'com.google.protobuf', version: '0.8.0']\n&gt; Could not GET '<https:\/\/plugins.gradle.org\/api\/gradle\/2.12\/plugin\/use\/com.google.protobuf\/0.8.0>'.\n   &gt; Connect to {my proxy}:443 [{my proxy}\/{ip}] failed: Connection timed out (Connection timed out)\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\nThe command '\/bin\/sh -c core\/chaincode\/shim\/java\/javabuild.sh' returned a non-zero code: 1\nMakefile:196: recipe for target 'build\/image\/javaenv\/.dummy-x86_64-0.7.0-snapshot-a5b12f2' failed\n```\n\nAny hint is welcome... Adding <http:\/\/gradle.org|gradle.org> to my SSH-config didn't work out...","ts":"1483978081.000757"},{"type":"message","user":"U0KPFAZNF","text":"<@U3GLPV06R> do you have the vagrant plugin for proxy?","ts":"1483978844.000758"},{"type":"message","user":"U3GLPV06R","text":"Yes, I do.","ts":"1483978854.000759"},{"type":"message","user":"U3GLPV06R","text":"It failed waaay before back when I didn't... :wink:","ts":"1483978874.000760"},{"type":"message","user":"U0KPFAZNF","text":"ah, ok","ts":"1483978908.000761"},{"type":"message","user":"U0KPFAZNF","text":"my understanding are the touchpoints are two levels","ts":"1483978940.000762"},{"type":"message","user":"U0KPFAZNF","text":"1) the vagrant proxy stuff (which you seem to have)","ts":"1483978950.000763"},{"type":"message","user":"U0KPFAZNF","text":"and 2), the .\/docker-env.mk stuff reflects the proxy envvars through to docker","ts":"1483978974.000764"},{"type":"message","user":"U3GLPV06R","text":"I have working HTTP_PROXY and HTTPS_PROXY settings as well.","ts":"1483979000.000765"},{"type":"message","user":"U0KPFAZNF","text":"if you have both of those in place, it _should_ work, though we admittedly do not work with the java subsystem","ts":"1483979004.000766"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KRRM29Z> any thoughts on ^^^","ts":"1483979032.000767"},{"user":"U0KRRM29Z","inviter":"U0KPFAZNF","text":"<@U0KRRM29Z|ecblseg> has joined the channel","type":"message","subtype":"channel_join","ts":"1483979036.000768"},{"type":"message","user":"U0KPFAZNF","text":"my understanding is that the stuff in (2) went in as a direct response to allowing gradle to see your proxy","ts":"1483979074.000769"},{"type":"message","user":"U0KPFAZNF","text":"but perhaps I misunderstood and there are other steps","ts":"1483979085.000770"},{"type":"message","user":"U3GLPV06R","text":"And gradle in general works locally for me when downloading stuff.","ts":"1483979091.000771"},{"type":"message","user":"U0KPFAZNF","text":"but I know <@U0KRRM29Z> spent some time looking at this","ts":"1483979094.000772"},{"type":"message","user":"U3GLPV06R","text":"I'm trying to run gradle for the `\/fabric\/core\/chaincode\/shim\/java` directly on checked out code, lets see...","ts":"1483979137.000773"},{"type":"message","user":"U0KRRM29Z","text":"<@U0KPFAZNF> <@U3GLPV06R> - that looks like the exact the problem the recent patches were meant to correct. Can we confirm that you're using the patched versions?","edited":{"user":"U0KRRM29Z","ts":"1483979338.000000"},"ts":"1483979319.000774"},{"type":"message","user":"U3GLPV06R","text":"I just pulled this afternoon (from `master`)","ts":"1483979351.000776"},{"type":"message","user":"U3GLPV06R","text":"When I run the `javabuild.sh` locally the connection works. It fails later, but that's because I'm on a Windows machine. So, through Vagrant it _should_ work just the same.","ts":"1483979402.000777"},{"type":"message","user":"U0ZJZBJLF","text":"the make runs in docker, perhaps it's a docker-DNS issue?","ts":"1483979541.000778"},{"type":"message","user":"U0KRRM29Z","text":"Yeah is _should_ work the same ... famous last words","ts":"1483979715.000779"},{"type":"message","user":"U0KRRM29Z","text":"I'm not sure I have an easy way to test on a Windows machine.","ts":"1483979764.000780"},{"type":"message","user":"U0KRRM29Z","text":"Let me at least confirm it still works as expected behind our lab proxy","ts":"1483979784.000781"},{"type":"message","user":"U0KRRM29Z","text":"<@U3GLPV06R>: Things are dog slow for me at the moment. While we wait can you locally patch your javabuild.sh to dump $JAVA_OPTS:","ts":"1483983072.000782"},{"type":"message","user":"U0KRRM29Z","text":"I'm guessing there may be a problem in how the script generates the address and port from the HTTP[S]_PROXY envvars.","ts":"1483983218.000784"},{"type":"message","subtype":"file_share","text":"<@U0KRRM29Z|ecblseg> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ecblseg\/F3ND1Q62V\/-.txt|Untitled>","file":{"id":"F3ND1Q62V","created":1483983833,"timestamp":1483983833,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0KRRM29Z","editable":true,"size":500,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3ND1Q62V\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3ND1Q62V\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ecblseg\/F3ND1Q62V\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3ND1Q62V-2c00d251c8","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ecblseg\/F3ND1Q62V\/-.txt\/edit","preview":"--- a\/core\/chaincode\/shim\/java\/javabuild.sh\r\n+++ b\/core\/chaincode\/shim\/java\/javabuild.sh\r\n@@ -35,6 +35,7 @@ function getProxyPort {\r\n [ -n \"$HTTP_PROXY\" ] && JAVA_OPTS=\"$JAVA_OPTS -Dhttp.proxyHost=$(getProxyHost $HTTP_PROXY) -Dhttp.proxyPort=$(getProxyPort $HTTP_PROXY)\"\r\n [ -n \"$HTTPS_PROXY\" ] && JAVA_OPTS=\"$JAVA_OPTS -Dhttps.proxyHost=$(getProxyHost $HTTPS_PROXY) -Dhttps.proxyPort=$(getProxyPort $HTTPS_PROXY)\"\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>--- a\/core\/chaincode\/shim\/java\/javabuild.sh<\/pre><\/div>\n<div><pre>+++ b\/core\/chaincode\/shim\/java\/javabuild.sh<\/pre><\/div>\n<div><pre>@@ -35,6 +35,7 @@ function getProxyPort {<\/pre><\/div>\n<div><pre> [ -n &quot;$HTTP_PROXY&quot; ] &amp;&amp; JAVA_OPTS=&quot;$JAVA_OPTS -Dhttp.proxyHost=$(getProxyHost $HTTP_PROXY) -Dhttp.proxyPort=$(getProxyPort $HTTP_PROXY)&quot;<\/pre><\/div>\n<div><pre> [ -n &quot;$HTTPS_PROXY&quot; ] &amp;&amp; JAVA_OPTS=&quot;$JAVA_OPTS -Dhttps.proxyHost=$(getProxyHost $HTTPS_PROXY) -Dhttps.proxyPort=$(getProxyPort $HTTPS_PROXY)&quot;<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":10,"lines_more":5,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U0KRRM29Z","upload":true,"display_as_bot":false,"username":"<@U0KRRM29Z|ecblseg>","bot_id":null,"ts":"1483983834.000785"},{"type":"message","user":"U0KRRM29Z","text":"<@U3GLPV06R> FWIW master still builds OK in our lab behind a proxy.","ts":"1483992207.000787"},{"user":"U3MB5BH42","text":"<@U3MB5BH42|fbenhamo> has joined the channel","type":"message","subtype":"channel_join","ts":"1483992249.000788"},{"type":"message","user":"U0KRRM29Z","text":"I\u2019m a bit mystified - the proxy appears to be working OK for you earlier in the make when the javaenv is built. So docker build appears to deal with basics of the proxy OK.","ts":"1483992278.000789"},{"type":"message","user":"U0KRRM29Z","text":"<@U3GLPV06R> - If you can let me know the values you have set for HTTP[S]_PROXY and maybe what the patched javabuild.sh script spits out for JAVA_OPTS I\u2019ll keep digging. (I\u2019m traveling tomorrow but might have reasonable wifi on the train.)","ts":"1483992631.000790"},{"user":"U3E300R6Z","text":"<@U3E300R6Z|abhinav.garg> has joined the channel","type":"message","subtype":"channel_join","ts":"1484032125.000791"},{"type":"message","user":"U3GLPV06R","text":"<@U0KRRM29Z> - My proxy vars are both set to `<http:\/\/%PROXY_SERVER>%:%PROXY_PORT%` with PROXY_SERVER and PROXY_PORT as separate vars.","ts":"1484033337.000792"},{"type":"message","user":"U3GLPV06R","text":"I'll patch the shell script and send you its dump. Thanks for the support, even from train! :slightly_smiling_face:","ts":"1484033374.000793"},{"type":"message","user":"U3GLPV06R","text":"`JAVA_OPTS:  -Dhttp.proxyHost=<http:\/\/zscaler.proxy.int.kn|zscaler.proxy.int.kn> -Dhttp.proxyPort=80 -Dhttps.proxyHost=<http:\/\/zscaler.proxy.int.kn|zscaler.proxy.int.kn> -Dhttps.proxyPort=80`","ts":"1484035453.000794"},{"type":"message","user":"U3GLPV06R","text":"This is when I manually run `javabuild.sh`. Full output is:\n```\n$ .\/core\/chaincode\/shim\/java\/javabuild.sh\nJAVA_OPTS:  -Dhttp.proxyHost=<http:\/\/zscaler.proxy.int.kn|zscaler.proxy.int.kn> -Dhttp.proxyPort=80 -Dhttps.proxyHost=<http:\/\/zscaler.proxy.int.kn|zscaler.proxy.int.kn> -Dhttps.proxyPort=80\nNote: C:\\Data\\Github\\fabric\\core\\chaincode\\shim\\java\\src\\main\\java\\org\\hyperledger\\java\\shim\\ChaincodeStub.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\ncp: cannot create directory '\/root\/': Permission denied\n```","ts":"1484035513.000795"},{"type":"message","user":"U12452RAP","text":"VAGRANT_HTTP_PROXY VAGRANT_HTTPS_PROXY vagrant up","ts":"1484042641.000796"},{"type":"message","user":"U12452RAP","text":"works fine for me ","ts":"1484042684.000797"},{"type":"message","user":"U0KRRM29Z","text":"<@U3GLPV06R>: the JAVA_OPTS look OK and given that it works if you run javabuild.sh we're pretty much left with some DNS mayhem in 'docker build'. As an easy quick test is it possible to replace %PROXY_SERVER% with the IP address of '<http:\/\/zscaler.proxy.int.kn|zscaler.proxy.int.kn>'. I'll see if I can work out a cleaner fix.","ts":"1484051642.000798"},{"user":"U38JCNW5V","text":"<@U38JCNW5V|divyank-sk> has joined the channel","type":"message","subtype":"channel_join","ts":"1484060409.000799"},{"type":"message","user":"U38JCNW5V","text":"","attachments":[{"fallback":"[January 10th, 2017 9:59 AM] divyank-sk: why does fabric use year-old beta versions of grpc and protocol buffers?","ts":"1484060350.000938","author_subname":"divyank-sk","channel_id":"C0YPYBVJM","channel_name":"fabric-dev","is_msg_unfurl":true,"text":"why does fabric use year-old beta versions of grpc and protocol buffers?","author_name":"Divyank Katira","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/divyank-sk","author_icon":"https:\/\/secure.gravatar.com\/avatar\/8ee69409b9a05dc92013148641b64ab4.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-48.png","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev\/p1484060350000938","is_share":true,"footer":"Posted in #fabric-dev"}],"ts":"1484060429.000800"},{"type":"message","user":"U0KPFAZNF","text":"As far as I know, protobufs are updated to a recent released version","ts":"1484060896.000801"},{"type":"message","user":"U0KPFAZNF","text":"Can you be more specific?","ts":"1484060904.000802"},{"type":"message","user":"U0KPFAZNF","text":"I am not sure about grpc ","ts":"1484060914.000803"},{"type":"message","user":"U0ZJZBJLF","text":"I think he means the vendor","ts":"1484060930.000804"},{"type":"message","user":"U38JCNW5V","text":"yes, vendor.json declares library revisions from October \u201815. Just wondering if there was a reason for not using newer, more stable versions.","ts":"1484061488.000805"},{"type":"message","user":"U0KPFAZNF","text":"<@U38JCNW5V> generally things get updated in response to some dev needing a feature, and stay fixed when nothing is broken","ts":"1484063593.000806"},{"type":"message","user":"U0KPFAZNF","text":"not necessarily by design\/process","ts":"1484063603.000807"},{"type":"message","user":"U0KPFAZNF","text":"if there is a pre-release version of a library, I agree we should endeavor to upgrade to released versions minimally","ts":"1484063633.000808"},{"type":"message","user":"U0KPFAZNF","text":"if you see such a case in grpc and want to drive the CR to upgrade it, it would be appreciated","ts":"1484063666.000809"},{"type":"message","user":"U38JCNW5V","text":"Thanks! I\u2019ll give it a shot.","ts":"1484068732.000810"},{"type":"message","user":"U0XPR4NP4","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3827\/> <@U0KPFAZNF> This fixes `make protos` (See <https:\/\/jira.hyperledger.org\/browse\/FAB-1468> for which you are assigned)","ts":"1484071761.000811"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XPR4NP4> you are a gentleman, ty","ts":"1484072951.000812","reactions":[{"name":"simple_smile","users":["U0XPR4NP4"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"(and sorry for the neglect)","ts":"1484073085.000813"},{"type":"message","user":"U0KPFAZNF","text":"we really need to get that check added to the -verify CI task","ts":"1484073110.000814"},{"type":"message","user":"U0XPR4NP4","text":"No problem, I should have just put this changeset together a week ago when I noticed... would have saved myself some time in retrospect.","ts":"1484073157.000815"},{"type":"message","user":"U0XPR4NP4","text":"+1 to including it in the -verify CI task, seems too often I run `make protos` and unrelated proto files end up changing.","ts":"1484073182.000816"},{"type":"message","user":"U0KPFAZNF","text":"yeah, now that the protoc task is normalized inside docker, I would think it could be deterministic enough to rely on that","ts":"1484073566.000817"},{"type":"message","user":"U0ZJZBJLF","text":"why did `make protos` not work but `.\/scripts\/compile_protos.sh` did?","ts":"1484073874.000818"},{"type":"message","user":"U0XPR4NP4","text":"Because `.\/scripts\/compile_protos.sh` ends up trying to write `test.pb.go` into `$GOPATH` which is not writable inside docker","edited":{"user":"U0XPR4NP4","ts":"1484074114.000000"},"ts":"1484073902.000819"},{"type":"message","user":"U0XPR4NP4","text":"(The `go_package` directive tells `protoc` where to dump the output in `$GOPATH`)","ts":"1484073945.000820"},{"type":"message","user":"U0XPR4NP4","text":"When there's no dependency between proto packages, it's mostly innocuous not to specify the `go_package` and simply run the `protoc` in the same directory as the `.proto` file.  But, when you have dependencies between different proto packages, this breaks.","ts":"1484073999.000821"},{"type":"message","user":"U0XPR4NP4","text":"`.\/scripts\/compile_protos.sh` has to support the proto packages with external dependencies, so, it runs from `$GOPATH`","edited":{"user":"U0XPR4NP4","ts":"1484074066.000000"},"ts":"1484074059.000822"},{"type":"message","user":"U0ZJZBJLF","text":"Isn't ` \"<http:\/\/github.com\/hyperledger\/fabric\/core\/comm\/testdata\/grpc|github.com\/hyperledger\/fabric\/core\/comm\/testdata\/grpc>\";` also in `$GOPATH` ?","ts":"1484074233.000825"},{"type":"message","user":"U0XPR4NP4","text":"So, `$GOPATH\/src` is not writable, but `$GOPATH\/src\/github.com\/hyperledger\/fabric` is writable","ts":"1484074314.000826"},{"type":"message","user":"U0XPR4NP4","text":"Basically, when you run `.\/scripts\/compile_protos.sh` locally, you are putting a random `test.pb.go` somewhere in your `$GOPATH`","edited":{"user":"U0XPR4NP4","ts":"1484074412.000000"},"ts":"1484074342.000827"},{"type":"message","user":"U0XPR4NP4","text":"Try a:\n```\n find \"$GOPATH\" -name 'test.pb.go'\n```","edited":{"user":"U0XPR4NP4","ts":"1484074388.000000"},"ts":"1484074375.000828"},{"type":"message","user":"U0ZJZBJLF","text":"what's so special about that package? the `core\/comm\/testdata\/grpc`?","ts":"1484074422.000831"},{"type":"message","user":"U0ZJZBJLF","text":"(will boot the laptop in a few minutes)","ts":"1484074432.000832"},{"type":"message","user":"U0XPR4NP4","text":"I don't think there's anything special? I think the `test.proto` was compiled manually when it was checked in, so the missing `go_package` did not have any negative effect (for the generated file).  However, it broke `make protos` as a side effect (because it does not have `go_package` set and tries to write to a read only path)","edited":{"user":"U0XPR4NP4","ts":"1484074571.000000"},"ts":"1484074506.000833"},{"type":"message","user":"U0XPR4NP4","text":"The only place I found it referenced was\n```\ncore\/comm\/server_test.go\n36-    \"<http:\/\/google.golang.org\/grpc\/credentials|google.golang.org\/grpc\/credentials>\"\n37-\n38-    \"<http:\/\/github.com\/hyperledger\/fabric\/core\/comm|github.com\/hyperledger\/fabric\/core\/comm>\"\n39:    testpb \"<http:\/\/github.com\/hyperledger\/fabric\/core\/comm\/testdata\/grpc|github.com\/hyperledger\/fabric\/core\/comm\/testdata\/grpc>\"\n40-)\n41-\n42-\/\/Embedded certificates for testing\n```\n\nWhich, is overriding the import name regardless, so I don't expect any compilation problems.","ts":"1484074652.000836"},{"type":"message","user":"U0ZJZBJLF","text":"yes I remember that, I think it's the configurable gRPC server commit","edited":{"user":"U0ZJZBJLF","ts":"1484074711.000000"},"ts":"1484074687.000837"},{"type":"message","user":"U0ZJZBJLF","text":"What I still fail to understand is - *why* would compiling that file would output not under `<http:\/\/github.com\/hyperledger\/fabric|github.com\/hyperledger\/fabric>` without the directive","edited":{"user":"U0ZJZBJLF","ts":"1484074771.000000"},"ts":"1484074747.000839"},{"type":"message","user":"U0XPR4NP4","text":"Ah, so, you can actually blame me for that.  You can see in `compile_protos.sh`\n\n```\nfor dir in $ROOTLESS_PROTO_DIRS $PROTO_ROOT_DIRS; do\necho Working on dir $dir\n        # As this is a proto root, and there may be subdirectories with protos, compile the protos for each sub-directory which contains them\n\tfor protos in $(find \"$dir\" -name '*.proto' -exec dirname {} \\; | sort | uniq) ; do\n\t       protoc --proto_path=\"$dir\" --go_out=plugins=grpc:$GOPATH\/src \"$protos\"\/*.proto\n\tdone\ndone\n```\n\nNote the: `--go_out=plugins=grpc:$GOPATH\/src`.  `protoc` takes that path, adds the `go_package` path to it, and writes the file there.  I guess the idea is that you don't have to litter your go path with proto definitions if you do not want.","ts":"1484074914.000841"},{"type":"message","user":"U0XPR4NP4","text":"This was the only way I could figure out to make `protoc` handle proto files in different directories which depended on eachother","ts":"1484074952.000842"},{"type":"message","user":"U0XPR4NP4","text":"In this case, there are `fabric\/protos\/orderer` and `fabric\/protos\/peer` which depends on `fabric\/protos\/common` (and possibly others)","ts":"1484075006.000843"},{"type":"message","user":"U0KPFAZNF","text":"I just realized I wasnt even aware of FAB-1468, i think the proximity to the holidays contributed to me missing the email","ts":"1484075029.000844"},{"type":"message","user":"U0KPFAZNF","text":"out of curiosity, what path is it actually trying to write to?","ts":"1484075044.000845"},{"type":"message","user":"U0XPR4NP4","text":"`$GOPATH\/src\/test.pb.go`","ts":"1484075063.000846"},{"type":"message","user":"U0KPFAZNF","text":"in most contexts,  I volume mount \/opt\/gopath\/src","ts":"1484075068.000847"},{"type":"message","user":"U0KPFAZNF","text":"ah, ok, I probably actually am too precise then","ts":"1484075079.000848"},{"type":"message","user":"U0KPFAZNF","text":"i think I mount \/opt\/gopath\/src\/github.com\/hyperledger\/fabric","ts":"1484075093.000849"},{"type":"message","user":"U0XPR4NP4","text":"That seems like the right choice to me","ts":"1484075100.000850"},{"type":"message","user":"U0KPFAZNF","text":"yeah, though not in this case :wink:","ts":"1484075106.000851"},{"type":"message","user":"U0XPR4NP4","text":"(Helps us catch bugs, like this one)","ts":"1484075107.000852"},{"type":"message","user":"U0KPFAZNF","text":"true","ts":"1484075115.000853"},{"type":"message","user":"U0XPR4NP4","text":"Probably better than silently not updating the generated file.","ts":"1484075127.000854"},{"type":"message","user":"U0KPFAZNF","text":"right","ts":"1484075131.000855"},{"type":"message","user":"U0KPFAZNF","text":"i agree","ts":"1484075133.000856"},{"type":"message","user":"U0KPFAZNF","text":"i was mostly wondering if I neglected to consistently set the volume mount for the proto context","ts":"1484075147.000857"},{"type":"message","user":"U0KPFAZNF","text":"but I understand now","ts":"1484075155.000858"},{"type":"message","user":"U0XPR4NP4","text":"<@U0ZJZBJLF> If you can find a cleaner\/better way to get the generated `.pb.go` files to link to eachother while also supporting protos which neglect to specify `go_package` you have my +2, but it was beyond me.","ts":"1484075189.000859"},{"type":"message","user":"U0ZJZBJLF","text":"can't we somehow cd to the directory, and use the `--include-imports` flag with the common?","ts":"1484075256.000860"},{"type":"message","user":"U0ZJZBJLF","text":"Didn't think of it for too long, or try this of course","ts":"1484075281.000861"},{"type":"message","user":"U0XPR4NP4","text":"It's all been paged out of my head, so can't say for certain that that won't work, but I tried for a few hours to not generate them this way with no luck.","ts":"1484075356.000862"},{"type":"message","user":"U0ZJZBJLF","text":"yeah, I assume you tried enough stuff when you updated the script","ts":"1484075364.000863"},{"type":"message","user":"U0ZJZBJLF","text":"just - what did you mean by saying \"adds the `go_package` path to it,\" ?","edited":{"user":"U0ZJZBJLF","ts":"1484075425.000000"},"ts":"1484075406.000864"},{"type":"message","user":"U0XPR4NP4","text":"As I said, please prove me wrong, I'm not a big fan of the way things ended up, but it was the only way that worked for me.","ts":"1484075407.000865"},{"type":"message","user":"U0XPR4NP4","text":"Concatenates that `$GOPATH\/src` string from `\ufeff\u2060\u2060\u2060\u2060--go_out=plugins=grpc:$GOPATH\/src` with the value of `go_package` to determine where to write the file","ts":"1484075460.000867"},{"type":"message","user":"U0ZJZBJLF","text":"oh so the value of go_package is taken and concatenated!","ts":"1484075488.000868"},{"type":"message","user":"U0XPR4NP4","text":"Yep","ts":"1484075499.000869"},{"type":"message","user":"U0ZJZBJLF","text":"that's why it's a relative path there","ts":"1484075499.000870"},{"type":"message","user":"U0ZJZBJLF","text":"got it, thanks a lot for the step-by-step","ts":"1484075509.000871"},{"type":"message","user":"U0XPR4NP4","text":"No problem","ts":"1484075521.000872"},{"user":"U0XQ35CDD","text":"<@U0XQ35CDD|kostas> has joined the channel","type":"message","subtype":"channel_join","ts":"1484107965.000873"},{"type":"message","user":"U3E300R6Z","text":"In car lease demo, I want to know where the API's being kept and how from Go or node.js being they are fetching.","ts":"1484115714.000874"},{"type":"message","user":"U3E300R6Z","text":"I deployed car lease demo.\n\n[2:34]  \nBut I want to know where are the API's and how they are being called in there in chaincode.Pl let me know the specific one,so I can see how they are working","ts":"1484125503.000875"},{"type":"message","user":"U3MB5BH42","text":"Hi, is anyone compiling and using fabric v.1.0 on mac os sierra?","ts":"1484167109.000876"},{"type":"message","user":"U3MB5BH42","text":"On my machine, both with vagrant and without it, unit tests fail.","ts":"1484167132.000877"},{"type":"message","user":"U3MB5BH42","text":"And without vagrant at least, deployment of the simple test chaincode (<https:\/\/jira.hyperledger.org\/browse\/FAB-37>) times out.","ts":"1484167211.000878"},{"type":"message","user":"U0KPFAZNF","text":"<@U3MB5BH42> I developed the 1.0 build\/unit-test system on sierra, so it did at one point","ts":"1484168756.000879"},{"type":"message","user":"U0KPFAZNF","text":"though I have since lost that machine, so i am back to vagrant","ts":"1484168765.000880"},{"type":"message","user":"U0KPFAZNF","text":"its very possible that some regression has slipped in...best bet is to check jenkins -merge jobs","ts":"1484168795.000881"},{"type":"message","user":"U0KPFAZNF","text":"that will tell you if mainline is passing on CI","ts":"1484168803.000882"},{"type":"message","user":"U3MB5BH42","text":"<@U0KPFAZNF> Thanks. By jenkins -merge jobs, you mean <https:\/\/jenkins.hyperledger.org\/view\/fabric\/job\/fabric-merge-x86_64\/>?","ts":"1484169423.000883"},{"type":"message","user":"U3MB5BH42","text":"I've checked that the commit I am on passes tests on jenkins.","edited":{"user":"U3MB5BH42","ts":"1484169668.000000"},"ts":"1484169650.000884"},{"type":"message","user":"U0KPFAZNF","text":"yes, exactly","ts":"1484169703.000886"},{"type":"message","user":"U0KPFAZNF","text":"doesnt mean there isnt a bug, but its a good datapoint","ts":"1484169713.000887"},{"type":"message","user":"U3MB5BH42","text":"I'll try to do everything in a real VirtualBox with Ubuntu 16.04 on my mac.","ts":"1484169753.000888"},{"type":"message","user":"U0KPFAZNF","text":"do note, the chaincode test is notoriously long, and often on the fringe of exceeding the timeout limit","ts":"1484169773.000889"},{"type":"message","user":"U0KPFAZNF","text":"so, i suspect your issue is your machine in question is slightly slower than CI\/etc","ts":"1484169794.000890"},{"type":"message","user":"U0KPFAZNF","text":"there is a knob to extend the timeout, hold on, let me dig","ts":"1484169804.000891"},{"type":"message","user":"U0KPFAZNF","text":"its here: <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/unit-test\/run.sh#L28>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/unit-test\/run.sh#L28","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/unit-test\/run.sh#L28","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1484169850.000892"},{"type":"message","user":"U0KPFAZNF","text":"try bumping that up to something bigger...30m+","ts":"1484169863.000894"},{"type":"message","user":"U0KPFAZNF","text":"there is an effort underway to improve the runtime of that test","ts":"1484169873.000895"},{"type":"message","user":"U0KPFAZNF","text":"but in the meantime....","ts":"1484169876.000896"},{"type":"message","user":"U0KPFAZNF","text":"if the issue is what i think its is, I do not suspect running it in vagrant will help","ts":"1484169927.000897"},{"type":"message","user":"U0KPFAZNF","text":"(probably make it worse, actually)","ts":"1484169933.000898"},{"type":"message","user":"U3MB5BH42","text":"My machine is a Macbook air with an i5-4250U.","ts":"1484170240.000899"},{"type":"message","user":"U3MB5BH42","text":"Do you know where the timeout for the deploy (peer chaincode deploy ...) is?","ts":"1484170298.000900"},{"type":"message","user":"U3MB5BH42","text":"never mind.","ts":"1484170348.000901"},{"type":"message","user":"U3MB5BH42","text":"I think I found it.","ts":"1484170351.000902"},{"type":"message","user":"U3MB5BH42","text":"I'll try increasing it.","ts":"1484170361.000903"},{"type":"message","user":"U3MB5BH42","text":"<@U0KPFAZNF> I've increased the timeout for unit-tests (outside Vagrant) to 40min. Unfortunately I get a similar error (when running `make dist-clean all`, during the unit tests): <https:\/\/gist.github.com\/fabrice102\/9d4b2167a0481dd653ef91ab1cce7073>","ts":"1484237491.000904"},{"type":"message","user":"U3MB5BH42","text":"I've also tried the simple chaincode example (<https:\/\/jira.hyperledger.org\/browse\/FAB-37>) after increasing startuptimeout in peer\/core.yaml to 120000ms = 20 min). But deploy still times out: <https:\/\/gist.github.com\/fabrice102\/3269757b486452775682f05c4210d6c0>","ts":"1484237705.000905"},{"type":"message","subtype":"file_share","text":"<@U3MB5BH42|fbenhamo> shared a file: <https:\/\/hyperledgerproject.slack.com\/files\/fbenhamo\/F3QQ9MX7W\/gistfile1_txt.txt|gistfile1.txt>","file":{"id":"F3QQ9MX7W","created":1484237751,"timestamp":1484237751,"name":"gistfile1_txt.txt","title":"gistfile1.txt","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U3MB5BH42","editable":true,"size":28929,"mode":"snippet","is_external":true,"external_type":"unknown","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/gist.github.com\/3269757b486452775682f05c4210d6c0#file-gistfile1-txt","url_private_download":"https:\/\/gist.github.com\/3269757b486452775682f05c4210d6c0#file-gistfile1-txt","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/fbenhamo\/F3QQ9MX7W\/gistfile1_txt.txt","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/fbenhamo\/F3QQ9MX7W\/gistfile1_txt.txt\/edit","preview":"$ .\/build\/bin\/peer node start\n2017-01-11 18:11:29.006 EST [msp] getPemMaterialFromDir -> INFO 001 Reading directory msp\/sampleconfig\/cacerts\n2017-01-11 18:11:29.006 EST [msp] getPemMaterialFromDir -> INFO 002 Inspecting file msp\/sampleconfig\/cacerts\/cacert.pem\n2017-01-11 18:11:29.008 EST [msp] getPemMaterialFromDir -> INFO 003 Reading directory msp\/sampleconfig\/signcerts\n2017-01-11 18:11:29.008 EST [msp] getPemMaterialFromDir -> INFO 004 Inspecting file msp\/sampleconfig\/signcerts\/peer.pem","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>$ .\/build\/bin\/peer node start<\/pre><\/div>\n<div><pre>2017-01-11 18:11:29.006 EST [msp] getPemMaterialFromDir -&gt; INFO 001 Reading directory msp\/sampleconfig\/cacerts<\/pre><\/div>\n<div><pre>2017-01-11 18:11:29.006 EST [msp] getPemMaterialFromDir -&gt; INFO 002 Inspecting file msp\/sampleconfig\/cacerts\/cacert.pem<\/pre><\/div>\n<div><pre>2017-01-11 18:11:29.008 EST [msp] getPemMaterialFromDir -&gt; INFO 003 Reading directory msp\/sampleconfig\/signcerts<\/pre><\/div>\n<div><pre>2017-01-11 18:11:29.008 EST [msp] getPemMaterialFromDir -&gt; INFO 004 Inspecting file msp\/sampleconfig\/signcerts\/peer.pem<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":235,"lines_more":230,"preview_is_truncated":true,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U3MB5BH42","upload":false,"display_as_bot":false,"username":"<@U3MB5BH42|fbenhamo>","bot_id":null,"ts":"1484237751.000906"},{"type":"message","user":"U0KPFAZNF","text":"<@U3MB5BH42> remind me again: you are just trying to get a basic setup going?","ts":"1484237770.000907"},{"type":"message","user":"U0KPFAZNF","text":"or do you have patches in your tree?","ts":"1484237774.000908"},{"type":"message","user":"U3MB5BH42","text":"yes","ts":"1484237779.000909"},{"type":"message","user":"U3MB5BH42","text":"just basic setup","ts":"1484237782.000910"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1484237786.000911"},{"type":"message","user":"U3MB5BH42","text":"(commit a5b12f249fb287a2dfd827a832f9d9fcc7b47b48)","ts":"1484237804.000912"},{"type":"message","user":"U38JCNW5V","text":"<https:\/\/www.youtube.com\/watch?v=t7PcpkIoGAc>\nThis demos code from last week running on a mac","attachments":[{"service_name":"YouTube","service_url":"https:\/\/www.youtube.com\/","title":"node js SDK sprint 7","title_link":"https:\/\/www.youtube.com\/watch?v=t7PcpkIoGAc","author_name":"Hyperledger Fabric","author_link":"https:\/\/www.youtube.com\/channel\/UCCFdgCWH_1vCndMPVqQlwZw","thumb_url":"https:\/\/i.ytimg.com\/vi\/t7PcpkIoGAc\/hqdefault.jpg","thumb_width":480,"thumb_height":360,"fallback":"YouTube Video: node js SDK sprint 7","video_html":"<iframe width=\"400\" height=\"225\" src=\"https:\/\/www.youtube.com\/embed\/t7PcpkIoGAc?feature=oembed&autoplay=1&iv_load_policy=3\" frameborder=\"0\" allowfullscreen><\/iframe>","video_html_width":400,"video_html_height":225,"from_url":"https:\/\/www.youtube.com\/watch?v=t7PcpkIoGAc","service_icon":"https:\/\/a.slack-edge.com\/2089\/img\/unfurl_icons\/youtube.png","id":1}],"ts":"1484237860.000913"},{"type":"message","user":"U0KPFAZNF","text":"so you are running this natively on OSX or within vagrant?","ts":"1484237874.000915"},{"type":"message","user":"U3MB5BH42","text":"The two github gist are natively","ts":"1484237886.000916"},{"type":"message","user":"U0KPFAZNF","text":"ok, how much ram?","ts":"1484237892.000917"},{"type":"message","user":"U3MB5BH42","text":"8 Gb","ts":"1484237897.000918"},{"type":"message","user":"U0KPFAZNF","text":"hmm","ts":"1484237905.000919"},{"type":"message","user":"U0KPFAZNF","text":"i would think that would be enough, though the smallest mac I have is 16G","ts":"1484237920.000920"},{"type":"message","user":"U0KPFAZNF","text":"actually, thats not true, I have an Air with 4G","ts":"1484237932.000921"},{"type":"message","user":"U0KPFAZNF","text":"i could try it there","ts":"1484237934.000922"},{"type":"message","user":"U3MB5BH42","text":"Thanks.","ts":"1484237967.000923"},{"type":"message","user":"U0KPFAZNF","text":"can you run again with Activity Monitor open and watch the memory usage?","ts":"1484237973.000924"},{"type":"message","user":"U0KPFAZNF","text":"thats the only thing I can think of ATM without digging in deeper","ts":"1484237983.000925"},{"type":"message","user":"U0KPFAZNF","text":"(swapping to death)","ts":"1484237989.000926"},{"type":"message","user":"U3MB5BH42","text":"the unit-tests or the deployments?","ts":"1484237989.000927"},{"type":"message","user":"U0KPFAZNF","text":"either one","ts":"1484238001.000928"},{"type":"message","user":"U0KPFAZNF","text":"im just curious if its going into memory pressure","ts":"1484238010.000929"},{"type":"message","user":"U3MB5BH42","text":"memory used 6.91Gb","ts":"1484238095.000930"},{"type":"message","user":"U3MB5BH42","text":"docker uses 1.6 Gb","ts":"1484238100.000931"},{"type":"message","user":"U3MB5BH42","text":"now the deployment really started: 2017-01-12 11:22:58.659 EST [chaincode] launchAndWaitForRegister -&gt; DEBU 0df start container: mycc:0\/**TEST_CHAINID**(networkid:dev,peerid:jdoe)","ts":"1484238224.000932"},{"type":"message","user":"U3MB5BH42","text":"total memory usage stays below 7Gb, and docker memory usage seems to stay around 1.6Gb.","ts":"1484238640.000935"},{"type":"message","user":"U0KPFAZNF","text":"hmm, its very strange","ts":"1484238827.000936"},{"type":"message","user":"U0KPFAZNF","text":"let me find that air","ts":"1484238847.000937"},{"type":"message","user":"U3MB5BH42","text":"Thanks. I'm trying after disabling as many processes as I can, including the antivirus.","ts":"1484239172.000938"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins you _could_ set up an OSX VM on OSX (you have an OS license to do that) to get down to 8 gigs","edited":{"user":"U0UHG4VP1","ts":"1484239388.000000"},"ts":"1484239371.000939"},{"type":"message","user":"U0P2GSA8Z","text":"although I don't recommend it I've run Fabric in vagrant on a Windows machine with 8GB","ts":"1484239380.000940"},{"type":"message","user":"U0P2GSA8Z","text":"sometimes the pointer freezes so it's definitely not a desirable work environment but it's been useful to be able to do it at times :slightly_smiling_face:","ts":"1484239449.000942"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> good point, I do have one","ts":"1484239521.000943"},{"type":"message","user":"U0UHG4VP1","text":"Parallels offers a 15 day trial, as well","ts":"1484239571.000944"},{"type":"message","user":"U0KPFAZNF","text":"I have a fusion license, it lets you create OSX guests","ts":"1484239638.000945"},{"type":"message","user":"U0KPFAZNF","text":"<@U3MB5BH42> how many cores in your setup?","ts":"1484239671.000946"},{"type":"message","user":"U3MB5BH42","text":"I think 2*1.3GHz","ts":"1484239688.000947"},{"type":"message","user":"U3MB5BH42","text":"But activity monitor does not show much cpu usage actually","ts":"1484239724.000948"},{"type":"message","user":"U0KPFAZNF","text":"ok, creating a VM now with 8G and 2x cores (though they are 3Ghz)","ts":"1484239725.000949"},{"type":"message","user":"U3MB5BH42","text":"nor ram usage","ts":"1484239730.000950"},{"type":"message","user":"U0KPFAZNF","text":"yeah, probably not the issue","ts":"1484239733.000951"},{"type":"message","user":"U0KPFAZNF","text":"just not sure","ts":"1484239735.000952"},{"type":"message","user":"U3MB5BH42","text":"I looked at docker logs","ts":"1484239827.000953"},{"type":"message","user":"U3MB5BH42","text":"If I understand correctly, it seems that the chaincode just failed","ts":"1484239844.000954"},{"type":"message","user":"U3MB5BH42","text":"but the peer did not detect that and waits until timeout","edited":{"user":"U3MB5BH42","ts":"1484240006.000000"},"ts":"1484239856.000955"},{"type":"message","subtype":"file_share","text":"<@U3MB5BH42|fbenhamo> shared a file: <https:\/\/hyperledgerproject.slack.com\/files\/fbenhamo\/F3RD8M0FQ\/gistfile1_txt.txt|gistfile1.txt>","file":{"id":"F3RD8M0FQ","created":1484239903,"timestamp":1484239903,"name":"gistfile1_txt.txt","title":"gistfile1.txt","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U3MB5BH42","editable":true,"size":1005,"mode":"snippet","is_external":true,"external_type":"unknown","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/gist.github.com\/7dac151410cf4b35ca9b49679f14eb53#file-gistfile1-txt","url_private_download":"https:\/\/gist.github.com\/7dac151410cf4b35ca9b49679f14eb53#file-gistfile1-txt","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/fbenhamo\/F3RD8M0FQ\/gistfile1_txt.txt","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/fbenhamo\/F3RD8M0FQ\/gistfile1_txt.txt\/edit","preview":"$ docker logs dev-jdoe-mycc-0-48baa00e355e6db1648cff44e28f1dbf322523a99ffe283fd99a00348466eb78075559488e372409bb691aab29cfa894645c9c2737781367012e0c816eb227b7\n2017\/01\/12 16:38:41 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 0.0.0.0:7051: getsockopt: connection refused\"; Reconnecting to {\"0.0.0.0:7051\" <nil>}\n2017\/01\/12 16:38:42 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 0.0.0.0:7051: getsockopt: connection refused\"; Reconnecting to {\"0.0.0.0:7051\" <nil>}\n16:38:43.317 [shim] ERRO : Error trying to connect to local peer: grpc: timed out when dialing\n2017\/01\/12 16:38:43 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 0.0.0.0:7051: getsockopt: connection refused\"; Reconnecting to {\"0.0.0.0:7051\" <nil>}","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>$ docker logs dev-jdoe-mycc-0-48baa00e355e6db1648cff44e28f1dbf322523a99ffe283fd99a00348466eb78075559488e372409bb691aab29cfa894645c9c2737781367012e0c816eb227b7<\/pre><\/div>\n<div><pre>2017\/01\/12 16:38:41 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = &quot;transport: dial tcp 0.0.0.0:7051: getsockopt: connection refused&quot;; Reconnecting to {&quot;0.0.0.0:7051&quot; &lt;nil&gt;}<\/pre><\/div>\n<div><pre>2017\/01\/12 16:38:42 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = &quot;transport: dial tcp 0.0.0.0:7051: getsockopt: connection refused&quot;; Reconnecting to {&quot;0.0.0.0:7051&quot; &lt;nil&gt;}<\/pre><\/div>\n<div><pre>16:38:43.317 [shim] ERRO : Error trying to connect to local peer: grpc: timed out when dialing<\/pre><\/div>\n<div><pre>2017\/01\/12 16:38:43 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = &quot;transport: dial tcp 0.0.0.0:7051: getsockopt: connection refused&quot;; Reconnecting to {&quot;0.0.0.0:7051&quot; &lt;nil&gt;}<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":6,"lines_more":1,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U3MB5BH42","upload":false,"display_as_bot":false,"username":"<@U3MB5BH42|fbenhamo>","bot_id":null,"ts":"1484239903.000957"},{"type":"message","user":"U0KPFAZNF","text":"<@U3MB5BH42> I have a \"make unit-test\" just spinning up on a native Air with 4G now, and an 8GB OSX VM building","ts":"1484240823.000960"},{"type":"message","user":"U0KPFAZNF","text":"once the 8G instance comes up, will take a bit to get brew\/go\/docker installed, etc, but ill spin that up too","ts":"1484240858.000961"},{"type":"message","user":"U0UHG4VP1","text":"this conversation has inspired me to order more ram for my iMac","ts":"1484240862.000962"},{"type":"message","user":"U3MB5BH42","text":"Thanks.","ts":"1484240874.000963"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: ha, i _just_ did that","edited":{"user":"U0KPFAZNF","ts":"1484240923.000000"},"ts":"1484240878.000964"},{"type":"message","user":"U0KPFAZNF","text":"I went from 16G -&gt; 48G on this macpro","ts":"1484240892.000965"},{"type":"message","user":"U0KPFAZNF","text":"best $277 bucks ive spent on computers in a while","ts":"1484240906.000966"},{"type":"message","user":"U0UHG4VP1","text":"I'm jealous. Crucial was out of 16 gig dimms so I'm going from 8 to 32 gigs","ts":"1484240951.000968"},{"text":"looks for somewhere to park 2 4 gig sticks","type":"message","subtype":"me_message","user":"U0UHG4VP1","ts":"1484240966.000969"},{"type":"message","user":"U0KPFAZNF","text":"for some reason, OWC said this 4-core 2009 MP can only take 3 16G sticks","ts":"1484240985.000970"},{"type":"message","user":"U0KPFAZNF","text":"so I only ordered the 48G kit, otherwise i would have gone 64G","ts":"1484241001.000971"},{"type":"message","user":"U0XQ35CDD","text":"Theoretically, is there any reason why `make dist-clean` followed by `make docker` can fail?","ts":"1484242369.000972"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XQ35CDD> are you seeing a failure?","ts":"1484242574.000973"},{"type":"message","user":"U0KPFAZNF","text":"if so, post the log?","ts":"1484242580.000974"},{"type":"message","user":"U0XQ35CDD","text":"I do, but upon further inspection it seems it's related to Gari's observation about some Unix applications not playing nicely on macOS.","ts":"1484242637.000975"},{"type":"message","user":"U0XQ35CDD","text":"```Step 3 : ADD payload\/goshim.tar.bz2 $GOPATH\/src\/\nError processing tar file(bzip2 data invalid: bad magic value in continuation file):\nmake: *** [build\/image\/ccenv\/.dummy-x86_64-0.7.0-snapshot-48942d73] Error 1```","ts":"1484242664.000976"},{"type":"message","user":"U0XQ35CDD","text":"So, I'll get on to fix that.","ts":"1484242674.000977"},{"type":"message","user":"U0KPFAZNF","text":"search stackoverflow for that answer","ts":"1484242691.000978"},{"type":"message","user":"U0KPFAZNF","text":"i posted it there","ts":"1484242698.000979"},{"type":"message","user":"U0KPFAZNF","text":"<http:\/\/stackoverflow.com\/questions\/41465720\/error-building-peer-bzip2-data-invalid-in-goshim-tar-bz2>","attachments":[{"title":"Error building peer: \"bzip2 data invalid\" in goshim.tar.bz2","title_link":"http:\/\/stackoverflow.com\/questions\/41465720\/error-building-peer-bzip2-data-invalid-in-goshim-tar-bz2","text":"Some users experience a failure building the peer as follows:$ make peerBuilding docker ccenv-imagedocker build -t hyperledger\/fabric-ccenv build\/image\/ccenvSending build context to Docker da...","fallback":"Error building peer: \"bzip2 data invalid\" in goshim.tar.bz2","thumb_url":"https:\/\/cdn.sstatic.net\/Sites\/stackoverflow\/img\/apple-touch-icon@2.png?v=73d79a89bded","from_url":"http:\/\/stackoverflow.com\/questions\/41465720\/error-building-peer-bzip2-data-invalid-in-goshim-tar-bz2","thumb_width":316,"thumb_height":316,"service_icon":"https:\/\/cdn.sstatic.net\/Sites\/stackoverflow\/img\/favicon.ico?v=4f32ecc8f43d","service_name":"stackoverflow.com","id":1}],"ts":"1484242730.000980"},{"type":"message","user":"U0XQ35CDD","text":"Yup, on it now. Thank you.","ts":"1484242774.000982"},{"type":"message","user":"U0XQ35CDD","text":"(Update: Worked like a charm.)","edited":{"user":"U0XQ35CDD","ts":"1484242869.000000"},"ts":"1484242853.000983","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"<@U3MB5BH42> update: mba build is still running the chaincode test now","ts":"1484243597.000985"},{"type":"message","user":"U0KPFAZNF","text":"its working pretty hard, but still cranking without error","ts":"1484243609.000986"},{"type":"message","user":"U0KPFAZNF","text":"I think I hit a dead-end on the 8G VM front","ts":"1484243619.000987"},{"type":"message","user":"U0KPFAZNF","text":"I enabled the vmware-fusion VT-x\/EPT extension to the guest, but the xhyve hypervisor is not happy and thus I cannot run docker-for-mac in this guest","ts":"1484243653.000988"},{"type":"message","user":"U3MB5BH42","text":"on my Mac, the test after \n```unit-tests_1  | ok  \t<http:\/\/github.com\/hyperledger\/fabric\/core|github.com\/hyperledger\/fabric\/core>\t0.080s\tcoverage: 18.8% of statements```\ntimes out. Does this corresponds to the chaincode test?","ts":"1484243906.000989"},{"type":"message","user":"U0KPFAZNF","text":"yep","ts":"1484243980.000990"},{"type":"message","user":"U0KPFAZNF","text":"thats whats cranking for me right now","ts":"1484243989.000991"},{"type":"message","user":"U0KPFAZNF","text":"just finished (the chaincode test)","ts":"1484244132.000992"},{"type":"message","user":"U0KPFAZNF","text":"overall tests still running","ts":"1484244138.000993"},{"type":"message","user":"U0KPFAZNF","text":"machines fan is cranking full speed, and the system is pretty sluggish with lots of beachball activity if I try to do anything","ts":"1484244183.000994"},{"type":"message","user":"U0KPFAZNF","text":"but it does seem to be progressing","ts":"1484244187.000995"},{"type":"message","user":"U0KPFAZNF","text":"AM has classified memory-pressure as green, though","ts":"1484244230.000996"},{"type":"message","user":"U3MB5BH42","text":"which commit are you using?","ts":"1484244231.000997"},{"type":"message","user":"U0KPFAZNF","text":"d5f3788e7e31e2","ts":"1484244268.000998"},{"type":"message","user":"U3MB5BH42","text":"I need to go to lunch. But I'll try with this commit afterwards.","ts":"1484244278.000999"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3REKPA4E\/screen_shot_2017-01-12_at_1.04.55_pm.png|Screen Shot 2017-01-12 at 1.04.55 PM.png>","file":{"id":"F3REKPA4E","created":1484244331,"timestamp":1484244331,"name":"Screen Shot 2017-01-12 at 1.04.55 PM.png","title":"Screen Shot 2017-01-12 at 1.04.55 PM.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0KPFAZNF","editable":false,"size":120760,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3REKPA4E\/screen_shot_2017-01-12_at_1.04.55_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3REKPA4E\/download\/screen_shot_2017-01-12_at_1.04.55_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3REKPA4E-0aa41f6bce\/screen_shot_2017-01-12_at_1.04.55_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3REKPA4E-0aa41f6bce\/screen_shot_2017-01-12_at_1.04.55_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3REKPA4E-0aa41f6bce\/screen_shot_2017-01-12_at_1.04.55_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":240,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3REKPA4E-0aa41f6bce\/screen_shot_2017-01-12_at_1.04.55_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":320,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3REKPA4E-0aa41f6bce\/screen_shot_2017-01-12_at_1.04.55_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","image_exif_rotation":1,"original_w":698,"original_h":466,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3REKPA4E\/screen_shot_2017-01-12_at_1.04.55_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3REKPA4E-31f7eb5120","channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1484244333.001000"},{"type":"message","user":"U3MB5BH42","text":"<@U0KPFAZNF> I have macOS Sierra 10.12.2.","ts":"1484248446.001001"},{"type":"message","user":"U0KPFAZNF","text":"i cant imagine that would matter here","ts":"1484249681.001002"},{"type":"message","user":"U3MB5BH42","text":"I'm trying with the same commit as yours","ts":"1484249708.001003"},{"type":"message","user":"U3MB5BH42","text":"And I'm also trying on an Ubuntu VM.","ts":"1484249718.001004"},{"type":"message","user":"U3MB5BH42","text":"For some reason make dist-clean all seems slightly faster in the VM (VirtualBox).","ts":"1484249786.001005"},{"type":"message","user":"U0KPFAZNF","text":"mine ended up failing, but it seems more like a legit test failure than the same timeout","ts":"1484249794.001006"},{"type":"message","user":"U0KPFAZNF","text":"FAIL\t<http:\/\/github.com\/hyperledger\/fabric\/orderer\/sbft\/main|github.com\/hyperledger\/fabric\/orderer\/sbft\/main>\t80.118s","ts":"1484249798.001007"},{"type":"message","user":"U0KPFAZNF","text":"or at least, a different one","ts":"1484249813.001008"},{"type":"message","user":"U3MB5BH42","text":"I've never seen this error","ts":"1484249861.001009"},{"type":"message","user":"U3MB5BH42","text":"I really don't understand: on both the VM (VirtualBox Ubuntu 16.04) and my Mac, unit-tests time out","edited":{"user":"U3MB5BH42","ts":"1484251505.000000"},"ts":"1484251500.001010"},{"type":"message","user":"U3MB5BH42","text":"using the commit you've used","edited":{"user":"U3MB5BH42","ts":"1484251533.000000"},"ts":"1484251518.001012"},{"type":"message","user":"U3MB5BH42","text":"in the logs, I see many errors of the form","ts":"1484251570.001014"},{"type":"message","user":"U3MB5BH42","text":"processStream -&gt; ERRO 37d Error handling chaincode support stream: stream error: code = 1 desc = \"context canceled\"","ts":"1484251572.001015"},{"type":"message","user":"U3MB5BH42","text":"[inproccontroller] func2 -&gt; ERRO 389 chaincode ended with err: Received nil message, ending chaincode support stream","ts":"1484251586.001016"},{"type":"message","user":"U3MB5BH42","text":"For the VM, it's a fresh install with the latest go version and the latest Docker version.","ts":"1484251654.001017"},{"type":"message","user":"U0P2GSA8Z","text":"<@U3MB5BH42> I actually get similar error messages running the unit-tests","ts":"1484252467.001018"},{"type":"message","user":"U0P2GSA8Z","text":"so, I wouldn't sweat it","ts":"1484252503.001019"},{"type":"message","user":"U0P2GSA8Z","text":"this is why it's a work in progress...","ts":"1484252516.001020"},{"type":"message","user":"U0P2GSA8Z","text":"I don't know what you're trying to achieve but unless you have a specific reason to want to use v1.0 (master) you're better off using v0.6 for now","ts":"1484252602.001021"},{"type":"message","user":"U3MB5BH42","text":"Unfortunately, I really need v1.0, because I need multiple endorsers and system chaincodes. But I guess I can wait a week or two for it to be more stable.","ts":"1484253778.001022"},{"type":"message","user":"U3MB5BH42","text":"What I don't really understand is how it can fail inside a Ubuntu VM.","ts":"1484253797.001023"},{"type":"message","user":"U3MB5BH42","text":"My colleagues made it work on a fresh Ubuntu 16.04 install.","ts":"1484253812.001024"},{"type":"message","user":"U3MB5BH42","text":"My wild guess would be that the issue is that the chaincode is trying to contact the endorser before the endorser is listening to the socket, due to some weird timing issue. And that it fails because of that. The endorser does not realize that and just wait until the test times out.","ts":"1484254619.001025"},{"type":"message","user":"U3MB5BH42","text":"Actually on the Youtube video <https:\/\/www.youtube.com\/watch?v=t7PcpkIoGAc> (7:23), the peer does not manage to talk to the orderer via GRPC and that makes the demo fails. And we get similar error messages in the unit test logs, although the issue seems to be between the peer\/endorser and the chaincode.","attachments":[{"service_name":"YouTube","service_url":"https:\/\/www.youtube.com\/","title":"node js SDK sprint 7","title_link":"https:\/\/www.youtube.com\/watch?v=t7PcpkIoGAc","author_name":"Hyperledger Fabric","author_link":"https:\/\/www.youtube.com\/channel\/UCCFdgCWH_1vCndMPVqQlwZw","thumb_url":"https:\/\/i.ytimg.com\/vi\/t7PcpkIoGAc\/hqdefault.jpg","thumb_width":480,"thumb_height":360,"fallback":"YouTube Video: node js SDK sprint 7","video_html":"<iframe width=\"400\" height=\"225\" src=\"https:\/\/www.youtube.com\/embed\/t7PcpkIoGAc?feature=oembed&autoplay=1&iv_load_policy=3\" frameborder=\"0\" allowfullscreen><\/iframe>","video_html_width":400,"video_html_height":225,"from_url":"https:\/\/www.youtube.com\/watch?v=t7PcpkIoGAc","service_icon":"https:\/\/a.slack-edge.com\/2089\/img\/unfurl_icons\/youtube.png","id":1}],"ts":"1484254784.001026"},{"type":"message","user":"U3MB5BH42","text":"<@U0KPFAZNF> <@U0P2GSA8Z> After looking more at the issue I have when deploying the simple chaincode (<https:\/\/jira.hyperledger.org\/browse\/FAB-37>), I think one issue might be due to networking features of Docker on mac OS.","ts":"1484322579.001030"},{"type":"message","user":"U0KPFAZNF","text":"<@U3MB5BH42> are you using docker-for-mac or docker-engine?","ts":"1484322611.001031"},{"type":"message","user":"U3MB5BH42","text":"I did not know there was a difference","ts":"1484322637.001032"},{"type":"message","user":"U0KPFAZNF","text":"there is: the short answer is docker-for-mac is newer and the only one that will really work","ts":"1484322659.001033"},{"type":"message","user":"U3MB5BH42","text":"I downloaded it here: <https:\/\/www.docker.com\/products\/overview>","attachments":[{"service_name":"Docker","title":"Get Docker","title_link":"https:\/\/www.docker.com\/products\/overview","fallback":"Docker: Get Docker","image_url":"https:\/\/www.docker.com\/sites\/default\/files\/social\/docker-twitter-share.png","ts":1453709371,"from_url":"https:\/\/www.docker.com\/products\/overview","image_width":625,"image_height":250,"image_bytes":49214,"service_icon":"https:\/\/www.docker.com\/favicons\/apple-touch-icon-57x57.png","id":1}],"ts":"1484322668.001034"},{"type":"message","user":"U3MB5BH42","text":"It's version 1.12.6","ts":"1484322680.001036"},{"type":"message","user":"U0KPFAZNF","text":"do you have a little docker whale in the menu tray?","ts":"1484322692.001037"},{"type":"message","user":"U3MB5BH42","text":"yes","ts":"1484322697.001038"},{"type":"message","user":"U0KPFAZNF","text":"or do you have to do \"docker-machine start\"","ts":"1484322700.001039"},{"type":"message","user":"U0KPFAZNF","text":"ok, good, you probably have docker-for-mac then","ts":"1484322707.001040"},{"type":"message","user":"U0KPFAZNF","text":"another possibility is you are getting bit by a bug I am tracking in our docker containers","ts":"1484322742.001041"},{"type":"message","user":"U0KPFAZNF","text":"related to DNS","ts":"1484322748.001042"},{"type":"message","user":"U3MB5BH42","text":"But if I force the ip address to the peer","ts":"1484322748.001043"},{"type":"message","user":"U3MB5BH42","text":"at least deployment does not timeout","ts":"1484322755.001044"},{"type":"message","user":"U3MB5BH42","text":"but Invoke still does not work","ts":"1484322760.001045"},{"type":"message","user":"U3MB5BH42","text":"(I do that using PEER_CORE_ADDRESS=<http:\/\/xxx.xxx.xxx.xxx:7051|xxx.xxx.xxx.xxx:7051>)","ts":"1484322777.001046"},{"type":"message","user":"U3MB5BH42","text":"I think this is at least one issue","ts":"1484322855.001047"},{"type":"message","user":"U3MB5BH42","text":"as if I run chaincode_example02 outside the docker container","ts":"1484322864.001048"},{"type":"message","user":"U3MB5BH42","text":"even with default parameters (0.0.0.0:7051 for the peer address), then it connects correctly to the peer","ts":"1484322892.001049"},{"type":"message","user":"U3MB5BH42","text":"while inside docker","ts":"1484322897.001050"},{"type":"message","user":"U3MB5BH42","text":"docker logs indicated <https:\/\/gist.github.com\/fabrice102\/7dac151410cf4b35ca9b49679f14eb53>","ts":"1484322924.001051"},{"type":"message","subtype":"file_share","text":"<@U3MB5BH42|fbenhamo> shared a file: <https:\/\/hyperledgerproject.slack.com\/files\/fbenhamo\/F3RD8M0FQ\/gistfile1_txt.txt|gistfile1.txt>","file":{"id":"F3RD8M0FQ","created":1484239903,"timestamp":1484239903,"name":"gistfile1_txt.txt","title":"gistfile1.txt","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U3MB5BH42","editable":true,"size":1005,"mode":"snippet","is_external":true,"external_type":"unknown","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/gist.github.com\/7dac151410cf4b35ca9b49679f14eb53#file-gistfile1-txt","url_private_download":"https:\/\/gist.github.com\/7dac151410cf4b35ca9b49679f14eb53#file-gistfile1-txt","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/fbenhamo\/F3RD8M0FQ\/gistfile1_txt.txt","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/fbenhamo\/F3RD8M0FQ\/gistfile1_txt.txt\/edit","preview":"$ docker logs dev-jdoe-mycc-0-48baa00e355e6db1648cff44e28f1dbf322523a99ffe283fd99a00348466eb78075559488e372409bb691aab29cfa894645c9c2737781367012e0c816eb227b7\n2017\/01\/12 16:38:41 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 0.0.0.0:7051: getsockopt: connection refused\"; Reconnecting to {\"0.0.0.0:7051\" <nil>}\n2017\/01\/12 16:38:42 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 0.0.0.0:7051: getsockopt: connection refused\"; Reconnecting to {\"0.0.0.0:7051\" <nil>}\n16:38:43.317 [shim] ERRO : Error trying to connect to local peer: grpc: timed out when dialing\n2017\/01\/12 16:38:43 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 0.0.0.0:7051: getsockopt: connection refused\"; Reconnecting to {\"0.0.0.0:7051\" <nil>}","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>$ docker logs dev-jdoe-mycc-0-48baa00e355e6db1648cff44e28f1dbf322523a99ffe283fd99a00348466eb78075559488e372409bb691aab29cfa894645c9c2737781367012e0c816eb227b7<\/pre><\/div>\n<div><pre>2017\/01\/12 16:38:41 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = &quot;transport: dial tcp 0.0.0.0:7051: getsockopt: connection refused&quot;; Reconnecting to {&quot;0.0.0.0:7051&quot; &lt;nil&gt;}<\/pre><\/div>\n<div><pre>2017\/01\/12 16:38:42 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = &quot;transport: dial tcp 0.0.0.0:7051: getsockopt: connection refused&quot;; Reconnecting to {&quot;0.0.0.0:7051&quot; &lt;nil&gt;}<\/pre><\/div>\n<div><pre>16:38:43.317 [shim] ERRO : Error trying to connect to local peer: grpc: timed out when dialing<\/pre><\/div>\n<div><pre>2017\/01\/12 16:38:43 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = &quot;transport: dial tcp 0.0.0.0:7051: getsockopt: connection refused&quot;; Reconnecting to {&quot;0.0.0.0:7051&quot; &lt;nil&gt;}<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":6,"lines_more":1,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":0},"user":"U3MB5BH42","upload":false,"display_as_bot":false,"username":"<@U3MB5BH42|fbenhamo>","bot_id":null,"ts":"1484322924.001052"},{"type":"message","user":"U3MB5BH42","text":"I can get similar errors by forcing chaincode_example02 to connect to a wrong port for example","edited":{"user":"U3MB5BH42","ts":"1484323579.000000"},"ts":"1484322986.001055"},{"type":"message","user":"U3MB5BH42","text":"like `CORE_PEER_ADDRESS=127.0.0.1:8051 CORE_CHAINCODE_ID_NAME=mycc .\/chaincode_example02`","ts":"1484323010.001056"},{"type":"message","user":"U0KPFAZNF","text":"it looks like its trying to connect to 0.0.0.0","ts":"1484323037.001057"},{"type":"message","user":"U3MB5BH42","text":"yes","ts":"1484323044.001058"},{"type":"message","user":"U3MB5BH42","text":"but that's the default parameters","ts":"1484323055.001059"},{"type":"message","user":"U3MB5BH42","text":"and apparently that's equivalent to 127.0.0.1 for grpc","ts":"1484323064.001060"},{"type":"message","user":"U0KPFAZNF","text":"right, but I dont think that is right","ts":"1484323088.001061"},{"type":"message","user":"U0KPFAZNF","text":"this is when running the UTs?","ts":"1484323097.001062"},{"type":"message","user":"U3MB5BH42","text":"sorry, what do you mean by UT?","ts":"1484323108.001063"},{"type":"message","user":"U0KPFAZNF","text":"unit-tests, sorry","ts":"1484323113.001064"},{"type":"message","user":"U3MB5BH42","text":"no, just trying the simple example","ts":"1484323134.001065"},{"type":"message","user":"U3MB5BH42","text":"here: <https:\/\/jira.hyperledger.org\/browse\/FAB-37>","ts":"1484323138.001066"},{"type":"message","user":"U0KPFAZNF","text":"ah, ok, that is your problem","ts":"1484323141.001067"},{"type":"message","user":"U0KPFAZNF","text":"(I think)","ts":"1484323145.001068"},{"type":"message","user":"U0KPFAZNF","text":"try this","ts":"1484323148.001069"},{"type":"message","user":"U0KPFAZNF","text":"take a look at .\/test\/docker-compose.yml","ts":"1484323159.001070"},{"type":"message","user":"U0KPFAZNF","text":"in particular: CORE_PEER_ADDRESSAUTODETECT=true","ts":"1484323172.001071"},{"type":"message","user":"U0KPFAZNF","text":"that instructs the peer to dynamically discover its IP","ts":"1484323184.001072"},{"type":"message","user":"U0KPFAZNF","text":"you are running the peer in docker?","ts":"1484323189.001073"},{"type":"message","user":"U3MB5BH42","text":"no","ts":"1484323195.001074"},{"type":"message","user":"U3MB5BH42","text":"I'm running it manually on my computer","ts":"1484323207.001075"},{"type":"message","user":"U0KPFAZNF","text":"so peer=native","ts":"1484323209.001076"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1484323210.001077"},{"type":"message","user":"U0KPFAZNF","text":"then just set that in the environment for the peer","ts":"1484323229.001078"},{"type":"message","user":"U0KPFAZNF","text":"OSX docker is slightly different: 0.0.0.0 wont work like it does in Linux","ts":"1484323247.001081"},{"type":"message","user":"U0KPFAZNF","text":"so, the defaults will work if the peer is running natively on linux, but not OSX","ts":"1484323269.001082"},{"type":"message","user":"U0KPFAZNF","text":"OSX requires the AUTODETECT","ts":"1484323275.001083"},{"type":"message","user":"U3MB5BH42","text":"ok, I'm trying this","ts":"1484323286.001084"},{"type":"message","user":"U0KPFAZNF","text":"what I expect to see is the chaincode will now be given a specific IP to connect to","ts":"1484323311.001085"},{"type":"message","user":"U3MB5BH42","text":"Ok, that gives exactly the same results as when I force CORE_PEER_ADDRESS to my wifi IP address","ts":"1484323479.001086"},{"type":"message","user":"U3MB5BH42","text":"deployment seems to work.","ts":"1484323484.001087"},{"type":"message","user":"U3MB5BH42","text":"but invoke then does not work.","ts":"1484323489.001088"},{"type":"message","user":"U3MB5BH42","text":"`Error: Error endorsing invoke: rpc error: code = 2 desc = failed to obtain cds for mycc - Error executing chaincode: Transaction returned with failure: transaction not found mycc\/**TEST_CHAINID**`","ts":"1484323497.001089"},{"type":"message","user":"U3MB5BH42","text":"```2017-01-13 11:04:16.690 EST [shim] func1 -&gt; ERRO 18e [6c5e5d4f]Transaction execution failed. Sending ERROR\n2017-01-13 11:04:16.690 EST [chaincode] processStream -&gt; DEBU 18f [6c5e5d4f]Received message ERROR from shim\n2017-01-13 11:04:16.690 EST [chaincode] processStream -&gt; ERRO 190 Got error: transaction not found mycc\/**TEST_CHAINID**```","ts":"1484323513.001090"},{"type":"message","user":"U0KPFAZNF","text":"thats a different error","ts":"1484326571.001094"},{"type":"message","user":"U0KPFAZNF","text":"i think you need to be running the orderer","ts":"1484326578.001095"},{"type":"message","user":"U0KPFAZNF","text":"I get the error too, <@U0ULK2JPP> helped me to diagnose that the connection between peer\/orderer was broken","ts":"1484326605.001096"},{"type":"message","user":"U0KPFAZNF","text":"i get the impression that in your setup, orderer isnt even started","ts":"1484326617.001097"},{"type":"message","user":"U0KPFAZNF","text":"if that is the case, try \"make orderer &amp;&amp; .\/build\/bin\/orderer\" in another terminal","ts":"1484326647.001098"},{"type":"message","user":"U3MB5BH42","text":"I cleaned up everything and using either CORE_PEER_ADDRESSAUTODETECT and CORE_PEER_ADDRESS, ever","ts":"1484326649.001099"},{"type":"message","user":"U3MB5BH42","text":"Since I did a lot of tests, I guess I may have done something wrong.","ts":"1484326670.001100"},{"type":"message","user":"U3MB5BH42","text":"Thanks a lot.","ts":"1484326672.001101"},{"type":"message","user":"U3MB5BH42","text":"The simple example now works.","ts":"1484326677.001102","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"np","ts":"1484326678.001103"},{"type":"message","user":"U3MB5BH42","text":"I don't know if the unit tests work or not, but the simple example is sufficient for me","ts":"1484326693.001104"},{"type":"message","user":"U0KPFAZNF","text":"cool","ts":"1484326699.001105"},{"type":"message","user":"U2TD4Q7NW","text":"<@U0KPFAZNF>  <https:\/\/github.com\/jkilpatr\/fabric-baseimage-2.0>","attachments":[{"service_name":"GitHub","title":"jkilpatr\/fabric-baseimage-2.0","title_link":"https:\/\/github.com\/jkilpatr\/fabric-baseimage-2.0","text":"fabric-baseimage-2.0 - An Ansible based build process for Fabric base image with platform agnostic design","fallback":"GitHub: jkilpatr\/fabric-baseimage-2.0","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/19688153?v=3&s=400","from_url":"https:\/\/github.com\/jkilpatr\/fabric-baseimage-2.0","thumb_width":327,"thumb_height":327,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1484343350.001134"},{"type":"message","user":"U2TD4Q7NW","text":"let me know what you think of the structure, I've got converged code (aka the same ansible playbook) running in a distro and arch agnostic manner, the bootstrap playbook handles kicking off different container builds in parallel, all at once for x86 stuff, going to need to borrow some arm hardware for better multiarch testing.","ts":"1484343418.001136"},{"type":"message","user":"U2TD4Q7NW","text":"it's barebones for now, but I think porting all existing baseimage script functionality into this structure should come out neater.","ts":"1484343457.001137"},{"type":"message","user":"U0MM86C84","text":"Hi, has someone tried to deploy on kubernetes?","ts":"1484645560.001636"},{"user":"U34PK9N8L","text":"<@U34PK9N8L|isramos> has joined the channel","type":"message","subtype":"channel_join","ts":"1484686180.001709"},{"user":"U1ES70KQS","text":"<@U1ES70KQS|pschnap> has joined the channel","type":"message","subtype":"channel_join","ts":"1484762474.001792"},{"type":"message","user":"U0XQ35CDD","text":"<@U0KPFAZNF> or anyone else who knows the mechanics behind this: I'd like to pick your brain about `DOCKER_TAG` a bit.","edited":{"user":"U0XQ35CDD","ts":"1484772437.000000"},"ts":"1484772418.001801"},{"type":"message","user":"U0XQ35CDD","text":"If there's documentation for this, let me know so I can read it first. (Not urgent BTW.)","ts":"1484772455.001804"},{"type":"message","user":"U0PB67X4K","text":"<@U0XQ35CDD> - where do you see DOCKER_TAG?","ts":"1484772816.001806"},{"type":"message","user":"U0XQ35CDD","text":"<@U0PB67X4K>: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3923\/>","ts":"1484772902.001807"},{"type":"message","user":"U0XQ35CDD","text":"(And <@U0YK3KKCY>, who's involved in that changeset, suggested that <@U0KPFAZNF> is whom should I be getting in touch with, to find out more about how `DOCKER_TAG` works.)","ts":"1484772987.001808"},{"type":"message","user":"U0PB67X4K","text":"I was hoping this was what you were asking about - but just wanted to check","ts":"1484773208.001809"},{"type":"message","user":"U0PB67X4K","text":"I'll assume you know about tagging Docker images?","ts":"1484773224.001810"},{"type":"message","user":"U0PB67X4K","text":":wink:","ts":"1484773228.001811","reactions":[{"name":"-1","users":["U0XQ35CDD"],"count":1}]},{"type":"message","user":"U0XQ35CDD","text":"(I do :grin:)","ts":"1484773284.001812"},{"type":"message","user":"U0PB67X4K","text":"The missing pieces of the puzzle:\n\n<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/Makefile#L42>\n<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/Makefile#L72>\n<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docker-env.mk#L56>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/Makefile#L72","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/Makefile#L72","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"edited":{"user":"U0PB67X4K","ts":"1484773389.000000"},"ts":"1484773380.001813"},{"type":"message","user":"U0PB67X4K","text":"(the last file is where the DOCKER_TAG is defined)","edited":{"user":"U0PB67X4K","ts":"1484773414.000000"},"ts":"1484773404.001816"},{"type":"message","user":"U0PB67X4K","text":"so this is what basically creates the unique tag names for the images each time you create a new build","ts":"1484773454.001818"},{"type":"message","user":"U0PB67X4K","text":"unless they set the release flag in the makefile at which time we don't include the extra version stuff","ts":"1484773476.001819"},{"type":"message","user":"U0PB67X4K","text":"(or maybe you wanted more detail than that?)","ts":"1484773499.001820"},{"type":"message","user":"U0PB67X4K","text":"it's also the reason that if you don't clean between builds you end up with a ton of tagged images","ts":"1484773529.001821"},{"type":"message","user":"U0XQ35CDD","text":"First of all, thanks for these pointers.","ts":"1484773553.001822"},{"type":"message","user":"U0XQ35CDD","text":"Question, where is the logic that picks up the `ARCH` you're on?","ts":"1484773572.001823"},{"type":"message","user":"U0PB67X4K","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/Makefile#L50>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/Makefile#L50","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/Makefile#L50","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1484773595.001824"},{"type":"message","user":"U0XQ35CDD","text":"Ah.","ts":"1484773609.001826"},{"type":"message","user":"U0PB67X4K","text":"(sadly I have become intimate with this stuff)","ts":"1484773616.001827","reactions":[{"name":"joy","users":["U0XQ35CDD"],"count":1}]},{"type":"message","user":"U0PB67X4K","text":"I asked myself all of these questions","ts":"1484773638.001828"},{"type":"message","user":"U0XQ35CDD","text":"Neat, I get it know. That'll be all then, thanks!","ts":"1484773740.001829"},{"type":"message","user":"U0XQ35CDD","text":"(I was imagining a much more complex mechanism behind this.)","ts":"1484773743.001830"},{"type":"message","user":"U0XQ35CDD","text":"(I wish all of my exchanges were this short.)","ts":"1484773754.001831"},{"type":"message","user":"U0PB67X4K","text":"I hear ya","ts":"1484774861.001834"},{"type":"message","user":"U0PB67X4K","text":"I thought there was some magic myself - but no - just basic stuff  (no offense <@U0KPFAZNF> )  :wink:","ts":"1484774903.001835"},{"type":"message","user":"U0KPFAZNF","text":"None taken.","ts":"1484775057.001836"},{"type":"message","user":"U0KPFAZNF","text":"Fwiw: I didn't advocate for the SHA to be part of the tag ","edited":{"user":"U0KPFAZNF","ts":"1484775143.000000"},"ts":"1484775129.001837"},{"type":"message","user":"U0KPFAZNF","text":"I would have just used -snapshot","ts":"1484775163.001839"},{"type":"message","user":"U0KPFAZNF","text":"Which would mitigate the proliferation of images during dev","ts":"1484775186.001840"},{"type":"message","user":"U0KPFAZNF","text":"Personally, I think this is good enough and is accepted practice in other similar scenarios (see maven coordinates for instance)","ts":"1484775262.001841","reactions":[{"name":"+1","users":["U0YK3KKCY"],"count":1}]},{"type":"message","user":"U0PB67X4K","text":"it works really well","ts":"1484775318.001842"},{"type":"message","user":"U0PB67X4K","text":"especially with the clean using rmi -f","ts":"1484775336.001843"},{"type":"message","user":"U0PB67X4K","text":"I just sometime forget to do it","ts":"1484775347.001844"},{"type":"message","user":"U0KPFAZNF","text":"Yeah","ts":"1484775405.001845"},{"type":"message","user":"U0KM61BCP","text":"having the sha as part of the tag will be important as we move to doing FIT and other integration testing (performance, scale etc) as we will want to be working of specific tagged builds","ts":"1484861051.001906"},{"type":"message","user":"U0KPFAZNF","text":"I can see the argument there, though I would typically handle that use case with something like either a build-no or applying the sha as part of the CI pipeline","ts":"1484877653.001910"},{"type":"message","user":"U0KPFAZNF","text":"my main point is that as a pure developer flow, I think -sandbox is easier to use with (and has precedent) than the extra metatag","ts":"1484877682.001911"},{"type":"message","user":"U0KPFAZNF","text":"i dont really have a strong opinion about it though","ts":"1484877751.001912"},{"type":"message","user":"U38JCNW5V","text":"I see the term \u2018organization\u2019 being used in the docs and code. How is an organization defined? Is it by CA?","ts":"1484928694.001922"},{"type":"message","user":"U2Q0HP4HY","text":"just to confirm looks like test chain is now test_chainid","ts":"1484934676.001926"},{"type":"message","user":"U3BSMKS21","text":"hi guys, is there any known issue that  using the hfc sdk interface one is unable to catch errors in invokes","ts":"1485182700.001948"},{"type":"message","user":"U3BSMKS21","text":"e.g. `invokeTx.on('error', function(results) {....})` never catches an error even if the peer node logs an error it is never propagated...","ts":"1485182751.001949"},{"type":"message","user":"U3BSMKS21","text":"im using hyperleger v0.6","ts":"1485182764.001950"},{"type":"message","user":"U3BSMKS21","text":"there is another problem with which im struggling. On one PC im hosting my nodejs app. Then on another PC i can access the webapp page by entering ip6 and the portnumber on which my server listens. The problem is, that on the first access, this is extremely slow ~ 10secs. Then using the webapp is no problem. But if you again do nothing for a few minutes the first interaction with my server again needs several seconds. Any ideas? Im using nodejs express for the server.","ts":"1485184829.001953"},{"type":"message","user":"U0XQ35CDD","text":"Is there any good reason for this file to still be in our repo? <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/TravisCI_Readme.md>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/TravisCI_Readme.md","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/TravisCI_Readme.md","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1485235550.001961"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0XQ35CDD>  yeah. It was discussed some time ago, and I think <@U0KM61BCP>  said it still needs to be","ts":"1485268530.001968","reactions":[{"name":"+1","users":["U0XQ35CDD"],"count":1}]},{"type":"message","user":"U0KM61BCP","text":"if you want to run ci not on your laptop, can be useful","ts":"1485268606.001969"},{"type":"message","user":"U0KM61BCP","text":"probably needs review","ts":"1485268789.001970"},{"type":"message","user":"U0XQ35CDD","text":"It definitely needs review.","ts":"1485268855.001971"},{"type":"message","user":"U0KM61BCP","text":"<@U11HH3P7Y>: ^^","ts":"1485268882.001972"},{"type":"message","user":"U11HH3P7Y","text":"will modify both readme and .yml script as per v1.0 changes","ts":"1485268956.001973"},{"type":"message","user":"U0XQ35CDD","text":"Actually, I am reading through the file again right now.","ts":"1485269001.001974"},{"type":"message","user":"U0XQ35CDD","text":"I still can't quite tell why it's there.","ts":"1485269023.001975"},{"type":"message","user":"U0XQ35CDD","text":"All we need is a link to <https:\/\/docs.travis-ci.com> in our Wiki somewhere.","ts":"1485269068.001976"},{"type":"message","user":"U13TWBRBL","text":"<@U0UHG4VP1> I remember <@U0Z81GL6S> told me that you have the credentials to the <http:\/\/npmjs.com|npmjs.com> publishing of the `hfc` package, do I understand it right? If so can you send that to me so I can publish the v1 node.js SDK? or if you plan to handle that, we can DM on how that should be carried out (we have two packages to publish, `hfc` and `hfc-ca`)","thread_ts":"1485382906.001995","reply_count":16,"replies":[{"user":"U0UHG4VP1","ts":"1485383079.001996"},{"user":"U0UHG4VP1","ts":"1485383090.001998"},{"user":"U13TWBRBL","ts":"1485383515.002000"},{"user":"U0UHG4VP1","ts":"1485383523.002002"},{"user":"U13TWBRBL","ts":"1485443954.002017"},{"user":"U13TWBRBL","ts":"1485443978.002019"},{"user":"U0UHG4VP1","ts":"1485444376.002021"},{"user":"U0UHG4VP1","ts":"1485444454.002023"},{"user":"U0UHG4VP1","ts":"1485444516.002025"},{"user":"U13TWBRBL","ts":"1485445081.002027"},{"user":"U0UHG4VP1","ts":"1485446578.002034"},{"user":"U0UHG4VP1","ts":"1485446607.002036"},{"user":"U11HH3P7Y","ts":"1485446657.002038"},{"user":"U11HH3P7Y","ts":"1485446768.002043"},{"user":"U11HH3P7Y","ts":"1485446787.002045"},{"user":"U0UHG4VP1","ts":"1485446881.002047"}],"ts":"1485382906.001995"},{"type":"message","user":"U0UHG4VP1","text":"jzhang: could we work on this Thursday? I'd like to get your jenkins builds up-to-speed to publish from Jenkins directly","thread_ts":"1485382906.001995","parent_user_id":"U13TWBRBL","ts":"1485383079.001996"},{"type":"message","user":"U0UHG4VP1","text":"do you work with or near ramesh?","thread_ts":"1485382906.001995","parent_user_id":"U13TWBRBL","ts":"1485383090.001998"},{"type":"message","user":"U13TWBRBL","text":"sure we can definitely work on this tomorrow. Ramesh is at the same office location as I am","thread_ts":"1485382906.001995","parent_user_id":"U13TWBRBL","ts":"1485383515.002000"},{"type":"message","user":"U0UHG4VP1","text":"OK this is good to hear","thread_ts":"1485382906.001995","parent_user_id":"U13TWBRBL","ts":"1485383523.002002"},{"type":"message","user":"U0KPFAZNF","text":"cool, threading interface in slack now","ts":"1485384515.002004"},{"type":"message","user":"U0KPFAZNF","text":"didnt know they added that","ts":"1485384519.002005"},{"type":"message","user":"U0KPFAZNF","text":"wonder if it will work out like the old wave protocol promised","ts":"1485384551.002006"},{"type":"message","user":"U0UHG4VP1","text":"I hope? it's interesting. Flickr came out of an attempt to re-invent chat - it was like irc with pictures attached. People loved the picture sharing and the chat died off. Those guys left Yahoo gazillionaires and started Slack to... reinvent chat","thread_ts":"1485384654.002007","reply_count":4,"replies":[{"user":"U0XQ35CDD","ts":"1485446416.002029"},{"user":"U0UHG4VP1","ts":"1485446460.002032"},{"user":"U0XQ35CDD","ts":"1485446681.002040"},{"user":"U0UHG4VP1","ts":"1485447121.002049"}],"ts":"1485384654.002007"},{"type":"message","user":"U0UHG4VP1","text":"so what makes it to startup 3 for the same team?","ts":"1485384667.002008","reactions":[{"name":"slightly_smiling_face","users":["U0P2GSA8Z"],"count":1}]},{"type":"message","user":"U13TWBRBL","text":"hi Ry, so on the <#C1GSVKK1U|fabric-sdk-node> channel we just settled on the names `fabric-client` and `fabric-ca-client` instead of `hfc` and `hfc-ca`","thread_ts":"1485382906.001995","parent_user_id":"U13TWBRBL","ts":"1485443954.002017"},{"type":"message","user":"U13TWBRBL","text":"when can we start working on the publish?","thread_ts":"1485382906.001995","parent_user_id":"U13TWBRBL","ts":"1485443978.002019"},{"type":"message","user":"U0UHG4VP1","text":"OK so what happens to the old images?","thread_ts":"1485382906.001995","parent_user_id":"U13TWBRBL","ts":"1485444376.002021"},{"type":"message","user":"U0UHG4VP1","text":"actually looking at this - what is the npm account you want to publish from?","thread_ts":"1485382906.001995","parent_user_id":"U13TWBRBL","ts":"1485444454.002023"},{"type":"message","user":"U0UHG4VP1","text":"I see now <@U0Z81GL6S> was publishing from the angrbrd account","thread_ts":"1485382906.001995","parent_user_id":"U13TWBRBL","ts":"1485444516.002025"},{"type":"message","user":"U13TWBRBL","text":"I think it\u2019s preferable to publish this from an account owned by the hyperledger org","thread_ts":"1485382906.001995","parent_user_id":"U13TWBRBL","ts":"1485445081.002027"},{"type":"message","user":"U0XQ35CDD","text":"ry: So, Flickr came out of the chat component of GNE (Game Never Ending), a game that these guys were building. When they left Yahoo!, they went back to finishing that game, and they did. But they never released it --tests showed it wasn't gaining any traction, plus the market was turning away from Flash because of iPhones-- and they were about to dismantle the company, when they realized that this little tool that they had built on the sidelines to help with the development of GNE _could_ be useful to other teams for communications. And ta-da, Slack was born.","thread_ts":"1485384654.002007","parent_user_id":"U0UHG4VP1","ts":"1485446416.002029","reactions":[{"name":"+1","users":["U0YK3KKCY"],"count":1}]},{"type":"message","user":"U0UHG4VP1","text":"ah ha! sorry","thread_ts":"1485384654.002007","parent_user_id":"U0UHG4VP1","ts":"1485446460.002032"},{"type":"message","user":"U0UHG4VP1","text":"yes, I agree. Earlier you had asked for credentials; I had forgotten that hfc 0.6 was published directly","thread_ts":"1485382906.001995","parent_user_id":"U13TWBRBL","ts":"1485446578.002034"},{"type":"message","user":"U0UHG4VP1","text":"is <@U11HH3P7Y> working on this in the \/sandbox\/?","thread_ts":"1485382906.001995","parent_user_id":"U13TWBRBL","ts":"1485446607.002036"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: no","thread_ts":"1485382906.001995","parent_user_id":"U13TWBRBL","ts":"1485446657.002038"},{"type":"message","user":"U0XQ35CDD","text":"(The founder is --naturally-- a pretty sharp guy. This is worth a listen if you're into these sorts of interviews: <http:\/\/www.stitcher.com\/podcast\/panoply\/the-ezra-klein-show\/e\/stewart-butterfield-on-creating-slack-learning-from-games-and-46235774> I liked his thoughts on company culture, and what's next in store for Slack.)","attachments":[{"title":"Stewart Butterfield on creating Slack, learning from games, and finding your online identity from The Ezra Klein Show","title_link":"http:\/\/www.stitcher.com\/podcast\/panoply\/the-ezra-klein-show\/e\/stewart-butterfield-on-creating-slack-learning-from-games-and-46235774","text":"Listen to The Ezra Klein Show episodes free, on demand. If you came by the Vox office, you would find it oddly quiet. That's not because we don't like each other, or because we're not social, or because we don't have anything to say. It's because almost all our communication happens silently, digitally, in Slack.Slack is Stewart Butterfield's creation, and it's the fastest-growing piece on enterprise software in history. But here's the kicker: he didn't mean to create it, just like he didn't mean to create Flickr before it. In both cases, Butterfield was trying to create a new kind of game: immersive, endless, and focused on experiences rather than victories.&amp;nbsp;The story of Butterfield's pivots from the game to Flickr and Slack have become Silicon Valley lore. But in this conversation, we go deep into the part that's always fascinated me: the game Butterfield wanted to create, the reasons he thinks gaming is so important, and the ways in which his philosophy background informs his current work. We also talk a lot about the nature of status, identity, and communication in online spaces, as Butterfield's company is now revolutionizing all three.This is a deep, interesting, and unusual conversation \u2014 we went places I didn't expect, and I left thinking about topics I'd never really considered. Butterfield is as thoughtful as they come, and I hope you get as much out of this as I did.&amp;nbsp;. Listen to over 65,000+ radio shows, podcasts and live radio stations for free on your iPhone, iPad, Android and PC. Discover the best of news, entertainment, comedy, sports and talk radio on demand with Stitcher Radio.","fallback":"Stewart Butterfield on creating Slack, learning from games, and finding your online identity from The Ezra Klein Show","thumb_url":"http:\/\/cloudfront.assets.stitcher.com\/feedimageswide\/480x270_82658.jpg","from_url":"http:\/\/www.stitcher.com\/podcast\/panoply\/the-ezra-klein-show\/e\/stewart-butterfield-on-creating-slack-learning-from-games-and-46235774","thumb_width":480,"thumb_height":270,"service_icon":"http:\/\/www.stitcher.com\/favicon.png","service_name":"stitcher.com","id":1}],"thread_ts":"1485384654.002007","parent_user_id":"U0UHG4VP1","ts":"1485446681.002040","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U11HH3P7Y","text":"I will work with jim on this after noon today..","thread_ts":"1485382906.001995","parent_user_id":"U13TWBRBL","ts":"1485446768.002043"},{"type":"message","user":"U11HH3P7Y","text":"I have demo on multichannel functionality @12:00","thread_ts":"1485382906.001995","parent_user_id":"U13TWBRBL","ts":"1485446787.002045"},{"type":"message","user":"U0UHG4VP1","text":"OK let's pick this up after your demo","thread_ts":"1485382906.001995","parent_user_id":"U13TWBRBL","ts":"1485446881.002047"},{"type":"message","user":"U0UHG4VP1","text":"since I'm a podcast addict, I've downloaded that episode and a couple others. thank you","thread_ts":"1485384654.002007","parent_user_id":"U0UHG4VP1","ts":"1485447121.002049","reactions":[{"name":"+1","users":["U0XQ35CDD"],"count":1}]},{"user":"U3X6RA34J","inviter":"U0UHG4VP1","text":"<@U3X6RA34J|archivebot> has joined the channel","type":"message","subtype":"channel_join","ts":"1485489633.002055"},{"type":"message","user":"U3E300R6Z","text":"how to create own rest api in hyperledger,pl let me know","ts":"1485515835.002059"},{"type":"message","subtype":"file_share","text":"<@U1KDAMDJ7|sanchezl> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/sanchezl\/F3Y5AG1PH\/output_of__make_native_.sh|output of `make native`> and commented: Can't build peer anymore.\nHead at:\n`44afe49 Merge \"Deadcode cleanup: attachstdin\/out in dockercontroller\"`","file":{"id":"F3Y5AG1PH","created":1485532987,"timestamp":1485532987,"name":"output_of__make_native_.sh","title":"output of `make native`","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U1KDAMDJ7","editable":true,"size":549,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3Y5AG1PH\/output_of__make_native_.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3Y5AG1PH\/download\/output_of__make_native_.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/sanchezl\/F3Y5AG1PH\/output_of__make_native_.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3Y5AG1PH-9cf853f332","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/sanchezl\/F3Y5AG1PH\/output_of__make_native_.sh\/edit","preview":"build\/bin\/peer\r\nCGO_CFLAGS=\" \" GOBIN=\/Users\/sanchezl\/Developer\/go\/src\/github.com\/hyperledger\/fabric\/build\/bin go install -ldflags \"-X github.com\/hyperledger\/fabric\/common\/metadata.Version=0.7.0-snapshot-c9f521e\" github.com\/hyperledger\/fabric\/peer\r\n# github.com\/hyperledger\/fabric\/vendor\/github.com\/miekg\/pkcs11\r\nvendor\/github.com\/miekg\/pkcs11\/pkcs11.go:29:10: fatal error: 'ltdl.h' file not found\r\n#include <ltdl.h>\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>build\/bin\/peer<\/pre><\/div>\n<div><pre><span class=\"cm-def\">CGO_CFLAGS<\/span><span class=\"cm-operator\">=<\/span><span class=\"cm-string\">&quot; &quot;<\/span> <span class=\"cm-def\">GOBIN<\/span><span class=\"cm-operator\">=<\/span>\/Users\/sanchezl\/Developer\/go\/src\/github.com\/hyperledger\/fabric\/build\/bin go install <span class=\"cm-attribute\">-ldflags<\/span> <span class=\"cm-string\">&quot;-X github.com\/hyperledger\/fabric\/common\/metadata.Version=0.7.0-snapshot-c9f521e&quot;<\/span> github.com\/hyperledger\/fabric\/peer<\/pre><\/div>\n<div><pre><span class=\"cm-comment\"># github.com\/hyperledger\/fabric\/vendor\/github.com\/miekg\/pkcs11<\/span><\/pre><\/div>\n<div><pre>vendor\/github.com\/miekg\/pkcs11\/pkcs11.go:29:10: fatal error: <span class=\"cm-string\">'ltdl.h'<\/span> file not found<\/pre><\/div>\n<div><pre><span class=\"cm-comment\">#include &lt;ltdl.h&gt;<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":10,"lines_more":5,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":2,"initial_comment":{"id":"Fc3WPUD4KB","created":1485532987,"timestamp":1485532987,"user":"U1KDAMDJ7","is_intro":true,"comment":"Can't build peer anymore.\nHead at:\n`44afe49 Merge \"Deadcode cleanup: attachstdin\/out in dockercontroller\"`","channel":""}},"user":"U1KDAMDJ7","upload":true,"display_as_bot":false,"username":"<@U1KDAMDJ7|sanchezl>","bot_id":null,"ts":"1485532987.002063"},{"type":"message","subtype":"file_comment","text":"<@U1KDAMDJ7|sanchezl> commented on <@U1KDAMDJ7|sanchezl>\u2019s file <https:\/\/hyperledgerproject.slack.com\/files\/sanchezl\/F3Y5AG1PH\/output_of__make_native_.sh|output of `make native`>: Builds in vagrant, not on native macOS.","file":{"id":"F3Y5AG1PH","created":1485532987,"timestamp":1485532987,"name":"output_of__make_native_.sh","title":"output of `make native`","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U1KDAMDJ7","editable":true,"size":549,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3Y5AG1PH\/output_of__make_native_.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3Y5AG1PH\/download\/output_of__make_native_.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/sanchezl\/F3Y5AG1PH\/output_of__make_native_.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3Y5AG1PH-9cf853f332","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/sanchezl\/F3Y5AG1PH\/output_of__make_native_.sh\/edit","preview":"build\/bin\/peer\r\nCGO_CFLAGS=\" \" GOBIN=\/Users\/sanchezl\/Developer\/go\/src\/github.com\/hyperledger\/fabric\/build\/bin go install -ldflags \"-X github.com\/hyperledger\/fabric\/common\/metadata.Version=0.7.0-snapshot-c9f521e\" github.com\/hyperledger\/fabric\/peer\r\n# github.com\/hyperledger\/fabric\/vendor\/github.com\/miekg\/pkcs11\r\nvendor\/github.com\/miekg\/pkcs11\/pkcs11.go:29:10: fatal error: 'ltdl.h' file not found\r\n#include <ltdl.h>\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>build\/bin\/peer<\/pre><\/div>\n<div><pre><span class=\"cm-def\">CGO_CFLAGS<\/span><span class=\"cm-operator\">=<\/span><span class=\"cm-string\">&quot; &quot;<\/span> <span class=\"cm-def\">GOBIN<\/span><span class=\"cm-operator\">=<\/span>\/Users\/sanchezl\/Developer\/go\/src\/github.com\/hyperledger\/fabric\/build\/bin go install <span class=\"cm-attribute\">-ldflags<\/span> <span class=\"cm-string\">&quot;-X github.com\/hyperledger\/fabric\/common\/metadata.Version=0.7.0-snapshot-c9f521e&quot;<\/span> github.com\/hyperledger\/fabric\/peer<\/pre><\/div>\n<div><pre><span class=\"cm-comment\"># github.com\/hyperledger\/fabric\/vendor\/github.com\/miekg\/pkcs11<\/span><\/pre><\/div>\n<div><pre>vendor\/github.com\/miekg\/pkcs11\/pkcs11.go:29:10: fatal error: <span class=\"cm-string\">'ltdl.h'<\/span> file not found<\/pre><\/div>\n<div><pre><span class=\"cm-comment\">#include &lt;ltdl.h&gt;<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":10,"lines_more":5,"preview_is_truncated":false,"channels":["C0YQ1NHGD"],"groups":[],"ims":[],"comments_count":2,"initial_comment":{"id":"Fc3WPUD4KB","created":1485532987,"timestamp":1485532987,"user":"U1KDAMDJ7","is_intro":true,"comment":"Can't build peer anymore.\nHead at:\n`44afe49 Merge \"Deadcode cleanup: attachstdin\/out in dockercontroller\"`","channel":""}},"comment":{"id":"Fc3Y536P9U","created":1485533354,"timestamp":1485533354,"user":"U1KDAMDJ7","is_intro":false,"comment":"Builds in vagrant, not on native macOS.","channel":""},"is_intro":false,"ts":"1485533354.002065"},{"type":"message","user":"U1KDAMDJ7","text":"The fix is `brew install libtool`.","ts":"1485534471.002066"},{"type":"message","user":"U0KPFAZNF","text":"thats odd","ts":"1485540628.002067"},{"type":"message","user":"U0KPFAZNF","text":"I dont think its related to 44afe49","ts":"1485540650.002068"},{"type":"message","user":"U1P1ZV6RF","text":"hi, I am trying to deploy a fabric environment outside of vagrant as per the following guide: <https:\/\/www.ibm.com\/developerworks\/community\/blogs\/8d277a63-4204-4fd3-8cb8-b7cb222cd522\/entry\/Steps_to_setup_Blockchain_Hyperledger_Fabric_0_6_development_environment_on_Ubuntu?lang=en>","attachments":[{"title":"                   Steps to setup Blockchain (Hyperledger Fabric 0.6) development environment on Ubuntu - Bluemix Group Blog - Bluemix Group              ","title_link":"https:\/\/www.ibm.com\/developerworks\/community\/blogs\/8d277a63-4204-4fd3-8cb8-b7cb222cd522\/entry\/Steps_to_setup_Blockchain_Hyperledger_Fabric_0_6_development_environment_on_Ubuntu?lang=en","text":"Find me on: \u00a0 \u00a0 We heard about Blockchain technology and understand its value to business. Here we would want to share our learnings with you all, acquired during setting up a single node Hyperledger blockchain dev environment during a client engagement. This entire installation &amp; configuration takes 120-150 minutes. This blog is co-authored with @Krishna Harsha 310001AW05 and @PriyaVasudevan 270004X6X4 .\u200b If you are new to Blockchain , please visit - <https:\/\/www.ibm.com\/blockchain\/what-is-blockchain.html> and <https:\/\/www.hyperledger.org\/> . If you are a developer and looking for a systematic free online self-learning course ,...","fallback":"                   Steps to setup Blockchain (Hyperledger Fabric 0.6) development environment on Ubuntu - Bluemix Group Blog - Bluemix Group              ","from_url":"https:\/\/www.ibm.com\/developerworks\/community\/blogs\/8d277a63-4204-4fd3-8cb8-b7cb222cd522\/entry\/Steps_to_setup_Blockchain_Hyperledger_Fabric_0_6_development_environment_on_Ubuntu?lang=en","service_icon":"https:\/\/www.ibm.com\/developerworks\/community\/connections\/resources\/web\/com.ibm.oneui3.styles\/imageLibrary\/Icons\/ComponentsGray\/BlogsGray.ico?etag=20150310.220517","service_name":"ibm.com","id":1}],"ts":"1485546256.002072"},{"type":"message","user":"U1P1ZV6RF","text":"but when I run make peer the setup ends with the following error","ts":"1485546274.002074"},{"type":"message","user":"U1P1ZV6RF","text":"CGO_CFLAGS=\" \" GOBIN=\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/build\/bin go install -ldflags \"-X <http:\/\/github.com\/hyperledger\/fabric\/common\/metadata.Version=0.7.0-snapshot-0920c5e|github.com\/hyperledger\/fabric\/common\/metadata.Version=0.7.0-snapshot-0920c5e>\" <http:\/\/github.com\/hyperledger\/fabric\/peer|github.com\/hyperledger\/fabric\/peer>\ncore\/chaincode\/ccproviderimpl.go:20:2: cannot find package \"context\" in any of:\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/vendor\/context (vendor tree)\n\t\/usr\/lib\/go-1.6\/src\/context (from $GOROOT)\n\t\/opt\/gopath\/src\/context (from $GOPATH)\nMakefile:161: recipe for target 'build\/bin\/peer' failed\nmake: *** [build\/bin\/peer] Error 1\nrm build\/image\/javaenv\/Dockerfile build\/image\/ccenv\/Dockerfile\nroot@fabric11:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric#","ts":"1485546286.002075"},{"type":"message","user":"U1P1ZV6RF","text":"any ideas to resolve that are welcome","ts":"1485546308.002076"},{"type":"message","user":"U1P1ZV6RF","text":"<@U1VA3KXND> : it looks like you had this problem. Did you manage to solve it?","ts":"1485546855.002077"},{"user":"U1VA3KXND","inviter":"U1P1ZV6RF","text":"<@U1VA3KXND|mgupta> has joined the channel","type":"message","subtype":"channel_join","ts":"1485546872.002078"},{"type":"message","user":"U1P1ZV6RF","text":"<@U1VA3KXND> : it looks like you had this problem. Did you manage to solve it?","ts":"1485546954.002079"},{"type":"message","user":"U1P1ZV6RF","text":"<@U1VA3KXND> : ^^^","ts":"1485546965.002080"},{"type":"message","user":"U1P1ZV6RF","text":"what is the purpose of unit-tests and behave tests as per the following instruction: <http:\/\/hyperledger-fabric.readthedocs.io\/en\/v0.6\/dev-setup\/build\/> ?","ts":"1485598563.002084"},{"type":"message","user":"U0P2GSA8Z","text":"<@U1P1ZV6RF> to test that your build gave you something that works as expected. Sorry if I'm missing the meaning of your question","ts":"1485716675.002091"},{"type":"message","user":"U0P2GSA8Z","text":"Some tests typically fail just because of timeouts not well suited for your env though","ts":"1485716760.002092"},{"type":"message","user":"U0P2GSA8Z","text":"So don't get too hung up if sonne of those fail","ts":"1485716795.002093"},{"type":"message","user":"U1P1ZV6RF","text":"<@U0P2GSA8Z> : thanks!","ts":"1485719373.002094"},{"type":"message","user":"U1P1ZV6RF","text":"Hi, I deployed peer server version 0.7.0-snapshot-cb46696 with Vagrant. Vagrant deployment was pretty smooth but when I tried to deploy the network with docker-compose and an existing .yml file ( docker-compose-4-consensus-batch.yml in \/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/bddtests) I received the following error message","ts":"1485719468.002095"},{"type":"message","user":"U1P1ZV6RF","text":"ERROR: Version mismatch: file .\/docker-compose-4-consensus-batch.yml specifies version 1 but extension file \/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/bddtests\/compose-defaults.yml uses version 2.0","ts":"1485719475.002096"},{"type":"message","user":"U1P1ZV6RF","text":"any ideas are welcome","ts":"1485719480.002097"},{"type":"message","user":"U1P1ZV6RF","text":"I tried to modify versioning inside yml files, however without success","ts":"1485719989.002098"},{"user":"U3V4G8HUZ","text":"<@U3V4G8HUZ|sagmeister> has joined the channel","type":"message","subtype":"channel_join","ts":"1485787879.002108"},{"user":"U3BH74NH0","text":"<@U3BH74NH0|passkit> has joined the channel","type":"message","subtype":"channel_join","ts":"1485832427.002115"},{"type":"message","user":"U3E300R6Z","text":"Hi, In car lease demo, is the validation of transaction being contribute by all,i.e as all are involved under single transaction or not?","ts":"1485840859.002116"},{"type":"message","user":"U0UKTPMG8","text":"<@U1P1ZV6RF> the purpose of the behave tests is to perform more of an overall system test.  It actually launches networks and then acts on the network, verifying results","ts":"1485875537.002122"},{"type":"message","user":"U0UKTPMG8","text":"it can also be used to boostrap a network rapidly and use if for development purposes (fabric development)","ts":"1485875568.002123"},{"type":"message","user":"U1P1ZV6RF","text":"thanks <@U0UKTPMG8>","ts":"1485890460.002127"},{"type":"message","user":"U0UKTPMG8","text":"yw","ts":"1485890677.002128"},{"type":"message","user":"U1P1ZV6RF","text":"<@U0UKTPMG8> : are you aware of any performance tests made against v 0.6 and 1.0 with pbft\/sieve protos?","ts":"1485891221.002129"},{"type":"message","user":"U1P1ZV6RF","text":"I would like to know about the current performance in terms of tx\/s","ts":"1485891235.002130"},{"type":"message","user":"U0UKTPMG8","text":"<@U1P1ZV6RF> we have not yet reached that phase with 1.0 work, but will post asap","ts":"1485892175.002131"},{"type":"message","user":"U1P1ZV6RF","text":"thnx","ts":"1485892206.002132"},{"user":"U3C075D4H","text":"<@U3C075D4H|smfaizalkhan> has joined the channel","type":"message","subtype":"channel_join","ts":"1485952086.002139"},{"type":"message","user":"U3C075D4H","text":"Hi Guys ,Started to get my hands dirty with HyperLedger","ts":"1485952132.002140"},{"type":"message","user":"U3C075D4H","text":"I have three questions on the Technical aspect of HyperLedger.\n\n1) ChainCode Registraton\n\n2) Member Registration\n\n3) ChainCode in JAVA\n\n ChainCode Registration\n\nI followed the docs at <https:\/\/hyperledger-fabric.readthedocs.io> and installed fabric on Ubuntu.\n\nand was succesful in registering the chaincode with one Validating peer and one memberservice.\n\nI tried to add three more VP to ahceive consensus.\n\nSo now i spun all the containers using docker-compose.yml(PFA) and in the shipyard i saw all the containers are started .\n\nThen i registered the CC using the below command\n\n\"CORE_CHAINCODE_ID_NAME=cscc CORE_PEER_ADDRESS=0.0.0.0:7051 .\/goods_inspection\" \n\nGot a success response as below\n\n\"14:50:11.937 [shim] INFO : error with chaincode log level: logger: invalid log level level= \n14:50:11.937 [shim] DEBU : peerAddress at return point0.0.0.0:8051\n14:50:11.937 [shim] DEBU : Peer address is: 0.0.0.0:8051\n14:50:11.937 [shim] DEBU : peerAddress is not null0.0.0.0:8051\n14:50:11.938 [shim] DEBU : os.Args returns: [.\/goods_inspection]\n14:50:11.938 [shim] DEBU : Registering.. sending REGISTER\n14:50:11.941 [shim] DEBU : []Received message REGISTERED from shim\n14:50:11.943 [shim] DEBU : []Handling ChaincodeMessage of type: REGISTERED(state:created)\n14:50:11.943 [shim] DEBU : Received REGISTERED, ready for invocations\"\n\nThen i deployed the Chaincode in the Shipyard vp0's console using the CLI command\n\n\u201cpeer chaincode deploy \u2013l go \u2013u jim -n cscc -c '{\"Args\": [\"init\", \"a\",\"100\", \"b\", \"200\"]}'\u201d \n \nI got the success response and  expected it to be replicated across other VP\u2019s\n\nTo check it we did the query command on another VP as VP1,VP2  \u201cpeer chaincode query \u2013l java \u2013u jim -n  cscc -c '{\"Args\": [\"query\", \"b\"]}'\u201d\n\nBut I got error  \u201cLedgerError - R esourceNotFound: ledger: resource not found\u201d.\n\nSo to check if  transaction is deployed on other peers(VP1,VP2) ,we check it using curl command and postman from chrome like \n\ncurl <http:\/\/172.16.0.11:7050\/chain>.\n\nCount is increased, but when tried to query the same the same error as \u201cLedgerError - R esourceNotFound: ledger: resource not found\u201d.\n\nBut when i register the chaincode in two nodes and register it using the below command.\n\n\"CORE_CHAINCODE_ID_NAME=cscc CORE_PEER_ADDRESS=0.0.0.0:7051 .\/goods_inspection\" \n\"CORE_CHAINCODE_ID_NAME=cscc CORE_PEER_ADDRESS=0.0.0.0:8051 .\/goods_inspection\" \nand mapping ports in docker-compose.yaml\nas\n- \"7051:7051\" for vp0\n- \"8051:7051\" for vp1","attachments":[{"title":"Hyperledger Fabric","title_link":"https:\/\/hyperledger-fabric.readthedocs.io","text":"Welcome to the Hyperledger fabric documentation","fallback":"Hyperledger Fabric","from_url":"https:\/\/hyperledger-fabric.readthedocs.io","service_icon":"https:\/\/hyperledger-fabric.readthedocs.io\/favicon.ico","service_name":"hyperledger-fabric.readthedocs.io","id":1}],"ts":"1485952191.002141"},{"type":"message","user":"U3C075D4H","text":"I noted the chaincode registration is done on two VP's and able to query the same .I dont get the \"Resource not found Error\"","ts":"1485952192.002142"},{"type":"message","user":"U3C075D4H","text":"Please clarify","ts":"1485952199.002143"},{"type":"message","user":"U3C075D4H","text":"I have three questions on the Technical aspect of HyperLedger.\n\n1) ChainCode Registraton\n\n2) Member Registration\n\n3) ChainCode in JAVA\n\nChainCode Registration\n\nI followed the docs at <https:\/\/hyperledger-fabric.readthedocs.io>  and installed fabric on Ubuntu.\n\nand was succesful in registering the chaincode with one Validating peer and one memberservice.\n\nI tried to add three more VP to ahceive consensus.\n\nSo now i spun all the containers using docker-compose.yml(PFA) and in the shipyard i saw all the containers are started .\n\nThen i registered the CC using the below command\n\n\"CORE_CHAINCODE_ID_NAME=cscc CORE_PEER_ADDRESS=0.0.0.0:7051 .\/goods_inspection\"\n\nGot a success response as below\n\n\"14:50:11.937 [shim] INFO : error with chaincode log level: logger: invalid log level level= \n14:50:11.937 [shim] DEBU : peerAddress at return point0.0.0.0:8051\n14:50:11.937 [shim] DEBU : Peer address is: 0.0.0.0:8051\n14:50:11.937 [shim] DEBU : peerAddress is not null0.0.0.0:8051\n14:50:11.938 [shim] DEBU : os.Args returns: [.\/goods_inspection]\n14:50:11.938 [shim] DEBU : Registering.. sending REGISTER\n14:50:11.941 [shim] DEBU : []Received message REGISTERED from shim\n14:50:11.943 [shim] DEBU : []Handling ChaincodeMessage of type: REGISTERED(state:created)\n14:50:11.943 [shim] DEBU : Received REGISTERED, ready for invocations\"\n\nThen i deployed the Chaincode in the Shipyard vp0's console using the CLI command\n\n\u201cpeer chaincode deploy \u2013l go \u2013u jim -n cscc -c '{\"Args\": [\"init\", \"a\",\"100\", \"b\", \"200\"]}'\u201d \n\nI got the success response and  expected it to be replicated across other VP\u2019s\n\nTo check it we did the query command on another VP as VP1,VP2  \u201cpeer chaincode query \u2013l java \u2013u jim -n  cscc -c '{\"Args\": [\"query\", \"b\"]}'\u201d\n\nBut I got error  \u201cLedgerError - R esourceNotFound: ledger: resource not found\u201d.\n\nSo to check if  transaction is deployed on other peers(VP1,VP2) ,we check it using curl command and postman from chrome like\n\ncurl <http:\/\/172.16.0.11:7050\/chain>.\n\nCount is increased, but when tried to query the same the same error as \u201cLedgerError - R esourceNotFound: ledger: resource not found\u201d.\n\nBut when i register the chaincode in two nodes and register it using the below command.\n\n\"CORE_CHAINCODE_ID_NAME=cscc CORE_PEER_ADDRESS=0.0.0.0:7051 .\/goods_inspection\" \n\"CORE_CHAINCODE_ID_NAME=cscc CORE_PEER_ADDRESS=0.0.0.0:8051 .\/goods_inspection\" \nand mapping ports in docker-compose.yaml\nas\n- \"7051:7051\" for vp0\n- \"8051:7051\" for vp1","ts":"1485952260.002145"},{"type":"message","user":"U3C075D4H","text":"I noted the chaincode registration is done on two VP's and able to query the same .I dont get the \"Resource not found Error\"\n\n[4:29]  \nPlease clarify","ts":"1485952261.002146"},{"type":"message","user":"U3C075D4H","text":"Also im using a NOOPS and have two vp's","ts":"1485952293.002147"},{"type":"message","user":"U3C075D4H","text":"docker-compose.yamlmembersrvc:\n  image: hyperledger\/fabric-membersrvc\n  ports:\n    - \"7054:7054\"\n  command: membersrvc\nvp0:\n  image: hyperledger\/fabric-peer\n  ports:    \n    - \"7051:7051\"   \n  environment:\n    - CORE_PEER_ADDRESSAUTODETECT=true\n    - CORE_VM_ENDPOINT=unix:\/\/\/var\/run\/docker.sock\n    - CORE_LOGGING_LEVEL=INFO\n    - CORE_PEER_ID=vp0\n    - CORE_PEER_PKI_ECA_PADDR=membersrvc:7054\n    - CORE_PEER_PKI_TCA_PADDR=membersrvc:7054\n    - CORE_PEER_PKI_TLSCA_PADDR=membersrvc:7054\n    - CORE_SECURITY_ENABLED=true\n    - CORE_SECURITY_ENROLLID=test_vp0\n    - CORE_SECURITY_ENROLLSECRET=MwYpmSRjupbT\n  links:\n    - membersrvc\n  command: sh -c \"sleep 5; peer node start --peer-chaincodedev\"\nvp1:  \n  image: hyperledger\/fabric-peer\n  ports:    \n    - \"8051:7051\"\n  environment:\n    - CORE_PEER_ADDRESSAUTODETECT=true\n    - CORE_VM_ENDPOINT=unix:\/\/\/var\/run\/docker.sock\n    - CORE_LOGGING_LEVEL=DEBUG\n    - CORE_PEER_ID=vp1\n    - DEPLOY_MODE=dev\n    - CORE_PEER_PKI_ECA_PADDR=membersrvc:7054\n    - CORE_PEER_PKI_TCA_PADDR=membersrvc:7054\n    - CORE_PEER_PKI_TLSCA_PADDR=membersrvc:7054\n    - CORE_SECURITY_ENABLED=true\n    - CORE_SECURITY_ENROLLID=test_vp1  \n    - CORE_PEER_DISCOVERY_ROOTNODE=vp0:7051\n    - CORE_SECURITY_ENROLLSECRET=5wgHK9qqYaPy\n  links:\n    - membersrvc\n    - vp0\n  command: sh -c \"sleep 5; peer node start --peer-chaincodedev\"","ts":"1485952320.002148"},{"user":"U3BU07SN7","text":"<@U3BU07SN7|karkal72> has joined the channel","type":"message","subtype":"channel_join","ts":"1485994044.002155"},{"user":"U3WM9K85R","text":"<@U3WM9K85R|mbaizan> has joined the channel","type":"message","subtype":"channel_join","ts":"1486021147.002159"},{"user":"U3FPBMWTA","text":"<@U3FPBMWTA|meraki> has joined the channel","type":"message","subtype":"channel_join","ts":"1486059379.002164"},{"user":"U34T14JJH","text":"<@U34T14JJH|subaru365> has joined the channel","type":"message","subtype":"channel_join","ts":"1486092908.002171"},{"type":"message","user":"U3C075D4H","text":"Guys,Please Help me out","ts":"1486114752.002175"},{"user":"U1JHA4NP9","text":"<@U1JHA4NP9|gbolo> has joined the channel","type":"message","subtype":"channel_join","ts":"1486137121.002179"},{"user":"U3NCSU999","text":"<@U3NCSU999|hl.rose> has joined the channel","type":"message","subtype":"channel_join","ts":"1486139001.002180"},{"user":"U13TWBRBL","text":"<@U13TWBRBL|jzhang> has left the channel","type":"message","subtype":"channel_leave","ts":"1486151774.002184"},{"type":"message","user":"U3C075D4H","text":"Thanks mkabanau ,Will try it and share it","ts":"1486211438.002191"},{"type":"message","user":"U3C075D4H","text":"By the sorry for posting questions in general forum","ts":"1486211452.002192"},{"type":"message","user":"U3C075D4H","text":"Hello All,\n\nSome please advise how to give the path paramter to my local system during deploy.\nBcoz my localpath is not shown in the docker console when i give the ls command,but the file actually exits in the folder.Please help me out","ts":"1486366807.002210"},{"user":"U4091RGRJ","inviter":"U0UHG4VP1","text":"<@U4091RGRJ|rocket.chat> has joined the channel","type":"message","subtype":"channel_join","ts":"1486397483.002211"},{"type":"message","user":"U3E300R6Z","text":"can I get any POC working with hyperledger\n\nany demo excluding IBM marbles,car lease","ts":"1486458084.002217"},{"user":"U42NSU99U","text":"<@U42NSU99U|icedeer> has joined the channel","type":"message","subtype":"channel_join","ts":"1486479400.002221"},{"type":"message","user":"U0UHG4VP1","text":"please migrate to <https:\/\/chat.hyperledger.org>","ts":"1486490363.002222"},{"user":"U0UHG4VP1","members":["U0J5URUJU","U0KM61BCP","U0KN2SSKE","U0KPFAZNF","U0KQ9QKH6","U0KRRM29Z","U0LBXH9S4","U0M28HM6J","U0MM86C84","U0MRY2LKY","U0MS3TK2A","U0MTAMEN4","U0MUSGY5N","U0N0GDVJ5","U0N1D1UAE","U0N1K6Z0X","U0N20TJUA","U0N25BLQH","U0N9SUW82","U0NCW1DPX","U0NLZCF8V","U0P0H8NL8","U0P1VU0QG","U0P2GSA8Z","U0P2R5BEZ","U0P75RFT4","U0PB67X4K","U0PTU8XN3","U0PV6MUD6","U0Q6BA1EU","U0Q6DJC4W","U0QUNGLJK","U0RD1ALMV","U0S5KF44D","U0TFEHX8E","U0TH5GUQ6","U0U2AJURZ","U0UGH3X7X","U0UHG4VP1","U0UKTPMG8","U0ULK2JPP","U0ULX737C","U0W7D64LC","U0XNB1QNA","U0XPR4NP4","U0XQ35CDD","U0XRC0KLH","U0XV1HDL3","U0Y55KNG2","U0Y671PMK","U0Y6AUDST","U0YATJ18S","U0YJUECE8","U0YK3KKCY","U0YM41HA5","U0YP7KFGQ","U0YQK8WSV","U0YTUU2T0","U0Z3BE0F5","U0Z41KY5V","U0Z541B3P","U0Z68F4HE","U0Z6EEJ69","U0Z6VMEER","U0ZHVB1UP","U0ZJZBJLF","U0ZMB7ZEJ","U0ZR63HLK","U106SFX62","U10LM0FFZ","U10MVHVHQ","U10PD21K7","U10Q62R8X","U10U4K6JC","U115YGEH1","U11BP64LD","U11C7DZU5","U11EUGQF3","U11HH3P7Y","U11HTMW0H","U11L89VHU","U11MANG9G","U11NUTP4L","U11Q02ZKL","U11QFV44X","U11RE3ZUG","U11TAFPUP","U123PQHLN","U12452RAP","U1296EA0M","U12AHQ3NK","U12V3D2P2","U130QV7RB","U137A6LBE","U138W4A1F","U139XHJCB","U13DAL5V5","U13JUH485","U13Q594J2","U13R9RGF6","U143JUETY","U14NC480K","U14REU524","U14S06MT7","U150L8BDF","U15KME666","U16NAHH8U","U16NDNH08","U173QDB0W","U1751P7U4","U17CZFXGU","U1802P5D3","U18A8DC8Y","U18UG9K9S","U190439J6","U196R0LA2","U197CR6BF","U1A0HTWCX","U1A62D6F6","U1AU8DRQR","U1B2FF8LR","U1B9E51R8","U1BA8SSTG","U1BENKMD0","U1BLB3EFQ","U1CK6522F","U1CLP9CQ4","U1CPB11D0","U1CS08EP3","U1D5P2DHD","U1D89DP47","U1D9R3WAX","U1DFU0M32","U1E795PLG","U1EE1TRQE","U1EEGQARJ","U1ENXTQRL","U1ES70KQS","U1F3CQ2HX","U1FEUAG9E","U1FU2880L","U1G3WJ740","U1GNP6E7N","U1JHA4NP9","U1JJ64P53","U1JT2LQJH","U1K0ADU82","U1K869J4W","U1K9Z03DY","U1KASSN2F","U1KDAMDJ7","U1KFBBWG1","U1KFCPFQA","U1LAC3ABE","U1LP4T69E","U1M9R3C8Z","U1MA81VBK","U1MJ9SRF0","U1MNES6NR","U1N4KNWP2","U1NBM7NHH","U1NGC2X9D","U1NV7GPM5","U1P1ZV6RF","U1PJBPWV8","U1PT9H68Z","U1QTD4ZNU","U1S0JCAN4","U1SDMQWER","U1SDX7EQZ","U1SLE9PJN","U1T2X90HG","U1T7KJH9P","U1TMQDYKE","U1U7BR1KP","U1V6SJ1FF","U1VA3KXND","U1VG8LNP3","U1WMX1P71","U1WUAQJVC","U1XL70KHB","U1XMKU015","U1Y4P0HM4","U20T0R475","U216ML5MM","U231RFLFP","U231ZGXDG","U2368MLAW","U23GLSTS4","U23JFU108","U23RZ2M4N","U23S3DPFY","U24J6JYVC","U24M29R4G","U25DG7QQ2","U268EB76W","U26BX6S3B","U276997LP","U27R5GUR2","U2A5NPBQ9","U2B4QU7U3","U2C55KE65","U2C7X84GH","U2CC1NDT2","U2CSGKHRS","U2CSLPV1Q","U2D4VTF5M","U2DHRR4TE","U2E523QBX","U2GEGKXJA","U2HSRQXGQ","U2J75ESJ0","U2JCD7N7R","U2KBRUPL2","U2M3WV6CA","U2MLMERFD","U2N8F32KZ","U2NDE1ZCK","U2NG5AX0A","U2NNLN56V","U2PE37K3J","U2PRDHT9U","U2Q0HP4HY","U2SCJN8F6","U2SN3M334","U2TD4Q7NW","U2UT57Y6Q","U2W6ZESRH","U2W7U5UA3","U2WAP0R6J","U2YB2R2R1","U2Z3ABG7N","U2Z3FNF2N","U2ZNC3PKN","U30F89FEG","U31M2620Z","U3255JG20","U32LDD9JA","U32ND8W73","U34PK9N8L","U34T14JJH","U350X8JMD","U353QR7G9","U35EMQWK1","U35FGUMN0","U36UDC6RK","U37F5PG64","U38JCNW5V","U3A83MMK5","U3AAY7PPX","U3BH74NH0","U3BKMJZTK","U3BRW6LH5","U3BSMKS21","U3BU07SN7","U3C075D4H","U3C4XA6G2","U3CMVMBRS","U3CPS8X62","U3DB4L15G","U3DMRHFJ4","U3E300R6Z","U3E673SQL","U3ENCLLUA","U3FPBMWTA","U3FUEPPF1","U3GLPV06R","U3HA37S67","U3HJVAXST","U3HN4GFA9","U3J48LFUG","U3JEYDAMQ","U3LU3AQM8","U3MB5BH42","U3MBKT8UF","U3NCSU999","U3V4G8HUZ","U3WM9K85R","U3X6RA34J","U4091RGRJ","U42NSU99U"],"text":"<@U0UHG4VP1|ry> archived the channel (w\/ 281 members)","type":"message","subtype":"channel_archive","ts":"1486490371.002223"}]