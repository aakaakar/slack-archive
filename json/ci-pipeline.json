[{"user":"U0KM61BCP","type":"message","subtype":"channel_join","text":"<@U0KM61BCP|cbf> has joined the channel","ts":"1460033197.000002"},{"user":"U0KM61BCP","purpose":"ci-pipeline technical discussion","type":"message","subtype":"channel_purpose","text":"<@U0KM61BCP|cbf> set the channel purpose: ci-pipeline technical discussion","ts":"1460033197.000003"},{"user":"U0NM25NQ3","inviter":"U0KM61BCP","type":"message","subtype":"channel_join","text":"<@U0NM25NQ3|kobigurk> has joined the channel","ts":"1460033198.000004"},{"user":"U0YATJ18S","inviter":"U0KM61BCP","type":"message","subtype":"channel_join","text":"<@U0YATJ18S|dileban> has joined the channel","ts":"1460033244.000005"},{"user":"U0YNFB22X","type":"message","subtype":"channel_join","text":"<@U0YNFB22X|satheesh> has joined the channel","ts":"1460037012.000006"},{"user":"U0J025UP9","type":"message","subtype":"channel_join","text":"<@U0J025UP9|mdolan> has joined the channel","ts":"1460038267.000007"},{"user":"U0MUSGY5N","type":"message","subtype":"channel_join","text":"<@U0MUSGY5N|ethertyper> has joined the channel","ts":"1460039079.000008"},{"user":"U0YQK8WSV","type":"message","subtype":"channel_join","text":"<@U0YQK8WSV|pvishnum> has joined the channel","ts":"1460039946.000009"},{"user":"U0QUNGLJK","type":"message","subtype":"channel_join","text":"<@U0QUNGLJK|shemnon> has joined the channel","ts":"1460040717.000010"},{"user":"U0N1K6Z0X","type":"message","subtype":"channel_join","text":"<@U0N1K6Z0X|georglink> has joined the channel","ts":"1460044228.000011"},{"user":"U0YRACW1X","type":"message","subtype":"channel_join","text":"<@U0YRACW1X|vaniprasad_dtcc> has joined the channel","ts":"1460044612.000012"},{"user":"U0YS0MWP3","type":"message","subtype":"channel_join","text":"<@U0YS0MWP3|dan-z> has joined the channel","ts":"1460047825.000013"},{"user":"U0Q6BA1EU","type":"message","subtype":"channel_join","text":"<@U0Q6BA1EU|bobbiejc> has joined the channel","ts":"1460052776.000014"},{"type":"message","user":"U0KM61BCP","text":"starting a list of thoughts","ts":"1460061666.000015"},{"type":"message","user":"U0KM61BCP","text":"the IBM team had been using travisci","ts":"1460061933.000016"},{"type":"message","user":"U0KM61BCP","text":"I believe I understood Steve Westmoreland to say that the LF team has both Travis and Jenkins experience. It may be ideal to start with travisci and then pivot if we have issues","ts":"1460062053.000017"},{"type":"message","user":"U0KM61BCP","text":"my understanding is that when the repository was moved, obviously the webhooks and so forth need to be changed","edited":{"user":"U0KM61BCP","ts":"1460062406.000000"},"ts":"1460062395.000018"},{"user":"U0W7D64LC","type":"message","subtype":"channel_join","text":"<@U0W7D64LC|markparz> has joined the channel","ts":"1460062404.000019"},{"user":"U0NCW1DPX","type":"message","subtype":"channel_join","text":"<@U0NCW1DPX|gengjh> has joined the channel","ts":"1460074391.000021"},{"type":"message","user":"U0YATJ18S","text":"Here are a few additional thoughts:\n\n1. Perhaps changing the name of this channel to devops-pipeline\n2. Figure out a good process for release management\n    - Frequent minor releases, with effective use of git tags to make it easier to provide stable releases to the community.\n    - Use conventions such as 'RC's to tag progress appropriately.\n3. Build, tag and push docker images to an appropriate registry service.\n    - Maintain a clear correspondence between git tags and docker image tags\n4. Deployment methods we'd like to support:\n    - Docker compose\n    - Ansible\/chef scripts\n5. Automated testing\n    - Which cloud service do we use?\n    - Integration test strategies for the network\n\t   - What else should we cover beyond what we already do today?","ts":"1460075433.000022"},{"user":"U0Y6AUDST","type":"message","subtype":"channel_join","text":"<@U0Y6AUDST|rgupta1> has joined the channel","ts":"1460075619.000023"},{"user":"U0N0GDVJ5","type":"message","subtype":"channel_join","text":"<@U0N0GDVJ5|nick> has joined the channel","ts":"1460084434.000024"},{"user":"U0Z541B3P","type":"message","subtype":"channel_join","text":"<@U0Z541B3P|manish-sethi> has joined the channel","ts":"1460127921.000025"},{"type":"message","user":"U0NCW1DPX","text":"I think the good reference of the CI\/CD process and release management is OpenStack,  they are using gerrit, jenkins, launchpad, zuul(pipeline management to manage jenkins build and code merge), jenkins job builder and etc as I know which are very professional.","ts":"1460129404.000026"},{"user":"U0Z68F4HE","type":"message","subtype":"channel_join","text":"<@U0Z68F4HE|toddsjsimmer> has joined the channel","ts":"1460134586.000027"},{"user":"U0MM86C84","type":"message","subtype":"channel_join","text":"<@U0MM86C84|novusopt> has joined the channel","ts":"1460135162.000028"},{"user":"U0Z6EEJ69","type":"message","subtype":"channel_join","text":"<@U0Z6EEJ69|keoja> has joined the channel","ts":"1460135204.000029"},{"user":"U0Z91VBGQ","type":"message","subtype":"channel_join","text":"<@U0Z91VBGQ|gliptak> has joined the channel","ts":"1460154458.000030"},{"type":"message","user":"U0Z91VBGQ","text":"I would like to offer a hand (in particular with Jenkins, Travis, Docker, Chef)","ts":"1460154612.000031"},{"user":"U0YTUU2T0","type":"message","subtype":"channel_join","text":"<@U0YTUU2T0|paulojrmoreira> has joined the channel","ts":"1460325236.000032"},{"user":"U0P75RFT4","type":"message","subtype":"channel_join","text":"<@U0P75RFT4|tim.blankers> has joined the channel","ts":"1460358752.000033"},{"user":"U0ZHVB1UP","type":"message","subtype":"channel_join","text":"<@U0ZHVB1UP|akakoudakis> has joined the channel","ts":"1460368607.000034"},{"user":"U0ZMB7ZEJ","type":"message","subtype":"channel_join","text":"<@U0ZMB7ZEJ|jatinderbali> has joined the channel","ts":"1460394694.000035"},{"user":"U0S5KF44D","type":"message","subtype":"channel_join","text":"<@U0S5KF44D|keithsmith> has joined the channel","ts":"1460407479.000036"},{"user":"U0NJ88VF0","type":"message","subtype":"channel_join","text":"<@U0NJ88VF0|monster> has joined the channel","ts":"1460439366.000037"},{"type":"message","user":"U0NJ88VF0","text":"I have been maintaining the CI process using travis, jenkin, git, and ansible for our startup and would be happy to offer my services, if needed","edited":{"user":"U0NJ88VF0","ts":"1460439535.000000"},"ts":"1460439487.000038"},{"user":"U0N25BLQH","type":"message","subtype":"channel_join","text":"<@U0N25BLQH|carmania> has joined the channel","ts":"1460454493.000040"},{"user":"U0Q6DJC4W","type":"message","subtype":"channel_join","text":"<@U0Q6DJC4W|webdaford> has joined the channel","ts":"1460476452.000041"},{"type":"message","user":"U0NCW1DPX","text":"<!here>: have any progress on the CI environment setup? I want to contribute something here ","ts":"1460505259.000042"},{"user":"U0XNB1QNA","type":"message","subtype":"channel_join","text":"<@U0XNB1QNA|davidcosta> has joined the channel","ts":"1460625533.000043"},{"user":"U0UFDAS91","type":"message","subtype":"channel_join","text":"<@U0UFDAS91|christophera> has joined the channel","ts":"1460655033.000044"},{"user":"U10P06F6G","type":"message","subtype":"channel_join","text":"<@U10P06F6G|kevinfs> has joined the channel","ts":"1460655194.000045"},{"user":"U0N20TJUA","type":"message","subtype":"channel_join","text":"<@U0N20TJUA|guruprasath> has joined the channel","ts":"1460658741.000046"},{"user":"U0ULX737C","type":"message","subtype":"channel_join","text":"<@U0ULX737C|vipinb> has joined the channel","ts":"1460683896.000047"},{"user":"U10U36Y4F","type":"message","subtype":"channel_join","text":"<@U10U36Y4F|hmchen> has joined the channel","ts":"1460701718.000048"},{"user":"U10UX43K6","type":"message","subtype":"channel_join","text":"<@U10UX43K6|nicholas> has joined the channel","ts":"1460712105.000049"},{"type":"message","user":"U0KM61BCP","text":"<@U0YATJ18S>: good thoughts! thanks","ts":"1460714745.000050"},{"type":"message","user":"U0KM61BCP","text":"also, we need the LF DCO check bot added (better than the toy I wrote)","ts":"1460714771.000051"},{"type":"message","user":"U0KM61BCP","text":"we should add a linter <https:\/\/github.com\/golang\/lint>","attachments":[{"service_name":"GitHub","title":"golang\/lint","title_link":"https:\/\/github.com\/golang\/lint","text":"This is a linter for Go source code.","fallback":"GitHub: golang\/lint","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/4314092?v=3&s=400","from_url":"https:\/\/github.com\/golang\/lint","thumb_width":400,"thumb_height":400,"id":1}],"ts":"1460714899.000052"},{"user":"U0P1VU0QG","type":"message","subtype":"channel_join","text":"<@U0P1VU0QG|ikruiper> has joined the channel","ts":"1460714931.000054"},{"type":"message","user":"U0KM61BCP","text":"also <https:\/\/golang.org\/cmd\/vet\/>","ts":"1460715043.000055"},{"type":"message","user":"U0KM61BCP","text":"we need Gerritt installed and configured - my preference for two maintainers giving +2 may need to wait until we have more maintainers","ts":"1460715137.000056"},{"type":"message","user":"U0KM61BCP","text":"slack intergration with gerritt travisci, etc","ts":"1460715192.000057"},{"type":"message","user":"U0KM61BCP","text":"would be good to have slack short-hand for issues and PRs for the hyperledger repos - eg fabric\/1010 could designate PR 1010 in fabric repo and create a link to <https:\/\/github.com\/hyperledger\/fabric\/pull\/1010>","attachments":[{"service_name":"GitHub","title":"Remove and replace openchain by binhn \u00b7 Pull Request #1010 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1010","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/docs.google.com\/document\/d\/1XECRVN9hXGrjAjysrnuNSdggzAKYm6XESR6KmABwhkE>. Information on what Incubation entails can be found in the Hyperledger Project Lifecycle document (<https:\/\/github.com\/hyperledger\/hyperledger\/wiki\/Project-Lifecycle>)","fallback":"GitHub: Remove and replace openchain by binhn \u00b7 Pull Request #1010 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars0.githubusercontent.com\/u\/3342057?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1010","thumb_width":400,"thumb_height":400,"id":1}],"ts":"1460715359.000058"},{"type":"message","user":"U0KM61BCP","text":"this is interesting, but not sure that it\u2019ll work with Gerritt","ts":"1460743862.000060"},{"type":"message","user":"U0KM61BCP","text":"<https:\/\/www.gitpup.io\/>","attachments":[{"title":"Gitpup","title_link":"https:\/\/www.gitpup.io\/","text":"Gitpup helps development teams track their code review process and encourages developers by awarding Karma for engaging in code reviews","fallback":"Gitpup","from_url":"https:\/\/www.gitpup.io\/","id":1}],"ts":"1460743864.000061"},{"type":"message","user":"U0KM61BCP","text":"I\u2019m still looking for a slack\/git integration that can list issues and pull requests","ts":"1460743888.000063"},{"user":"U10PD21K7","type":"message","subtype":"channel_join","text":"<@U10PD21K7|ajlopez> has joined the channel","ts":"1460757897.000064"},{"type":"message","user":"U0N25BLQH","text":"<@U0KM61BCP>: is this something along the lines of what you had in mind for the Slack\/Git integration?","ts":"1460762493.000065"},{"type":"message","user":"U0N25BLQH","text":"<http:\/\/cloudmark.github.io\/Hubot\/>","attachments":[{"title":"Slack! Hubot! Github!","title_link":"http:\/\/cloudmark.github.io\/Hubot\/","text":"At SuprNation we are using Slack as our primary communication tool. Slack is great, it has great search capabilities, allows rich messaging and most of all is able to integrate with other software components e.g. integrate Jenkins to post build updates to a slack channel. In this post we will integrate Slack with Hubot. Hubot is a virtual bot which will login to slack and provide some awesome and fun features e.g. automate deployment, language translation, integration with Google Maps, react to comments by posting an image from Imgr and so on. There are various scripts which you can add-on to hubot but the fun really starts when you create your own scripts to automate some of your own processes. Apart from our Slack integration with Hubot we will also create a plugin which integrates with GitHub to illustrate this idea.","fallback":"Slack! Hubot! Github!","image_url":"http:\/\/cloudmark.github.io\/images\/hubot.jpg","from_url":"http:\/\/cloudmark.github.io\/Hubot\/","image_width":250,"image_height":250,"image_bytes":97278,"id":1}],"ts":"1460762496.000066"},{"type":"message","user":"U0KM61BCP","text":"<@U0N25BLQH>: yes, was just playing with that... needs some additional integration to be able to write to github","ts":"1460764018.000068"},{"type":"message","user":"U0N25BLQH","text":"Looks neat with the possibility to extend for other purposes.","ts":"1460764223.000069"},{"type":"message","user":"U0NCW1DPX","text":"<@U0KM61BCP>,  this is pretty cool <https:\/\/waffle.io>, which can show the github issues and PR in real time.","attachments":[{"service_name":"waffle.io","title":"Waffle.io \u00b7 Work Better on GitHub Issues","title_link":"https:\/\/waffle.io","text":"GitHub-powered work tracking for teams and open source.","fallback":"waffle.io: Waffle.io \u00b7 Work Better on GitHub Issues","image_url":"https:\/\/www.waffle.io\/resources\/images\/waffle-yellow-on-blue.png","from_url":"https:\/\/waffle.io","image_width":250,"image_height":250,"image_bytes":14172,"id":1}],"ts":"1460801634.000070"},{"type":"message","user":"U0KM61BCP","text":"yes, we evaluated that at IBM and ended up preferring Zenhub (which we had been using for openblockchain, before we migrated the repository to hyperledger) <https:\/\/www.zenhub.io\/>","attachments":[{"service_name":"ZenHub","title":"ZenHub.io","title_link":"https:\/\/www.zenhub.io\/","text":"Supercharge your GitHub workflow! ZenHub keeps your team lean and agile with features built specifically for fast-moving engineering teams, high-impact startups, and the open-source community.","fallback":"ZenHub: ZenHub.io","from_url":"https:\/\/www.zenhub.io\/","id":1}],"ts":"1460806512.000072"},{"user":"U11BP64LD","type":"message","subtype":"channel_join","text":"<@U11BP64LD|nathonline> has joined the channel","ts":"1460916472.000002"},{"type":"message","user":"U0KM61BCP","text":"I played around with hubot this weekend, and have developed something that we could use to integrate slack and github (in addition to the github plugin that Slack provides out of the box). I used <http:\/\/bluemix.net|bluemix.net> to deploy the bot. It needs a Slack API token, a Github API token and we\u2019ll probably want to get a Bluemix account to deploy this and any other bots unless we want to establish something that LF hosts (but then we have a bit more work to do to set up HA and fail-over, etc. that Bluemix (Cloud Foundry) provides out of the box. I will inquire about getting a pro bono account. I\u2019ll also put together complete deploy instructions.","ts":"1460923305.000003"},{"type":"message","user":"U0KM61BCP","text":"<!channel>: <@U0J038AJK> has kindly set up a call with the LF infrastructure team, in lieu of the F2F we were trying to plan. The call will follow the <#C0LV5TUN4> call this tThursday. Here are the specifics: \n\nThursday (4\/21) 8:30am - 10:00am PT (directly after the TSC call)\nPlease join my meeting from your computer, tablet or smartphone.\n<https:\/\/www.gotomeeting.com\/join\/372302869>\n\nYou can also dial in using your phone.\n\nUnited States (toll-free): 1 866 899 4679\nUnited States: <tel:+1(224)501-3318|+1 (224) 501-3318>\n\nAccess Code: 372-302-869","ts":"1461007378.000004"},{"user":"U11MANG9G","type":"message","subtype":"channel_join","text":"<@U11MANG9G|jonathanlevi> has joined the channel","ts":"1461015028.000005"},{"type":"message","user":"U0NCW1DPX","text":"The time is too late for me. Please post the meeting minutes here if you can, thx","ts":"1461019278.000006"},{"type":"message","user":"U0KM61BCP","text":"<@U0NCW1DPX>: we most certainly will","ts":"1461066856.000007"},{"user":"U11TAFPUP","type":"message","subtype":"channel_join","text":"<@U11TAFPUP|joseph> has joined the channel","ts":"1461077022.000008"},{"user":"U0TFEHX8E","type":"message","subtype":"channel_join","text":"<@U0TFEHX8E|sheehan> has joined the channel","ts":"1461091237.000009"},{"user":"U12CQUQLU","type":"message","subtype":"channel_join","text":"<@U12CQUQLU|davids> has joined the channel","ts":"1461188410.000010"},{"user":"U0J5URUJU","type":"message","subtype":"channel_join","text":"<@U0J5URUJU|nycnewman> has joined the channel","ts":"1461202410.000011"},{"type":"message","user":"U0KM61BCP","text":"<!channel>: a reminder Thursday (4\/21) 8:30am - 10:00am PT (directly after the TSC call)\nPlease join my meeting from your computer, tablet or smartphone.\n<https:\/\/www.gotomeeting.com\/join\/372302869>\n\nYou can also dial in using your phone.\n\nUnited States (toll-free): 1 866 899 4679\nUnited States: <tel:+1(224)501-3318|+1 (224) 501-3318>\n\nAccess Code: 372-302-869","ts":"1461251156.000012"},{"user":"U0KM0C3M3","type":"message","subtype":"channel_join","text":"<@U0KM0C3M3|jamie.steiner> has joined the channel","ts":"1461385275.000013"},{"user":"U13DAL5V5","type":"message","subtype":"channel_join","text":"<@U13DAL5V5|wimtobback> has joined the channel","ts":"1461584254.000014"},{"user":"U13JUH485","type":"message","subtype":"channel_join","text":"<@U13JUH485|fabio> has joined the channel","ts":"1461617636.000015"},{"user":"U0N6V6E67","type":"message","subtype":"channel_join","text":"<@U0N6V6E67|gpartha> has joined the channel","ts":"1461653638.000016"},{"type":"message","user":"U0KM61BCP","text":"so, never really documented the call we had 4\/21 following the TSC call\u2026","ts":"1461799303.000017"},{"type":"message","user":"U0KM61BCP","text":"It is pretty clear that we should transition to using Gerritt to manage reviews and Jenkins for CI","ts":"1461799330.000018"},{"type":"message","user":"U0KM61BCP","text":"this has broader implications as transitioning to Gerritt in particular will mean the following:","ts":"1461799363.000019"},{"type":"message","user":"U0KM61BCP","text":"1. we\u2019ll lose commit history because the approach that LF requires is that we squash all past commits and make a single PR with a DCO signoff so that we can manage the DCO with certainty","ts":"1461799432.000020"},{"type":"message","user":"U0KM61BCP","text":"1a. LF has Gerrit check bot for the DCO (probably way better than mine)","edited":{"user":"U0KM61BCP","ts":"1461799480.000000"},"ts":"1461799461.000021"},{"type":"message","user":"U0KM61BCP","text":"2. by adopting Gerritt we will have to turn all commits to Github repos to Gerritt, meaning that only Gerritt has write access. this implies that we will need to adopt a bug tracking alternative to Github. LF can support both Jira and Bugzilla\u2026 the consensus on the call was Jira seemed to be preferred option","ts":"1461799604.000023"},{"type":"message","user":"U0KM61BCP","text":"2a. there\u2019s an automated migration from github to Jira issues, so that won\u2019t be too much trouble","ts":"1461799643.000024"},{"type":"message","user":"U0KM61BCP","text":"3. LF made strong recommendation for Jenkins for CI.","ts":"1461799682.000025"},{"type":"message","user":"U0KM61BCP","text":"3a. they offer 24x7 support and manage themselves, whereas TravisCI is free and no support to speak of\u2026 who ya gonna call?","ts":"1461799721.000026"},{"type":"message","user":"U0KM61BCP","text":"3b. Sawtooth Lake already uses jenkins for CI so someone needs to adapt\u2026 better than supporting two modes","ts":"1461799755.000027"},{"type":"message","user":"U0KM61BCP","text":"3c. we really want (well, I do) a consistent set of tooling for Hyperledger projects","ts":"1461799782.000028"},{"type":"message","user":"U0KM61BCP","text":"3d. I think Jenkins is the right answer, so we will need to investigate migrating the TravisCI to Jenkins\u2026 This might be a good experiment for the hackathon","ts":"1461799827.000029"},{"type":"message","user":"U0KM61BCP","text":"4. we really should have formal RI function - LF can provide a resource, and we can have community members collaborating as well - I tend to agree as it seems that we\u2019ll need to coordinate multiple repositories as we start breaking the project down to composable parts (despite my desire for a single repo build model)","ts":"1461799930.000030"},{"type":"message","user":"U0KM61BCP","text":"so, thanks again to the LF team for their deep insights","ts":"1461799993.000031"},{"type":"message","user":"U0KM61BCP","text":"<!channel>: ^^","ts":"1461800013.000032"},{"type":"message","user":"U0NCW1DPX","text":"<@U0KM61BCP>: thanks for your update","ts":"1461805637.000033"},{"type":"message","user":"U0N1K6Z0X","text":"I want to add to <@U0KM61BCP> 's summary: Keeping the Wiki at GitHub or moving it to DocuWiki or MediaWiki (or Confluence) was discussed. <@U0KM61BCP> suggested keeping the wiki at GitHub. What we didn't know is whether the wiki remains available when the repository is locked down after moving to Gerritt.","ts":"1461849643.000034"},{"type":"message","user":"U0N1K6Z0X","text":"Andrew suggested moving the wiki somewhere that is linked to Gerritt","ts":"1461849686.000035"},{"type":"message","user":"U0N1K6Z0X","text":"Also, the use of Nexus was brought up to manage binaries, move them between Jenkins jobs, and store releases.","ts":"1461849941.000036"},{"type":"message","user":"U0KM61BCP","text":"the Wiki we are using is currently the hyperledger\/hyperledger repo\u2019s wiki, though I think that someone started using the fabric wiki","ts":"1461850057.000037"},{"type":"message","user":"U0KM61BCP","text":"but thanks, <@U0N1K6Z0X> for reminding me of that","ts":"1461850162.000038","reactions":[{"name":"simple_smile","users":["U0N1K6Z0X"],"count":1}]},{"type":"message","user":"U0KM61BCP","text":"maybe someone could research whether the wiki is also locked down on a gerritt managed repo?","ts":"1461850218.000039"},{"type":"message","user":"U0N1K6Z0X","text":"If I understood it correctly, the GitHub repo would not be managed by Gerritt as it has its own repo that has a different logic from GitHub. Instead, the Gerritt repo can be duplicated to GitHub  periodically to have an outfacing publicly available copy, containing a description of where to find instructions for contributing on Gerritt.","ts":"1461851329.000040"},{"type":"message","user":"U0N1K6Z0X","text":"A difference that needed elaboration during the call was GitHub's pull request vs. Gerritt's change request. - For anyone not on the call: the idea was to provide a tutorial and maybe a 1h walk through before making the switch.","ts":"1461851330.000041"},{"type":"message","user":"U0KM61BCP","text":"correct, we definitely want to have a Gerritt 101 session for Gerritt n00bs","ts":"1461857399.000042"},{"type":"message","user":"U0N1K6Z0X","text":"<@U0KM61BCP>, I not sure you saw Dan Middleton's comment in the chat during the call, since he left before you reported on the tooling and could not reply to your question:\n10:20 AM - Dan Middleton: oh on tools github is better than gerrit for us.  Also we have existing jenkins material for CI.","ts":"1461857826.000043"},{"type":"message","user":"U0KM61BCP","text":"oh, I didn\u2019t hear that on the call with LF last week\u2026 I\u2019ll connect with him","ts":"1461857866.000044"},{"type":"message","user":"U0KM61BCP","text":"thanks for catching that","ts":"1461857876.000045","reactions":[{"name":"+1","users":["U0N1K6Z0X"],"count":1}]},{"type":"message","user":"U0KM61BCP","text":"I didn\u2019t see it in the chat","ts":"1461857881.000046"},{"user":"U14KBK932","type":"message","subtype":"channel_join","text":"<@U14KBK932|louie.stavrakos> has joined the channel","ts":"1461864923.000047"},{"user":"U14KV815Y","type":"message","subtype":"channel_join","text":"<@U14KV815Y|alexmond> has joined the channel","ts":"1461865380.000048"},{"user":"U14S06MT7","type":"message","subtype":"channel_join","text":"<@U14S06MT7|igor> has joined the channel","ts":"1461928463.000049"},{"user":"U11L89VHU","type":"message","subtype":"channel_join","text":"<@U11L89VHU|posnerj> has joined the channel","ts":"1461945854.000050"},{"user":"U0KPFAZNF","type":"message","subtype":"channel_join","text":"<@U0KPFAZNF|ghaskins> has joined the channel","ts":"1462202402.000051"},{"user":"U163J7MRT","type":"message","subtype":"channel_join","text":"<@U163J7MRT|hill> has joined the channel","ts":"1462372229.000052"},{"user":"U0ZJZBJLF","type":"message","subtype":"channel_join","text":"<@U0ZJZBJLF|yacovm> has joined the channel","ts":"1462530753.000053"},{"user":"U0QUNGLJK","type":"message","subtype":"channel_leave","text":"<@U0QUNGLJK|shemnon> has left the channel","ts":"1462655520.000054"},{"user":"U0NLZCF8V","type":"message","subtype":"channel_join","text":"<@U0NLZCF8V|juanblanco> has joined the channel","ts":"1462728843.000055"},{"user":"U17D1TC7Q","type":"message","subtype":"channel_join","text":"<@U17D1TC7Q|vax> has joined the channel","ts":"1462837156.000056"},{"user":"U17FQ1GQG","type":"message","subtype":"channel_join","text":"<@U17FQ1GQG|bari> has joined the channel","ts":"1462863343.000057"},{"user":"U1296EA0M","type":"message","subtype":"channel_join","text":"<@U1296EA0M|maro> has joined the channel","ts":"1463069868.000058"},{"user":"U1802P5D3","type":"message","subtype":"channel_join","text":"<@U1802P5D3|jianzhang98> has joined the channel","ts":"1463262804.000059"},{"type":"message","user":"U0KM61BCP","text":"Progress on the Jenkins front\u2026 we should be in business this week","ts":"1463484137.000060"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP>: once its operational, id like to discuss the possibility to have it manage pushing the baseimages (if possible)","ts":"1463491617.000061"},{"type":"message","user":"U0KPFAZNF","text":"im thinking, trigger on a tag-push, and fire up workers for x86::vagrant and [x86|ppc|s390x]::docker","ts":"1463491685.000062"},{"type":"message","user":"U0KPFAZNF","text":"(when ready, of course)","ts":"1463491704.000063"},{"type":"message","user":"U0KPFAZNF","text":"i know non-x86 support is still emerging","ts":"1463491720.000064"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF>: everything on the table","ts":"1463494155.000065","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0KM61BCP","text":"including non x86 <@U0N1D1UAE> ","ts":"1463494186.000066"},{"type":"message","user":"U0KPFAZNF","text":"IIRC, jenkins allows you to wire up remote workers, so I am thinking if the respective $arch owner can setup a worker for their arch, we can integrate that way","ts":"1463494237.000067"},{"type":"message","user":"U0KPFAZNF","text":"e.g. linuxone vm for s390x support","ts":"1463494246.000068","reactions":[{"name":"+1","users":["U10Q62R8X"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"there might be simpler approaches (e.g. cross compilation), but I would leave that to the platform owner","ts":"1463494294.000069"},{"user":"U115YGEH1","type":"message","subtype":"channel_join","text":"<@U115YGEH1|mtakemiya> has joined the channel","ts":"1463646513.000070"},{"user":"U1A9JNB1T","type":"message","subtype":"channel_join","text":"<@U1A9JNB1T|karan> has joined the channel","ts":"1464099573.000071"},{"user":"U1BC5NF2S","inviter":"U0KM61BCP","type":"message","subtype":"channel_join","text":"<@U1BC5NF2S|bramwelt> has joined the channel","ts":"1464122176.000072"},{"user":"U14FUGATW","inviter":"U0KM61BCP","type":"message","subtype":"channel_join","text":"<@U14FUGATW|dan.mccarty> has joined the channel","ts":"1464122184.000073"},{"user":"U0N1D1UAE","inviter":"U0KM61BCP","type":"message","subtype":"channel_join","text":"<@U0N1D1UAE|bcbrock> has joined the channel","ts":"1464122196.000074"},{"type":"message","user":"U0KM61BCP","text":"<@U1BC5NF2S>, <@U14FUGATW> <@U0N1D1UAE>  we should probably bring the discussion of Jenkins pipeline reaching out to alternate platforms here","ts":"1464122253.000075"},{"type":"message","user":"U0N1D1UAE","text":"<@U12V3D2P2> and Srirama Sharma (don\u2019t know his handle) are the owners for build and CI on POWER","ts":"1464122726.000076"},{"user":"U12V3D2P2","inviter":"U0N1D1UAE","type":"message","subtype":"channel_join","text":"<@U12V3D2P2|bsmita> has joined the channel","ts":"1464122733.000077"},{"type":"message","user":"U0N1D1UAE","text":"Do these \u2018workers\u2019 have to be public? I don\u2019t know how these jobs get kicked off. Can the workers be behind a firewall?","ts":"1464122930.000078"},{"user":"U11NUTP4L","inviter":"U0N1D1UAE","type":"message","subtype":"channel_join","text":"<@U11NUTP4L|srirama_sharma> has joined the channel","ts":"1464122972.000079"},{"type":"message","user":"U0N1D1UAE","text":"or <@U0KM61BCP> do we need to donate a machine to the Linux Foundation?","ts":"1464123109.000080"},{"user":"U0UHG4VP1","type":"message","subtype":"channel_join","text":"<@U0UHG4VP1|ry> has joined the channel","ts":"1464123691.000081"},{"type":"message","user":"U0KPFAZNF","text":"<@U0N1D1UAE>: I am not 100%, but I think if the jenkins setup itself is reasonably locked down, you can have a worker that isnt just open to the public","ts":"1464123731.000082"},{"type":"message","user":"U0UHG4VP1","text":"bcbrock: we usually set up a VPN to keep this stuff off the internet.","ts":"1464123766.000083"},{"type":"message","user":"U0KPFAZNF","text":"e.g. you can privately federate them with the security equal to the security of the overall jenkins config","ts":"1464123770.000084"},{"type":"message","user":"U0KM61BCP","text":"if we could get an openpower box made available via softlayer or one of our partners, that would be good","ts":"1464123935.000085"},{"type":"message","user":"U0UHG4VP1","text":"for instance, we have builders at Azure that are only on the 10. network behind our VPN, which only allows traffic from our management network. I\u2019m sure we can do something similar at where ever we end up with these resources, provided we can run a fairly stock Fedora VM with like 1 or 2 cores and maybe a gig of ram. The VPN box doesn\u2019t require much.","ts":"1464124130.000086"},{"type":"message","user":"U0UHG4VP1","text":"by we I mean AllSeen Alliance, this other community project I work on for Linux Foundation.","ts":"1464124151.000087"},{"type":"message","user":"U0N1D1UAE","text":"<@U12V3D2P2> I\u2019m thinking SuperVessel","ts":"1464124277.000088"},{"type":"message","user":"U0N1D1UAE","text":"This is an OpenPOWER cloud set up by IBM Research China","ts":"1464124328.000089"},{"type":"message","user":"U0KM61BCP","text":"<@U0N1D1UAE>: won\u2019t that introduce networking latencies that might tend to result in failures?","ts":"1464125680.000090"},{"type":"message","user":"U0KM61BCP","text":"I thought that we also had some openpower boxen at some uni in the US\u2026 maybe Portland?","ts":"1464125712.000091"},{"type":"message","user":"U0UHG4VP1","text":"China has been problematic for us (LF) in the past. If we\u2019re going to do something in China it would probably need to be self-contained","ts":"1464126228.000092"},{"type":"message","user":"U0UHG4VP1","text":"LF has a close relationship with OSU, if that helps.","ts":"1464126256.000093"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP>: Previous OSUOSL'er here. I can confirm you have resources at OSU. :wink:","ts":"1464126274.000094"},{"type":"message","user":"U14FUGATW","text":"Who is going to supply Linux for z systems?","ts":"1464126354.000095"},{"type":"message","user":"U0KPFAZNF","text":"<@U10Q62R8X>: is linuxone a solution here ^^^","ts":"1464126875.000096"},{"user":"U10Q62R8X","inviter":"U0KPFAZNF","type":"message","subtype":"channel_join","text":"<@U10Q62R8X|vpaprots> has joined the channel","ts":"1464126880.000097"},{"type":"message","user":"U0KM61BCP","text":"<@U14FUGATW>:  wouldn't that be your team?","ts":"1464127033.000098"},{"type":"message","user":"U14FUGATW","text":"Maybe something from our team or from LinuxOne.","ts":"1464127082.000099"},{"type":"message","user":"U0N1D1UAE","text":"<@U0UHG4VP1> What is the opposite of self-contained? How does non-self-contained work?","ts":"1464127399.000100"},{"type":"message","user":"U0N1D1UAE","text":"I\u2019never set up or really used any of these systems","ts":"1464127491.000101"},{"type":"message","user":"U1BC5NF2S","text":"<@U0N1D1UAE>: Zero access to our network.","ts":"1464127495.000102"},{"type":"message","user":"U1BC5NF2S","text":"(for self-contained)","ts":"1464127550.000103"},{"type":"message","user":"U0UHG4VP1","text":"bcbrock: we set up a VPN that all of the infra is on. the public facing infra (gerrit, jenkins) have a public interface and one on the private network.","ts":"1464127936.000104"},{"type":"message","user":"U0UHG4VP1","text":"we keep everything segregated east-west, so compromising one machine on one project doesn\u2019t get you any closer to compromising other machines of the same type on other projects","ts":"1464127972.000105"},{"type":"message","user":"U0UHG4VP1","text":"north-south, within a CP, there is still a fair amount of containment. specific ports to and from specific classes of machines, etc","ts":"1464128040.000106"},{"type":"message","user":"U0N1D1UAE","text":"OK, the POWER team is meeting tomorrow, we\u2019ll discuss these requirements","ts":"1464128105.000107"},{"type":"message","user":"U0UHG4VP1","text":"CP: collaborative project. <http:\/\/collabprojects.linuxfoundation.org\/> for a list","attachments":[{"title":"Linux Foundation Collaborative Projects","title_link":"http:\/\/collabprojects.linuxfoundation.org\/","text":"With Linux Foundation Collaborative Projects we have one goal: to spread the collaborative DNA of Linux to new fields to enable innovation and access for all.","fallback":"Linux Foundation Collaborative Projects","from_url":"http:\/\/collabprojects.linuxfoundation.org\/","id":1}],"ts":"1464128122.000108"},{"type":"message","user":"U0UHG4VP1","text":"If I start fogging you out with internal LF jargon please tell me to knock it off","ts":"1464128159.000110"},{"type":"message","user":"U0KM61BCP","text":"<@U0N1D1UAE>: thanks","ts":"1464130265.000111"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> <@U1BC5NF2S> what remains before we can start the transition from Travis?","ts":"1464130312.000112"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP>: Were working on getting fabric build on at least Ubuntu.","ts":"1464130486.000113"},{"type":"message","user":"U1BC5NF2S","text":"or Centos","ts":"1464130503.000114"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP>: here are the two larger items that will need to happen. 1) transition projects to gerrit <https:\/\/gerrit.hyperledger.org\/r\/#\/q\/status:open> 2) get jobs in JJB that build HL. all other work items flow from those two.","ts":"1464130620.000115"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP>: I only see fabric on travis, but I saw mention of 'sawtooth'. Are there other hyperledger projects in Travis?","ts":"1464130678.000116"},{"type":"message","user":"U0KM61BCP","text":"for sawtooth, Intel told me they were using Jenkins (internally) so they have stuff to migrate to an LF pipeline","ts":"1464130721.000117"},{"type":"message","user":"U0KM61BCP","text":"for fabric, we have travis which the team will need to rework for jenkins, and we have some multi-arch stuff to do as well","ts":"1464130761.000118"},{"type":"message","user":"U0UHG4VP1","text":"cbf: here is the repo JJB YAML will come in to: <https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=ci-management.git;a=summary>","ts":"1464130763.000119"},{"type":"message","user":"U0KM61BCP","text":"for fabric-api, DAH has some jenkins, I believe that they need to refactor and bring over","ts":"1464130780.000120"},{"type":"message","user":"U10Q62R8X","text":"I have been pushing jenkins since December since travis doesn't support z, or p.. nice to see when jenkins is the right choice for other reasons, and not just 'z'..","ts":"1464130782.000121"},{"type":"message","user":"U0UHG4VP1","text":"z or p?","ts":"1464130810.000122"},{"type":"message","user":"U0KM61BCP","text":"ah, so gerritt is a pre-requisite?","ts":"1464130817.000123"},{"type":"message","user":"U1BC5NF2S","text":"Travis has been an excellent platform for open source testing, but the definitely have their limits.","ts":"1464130827.000124"},{"type":"message","user":"U0UHG4VP1","text":"cbf: not really. we can get jobs building from github to bootstrap.","ts":"1464130846.000125"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> Z\/Linux is mainframe\u2026 p == openpower","ts":"1464130853.000126"},{"type":"message","user":"U0UHG4VP1","text":"I want to get Jenkins up-and-running and then transition to gerrit.","ts":"1464130860.000127"},{"type":"message","user":"U10Q62R8X","text":"regarding z resources... I happen to be across the hall from the Node.js team on z.. we 'donated' three boxes, permanently alocated from LinuxONE public cloud, to google to run builds on.. this is similar in my mind..","ts":"1464130861.000128"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP>: you drive the CI WG, if you want to move everything to gerrit faster that\u2019s OK but I\u2019d rather have Jenkins replicating Travis results first","ts":"1464130904.000129"},{"type":"message","user":"U0KM61BCP","text":"ok, I must have misread up above\u2026 thought I saw that step 1 was gerritt","ts":"1464130931.000130"},{"type":"message","user":"U0UHG4VP1","text":"that is a personal preference, not a technical preference.","ts":"1464130935.000131"},{"type":"message","user":"U0KM61BCP","text":"agree getting jenkins builds stable should be first","ts":"1464130942.000132"},{"type":"message","user":"U10Q62R8X","text":"it involves some hagling with the LinuxONE admins, but they are very helpful in my experience and have been trying to get MORE things blockchain onto their platform..","ts":"1464130943.000133"},{"type":"message","user":"U0UHG4VP1","text":"that was not an ordered list, sorry.","ts":"1464130943.000134"},{"type":"message","user":"U0KM61BCP","text":"plus, I think that we should wait for after June for Gerritt","ts":"1464130965.000135"},{"type":"message","user":"U0UHG4VP1","text":"cbf: I\u2019m rather belt-and-suspenders so I\u2019d like to move slowly","ts":"1464130969.000136"},{"type":"message","user":"U0UHG4VP1","text":"what happens in june? another f2f?","ts":"1464131004.000137"},{"type":"message","user":"U0KM61BCP","text":"ok, let\u2019s focus on Jenkins then","ts":"1464131009.000138"},{"type":"message","user":"U0UHG4VP1","text":"by slowly I mean \u201cdon\u2019t change everything at once\"","ts":"1464131019.000139"},{"type":"message","user":"U0UHG4VP1","text":"not \u201cI\u2019d like to transition from Travis sometime in 2017\u201d :slightly_smiling_face:","ts":"1464131035.000140"},{"type":"message","user":"U10Q62R8X","text":"Is Ramesh or Barry on this channel? Them and Dan, have been working on Jenkins for a while now","ts":"1464131043.000141"},{"type":"message","user":"U0KM61BCP","text":"actually, having the jenkins scripts in gerritt will help me (at least) get accustomed to gerritt","ts":"1464131079.000142"},{"type":"message","user":"U0KM61BCP","text":"haven\u2019t used in anger b4","ts":"1464131089.000143"},{"type":"message","user":"U0KM61BCP","text":"just as passive observer for openstack reviews","ts":"1464131101.000144"},{"user":"U11HTMW0H","inviter":"U10Q62R8X","type":"message","subtype":"channel_join","text":"<@U11HTMW0H|bmos299> has joined the channel","ts":"1464131140.000145"},{"user":"U11HH3P7Y","inviter":"U10Q62R8X","type":"message","subtype":"channel_join","text":"<@U11HH3P7Y|ramesh> has joined the channel","ts":"1464131141.000146"},{"type":"message","user":"U0UHG4VP1","text":"cbf: are you signed up for an LF account? can you log in to <https:\/\/gerrit.hyperledger.org\/r\/login\/%23%2Fq%2Fstatus%3Aopen> ? IIRC you do have an LFID","ts":"1464131188.000147"},{"type":"message","user":"U0KM61BCP","text":"<@U11HH3P7Y> and <@U11HTMW0H> both on this channel, yes","ts":"1464131189.000148"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> yeppers","ts":"1464131223.000149"},{"type":"message","user":"U0UHG4VP1","text":"cbf: we\u2019re using JJB so it\u2019s YAML similar to: <http:\/\/docs.openstack.org\/infra\/jenkins-job-builder\/>","ts":"1464131246.000150"},{"type":"message","user":"U11HTMW0H","text":"<@U0UHG4VP1> <@U11HH3P7Y> we are working on setting up Jenkins and driving the agents.  Thanks for the link.","ts":"1464132153.000151"},{"type":"message","user":"U0KM61BCP","text":"<@U11HTMW0H>: I hope that translates to setting up the scripts that will drive the same build test we have in travis? not sure what you mean by setting up jenkins","ts":"1464132280.000152"},{"type":"message","user":"U11HTMW0H","text":"<@U0KM61BCP> standing up a jenkins server and driving agents to replicate the Travis CI work and also driver other platforms.  Once complete, we will work with the LF to port the work to the community.","ts":"1464132364.000153"},{"type":"message","user":"U0KM61BCP","text":"why are you doing that? we have LF jenkins - please use that","ts":"1464132402.000154"},{"type":"message","user":"U0UHG4VP1","text":"It could be valuable if they\u2019re using JJB.","ts":"1464132492.000155"},{"type":"message","user":"U11HTMW0H","text":"<@U0KM61BCP>  <@U0UHG4VP1> Sure. Can I get the name of the LF contact who can give us access?  <@U11HH3P7Y> had made a lot of progress understanding Jenkins over the past week.","edited":{"user":"U11HTMW0H","ts":"1464132823.000000"},"ts":"1464132761.000156"},{"type":"message","user":"U0KM61BCP","text":"we are all here... <@U0UHG4VP1> and <@U1BC5NF2S> can get you and <@U11HH3P7Y> and anyone else added to the gettitt - see link above","ts":"1464132856.000158"},{"type":"message","user":"U11HTMW0H","text":"<@U11HH3P7Y> has been using groovy with a pipeline project.","ts":"1464132873.000159"},{"type":"message","user":"U0KM61BCP","text":"cbf: are you signed up for an LF account? can you log in to <https:\/\/gerrit.hyperledger.org\/r\/login\/%23%2Fq%2Fstatus%3Aopen> ? IIRC you do have an LFID","ts":"1464132898.000160"},{"type":"message","user":"U0KM61BCP","text":"LF uses JJB","ts":"1464132907.000161"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KM61BCP>: I don't have access to LF account.","ts":"1464133064.000162"},{"type":"message","user":"U0KM61BCP","text":"they are free... <@U0UHG4VP1> can point you at registration","ts":"1464133149.000163"},{"type":"message","user":"U0UHG4VP1","text":"sign up here: <https:\/\/identity.linuxfoundation.org\/>","ts":"1464133207.000164"},{"type":"message","user":"U0KM61BCP","text":"thx","ts":"1464133215.000165"},{"type":"message","user":"U0UHG4VP1","text":"once you\u2019re logged in to gerrit.hl.o check out the empty repo <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/lf-sandbox,branches> and we can walk through some basic gerrit workflow in the morning","ts":"1464133405.000166"},{"type":"message","user":"U0UHG4VP1","text":"for instructions: <https:\/\/gerrit.hyperledger.org\/r\/Documentation\/index.html> section 1 in the tutorial will get you rolling","ts":"1464133608.000167"},{"type":"message","user":"U0UHG4VP1","text":"the biggest change is you\u2019ll be doing this: git commit -s (sign) and then git push origin HEAD:refs\/for\/branch which will generate a review","ts":"1464133640.000168"},{"type":"message","user":"U0UHG4VP1","text":"read sections 1a and 1b. 1[cd] are not germane","ts":"1464133664.000169"},{"type":"message","user":"U0KM61BCP","text":"cool... I will be mostly off-line due to obligations at CF Summit but please help <@U11HTMW0H> and <@U11HH3P7Y> at least get going ","ts":"1464133670.000170"},{"type":"message","user":"U0UHG4VP1","text":"yes absolutely","ts":"1464133684.000171"},{"type":"message","user":"U0KM61BCP","text":"I also suggested that STL start their migration from internal jenkjns","ts":"1464133700.000172"},{"type":"message","user":"U0UHG4VP1","text":"anyone with a properly set up LF account with SSH key added in gerrit should be able to push changes to the sandbox repo.","ts":"1464133782.000173"},{"user":"U1914JUPK","type":"message","subtype":"channel_join","text":"<@U1914JUPK|bernardlin> has joined the channel","ts":"1464134798.000174"},{"user":"U0ZLVCQPM","type":"message","subtype":"channel_join","text":"<@U0ZLVCQPM|jkirke> has joined the channel","ts":"1464135083.000175"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: I have registered an account. will go through the documentation. Thanks","ts":"1464136333.000176"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y>: sure. this is async so feel free to ask questions as you have them","ts":"1464136357.000177"},{"type":"message","user":"U11HH3P7Y","text":"sure","ts":"1464136689.000178"},{"type":"message","user":"U0UHG4VP1","text":"ramesh: could you look at this: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/19\/> when logged in, click reply, and tell me what options you see?","ts":"1464136902.000179"},{"type":"message","user":"U11HH3P7Y","text":"Code Review and verified","ts":"1464137008.000180"},{"type":"message","user":"U11HH3P7Y","text":"I could see these two","ts":"1464137044.000181"},{"type":"message","user":"U0UHG4VP1","text":"so a range of -1 0 +1?","ts":"1464137067.000182"},{"type":"message","user":"U11HH3P7Y","text":"yes","ts":"1464137088.000183"},{"type":"message","user":"U0UHG4VP1","text":"what is your exact LFID, with caps and everything","ts":"1464137101.000184"},{"type":"message","user":"U0UHG4VP1","text":"if you have time for shenanigans, if you don\u2019t just say so. I\u2019m on the west coast","ts":"1464137127.000185"},{"type":"message","user":"U11HH3P7Y","text":"rameshthoomu","ts":"1464137128.000186"},{"type":"message","user":"U0UHG4VP1","text":"could you accept that invite I just sent?","ts":"1464137331.000187"},{"type":"message","user":"U11HH3P7Y","text":"where can I see that?","ts":"1464137424.000188"},{"user":"U0Y4ZF0QM","type":"message","subtype":"channel_join","text":"<@U0Y4ZF0QM|mitchell> has joined the channel","ts":"1464137460.000189"},{"type":"message","user":"U0UHG4VP1","text":"ramesh: in your gmail","ts":"1464137489.000190"},{"type":"message","user":"U11HH3P7Y","text":"ok","ts":"1464137496.000191"},{"type":"message","user":"U0UHG4VP1","text":"ramesh: great. now go back to that review page","ts":"1464137533.000192"},{"type":"message","user":"U11HH3P7Y","text":"ok","ts":"1464137541.000193"},{"type":"message","user":"U0UHG4VP1","text":"you should see more options - -2 to +2 on review, -1 to +1 on verify still","ts":"1464137556.000194"},{"type":"message","user":"U11HH3P7Y","text":"I still see -1 to +1 on both","ts":"1464137678.000195"},{"type":"message","user":"U0UHG4VP1","text":"very confusing.","ts":"1464137807.000196"},{"type":"message","user":"U0UHG4VP1","text":"you\u2019re in the \u201cowner\u201d group which should give you superpowers","ts":"1464137862.000197"},{"type":"message","user":"U11HH3P7Y","text":"ok. I am checking for the above link.. <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/19\/>","ts":"1464137898.000198"},{"type":"message","user":"U0UHG4VP1","text":"when I use my account which has the same groups as you, I see this:","ts":"1464137951.000199"},{"type":"message","user":"U0UHG4VP1","text":"let me make sure my test account has no super powers","ts":"1464138018.000201"},{"type":"message","user":"U11HH3P7Y","text":"ok","ts":"1464138021.000202"},{"type":"message","user":"U0UHG4VP1","text":"ramesh: I just created a new account and logged in, I see -2 to +2. <@U0KM61BCP>: what do you see?","ts":"1464138243.000203"},{"type":"message","user":"U0UHG4VP1","text":"ramesh: could you refresh without cache?","ts":"1464138255.000204"},{"type":"message","user":"U11HH3P7Y","text":"doing that.","ts":"1464138266.000205"},{"type":"message","user":"U0KM61BCP","text":"I only see -1 0 +1","ts":"1464138303.000206"},{"type":"message","user":"U0UHG4VP1","text":"ah, cbf, did you accept the invite I sent to your ibm address?","ts":"1464138328.000207"},{"type":"message","user":"U0KM61BCP","text":"hmmm checking","ts":"1464138343.000208"},{"type":"message","user":"U11HH3P7Y","text":"No I have","ts":"1464138349.000209"},{"type":"message","user":"U11HH3P7Y","text":"Now I have","ts":"1464138353.000210"},{"type":"message","user":"U0UHG4VP1","text":"the answer is no, I see it is still pending","ts":"1464138356.000211"},{"type":"message","user":"U0UHG4VP1","text":"now you\u2019re in.","ts":"1464138370.000212"},{"type":"message","user":"U11HH3P7Y","text":"yes","ts":"1464138377.000213"},{"type":"message","user":"U0UHG4VP1","text":"cbf: please refresh with no cache and tell me what you see","ts":"1464138380.000214"},{"type":"message","user":"U0KM61BCP","text":"same","ts":"1464138422.000215"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F1BEVMSQK\/Try_something_like_this_once_you___ve_checked_out_the_repo.txt|Try something like this once you\u2019ve checked out the repo>","file":{"id":"F1BEVMSQK","created":1464138484,"timestamp":1464138484,"name":"Try_something_like_this_once_you___ve_checked_out_the_repo.txt","title":"Try something like this once you\u2019ve checked out the repo","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":874,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1BEVMSQK\/Try_something_like_this_once_you___ve_checked_out_the_repo.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1BEVMSQK\/download\/Try_something_like_this_once_you___ve_checked_out_the_repo.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F1BEVMSQK\/Try_something_like_this_once_you___ve_checked_out_the_repo.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1BEVMSQK-23d4a93395","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F1BEVMSQK\/Try_something_like_this_once_you___ve_checked_out_the_repo.txt\/edit","preview":"Rys-iMac:lf-sandbox ry$ git status\r\nHEAD is now at 7e7ddeb Initial empty repository\r\nRys-iMac:lf-sandbox ry$ echo > merge.txt\r\nRys-iMac:lf-sandbox ry$ git add merge.txt \r\nRys-iMac:lf-sandbox ry$ git commit -a -s -m \"Test of things\"\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Rys-iMac:lf-sandbox ry$ git status<\/pre><\/div>\n<div><pre>HEAD is now at 7e7ddeb Initial empty repository<\/pre><\/div>\n<div><pre>Rys-iMac:lf-sandbox ry$ echo &gt; merge.txt<\/pre><\/div>\n<div><pre>Rys-iMac:lf-sandbox ry$ git add merge.txt <\/pre><\/div>\n<div><pre>Rys-iMac:lf-sandbox ry$ git commit -a -s -m &quot;Test of things&quot;<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":21,"lines_more":16,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1464138484.000216"},{"type":"message","user":"U0UHG4VP1","text":"so now that ramesh and cbf have the ability to merge - feel free to push up a change on your own and review","ts":"1464138701.000218"},{"type":"message","user":"U0KM61BCP","text":"working now","ts":"1464138701.000219"},{"type":"message","user":"U0UHG4VP1","text":"you should also have the ability to abandon my change, merge it, etc","ts":"1464138712.000220"},{"type":"message","user":"U0UHG4VP1","text":"you should be able to edit my commit message as well","ts":"1464138732.000221"},{"type":"message","user":"U0UHG4VP1","text":"ramesh: go here: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/19\/1> and remove my vote (you should see an X next to my name)","ts":"1464138789.000222"},{"type":"message","user":"U0UHG4VP1","text":"feel free to create new branches, etc, if you want to play with cherry pick and rebase.","ts":"1464138830.000223"},{"type":"message","user":"U11HH3P7Y","text":"which repo I have to checkout?","ts":"1464139075.000225"},{"type":"message","user":"U0UHG4VP1","text":"the UI here: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/19\/1> shows \u201clf-sandbox\u201d in the project field. that is the one you need.","ts":"1464139121.000226"},{"type":"message","user":"U0UHG4VP1","text":"plus, it\u2019s the only project that isn\u2019t read-only","ts":"1464139132.000227"},{"type":"message","user":"U0UHG4VP1","text":"go here when logged in:","ts":"1464139163.000228"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/lf-sandbox>","ts":"1464139165.000229"},{"type":"message","user":"U0UHG4VP1","text":"then click ssh, with the commit hook, copy paste and run it somewhere you can throw away","ts":"1464139183.000230"},{"type":"message","user":"U0UHG4VP1","text":"if you are cloning via https, which you should not do, but if you are, go here: <https:\/\/gerrit.hyperledger.org\/r\/#\/settings\/http-password> and generate your http password","ts":"1464139812.000231"},{"user":"U0N13GKRP","type":"message","subtype":"channel_join","text":"<@U0N13GKRP|zaki> has joined the channel","ts":"1464140063.000232"},{"user":"U1BLNM9DE","type":"message","subtype":"channel_join","text":"<@U1BLNM9DE|tykeal> has joined the channel","ts":"1464186835.000233"},{"user":"U0Z5FGD0V","type":"message","subtype":"channel_join","text":"<@U0Z5FGD0V|rbuysse> has joined the channel","ts":"1464187375.000234"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP>: I'm still working on setting up dynamic slave provisioning in Jenkins. What are your requirements for the base image? Ubuntu 16.04? Or should I try to match the Travis-CI platform (Ubuntu 14.04)?","ts":"1464219376.000235"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP>: As you'd like to have things match Travis-CI, I think it would make sense to get an image setup that most closely resembles the platform and includes all the dependencies in: <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/.travis.yml>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/.travis.yml","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/.travis.yml","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1464219493.000236"},{"type":"message","user":"U0KPFAZNF","text":"<@U1BC5NF2S>: right now, x86 is based on 14.04 and z is based on 16.04","ts":"1464223126.000238"},{"type":"message","user":"U0KPFAZNF","text":"I am interested in moving to 16.04 across the board, but we need to qualify it first","ts":"1464223141.000239"},{"type":"message","user":"U0KPFAZNF","text":"I am not against trying to qualify it sooner rather than later if it is easier on your side to target 16.04","ts":"1464223167.000240"},{"type":"message","user":"U0KPFAZNF","text":"(the fact that z seems to work on 16.04 is a good sign, but still requires some testing before we can sign off on it)","ts":"1464223209.000241"},{"type":"message","user":"U1BC5NF2S","text":"I'd opt for the path of least resistance, so 14.04.","ts":"1464223211.000242"},{"type":"message","user":"U0KPFAZNF","text":"ok, as long as you don\u2019t mind working through an eventual upgrade","ts":"1464223239.000243"},{"type":"message","user":"U0KPFAZNF","text":"targetting 14.04 puts less pressure on me for the short term, so thats a positive","ts":"1464223263.000244"},{"type":"message","user":"U1BC5NF2S","text":"Not at all.","ts":"1464223302.000245"},{"type":"message","user":"U1BC5NF2S","text":"The work I'm doing is public an available to the community, so those who have setup 16.04 on z should be able to easily contribute as well.","ts":"1464223367.000246"},{"type":"message","user":"U0KPFAZNF","text":"<@U1BC5NF2S>: cool, is the jenkins environment available somewhere I can look at?","ts":"1464225115.000247"},{"type":"message","user":"U1BC5NF2S","text":"ghaskins: <https:\/\/jenkins.hyperledger.org>","ts":"1464225134.000248"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KPFAZNF>: What I'm working on will be available here: <https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=ci-management.git;a=summary>","ts":"1464225299.000249"},{"type":"message","user":"U10Q62R8X","text":"<@U1BC5NF2S>: whose x86 machines is jenkins running on? LF?","ts":"1464225374.000250"},{"type":"message","user":"U1BC5NF2S","text":"<@U10Q62R8X>: Yes, LF's","ts":"1464225395.000251"},{"type":"message","user":"U10Q62R8X","text":"would be curious to donate my rhel box for the cause.. running z that is","ts":"1464225437.000252"},{"type":"message","user":"U11HH3P7Y","text":"I am using groovy with Pipeline project to setup jenkins with slaves (x86)","ts":"1464225960.000253"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1> mentioned yesterday that we have to use JJB.","ts":"1464226020.000254"},{"type":"message","user":"U0UHG4VP1","text":"vpaprots: what we\u2019re building are vagrant setups to create and destroy builders on demand. how hard is it to set up (if even possible) z on an x64 intel vm?","ts":"1464226064.000255"},{"type":"message","user":"U10Q62R8X","text":"hmm.. well.. depends how faithfully you want to emulate... I believe my rhel is a KVM instance? there are apis to create\/destroy those over rest for that cloud from what I heard.. seems a bit heavy handed, but does guarantee that you start with an identical setup every time...","ts":"1464226186.000256"},{"type":"message","user":"U10Q62R8X","text":"I was on a call with the LinuxONE admins day before yesterday.. they were asking if I would like a 'blockchain' image people can create instances out of...","ts":"1464226243.000257"},{"type":"message","user":"U0UHG4VP1","text":"we do let them live 30 minutes, I think, in case another build comes along","ts":"1464226250.000258"},{"type":"message","user":"U10Q62R8X","text":"if I were to do it.. I would just keep the machine up, running the jenkins slave.. the trick is making sure jobs clean up after themselves (or each job starts by cleaning up if need be)","ts":"1464226384.000259"},{"type":"message","user":"U10Q62R8X","text":"I think thats what they do to build node.js and golang.. google got three linuxone's to dispatch their ci to","ts":"1464226428.000260"},{"type":"message","user":"U0UHG4VP1","text":"I will defer to tykeal for the \u201cwhy dispose every time\u201d. I suspect it\u2019s also to defray costs, in addition to cleaning up. We were talking about another project today with matrix builds that can spawn an amazing number of builds per update","ts":"1464226504.000261"},{"type":"message","user":"U10Q62R8X","text":"hmm.. concurrent builds.. that would be 'interesting'","ts":"1464226543.000262"},{"type":"message","user":"U10Q62R8X","text":"oh.. wait, I missed part of your question 'z on an x64 intel vm'","ts":"1464226663.000263"},{"type":"message","user":"U10Q62R8X","text":"well.. if you really wanted, there is zpdt. its an emulator...","ts":"1464226688.000264"},{"type":"message","user":"U10Q62R8X","text":"it is a completely different instruction set.. so you would be shooting yourself in the foot","ts":"1464226708.000265"},{"type":"message","user":"U1BLNM9DE","text":"we dispose of VMs after they idle for 30 minutes to defray costs","ts":"1464226726.000266"},{"type":"message","user":"U1BLNM9DE","text":"keeping a slave that isn't in use online all the time costs a lot of money","ts":"1464226737.000267"},{"type":"message","user":"U1BLNM9DE","text":"particularly since all the cloud providers bill by the hour","ts":"1464226801.000268"},{"type":"message","user":"U1BLNM9DE","text":"and yes, if the build doesn't need to be serialized (say merge jobs) then making sure the build is flagged for concurrent is something that should be done","ts":"1464226846.000269"},{"type":"message","user":"U10Q62R8X","text":"cost of using LinuxONE is really beyond my paygrade, but we are already doing it for golang and nodejs, so there is certain precedent","ts":"1464226847.000270"},{"type":"message","user":"U1BLNM9DE","text":"hey, I'm not talking about anything z related here, just the basic x64 cloud instances ;)","ts":"1464226879.000271"},{"type":"message","user":"U10Q62R8X","text":":slightly_smiling_face:","ts":"1464226891.000272"},{"type":"message","user":"U10Q62R8X","text":"heh.. I am saying chances are we will foot the bill for linuxone, just making sure if we do, that jenkins will dispatch there too","ts":"1464226970.000273"},{"type":"message","user":"U1BLNM9DE","text":"yes, I, ry and bramwelt were mentioning something about that. As I haven't worked with that infrastructure before I don't know specifically what's involved. In particular, if it's possible to spawn \/ drop \"instances\" easily with a Jenkins plugin or if it's going to have to be static slaves","ts":"1464227042.000274"},{"type":"message","user":"U1BLNM9DE","text":"all my cloud work has been in OpenStack, GCE, AWS and in my distant past VMWare","ts":"1464227094.000275"},{"type":"message","user":"U1BLNM9DE","text":"those are all pretty well known quantities to me on dynamic builders with Jenkins","ts":"1464227126.000276"},{"type":"message","user":"U10Q62R8X","text":"its really just kvm running rhel","ts":"1464227127.000277"},{"type":"message","user":"U1BLNM9DE","text":"libvirt?","ts":"1464227149.000278"},{"type":"message","user":"U10Q62R8X","text":"<@U11HH3P7Y> and <@U14FUGATW> already tried running jenkins slaves there","ts":"1464227166.000279"},{"type":"message","user":"U1BLNM9DE","text":"if it's libvirt based there's a slave cloud plugin that can work with those already","ts":"1464227214.000280"},{"type":"message","user":"U10Q62R8X","text":"I believe so, but innards of kvm is done by team in germany","ts":"1464227215.000281"},{"type":"message","user":"U1BLNM9DE","text":"I've not used it so I don't know what the restrictions related to it are","ts":"1464227231.000282"},{"type":"message","user":"U10Q62R8X","text":"I am more of a crypto assembly guy that has happened to need stable builds :slightly_smiling_face:","ts":"1464227268.000283"},{"type":"message","user":"U10Q62R8X","text":"or compiler guy? meh","ts":"1464227296.000284"},{"type":"message","user":"U1BLNM9DE","text":"heh, well, if you can build on an x64 linux distro we can do that easily ;)","ts":"1464227299.000285"},{"type":"message","user":"U11HH3P7Y","text":"I setup my  master jenkins and salve x86 configuration and I ran go tests successfully..","ts":"1464227324.000286"},{"type":"message","user":"U11HH3P7Y","text":"I ran basic groovy script from my master jenkins which called salve and executed unit tests..","ts":"1464227385.000287"},{"type":"message","user":"U11HH3P7Y","text":"I did this setup on pipeline project.. which accepts groovy","ts":"1464227456.000288"},{"type":"message","user":"U1BLNM9DE","text":"once we actually start using the jenkins system we'll be able to easily scale out the number of systems in play at time. We've got one project currently at full capacity is utilizing ~1.25 T of RAM and between 1500 and 2000 CPU core","ts":"1464227486.000289"},{"type":"message","user":"U1BLNM9DE","text":"across a max of 250 instances","ts":"1464227521.000290"},{"type":"message","user":"U10Q62R8X","text":"<@U1BC5NF2S>: I wonder if we can streamline the work you and <@U11HH3P7Y> are doing..","ts":"1464227526.000291"},{"type":"message","user":"U1BLNM9DE","text":"we build our instance definitions using vagrant. You can see our initial loadout here: <https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=ci-management.git;a=tree;f=vagrant;h=838e6879bc36f0035eea0ffc5a0c7573f04177b2;hb=HEAD>","ts":"1464227609.000292"},{"type":"message","user":"U1BLNM9DE","text":"which was just me bootstrapping a basic vagrant for ry and bramwelt to start working with ;)","ts":"1464227645.000293"},{"type":"message","user":"U10Q62R8X","text":"<@U1BLNM9DE>: z is like arm, a different processor, with its own instructions... subtle differences sometimes really give us hard times. often somebody making x assumptions without realizing they are x specific.. but then, the higher level library you use the less you care","ts":"1464227716.000294"},{"type":"message","user":"U1BLNM9DE","text":"I'm just pointing out what we've historically done","ts":"1464227751.000295"},{"type":"message","user":"U10Q62R8X","text":"I can try and find more about libvirt though.. not really my strength..","ts":"1464227753.000296"},{"type":"message","user":"U10Q62R8X","text":"right.. that link is going over my head for now. I probably don't need to do this, but pass it along :slightly_smiling_face:","ts":"1464228173.000297"},{"type":"message","user":"U0UHG4VP1","text":"vpaprots: is most of your team on the east coast? I ask because tykeal bramwelt and I are west coast, and I notice you\u2019re up pretty late :slightly_smiling_face:","ts":"1464228422.000298"},{"type":"message","user":"U10Q62R8X","text":"yeah.. actually a good chunk of us are over in europe :slightly_smiling_face:","ts":"1464228842.000299"},{"type":"message","user":"U11HTMW0H","text":"<@U0UHG4VP1> I am in the gerrit sandbox and I do not have the commit with message hook and ssh.  I only have https.  Is there something I need to do?  Thanks.","ts":"1464274031.000300"},{"user":"U16FB85U6","type":"message","subtype":"channel_join","text":"<@U16FB85U6|yiseul> has joined the channel","ts":"1464275457.000301"},{"type":"message","user":"U0UHG4VP1","text":"bmos299: are you logged in to gerrit?","ts":"1464276317.000302"},{"type":"message","user":"U1BC5NF2S","text":"We have dynamic slave provision setup now in Jenkins for x86. Just about done getting a base image setup for fabric that matches the Travis-CI jobs.","ts":"1464280445.000303"},{"type":"message","user":"U0KPFAZNF","text":"<@U1BC5NF2S>: note there is a bug in the base image scripts in case you are following them","ts":"1464280900.000304"},{"type":"message","user":"U0KPFAZNF","text":"if you are modeling on travis, should be ok","ts":"1464280907.000305"},{"type":"message","user":"U0KPFAZNF","text":"fix is here:<https:\/\/github.com\/ghaskins\/hyperledger-fabric\/commit\/10cd6f300b40616e0265a684ffe582a83d6322e1>","ts":"1464280927.000306"},{"type":"message","user":"U0KPFAZNF","text":"still doing testing so its not PR\u2019d yet","ts":"1464280942.000307"},{"type":"message","user":"U0KPFAZNF","text":"i think travis is independent of this script (and nodejs) and therefore, this probably doesnt affect you","ts":"1464280989.000308"},{"type":"message","user":"U0KPFAZNF","text":"but just in case","ts":"1464280991.000309"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KPFAZNF>: Awesome! I didn't even see this other repo. If I run into something I'll try your patch. :slightly_smiling_face:","ts":"1464281204.000310"},{"type":"message","user":"U0KPFAZNF","text":"ok, cool","ts":"1464281310.000311"},{"type":"message","user":"U0KPFAZNF","text":"note that if you do need the fix, I recommend cherry picking that particular commit as that branch references a yet to be release update to the base image","ts":"1464281342.000312"},{"user":"U14NC480K","type":"message","subtype":"channel_join","text":"<@U14NC480K|charles-cai> has joined the channel","ts":"1464355796.000313"},{"type":"message","user":"U0N1D1UAE","text":"<@U0UHG4VP1> - Has someone from IBM contacted you regarding a POWER machine for CI?","ts":"1464360747.000314"},{"type":"message","user":"U0UHG4VP1","text":"bcbrock: no.","ts":"1464361117.000315"},{"type":"message","user":"U0N1D1UAE","text":"Ok, I\u2019ll remind them","ts":"1464361131.000316"},{"type":"message","user":"U0UHG4VP1","text":"unless I missed an email, which is entirely possible","ts":"1464361147.000317"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> <@U0N1D1UAE> thanks","ts":"1464365833.000318"},{"type":"message","user":"U0UHG4VP1","text":"<@U0R7Q5C30>: this is where we\u2019re discussing Jenkins","ts":"1464717724.000319"},{"user":"U0R7Q5C30","inviter":"U0UHG4VP1","type":"message","subtype":"channel_join","text":"<@U0R7Q5C30|zsolt> has joined the channel","ts":"1464717731.000320"},{"type":"message","user":"U14FUGATW","text":"We have a LinuxOne system running RHEL Linux for z.  Can we try to build on this system via the Jenkins integration that is working for x86?","ts":"1464727590.000321"},{"type":"message","user":"U1BC5NF2S","text":"dan.mccarty: Is this a static (always on) server?","ts":"1464728163.000322"},{"type":"message","user":"U14FUGATW","text":"I believe the system is always on other than for updates and such.  If the builds work on the system we can verify uptimes.  We also have some other alternatives besides using the LinuxOne system but LinuxOne is the best option we have at the moment.","ts":"1464789229.000323"},{"type":"message","user":"U0KM61BCP","text":"do we have a build for RHEL from the Z team?","ts":"1464789342.000324"},{"type":"message","user":"U0KM61BCP","text":"if so, we should contribute that back to Hyperledger","ts":"1464789358.000325"},{"type":"message","user":"U14FUGATW","text":"Currently, the build is the same for Linux for z and x86","ts":"1464789431.000326"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> there is a RHELonZ script in the tree already, contributed by <@U10Q62R8X> ","ts":"1464790009.000327"},{"type":"message","user":"U0KPFAZNF","text":"I think in devenv","ts":"1464790020.000328"},{"type":"message","user":"U0KM61BCP","text":"awesomesauce","ts":"1464790022.000329"},{"type":"message","user":"U0KPFAZNF","text":"I'm on mobile, otherwise would send link","ts":"1464790038.000330"},{"type":"message","user":"U0KM61BCP","text":"no need thanks","ts":"1464790044.000331"},{"type":"message","user":"U10Q62R8X","text":"yep, I was trying to make the build on z as 'friendly' to x people as possible, so it looks very similar","ts":"1464790113.000332"},{"type":"message","user":"U10Q62R8X","text":"similar to what happens when you run `vagrant up`","ts":"1464790168.000333"},{"type":"message","user":"U10Q62R8X","text":"re: linuxone.. those systems get retired after 120 days I think.. but I know the sysadmins, we can remove that expiry for a particular image (or images). Since Dan is our build guy, I propose we hijack his image :slightly_smiling_face: I will work with Dan offline about removing the restrictions, but yes, nothing should stop us today from using his system to try out jenkins on z!","ts":"1464790557.000334"},{"type":"message","user":"U0KM61BCP","text":"<@U10Q62R8X>: to be clear, this would be a permanent build pipeline - not just trying out jenkins","ts":"1464790643.000335"},{"type":"message","user":"U10Q62R8X","text":"most definitely!","ts":"1464790668.000336"},{"type":"message","user":"U0KM61BCP","text":"ok, just being sure we are on the same page","ts":"1464790683.000337"},{"type":"message","user":"U10Q62R8X","text":"we have precedent of assigning linux one images to open source project build farm.. so its a 'battle' somebody already won","ts":"1464790714.000338"},{"type":"message","subtype":"file_share","text":"<@U1BC5NF2S|bramwelt> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/bramwelt\/F1D9NS9RU\/-.txt|Untitled> and commented: <@U14FUGATW>: This should be all that's needed to connect Jenkins to the Z system.","file":{"id":"F1D9NS9RU","created":1464790998,"timestamp":1464790998,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U1BC5NF2S","editable":true,"size":638,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1D9NS9RU\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1D9NS9RU\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/bramwelt\/F1D9NS9RU\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1D9NS9RU-c7a7deb4e1","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/bramwelt\/F1D9NS9RU\/-.txt\/edit","preview":"useradd -m -G docker -s \/bin\/bash jenkins\r\nmkdir \/home\/jenkins\/.ssh\r\nmkdir \/w\r\necho \"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDbq9Yx5WJR5e4RhEmB8paaZNQH\/Ybh1TNw4aRY\/n2O4WcV6+eSHwlU8NMqXw7J6EJ9lhHqUW0p4ReBSAZtz\/yx4wq5DVEAu6pKIFfUvoChCShGNqDH\/QUY27A7LGFKeQJ9uuJBzZDxhysiXidcjGrkRvJyLySH7DqcBzaVasuexF+ZCbV9aLmgKoShMjefktdYLcbzAZtCaCpuqfJvz4yBjFo5p9cW3pHMTTA407f1ltXjQl2\/YmKJzEzOBYoFGUyhtLLgzduXHBNr60BCi345VdQlScpjlNL6jK58F3afTB6CZiGG8OLXBat+qc5AQIYOBeYKTEg5wlJw5qaBfy\/T hyperledger-jenkins@jenkins.hyperledger.org\" > \/home\/jenkins\/.ssh\/authorized_keys\r\nchown -R jenkins:jenkins \/home\/jenkins\/.ssh \/w\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>useradd -m -G docker -s \/bin\/bash jenkins<\/pre><\/div>\n<div><pre>mkdir \/home\/jenkins\/.ssh<\/pre><\/div>\n<div><pre>mkdir \/w<\/pre><\/div>\n<div><pre>echo &quot;ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDbq9Yx5WJR5e4RhEmB8paaZNQH\/Ybh1TNw4aRY\/n2O4WcV6+eSHwlU8NMqXw7J6EJ9lhHqUW0p4ReBSAZtz\/yx4wq5DVEAu6pKIFfUvoChCShGNqDH\/QUY27A7LGFKeQJ9uuJBzZDxhysiXidcjGrkRvJyLySH7DqcBzaVasuexF+ZCbV9aLmgKoShMjefktdYLcbzAZtCaCpuqfJvz4yBjFo5p9cW3pHMTTA407f1ltXjQl2\/YmKJzEzOBYoFGUyhtLLgzduXHBNr60BCi345VdQlScpjlNL6jK58F3afTB6CZiGG8OLXBat+qc5AQIYOBeYKTEg5wlJw5qaBfy\/T hyperledger-jenkins@jenkins.hyperledger.org&quot; &gt; \/home\/jenkins\/.ssh\/authorized_keys<\/pre><\/div>\n<div><pre>chown -R jenkins:jenkins \/home\/jenkins\/.ssh \/w<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":6,"lines_more":1,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc1D9X42DT","created":1464790998,"timestamp":1464790998,"user":"U1BC5NF2S","is_intro":true,"comment":"<@U14FUGATW>: This should be all that's needed to connect Jenkins to the Z system.","channel":""}},"user":"U1BC5NF2S","upload":true,"display_as_bot":false,"username":"<@U1BC5NF2S|bramwelt>","bot_id":null,"ts":"1464790999.000339"},{"type":"message","user":"U1BC5NF2S","text":"Then to connect Jenkins all we should need is a public ip or hostname.","ts":"1464791068.000340"},{"type":"message","user":"U14FUGATW","text":"Will you need a userid and password as well as hostname\/IP?","ts":"1464791186.000341"},{"type":"message","user":"U1BLNM9DE","text":"we need a hostname\/IP as well as a jenkins user created as that snippet shows","ts":"1464791221.000342"},{"type":"message","user":"U1BLNM9DE","text":"though that docker group may not be needed if there's no docker on the z image","ts":"1464791248.000343"},{"type":"message","user":"U1BC5NF2S","text":"<@U14FUGATW>: We shouldn't, since we have you to ping for installing deps, etc. :wink:","ts":"1464791387.000344"},{"type":"message","user":"U14FUGATW","text":"ok.","ts":"1464791399.000345"},{"type":"message","user":"U10Q62R8X","text":"the setup script that I wrote, installs all the dependencies, including docker... since I was being lazy, I did everything as root.. not a completely insane idea, since that was 'single user' VM..","ts":"1464791627.000346"},{"type":"message","user":"U10Q62R8X","text":"still.. something that is 'fixable'.. dependency installation will still need privileges though.. I was wondering about that part of the build","ts":"1464791690.000347"},{"type":"message","user":"U10Q62R8X","text":"do you expect the build machine to have all the dependencies installed? or does the build do it (i.e. within a fresh vagrant?)","ts":"1464791733.000348"},{"type":"message","user":"U1BLNM9DE","text":"we use vagrant to create build an image and then snapshot it. The dynamic builders (slaves) are then booted from that snapshot","ts":"1464791771.000349"},{"type":"message","user":"U1BLNM9DE","text":"we don't boot directly using vagrant in the build environment","ts":"1464791786.000350"},{"type":"message","user":"U1BLNM9DE","text":"it's just being used as an image creation platform","ts":"1464791803.000351"},{"type":"message","user":"U10Q62R8X","text":"hmm.. interesting.. I was having a debate with the sysadmins the value of creating a 'snapshot' of a hyperledger image that people can then create vm's out of","ts":"1464791841.000352"},{"type":"message","user":"U10Q62R8X","text":"it is a kvm after all...","ts":"1464791855.000353"},{"type":"message","user":"U1BLNM9DE","text":"we use the upstream cloud images as our base boot","ts":"1464791861.000354"},{"type":"message","user":"U10Q62R8X","text":"'upstream cloud images'.. sorry, will need a translation :slightly_smiling_face:","ts":"1464791913.000355"},{"type":"message","user":"U1BLNM9DE","text":"essentially we're using vagrant similar to the design goals of packer, except we need to actually boot the system to do the creation, which is why we use vagrant instead of packer","ts":"1464791916.000356"},{"type":"message","user":"U1BLNM9DE","text":"ubuntu cloud images: <https:\/\/cloud-images.ubuntu.com\/>\ncentos cloud images: <http:\/\/cloud.centos.org\/centos\/7\/images\/>","ts":"1464791952.000357"},{"type":"message","user":"U1BLNM9DE","text":"the appropriate base image is loaded into our OpenStack environment. We then use that as the base image that we boot vagrant on top of and configure","ts":"1464791999.000358"},{"type":"message","user":"U1BLNM9DE","text":"The basic process is documented here: <https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=ci-management.git;a=tree;f=vagrant;h=c3eb6c2c8179b20d295ca8d7d846d722daeca49c;hb=HEAD>","ts":"1464792046.000359"},{"type":"message","user":"U1BLNM9DE","text":"that process produces our snapshots. We then hook them into Jenkins using the OpenStack Cloud provider plugin. With a UserData script that clones the ci-management project and executes the init_system.sh found here: <https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=ci-management.git;a=tree;f=jenkins-scripts;h=68f5408d7b690f789224e38f2777d76d4a313ec2;hb=HEAD>","ts":"1464792168.000360"},{"type":"message","user":"U1BLNM9DE","text":"between the snapshot and the init script we have fully working slaves","ts":"1464792196.000361"},{"type":"message","user":"U1BLNM9DE","text":"that are easy to update","ts":"1464792220.000362"},{"type":"message","user":"U14FUGATW","text":"The ip address is 148.100.107.97","ts":"1464792329.000363"},{"type":"message","user":"U14FUGATW","text":"The SHOULD be good to go.  :grinning:  jenkins is created along with .ssh directory and key file, docker group, and \/var\/hyperledger","ts":"1464792408.000364"},{"type":"message","user":"U1BC5NF2S","text":"Hmm, can't seem to connect.","ts":"1464793333.000365"},{"type":"message","user":"U1BC5NF2S","text":"Seems that SSH is running, and I can talk to it.","ts":"1464793437.000366"},{"type":"message","user":"U0KPFAZNF","text":"<@U1BLNM9DE>: I was curious about your statement \"we need to actually boot the system to do the creation, which is why we use vagrant instead of packer\"","ts":"1464796227.000367"},{"type":"message","user":"U0KPFAZNF","text":"It seems to me that both native Vagrantfile and packer methods for producing vagrant images boot a system","ts":"1464796260.000368"},{"type":"message","user":"U0KPFAZNF","text":"can you elaborate on where the limitation was that you found?","ts":"1464796281.000369"},{"type":"message","user":"U0KPFAZNF","text":"(thats not a criticism, I am just intellectually curious)","ts":"1464796302.000370"},{"type":"message","user":"U1BLNM9DE","text":"ghaskins: I'll admit something before I continue too much further with this discussion. When we were first evaluating how best to create images I didn't know about packer. Second, I haven't looked that far into it since discovering it since Vagrant works for all of our use cases and has provider plugins for all the different clouds where we use this design. When I last looked at packer it didn't have provider plugins for rackspace, libvirt or openstack. That could well have changed","ts":"1464796643.000371"},{"type":"message","user":"U0KPFAZNF","text":"ah, i see","ts":"1464796729.000372"},{"type":"message","user":"U0KPFAZNF","text":"in terms of booting a system, I think they are similar","ts":"1464796744.000373"},{"type":"message","user":"U0KPFAZNF","text":"in terms of backend support, you are probably right about that","ts":"1464796754.000374"},{"type":"message","user":"U1BLNM9DE","text":"the rackspace and openstack providers are most critical to our use cases","ts":"1464796776.000375"},{"type":"message","user":"U0KPFAZNF","text":"it makes the most sense to use packer if you want to support more than one basic type of image","ts":"1464796788.000376"},{"type":"message","user":"U0KPFAZNF","text":"but if you can achieve that in other ways (such as within a Vagrantfile) it might be easier to just use native facilities","ts":"1464796816.000377"},{"type":"message","user":"U1BLNM9DE","text":"ghaskins: if you look at the Vagrantfile in use for hyperledger you'll see it's actually pretty basic. Yes, it does some OpenStack specific configuration, but it wouldn't be hard to add in provider bits for libvirt or virtualbox backends for extra configuration related to those VM systems. outside of that it's, just calling configuration scripts and then 'resealing' the system so that a snapshot can be taken","ts":"1464796926.000378"},{"type":"message","user":"U0KPFAZNF","text":"cool, sounds reasonable","ts":"1464797011.000379"},{"type":"message","user":"U1BLNM9DE","text":"<@U1BLNM9DE> notes that the current Vagrantfile design is the result of over 1.5 years of use with this usage pattern across multiple LF Collaborative Projects","ts":"1464797086.000380"},{"type":"message","user":"U1BLNM9DE","text":"actually, that's probably closer to 2.5 years now...","ts":"1464797112.000381"},{"type":"message","user":"U0KPFAZNF","text":"like I said, don\u2019t interpret that as criticism, I was just curious what you ran into","ts":"1464797362.000382"},{"type":"message","user":"U0KPFAZNF","text":"my only experience with packer was on this project and it was a mixed bag","ts":"1464797409.000383"},{"type":"message","user":"U1BLNM9DE","text":"that's fine. I didn't interpret it as criticism. I actually got the same question from one of our other recent CPs at about the same point in their life as this","ts":"1464797422.000384"},{"type":"message","user":"U1BLNM9DE","text":"but as I just said, that decision was actually made 1.5 - 2.5 years ago, so the reasons are a bit cloudy to me now, even though I made the decision!","ts":"1464797478.000385"},{"type":"message","user":"U1BC5NF2S","text":"Could I please have a webhook added to `hyperledger\/fabric` for `<https:\/\/jenkins.hyperledger.org\/github-webhook\/>`?","edited":{"user":"U1BC5NF2S","ts":"1464805471.000000"},"ts":"1464805464.000386"},{"type":"message","user":"U11HH3P7Y","text":"we also need to add `jenkins` as service in github","ts":"1464805704.000388"},{"type":"message","user":"U0UHG4VP1","text":"tell me how","ts":"1464805723.000389"},{"type":"message","user":"U11HH3P7Y","text":"<@U1BC5NF2S>: correct me if I am wrong?","ts":"1464805728.000390"},{"type":"message","user":"U1BC5NF2S","text":"ry: <https:\/\/github.com\/hyperledger\/fabric\/settings\/hooks>","ts":"1464805764.000391"},{"type":"message","user":"U1BC5NF2S","text":"Oh, right there is a 'service' hmm. let me see if I can find the configs for that","ts":"1464805785.000392"},{"type":"message","user":"U1BC5NF2S","text":"<https:\/\/github.com\/hyperledger\/fabric\/settings\/hooks\/new?service=jenkins>","edited":{"user":"U1BC5NF2S","ts":"1464805834.000000"},"ts":"1464805825.000393"},{"type":"message","subtype":"file_share","text":"<@U11HH3P7Y|ramesh> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ramesh\/F1DB0F6LB\/capture.png|Capture.PNG>","file":{"id":"F1DB0F6LB","created":1464805858,"timestamp":1464805858,"name":"Capture.PNG","title":"Capture.PNG","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U11HH3P7Y","editable":false,"size":35797,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1DB0F6LB\/capture.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1DB0F6LB\/download\/capture.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1DB0F6LB-e88351a4de\/capture_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1DB0F6LB-e88351a4de\/capture_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1DB0F6LB-e88351a4de\/capture_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":196,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1DB0F6LB-e88351a4de\/capture_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":261,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1DB0F6LB-e88351a4de\/capture_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1DB0F6LB-e88351a4de\/capture_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":392,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1DB0F6LB-e88351a4de\/capture_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":522,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1DB0F6LB-e88351a4de\/capture_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":557,"image_exif_rotation":1,"original_w":1088,"original_h":592,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ramesh\/F1DB0F6LB\/capture.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1DB0F6LB-6fac8aaf5f","channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U11HH3P7Y","upload":true,"display_as_bot":false,"username":"<@U11HH3P7Y|ramesh>","bot_id":null,"ts":"1464805861.000395"},{"type":"message","user":"U0UHG4VP1","text":"bramwelt: there are two options, jenkins\/git and jenkins\/github. I assume we want the latter?","ts":"1464805926.000396"},{"type":"message","user":"U1BC5NF2S","text":"ry: correct","ts":"1464805940.000397"},{"type":"message","user":"U0UHG4VP1","text":"<@U1BC5NF2S>: it\u2019s installed with the URL you gave above","ts":"1464805990.000398"},{"type":"message","user":"U1BC5NF2S","text":"ry: Thank you very much!","ts":"1464806004.000399"},{"type":"message","user":"U0UHG4VP1","text":"ramesh: is there another jenkins instance I should hook?","ts":"1464806040.000400"},{"type":"message","user":"U11HH3P7Y","text":"no. this  should suffice `<https:\/\/jenkins.hyperledger.org\/github-webhook\/>`","ts":"1464806106.000401"},{"type":"message","user":"U1BC5NF2S","text":"Awesome! Looks like we have builds being triggered from Github by merges from master: <https:\/\/jenkins.hyperledger.org\/view\/fabric\/job\/fabric-github-merge-x86_64\/8\/> Still working out kinks with the build slave...","ts":"1464807913.000402","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U11HH3P7Y","text":"Awesome","ts":"1464808102.000403"},{"type":"message","user":"U1BC5NF2S","text":"<@U0UHG4VP1>: Would you kindly add (as a manual webhook) `<https:\/\/jenkins.hyperledger.org\/ghprbhook\/>`? Please, and thank you!","ts":"1464810098.000404"},{"type":"message","user":"U1BC5NF2S","text":"<@U0UHG4VP1>: `issue_comment`, `pull_request` should be the event types","edited":{"user":"U1BC5NF2S","ts":"1464810229.000000"},"ts":"1464810221.000405"},{"type":"message","user":"U0UHG4VP1","text":"<@U1BC5NF2S>: this is for the fabric repo again, right?","ts":"1464810246.000407"},{"type":"message","user":"U1BC5NF2S","text":"<@U0UHG4VP1>: Correct","ts":"1464810253.000408"},{"type":"message","user":"U0UHG4VP1","text":"<@U1BC5NF2S>: and remove push event, right?","ts":"1464810390.000409"},{"type":"message","user":"U1BC5NF2S","text":"Yes.","ts":"1464810450.000410"},{"type":"message","subtype":"file_share","text":"<@U1BC5NF2S|bramwelt> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/bramwelt\/F1DD5LDDM\/pasted_image_at_2016_06_01_12_48_pm.png|Pasted image at 2016-06-01, 12:48 PM>","file":{"id":"F1DD5LDDM","created":1464810515,"timestamp":1464810515,"name":"Pasted image at 2016_06_01 12_48 PM.png","title":"Pasted image at 2016-06-01, 12:48 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U1BC5NF2S","editable":false,"size":63130,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1DD5LDDM\/pasted_image_at_2016_06_01_12_48_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1DD5LDDM\/download\/pasted_image_at_2016_06_01_12_48_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1DD5LDDM-9aedcbc8dc\/pasted_image_at_2016_06_01_12_48_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1DD5LDDM-9aedcbc8dc\/pasted_image_at_2016_06_01_12_48_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1DD5LDDM-9aedcbc8dc\/pasted_image_at_2016_06_01_12_48_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":259,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1DD5LDDM-9aedcbc8dc\/pasted_image_at_2016_06_01_12_48_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":345,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1DD5LDDM-9aedcbc8dc\/pasted_image_at_2016_06_01_12_48_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1DD5LDDM-9aedcbc8dc\/pasted_image_at_2016_06_01_12_48_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":518,"image_exif_rotation":1,"original_w":769,"original_h":553,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/bramwelt\/F1DD5LDDM\/pasted_image_at_2016_06_01_12_48_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1DD5LDDM-6c45cb29df","channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U1BC5NF2S","upload":true,"display_as_bot":false,"username":"<@U1BC5NF2S|bramwelt>","bot_id":null,"ts":"1464810520.000411"},{"type":"message","user":"U0KM61BCP","text":"you\u2019d think this could be automated;-)","ts":"1464897134.000412"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP>: It can, but it requires giving a random bot admin access to your repos...","ts":"1464897343.000413"},{"type":"message","user":"U0KM61BCP","text":"random?","ts":"1464897388.000414"},{"type":"message","user":"U0KM61BCP","text":"or a specific one","ts":"1464897393.000415"},{"type":"message","user":"U1BC5NF2S","text":"Okay, not actually random :wink:","ts":"1464897466.000416"},{"type":"message","user":"U1BC5NF2S","text":"<@U14FUGATW> <@U10Q62R8X> Is go available on your linuxone machines anywhere? If not, would you mind installing it (1.6) to `\/opt\/go`?","ts":"1464976767.000417"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP>: <https:\/\/jenkins.hyperledger.org\/view\/fabric\/> Builds are being triggered for github, though I'm still debugging issues with the x86 servers","ts":"1464976875.000418"},{"type":"message","user":"U10Q62R8X","text":"well its there.. I just wasnt in a sharing mood apparently :slightly_smiling_face:","ts":"1464976901.000419"},{"type":"message","subtype":"file_share","text":"<@U10Q62R8X|vpaprots> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F1E1SD2A0\/-.txt|Untitled>","file":{"id":"F1E1SD2A0","created":1464976911,"timestamp":1464976911,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U10Q62R8X","editable":true,"size":53,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1E1SD2A0\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1E1SD2A0\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F1E1SD2A0\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1E1SD2A0-2fb5896991","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F1E1SD2A0\/-.txt\/edit","preview":"[root@blockchain linux1]# which go\r\n\/root\/go\/bin\/go\r\n","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>[root@blockchain linux1]# which go<\/pre><\/div>\n<div><pre>\/root\/go\/bin\/go<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":3,"lines_more":0,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U10Q62R8X","upload":true,"display_as_bot":false,"username":"<@U10Q62R8X|vpaprots>","bot_id":null,"ts":"1464976913.000420"},{"type":"message","user":"U1BC5NF2S","text":"<@U10Q62R8X>: Haha","ts":"1464976952.000421"},{"type":"message","subtype":"file_share","text":"<@U10Q62R8X|vpaprots> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F1E243ZEZ\/-.txt|Untitled>","file":{"id":"F1E243ZEZ","created":1464977150,"timestamp":1464977150,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U10Q62R8X","editable":true,"size":244,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1E243ZEZ\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1E243ZEZ\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F1E243ZEZ\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1E243ZEZ-9a5e2c9615","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F1E243ZEZ\/-.txt\/edit","preview":"[jenkins@blockchain ~]$ export GOROOT=\/opt\/go\r\n[jenkins@blockchain ~]$ export PATH=$GOROOT\/bin:$PATH\r\n[jenkins@blockchain ~]$ go version\r\ngo version go1.6 linux\/s390x\r\n[jenkins@blockchain ~]$ which go\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>[jenkins@blockchain ~]$ export GOROOT=\/opt\/go<\/pre><\/div>\n<div><pre>[jenkins@blockchain ~]$ export PATH=$GOROOT\/bin:$PATH<\/pre><\/div>\n<div><pre>[jenkins@blockchain ~]$ go version<\/pre><\/div>\n<div><pre>go version go1.6 linux\/s390x<\/pre><\/div>\n<div><pre>[jenkins@blockchain ~]$ which go<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":8,"lines_more":3,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U10Q62R8X","upload":true,"display_as_bot":false,"username":"<@U10Q62R8X|vpaprots>","bot_id":null,"ts":"1464977150.000422"},{"type":"message","user":"U10Q62R8X","text":"just copied go directory to \/opt\/, not sure if thats the 'standard' practice, but seems to work","ts":"1464977189.000423"},{"type":"message","user":"U10Q62R8X","text":"<@U1BC5NF2S>:  btw.. baseimage:latest on z `GOROOT=\/usr\/lib\/go-1.6`","ts":"1464977290.000424"},{"type":"message","user":"U10Q62R8X","text":"thats where it gets installed on ubuntu, when you do apt-get golang..","ts":"1464977318.000425"},{"type":"message","user":"U11HH3P7Y","text":"<@U10Q62R8X>: keep the above mentioned GOROOT and PATH in \/etc\/profile.d\/goroot.sh and then source \/etc\/profile.d\/goroot.sh","ts":"1464977750.000426"},{"type":"message","user":"U1BC5NF2S","text":"Seems to be working: <https:\/\/jenkins.hyperledger.org\/view\/fabric\/job\/fabric-github-merge-z\/6\/console>","ts":"1464977822.000427"},{"type":"message","user":"U10Q62R8X","text":"<@U1BC5NF2S>:  where is the smiley for 'jumping up and down'!!!","ts":"1464977885.000428"},{"type":"message","user":"U11HH3P7Y","text":"yes.. seems it's not required.. anyway we are keeping it in jenkins shell every time.","ts":"1464977955.000429"},{"type":"message","user":"U1BC5NF2S","text":"<https:\/\/emoji.slack-edge.com\/T02H1G4T9\/partyparrot\/50b1c9ea8b4ba603.gif>","attachments":[{"fallback":"30x24px image","image_url":"https:\/\/emoji.slack-edge.com\/T02H1G4T9\/partyparrot\/50b1c9ea8b4ba603.gif","image_width":30,"image_height":24,"image_bytes":1655,"is_animated":true,"from_url":"https:\/\/emoji.slack-edge.com\/T02H1G4T9\/partyparrot\/50b1c9ea8b4ba603.gif","id":1}],"ts":"1464978054.000430"},{"type":"message","user":"U10Q62R8X","text":":slightly_smiling_face:","ts":"1464978084.000432"},{"type":"message","user":"U1BC5NF2S","text":"ramesh: That is something I can probably fix on the build server","ts":"1464978188.000433"},{"type":"message","user":"U11HH3P7Y","text":"ok","ts":"1464978730.000434"},{"type":"message","user":"U14FUGATW","text":":dancers: Only dancers I could find :slightly_smiling_face: :slightly_smiling_face: :slightly_smiling_face:","ts":"1464978858.000435"},{"type":"message","subtype":"file_share","text":"<@U1BC5NF2S|bramwelt> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/bramwelt\/F1E25TGDC\/-.sh|Untitled> and commented: Error from: <https:\/\/jenkins.hyperledger.org\/job\/fabric-github-merge-z\/6\/console>","file":{"id":"F1E25TGDC","created":1464979044,"timestamp":1464979044,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U1BC5NF2S","editable":true,"size":808,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1E25TGDC\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1E25TGDC\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/bramwelt\/F1E25TGDC\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1E25TGDC-cf79fe6814","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/bramwelt\/F1E25TGDC\/-.sh\/edit","preview":"getsockopt: no route to host\"; Reconnecting to \"0.0.0.0:60303\"\r\ncould not start chat Could not create client conn to 0.0.0.0:60303\r\npanic: runtime error: invalid memory address or nil pointer dereference\r\n[signal 0xb code=0x1 addr=0x0 pc=0x19881e]\r\n\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>getsockopt: no route to host<span class=\"cm-string\">&quot;; Reconnecting to &quot;<\/span><span class=\"cm-number\">0<\/span>.0.0.0:60303<span class=\"cm-string\">&quot;<\/span><\/pre><\/div>\n<div><pre>could not <span class=\"cm-builtin\">start<\/span> chat Could not create client conn to <span class=\"cm-number\">0<\/span>.0.0.0:60303<\/pre><\/div>\n<div><pre>panic: runtime error: invalid memory address or nil pointer dereference<\/pre><\/div>\n<div><pre>[signal 0xb <span class=\"cm-def\">code<\/span><span class=\"cm-operator\">=<\/span>0x1 <span class=\"cm-def\">addr<\/span><span class=\"cm-operator\">=<\/span>0x0 <span class=\"cm-def\">pc<\/span><span class=\"cm-operator\">=<\/span>0x19881e]<\/pre><\/div>\n<div><pre>&#8203;<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":14,"lines_more":9,"preview_is_truncated":null,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc1E2DNQKZ","created":1464979044,"timestamp":1464979044,"user":"U1BC5NF2S","is_intro":true,"comment":"Error from: <https:\/\/jenkins.hyperledger.org\/job\/fabric-github-merge-z\/6\/console>","channel":""}},"user":"U1BC5NF2S","upload":true,"display_as_bot":false,"username":"<@U1BC5NF2S|bramwelt>","bot_id":null,"ts":"1464979044.000436"},{"type":"message","user":"U10Q62R8X","text":"darn...","ts":"1464979241.000437"},{"type":"message","user":"U10Q62R8X","text":"I had some firewall issues before.. was leaving it to be figure out by people with more network knowledge..","ts":"1464979298.000438"},{"type":"message","user":"U10Q62R8X","text":"especially since docker seems to inject its own chains into iptables..","ts":"1464979321.000439"},{"type":"message","user":"U10Q62R8X","text":"I just made iptables accept everything.. could we try again?","ts":"1464979351.000440"},{"type":"message","user":"U10Q62R8X","text":"<@U1BC5NF2S>: ^^^","ts":"1464979363.000441"},{"type":"message","user":"U1BC5NF2S","text":"Sure","ts":"1464979379.000442","reactions":[{"name":"woo","users":["U0UHG4VP1","U11HH3P7Y"],"count":2}]},{"type":"message","user":"U10Q62R8X","text":"actually..","ts":"1464979393.000443"},{"type":"message","user":"U10Q62R8X","text":"one sec.. let me wipe all the docker containers!","ts":"1464979404.000444"},{"type":"message","user":"U10Q62R8X","text":"done","ts":"1464979474.000445"},{"type":"message","user":"U10Q62R8X","text":"oops, looks like i killed your build 7","ts":"1464979578.000446"},{"type":"message","user":"U1BC5NF2S","text":"No worries. Build 8 started","ts":"1464979714.000447","reactions":[{"name":"woo","users":["U0UHG4VP1","U10Q62R8X"],"count":2}]},{"type":"message","user":"U10Q62R8X","text":"spying on the build... wow.. we get calls to gcc!? heh.. brave..","ts":"1464979926.000448"},{"type":"message","subtype":"file_share","text":"<@U10Q62R8X|vpaprots> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F1E2J9PT7\/-.txt|Untitled>","file":{"id":"F1E2J9PT7","created":1464979932,"timestamp":1464979932,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U10Q62R8X","editable":true,"size":856,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1E2J9PT7\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1E2J9PT7\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F1E2J9PT7\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1E2J9PT7-4957f6a6ac","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F1E2J9PT7\/-.txt\/edit","preview":"jenkins  48105 48040  2 14:50 ?        00:00:00 go test -cover -timeout=20m github.com\/hyperledger\/fabric\/bddtests\/chaincode\/go\/table github.com\/hyperledger\/fabric\/consensus github.com\/hyperledger\/fabric\/consensu\r\njenkins  48777 48105  0 14:50 ?        00:00:00 gcc -I \/w\/workspace\/fabric-github-merge-z\/gopath\/src\/github.com\/hyperledger\/fabric\/vendor\/github.com\/mattn\/go-sqlite3 -fPIC -m64 -march=z196 -pthread -fmessage-leng\r\njenkins  48778 48777 98 14:50 ?        00:00:03 \/usr\/libexec\/gcc\/s390x-redhat-linux\/4.8.5\/cc1 -quiet -I \/w\/workspace\/fabric-github-merge-z\/gopath\/src\/github.com\/hyperledger\/fabric\/vendor\/github.com\/mattn\/go-sqlit\r\njenkins  48857 48105 55 14:50 ?        00:00:00 \/opt\/go\/pkg\/tool\/linux_s390x\/link -o \/tmp\/go-build214502251\/github.com\/hyperledger\/fabric\/consensus\/util\/_test\/util.test -L \/tmp\/go-build214502251\/github.com\/hyperl\r\n","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>jenkins  48105 48040  2 14:50 ?        00:00:00 go test -cover -timeout=20m github.com\/hyperledger\/fabric\/bddtests\/chaincode\/go\/table github.com\/hyperledger\/fabric\/consensus github.com\/hyperledger\/fabric\/consensu<\/pre><\/div>\n<div><pre>jenkins  48777 48105  0 14:50 ?        00:00:00 gcc -I \/w\/workspace\/fabric-github-merge-z\/gopath\/src\/github.com\/hyperledger\/fabric\/vendor\/github.com\/mattn\/go-sqlite3 -fPIC -m64 -march=z196 -pthread -fmessage-leng<\/pre><\/div>\n<div><pre>jenkins  48778 48777 98 14:50 ?        00:00:03 \/usr\/libexec\/gcc\/s390x-redhat-linux\/4.8.5\/cc1 -quiet -I \/w\/workspace\/fabric-github-merge-z\/gopath\/src\/github.com\/hyperledger\/fabric\/vendor\/github.com\/mattn\/go-sqlit<\/pre><\/div>\n<div><pre>jenkins  48857 48105 55 14:50 ?        00:00:00 \/opt\/go\/pkg\/tool\/linux_s390x\/link -o \/tmp\/go-build214502251\/github.com\/hyperledger\/fabric\/consensus\/util\/_test\/util.test -L \/tmp\/go-build214502251\/github.com\/hyperl<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":5,"lines_more":0,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U10Q62R8X","upload":true,"display_as_bot":false,"username":"<@U10Q62R8X|vpaprots>","bot_id":null,"ts":"1464979932.000449"},{"type":"message","subtype":"file_share","text":"<@U10Q62R8X|vpaprots> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F1E164JKD\/-.txt|Untitled>","file":{"id":"F1E164JKD","created":1464980356,"timestamp":1464980356,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U10Q62R8X","editable":true,"size":496,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1E164JKD\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1E164JKD\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F1E164JKD\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1E164JKD-358104f5ec","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F1E164JKD\/-.txt\/edit","preview":"ok  \tgithub.com\/hyperledger\/fabric\/tools\/busywork\/busywork\t0.340s\tcoverage: 88.9% of statements\r\n?   \tgithub.com\/hyperledger\/fabric\/tools\/busywork\/counters\t[no test files]\r\nok  \tgithub.com\/hyperledger\/fabric\/tools\/dbutility\t1.550s\tcoverage: 32.4% of statements\r\nStopping peer..\r\n[fabric-github-merge-z] $ \/bin\/bash -eu \/tmp\/hudson4270552084337276627.sh\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>ok      github.com\/hyperledger\/fabric\/tools\/busywork\/busywork   0.340s  coverage: 88.9% of statements<\/pre><\/div>\n<div><pre>?       github.com\/hyperledger\/fabric\/tools\/busywork\/counters   [no test files]<\/pre><\/div>\n<div><pre>ok      github.com\/hyperledger\/fabric\/tools\/dbutility   1.550s  coverage: 32.4% of statements<\/pre><\/div>\n<div><pre>Stopping peer..<\/pre><\/div>\n<div><pre>[fabric-github-merge-z] $ \/bin\/bash -eu \/tmp\/hudson4270552084337276627.sh<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":8,"lines_more":3,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U10Q62R8X","upload":true,"display_as_bot":false,"username":"<@U10Q62R8X|vpaprots>","bot_id":null,"ts":"1464980356.000450"},{"type":"message","user":"U11HH3P7Y","text":"fetching docker 0 ipaddress failed..","ts":"1464980365.000451"},{"type":"message","user":"U10Q62R8X","text":"<@U1BC5NF2S>:  hmm...","ts":"1464980372.000452"},{"type":"message","subtype":"file_share","text":"<@U10Q62R8X|vpaprots> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F1E2H1EG0\/-.txt|Untitled>","file":{"id":"F1E2H1EG0","created":1464980424,"timestamp":1464980424,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U10Q62R8X","editable":true,"size":565,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1E2H1EG0\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1E2H1EG0\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F1E2H1EG0\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1E2H1EG0-69b7622201","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F1E2H1EG0\/-.txt\/edit","preview":"[root@blockchain linux1]# sudo su jenkins\r\n[jenkins@blockchain linux1]$ ifconfig\r\ndocker0: flags=4099<UP,BROADCAST,MULTICAST>  mtu 1500\r\n        inet 172.17.0.1  netmask 255.255.0.0  broadcast 0.0.0.0\r\n        inet6 fe80::42:b8ff:fed6:7192  prefixlen 64  scopeid 0x20<link>\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>[root@blockchain linux1]# sudo su jenkins<\/pre><\/div>\n<div><pre>[jenkins@blockchain linux1]$ ifconfig<\/pre><\/div>\n<div><pre>docker0: flags=4099&lt;UP,BROADCAST,MULTICAST&gt;  mtu 1500<\/pre><\/div>\n<div><pre>        inet 172.17.0.1  netmask 255.255.0.0  broadcast 0.0.0.0<\/pre><\/div>\n<div><pre>        inet6 fe80::42:b8ff:fed6:7192  prefixlen 64  scopeid 0x20&lt;link&gt;<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":12,"lines_more":7,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0,"num_stars":1},"user":"U10Q62R8X","upload":true,"display_as_bot":false,"username":"<@U10Q62R8X|vpaprots>","bot_id":null,"ts":"1464980424.000453"},{"type":"message","user":"U1BC5NF2S","text":"My only guess is PATH gets reset somehow to not contain `\/usr\/sbin`","ts":"1464980497.000454"},{"type":"message","user":"U11HH3P7Y","text":"also, we have to change this command to `ip=\"$(ifconfig docker0 | grep \"inet addr:\" | awk '{{print $2}}' | cut -d ':' -f 2)\"` to `ip=\"$(ifconfig docker0 | grep \"inet\" | awk '{{print $2}}' | cut -d ':' -f 2)\"","ts":"1464980531.000455"},{"type":"message","user":"U10Q62R8X","text":":slightly_smiling_face:","ts":"1464980554.000456"},{"type":"message","user":"U10Q62R8X","text":"sounds like I should get out of the way :slightly_smiling_face:","ts":"1464980567.000457"},{"type":"message","user":"U10Q62R8X","text":"and finish golang? lol","ts":"1464980599.000458"},{"type":"message","user":"U0UHG4VP1","text":"Nothing wrong with Finnish golang :slightly_smiling_face:","ts":"1464980626.000459"},{"type":"message","user":"U10Q62R8X","text":"I will let Dan and Ramesh fix this and stop procrastinating.. all that ECC math is scaring me to find other work!","ts":"1464980681.000460"},{"type":"message","user":"U14FUGATW","text":"FYI, I moved go from \/root\/go to \/opt\/go, on dmlinux1rhel72 which is the Jenkins hyp-z-linuxone-1 system","ts":"1464982117.000461"},{"type":"message","user":"U1BC5NF2S","text":"<@U14FUGATW>: Thank you!","ts":"1464985502.000462"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP>: Hey Chris, here's where we're at. Jobs are getting triggered by PRs and merges on Github, but statuses are not being reported back. This is most likely a permissions issue. Builds are being ran on Z hosts as well, but currently fail due to a Go bug. x86 builds are currently failing due to some misconfiguration of docker on the system that I have yet to understand. I'll get you more info on Monday when I'm back in the office. Have a good weekend!","ts":"1465012169.000463"},{"type":"message","user":"U0KM61BCP","text":"<@U1BC5NF2S>: thanks for the update","ts":"1465061734.000464"},{"user":"U1EEGQARJ","type":"message","subtype":"channel_join","text":"<@U1EEGQARJ|philippe> has joined the channel","ts":"1465226740.000002"},{"user":"U1E795PLG","type":"message","subtype":"channel_join","text":"<@U1E795PLG|starsheriff> has joined the channel","ts":"1465288843.000003"},{"user":"U1D5P2DHD","type":"message","subtype":"channel_join","text":"<@U1D5P2DHD|randy> has joined the channel","ts":"1465327291.000004"},{"user":"U16NDNH08","type":"message","subtype":"channel_join","text":"<@U16NDNH08|crow15> has joined the channel","ts":"1465402752.000005"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP> x86 builds have been working for the last couple of days.","ts":"1465415040.000006"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP>: Notifications have been disabled for PRs as currently Z builds are failing. Looking into getting just x86 notifications added back.","edited":{"user":"U1BC5NF2S","ts":"1465415074.000000"},"ts":"1465415069.000007"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KM61BCP>: we need repositories in `hyperledger docker hub` to push `hyperledger-peer` and `membersrvc`  `x86` and `z` docker images","ts":"1465419646.000009"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y>: note that PR 1708 unifies the naming","ts":"1465421796.000010"},{"type":"message","user":"U11HH3P7Y","text":"ok will  check that","ts":"1465421821.000011"},{"type":"message","user":"U0KPFAZNF","text":"they now look like hyperledger\/fabric-**","ts":"1465421841.000012"},{"type":"message","user":"U0KPFAZNF","text":"[peer, membersrvc]","ts":"1465421852.000013"},{"type":"message","user":"U11HH3P7Y","text":"yes..","ts":"1465421859.000014"},{"type":"message","user":"U11HH3P7Y","text":"We are looking for repositories for these images in hyperledger docker hub","ts":"1465421883.000015"},{"type":"message","user":"U0KPFAZNF","text":"understood, i was just pointing out the names have changed","ts":"1465421900.000016"},{"type":"message","user":"U1BC5NF2S","text":"Notifications for PRs re-enabled just for x86","ts":"1465424982.000017"},{"type":"message","user":"U1BC5NF2S","text":"Made some progress debugging Z builds, waiting for a job to complete for more information","ts":"1465425003.000018"},{"type":"message","user":"U1BC5NF2S","text":"We have a successful build on Z! <https:\/\/jenkins.hyperledger.org\/view\/fabric\/job\/fabric-github-merge-z\/35\/>","ts":"1465427121.000019","reactions":[{"name":"+1","users":["U10Q62R8X"],"count":1}]},{"type":"message","user":"U11HH3P7Y","text":"wow","ts":"1465427141.000020"},{"type":"message","user":"U1BC5NF2S","text":"Testing on the other LinuxONE machine to verify both work","ts":"1465427144.000021","reactions":[{"name":"slightly_smiling_face","users":["U10Q62R8X"],"count":1}]},{"type":"message","user":"U11HH3P7Y","text":"successful builds on both x86 and Z..","ts":"1465427198.000022"},{"type":"message","user":"U0KM61BCP","text":"cool!","ts":"1465437721.000023"},{"user":"U1FB2EXB8","type":"message","subtype":"channel_join","text":"<@U1FB2EXB8|baqer> has joined the channel","ts":"1465451607.000024"},{"user":"U0YQQRNU8","type":"message","subtype":"channel_join","text":"<@U0YQQRNU8|amundson> has joined the channel","ts":"1465486205.000025"},{"type":"message","user":"U0KM61BCP","text":"<@U11HH3P7Y>: help me understand what you need please? Not sure I completely understand your ask above","ts":"1465486794.000026"},{"type":"message","user":"U0KM61BCP","text":"<@U1BC5NF2S>: awesome work, when you say we have a build, I take it that is a full build of fabric equivalent to what we have with Travis?","ts":"1465486836.000027"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP>: Correct","ts":"1465486855.000028"},{"type":"message","user":"U0KM61BCP","text":"amazing - fantastic!","ts":"1465486866.000029"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP>: On both x86 and Z, though one or both of the Z machines are being a little finicky right now","ts":"1465486884.000030"},{"type":"message","user":"U0KM61BCP","text":"gather we are running in parallel then for a period until we can confidently delete the Travis integration?","ts":"1465486893.000031"},{"type":"message","user":"U11HH3P7Y","text":"We have to create repository names in hyperledger docker hub to upload Hyperledger-peer and membersrvc docker images","ts":"1465486919.000032"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP>: Correct.","ts":"1465486929.000033"},{"type":"message","user":"U11HH3P7Y","text":"<https:\/\/hub.docker.com\/r\/hyperledger\/fabric-baseimage\/>","ts":"1465486949.000034"},{"type":"message","user":"U11HH3P7Y","text":"after successful builds on x86 and z machines, as per z team we have to upload `hyperledger\/fabric-peer` and `hyperledger\/fabric-membersrvc` images to docker hub.","ts":"1465487442.000035"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y>: I can do this once someone like <@U0KM61BCP> approves it","ts":"1465487459.000036"},{"type":"message","user":"U11HH3P7Y","text":"<@U14FUGATW>: correct me if I am wrong","ts":"1465487469.000037"},{"type":"message","user":"U0KPFAZNF","text":"please follow the $arch tagging scheme (see baseimage for example)","ts":"1465487485.000038"},{"type":"message","user":"U11HH3P7Y","text":"sure <@U0KPFAZNF>","ts":"1465487560.000039"},{"type":"message","user":"U14FUGATW","text":"FYI, we would also be using the z docker images from docker hub to build zACI images.","ts":"1465487896.000040"},{"type":"message","user":"U0KM61BCP","text":"I cannot recall whether we wanted to have the architecture in the image names or not","ts":"1465488245.000041"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF>: where did we land with that?","ts":"1465488254.000042"},{"type":"message","user":"U0KM61BCP","text":"and remind me, didn\u2019t we want to have the process automated? eg not a manual upload but a function of a process that includes testing and reviews and a go decision to upload new images?","ts":"1465488324.000043"},{"type":"message","user":"U11HH3P7Y","text":"We are planning to automate this process only after successful merge.","ts":"1465488411.000044"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP>: we currently put $arch in the tag for baseimage","ts":"1465488496.000045"},{"type":"message","user":"U11HH3P7Y","text":"for every successful merge in github, jenkins sends these images to docker hub","ts":"1465488510.000046"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP>: <https:\/\/hub.docker.com\/r\/hyperledger\/fabric-baseimage\/tags\/>","ts":"1465488710.000047"},{"type":"message","user":"U0KPFAZNF","text":"one thing though, this works because of how we handle baseimages specifically","ts":"1465488786.000048"},{"type":"message","user":"U0KPFAZNF","text":"it _might_ make more sense to put the $arch in the name for other images so people may exploit the notion of :latest","ts":"1465488819.000049"},{"type":"message","user":"U0KPFAZNF","text":"e.g. \u201cdocker pull hyperledger\/fabric-peer-x86_64\u201d would just get whatever the latest image is","ts":"1465488883.000050"},{"type":"message","user":"U0KPFAZNF","text":"otherwise, they would need to fully qualify the version","ts":"1465488899.000051"},{"type":"message","user":"U0KPFAZNF","text":"though I suppose if they need to know $arch, they could synthesize the tag too","ts":"1465488927.000052"},{"type":"message","user":"U0KPFAZNF","text":"e.g. <@U11HH3P7Y> and company could push images tagged with :$arch-$gitsha and the latest as $arch-latest","ts":"1465488967.000053"},{"type":"message","user":"U0KPFAZNF","text":"that should work equally well, i would think","ts":"1465488992.000054"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP>: regarding automation, its still a manual process today, but I would love it if it could be automated","ts":"1465489058.000055"},{"type":"message","user":"U0KPFAZNF","text":"the process is a bit of a PITA for me today, but thankfully we update baseimage very infrequently","ts":"1465489083.000056"},{"type":"message","user":"U0KM61BCP","text":"hmmm","ts":"1465489096.000057"},{"type":"message","user":"U0KPFAZNF","text":"to be clear, I think Jenkins will make this easy to automate","ts":"1465489109.000058"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins: it could probably be done via jenkins, feel free to take a look at the ci repo and start pushing patches","ts":"1465489109.000059"},{"type":"message","user":"U0KPFAZNF","text":"we just lacked that platform historically","ts":"1465489115.000060"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: yeah, i suspect that is the case","ts":"1465489131.000061"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: docker image generation I suspect will be fairly straight forward\u2026it would be nice if we could automate the vagrant side too but in order to do that we would need an x86 worker that has facilities for running virtualbox","ts":"1465489216.000062"},{"type":"message","user":"U0KPFAZNF","text":"(we may already have that today, not sure\u2026just saying, that is one of the requirements)","ts":"1465489233.000063"},{"type":"message","user":"U11HH3P7Y","text":"yes, it is possible in jenkins.. I have submitted patch for review","ts":"1465489339.000064"},{"type":"message","user":"U1BC5NF2S","text":"ghaskins: You are referring to the vagrant images in fabric, correct, not the x86 build servers?","ts":"1465498276.000065"},{"type":"message","user":"U0KPFAZNF","text":"<@U1BC5NF2S>: im not sure I am understanding the question, but I think the answer is \u201cyes\"","ts":"1465499287.000066"},{"type":"message","user":"U0KPFAZNF","text":"what I meant specifically was: today we can build the vagrant hyperledger\/fabric-baseimage by doing \u201ccd images\/base; make vagrant\"","ts":"1465499323.000067"},{"type":"message","user":"U0KPFAZNF","text":"and that will spin up a packer job on top of virtualbox, and produce a vagrant image suitable for pushing to atlas","ts":"1465499347.000068"},{"type":"message","user":"U0KPFAZNF","text":"it would be awesome to have that automated in jenkins, but it would require a worker that has access to creating its own virtualbox vms as part of its workload","ts":"1465499382.000069"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KPFAZNF>: Yes, that was what I was wondering.","ts":"1465499433.000070"},{"type":"message","user":"U0KPFAZNF","text":"im guessing this would mean some kind of static x86 build server, as any kind of dynamic one is likely to be a virtual worker and may not be compatible with nesting virtualbox","ts":"1465499537.000071"},{"type":"message","user":"U0KPFAZNF","text":"(though not impossible)","ts":"1465499545.000072"},{"type":"message","user":"U0KPFAZNF","text":"depending on the hardware and HVM, it may allow nesting","ts":"1465499572.000073"},{"type":"message","user":"U1BC5NF2S","text":"I'm pretty sure you can nest virtualbox under kvm","ts":"1465499903.000074"},{"type":"message","user":"U1BC5NF2S","text":"It's just sorta silly though when you have a perfectly fine hypervisor already (kvm) :wink:","ts":"1465499948.000075"},{"type":"message","user":"U0KPFAZNF","text":":slightly_smiling_face:","ts":"1465502528.000076"},{"type":"message","user":"U0KPFAZNF","text":"it might be possible to generate the image somewhere other than virtualbox, but it would need to be qualified","ts":"1465502567.000077"},{"type":"message","user":"U1BC5NF2S","text":"That's true.","ts":"1465502890.000078"},{"type":"message","user":"U0KPFAZNF","text":"does anyone know if we are building rocksdb in the new jenkins pipeline?","ts":"1465502951.000079"},{"type":"message","user":"U1BC5NF2S","text":"Yes","ts":"1465502957.000080"},{"type":"message","user":"U0KPFAZNF","text":"per job?","ts":"1465502963.000081"},{"type":"message","user":"U1BC5NF2S","text":"No","ts":"1465502965.000082"},{"type":"message","user":"U0KPFAZNF","text":"(like travis)","ts":"1465502969.000083"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1465502970.000084"},{"type":"message","user":"U1BC5NF2S","text":"Does that need to change?","ts":"1465502979.000085"},{"type":"message","user":"U0KPFAZNF","text":"no no, I just have a proposal if we were, but if jenkins doesnt do that and travis is soon-to-be-retired, I wont bother","ts":"1465503005.000086"},{"type":"message","user":"U1BC5NF2S","text":"I would expect a specific version of rocksdb would be targeted to test changes against.","ts":"1465503007.000087"},{"type":"message","user":"U0KPFAZNF","text":"yes","ts":"1465503019.000088"},{"type":"message","user":"U11HH3P7Y","text":"That's the beauty of jenkins :slightly_smiling_face:","ts":"1465503059.000089"},{"type":"message","user":"U1BC5NF2S","text":"<http:\/\/gerrit.hyperledger.org\/r\/161> This should hopefully ensure the build environment is clean.","ts":"1465509137.000090"},{"type":"message","user":"U1BC5NF2S","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/Makefile#L185> - I'm a little confused here. Is fabric-baseimage created in the same directory as fabric-base ?","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/Makefile#L185","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/Makefile#L185","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1465509378.000091"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KPFAZNF>: ^","ts":"1465509388.000093"},{"type":"message","user":"U11HH3P7Y","text":"<@U1BC5NF2S>: Did you test this <http:\/\/gerrit.hyperledger.org\/r\/161>?","ts":"1465511957.000094"},{"type":"message","user":"U1BC5NF2S","text":"Not explicitly. Give me a minute and I'll throw it at a build server","ts":"1465512184.000095"},{"type":"message","user":"U1BC5NF2S","text":"Got errors that jenkins can't remove a directory owned by root. I'm guessing they were created by the docker image.","ts":"1465512672.000096"},{"type":"message","user":"U1BC5NF2S","text":"Other than that the `|| true` should keep this from failing jobs if we need to debug it further","ts":"1465512702.000097"},{"type":"message","user":"U1BC5NF2S","text":"(just updated with `make dist-clean || true`)","ts":"1465512715.000098"},{"type":"message","user":"U1BC5NF2S","text":"If that looks good to you, go ahead and `+1`","ts":"1465512804.000099"},{"type":"message","user":"U11HH3P7Y","text":"yes. LGTM","ts":"1465512867.000100"},{"type":"message","user":"U11HH3P7Y","text":"+1","ts":"1465512874.000101"},{"type":"message","user":"U11HH3P7Y","text":"Also, we have to kill peer and membersrvc processes","ts":"1465513040.000102"},{"type":"message","user":"U11HH3P7Y","text":"seems builds are failing in x86","ts":"1465513187.000103"},{"user":"U0P2GSA8Z","type":"message","subtype":"channel_join","text":"<@U0P2GSA8Z|arnaud> has joined the channel","ts":"1465513958.000104"},{"type":"message","user":"U0P2GSA8Z","text":"hi there, so I just looked into gerrit - which I have no experience with - and realized this is quite a big change in the way we are working","ts":"1465514201.000105"},{"type":"message","user":"U0P2GSA8Z","text":"when are we actually going to flip the switch?","ts":"1465514209.000106"},{"type":"message","user":"U0KM61BCP","text":"is there a way to trigger a Jenkins rerun without pushing another commit?","ts":"1465514221.000107"},{"type":"message","user":"U0KM61BCP","text":"re: gerrit, after june","ts":"1465514245.000108"},{"type":"message","user":"U0P2GSA8Z","text":"ok","ts":"1465514250.000109"},{"type":"message","user":"U0KM61BCP","text":"needs to be planned","ts":"1465514253.000110"},{"type":"message","user":"U0P2GSA8Z","text":"so, we won't use github PRs anymore, correct?","ts":"1465514279.000111"},{"type":"message","user":"U11HH3P7Y","text":"yes <@U0P2GSA8Z>","ts":"1465514368.000112"},{"type":"message","user":"U0P2GSA8Z","text":"and from what I understand with gerrit you work directly on a clone of the project, not of your fork, correct?","ts":"1465514388.000113"},{"type":"message","user":"U0P2GSA8Z","text":"that's what I got from reading the intro tutorial and Ry's video","ts":"1465514501.000114"},{"type":"message","user":"U0P2GSA8Z","text":"I guess I should ask <@U0UHG4VP1>  :slightly_smiling_face:","edited":{"user":"U0P2GSA8Z","ts":"1465514560.000000"},"ts":"1465514550.000115"},{"type":"message","user":"U0KPFAZNF","text":"<@U1BC5NF2S>: note that there is no \u201cfabric-base\u201d, image literally\u2026there is hyperledger\/fabric-baseimage in docker which is built using the logical name of \u201cbase\u201d in the makefile\u2026e.g. base-image, base-image-clean, etc","ts":"1465515149.000117"},{"type":"message","user":"U0KPFAZNF","text":"is that what you meant?","ts":"1465515153.000118"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP>: Comment 'reverify jenkins' on a PR","ts":"1465515213.000119"},{"type":"message","user":"U0KM61BCP","text":"danke","ts":"1465515228.000120"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KPFAZNF>: Awesome. That's exactly what I wanted to know. :slightly_smiling_face:","ts":"1465515246.000121"},{"type":"message","user":"U0KPFAZNF","text":"(and yes, I was slightly inconsistent in that there is the names the makefile deals with being [base src ccenv peer membersrvc] and all the images use hyperledger\/fabric-$name except base, which is baseimage","ts":"1465515290.000122"},{"type":"message","user":"U0KPFAZNF","text":"(thus that override","ts":"1465515294.000123"},{"type":"message","user":"U0KPFAZNF","text":"i left it because we had the dockerhub precedent","ts":"1465515309.000124"},{"type":"message","user":"U0UHG4VP1","text":"I see <@U1BC5NF2S> already covered it","ts":"1465517201.000129"},{"type":"message","user":"U11HH3P7Y","text":"<https:\/\/github.com\/hyperledger\/fabric\/pull\/1760> -- just now rebuild jenkins with phrase `reverify jenkins`","attachments":[{"service_name":"GitHub","title":"Testing Jenkins setup by rameshthoomu \u00b7 Pull Request #1760 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1760","text":"Testing Jenkins build skip functionality Description Testing Jenkins build skip functionality Motivation and Context Fixes # How Has This Been Tested? Checklist: I have adde...","fallback":"GitHub: Testing Jenkins setup by rameshthoomu \u00b7 Pull Request #1760 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/17034502?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1760","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1465517252.000130"},{"type":"message","user":"U0UHG4VP1","text":"<@U0P2GSA8Z>: if you have questions please ask. Feel free to send email as I'll be offline until Monday","ts":"1465517302.000132"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0UHG4VP1>: well, I still would like confirmation on the clone aspect, that we work directly of the main repo rather than our own fork","ts":"1465518956.000133"},{"type":"message","user":"U0UHG4VP1","text":"essentially, yes","ts":"1465519010.000134"},{"type":"message","user":"U0P2GSA8Z","text":"ok, thanks","ts":"1465519023.000135"},{"type":"message","user":"U0P2GSA8Z","text":"as I was saying initially that's quite a change in the way we're working","ts":"1465519051.000136"},{"type":"message","user":"U0UHG4VP1","text":"it is, but I think it\u2019s more of a change in mindset. you\u2019re doing the same actions just a little differently","ts":"1465519253.000137"},{"type":"message","user":"U0UHG4VP1","text":"the biggest mindset change is that until a change is merged, you can freely upload new patches without ending up with a bunch of changes in the git log.","ts":"1465519310.000138"},{"type":"message","user":"U0P2GSA8Z","text":"how so?","ts":"1465519486.000139"},{"type":"message","user":"U0P2GSA8Z","text":"ok, id is lehors","ts":"1465519569.000140"},{"type":"message","user":"U0UHG4VP1","text":"if you take a look here: <https:\/\/gerrit.hyperledger.org\/r\/#\/q\/status:open+project:lf-sandbox>","ts":"1465519591.000141"},{"type":"message","user":"U0UHG4VP1","text":"are you able to log in to <http:\/\/gerrit.hyperledger.org|gerrit.hyperledger.org>?","ts":"1465519629.000142"},{"type":"message","user":"U0KPFAZNF","text":"speaking of Gerrit, did that training demo happen and is it available?","ts":"1465519650.000143"},{"type":"message","user":"U0P2GSA8Z","text":"yes, it did","ts":"1465519662.000144"},{"type":"message","user":"U0P2GSA8Z","text":"that's what led me to my questions :slightly_smiling_face:","ts":"1465519676.000145"},{"type":"message","user":"U0KPFAZNF","text":"i had meant to attend but the time got away from me","ts":"1465519677.000146"},{"type":"message","user":"U0UHG4VP1","text":"arnaud: I\u2019m unable to find you in the user db, but for now, it doesn\u2019t matter as long as you can log in","ts":"1465519688.000147"},{"type":"message","user":"U0KPFAZNF","text":"ah, heh","ts":"1465519692.000148"},{"type":"message","user":"U0P2GSA8Z","text":"not working yet","ts":"1465519722.000149"},{"type":"message","user":"U0P2GSA8Z","text":"but I'll give it a bit of time and try again","ts":"1465519735.000150"},{"type":"message","user":"U0UHG4VP1","text":"did you verify the email? it should be instant","ts":"1465519744.000151"},{"type":"message","user":"U0KPFAZNF","text":"is there a link for a screencast or something I can view?","ts":"1465519751.000152"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins: it was in the tsc notes, let me look","ts":"1465519768.000153"},{"type":"message","user":"U0P2GSA8Z","text":"<https:\/\/drive.google.com\/open?id=0B42vMkapQi1MWWJ5cVRZOUhCbUU>","ts":"1465519774.000154"},{"text":"hides his shame at how poorly it went","type":"message","subtype":"me_message","user":"U0UHG4VP1","ts":"1465519777.000155"},{"type":"message","user":"U0P2GSA8Z","text":"oops, wrong link","ts":"1465519790.000156"},{"type":"message","user":"U0P2GSA8Z","text":"<https:\/\/drive.google.com\/open?id=0B42vMkapQi1MSzRjYlhfSkFRSzA>","ts":"1465519795.000157"},{"type":"message","user":"U0KPFAZNF","text":"ty","ts":"1465519799.000158"},{"type":"message","user":"U0P2GSA8Z","text":"yw","ts":"1465519817.000159"},{"type":"message","user":"U0P2GSA8Z","text":"(off-topic: anyone watching the sharks\/penguin game? it's crazy: 4 goals in first 5 minutes)","ts":"1465519974.000160"},{"type":"message","user":"U0UHG4VP1","text":"hopefully the sharks are on top","ts":"1465520002.000161"},{"type":"message","user":"U0UHG4VP1","text":"barely!","ts":"1465520028.000162"},{"type":"message","user":"U0P2GSA8Z","text":"yeah, now 5 to 4","ts":"1465520066.000163"},{"type":"message","user":"U0P2GSA8Z","text":"sorry 3 to 2","ts":"1465520073.000164"},{"type":"message","user":"U0P2GSA8Z","text":"it's not THAT crazy :wink:","ts":"1465520086.000165"},{"type":"message","user":"U0UHG4VP1","text":"never know!","ts":"1465520092.000166"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/143\/> has two patches, the initial commit and patch 2, which is a rebase. should patch 2 be committed, patch 1 won\u2019t show up in the git log","ts":"1465520125.000167"},{"type":"message","user":"U0UHG4VP1","text":"just updated to patch 3 with a commit message edit. that is the commit message that will show up in git log","ts":"1465520233.000168"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> i started watching the video, and I will finish it later\u2026but one question I had right away was: how are the \u201cchanges\u201d introduced for review?","ts":"1465520241.000169"},{"type":"message","user":"U0P2GSA8Z","text":"ah, ok, got it","ts":"1465520242.000170"},{"type":"message","user":"U0KPFAZNF","text":"is it email to the list","ts":"1465520252.000171"},{"type":"message","user":"U0P2GSA8Z","text":"push","ts":"1465520253.000172"},{"type":"message","user":"U0KPFAZNF","text":"?","ts":"1465520253.000173"},{"type":"message","user":"U0KPFAZNF","text":"ah, push to what?","ts":"1465520265.000174"},{"type":"message","user":"U0UHG4VP1","text":"git push origin HEAD:refs\/for\/{branch}","ts":"1465520270.000175"},{"type":"message","user":"U0UHG4VP1","text":"so git push origin HEAD:refs\/for\/master","ts":"1465520278.000176"},{"type":"message","user":"U0P2GSA8Z","text":"that's the thing I was talking about: you no longer off of a fork","ts":"1465520291.000177"},{"type":"message","user":"U0KPFAZNF","text":"ah, so in this model, everyone has commit access at some level to a single repo?","ts":"1465520292.000178"},{"type":"message","user":"U0P2GSA8Z","text":"you work off of a clone of the main repo","ts":"1465520299.000179"},{"type":"message","user":"U0KPFAZNF","text":"im not clear on the difference between a fork and a clone","ts":"1465520320.000180"},{"type":"message","user":"U0UHG4VP1","text":"you\u2019ll need the pre-commit hook to generate the change ID to make it automagic.","ts":"1465520321.000181"},{"type":"message","user":"U0P2GSA8Z","text":"and when you push upstream it puts it up for review","ts":"1465520321.000182"},{"type":"message","user":"U0P2GSA8Z","text":"the fork is what you have on github in your own space like <http:\/\/lehors.github.com\/fabric>","ts":"1465520377.000183"},{"type":"message","user":"U0P2GSA8Z","text":"the clone is what you have on your local machine","ts":"1465520387.000184"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins: the difference is your changes aren\u2019t merged to your branch directly. it is very similar to a PR that hasn\u2019t been merged.","ts":"1465520390.000185"},{"type":"message","user":"U0P2GSA8Z","text":"at least, that's what I understood :wink:","ts":"1465520407.000186"},{"text":"admits that you could add two remotes: one to <http:\/\/gerrit.hyp.org|gerrit.hyp.org>, one to github, and do both at once","type":"message","subtype":"me_message","user":"U0UHG4VP1","ts":"1465520427.000187"},{"type":"message","user":"U0KPFAZNF","text":"ok, so to play this back: today with github: we have the upstream repo, a github fork, and a local clone","ts":"1465520429.000188"},{"type":"message","user":"U0P2GSA8Z","text":"maybe you work in a different way?","ts":"1465520429.000189"},{"type":"message","user":"U0UHG4VP1","text":"but that might not be the best way to start :slightly_smiling_face:","ts":"1465520439.000190"},{"type":"message","user":"U0P2GSA8Z","text":"right","ts":"1465520446.000191"},{"type":"message","user":"U0KPFAZNF","text":"i can do whatever locally, no one sees it, then I can push local -&gt; fork, and its public, but not a PR, and then I can create a PR from there","ts":"1465520464.000192"},{"type":"message","user":"U0P2GSA8Z","text":"yep","ts":"1465520477.000193"},{"type":"message","user":"U0KPFAZNF","text":"IIUC, in this model we have upstream repo and a local clone, and whatever I push to the local clone automatically gets something like a \u201cPR\u201d registered","ts":"1465520504.000194"},{"type":"message","user":"U0P2GSA8Z","text":"well, you don't push to your local clone","ts":"1465520536.000195"},{"type":"message","user":"U0KPFAZNF","text":"sorry, commit","ts":"1465520544.000196"},{"type":"message","user":"U0P2GSA8Z","text":"yeah, you can commit as much as you want, that remains private","ts":"1465520558.000197"},{"type":"message","user":"U0KPFAZNF","text":"(though if this works as I am describing, I probably will be, heh","ts":"1465520561.000198"},{"type":"message","user":"U0P2GSA8Z","text":"when you push that creates the \"PR\"","ts":"1465520570.000199"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/www.zephyrproject.org\/doc\/contribute\/gerrit.html> is the basic workflow, s\/zephyr\/hyperledger\/g","ts":"1465520586.000200"},{"type":"message","user":"U0P2GSA8Z","text":"please <@U0UHG4VP1> correct me I'm wrong","ts":"1465520589.000201"},{"type":"message","user":"U0UHG4VP1","text":"arnaud: you\u2019re fine","ts":"1465520598.000202"},{"type":"message","user":"U0P2GSA8Z","text":"but I'm using greg as my guinea pig to see if I got it right :wink:","ts":"1465520614.000203"},{"type":"message","user":"U0UHG4VP1","text":"I\u2019m trying to stay out of your way","ts":"1465520615.000204"},{"type":"message","user":"U0KPFAZNF","text":"ok, so I basically do a git push from local-&gt;upstream, but rather than the normal \u201ci have remote access\u201d it does something else by making a review thingy in the Gerrit UI","edited":{"user":"U0KPFAZNF","ts":"1465520640.000000"},"ts":"1465520617.000205"},{"type":"message","user":"U0P2GSA8Z","text":"that's it","ts":"1465520647.000207"},{"type":"message","user":"U0KPFAZNF","text":"ok, got it","ts":"1465520650.000208"},{"type":"message","user":"U0P2GSA8Z","text":"dinner calling, ttyl","ts":"1465520662.000209"},{"type":"message","user":"U0KPFAZNF","text":"ok, sounds good, have to step out myself","ts":"1465520670.000210"},{"type":"message","user":"U0KPFAZNF","text":"later","ts":"1465520671.000211"},{"type":"message","user":"U0UHG4VP1","text":"then, if you edit your pending change, you can git commit \u2014amend and push a new patch without creating a new change.","ts":"1465520687.000212"},{"type":"message","user":"U0UHG4VP1","text":"ttyl","ts":"1465520688.000213"},{"type":"message","user":"U0KPFAZNF","text":"is there a concept of \u201cbranch\"","ts":"1465520710.000214"},{"type":"message","user":"U0KPFAZNF","text":"for instance, i often times have multiple change sets brewing, often each comprised of multiple patches","ts":"1465520736.000215"},{"type":"message","user":"U0UHG4VP1","text":"there is, some projects are pretty free with creating them and some aren\u2019t. I don\u2019t know how hyperledger will work out","ts":"1465520743.000216"},{"type":"message","user":"U0UHG4VP1","text":"sure.","ts":"1465520749.000217"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1465520750.000218"},{"type":"message","user":"U0UHG4VP1","text":"so you can do that without anyone\u2019s say so.","ts":"1465520762.000219"},{"type":"message","user":"U0KPFAZNF","text":"cool, sounds straight forward enough","ts":"1465520782.000220"},{"type":"message","user":"U0UHG4VP1","text":"check out your parent most patch, make changes, commit, push, it will be a child change to the parent","ts":"1465520787.000221"},{"type":"message","user":"U0KPFAZNF","text":"ill check out the rest of the video later, thanks for the info <@U0P2GSA8Z> and <@U0UHG4VP1>","ts":"1465520797.000222"},{"type":"message","user":"U0UHG4VP1","text":"and can\u2019t merge until the parent most commit merges","ts":"1465520797.000223"},{"type":"message","user":"U1BLNM9DE","text":"The zephyr docs don't talk about the git-review plugin, but I strongly recommend folks use that as it takes a lot of annoyances of the gerrit workflow out of the picture and makes it work really well","ts":"1465521912.000224"},{"type":"message","user":"U1BLNM9DE","text":"See this <https:\/\/wiki.opendaylight.org\/view\/GettingStarted:Pulling,_Hacking,_and_Pushing_All_the_Code_from_the_CLI#Gerrit_Workflow> for how OpenDaylight discusses it. You would find similar docs in the OpenStack project","ts":"1465522046.000225"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y>: something seems up with Travis","ts":"1465562455.000226"},{"type":"message","user":"U0KPFAZNF","text":"I merged <https:\/\/github.com\/hyperledger\/fabric\/pull\/1778>, which passed when run as a PR, and the build is acting weird when testing master","attachments":[{"service_name":"GitHub","title":"Ignore build files by binhn \u00b7 Pull Request #1778 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1778","text":"Description Adding build outputs to .gitignore to untrack files. Motivation and Context The build creates some artifacts that result into git untracked files. For example, Untracked files...","fallback":"GitHub: Ignore build files by binhn \u00b7 Pull Request #1778 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars0.githubusercontent.com\/u\/3342057?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1778","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1465562476.000227"},{"type":"message","user":"U0KPFAZNF","text":"could you investigate pls","ts":"1465562491.000229"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KN2SSKE>: we might possibly have to revert 1778, but I can\u2019t imagine what would have caused this","ts":"1465562530.000230"},{"user":"U0KN2SSKE","inviter":"U0KPFAZNF","type":"message","subtype":"channel_join","text":"<@U0KN2SSKE|binhn> has joined the channel","ts":"1465562535.000231"},{"type":"message","user":"U11HH3P7Y","text":"Ghaskin, Issue is not with PR 1778..","ts":"1465565056.000232"},{"type":"message","user":"U11HH3P7Y","text":"Something broken after merge PR1774","ts":"1465565081.000233"},{"type":"message","user":"U11HH3P7Y","text":"Binhn, could you please merge PR#1786 .. Given fix for the above issue","ts":"1465566519.000234"},{"type":"message","user":"U11HH3P7Y","text":"Please merge PR#1786 before merge any other PR's.","ts":"1465571116.000235"},{"type":"message","user":"U0P2GSA8Z","text":"you might need to ping <@U0KN2SSKE>","ts":"1465571419.000236"},{"type":"message","user":"U0P2GSA8Z","text":"or <@U0KPFAZNF>","ts":"1465571454.000237"},{"type":"message","user":"U11HH3P7Y","text":"sure","ts":"1465571467.000238"},{"type":"message","user":"U1BC5NF2S","text":"We're having an issue with builds failing on x86. After one job has run on a build server, the second job will automatically fail because it can't clean the workspace.\n```\njava.io.IOException: remote file operation failed: \/w\/workspace\/fabric-github-verify-x86_64\/gopath\/src\/github.com\/hyperledger\/fabric at hudson.remoting.Channel@78f9862c:hyp-x86_64-472: java.nio.file.AccessDeniedException: \/w\/workspace\/fabric-github-verify-x86_64\/gopath\/src\/github.com\/hyperledger\/fabric\/build\/docker\/pkg\/linux_amd64\/github.com\/hyperledger\/fabric\/protos.a\n```","ts":"1465571959.000239"},{"type":"message","user":"U1BC5NF2S","text":"Is fabric being compiled as root?","ts":"1465571982.000240"},{"type":"message","user":"U1BC5NF2S","text":"Because the files that get generated can't be removed as they are owned by root.","ts":"1465572015.000241"},{"type":"message","user":"U0KPFAZNF","text":"<@U1BC5NF2S>: which environment?","ts":"1465572033.000242"},{"type":"message","user":"U1BC5NF2S","text":"<https:\/\/jenkins.hyperledger.org\/view\/fabric\/job\/fabric-github-verify-x86_64\/146\/console>","ts":"1465572050.000243"},{"type":"message","user":"U0KPFAZNF","text":"vagrant\/travis\/jenkins","ts":"1465572052.000244"},{"type":"message","user":"U0KPFAZNF","text":"ah, not sure what jenkins does","ts":"1465572073.000245"},{"type":"message","user":"U0KPFAZNF","text":"i think on vagrant provisioning it does run a build in the setup.sh which is as root, but then then explicitly chowns the $GOPATH after that","ts":"1465572108.000246"},{"type":"message","user":"U1BC5NF2S","text":"It runs basically the same thing Travis does","ts":"1465572109.000247"},{"type":"message","user":"U1BC5NF2S","text":"minus all the setup","ts":"1465572118.000248"},{"type":"message","user":"U0KPFAZNF","text":"I saw that issue in vagrant once which inspired this comment: <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/setup.sh#L93>","edited":{"user":"U0KPFAZNF","ts":"1465572158.000000"},"ts":"1465572152.000249"},{"type":"message","user":"U0KPFAZNF","text":"but as far as what travis\/jenkins do, I am not sure","ts":"1465572169.000252"},{"type":"message","user":"U1BC5NF2S","text":"Hmm, the GOPATH is owned by the jenkins user","ts":"1465572396.000253"},{"type":"message","user":"U1BC5NF2S","text":"```\njenkins@hyp-x86-64-195:~$ ls -l \/w\/workspace\/fabric-github-verify-x86_64\/gopath\/src\/github.com\/hyperledger\/fabric\/build\/docker\/\ntotal 8\ndrwxrwxr-x 2 jenkins jenkins 4096 Jun 10 15:19 bin\ndrwxrwxr-x 3 jenkins jenkins 4096 Jun 10 15:13 pkg\njenkins@hyp-x86-64-195:~$ ls -l \/w\/workspace\/fabric-github-verify-x86_64\/gopath\/src\/github.com\/hyperledger\/fabric\/build\/docker\/pkg\/\ntotal 4\ndrwxr-xr-x 3 root root 4096 Jun 10 15:13 linux_amd64\n```","ts":"1465572613.000254"},{"type":"message","user":"U1BC5NF2S","text":"`build\/docker` is owned by Jenkins, but `build\/docker\/pkg` is not. The Jenkins user can't sudo, so the only way for these files to have been created as root is if they were created in a docker container running as root","ts":"1465572730.000255"},{"type":"message","user":"U1BC5NF2S","text":"```\njenkins@hyp-x86-64-195:~$ docker run -it hyperledger\/fabric-peer \/bin\/bash\nroot@54706f656078:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric#\n```","ts":"1465572736.000256"},{"type":"message","user":"U0KPFAZNF","text":"<@U1BC5NF2S>: if the files were created in docker, they would be within the docker container unless they were built with a volume mount or something along those lines","ts":"1465572831.000257"},{"type":"message","user":"U0KPFAZNF","text":"this seems like somewhere in the jenkins process, someone ran \u201cmake peer\u201d (or a superset) directly on jenkins itself, as root","ts":"1465572865.000258"},{"type":"message","user":"U1BC5NF2S","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/Makefile#L130>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/Makefile#L130","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/Makefile#L130","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1465572883.000259"},{"type":"message","user":"U1BC5NF2S","text":"A volume mount like this? :slightly_smiling_face:","ts":"1465572903.000261"},{"type":"message","user":"U0KPFAZNF","text":"ah!","ts":"1465572924.000262"},{"type":"message","user":"U0KPFAZNF","text":"yes, i see your point now","ts":"1465572928.000263"},{"type":"message","user":"U0KPFAZNF","text":"I missed the build\/docker\/pkg at the end, sorry","ts":"1465572939.000264"},{"type":"message","user":"U0KPFAZNF","text":"(I didnt realize docker root could escape like that, heh","ts":"1465572971.000265"},{"type":"message","user":"U1BC5NF2S","text":"No worries! I'm not throwing blame or anything. We can definitely work around this for now too by bringing up a slave per build. :slightly_smiling_face:","ts":"1465572971.000266"},{"type":"message","user":"U0KPFAZNF","text":"theres no reason that needs to run as root, we can probably figure out how to either remap uid in the volume or run the docker command as a unprivileged user","ts":"1465573013.000267"},{"type":"message","user":"U1BC5NF2S","text":"That's what I was hoping to hear.","ts":"1465573052.000268"},{"type":"message","user":"U0KPFAZNF","text":"please file an issue and ill take care of it","ts":"1465573066.000269"},{"type":"message","user":"U1BC5NF2S","text":"Sure thing!","ts":"1465573092.000270"},{"type":"message","user":"U0KPFAZNF","text":"my guess is this is permitted probably because docker itself had sudo or something","ts":"1465573193.000271"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/denibertovic.com\/posts\/handling-permissions-with-docker-volumes\/>","ts":"1465573391.000272"},{"type":"message","user":"U0KPFAZNF","text":"<@U1BC5NF2S>: the UID thing might be problematic for the reasons listed\u2026but one good thing is, I don\u2019t actually care about the data on the host side","ts":"1465573681.000273"},{"type":"message","user":"U0KPFAZNF","text":"its purely a cache so that subsequent rebuilds within the container can re-use previously generated artifacts","ts":"1465573704.000274"},{"type":"message","user":"U0KPFAZNF","text":"so, we might be able to change the approach to something like a data volume <https:\/\/docs.docker.com\/engine\/reference\/commandline\/volume_create\/>","attachments":[{"title":"volume create ","title_link":"https:\/\/docs.docker.com\/engine\/reference\/commandline\/volume_create\/","text":"The volume create command description and usage","fallback":"volume create ","from_url":"https:\/\/docs.docker.com\/engine\/reference\/commandline\/volume_create\/","service_icon":"https:\/\/docs.docker.com\/..\/..\/..\/..\/images\/favicon.png","service_name":"docs.docker.com","id":1}],"ts":"1465573725.000275"},{"type":"message","user":"U0KPFAZNF","text":"though, that is only true for the .\/pkg dir\u2026.hmmm","ts":"1465573757.000277"},{"type":"message","user":"U0KPFAZNF","text":"i do need the .\/bin on the host side","ts":"1465573763.000278"},{"type":"message","user":"U1BC5NF2S","text":"Data volumes are a good idea. They just take a bit more work to manage and cleanup.","ts":"1465573790.000279"},{"type":"message","user":"U0KPFAZNF","text":"yeah, though make is good at that","ts":"1465573803.000280"},{"type":"message","user":"U0KPFAZNF","text":"(or, potentially good at that, i shouldnt speak since I havent used docker data volumes personally yet","ts":"1465573834.000281"},{"type":"message","user":"U0KPFAZNF","text":"but, it seems like it would be good at that, heh","ts":"1465573843.000282"},{"type":"message","user":"U1BC5NF2S","text":"<https:\/\/github.com\/hyperledger\/fabric\/issues\/1790>","attachments":[{"service_name":"GitHub","title":"Build Go Packages as Non-Root User \u00b7 Issue #1790 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/issues\/1790","text":"Description Builds of hyperledger docker images generate files under build\/docker\/pkg owned as root. These files should be owned by the user running make to ensure they can be properly cleaned up ...","fallback":"GitHub: Build Go Packages as Non-Root User \u00b7 Issue #1790 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/324567?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/issues\/1790","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1465573918.000283"},{"type":"message","user":"U1BC5NF2S","text":"Not sure if you need more info...","ts":"1465573927.000285"},{"type":"message","user":"U0KPFAZNF","text":"hmm, it looks like data volumes are some ephemeral thing, like a docker container\/image","ts":"1465573936.000286"},{"type":"message","user":"U0KPFAZNF","text":"i was hoping it was like a vdisk mount that I could store where I wanted","ts":"1465573950.000287"},{"type":"message","user":"U1BC5NF2S","text":"Ah, no.. the process is  1) run named docker container, 2) mount exposed volume on subsequent docker containers, 3) docker rm -v named container once done","ts":"1465574033.000288"},{"type":"message","user":"U0KPFAZNF","text":"hmm, might just have to hammer it with UID for now","ts":"1465574066.000289"},{"type":"message","user":"U0KPFAZNF","text":"(thx for the issue","ts":"1465574093.000290"},{"type":"message","user":"U1BC5NF2S","text":"No problem! In about an hour, once I get to the office, I'll add the workaround to jenkins and retrigger the failed builds.","ts":"1465574137.000291"},{"type":"message","user":"U0KPFAZNF","text":"ok, sounds good\u2026sorry for the oversight","ts":"1465574218.000292"},{"user":"U150L8BDF","type":"message","subtype":"channel_join","text":"<@U150L8BDF|clessor> has joined the channel","ts":"1465833529.000002"},{"type":"message","user":"U0KM61BCP","text":"<@U1BC5NF2S>: <@U0UHG4VP1> is Jenkins having a bad day? getting 404 when checking build results","ts":"1465901974.000003"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP> I just looked at a few jobs and the results are there, what is a specific job that's broken?","ts":"1465905742.000004"},{"type":"message","user":"U0KM61BCP","text":"hmmm","ts":"1465905757.000005"},{"type":"message","user":"U0KM61BCP","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-github-verify-x86_64\/174\/>","ts":"1465905783.000006"},{"type":"message","user":"U0KM61BCP","text":"I get 404","ts":"1465905787.000007"},{"type":"message","user":"U0KM61BCP","text":"<https:\/\/github.com\/hyperledger\/fabric\/pull\/1825>","attachments":[{"service_name":"GitHub","title":"Disable behave issue 680 test by srderson \u00b7 Pull Request #1825 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1825","text":"Description Disables Scenario Outline: chaincode example02 with 4 peers and 1 membersrvc, issue #680 (State transfer) behave test. Motivation and Context PR #1758 is breaking the issue 680...","fallback":"GitHub: Disable behave issue 680 test by srderson \u00b7 Pull Request #1825 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/4872087?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1825","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1465905801.000008"},{"type":"message","user":"U0UHG4VP1","text":"it\u2019s only set to keep 10 builds, so it aged out.","ts":"1465906043.000010"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F1GN34X8D\/it___s_been_that_way_since_the_26th_of_may.txt|it\u2019s been that way since the 26th of may>","file":{"id":"F1GN34X8D","created":1465906237,"timestamp":1465906237,"name":"it___s_been_that_way_since_the_26th_of_may.txt","title":"it\u2019s been that way since the 26th of may","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":234,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1GN34X8D\/it___s_been_that_way_since_the_26th_of_may.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1GN34X8D\/download\/it___s_been_that_way_since_the_26th_of_may.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F1GN34X8D\/it___s_been_that_way_since_the_26th_of_may.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1GN34X8D-fd04bac8da","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F1GN34X8D\/it___s_been_that_way_since_the_26th_of_may.txt\/edit","preview":"2bfa8926 (Trevor Bramwell 2016-05-26 14:10:45 -0700  28)     logrotate:\r\n2bfa8926 (Trevor Bramwell 2016-05-26 14:10:45 -0700  29)         daysToKeep: 30\r\n2bfa8926 (Trevor Bramwell 2016-05-26 14:10:45 -0700  30)         numToKeep: 10\r\n","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>2bfa8926 (Trevor Bramwell 2016-05-26 14:10:45 -0700  28)     logrotate:<\/pre><\/div>\n<div><pre>2bfa8926 (Trevor Bramwell 2016-05-26 14:10:45 -0700  29)         daysToKeep: 30<\/pre><\/div>\n<div><pre>2bfa8926 (Trevor Bramwell 2016-05-26 14:10:45 -0700  30)         numToKeep: 10<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":4,"lines_more":0,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1465906238.000011"},{"type":"message","user":"U0UHG4VP1","text":"how many would you like to be kept? it looks like ramesh has been doing some of the development there","ts":"1465906456.000012"},{"type":"message","user":"U0KM61BCP","text":"ah","ts":"1465906718.000013"},{"type":"message","user":"U0KM61BCP","text":"well 10 seems rather few;-)","ts":"1465906752.000014"},{"type":"message","user":"U0KM61BCP","text":"what is typical policy for other projects?","ts":"1465906766.000015"},{"type":"message","user":"U0KM61BCP","text":"I think we\u2019re just under 50 PRs a week, and given that we need to re-run some, we might want to double that to arrive at number of builds","ts":"1465906864.000016"},{"type":"message","user":"U0KM61BCP","text":"could we have an age-based archiving policy? Say keep 2 weeks of build results?","ts":"1465906908.000017"},{"type":"message","user":"U0KM61BCP","text":"is there any way to have different policies for successful vs failed builds?","ts":"1465906932.000018"},{"type":"message","user":"U0UHG4VP1","text":"yes to age based retention. no to different policies","ts":"1465907357.000019"},{"type":"message","user":"U0UHG4VP1","text":"numToKeep would be -1, daysToKeep would be 14 in your example","ts":"1465907390.000020"},{"type":"message","user":"U0KM61BCP","text":"I think two weeks adequate","ts":"1465907580.000021"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP>: <https:\/\/github.com\/hyperledger\/fabric\/pull\/1825> build worked this time","ts":"1465909318.000022"},{"type":"message","user":"U0KM61BCP","text":"thx","ts":"1465909351.000023"},{"type":"message","user":"U0UHG4VP1","text":"after this is merged, we should have two week retention: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/183\/>","ts":"1465909430.000024"},{"type":"message","user":"U0KM61BCP","text":"danke <@U0UHG4VP1>","ts":"1465910607.000025"},{"type":"message","user":"U0KPFAZNF","text":"something seems wonky on travis","ts":"1465935006.000026"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/travis-ci.org\/hyperledger\/fabric\/builds\/137610727>","ts":"1465935008.000027"},{"type":"message","user":"U0KPFAZNF","text":"note 1m44s success, and it looks like it skipped UTs completely and only ran a few behaves","ts":"1465935039.000028"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y>: ^^^","ts":"1465935050.000029"},{"type":"message","user":"U11HH3P7Y","text":"that's a false build..","ts":"1465935075.000030"},{"type":"message","user":"U11HH3P7Y","text":"Behave tests ran for 7 mins but overall build time showing 1 min","ts":"1465935096.000031"},{"type":"message","user":"U0KPFAZNF","text":"im not sure what that means. is that because I stopped\/restarted it?","ts":"1465935112.000032"},{"type":"message","user":"U0KPFAZNF","text":"and it doesnt look like the UTs ran (unless I am just missing them)","ts":"1465935154.000033"},{"type":"message","user":"U11HH3P7Y","text":"I think ran successfully but not showing proper output","ts":"1465935208.000034"},{"type":"message","user":"U0KPFAZNF","text":"this was the parallel output when it ran against my local clone","ts":"1465935218.000035"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/travis-ci.org\/ghaskins\/hyperledger-fabric\/builds\/137610721>","ts":"1465935219.000036"},{"type":"message","user":"U0KPFAZNF","text":"(and yeah, that one looks good)","ts":"1465935225.000037"},{"type":"message","user":"U0KPFAZNF","text":"oh, theres more output now","ts":"1465935262.000038"},{"type":"message","user":"U0KPFAZNF","text":"i think Travis has somehow become confused and is running two jobs in one view","ts":"1465935277.000039"},{"type":"message","user":"U11HH3P7Y","text":"yes.. sometimes it happens like this.","ts":"1465935303.000040"},{"type":"message","user":"U0UHG4VP1","text":"so everyone is on the same page <@U1BC5NF2S> is going back to his primary project, so I\u2019ll be your main POC for now","ts":"1465935376.000041"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: roger that","ts":"1465935392.000042"},{"user":"U1F97K1UJ","type":"message","subtype":"channel_join","text":"<@U1F97K1UJ|mack> has joined the channel","ts":"1466000417.000043"},{"type":"message","user":"U11HH3P7Y","text":"Hi <@U0UHG4VP1>","ts":"1466030843.000044"},{"type":"message","user":"U11HH3P7Y","text":"Binhn asked me to disable jenkins on hyperledger\/fabric as we are seeing false build failures..","ts":"1466030948.000045"},{"type":"message","user":"U0UHG4VP1","text":"doesn\u2019t seem like a great idea.","ts":"1466030993.000046"},{"type":"message","user":"U11HH3P7Y","text":"Shall we test this using my fabric repository?","ts":"1466031072.000047"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/jenkins.hyperledger.org\/view\/fabric\/job\/fabric-github-verify-x86_64\/>","ts":"1466031109.000048"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/jenkins.hyperledger.org\/view\/fabric\/job\/fabric-github-verify-z\/>","ts":"1466031116.000049"},{"type":"message","user":"U0UHG4VP1","text":"a couple have passed now","ts":"1466031121.000050"},{"type":"message","user":"U0UHG4VP1","text":"I set the discard time to 1 minute for x86_64 builders (was 10 minutes) and I\u2019m running a script to fix the issue with the Z builds","ts":"1466031159.000051"},{"type":"message","user":"U0UHG4VP1","text":"the big problem is the permissions issue <@U0KPFAZNF> is working on, so this works around that","ts":"1466031195.000052"},{"type":"message","user":"U11HH3P7Y","text":"Shall we disable build notifications back to github?","ts":"1466031280.000053"},{"type":"message","user":"U11HH3P7Y","text":"we can enable once all issues fixed.","ts":"1466031312.000054"},{"type":"message","user":"U0UHG4VP1","text":"I think that would have been reasonable yesterday","ts":"1466031372.000055"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP>: <@U0KN2SSKE>: now that jenkins votes have a workaround for structural issues (the file permission problem that\u2019s been plaguing us) do you still want the jobs disabled?","ts":"1466032971.000056"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> <@U11HH3P7Y> I\u2019ve noticed something curious","ts":"1466043586.000057"},{"type":"message","user":"U0KPFAZNF","text":"this might be a github bug and nothing to do with us, but\u2026.","ts":"1466043599.000058"},{"type":"message","user":"U0KPFAZNF","text":"if you look at a PR that has successfully run CI, click on the CI details, and then hit the back arrow, github will have changed its tune","ts":"1466043634.000059"},{"type":"message","user":"U0KPFAZNF","text":"it will say they all failed","ts":"1466043641.000060"},{"type":"message","user":"U0KPFAZNF","text":"(at least, it does on my system)","ts":"1466043649.000061"},{"text":"disabled jenkins for now","type":"message","subtype":"me_message","user":"U0UHG4VP1","ts":"1466043656.000062"},{"type":"message","user":"U0KPFAZNF","text":"(note that this is across the board\u2026travis and jenkins\/[z,x86]","ts":"1466043679.000063"},{"type":"message","user":"U0UHG4VP1","text":"If you refresh the page is it still failed?","ts":"1466043699.000064"},{"text":"looks","type":"message","subtype":"me_message","user":"U0KPFAZNF","ts":"1466043704.000065"},{"type":"message","user":"U0KPFAZNF","text":"no, refresh fixes it","ts":"1466043720.000066"},{"type":"message","user":"U0UHG4VP1","text":"Weird","ts":"1466043727.000067"},{"type":"message","user":"U0KPFAZNF","text":"its probably some kind of glitch in the github UI","ts":"1466043734.000068"},{"type":"message","user":"U0UHG4VP1","text":"Seems likely ","ts":"1466043745.000069"},{"type":"message","user":"U0KPFAZNF","text":"not restoring some kind of state in the history mechanism","ts":"1466043766.000070"},{"type":"message","user":"U0KPFAZNF","text":"so whats the latest?  i seems both 1836 and 1840 fix the problem?","ts":"1466043826.000071"},{"type":"message","user":"U0KPFAZNF","text":"but I also saw you mentioned something about shutting jenkins down for now","ts":"1466043850.000072"},{"type":"message","user":"U0UHG4VP1","text":"I think they should be merged (well, one of them)","ts":"1466043953.000073"},{"type":"message","user":"U0UHG4VP1","text":"Then the pending prs should be rebased ","ts":"1466043988.000074"},{"type":"message","user":"U10Q62R8X","text":"<@U0KPFAZNF>: Hey Greg, I've ignored discussions for a week or two since we worked together last, heads down on some development items... I learned from <@U11HH3P7Y>  that we are now pushing to dockerhub, or we were till <@U0UHG4VP1> disabled jenkins?","ts":"1466089388.000075"},{"type":"message","user":"U10Q62R8X","text":"how does that work with baseimage:latest and platform\/arch taging? is that described somewhere already? or on slack somewhere that I can scroll back to maybe?","ts":"1466089450.000076"},{"type":"message","user":"U0KPFAZNF","text":"<@U10Q62R8X>: actually, i dont know..i wasnt involved there and didnt realize that was already happening","ts":"1466091536.000077"},{"type":"message","user":"U0KPFAZNF","text":"it looks like only baseimage is on dockerhub","ts":"1466091580.000078"},{"type":"message","user":"U0KPFAZNF","text":"unless an alternate namespace is being used","ts":"1466091588.000079"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KPFAZNF>: Just for testing we are pushing x86 peer and membersrvc images to `hyperledgergithub` docker hub account","ts":"1466092810.000080"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KPFAZNF>: Yes, we got dockerhub pushes working. They currently only run on merges to master that successfully build. Images are pushed as `hyperledgergithub\/fabric-peer:$arch-$sha`","ts":"1466105351.000081"},{"type":"message","user":"U1BC5NF2S","text":"where $arch is either `x86_64` or `s390x`","ts":"1466105365.000082","reactions":[{"name":"+1","users":["U10Q62R8X"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"cool!","ts":"1466105365.000083"},{"type":"message","user":"U1BC5NF2S","text":"<https:\/\/hub.docker.com\/r\/hyperledgergithub\/fabric-peer\/tags\/>","ts":"1466105406.000084"},{"type":"message","user":"U1BC5NF2S","text":"Looks like we've successfully pushed images 6 times. :slightly_smiling_face:","ts":"1466105434.000085"},{"type":"message","user":"U1BC5NF2S","text":"(You can thank Ramesh!)","ts":"1466105441.000086"},{"type":"message","user":"U0KPFAZNF","text":"one thing we will need to think about (or perhaps you already have) is the peripheral images like -src and -ccenv","ts":"1466105484.000087"},{"type":"message","user":"U0KPFAZNF","text":"for instance, one cannot just \u201cdocker pull hyperledgergithub\/fabric-peer\u201d, as that will also need other images to actually run","ts":"1466105526.000088"},{"type":"message","user":"U0KPFAZNF","text":"(namely baseimage and ccenv","ts":"1466105539.000089"},{"type":"message","user":"U0KPFAZNF","text":"im not sure what the right solution is, honestly,  but we should discuss","ts":"1466105557.000090"},{"type":"message","user":"U0KPFAZNF","text":"one idea: you could in theory modify the core.yaml from things like \u201chyperledger\/fabric-baseimage\u201d to \u201chyperledgergithub\/fabric-baseimage:$specific-tag","ts":"1466105686.000091"},{"type":"message","user":"U1BC5NF2S","text":"I believe we were just starting with pushing peer and membersrvc for testing.","ts":"1466105774.000092"},{"type":"message","user":"U1BC5NF2S","text":"Assuming <@U0UHG4VP1> doesn't already have them, if whoever is in charge of <https:\/\/hub.docker.com\/u\/hyperledger> can securely provide <@U0UHG4VP1> with the username, password, and email, he can update the jobs to push the images there instead.","ts":"1466105920.000093"},{"type":"message","user":"U0UHG4VP1","text":"<@U1BC5NF2S>: I do own that repo, but I don\u2019t know anything about pushing to it","ts":"1466105975.000094"},{"type":"message","user":"U1BC5NF2S","text":"<@U0UHG4VP1>: Oh, good! There are masked password fields in the global Jenkins configuration you can update to change which repo they go to.","ts":"1466106064.000095"},{"type":"message","user":"U0UHG4VP1","text":"<@U1BC5NF2S>: is this a webhook I need to set up or will it be pushing as me?","ts":"1466106092.000096"},{"type":"message","user":"U1BC5NF2S","text":"<@U0UHG4VP1>: See `include-raw-docker-image-deploy.sh` in the ci-management repo for the job. It gets pushed as the `DOCKER_HUB_USERNAME` defined in ENV","ts":"1466106148.000097"},{"type":"message","user":"U11HTMW0H","text":"i just hope we arent making things too complicated with all the images.  in <@U11HH3P7Y> dockerhub there is simply membersrvc and peer ...and it is very simply to script to have a network up and running with security.  maybe for dev the other images are needed though.","ts":"1466106217.000098"},{"type":"message","user":"U0UHG4VP1","text":"bramwelt: excellent","ts":"1466106312.000099"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HTMW0H>: point taken on the complexity and I agree\u2026i think the problem stems from the fact that the peer needs to create its own containers in response to deployment requests\u2026so the question is: how did your environment deal with that?","ts":"1466106594.000100"},{"type":"message","user":"U0UHG4VP1","text":"<@U1BC5NF2S>: I added hyperledgergithub user to the hyperledger repo on dockerhub in support of <http:\/\/gerrit.hyperledger.org\/r\/193> instead of creating a new user","ts":"1466107618.000101"},{"type":"message","user":"U1BC5NF2S","text":"<@U0UHG4VP1>: I'd rather get rid of the hyperledgergithub user. Is there a reason you can't switch out the credentials for the hyperledger user?","ts":"1466107959.000102"},{"type":"message","user":"U0UHG4VP1","text":"resetting password","ts":"1466108139.000105"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>:  you have to create `fabric-peer` and` fabric-membersrvc` repo's in `hyperledger `namespace  before merge <http:\/\/gerrit.hyperledger.org\/r\/193> or before enable Jenkins","ts":"1466112714.000106"},{"type":"message","user":"U0KPFAZNF","text":"could someone with proper access turn on travis support for hyperledger\/fabric-chaintool?","ts":"1466129749.000107"},{"type":"message","user":"U0KPFAZNF","text":"it should already be prepared to integrate, as I was running travis on it in the original location, i just lack authority under the hyperledger namespace","ts":"1466129787.000108"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KPFAZNF>: I forked fabric-chaintool repo and ran travis build","ts":"1466131511.000109"},{"type":"message","user":"U11HH3P7Y","text":"<https:\/\/travis-ci.org\/rameshthoomu\/fabric-chaintool\/builds\/138257127>","ts":"1466131512.000110"},{"type":"message","user":"U0KPFAZNF","text":"cool","ts":"1466131995.000111"},{"type":"message","user":"U11HTMW0H","text":"It seems like the Travis CI is catching a lot of failures because contributors aren't using Travis before submitting the PR.  I know <@U0KPFAZNF> and many others count on it before submitting the PR.  Is there a suggestion as to how to get others to be more diligent running Travis on the Push to their remote user account before submitting the PR?","ts":"1466169356.000112"},{"type":"message","user":"U0KPFAZNF","text":"If we wanted to encourage that, we could add an item to the checklist I suppose","ts":"1466169499.000113"},{"type":"message","user":"U0KPFAZNF","text":"i think more important than that is to have a \u201cI have run \u2018make checks\u2019\u201d, as it would be nice to flush out errors before burdening the CI pipeline in the first place","ts":"1466169557.000114"},{"type":"message","user":"U0KPFAZNF","text":"perhaps combine the two? \u201cI have run \u2018make checks\u2019 and also verified that CI passes in my personal repository\u201d","ts":"1466169603.000115"},{"type":"message","user":"U0KPFAZNF","text":"or something to that effect","ts":"1466169607.000116"},{"type":"message","user":"U0KPFAZNF","text":"related, as we add more linters to \u2018make checks\/linter\u2019 we can relax that line about goimports","ts":"1466169656.000117"},{"type":"message","user":"U11HH3P7Y","text":"That will be great.. and Travis integration with github takes less than a min","ts":"1466169661.000118"},{"type":"message","user":"U0KPFAZNF","text":"yeah, perhaps the checklist item has a link to any instructions we want to provide on how to turn on travis","ts":"1466169767.000119"},{"type":"message","user":"U0KPFAZNF","text":"(I can confirm it is easy, as I do it against my own fork)","ts":"1466169779.000120"},{"type":"message","user":"U0KPFAZNF","text":"<@U0TFEHX8E> <@U0KM61BCP> any thoughts on above?","ts":"1466170181.000121"},{"type":"message","user":"U0KPFAZNF","text":"related, <@U0UHG4VP1> will there be a parallel notion of \u201crun CI against local repo before push\u201d once we switch to Jenkins?","edited":{"user":"U0KPFAZNF","ts":"1466170249.000000"},"ts":"1466170238.000122"},{"type":"message","user":"U0TFEHX8E","text":"I don\u2019t understand why Travis CI catching an issue is a problem. Why add an additional step to a PR submission?","ts":"1466171372.000124"},{"type":"message","user":"U0TFEHX8E","text":"I don\u2019t see a problem with someone submitting a PR that doesn\u2019t pass Travis CI. It just won\u2019t be accepted until they resolve issues","ts":"1466171432.000125"},{"type":"message","user":"U0KPFAZNF","text":"<@U0TFEHX8E>: that was kind of my thought\u2026ultimately the only one that matters is the official one","ts":"1466171609.000126"},{"type":"message","user":"U0KPFAZNF","text":"the one argument I can see (not sure if this is what <@U11HTMW0H> was getting at) is you could arguably increase S\/N for maintainer\/reviewers","ts":"1466171655.000127"},{"type":"message","user":"U0KPFAZNF","text":"(by not having a bunch of faulty PRs floating around)","ts":"1466171674.000128"},{"type":"message","user":"U0KPFAZNF","text":"I can also see the argument for having \u201cmake checks\u201d in the checklist to try to encourage local testing before loading the CI pipeline\u2026but the problem there is the checklist is really only officially part of the workflow _after_ you have already pushed to the personal fork","ts":"1466171763.000129"},{"type":"message","user":"U0KPFAZNF","text":"so, its purpose would be more of an advisory\/habit-forming kind than a literal checklist","ts":"1466171790.000130"},{"type":"message","user":"U0TFEHX8E","text":"I don\u2019t have an issue with faulty or in-progress PRs. I encourage people to work in the open as they may receive valuable feedback sooner if someone chooses to look.\n\nI agree it\u2019s useful for a dev to be aware of `make checks` and Travis because it is helpful to test things locally. I think we should probably update that checklist to say `make checks`. Not sure what to do about `golint` though as it generates a bunch of false positives","ts":"1466171931.000131"},{"type":"message","user":"U0TFEHX8E","text":"so maybe the checklist could also link to instructions for running Travis on your fork","ts":"1466172019.000132"},{"type":"message","user":"U0KPFAZNF","text":"yeah, regarding linters I think we should a) add \u201cmake checks\u201d to the list, and b) clean up the linters section to remove the parts that are covered by \u201cmake checks\u201d and encourage the more flaky linters with the caveats as we have them now","ts":"1466172081.000133"},{"type":"message","user":"U0KPFAZNF","text":"so, govet\/goimports, those ones are solid now (IIUC), move those out of the explicit list","ts":"1466172109.000134"},{"type":"message","user":"U0KPFAZNF","text":"golint, not sure we can ever automate that one","ts":"1466172125.000135"},{"type":"message","user":"U0TFEHX8E","text":"I added `goimports` in <https:\/\/github.com\/hyperledger\/fabric\/pull\/1882>","edited":{"user":"U0TFEHX8E","ts":"1466172134.000000"},"ts":"1466172127.000136"},{"type":"message","user":"U0TFEHX8E","text":"I\u2019ll work on another PR to update the template","ts":"1466172143.000139"},{"type":"message","user":"U0KPFAZNF","text":"ah, I think I was waiting for CI on that that","ts":"1466172154.000140"},{"type":"message","user":"U0KPFAZNF","text":"ill take another look","ts":"1466172157.000141"},{"type":"message","user":"U0KPFAZNF","text":"any thoughts on something like \u201cgofmt -s\"","ts":"1466172165.000142"},{"type":"message","user":"U0KPFAZNF","text":"is that in the govet or golint category for reliability?","ts":"1466172177.000143"},{"type":"message","user":"U0TFEHX8E","text":"I need to look at what suggestions the simplify is making and see if there are cases where they don\u2019t make sense","ts":"1466172227.000144"},{"type":"message","user":"U0KPFAZNF","text":"yeah, and I am not married to -s either","ts":"1466172245.000145"},{"type":"message","user":"U0TFEHX8E","text":"`goimports` runs `gofmt`, but there\u2019s no way to specify the `-s` flag","ts":"1466172258.000146"},{"type":"message","user":"U0KPFAZNF","text":"so consider it the \u201ccan gofmt** be automated\u201d endeavor","ts":"1466172264.000147"},{"type":"message","user":"U0KPFAZNF","text":"ah, ok, i didnt realize","ts":"1466172273.000148"},{"type":"message","user":"U0KPFAZNF","text":"perhaps non issue then","ts":"1466172279.000149"},{"type":"message","user":"U0KPFAZNF","text":"I assume that the gometalinter thing didn\u2019t pan out? or should we revisit that?","ts":"1466172314.000150"},{"type":"message","user":"U0TFEHX8E","text":"didn\u2019t work out. the complexity of gometaliner\u2019s configuration resulted in lots of complaints","ts":"1466172858.000151"},{"type":"message","user":"U0KPFAZNF","text":"ah, bummer","ts":"1466172904.000152"},{"type":"message","user":"U0KPFAZNF","text":"looked promising","ts":"1466172908.000153"},{"type":"message","user":"U11HH3P7Y","text":"<@U0TFEHX8E>: not as a mandatory step in the checklist but we can suggest contributors to test commits on their travis setup before submit PR. Anyway once the PR is submitted, every further commit will be tested on hyperledger\/fabric travis.","ts":"1466172951.000154"},{"type":"message","user":"U1BLNM9DE","text":"ghaskins: no there isn't a special notion of running CI against a local repo before push, unless someone has their own local CI, or are using github + travis as their personal hosting to work on stuff before they submit","ts":"1466172973.000155"},{"type":"message","user":"U0KPFAZNF","text":"<@U1BLNM9DE>: ok, but note that there is some semblance of integration today","ts":"1466173009.000156"},{"type":"message","user":"U1BLNM9DE","text":"our Jenkins configurations will be able to easily handle the load of multiple people pushing different submissions to the configuration","ts":"1466173031.000157"},{"type":"message","user":"U0KPFAZNF","text":"for instance, I can fork hyperledger\/fabric to ghaskins\/fabric, turn on travis, and the reports when i run the job show up in <#C11SL9YDV>","ts":"1466173053.000158"},{"type":"message","user":"U0KPFAZNF","text":"im just curious if jenkins would be similar (if we wanted it to be)","ts":"1466173079.000159"},{"type":"message","user":"U1BLNM9DE","text":"our largest project (OpenDaylight) sees close to 10,000 jenkins jobs a day","ts":"1466173087.000160"},{"type":"message","user":"U1BLNM9DE","text":"all the jenkins reports will be visible against the gerrit change as well as on the gerrit dashboard views for the specific project","ts":"1466173133.000161"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y>: the problem as I see it is one of getting the word out:  the check-list is one of the most glaring \/ hard-to-ignore forms of media we have","ts":"1466173144.000162"},{"type":"message","user":"U1BLNM9DE","text":"and if there is a class of jobs, let's say $project-integration-$somequalifier than we can easily create a special view that collects all of those as well","ts":"1466173187.000163"},{"type":"message","user":"U0KPFAZNF","text":"but that said, I can be convinced either way\u2026i just saw the checklist as the best vehicle to advertise the policy, should the policy be considered desirable","ts":"1466173187.000164"},{"type":"message","user":"U1BLNM9DE","text":"ghaskins: as an FYI, because of how the gerrit workflow operates. Not having that personal CI, while it can me some thrash in the verification jobs going between broken and fixed a lot, isn't too much of a problem. You mechanically cannot merge a non-passing submission unless the committer of the project explicitly votes to, but their voting around Jenkins does end up getting recorded","ts":"1466173417.000165"},{"type":"message","user":"U0KPFAZNF","text":"<@U1BLNM9DE>: that sounds good to me","ts":"1466173523.000166"},{"type":"message","user":"U0KPFAZNF","text":"as long as we are not concerned about the pipeline workload, I think we are good","ts":"1466173542.000167"},{"type":"message","user":"U1BLNM9DE","text":"oh believe me, we're not concerned about the pipeline workload. If your project gets anywhere near the size of OpenDaylight (our largest) in anything less than 1.5 years then I would be worried about the pipeline ;)","ts":"1466173687.000168"},{"type":"message","user":"U1BLNM9DE","text":"and even then, by that time I'm sure we'll have even better mechanisms in place for balancing out the workload","ts":"1466173724.000169"},{"type":"message","user":"U1BLNM9DE","text":"the most likely largest bottleneck would be external resources we don't have full control over or ability to easily scale out. Such as the Z system setups","ts":"1466173798.000170"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y>: <@U0UHG4VP1> I managed to get the travis badge wired up properly","ts":"1466176692.000171"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric-chaintool>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-chaintool","title_link":"https:\/\/github.com\/hyperledger\/fabric-chaintool","text":"fabric-chaintool - Chaintool - Chaincode Tooling for <https:\/\/github.com\/hyperledger\/fabric>","fallback":"GitHub: hyperledger\/fabric-chaintool","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-chaintool","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1466176693.000172"},{"type":"message","user":"U0KPFAZNF","text":"let me know when\/if you\u2019d like a jenkins configuration for it","ts":"1466176719.000174"},{"type":"message","user":"U0KPFAZNF","text":"I still need to update the MAINTAINERS, etc, but ill do that later today","ts":"1466176755.000175"},{"type":"message","user":"U11HH3P7Y","text":"sure. <@U0UHG4VP1> has to take a call on that","ts":"1466176815.000176"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y>: there is no call for me to make, it\u2019s up to you guys to write the yaml for jenkins :slightly_smiling_face:","ts":"1466178799.000177"},{"type":"message","user":"U11HH3P7Y","text":"sure <@U0UHG4VP1>","ts":"1466179448.000178"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> any other projects use hubot for chatops?","ts":"1466182052.000179"},{"type":"message","user":"U0UHG4VP1","text":"<@U1BLNM9DE>: ^^^","ts":"1466182074.000180"},{"type":"message","user":"U1BLNM9DE","text":"ry cbf no, we dont have anyone using it in any of our projects","ts":"1466182094.000181"},{"type":"message","user":"U0KM61BCP","text":"I was playing with this a while back and could contribute a bot that we could evolve over time","ts":"1466182109.000182"},{"type":"message","user":"U0KM61BCP","text":"simple stuff like linking to issues and PRs by number, for instance rather that pasting whole URLs to start, but you could imagine things like \u2018reverify #1234\u201d in chat triggering a rebuild","ts":"1466182200.000183"},{"type":"message","user":"U0UHG4VP1","text":"what is the timeline to move to gerrit? end of July? the gerrit plugin for jenkins is easy to retrigger, I bet a bot to do it would be easy","ts":"1466183275.000184"},{"type":"message","user":"U0KM61BCP","text":"think early july","ts":"1466186671.000185"},{"type":"message","user":"U0KM61BCP","text":"once the release is done","ts":"1466186677.000186"},{"type":"message","user":"U0UHG4VP1","text":"ok. at some point someone (you, or your delegate) will need to push the code over. I suspect it may need squashed as it looks like there are a lot of unsigned commits in the past.","ts":"1466189550.000187"},{"type":"message","user":"U1F97K1UJ","text":"greetings ry - i'm a relative new member to the sawtooth team, just saying hi now but would like to start discussing sawtooth integration into the hyperledger CI if you are the guy :slightly_smiling_face:","ts":"1466190076.000188"},{"type":"message","user":"U0UHG4VP1","text":"welcome aboard! Did we exchange email earlier this week?","ts":"1466190107.000189"},{"type":"message","user":"U1F97K1UJ","text":"maybe you received an email from the other dan at intel?  middleton?","ts":"1466190128.000190"},{"type":"message","user":"U1F97K1UJ","text":"or maybe it was our ryan","ts":"1466190137.000191"},{"type":"message","user":"U0UHG4VP1","text":"it was Ryan. regardless, are you familiar with JJB\/yaml?","ts":"1466190254.000192"},{"type":"message","user":"U0UHG4VP1","text":"<@U1F97K1UJ>: here is our CI repo: <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/ci-management>","ts":"1466190320.000193"},{"type":"message","user":"U1F97K1UJ","text":"cool!   ty. <@U0UHG4VP1>","ts":"1466190457.000194"},{"type":"message","user":"U1F97K1UJ","text":"and I am coming up to speed on the JJB pattern - I am working with Ryan here so we will be handling it as a team","ts":"1466190557.000195"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> and <@U1BC5NF2S> did all of the bootstrapping work. when you push, please remember to sign your commits (git commit -s) and add me as a reviewer so I know there\u2019s a change to look at :wink:","ts":"1466190627.000196"},{"type":"message","user":"U0UHG4VP1","text":"right now the merge jobs are failing. is anyone looking at that? <https:\/\/jenkins.hyperledger.org\/view\/fabric\/job\/fabric-github-merge-x86_64\/>","ts":"1466190739.000197"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F1J196B2A\/and_about_100_lines_of_spew_following.txt|and about 100 lines of spew following>","file":{"id":"F1J196B2A","created":1466190756,"timestamp":1466190756,"name":"and_about_100_lines_of_spew_following.txt","title":"and about 100 lines of spew following","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":632,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1J196B2A\/and_about_100_lines_of_spew_following.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1J196B2A\/download\/and_about_100_lines_of_spew_following.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F1J196B2A\/and_about_100_lines_of_spew_following.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1J196B2A-2eb1e82ff9","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F1J196B2A\/and_about_100_lines_of_spew_following.txt\/edit","preview":"15:25:38 2016\/06\/17 15:23:00 Chaincode support using peerAddress: 0.0.0.0:21726\r\n15:25:38 2016\/06\/17 15:23:00 Is db path [\/var\/hyperledger\/test\/tmpdb\/db] empty [false]\r\n15:25:38 Error opening DB IO error: lock \/var\/hyperledger\/test\/tmpdb\/db\/LOCK: Resource temporarily unavailable\r\n15:25:38 --- FAIL: TestExecuteDeploySysChaincode (0.00s)\r\n15:25:38 panic: Could not open openchain db error = [IO error: lock \/var\/hyperledger\/test\/tmpdb\/db\/LOCK: Resource temporarily unavailable] [recovered]\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>15:25:38 2016\/06\/17 15:23:00 Chaincode support using peerAddress: 0.0.0.0:21726<\/pre><\/div>\n<div><pre>15:25:38 2016\/06\/17 15:23:00 Is db path [\/var\/hyperledger\/test\/tmpdb\/db] empty [false]<\/pre><\/div>\n<div><pre>15:25:38 Error opening DB IO error: lock \/var\/hyperledger\/test\/tmpdb\/db\/LOCK: Resource temporarily unavailable<\/pre><\/div>\n<div><pre>15:25:38 --- FAIL: TestExecuteDeploySysChaincode (0.00s)<\/pre><\/div>\n<div><pre>15:25:38 panic: Could not open openchain db error = [IO error: lock \/var\/hyperledger\/test\/tmpdb\/db\/LOCK: Resource temporarily unavailable] [recovered]<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":7,"lines_more":2,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1466190756.000198"},{"type":"message","user":"U0UHG4VP1","text":"I\u2019d like to test the push to docker hub on merge, but we haven\u2019t had a successful merge in a while","ts":"1466190796.000199"},{"type":"message","user":"U0KM61BCP","text":"glad to see STL joining the fun in CI makes me happy","ts":"1466196011.000200"},{"type":"message","user":"U1F97K1UJ","text":"thx <@U0KM61BCP> - we are looking forward to it!","ts":"1466197374.000201","reactions":[{"name":"+1","users":["U0KM61BCP","U0UHG4VP1","U0YQQRNU8"],"count":3}]},{"type":"message","user":"U0YQQRNU8","text":"does the use of JJB make it easy to replicate the jenkins environment locally (say in a vm), or is that still a fairly complex undertaking?  (for testing updates to JJBs for example)","ts":"1466261074.000202"},{"type":"message","user":"U0UHG4VP1","text":"You would still need openstack and the like","ts":"1466269500.000203"},{"type":"message","user":"U1BLNM9DE","text":"amundson: ry you would only need a local OpenStack if you wanted to test components related to dynamic spin-up that is adding additional minions past the lead node. In general, if you've got a local jenkins that has one or more attached builders that have the same labels associated to them that match what we use your good","ts":"1466307879.000204"},{"type":"message","user":"U1BLNM9DE","text":"amundson: ry we presently only have on project that makes use of multi-node dynamic build slaves","ts":"1466307912.000205"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: DB error issue has been fixed and merged. Could you please enable jenkins?","ts":"1466429723.000206"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y>: do you know what PR\/commit fixed this?","ts":"1466431040.000207"},{"type":"message","user":"U0KPFAZNF","text":"someone else was hitting that and I wanted to provide context","ts":"1466431056.000208"},{"type":"message","user":"U11HH3P7Y","text":"PR#1877","ts":"1466431060.000209"},{"type":"message","user":"U0KPFAZNF","text":"ty","ts":"1466431063.000210"},{"user":"U1HFNJB50","type":"message","subtype":"channel_join","text":"<@U1HFNJB50|c0rwin> has joined the channel","ts":"1466431630.000211"},{"type":"message","user":"U11HH3P7Y","text":"Jenkins builds are failing with DB IO error even after PR#1877 merge","ts":"1466445555.000212"},{"type":"message","user":"U11HH3P7Y","text":"PR#1926 has the fix for the above issue.. All unit-tests passed.","ts":"1466446695.000213"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KPFAZNF>: We are again seeing the java.io.IOException: in Z builds","ts":"1466528596.000214"},{"type":"message","user":"U11HH3P7Y","text":"java.io.IOException:","ts":"1466528596.000215"},{"type":"message","user":"U11HH3P7Y","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-github-verify-z\/136\/console>","ts":"1466528604.000216"},{"type":"message","user":"U0KPFAZNF","text":"my guess is perhaps this system had artifacts that persisted from the runs before the fix went in?","ts":"1466529056.000217"},{"type":"message","user":"U0KPFAZNF","text":"can someone go in an manually remove the build area and then see if it continues?","ts":"1466529082.000218"},{"type":"message","user":"U0UHG4VP1","text":"I will in a bit","ts":"1466529164.000219"},{"type":"message","user":"U0KPFAZNF","text":"cool, if it starts with a clean fs and still does that, we have a problem but I suspect it was just left over from before","ts":"1466529196.000220"},{"type":"message","user":"U0UHG4VP1","text":"I agree. I suspect this issue will keep popping up until all outstanding pull requests are rebased the past the merge of the fix","ts":"1466529265.000221"},{"type":"message","user":"U0KPFAZNF","text":"oh, is that how jenkins works?","ts":"1466529283.000222"},{"type":"message","user":"U0KPFAZNF","text":"i found out recently that travis merges the pr branch with master","ts":"1466529295.000223"},{"type":"message","user":"U0KPFAZNF","text":"(which is probably ideal, actually)","ts":"1466529305.000224"},{"type":"message","user":"U0KPFAZNF","text":"I just didnt know it did that","ts":"1466529312.000225"},{"type":"message","user":"U0KPFAZNF","text":"IMO it would be nice if Jenkins could too, or at least have them do it the same way","ts":"1466529348.000226"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> <@U11HH3P7Y> it is conceivable that we could start to do more and more within docker, builds, unit-tests, etc","ts":"1466529420.000227"},{"type":"message","user":"U0KPFAZNF","text":"that would isolate the CI environment to a degree","ts":"1466529429.000228"},{"type":"message","user":"U0KPFAZNF","text":"is this something worth exploring?","ts":"1466529438.000229"},{"type":"message","user":"U0UHG4VP1","text":"Jenkins pulls the commit ID, and parents. I assert merging a PR with master before building is a misfeature","ts":"1466529498.000230"},{"type":"message","user":"U0KPFAZNF","text":"oh really? i see it as the opposite\u2026can I ask why?","ts":"1466529530.000231"},{"type":"message","user":"U0UHG4VP1","text":"Since you don't know master is the target branch","ts":"1466529542.000232"},{"type":"message","user":"U0KPFAZNF","text":"it seems to me that the most relevant config is PR + latest","ts":"1466529546.000233"},{"type":"message","user":"U0KPFAZNF","text":"oh, i see what you mean","ts":"1466529552.000234"},{"type":"message","user":"U0KPFAZNF","text":"well, ok, so substitute \u201cmaster\u201d for \u201cintended target\u201d (assuming we can ascertain that)","ts":"1466529580.000235"},{"type":"message","user":"U0KPFAZNF","text":"is it then \u201cok\u201d ?","ts":"1466529590.000236"},{"type":"message","user":"U0UHG4VP1","text":"Perhaps merging with the parent branch is OK, but that prevents non mergable changes from building, which is probably less bad","ts":"1466529624.000237"},{"type":"message","user":"U0KPFAZNF","text":"isnt that the point?","ts":"1466529649.000238"},{"type":"message","user":"U0KPFAZNF","text":"we want to find out if the proposed change plays nice with the most realistic place it would go","ts":"1466529666.000239"},{"type":"message","user":"U0KPFAZNF","text":"(though I understand its a constantly moving target)","ts":"1466529682.000240"},{"type":"message","user":"U0UHG4VP1","text":"I'm here to support what you guys want. I'm only mildly against merge before build.","ts":"1466529691.000241"},{"type":"message","user":"U0KPFAZNF","text":"well, I also value experience here","ts":"1466529705.000242"},{"type":"message","user":"U0KPFAZNF","text":"i\u2019ve never run a large scale CI","ts":"1466529714.000243"},{"type":"message","user":"U0KPFAZNF","text":"I thought Travis was simply building the branch that the PR submitter built\u2026but I found out later it is actually merging to master\/parent","ts":"1466529752.000244"},{"type":"message","user":"U0KPFAZNF","text":"to me, this made some sense for the reasons I mentioned","ts":"1466529765.000245"},{"type":"message","user":"U0KPFAZNF","text":"but, I dont have enough experience with CI in production to know what wrinkles this may cause either","ts":"1466529786.000246"},{"type":"message","user":"U0KPFAZNF","text":"related, it strikes me that the concept is the most useful if it can automatically respin an unmerged+open PR every time master\/parent is updated","ts":"1466529848.000247"},{"type":"message","user":"U0KPFAZNF","text":"i can see the merit of the data point of knowing if the change you made against the base you developed on passes CI\u2026but it seems that is less interesting than whether it passes with HEAD","ts":"1466529951.000248"},{"type":"message","user":"U0KPFAZNF","text":"ideally, we could know both","ts":"1466529965.000249"},{"type":"message","user":"U0UHG4VP1","text":"where I see this as creating problems is long-lived feature branches and the like. you may not care that CI isn\u2019t passing on the eventual merge to your parent branch, because you\u2019re ripping out a lot of stuff, or you have two feature branches that are aware of each other but not yet merged. for instance, on one project I\u2019m on, we have changes that need to go in across multiple repos at once, or nothing works. So building the feature branch and running tests against the master on the other project will never work.","ts":"1466530111.000250"},{"type":"message","user":"U0UHG4VP1","text":"I propose we table my theoretical concerns about this for now, though","ts":"1466530132.000251"},{"type":"message","user":"U0UHG4VP1","text":"I\u2019ve cleaned up the two -z builders for now","ts":"1466530256.000252"},{"type":"message","user":"U0KPFAZNF","text":"ah, i see\u2026yes this makes sense","ts":"1466530435.000253"},{"type":"message","user":"U0KPFAZNF","text":"the \u201cautomerge\u201d approach really only makes sense for a PR like scenario","ts":"1466530453.000254"},{"type":"message","user":"U0KPFAZNF","text":"so, if the CI jobs can differentiate between branches and PRs, we could divide the policy decision on that predicate","ts":"1466530511.000255"},{"type":"message","user":"U0KPFAZNF","text":"thx you for the z cleanup\u2026lets see what happens now","ts":"1466530529.000256"},{"type":"message","user":"U0KPFAZNF","text":"if the \u2014user patch didnt work, we\u2019ll have to take more drastic measures in the build system","ts":"1466530570.000257"},{"type":"message","user":"U0UHG4VP1","text":"I\u2019m almost certain it worked","ts":"1466530703.000258"},{"type":"message","user":"U0KPFAZNF","text":"yeah, it did on x86 at least","ts":"1466530722.000259"},{"type":"message","user":"U0KPFAZNF","text":"im wondering if the z platform had a different docker install or something that handled it differently","ts":"1466530742.000260"},{"type":"message","user":"U0UHG4VP1","text":"on x86 I set the builder recycle time to 60 idle seconds","ts":"1466530746.000261"},{"type":"message","user":"U0UHG4VP1","text":"so provided we don\u2019t have a queue, no builder should run two builds.","ts":"1466530766.000262"},{"type":"message","user":"U0UHG4VP1","text":"on Z, there is no chance of recycling","ts":"1466530780.000263"},{"type":"message","user":"U0KPFAZNF","text":"if you are right that jenkins is building PRs against their submitted base rather than HEAD, I think you are right that this could persist until the PRs that predate the fix are closed out","ts":"1466530799.000264"},{"type":"message","user":"U0KPFAZNF","text":"it seems to me that this wasnt an issue of timing as much as it was that the build was spraying UID 0 artifacts into the tree and then causing subsequent grief","ts":"1466530848.000265"},{"type":"message","user":"U0UHG4VP1","text":"if you added something like a \u201cgit log -2\u201d to the top of the build job, you could see for yourself what the parent is","ts":"1466530851.000266"},{"type":"message","user":"U0UHG4VP1","text":"yes, you\u2019re correct it isn\u2019t timing. I\u2019m saying building was less impacted on x86 because the builders get recycled","edited":{"user":"U0UHG4VP1","ts":"1466530927.000000"},"ts":"1466530882.000267"},{"type":"message","user":"U0KPFAZNF","text":"I would just add \u201cgit rev-parse HEAD\u201d or something like that","ts":"1466530884.000268"},{"type":"message","user":"U0KPFAZNF","text":"oh, gotcha, sorry","ts":"1466530892.000269"},{"type":"message","user":"U0UHG4VP1","text":"sure, that works\\","ts":"1466530894.000270"},{"type":"message","user":"U0KPFAZNF","text":"actually your idea is probably better","ts":"1466530916.000271"},{"type":"message","user":"U0KPFAZNF","text":"mine would only show the PR sha","ts":"1466530921.000272"},{"type":"message","user":"U0KPFAZNF","text":"but, same idea","ts":"1466530926.000273"},{"type":"message","user":"U0UHG4VP1","text":"sure. Just show the parent or grandparent.\\","ts":"1466530946.000275"},{"type":"message","user":"U0KPFAZNF","text":"\u201cprint-context-somehow()\"","ts":"1466530957.000276"},{"type":"message","user":"U0UHG4VP1","text":"if you have a bunch of dependent changes, it would be best to get back to your merged parent, but that isn\u2019t visible in git really","ts":"1466530979.000277"},{"type":"message","user":"U0KPFAZNF","text":"i wonder if there is a rev-parse type command that can show it","ts":"1466530995.000278"},{"type":"message","user":"U0KPFAZNF","text":"I know you can have it walk back to the last tag","ts":"1466531012.000279"},{"type":"message","user":"U0KPFAZNF","text":"i wonder if there is a mode for branch","ts":"1466531017.000280"},{"type":"message","user":"U0UHG4VP1","text":"sure. lots of our builds say something a little non-sensical like \u201c15.09 + 1400 commits\u201d which isn\u2019t helpful, really, but it\u2019s the same idea","ts":"1466531242.000281"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: builds are stucked in Z machine <https:\/\/jenkins.hyperledger.org\/job\/fabric-github-verify-z\/138\/console>","ts":"1466539880.000282"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y>: I cleaned up both and rebooted them. -2 didn't come back from a reboot","ts":"1466542280.000283"},{"type":"message","user":"U11HH3P7Y","text":"thank you..","ts":"1466545733.000284"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: PR#1940 is failing in jenkins (x86 and Z)..","ts":"1466545871.000285"},{"type":"message","user":"U11HH3P7Y","text":"Can you please install `pip install -U 'grpcio==0.13.1'`","ts":"1466545936.000286"},{"type":"message","user":"U11HH3P7Y","text":"<https:\/\/github.com\/hyperledger\/fabric\/pull\/1940>","attachments":[{"service_name":"GitHub","title":"Issues\/1922\/grpcio pip install: Moved from Makefile to hosts.sh script, varant destroy\/up required by jeffgarratt \u00b7 Pull Request #1940 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1940","text":"Description Moved the pip install of the python grpc package from the Makefile to the hosts.sh file. This will require developers perform a vagrant destroy\/up cycle. Motivation and Context The ...","fallback":"GitHub: Issues\/1922\/grpcio pip install: Moved from Makefile to hosts.sh script, varant destroy\/up required by jeffgarratt \u00b7 Pull Request #1940 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars0.githubusercontent.com\/u\/4991920?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/1940","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1466545971.000287"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y>: that looks like a change you need to make here: <https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=ci-management.git;a=blob;f=vagrant\/fabric\/bootstrap.sh;h=5951d56a225e8875debb1ae1a23c8d9ad5305acc;hb=HEAD>","ts":"1466546218.000289"},{"type":"message","user":"U10Q62R8X","text":"looking at -2 builder for z.. one min","ts":"1466546297.000290"},{"type":"message","user":"U0UHG4VP1","text":"vpaprots: thanks","ts":"1466546455.000291"},{"type":"message","user":"U10Q62R8X","text":"<@U11HH3P7Y>: pip install is also done on z in setupRHELonZ.sh script","ts":"1466546614.000292"},{"type":"message","user":"U10Q62R8X","text":"<@U0UHG4VP1>: rebooted 73.169.212.227 through the cloud interface and started docker with `nohup docker daemon -g \/data\/docker -H <tcp:\/\/0.0.0.0:2375> -H unix:\/\/\/var\/run\/docker.sock 2&gt;&amp;1 &gt;\/dev\/null&amp;`","ts":"1466546829.000293"},{"type":"message","user":"U10Q62R8X","text":"hmm\n\n\/dev\/dasdb1      45G   38G  4.8G  89% \/data","ts":"1466546908.000294"},{"type":"message","user":"U10Q62R8X","text":"that looks like docker cleanup isnt happening...","ts":"1466546928.000295"},{"type":"message","user":"U0UHG4VP1","text":"strange","ts":"1466546979.000296"},{"type":"message","user":"U10Q62R8X","text":"maybe we need to insert something more 'nuclear' into the build script, like, on every start, kill docker, wipe \/data\/docker and start again?","ts":"1466546988.000297"},{"type":"message","user":"U0UHG4VP1","text":"I\u2019m fine with it","ts":"1466547001.000298"},{"type":"message","user":"U10Q62R8X","text":"not sure where that would go... <@U11HH3P7Y>?","ts":"1466547025.000299"},{"type":"message","user":"U0UHG4VP1","text":"vpaprots: take a look the ci-management repo","ts":"1466547044.000300"},{"type":"message","user":"U10Q62R8X","text":"though that might be considered a patch... wonder why its happening in the first place.","ts":"1466547061.000301"},{"type":"message","user":"U10Q62R8X","text":"do we rely on behave being a good citizen and cleaning up?","ts":"1466547106.000302"},{"type":"message","user":"U10Q62R8X","text":"I've seen, especially when its not a successful build, behave leaving lots of junk behind","ts":"1466547130.000303"},{"type":"message","user":"U0UHG4VP1","text":"something is leaving stuff behind","ts":"1466547139.000304"},{"type":"message","user":"U0UHG4VP1","text":"hmm looks like -2 isn\u2019t coming back. this happened once before, right?","ts":"1466547181.000305"},{"type":"message","user":"U10Q62R8X","text":"I am logged in right now.. I thought docker was all that was needed..","ts":"1466547248.000306"},{"type":"message","user":"U0UHG4VP1","text":"vpaprots: I manually re-launched the jenkins jar","ts":"1466547289.000307"},{"type":"message","user":"U0UHG4VP1","text":"vpaprots: and now it\u2019s back up on jenkins","ts":"1466547303.000308"},{"type":"message","user":"U10Q62R8X","text":"ah!","ts":"1466547308.000309"},{"type":"message","user":"U10Q62R8X","text":"<https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=ci-management.git;a=blob;f=jenkins-scripts\/create_jenkins_user.sh;h=58878151471db98bdc4b6f3f99e3bbaf11872005;hb=HEAD> :slightly_smiling_face:","ts":"1466547320.000310"},{"type":"message","user":"U10Q62R8X","text":"that looks familiar.. thanks for checking it in!","ts":"1466547330.000311"},{"type":"message","user":"U0UHG4VP1","text":"vpaprots: it looks like <@U1BC5NF2S> checked that in","ts":"1466547393.000312"},{"type":"message","user":"U10Q62R8X","text":"oh.. wait, no.. I was thinking thats the `jenkins_user_setup.sh` I created for z..","ts":"1466547419.000313"},{"type":"message","subtype":"file_share","text":"<@U10Q62R8X|vpaprots> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F1K1S1KPY\/-.sh|Untitled>","file":{"id":"F1K1S1KPY","created":1466547438,"timestamp":1466547438,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U10Q62R8X","editable":true,"size":1389,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1K1S1KPY\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1K1S1KPY\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F1K1S1KPY\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1K1S1KPY-f65401c46a","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F1K1S1KPY\/-.sh\/edit","preview":"[root@blockchain ~]# cat jenkins_user_setup.sh \r\ngroupadd docker\r\nuseradd -m -G docker -s \/bin\/bash jenkins\r\nmkdir \/home\/jenkins\/.ssh\r\nmkdir \/data\/jenkins\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>[root@blockchain ~]<span class=\"cm-comment\"># cat jenkins_user_setup.sh <\/span><\/pre><\/div>\n<div><pre>groupadd docker<\/pre><\/div>\n<div><pre>useradd <span class=\"cm-attribute\">-m<\/span> <span class=\"cm-attribute\">-G<\/span> docker <span class=\"cm-attribute\">-s<\/span> \/bin\/bash jenkins<\/pre><\/div>\n<div><pre><span class=\"cm-builtin\">mkdir<\/span> \/home\/jenkins\/.ssh<\/pre><\/div>\n<div><pre><span class=\"cm-builtin\">mkdir<\/span> \/data\/jenkins<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":19,"lines_more":14,"preview_is_truncated":null,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U10Q62R8X","upload":true,"display_as_bot":false,"username":"<@U10Q62R8X|vpaprots>","bot_id":null,"ts":"1466547438.000314"},{"type":"message","user":"U10Q62R8X","text":"did think there were a couple of things missing.. nm then","ts":"1466547474.000315"},{"type":"message","user":"U0UHG4VP1","text":"well, feel free to check it in so we have it in the repo","ts":"1466547499.000316"},{"type":"message","user":"U10Q62R8X","text":"should really... I am behind times though.. how do I check it in?","ts":"1466547538.000317"},{"type":"message","user":"U0UHG4VP1","text":"check out the ci-management repo and take a look","ts":"1466547556.000318"},{"type":"message","user":"U10Q62R8X","text":"havent worked with gerrit before.. google probably has the answers :slightly_smiling_face:","ts":"1466547565.000319"},{"type":"message","user":"U0UHG4VP1","text":"check this out","ts":"1466547589.000320"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/ci-management>","ts":"1466547589.000321"},{"type":"message","user":"U0KM61BCP","text":"<@U10Q62R8X>: <@U0UHG4VP1> did a session on gerrit","ts":"1466547595.000322"},{"type":"message","user":"U0KM61BCP","text":"was recorded\u2026 I\u2019d have to poke around slack and email for the link","ts":"1466547628.000323"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/www.zephyrproject.org\/doc\/contribute\/gerrit_accounts.html> set up account here (use hyperledger when it says zephyrproject)","ts":"1466547668.000324"},{"type":"message","user":"U0UHG4VP1","text":"instructions (s\/zephyr\/hyperledger\/): <https:\/\/www.zephyrproject.org\/doc\/contribute\/gerrit.html>","ts":"1466547704.000325"},{"type":"message","user":"U10Q62R8X","text":"great, two birds one stone.. I need to figure out gerrit for upstreaming my golang changes back to google too. Thanks! :slightly_smiling_face:","ts":"1466547710.000326"},{"type":"message","user":"U0KM61BCP","text":"<https:\/\/drive.google.com\/file\/d\/0B42vMkapQi1MSzRjYlhfSkFRSzA\/view>","ts":"1466547723.000327","reactions":[{"name":"+1","users":["U0UHG4VP1","U10Q62R8X"],"count":2}]},{"user":"U0UKTPMG8","type":"message","subtype":"channel_join","text":"<@U0UKTPMG8|jeffgarratt> has joined the channel","ts":"1466548553.000328"},{"type":"message","user":"U11HH3P7Y","text":"<@U10Q62R8X>: for every build in jenkins, it will stop the docker and wipe of docker images and containers..","ts":"1466548747.000329"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: submitted patch.. <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/205\/>","ts":"1466548781.000330"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y>: I see that. you need a better commit message.","ts":"1466548812.000331"},{"type":"message","user":"U10Q62R8X","text":"<@U11HH3P7Y>: can you also put that pip package under z as well pls?","ts":"1466548857.000332"},{"type":"message","user":"U10Q62R8X","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/setupRHELonZ.sh#L91>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/setupRHELonZ.sh#L91","text":"fabric - Fabric is a blockchain project in Incubation proposed to the community and documented at <https:\/\/goo.gl\/RYQZ5N>. Information on what Incubation entails can be found in the Hyperledger Proj...","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/setupRHELonZ.sh#L91","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1466548955.000333"},{"type":"message","user":"U11HH3P7Y","text":"sure.","ts":"1466549009.000335"},{"type":"message","user":"U10Q62R8X","text":"I wish there were more integration\/sharing between vagrant setup scripts and 'bare-metal' setups.. something for the future..","ts":"1466549122.000336"},{"type":"message","user":"U0UHG4VP1","text":"is there a reason to install it on its own with -U instead of with everything else the line above?","ts":"1466549141.000337"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y>: ^^^","ts":"1466549184.000338"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UKTPMG8>:  We observed this working with -U","ts":"1466549317.000339"},{"type":"message","user":"U0UHG4VP1","text":"does that mean 0.13.1 or newer?","ts":"1466549335.000340"},{"type":"message","user":"U0UKTPMG8","text":"no, 0.13.1","ts":"1466549419.000341"},{"type":"message","user":"U0UKTPMG8","text":"the -U was needed on the Travis env because the dependent 'six' library was out of date","ts":"1466549448.000342"},{"type":"message","user":"U0UKTPMG8","text":"above 0.13.1 had issues","ts":"1466549466.000343"},{"type":"message","user":"U0UKTPMG8","text":"hopefully 0.14.2 will prove better","ts":"1466549476.000344"},{"type":"message","user":"U0UKTPMG8","text":"but it has not yet been released","ts":"1466549530.000345"},{"type":"message","user":"U0UKTPMG8","text":"<@U0UHG4VP1>: btw, on my local env (vagrant) I did NOT need the -U.  But on the Travis system was needed","ts":"1466549607.000346"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y>: are you going to add <@U10Q62R8X> file to this change or will it be another change?","ts":"1466549656.000347"},{"type":"message","user":"U11HH3P7Y","text":"I am doing that change here \n<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/setupRHELonZ.sh#L91>","ts":"1466549770.000348"},{"type":"message","user":"U0UHG4VP1","text":"ok","ts":"1466549806.000349"},{"type":"message","user":"U11HH3P7Y","text":"Where can I get the z setup script in jenkins jobs?","ts":"1466549813.000350"},{"type":"message","user":"U0UHG4VP1","text":"<@U0UKTPMG8>: I merged that change, so x86 should be OK","ts":"1466549863.000351"},{"type":"message","user":"U0UKTPMG8","text":"thnx","ts":"1466550228.000352"},{"type":"message","user":"U10Q62R8X","text":"tried installing `grpcio` on the z builders..","ts":"1466552533.000353"},{"type":"message","user":"U10Q62R8X","text":"getting some strange conflicts...","ts":"1466552542.000354"},{"type":"message","subtype":"file_share","text":"<@U10Q62R8X|vpaprots> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F1K2KQCDT\/-.sh|Untitled>","file":{"id":"F1K2KQCDT","created":1466552561,"timestamp":1466552561,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U10Q62R8X","editable":true,"size":339,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1K2KQCDT\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1K2KQCDT\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F1K2KQCDT\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1K2KQCDT-1ad24d5735","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F1K2KQCDT\/-.sh\/edit","preview":"    Writing \/tmp\/easy_install-Gk_Onm\/futures-3.0.5\/setup.cfg\r\n    Running futures-3.0.5\/setup.py -q bdist_egg --dist-dir \/tmp\/easy_install-Gk_Onm\/futures-3.0.5\/egg-dist-tmp-3ToErf\r\n    \r\n    Installed \/tmp\/pip-build-TtVFNP\/grpcio\/futures-3.0.5-py2.7.egg\r\n    Traceback (most recent call last):\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>    Writing \/tmp\/easy_install-Gk_Onm\/futures-3.0.5\/setup.cfg<\/pre><\/div>\n<div><pre>    Running futures-3.0.5\/setup.py <span class=\"cm-attribute\">-q<\/span> bdist_egg <span class=\"cm-attribute\">--dist<\/span><span class=\"cm-attribute\">-dir<\/span> \/tmp\/easy_install-Gk_Onm\/futures-3.0.5\/egg-dist-tmp-3ToErf<\/pre><\/div>\n<div><pre>    <\/pre><\/div>\n<div><pre>    Installed \/tmp\/pip-build-TtVFNP\/grpcio\/futures-3.0.5-py2.7.egg<\/pre><\/div>\n<div><pre>    Traceback (most recent call last):<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":7,"lines_more":2,"preview_is_truncated":null,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U10Q62R8X","upload":true,"display_as_bot":false,"username":"<@U10Q62R8X|vpaprots>","bot_id":null,"ts":"1466552562.000355"},{"type":"message","user":"U10Q62R8X","text":"from one problem to the next.. the package (aptly named) `six` is out of date.. so fine..","ts":"1466552905.000356"},{"type":"message","subtype":"file_share","text":"<@U10Q62R8X|vpaprots> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F1K2GLQN4\/-.sh|Untitled>","file":{"id":"F1K2GLQN4","created":1466553047,"timestamp":1466553047,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U10Q62R8X","editable":true,"size":2122,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1K2GLQN4\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1K2GLQN4\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F1K2GLQN4\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1K2GLQN4-bdf525b3ff","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F1K2GLQN4\/-.sh\/edit","preview":"      File \"\/usr\/lib\/python2.7\/site-packages\/pkg_resources.py\", line 630, in resolve\r\n        raise VersionConflict(dist,req) # XXX put more info here\r\n    pkg_resources.VersionConflict: (six 1.9.0 (\/usr\/lib\/python2.7\/site-packages), Requirement.parse('six>=1.10'))\r\n    \r\n    ----------------------------------------\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>      File <span class=\"cm-string\">&quot;\/usr\/lib\/python2.7\/site-packages\/pkg_resources.py&quot;<\/span>, line <span class=\"cm-number\">630<\/span>, <span class=\"cm-keyword\">in<\/span> resolve<\/pre><\/div>\n<div><pre>        raise VersionConflict(dist,req) <span class=\"cm-comment\"># XXX put more info here<\/span><\/pre><\/div>\n<div><pre>    pkg_resources.VersionConflict: (six <span class=\"cm-number\">1<\/span>.9.0 (\/usr\/lib\/python2.7\/site-packages), Requirement.parse(<span class=\"cm-string\">'six&gt;=1.10'<\/span>))<\/pre><\/div>\n<div><pre>    <\/pre><\/div>\n<div><pre>    <span class=\"cm-attribute\">--<\/span><span class=\"cm-attribute\">--<\/span><span class=\"cm-attribute\">--<\/span><span class=\"cm-attribute\">--<\/span><span class=\"cm-attribute\">--<\/span><span class=\"cm-attribute\">--<\/span><span class=\"cm-attribute\">--<\/span><span class=\"cm-attribute\">--<\/span><span class=\"cm-attribute\">--<\/span><span class=\"cm-attribute\">--<\/span><span class=\"cm-attribute\">--<\/span><span class=\"cm-attribute\">--<\/span><span class=\"cm-attribute\">--<\/span><span class=\"cm-attribute\">--<\/span><span class=\"cm-attribute\">--<\/span><span class=\"cm-attribute\">--<\/span><span class=\"cm-attribute\">--<\/span><span class=\"cm-attribute\">--<\/span><span class=\"cm-attribute\">--<\/span><span class=\"cm-attribute\">--<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":35,"lines_more":30,"preview_is_truncated":null,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U10Q62R8X","upload":true,"display_as_bot":false,"username":"<@U10Q62R8X|vpaprots>","bot_id":null,"ts":"1466553047.000357"},{"type":"message","user":"U10Q62R8X","text":"gah.. wonderful :confused:","ts":"1466553072.000358"},{"type":"message","user":"U10Q62R8X","text":"I take it grpcio package absent blocks builds?","ts":"1466553117.000359"},{"type":"message","user":"U10Q62R8X","text":"given that openssl certainly works on z, this looks more like a misconfigured build, rather then a source issue.. but will take time to investigate.. and likely not today","ts":"1466553174.000360"},{"type":"message","user":"U11HH3P7Y","text":"Thanks <@U10Q62R8X>.. I think it's better not to merge that PR","ts":"1466553226.000361"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: did you run bootstrap script in x86? I could see same error in Jenkins x86","ts":"1466605191.000362"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: Jenkins Builds are not triggering after code merge in branch \"v0.5-developer-preview\"","ts":"1466613912.000363"},{"type":"message","user":"U0UHG4VP1","text":"As I said yesterday, the merge jobs only watch master","ts":"1466614288.000364"},{"type":"message","user":"U0UHG4VP1","text":"We need to decide on new jobs or how to handle the docker hub push","ts":"1466614340.000365"},{"type":"message","user":"U11HH3P7Y","text":"ok..","ts":"1466614369.000366"},{"type":"message","user":"U11HH3P7Y","text":"Did you run bootstrap script in x86?","ts":"1466614760.000367"},{"type":"message","user":"U11HH3P7Y","text":"<@U0ZLVCQPM>: is installing grpcio package in both Z machines","ts":"1466614849.000368"},{"type":"message","user":"U0YQQRNU8","text":"<@U0KM61BCP> what are current the JIRA plans?","ts":"1466614893.000369"},{"type":"message","user":"U0KM61BCP","text":"when we decide to transition to Gerrit, we will affect that transition as well (Jira) - I understand it is straight-forward","ts":"1466617939.000370"},{"type":"message","user":"U0KM61BCP","text":"so we probably need to start soon to get Jira up and running.","ts":"1466617952.000371"},{"type":"message","user":"U0KM61BCP","text":"I am leaving on vacation next week but we might think about after the 4th","ts":"1466617973.000372"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y>: the x86 build machines are instantiated and used once. if the change you made yesterday in Jenkins is run by vagrant, then yes","ts":"1466619021.000373"},{"type":"message","user":"U11HH3P7Y","text":"ok. can you please give me the output of `pip show grpcio`","ts":"1466619122.000374"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y>: I can\u2019t log in to those machines as they don\u2019t exist.","ts":"1466621095.000375"},{"type":"message","user":"U0UHG4VP1","text":"they are instantiated, used for one build, and deleted.","ts":"1466621117.000376"},{"type":"message","user":"U11HH3P7Y","text":"I am not sure whether bootstrap script is run by vagrant or not.","ts":"1466621516.000377"},{"type":"message","user":"U0UHG4VP1","text":"ramesh: tykeal pointed out that I missed a step, which will take a bit to do","ts":"1466621870.000378"},{"user":"U1KC1TAHE","type":"message","subtype":"channel_join","text":"<@U1KC1TAHE|brendan> has joined the channel","ts":"1466624451.000379"},{"user":"U1KC1TAHE","type":"message","subtype":"channel_leave","text":"<@U1KC1TAHE|brendan> has left the channel","ts":"1466624587.000380"},{"type":"message","user":"U11HTMW0H","text":"<@U11HH3P7Y> Have we addressed the grpcio missing package issue?  This one is heating up due to all the failed CI runs in Jenkins.","ts":"1466630398.000381"},{"type":"message","user":"U11HH3P7Y","text":"<@U11HTMW0H>: I  have made changes to bootstrap.sh script in Jenkins and it was merged.  <@U0UHG4VP1> is working on this","ts":"1466630986.000382"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HTMW0H>: this is the first build post-new-image: <https:\/\/jenkins.hyperledger.org\/job\/fabric-github-verify-x86_64\/285\/console>","ts":"1466636835.000383"},{"type":"message","user":"U11HH3P7Y","text":"Thanks <@U0UHG4VP1>: grpcio package error is fixed now in x86 Jenkins machine.","ts":"1466641742.000384"},{"user":"U0VKPD6A2","type":"message","subtype":"channel_join","text":"<@U0VKPD6A2|middleton> has joined the channel","ts":"1466774242.000385"},{"type":"message","user":"U0KM61BCP","text":"for the Fabric CI, how is the Node SDK npm publishing handled?","ts":"1467029955.000386"},{"type":"message","user":"U0KM61BCP","text":"also, how are we publishing images to DockerHub? the images I found have no description. I also noted that we have some images under hyperledgergithub org. What is that about? seems confusing. We should use consistency when we publish images under hyperledger","ts":"1467030104.000387"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KM61BCP>: for testing, we have uploaded docker images to `hyperledgergithub` account.. I will ask <@U1BC5NF2S> to delete these images.","ts":"1467036673.000388"},{"type":"message","user":"U0KM61BCP","text":"<@U11HH3P7Y>: thanks","ts":"1467036732.000389"},{"type":"message","user":"U11HH3P7Y","text":"we are now uploading peer and membersrvc images in `hyperledger`","ts":"1467036744.000390"},{"type":"message","user":"U0KM61BCP","text":"have we documented how the images are published?","ts":"1467036745.000391"},{"type":"message","user":"U0KM61BCP","text":"(nothing fancy, I just want to know)","ts":"1467036761.000392"},{"type":"message","user":"U11HH3P7Y","text":"no. will prepare that and share it with you..","ts":"1467036786.000393"},{"type":"message","user":"U0UHG4VP1","text":"as of now, I don\u2019t think those repos have had an upload yet, have they?","ts":"1467047647.000394"},{"type":"message","user":"U0UHG4VP1","text":"cbf: if you have better text for those repos I\u2019m all ears (<https:\/\/hub.docker.com\/u\/hyperledger\/dashboard\/> shows the new repo layout)","ts":"1467050166.000395"},{"user":"U143JUETY","type":"message","subtype":"channel_join","text":"<@U143JUETY|andyz> has joined the channel","ts":"1467076190.000396"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> how is the description etc set? Is that manual or is it part of what we push when we update?","ts":"1467205294.000397"},{"type":"message","user":"U0KM61BCP","text":"also, <@U11HH3P7Y> can I get a sense of where we think we are with Jenkins x86?","ts":"1467205328.000398"},{"type":"message","user":"U0KM61BCP","text":"because it seems to fail randomly with a similar docker error (cannot connect to non-running container)","ts":"1467205358.000399"},{"type":"message","user":"U0KM61BCP","text":"is this likely a timing issue?","ts":"1467205370.000400"},{"type":"message","user":"U0KM61BCP","text":"in the behave tests?","ts":"1467205377.000401"},{"type":"message","user":"U0KM61BCP","text":"although, TBH I have also seen failures in the unit tests and unclear that they were related to the PR","ts":"1467205400.000402"},{"type":"message","user":"U11HH3P7Y","text":"Hi Chris Good morning.. I am analyzing these behave failures. I think these are related to Jenkins x86 docker environment,, Will check and let you know","ts":"1467208260.000403"},{"type":"message","user":"U11HH3P7Y","text":"Most of the recent unit-test failures are related to the PR's","ts":"1467208486.000404"},{"type":"message","user":"U0KM61BCP","text":"<@U11HH3P7Y>: thanks","ts":"1467212915.000405"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP> it is manual.","ts":"1467213332.000406"},{"type":"message","user":"U0KM61BCP","text":"ok, I am pulling together a proposal(s) that I\u2019ll add as a markdown file to the fabric repo","ts":"1467213370.000407"},{"type":"message","user":"U0KM61BCP","text":"basically, should have a brief description and then usage","ts":"1467213388.000408"},{"type":"message","user":"U0KM61BCP","text":"something ala <https:\/\/hub.docker.com\/r\/hashicorp\/packer\/>","ts":"1467213405.000409"},{"type":"message","user":"U0UHG4VP1","text":"Great. Let me know when it's in and I'll copy\/paste","ts":"1467213674.000410"},{"type":"message","user":"U0KM61BCP","text":"<https:\/\/github.com\/hyperledger\/fabric\/pull\/2070>","attachments":[{"service_name":"GitHub","title":"proposed language for the fabric-peer image description on DockerHub by christo4ferris \u00b7 Pull Request #2070 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/2070","text":"Description proposed language for DockerHub description for fabric-peer image Motivation and Context Fixes # N\/A How Has This Been Tested? markdown plugin for Atom. Usage was verified manu...","fallback":"GitHub: proposed language for the fabric-peer image description on DockerHub by christo4ferris \u00b7 Pull Request #2070 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/3630697?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/2070","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1467219413.000411"},{"type":"message","user":"U0KM61BCP","text":"let\u2019s let the maintainers review and merge before we update","ts":"1467219430.000413"},{"type":"message","user":"U0KM61BCP","text":"I\u2019ll get to the other images as I get time\u2026 heading offline for the weekend\u2026 have a nice 4th","ts":"1467219456.000414"},{"type":"message","user":"U0UHG4VP1","text":"you too","ts":"1467219470.000415"},{"type":"message","user":"U11HH3P7Y","text":"Builds are failing in Jenkins z machines.. Below is the error ```00:00:23.272 docker: Error response from daemon: Cannot start container 79b3bea571e4933132c3e9c18c14ee17df18f4fe48ba887787fa446dd07a4076: [9] System error: fork\/exec \/proc\/self\/exe: cannot allocate memory.\n00:00:23.484 Sending build context to Docker daemon 11.26 kB\n\n00:00:23.484 Error response from daemon: Untar error on re-exec cmd: fork\/exec \/proc\/self\/exe: cannot allocate memory```","ts":"1467291005.000416"},{"type":"message","user":"U11HH3P7Y","text":"<@U14FUGATW>: Could you please free the memory in linux2 Jenkins machine","ts":"1467291615.000417"},{"type":"message","user":"U14FUGATW","text":"linux 2 is Vlad's system.  I don't think I have access to it to this system.","ts":"1467294245.000418"},{"type":"message","user":"U14FUGATW","text":"Vlad will have to look at the system.","ts":"1467294256.000419"},{"type":"message","user":"U11HH3P7Y","text":"<@U10Q62R8X>:","ts":"1467295102.000420"},{"type":"message","subtype":"file_share","text":"<@U11HH3P7Y|ramesh> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ramesh\/F1MP5HMKJ\/capture.png|Capture.PNG> and commented: <@U0UHG4VP1>: x86 nodes are not available in Jenkins master.. If possible could you please verify this","file":{"id":"F1MP5HMKJ","created":1467295795,"timestamp":1467295795,"name":"Capture.PNG","title":"Capture.PNG","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U11HH3P7Y","editable":false,"size":10281,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1MP5HMKJ\/capture.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1MP5HMKJ\/download\/capture.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1MP5HMKJ-e07ada0baa\/capture_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1MP5HMKJ-e07ada0baa\/capture_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1MP5HMKJ-e07ada0baa\/capture_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":164,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F1MP5HMKJ-e07ada0baa\/capture_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","image_exif_rotation":1,"original_w":446,"original_h":203,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ramesh\/F1MP5HMKJ\/capture.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1MP5HMKJ-2051dec2dc","channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc1MP5HW72","created":1467295795,"timestamp":1467295795,"user":"U11HH3P7Y","is_intro":true,"comment":"<@U0UHG4VP1>: x86 nodes are not available in Jenkins master.. If possible could you please verify this","channel":""}},"user":"U11HH3P7Y","upload":true,"display_as_bot":false,"username":"<@U11HH3P7Y|ramesh>","bot_id":null,"ts":"1467295796.000421"},{"type":"message","user":"U0UHG4VP1","text":"I don't understand your question <@U11HH3P7Y> ","ts":"1467296873.000422"},{"type":"message","user":"U11HH3P7Y","text":"Builds are not triggering on X86 machines","ts":"1467296895.000423"},{"type":"message","user":"U11HH3P7Y","text":"I don't see them in the nodes list..","ts":"1467296939.000424"},{"type":"message","user":"U0UHG4VP1","text":"I have covered this many times. They are created, they run a build, and are deleted. ","ts":"1467297016.000425"},{"type":"message","user":"U11HH3P7Y","text":"yes.. When a new job triggers, they should up after some sleep time. correct?","ts":"1467297105.000426"},{"type":"message","user":"U11HH3P7Y","text":"It's working now..","ts":"1467297153.000427"},{"type":"message","user":"U11HH3P7Y","text":"Today morning I triggered two jobs using `reverify jenkins`, I saw builds triggered only in z machines but not in x86..","ts":"1467297277.000428"},{"type":"message","user":"U0UHG4VP1","text":"Yes, no longer than five minutes or so ","ts":"1467297316.000429"},{"type":"message","user":"U11HH3P7Y","text":"yes","ts":"1467297355.000430"},{"type":"message","user":"U0UHG4VP1","text":"ramesh: you\u2019re root on z2, why not reboot it?","ts":"1467297954.000431"},{"type":"message","user":"U11HH3P7Y","text":"I don't have access to this machine..","ts":"1467297980.000432"},{"type":"message","user":"U0UHG4VP1","text":"if docker is failing. if it goes like every other time, <@U10Q62R8X> will need to manually restart it in the web UI","ts":"1467297997.000433"},{"type":"message","user":"U0UHG4VP1","text":"let\u2019s see if it comes back this time","ts":"1467298124.000434"},{"type":"message","user":"U11HH3P7Y","text":"sure..","ts":"1467298159.000435"},{"type":"message","user":"U0UHG4VP1","text":"indeed! will wonders ever cease","ts":"1467298165.000436"},{"type":"message","user":"U11HH3P7Y","text":"Checking with <@U14FUGATW>","ts":"1467298179.000437"},{"type":"message","user":"U0UHG4VP1","text":"is -1 also having this issue?","ts":"1467298282.000438"},{"type":"message","user":"U0UHG4VP1","text":"whatever, rebooted -1 and it\u2019s back","ts":"1467298403.000439"},{"type":"message","user":"U11HH3P7Y","text":"No.. But the issue is builds are not routing to Linux1","ts":"1467298404.000440"},{"type":"message","user":"U0UHG4VP1","text":"I don\u2019t understand what you\u2019re saying - what exactly isn\u2019t happening?","ts":"1467298447.000441"},{"type":"message","user":"U11HH3P7Y","text":"In z nodes, I could see builds are only routing to linux2... not to linux1","ts":"1467298500.000442"},{"type":"message","user":"U11HH3P7Y","text":"Oh are you talking about x86 machines 1?","ts":"1467298587.000443"},{"type":"message","user":"U0UHG4VP1","text":"that is luck of the draw in Jenkins. I don\u2019t think there is anything else to do now that they\u2019ve both rebooted","ts":"1467298632.000444"},{"type":"message","user":"U11HH3P7Y","text":"yes.. Will verify","ts":"1467298704.000445"},{"type":"message","user":"U11HH3P7Y","text":"Thank you","ts":"1467298722.000446"},{"type":"message","user":"U10Q62R8X","text":"<@U11HH3P7Y>: <@U0UHG4VP1> : the issue is with linux-z2? Could you confirm the IP address? I own 148.100.105.200 and  148.100.106.162","ts":"1467299718.000447"},{"type":"message","user":"U10Q62R8X","text":"somehow, can no longer log into <@U14FUGATW> Dan's box","ts":"1467299764.000448"},{"type":"message","user":"U0UHG4VP1","text":"148.100.107.97","ts":"1467299796.000449"},{"type":"message","user":"U11HH3P7Y","text":"Linux2 Ip address:  148.100.107.97","ts":"1467299796.000450"},{"type":"message","user":"U10Q62R8X","text":"148.100.106.119","ts":"1467299797.000451"},{"type":"message","user":"U10Q62R8X","text":"hmm..","ts":"1467299809.000452"},{"type":"message","user":"U11HH3P7Y","text":"Linux1: 148.100.105.200","ts":"1467299812.000453"},{"type":"message","user":"U10Q62R8X","text":"Yep. looks like linux1 is mine","ts":"1467299850.000454"},{"type":"message","user":"U10Q62R8X","text":"<@U14FUGATW>: I think that other box is yours.. welcome back? :slightly_smiling_face:","ts":"1467299906.000455"},{"type":"message","user":"U10Q62R8X","text":"ah. so looks like I am able to log into linux2.. got my ip addresses mixed up","ts":"1467300000.000456"},{"type":"message","user":"U10Q62R8X","text":"docker daemon was not running, started it","ts":"1467300029.000457"},{"type":"message","user":"U10Q62R8X","text":"I think, <@U0UHG4VP1>, there was something about jenkins that you needed to do, before the machine becomes available?","ts":"1467300095.000458"},{"type":"message","subtype":"file_share","text":"<@U10Q62R8X|vpaprots> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F1MQ2DF96\/-.sh|Untitled>","file":{"id":"F1MQ2DF96","created":1467300133,"timestamp":1467300133,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U10Q62R8X","editable":true,"size":360,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1MQ2DF96\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1MQ2DF96\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F1MQ2DF96\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1MQ2DF96-cf497665e0","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/vpaprots\/F1MQ2DF96\/-.sh\/edit","preview":"root      2385  1417  0 11:04 ?        00:00:00 sshd: jenkins [priv]\r\njenkins   2387  2385  0 11:04 ?        00:00:00 sshd: jenkins@notty\r\njenkins   2451  2387  0 11:04 ?        00:00:00 bash -c cd \"\/w\" && java  -jar slave.jar\r\njenkins   2465  2451  0 11:04 ?        00:00:02 java -jar slave.jar\r\nroot      2530     2  0 11:08 ?        00:00:00 [kworker\/0:2]\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>root      <span class=\"cm-number\">2385<\/span>  <span class=\"cm-number\">1417<\/span>  <span class=\"cm-number\">0<\/span> <span class=\"cm-number\">11<\/span>:04 ?        <span class=\"cm-number\">00<\/span>:00:00 sshd: jenkins [priv]<\/pre><\/div>\n<div><pre>jenkins   <span class=\"cm-number\">2387<\/span>  <span class=\"cm-number\">2385<\/span>  <span class=\"cm-number\">0<\/span> <span class=\"cm-number\">11<\/span>:04 ?        <span class=\"cm-number\">00<\/span>:00:00 sshd: jenkins@notty<\/pre><\/div>\n<div><pre>jenkins   <span class=\"cm-number\">2451<\/span>  <span class=\"cm-number\">2387<\/span>  <span class=\"cm-number\">0<\/span> <span class=\"cm-number\">11<\/span>:04 ?        <span class=\"cm-number\">00<\/span>:00:00 <span class=\"cm-builtin\">bash<\/span> <span class=\"cm-attribute\">-c<\/span> <span class=\"cm-builtin\">cd<\/span> <span class=\"cm-string\">&quot;\/w&quot;<\/span> &amp;&amp; java  <span class=\"cm-attribute\">-jar<\/span> slave.jar<\/pre><\/div>\n<div><pre>jenkins   <span class=\"cm-number\">2465<\/span>  <span class=\"cm-number\">2451<\/span>  <span class=\"cm-number\">0<\/span> <span class=\"cm-number\">11<\/span>:04 ?        <span class=\"cm-number\">00<\/span>:00:02 java <span class=\"cm-attribute\">-jar<\/span> slave.jar<\/pre><\/div>\n<div><pre>root      <span class=\"cm-number\">2530<\/span>     <span class=\"cm-number\">2<\/span>  <span class=\"cm-number\">0<\/span> <span class=\"cm-number\">11<\/span>:08 ?        <span class=\"cm-number\">00<\/span>:00:00 [kworker\/0:2]<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":6,"lines_more":1,"preview_is_truncated":null,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U10Q62R8X","upload":true,"display_as_bot":false,"username":"<@U10Q62R8X|vpaprots>","bot_id":null,"ts":"1467300133.000459"},{"type":"message","user":"U10Q62R8X","text":"and looks like somebody already is.. assuming its working and heading for the next meeting! :slightly_smiling_face:","ts":"1467300160.000460"},{"type":"message","user":"U11HH3P7Y","text":"I just connected..","ts":"1467300217.000461"},{"type":"message","user":"U0UHG4VP1","text":"everything on -1 and -2 is fine","ts":"1467300356.000462"},{"type":"message","user":"U14FUGATW","text":"Thanks Vlad.  I could not remember the ip address to linux2.","ts":"1467301256.000463"},{"type":"message","user":"U14FUGATW","text":"148.100.107.97 is my system,","ts":"1467301552.000464"},{"type":"message","user":"U11HH3P7Y","text":"I fixed the unit-test failures issue in z machine..","ts":"1467386275.000465"},{"type":"message","user":"U11HH3P7Y","text":"firewall is blocking the tests..","ts":"1467386303.000466"},{"type":"message","user":"U0UHG4VP1","text":"great!","ts":"1467388082.000469"},{"type":"message","user":"U14FUGATW","text":"<@U0UHG4VP1>: In build 350 we are getting an error after\/during cleaning up the workspace.  Any idea on what could be the cause?       <https:\/\/jenkins.hyperledger.org\/job\/fabric-github-verify-z\/350\/>              16:53:20 Building remotely on hyp-z-linuxone-2 (hyp-fabric-z linuxone-2) in workspace \/w\/workspace\/fabric-github-verify-z\n16:53:20 Wiping out workspace first.\n16:53:21 java.io.IOException: remote file operation failed: \/w\/workspace\/fabric-github-verify-z\/gopath\/src\/github.com\/hyperledger\/fabric at hudson.remoting.Channel@68fcdf38:hyp-z-linuxone-2: java.nio.file.AccessDeniedException: \/w\/workspace\/fabric-github-verify-z\/gopath\/src\/github.com\/hyperledger\/fabric\/.git\/objects\/e7\/a003d5a7076231f464ea58ec4088e00121d399\n16:53:21 \tat hudson.FilePath.act(FilePath.java:986)","ts":"1467393166.000470"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F1N5PS4CT\/files_owned_by_root.txt|Files owned by root>","file":{"id":"F1N5PS4CT","created":1467394602,"timestamp":1467394602,"name":"Files_owned_by_root.txt","title":"Files owned by root","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":831,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1N5PS4CT\/files_owned_by_root.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F1N5PS4CT\/download\/files_owned_by_root.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F1N5PS4CT\/files_owned_by_root.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F1N5PS4CT-be3e4aceae","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F1N5PS4CT\/files_owned_by_root.txt\/edit","preview":"-rw-r--r-- 1 root    root          41 Jul  1 10:43 .\/gopath\/src\/github.com\/hyperledger\/fabric\/.git\/HEAD\r\n-r--r--r-- 1 root    root         237 Jul  1 10:43 .\/gopath\/src\/github.com\/hyperledger\/fabric\/.git\/objects\/e7\/a003d5a7076231f464ea58ec4088e00121d399\r\n-rw-r--r-- 1 root    root          41 Jul  1 10:43 .\/gopath\/src\/github.com\/hyperledger\/fabric\/.git\/ORIG_HEAD\r\n-rw-r--r-- 1 root    root        4764 Jul  1 10:43 .\/gopath\/src\/github.com\/hyperledger\/fabric\/membersrvc\/ca\/eca.go\r\n-rw-r--r-- 1 root    root        7691 Jul  1 10:43 .\/gopath\/src\/github.com\/hyperledger\/fabric\/membersrvc\/ca\/ecap.go\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>-rw-r--r-- 1 root    root          41 Jul  1 10:43 .\/gopath\/src\/github.com\/hyperledger\/fabric\/.git\/HEAD<\/pre><\/div>\n<div><pre>-r--r--r-- 1 root    root         237 Jul  1 10:43 .\/gopath\/src\/github.com\/hyperledger\/fabric\/.git\/objects\/e7\/a003d5a7076231f464ea58ec4088e00121d399<\/pre><\/div>\n<div><pre>-rw-r--r-- 1 root    root          41 Jul  1 10:43 .\/gopath\/src\/github.com\/hyperledger\/fabric\/.git\/ORIG_HEAD<\/pre><\/div>\n<div><pre>-rw-r--r-- 1 root    root        4764 Jul  1 10:43 .\/gopath\/src\/github.com\/hyperledger\/fabric\/membersrvc\/ca\/eca.go<\/pre><\/div>\n<div><pre>-rw-r--r-- 1 root    root        7691 Jul  1 10:43 .\/gopath\/src\/github.com\/hyperledger\/fabric\/membersrvc\/ca\/ecap.go<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":8,"lines_more":3,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1467394603.000471"},{"type":"message","user":"U0UHG4VP1","text":"in general, this error means there are files generated by docker that are owned by root, but I see parts of .git are also owned by root. <@U11HH3P7Y> knows how to fix this","ts":"1467394664.000472"},{"type":"message","user":"U0UHG4VP1","text":"<@U14FUGATW>: I cleaned it up","ts":"1467394854.000473"},{"type":"message","user":"U14FUGATW","text":"Did you just rm the files?  Ramesh did not know how to fix the problem.  I was going to just remove the files and restart but figured it would be safer to ask before doing.  :slightly_smiling_face:","ts":"1467394932.000474"},{"type":"message","user":"U0UHG4VP1","text":"yes, I just deleted them.","ts":"1467395151.000475"},{"type":"message","user":"U0UHG4VP1","text":"that\u2019s the fix","ts":"1467395158.000476"},{"type":"message","user":"U14FUGATW","text":"Thanks.","ts":"1467395193.000477"},{"type":"message","user":"U0UHG4VP1","text":"I know there were was a change to fix this that was merged a couple weeks ago, so it\u2019s a little weird to see it popping up. I suspect old PRs need to be rebased to the tip of master","ts":"1467395229.000478"},{"type":"message","user":"U14FUGATW","text":"That is good info.  Thanks.","ts":"1467395292.000479"},{"user":"U1HD28HEH","type":"message","subtype":"channel_join","text":"<@U1HD28HEH|hangliu> has joined the channel","ts":"1467596296.000480"},{"type":"message","user":"U11HH3P7Y","text":"Update on Jenkins build status in Jenkins x86 and Z ```Issues on Linux on Z (S390x) Jenkins:\n \n1. car_test.go unit test is failing on commit# ce66cb6 - Observed this issue only in fabric master branch. Issue# 2035 - PR #2083 has been created to fix this issue. Review is in-progress. \n2. Behave tests are failing on Linux on Z machines - Observed this on both fabric \"master\" and \"v0.5-developer-preview\" branch. Issue# 2075 ```","ts":"1468247273.000481"},{"type":"message","user":"U0KM61BCP","text":"thanks, I was going to ask about this","ts":"1468247568.000482"},{"type":"message","user":"U0KM61BCP","text":"can we disable the Z reporting back to the PR until we have clean builds?","ts":"1468247604.000483","reactions":[{"name":"+1","users":["U0TFEHX8E"],"count":1}]},{"type":"message","user":"U11HH3P7Y","text":"sure..","ts":"1468247649.000484"},{"type":"message","user":"U0UHG4VP1","text":"<@U14FUGATW>: looks like is off the air (I can\u2019t ssh to it either). Is this something you have visibility to in the web UI? <https:\/\/jenkins.hyperledger.org\/computer\/hyp-z-linuxone-1\/>","ts":"1468344993.000485"},{"type":"message","user":"U14FUGATW","text":"Looks like the image was removed.  :disappointed:   I can't see it or login at all.  If we need another node we will have to request a new one.","ts":"1468356871.000486"},{"type":"message","user":"U0UHG4VP1","text":"for now, Z is disabled. Let\u2019s go with one node and hoist one in the general direction of our departed builder","ts":"1468357138.000487"},{"type":"message","user":"U10Q62R8X","text":"FYI: <@U0YK3KKCY> is another person that can help with z build issues, he just got 'volunteered' :slightly_smiling_face:","ts":"1468507220.000488","reactions":[{"name":"+1","users":["U0KM61BCP"],"count":1}]},{"user":"U0YK3KKCY","inviter":"U10Q62R8X","text":"<@U0YK3KKCY|harrijk> has joined the channel","type":"message","subtype":"channel_join","ts":"1468507227.000489"},{"type":"message","user":"U10Q62R8X","text":"he has been building linux images from source, so glad to have him! :slightly_smiling_face:","ts":"1468507277.000490"},{"type":"message","user":"U10Q62R8X","text":"<@U11HH3P7Y>: FYI ^^^","ts":"1468507294.000491"},{"type":"message","user":"U11HH3P7Y","text":"Thanks <@U0YK3KKCY> <@U10Q62R8X>","ts":"1468507402.000492"},{"type":"message","user":"U11HH3P7Y","text":"did cindy fork protoc repo into linux-on-z?","ts":"1468507457.000493"},{"type":"message","user":"U0KM61BCP","text":"so, dockerhub naming scheme","ts":"1468538013.000494"},{"type":"message","user":"U0UHG4VP1","text":"Yes","ts":"1468538047.000495"},{"type":"message","user":"U0KM61BCP","text":"as noted in <#C0Y4PEU22> there is work being introduced into Docker Registry to add multi-arch support","ts":"1468538048.000496"},{"type":"message","user":"U0UHG4VP1","text":"Right now we have 9: <https:\/\/hub.docker.com\/u\/hyperledger\/> should we kill the 6 poorly named ones, put up six more with better names, with the plan to reuse the first 3 once we have multiarch support?","ts":"1468538254.000497"},{"type":"message","user":"U0KM61BCP","text":"<https:\/\/github.com\/docker\/distribution\/issues\/200>","attachments":[{"service_name":"GitHub","title":"architecture and operating system support \u00b7 Issue #200 \u00b7 docker\/distribution \u00b7 GitHub","title_link":"https:\/\/github.com\/docker\/distribution\/issues\/200","text":"The distribution system should support images with different operating systems and architectures. The most relevant subject matter is the ongoing manifest proposal #62). Requirements are covered in...","fallback":"GitHub: architecture and operating system support \u00b7 Issue #200 \u00b7 docker\/distribution","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/120601?v=3&s=400","from_url":"https:\/\/github.com\/docker\/distribution\/issues\/200","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1468538294.000498"},{"type":"message","user":"U0KM61BCP","text":"that would be a yes","ts":"1468538309.000500"},{"type":"message","user":"U0KM61BCP","text":"multi-arch support is actually in 1.12","ts":"1468538320.000501"},{"type":"message","user":"U0KM61BCP","text":"but the tooling  is missing","ts":"1468538325.000502"},{"type":"message","user":"U0KM61BCP","text":"so no tools to generate multi-arch images","ts":"1468538336.000503"},{"type":"message","user":"U0KM61BCP","text":"that said","ts":"1468538339.000504"},{"type":"message","user":"U0KM61BCP","text":"I would propose the following","ts":"1468538344.000505"},{"type":"message","user":"U0UHG4VP1","text":"If I had to guess, most people are using the original, old images. I am also willing to bet essentially 100% of the pulls from the lower six are from our CI","ts":"1468538359.000506"},{"type":"message","user":"U0KM61BCP","text":"hyperledger\/fabric-component[-arch] where arch is not x86_64","ts":"1468538383.000507"},{"type":"message","user":"U0KM61BCP","text":"well I know I started this a couple weeks ago and thought I was pulling the latest","ts":"1468538410.000508"},{"type":"message","user":"U0KM61BCP","text":"silly me;-)","ts":"1468538413.000509"},{"type":"message","user":"U0UHG4VP1","text":"Ok. If <@U11HH3P7Y> could update the CI bits for x86, no changes are needed - the right repo gets new bits. I'll delete the malnamed x86 images. Right now s390 is disabled in CI so I propose putting off those fixes until that is fixed","ts":"1468538649.000510"},{"type":"message","user":"U0UHG4VP1","text":"Also, someone contacted me about adding POWER to CI, so keep in mind that's coming","ts":"1468538755.000511"},{"type":"message","user":"U0KM61BCP","text":"yep","ts":"1468538828.000512"},{"type":"message","user":"U0KM61BCP","text":"I am not sure what the $(arch) is for power but the repo should be named accordingly","ts":"1468538866.000513"},{"type":"message","user":"U0KM61BCP","text":"I\u2019ll create an issue for this","ts":"1468538873.000514"},{"type":"message","user":"U0KM61BCP","text":"<https:\/\/github.com\/hyperledger\/fabric\/issues\/2154#issuecomment-232823450>","attachments":[{"service_name":"GitHub","title":"shouldn&#39;t we be consistent in naming components? \u00b7 Issue #2154 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/issues\/2154#issuecomment-232823450","text":"Description Our component naming is all over the map. peer, membersrvc, whoknowswhatconsensuswillbecalled, etc. I would propose that we adopt a consistent naming scheme for all components of the ...","fallback":"GitHub: shouldn't we be consistent in naming components? \u00b7 Issue #2154 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/3630697?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/issues\/2154#issuecomment-232823450","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1468539691.000515"},{"type":"message","user":"U0UHG4VP1","text":"I deleted the (essentially unused) -x86_64- images and merged <@U11HH3P7Y> \u2019s change. new merges should go where people expect them","ts":"1468544078.000517"},{"user":"U1S01QY6L","text":"<@U1S01QY6L|smartyalgo> has joined the channel","type":"message","subtype":"channel_join","ts":"1468547917.000518"},{"type":"message","user":"U11NUTP4L","text":"<@U0KM61BCP> <@U0UHG4VP1> for Power the $(ARCH) will be `ppc64le`","ts":"1468557576.000519"},{"type":"message","user":"U0KM61BCP","text":"thanks!","ts":"1468579472.000520"},{"user":"U1PFK7GG5","text":"<@U1PFK7GG5|leo> has joined the channel","type":"message","subtype":"channel_join","ts":"1468644053.000521"},{"type":"message","user":"U1BC5NF2S","text":"Hey, all! Ry is out this week on vacation, so if you have any CI issues, please ping me here, or send an email to <mailto:helpdesk@hyperledger.org|helpdesk@hyperledger.org>!","ts":"1468858540.000002"},{"type":"message","user":"U1F97K1UJ","text":"thanks <@U1BC5NF2S>","ts":"1468859196.000003"},{"text":"waves at <@U1BC5NF2S|bramwelt> - I think we need to discuss a cut-over to Gerrit and Jira for Fabric","type":"message","subtype":"me_message","user":"U0KM61BCP","ts":"1468868083.000004"},{"type":"message","user":"U0KM61BCP","text":"Gerrit is ready, I am unclear on the status of Jira","ts":"1468868106.000005"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP>: <https:\/\/jira.hyperledger.org> appears to be up. Looks like only one issue has been created and that is for Sawtooth.","ts":"1468870657.000006"},{"type":"message","user":"U0KM61BCP","text":"ah cool","ts":"1468870672.000007"},{"type":"message","user":"U0KM61BCP","text":"there\u2019s a process to import issues from GH\u2026 I need to chase that down, unless you have something you\u2019ve used before for other projects","ts":"1468870705.000008"},{"type":"message","user":"U0KM61BCP","text":"sounds like the pieces are in place","ts":"1468870724.000009"},{"type":"message","user":"U1BLNM9DE","text":"most projects rarely, if ever, port in their issue tracking. But that's because most projects don't start in github and then migrate to gerrit...","ts":"1468870752.000010"},{"type":"message","user":"U0KM61BCP","text":"we just need to get the maintainers agreeing to the cutover date\/time and be sure that LF are willing and prepared to execute","ts":"1468870753.000011"},{"type":"message","user":"U0KM61BCP","text":"ok, well, since we\u2019ll be locking down GH repos to serve only as mirrors, I think we need to affect the import","ts":"1468870792.000012"},{"type":"message","user":"U0KM61BCP","text":"<@U1BC5NF2S>: <https:\/\/confluence.atlassian.com\/adminjiraserver071\/importing-data-from-github-802592903.html>","ts":"1468870968.000013"},{"type":"message","user":"U1F97K1UJ","text":"<@U1BC5NF2S>: ack, we on the sawtooth team got setup late last week with help from <@U0UHG4VP1>","ts":"1468871026.000014"},{"type":"message","user":"U1F97K1UJ","text":"on Jira","ts":"1468871034.000015"},{"type":"message","user":"U0KM61BCP","text":"<@U1F97K1UJ> sweet","ts":"1468871053.000016"},{"type":"message","user":"U1BC5NF2S","text":"<@U1F97K1UJ>: Good to hear!","ts":"1468871146.000017"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP>: I'd think the best time to cut over would be on a weekend? But that's definitely something to discuss with Ry as he should be managing the migration. I wouldn't want to schedule something for him. :slightly_smiling_face:","ts":"1468871310.000018"},{"type":"message","user":"U0KM61BCP","text":"We have the f2f Tuesday and Wednesday\u2026 think Monday might be ideal","ts":"1468871341.000019"},{"type":"message","user":"U0KM61BCP","text":"so that we have Tues and Weds to address any remedial training and questions","ts":"1468871362.000020"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP>: Sounds good to me.","ts":"1468871417.000021"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP>: Looking into the Jira issue import now.","ts":"1468872135.000022"},{"type":"message","user":"U1BC5NF2S","text":"Never used this so...we'll see what happens","ts":"1468872146.000023"},{"type":"message","user":"U1BC5NF2S","text":"<https:\/\/jira.hyperledger.org\/projects\/FAB\/issues\/FAB-2246?filter=allissues>","ts":"1468875762.000024"},{"type":"message","user":"U1BC5NF2S","text":"Not sure if this was very helpful...","ts":"1468875771.000025"},{"type":"message","user":"U1BC5NF2S","text":"Seems to have imported the PRs as well","ts":"1468875784.000026"},{"type":"message","user":"U11HH3P7Y","text":"yes. I could see list of  PR's and Issues..","ts":"1468876575.000027"},{"type":"message","user":"U1BC5NF2S","text":"ramesh: Sorry I was a bit trigger happy on merging in your changes. That should be 'junit' not 'cucumber-results' for the publisher :slightly_smiling_face:","edited":{"user":"U1BC5NF2S","ts":"1468879035.000000"},"ts":"1468879020.000028"},{"type":"message","user":"U1BC5NF2S","text":"<http:\/\/docs.openstack.org\/infra\/jenkins-job-builder\/publishers.html#publishers.junit>","ts":"1468879043.000030"},{"type":"message","user":"U0KM61BCP","text":"<@U1BC5NF2S>: hmmm that isn\u2019t very helpful - sigh","ts":"1468882558.000031"},{"type":"message","user":"U0KM61BCP","text":"not you, I mean the script","ts":"1468882565.000032"},{"type":"message","user":"U11HH3P7Y","text":"<@U1BC5NF2S>: Forgot to change the publisher name to junit.. submitted new patch..","ts":"1468887426.000033"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP> <@U1BC5NF2S> I won\u2019t be back until next Tuesday. if you\u2019re going to migrate you could do the squash and push on Monday without my assistance. I don\u2019t have the 2+2=4 prolog rules set up yet but you\u2019ll have the default rules. with that\u2026 I\u2019m signing out of slack on this machine, see you at the f2f in SFO","ts":"1468948983.000034"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP>: I'll be in SFO ~1430 local Monday, if you're in town let's meet at LF HQ ~1500 and work through squash and push if required?","ts":"1468952028.000035"},{"type":"message","user":"U0KM61BCP","text":"I haven\u2019t booked yet, will see if that can work out","ts":"1468952065.000036"},{"type":"message","user":"U0KM61BCP","text":"I usually arrive late at night","ts":"1468952071.000037"},{"user":"U1SDX7EQZ","text":"<@U1SDX7EQZ|liewsc> has joined the channel","type":"message","subtype":"channel_join","ts":"1469027491.000038"},{"user":"U1R9A8Q3A","text":"<@U1R9A8Q3A|pranob> has joined the channel","type":"message","subtype":"channel_join","ts":"1469180775.000039"},{"type":"message","user":"U0KM61BCP","text":"looks like Travis is failing consistently with Exception ImportError: No module named google.protobuf","ts":"1469196907.000042"},{"type":"message","user":"U0KM61BCP","text":"<@U11HH3P7Y>: ^^","ts":"1469196917.000043"},{"type":"message","user":"U11HH3P7Y","text":"yes.. Observed issue with some version mismatches in Travis environment.. fix is provided in PR <https:\/\/github.com\/hyperledger\/fabric\/pull\/2267>","attachments":[{"service_name":"GitHub","title":"Fix Travis build issues by juliancarrivick-ibm \u00b7 Pull Request #2267 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pull\/2267","text":"Description Attempt to re juggle the python package installations in scripts\/provision\/host.sh Motivation and Context Fixes #2266 New Pull Requests won't pass the Travis CI tests if this ...","fallback":"GitHub: Fix Travis build issues by juliancarrivick-ibm \u00b7 Pull Request #2267 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/20233917?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pull\/2267","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1469197017.000044"},{"type":"message","user":"U0KM61BCP","text":"ah ok, thanks","ts":"1469199202.000046"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF> or <@U0TFEHX8E> if you\u2019re around can you please look at this one ^^","ts":"1469199254.000047"},{"type":"message","user":"U0KPFAZNF","text":"done","ts":"1469199462.000048"},{"type":"message","user":"U11HH3P7Y","text":"Thanks <@U0KPFAZNF>","ts":"1469199718.000049"},{"type":"message","user":"U0KM61BCP","text":"<@U11HH3P7Y>: <@U1BC5NF2S> going to need help connecting Jenkins to Gerrit","ts":"1469563138.000050"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP>: Sure thing","ts":"1469563166.000051"},{"type":"message","user":"U11HH3P7Y","text":"sure. will do","ts":"1469563174.000052"},{"type":"message","user":"U1BC5NF2S","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/1\/>","ts":"1469563205.000053"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP>: A job was already triggered, but we'll work through the issues that pop up. :slightly_smiling_face:","ts":"1469563224.000054"},{"type":"message","user":"U0KM61BCP","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","ts":"1469563227.000055"},{"type":"message","user":"U0KM61BCP","text":"oh cool","ts":"1469563234.000056"},{"type":"message","user":"U0KM61BCP","text":"where can I see the status of the build?","ts":"1469563254.000057"},{"type":"message","user":"U0KM61BCP","text":"doh nevermind","ts":"1469563371.000058"},{"type":"message","user":"U0UHG4VP1","text":"<@U1BC5NF2S>: <@U11HH3P7Y> you guys are fixing the fabric x86 job(s), right?","ts":"1469565519.000059"},{"type":"message","user":"U0UHG4VP1","text":"the non-github ones","ts":"1469565528.000060"},{"type":"message","user":"U0UHG4VP1","text":"I wasn't sure what the \"will do\" meant, is all","ts":"1469565574.000061"},{"type":"message","user":"U1BC5NF2S","text":"<@U0UHG4VP1>: I am, yes. The `(1\/2)` comment on the initial commit is due to 0 z build servers available","ts":"1469565582.000062"},{"type":"message","user":"U1BC5NF2S","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/255\/>","ts":"1469565595.000063"},{"type":"message","user":"U0UHG4VP1","text":"I disabled the -z jobs to stop blocking","ts":"1469565638.000064"},{"type":"message","user":"U11HH3P7Y","text":"I mean will work with <@U1BC5NF2S>","ts":"1469565701.000065"},{"type":"message","user":"U11HH3P7Y","text":"I am cloning new fabric repo from gerrit","ts":"1469565747.000066"},{"type":"message","user":"U0UHG4VP1","text":"ramesh: you'll also need to clone the (not yet committed) change","ts":"1469565767.000067"},{"type":"message","user":"U1BC5NF2S","text":"<@U11HH3P7Y>: Just triggered a new build. The workspace won't exist for too long - <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/ws\/>","ts":"1469565994.000068"},{"type":"message","user":"U11HH3P7Y","text":"<@U1BC5NF2S>: checking that.. Custom workspace is not listed for gerrit jobs..","ts":"1469566253.000069"},{"type":"message","user":"U1BC5NF2S","text":"<@U11HH3P7Y>: Yeah, it looks like it needs to be change to clone the repo to `$GOPATH`.","ts":"1469566297.000070"},{"type":"message","user":"U1BC5NF2S","text":"<@U11HH3P7Y>: I believe `basedir` needs to be added to the `gerrit-trigger-scm`. `wipe-workspace` should probably be added as well.","ts":"1469566449.000071"},{"type":"message","user":"U11HH3P7Y","text":"yes.. shall I submit patch for that?","ts":"1469566679.000072"},{"type":"message","user":"U1BC5NF2S","text":"<@U11HH3P7Y>: Yes, please!","ts":"1469567027.000073"},{"type":"message","user":"U11HH3P7Y","text":"ok","ts":"1469567039.000074"},{"user":"U1XMKU015","text":"<@U1XMKU015|adamrichard> has joined the channel","type":"message","subtype":"channel_join","ts":"1470205319.000075"},{"type":"message","user":"U11HH3P7Y","text":"Builds are not triggering in Jenkins after merge in gerrit..","ts":"1470232359.000076"},{"user":"U1NBM7NHH","text":"<@U1NBM7NHH|louisw> has joined the channel","type":"message","subtype":"channel_join","ts":"1470243231.000077"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y>: it's your project.","ts":"1470258146.000078"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y>: <@U1AU8DRQR>: we\u2019re setting up a JJB sandbox in the next couple weeks, so you will have somewhere to practice jobs","ts":"1470356587.000079"},{"type":"message","user":"U11HH3P7Y","text":"Thanks <@U0UHG4VP1>","ts":"1470356704.000080"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: <@U1BC5NF2S> : please install <https:\/\/wiki.jenkins-ci.org\/display\/JENKINS\/Cobertura+Plugin>","ts":"1470405191.000081"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y>: installed","ts":"1470414992.000082"},{"type":"message","user":"U11HH3P7Y","text":"Thanks <@U0UHG4VP1>","ts":"1470415011.000083"},{"user":"U1AU8DRQR","text":"<@U1AU8DRQR|hgabor> has joined the channel","type":"message","subtype":"channel_join","ts":"1470689555.000084"},{"type":"message","user":"U1AU8DRQR","text":"Shouldn't we write all the docker container logs to stdout to make debugging easier?  I mean in Jenkins ","ts":"1470689611.000085"},{"type":"message","user":"U0UHG4VP1","text":"I have no objection ","ts":"1470689824.000086"},{"type":"message","user":"U1AU8DRQR","text":"okay but how to do it 1) easily and quickly 2) with the possibility for users to suppress such logs?","ts":"1470746629.000087"},{"type":"message","user":"U1AU8DRQR","text":"quick &amp; dirty: see patchsets 13-14 (<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/317\/13>) and the docker\/container related files. my simple and stupid suggestion is to create an IF there which checks if an environment var e.g. CONTAINER_LOGGING is set, and if it is then the logs get written out. And after this we should just set that environment variable on the Jenkins machines.","ts":"1470746745.000088"},{"type":"message","user":"U1AU8DRQR","text":"opinions?","ts":"1470746749.000089"},{"user":"U1M7K67EV","text":"<@U1M7K67EV|jcarrivick> has joined the channel","type":"message","subtype":"channel_join","ts":"1470789079.000090"},{"type":"message","user":"U1M7K67EV","text":"So I have figured out what is causing the \"random\" bdd failures in Jenkins where requests timeout. Said issue seems to exhibit itself mostly with `@issue 1000 - chaincode example02 with 4 peers and 1 membersrvc, test crash fault`. What happens is that sometimes when the peers come back up they get new IPs and the root VP still tries to connect to the old IPs.\nI've created an issue on Jira to track it: <https:\/\/jira.hyperledger.org\/browse\/FAB-5>","ts":"1470791441.000091","reactions":[{"name":"+1","users":["U1AU8DRQR"],"count":1}]},{"type":"message","user":"U11HH3P7Y","text":"<@U1M7K67EV>: we have similar issue tracked in github <https:\/\/github.com\/hyperledger\/fabric\/issues\/2346> but this was closed couple days.. @tuan suspected this could be docker version issue in jenkins","attachments":[{"service_name":"GitHub","title":"peer_basic.Network of Peers.chaincode example02 with 4 peers and 1 membersrvc, test crash fault -- @1.1 Consensus Options - failed with timeout issue \u00b7 Issue #2346 \u00b7 hyperledger\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/issues\/2346","text":"Description behave test case (peer_basic.Network of Peers.chaincode example02 with 4 peers and 1 membersrvc, test crash fault -- @1.1 Consensus Options) failed while waiting invoke transaction t...","fallback":"GitHub: peer_basic.Network of Peers.chaincode example02 with 4 peers and 1 membersrvc, test crash fault -- @1.1 Consensus Options - failed with timeout issue \u00b7 Issue #2346 \u00b7 hyperledger\/fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/17034502?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/issues\/2346","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1470841679.000092"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: please install <https:\/\/wiki.jenkins-ci.org\/display\/JENKINS\/Conditional+BuildStep+Plugin>","ts":"1470842747.000094"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y>: it was already installed, but I ran the update. The update requires a Jenkins restart, so it will be a little bit for the very latest version to be installed","ts":"1470848838.000095"},{"type":"message","user":"U11HH3P7Y","text":"Thanks ry. I am planning to submit patch for ci skip.","ts":"1470849570.000096"},{"type":"message","user":"U0UHG4VP1","text":"In what cases?","ts":"1470849671.000097"},{"type":"message","user":"U11HH3P7Y","text":"when commit message is having ci skip","ts":"1470849717.000098"},{"type":"message","user":"U0UHG4VP1","text":"Why is this coming up?","ts":"1470849750.000099"},{"type":"message","user":"U11HH3P7Y","text":"skip build when user submits only documentation changes..","ts":"1470849852.000100"},{"type":"message","user":"U0UHG4VP1","text":"Sounds dangerous ","ts":"1470850032.000101"},{"type":"message","user":"U11HH3P7Y","text":"earlier with github and jenkins we have this feature.. so, thought of implementing this..","ts":"1470850080.000102"},{"type":"message","user":"U1M7K67EV","text":"<@U0UHG4VP1>: <@U11HH3P7Y> Thanks, hopefully that fixes it when Jenkins gets restarted :slightly_smiling_face:","ts":"1470877374.000103"},{"type":"message","user":"U0UHG4VP1","text":"I\u2019ve restarted Jenkins (hours ago, actually)","ts":"1470877484.000104"},{"type":"message","user":"U1M7K67EV","text":"Great! I'll be keeping an eye on the tests to see how they go then :slightly_smiling_face:","ts":"1470877605.000105"},{"type":"message","user":"U11HH3P7Y","text":"<@U1M7K67EV>: <@U0UHG4VP1> has installed conditional buildStep plugin in jenkins..","ts":"1470879339.000106","reactions":[{"name":"+1","users":["U1M7K67EV"],"count":1}]},{"type":"message","user":"U11HH3P7Y","text":"Docker version in jenkins is 1.8.. I think we have to upgrade to 1.12..","ts":"1470879403.000107"},{"type":"message","user":"U11HH3P7Y","text":"Tuan suggested to upgrade docker version in jenkins to 1.11 or 1.12.. but I am suspecting behave code for not clearing IP list..","ts":"1470879653.000108"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y>: I hope to have docker upgraded Friday","ts":"1470879679.000109"},{"type":"message","user":"U11HH3P7Y","text":"sure <@U0UHG4VP1>.. This issue is inconsistently failing.. we can wait till that..","ts":"1470879744.000110"},{"type":"message","user":"U1M7K67EV","text":"Sweet, thanks <@U0UHG4VP1>","ts":"1470879851.000111"},{"type":"message","user":"U0UHG4VP1","text":"jcarrivick: are you going to be working on JJB in the near future?","ts":"1470884171.000112"},{"type":"message","user":"U1M7K67EV","text":"Sorry, what's JJB? That probably answers your question though haha","ts":"1470884221.000113"},{"type":"message","user":"U0UHG4VP1","text":"OK :slightly_smiling_face:","ts":"1470884227.000114"},{"type":"message","user":"U0UHG4VP1","text":"Jenkins Job Builder, the YAML that defines our builds is consumed by a plugin named JJB","ts":"1470884256.000115"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=ci-management.git;a=summary> for instance. if you aren\u2019t going to be working on CI it doesn\u2019t matter :slightly_smiling_face:","ts":"1470884299.000116"},{"type":"message","user":"U1M7K67EV","text":"Ah ok. Yeah I wasn't going to be. I'm happy to help out if you would like me to though!","ts":"1470884323.000117"},{"type":"message","user":"U1M7K67EV","text":"I haven't had any experience with it before","ts":"1470884335.000118"},{"type":"message","user":"U0UHG4VP1","text":"how is your prolog?","ts":"1470884337.000119"},{"type":"message","user":"U1M7K67EV","text":"never used it before &gt;.&lt;","ts":"1470884357.000120"},{"type":"message","user":"U0UHG4VP1","text":"in this we are equal","ts":"1470884369.000121"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> can you please create a hyperledger\/blockchain-explorer gerrit project and git repo? We will also need a jira project. Thanks!","ts":"1471036899.000122","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0KM61BCP","text":"actually, I guess it would be simply blockchain-explorer project","ts":"1471036942.000123"},{"type":"message","user":"U0UHG4VP1","text":"initial committer list?","ts":"1471037467.000124"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y>: <@U1AU8DRQR>: WRT JJB sandbox: you will need to be able to follow these instructions: <http:\/\/docs.opendaylight.org\/en\/stable-boron\/submodules\/releng\/builder\/docs\/jenkins.html#jenkins-sandbox> g\/opendaylight\/s\/\/hyperledger\/g the URL is <http:\/\/jenkins.hyperledger.org\/sandbox\/|jenkins.hyperledger.org\/sandbox\/> auth with LFID you two are the only approved people in there. Every little bit of auth isn\u2019t set up - I don\u2019t think it will work right now - and I need to add the bits that talk to OpenStack to provision builders, but you can get a head start","ts":"1471040822.000125"},{"type":"message","user":"U1AU8DRQR","text":"@ri thx","ts":"1471077557.000126"},{"type":"message","user":"U0UHG4VP1","text":"Yvw <@U1AU8DRQR> ","ts":"1471080266.000127"},{"user":"U21A1B82D","text":"<@U21A1B82D|yitch> has joined the channel","type":"message","subtype":"channel_join","ts":"1471227210.000128"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: `fabric-peer` and `fabric-membersrvc` repositories in docker hub are referring to old jenkins job urls. Could you please update. <https:\/\/hub.docker.com\/u\/hyperledger\/>","ts":"1471269793.000129"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y>: done","ts":"1471272797.000130"},{"type":"message","user":"U11HH3P7Y","text":"Thanks <@U0UHG4VP1>","ts":"1471272837.000131"},{"type":"message","user":"U1AU8DRQR","text":"it seems that for some of my commits the Jenkins verify job forgot to run","ts":"1471273047.000132"},{"type":"message","user":"U0UHG4VP1","text":"hgabor: there was an unplanned outage this weekend, we\u2019re still recovering","ts":"1471273143.000133"},{"type":"message","user":"U1AU8DRQR","text":"cool","ts":"1471273366.000134"},{"type":"message","user":"U1AU8DRQR","text":"I mean, then it will be alright","ts":"1471273377.000135"},{"type":"message","user":"U0UHG4VP1","text":"yes, eventually","ts":"1471273504.000136"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: please add Team domain, Integration token, channel (<#C11SL9YDV>) and Build URL in - `manage jenkins ` - `configure system` - `Global Slack Notifier Settings`","ts":"1471312513.000137"},{"user":"U1LES78TT","text":"<@U1LES78TT|bgorman> has joined the channel","type":"message","subtype":"channel_join","ts":"1471323722.000138"},{"type":"message","user":"U0UHG4VP1","text":"Builds are happening again. I\u2019m sorry for the delay in the recovery.","ts":"1471330396.000139","reactions":[{"name":"tada","users":["U1M7K67EV"],"count":1},{"name":"grinning","users":["U1M7K67EV"],"count":1}]},{"type":"message","user":"U1AU8DRQR","text":"06:53:15 java.io.IOException: Cannot run program \"mvn\" (in directory \"\/w\/workspace\/fabric-api-verify-x86_64\"): error=2, No such file or directory","ts":"1471330472.000140"},{"type":"message","user":"U0UHG4VP1","text":"hgabor: I see that but I want to wait for everything else to fail or succeed before messing with anything","ts":"1471330815.000141"},{"type":"message","user":"U0UHG4VP1","text":"hgabor: it\u2019s also midnight and I need dinner, so I will go eat and attack these problems in the morning","ts":"1471330848.000142"},{"type":"message","user":"U1AU8DRQR","text":"okay","ts":"1471330981.000143"},{"type":"message","user":"U1AU8DRQR","text":"I guess maybe mvn got removed somehow","ts":"1471331012.000144"},{"type":"message","user":"U1AU8DRQR","text":"maven","ts":"1471331016.000145"},{"type":"message","user":"U0UHG4VP1","text":"I had to rebuild the vagrant stuff, it is possible I missed something. that is to say, that I built the builder stuff on the wrong source image. there were two images.","ts":"1471331075.000146"},{"type":"message","user":"U0UHG4VP1","text":"looking here, some of the builds failed for strange reasons (unsigned ppa) and some look like they are working: <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/buildTimeTrend>","ts":"1471331138.000147"},{"type":"message","user":"U1M7K67EV","text":"<@U0UHG4VP1> I've seen that unsigned failure before because the PPA where Java8 is sourced from fails to get the GPG key because of downtime on the other server or something similar.","ts":"1471331348.000148"},{"type":"message","user":"U1M7K67EV","text":"If we moved to a 16.04 image then we'd be able to get it from the stock ubuntu repos but I wouldn't know the first place to start doing that","ts":"1471331386.000149"},{"type":"message","user":"U0UHG4VP1","text":"jcarrivick: interesting. this really hit us at a weak moment - it was a huge failure at our ISP, on a weekend, when a key person is on vacation :disappointed:","ts":"1471331465.000150"},{"type":"message","user":"U0UHG4VP1","text":"I will comb the logs in the morning. I hope I can retrigger some of these builds and they\u2019ll Just Work, but who knows?","ts":"1471331512.000151"},{"type":"message","user":"U1M7K67EV","text":"Yes go and enjoy some food and sleep - you've certainly earned it!","ts":"1471331554.000152","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0KM61BCP","text":"something I should probably know, how do we re-trigger Jenkins now?","ts":"1471354214.000153"},{"type":"message","subtype":"file_share","text":"<@U11HH3P7Y|ramesh> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ramesh\/F21R9NVRT\/capture.png|Capture.PNG> and commented: click on re-trigger button after selecting specific build","file":{"id":"F21R9NVRT","created":1471354547,"timestamp":1471354547,"name":"Capture.PNG","title":"Capture.PNG","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U11HH3P7Y","editable":false,"size":42159,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F21R9NVRT\/capture.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F21R9NVRT\/download\/capture.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F21R9NVRT-0643d3821f\/capture_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F21R9NVRT-0643d3821f\/capture_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F21R9NVRT-0643d3821f\/capture_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":151,"thumb_360_h":360,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F21R9NVRT-0643d3821f\/capture_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":201,"thumb_480_h":480,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F21R9NVRT-0643d3821f\/capture_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","image_exif_rotation":1,"original_w":272,"original_h":650,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ramesh\/F21R9NVRT\/capture.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F21R9NVRT-a3c430521e","channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc21R9PAQ5","created":1471354547,"timestamp":1471354547,"user":"U11HH3P7Y","is_intro":true,"comment":"click on re-trigger button after selecting specific build","channel":""},"reactions":[{"name":"woo","users":["U0UHG4VP1"],"count":1}]},"user":"U11HH3P7Y","upload":true,"display_as_bot":false,"username":"<@U11HH3P7Y|ramesh>","bot_id":null,"ts":"1471354550.000154"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP>: You should be able to comment 'reverify' on your patchset as well.","ts":"1471356892.000155"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y>: is there a particular commit in Gerrit I can test against the new docker version to see if it works?","ts":"1471461462.000156"},{"type":"message","user":"U11HH3P7Y","text":"will check and let you know..","ts":"1471461503.000158"},{"type":"message","user":"U0UHG4VP1","text":"OK. it isn\u2019t urgent","ts":"1471461545.000159"},{"type":"message","user":"U0UHG4VP1","text":"what are you trying with 529? <https:\/\/jenkins.hyperledger.org\/job\/fabric-merge-x86_64\/> it looks like you\u2019ve fired it off a couple times manually","ts":"1471461580.000160"},{"type":"message","user":"U11HH3P7Y","text":"We are not getting the exact clue why build is failing..","ts":"1471461658.000161"},{"type":"message","user":"U11HH3P7Y","text":"every time it is giving different error message.","ts":"1471461676.000162"},{"type":"message","user":"U11HH3P7Y","text":"we have one <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/421\/>  but this was merged today..","ts":"1471462150.000163"},{"type":"message","user":"U0UHG4VP1","text":"ramesh: so your expectation is that a new version of Docker would fix that build?","ts":"1471462208.000164"},{"type":"message","user":"U11HH3P7Y","text":"Not sure.. that's a guess from  developer","ts":"1471462243.000165"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: I see builds are not proceeding further from this step ```00:03:10.030 Step 11 : RUN \/hyperledger\/scripts\/provision\/common.sh\n00:03:10.117  ---&gt; Running in 5de2de871b62\n```","ts":"1471480939.000166"},{"type":"message","user":"U0UHG4VP1","text":"Link?","ts":"1471481030.000167"},{"type":"message","user":"U11HH3P7Y","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-merge-x86_64\/38\/console>","ts":"1471481047.000168"},{"type":"message","user":"U0UHG4VP1","text":"I'll look at it in 20 when I'm back from dinner","ts":"1471481247.000169"},{"type":"message","user":"U11HH3P7Y","text":"sure. Thank you","ts":"1471481264.000170"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1>: can we scale the graphic posted to <https:\/\/hub.docker.com\/u\/hyperledger\/> so that it doesn\u2019t take up a whole page view?","ts":"1471524232.000171"},{"type":"message","user":"U0KM61BCP","text":"thanks","ts":"1471524236.000172"},{"type":"message","user":"U0UHG4VP1","text":"cbf: unfortunately the size of that graphic is chosen by dockerhub. I\u2019ve removed it from the account, but it means we lost all branding and now we get a placeholder. does that look better?","ts":"1471537994.000173"},{"type":"message","user":"U0KM61BCP","text":"hmmm","ts":"1471538039.000174"},{"type":"message","user":"U0KM61BCP","text":"oh, I see - weird design","ts":"1471538113.000175"},{"type":"message","user":"U0KM61BCP","text":"I guess we can restore the logo but we need an SVG so that it doesn\u2019t look blurry","ts":"1471538131.000176"},{"type":"message","user":"U0UHG4VP1","text":"The implementation is gravatar, which doesn\u2019t support SVG. <https:\/\/en.forums.wordpress.com\/topic\/how-to-use-an-svg-image-as-a-gravatar>","ts":"1471538183.000177"},{"type":"message","user":"U0KM61BCP","text":"who is the marketing genius that designed this site;-)","ts":"1471538277.000178"},{"type":"message","user":"U0KM61BCP","text":"ok, do we have a png that scaled better?","ts":"1471538289.000179"},{"type":"message","user":"U0UHG4VP1","text":"I\u2019ll ask - perhaps we have better assets.","ts":"1471538383.000180"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP>: I updated the assets on gravatar; it looks more crisp, but it\u2019s probably still 12 inches square <https:\/\/hub.docker.com\/u\/hyperledger\/> :slightly_smiling_face:","ts":"1471545483.000181"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1>: thanks for that. another topic, I\u2019d like to have Jira and Gerrit linked such that a commit message containing FAB-NNN or STL-NNN (assuming that is the prefix we use) will a) be a hyperlink to the Jira issue from Gerrit and b) will refect in Jira a that the referencing commit\/patchset applies to the Jira issue\/story.","ts":"1471616266.000182"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> also, I thought we were going to have a gerrit policy of requiring 2 +2s before merge","ts":"1471617982.000183"},{"user":"U1XL70KHB","text":"<@U1XL70KHB|gemsiva> has joined the channel","type":"message","subtype":"channel_join","ts":"1471787901.000184"},{"user":"U23GLSTS4","text":"<@U23GLSTS4|jlamiel> has joined the channel","type":"message","subtype":"channel_join","ts":"1471854521.000185"},{"user":"U0YP7KFGQ","text":"<@U0YP7KFGQ|gennady.laventman> has joined the channel","type":"message","subtype":"channel_join","ts":"1471871300.000186"},{"type":"message","user":"U0YP7KFGQ","text":"Hello. How I can start new jenkins build without making new commit\/push?","ts":"1471871340.000187"},{"type":"message","user":"U1AU8DRQR","text":"open the last build from gerrit, login jenkins and push retrigger (left side)","ts":"1471871894.000188"},{"type":"message","user":"U1BLNM9DE","text":"gennady.laventman: to retrigger a verify leave a comment in gerrit of 'recheck' to remerge (which rebuilds the head) and leave a comment of 'remerge'","ts":"1471871915.000189"},{"type":"message","user":"U1BLNM9DE","text":"hgabor: most folks don't, and won't, have access to using the jenkins UI for triggering builds","ts":"1471871978.000190"},{"type":"message","user":"U1AU8DRQR","text":"I see","ts":"1471872009.000191"},{"type":"message","user":"U0YP7KFGQ","text":"thanks, I retriggered it","ts":"1471873352.000192"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1>: pls see my posts above on 8\/19","ts":"1471890822.000193"},{"type":"message","user":"U0KM61BCP","text":"most important is the 2+2 policy that isn\u2019t currently being enforced","ts":"1471890896.000194"},{"type":"message","user":"U0KM61BCP","text":"would like to start enforcing that","ts":"1471890904.000195"},{"type":"message","user":"U0UHG4VP1","text":"OK. I will start a thread on repo-discuss as it isn\u2019t clear to me how to only add +2 to the score. I found a sample for allowing 1+1 to equal 2, and when I set 2 to 4, it works - but it also allows any sum of scores to equal 4 (1+1+2)","ts":"1471891011.000196"},{"type":"message","user":"U0UHG4VP1","text":"this is done - if any other projects want this policy, let me know directly","ts":"1471976037.000197"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> still seeing this: <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/539\/console>","ts":"1471994394.000198"},{"type":"message","user":"U0KPFAZNF","text":"whereas it passes when I run bdd locally","ts":"1471994406.000199"},{"type":"message","user":"U0KPFAZNF","text":"any ideas on what might be different?","ts":"1471994414.000200"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> i have a theory about the above failure","ts":"1472003226.000201"},{"type":"message","user":"U0KPFAZNF","text":"wanted to pick your brain on the ci environment","ts":"1472003248.000202"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> hit me","ts":"1472003287.000203"},{"type":"message","user":"U0KPFAZNF","text":"trying to find a way to link a line in the patch (within gerrit)","ts":"1472003314.000204"},{"type":"message","user":"U0KPFAZNF","text":"cant figure it out","ts":"1472003345.000205"},{"type":"message","user":"U0UHG4VP1","text":"example?","ts":"1472003365.000206"},{"type":"message","user":"U0KPFAZNF","text":"anyway, what I am doing in that patch is using multiple \u201c-t\u201d arguments to docker build","ts":"1472003366.000207"},{"type":"message","user":"U0KPFAZNF","text":"i think what might be happening is that feature was introduced in docker v1.10","ts":"1472003384.000208"},{"type":"message","user":"U0UHG4VP1","text":"ok","ts":"1472003391.000209"},{"type":"message","user":"U0KPFAZNF","text":"but IIUC, the CI env runs docker v1.8","ts":"1472003393.000210"},{"type":"message","user":"U0UHG4VP1","text":"yes","ts":"1472003396.000211"},{"type":"message","user":"U0KPFAZNF","text":"ok, that confirmation was my first question","ts":"1472003417.000212"},{"type":"message","user":"U0KPFAZNF","text":"the second is to find out what is the os\/env on this setup in general?","ts":"1472003433.000213"},{"type":"message","user":"U0KPFAZNF","text":"I understand there is an unsolved bug with v1.12","ts":"1472003446.000214"},{"type":"message","user":"U0KPFAZNF","text":"but I am wondering if there is a middle ground (like xenial uses 1.11, which is newer than 1.8 but may not have the problem that v1.12 has","ts":"1472003480.000215"},{"type":"message","user":"U0KPFAZNF","text":"alternatively, i can just stop doing the double \u201c-t -t \"","ts":"1472003508.000216"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1472003509.000217"},{"type":"message","user":"U0KPFAZNF","text":"but its less ugly to do it on one line, so I just want to explore the options","ts":"1472003524.000218"},{"type":"message","user":"U0UHG4VP1","text":"Ubuntu 14.04.4","ts":"1472003709.000219"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1472003726.000220"},{"type":"message","user":"U0UHG4VP1","text":"x86_64","ts":"1472003730.000221"},{"type":"message","user":"U0UHG4VP1","text":"that\u2019s the vagrant baseimage that we build on.","ts":"1472003745.000222"},{"type":"message","user":"U0KPFAZNF","text":"right","ts":"1472003752.000223"},{"type":"message","user":"U0KPFAZNF","text":"im looking now to see what docker we install there","ts":"1472003760.000224"},{"type":"message","user":"U0UHG4VP1","text":"1.08","ts":"1472003768.000225"},{"type":"message","user":"U0KPFAZNF","text":"i mean, within vagrant","ts":"1472003796.000226"},{"type":"message","user":"U0UHG4VP1","text":"oh, that I don\u2019t know","ts":"1472003810.000227"},{"type":"message","user":"U0KPFAZNF","text":"it looks like we install whatever happens to be latest at the moment the vagrant environment is provisioned","ts":"1472003835.000228"},{"type":"message","user":"U0KPFAZNF","text":"i have this right now","ts":"1472003839.000229"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F24AGBZ8R\/-.sh|Untitled>","file":{"id":"F24AGBZ8R","created":1472003846,"timestamp":1472003846,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0KPFAZNF","editable":true,"size":144,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F24AGBZ8R\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F24AGBZ8R\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F24AGBZ8R\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F24AGBZ8R-1f0f98f76d","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F24AGBZ8R\/-.sh\/edit","preview":"vagrant@hyperledger-devenv:v0.0.10-414df31:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ docker --version\r\nDocker version 1.12.1, build 23cf638","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>vagrant@hyperledger-devenv:v0.0.10-414df31:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric<span class=\"cm-def\">$ docker<\/span> <span class=\"cm-attribute\">--version<\/span><\/pre><\/div>\n<div><pre>Docker version <span class=\"cm-number\">1<\/span>.12.1, build 23cf638<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":2,"lines_more":0,"preview_is_truncated":null,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1472003846.000230"},{"type":"message","user":"U0KPFAZNF","text":"what was the issue you ran into when running 1.12 under CI?","ts":"1472003866.000231"},{"type":"message","user":"U0KPFAZNF","text":"(FWIW, it seems to pass all unit\/bdd tests in this environment for me)","ts":"1472003895.000232"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=ci-management.git;a=blob;f=vagrant\/lib\/baseline.sh;h=3da61fc19f4ba39f42233be231063174849b278c;hb=HEAD>","ts":"1472003899.000233"},{"type":"message","user":"U0UHG4VP1","text":"doesn\u2019t look like we\u2019re upgrading it at all","ts":"1472003940.000234"},{"type":"message","user":"U0KPFAZNF","text":"I dont see the docker install in that","ts":"1472003969.000235"},{"type":"message","user":"U0KPFAZNF","text":"fwiw, this is the most influential statement in the vagrant configuration w.r.t. docker version","ts":"1472004036.000236"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=fabric.git;a=blob;f=devenv\/setup.sh;h=cd5fc34d21a41fab283857d72fd116b96a7f50d5;hb=HEAD#l92>","ts":"1472004037.000237"},{"type":"message","user":"U0KPFAZNF","text":"as an aside, we really shouldnt let this float","ts":"1472004085.000238"},{"type":"message","user":"U0KPFAZNF","text":"but i digress\u2026it seems to be working for now","ts":"1472004097.000239"},{"type":"message","user":"U0UHG4VP1","text":"on line 117, could you choose the right version?","ts":"1472004207.000240"},{"type":"message","user":"U0KPFAZNF","text":"so, IIUC, this CI environment is some 14.04 image that already had docker 1.8 installed in it?","ts":"1472004209.000241"},{"type":"message","user":"U0KPFAZNF","text":"thats a good question, id have to look into the options in apt-get and also how the docker community maintains the repo","ts":"1472004243.000242"},{"type":"message","user":"U0UHG4VP1","text":"is 1.12 bad?","ts":"1472004251.000243"},{"type":"message","user":"U0KPFAZNF","text":"it seems to work for me","ts":"1472004257.000244"},{"type":"message","user":"U0KPFAZNF","text":"but, i also saw some chatter (i think between you and <@U11HH3P7Y>) that there were problems using 1.12 within CI","ts":"1472004284.000245"},{"type":"message","user":"U0UHG4VP1","text":"will you hang out for 5?","ts":"1472004295.000246"},{"type":"message","user":"U0KPFAZNF","text":"of course","ts":"1472004298.000247"},{"type":"message","user":"U0UHG4VP1","text":"which change in particular do you want to test on?","ts":"1472004418.000248"},{"type":"message","user":"U0KPFAZNF","text":"well, at this point the primary interest would be \u201ccan CI run on docker 1.10 or later\u201d, but let me confirm my suspicion first","ts":"1472004482.000249"},{"type":"message","user":"U0UHG4VP1","text":"571,10?","ts":"1472004489.000250"},{"type":"message","user":"U0UHG4VP1","text":"I changed the configuration of Jenkins to use the image I made last week, and I bounced Jenkins","ts":"1472004520.000251"},{"type":"message","user":"U0KPFAZNF","text":"im not sure what that nomenclature means","ts":"1472004520.000252"},{"type":"message","user":"U0UHG4VP1","text":"you\u2019re right, I should just type. <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/571\/> patch 10","ts":"1472004539.000253"},{"type":"message","user":"U0KPFAZNF","text":"im guessing related to gerrit change 571, in which case that is correct","ts":"1472004540.000254"},{"type":"message","user":"U0KPFAZNF","text":"ah, gotcha","ts":"1472004545.000255"},{"type":"message","user":"U0KPFAZNF","text":"yes, 571,10","ts":"1472004552.000256"},{"type":"message","user":"U0UHG4VP1","text":"I just woke up from a nap so I\u2019m expecting our telepathy to work","ts":"1472004562.000257","reactions":[{"name":"simple_smile","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"i have a theory that 570,10 would pass if docker was 1.10 or later","ts":"1472004564.000258"},{"type":"message","user":"U0KPFAZNF","text":"do you have a way to run it in that environment easily?","ts":"1472004584.000259"},{"type":"message","user":"U0KPFAZNF","text":"otherwise, what I can do is push 571,11 that doesnt do the -t -t","ts":"1472004597.000260"},{"type":"message","user":"U0KPFAZNF","text":"either way, we should get an answer","ts":"1472004607.000261"},{"type":"message","user":"U0UHG4VP1","text":"just wait for five minutes or so","ts":"1472004608.000262"},{"type":"message","user":"U0KPFAZNF","text":"ok, will do","ts":"1472004611.000263"},{"type":"message","user":"U0UHG4VP1","text":"when builder 275 comes up, it should be the image with docker 1.12","ts":"1472004670.000264"},{"type":"message","user":"U0KPFAZNF","text":"ok, perfect","ts":"1472004676.000265"},{"type":"message","user":"U0KPFAZNF","text":"everything seems to pass under local vagrant with 1.12, so I have reasonable hope that it should at least not have bad iteractions elsewhere","ts":"1472004728.000266"},{"type":"message","user":"U0KPFAZNF","text":"(unrelated to this issue)","ts":"1472004733.000267"},{"type":"message","user":"U0UHG4VP1","text":"I\u2019m watching it be provisioned, it\u2019s very exciting stuff","ts":"1472004747.000268"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1472004751.000269"},{"type":"message","user":"U0KPFAZNF","text":"like paint drying","ts":"1472004758.000270"},{"type":"message","user":"U0KPFAZNF","text":"going to grab a snack, brb","ts":"1472004787.000271"},{"type":"message","user":"U0UHG4VP1","text":"k","ts":"1472004793.000272"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/540\/> and away we go","ts":"1472004907.000273"},{"type":"message","user":"U0UHG4VP1","text":"since build 539 took 1:12 before it failed, you might prefer paint drying","ts":"1472005034.000274"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-merge-x86_64\/77\/> may be interesting as well","ts":"1472005309.000275"},{"type":"message","user":"U0KPFAZNF","text":"540 seems stuck","ts":"1472006798.000276"},{"type":"message","user":"U0UHG4VP1","text":"it\u2019s run a few minutes long, IIRC that step takes ~20 minutes. let me look at the previous build","ts":"1472006969.000277"},{"type":"message","user":"U0UHG4VP1","text":"oh no, I\u2019m wrong.","ts":"1472006983.000278"},{"type":"message","user":"U0UHG4VP1","text":"yup, it\u2019s stuck.","ts":"1472006991.000279"},{"type":"message","user":"U0UHG4VP1","text":"I thought this particular error was fixed, I guess not","ts":"1472007070.000280"},{"type":"message","user":"U0UHG4VP1","text":"OK. I\u2019ve rolled back to the previous image, I can stab this in the morning","ts":"1472007220.000281"},{"type":"message","user":"U0UHG4VP1","text":"strange, the line that was causing this problem is commented out: <https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=ci-management.git;a=commitdiff;h=ede7815dc5a669d3c85704b2b4f3cefe97ce69a8>","ts":"1472007588.000282"},{"type":"message","user":"U0KPFAZNF","text":"ok, im going to try that 571,11 approach where I dont use the feature in question","ts":"1472007624.000283"},{"type":"message","user":"U0KPFAZNF","text":"see what happens","ts":"1472007626.000284"},{"type":"message","user":"U0UHG4VP1","text":"ok. In the morning, I will take a stab at this again.","ts":"1472007644.000285"},{"type":"message","user":"U0KPFAZNF","text":"ok, sounds good","ts":"1472007648.000286"},{"type":"message","user":"U0KPFAZNF","text":"thanks <@U0UHG4VP1>","ts":"1472007654.000287"},{"type":"message","user":"U0UHG4VP1","text":"sure thing. in the meantime, if there is a specific version &gt; 1.08 &lt; 1.12 that you want or need, if you could tell me exactly how to install it in vagrant that would be helpful. if 1.12 is fine, don\u2019t worry about it.","ts":"1472007696.000288"},{"type":"message","user":"U0KPFAZNF","text":"1.12 seems to be fine, I just dont like that its not repeatable","ts":"1472008028.000289"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/571\/10..11\/Makefile>","ts":"1472008045.000290"},{"type":"message","user":"U0KPFAZNF","text":"in theory, that change should mean I no longer require 1.10+","ts":"1472008061.000291"},{"type":"message","user":"U0KPFAZNF","text":"lets see what happens","ts":"1472008069.000292"},{"type":"message","user":"U0UHG4VP1","text":"interesting","ts":"1472008595.000293"},{"type":"message","user":"U0UHG4VP1","text":"is there stuff we could bake into the base images to make the downloads smaller? does docker do deltas or is it always going to download a gig or so?","ts":"1472008699.000294"},{"type":"message","user":"U0UHG4VP1","text":"well, it isn\u2019t wrong, that tag isn\u2019t there: <https:\/\/hub.docker.com\/r\/hyperledger\/fabric-peer\/tags\/> wonder how it picked up 8f1417c","ts":"1472010901.000295"},{"type":"message","user":"U0UHG4VP1","text":"oh hmm, it looks like it\u2019s going to <http:\/\/docker.io|docker.io> for a change it will only have locally? <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/571\/11\/Makefile> (lines 39-50) ? unless I\u2019m misreading it","ts":"1472011019.000296"},{"type":"message","user":"U0KM61BCP","text":"docker pulls in layers","ts":"1472054206.000297"},{"type":"message","user":"U0KM61BCP","text":"only changed layers are pulled","ts":"1472054213.000298"},{"type":"message","user":"U0KM61BCP","text":"what we probably want to do is to build and publish in layers - eg a base docker image and another that adds the code","ts":"1472054276.000299"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> revisiting the problem from last night","ts":"1472061535.000300"},{"type":"message","user":"U0KPFAZNF","text":"sorry, missed your comments above too\u2026yes, its accessing it from local cache","ts":"1472061581.000301"},{"type":"message","user":"U0KPFAZNF","text":"it doesnt know the difference per se","ts":"1472061593.000302"},{"type":"message","user":"U0UHG4VP1","text":"ok.","ts":"1472061640.000303"},{"type":"message","user":"U0KPFAZNF","text":"so, the problem I am facing right now is, it seems that the vagrant+jenkins environments are too divergent","edited":{"user":"U0KPFAZNF","ts":"1472061908.000000"},"ts":"1472061882.000304"},{"type":"message","user":"U0KPFAZNF","text":"i cant simultaneously make both happy","ts":"1472061895.000305"},{"type":"message","user":"U0UHG4VP1","text":"the jenkins+vagrant environment diverges from your local workspace?","ts":"1472061973.000307"},{"type":"message","user":"U0KPFAZNF","text":"well, one thing I am seeing is that I am having trouble managing docker tags because what works in vagrant\/1.12 doesnt work in jenkins\/1.8 or vice versa","ts":"1472062452.000308"},{"type":"message","user":"U0KPFAZNF","text":"so I basically have to choose which one I want to break","ts":"1472062470.000309"},{"type":"message","user":"U0KPFAZNF","text":"part of this is being exacerbated by something that might be a fixable problem","ts":"1472062505.000310"},{"type":"message","user":"U0KPFAZNF","text":"that is: it seems that the CI build is running parts of the build twice (suboptimally)","ts":"1472062532.000311"},{"type":"message","user":"U0UHG4VP1","text":"oh, really? that does seem sub optimal","ts":"1472062552.000312"},{"type":"message","user":"U0KPFAZNF","text":"because of this, I had to add \u201c-f\u201d to docker tag to force it to retag, but this isnt supported in 1.12","ts":"1472062556.000313"},{"type":"message","user":"U0KPFAZNF","text":"hold on, let me find the conversation with Ramesh","ts":"1472062569.000314"},{"type":"message","user":"U0KPFAZNF","text":"ok, take a look at this log","ts":"1472062616.000315"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/546\/console>","ts":"1472062617.000316"},{"type":"message","user":"U0KPFAZNF","text":"fabric-src is built at 13:27:06","ts":"1472062650.000317"},{"type":"message","user":"U0KPFAZNF","text":"but then it mysteriously is rebuilt at 13:57:08","ts":"1472062668.000318"},{"type":"message","user":"U0KPFAZNF","text":"for reasons that are not clear","ts":"1472062672.000319"},{"type":"message","user":"U0KPFAZNF","text":"this has two implications: #1 the build is not as efficient as it could be","ts":"1472062686.000320"},{"type":"message","user":"U0KPFAZNF","text":"#2 to work around it, I later added \u201c-f\u201d to docker tag to force it, but this tag is not supported in 1.12 so vagrant breaks","ts":"1472062711.000321"},{"type":"message","user":"U0KPFAZNF","text":"its not clear to me why the CI build thought it needed to rebuild the image, but it should have been available","ts":"1472062751.000322"},{"type":"message","user":"U0KPFAZNF","text":"(and to be clear, I am not pointing the finger at anyone\u2026it could be a bug in my makefile)","ts":"1472062772.000323"},{"type":"message","user":"U0KPFAZNF","text":"the bottom line is: i dont know why that is happening but its causing problems","ts":"1472062786.000324"},{"type":"message","user":"U0UHG4VP1","text":"is there a verbosity flag or flags you could turn up?","ts":"1472062883.000325"},{"type":"message","user":"U0UHG4VP1","text":"I\u2019m looking through <https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=ci-management.git;a=blob;f=jjb\/fabric\/fabric-macros.yaml;h=28b18e9f8baacce70db51e9cbb131993319bd856;hb=HEAD> which shows where make is invoked. probably not the right place to change it","ts":"1472063328.000326"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>, adding -d to \u201cmake\u201d will cause it to spew a bunch of stuff about the decisions it is making","ts":"1472063811.000327"},{"type":"message","user":"U0KPFAZNF","text":"that might clue us in as to why the target was believed to be out of date","ts":"1472063830.000328"},{"type":"message","user":"U0KPFAZNF","text":"i cant tell where behave is being run in that scenario","ts":"1472063912.000329"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=ci-management.git;a=blob;f=jjb\/fabric\/include-raw-fabric-behave.sh;h=845d63632d34fedd8bc31ab346bac3539362fbc4;hb=HEAD>","ts":"1472064013.000330"},{"type":"message","user":"U0UHG4VP1","text":"line 12","ts":"1472064017.000331"},{"type":"message","user":"U0KPFAZNF","text":"ah!","ts":"1472064045.000332"},{"type":"message","user":"U0UHG4VP1","text":"invoked from line 80 of <https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=ci-management.git;a=blob;f=jjb\/fabric\/fabric-macros.yaml;h=28b18e9f8baacce70db51e9cbb131993319bd856;hb=HEAD>","ts":"1472064050.000333"},{"type":"message","user":"U0KPFAZNF","text":"i wonder if the sed is triggering the rebuild","ts":"1472064056.000334"},{"type":"message","user":"U0KPFAZNF","text":"theres nothing wrong with patching the file in this manner per se, but doing it after the system has already performed some builds will make the images be rebuilt","ts":"1472064115.000335"},{"type":"message","user":"U0KPFAZNF","text":"it would be better if this file could be patched before _any_ make operations are performed","ts":"1472064132.000336"},{"type":"message","user":"U0KPFAZNF","text":"that would avoid the cycle","ts":"1472064141.000337"},{"type":"message","user":"U0KPFAZNF","text":"(i cant easily tell what files have an impact, so there is a gross \u201crebuild if _any_ source files changed\u201d rule","ts":"1472064178.000338"},{"type":"message","user":"U0UHG4VP1","text":"propose a change to the ci-m repo - one downside is we can\u2019t really test that in isolation","ts":"1472064179.000339"},{"type":"message","user":"U0UHG4VP1","text":"well, actually, now that you see the shell scripts, could you debug it locally?","ts":"1472064215.000340"},{"type":"message","user":"U0KPFAZNF","text":"i think all thats needed is to move line 11 from <https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=ci-management.git;a=blob;f=jjb\/fabric\/include-raw-fabric-behave.sh;h=845d63632d34fedd8bc31ab346bac3539362fbc4;hb=HEAD> to something that is more \u201cinit\"","ts":"1472064253.000341"},{"type":"message","user":"U0KPFAZNF","text":"i dont know enough about this environment to suggest where that might want to go","ts":"1472064316.000342"},{"type":"message","user":"U0KPFAZNF","text":"but conceptually, that should fix the churn","ts":"1472064327.000343"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y>  - any pointers here?","ts":"1472064345.000344"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KPFAZNF>: Why to move line 11 ?","ts":"1472064510.000345"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> i believe it is the cause of the fabric-src rebuild","ts":"1472064534.000346"},{"type":"message","user":"U0KPFAZNF","text":"if you run \u201cmake X\u201d and then sed a file managed by git (such as the compose.yml in the above link), a subsequent \u201cmake\u201d (including \u201cmake behave\u201d) will trigger a complete rebuild","ts":"1472064588.000347"},{"type":"message","user":"U0KPFAZNF","text":"(because the makefile cannot tell what impact a change to a .yml file might have on binaries)","ts":"1472064611.000348"},{"type":"message","user":"U0KPFAZNF","text":"we could try to make this smarter, of course, but its tricky","ts":"1472064627.000349"},{"type":"message","user":"U0KPFAZNF","text":"(and generally, fraught with risk)","ts":"1472064650.000350"},{"type":"message","user":"U0KPFAZNF","text":"generally speaking, its better to be conservative and rebuild too often than not often enough","ts":"1472064678.000351"},{"type":"message","user":"U0KPFAZNF","text":"the first wastes build-system\/CI time, the second wastes human debugging time","ts":"1472064704.000352"},{"type":"message","user":"U0KPFAZNF","text":"therefore, I am proposing that the environmental touch up of the yaml should ideally occur during initialization, before any other builds have occured","ts":"1472064778.000353"},{"type":"message","user":"U11HH3P7Y","text":"Oh ok.. this is working in current build process. any changes related to this in recent patch?","ts":"1472064783.000354"},{"type":"message","user":"U0KPFAZNF","text":"no, i think this patch just highlighted the problem","ts":"1472064800.000355"},{"type":"message","user":"U0KPFAZNF","text":"my guess is, if we go look, we will see that the CI process has been compiling fabric-src twice for a while now","ts":"1472064819.000356"},{"type":"message","user":"U0UHG4VP1","text":"given that build times haven\u2019t varied much over time, yes","ts":"1472064835.000357"},{"type":"message","user":"U0KPFAZNF","text":"i havent confirmed this though","ts":"1472064837.000358"},{"type":"message","user":"U0KPFAZNF","text":"(it broke here because I am trying to tag something != \u201clatest\"","ts":"1472064867.000359"},{"type":"message","user":"U0KPFAZNF","text":"latest tags are fairly lax, you can tag it over and over","ts":"1472064881.000360"},{"type":"message","user":"U0KPFAZNF","text":"non latest tags do not like to be retagged","ts":"1472064893.000361"},{"type":"message","user":"U0UHG4VP1","text":"the successful builds have taken about an hour for a while: <https:\/\/jenkins.hyperledger.org\/view\/fabric\/job\/fabric-verify-x86_64\/buildTimeTrend>","ts":"1472064907.000362"},{"type":"message","user":"U0KPFAZNF","text":"since this patch introduced non-latest tagging, it broke when it found out that fabric-src was already tagged","ts":"1472064914.000363"},{"type":"message","user":"U11HH3P7Y","text":"yes that is true.. So, fabric-src always build when there is a change in the binaries..","ts":"1472065004.000364"},{"type":"message","user":"U0KPFAZNF","text":"close: when there is a change to any files managed by git","ts":"1472065027.000365"},{"type":"message","user":"U0KPFAZNF","text":"(including compose.yml)","ts":"1472065034.000366"},{"type":"message","user":"U0KPFAZNF","text":"(which makes sense when you really think about it:  if fabric-src is a container of the src, it is invalidated if the source changes","ts":"1472065070.000367"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins if you see somewhere obvious to park the sed script, I\u2019m all ears","ts":"1472065100.000368"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> ok, i dont really understand the flow here, but ill try","ts":"1472065116.000369"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> this is what I was hoping for assistance on, git log shows you wrote much of these files","ts":"1472065148.000370"},{"type":"message","user":"U0UHG4VP1","text":"\u201cwhere to put the sed line post checkout, pre build\"","ts":"1472065163.000371"},{"type":"message","user":"U11HH3P7Y","text":"we can keep that in pre-build, I mean before execute behave tests cases this file has to change..","ts":"1472065230.000372"},{"type":"message","user":"U11HH3P7Y","text":"I am checking the configuration compose file.. one min..","ts":"1472065260.000373"},{"type":"message","user":"U0UHG4VP1","text":"perhaps in include-raw-fabric-clean-environment.sh, inserted after line 3?","ts":"1472065362.000374"},{"type":"message","user":"U0UHG4VP1","text":"is that early enough? I think it\u2019s before docker does anything","ts":"1472065383.000375"},{"type":"message","user":"U11HH3P7Y","text":"I think that works..","ts":"1472065519.000376"},{"type":"message","user":"U0UHG4VP1","text":"is `gopath\/src\/github.com\/hyperledger\/fabric` going to be in the right place?","ts":"1472065551.000377"},{"type":"message","user":"U11HH3P7Y","text":"yes","ts":"1472065591.000378"},{"type":"message","user":"U11HH3P7Y","text":"but we have to add above path in clean-environment script..","ts":"1472065618.000379"},{"type":"message","user":"U11HH3P7Y","text":"shall I submit this change?","ts":"1472065656.000380"},{"type":"message","user":"U0UHG4VP1","text":"I\u2019m pretty close","ts":"1472065667.000381"},{"type":"message","user":"U0UHG4VP1","text":"<http:\/\/gerrit.hyperledger.org\/r\/669>","ts":"1472065815.000382"},{"type":"message","user":"U11HH3P7Y","text":"yes..","ts":"1472065848.000383"},{"type":"message","user":"U0KPFAZNF","text":"I dont have committer to that repo, but LGTM","ts":"1472066043.000384"},{"type":"message","user":"U0KPFAZNF","text":"let me know when its active, I want to push a new patch to 571 but will wait to avoid a wasted cycle","ts":"1472066058.000385"},{"type":"message","user":"U11HH3P7Y","text":"yes it's merged..","ts":"1472066061.000386"},{"type":"message","user":"U0KPFAZNF","text":"oh, ok, cool","ts":"1472066065.000387"},{"type":"message","user":"U0KPFAZNF","text":"so it will be in effect now?","ts":"1472066070.000388"},{"type":"message","user":"U0UHG4VP1","text":"I already kicked 571","ts":"1472066071.000389"},{"type":"message","user":"U0UHG4VP1","text":"yes","ts":"1472066073.000390"},{"type":"message","user":"U0KPFAZNF","text":"oh, can you kill it?","ts":"1472066078.000391"},{"type":"message","user":"U0KPFAZNF","text":"i want to revert the -f vhange in 13","ts":"1472066086.000392"},{"type":"message","user":"U0UHG4VP1","text":"done","ts":"1472066109.000393"},{"type":"message","user":"U0KPFAZNF","text":"hmm, you guys see this before?","ts":"1472066209.000394"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/671> gets to be the test mule","ts":"1472066211.000395"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F24K995AL\/-.m|Untitled>","file":{"id":"F24K995AL","created":1472066213,"timestamp":1472066213,"name":"-.m","title":"Untitled","mimetype":"text\/plain","filetype":"objc","pretty_type":"Objective-C","user":"U0KPFAZNF","editable":true,"size":550,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F24K995AL\/-.m?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F24K995AL\/download\/-.m?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F24K995AL\/-.m","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F24K995AL-e2bcf8d228","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F24K995AL\/-.m\/edit","preview":"$ git push gerrit HEAD:refs\/for\/master\r\nCounting objects: 32, done.\r\nDelta compression using up to 8 threads.\r\nCompressing objects: 100% (28\/28), done.\r\nWriting objects: 100% (32\/32), 4.98 KiB | 0 bytes\/s, done.\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-variable\">$<\/span> <span class=\"cm-variable\">git<\/span> <span class=\"cm-variable\">push<\/span> <span class=\"cm-variable\">gerrit<\/span> <span class=\"cm-variable\">HEAD<\/span>:<span class=\"cm-variable\">refs<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-keyword\">for<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">master<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-variable\">Counting<\/span> <span class=\"cm-variable\">objects<\/span>: <span class=\"cm-number\">32<\/span>, <span class=\"cm-variable\">done<\/span>.<\/pre><\/div>\n<div><pre><span class=\"cm-variable\">Delta<\/span> <span class=\"cm-variable\">compression<\/span> <span class=\"cm-variable\">using<\/span> <span class=\"cm-variable\">up<\/span> <span class=\"cm-variable\">to<\/span> <span class=\"cm-number\">8<\/span> <span class=\"cm-variable\">threads<\/span>.<\/pre><\/div>\n<div><pre><span class=\"cm-variable\">Compressing<\/span> <span class=\"cm-variable\">objects<\/span>: <span class=\"cm-number\">100<\/span><span class=\"cm-operator\">%<\/span> (<span class=\"cm-number\">28<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-number\">28<\/span>), <span class=\"cm-variable\">done<\/span>.<\/pre><\/div>\n<div><pre><span class=\"cm-variable\">Writing<\/span> <span class=\"cm-variable\">objects<\/span>: <span class=\"cm-number\">100<\/span><span class=\"cm-operator\">%<\/span> (<span class=\"cm-number\">32<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-number\">32<\/span>), <span class=\"cm-number\">4.98<\/span> <span class=\"cm-variable\">KiB<\/span> <span class=\"cm-operator\">|<\/span> <span class=\"cm-number\">0<\/span> <span class=\"cm-variable\">bytes<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">s<\/span>, <span class=\"cm-variable\">done<\/span>.<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":11,"lines_more":6,"preview_is_truncated":null,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1472066214.000396"},{"type":"message","user":"U0KPFAZNF","text":"i def have a change from 13","ts":"1472066226.000397"},{"type":"message","user":"U0KPFAZNF","text":"not sure why its saying \u201cno new changes\"","ts":"1472066234.000398"},{"type":"message","user":"U0KPFAZNF","text":"(it is probably identical to 571,12","ts":"1472066246.000399"},{"type":"message","user":"U0UHG4VP1","text":"`git commit \u2014amend` and add a CRLF to the commit message perhaps?","ts":"1472066295.000400"},{"type":"message","user":"U0KPFAZNF","text":"weird, yeah, that did it","ts":"1472066327.000401"},{"type":"message","user":"U0KPFAZNF","text":"so weird, it did pick up the change once I changed the commit message","ts":"1472066363.000402"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/571\/13..14\/Makefile>","ts":"1472066366.000403"},{"type":"message","user":"U0UHG4VP1","text":"if I had to guess, that\u2019s to prevent you from pushing from an old repo","ts":"1472066367.000404"},{"type":"message","user":"U0KPFAZNF","text":"yeah, maybe","ts":"1472066373.000405"},{"type":"message","user":"U0KPFAZNF","text":"guess you cant change your mind in gerrit, heh","ts":"1472066387.000406"},{"type":"message","user":"U0UHG4VP1","text":"I think your theory about 12 and 14 being the same is best","ts":"1472066392.000407"},{"type":"message","user":"U0KPFAZNF","text":"\u201cthats an old idea!\"","ts":"1472066393.000408"},{"type":"message","user":"U0UHG4VP1","text":"BUST A DEAL FACE THE WHEEL","ts":"1472066420.000409"},{"type":"message","user":"U0UHG4VP1","text":"wait wrong movie","ts":"1472066425.000410"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1472066426.000411"},{"type":"message","user":"U0UHG4VP1","text":"that would work for breaking the build, though","ts":"1472066494.000412"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/551\/console> will be our test subject, anyway.","ts":"1472066582.000413"},{"type":"message","user":"U0UHG4VP1","text":"<@U1AU8DRQR> : do we need to be stashing the chaincode.tar still?","edited":{"user":"U0UHG4VP1","ts":"1472067427.000000"},"ts":"1472067397.000414"},{"type":"message","user":"U1AU8DRQR","text":"No, is it ok if I remove it next Monday? ","ts":"1472068241.000416"},{"type":"message","user":"U0UHG4VP1","text":"I already have the change staged, I can wait to merge it","ts":"1472068262.000417"},{"type":"message","user":"U1AU8DRQR","text":"You mean a revert?","ts":"1472068432.000418"},{"type":"message","user":"U0UHG4VP1","text":"I added you to the change I\u2019ve proposed but we can wait","ts":"1472068488.000419"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>, <@U11HH3P7Y> doesnt look like its fixed","ts":"1472069917.000420"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/552\/console>","ts":"1472069919.000421"},{"type":"message","user":"U0KPFAZNF","text":"actually its slightly different now","ts":"1472069951.000422"},{"type":"message","user":"U0KPFAZNF","text":"this time its rebuilding fabric-peer","ts":"1472069956.000423"},{"type":"message","user":"U11HH3P7Y","text":"any clue, why it is rebuilding peer..","ts":"1472070225.000424"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF>: should I revert my change?","ts":"1472070389.000425"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> not yet, it did change","ts":"1472070415.000426"},{"type":"message","user":"U0KPFAZNF","text":"if anything, there might be additional changes of a similar nature required","ts":"1472070436.000427"},{"type":"message","user":"U0KPFAZNF","text":"so, in his case, fabric-peer was created at 19:40:44","ts":"1472070685.000428"},{"type":"message","user":"U0KPFAZNF","text":"and then again at 20:16:08","ts":"1472070707.000429"},{"type":"message","user":"U0KPFAZNF","text":"I think in this case, it might be a makefile bug","ts":"1472070719.000430"},{"type":"message","user":"U0KPFAZNF","text":"this line is suspicious","ts":"1472070740.000431"},{"type":"message","user":"U0KPFAZNF","text":"20:16:00 rm build\/docker\/bin\/peer","ts":"1472070741.000432"},{"type":"message","user":"U0KPFAZNF","text":"i think that was an implicit rule related to make believing that artifact is an INTERMEDIATE","ts":"1472070777.000433"},{"type":"message","user":"U0KPFAZNF","text":"(which is not the case)","ts":"1472070785.000434"},{"type":"message","user":"U0KPFAZNF","text":"that might be related to what triggered the rebuild in this case","ts":"1472070793.000435"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> I did confirm that this is a general problem in all builds, at least","ts":"1472070945.000436"},{"type":"message","user":"U0KPFAZNF","text":"for instance, check this out","ts":"1472070951.000437"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/523\/consoleText>","ts":"1472070952.000438"},{"type":"message","user":"U0KPFAZNF","text":"search for \u201cdocker peer-image\u201d (you\u2019ll get 2 hits)","ts":"1472070962.000439"},{"type":"message","user":"U0KPFAZNF","text":"same for \u201cdocker src-image\u201d and \u201cdocker ccenv-image\"","ts":"1472070975.000440"},{"type":"message","user":"U0KPFAZNF","text":"there should only be one of those (each) in a healthy setup","ts":"1472070993.000441"},{"type":"message","user":"U0KPFAZNF","text":"I suspect that the src-image issue was fixed with your patch to the CI setup","ts":"1472071033.000442"},{"type":"message","user":"U0KPFAZNF","text":"i think the remaining ones are a Makefile bug","ts":"1472071039.000443"},{"type":"message","user":"U0KPFAZNF","text":"we should probably open a JIRA","ts":"1472071071.000444"},{"type":"message","user":"U0UHG4VP1","text":"OK. I was suspicious as I didn\u2019t see anything in the log from around that sed, I was thinking of adding some echos to show where I really was","ts":"1472071074.000445"},{"type":"message","user":"U11HH3P7Y","text":"Correct me if I am wrong.. We are executing make images two times.. one in unit-tests and other in behave..","ts":"1472071101.000446"},{"type":"message","user":"U0KPFAZNF","text":"it seems to be the case, yes, but the issue is: we shouldnt need to","ts":"1472071178.000447"},{"type":"message","user":"U0KPFAZNF","text":"one should reuse the other","ts":"1472071182.000448"},{"type":"message","user":"U0KPFAZNF","text":"once its built, the system should be detecting that its already satisfied and skipping that step","ts":"1472071216.000449"},{"type":"message","user":"U11HH3P7Y","text":"yes","ts":"1472071283.000450"},{"type":"message","user":"U0KPFAZNF","text":"if you run \u201cmake images\u201d in vagrant, only the first one will do work","ts":"1472071311.000451"},{"type":"message","user":"U0KPFAZNF","text":"or at least, that is the intention","ts":"1472071346.000452"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins <https:\/\/jira.hyperledger.org\/browse\/FAB-243>","ts":"1472071628.000453"},{"type":"message","user":"U0ZJZBJLF","text":"Hey, does anyone know how to update the image that runs the jenkins jobs?","ts":"1472072108.000454"},{"type":"message","user":"U0ZJZBJLF","text":"It doesn't have protoc installed (the protobuf compiler) and it'll be needed when the upgrade from protobuf3-beta to protobuf3 will be made, because the pb.go files are intended to be removed from the source (and will be generated during \"make\")","ts":"1472072202.000455"},{"type":"message","user":"U0UHG4VP1","text":"how and when would that be installed?","ts":"1472072237.000456"},{"type":"message","user":"U0UHG4VP1","text":"is that something I\u2019d get via apt-get?","ts":"1472072256.000457"},{"type":"message","user":"U0ZJZBJLF","text":"no, you need to compile it with make","ts":"1472072271.000458"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: there are binary packages available for some platforms (e.g. x86_64) though others like Z might need to be built from source","ts":"1472072344.000459"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> Z looks dead right now, so not too worried about it","ts":"1472072374.000460"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/google\/protobuf\/releases\/tag\/v3.0.0>","attachments":[{"service_name":"GitHub","title":"google\/protobuf","title_link":"https:\/\/github.com\/google\/protobuf\/releases\/tag\/v3.0.0","text":"protobuf - Protocol Buffers - Google's data interchange format","fallback":"GitHub: google\/protobuf","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/1342004?v=3&s=400","from_url":"https:\/\/github.com\/google\/protobuf\/releases\/tag\/v3.0.0","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1472072379.000461"},{"type":"message","user":"U0KPFAZNF","text":"If thats the case, you can probably use <https:\/\/github.com\/google\/protobuf\/releases\/download\/v3.0.0\/protoc-3.0.0-linux-x86_64.zip>","ts":"1472072411.000463"},{"type":"message","user":"U0KPFAZNF","text":"otherwise, <https:\/\/github.com\/google\/protobuf\/archive\/v3.0.0.tar.gz>","ts":"1472072420.000464"},{"type":"message","user":"U0ZJZBJLF","text":"well, it doesn't really matter how it does into the jenkins image, as long as it goes there, in some form, binary or source :slightly_smiling_face:","ts":"1472072441.000465"},{"type":"message","user":"U0KPFAZNF","text":"im sure apt support is available if you really dig, at least for 16.04 etc","ts":"1472072453.000466"},{"type":"message","user":"U0ZJZBJLF","text":"AFAIK you should not do it via apt-get","ts":"1472072466.000467"},{"type":"message","user":"U0UHG4VP1","text":"yacovm my question is, do you expect to build this every time, or should it be baked in?","ts":"1472072470.000468"},{"type":"message","user":"U0ZJZBJLF","text":"that installs 2.6, not 3.0","edited":{"user":"U0ZJZBJLF","ts":"1472072528.000000"},"ts":"1472072470.000469"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> baked in preferred","ts":"1472072482.000470"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins OK. What do you want to do with the docker version? wait for this current makefile problem to be resolved?","ts":"1472072531.000473"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> yeah, that is fine","ts":"1472072576.000474"},{"type":"message","user":"U0UHG4VP1","text":"stated more clearly: should I build a new vagrant image with docker 1.8 and protoc 3.0.0, knowing in a week or so\u2026 ok","ts":"1472072581.000475"},{"type":"message","user":"U0KPFAZNF","text":"im working on FAB-243 right now","ts":"1472072583.000476"},{"type":"message","user":"U0KPFAZNF","text":"one question; do you use vagrant in the CI process?","ts":"1472072602.000477"},{"type":"message","user":"U0ZJZBJLF","text":"ry, I think that adding protoc 3.0.0 to what's running now can not hurt since the scripts that exist at the moment, don't invoke it","edited":{"user":"U0ZJZBJLF","ts":"1472072632.000000"},"ts":"1472072616.000478"},{"type":"message","user":"U0KPFAZNF","text":"I concur with <@U0ZJZBJLF>, adding protoc can be done at any time as long as it is before we merge 611","ts":"1472072663.000480"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins we use vagrant to prop up the VMs where the builds are run.","ts":"1472072664.000481"},{"type":"message","user":"U0KPFAZNF","text":"oh, thats interesting","ts":"1472072678.000482"},{"type":"message","user":"U0KPFAZNF","text":"i assume you are _not_ using our fabric-baseimage then?","ts":"1472072693.000483"},{"type":"message","user":"U0UHG4VP1","text":"I haven\u2019t examined the fabric build itself to see if it uses vagrant","ts":"1472072696.000484"},{"type":"message","user":"U0KPFAZNF","text":"we do!","ts":"1472072710.000485"},{"type":"message","user":"U0KPFAZNF","text":"i am wondering if this is a chance to get the vagrant-devenv and jenkins setup more aligned","ts":"1472072729.000486"},{"type":"message","user":"U0KPFAZNF","text":"(I didnt realize jenkins was utilizing vagrant)","ts":"1472072745.000487"},{"type":"message","user":"U0UHG4VP1","text":"we use openstack, which uses vagrant","ts":"1472072759.000488"},{"type":"message","user":"U0UHG4VP1","text":"<@U1BC5NF2S> what was the source of our baseimage at vexxhost?","ts":"1472072773.000489"},{"type":"message","user":"U1BC5NF2S","text":"<@U0UHG4VP1> The fabric build doesn't use vagrant","ts":"1472072810.000490"},{"type":"message","user":"U1BC5NF2S","text":"<@U0UHG4VP1> I believe it was their public Ubuntu 16.04 image","ts":"1472072822.000491"},{"type":"message","user":"U0KPFAZNF","text":"oh well","ts":"1472072830.000492"},{"type":"message","user":"U1BC5NF2S","text":"Sorry, 14.04: `Ubuntu 14.04.4 LTS (2016-06-02)`","ts":"1472072856.000493"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>, and disregard my \u201cwe do\u201d above\u2026i thought you were talkign about the devenv build","ts":"1472072879.000494"},{"type":"message","user":"U0KPFAZNF","text":"i think you meant the build engine in the jenkins pipeline","ts":"1472072892.000495"},{"type":"message","user":"U0KPFAZNF","text":"i misunderstood","ts":"1472072894.000496"},{"type":"message","user":"U0UHG4VP1","text":"yes, no worries","ts":"1472072926.000497"},{"type":"message","user":"U0ZJZBJLF","text":"so, what needs to be done from my side for the protoc binary to be present in the PATH of the jenkins image? do I need to open a JIRA issue or something?","ts":"1472072983.000498"},{"type":"message","user":"U0UHG4VP1","text":"yacovm: sure, file a JIRA and assign it to me","ts":"1472073147.000499"},{"type":"message","user":"U0ZJZBJLF","text":"<https:\/\/jira.hyperledger.org\/browse\/FAB-244>","ts":"1472073579.000500","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"user":"U24M29R4G","text":"<@U24M29R4G|nikileshsa> has joined the channel","type":"message","subtype":"channel_join","ts":"1472075670.000501"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/679\/>","ts":"1472077427.000502"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/681\/>","ts":"1472077435.000503"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins : any estimate on build time savings? I\u2019d guess 15 minutes or so","ts":"1472078694.000504"},{"type":"message","user":"U0KPFAZNF","text":"im somewhat skeptical it will be _that_ beneficial\u2026the builds are generally fast on my local system","ts":"1472078736.000505"},{"type":"message","user":"U0KPFAZNF","text":"i should look at some of the logs though","ts":"1472078744.000506"},{"type":"message","user":"U0KPFAZNF","text":"they might be more costly within the CI environment","ts":"1472078753.000507"},{"type":"message","user":"U0UHG4VP1","text":"eh, we\u2019ll know soon enough","ts":"1472078765.000508"},{"type":"message","user":"U0KPFAZNF","text":"its def not \u201c0\u201d, so there will be some savings no doubt","ts":"1472078773.000509"},{"type":"message","user":"U0UHG4VP1","text":"so possibly a silly question, are we at a point where we could do multiple CI runs on one VM serially?","ts":"1472078838.000510"},{"type":"message","user":"U0UHG4VP1","text":"we could save some time by setting the machines to do multiple builds before disposal.","ts":"1472078898.000511"},{"type":"message","user":"U0KPFAZNF","text":"peer-image is only taking about 2s","ts":"1472078933.000512"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/523\/console>","ts":"1472078939.000513"},{"type":"message","user":"U0KPFAZNF","text":"second src-image takes about 7s","ts":"1472078978.000514"},{"type":"message","user":"U0UHG4VP1","text":"so, not much","ts":"1472078998.000515"},{"type":"message","user":"U0KPFAZNF","text":"looks like about 9s that I can guestimate","ts":"1472079017.000516"},{"type":"message","user":"U0KPFAZNF","text":"but, its hard to say if that is the full picture","ts":"1472079026.000517"},{"type":"message","user":"U0KPFAZNF","text":"this could have a cascading effect","ts":"1472079039.000518"},{"type":"message","user":"U0UHG4VP1","text":"now we enter the slow part","ts":"1472080463.000519"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins not even a little faster :wink:","ts":"1472082064.000520"},{"type":"message","user":"U0UHG4VP1","text":"Unless 551 was the new normal, then it\u2019s 20 minutes faster","ts":"1472082101.000521"},{"type":"message","user":"U0KPFAZNF","text":"Oh wow, awesome","ts":"1472082319.000522"},{"type":"message","user":"U0UHG4VP1","text":"nice rebase. Hope this works","ts":"1472083494.000523"},{"type":"message","user":"U0KPFAZNF","text":"yeah, fingers crossed","ts":"1472083507.000524"},{"type":"message","user":"U0KPFAZNF","text":"i suspect I still have a different problem with behave failing","ts":"1472083530.000525"},{"type":"message","user":"U0KPFAZNF","text":"but we shall see","ts":"1472083533.000526"},{"type":"message","user":"U0KPFAZNF","text":"I did confirm that there are no more rebuilds occurring, so that's good","ts":"1472084271.000527"},{"type":"message","user":"U0KPFAZNF","text":"Extra rebuilds I mean","ts":"1472084284.000528"},{"type":"message","user":"U0UHG4VP1","text":"was moving that sed worth it, or did you fix a deeper problem with decorating the secondary artifacts correctly?","ts":"1472084593.000529"},{"type":"message","user":"U0KPFAZNF","text":"I think the sed problem was legit","ts":"1472084845.000530"},{"type":"message","user":"U0KPFAZNF","text":"But you can confirm if you'd like","ts":"1472084858.000531"},{"type":"message","user":"U0KM61BCP","text":"cool!","ts":"1472086625.000532"},{"type":"message","user":"U0UHG4VP1","text":"nah, confirmation would mean reverting the change, re-running builds, and if it was real, re-doing the change. It didn\u2019t break anything so I\u2019d rather not monkey with it","ts":"1472086854.000533"},{"type":"message","user":"U0KPFAZNF","text":"hey!  it worked","ts":"1472089134.000534"},{"type":"message","user":"U0KPFAZNF","text":"woohoo","ts":"1472089137.000535"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: so is it consistently faster now?","ts":"1472089161.000536"},{"type":"message","user":"U0KPFAZNF","text":"i was having a hard time getting stats on the other builds","ts":"1472089170.000537"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF>: ask me when we have ~20 successful builds after your merge","ts":"1472089903.000538"},{"type":"message","user":"U0UHG4VP1","text":":grinning:","ts":"1472089907.000539"},{"type":"message","user":"U0KPFAZNF","text":"heh, where is that graph you posted earlier?","ts":"1472089922.000540"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/buildTimeTrend>","ts":"1472090125.000541"},{"type":"message","user":"U0KPFAZNF","text":"its hard to say if it made a difference, for all the successful builds, its in that range","ts":"1472090221.000542"},{"type":"message","user":"U0KPFAZNF","text":"i see 1:04, 1:06, 1:07 1:28 1:15 1:04 1:11 1:07","ts":"1472090260.000543"},{"type":"message","user":"U0KPFAZNF","text":"so, headed in the right direction, but there were some 1:04-1:07s before too","ts":"1472090290.000544"},{"type":"message","user":"U0KPFAZNF","text":"oh well, needless to say, rebuilding stuff that didnt need to be rebuilt was just wasteful, even if only marginally so","ts":"1472090335.000545"},{"type":"message","user":"U1M7K67EV","text":"Jumping in here too :stuck_out_tongue: I had some under an hour occasionally when there was only one build running","ts":"1472090342.000546"},{"type":"message","user":"U0UHG4VP1","text":"As I said, if 551 was new normal ","ts":"1472090344.000547"},{"type":"message","user":"U0KPFAZNF","text":"true","ts":"1472090352.000548"},{"type":"message","user":"U0KPFAZNF","text":"it could have been trending up, and this knocked it back some","ts":"1472090365.000549"},{"type":"message","user":"U0UHG4VP1","text":"I think a couple more tests were turned on recently","ts":"1472090379.000550"},{"type":"message","user":"U0UHG4VP1","text":"Could be mistaken ","ts":"1472090388.000551"},{"type":"message","user":"U0KPFAZNF","text":"well, at the very least, I got patch 571 to pass finally","ts":"1472090405.000552"},{"type":"message","user":"U0UHG4VP1","text":"Could be the other project ","ts":"1472090412.000553"},{"type":"message","user":"U0UHG4VP1","text":"When could I test the docker roll forward? ","ts":"1472090461.000554"},{"type":"message","user":"U0KPFAZNF","text":"what are you looking to do?","ts":"1472090475.000555"},{"type":"message","user":"U0KPFAZNF","text":"the 1.12 stuff you mean?","ts":"1472090479.000556"},{"type":"message","user":"U0UHG4VP1","text":"I'll be occupied all day tomorrow then I'm off from Saturday until post Labor Day ","ts":"1472090500.000557"},{"type":"message","user":"U0UHG4VP1","text":"Yes 1.12","ts":"1472090506.000558"},{"type":"message","user":"U0KPFAZNF","text":"im fine any time\u2026i have 571 and 681 running now, but its just to confirm","ts":"1472090536.000559"},{"type":"message","user":"U0KPFAZNF","text":"(I just had comment changes, so I am not anticipating any regression in the CI outcome","ts":"1472090561.000560"},{"type":"message","user":"U0UHG4VP1","text":" I'm at dinner now, so it would be an hour or two before I'm home ","ts":"1472090575.000561"},{"type":"message","user":"U0KPFAZNF","text":"ok, thats perfect","ts":"1472090583.000562"},{"type":"message","user":"U0UHG4VP1","text":"What change could I use for testing ?","ts":"1472090616.000563"},{"type":"message","user":"U0KPFAZNF","text":"you are welcome to use 571, particularly if you can do it in a way that wont mess up the CI+1 status (that I am anticipating)","ts":"1472090651.000564"},{"type":"message","user":"U0UHG4VP1","text":"I'll cherry pick it","ts":"1472090664.000565"},{"type":"message","user":"U0KPFAZNF","text":"but I suspect there will be no reviews until tomorrow, minimally","ts":"1472090665.000566"},{"type":"message","user":"U0KPFAZNF","text":"so even that isnt a big deal","ts":"1472090671.000567"},{"type":"message","user":"U0UHG4VP1","text":"Didn't it break other changes? There was a wedged change IIRC","ts":"1472090713.000568"},{"type":"message","user":"U0KPFAZNF","text":"not sure what the \u201cit\u201d is in your first sentence","ts":"1472090734.000569"},{"type":"message","user":"U0UHG4VP1","text":"Should wait for your merge before I switch","ts":"1472090739.000570"},{"type":"message","user":"U0KPFAZNF","text":"patch 571? or docker 1.12?","ts":"1472090741.000571"},{"type":"message","user":"U0UHG4VP1","text":"The docker 1.12","ts":"1472090751.000572"},{"type":"message","user":"U0KPFAZNF","text":"I seem to recall 1.12 caused it to hang while running a docker build before","ts":"1472090769.000573"},{"type":"message","user":"U0KPFAZNF","text":"(which is weird, as I run 1.12 in my devenv and it builds fine","ts":"1472090791.000574"},{"type":"message","user":"U0UHG4VP1","text":"Classic :grinning:","ts":"1472090802.000575"},{"type":"message","user":"U0KPFAZNF","text":"of course","ts":"1472090805.000576"},{"type":"message","user":"U0UHG4VP1","text":"I'll mess with it tonight. I need to roll a new image for <@U11HH3P7Y> anyway","ts":"1472090865.000577"},{"type":"message","user":"U0KPFAZNF","text":"cool, let me know if you need anything","ts":"1472090926.000578"},{"type":"message","user":"U0KPFAZNF","text":"enjoy dinner","ts":"1472090927.000579"},{"type":"message","user":"U0UHG4VP1","text":"Thanks, will do","ts":"1472090939.000580"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins : looks like 1\/3 just got merged","ts":"1472095546.000581"},{"type":"message","user":"U0KM61BCP","text":"<@U11HH3P7Y> <@U0UHG4VP1> <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/667\/> looks like we need to enable jenkins builds for the \u2018convergence\u2019 branch. FYI <@U0KN2SSKE>","ts":"1472127805.000582"},{"type":"message","user":"U11HH3P7Y","text":"Will submit patch in sometime..","ts":"1472143363.000583"},{"type":"message","user":"U0UHG4VP1","text":"ramesh it\u2019s already building","ts":"1472143554.000584"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> also, the current image has typedoc baked in","ts":"1472143668.000585"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> if this isn\u2019t the case - if typedoc is not working as you expect - please let me know. I\u2019m out of the office next week","ts":"1472145523.000586"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> <@U11HH3P7Y> I think the jenkins push is broken now via the merging of 571","ts":"1472158591.000587"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-merge-x86_64\/90\/console>","ts":"1472158593.000588"},{"type":"message","user":"U0KPFAZNF","text":"at least, I think that is why that is FAILED","ts":"1472158609.000589"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y>: could you propose a change to fix that?","ts":"1472159076.000590"},{"type":"message","user":"U0UHG4VP1","text":"I'm not sure where the tag can come from","ts":"1472159211.000591"},{"type":"message","user":"U11HH3P7Y","text":"sure ry.. working on that..","ts":"1472159839.000592"},{"type":"message","user":"U0KPFAZNF","text":"some ideas: creative invocations of \u201cdocker images\u201d, we could emit something (e.g. build\/docker-tag.info), etc","ts":"1472160487.000593"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> if you end up needing some build-system support (such as the <http:\/\/docker-tag.info|docker-tag.info> thing above), just holler","ts":"1472160538.000594"},{"type":"message","user":"U0UHG4VP1","text":"do we usually push to latest or master or whatever, and this is the first time this has happened?","ts":"1472161954.000595"},{"type":"message","user":"U0KPFAZNF","text":"IIUC correct, in the past, the build produced purely \u201clatest\u201d tags and <@U11HH3P7Y> then pushed them to dockerhub with both :latest and a tag that he synthesized","ts":"1472162030.000596"},{"type":"message","user":"U0KPFAZNF","text":"now, the build produces both :latest and an explicit tag, of which it makes sense to retain through the push to dockerhub","ts":"1472162057.000597"},{"type":"message","user":"U0KPFAZNF","text":"(though ultimately, its decoupled)","ts":"1472162078.000598"},{"type":"message","user":"U0UHG4VP1","text":"you two know more about this than I do :slightly_smiling_face:","ts":"1472162171.000599"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1> <@U0KPFAZNF> : could you please review this patch <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/709\/>","ts":"1472165857.000600"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> as I noted you will need to rebase to the tip of master on ci-...","ts":"1472165990.000601"},{"type":"message","user":"U11HH3P7Y","text":"yes I forgot that..","ts":"1472166006.000602"},{"type":"message","user":"U0UHG4VP1","text":"and <@U0KPFAZNF> had a comment as well","ts":"1472166031.000603"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> IIUC you\u2019re saying both peer and member services need to have the same tag?","ts":"1472166181.000604"},{"type":"message","user":"U0KPFAZNF","text":"well, im saying that they _will_ more than they \u201cneed\" to","ts":"1472166295.000605"},{"type":"message","user":"U0KPFAZNF","text":"the makefile creates the tag once and uses it repeatedly for all outputs","ts":"1472166313.000606"},{"type":"message","user":"U0KPFAZNF","text":"its actually less critical between peer and membersrvc than it will be between peer and ccenv","ts":"1472166337.000607"},{"type":"message","user":"U0KPFAZNF","text":"those two _need_ to be in lockstep","ts":"1472166345.000608"},{"type":"message","user":"U0KPFAZNF","text":"(speaking of, we should have a JIRA entry to add ccenv\/javaenv to the suite of published images","ts":"1472166398.000609"},{"type":"message","user":"U0KPFAZNF","text":"but it doesnt need to be solved right this second","ts":"1472166413.000610"},{"type":"message","user":"U0UHG4VP1","text":"feel free to file the JIRA :slightly_smiling_face:","ts":"1472166481.000611"},{"type":"message","user":"U0KPFAZNF","text":"yea, ill take care of it","ts":"1472166919.000612"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF>: first one finally made it up :slightly_smiling_face:","ts":"1472181802.000613"},{"type":"message","user":"U0UHG4VP1","text":"interesting, it\u2019s dropped from ~700 megs to ~500 megs in the last day","ts":"1472181846.000614"},{"type":"message","user":"U11HH3P7Y","text":"Wow","ts":"1472181933.000615"},{"type":"message","user":"U0KPFAZNF","text":"cool","ts":"1472181962.000616"},{"type":"message","user":"U0KPFAZNF","text":"i wonder what precipitated the reduction","ts":"1472181974.000617"},{"type":"message","user":"U0UHG4VP1","text":"I should probably be more curious about that, since nothing has been done to make that happen on purpose","ts":"1472182308.000618"},{"type":"message","user":"U0UHG4VP1","text":"I see I didn\u2019t paste the link :disappointed: <https:\/\/hub.docker.com\/r\/hyperledger\/fabric-peer\/tags\/>","ts":"1472182363.000619"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: node-sdk tests are working as expected in Jenkins but I see unit-tests are failing.. Will check this tomorrow..","ts":"1472182888.000620"},{"type":"message","user":"U0UHG4VP1","text":"ramesh could you rebase to tip of master? or should I?","ts":"1472182962.000621"},{"type":"message","user":"U11HH3P7Y","text":"Jonathan is working on this patch.. Seems he is going to do that..","ts":"1472183000.000622"},{"type":"message","user":"U0UHG4VP1","text":"ok","ts":"1472183061.000623"},{"type":"message","user":"U0KPFAZNF","text":"I bet it was the javaenv patch","ts":"1472184209.000624"},{"type":"message","user":"U0KPFAZNF","text":"I'd  need to look closer though","ts":"1472184229.000625"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>, <@U0KM61BCP> pointed me to a jenkins failure: <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/608\/console>","ts":"1472216560.000626"},{"type":"message","user":"U0KPFAZNF","text":"it seems in this case, we had fabric-src built twice","ts":"1472216580.000627"},{"type":"message","user":"U0KPFAZNF","text":"i wanted to ask: can you confirm if this particular run would have had the sed patch in place?","ts":"1472216597.000628"},{"type":"message","user":"U0KPFAZNF","text":"for reasons that are unclear, it decided at 09:27:34 that it needed to rebuild fabric-src even though this had already happened","ts":"1472216670.000629"},{"type":"message","user":"U0KPFAZNF","text":"(at 08:46:09)","ts":"1472216720.000630"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> have to step away for about an hour, but ill follow up on this","ts":"1472217345.000631"},{"type":"message","user":"U0ZJZBJLF","text":"this is my patch isn't it? it does have the sed in it","ts":"1472218366.000632"},{"type":"message","user":"U0ZJZBJLF","text":"```\n\t@cat images\/src\/Dockerfile.in \\\n\t\t| sed -e 's\/_TAG_\/$(DOCKER_TAG)\/g' \\\n```\nquoted from the gerrit Makefile","edited":{"user":"U0ZJZBJLF","ts":"1472218423.000000"},"ts":"1472218408.000633"},{"type":"message","user":"U0KM61BCP","text":"<@U11HH3P7Y> ^^","ts":"1472219182.000636"},{"type":"message","user":"U11HH3P7Y","text":"I am looking into this..","ts":"1472219709.000637"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> sorry, i was referring to a different sed patch","ts":"1472221719.000638"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=ci-management.git;a=commitdiff;h=e2df78cb3f912317b8a9a0dd8bad6e0a45ea2a7c>","ts":"1472221759.000639"},{"type":"message","user":"U11HH3P7Y","text":"sed patch is part of ci-management repo and it was merged..","ts":"1472221789.000640"},{"type":"message","user":"U0KPFAZNF","text":"there was an issue earlier where the ci-management.git tree had a suboptimally placed sed that would have been likely to cause rebuilds","ts":"1472221804.000641"},{"type":"message","user":"U0KPFAZNF","text":"that was the only known\/understood issue that would cause fabric-src to behave like that","ts":"1472221821.000642"},{"type":"message","user":"U0KPFAZNF","text":"oh wait, was this failure in <@U0ZJZBJLF>\u2019s patch?","ts":"1472221841.000643"},{"type":"message","user":"U0KPFAZNF","text":"if so, i probably know whats wrong","ts":"1472221849.000644"},{"type":"message","user":"U11HH3P7Y","text":"could be..","ts":"1472221858.000645"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> what patch was that build from?","ts":"1472221875.000646"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KPFAZNF> <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/611\/>","ts":"1472221908.000647"},{"type":"message","user":"U0KPFAZNF","text":"ah, ok, i know whats wrong then","ts":"1472221923.000648"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> this is that thing we talked about yesterday (<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/611\/9\/Makefile>, line 188)","ts":"1472221952.000649"},{"type":"message","user":"U0KPFAZNF","text":"\u201cprotos\u201d is a .PHONY target, it will always trigger subordinate rebuilds","ts":"1472221989.000650"},{"type":"message","user":"U0ZJZBJLF","text":"hmmm","ts":"1472221990.000651"},{"type":"message","user":"U0ZJZBJLF","text":"so how to resolve this?","ts":"1472221999.000652"},{"type":"message","user":"U0KPFAZNF","text":"all we need to do is change that to $(PB_GOS)","ts":"1472222001.000653"},{"type":"message","user":"U0ZJZBJLF","text":"og","ts":"1472222005.000654"},{"type":"message","user":"U0ZJZBJLF","text":"oh i see","ts":"1472222008.000655"},{"type":"message","user":"U0ZJZBJLF","text":"will do, give me a min","ts":"1472222014.000656"},{"type":"message","user":"U0KPFAZNF","text":"sure thing","ts":"1472222018.000657"},{"type":"message","user":"U0ZJZBJLF","text":"btw this was there for a week and many of the builds passed","ts":"1472222036.000658"},{"type":"message","user":"U0ZJZBJLF","text":"The sed tagging thing effected it","ts":"1472222047.000659"},{"type":"message","user":"U0ZJZBJLF","text":"sent 4 review and jenkins","ts":"1472222156.000660"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> it was the confluence of your change and one I had merged yesterday","ts":"1472222425.000661"},{"type":"message","user":"U0ZJZBJLF","text":"yeah that's what i meant","ts":"1472222440.000662"},{"type":"message","user":"U0KPFAZNF","text":"to be clear, the \u201cprotos\u201d dep would always be suboptimal and always cause a double build, but it had no obvious consequences until my merge went in yesterday","ts":"1472222462.000663"},{"type":"message","user":"U0KPFAZNF","text":"right, ok","ts":"1472222463.000664"},{"type":"message","user":"U0KM61BCP","text":"glad that\u2019s resolved!","ts":"1472223122.000665"},{"type":"message","user":"U0UHG4VP1","text":"I reverted the attempt at docker 1.11 last night, it hangs in the same way as 1.12. so we\u2019re still on 1.8","ts":"1472229456.000666"},{"type":"message","user":"U0KPFAZNF","text":"So weird","ts":"1472230268.000667"},{"type":"message","user":"U0KPFAZNF","text":"I didn't see the 1.11 run, but 12 looked like it was hanging in the common.sh script.  I wonder if we can increase the verbosity and figure out what's stuck","ts":"1472230323.000668"},{"type":"message","user":"U0UHG4VP1","text":"that\u2019s the same place 1.11 was hanging.","ts":"1472230617.000669"},{"type":"message","user":"U0ZJZBJLF","text":"Did anything change lately regarding the python packages of the jenkins image?","ts":"1472231601.000670"},{"type":"message","user":"U0UHG4VP1","text":"the image is the same one from when I added protoc","ts":"1472231716.000671"},{"type":"message","user":"U0ZJZBJLF","text":"This looks like an environment issue, what do you think?","edited":{"user":"U0ZJZBJLF","ts":"1472231757.000000"},"ts":"1472231726.000672"},{"type":"message","subtype":"file_share","text":"<@U0ZJZBJLF|yacovm> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F25BVTWAF\/jenkins_failure.txt|jenkins failure>","file":{"id":"F25BVTWAF","created":1472231749,"timestamp":1472231749,"name":"jenkins_failure.txt","title":"jenkins failure","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0ZJZBJLF","editable":true,"size":2830,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F25BVTWAF\/jenkins_failure.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F25BVTWAF\/download\/jenkins_failure.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F25BVTWAF\/jenkins_failure.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F25BVTWAF-b847def749","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F25BVTWAF\/jenkins_failure.txt\/edit","preview":"17:04:11 Scenario chaincode example02 with 4 peers and 1 membersrvc, issue #567 -- @1.1 Consensus Options failed. Getting container logs\r\n17:04:11 Decomposing with yaml 'docker-compose-4-consensus-noops.yml' after scenario chaincode example02 with 4 peers and 1 membersrvc, issue #567 -- @1.1 Consensus Options, \r\n17:04:11 Scenario chaincode example02 with 4 peers and 1 membersrvc, issue #567 -- @1.2 Consensus Options failed. Getting container logs\r\n17:04:11 Decomposing with yaml 'docker-compose-4-consensus-batch.yml' after scenario chaincode example02 with 4 peers and 1 membersrvc, issue #567 -- @1.2 Consensus Options, \r\n17:04:11 Scenario chaincode example02 with 4 peers and 1 membersrvc, issue #680 (State transfer) -- @1.1 Consensus Options failed. Getting container logs\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>17:04:11 Scenario chaincode example02 with 4 peers and 1 membersrvc, issue #567 -- @1.1 Consensus Options failed. Getting container logs<\/pre><\/div>\n<div><pre>17:04:11 Decomposing with yaml 'docker-compose-4-consensus-noops.yml' after scenario chaincode example02 with 4 peers and 1 membersrvc, issue #567 -- @1.1 Consensus Options, <\/pre><\/div>\n<div><pre>17:04:11 Scenario chaincode example02 with 4 peers and 1 membersrvc, issue #567 -- @1.2 Consensus Options failed. Getting container logs<\/pre><\/div>\n<div><pre>17:04:11 Decomposing with yaml 'docker-compose-4-consensus-batch.yml' after scenario chaincode example02 with 4 peers and 1 membersrvc, issue #567 -- @1.2 Consensus Options, <\/pre><\/div>\n<div><pre>17:04:11 Scenario chaincode example02 with 4 peers and 1 membersrvc, issue #680 (State transfer) -- @1.1 Consensus Options failed. Getting container logs<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":40,"lines_more":35,"preview_is_truncated":true,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0ZJZBJLF","upload":true,"display_as_bot":false,"username":"<@U0ZJZBJLF|yacovm>","bot_id":null,"ts":"1472231750.000673"},{"type":"message","user":"U0UHG4VP1","text":"the last rebuild: `Ubuntu 14.04.4 - fabric - DOCKER 1.8 PROTOC 3.0 - 20160824.2059`","ts":"1472231900.000675"},{"type":"message","user":"U0UHG4VP1","text":"so 9pm two days ago","ts":"1472231913.000676"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF>: I've been seeing that error sporadically ","ts":"1472232093.000677"},{"type":"message","user":"U0KPFAZNF","text":"In my builds as well as others","ts":"1472232112.000678"},{"type":"message","user":"U0ZJZBJLF","text":"Thanks, I'll retrigger then","ts":"1472232118.000679"},{"type":"message","user":"U0ZJZBJLF","text":"bdd tests are really fragile...","ts":"1472232157.000680"},{"type":"message","user":"U0UHG4VP1","text":"do they add any value? flaky tests should be disabled, IMHO","ts":"1472232216.000681"},{"type":"message","user":"U0ZJZBJLF","text":"you mean the BDD tests in general?","ts":"1472232806.000682","reactions":[{"name":"laughing","users":["U0KM61BCP"],"count":1}]},{"type":"message","user":"U0UHG4VP1","text":"the fragile ones, yes","edited":{"user":"U0UHG4VP1","ts":"1472232870.000000"},"ts":"1472232858.000683"},{"type":"message","user":"U0ZJZBJLF","text":"i don't know them well enough to know which are fragile and which are not.","ts":"1472232885.000685"},{"type":"message","user":"U0UHG4VP1","text":"OK, so the BDD tests in general then","ts":"1472232910.000686"},{"type":"message","user":"U0UHG4VP1","text":"have they prevented any regressions?","ts":"1472232937.000687"},{"type":"message","user":"U0ZJZBJLF","text":"No idea, I only submitted a couple of PRs so far and they were related to threading change or to configuration extension so I don't know, but I think that in theory they should because unit tests don't cover orchestration stuff","edited":{"user":"U0ZJZBJLF","ts":"1472233326.000000"},"ts":"1472233300.000688"},{"type":"message","user":"U0UHG4VP1","text":"so for instance, the last 3-4 merge jobs have failed in similar ways. <https:\/\/jenkins.hyperledger.org\/view\/fabric\/job\/fabric-merge-x86_64\/>","ts":"1472234735.000690"},{"type":"message","user":"U0UHG4VP1","text":"so dockerhub is behind master by several commits","ts":"1472234748.000691"},{"type":"message","user":"U0ZJZBJLF","text":"the jenkins build is also fragile:\n```\n  0     0    0     0    0     0      0      0 --:--:--  0:00:39 --:--:--     0curl: (6) Could not resolve host: <http:\/\/github.com|github.com>\n18:28:15 make: *** [build\/bin\/chaintool] Error 6\n18:28:15 Build step 'Execute shell' marked build as failure\n18:28:15 [ssh-agent] Stopped.\n18:28:15 Archiving artifacts\n18:28:15 Recording test results\n18:28:15 ERROR: Step \u2018Publish JUnit test result report\u2019 failed: No test report files were found. Configuration error?\n18:28:15 Skipping Cobertura coverage report as build was not UNSTABLE or better ...\n18:28:31 Finished: FAILURE\n```","ts":"1472241193.000692"},{"type":"message","user":"U0UHG4VP1","text":"yes it is","ts":"1472241634.000693"},{"type":"message","user":"U0UHG4VP1","text":"it looks like the host for our infra is having network issues","ts":"1472246037.000694"},{"type":"message","user":"U11HH3P7Y","text":"ok","ts":"1472246052.000695"},{"type":"message","user":"U0KM61BCP","text":"so, looking at the build, seems as if we are defeating some of the build improvements to optimize what we build and when","ts":"1472258623.000696"},{"type":"message","user":"U0UHG4VP1","text":"are these recent changes in ci or fabric?","ts":"1472258658.000697"},{"type":"message","user":"U0KM61BCP","text":"we run make dist-clean which deletes all of the docker images","ts":"1472258705.000698"},{"type":"message","user":"U0KM61BCP","text":"hence we cannot reuse the baseimage (which almost never changes)","ts":"1472258719.000699"},{"type":"message","user":"U0KM61BCP","text":"and that takes the longest to build","ts":"1472258728.000700"},{"type":"message","user":"U0KM61BCP","text":"I don\u2019t know when the build changed","ts":"1472258763.000701"},{"type":"message","user":"U0KM61BCP","text":"the Makefile was changed recently to avoid having to build baseimage every time","ts":"1472258793.000702"},{"type":"message","user":"U0KM61BCP","text":"line 8 in ci-management\/jjb\/fabric\/include-raw-fabric-clean-environment.sh","ts":"1472258853.000703"},{"type":"message","user":"U0UHG4VP1","text":"yes","ts":"1472258867.000704"},{"type":"message","user":"U0KM61BCP","text":"need to make that smarter","ts":"1472258886.000705"},{"type":"message","user":"U0KM61BCP","text":"I could change the fabric Makefile so that baseimage has its own clean target","ts":"1472258909.000706"},{"type":"message","user":"U0KM61BCP","text":"that isn\u2019t triggered by dist-clean","ts":"1472258935.000707"},{"type":"message","user":"U0UHG4VP1","text":"ok. is there a better target than dist-clean?","ts":"1472258963.000708"},{"type":"message","user":"U0UHG4VP1","text":"I think if I run dist-clean and the baseimage gets skipped, that would not be what I expected","ts":"1472258985.000709"},{"type":"message","user":"U0KM61BCP","text":"I am thinking remove base-image-clean from images-clean and add a scrub target","ts":"1472259395.000710"},{"type":"message","user":"U0UHG4VP1","text":"ok","ts":"1472259403.000711"},{"type":"message","user":"U0KM61BCP","text":"needs a bit more untangling because the build needs to be dependent on baseimage","ts":"1472259418.000712"},{"type":"message","user":"U0KM61BCP","text":"I think I see how this can work","ts":"1472259430.000713"},{"type":"message","user":"U0UHG4VP1","text":"a reminder, I\u2019m on vacation until 06 September, so you will need to talk to bram.welt and ram.esh about CI stuff in the interim (if you need changes)","ts":"1472259506.000714"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> <@U1BC5NF2S>  jenkins down?","ts":"1472296652.000715"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP> sort of - the nginx proxy is down. the end result is jenkins is invisible to the outside world, so yes, jenkins is down. someone has been working on it for a couple hours","ts":"1472303713.000716"},{"type":"message","user":"U0KM61BCP","text":"ok thx","ts":"1472303759.000717"},{"type":"message","user":"U0KM61BCP","text":"what is the right channel to report when you're away?","ts":"1472303804.000718"},{"type":"message","user":"U0UHG4VP1","text":"good question. I only saw this because I forgot to uninstall slack on one device. I think the right way to report it is <mailto:helpdesk@hyperledger.org|helpdesk@hyperledger.org> but in this case we already knew.","ts":"1472304267.000719"},{"type":"message","user":"U0KM61BCP","text":"ok, good to know","ts":"1472305123.000720"},{"type":"message","subtype":"pinned_item","user":"U0KM61BCP","item_type":"C","attachments":[{"fallback":"[August 27th, 2016 6:24 AM] ry: good question. I only saw this because I forgot to uninstall slack on one device. I think the right way to report it is <mailto:helpdesk@hyperledger.org|helpdesk@hyperledger.org> but in this case we already knew.","ts":"1472304267.000719","author_subname":"ry","channel_id":"C0YMWRX19","channel_name":"ci-pipeline","is_msg_unfurl":true,"text":"good question. I only saw this because I forgot to uninstall slack on one device. I think the right way to report it is <mailto:helpdesk@hyperledger.org|helpdesk@hyperledger.org> but in this case we already knew.","author_name":"Ry Jones","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/ry","author_icon":"https:\/\/avatars.slack-edge.com\/2016-12-03\/112352565781_af8a455dfc891821119c_48.jpg","mrkdwn_in":["text"]}],"text":"<@U0KM61BCP|cbf> pinned a message to this channel.","ts":"1472305156.000721"},{"type":"message","user":"U0UHG4VP1","text":"jenkins appears to be back, so I\u2019m signing out of this slack (for real) until the 6th","ts":"1472310142.000722"},{"type":"message","user":"U0ZJZBJLF","text":"Is there a way to mark to jenkins to *NOT* try to verify my branch? I have a WIP branch: <http:\/\/gerrit.hyperledger.org\/r\/#\/c\/687\/>   and I don't want to take builder\/worker resources on commits that are far from being merged.","edited":{"user":"U0ZJZBJLF","ts":"1472331005.000000"},"ts":"1472330260.000723"},{"type":"message","user":"U0KM61BCP","text":"in Travis there was a [ci skip] in the commit that would cause Travis to bypass","ts":"1472331465.000729"},{"type":"message","user":"U0KM61BCP","text":"I am unclear whether <@U11HH3P7Y> added something like that","ts":"1472331492.000730"},{"type":"message","user":"U0KM61BCP","text":"<@U0ZJZBJLF> you could try that ^^","ts":"1472331505.000731"},{"type":"message","user":"U0KM61BCP","text":"<@U11HH3P7Y> looks like there\u2019s a configuration error with Jenkins? 19:48:08 The following information may help to resolve the situation:\n19:48:08 \n19:48:08 The following packages have unmet dependencies:\n19:48:08  default-jre : Depends: default-jre-headless (= 2:1.7-51) but it is not going to be installed\n19:48:08                Depends: openjdk-7-jre (&gt;= 7~u3-2.1.1) but it is not going to be installed\n19:48:08 \u001b[91mE: Unable to correct problems, you have held broken packages.\n19:48:08 \u001b[0mThe command '\/bin\/sh -c \/hyperledger\/scripts\/provision\/common.sh' returned a non-zero code: 100\n19:48:08 make: *** [build\/image\/base\/.dummy] Error 1\n19:48:08 Build step 'Execute shell' marked build as failure","ts":"1472416416.000732"},{"type":"message","user":"U0KM61BCP","text":"I am seeing this on multiple builds","ts":"1472416424.000733"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KM61BCP>: We have installed \"ci-skip\" plugin but related changes are not pushed yet. Will submit patch today..","ts":"1472474904.000002"},{"type":"message","user":"U0KM61BCP","text":"how is ci skip related to jdk?","ts":"1472474941.000003"},{"type":"message","user":"U11HH3P7Y","text":"Not related.. I mentioned about ci-skip only..","ts":"1472474988.000004"},{"type":"message","user":"U11HH3P7Y","text":"JDK, dependency packages are not installed properly.. Could be related to some network issue. Checking this further..","ts":"1472475093.000005"},{"type":"message","user":"U11HH3P7Y","text":"I don't see that error in running builds. Will check further and let you know the update on failed builds with JDK error","ts":"1472475342.000006"},{"type":"message","user":"U12V3D2P2","text":"Hi <@U0KM61BCP> and <@U0UHG4VP1>, this is Smita from Power Software development. We have a Power node that we would like to include in the community CI. Ramesh mentioned that I should talk to you. Please let me know what the requirements are for the VM and if I can set it up and include it in the list of slaves for daily builds. Thank you!","ts":"1472477240.000007"},{"type":"message","user":"U0KM61BCP","text":"you need to work with <@U11HH3P7Y> and <@U0UHG4VP1> (who is on holiday this week)","ts":"1472477285.000008"},{"type":"message","user":"U12V3D2P2","text":"Ok..I got the document from Ramesh regarding Gerrit and Linux Foundation account etc","ts":"1472477316.000009"},{"type":"message","user":"U12V3D2P2","text":"<@U11HH3P7Y> please let me know if you could help me while <@U0UHG4VP1> is on vacation.","ts":"1472477355.000010"},{"type":"message","user":"U11HH3P7Y","text":"Sure I can help you.","ts":"1472477411.000011"},{"type":"message","user":"U12V3D2P2","text":"Thank you","ts":"1472477418.000012"},{"type":"message","user":"U11HH3P7Y","text":"<@U12V3D2P2> : I don't have access to Jenkins Master.. We can ask <@U1BC5NF2S> to add power node..","ts":"1472479251.000013"},{"type":"message","user":"U12V3D2P2","text":"Ok, getting the node ready for local builds, once that's done I will contact <@U1BC5NF2S>","ts":"1472479291.000014"},{"type":"message","user":"U11HH3P7Y","text":"Also, we have to add one more job for power in ci-management repo <https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=ci-management.git;a=tree;f=jjb\/fabric;h=4532cc504c90a19caee5741339978d1cc370cdcf;hb=refs\/heads\/master>","ts":"1472479346.000015"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> this is another one of those sporadic failures that I see (across branches)","ts":"1472481074.000016"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/668\/console>","ts":"1472481075.000017"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UKTPMG8> is looking into this..","ts":"1472481208.000018"},{"type":"message","user":"U0KM61BCP","text":"<@U1BC5NF2S> are you around? have some Jira questions\/asks","ts":"1472494053.000019"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP> Ask away. :slightly_smiling_face:","ts":"1472494076.000020"},{"type":"message","user":"U0KM61BCP","text":"1. is there a way that we can define components","ts":"1472494077.000021"},{"type":"message","user":"U0KM61BCP","text":"?","ts":"1472494079.000022"},{"type":"message","user":"U0KM61BCP","text":"or is that something we need to ask you or ry?","ts":"1472494090.000023"},{"type":"message","user":"U0KM61BCP","text":"also, setting sprints and story points to track and calculate velocity","ts":"1472494109.000024"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP> By components do you mean Jira projects? Or is that an issue field..","ts":"1472494184.000025"},{"type":"message","user":"U0KM61BCP","text":"there is a Component field but none defined, and seems like I need admin privs to create them","ts":"1472494224.000026"},{"type":"message","user":"U0KM61BCP","text":"if you open Create issue, it is between Summary and Description","ts":"1472494307.000027"},{"type":"message","user":"U0KM61BCP","text":"currently reads \u201cnone\"","ts":"1472494315.000028"},{"type":"message","user":"U0KM61BCP","text":"I can get a list of components and that would help keep things organized better than labels (which can get unwieldy)","ts":"1472494374.000029"},{"type":"message","user":"U0KM61BCP","text":"<@U1KDHJT6H> can get a list, I should say;-)","ts":"1472494407.000030"},{"user":"U1KDHJT6H","inviter":"U0KM61BCP","text":"<@U1KDHJT6H|claytonsims> has joined the channel","type":"message","subtype":"channel_join","ts":"1472494413.000031"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP> Ah, I understand. Can you access this page: <https:\/\/jira.hyperledger.org\/plugins\/servlet\/project-config\/FAB\/components> I added you to 'administrators' for the project. I'm wondering if setting you as the Project Lead does not imply those permissions...","ts":"1472494614.000032"},{"type":"message","user":"U0KM61BCP","text":"I can see that, could not before","ts":"1472495513.000033"},{"type":"message","user":"U0KM61BCP","text":"thanks","ts":"1472495515.000034"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP> No problem! Send a list of who should be able to administer which projects to <mailto:helpdesk@hyperledger.org|helpdesk@hyperledger.org> and I'll get things fixed up.","ts":"1472495609.000035"},{"type":"message","user":"U0KM61BCP","text":"<@U1KDHJT6H> for starters","ts":"1472496242.000036"},{"type":"message","user":"U0KM61BCP","text":"looks like I can create a sprint (yay) and add components (yay)","ts":"1472496264.000037"},{"type":"message","user":"U1KDHJT6H","text":"nice,","ts":"1472496303.000038"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP> <@U1KDHJT6H> has been added as well.","ts":"1472497605.000039"},{"type":"message","user":"U0KM61BCP","text":"thanks!","ts":"1472501272.000040"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KM61BCP>: ci-skip is working now.., We can skip build using [ci skip] in commit message..","ts":"1472520273.000041","reactions":[{"name":"+1","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U1AU8DRQR","text":"could anybody help me with this? <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/671\/console>","ts":"1472543334.000042"},{"type":"message","user":"U0ZJZBJLF","text":"hgabor, I think I saw this happen to me and a retrigger passed it","ts":"1472559367.000043"},{"type":"message","user":"U1AU8DRQR","text":"thanks yacovm, that is what I am trying now","ts":"1472559393.000044"},{"type":"message","user":"U0YNFB22X","text":"How do is terminate a build in progress ?","ts":"1472560044.000045"},{"type":"message","user":"U0KM61BCP","text":"I\u2019ve seen abandoned jenkins jobs\u2026 would be good to know how one does that <@U1BC5NF2S> <@U11HH3P7Y>","ts":"1472560191.000046"},{"type":"message","user":"U0YNFB22X","text":"Yes, I have seen too. Was this feature taken away from mortal jenkins users like me :slightly_smiling_face:","ts":"1472560257.000047"},{"type":"message","user":"U0YNFB22X","text":"I don't see the option to re-trigger jobs from jenkins web app too.","ts":"1472560286.000048"},{"type":"message","subtype":"file_share","text":"<@U0KM61BCP|cbf> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/cbf\/F26BEL5RC\/screen_shot_2016-08-30_at_8.34.12_am.png|Screen Shot 2016-08-30 at 8.34.12 AM.png> and commented: also, I note that Jira says that a plugin license has expired for git integration...","file":{"id":"F26BEL5RC","created":1472560486,"timestamp":1472560486,"name":"Screen Shot 2016-08-30 at 8.34.12 AM.png","title":"Screen Shot 2016-08-30 at 8.34.12 AM.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0KM61BCP","editable":false,"size":70865,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F26BEL5RC\/screen_shot_2016-08-30_at_8.34.12_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F26BEL5RC\/download\/screen_shot_2016-08-30_at_8.34.12_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F26BEL5RC-ab392e7ec6\/screen_shot_2016-08-30_at_8.34.12_am_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F26BEL5RC-ab392e7ec6\/screen_shot_2016-08-30_at_8.34.12_am_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F26BEL5RC-ab392e7ec6\/screen_shot_2016-08-30_at_8.34.12_am_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":130,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F26BEL5RC-ab392e7ec6\/screen_shot_2016-08-30_at_8.34.12_am_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":173,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F26BEL5RC-ab392e7ec6\/screen_shot_2016-08-30_at_8.34.12_am_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F26BEL5RC-ab392e7ec6\/screen_shot_2016-08-30_at_8.34.12_am_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":259,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F26BEL5RC-ab392e7ec6\/screen_shot_2016-08-30_at_8.34.12_am_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":346,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F26BEL5RC-ab392e7ec6\/screen_shot_2016-08-30_at_8.34.12_am_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":369,"image_exif_rotation":1,"original_w":1688,"original_h":608,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/cbf\/F26BEL5RC\/screen_shot_2016-08-30_at_8.34.12_am.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F26BEL5RC-3d8772af56","channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc26BN8CG5","created":1472560486,"timestamp":1472560486,"user":"U0KM61BCP","is_intro":true,"comment":"also, I note that Jira says that a plugin license has expired for git integration...","channel":""}},"user":"U0KM61BCP","upload":true,"display_as_bot":false,"username":"<@U0KM61BCP|cbf>","bot_id":null,"ts":"1472560489.000049"},{"type":"message","user":"U0KM61BCP","text":"<@U1BC5NF2S> can we fix that? ^^","ts":"1472560518.000050"},{"type":"message","user":"U0KM61BCP","text":"has the policy on Gerrit changed? There\u2019s a NACR column again. I thought that <@U0UHG4VP1> had implemented a 2+2 policy that changed the Gerrit UI","ts":"1472565212.000051"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP> I'll look into getting the plugin license fixed today. Just need to track down who's managing those. :slightly_smiling_face:","ts":"1472565248.000052","reactions":[{"name":"+1","users":["U0KM61BCP"],"count":1}]},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP> Looks like the NACR is still set on fabric-api: <https:\/\/gerrit.hyperledger.org\/r\/#\/q\/status:open+AND+NOT+project:fabric-api>","ts":"1472566190.000053"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> I noticed that fabric seems to have added NACR today","ts":"1472566211.000054"},{"type":"message","user":"U0KPFAZNF","text":"it wasnt there yesterday (or even this morning)","ts":"1472566220.000055"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF> yes, it wasn\u2019t there last night","ts":"1472566241.000056"},{"type":"message","user":"U0KPFAZNF","text":"as I 1+2 merged <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/773\/>","ts":"1472566246.000057"},{"type":"message","user":"U0KM61BCP","text":"not good","ts":"1472566281.000058"},{"type":"message","user":"U0KPFAZNF","text":"( though I am assuming the new NACR state would have prohibited that scenario, not sure what the rules are","ts":"1472566285.000059"},{"type":"message","user":"U0KPFAZNF","text":"(which, my merge, or the new rule?)","ts":"1472566297.000060"},{"type":"message","user":"U0KPFAZNF","text":"if I misstepped, I apologize","ts":"1472566304.000061"},{"type":"message","user":"U0KM61BCP","text":"the rules should be 2+2 neither are author","ts":"1472566314.000062"},{"type":"message","user":"U0KM61BCP","text":"the current policy is incorrect","ts":"1472566330.000063"},{"type":"message","user":"U0KPFAZNF","text":"ok, if I misstepped, I apologize","ts":"1472566335.000064"},{"type":"message","user":"U0KM61BCP","text":"you should not have seen a submit","ts":"1472566337.000065"},{"type":"message","user":"U0KM61BCP","text":"no worries","ts":"1472566340.000066"},{"type":"message","user":"U0KM61BCP","text":"we needed that","ts":"1472566344.000067"},{"type":"message","user":"U1BC5NF2S","text":"Ah, It looks like it is correctly set on the fabric project, but wasn't updated on fabric-api","ts":"1472566349.000068"},{"type":"message","user":"U0KM61BCP","text":"hmm","ts":"1472566365.000069"},{"type":"message","user":"U1AU8DRQR","text":"for fabric-api, 1 NACR is enough as there are only a few maintainers (2?)","ts":"1472566412.000070"},{"type":"message","user":"U1AU8DRQR","text":"and only a few commits","ts":"1472566433.000071"},{"type":"message","user":"U0KM61BCP","text":"blockchain-explorer may need that for a bit as well","ts":"1472566456.000072"},{"type":"message","user":"U0KM61BCP","text":"odd that the UI changed","ts":"1472566469.000073"},{"type":"message","user":"U1BC5NF2S","text":"The UI changed because <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/787\/> was submitted this morning","ts":"1472569047.000074"},{"type":"message","user":"U1BC5NF2S","text":"Before this morning there weren't any pending fabric-api changes :slightly_smiling_face:","ts":"1472569061.000075"},{"type":"message","user":"U0KPFAZNF","text":"ah, now I get it","ts":"1472569292.000076"},{"type":"message","user":"U0KPFAZNF","text":"i misinterpreted the UI change that NACR was enabled in fabric","ts":"1472569308.000077"},{"type":"message","user":"U1BC5NF2S","text":"Yeah, I think I see it slightly grayed out for all other commits on the first page.","edited":{"user":"U1BC5NF2S","ts":"1472569408.000000"},"ts":"1472569401.000078"},{"type":"message","user":"U0KPFAZNF","text":"yep, noticed that now","ts":"1472569411.000080"},{"type":"message","user":"U0KPFAZNF","text":"sorry for the noise","ts":"1472569413.000081"},{"type":"message","user":"U1BC5NF2S","text":"No worries!","ts":"1472569428.000082"},{"type":"message","user":"U0KPFAZNF","text":"likewise, if i filter out just \u201cfabric\u201d it looks like what I was expecting","ts":"1472569449.000083"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/q\/status:open+project:fabric>","ts":"1472569450.000084"},{"user":"U268EB76W","text":"<@U268EB76W|chainsaw> has joined the channel","type":"message","subtype":"channel_join","ts":"1472573505.000085"},{"type":"message","user":"U0KM61BCP","text":"this may have to wait until <@U0UHG4VP1> returns, but <@U10Q62R8X> was just telling me about the lack of builds for Z \u2026 I guess I hadn\u2019t realized we weren\u2019t doing them - thought we just took them off the validation gate","ts":"1472574692.000086"},{"type":"message","user":"U0KM61BCP","text":"<@U11HH3P7Y> do you know what the story is there?","ts":"1472574707.000087"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KPFAZNF> has to compile protobuf and create baseimage on zlinux. This PR has to migrate to gerrit.. <https:\/\/github.com\/hyperledger-archives\/fabric\/pull\/2228>","attachments":[{"service_name":"GitHub","title":"Use linux-on-ibm-z\/protobuf to allow compiling of protobuf on zLinux by s390xlinux \u00b7 Pull Request #2228 \u00b7 hyperledger-archives\/fabric \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger-archives\/fabric\/pull\/2228","text":"Description A patched version of protobuf that compiles on zLinux is hosted on github in the linux-on-ibm-z repo. images\/base\/scripts\/common\/setup.sh is modified to use it for building base image ...","fallback":"GitHub: Use linux-on-ibm-z\/protobuf to allow compiling of protobuf on zLinux by s390xlinux \u00b7 Pull Request #2228 \u00b7 hyperledger-archives\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/20214271?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger-archives\/fabric\/pull\/2228","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1472575080.000088"},{"type":"message","user":"U11HH3P7Y","text":"will ask gangus to migrate this patch to gerrit today..","ts":"1472575227.000090"},{"type":"message","user":"U0KM61BCP","text":"ok, I opened this to track<https:\/\/jira.hyperledger.org\/browse\/FAB-273>","ts":"1472580003.000091"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> IIUC, the patch has to be merged before the image rebuild?","ts":"1472582733.000092"},{"type":"message","user":"U0KPFAZNF","text":"(sorry, havent read the PR recently)","ts":"1472582740.000093"},{"type":"message","user":"U0KPFAZNF","text":"or does this just need me to respin it","ts":"1472582751.000094"},{"type":"message","user":"U11HH3P7Y","text":"yes <@U0KPFAZNF> It has to be merged.. Will check with gangus and let you know the update.","ts":"1472584397.000095"},{"type":"message","user":"U0KPFAZNF","text":"ty <@U11HH3P7Y>","ts":"1472586713.000096"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> regarding patches like <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/797\/>","ts":"1472593950.000097"},{"type":"message","user":"U0KPFAZNF","text":"is there any special processing for the [ci skip] tag once this gets merged?","ts":"1472593969.000098"},{"type":"message","user":"U0KPFAZNF","text":"I would be concerned with this impacting the git log after merge","ts":"1472593990.000099"},{"type":"message","user":"U0KPFAZNF","text":"so, if thats the case, my follow up question is: is there any other way to have [ci skip] like functionality that doesnt require the first line in the commit log?","ts":"1472594030.000100"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F26JHMNQ6\/_git_log____oneline____output.txt|\"git log \u2014oneline\u201d output> and commented: This is the scenario I am concerned with","file":{"id":"F26JHMNQ6","created":1472594183,"timestamp":1472594183,"name":"_git_log____oneline____output.txt","title":"\"git log \u2014oneline\u201d output","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0KPFAZNF","editable":true,"size":755,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F26JHMNQ6\/_git_log____oneline____output.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F26JHMNQ6\/download\/_git_log____oneline____output.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F26JHMNQ6\/_git_log____oneline____output.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F26JHMNQ6-ac2a5c8938","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F26JHMNQ6\/_git_log____oneline____output.txt\/edit","preview":"f7c328f [ci skip]\r\nfdaaff1 Merge \"Fix error report\"\r\n3509c18 Fix error report\r\n7c3a27d node-SDK: Change hfc getMember description\r\naf5f75d Revert \"Upgrade go protobuff from 3-beta to 3\"\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>f7c328f [ci skip]<\/pre><\/div>\n<div><pre>fdaaff1 Merge &quot;Fix error report&quot;<\/pre><\/div>\n<div><pre>3509c18 Fix error report<\/pre><\/div>\n<div><pre>7c3a27d node-SDK: Change hfc getMember description<\/pre><\/div>\n<div><pre>af5f75d Revert &quot;Upgrade go protobuff from 3-beta to 3&quot;<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":16,"lines_more":11,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc26H3E6N7","created":1472594183,"timestamp":1472594183,"user":"U0KPFAZNF","is_intro":true,"comment":"This is the scenario I am concerned with","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1472594183.000101"},{"type":"message","user":"U0KPFAZNF","text":"i have a good idea of what the other patches are, except f7c328f","ts":"1472594217.000102"},{"type":"message","user":"U0KPFAZNF","text":"id have to dig in deeper","ts":"1472594221.000103"},{"type":"message","user":"U11HH3P7Y","text":"we can give [ci skip] along with commit message.. but only [ci skip] is not correct.. as you mentioned it impacts git log","ts":"1472594252.000104"},{"type":"message","user":"U0KPFAZNF","text":"ok, that is certainly an improvement\u2026though it might be nice if the concept of disabling the CI check could be scoped purely to its lifecycle within the review system","edited":{"user":"U0KPFAZNF","ts":"1472594326.000000"},"ts":"1472594296.000105"},{"type":"message","user":"U0KPFAZNF","text":"or at least, as far out of the log path as possible (e.g. the last line, below the DCO)","ts":"1472594313.000106"},{"type":"message","user":"U0KPFAZNF","text":"once the patch passes review, the CI flag is meaningless, so would be nice to elide in the final merged patch","ts":"1472594351.000108"},{"type":"message","user":"U11HH3P7Y","text":"I will see for an option to restrict this from first line..","ts":"1472594442.000109"},{"type":"message","user":"U11HH3P7Y","text":"Also, we will disable ci-skip after merge.. that way jenkins tests every build though there is a ci skip in the commit message","ts":"1472594493.000110"},{"type":"message","user":"U0KPFAZNF","text":"<@U1BC5NF2S>, could you help updating the ACLs for <@U0ULK2JPP> as a maintainer on fabric?","ts":"1472646635.000111"},{"user":"U0ULK2JPP","inviter":"U0KPFAZNF","text":"<@U0ULK2JPP|muralisr> has joined the channel","type":"message","subtype":"channel_join","ts":"1472646667.000112"},{"type":"message","user":"U0KPFAZNF","text":"he was accepted yesterday as of <https:\/\/github.com\/hyperledger\/fabric\/commit\/9e3bfdeb664f066904a0dabad99355b00122d868>","ts":"1472646671.000113"},{"type":"message","user":"U1AU8DRQR","text":"what to do with this? 10:47:18 The following packages have unmet dependencies:","ts":"1472647195.000114"},{"type":"message","user":"U0KPFAZNF","text":"investigating now","ts":"1472650546.000115"},{"type":"message","user":"U0KPFAZNF","text":"not sure what is wrong, smells like a problem with trusty","ts":"1472650567.000116"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> this is the file I was talking about :<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/images\/base\/release>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/images\/base\/release","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/images\/base\/release","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1472651203.000117"},{"type":"message","user":"U0KPFAZNF","text":"everything triggers off of that","ts":"1472651208.000119"},{"type":"message","user":"U0KM61BCP","text":"yes","ts":"1472651226.000120"},{"type":"message","user":"U0KPFAZNF","text":"we could expand on that concept","ts":"1472651227.000121"},{"type":"message","user":"U0KM61BCP","text":"agreed","ts":"1472651231.000122"},{"type":"message","user":"U0KPFAZNF","text":"wife is calling me to breakfast, bbiab","ts":"1472651249.000123"},{"type":"message","user":"U0KM61BCP","text":"ok","ts":"1472651255.000124"},{"type":"message","user":"U0KM61BCP","text":"wish there were a tag for all maintainers like there was on GH","ts":"1472651283.000125"},{"type":"message","user":"U0KM61BCP","text":"<@U0KN2SSKE> <@U0TFEHX8E> <@U11MANG9G> <@U1AU8DRQR> <@U0MT4CBHB> <@U0XR6J961> <@U0ULK2JPP> <@U0PB67X4K> - <@U0KPFAZNF> and I were just discussing (lamenting) the state of the build and some of the patches that are looking to simplify and shorten the build. We started talking about <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/721\/> which was attempting to eliminate unnecessary builds of the base image every time we build. We had previously discussed pulling out the build for the various base images into a separate repository and then controlling the specific version by referencing a specific tag in the fabric (and other) builds where we are explicitly calling out a bump of a version tag to push, and we are pulling a previously explicitly tagged version from atlas or dockerhub.","ts":"1472652053.000126"},{"user":"U0MT4CBHB","inviter":"U0KM61BCP","text":"<@U0MT4CBHB|tamas> has joined the channel","type":"message","subtype":"channel_join","ts":"1472652063.000127"},{"user":"U0XR6J961","inviter":"U0KM61BCP","text":"<@U0XR6J961|simon> has joined the channel","type":"message","subtype":"channel_join","ts":"1472652063.000128"},{"user":"U0PB67X4K","inviter":"U0KM61BCP","text":"<@U0PB67X4K|garisingh> has joined the channel","type":"message","subtype":"channel_join","ts":"1472652063.000129"},{"type":"message","user":"U0KM61BCP","text":"I like this approach as it is cleaner, and we can simplify and reduce the time to build","ts":"1472652104.000130"},{"type":"message","user":"U0KM61BCP","text":"I would propose we pull out images\/base into its own repository with the same set of maintainers","ts":"1472652193.000131"},{"type":"message","user":"U0KM61BCP","text":"and we adapt its build pipeline to include an explicit change required to push a version that is governed under 2+2 merge policy","ts":"1472652243.000132"},{"type":"message","user":"U1AU8DRQR","text":"so this would mean having the docker image related things in that other repo, right?","ts":"1472652277.000133"},{"type":"message","user":"U0KPFAZNF","text":"to be clear, this is only currently w.r.t. the baseimage for docker and vagrant","ts":"1472652299.000134"},{"type":"message","user":"U0KPFAZNF","text":"i envision things like the fabric-peer image will remain in fabric.git, and simply reference the base image via tag\/version","ts":"1472652323.000135"},{"type":"message","user":"U0KM61BCP","text":"<@U1BC5NF2S> could you please add <@U26GK3L6L> as a maintainer for blockchain-explorer, please? he was supposed to be one of the original three maintainers","ts":"1472652335.000136"},{"type":"message","user":"U0KPFAZNF","text":"(though I am open to other ideas on the matter, thats just how Ive been thinking of things)","edited":{"user":"U0KPFAZNF","ts":"1472652367.000000"},"ts":"1472652353.000137"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF> right - I was explicitly referring to the vagrant image and the docker base image","ts":"1472652378.000139"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP>, sorry, that was in response to <@U1AU8DRQR>","ts":"1472652405.000140"},{"type":"message","user":"U0KM61BCP","text":"ah yep","ts":"1472652424.000141"},{"type":"message","user":"U1AU8DRQR","text":"not a bad idea","ts":"1472652488.000142"},{"type":"message","user":"U0KM61BCP","text":"<@U11HH3P7Y> <@U1BC5NF2S> we seem to be picking up a broken ubuntu image (missing jdk etc)","ts":"1472653535.000143"},{"type":"message","user":"U0KPFAZNF","text":"yeah, I am currently thinking its something about the CI environment","ts":"1472653562.000144"},{"type":"message","user":"U0KPFAZNF","text":"everything seems to build when I do it locally","ts":"1472653568.000145"},{"type":"message","user":"U0KPFAZNF","text":"is there some kind of proxy or apt-cache within the LF infrastructure?","ts":"1472653586.000146"},{"type":"message","user":"U11HH3P7Y","text":"Intermittently we are getting  `missing JDK issue` .. <@U1BC5NF2S> can help on this..","ts":"1472653696.000147"},{"type":"message","user":"U0KPFAZNF","text":"I just noticed this","ts":"1472656137.000148"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric\/commit\/d6d9d28d6fd2df26204ac34e4fd4625844e79fc5>","attachments":[{"service_name":"GitHub","title":"Change APT to use mirror protocol \u00b7 hyperledger\/fabric@d6d9d28 \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/fabric\/commit\/d6d9d28d6fd2df26204ac34e4fd4625844e79fc5","text":"As part of the setup script, set APT to use the mirror protocol so that no matter where you are in the world, the closest mirror to you will be chosen. If you don't reside in the US it can be slow ...","fallback":"GitHub: Change APT to use mirror protocol \u00b7 hyperledger\/fabric@d6d9d28","thumb_url":"https:\/\/avatars0.githubusercontent.com\/u\/20233917?v=3&s=200","from_url":"https:\/\/github.com\/hyperledger\/fabric\/commit\/d6d9d28d6fd2df26204ac34e4fd4625844e79fc5","thumb_width":420,"thumb_height":420,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1472656138.000149"},{"type":"message","user":"U0KPFAZNF","text":"the problems we have been seeing do seem to be mirror sensitive, i wonder if this is part of the problem","ts":"1472656157.000151"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> can you try reverting that commit and see what happens?","ts":"1472656173.000152"},{"type":"message","user":"U0KPFAZNF","text":"that only went in 9 days ago, which is about the time the mirror issues started","ts":"1472656198.000153"},{"type":"message","user":"U0KPFAZNF","text":"actually ill submit a PR, hold on","ts":"1472656230.000154"},{"type":"message","user":"U0KPFAZNF","text":"that will go through the normal process","ts":"1472656234.000155"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/817\/>","ts":"1472656441.000156"},{"type":"message","user":"U11HH3P7Y","text":"ok","ts":"1472656567.000157"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> <@U1BC5NF2S> seems <http:\/\/jenkins.hyperledger.org|jenkins.hyperledger.org> lost its DNS entry","ts":"1472663719.000158"},{"type":"message","user":"U0KPFAZNF","text":"(or I am having DNS problems in general)","ts":"1472663730.000159"},{"type":"message","user":"U0KPFAZNF","text":"not sure which, but other things seem ok","ts":"1472663736.000160"},{"type":"message","user":"U1BLNM9DE","text":"ghaskins: our core network nail-up has disappeared for some reason (our core admins are looking into it) unfortunately it's caused all of our DNS servers to drop offline","ts":"1472663787.000161"},{"type":"message","user":"U0KPFAZNF","text":"ah, that explains it","ts":"1472663797.000162"},{"type":"message","user":"U0KPFAZNF","text":"seems like an opportunity to eat lunch though\u2026bbiab","ts":"1472663842.000163"},{"type":"message","user":"U0KM61BCP","text":"<@U1BC5NF2S> seems like either gerrit or nginx is down","ts":"1472664774.000164"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP> See tykea.l's comment. Our DNS is down.  :disappointed:","ts":"1472664808.000165"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP> <@U0KPFAZNF> All services should be back online","ts":"1472667735.000166"},{"type":"message","user":"U0KPFAZNF","text":"cool thanks <@U1BC5NF2S>","ts":"1472668444.000167"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> did you see my note regarding docker 1.11 and 1.12 vs \u201capt-get update -qq\"","ts":"1472668565.000168"},{"type":"message","user":"U11HH3P7Y","text":"yes I have to test in one of my non-vagrant machine..","ts":"1472668607.000169"},{"type":"message","user":"U0KPFAZNF","text":"cool","ts":"1472668611.000170"},{"type":"message","user":"U11HH3P7Y","text":"Will tests that and let you know the update..","ts":"1472668617.000171"},{"type":"message","user":"U0KPFAZNF","text":"ty","ts":"1472668620.000172"},{"type":"message","subtype":"file_share","text":"<@U11HH3P7Y|ramesh> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ramesh\/F270FV9J6\/capture_480.png|capture_480.png> and commented: I have added new target as mentioned above..","file":{"id":"F270FV9J6","created":1472668767,"timestamp":1472668767,"name":"capture_480.png","title":"capture_480.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U11HH3P7Y","editable":false,"size":26469,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F270FV9J6\/capture_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F270FV9J6\/download\/capture_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F270FV9J6-e8e8979140\/capture_480_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F270FV9J6-e8e8979140\/capture_480_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F270FV9J6-e8e8979140\/capture_480_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":95,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F270FV9J6-e8e8979140\/capture_480_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","image_exif_rotation":1,"original_w":478,"original_h":126,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ramesh\/F270FV9J6\/capture_480.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F270FV9J6-b470c09a2f","channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc2709J525","created":1472668767,"timestamp":1472668767,"user":"U11HH3P7Y","is_intro":true,"comment":"I have added new target as mentioned above..","channel":""}},"user":"U11HH3P7Y","upload":true,"display_as_bot":false,"username":"<@U11HH3P7Y|ramesh>","bot_id":null,"ts":"1472668768.000173"},{"type":"message","user":"U11HH3P7Y","text":"hash value in chaincode_example04.go is changing after running node-sdk-unit-tests.. in result, TestChaincodeInvokeChaincode unit-test case is failing..","ts":"1472668964.000174"},{"type":"message","user":"U11HH3P7Y","text":"will run `make unit-tests` from jenkins CI..","ts":"1472668988.000175"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> was that addressed to me?","ts":"1472669373.000176"},{"type":"message","user":"U0KPFAZNF","text":"i dont understand the context","ts":"1472669384.000177"},{"type":"message","user":"U11HH3P7Y","text":"Sorry.. Please see this.. <https:\/\/jira.hyperledger.org\/browse\/FAB-287>","ts":"1472669559.000178"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP> <@U0KPFAZNF> Is there a process in place for committer\/maintainer promotions (voting, charter, etc)? Just want to make sure I'm following the right process.","ts":"1472671120.000179"},{"type":"message","user":"U0KPFAZNF","text":"im sure its written down somewhere, but I dont know where\u2026but the policy as I understand it is someone makes a PR to the maintainer.txt file and if a majority of the existing maintainers accept it, it is merged","ts":"1472671200.000180"},{"type":"message","user":"U0KPFAZNF","text":"at least for fabric","ts":"1472671207.000181"},{"type":"message","user":"U0KPFAZNF","text":"not sure about all the other repos","ts":"1472671211.000182"},{"type":"message","user":"U0KPFAZNF","text":"we just did this one yesterday","ts":"1472671242.000183"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/791\/>","ts":"1472671243.000184"},{"type":"message","user":"U0KPFAZNF","text":"of course, the real change is the one that is made on the LF backend that grants additional rights","ts":"1472671301.000185"},{"type":"message","user":"U1BC5NF2S","text":"ghaskins: I like it.","ts":"1472671337.000186"},{"type":"message","user":"U1BC5NF2S","text":"ghaskins: Having a set maintainer file syntax and process means we could, in the future, automate the process a bit (send a notification, etc).","edited":{"user":"U1BC5NF2S","ts":"1472671381.000000"},"ts":"1472671377.000187"},{"type":"message","user":"U0KPFAZNF","text":"<http:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/CONTRIBUTING\/#coding-guidelines>","ts":"1472671411.000189"},{"type":"message","user":"U0KPFAZNF","text":"looks like its from an existing maintainer","ts":"1472671417.000190"},{"type":"message","user":"U0KPFAZNF","text":"yes, that is a cool idea","ts":"1472671435.000191"},{"type":"message","user":"U0KPFAZNF","text":"especially if the rules can be customized","ts":"1472671460.000192"},{"type":"message","user":"U0KPFAZNF","text":"e.g. normal commits need 2+2, but a change to maintainer.txt needs 50%+2","ts":"1472671475.000193"},{"type":"message","user":"U0KPFAZNF","text":"er, 51%, heh","ts":"1472671489.000194"},{"type":"message","user":"U1BLNM9DE","text":"can't customize the required votes for specific files","ts":"1472671518.000195"},{"type":"message","user":"U0KPFAZNF","text":"bummer","ts":"1472671527.000196"},{"type":"message","user":"U1BC5NF2S","text":"Yeah that would be...painful","ts":"1472671532.000197"},{"type":"message","user":"U0KPFAZNF","text":"just throw this out there: its kind of blockchainy\u2026there could be a CI process that requires &gt; 51% PGP signatures or something","ts":"1472671594.000198"},{"type":"message","user":"U0KPFAZNF","text":"or, KISS, let an LF admin do it manually, heh","ts":"1472671612.000199"},{"type":"message","user":"U0KPFAZNF","text":"not like it happens too often","ts":"1472671616.000200"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KPFAZNF>, <@U0KM61BCP> CC'd you an on email on how this can be done next time so we have a paper trail.","ts":"1472671911.000201"},{"type":"message","user":"U1BC5NF2S","text":"KISS is always a good principle. :wink:","ts":"1472671928.000202"},{"type":"message","user":"U0KPFAZNF","text":"yeah","ts":"1472671977.000203"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KM61BCP> <@U26GK3L6L> Should have maintainer rights on blockchain-explorer","ts":"1472672172.000204"},{"type":"message","user":"U0KM61BCP","text":"<@U1BC5NF2S> I like the idea of automating","ts":"1472673034.000205"},{"type":"message","user":"U0KM61BCP","text":"thanks","ts":"1472673044.000206"},{"type":"message","user":"U0KM61BCP","text":"btw, <@U1BC5NF2S> we need to cut a release branch from master fabric","ts":"1472673125.000207"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF> ideally we would try to merge what we can before we cut","ts":"1472673142.000208","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0KM61BCP","text":"minimize the extra effort to have people push another commit to the branch","ts":"1472673173.000209"},{"type":"message","user":"U0KM61BCP","text":"we should name the branch v0.6-developer-preview","ts":"1472673218.000210"},{"type":"message","user":"U0KM61BCP","text":"and we\u2019ll want to mirror the jenkins pipeline for the release branch <@U11HH3P7Y>","ts":"1472673342.000211"},{"type":"message","user":"U0YQQRNU8","text":"<@U0KM61BCP> - might want to avoid the regex character '.' in your branch name. I remember it causing issues in obscure places (jenkins, IIRC) in the past.","ts":"1472677109.000212"},{"type":"message","user":"U0YQQRNU8","text":"wasn't jenkins specific per-se, was something to do with git ref matching","edited":{"user":"U0YQQRNU8","ts":"1472677223.000000"},"ts":"1472677214.000213"},{"type":"message","user":"U0KM61BCP","text":"hmmm, we used that previously <https:\/\/github.com\/hyperledger-archives\/fabric\/tree\/v0.5-developer-preview>","attachments":[{"service_name":"GitHub","title":"hyperledger-archives\/fabric","title_link":"https:\/\/github.com\/hyperledger-archives\/fabric\/tree\/v0.5-developer-preview","text":"THIS IS A READ-ONLY historic repository. Current development is at <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric> . pull requests not accepted","fallback":"GitHub: hyperledger-archives\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/20729145?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger-archives\/fabric\/tree\/v0.5-developer-preview","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1472679067.000215"},{"type":"message","user":"U0KM61BCP","text":"k8s and docker use something similar","ts":"1472679255.000217"},{"type":"message","user":"U0KM61BCP","text":"thanks for the h\/u though","ts":"1472679284.000218"},{"type":"message","user":"U0KPFAZNF","text":"I can't comment on the regex problem, but I would suggest something like v0.6.x for the branch name to allow for 0.6.1, etc","ts":"1472679781.000219"},{"type":"message","user":"U0KPFAZNF","text":"If the dots are a problem, perhaps v0_6_x","ts":"1472679815.000220"},{"type":"message","user":"U0YQQRNU8","text":"for sawtooth, we are using X-Y (0-6) for branch name and vX.Y.Z (v0.6.0) for tags. seemed close to the OSS projects I saw (mostly looked at gnome)","ts":"1472680257.000221"},{"type":"message","user":"U0KM61BCP","text":"<https:\/\/docs.google.com\/document\/d\/19hZBOj4QklSJa2Fj3kHEwx1_R1T1rdRTXBseF6mzCN0\/edit?usp=sharing>","ts":"1472680374.000222"},{"type":"message","user":"U0YQQRNU8","text":"some of those projects use _ in tags and - in branches","ts":"1472680386.000223"},{"type":"message","user":"U0KM61BCP","text":"this is the version naming taxonomy proposal uses semver","ts":"1472680389.000224"},{"type":"message","user":"U0YQQRNU8","text":"<@U0KM61BCP> - I'm not seeing much utility in appending the -developer-preview, and only -alpha, -beta, -rcN before major releases (like, 1.0 presumably  you would want some rc versions)","ts":"1472680635.000225"},{"type":"message","user":"U0YQQRNU8","text":"(I'm thinking of deb, rpm, pypi versions here - not necessarily how the branch is categorized)","ts":"1472680738.000226"},{"type":"message","user":"U0KM61BCP","text":"fair enough","ts":"1472680763.000227"},{"type":"message","user":"U0KM61BCP","text":"the developer preview could be web only, I suppose","ts":"1472680775.000228"},{"type":"message","user":"U0KM61BCP","text":"we definitely don\u2019t want to lead people on","ts":"1472680792.000229"},{"type":"message","user":"U0YQQRNU8","text":"this is what our core deb file looks like: python-sawtooth-core_0.7.1-git41.g4ab31e2-1_amd64.deb","ts":"1472680820.000230"},{"type":"message","user":"U0YQQRNU8","text":"git41 == 41 commits since the v0.7.0 tag","ts":"1472680867.000231"},{"type":"message","user":"U0YQQRNU8","text":"g4ab31e2 == 4ab31e2 commit hash","ts":"1472680879.000232"},{"type":"message","user":"U0YQQRNU8","text":"the intent is that this version number is prior to 0.7.1 (so the same as alpha\/beta\/rc as far as sorting)","ts":"1472680904.000233"},{"type":"message","user":"U0YQQRNU8","text":"when we build a tagged version, it would just be \"0.7.1\"","ts":"1472680922.000234"},{"type":"message","user":"U0YQQRNU8","text":"in theory, this will allow us to output deb\/rpm\/whatever from jenkins into a repo and have the update process for the target package manager work seemlessly","ts":"1472681017.000235"},{"type":"message","user":"U12V3D2P2","text":"<@U1BC5NF2S> , we need to include Power node into the community CI, could you please let me know the process for this? <@U11HH3P7Y> already created a patch in ci-management for this.","ts":"1472736974.000236"},{"type":"message","user":"U11HH3P7Y","text":"<@U12V3D2P2> : I haven't pushed that to ci-management.. Will do that in 1 hour..","ts":"1472737010.000237"},{"type":"message","user":"U12V3D2P2","text":"Thanks <@U11HH3P7Y>","ts":"1472737023.000238"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KPFAZNF>: I am able to proceed further from common.sh on dockerv1.12 ... I observed this in one of the softlayer machine","ts":"1472751478.000239"},{"type":"message","user":"U11HH3P7Y","text":"I am not sure why this is not working in LF jenkins environment..","ts":"1472751507.000240"},{"type":"message","subtype":"file_share","text":"<@U11HH3P7Y|ramesh> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ramesh\/F27CF5M5W\/docker_v1.12|docker v1.12>","file":{"id":"F27CF5M5W","created":1472751550,"timestamp":1472751550,"name":"docker v1.12","title":"docker v1.12","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U11HH3P7Y","editable":true,"size":18193,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F27CF5M5W\/docker_v1.12?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F27CF5M5W\/download\/docker_v1.12?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ramesh\/F27CF5M5W\/docker_v1.12","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F27CF5M5W-edeb468c5e","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ramesh\/F27CF5M5W\/docker_v1.12\/edit","preview":"go version go1.6 linux\/amd64\r\n+ gcc --version\r\ngcc (Ubuntu 4.8.5-2ubuntu1~14.04.1) 4.8.5\r\nCopyright (C) 2015 Free Software Foundation, Inc.\r\nThis is free software; see the source for copying conditions.  There is NO\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>go version go1.6 linux\/amd64<\/pre><\/div>\n<div><pre>+ gcc --version<\/pre><\/div>\n<div><pre>gcc (Ubuntu 4.8.5-2ubuntu1~14.04.1) 4.8.5<\/pre><\/div>\n<div><pre>Copyright (C) 2015 Free Software Foundation, Inc.<\/pre><\/div>\n<div><pre>This is free software; see the source for copying conditions.  There is NO<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":324,"lines_more":319,"preview_is_truncated":true,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U11HH3P7Y","upload":true,"display_as_bot":false,"username":"<@U11HH3P7Y|ramesh>","bot_id":null,"ts":"1472751551.000241"},{"type":"message","user":"U11HH3P7Y","text":"<@U1BC5NF2S> :  Builds are failing with error ```00:03:51.344 The following packages have unmet dependencies:\n00:03:51.344  default-jre : Depends: default-jre-headless (= 2:1.7-51) but it is not going to be installed\n00:03:51.344                Depends: openjdk-7-jre (&gt;= 7~u3-2.1.1) but it is not going to be installed```","ts":"1472751951.000242"},{"type":"message","user":"U11HH3P7Y","text":"can you please check this <https:\/\/jenkins.hyperledger.org\/view\/fabric\/job\/fabric-merge-x86_64\/123\/console>","ts":"1472751972.000243"},{"type":"message","user":"U1BC5NF2S","text":"<@U11HH3P7Y> What's the issue with docker 1.12?","ts":"1472752018.000244"},{"type":"message","user":"U1BC5NF2S","text":"I'll look into the JDK issue as well","ts":"1472752061.000245"},{"type":"message","user":"U11HH3P7Y","text":"builds are not proceeding further while updating ubuntu pakages from here <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/scripts\/provision\/common.sh> on docker v1.12 version..","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/scripts\/provision\/common.sh","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/scripts\/provision\/common.sh","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1472752132.000246"},{"type":"message","user":"U11HH3P7Y","text":"last week <@U0UHG4VP1> upgraded docker version in Jenkins to v1.12 to fix couple of behave test failures but we encountered with this one..","ts":"1472752271.000248"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> i speculate that the jre-headless thing might be improved with <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/817\/>","ts":"1472752448.000249"},{"type":"message","user":"U0KPFAZNF","text":"can you confirm?","ts":"1472752453.000250"},{"type":"message","user":"U11HH3P7Y","text":"yes this might fix that issue but to confirm this issue is not reproducing here..","ts":"1472752566.000251"},{"type":"message","user":"U11HH3P7Y","text":"Will check in another machine and let you know..","ts":"1472752585.000252"},{"type":"message","user":"U1BC5NF2S","text":"Huh,  okay, so this is not an issue with the build servers","ts":"1472752670.000253"},{"type":"message","user":"U0KPFAZNF","text":"<@U1BC5NF2S>: the JRE-headless error?  I'm not sure what's causing it yet, but there is anecdotal evidence that some mirrors are flaky","ts":"1472755221.000254"},{"type":"message","user":"U0KPFAZNF","text":"We never had that problem before so I speculate the mirror config might be the reason ","ts":"1472755251.000255"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF> I merged that revert didn\u2019t I?","ts":"1472756699.000256"},{"type":"message","user":"U0KPFAZNF","text":"i thought so, but it was to master","ts":"1472757208.000257"},{"type":"message","user":"U0KPFAZNF","text":"sorry, i was on mobile so I couldnt confirm where ramesh was seeing that","ts":"1472757227.000258"},{"type":"message","user":"U0KPFAZNF","text":"I should have said \u201cconfirm if it happens after the merge\"","edited":{"user":"U0KPFAZNF","ts":"1472757264.000000"},"ts":"1472757243.000259"},{"type":"message","user":"U11HH3P7Y","text":"I see the patch is merged.. but I am seeing JDK and ubuntu package update (on dockerv1.12.0) issues only in Jenkins build machines..","ts":"1472757492.000261"},{"type":"message","user":"U11HH3P7Y","text":"<@U1BC5NF2S> : Could you please merge this <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/833\/> to verify node-sdk-unit-tests..","ts":"1472757849.000262"},{"type":"message","user":"U1BC5NF2S","text":"<@U11HH3P7Y> Merged :slightly_smiling_face:","ts":"1472757900.000263"},{"type":"message","user":"U11HH3P7Y","text":"Thank you..","ts":"1472757907.000264"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> ah, interesting","ts":"1472757922.000265"},{"type":"message","user":"U0KPFAZNF","text":"maybe it is a CI specific problem then","ts":"1472757928.000266"},{"text":"added an integration to this channel: <https:\/\/hyperledgerproject.slack.com\/services\/B27E40VB8|incoming-webhook>","bot_id":"B27E40VB8","type":"message","subtype":"bot_add","user":"U1BC5NF2S","ts":"1472759373.000267"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> i think there is a problem with coupling to \u201cmake unit-tests\"","ts":"1472759408.000268"},{"type":"message","user":"U0KPFAZNF","text":"just saw this: <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/823\/console>","ts":"1472759425.000269"},{"type":"message","user":"U11HH3P7Y","text":"yes about to ping you..","ts":"1472759435.000270"},{"type":"message","user":"U0KPFAZNF","text":"i assume something was merged to the ci-tree that assumes \u201cunit-tests\u201d is a universal target?","ts":"1472759457.000271"},{"type":"message","user":"U11HH3P7Y","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/673\/> -- this patch has to update in all other branches","ts":"1472759467.000272"},{"type":"message","user":"U0KPFAZNF","text":"that decoupling seems a bit dangerous to me","ts":"1472759519.000273"},{"type":"message","user":"U0KPFAZNF","text":"i can rebase that patch though","ts":"1472759532.000274"},{"type":"message","user":"U11HH3P7Y","text":"Otherwise Will do this <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/859\/>","ts":"1472759679.000275"},{"type":"message","user":"U11HH3P7Y","text":"It's better to rebase that in all the branches..","ts":"1472759746.000276"},{"type":"message","user":"U0KPFAZNF","text":"ok, done","ts":"1472759876.000277"},{"type":"message","user":"U0KPFAZNF","text":"(at least for 807","ts":"1472759880.000278"},{"type":"message","user":"U0KPFAZNF","text":"will need to re-evaluate my other patches","ts":"1472759887.000279"},{"type":"message","user":"U11HH3P7Y","text":"yes Thank you","ts":"1472759911.000280"},{"text":"Christopher Ferris proposed\n&gt;&gt;&gt;fabric (master): Revert 721- Prevent Jenkins build from cleaning baseimage (<http:\/\/gerrit.hyperledger.org\/r\/831>)","username":"hyperledger-gerrit","bot_id":"B27E40VB8","type":"message","subtype":"bot_message","ts":"1472760813.000281"},{"text":"Trevor Bramwell proposed\n&gt;&gt;&gt;ci-management (master): [DO NOT MERGE]  Test Slack Integration (<http:\/\/gerrit.hyperledger.org\/r\/865>)","username":"hyperledger-gerrit","bot_id":"B27E40VB8","type":"message","subtype":"bot_message","ts":"1472760842.000282"},{"type":"message","user":"U1BC5NF2S","text":"Hey, look at that it works!","ts":"1472760851.000283"},{"type":"message","user":"U1BC5NF2S","text":"This will probably need to be configured per-project.","ts":"1472760887.000284"},{"type":"message","user":"U1BC5NF2S","text":"fabric changes go to <#C0Y4PEU22|fabric>, etc.","ts":"1472760897.000285"},{"type":"message","user":"U1BC5NF2S","text":"And ci-management changes go here","ts":"1472760914.000286"},{"text":"Christopher Ferris commented\n&gt;&gt;&gt;fabric (v0.6): Patch Set 1:\n\n&gt; Build Failed\n &gt; \n &gt; <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/822\/> :\n &gt; FAILURE\n\nreverify (<http:\/\/gerrit.hyperledger.org\/r\/855>)","username":"hyperledger-gerrit","bot_id":"B27E40VB8","type":"message","subtype":"bot_message","ts":"1472760915.000287"},{"text":"Christopher Ferris commented\n&gt;&gt;&gt;fabric (v0.6): Patch Set 1: Code-Review+2\n\nLGTM (<http:\/\/gerrit.hyperledger.org\/r\/855>)","username":"hyperledger-gerrit","bot_id":"B27E40VB8","type":"message","subtype":"bot_message","ts":"1472760927.000288"},{"type":"message","user":"U1BC5NF2S","text":"...and we'll want to turn off comments. :wink:","ts":"1472760929.000289"},{"type":"message","user":"U1BC5NF2S","text":"Sorry for the noise!","ts":"1472760937.000290"},{"type":"message","user":"U11HH3P7Y","text":"ok where is the configuration file?","ts":"1472760950.000291"},{"type":"message","user":"U11HH3P7Y","text":"oh these webhooks are related to gerrit and Slack correct?","ts":"1472760979.000292"},{"type":"message","user":"U1BC5NF2S","text":"<@U11HH3P7Y> Currently in `All-Projects:refs\/meta\/config`","ts":"1472760980.000293"},{"text":"Hyperledger Jobbuilder commented\n&gt;&gt;&gt;fabric (master): Patch Set 2:\n\nBuild Started <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/828\/> (<http:\/\/gerrit.hyperledger.org\/r\/831>)","username":"hyperledger-gerrit","bot_id":"B27E40VB8","type":"message","subtype":"bot_message","ts":"1472760984.000294","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U1BC5NF2S","text":"Yes.","ts":"1472760984.000295"},{"text":"disabled an integration in this channel: <https:\/\/hyperledgerproject.slack.com\/services\/B27E40VB8|hyperledger-gerrit>","bot_id":"B27E40VB8","type":"message","subtype":"bot_disable","user":"U1BC5NF2S","ts":"1472760999.000296"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KM61BCP> <@U0KPFAZNF> <@U0ULK2JPP>  have to incorporate changes in node-sdk patch (<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/673\/>) in all other branches and existing open patches needs rebase..","ts":"1472762351.000297"},{"type":"message","user":"U1BC5NF2S","text":"I'll pick up the slack integration stuff tomorrow, have to put out some fires. :slightly_smiling_face:","ts":"1472762453.000298"},{"type":"message","user":"U11HH3P7Y","text":"ok thank you..","ts":"1472762501.000299"},{"type":"message","user":"U0KM61BCP","text":"<@U1BC5NF2S> we had <#C11SL9YDV|fabric-ci-status> for previous slack integration for fabric","ts":"1472762572.000300"},{"type":"message","user":"U1BC5NF2S","text":"Oh, right! I'll use that channel then.","ts":"1472762638.000301"},{"type":"message","user":"U0KM61BCP","text":"thx","ts":"1472762687.000302"},{"type":"message","user":"U11HH3P7Y","text":"First complete build with all three tests (unit-tests, node-sdk and Behave) <https:\/\/jenkins.hyperledger.org\/job\/fabric-merge-x86_64\/125\/>","ts":"1472763997.000303","reactions":[{"name":"+1","users":["U0KM61BCP"],"count":1}]},{"type":"message","user":"U0KM61BCP","text":"now, if we could get past these unstable builds","ts":"1472770535.000304"},{"type":"message","user":"U0KM61BCP","text":"the build is pissing me off","ts":"1472773186.000305"},{"type":"message","user":"U0KM61BCP","text":"we really need <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/859\/1> merged ASAP","ts":"1472773283.000306"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KM61BCP> <@U0KPFAZNF> we have to revert <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/833\/> this patch to make this work","ts":"1472785128.000307"},{"type":"message","user":"U11HH3P7Y","text":"or we have to merge <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/869\/> &amp; <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/871\/> these two patches in v0.6 &amp; feature\/convergence branches","ts":"1472785553.000308"},{"type":"message","user":"U1AU8DRQR","text":"CI is seriously unstable","ts":"1472803270.000309"},{"type":"message","user":"U1AU8DRQR","text":"what can we do with it? one has to reverify a commit million times","ts":"1472803289.000310"},{"type":"message","user":"U1AU8DRQR","text":"on the other hand, is there anyone who can retrigger this for me? <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/820\/console>","ts":"1472803399.000311"},{"type":"message","user":"U1LES78TT","text":"<@U1AU8DRQR> if you're getting `make: *** No rule to make target unit-tests.  Stop.` errors then you need to merge in the latest Makefile changes","ts":"1472804478.000312"},{"type":"message","user":"U1AU8DRQR","text":"isnt that merged on master?","ts":"1472804502.000313"},{"type":"message","user":"U1LES78TT","text":"yeah it's been merged into master, might not be in your branch though","ts":"1472804531.000314"},{"type":"message","user":"U1LES78TT","text":"I had to do a `git pull` and update my branch before Jenkins would start","ts":"1472804577.000315"},{"user":"U1FEUAG9E","text":"<@U1FEUAG9E|harsha544> has joined the channel","type":"message","subtype":"channel_join","ts":"1472812609.000316"},{"type":"message","user":"U11HH3P7Y","text":"<@U1BC5NF2S> : could you please merge this patch <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/859\/>","edited":{"user":"U11HH3P7Y","ts":"1472823718.000000"},"ts":"1472823680.000317"},{"type":"message","user":"U11HH3P7Y","text":"We will re-enable this patch, after merge node-sdk changes in `convergence` and `v0.6` branches.","ts":"1472823986.000319"},{"type":"message","user":"U11HH3P7Y","text":"thanks <@U1BC5NF2S>.","ts":"1472832615.000320","reactions":[{"name":"+1","users":["U1AU8DRQR"],"count":1}]},{"type":"message","user":"U11HH3P7Y","text":"<@U0KM61BCP> <@U0KPFAZNF> <@U1AU8DRQR> : we have reverted node-sdk patch from CI.. Now, jenkins is running only go unit-tests in all branches..","ts":"1472837462.000321"},{"type":"message","user":"U11HH3P7Y","text":"once `node-sdk` issues\/patch-sets fixed\/merged in all branches, we will re-enable this patch.","ts":"1472837535.000322"},{"type":"message","user":"U1AU8DRQR","text":"We can I do to help in fixing? ","ts":"1472837633.000323"},{"type":"message","user":"U11HH3P7Y","text":"ok sure..  you have given fix to function declaration error..","ts":"1472837841.000324"},{"type":"message","user":"U11HH3P7Y","text":"I am reproducing another issues observed in `convergence` branch.. please see error @ 01:03:05.026 in <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/857\/console>","ts":"1472837882.000325"},{"text":"removed an integration from this channel: <https:\/\/hyperledgerproject.slack.com\/services\/B27E40VB8|hyperledger-gerrit>","bot_id":"B27E40VB8","type":"message","subtype":"bot_remove","user":"U1BC5NF2S","ts":"1472856189.000326"},{"type":"message","user":"U0PB67X4K","text":"positing here as I forgot about this channel","attachments":[{"fallback":"[September 3rd, 2016 9:48 AM] garisingh: so not sure what's exactly what's going on here, but looks like CI is broken due to some confusion between branches","ts":"1472910480.000208","author_subname":"garisingh","channel_id":"C0YPYBVJM","channel_name":"fabric-dev","is_msg_unfurl":true,"text":"so not sure what's exactly what's going on here, but looks like CI is broken due to some confusion between branches","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/garisingh","author_icon":"https:\/\/secure.gravatar.com\/avatar\/80cf890a6180fc256afbff3e251490b1.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-48.png","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev\/p1472910480000208","is_share":true,"footer":"Posted in #fabric-dev"}],"ts":"1472910892.000327"},{"type":"message","user":"U0PB67X4K","text":"okay - I think I figured it out - the use of <https:\/\/github.com\/hyperledger\/fabric-test-resources> is screwing us on the master branch as the example01 uses the new shim stuff from the convergence branch","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-test-resources","title_link":"https:\/\/github.com\/hyperledger\/fabric-test-resources","text":"Contribute to fabric-test-resources development by creating an account on GitHub.","fallback":"GitHub: hyperledger\/fabric-test-resources","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-test-resources","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1472911410.000328"},{"type":"message","user":"U0KPFAZNF","text":"<@U1BC5NF2S> <@U0KM61BCP> can we put together a plan to have a jenkins node that would be compatible with running, as part of the jenkins job, a virtualbox guest?","ts":"1472926382.000330"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> and I want to get the baseimage stuff into a CI pipeline, but we would need to capability to build vagrant\/virtualbox images\u2026generally, this means the jenkins worker must support VMX type cpu features","ts":"1472926438.000331"},{"type":"message","user":"U0KPFAZNF","text":"also want to look into using this <https:\/\/wiki.jenkins-ci.org\/display\/JENKINS\/Packer+Plugin>","ts":"1472926448.000332"},{"type":"message","user":"U0KPFAZNF","text":"but that is further away","ts":"1472926455.000333"},{"type":"message","user":"U0KM61BCP","text":"we should discuss next week adding <@U0UHG4VP1> ","ts":"1472926468.000334","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"the good news is, I see it generally as an infrequent process, so probably one-ish machine is enough","ts":"1472926519.000335"},{"type":"message","user":"U0KPFAZNF","text":"(perhaps 2 for redundancy, but that is a bonus)","ts":"1472926535.000336"},{"type":"message","user":"U0KPFAZNF","text":"my thought is this means its a physical box, but if the environment that we spin up jenkins workers supports VMX passthrough, that is good enough","ts":"1472926591.000337"},{"type":"message","user":"U0KPFAZNF","text":"but, will shut up now so we can loop <@U0UHG4VP1> in","ts":"1472926615.000338"},{"user":"U18D82GJH","text":"<@U18D82GJH|codascud> has joined the channel","type":"message","subtype":"channel_join","ts":"1473024665.000002"},{"type":"message","user":"U1AU8DRQR","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/911\/console> does anybody have an idea what kind of problem this is? it comes from behave and it is related to the docker container removal maybe","ts":"1473072765.000003"},{"type":"message","user":"U1M7K67EV","text":"Not sure what has caused it but in the testsummary.log:\n```\n  @issue_567\n  Scenario Outline: chaincode example02 with 4 peers and 1 membersrvc, issue #567 -- @1.1 Consensus Options                     # peer_basic.feature:503\n    Given we compose \"docker-compose-4-consensus-noops.yml\"                                                                     # steps\/peer_basic_impl.py:114\n      Traceback (most recent call last):\n        File \"\/usr\/local\/lib\/python2.7\/dist-packages\/behave\/model.py\", line 1456, in run\n          match.run(runner.context)\n        File \"\/usr\/local\/lib\/python2.7\/dist-packages\/behave\/model.py\", line 1903, in run\n          self.func(context, *args, **kwargs)\n        File \"steps\/peer_basic_impl.py\", line 119, in step_impl\n          bdd_test_util.cli_call([\"docker-compose\"] + fileArgsToDockerCompose + [\"up\",\"--force-recreate\", \"-d\"], expect_success=True)\n        File \"\/w\/workspace\/fabric-verify-x86_64\/gopath\/src\/github.com\/hyperledger\/fabric\/bddtests\/steps\/bdd_test_util.py\", line 40, in cli_call\n          raise subprocess.CalledProcessError(p.returncode, arg_list, output)\n      CalledProcessError: Command '['docker-compose', '-f', u'docker-compose-4-consensus-noops.yml', 'up', '--force-recreate', '-d']' returned non-zero exit status 1\n      \n      Captured stdout:\n      Output:\n      \n      Error Message:\n      Creating bddtests_membersrvc0_1\n      Creating bddtests_vp0_1\n      Creating bddtests_vp3_1\n      Creating bddtests_vp1_1\n      Creating bddtests_vp2_1\n      Cannot start container 0b84b22c5525b2689f021bd1f46acf348d27e987b7ac0b69b7b512c38168a7a9: Cannot link to a non running container: \/bddtests_vp0_1 AS \/bddtests_vp2_1\/bddtests_vp0_1\n```","ts":"1473128677.000004"},{"type":"message","user":"U1M7K67EV","text":"<@U1AU8DRQR> ^^","ts":"1473128700.000005"},{"type":"message","user":"U1M7K67EV","text":"Looks like the containers didn't start up for some reason","ts":"1473128711.000006"},{"type":"message","user":"U1M7K67EV","text":"<@U11HH3P7Y> <https:\/\/jenkins.hyperledger.org\/view\/fabric\/job\/fabric-verify-x86_64\/913\/> seems to have hung if you could abort it","ts":"1473129835.000007"},{"user":"U0NK7T8SH","text":"<@U0NK7T8SH|bryan-huang> has joined the channel","type":"message","subtype":"channel_join","ts":"1473158679.000008"},{"type":"message","user":"U12V3D2P2","text":"For including Power node into Hyperledger Jenkins, this is what happened so far.","ts":"1473183999.000009"},{"type":"message","user":"U12V3D2P2","text":"1. Ramesh created a patch to include Power : <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/845\/>","ts":"1473184038.000010"},{"type":"message","user":"U12V3D2P2","text":"2. <@U1BC5NF2S> gave me keys for the master and the communication between master and slave is established","ts":"1473184066.000011"},{"type":"message","user":"U12V3D2P2","text":"We have a setupUbuntuOnPPC64le.sh script that needs to be run as root to setup the Power node","ts":"1473184143.000012"},{"type":"message","user":"U12V3D2P2","text":"What are our next steps?","ts":"1473184149.000013"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> are you back from vacation?","ts":"1473185881.000014"},{"type":"message","user":"U1BC5NF2S","text":"<@U12V3D2P2> <@U0UHG4VP1> Next steps are:\n1) Getting Power included as a architecture in ci-management\n2) Running a test job to verify the Power machine has all the necessary dependencies\n3) Including Power in the list of architectures to verify jobs  on","edited":{"user":"U1BC5NF2S","ts":"1473186832.000000"},"ts":"1473186815.000015"},{"type":"message","user":"U0UHG4VP1","text":"cbf: yes","ts":"1473186916.000017"},{"type":"message","user":"U11NUTP4L","text":"<@U11HH3P7Y> I have provided the ARCH info and other env details for the ci-management patch to include power CR #845. Also have shared few suggestions.  Please do let know if you agree on them. Note that I am still trying to get complete understanding of ci-management code so educate me on how it works if I have got it differently.","ts":"1473187118.000018"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> trying to figure out how to enable tracking story points.. looks like I can enable, but the UI does not include them","ts":"1473187781.000019"},{"type":"message","user":"U0KM61BCP","text":"tis a puzzlement","ts":"1473187789.000020"},{"type":"message","user":"U0KM61BCP","text":"also want to be able to add components","ts":"1473187802.000021"},{"type":"message","user":"U0UHG4VP1","text":"cbf: in JIRA? I don\u2019t know off the top of my head. Let me look","ts":"1473187834.000022"},{"type":"message","user":"U0KM61BCP","text":"yes","ts":"1473187838.000023"},{"type":"message","user":"U0KM61BCP","text":"sorry for lack of clarity","ts":"1473187844.000024"},{"type":"message","user":"U0KM61BCP","text":"under the \u2018Board\/Configure\/Estimation\u2019 there is an option that cna be enabled","ts":"1473187897.000025"},{"type":"message","user":"U0KM61BCP","text":"but the Issue view doesn\u2019t change","ts":"1473187910.000026"},{"type":"message","user":"U0UHG4VP1","text":"cbf: if you go here: <https:\/\/jira.hyperledger.org\/browse\/FAB-63> for instance, and click edit, you should be able to set story points, which will then make it show up on the view page","ts":"1473188119.000027"},{"type":"message","user":"U0UHG4VP1","text":"cbf: I just added story points to the UI, so that\u2019s changed from five minutes ago","ts":"1473188150.000028"},{"type":"message","user":"U0UHG4VP1","text":"could you give me a list of components to add? either here or email is fine","ts":"1473188210.000029"},{"type":"message","user":"U0KM61BCP","text":"ok will do thanks","ts":"1473189024.000030"},{"type":"message","user":"U0KM61BCP","text":"one last thing... when you open an issue and click the Git tab, it says plugin license expired... we need a plugin to enable tagged gerrit reviews to be linked here?","ts":"1473189094.000031"},{"type":"message","user":"U11HH3P7Y","text":"<@U11NUTP4L> : I have updated ci-management job. Please check","ts":"1473199317.000032"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: can you please create two repositories (hyperledger\/fabric-ppc64le-peer) &amp; (hyperledger\/fabric-ppc64le-membersrvc) in docker hub account (<https:\/\/hub.docker.com\/u\/hyperledger\/>) for power","ts":"1473199483.000033"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> what happened to the multi-platform docker repos? anything?","ts":"1473199516.000034"},{"type":"message","user":"U11HH3P7Y","text":"I have to check that..","ts":"1473199619.000035"},{"type":"message","user":"U0UHG4VP1","text":"I thought that we were going to be able to push x64, s390, et al into one docker repo","ts":"1473199643.000036"},{"type":"message","user":"U0UHG4VP1","text":"also, I thought we were going to put the platform at the end, like fabric-membersvc-platform?","ts":"1473199702.000037"},{"type":"message","user":"U11HH3P7Y","text":"we can push multiple tags with arch names but the problem with latest tag..","ts":"1473199730.000038"},{"type":"message","user":"U0UHG4VP1","text":"so fabric-membersvc-ppc64le ?","ts":"1473199880.000039"},{"type":"message","user":"U11HH3P7Y","text":"yes","ts":"1473199995.000040"},{"type":"message","user":"U0UHG4VP1","text":"what about the baseimage?","ts":"1473200040.000041"},{"type":"message","user":"U11HH3P7Y","text":"same for baseimage too.. fabric-baseimage-ppc64le","ts":"1473200090.000042"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/hub.docker.com\/u\/hyperledger\/dashboard\/>","ts":"1473200153.000043","reactions":[{"name":"+1","users":["U11HH3P7Y"],"count":1}]},{"type":"message","user":"U11HH3P7Y","text":"but we are not pushing baseimages from jenkins now, it's a manual process.. <@U0KPFAZNF> mentioned about automating this process..","ts":"1473200155.000044"},{"type":"message","user":"U11HH3P7Y","text":"thanks Ry","ts":"1473200201.000045"},{"type":"message","user":"U0UHG4VP1","text":"you\u2019re welcome!","ts":"1473200209.000046"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: we are doing the $arch support in the tag","ts":"1473200227.000047"},{"type":"message","user":"U0KPFAZNF","text":"for instance: <https:\/\/hub.docker.com\/r\/hyperledger\/fabric-peer\/tags\/>","ts":"1473200270.000048"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> should I remove the *ppc64le and *s390* repos from hub.docker?","ts":"1473200307.000049"},{"type":"message","user":"U0KPFAZNF","text":"let me look","ts":"1473200315.000050"},{"type":"message","user":"U0KPFAZNF","text":"have a link handy?","ts":"1473200319.000051"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/hub.docker.com\/u\/hyperledger\/> apparently the dashboard is private","edited":{"user":"U0UHG4VP1","ts":"1473200359.000000"},"ts":"1473200329.000052"},{"type":"message","user":"U11HH3P7Y","text":"<https:\/\/hub.docker.com\/u\/hyperledger\/>","ts":"1473200340.000053"},{"type":"message","user":"U0KPFAZNF","text":"i get a 404 from that","ts":"1473200343.000054"},{"type":"message","user":"U0UHG4VP1","text":"I just created the ppc64le repos (minutes ago)","ts":"1473200345.000055"},{"type":"message","user":"U0KPFAZNF","text":"oh i see, i dont know where those came from","ts":"1473200364.000057"},{"type":"message","user":"U0UHG4VP1","text":"I made them","ts":"1473200374.000058"},{"type":"message","user":"U0KPFAZNF","text":"oh i see","ts":"1473200378.000059"},{"type":"message","user":"U0UHG4VP1","text":"the issue, as ramesh said, is the \u201clatest\u201d tag when you have multiple platforms","ts":"1473200393.000060"},{"type":"message","user":"U0KPFAZNF","text":"yeah, the latest tag is a problem for a variety of reasons","ts":"1473200412.000061"},{"type":"message","user":"U0KPFAZNF","text":"not sure its really compatible with fabric in general","ts":"1473200432.000062"},{"type":"message","user":"U0KPFAZNF","text":"i suppose we could re-work a few things though","ts":"1473200458.000063"},{"type":"message","user":"U0UHG4VP1","text":"so our work-around is these platform specific docker hub repos","ts":"1473200461.000064"},{"type":"message","user":"U0KPFAZNF","text":"ok, i need to think about it some more, but note that it needs to have code support too","ts":"1473200483.000065"},{"type":"message","user":"U0KPFAZNF","text":"but it might work with some of the facilities I recently pushed upstream","ts":"1473200501.000066"},{"type":"message","user":"U0KPFAZNF","text":"for instance: <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/peer\/core.yaml#L291>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/peer\/core.yaml#L291","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/peer\/core.yaml#L291","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1473200585.000067"},{"type":"message","user":"U0KPFAZNF","text":"that template _could_ read \u201chyperledger\/fabric-$(ARCH)-ccenv:$(PROJECT_VERSION)","ts":"1473200633.000069"},{"type":"message","user":"U0KPFAZNF","text":"but the main point is, we should probably closely coordinate dockhub architecture with software architecture","ts":"1473200658.000070"},{"type":"message","user":"U0KPFAZNF","text":"because right now we have divergent strategies","ts":"1473200697.000071"},{"type":"message","user":"U0UHG4VP1","text":"there is no evidence that any repo other than the three main ones have any use. I\u2019m not attached to them in the least.","ts":"1473200748.000072"},{"type":"message","user":"U0KPFAZNF","text":"also wanted to talk to you about a baseimage ci pipeline too <@U0UHG4VP1>","edited":{"user":"U0KPFAZNF","ts":"1473200781.000000"},"ts":"1473200765.000073"},{"type":"message","user":"U0KPFAZNF","text":"but my dinner is ready apparently, ill catch up with you later","ts":"1473200801.000075"},{"type":"message","user":"U0UHG4VP1","text":"ok. tomorrow is fine","ts":"1473200811.000076"},{"type":"message","user":"U0KPFAZNF","text":"ok, sounds good","ts":"1473200816.000077"},{"type":"message","user":"U0KPFAZNF","text":"are you officially back now?","ts":"1473200823.000078"},{"type":"message","user":"U0UHG4VP1","text":"sir yes sir","ts":"1473200829.000079"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1473200834.000080"},{"type":"message","user":"U0KPFAZNF","text":"welcome back","ts":"1473200837.000081"},{"type":"message","user":"U0UHG4VP1","text":"thanks. Vegas was very dry and warm, but relaxing","ts":"1473200854.000082"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> around?","ts":"1473212532.000083","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"one of the things I wanted to talk to you about was getting a jenkins environment that will be conducive to taking over the \u201cbaseimage\u201d pipeline","ts":"1473212580.000084"},{"type":"message","user":"U0UHG4VP1","text":"OK. what do you need?","ts":"1473212601.000085"},{"type":"message","user":"U0KPFAZNF","text":"ultimately what we need is a jenkins job that has the ability to run vmx-based virtualbox workloads","ts":"1473212606.000086"},{"type":"message","user":"U0KPFAZNF","text":"generally that sounds like \u201cbare metal worker\u201d to me, but I suppose a properly configured VM could suffice too if that makes things easier","edited":{"user":"U0KPFAZNF","ts":"1473212642.000000"},"ts":"1473212632.000087"},{"type":"message","user":"U0UHG4VP1","text":"could you point me to something I could read (or just give me a lecture) on how this workflow would work?","ts":"1473212678.000089"},{"type":"message","user":"U0KPFAZNF","text":"sure, it would be basically automating what is in here:","ts":"1473212694.000090"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/images\/base>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/images\/base","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/images\/base","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1473212718.000091"},{"type":"message","user":"U0KPFAZNF","text":"in a nutshell, I need a jenkins job that could invoke \u201cmake\u201d in that tree","ts":"1473212735.000093"},{"type":"message","user":"U0KPFAZNF","text":"(though <@U0KM61BCP> and I have aspirations to break out the baseimage to its own repo eventually","ts":"1473212752.000094"},{"type":"message","user":"U0KPFAZNF","text":"but effectively, same idea","ts":"1473212757.000095"},{"type":"message","user":"U0KPFAZNF","text":"digging deeper, that makefile is going to, amoung other things, run \u201cpacker\u201d which will then drive a virtualbox\/vagrant based configuration","ts":"1473212802.000096"},{"type":"message","user":"U0KPFAZNF","text":"its all automated, but it does need the underlying host to support vmx\/virtualbox","ts":"1473212820.000097"},{"type":"message","user":"U0KPFAZNF","text":"the input to the job will be a git-commit hook, and the output will be an image pushed to atlas","ts":"1473212844.000098"},{"type":"message","user":"U0UHG4VP1","text":"I\u2019ll need to talk to people, I don\u2019t know if we\u2019re doing this (or if any of our choices might prohibit it).","ts":"1473212873.000099"},{"type":"message","user":"U0KPFAZNF","text":"sure thing","ts":"1473212880.000100"},{"type":"message","user":"U0KPFAZNF","text":"fwiw, right now, we (read: me) do this manually","ts":"1473212893.000101"},{"type":"message","user":"U0KPFAZNF","text":"for one, its a PITA for me to qualify\/release the image","ts":"1473212910.000102"},{"type":"message","user":"U0KPFAZNF","text":"but that is a minor thing","ts":"1473212913.000103"},{"type":"message","user":"U0KPFAZNF","text":"the bigger issue is, its a risk to have only one person that knows how to do it AND they posses the credentials to make unilateral releases","ts":"1473212942.000104"},{"type":"message","user":"U0UHG4VP1","text":"could you gin up a test job in ci-management repo that would basically test if the first step is possible (using packer to drive the next step)","ts":"1473212954.000105"},{"type":"message","user":"U0KPFAZNF","text":"obviously I trust myself, heh, but those are the facts","ts":"1473212956.000106"},{"type":"message","user":"U0KPFAZNF","text":"i assume you mean to see if the ci-management environment has the requisite resources?","ts":"1473213020.000107"},{"type":"message","user":"U0UHG4VP1","text":"basically, what is the minimal test that can be done to prove this is possible at all in our current environment?","ts":"1473213024.000108"},{"type":"message","user":"U0KPFAZNF","text":"like vmx","ts":"1473213026.000109"},{"type":"message","user":"U0KPFAZNF","text":"ok, that should be easy, hold on","ts":"1473213034.000110"},{"type":"message","user":"U0UHG4VP1","text":"I assume there will need to be some apt-getting and the like","ts":"1473213041.000111"},{"type":"message","user":"U0UHG4VP1","text":"file the numbers off fabric-merge (or -verify) if you like","ts":"1473213063.000112"},{"type":"message","user":"U0KPFAZNF","text":"yes, and an inspection of \/proc\/cpuinfo should tell us if VMX is available","ts":"1473213064.000113"},{"type":"message","user":"U0UHG4VP1","text":"oh well hold up","ts":"1473213074.000114"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1473213081.000115"},{"type":"message","user":"U0UHG4VP1","text":"I can do that for free","ts":"1473213083.000116"},{"type":"message","user":"U0KPFAZNF","text":"oh, ok, cool","ts":"1473213088.000117"},{"type":"message","user":"U0KPFAZNF","text":"look for the vmx flag in there somewhere","ts":"1473213099.000118"},{"type":"message","user":"U0KPFAZNF","text":"just logging in now myself so I can get an example","ts":"1473213107.000119"},{"text":"watches his VM slowly build","type":"message","subtype":"me_message","user":"U0UHG4VP1","ts":"1473215668.000120"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F28TWBL5P\/-.txt|Untitled> and commented: <@U0KPFAZNF>","file":{"id":"F28TWBL5P","created":1473215788,"timestamp":1473215788,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":1586,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F28TWBL5P\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F28TWBL5P\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F28TWBL5P\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F28TWBL5P-9b37479c0e","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F28TWBL5P\/-.txt\/edit","preview":"root@rjones-vagrant-3:\/proc# more cpuinfo \r\nprocessor\t: 0\r\nvendor_id\t: GenuineIntel\r\ncpu family\t: 6\r\nmodel\t\t: 44\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>root@rjones-vagrant-3:\/proc# more cpuinfo <\/pre><\/div>\n<div><pre>processor   : 0<\/pre><\/div>\n<div><pre>vendor_id   : GenuineIntel<\/pre><\/div>\n<div><pre>cpu family  : 6<\/pre><\/div>\n<div><pre>model       : 44<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":55,"lines_more":50,"preview_is_truncated":true,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc28TH1JDS","created":1473215788,"timestamp":1473215788,"user":"U0UHG4VP1","is_intro":true,"comment":"<@U0KPFAZNF>","channel":""}},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1473215788.000121"},{"type":"message","user":"U0UHG4VP1","text":"looks like vmx is in the flags","ts":"1473215817.000122"},{"type":"message","user":"U0KPFAZNF","text":"cool!","ts":"1473217296.000123"},{"type":"message","user":"U0KPFAZNF","text":"next step, see if you can run a basic vagrant guest","ts":"1473217361.000124"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/www.vagrantup.com\/docs\/cli\/init.html>","attachments":[{"title":"vagrant init - Command-Line Interface - Vagrant by HashiCorp","title_link":"https:\/\/www.vagrantup.com\/docs\/cli\/init.html","text":"The","fallback":"vagrant init - Command-Line Interface - Vagrant by HashiCorp","from_url":"https:\/\/www.vagrantup.com\/docs\/cli\/init.html","service_icon":"https:\/\/www.vagrantup.com\/assets\/images\/favicon-d7af32eb.png","service_name":"vagrantup.com","id":1}],"ts":"1473217386.000125"},{"type":"message","user":"U0KPFAZNF","text":"see the examples at the bottom","ts":"1473217416.000127"},{"type":"message","user":"U0KPFAZNF","text":"(you of course, might need to install vagrant\/vbox","ts":"1473217440.000128"},{"type":"message","user":"U0UHG4VP1","text":"I\u2019ll have to stack turtles in the morning","ts":"1473219064.000129","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"user":"U1HSEPL9M","text":"<@U1HSEPL9M|santhoshr> has joined the channel","type":"message","subtype":"channel_join","ts":"1473241921.000130"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> pleasae ping when you get on","ts":"1473253026.000131"},{"type":"message","user":"U0YNFB22X","text":"My build fails with this error,","ts":"1473256557.000132"},{"type":"message","user":"U0YNFB22X","text":"19:21:21 Scenario 4 peers and 1 membersrvc, consensus still works if one backup replica fails -- @1.1 Consensus Options failed. Getting container logs\n19:21:21 Exception AttributeError: 'Context' object has no attribute 'compose_containers'","ts":"1473256559.000133"},{"type":"message","user":"U0YNFB22X","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/970\/console>","ts":"1473256585.000134"},{"type":"message","user":"U0YNFB22X","text":"Any suggestions\/ideas ?","ts":"1473256597.000135"},{"type":"message","user":"U1AU8DRQR","text":"I have seen that million times but it seems to be an internal thing of behave for me (from the stack trace)","ts":"1473257421.000136"},{"type":"message","user":"U1AU8DRQR","text":"reverify?","ts":"1473257424.000137"},{"type":"message","user":"U0YNFB22X","text":"Triggered reverify twice thinking it a temporary thing, so I just want to make sure before overloading the poor jenkins","edited":{"user":"U0YNFB22X","ts":"1473257590.000000"},"ts":"1473257575.000138"},{"type":"message","user":"U1AU8DRQR","text":"btw: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/943\/> same HTTP test error as yesterday. wasn't that fixed? rebase helped for other commits.","ts":"1473258969.000140"},{"type":"message","user":"U0KM61BCP","text":"some of the behave tests misbehave","ts":"1473260651.000141"},{"type":"message","user":"U0KM61BCP","text":"for the fabric JIRA project, I added two statuses 1) backlog which represents the prioritized backlog and in-review which is when a fix\/change has been submitted to Gerrit for review","ts":"1473260742.000142"},{"type":"message","user":"U0KM61BCP","text":"can be added to any JIRA board for the fabric project","ts":"1473260753.000143"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> <@U0UHG4VP1> I just noticed that it doesnt look like the github RO clone is being updated","ts":"1473264591.000144"},{"type":"message","user":"U0KPFAZNF","text":"last commit was 8\/31","ts":"1473264601.000145"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins yes, I was trying to debug the mirroring yesterday","ts":"1473264620.000146"},{"type":"message","user":"U0KPFAZNF","text":"ok, no worries, just wanted to ensure it was properly raised","ts":"1473264633.000147"},{"type":"message","user":"U0KPFAZNF","text":"want me to file JIRA?","ts":"1473264648.000148"},{"type":"message","user":"U0UHG4VP1","text":"It already sort-of has a JIRA: cbf filed \u201cyou aren\u2019t mirroring branches\u201d, which is where I am now","ts":"1473264711.000149"},{"type":"message","user":"U0UHG4VP1","text":"feel free to add a note on that JIRA if you like","ts":"1473264723.000150"},{"type":"message","user":"U0KM61BCP","text":"thanks!","ts":"1473264757.000151"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> I turned the old mirror back on for now, so at least master is getting updates","ts":"1473265149.000152","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> any idea why branches not being reflected?","ts":"1473266278.000153"},{"type":"message","user":"U0UHG4VP1","text":"cbf: because I need to get the gerrit plugin working correctly","ts":"1473266305.000154"},{"type":"message","user":"U0UHG4VP1","text":"and it is fairly opaque","ts":"1473266317.000155"},{"type":"message","user":"U0KM61BCP","text":"ic ok","ts":"1473266322.000156"},{"type":"message","user":"U0UHG4VP1","text":"is this a blocker? do I need to get convergence and 0.6 mirroring asap?","ts":"1473266352.000157"},{"type":"message","user":"U0PB67X4K","text":"is the ci-pipeline working for master?  getting odd failures that have nothing to do with the code  :disappointed:","ts":"1473267715.000158"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> it is fairly high on the list, yes","ts":"1473268620.000159"},{"type":"message","user":"U0UHG4VP1","text":"ok.","ts":"1473268636.000160"},{"type":"message","user":"U0KM61BCP","text":"v0.6 more important than convergence","ts":"1473268636.000161"},{"user":"U1A6TJ0KV","text":"<@U1A6TJ0KV|holocron> has joined the channel","type":"message","subtype":"channel_join","ts":"1473270236.000162"},{"type":"message","user":"U1A6TJ0KV","text":"hello, i'm running into a problem building the s390x peer, it seems there's a problem with the apt repo in the dockerhub hyperledger\/fabric-baseimage:s390x-0.0.10 image","ts":"1473270292.000163"},{"type":"message","user":"U1A6TJ0KV","text":"Step 11 : RUN \/hyperledger\/scripts\/provision\/common.sh\n ---&gt; Running in d9da24b3b1f8\nE: Failed to fetch <mirror:\/\/mirrors.ubuntu.com\/mirrors.txt\/dists\/xenial\/main\/binary-s390x\/by-hash\/SHA256\/0956d9bdd044570b5d8f1b3e186bb7bddb01b786174329ffa87c9596678defcb>  Hash Sum mismatch","ts":"1473270298.000164"},{"type":"message","user":"U1A6TJ0KV","text":"<https:\/\/jira.hyperledger.org\/browse\/FAB-286>","ts":"1473270307.000165"},{"type":"message","user":"U0KPFAZNF","text":"<@U1A6TJ0KV> i have lots of problems with the ubuntu mirror network\u2026the latest master has the mirror stuff disabled","ts":"1473271872.000166"},{"type":"message","user":"U0KPFAZNF","text":"can you try running on the latest?","ts":"1473271879.000167"},{"type":"message","user":"U0KPFAZNF","text":"thats the only thing I can think of","ts":"1473271891.000168"},{"type":"message","user":"U1A6TJ0KV","text":"<@U0KPFAZNF> starting with an empty docker image and container list, and immediately after running git pull on the master branch...","ts":"1473272276.000169"},{"type":"message","user":"U1A6TJ0KV","text":"so far so good","ts":"1473272286.000170"},{"type":"message","user":"U1A6TJ0KV","text":"<@U0KPFAZNF> made it further, but\n\nStatus: Downloaded newer image for openjdk:8\n ---&gt; ea40c858f006\nStep 2 : RUN wget <https:\/\/services.gradle.org\/distributions\/gradle-2.12-bin.zip> -P \/tmp --quiet\n ---&gt; Running in 95a3948a80f8\nrpc error: code = 2 desc = \"oci runtime error: exec format error\"\nMakefile:213: recipe for target 'build\/image\/javaenv\/.dummy' failed\nmake: *** [build\/image\/javaenv\/.dummy] Error 1","ts":"1473272525.000171"},{"type":"message","user":"U1A6TJ0KV","text":"<https:\/\/gist.github.com\/vmorris\/82fb51e86a92f5dcbb6e40ec197f0a66>\nopenjdk:8 is x86 yeah?","edited":{"user":"U1A6TJ0KV","ts":"1473272664.000000"},"ts":"1473272544.000172"},{"type":"message","user":"U0KPFAZNF","text":"looks like the java team needs to re-work that","ts":"1473273496.000176"},{"type":"message","user":"U0KPFAZNF","text":"what we could do is disable java support on Z until that is addressed","ts":"1473273518.000177"},{"type":"message","user":"U0YK3KKCY","text":"Perhaps there is a way to hand edit the Dockerfile for the java image and use the hyperledger\/fabric-baseimage in the  FROM statuement and add a RUN statement to install openjdk (which should pull from the s390x repos)","ts":"1473273649.000178"},{"type":"message","user":"U0YK3KKCY","text":"I first ran into this java issue last week.","ts":"1473273664.000179"},{"type":"message","user":"U0KPFAZNF","text":"my impression from the above snippet is the problem is with gradle-..bin","ts":"1473273777.000180"},{"type":"message","user":"U0YK3KKCY","text":"no","ts":"1473273787.000181"},{"type":"message","user":"U0YK3KKCY","text":"the exec format error is usually indicative of running a docker image that was built for another platform.","ts":"1473273813.000182"},{"type":"message","user":"U0YK3KKCY","text":"that's been my experience","ts":"1473273817.000183"},{"type":"message","user":"U11NUTP4L","text":"I think the problem is in scripts\/provision\/host.sh","ts":"1473273832.000184"},{"type":"message","user":"U11NUTP4L","text":"```scripts\/provision\/host.sh:update-java-alternatives -s java-1.8.0-openjdk-amd64\n```","ts":"1473273862.000185"},{"type":"message","user":"U0KPFAZNF","text":"ah, yep","ts":"1473273869.000186"},{"type":"message","user":"U11NUTP4L","text":"and this applies to ppc64le as well","ts":"1473273882.000187"},{"type":"message","user":"U0KPFAZNF","text":"agreed","ts":"1473273887.000188"},{"type":"message","user":"U11NUTP4L","text":"this should be more generic to point to the arch specific java dir","ts":"1473273902.000189"},{"type":"message","user":"U0YK3KKCY","text":"i agree","ts":"1473273910.000190"},{"type":"message","user":"U0KPFAZNF","text":"oh, we could just refactor the platform to install jre8+","ts":"1473273922.000191"},{"type":"message","user":"U0KPFAZNF","text":"part of the problem is the base installs default-jre and then the java config adds jre8+alternatives","ts":"1473273942.000192"},{"type":"message","user":"U0KPFAZNF","text":"would it be easier if the entire platform just installed jre8?","ts":"1473273954.000193"},{"type":"message","user":"U0KPFAZNF","text":"(I wouldnt mind this personally, I have code that can take advantage of 8 that I had to disable on account of devenv installing jre7","ts":"1473273989.000194"},{"type":"message","user":"U11NUTP4L","text":"I already have jre8 installed. ```# dpkg -l | grep jre\nii  default-jre                            2:1.8-56ubuntu2                  ppc64el      Standard Java or Java compatible Runtime\nii  default-jre-headless                   2:1.8-56ubuntu2                  ppc64el      Standard Java or Java compatible Runtime (headless)\nii  openjdk-8-jre:ppc64el                  8u91-b14-3ubuntu1~16.04.1        ppc64el      OpenJDK Java runtime, using Hotspot JIT\nii  openjdk-8-jre-headless:ppc64el         8u91-b14-3ubuntu1~16.04.1        ppc64el      OpenJDK Java runtime, using Hotspot JIT (headless)\n```","ts":"1473274342.000195"},{"type":"message","user":"U11NUTP4L","text":"still see the same issue","ts":"1473274350.000196"},{"type":"message","user":"U0YK3KKCY","text":"i believe the issue lies in the contents of the Dockerfile used to build the java image","ts":"1473274377.000197","reactions":[{"name":"+1","users":["U1A6TJ0KV"],"count":1}]},{"type":"message","user":"U0YK3KKCY","text":"The FROM statement is using an x86 docker image","ts":"1473274393.000198"},{"type":"message","user":"U0YK3KKCY","text":"if you manually pull down openjdk:8 and try and run it on z it should fail","ts":"1473274436.000199"},{"type":"message","user":"U0YK3KKCY","text":"i am not sure why they don't use the hyperledger\/fabric-baseimage in the FROM statement","ts":"1473274519.000200"},{"type":"message","user":"U0YK3KKCY","text":"and then just install openjdk using apt-get","ts":"1473274529.000201"},{"type":"message","user":"U0YK3KKCY","text":"This is the Docker file used to build the javaenv Docker image...","ts":"1473274754.000202"},{"type":"message","user":"U0YK3KKCY","text":"FROM openjdk:8\nRUN wget <https:\/\/services.gradle.org\/distributions\/gradle-2.12-bin.zip> -P \/tmp --quiet\nRUN unzip -q \/tmp\/gradle-2.12-bin.zip -d \/opt &amp;&amp; rm \/tmp\/gradle-2.12-bin.zip\nRUN ln -s \/opt\/gradle-2.12\/bin\/gradle \/usr\/bin\nADD javashimsrc.tar.bz2 \/root\nADD protos.tar.bz2 \/root\nWORKDIR \/root\n# Build java shim after copying proto files from fabric\/proto\nRUN core\/chaincode\/shim\/java\/javabuild.sh","ts":"1473274758.000203"},{"type":"message","user":"U0YK3KKCY","text":"from \/src\/github.com\/hyperledger\/fabric\/images\/javaenv","ts":"1473274774.000204"},{"type":"message","user":"U0YK3KKCY","text":"<http:\/\/Dockerfile.in|Dockerfile.in>","ts":"1473274780.000205"},{"type":"message","user":"U11NUTP4L","text":"Yes. That way we won\u2019t have dependency on any external (outside hyperledger) docker image","ts":"1473274963.000206","reactions":[{"name":"+1","users":["U1A6TJ0KV"],"count":1}]},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> problems with Jira and Gerrit?","ts":"1473281086.000207"},{"type":"message","user":"U0KM61BCP","text":"nginx down again?","ts":"1473281093.000208"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP> they look like they\u2019re up to me, I\u2019ll ask if there was an outage","ts":"1473281333.000209"},{"type":"message","user":"U0KM61BCP","text":"what was that link again?","ts":"1473281374.000210"},{"type":"message","user":"U0KM61BCP","text":"I forgot to bookmark and history archived","ts":"1473281385.000211"},{"type":"message","user":"U0UHG4VP1","text":"which link? the open a helpdesk ticket link?","ts":"1473281428.000212"},{"type":"message","user":"U0YK3KKCY","text":"<@U11NUTP4L> <@U0KPFAZNF> i was able to get the make process build the hyperledger\/fabric-javaenv  docker image for z Systems by updating fabric\/images\/javaenv\/Dockerfile.in.  i removed the FROM statement and added the following two statements:\nFROM hyperledger\/fabric-baseimage\nRUN apt-get install -y openjdk-8-jdk\n\nHowever... the javabuild.sh script fails with the following messages:\nAn exception occurred applying plugin request [id: 'java']\n&gt; Failed to apply plugin [id 'osdetector']\n   &gt; Could not create an instance of type com.google.gradle.osdetector.OsDetectorExtension_Decorated.\n\nI dug into this some more and was able to turn on debug for the gradle build and just as I suspected, this version of gradle does not support the s390x platform.\n\nGradle build debug messages:\n1:21:50.305 [ERROR] [org.gradle.BuildExceptionReporter]        ... 73 more\n21:21:50.306 [ERROR] [org.gradle.BuildExceptionReporter] Caused by: kr.motd.maven.os.DetectionException: unknown os.arch: s390x\n21:21:50.306 [ERROR] [org.gradle.BuildExceptionReporter]        at kr.motd.maven.os.Detector.detect(Detector.java:54)\n21:21:50.307 [ERROR] [org.gradle.BuildExceptionReporter]        at com.google.gradle.osdetector.OsDetector$Impl.&lt;init&gt;(OsDetector.java:55)\n21:21:50.308 [ERROR] [org.gradle.BuildExceptionReporter]        at com.google.gradle.osdetector.OsDetector.&lt;clinit&gt;(OsDetector.java:27)","ts":"1473284129.000213"},{"type":"message","user":"U0YK3KKCY","text":"If I comment out the javabuild.sh RUN step in the javaenv docker image build Dockerfile, the rest of the make build process completed without error on the s390x platform.  So I think the openjdk x86 docker image being used as a base for the build of the javaenv docker image along with gradle not supporting the s390x platform are the current issues with building 0.6 on the s390x platform.","ts":"1473284312.000214"},{"user":"U0YJUECE8","text":"<@U0YJUECE8|silliman> has joined the channel","type":"message","subtype":"channel_join","ts":"1473285030.000215"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> any chance to see if vagrant was viable within the jenkins env?","ts":"1473290207.000216"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> I was able to install it, but I didn\u2019t create any new instances","ts":"1473290242.000217"},{"type":"message","user":"U0KPFAZNF","text":"cool, let me know asap","ts":"1473290255.000218"},{"type":"message","user":"U0UHG4VP1","text":"what is the minimal test I need to do to prove or disprove if it works well enough?","ts":"1473290306.000219"},{"type":"message","user":"U0KPFAZNF","text":"run this: vagrant init ubuntu\/trusty64; vagrant up --provider virtualbox","ts":"1473290349.000220"},{"type":"message","user":"U0KPFAZNF","text":"(in a empty dir)","ts":"1473290357.000221"},{"type":"message","user":"U0KPFAZNF","text":"note that it will create files such as Vagrantfile whereever you run it","ts":"1473290377.000222"},{"type":"message","user":"U0KPFAZNF","text":"if all goes well, it will succeed after setting up the basics","ts":"1473290403.000223"},{"type":"message","user":"U0KPFAZNF","text":"but I think you will know right away if basic things like VMX arent sufficiently available","edited":{"user":"U0KPFAZNF","ts":"1473290436.000000"},"ts":"1473290424.000224"},{"type":"message","user":"U0UHG4VP1","text":"ok","ts":"1473290506.000226"},{"type":"message","user":"U0KPFAZNF","text":"if it looks happy, you should also be able to \u201cvagrant ssh\u201d from that same dir","ts":"1473290528.000227"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F29ADHUL8\/-.xml|Untitled>","file":{"id":"F29ADHUL8","created":1473290555,"timestamp":1473290555,"name":"-.xml","title":"Untitled","mimetype":"text\/plain","filetype":"xml","pretty_type":"XML","user":"U0KPFAZNF","editable":true,"size":3356,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F29ADHUL8\/-.xml?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F29ADHUL8\/download\/-.xml?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F29ADHUL8\/-.xml","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F29ADHUL8-b1d22abfb8","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F29ADHUL8\/-.xml\/edit","preview":"Greg:~ ghaskins$ mkdir vagrant-test\r\nGreg:~ ghaskins$ cd vagrant-test\/\r\nGreg:vagrant-test ghaskins$ vagrant init ubuntu\/trusty64; vagrant up --provider virtualbox\r\nA `Vagrantfile` has been placed in this directory. You are now\r\nready to `vagrant up` your first virtual environment! Please read\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Greg:~ ghaskins$ mkdir vagrant-test<\/pre><\/div>\n<div><pre>Greg:~ ghaskins$ cd vagrant-test\/<\/pre><\/div>\n<div><pre>Greg:vagrant-test ghaskins$ vagrant init ubuntu\/trusty64; vagrant up --provider virtualbox<\/pre><\/div>\n<div><pre>A `Vagrantfile` has been placed in this directory. You are now<\/pre><\/div>\n<div><pre>ready to `vagrant up` your first virtual environment! Please read<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":69,"lines_more":64,"preview_is_truncated":null,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1473290556.000228"},{"type":"message","user":"U0KPFAZNF","text":"thats a happy setup example","ts":"1473290563.000229"},{"text":"watches the kernel rebuild","type":"message","subtype":"me_message","user":"U0UHG4VP1","ts":"1473290840.000230"},{"type":"message","user":"U0UHG4VP1","text":"ah I\u2019m running vagrant 1.4.3","ts":"1473291249.000233"},{"type":"message","user":"U0UHG4VP1","text":"after installing 1.8.5, I have about 25 minutes left to download the stuff from hashicorp","ts":"1473291930.000234"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F29B19TCP\/-.txt|Untitled> and commented: <@U0KPFAZNF>","file":{"id":"F29B19TCP","created":1473293490,"timestamp":1473293490,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":3362,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F29B19TCP\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F29B19TCP\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F29B19TCP\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F29B19TCP-3c256fdfba","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F29B19TCP\/-.txt\/edit","preview":"root@rjones-vagrant-3:~# vagrant init ubuntu\/trusty64; vagrant up --provider virtualbox\r\nVagrant is upgrading some internal state for the latest version.\r\nPlease do not quit Vagrant at this time. While upgrading, Vagrant\r\nwill need to copy all your boxes, so it will use a considerable\r\namount of disk space. After it is done upgrading, the temporary disk\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>root@rjones-vagrant-3:~# vagrant init ubuntu\/trusty64; vagrant up --provider virtualbox<\/pre><\/div>\n<div><pre>Vagrant is upgrading some internal state for the latest version.<\/pre><\/div>\n<div><pre>Please do not quit Vagrant at this time. While upgrading, Vagrant<\/pre><\/div>\n<div><pre>will need to copy all your boxes, so it will use a considerable<\/pre><\/div>\n<div><pre>amount of disk space. After it is done upgrading, the temporary disk<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":68,"lines_more":63,"preview_is_truncated":true,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc29B22GSD","created":1473293490,"timestamp":1473293490,"user":"U0UHG4VP1","is_intro":true,"comment":"<@U0KPFAZNF>","channel":""}},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1473293490.000237"},{"type":"message","user":"U0KPFAZNF","text":"Awesome!","ts":"1473293737.000238"},{"type":"message","user":"U0KPFAZNF","text":"This means the packer job is likely to work","ts":"1473293750.000239"},{"type":"message","user":"U0UHG4VP1","text":"it did take forever to download from hashicorp though","ts":"1473293758.000240"},{"type":"message","user":"U0KPFAZNF","text":"Is this the same environment on all workers?","ts":"1473293764.000241"},{"type":"message","user":"U0UHG4VP1","text":"we should probably make a new image to support this","ts":"1473293771.000242"},{"type":"message","user":"U0KPFAZNF","text":"Yeah, the build will take even longer","ts":"1473293779.000243"},{"type":"message","user":"U0KPFAZNF","text":"I don't expect this to be a frequent task","ts":"1473293791.000244"},{"type":"message","user":"U0UHG4VP1","text":"like, bake in this stuff that will be fairly static","ts":"1473293797.000245"},{"type":"message","user":"U0KPFAZNF","text":"Exactly","ts":"1473293803.000246"},{"type":"message","user":"U0UHG4VP1","text":"right now we only have one type of build VM, so yes, it will be the same for all of them.","ts":"1473293825.000247"},{"type":"message","user":"U0KPFAZNF","text":"To date, I think we released .7 - .10 since YTD","ts":"1473293833.000248"},{"type":"message","user":"U0KPFAZNF","text":"So once every 2 months or so","ts":"1473293859.000249"},{"type":"message","user":"U0UHG4VP1","text":"do you think it would be worth the commonality of having vagrant baked into any build image?","ts":"1473293869.000250"},{"type":"message","user":"U0KPFAZNF","text":"I suspect the frequency will up tick slightly on account of it will be less painful to do now","ts":"1473293897.000251"},{"type":"message","user":"U0UHG4VP1","text":"I\u2019d need to add vagrant 1.8.5 and however I would cache this ubuntu image, I was getting like 200k\/s downloading it","ts":"1473293899.000252"},{"type":"message","user":"U0KPFAZNF","text":"I'll leave that up to you but caching of some form makes sense to me","ts":"1473293932.000253"},{"type":"message","user":"U0KPFAZNF","text":"Note that the packer build uses an ISO rather than a vagrant base though","ts":"1473293981.000254"},{"type":"message","user":"U0UHG4VP1","text":"OK. is this something we should trigger manually?","ts":"1473293996.000255"},{"type":"message","user":"U0KPFAZNF","text":"But same concept can apply:  you could put a squid proxy in front","ts":"1473294005.000256"},{"type":"message","user":"U0KPFAZNF","text":"The plan is to break out a different repo ","ts":"1473294019.000257"},{"type":"message","user":"U0KPFAZNF","text":"Like Hyperledger\/fabric-baseimage","ts":"1473294034.000258"},{"type":"message","user":"U0UHG4VP1","text":"if this is something I\u2019d do every couple of months I\u2019ll probably just eat the download cost in time","ts":"1473294035.000259"},{"type":"message","user":"U0UHG4VP1","text":"oh OK.","ts":"1473294039.000260"},{"type":"message","user":"U0KPFAZNF","text":"The we can trigger on commit ","ts":"1473294043.000261"},{"type":"message","user":"U0UHG4VP1","text":"OK. what do you need from me?","ts":"1473294206.000262"},{"type":"message","user":"U0UHG4VP1","text":"I mean, repos are cheap, if you\u2019re blocked on the new repo and the TSC approves I can make it quickly","ts":"1473294429.000263"},{"type":"message","subtype":"file_share","text":"<@U1M7K67EV|jcarrivick> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/jcarrivick\/F29B6J0F3\/-.sh|Untitled> and commented: <@U0UHG4VP1> <@U11HH3P7Y> You guys are probably already aware but tthe last 4 fabric-merge builds have failed from what looks like a network error","file":{"id":"F29B6J0F3","created":1473294721,"timestamp":1473294721,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U1M7K67EV","editable":true,"size":3180,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F29B6J0F3\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F29B6J0F3\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/jcarrivick\/F29B6J0F3\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F29B6J0F3-c78e645ea7","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/jcarrivick\/F29B6J0F3\/-.sh\/edit","preview":"Receiving objects:  97% (4710\/4826), 14.06 MiB | 28.00 KiB\/s   \r\nfatal: The remote end hung up unexpectedly\r\n16:31:07 fatal: early EOF\r\n16:31:07 fatal: index-pack failed\r\n16:31:07 \r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Receiving objects:  <span class=\"cm-number\">97<\/span>% (4710\/4826), <span class=\"cm-number\">14<\/span>.06 MiB | <span class=\"cm-number\">28<\/span>.00 KiB\/s   <\/pre><\/div>\n<div><pre>fatal: The remote end hung up unexpectedly<\/pre><\/div>\n<div><pre><span class=\"cm-number\">16<\/span>:31:07 fatal: early EOF<\/pre><\/div>\n<div><pre><span class=\"cm-number\">16<\/span>:31:07 fatal: index-pack failed<\/pre><\/div>\n<div><pre><span class=\"cm-number\">16<\/span>:31:07 <\/pre><\/div>\n<\/div>\n<\/div>\n","lines":42,"lines_more":37,"preview_is_truncated":null,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc29AW4G0G","created":1473294721,"timestamp":1473294721,"user":"U1M7K67EV","is_intro":true,"comment":"<@U0UHG4VP1> <@U11HH3P7Y> You guys are probably already aware but tthe last 4 fabric-merge builds have failed from what looks like a network error","channel":""}},"user":"U1M7K67EV","upload":true,"display_as_bot":false,"username":"<@U1M7K67EV|jcarrivick>","bot_id":null,"ts":"1473294721.000264"},{"type":"message","user":"U1M7K67EV","text":"not sure if there is anything you can do but thought I should flag it","ts":"1473294738.000265"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> ty for the offer, the plan right now is <@U0KM61BCP> and I were going to play with a PoC here: <https:\/\/github.com\/ghaskins\/hyperledger-fabric-baseimage>","attachments":[{"service_name":"GitHub","title":"ghaskins\/hyperledger-fabric-baseimage","title_link":"https:\/\/github.com\/ghaskins\/hyperledger-fabric-baseimage","text":"hyperledger-fabric-baseimage - Prototype for breaking out the baseimage from hyperledger fabric","fallback":"GitHub: ghaskins\/hyperledger-fabric-baseimage","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/ghaskins\/hyperledger-fabric-baseimage","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1473300931.000266"},{"type":"message","user":"U0KPFAZNF","text":"the plan for that repo is to converge the stuff in fabric.git\/image\/base and fabric.git\/devenv in a meaningful way such that we can turn that into the input stage to a CI pipeline to spit out the vagrant\/dockerhub baseimages","ts":"1473301003.000268"},{"type":"message","user":"U0KPFAZNF","text":"if that looks good, we will propose the migration of that repo to something under hyperledger (presumably hyperledger\/fabric-baseimage)","ts":"1473301036.000269"},{"type":"message","user":"U0KPFAZNF","text":"what we could use help on is perhaps the jenkins side of the equation","ts":"1473301054.000270"},{"type":"message","user":"U0KPFAZNF","text":"i could add you to that project, if you approve, such that you can help us get the proper webhooks in place, and then also help set up a jenkins project to accept it","ts":"1473301094.000271"},{"type":"message","user":"U0KPFAZNF","text":"for now, we could probably ignore the webhooks though and just work on the jenkins configuration","ts":"1473301126.000272"},{"type":"message","user":"U0KPFAZNF","text":"my thought is this is all sandbox type stuff, so I wasnt going to bother the TSC until we prove its workable","ts":"1473301196.000273"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> any guidance on this?","ts":"1473301225.000274"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins: I assume we can recover the previous settings for when we had Jenkins firing off against github, and set up a new project","ts":"1473308033.000275"},{"type":"message","user":"U0UHG4VP1","text":"<@U1M7K67EV> I wasn\u2019t aware, but the part that says 28Kib\/s is bad","ts":"1473308073.000276"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF>: agree hold off tsc until we have it working","ts":"1473317744.000277"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> I think we should amend the policy on blockchain-explorer repo to NACR until the project gets more maintainers and into a groove.","ts":"1473332307.000278"},{"type":"message","user":"U0KM61BCP","text":"<@U11HH3P7Y> we just agreed on the TSC call to disable the fabric behave tests temporarily until we can stabilize them. Could you please stub them out for the time being?","ts":"1473347619.000279"},{"type":"message","user":"U0KM61BCP","text":"<@U0KN2SSKE> will work with Jeff on a plan to get them restored once stable.","ts":"1473347672.000280"},{"type":"message","user":"U11HH3P7Y","text":"ok <@U0KM61BCP> will do that","ts":"1473347832.000281"},{"type":"message","user":"U0KM61BCP","text":"thanks","ts":"1473354682.000282"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> would you please create a repository \u2018fabric-sdk-py\u2019 with NACR policy for the newly approved fabric- python sdk","ts":"1473354727.000283"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> : pls kill <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/1016\/>","ts":"1473355649.000284"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KPFAZNF> : Shall I kill #1016 build?","ts":"1473357273.000285"},{"type":"message","user":"U0KPFAZNF","text":"y","ts":"1473357281.000286"},{"type":"message","user":"U0KPFAZNF","text":"it was a bad push, no sense wasting the CI resources","ts":"1473357295.000287"},{"type":"message","user":"U11HH3P7Y","text":"ok done","ts":"1473357334.000288"},{"type":"message","user":"U0KPFAZNF","text":"ty","ts":"1473359259.000289"},{"type":"message","user":"U0KM61BCP","text":"ty <@U11HH3P7Y>","ts":"1473360872.000290"},{"type":"message","user":"U0KM61BCP","text":"<@U11HH3P7Y> <@U0UHG4VP1> <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/1014\/> seems to have been running almost 3 hours now - behave finished but seems hung","ts":"1473361313.000291"},{"type":"message","user":"U11HH3P7Y","text":"yes.","ts":"1473361409.000292"},{"type":"message","user":"U11HH3P7Y","text":"I will cancel this build now.. I will submit a patch to stop\/cancel the builds if it takes more time..","ts":"1473361499.000293"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: Jeff suggested me to upgrade grpcio package to 1.0.0 in Jenkins machine. I have updated bootstrap.sh with this change.. Could you please check this","ts":"1473378379.000294"},{"type":"message","user":"U0UHG4VP1","text":"ramesh have you tested this change in the jjb sandbox to make sure it works OK?","ts":"1473378415.000295"},{"type":"message","user":"U11HH3P7Y","text":"No.. I haven't implemented that jenkins ci setup for sanbox repo..","ts":"1473378474.000296"},{"type":"message","user":"U0UHG4VP1","text":"so is this a change I need to make to the image itself, or is this script run when openstack instantiates the VM?","ts":"1473378521.000297"},{"type":"message","user":"U0UHG4VP1","text":"looks like the image itself","ts":"1473378567.000298"},{"type":"message","user":"U0UHG4VP1","text":"since this will impact 100% of our CI could you check with hgabor to make sure this doesn\u2019t break fabric-api?","ts":"1473378612.000299"},{"type":"message","user":"U11HH3P7Y","text":"Will check with <@U1AU8DRQR> and let you know","ts":"1473378662.000300"},{"type":"message","user":"U0UHG4VP1","text":"OK","ts":"1473378668.000301"},{"type":"message","user":"U11HH3P7Y","text":"Chris suggested me to disable `behave tests ` in CI for time being.. I have submitted patch in ci-management.. Could you please review","ts":"1473378753.000302"},{"type":"message","user":"U0UHG4VP1","text":"I left a question on it","ts":"1473378871.000303"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP> fabric-sdk-py now has NACR enabled. Do you want the same for fabric-test-resources ? I still need a list of committers for f-t-r. I commented on <https:\/\/jira.hyperledger.org\/browse\/FAB-297>","ts":"1473379918.000304"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> merged","ts":"1473380307.000305"},{"type":"message","user":"U11HH3P7Y","text":"Thanks <@U0UHG4VP1>","ts":"1473380326.000306"},{"type":"message","user":"U1M7K67EV","text":"If the BDD tests are being disabled for now is there some way of still running them in Jenkins? Even manually. In my experience the tests are OK locally, they just have trouble in Jenkins (presumably with the extra load).","ts":"1473380529.000307"},{"type":"message","user":"U0UHG4VP1","text":"jcarrivick you could create a separate job that doesn\u2019t vote, I suppose. If nobody is checking the results I don\u2019t see the value","ts":"1473380584.000308"},{"type":"message","user":"U1M7K67EV","text":"Well I was more thinking that the disabling is temporary and we'd need some way of validating the stability is improved before we re-enable them","ts":"1473380642.000309"},{"type":"message","user":"U0UHG4VP1","text":"so that\u2019s what I just proposed - create a new job that just runs those tests, but don\u2019t enable voting for it.","ts":"1473380723.000310"},{"type":"message","user":"U0UHG4VP1","text":"<@U1M7K67EV> you might work with <@U11HH3P7Y> on how exactly to disable voting. I also would not spend any time worrying about s390 jobs, as there is no push to re-enable them","ts":"1473380977.000311"},{"type":"message","user":"U1M7K67EV","text":"Ok thanks ry, I'll do that","ts":"1473381041.000312"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> f-t-r same set of maintainers as fabric please 2+2","ts":"1473381231.000313"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP> OK.","ts":"1473381283.000314"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> how would I check the version of gprcio installed on a machine?","ts":"1473381428.000315"},{"type":"message","user":"U11HH3P7Y","text":"pip show grpcio","ts":"1473381459.000316"},{"type":"message","user":"U0UHG4VP1","text":"looks like it isn\u2019t installed, perhaps bootstrap.sh didn\u2019t get run.","ts":"1473381499.000317"},{"type":"message","user":"U0UHG4VP1","text":"I need to focus on something else for an hour or so, but I will try to get this gprcio image built tonight","ts":"1473381544.000318"},{"type":"message","user":"U0UHG4VP1","text":"or Friday","ts":"1473381586.000319"},{"type":"message","user":"U11HH3P7Y","text":"ok","ts":"1473381607.000320"},{"type":"message","user":"U0UHG4VP1","text":"how critical is this particular item?","ts":"1473381623.000321"},{"type":"message","user":"U11HH3P7Y","text":"tomorrow is fine.. That's what I head from jeff..","ts":"1473381682.000322"},{"type":"message","user":"U0UHG4VP1","text":"cbf: NACR is now enabled on fabric-sdk-py and blockchain-explorer. 2+2 is enabled for f-t-r","ts":"1473382110.000323"},{"type":"message","user":"U0KM61BCP","text":"danke <@U0UHG4VP1>","ts":"1473383624.000324"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> when you can, could you update <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/845\/5> to elide the behave tests?","ts":"1473394256.000325"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: I have updated this","ts":"1473429254.000326"},{"type":"message","user":"U11HH3P7Y","text":"Also, <@U1AU8DRQR> reviewed <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/961\/> (grpcio package upgrade) patchset and he is ok with these changes.","ts":"1473429467.000327"},{"type":"message","user":"U0UHG4VP1","text":"merged merged","ts":"1473429642.000328"},{"type":"message","user":"U0UHG4VP1","text":"I will still need to rebuild the images today to roll the GPRCIO change out","ts":"1473429688.000329"},{"type":"message","user":"U11HH3P7Y","text":"ok.. Also I am seeing merge builds are failing after disable behave tests..","ts":"1473429919.000330"},{"type":"message","user":"U11HH3P7Y","text":"After running `make unit-test`, seems membesrvc image is not creating..","ts":"1473429975.000331"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KPFAZNF> : any inputs","ts":"1473430014.000332"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> this was by design: <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/Makefile#L90>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/Makefile#L90","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/Makefile#L90","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1473430755.000333"},{"type":"message","user":"U0KPFAZNF","text":"the unit tests dont need the membersrvc-image","ts":"1473430764.000335"},{"type":"message","user":"U0KPFAZNF","text":"if another task requires it, i would recommend making it explicit","ts":"1473430785.000336"},{"type":"message","user":"U0KM61BCP","text":"what happened? seems like there is a dependency","ts":"1473437708.000337"},{"type":"message","user":"U11HH3P7Y","text":"yes I have submitted a patch in CI to build membersrvc image","ts":"1473437834.000338"},{"type":"message","user":"U0KM61BCP","text":"kk","ts":"1473437995.000339"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> please add <@U0PB67X4K> to the list of fabric and f-t-r maintainers","ts":"1473438398.000340"},{"type":"message","user":"U0KM61BCP","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/975\/>","ts":"1473438417.000341"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP> invites sent.","edited":{"user":"U0UHG4VP1","ts":"1473439647.000000"},"ts":"1473439139.000342"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> the overall issue is that the jenkins \u201cimage push\u201d task has an implicit dependency on image creation that was being satisfied by the behave tests running","ts":"1473439522.000343"},{"type":"message","user":"U0KPFAZNF","text":"once behave was removed from the equation, the image was no longer being built","ts":"1473439549.000344"},{"type":"message","user":"U0KPFAZNF","text":"the correct solution (IMO) is one of two options I\u2019ve discussed with Ramesh","ts":"1473439570.000345"},{"type":"message","user":"U0KPFAZNF","text":"option 1 - the jenkins flow is \u201ctest building\u201d (by building everything), \u201crun unit-tests\u201d, and \u201cpush images\"","ts":"1473439602.000346"},{"type":"message","user":"U0KPFAZNF","text":"option 2 - \u201crun unit tests\u201d (ensuring unit-test deps are met), and \u201cpush images\u201d (ensuring image pushing deps are met","ts":"1473439639.000347"},{"type":"message","user":"U0KPFAZNF","text":"but for the short term, Ramesh just explicitly builds the membersrvc-image in the unit-test step just to satisfy the current implicit dep","ts":"1473439696.000349"},{"type":"message","user":"U0KPFAZNF","text":"to put it another way, i do not think we should support implicit dependencies except for one possible mode: and that is, if all dependencies are known to be built anyway","ts":"1473439754.000350"},{"type":"message","user":"U0KPFAZNF","text":"(i.e. option 1)","ts":"1473439766.000351"},{"type":"message","user":"U0KPFAZNF","text":"(personally I think even for option 1, the \u201cpush images\u201d task should still express its dependencies (e.g. \u201cmake images\u201d should run first)","ts":"1473439875.000352"},{"type":"message","user":"U0KPFAZNF","text":"the build should do a no-op if there is no work to do","ts":"1473439886.000353"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> i know you are super busy, but I am wondering if we can push the ball a little further on the \u201cvagrant in jenkins\u201d work","ts":"1473440331.000354"},{"type":"message","user":"U0KPFAZNF","text":"im not sure what the environment is like or if its conducive to a non LF person coming in, but if you gave me proper access to at least a jenkins task to configure, i could play","edited":{"user":"U0KPFAZNF","ts":"1473440380.000000"},"ts":"1473440371.000355"},{"type":"message","user":"U0KPFAZNF","text":"ive used jenkins before, i think I could get fairly far with just a blank project that I could point at a git tree and fire off runs","ts":"1473440424.000357"},{"type":"message","user":"U0UHG4VP1","text":"we have a jjb sandbox for this let me add you","ts":"1473440440.000358"},{"type":"message","user":"U0KPFAZNF","text":"(obviously if I run into issues with the worker not having the right stuff installed, that is a different matter","ts":"1473440444.000359"},{"type":"message","user":"U0KPFAZNF","text":"ok, cool","ts":"1473440458.000360"},{"type":"message","user":"U0UHG4VP1","text":"are you able to log in here? <https:\/\/jenkins.hyperledger.org\/sandbox\/>","ts":"1473440491.000361"},{"text":"checks","type":"message","subtype":"me_message","user":"U0KPFAZNF","ts":"1473440496.000362"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2A35CFSL\/screen_shot_2016-09-09_at_1.01.58_pm.png|Screen Shot 2016-09-09 at 1.01.58 PM.png>","file":{"id":"F2A35CFSL","created":1473440542,"timestamp":1473440542,"name":"Screen Shot 2016-09-09 at 1.01.58 PM.png","title":"Screen Shot 2016-09-09 at 1.01.58 PM.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0KPFAZNF","editable":false,"size":25786,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2A35CFSL\/screen_shot_2016-09-09_at_1.01.58_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2A35CFSL\/download\/screen_shot_2016-09-09_at_1.01.58_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2A35CFSL-ac7e15d341\/screen_shot_2016-09-09_at_1.01.58_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2A35CFSL-ac7e15d341\/screen_shot_2016-09-09_at_1.01.58_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2A35CFSL-ac7e15d341\/screen_shot_2016-09-09_at_1.01.58_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":138,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2A35CFSL-ac7e15d341\/screen_shot_2016-09-09_at_1.01.58_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":184,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2A35CFSL-ac7e15d341\/screen_shot_2016-09-09_at_1.01.58_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2A35CFSL-ac7e15d341\/screen_shot_2016-09-09_at_1.01.58_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":276,"image_exif_rotation":1,"original_w":803,"original_h":308,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2A35CFSL\/screen_shot_2016-09-09_at_1.01.58_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2A35CFSL-75dbe3d195","channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1473440545.000363"},{"type":"message","user":"U0UHG4VP1","text":"try again?","ts":"1473440691.000364"},{"type":"message","user":"U0KPFAZNF","text":"yep, im in","ts":"1473440709.000365"},{"type":"message","user":"U0KPFAZNF","text":"ok to create a job or two?","ts":"1473440715.000366"},{"type":"message","user":"U0UHG4VP1","text":"yes","ts":"1473440730.000367"},{"type":"message","user":"U0UHG4VP1","text":"it gets wiped once a week IIRC","ts":"1473440737.000368"},{"type":"message","user":"U0KPFAZNF","text":"ty, ill let you know how far I get","ts":"1473440737.000369"},{"type":"message","user":"U0KPFAZNF","text":"ok, good to know, and no problem","ts":"1473440743.000370"},{"type":"message","user":"U0UHG4VP1","text":"there is apparently a command line way for you to manage it which I am unfamiliar with","ts":"1473440765.000371"},{"type":"message","user":"U0KPFAZNF","text":"is the worker backend the same\/comparable to the production queue?","ts":"1473440781.000372"},{"type":"message","user":"U0KPFAZNF","text":"yeah, i only know the UI methods","ts":"1473440802.000373"},{"type":"message","user":"U0UHG4VP1","text":"yes, we only have the one set of slaves. I\u2019m not sure if those are configured correctly","ts":"1473440807.000374"},{"type":"message","user":"U0KPFAZNF","text":"this is fine, I am comfortable with the UI job interface","ts":"1473440815.000375"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> what did you learn about the command line tools?","ts":"1473440826.000376"},{"type":"message","user":"U0KPFAZNF","text":"ok, we shall soon see","ts":"1473440832.000377"},{"type":"message","user":"U0UHG4VP1","text":"I think to get to the actual yaml you need, you need to use the command line tool in the end to inject the yaml","ts":"1473440855.000378"},{"type":"message","user":"U0UHG4VP1","text":"I may be way off base","ts":"1473440860.000379"},{"type":"message","user":"U0UHG4VP1","text":"the sandbox was completely set up and tested before the outage, and was one of the reconstructed systems, so we may well run into rough patches","ts":"1473440893.000380"},{"type":"message","user":"U0KPFAZNF","text":"could you install the git plugin?","ts":"1473440903.000381"},{"type":"message","user":"U0KPFAZNF","text":"i want to pull the src from github","ts":"1473440910.000382"},{"type":"message","user":"U0KPFAZNF","text":"i dont seem to have permissions to mod the plugins (no surprise)","ts":"1473440928.000383"},{"type":"message","user":"U0KPFAZNF","text":"if this works the way I expect, I think I can have jenkins just clone the repo (which will have the yaml already in it)","ts":"1473441019.000384"},{"type":"message","user":"U0UHG4VP1","text":"I apologize, but you\u2019ll need to log in once more (the plugins required a restart)","ts":"1473441084.000385"},{"type":"message","user":"U0KPFAZNF","text":"ok, not a problem","ts":"1473441151.000386"},{"type":"message","user":"U0UHG4VP1","text":"OK. that ran on master","ts":"1473441277.000387"},{"type":"message","user":"U0KPFAZNF","text":"ok, basic stuff in place, now I need to work on prereqs","ts":"1473441279.000388"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/sandbox\/job\/baseimage-experiment\/1\/console>","ts":"1473441281.000389"},{"type":"message","user":"U0UHG4VP1","text":"I need to stitch together the openstack part","ts":"1473441293.000390"},{"type":"message","user":"U0KPFAZNF","text":"I assume the job doesnt have sudo\/root perms (e.g. I cant just do \u201capt-get install jq\"","ts":"1473441318.000391"},{"type":"message","user":"U0KPFAZNF","text":"?","ts":"1473441327.000392"},{"type":"message","user":"U0UHG4VP1","text":"not on that machine","ts":"1473441333.000393"},{"type":"message","user":"U0KPFAZNF","text":"what is the best path forward to get the prereqs set up?","ts":"1473441345.000394"},{"type":"message","user":"U0UHG4VP1","text":"1) let me get jenkins talking to openstack so we\u2019re actually using the image we already have","ts":"1473441368.000395"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1473441377.000396"},{"type":"message","user":"U0UHG4VP1","text":"2) find what is missing from that image and we\u2019ll work through building a better one","ts":"1473441385.000397"},{"type":"message","user":"U0KPFAZNF","text":"perfect, thanks <@U0UHG4VP1>","ts":"1473441395.000398"},{"type":"message","user":"U0KPFAZNF","text":"im going to grab lunch, bbiab","ts":"1473441399.000399"},{"type":"message","user":"U0KPFAZNF","text":"BTW: I added you as a collaborator on that repo","ts":"1473441462.000400"},{"type":"message","user":"U0KPFAZNF","text":"just in case \/ because, not asking you to do any work there","ts":"1473441473.000401"},{"type":"message","user":"U0KPFAZNF","text":"at some point, we may want to import it or whatever","ts":"1473441498.000402"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/979\/> looks like a copy\/paste of the other stanzas, right?","edited":{"user":"U0UHG4VP1","ts":"1473448470.000000"},"ts":"1473448446.000403"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/jenkins.hyperledger.org\/view\/fabric\/> shows the new jobs","ts":"1473448567.000405"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>:new jobs are to perform behave tests and skip vote to gerrit","ts":"1473449354.000406"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> I\u2019m running through the last bits of tying up to openstack. I promise you I\u2019m doing more than drinking tea :slightly_smiling_face:","ts":"1473450060.000407"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>, i never doubted that, but thank you","ts":"1473450133.000408"},{"type":"message","user":"U0UHG4VP1","text":"an extra difficulty is the sandbox is running the very latest Jenkins with a new, spiffy UI, whereas the production one a major release back","ts":"1473450261.000409"},{"type":"message","user":"U0UHG4VP1","text":"I\u2019m going to limit sandbox to spawning one builder if that\u2019s OK","ts":"1473450311.000410"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> let\u2019s see how this goes. <https:\/\/jenkins.hyperledger.org\/sandbox\/computer\/>","ts":"1473450846.000411"},{"type":"message","user":"U0UHG4VP1","text":"I just provisioned two boxes, they should live for 60 seconds and be collected","ts":"1473450861.000412"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> yes i think that is fine","ts":"1473451336.000413"},{"type":"message","user":"U0KPFAZNF","text":"ill give it a whirl","ts":"1473451340.000414"},{"type":"message","user":"U0KPFAZNF","text":"just kick a new build off?","ts":"1473451344.000415"},{"type":"message","user":"U0KPFAZNF","text":"or do I need to re-create job?","ts":"1473451357.000416"},{"type":"message","user":"U0KPFAZNF","text":"cool, looks like jq was found this tmie","ts":"1473451414.000417"},{"type":"message","user":"U0UHG4VP1","text":"assign it to hyp=fabric-x86-64 or whatever","ts":"1473451419.000418"},{"type":"message","user":"U0KPFAZNF","text":"now its missing vagrant","ts":"1473451419.000419"},{"type":"message","user":"U0KPFAZNF","text":"how do I do that?","ts":"1473451433.000420"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/jenkins.hyperledger.org\/sandbox\/computer\/hyp-x86_64-1630\/> wait for this to come up","edited":{"user":"U0UHG4VP1","ts":"1473453568.000000"},"ts":"1473451449.000421"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1473451461.000422"},{"type":"message","user":"U0UHG4VP1","text":"copy and paste the stuff from the ci-management repo for one of the fabric jobs","ts":"1473451471.000423"},{"type":"message","user":"U0UHG4VP1","text":"it shows the params","ts":"1473451475.000424"},{"type":"message","user":"U0KPFAZNF","text":"I always just click \u201cbuild now\u201d, how do you direct to a specific place?","ts":"1473451480.000425"},{"type":"message","user":"U0UHG4VP1","text":"by tagging the build for a builder type","ts":"1473451527.000426"},{"type":"message","user":"U0UHG4VP1","text":"look here <https:\/\/build.allseenalliance.org\/ci\/job\/android-verify\/configure-readonly\/>","ts":"1473451570.000427"},{"type":"message","user":"U0UHG4VP1","text":"be sure to click all the \u201cadvanced\u201d buttons to unfurl the proper decorations","ts":"1473451584.000428"},{"type":"message","user":"U0KPFAZNF","text":"ah, i see \u201clabel expression\"","ts":"1473451608.000429"},{"type":"message","user":"U0UHG4VP1","text":"I apologize for being abrupt but my hair is on fire for the next 20 minutes","ts":"1473451608.000430"},{"type":"message","user":"U0KPFAZNF","text":"ill look for that","ts":"1473451610.000431"},{"type":"message","user":"U0KPFAZNF","text":"heh, no worries","ts":"1473451614.000432"},{"type":"message","user":"U0UHG4VP1","text":"1630 is up now, and I set the reap timeout to 10 minutes to speed your cycles","edited":{"user":"U0UHG4VP1","ts":"1473453543.000000"},"ts":"1473451630.000433"},{"type":"message","user":"U0UHG4VP1","text":"can you get here? <https:\/\/jenkins.hyperledger.org\/sandbox\/computer\/hyp-x86_64-1630\/script>","ts":"1473451664.000434"},{"type":"message","user":"U0UHG4VP1","text":"if not no big deal","ts":"1473451669.000435"},{"type":"message","user":"U0KPFAZNF","text":"ok, ill try it again","ts":"1473451698.000436"},{"type":"message","user":"U0KPFAZNF","text":"looks like it was directed to 1630 properly, but missing jq","ts":"1473451743.000437"},{"type":"message","user":"U0KPFAZNF","text":"but go put out the other fire","ts":"1473451749.000438"},{"type":"message","user":"U0KPFAZNF","text":"this is not high priority","ts":"1473451753.000439"},{"type":"message","user":"U0KPFAZNF","text":"ty","ts":"1473451761.000440"},{"type":"message","user":"U0KPFAZNF","text":"(and no, cant load the \/script URL)","ts":"1473451780.000441"},{"type":"message","user":"U0UHG4VP1","text":"are you able to install jq? you should have sudo access in those jobs","ts":"1473453165.000442"},{"type":"message","user":"U0KPFAZNF","text":"oh, i didnt try","ts":"1473455298.000447"},{"type":"message","user":"U0KPFAZNF","text":"let me try that","ts":"1473455300.000448"},{"type":"message","user":"U0KPFAZNF","text":"is it ubuntu?","ts":"1473455307.000449"},{"type":"message","user":"U0UHG4VP1","text":"14.04","ts":"1473455317.000450"},{"type":"message","user":"U0KPFAZNF","text":"cool","ts":"1473455334.000451"},{"type":"message","user":"U0UHG4VP1","text":"when I did this I had to grab vagrant source via wget and build it","ts":"1473455340.000452"},{"type":"message","user":"U0UHG4VP1","text":"feel free to mess around a bit, I am trying to get you a more interesting image to play witrh","ts":"1473455366.000453"},{"type":"message","user":"U0KPFAZNF","text":"so heres a problem","ts":"1473455406.000454"},{"type":"message","user":"U0KPFAZNF","text":"i attached a label to 1630 previously, but that node since went offline","ts":"1473455419.000455"},{"type":"message","user":"U0KPFAZNF","text":"is there a way we can label these with something more persistent?","ts":"1473455432.000456"},{"type":"message","user":"U0KPFAZNF","text":"perhaps \u201cvagrant-builder\"","ts":"1473455439.000457"},{"type":"message","user":"U0UHG4VP1","text":"use the label hyp-fabric-x86_64","ts":"1473455460.000458"},{"type":"message","user":"U0KPFAZNF","text":"ok, perfect","ts":"1473455471.000459"},{"type":"message","user":"U0UHG4VP1","text":"it will attach to whatever hyp-fabric-x86_64 you have running","ts":"1473455474.000460"},{"type":"message","user":"U0KPFAZNF","text":"oh it looks like I did that already","ts":"1473455487.000461"},{"type":"message","user":"U0KPFAZNF","text":"didnt realize","ts":"1473455488.000462"},{"type":"message","user":"U0KPFAZNF","text":"so thats all set","ts":"1473455491.000463"},{"type":"message","user":"U0UHG4VP1","text":"do you want a longer reap time on them?","ts":"1473455500.000464"},{"type":"message","user":"U0KPFAZNF","text":"it seemed to come up quick","ts":"1473455509.000465"},{"type":"message","user":"U0UHG4VP1","text":"I figured 10 minutes was enough but I guess not","ts":"1473455511.000466"},{"type":"message","user":"U0UHG4VP1","text":"OK","ts":"1473455512.000467"},{"type":"message","user":"U0KPFAZNF","text":"yeah, i think its fine","ts":"1473455516.000468"},{"type":"message","user":"U0KPFAZNF","text":"it only went away because i switched tasks","ts":"1473455525.000469"},{"type":"message","user":"U0UHG4VP1","text":"now I need to refigure how I built vagrant","ts":"1473455549.000470"},{"type":"message","user":"U0KPFAZNF","text":"if I have sudo, i can probably install it in the job script","ts":"1473455571.000471"},{"type":"message","user":"U0UHG4VP1","text":"right now I\u2019m baking an image with gprc 1.0 so I figured I would add vagrant for you","ts":"1473455592.000472"},{"type":"message","user":"U0UHG4VP1","text":"disk space is approximately free","ts":"1473455600.000473"},{"type":"message","user":"U0KPFAZNF","text":"I am not quite sure what this error is saying","ts":"1473455618.000474"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/sandbox\/job\/baseimage-experiment\/5\/console>","ts":"1473455619.000475"},{"type":"message","user":"U0KPFAZNF","text":"im guessing its indirectly related to my attempt to sudo","ts":"1473455629.000476"},{"type":"message","user":"U0UHG4VP1","text":"the current image has Ubuntu 14.04.4 - fabric - DOCKER 1.8 PROTOC 3.0","ts":"1473455639.000477"},{"type":"message","user":"U0KPFAZNF","text":"cool, that might be enough as long as I have sudo to install more","ts":"1473455659.000478"},{"type":"message","user":"U0UHG4VP1","text":"tell me what you need, exactly. jq at least","ts":"1473455685.000479"},{"type":"message","user":"U0UHG4VP1","text":"vagrant of a recent vintage","ts":"1473455692.000480"},{"type":"message","user":"U0UHG4VP1","text":"which also meant vbox etc","ts":"1473455697.000481"},{"type":"message","user":"U0KPFAZNF","text":"jq vagrant and packer come to mind","ts":"1473455698.000482"},{"type":"message","user":"U0KPFAZNF","text":"yeah, vbox","ts":"1473455701.000483"},{"type":"message","user":"U0UHG4VP1","text":"it\u2019s compiling rocksdb. I really should make these machines 64\/64 when I\u2019m doing this","ts":"1473455725.000484"},{"type":"message","user":"U0UHG4VP1","text":"why leave cores to spare?","ts":"1473455731.000485"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1473455737.000486"},{"type":"message","user":"U0KPFAZNF","text":"thats my motto","ts":"1473455740.000487"},{"type":"message","user":"U0KPFAZNF","text":"what machine is compiling rocksdb though?","ts":"1473455754.000488"},{"type":"message","user":"U0KPFAZNF","text":"oh, this is your custom build","ts":"1473455760.000489"},{"type":"message","user":"U0UHG4VP1","text":"we\u2019re drawing from one pool, so I\u2019d hate to starve the real jenkins","ts":"1473455770.000490"},{"type":"message","user":"U0KPFAZNF","text":"i mistook it for a fabric build","ts":"1473455771.000491"},{"type":"message","user":"U0UHG4VP1","text":"yeah, you can check out our vagrant stuff in ci-management. I\u2019m doing vagrant up right now, waiting for vagrant ssh to become available","ts":"1473455811.000492"},{"type":"message","user":"U0KPFAZNF","text":"i see","ts":"1473455828.000493"},{"type":"message","user":"U0UHG4VP1","text":"you\u2019d need to set up your own blah blah blah since you won\u2019t have the exact images we use","ts":"1473455854.000494"},{"type":"message","user":"U0KPFAZNF","text":"right","ts":"1473455861.000495"},{"type":"message","user":"U0KPFAZNF","text":"im thinking, if this POC proves out, we\u2019d end up with 4 basic jobs","ts":"1473455880.000496"},{"type":"message","user":"U0KPFAZNF","text":"1 for vagrant (implicitly x86_64)","ts":"1473455889.000497"},{"type":"message","user":"U0KPFAZNF","text":"and 3 for docker (x86, Z, ppcle)","ts":"1473455902.000498"},{"type":"message","user":"U0KPFAZNF","text":"each would trigger on a new commit to the repo","ts":"1473455913.000499"},{"type":"message","user":"U0UHG4VP1","text":"you are quite optimistic!","ts":"1473455924.000500"},{"type":"message","user":"U0KPFAZNF","text":"(we might also want to have a different tier for validating gerrit PRs","ts":"1473455934.000501"},{"type":"message","user":"U0KPFAZNF","text":"the main difference between the two types of jobs are, the commit-monitors would push to atlas\/dockerhub on completion, whereas the others would just report the CI failure to the PR","ts":"1473455961.000502"},{"type":"message","user":"U0KPFAZNF","text":"(yeah, I know","ts":"1473455965.000503"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1473455967.000504"},{"type":"message","user":"U0KPFAZNF","text":"even if I can just get vagrant + x86 docker working, I would be super happy","ts":"1473455981.000505"},{"type":"message","user":"U0KPFAZNF","text":"we can roll in the other $arch after that","ts":"1473455992.000506"},{"type":"message","user":"U0UHG4VP1","text":"jq 1.3 OK?","ts":"1473456030.000507"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> making good progress with <@U0UHG4VP1> on the baseimage pipeline","ts":"1473472559.000508"},{"type":"message","user":"U0KPFAZNF","text":"have both a vagrant and docker build going right now","ts":"1473472567.000509"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/sandbox\/job\/baseimage-docker-experiment\/2\/console>","ts":"1473472569.000510"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/sandbox\/job\/baseimage-experiment\/16\/console>","ts":"1473472584.000511"},{"type":"message","user":"U0UHG4VP1","text":"I\u2019ll add cbf to the group so he can see that :slightly_smiling_face:","ts":"1473472586.000512"},{"type":"message","user":"U0KPFAZNF","text":"ah, hahah","ts":"1473472591.000513"},{"type":"message","user":"U0KPFAZNF","text":"sorry, didnt think of that","ts":"1473472595.000514"},{"type":"message","user":"U0KPFAZNF","text":"but yes,  pls add him","ts":"1473472604.000515"},{"type":"message","user":"U0KPFAZNF","text":"long story short, this looks very viable","ts":"1473472633.000516"},{"type":"message","user":"U0KPFAZNF","text":"the remaining hurdles are less complex than the ones already solved","ts":"1473472648.000517"},{"type":"message","user":"U0UHG4VP1","text":"cbf is added to the sandbox","ts":"1473472764.000518"},{"type":"message","user":"U0KPFAZNF","text":"ty","ts":"1473472769.000519"},{"type":"message","user":"U0UHG4VP1","text":"is it fatal if every single merge job doesn\u2019t completely push to dockerhub? I assume the next push contains the tip of master, which would include previous stuff","ts":"1473472894.000520"},{"type":"message","user":"U0KPFAZNF","text":"to be honest, I dont think any of the stuff we push to dockerhub from the CI pipeline is currently useable in any form","ts":"1473473302.000521"},{"type":"message","user":"U0KPFAZNF","text":"(yet)","ts":"1473473305.000522"},{"type":"message","user":"U0KPFAZNF","text":"but I am working on that","ts":"1473473308.000523"},{"type":"message","user":"U0KPFAZNF","text":"so, long story short, I doubt it matters much regarding those failures (yet)","edited":{"user":"U0KPFAZNF","ts":"1473473349.000000"},"ts":"1473473332.000524"},{"type":"message","user":"U0KPFAZNF","text":"it might eventually","ts":"1473473335.000525"},{"type":"message","user":"U0KPFAZNF","text":"the reason is that, fabric-peer cant really stand on their own anyway..not until we start addressing the chaincode side of the story","ts":"1473473396.000527"},{"type":"message","user":"U0UHG4VP1","text":"ok. should we delete all that stuff at dockerhub then? or stop pushing to it?","ts":"1473473497.000528"},{"type":"message","user":"U0KPFAZNF","text":"I should be careful\u2026let me rephrase: I can\u2019t see how its usable in any form\u2026that said, people seem to be making use of it somehow","ts":"1473473527.000529"},{"type":"message","user":"U0KPFAZNF","text":"so, not sure what they are doing, but I dont think we can get rid of it completely","ts":"1473473548.000530"},{"type":"message","user":"U0KPFAZNF","text":"lets just wait until we have the real pipeline in place and then we can reevaluate","ts":"1473473565.000531"},{"type":"message","user":"U0UHG4VP1","text":"kk","ts":"1473473569.000532"},{"type":"message","user":"U0KPFAZNF","text":"(the issue right now is, fabric-peer currently relies on fabric-baseimage:latest, which we (intentionally) do not push to dockerhub","ts":"1473473590.000533"},{"type":"message","user":"U0KPFAZNF","text":"the only way to really get a complete suite is to download the code and build the images locally","ts":"1473473606.000534"},{"type":"message","user":"U0KPFAZNF","text":"the stuff on dockerhub isnt complete (thats what we need to fix)","ts":"1473473615.000535"},{"type":"message","user":"U0KPFAZNF","text":"but, there does seem to be a subset of users (I think particularly in the bluemix crowd) that are somehow making use of whats there","ts":"1473473639.000536"},{"type":"message","user":"U0KPFAZNF","text":"im not sure how\u2026perhaps they are manually augmenting the baseimage in their environment","ts":"1473473655.000537"},{"text":"shrugs","type":"message","subtype":"me_message","user":"U0UHG4VP1","ts":"1473473674.000538"},{"type":"message","user":"U0UHG4VP1","text":"let them be, I suppose.","ts":"1473473683.000539"},{"type":"message","user":"U0KPFAZNF","text":"right, cant hurt","ts":"1473473689.000540"},{"type":"message","user":"U0UHG4VP1","text":"well, it does.","ts":"1473473729.000541"},{"type":"message","user":"U0KPFAZNF","text":"heh, i suppose thats true","ts":"1473473738.000542"},{"type":"message","user":"U0KPFAZNF","text":"certainly dockerhub storage, and lf bandwidth","ts":"1473473751.000543"},{"type":"message","user":"U0UHG4VP1","text":"it wastes our resources doing pointless builds, slowing verify builds","ts":"1473473755.000544"},{"type":"message","user":"U0UHG4VP1","text":"nobody seems to watch the merge jobs.","ts":"1473473791.000545"},{"type":"message","user":"U0KPFAZNF","text":"i hope to have the missing pieces solved shortly though, so perhaps it wont be wasteful much longer","ts":"1473473797.000546"},{"type":"message","user":"U0UHG4VP1","text":"sure.","ts":"1473473806.000547"},{"type":"message","user":"U0UHG4VP1","text":"I\u2019m rambling, I apologize","ts":"1473473814.000548"},{"type":"message","user":"U0KPFAZNF","text":"the merge jobs are the only ones that try to push, right?","ts":"1473473823.000549"},{"type":"message","user":"U0KPFAZNF","text":"IOW, the PR jobs just build\/run UTs","ts":"1473473847.000550"},{"type":"message","user":"U0UHG4VP1","text":"yes, the merge jobs push","ts":"1473473870.000551"},{"type":"message","user":"U0UHG4VP1","text":"I don\u2019t know if ramesh has designs to change that.","ts":"1473473916.000552"},{"type":"message","user":"U268EB76W","text":"Where can I find the documentation that describes the gerrit URL? I want to understand what the various path elements mean, like r, p, #, admin, etc.","ts":"1473548202.000553"},{"type":"message","user":"U268EB76W","text":"Is this appropriate channel for discussing things like --provision, Vagrant, and the VM, when to provision or destroy and up, when to know to do this, how often does the VM change, etc?","edited":{"user":"U268EB76W","ts":"1473548485.000000"},"ts":"1473548382.000554"},{"type":"message","user":"U0UHG4VP1","text":"<@U268EB76W> the documentation for gerrit is here: <https:\/\/gerrit.hyperledger.org\/r\/Documentation\/index.html> the link to the email list is at the bottom of: <https:\/\/www.gerritcodereview.com\/>","ts":"1473551160.000556"},{"type":"message","user":"U0UHG4VP1","text":"I don\u2019t know what the path elements mean, if that\u2019s your question. you could grab the source from <https:\/\/gerrit.googlesource.com\/gerrit\/>","ts":"1473551255.000557"},{"type":"message","user":"U0UHG4VP1","text":"chainsaw: for your second set of questions, maybe. <#C0YPYBVJM|fabric-dev> might be better for those questions.","ts":"1473551351.000558"},{"type":"message","user":"U0UHG4VP1","text":"for our CI setup, we only provision and use VMs one time.","ts":"1473551371.000559"},{"type":"message","user":"U268EB76W","text":"<@U0UHG4VP1> thx that clears a lot of fog in my mind. appreciate your reply :slightly_smiling_face:","ts":"1473551492.000560"},{"type":"message","user":"U0UHG4VP1","text":"sure thing. if you have questions about <http:\/\/jenkins.hyperledger.org|jenkins.hyperledger.org>, feel free to ask any time :slightly_smiling_face:","ts":"1473551538.000561"},{"type":"message","user":"U268EB76W","text":"glad you came back on jenkins <@U0UHG4VP1> because I have been wondering if your jenkins work flows are documented i.e. purpose, architecture, plugin usage, and job design.","ts":"1473551888.000562"},{"type":"message","user":"U0UHG4VP1","text":"the jobs themselves are in the ci-management repo, which you\u2019re free to clone and take a look at","ts":"1473551933.000563"},{"type":"message","user":"U0UHG4VP1","text":"we use Jenkins Job Builder which consumes YAML","ts":"1473551949.000564"},{"type":"message","user":"U0UHG4VP1","text":"there are perhaps a dozen other plugins we use, but they\u2019re almost completely cosmetic","ts":"1473551983.000565"},{"type":"message","user":"U268EB76W","text":"cool! will do thx again :slightly_smiling_face:","ts":"1473552003.000566"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=ci-management.git;a=summary> if you want to look at them directly click \u201ctree\"","ts":"1473552063.000567"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=ci-management.git;a=blob;f=jjb\/fabric\/fabric-jobs.yaml;h=3e1407813e721d41f7ecd79bf73b549a3883a53d;hb=HEAD> for instance","ts":"1473552097.000568"},{"type":"message","user":"U268EB76W","text":"got it; hey <@U0UHG4VP1> while quick ? for now until github is fully removed, when do the mirror updates to github occur and what is the frequency?","ts":"1473552156.000569"},{"type":"message","user":"U0UHG4VP1","text":"the mirrors are updated every two minutes. right now only \/fabric\/ has any commit traffic.","ts":"1473552197.000570"},{"type":"message","user":"U0UHG4VP1","text":"there is no plan to remove the github mirrors.","ts":"1473552221.000571"},{"type":"message","user":"U268EB76W","text":"Oh ok but the github GO path dependency is going away, right? Thx for the links I can use gerrit git to track changes to jenkins, nice.","ts":"1473552355.000572"},{"type":"message","user":"U268EB76W","text":"jenkins on jenkins :slightly_smiling_face:","ts":"1473552415.000573"},{"type":"message","user":"U268EB76W","text":"I'll could jenkins to pump data into a blockchain and create an immutable ledger of all activity, just a thought...maybe not...","ts":"1473552596.000574"},{"type":"message","user":"U0UHG4VP1","text":"yes, the github GO issue is known. I looked in JIRA quickly and I didn\u2019t see a bug tracking it","ts":"1473552621.000575"},{"type":"message","user":"U0UHG4VP1","text":"git is sort-of a blockchain. if we turned on GPG signatures, it would be","ts":"1473552667.000576"},{"type":"message","user":"U268EB76W","text":"right! but unfortunately GPG gets a bad wrap (almost a pun there) and has issues, not technical mind you, but you are correct. But it would need some adornments starting with a consensus engine.","edited":{"user":"U268EB76W","ts":"1473553045.000000"},"ts":"1473553023.000577"},{"type":"message","user":"U268EB76W","text":"you don't know how many time i have contemplated repurposing git","ts":"1473553100.000579"},{"type":"message","user":"U268EB76W","text":"where do you find the archive of this slack?","ts":"1473553222.000580"},{"type":"message","user":"U0UHG4VP1","text":"I think that is a common thought","ts":"1473553225.000581"},{"type":"message","user":"U0UHG4VP1","text":"it only goes to 10,000 lines which is about four days of traffic","ts":"1473553242.000582"},{"type":"message","user":"U268EB76W","text":"but i thought wonderful draw was the archive, because embedded are nuggets of gold, no?","ts":"1473553300.000583"},{"type":"message","user":"U268EB76W","text":"sort of like truncated blockchain....useless except for the moment","ts":"1473553377.000584"},{"type":"message","user":"U0UHG4VP1","text":"with our userbase, it would be about $30,000 a month for unlimited archives","ts":"1473553473.000585"},{"type":"message","user":"U0UHG4VP1","text":"we add about 100 users a week","ts":"1473553486.000586"},{"type":"message","user":"U0UHG4VP1","text":"which is\u2026 $6\/user\/month? something like that","ts":"1473553502.000587"},{"type":"message","user":"U268EB76W","text":"i think the history of hyperledger development deserves an archive for mankind to cherish in time","ts":"1473553515.000588"},{"type":"message","user":"U268EB76W","text":"perhaps an open source Apache platform would be better in the long run","ts":"1473553549.000589"},{"type":"message","user":"U0UHG4VP1","text":"$6.67\/user\/month: <https:\/\/hyperledgerproject.slack.com\/pricing>","ts":"1473553566.000590"},{"type":"message","user":"U0UHG4VP1","text":"no argument, but I think <#C0J02NU1E|general> would be a better place to discuss slack","ts":"1473553584.000591"},{"type":"message","user":"U268EB76W","text":"sorry bout that i tend to get on tangents my bad","ts":"1473553625.000592"},{"type":"message","user":"U0UHG4VP1","text":"no worries","ts":"1473553648.000593"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP>: let me know when you squash and upload f-t-r, I\u2019ll move it to the archive and turn on mirroring in gerrit <https:\/\/jira.hyperledger.org\/browse\/FAB-297>","ts":"1473619919.000594"},{"type":"message","user":"U0UHG4VP1","text":"also, mirroring to github is now at most 15 seconds behind and should be interrupt driven (merges) now. <https:\/\/github.com\/hyperledger\/fabric-sdk-py> and <https:\/\/github.com\/hyperledger\/blockchain-explorer> now exist","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-sdk-py","title_link":"https:\/\/github.com\/hyperledger\/fabric-sdk-py","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric-sdk-py>","fallback":"GitHub: hyperledger\/fabric-sdk-py","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-sdk-py","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1},{"service_name":"GitHub","title":"hyperledger\/blockchain-explorer","title_link":"https:\/\/github.com\/hyperledger\/blockchain-explorer","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/blockchain-explorer>","fallback":"GitHub: hyperledger\/blockchain-explorer","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/blockchain-explorer","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":2}],"ts":"1473622550.000595","reactions":[{"name":"+1","users":["U0PB67X4K"],"count":1}]},{"type":"message","user":"U11NUTP4L","text":"<@U0KPFAZNF> <@U0KM61BCP> , I am seeing the gmock issue with 0.6 branch and see a need for backporting the patch that went upstream. So want to know your suggestion on whether its acceptable to bump just the protobuf version from 3.0.0-beta to 3.0.2 (in setup.sh) ? Or do we need to backport the entire protobuf update patch (<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/807\/>) ?","ts":"1473686876.000597"},{"type":"message","user":"U0KM61BCP","text":"we will be cutting new v0.6 branch from master, I believe","ts":"1473686956.000598"},{"type":"message","user":"U0KM61BCP","text":"hold off for now","ts":"1473686974.000599"},{"type":"message","user":"U11NUTP4L","text":"ok.","ts":"1473686994.000600"},{"type":"message","user":"U0KPFAZNF","text":"To answer your question, you need the whole patch","ts":"1473687018.000601"},{"type":"message","user":"U0KPFAZNF","text":"The protobuf team changed the ABI so you need to have all the vendor\/ go changes to go along with","ts":"1473687054.000602"},{"type":"message","user":"U11NUTP4L","text":"oh. ok. then while cutting the new branch, we should be taking the new patch that made to upstream as well - <https:\/\/gerrit.hyperledger.org\/r\/991>","ts":"1473687115.000603"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> I can squash-upload f-t-r anytime\u2026","edited":{"user":"U0KM61BCP","ts":"1473691823.000000"},"ts":"1473691811.000604"},{"type":"message","user":"U0KM61BCP","text":"submitted the change request <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/997\/>","ts":"1473691859.000606"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> <https:\/\/jira.hyperledger.org\/browse\/FAB-357> created to request fabric-sdk-node repo - thanks!","ts":"1473692097.000607"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP> <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric-sdk-node>","ts":"1473699160.000608"},{"type":"message","user":"U0KM61BCP","text":"super danke <@U0UHG4VP1>","ts":"1473699182.000609"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP> mirroring for <https:\/\/github.com\/hyperledger\/fabric-test-resources> is set up, as is fabric-sdk-node. f-t-r is archived: <https:\/\/github.com\/hyperledger-archives\/fabric-test-resources>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-test-resources","title_link":"https:\/\/github.com\/hyperledger\/fabric-test-resources","text":"Contribute to fabric-test-resources development by creating an account on GitHub.","fallback":"GitHub: hyperledger\/fabric-test-resources","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-test-resources","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1},{"service_name":"GitHub","title":"hyperledger-archives\/fabric-test-resources","title_link":"https:\/\/github.com\/hyperledger-archives\/fabric-test-resources","text":"THIS IS A READ-ONLY historic repository. Current development is at <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric-test-resources> . pull requests not accepted","fallback":"GitHub: hyperledger-archives\/fabric-test-resources","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/20729145?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger-archives\/fabric-test-resources","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":2}],"ts":"1473701518.000610"},{"type":"message","user":"U0KM61BCP","text":"awesome! thanks <@U0UHG4VP1>, you rock","ts":"1473701709.000612"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> <@U0UHG4VP1> im going to play more in the sandbox\u2026now that the baseimage is building, im going to see if I can get it to push the result to the repos","ts":"1473711234.000613"},{"type":"message","user":"U0KPFAZNF","text":"but ill set up some sandbox in the repos to play with too","ts":"1473711242.000614"},{"type":"message","user":"U0KPFAZNF","text":"(dont want to mess up the real releases","ts":"1473711252.000615"},{"type":"message","user":"U0KPFAZNF","text":"should I just do something like hyperledger\/blah-blah-sandbox, or set up some other org like hyperledger-sandbox?","ts":"1473711277.000616"},{"type":"message","user":"U0KPFAZNF","text":"im thinking former","ts":"1473711281.000617"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins I can set up whatever you want","ts":"1473714905.000618"},{"type":"message","user":"U0UHG4VP1","text":"I suspect the former is better","ts":"1473714917.000619"},{"type":"message","user":"U0UHG4VP1","text":"since the credentials are already in Jenkins (I think), and I\u2019d rather not set up another set of credentials","ts":"1473714938.000620"},{"type":"message","user":"U0KPFAZNF","text":"yeah, please create \u201cfabric-baseimage-sandbox\u201d or something along those lines","ts":"1473714947.000621"},{"type":"message","user":"U0KPFAZNF","text":"we\u2019ll also need to get the atlas\/vagrant ones in there","ts":"1473714970.000622"},{"type":"message","user":"U0KPFAZNF","text":"(I am assuming you meant the dockerhub ones","ts":"1473714980.000623"},{"type":"message","user":"U0KPFAZNF","text":"i think I still have control of the atlas namespace, let me check","ts":"1473714999.000624"},{"type":"message","user":"U0UHG4VP1","text":"yes, sorry, I was talking about the dockerhub","ts":"1473715003.000625"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/hub.docker.com\/r\/hyperledger\/fabric-baseimage-sandbox\/>","ts":"1473715066.000626"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/atlas.hashicorp.com\/hyperledger\/boxes\/fabric-baseimage-sandbox>","ts":"1473715077.000627"},{"type":"message","user":"U0KPFAZNF","text":"ty","ts":"1473715080.000628"},{"type":"message","user":"U0KM61BCP","text":"+1 to former (sorry","ts":"1473716013.000629"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> are we running anything like the credentials plugin on jenkins?","ts":"1473716934.000630"},{"type":"message","user":"U0KPFAZNF","text":"i need to set a few ATLAS_ environment variables with login credentials","ts":"1473716951.000631"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins yes","ts":"1473716953.000632"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> any guidance on how to set up a new credential?","ts":"1473717057.000633"},{"type":"message","user":"U0KPFAZNF","text":"i dont see it available via the sandbox config","ts":"1473717066.000634"},{"type":"message","user":"U0UHG4VP1","text":"talk to me in IM?","ts":"1473717075.000635"},{"type":"message","user":"U0KPFAZNF","text":"(ive never used it before, so i might just be missing","ts":"1473717082.000636"},{"type":"message","user":"U0KPFAZNF","text":"oh, sure","ts":"1473717084.000637"},{"type":"message","user":"U0KM61BCP","text":"I\u2019ve created a bot that redirects github issues to JIRA","ts":"1473722209.000638"},{"type":"message","user":"U0KM61BCP","text":"<https:\/\/github.com\/hyperledger\/hyperledger\/issues\/58>","attachments":[{"service_name":"GitHub","title":"test again \u00b7 Issue #58 \u00b7 hyperledger\/hyperledger \u00b7 GitHub","title_link":"https:\/\/github.com\/hyperledger\/hyperledger\/issues\/58","text":"really this time?","fallback":"GitHub: test again \u00b7 Issue #58 \u00b7 hyperledger\/hyperledger","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/3630697?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/hyperledger\/issues\/58","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png","id":1}],"ts":"1473722229.000639"},{"type":"message","user":"U0KM61BCP","text":"I need to do 2 things 1) edit the docs to splain JIRA and accounts and stuff and b) think about doing the same for hyperledger\/hyperledger README so that I am not directing everyone to fabric docs","ts":"1473722288.000641"},{"type":"message","user":"U0KM61BCP","text":"code for the bot is here <https:\/\/github.com\/christo4ferris\/hyper-issue-bot>","edited":{"user":"U0KM61BCP","ts":"1473722391.000000"},"ts":"1473722375.000642"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> do we want to have this code in hyperledger?","ts":"1473722428.000644"},{"type":"message","user":"U0UHG4VP1","text":"cbf: it should probably watch anything that has a peer in hyperledger-archives","ts":"1473722448.000645"},{"type":"message","user":"U0UHG4VP1","text":"cbf your call, I default to \u201cyes\u201d","ts":"1473722466.000646"},{"type":"message","user":"U0KM61BCP","text":"did we not shut down issues for mirrors?","ts":"1473722477.000647"},{"type":"message","user":"U0KM61BCP","text":"I agree","ts":"1473722493.000648"},{"type":"message","user":"U0UHG4VP1","text":"I hadn\u2019t until this morning :slightly_smiling_face:","ts":"1473722494.000649"},{"type":"message","user":"U0KM61BCP","text":":wink:","ts":"1473722500.000650"},{"type":"message","user":"U0KM61BCP","text":"well, we would need to add webhook for each","ts":"1473722512.000651"},{"type":"message","user":"U0KM61BCP","text":"right now, it is using my personal git token","ts":"1473722525.000652"},{"type":"message","user":"U0UHG4VP1","text":"where are we concerned about this?","ts":"1473722525.000653"},{"type":"message","user":"U0UHG4VP1","text":"s\/where\/which repos","ts":"1473722533.000654"},{"type":"message","user":"U0KM61BCP","text":"just hyperledger\/hyperledger for now","ts":"1473722537.000655"},{"type":"message","user":"U0KM61BCP","text":"I think","ts":"1473722542.000656"},{"type":"message","user":"U0UHG4VP1","text":"like, is sawtooth going to migrate to JIRA in force?","ts":"1473722545.000657"},{"type":"message","user":"U0KM61BCP","text":"and any mirrors","ts":"1473722551.000658"},{"type":"message","user":"U0KM61BCP","text":"they have I think\u2026 <@U0VKPD6A2> would have that status","ts":"1473722570.000659"},{"type":"message","user":"U0UHG4VP1","text":"I know they have a JIRA project but it doesn\u2019t have too many tasks\/issues","ts":"1473722572.000660"},{"type":"message","user":"U0KM61BCP","text":"I\u2019ll create tasks to add repo and for me to push my code","ts":"1473722603.000661"},{"type":"message","user":"U0UHG4VP1","text":"I\u2019m about 20% of the mind we should lock down hyperledger\/hyperledger, but I think we need an ingress for people that aren\u2019t RTFM","ts":"1473722647.000662"},{"type":"message","user":"U0KM61BCP","text":"yep - that\u2019s exactly where I am\u2026 let\u2019s leave room for those who don't","ts":"1473724525.000663","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0UHG4VP1","text":"cbf: who owns the bot? should I add fabric committers?","ts":"1473725493.000664"},{"type":"message","user":"U0UHG4VP1","text":"it would be easier for me","ts":"1473725511.000665"},{"type":"message","user":"U0KM61BCP","text":"yes. let\u2019s add all fabric committers","ts":"1473726946.000666"},{"type":"message","user":"U0KM61BCP","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1019\/>","ts":"1473726947.000667"},{"type":"message","user":"U0UHG4VP1","text":"added (well, they\u2019re using the same LDAP group)","ts":"1473727028.000668"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> <@U0UHG4VP1>: woot!","ts":"1473727890.000669"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/atlas.hashicorp.com\/hyperledger\/boxes\/fabric-baseimage-sandbox>","ts":"1473727891.000670","reactions":[{"name":"woo","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"That was created from this","ts":"1473727901.000671"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/sandbox\/job\/baseimage-experiment\/20\/console>","ts":"1473727901.000672"},{"type":"message","user":"U0KPFAZNF","text":"ill see if I can get parity with dockerhub","ts":"1473727924.000673"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: btw: I ended up dropping jq requirement","ts":"1473727940.000674"},{"type":"message","user":"U0KPFAZNF","text":"so, no rush to respin the image, but you can drop that in the next build","ts":"1473727949.000675"},{"type":"message","user":"U0UHG4VP1","text":"I\u2019m not planning on respinning it at all, for now :slightly_smiling_face:","ts":"1473727977.000676"},{"type":"message","user":"U0KPFAZNF","text":"or, actually, come to think of it, just leave it for now","ts":"1473727984.000677"},{"type":"message","user":"U0KM61BCP","text":"building now","ts":"1473727994.000678"},{"type":"message","user":"U0KPFAZNF","text":"i still havent solved the \u201clocal build\u201d case\u2026might need to put it back","ts":"1473727996.000679"},{"type":"message","user":"U0UHG4VP1","text":"I need to test if production can use the same images without problem. if so, I can move everything forward to that image","ts":"1473728016.000680"},{"type":"message","user":"U0KPFAZNF","text":"right ok","ts":"1473728026.000681"},{"type":"message","user":"U0UHG4VP1","text":"it has the gprcio 1.0 that <@U11HH3P7Y> wanted and some other thing","ts":"1473728076.000682"},{"type":"message","user":"U0UHG4VP1","text":"never did get an answer if I should move protoc forward from 3.0.0 to 3.0.2","ts":"1473728098.000683"},{"type":"message","user":"U0KPFAZNF","text":"you can, though my impression was that one of the primary thing it addresses was a build problem","ts":"1473728170.000684"},{"type":"message","user":"U0KPFAZNF","text":"by virtue of the fact that 3.0.0 built, i would say its not impacted","ts":"1473728184.000685"},{"type":"message","user":"U0UHG4VP1","text":"for everyone else","ts":"1473728186.000686"},{"type":"message","user":"U0UHG4VP1","text":"I spun that image with 3.0.0 by downloading the source and building, so I\u2019m not blocked.","ts":"1473728213.000687"},{"type":"message","user":"U0KPFAZNF","text":"that said, it seems prudent to stay up to date","ts":"1473728215.000688"},{"type":"message","user":"U0KPFAZNF","text":"(since we are rolling forward with 3.0.2 in fabric","ts":"1473728233.000689"},{"type":"message","user":"U0KM61BCP","text":"no jdk?","ts":"1473728241.000690"},{"type":"message","user":"U0UHG4VP1","text":"is it worth a new image?","ts":"1473728243.000691"},{"type":"message","user":"U0KPFAZNF","text":"but right now baseimage v0.0.11 still has 3.0.0 and I was hoping to get the new CI pipeline working before building another","ts":"1473728261.000692"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> I plan on bringing the .\/scripts\/provision into the fabric-baseimage build","ts":"1473728274.000693"},{"type":"message","user":"U0KPFAZNF","text":"just havent got there yet","ts":"1473728277.000694"},{"type":"message","user":"U0KPFAZNF","text":"that will add JDK among other things","ts":"1473728283.000695"},{"type":"message","user":"U0KM61BCP","text":"ah ok","ts":"1473728283.000696"},{"type":"message","user":"U0UHG4VP1","text":"I don\u2019t really mind spinning a new image but I\u2019m a little gunshy right now","ts":"1473728284.000697"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>, i dont think its urgent\u2026lets work on it over this week","ts":"1473728319.000698"},{"type":"message","user":"U0KPFAZNF","text":"hopefully will have the baseimage CI pipeine all queued up, etc, and then we can decide when to pull the trigger","ts":"1473728341.000699"},{"type":"message","user":"U0KM61BCP","text":"this is really great progress!","ts":"1473728346.000700"},{"type":"message","user":"U0KM61BCP","text":"agree that provision.sh should be added","ts":"1473728378.000701"},{"type":"message","user":"U0KM61BCP","text":"but then we will need one per arch","ts":"1473728392.000702"},{"type":"message","user":"U0KM61BCP","text":"but I think that makes sense","ts":"1473728398.000703"},{"type":"message","user":"U0KPFAZNF","text":"yeah, i want to pull that all in, and then for the cases where we need the provision.sh stuff in fabric, it can pull in fabric-baseimage.git","ts":"1473728412.000704"},{"type":"message","user":"U0KM61BCP","text":"well, when you think of it\u2026 if we break down into the repo structure we were discussing, each repo could have\/add specific required dependencies","ts":"1473728472.000705"},{"type":"message","user":"U0KPFAZNF","text":"right","ts":"1473728495.000706"},{"type":"message","user":"U0KPFAZNF","text":"but the fact that we can run vagrant in vagrant was really the biggest question mark here","ts":"1473728538.000707"},{"type":"message","user":"U0KPFAZNF","text":"the fact that the -sandbox image was pushed without any direct human involvement is awesome","ts":"1473728556.000708"},{"type":"message","user":"U0UHG4VP1","text":"any now we know, and knowing is half the battle - if anything TV has taught me anything","ts":"1473728563.000709"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1473728567.000710"},{"type":"message","user":"U0KPFAZNF","text":"i guess its not really \u201cvagrant in vagrant\u201d, but \u201cvagrant within an openstack vm\"","ts":"1473728601.000711"},{"type":"message","user":"U0KPFAZNF","text":"but same basic uncertainty","ts":"1473728608.000712"},{"type":"message","user":"U0UHG4VP1","text":"sure. As I\u2019m sure we\u2019ve both said many times: <http:\/\/fourtheconomy.com\/wp-content\/uploads\/2012\/07\/turtles.jpg>","attachments":[{"fallback":"301x216px image","image_url":"http:\/\/fourtheconomy.com\/wp-content\/uploads\/2012\/07\/turtles.jpg","image_width":301,"image_height":216,"image_bytes":26875,"from_url":"http:\/\/fourtheconomy.com\/wp-content\/uploads\/2012\/07\/turtles.jpg","id":1}],"ts":"1473728813.000713"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1473728820.000715"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> are you guys doing anything fancy on the dockerhub side (like using a jenkins docker plugin)?","ts":"1473728853.000716"},{"type":"message","user":"U0KPFAZNF","text":"i can just add \u201cdocker login; docker push\u201d directives to my makefile, but figure I should ask in case there is a nice facility available","ts":"1473728886.000717"},{"type":"message","user":"U0UHG4VP1","text":"\u201cyou guys\u201d is me and no, I haven\u2019t done anything aside from set up new repos and pay the $14 a month or whatever for it","ts":"1473728888.000718"},{"type":"message","user":"U0UHG4VP1","text":"I\u2019m not saying it isn\u2019t possible - but no.","ts":"1473728908.000719"},{"type":"message","user":"U0KPFAZNF","text":"ok, i guess I should look at the ci-management repo and see how those pushes are done","ts":"1473728933.000720"},{"type":"message","user":"U0UHG4VP1","text":"if there is a jenkins-&gt;docker plugin, I\u2019m game","ts":"1473728934.000721"},{"type":"message","user":"U0KPFAZNF","text":"was just looking at this: <https:\/\/wiki.jenkins-ci.org\/display\/JENKINS\/Docker+build+step+plugin>","ts":"1473728968.000722"},{"type":"message","user":"U0KPFAZNF","text":"not sure we need it","ts":"1473728972.000723"},{"type":"message","user":"U0UHG4VP1","text":"read the limitation on that. that is fatal","ts":"1473729014.000724"},{"type":"message","user":"U0UHG4VP1","text":"Commands run without any issue only on master, on remote slaves command execution fails, see JENKINS-24071 for details.","ts":"1473729022.000725"},{"type":"message","user":"U0KPFAZNF","text":"ah, heh","ts":"1473729049.000726"},{"type":"message","user":"U0KPFAZNF","text":"indeed","ts":"1473729051.000727"},{"type":"message","user":"U0UHG4VP1","text":"this bug report is brutal: <https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-24071>","ts":"1473729059.000728"},{"type":"message","user":"U0KPFAZNF","text":"ok, thats fine, as I have somewhat of a dependency on the makefile anyway","ts":"1473729062.000729"},{"type":"message","user":"U0UHG4VP1","text":"filed over two years ago!","ts":"1473729076.000730"},{"type":"message","user":"U0KPFAZNF","text":"because I dynamically build the Dockerfile (<https:\/\/github.com\/ghaskins\/hyperledger-fabric-baseimage\/blob\/master\/Makefile#L24>)","attachments":[{"service_name":"GitHub","title":"ghaskins\/hyperledger-fabric-baseimage","title_link":"https:\/\/github.com\/ghaskins\/hyperledger-fabric-baseimage\/blob\/master\/Makefile#L24","text":"hyperledger-fabric-baseimage - Prototype for breaking out the baseimage from hyperledger fabric","fallback":"GitHub: ghaskins\/hyperledger-fabric-baseimage","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/ghaskins\/hyperledger-fabric-baseimage\/blob\/master\/Makefile#L24","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1473729091.000731"},{"type":"message","user":"U0KPFAZNF","text":"ill just do it the old fashioned way","ts":"1473729120.000733"},{"type":"message","user":"U0UHG4VP1","text":"attach an onion to your belt and carry on","ts":"1473729137.000734"},{"type":"message","user":"U0KPFAZNF","text":"no kidding","ts":"1473729145.000735"},{"type":"message","user":"U0UHG4VP1","text":"I feel ever closer to grandpa Simpson: <https:\/\/www.youtube.com\/watch?v=-o-7MmhqNfA>","edited":{"user":"U0UHG4VP1","ts":"1473729231.000000"},"ts":"1473729227.000736"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> im just going to build it similar to this: <https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=ci-management.git;a=blob;f=jjb\/fabric\/include-raw-docker-image-deploy.sh;h=35ad0a282a4dc27a207591bd1013bf02eb647426;hb=HEAD>","ts":"1473729375.000739"},{"type":"message","user":"U0KPFAZNF","text":"so can you give me the proper DOCKER_HUB_xx envvars in the sandbox","ts":"1473729393.000740"},{"type":"message","user":"U0KPFAZNF","text":"at least for <https:\/\/jenkins.hyperledger.org\/sandbox\/job\/baseimage-docker-experiment\/>","ts":"1473729410.000741"},{"type":"message","user":"U0UHG4VP1","text":"DOCKER_HUB_[USERNAME,EMAIL,PASSWORD] are there already and should be correct","ts":"1473729463.000742"},{"type":"message","user":"U0KPFAZNF","text":"ok, perfect","ts":"1473729468.000743"},{"type":"message","user":"U0KPFAZNF","text":"thx","ts":"1473729469.000744"},{"type":"message","user":"U0UHG4VP1","text":"if it doesn\u2019t work (which is possible) I\u2019ll reset them","ts":"1473729484.000745"},{"type":"message","user":"U0KPFAZNF","text":"at some point, we should look into using this <https:\/\/docs.docker.com\/engine\/reference\/commandline\/login\/#\/credentials-store>","attachments":[{"service_name":"Docker","title":"login","title_link":"https:\/\/docs.docker.com\/engine\/reference\/commandline\/login\/#\/credentials-store","text":"The login command description and usage","fallback":"Docker: login","image_url":"https:\/\/www.docker.com\/sites\/default\/files\/social\/docker-twitter-share.png","ts":1464596303,"from_url":"https:\/\/docs.docker.com\/engine\/reference\/commandline\/login\/#\/credentials-store","image_width":625,"image_height":250,"image_bytes":49214,"service_icon":"https:\/\/docs.docker.com\/..\/..\/..\/..\/favicons\/apple-touch-icon-57x57.png","id":1}],"ts":"1473729510.000746"},{"type":"message","user":"U0KM61BCP","text":"<https:\/\/docs.docker.com\/engine\/security\/trust\/content_trust\/>","attachments":[{"service_name":"Docker","title":"Content trust in Docker","title_link":"https:\/\/docs.docker.com\/engine\/security\/trust\/content_trust\/","text":"Enabling content trust in Docker","fallback":"Docker: Content trust in Docker","image_url":"https:\/\/www.docker.com\/sites\/default\/files\/social\/docker-twitter-share.png","ts":1464596303,"from_url":"https:\/\/docs.docker.com\/engine\/security\/trust\/content_trust\/","image_width":625,"image_height":250,"image_bytes":49214,"service_icon":"https:\/\/docs.docker.com\/..\/..\/..\/..\/favicons\/apple-touch-icon-57x57.png","id":1}],"ts":"1473731360.000748"},{"type":"message","user":"U0KM61BCP","text":"I think we should consider signing published images","ts":"1473731377.000750"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF> ^^","ts":"1473731382.000751"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> makes perfect sense to me","ts":"1473731432.000752"},{"type":"message","user":"U0KPFAZNF","text":"seems like something we can tie to the pipeline, too","ts":"1473731440.000753"},{"type":"message","user":"U0KM61BCP","text":"y","ts":"1473731444.000754"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> already has the credentials plugin working well for things like the ATLAS\/DOCKERHUB credentials, im sure something like a pgp sign can be added to the mix fairly trivially","ts":"1473731475.000755"},{"type":"message","user":"U0UHG4VP1","text":"pgp signing might be problematic, depending on how you want to do it. By policy we don\u2019t keep the private keys in the VMs - we use an HSM, and that would be hard with openstack","ts":"1473731556.000756"},{"type":"message","user":"U0KPFAZNF","text":"im not sure what the docker stuff uses, ill have to look at the link later","ts":"1473731585.000757"},{"type":"message","user":"U0UHG4VP1","text":"sure. this is all P2 or P3 stuff","ts":"1473731596.000758"},{"type":"message","user":"U0KPFAZNF","text":"yep","ts":"1473731604.000759"},{"type":"message","user":"U1M7K67EV","text":"Not sure if this is the right place to ask, but is it at all possible to stop the hyperledger-gerrit bot posting to <#C0J02NU1E|general>? It really clutters it up there.","ts":"1473733615.000760"},{"type":"message","user":"U0UHG4VP1","text":"<@U1M7K67EV> Let me see","ts":"1473740358.000761"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y>: could you disable or delete your private Jenkins integration? We already have Jenkins talking to <#C11SL9YDV|fabric-ci-status>","ts":"1473740657.000762"},{"type":"message","user":"U0UHG4VP1","text":"<@U1M7K67EV> I can\u2019t disable or delete it because it is a private integration","ts":"1473740674.000763"},{"type":"message","user":"U1M7K67EV","text":"Ok, thanks ry","ts":"1473742659.000764"},{"type":"message","user":"U0ZJZBJLF","text":"Hey, so what was the commit magic word to prevent jenkins from building? skip-ci? skipci?","ts":"1473766465.000765"},{"type":"message","user":"U0ZJZBJLF","text":"can anyone anyway please stop my job (1127)?","ts":"1473769356.000766"},{"type":"message","user":"U11HH3P7Y","text":"<@U0ZJZBJLF> I stopped build#1127","ts":"1473770801.000767"},{"type":"message","user":"U0ZJZBJLF","text":"ty","ts":"1473770807.000768"},{"type":"message","user":"U0ZJZBJLF","text":"you know the commit flag to make jenkins ignore?","ts":"1473770819.000769"},{"type":"message","user":"U11HH3P7Y","text":"provide [ci skip] in commit message","ts":"1473770837.000770"},{"type":"message","user":"U0ZJZBJLF","text":"thanks","ts":"1473770855.000771"},{"type":"message","user":"U0ZJZBJLF","text":"with the [ ] ?","ts":"1473770884.000772"},{"type":"message","user":"U11HH3P7Y","text":"yes","ts":"1473770891.000773","reactions":[{"name":"ok_hand","users":["U0ZJZBJLF"],"count":1}]},{"user":"U2A98QJKS","text":"<@U2A98QJKS|nmpacheco> has joined the channel","type":"message","subtype":"channel_join","ts":"1473771610.000774"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> <@U0KM61BCP> successful automated deployment of docker side","ts":"1473776478.000775","reactions":[{"name":"+1","users":["U11HH3P7Y"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/hub.docker.com\/r\/hyperledger\/fabric-baseimage-sandbox\/tags\/>","ts":"1473776479.000776"},{"type":"message","user":"U0KPFAZNF","text":"ill work on cleaning this all up and bringing over the rest of the provisioning.sh stuff","ts":"1473776500.000777"},{"type":"message","user":"U0KM61BCP","text":"sweet!","ts":"1473776525.000778"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> <https:\/\/github.com\/ghaskins\/hyperledger-fabric-baseimage\/commit\/a73143819670117b03e246ac1de74c8d2375c0f4>","ts":"1473785943.000779"},{"type":"message","user":"U0KPFAZNF","text":"one question that remains:  should I rename the vagrant image to \u201chyperledger\/fabric-devenv\u201d and just make fabric.git\/devenv\/Vagrantfile simply reference it","ts":"1473786053.000780"},{"type":"message","user":"U0KPFAZNF","text":"its moving in a direction where its not really a \u201cbaseimage\u201d but rather it is the full devenv","ts":"1473786070.000781"},{"type":"message","user":"U0KPFAZNF","text":"the other direction is I could back off some of the more fluid deps, like pip","ts":"1473786116.000782"},{"type":"message","user":"U0KPFAZNF","text":"leave this \u201cbaseimage\u201d, and do that stuff in a pared down version of fabric.git\/scripts\/provision","ts":"1473786138.000783"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP>: may I turn on commit message line length enforcement, or is that too harsh?","ts":"1473787039.000784"},{"type":"message","user":"U0PB67X4K","text":"<@U0UHG4VP1> - not too harsh IMHO","edited":{"user":"U0PB67X4K","ts":"1473787139.000000"},"ts":"1473787103.000785"},{"type":"message","user":"U0PB67X4K","text":"I actually like to know when I am lazy and violate it","ts":"1473787116.000786"},{"type":"message","user":"U0UHG4VP1","text":"<@U0PB67X4K> I agree. My concern is making the funnel too hard to enter for newbies, versus review overhead for committers. I don\u2019t know where the setting should be","ts":"1473787191.000788"},{"type":"message","user":"U0PB67X4K","text":"good point, but in this case probably easier for them to get an error when they submit a review telling them the limit then having them go back, alter the commit and resubmit?   I suppose its as they say \"six one way, half a dozen the other\"","ts":"1473787291.000789"},{"type":"message","user":"U0UHG4VP1","text":"well I won\u2019t turn it on yet :slightly_smiling_face:","ts":"1473787325.000790"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> I think we should turn it on","ts":"1473789225.000791"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP> OK. I\u2019ll do it tonight - it will take a short Gerrit outage to make it happen","ts":"1473789272.000792"},{"type":"message","user":"U0KM61BCP","text":"I agree with <@U0PB67X4K> better to get it up front than have to resubmit the patch when a maintainer complains","ts":"1473789277.000793"},{"type":"message","user":"U0KM61BCP","text":"if we get complaints we can always reconsider","ts":"1473789293.000794"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> could you add the \"git parameter plugin\" at earliest convenience ","ts":"1473806237.000795"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> to the sandbox?","ts":"1473809811.000796"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> done","ts":"1473812552.000797"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> yes pls","ts":"1473812558.000798"},{"type":"message","user":"U0KPFAZNF","text":"Thx","ts":"1473812561.000799"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins could I restart Jenkins quickly?","ts":"1473812598.000800"},{"type":"message","user":"U0UHG4VP1","text":"if you\u2019re in the middle of editing somehting I\u2019ll wait","ts":"1473812607.000801"},{"type":"message","user":"U0KPFAZNF","text":"Sure no","ts":"1473812608.000802"},{"type":"message","user":"U0KPFAZNF","text":"Np ","ts":"1473812612.000803"},{"type":"message","user":"U0KPFAZNF","text":"Nope, all clear","ts":"1473812624.000804"},{"type":"message","user":"U0UHG4VP1","text":"should be done","ts":"1473812687.000805"},{"type":"message","user":"U0KPFAZNF","text":"Ty","ts":"1473812712.000806"},{"type":"message","user":"U0KPFAZNF","text":"I'm trying to find a way to trigger a Jenkins build if and only if there is a new git tag, FYI","ts":"1473812775.000807"},{"type":"message","user":"U0KPFAZNF","text":"So if you happen to know or stumble on something...","ts":"1473812790.000808"},{"type":"message","user":"U0UHG4VP1","text":"when would be good to take a short gerrit outage?","ts":"1473812795.000809"},{"type":"message","user":"U0KPFAZNF","text":"Now is fine for me, fwiw ","ts":"1473812821.000810"},{"type":"message","user":"U0UHG4VP1","text":"well, it\u2019s only 17:30 on the west coast, I think I\u2019ll wait until after dinner","ts":"1473812853.000811"},{"type":"message","user":"U0UHG4VP1","text":"a tag is a ref, right? could you trigger on refs\/tags\/*?","ts":"1473812876.000812"},{"type":"message","user":"U0KPFAZNF","text":"Possibly ","ts":"1473812892.000813"},{"type":"message","user":"U0KPFAZNF","text":"To be clear, it's fine for a git hook to kick Jenkins... What I would like is for Jenkins to only try if there is a new tag","ts":"1473812949.000814"},{"type":"message","user":"U0KPFAZNF","text":"Or, ignore the kicks when there isn't a new tag, really","ts":"1473812978.000815"},{"type":"message","user":"U0UHG4VP1","text":"<http:\/\/stackoverflow.com\/questions\/7805603\/is-it-possible-for-jenkins-to-automatically-detect-and-build-newly-created-tags>","attachments":[{"title":"Is it possible for Jenkins to automatically detect and build newly created tags in a git repo?","title_link":"http:\/\/stackoverflow.com\/questions\/7805603\/is-it-possible-for-jenkins-to-automatically-detect-and-build-newly-created-tags","text":"It would be nice for our Jenkins CI server to automatically detect, deploy and build tags as they are created in our Github <http:\/\/repository.Is|repository.Is> this possible?","fallback":"Is it possible for Jenkins to automatically detect and build newly created tags in a git repo?","thumb_url":"http:\/\/cdn.sstatic.net\/Sites\/stackoverflow\/img\/apple-touch-icon@2.png?v=73d79a89bded&a","from_url":"http:\/\/stackoverflow.com\/questions\/7805603\/is-it-possible-for-jenkins-to-automatically-detect-and-build-newly-created-tags","thumb_width":316,"thumb_height":316,"service_icon":"http:\/\/cdn.sstatic.net\/Sites\/stackoverflow\/img\/favicon.ico?v=4f32ecc8f43d","service_name":"stackoverflow.com","id":1}],"ts":"1473813241.000816"},{"type":"message","user":"U0UHG4VP1","text":"reads like a solution","ts":"1473813246.000818"},{"type":"message","user":"U0UHG4VP1","text":"I see the accepted solution is wrong, the one below it looks reasonable","ts":"1473813296.000819"},{"type":"message","user":"U0KM61BCP","text":"gerrit returning 502 Bad gateway","ts":"1473814539.000820"},{"type":"message","user":"U0KM61BCP","text":"JIRA works","ts":"1473814543.000821"},{"type":"message","user":"U0UHG4VP1","text":"working on it","ts":"1473814569.000822"},{"type":"message","user":"U0UHG4VP1","text":"up","ts":"1473814597.000823"},{"type":"message","user":"U0UHG4VP1","text":"commit message validation turned on","ts":"1473814805.000824"},{"type":"message","user":"U0KM61BCP","text":"super!","ts":"1473814820.000825"},{"type":"message","user":"U0KM61BCP","text":"thanks","ts":"1473814822.000826"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2BCGUCF3\/-.txt|Untitled>","file":{"id":"F2BCGUCF3","created":1473814832,"timestamp":1473814832,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":361,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2BCGUCF3\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2BCGUCF3\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2BCGUCF3\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2BCGUCF3-317f903286","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2BCGUCF3\/-.txt\/edit","preview":"remote: Processing changes: refs: 1, done    \r\nremote: error: 2554ae0: commit subject >55 characters; use shorter first paragraph\r\nTo ssh:\/\/ryjones@gerrit.hyperledger.org:29418\/lf-sandbox\r\n ! [remote rejected] HEAD -> refs\/for\/master (Commit length validation failed)\r\nerror: failed to push some refs to 'ssh:\/\/ryjones@gerrit.hyperledger.org:29418\/lf-sandbox'\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>remote: Processing changes: refs: 1, done    <\/pre><\/div>\n<div><pre>remote: error: 2554ae0: commit subject &gt;55 characters; use shorter first paragraph<\/pre><\/div>\n<div><pre>To ssh:\/\/ryjones@gerrit.hyperledger.org:29418\/lf-sandbox<\/pre><\/div>\n<div><pre> ! [remote rejected] HEAD -&gt; refs\/for\/master (Commit length validation failed)<\/pre><\/div>\n<div><pre>error: failed to push some refs to 'ssh:\/\/ryjones@gerrit.hyperledger.org:29418\/lf-sandbox'<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":6,"lines_more":1,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1473814832.000827"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> you are talking about the two tiered trigger-build+tagged build solution?","ts":"1473820357.000828"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF>: yeah","ts":"1473820547.000829"},{"type":"message","user":"U0KPFAZNF","text":"cool, that seems tenable","ts":"1473820571.000830"},{"type":"message","user":"U0KPFAZNF","text":"we could have one trigger job, and I envision 4 builders","ts":"1473820587.000831"},{"type":"message","user":"U0KPFAZNF","text":"(vagrant, docker-x86, docker-ppc, docker-z)","ts":"1473820598.000832"},{"type":"message","user":"U0KPFAZNF","text":"i suppose we might have to manually trigger all 4 from the trigger job, but that seems managable","ts":"1473820616.000833"},{"type":"message","user":"U0KPFAZNF","text":"next \u201cunknown\u201d is how to manage tags via gerrit","ts":"1473820639.000834"},{"type":"message","user":"U0KPFAZNF","text":"(I know part of the magic is using annotated tags, but we might have a learning curve getting it all working)","ts":"1473820666.000835"},{"type":"message","user":"U0KPFAZNF","text":"im thinking workflow is: someone submits an annotated tag for review\u2026if it gets the requisite +2s, its merged, which kicks the trigger job, which flows down...","ts":"1473820734.000836"},{"type":"message","user":"U0KPFAZNF","text":"thoughts?","ts":"1473820754.000837"},{"type":"message","user":"U0KPFAZNF","text":"there would presumably be 1 or more other patches that flow through gerrit prior to the tag commit that actually change the logic","ts":"1473820796.000838"},{"type":"message","user":"U0KPFAZNF","text":"those shouldnt trigger the jobs that do the push, but we should have some kind of -verify job run on those","ts":"1473820824.000839"},{"type":"message","user":"U0KPFAZNF","text":"right now, I have 4 basic targets:  make vagrant|vagrant-local|docker|docker-local","ts":"1473820846.000840"},{"type":"message","user":"U0KPFAZNF","text":"the -local variants run the same logic as the non-local, except they dont push the image to atlas\/dockerhub","ts":"1473820867.000841"},{"type":"message","user":"U0KPFAZNF","text":"so, the verify job could use those","ts":"1473820876.000842"},{"type":"message","user":"U0UHG4VP1","text":"I\u2019ve never used tags in that way. I\u2019ve always just laid the tags down","ts":"1473822812.000843"},{"type":"message","user":"U0UHG4VP1","text":"in my role as release engineer","ts":"1473822824.000844"},{"type":"message","user":"U0UHG4VP1","text":"I just tried pushing a tag for review, and it just took the tag: <https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=lf-sandbox.git;a=commit;h=de72c6e3ea837529a6bfb84fd63384d9738dbca2>","ts":"1473823090.000845"},{"type":"message","user":"U0KPFAZNF","text":"Hmm, maybe you have privs ","ts":"1473823114.000846"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=lf-sandbox.git;a=tag;h=refs\/tags\/TEST_TAG> is more interesting","ts":"1473823120.000847"},{"type":"message","user":"U0KPFAZNF","text":"I'll try mine","ts":"1473823122.000848"},{"type":"message","user":"U0UHG4VP1","text":":disappointed: <https:\/\/groups.google.com\/forum\/#!topic\/repo-discuss\/VV_xj6ftvoY>","ts":"1473823289.000849"},{"type":"message","user":"U0KPFAZNF","text":"So it seems we could use tags, but not via review\/approval","ts":"1473855517.000854"},{"type":"message","user":"U0KPFAZNF","text":"Ultimately what I would like to see is some way to incorporate multilateral voting into pushing a new baseimage release","ts":"1473855731.000855"},{"type":"message","user":"U0KPFAZNF","text":"Each release should also be tagged, so I was thinking that could kill two birds with one stone","ts":"1473855759.000856"},{"type":"message","user":"U0KPFAZNF","text":"But perhaps there is a different workflow to consider","ts":"1473855773.000857"},{"type":"message","user":"U0KPFAZNF","text":"Here's an idea.  We could do something in the filesystem itself","ts":"1473855839.000858"},{"type":"message","user":"U0KPFAZNF","text":"A certain kind of update to this file (after going through voting) would trigger a CI pipeline that tags the release and initiates the builder processes","ts":"1473855959.000859"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> playing around with this","ts":"1473869710.000860"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/sandbox\/job\/test-multi\/>","ts":"1473869720.000861"},{"type":"message","user":"U0KPFAZNF","text":"goal is to have one multi-config that can do all three docker arch builds","ts":"1473869737.000862"},{"type":"message","user":"U0KPFAZNF","text":"(of course, I can only test x86 atm)","ts":"1473869746.000863"},{"type":"message","user":"U0KPFAZNF","text":"but one thing that is interesting, its using master node for the top-level but then properly delegating to the (one and only) x86 axis","ts":"1473869783.000864"},{"type":"message","user":"U0KPFAZNF","text":"do you think I should also constrain the top-level build to a label?","ts":"1473869800.000865"},{"type":"message","user":"U0KPFAZNF","text":"or is this fine?","ts":"1473869802.000866"},{"type":"message","user":"U0UHG4VP1","text":"It's fine","ts":"1473872536.000867"},{"type":"message","user":"U0UHG4VP1","text":"You could constrain it but we need a static node to park the job on, which would be master","ts":"1473872574.000868"},{"type":"message","user":"U0KPFAZNF","text":"ok, thats what I figured","ts":"1473873147.000869"},{"type":"message","user":"U0KPFAZNF","text":"it seems the only reason to constrain is when the job has specific requirements of the worker","ts":"1473873169.000870"},{"type":"message","user":"U0KPFAZNF","text":"(e.g. VMX, or x86)","ts":"1473873179.000871"},{"type":"message","user":"U1BLNM9DE","text":"please don't use matrix jobs!","ts":"1473873212.000872"},{"type":"message","user":"U1BLNM9DE","text":"use the ability of JJB to build a matrix for you instead","ts":"1473873223.000873"},{"type":"message","user":"U1BLNM9DE","text":"matrix jobs have a sever stability problem inside of jenkins","ts":"1473873235.000874"},{"type":"message","user":"U1BLNM9DE","text":"s\/sever\/severe\/","ts":"1473873241.000875"},{"type":"message","user":"U0KPFAZNF","text":"<@U1BLNM9DE> i assume by matrix job you mean a jenkins multi-config?","ts":"1473873824.000876"},{"type":"message","user":"U0KPFAZNF","text":"ultimately, i am open to whatever you guys recommend","ts":"1473873846.000877"},{"type":"message","user":"U0KPFAZNF","text":"we are going to need 4 basic types of build: vagrant (x86), docker-x86, docker-z, docker-p","ts":"1473873871.000878"},{"type":"message","user":"U1BLNM9DE","text":"matrix job type of which the multi-config job step type is a variant","ts":"1473873876.000879"},{"type":"message","user":"U0KPFAZNF","text":"and two classes of build","ts":"1473873877.000880"},{"type":"message","user":"U1BLNM9DE","text":"all of that can be done via JJB","ts":"1473873886.000881"},{"type":"message","user":"U0KPFAZNF","text":"release (artifacts pushed to public repo) and patch verify","ts":"1473873899.000882"},{"type":"message","user":"U1BLNM9DE","text":"you'll end up with a specific job for each combination","ts":"1473873900.000883"},{"type":"message","user":"U1BLNM9DE","text":"but which looks horrible in the Jenkins UI but it's a lot better for jenkins","ts":"1473873921.000884"},{"type":"message","user":"U0KPFAZNF","text":"I dont care how those are expressed (too much, though I do hate DRY violations)","ts":"1473873928.000885"},{"type":"message","user":"U0KPFAZNF","text":"the patch verify job trigger should be straight forward gerrit integration","ts":"1473873965.000886"},{"type":"message","user":"U0KPFAZNF","text":"the release push job is a subset of merge trigger","ts":"1473873975.000887"},{"type":"message","user":"U1BLNM9DE","text":"we strongly recommend against using the jenkins matrix facilities since they're not well supported, and if you ever get to the point where you have a lot of jobs running in your system they cause jenkins to have extreme management issues","ts":"1473873983.000888"},{"type":"message","user":"U0KPFAZNF","text":"(only certain merges will result in a release)","ts":"1473873987.000889"},{"type":"message","user":"U0KPFAZNF","text":"ok\u2026thats fine","ts":"1473873999.000890"},{"type":"message","user":"U0KPFAZNF","text":"like I said, my requirements are more high-level","ts":"1473874007.000891"},{"type":"message","user":"U0KPFAZNF","text":"i dont care how we enact them into jenkins very much","ts":"1473874015.000892"},{"type":"message","user":"U0KPFAZNF","text":"so, whatever best practices etc, i am open to them","ts":"1473874033.000893"},{"type":"message","user":"U1BLNM9DE","text":"just trying to save you from having to re-architect later ;)","ts":"1473874035.000894"},{"type":"message","user":"U0KPFAZNF","text":"ty","ts":"1473874039.000895"},{"type":"message","user":"U1BLNM9DE","text":"it's taken ODL ~3 months to do a transition off of matrix jobs after we finally figured out how bad they really were when we got to ~1750 jobs in the system","ts":"1473874079.000896"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2BN620SW\/-.pl|Untitled> and commented: <@U0KM61BCP> build from the baseimages generated by the pipeline (and some currently unpublished patches to fabric)","file":{"id":"F2BN620SW","created":1473877075,"timestamp":1473877075,"name":"-.pl","title":"Untitled","mimetype":"text\/plain","filetype":"perl","pretty_type":"Perl","user":"U0KPFAZNF","editable":true,"size":795,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2BN620SW\/-.pl?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2BN620SW\/download\/-.pl?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2BN620SW\/-.pl","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2BN620SW-09933655fb","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2BN620SW\/-.pl\/edit","preview":"$ vagrant ssh\r\nWelcome to Ubuntu 14.04.5 LTS (GNU\/Linux 4.4.0-36-generic x86_64)\r\n\r\n * Documentation:  https:\/\/help.ubuntu.com\/\r\n\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>$ <span class=\"cm-meta\">vagrant<\/span> <span class=\"cm-meta\">ssh<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-meta\">Welcome<\/span> <span class=\"cm-meta\">to<\/span> <span class=\"cm-meta\">Ubuntu<\/span> <span class=\"cm-number\">14.04<\/span><span class=\"cm-number\">.5<\/span> <span class=\"cm-meta\">LTS<\/span> (<span class=\"cm-meta\">GNU<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-meta\">Linux<\/span> <span class=\"cm-number\">4.4<\/span><span class=\"cm-number\">.0<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-number\">36<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-meta\">generic<\/span> <span class=\"cm-meta\">x86_64<\/span>)<\/pre><\/div>\n<div><pre>&#8203;<\/pre><\/div>\n<div><pre> <span class=\"cm-operator\">*<\/span> <span class=\"cm-meta\">Documentation<\/span><span class=\"cm-operator\">:<\/span>  <span class=\"cm-meta\">https<\/span>:<span class=\"cm-operator\">\/<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-meta\">help<\/span><span class=\"cm-operator\">.<\/span><span class=\"cm-meta\">ubuntu<\/span><span class=\"cm-operator\">.<\/span><span class=\"cm-meta\">com<\/span><span class=\"cm-operator\">\/<\/span><\/pre><\/div>\n<div><pre>&#8203;<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":21,"lines_more":16,"preview_is_truncated":null,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc2BMP1AUE","created":1473877075,"timestamp":1473877075,"user":"U0KPFAZNF","is_intro":true,"comment":"<@U0KM61BCP> build from the baseimages generated by the pipeline (and some currently unpublished patches to fabric)","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1473877076.000897"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> from my perspective, we are ready to start considering a few things: 1) a formal repo for \u201cfabric-baseimage\u201d and 2) pushing these images to the real namespace\u2026.","ts":"1473877139.000898"},{"type":"message","user":"U0KPFAZNF","text":"im thinking any pipeline generated images, we can bump the version to 0.1.0 or something","ts":"1473877161.000899"},{"type":"message","user":"U0KPFAZNF","text":"that way, if we need an emergency patch to the current manually generated ones, we can still push v0.0.12, etc","ts":"1473877184.000900"},{"type":"message","user":"U0KPFAZNF","text":"thoughts?","ts":"1473877187.000901"},{"type":"message","user":"U0KPFAZNF","text":"also, how do you want to go about all of this?  e.g. I could make a HIP for \u201cfabric-baseimage\u201d etc","ts":"1473877218.000902"},{"type":"message","user":"U0KPFAZNF","text":"or, since its just breaking out existing logic, we could just ask for a vote on fabric-maintainers or something","ts":"1473877243.000903"},{"type":"message","user":"U0KPFAZNF","text":"(im not saying we are quite ready to go live with this either, just saying, time to plan ahead","ts":"1473877262.000904"},{"type":"message","user":"U0KM61BCP","text":"suggest the latter <@U0KPFAZNF> let's just get maintainers to agree- we could discuss on tsc if needed, don't think a hip needed","ts":"1473877621.000905"},{"type":"message","user":"U0KPFAZNF","text":"ok, ill put together a message to the fabric ML","ts":"1473877711.000906"},{"type":"message","user":"U0KPFAZNF","text":"to start the dialog","ts":"1473877715.000907"},{"type":"message","user":"U0KPFAZNF","text":"(and link it to <#C28CXQXD5|fabric-maintainers>","ts":"1473877734.000908"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> <https:\/\/jenkins.hyperledger.org\/sandbox\/computer\/hyp-power-1\/> is coming up right now. Please be aware that unlike the other slaves, this is shared across two jenkins installs. please tread lightly :slightly_smiling_face:","ts":"1473888946.000909"},{"type":"message","user":"U12V3D2P2","text":"<@U0UHG4VP1> if it helps, I have one more Power node we can use","ts":"1473891561.000910"},{"type":"message","user":"U0UHG4VP1","text":"<@U12V3D2P2> I think 1 is OK for now, as I think using the node on production jenkins is predicated on <@U0KPFAZNF> getting it working on \/sandbox\/ . if <@U0KPFAZNF> advises otherwise, you and I can work out getting the other node online.","ts":"1473891708.000911"},{"type":"message","user":"U0UHG4VP1","text":"<@U12V3D2P2> once Power is critical path for all commits, we should bring on another node, for certain","ts":"1473891730.000912"},{"type":"message","user":"U12V3D2P2","text":"Ok","ts":"1473891794.000913"},{"type":"message","user":"U0KPFAZNF","text":"I think that plan sounds reasonable.  ","ts":"1473894082.000914"},{"type":"message","user":"U0KPFAZNF","text":"My baseimage builds can take 30+ minutes though so it will consume a bit of cycles, especially over the next few days as I work out the kinks","ts":"1473894138.000915"},{"type":"message","user":"U0UHG4VP1","text":"but we can reuse those forever, right?","ts":"1473894167.000916"},{"type":"message","user":"U0UHG4VP1","text":"Also: we have a site license for Nexus Pro, which we could configure as a docker pass-through proxy. Keep that in mind for later (like, middle October)","ts":"1473894220.000917"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>, yeah once published they are used over and over","ts":"1473894742.000918"},{"type":"message","user":"U0KPFAZNF","text":"but they take about 30+ minutes to compile and ill probably have to iterate multiple times to get the process smoothed out","ts":"1473894768.000919"},{"type":"message","user":"U0KPFAZNF","text":"after that, it should die down","ts":"1473894773.000920"},{"type":"message","user":"U0UHG4VP1","text":"sure.","ts":"1473894784.000921"},{"type":"message","user":"U0KPFAZNF","text":"ill try to get most of the iterations done via the x86 infrastructure","ts":"1473894808.000922"},{"type":"message","user":"U0KPFAZNF","text":"(we are mostly there at this point","ts":"1473894818.000923"},{"type":"message","user":"U0KPFAZNF","text":"biggest \u201ctodo\u201d is the trigger stuff","edited":{"user":"U0KPFAZNF","ts":"1473894846.000000"},"ts":"1473894835.000924"},{"type":"message","user":"U0KPFAZNF","text":"i can work most of that out against x86","ts":"1473894853.000926"},{"type":"message","user":"U0KPFAZNF","text":"the nexus stuff could be cool\u2026we might be able to build a more intelligent pipeline with it","ts":"1473894903.000927"},{"type":"message","user":"U0KPFAZNF","text":"e.g. do true release promotion","ts":"1473894920.000928"},{"type":"message","user":"U0KPFAZNF","text":"without it, id probably have to build once to verify, and rebuild it again to publish, which is a waste","ts":"1473894950.000929"},{"type":"message","user":"U0UHG4VP1","text":"I think we should disable more unit tests. That people are spending so much time waiting for reverify builds, trying to get around spurious failures, is regretful","ts":"1473925698.000930"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> the issues have gone missing from hyperledger-archives\/fabric - they should be preserved, please","ts":"1473952725.000931"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP> restored. side effect of turning off the ability of people to file them","ts":"1473954187.000932"},{"type":"message","user":"U0KM61BCP","text":"thanks!","ts":"1473954508.000933"},{"type":"message","user":"U0KM61BCP","text":"hi <@U0UHG4VP1>","ts":"1473955459.000934"},{"type":"message","user":"U0UHG4VP1","text":"yes?","ts":"1473955487.000935"},{"type":"message","user":"U0KM61BCP","text":"nvm, forgot I could cut branches","ts":"1473955682.000936"},{"type":"message","user":"U0KM61BCP","text":"just nuked v0.6 and recreated","ts":"1473955689.000937"},{"type":"message","user":"U0UHG4VP1","text":"ok","ts":"1473955762.000938"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> ill let you dictate the timing of things, but I am ready to start trying to put the baseimage pipeline in place whenever the community is","ts":"1473956693.000939"},{"type":"message","user":"U0KPFAZNF","text":"so, when ready, please set up the repo and ill see how to port the manual sandbox jobs to ci-management.git\/JJB","ts":"1473956729.000940"},{"type":"message","user":"U0KPFAZNF","text":"from there, we can get the pipeline all working and pushing 0.1.x images out, and then make the cutover in fabric when that all looks good","ts":"1473956776.000941"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KPFAZNF> : I can help in porting sandbox jobs using to ci-management using JJB","ts":"1473956839.000942"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> ty","ts":"1473956846.000943"},{"type":"message","user":"U0KPFAZNF","text":"that would be awesome","ts":"1473956849.000944"},{"type":"message","user":"U0KPFAZNF","text":"right now, id minimally like to understand how to port sandbox\/baseimage-* to JJB","ts":"1473956874.000945"},{"type":"message","user":"U0KPFAZNF","text":"(I think the final solution will have more than 2 jobs, but that would be a start","ts":"1473956885.000946"},{"type":"message","user":"U0KPFAZNF","text":"brb","ts":"1473956906.000947"},{"type":"message","user":"U11HH3P7Y","text":"sure","ts":"1473956910.000948"},{"type":"message","user":"U0KM61BCP","text":"SGTM <@U0UHG4VP1> can u pls help <@U0KPFAZNF> thx","ts":"1473959224.000949"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> <@U0UHG4VP1>: I condensed the history of the new baseimage tree down to 4 commits and submitted them for review","ts":"1474031938.000950"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1091\/>","ts":"1474031940.000951"},{"type":"message","user":"U0KPFAZNF","text":"(note the 4 associated patches (via \u201cRelated Changes\"","ts":"1474031959.000952"},{"type":"message","user":"U0KPFAZNF","text":"pls give a review at your earliest convenience\u2026once the patches are merged, Ill work on getting JJB changes that build it similar to how the sandbox jobs worked","ts":"1474032001.000953"},{"type":"message","user":"U0KPFAZNF","text":"the first two patches were intended to be lateral moves of the logic from fabric.git (refactored slightly to make sense here)","ts":"1474032064.000954"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> we might need to consider relaxing the verification +1 for the first few patches: not only does the verification pipeline not exist yet, but even if it did it probably wouldnt work until the last patch","ts":"1474036058.000955"},{"type":"message","user":"U0KPFAZNF","text":"(i mean w.r.t. fabric-baseimage tree)","ts":"1474036077.000956"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> I\u2019m not sure what verification means yet, anyway","ts":"1474036336.000957"},{"type":"message","user":"U0KPFAZNF","text":"yeah, i think until unit tests are developed, it means \u201cmake *-local\u201d runs without error","ts":"1474036646.000958"},{"type":"message","user":"U0UHG4VP1","text":"sure.","ts":"1474036657.000959"},{"type":"message","user":"U0KPFAZNF","text":"which is helpful info, albeit a little resource intensive","ts":"1474036713.000960"},{"type":"message","user":"U0KM61BCP","text":"<@U11HH3P7Y> we were just discussing in <#C28CXQXD5|fabric-maintainers> about image publishing","ts":"1474040582.000961"},{"type":"message","user":"U0KM61BCP","text":"<https:\/\/hub.docker.com\/r\/hyperledger\/fabric-peer\/tags\/>","ts":"1474040586.000962"},{"type":"message","user":"U0KM61BCP","text":"there seem to be way too many;-)","ts":"1474040595.000963"},{"type":"message","user":"U0KM61BCP","text":"we should only be publishing stable builds, IMO","ts":"1474040606.000964"},{"type":"message","user":"U0KM61BCP","text":"and I am thinking that would be something the maintainers would declare","ts":"1474040625.000965"},{"type":"message","user":"U0KM61BCP","text":"can we please turn off whatever is publishing all the images after a merge?","ts":"1474040642.000966"},{"type":"message","user":"U11HH3P7Y","text":"ok sure.","ts":"1474040678.000967"},{"type":"message","user":"U0KM61BCP","text":"thanks","ts":"1474040681.000968"},{"type":"message","user":"U0KM61BCP","text":"let\u2019s work out a strategy and process for publishing stable builds","ts":"1474040696.000969"},{"type":"message","user":"U0KM61BCP","text":"seems like we have the mechanism partly in place\u2026 we just need some trigger for the last step","ts":"1474040718.000970"},{"type":"message","user":"U11HH3P7Y","text":"how to decide on pushing stable builds?","ts":"1474040770.000971"},{"type":"message","user":"U0KPFAZNF","text":"well get back to you on that","ts":"1474040876.000972"},{"type":"message","user":"U0KPFAZNF","text":"have a few ideas to try in the sandbo","ts":"1474040887.000973"},{"type":"message","user":"U11HH3P7Y","text":"ok thanks.","ts":"1474040896.000974"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> jenkins seems down","ts":"1474042498.000975"},{"type":"message","user":"U0KPFAZNF","text":"hmm, nm, seems back now","ts":"1474042550.000976"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> file-based trigger experiment was a relative success","ts":"1474043016.000977"},{"type":"message","user":"U0KPFAZNF","text":"I got this job: <https:\/\/jenkins.hyperledger.org\/sandbox\/job\/baseimage-trigger\/>","ts":"1474043034.000978"},{"type":"message","user":"U0KPFAZNF","text":"to trigger this job: <https:\/\/jenkins.hyperledger.org\/sandbox\/job\/baseimage-docker-experiment\/>","ts":"1474043048.000979"},{"type":"message","user":"U0KPFAZNF","text":"just by committing IS_RELEASE=true in the Makefile","ts":"1474043062.000980"},{"type":"message","user":"U0KPFAZNF","text":"the only thing I am not sure about is, the trigger job shows as \u201cfailed\u201d when its not a release","ts":"1474043089.000981"},{"type":"message","user":"U0KPFAZNF","text":"thats kind of a red-herring","ts":"1474043096.000982"},{"type":"message","user":"U0KPFAZNF","text":"perhaps Jenkins has a better way to express a trigger job","ts":"1474043116.000983"},{"type":"message","user":"U0KM61BCP","text":"looking deeper at Jenkins","ts":"1474044874.000984"},{"type":"message","user":"U0KM61BCP","text":"there\u2019s a trigger build with a URL","ts":"1474044885.000985"},{"type":"message","user":"U0KM61BCP","text":"'Trigger builds remotely'","ts":"1474044903.000986"},{"type":"message","user":"U0KM61BCP","text":"you curl a parameterized URL and it kicks off","ts":"1474044921.000987"},{"type":"message","user":"U0KM61BCP","text":"I wonder if that would be cleaner","ts":"1474044926.000988"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF> ^^","ts":"1474044943.000989"},{"type":"message","user":"U0KPFAZNF","text":"ive seen that used as part of a git hook, and I was envisioning it used here","ts":"1474044990.000990"},{"type":"message","user":"U0KPFAZNF","text":"but it would be as the input stage for the trigger job","ts":"1474045003.000991"},{"type":"message","user":"U0KPFAZNF","text":"so git-commit -&gt; hook -&gt; curl -&gt; trigger-job -&gt; real-job","ts":"1474045021.000992"},{"type":"message","user":"U0KPFAZNF","text":"you are thinking we do something else like external-release-criteria -&gt; curl -&gt; real-job ?","ts":"1474045065.000993"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP> I think <@U11HH3P7Y> added a CI skip notation for doc changes ","ts":"1474048310.000994"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> I did a make -local over 3 hours ago and no progress, no output at all. is that normal?","ts":"1474050528.000995"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2CJX12CW\/-.txt|Untitled>","file":{"id":"F2CJX12CW","created":1474050567,"timestamp":1474050567,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":300,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2CJX12CW\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2CJX12CW\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2CJX12CW\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2CJX12CW-db4b0404fe","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2CJX12CW\/-.txt\/edit","preview":"[ry@localhost fabric-baseimage]$ ls\r\nDockerfile.in  http  images  Makefile  packer.json  README.md  release  scripts\r\n[ry@localhost fabric-baseimage]$ make -local\r\nATLAS_ARTIFACT=hyperledger\/fabric-baseimage \\\r\nBASEIMAGE_RELEASE=0.1.0 \\\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>[ry@localhost fabric-baseimage]$ ls<\/pre><\/div>\n<div><pre>Dockerfile.in  http  images  Makefile  packer.json  README.md  release  scripts<\/pre><\/div>\n<div><pre>[ry@localhost fabric-baseimage]$ make -local<\/pre><\/div>\n<div><pre>ATLAS_ARTIFACT=hyperledger\/fabric-baseimage \\<\/pre><\/div>\n<div><pre>BASEIMAGE_RELEASE=0.1.0 \\<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":8,"lines_more":3,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1474050567.000996"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> I am not even sure what target that is resolving to","ts":"1474052226.000997"},{"type":"message","user":"U0KPFAZNF","text":"Try either make vagrant-local or docker-local","ts":"1474052245.000998"},{"type":"message","user":"U0KPFAZNF","text":"They take about 30 minutes each for me","ts":"1474052261.000999"},{"type":"message","user":"U0UHG4VP1","text":"I killed it","ts":"1474052261.001000"},{"type":"message","user":"U0KPFAZNF","text":"I'll take a look at why that didn't just puke right away","ts":"1474052286.001001"},{"type":"message","user":"U0UHG4VP1","text":"I see you said *-local, which I missed this morning :slightly_smiling_face:","ts":"1474052458.001002"},{"type":"message","user":"U0KPFAZNF","text":"Yeah I was generalizing, sorry","ts":"1474052564.001003"},{"type":"message","user":"U0UHG4VP1","text":"no worries, I was too tired to be making decisions :slightly_smiling_face:","ts":"1474053712.001004"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> I did a make vagrant-local and it is doing the same thing. It\u2019s not consuming any IO, CPU, or network that I can see. it\u2019s just hung.","ts":"1474054516.001005"},{"type":"message","user":"U0KPFAZNF","text":"same output as above?","ts":"1474054540.001006"},{"type":"message","user":"U0UHG4VP1","text":"yes. I also added V=1 and VERBOSE=1 and nothing. I\u2019m installing strace now","ts":"1474054606.001007"},{"type":"message","user":"U0KPFAZNF","text":"from the looks of it, its calling into packer and then something goes belly up","ts":"1474054624.001008"},{"type":"message","user":"U0KPFAZNF","text":"what version packer do you have?","ts":"1474054630.001009"},{"type":"message","user":"U0UHG4VP1","text":"I hate life","ts":"1474054678.001010"},{"type":"message","user":"U0UHG4VP1","text":"there is some other package called packer","ts":"1474054690.001011"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2CKTLHNU\/-.txt|Untitled>","file":{"id":"F2CKTLHNU","created":1474054923,"timestamp":1474054923,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":330,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2CKTLHNU\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2CKTLHNU\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2CKTLHNU\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2CKTLHNU-22c65005e0","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2CKTLHNU\/-.txt\/edit","preview":"[ry@localhost fabric-baseimage]$ make vagrant-local\r\nATLAS_ARTIFACT=hyperledger\/fabric-baseimage \\\r\nBASEIMAGE_RELEASE=0.1.0 \\\r\nOUTPUT_FILE=baseimage-v0.1.0.box \\\r\npacker build packer-local.json\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>[ry@localhost fabric-baseimage]$ make vagrant-local<\/pre><\/div>\n<div><pre>ATLAS_ARTIFACT=hyperledger\/fabric-baseimage \\<\/pre><\/div>\n<div><pre>BASEIMAGE_RELEASE=0.1.0 \\<\/pre><\/div>\n<div><pre>OUTPUT_FILE=baseimage-v0.1.0.box \\<\/pre><\/div>\n<div><pre>packer build packer-local.json<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":9,"lines_more":4,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1474054923.001012"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> 0.10.1","ts":"1474055578.001013"},{"type":"message","user":"U0KPFAZNF","text":"what version of jq?","ts":"1474055905.001014"},{"type":"message","user":"U0UHG4VP1","text":"nothing, I thought you removed that dependency. sorry. I\u2019ll install it","ts":"1474055939.001015"},{"type":"message","user":"U0KPFAZNF","text":"sorry, i changed my mind, heh","ts":"1474055978.001016"},{"type":"message","user":"U0KPFAZNF","text":"i thought I could make it work without it but that turned out to be a deadend","ts":"1474055992.001017"},{"type":"message","user":"U0UHG4VP1","text":"1.5.3 is installing","ts":"1474056014.001018"},{"type":"message","user":"U0KPFAZNF","text":"cool","ts":"1474056017.001019"},{"type":"message","user":"U0KPFAZNF","text":"im actually confused as to how you got to the packer phase though","ts":"1474056031.001020"},{"type":"message","user":"U0KPFAZNF","text":"i would expect the packer-local.json phase would have died from the missing jq","ts":"1474056047.001021"},{"type":"message","user":"U0UHG4VP1","text":"the packer I had is part of some other package","ts":"1474056050.001022"},{"type":"message","user":"U0KPFAZNF","text":"right, but i was looking at \"packer build packer-local.json\"","ts":"1474056069.001023"},{"type":"message","user":"U0KPFAZNF","text":"to get there, it should have already built packer-local.json","ts":"1474056080.001024"},{"type":"message","user":"U0KPFAZNF","text":"and to build that, it would need jq","ts":"1474056085.001025"},{"type":"message","user":"U0UHG4VP1","text":"this will take hours to complete. I will trust you\u2019re right and if you\u2019re wrong you\u2019re the one that will both discover it first and then fix it :slightly_smiling_face:","ts":"1474056408.001026"},{"type":"message","user":"U0KPFAZNF","text":":slightly_smiling_face:","ts":"1474056442.001027"},{"type":"message","user":"U0KPFAZNF","text":"it shouldnt take that long though\u2026my old 2009 MacPro can compile the entire image in about 30m","ts":"1474056464.001028"},{"type":"message","user":"U0UHG4VP1","text":"I\u2019m way behind on updates, so just getting to the next stage is an 800 meg download with a reboot for a new kernel","ts":"1474056477.001029"},{"type":"message","user":"U0KPFAZNF","text":"ah, ok","ts":"1474056491.001030"},{"type":"message","user":"U0UHG4VP1","text":"and I suspect I can\u2019t do it on OS X because I\u2019m already running Parallels and I suspect Intel CPUs still can\u2019t handle two programs frobbing the virtualization bits at once, still","ts":"1474056577.001031"},{"type":"message","user":"U0KPFAZNF","text":"can you guys provide any pointers\/guidance on the JJB stuff?","ts":"1474056584.001032"},{"type":"message","user":"U0KPFAZNF","text":"im googling around and it seems most things have a context element to them that dont jive with what I see in ci-managment.git","ts":"1474056607.001033"},{"type":"message","user":"U0UHG4VP1","text":"I can point you at our other projects with more robust ci-management repos to show you The Linux Foundation way","ts":"1474056651.001034"},{"type":"message","user":"U0KPFAZNF","text":"that would be great","ts":"1474056659.001035"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/gerrit.fd.io\/r\/#\/admin\/projects\/ci-management> for instance (if you can\u2019t see that you may need to authenticate)","ts":"1474056686.001036"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/gerrit.opnfv.org\/gerrit\/#\/admin\/projects\/releng> as well (it\u2019s our largest, most complex project RN)","ts":"1474056752.001037"},{"type":"message","user":"U0KPFAZNF","text":"ty","ts":"1474056875.001038"},{"type":"message","user":"U0KPFAZNF","text":"do we have a JJB setup for the sandbox?","ts":"1474056901.001039"},{"type":"message","user":"U0UHG4VP1","text":"I have granted you minor superpowers for <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1087\/> if you click \u201creply\u201d you should see another option","ts":"1474056917.001040"},{"type":"message","user":"U0KPFAZNF","text":"i dont understand","ts":"1474056951.001041"},{"type":"message","user":"U0UHG4VP1","text":"so this is the bit that I was on about where you would have the jenkins jarfile locally","ts":"1474056954.001042"},{"type":"message","user":"U0UHG4VP1","text":"do you not see an option to make the change verified? if not I need to look harder","ts":"1474056975.001043"},{"type":"message","user":"U0KPFAZNF","text":"oh!","ts":"1474056984.001044"},{"type":"message","user":"U0KPFAZNF","text":"yes, i do","ts":"1474056986.001045"},{"type":"message","user":"U0KPFAZNF","text":"note that I have that in fabric.git, so it became part of the noise","ts":"1474057001.001046"},{"type":"message","user":"U0UHG4VP1","text":"oh? huh","ts":"1474057020.001047"},{"type":"message","user":"U0KPFAZNF","text":"i think, let me check","ts":"1474057026.001048"},{"type":"message","user":"U0KPFAZNF","text":"ive always ignored it because I figured it meant \u201cI verified this\u201d and I hadnt","ts":"1474057045.001049"},{"type":"message","user":"U0KPFAZNF","text":"(was relying on CI)","ts":"1474057050.001050"},{"type":"message","user":"U0UHG4VP1","text":"you shouldn\u2019t be able to, and you\u2019re right, you shouldn\u2019t click it","ts":"1474057066.001051"},{"type":"message","user":"U0KPFAZNF","text":"I just checked, I do have it","ts":"1474057079.001052"},{"type":"message","user":"U0UHG4VP1","text":"I will need to look in to what is going on","ts":"1474057090.001053"},{"type":"message","user":"U0KPFAZNF","text":"better fix that up before I go V+1 crazy","ts":"1474057094.001054"},{"type":"message","user":"U0KPFAZNF","text":":wink:","ts":"1474057118.001055"},{"type":"message","user":"U0UHG4VP1","text":"oh, I see that is granted in All-Projects to Project Owners (which you are one of)","ts":"1474057127.001056"},{"type":"message","user":"U0KPFAZNF","text":"ah, ok","ts":"1474057132.001057"},{"type":"message","user":"U0UHG4VP1","text":"I thought you were gated on getting a +1 out of me or something :slightly_smiling_face:","ts":"1474057139.001058"},{"type":"message","user":"U0KPFAZNF","text":"no no, but I think the V+1 would have gated me after 2+2 so thank you for that","ts":"1474057449.001059"},{"type":"message","user":"U0KPFAZNF","text":"back to the other thread: is there JJB plumbing on sandbox?","ts":"1474057516.001060"},{"type":"message","user":"U0KPFAZNF","text":"I think I have an overall idea of what to do but wanted to try it first","ts":"1474057534.001061"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> you will need to do something like this: <https:\/\/nexus.opendaylight.org\/content\/sites\/site\/org.opendaylight.releng.builder\/master\/jenkins.html#jenkins_sandbox> s\/opendaylight\/hyperledger of course","ts":"1474058436.001062"},{"type":"message","user":"U0UHG4VP1","text":"and s\/ci-management\/releng as well","ts":"1474058490.001063"},{"type":"message","user":"U0UHG4VP1","text":"so packer has been waiting on ssh to be available for a while, but I\u2019m not too concerned","ts":"1474058565.001064"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> ty","ts":"1474058595.001065"},{"type":"message","user":"U0KPFAZNF","text":"regarding vagrant, as you already understand, that is normal\/expected","ts":"1474058617.001066"},{"type":"message","user":"U0KPFAZNF","text":"if you are curious, you can often times connect to the virtualbox console and see what its doing","ts":"1474058633.001067"},{"type":"message","user":"U0KPFAZNF","text":"but its def a \u201crun it and walk away\u201d kind of process :wink:","ts":"1474058663.001068"},{"type":"message","user":"U0UHG4VP1","text":"sure, I just don\u2019t care really. I got past the p0 stuff by installing the pre-reqs so I\u2019m good :slightly_smiling_face:","ts":"1474058684.001069"},{"type":"message","user":"U0KPFAZNF","text":"cool\u2026it does take a while so just let it be and it should come back to life eventually","ts":"1474058708.001070"},{"type":"message","user":"U0UHG4VP1","text":"I trust sometime today ssh will become available :slightly_smiling_face:","ts":"1474058710.001071"},{"type":"message","user":"U0KPFAZNF","text":"i dont really know how long as I always go do something else","ts":"1474058726.001072"},{"type":"message","user":"U0KPFAZNF","text":"the issue is that its provisioning an ubuntu host from scratch","ts":"1474058760.001073"},{"type":"message","user":"U0KPFAZNF","text":"so getting to \u201csshd\u201d is a big production","ts":"1474058779.001074"},{"type":"message","user":"U0KM61BCP","text":"<@U11HH3P7Y> can we please turn off behave tests on convergence branch builds? It keeps running for the max time and aborting.","ts":"1474136996.001075"},{"type":"message","user":"U0KM61BCP","text":"<@U0ULK2JPP> I verified the unit tests and +2ed I believe another +2 will merge.","ts":"1474137170.001076"},{"type":"message","user":"U0ULK2JPP","text":"thanks <@U0KM61BCP>","ts":"1474139732.001077"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP> you should be able to delete JJB\u2019s vote to unblock the merge","ts":"1474144156.001078"},{"type":"message","user":"U0KM61BCP","text":"how is that done?","ts":"1474144176.001079"},{"type":"message","user":"U0UHG4VP1","text":"looking here <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1057\/> you should see a small x next to \u201chyperledger jobbuilder\"","ts":"1474144189.001080"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2CRSQ2HK\/screen_shot_2016-09-17_at_1.30.05_pm.png|Screen Shot 2016-09-17 at 1.30.05 PM.png>","file":{"id":"F2CRSQ2HK","created":1474144220,"timestamp":1474144220,"name":"Screen Shot 2016-09-17 at 1.30.05 PM.png","title":"Screen Shot 2016-09-17 at 1.30.05 PM.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0UHG4VP1","editable":false,"size":83301,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2CRSQ2HK\/screen_shot_2016-09-17_at_1.30.05_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2CRSQ2HK\/download\/screen_shot_2016-09-17_at_1.30.05_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2CRSQ2HK-74151b1c68\/screen_shot_2016-09-17_at_1.30.05_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2CRSQ2HK-74151b1c68\/screen_shot_2016-09-17_at_1.30.05_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2CRSQ2HK-74151b1c68\/screen_shot_2016-09-17_at_1.30.05_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":185,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2CRSQ2HK-74151b1c68\/screen_shot_2016-09-17_at_1.30.05_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":247,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2CRSQ2HK-74151b1c68\/screen_shot_2016-09-17_at_1.30.05_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2CRSQ2HK-74151b1c68\/screen_shot_2016-09-17_at_1.30.05_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":370,"image_exif_rotation":1,"original_w":946,"original_h":486,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2CRSQ2HK\/screen_shot_2016-09-17_at_1.30.05_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2CRSQ2HK-6a4c948b9d","channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1474144222.001081"},{"type":"message","user":"U0UHG4VP1","text":"click that x to delete the vote","ts":"1474144241.001082"},{"type":"message","user":"U0UHG4VP1","text":"there you go","ts":"1474144257.001083"},{"type":"message","user":"U0KM61BCP","text":"aha","ts":"1474144257.001084"},{"type":"message","user":"U0KM61BCP","text":"really intuitive ux","ts":"1474144268.001085"},{"type":"message","user":"U0KM61BCP","text":"not","ts":"1474144268.001086"},{"type":"message","user":"U0UHG4VP1","text":"I have no defense for that.","ts":"1474144282.001087"},{"type":"message","user":"U0KM61BCP","text":"you don\u2019t need one","ts":"1474144290.001088"},{"type":"message","user":"U0UHG4VP1","text":"I\u2019m a little confused as to why JJB is voting on that branch, but I\u2019ll talk to Ramesh next week","ts":"1474144338.001089"},{"type":"message","user":"U0ULK2JPP","text":"thanks <@U0KM61BCP> <@U0UHG4VP1> \u2026. (and hate to trouble you)","ts":"1474144401.001090"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP>: when you\u2019re making doc only changes (that don\u2019t need a build) you can add [ci skip] to your commit message to do that.","ts":"1474144588.001091"},{"type":"message","user":"U0KM61BCP","text":"y","ts":"1474146384.001092"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> when you get a chance, what is the merge policy for fabric-sdk-py? I\u2019m thinking NACR is what we have\u2026 what I cannot recall is who are maintainers <@U0Z41KY5V> maybe you could add a MAINTAINERS.md to your initial commit?","ts":"1474211408.001093"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP> <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1123\/1>","ts":"1474242344.001094"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP> NACR","ts":"1474242405.001095"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> would you be able to help me get the ci-management plumbing in place for the baseimage stuff?","ts":"1474294053.001096"},{"type":"message","user":"U0KPFAZNF","text":"im still fairly unclear on the mappings there","ts":"1474294062.001097"},{"type":"message","user":"U11HH3P7Y","text":"yes. which job in sandbox I have to consider?","ts":"1474294110.001098"},{"type":"message","user":"U0KPFAZNF","text":"baseimage-experiment and baseimage-docker-experiment","ts":"1474294138.001099"},{"type":"message","user":"U0KPFAZNF","text":"baseimage-experiment should probably be something like \u201cfabric-baseimage-vagrant\"","ts":"1474294170.001100"},{"type":"message","user":"U0KPFAZNF","text":"and for the other, we need to be able to support $arch","ts":"1474294187.001101"},{"type":"message","user":"U0KPFAZNF","text":"so not sure if that is going to be three instances like \u201cfabric-baseimage-docker-x86\u201d etc","ts":"1474294214.001102"},{"type":"message","user":"U0KPFAZNF","text":"also note, at some point, we may want to delineate \u201cverify\u201d vs \u201crelease\"","ts":"1474294234.001103"},{"type":"message","user":"U0KPFAZNF","text":"these would be in the \u201crelease\u201d category, but I think that is a good place to start","ts":"1474294258.001104"},{"type":"message","user":"U11HH3P7Y","text":"will check these jobs and will get back to you","ts":"1474294294.001105"},{"type":"message","user":"U0KPFAZNF","text":"also note, there is \u201cbaseimage-trigger\u201d which should front-end the \u201crelease\u201d jobs somehow ideally","ts":"1474294303.001106"},{"type":"message","user":"U0KPFAZNF","text":"but for now, just getting the basic jobs would be great","ts":"1474294311.001107"},{"type":"message","user":"U0KPFAZNF","text":"ty","ts":"1474294332.001108"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: kindly remove the atlas\/dockerhub credentials from the sandbox jobs at earliest convenience","ts":"1474297967.001109"},{"type":"message","user":"U0KPFAZNF","text":"no rush, just dont want to forget about it in the future","ts":"1474297976.001110"},{"type":"message","user":"U0KPFAZNF","text":"(on that note, pls make sure that the credentials mechanism is in place in the mainstream jobs","ts":"1474298002.001111"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> <@U0KN2SSKE> do you want me to target the further refinement of the baseimage pipeline to the v0.6 branch (e.g. v0.6.1 and beyond) or just mainline?","edited":{"user":"U0KPFAZNF","ts":"1474298283.000000"},"ts":"1474298261.001112"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> we use those credentials in production, so I know they\u2019re there","ts":"1474299162.001114"},{"type":"message","user":"U0KPFAZNF","text":"ok cool","ts":"1474299183.001115"},{"type":"message","user":"U0KPFAZNF","text":"im thinking, if we need to do similar -sandbox experiments in the future, we can set up an alternate account (like hyperledger-sandbox)","ts":"1474299225.001116"},{"type":"message","user":"U0KPFAZNF","text":"otherwise, its a loophole to push images out","ts":"1474299235.001117"},{"type":"message","user":"U0UHG4VP1","text":"OK.","ts":"1474299241.001118"},{"type":"message","user":"U0UHG4VP1","text":"deleted","ts":"1474299292.001119"},{"type":"message","user":"U0KPFAZNF","text":"ty","ts":"1474299519.001120"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF> what refinement do you mean?","ts":"1474301088.001121"},{"type":"message","user":"U0KPFAZNF","text":"i just mean: \u201cthe refinement in progress\u201d not something specific to v0.6","ts":"1474301264.001122"},{"type":"message","user":"U0KPFAZNF","text":"ulimately, i hope to get the images all cleaned up and in a place where they could be deployed in places like Kubernetes","ts":"1474301287.001123"},{"type":"message","user":"U0KPFAZNF","text":"ideally, that would include v0.6","ts":"1474301298.001124"},{"type":"message","user":"U0KPFAZNF","text":"but if its felt that is inappropriate, i can just target mainline","ts":"1474301312.001125"},{"type":"message","user":"U0KPFAZNF","text":"brb","ts":"1474301343.001126"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins: the CI pipeline is sub-optimal right now anyway, like 100% of that could be abstracted into one file which uses macros and a set of macros per platform. it just hasn\u2019t been done yet.","ts":"1474301388.001127"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1474301955.001128"},{"type":"message","user":"U11HH3P7Y","text":"<@U0ULK2JPP> : We have skipped voting on behave verify and merge jobs but this applies to only success, failure and not built cases.","ts":"1474383019.001129"},{"type":"message","user":"U11HH3P7Y","text":"We don't have an option to skip vote on abort case ( We are forcibly aborting if build takes more than 120 mins).. I will check if there is any option to do this","ts":"1474383081.001130"},{"type":"message","user":"U0ULK2JPP","text":"<@U11HH3P7Y> sure, thanks much\u2026 I didn\u2019t follow  _ build takes more than 120 mins_  - I thought it was behave that was taking long time ?","ts":"1474383257.001131"},{"type":"message","user":"U0ULK2JPP","text":"I could easily be wrong...","ts":"1474383270.001132"},{"type":"message","user":"U11HH3P7Y","text":"yes behave build is taking long time than usual","ts":"1474383361.001133"},{"type":"message","user":"U0ULK2JPP","text":"I see, thanks <@U11HH3P7Y>","ts":"1474385452.001134"},{"type":"message","user":"U0KM61BCP","text":"<@U0ULK2JPP> <@U11HH3P7Y> usually the behave tests take no more than an hour or so\u2026 2 hours is clearly indication of a problem","ts":"1474386418.001135"},{"type":"message","user":"U0ULK2JPP","text":"thanks <@U0KM61BCP>","ts":"1474386587.001136"},{"type":"message","user":"U0ULK2JPP","text":"behave tests need to be investigated then.","ts":"1474386610.001137"},{"type":"message","user":"U0ULK2JPP","text":"no problem indicated in the infrastructure itself\u2026 understood","ts":"1474386637.001138"},{"type":"message","user":"U0KM61BCP","text":"well, build and unit tests take almost 3x on jenkins than my macbook... we might want to investigate that too","ts":"1474387091.001139"},{"type":"message","user":"U0UHG4VP1","text":"cbf: would more cores shorten the build time?","ts":"1474391323.001140"},{"type":"message","user":"U0UHG4VP1","text":"right now each VM has 4 cores","ts":"1474391333.001141"},{"type":"message","user":"U0YK3KKCY","text":"hi. i'm working  with <@U11HH3P7Y> to re-integrate the z builds into the overall build process.  currently, there is an issue with the building of the javaenv docker image for z ( and it also affects p ).  i opened up an issue FAB-358 about a week ago, and was wondering if anyone has been assigned to look at this issue.  i see that Srirama Sharma has posted a potential resolution to this issue.  hopefully, someone will be able to take ownership of this issue.  this will move the ball forward in reintegrating z builds back into the overall process.   FAB-358 url: <https:\/\/jira.hyperledger.org\/browse\/FAB-358>","ts":"1474391413.001142"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> I don\u2019t know my mbp has 2 and a whole build can be done in like 30 minutes including behave tests","ts":"1474391464.001143"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> the gerrit UI is confounding\u2026 why is it that the name search for adding reviewers sometimes works and sometimes not?","ts":"1474395963.001144"},{"type":"message","user":"U0KM61BCP","text":"shouldn\u2019t it basically find anyone?","ts":"1474395980.001145"},{"type":"message","user":"U0UHG4VP1","text":"cbf: I do not know. I usually end up adding them by email","ts":"1474396013.001146"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> annoying;-)","ts":"1474396089.001147"},{"type":"message","user":"U0KM61BCP","text":"if I use the email, it finds the name","ts":"1474396105.001148"},{"type":"message","user":"U0KM61BCP","text":"but the name is associated wit hthe email","ts":"1474396113.001149"},{"type":"message","user":"U0UHG4VP1","text":"yes, it is. that is one feature that seems to defy improvement, release to release","ts":"1474396117.001150"},{"type":"message","user":"U0KM61BCP","text":"so it should find that","ts":"1474396117.001151"},{"type":"message","user":"U0KM61BCP","text":"lol","ts":"1474396123.001152"},{"type":"message","user":"U0KM61BCP","text":"the UX is almost as bad as Lotus Notes lol","ts":"1474396137.001153"},{"type":"message","user":"U1F97K1UJ","text":"hehe, well i am glad that there isn\u2019t a greener pasture in the land the CI - seems like all the ecosystems are just barely \u201cgood enough\u201d :slightly_smiling_face:","ts":"1474398295.001154"},{"type":"message","user":"U1F97K1UJ","text":"none are awesome in all ways","ts":"1474398303.001155","reactions":[{"name":"+1","users":["U0KM61BCP","U0UHG4VP1"],"count":2}]},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: Could you please add `Z build `machine (hyp-z-linuxone-2) to sandox.. I have to test thoroughly before enable in ci-pipeline","ts":"1474403470.001156"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> <https:\/\/jenkins.hyperledger.org\/sandbox\/computer\/hyp-z-linuxone-2\/>","ts":"1474403857.001157"},{"type":"message","user":"U11HH3P7Y","text":"Thanks <@U0UHG4VP1>","ts":"1474403894.001158"},{"type":"message","user":"U0UHG4VP1","text":"sure thing.","ts":"1474403904.001159"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> is it OK to merge <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1151\/> with the \u201cany time the word release is in the commit message a build will fire\u201d setting?","ts":"1474404004.001160"},{"text":"looks","type":"message","subtype":"me_message","user":"U0KPFAZNF","ts":"1474404083.001161"},{"type":"message","user":"U0KPFAZNF","text":"my gut says: we dont want that behavior.  However, my gut also says there\u2019s likely to be a few iterations to get this correct and its not \u201cproduction\u201d yet anyway","ts":"1474404138.001162"},{"type":"message","user":"U0KPFAZNF","text":"so, in the interest of expediency to the iterative process, I say go for it","ts":"1474404151.001163"},{"type":"message","user":"U0KPFAZNF","text":"we can test\/refine","ts":"1474404156.001164"},{"type":"message","user":"U0KPFAZNF","text":"once we can get this thing reliable and pushing out images, we can be more discretionary with niggles like that","ts":"1474404223.001165"},{"type":"message","user":"U0KPFAZNF","text":"if possible, please give me as much permission to tweak the resulting jobs as possible (minimally, kick off jobs, but also possibly settings, etc)","ts":"1474404278.001166"},{"type":"message","user":"U0KPFAZNF","text":"I realize we want to capture the setting in JJB, but it might be shorter iterations if I can experiment directly","ts":"1474404299.001167"},{"type":"message","user":"U0UHG4VP1","text":"that\u2019s what the sandbox is for","ts":"1474404310.001168"},{"type":"message","user":"U0KPFAZNF","text":"if that poses problems, then no problem","ts":"1474404315.001169"},{"type":"message","user":"U0UHG4VP1","text":"I mean, that is literally the reason the sandbox exists","ts":"1474404329.001170"},{"type":"message","user":"U0KPFAZNF","text":"can we direct the JJB to the sandbox?","ts":"1474404329.001171"},{"type":"message","user":"U0KPFAZNF","text":"i thought the only limitation was I couldnt submit the jobs as JJB","ts":"1474404345.001172"},{"type":"message","user":"U0KPFAZNF","text":"if thats not the case, I agree","ts":"1474404352.001173"},{"type":"message","user":"U0UHG4VP1","text":"I sent you instructions on how to do that, I thought","ts":"1474404360.001174"},{"type":"message","user":"U0KPFAZNF","text":"oh, heh, you did, but it wasnt clear to me on how to use it","ts":"1474404372.001175"},{"type":"message","user":"U0KPFAZNF","text":"(mostly because I dont know how to write a JJB description","ts":"1474404392.001176"},{"type":"message","user":"U0KPFAZNF","text":"can we direct <@U11HH3P7Y>\u2019s work to the sandbox?","ts":"1474404401.001177"},{"type":"message","user":"U0KPFAZNF","text":"that would be idea","ts":"1474404426.001178"},{"type":"message","user":"U0UHG4VP1","text":"you want me to revert the last merge?","ts":"1474404426.001179"},{"type":"message","user":"U0KPFAZNF","text":"ideal","ts":"1474404427.001180"},{"type":"message","user":"U0KPFAZNF","text":"no, I think its fine\u2026nothing is relying on this pipeline yet except my own internal development","ts":"1474404449.001181"},{"type":"message","user":"U0UHG4VP1","text":"you should be able to generate the xml (and test it for validity) and push it to the sandbox at will","ts":"1474404505.001182"},{"type":"message","user":"U0KPFAZNF","text":"ok, that was the part that wasnt clear","ts":"1474404522.001183"},{"type":"message","user":"U0KPFAZNF","text":"i understand there is JJB description -&gt; JJB tooling -&gt; XML -&gt; Jenkins","ts":"1474404538.001184"},{"type":"message","user":"U0KPFAZNF","text":"i was unclear what the submission interface was","ts":"1474404548.001185"},{"type":"message","user":"U0KPFAZNF","text":"i think I get you now","ts":"1474404561.001186"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: any clue why the new jobs not added to Jenkins","ts":"1474404579.001187"},{"type":"message","user":"U0UHG4VP1","text":"if I read the docs correctly you grab an API token from Jenkins. I haven\u2019t walked through it stepwise, so I need to do that","ts":"1474404584.001188"},{"type":"message","user":"U0KPFAZNF","text":"IIUC, for production we have ci-management.git -&gt; gerrit -&gt; JJB \u2026..","ts":"1474404587.001189"},{"type":"message","user":"U0KPFAZNF","text":"but you can short circuit that in sandbox and run the JJB tooling yourself, and then submit the XML directly","ts":"1474404609.001190","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> yeah, i echo <@U11HH3P7Y> \u2019s question","ts":"1474404638.001191"},{"type":"message","user":"U0KPFAZNF","text":"where are the new jobs?","ts":"1474404641.001192"},{"type":"message","user":"U0KPFAZNF","text":"is there a lag&gt;","ts":"1474404644.001193"},{"type":"message","user":"U0KPFAZNF","text":"?","ts":"1474404646.001194"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/jenkins.hyperledger.org\/view\/fabric-baseimage\/>","ts":"1474404722.001195"},{"type":"message","user":"U0UHG4VP1","text":"Needed a new view","ts":"1474404744.001196"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins I think you understand correctly. I have a meeting in 7, afterwards I will walk through it stepwise and make sure it works","ts":"1474404808.001197"},{"type":"message","user":"U0KPFAZNF","text":"i see them now, thx","ts":"1474405044.001198"},{"type":"message","user":"U0KPFAZNF","text":"that makes sense to have a new namespace","ts":"1474405048.001199"},{"type":"message","user":"U0UHG4VP1","text":"I could change the regex for the fabric tab as well.","ts":"1474405234.001200"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: please install downstream-ext plugin <https:\/\/wiki.jenkins-ci.org\/display\/JENKINS\/Downstream-Ext+Plugin>","ts":"1474405357.001201"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> looks like the baseimage pipeline in general is not working","ts":"1474405511.001202"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/view\/fabric-baseimage\/job\/fabric-baseimage-merge-x86_64\/1\/console>","ts":"1474405512.001203"},{"type":"message","user":"U0KPFAZNF","text":"for some reason, its trying to do fabric-like stuff","ts":"1474405520.001204"},{"type":"message","user":"U11HH3P7Y","text":"looking into that..","ts":"1474405526.001205"},{"type":"message","user":"U0KPFAZNF","text":"i dont know enough about JJB to say way","ts":"1474405530.001206"},{"type":"message","user":"U0KPFAZNF","text":"why","ts":"1474405530.001207"},{"type":"message","user":"U0UHG4VP1","text":"so the baseimage jobs are waiting for builders that will never exist (they want a tag hyp-fabric-[\u2018x86_64\u2019])","edited":{"user":"U0UHG4VP1","ts":"1474405881.000000"},"ts":"1474405869.001208"},{"type":"message","user":"U11HH3P7Y","text":"I canceled those waiting builds..","ts":"1474405942.001210"},{"type":"message","user":"U11HH3P7Y","text":"working on that issue","ts":"1474405953.001211"},{"type":"message","user":"U0UHG4VP1","text":"please use the sandbox from here out.","ts":"1474405970.001212"},{"user":"U12452RAP","text":"<@U12452RAP|grapebaba> has joined the channel","type":"message","subtype":"channel_join","ts":"1474463183.001213"},{"user":"U0N13GKRP","text":"<@U0N13GKRP|zaki> has left the channel","type":"message","subtype":"channel_leave","ts":"1474488350.001214"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> doesnt look like the baseimage jobs are working right","ts":"1474491464.001215"},{"type":"message","user":"U11HH3P7Y","text":"yes minor issue while executing shell","ts":"1474491619.001216"},{"type":"message","user":"U0KPFAZNF","text":"i have to step away for a few hours, but ill be online later","ts":"1474491690.001217"},{"type":"message","user":"U0UHG4VP1","text":"I\u2019ve reverted the last two commits on ci-management until everything is worked out.","ts":"1474491777.001218"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: could you please help me out in setting up jjb in sandbox","ts":"1474491847.001219"},{"type":"message","user":"U0ZJZBJLF","text":"I forgot to add [ci skip] to the commit :disappointed: can anyone please kill my jenkins jobs?","ts":"1474541266.001220"},{"user":"U221LL03Z","text":"<@U221LL03Z|ashutoshkumar> has joined the channel","type":"message","subtype":"channel_join","ts":"1474551566.001221"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> <@U11HH3P7Y> how does one cancel a Jenkins run?","ts":"1474561845.001222"},{"type":"message","user":"U0UHG4VP1","text":"which one?","ts":"1474561871.001223"},{"type":"message","user":"U0UHG4VP1","text":"in general, you don\u2019t cancel them.","ts":"1474561912.001224"},{"type":"message","user":"U0KM61BCP","text":"well, ok, just seems a waste to run when just doc changes","ts":"1474562034.001225"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF> looks like either we have a bad mirror or a problem with the new baseimage build <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/1356\/console>","ts":"1474633588.001226"},{"type":"message","user":"U0KM61BCP","text":"last 5 look like the same issue","ts":"1474633598.001227"},{"type":"message","user":"U0KPFAZNF","text":"hmm, whats odd is the provision\/common.sh script is the old stuff","ts":"1474633645.001228"},{"type":"message","user":"U0KM61BCP","text":"what I thought","ts":"1474633652.001229"},{"type":"message","user":"U0KPFAZNF","text":"what build was this from?","ts":"1474633660.001230"},{"type":"message","user":"U0KM61BCP","text":"but I am not yet caffinated","ts":"1474633664.001231"},{"type":"message","user":"U0KPFAZNF","text":"i mean, what PR","ts":"1474633664.001232"},{"type":"message","user":"U0KM61BCP","text":"last 5 have same error","ts":"1474633684.001233"},{"type":"message","user":"U0KM61BCP","text":"oh","ts":"1474633695.001234"},{"type":"message","user":"U0KM61BCP","text":"wait","ts":"1474633697.001235"},{"type":"message","user":"U0KM61BCP","text":"convergence branch","ts":"1474633701.001236"},{"type":"message","user":"U0KM61BCP","text":"it\u2019s the last 3 convergence branch builds","ts":"1474633746.001237"},{"type":"message","user":"U0KM61BCP","text":"we need to get that branch updated","ts":"1474633759.001238"},{"type":"message","user":"U0KPFAZNF","text":"yeah, convergence still runs on the v0.0.11 stuff\u2026looks like bad juju in the ubuntu mirror this am","ts":"1474633772.001239"},{"type":"message","user":"U0KM61BCP","text":"yes","ts":"1474633780.001240"},{"type":"message","user":"U0KPFAZNF","text":"i cant recall if i did already, but I was going to start a thread about how to best keep these branches up to date","ts":"1474633812.001241"},{"type":"message","user":"U0KM61BCP","text":"well, I wanted to start a thread that sought to figure out how we go forward","ts":"1474633836.001242"},{"type":"message","user":"U0KPFAZNF","text":"one thing we could do is open up merge-pushes for maintainers\u2026and if we are disciplined to only push merges when they are for syncing branches...","ts":"1474633845.001243"},{"type":"message","user":"U0KM61BCP","text":"because with v0.6 cut, we can probably cut over to master","ts":"1474633849.001244"},{"type":"message","user":"U0KPFAZNF","text":"yeah","ts":"1474633856.001245"},{"type":"message","user":"U0KPFAZNF","text":"though the problem still remains in general","ts":"1474633866.001246"},{"type":"message","user":"U0KM61BCP","text":"yes","ts":"1474633872.001247"},{"type":"message","user":"U0KPFAZNF","text":"(theres already something in v0.6 i need to merge downward)","ts":"1474633877.001248"},{"type":"message","user":"U0KM61BCP","text":"me too","ts":"1474633885.001249"},{"type":"message","user":"U0KM61BCP","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1195\/>","ts":"1474633906.001250"},{"type":"message","user":"U0KM61BCP","text":"I need to get Binh this morning and see if theres anything else he thinks we missed","ts":"1474633928.001251"},{"type":"message","user":"U0KPFAZNF","text":"gerrit seems to be friendly to merges if you use the \u2014no-ff so that it creates a merge record\u2026the question really is: is there anything we can do to prevent abuse","ts":"1474633935.001252"},{"type":"message","user":"U0KPFAZNF","text":"well, not so much abuse","ts":"1474633957.001253"},{"type":"message","user":"U0KPFAZNF","text":"but accidental pollution","ts":"1474633964.001254"},{"type":"message","user":"U0KPFAZNF","text":"(we had all kinds of hideous merge records in GH that I would like to avoid)","ts":"1474633988.001255"},{"type":"message","user":"U0KPFAZNF","text":"some other ideas: perhaps there is a jenkins job that is authorized to submit merges","ts":"1474634046.001256"},{"type":"message","user":"U0KPFAZNF","text":"that seems like it would be hard to get right though","ts":"1474634054.001257"},{"type":"message","user":"U0KPFAZNF","text":"heres an idea: maybe the V+1 stage can check for the simple \u201cI synced a branch\u201d vs \u201cI have a messy merge\"","ts":"1474634082.001258"},{"type":"message","user":"U0KM61BCP","text":"it was odd, because when I went to produce a release notes, I saw all kinds of merge records in the log","ts":"1474634093.001259"},{"type":"message","user":"U0KPFAZNF","text":"not sure what that would look like, but that would solve the problem","ts":"1474634096.001260"},{"type":"message","user":"U0KPFAZNF","text":"well, the way we have gerrit configured, _gerrit_ creates merge records","ts":"1474634116.001261"},{"type":"message","user":"U0KPFAZNF","text":"its just that users cannot submit them","ts":"1474634122.001262"},{"type":"message","user":"U0UHG4VP1","text":"On other projects we use the --no-ff as noted","ts":"1474634158.001263"},{"type":"message","user":"U0KPFAZNF","text":"so its not that we are merge record free per se, we just only have one entity that can generate them","ts":"1474634166.001264"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>, cool","ts":"1474634180.001265"},{"type":"message","user":"U0KPFAZNF","text":"we could only grant the \u201cpush merge\u201d ACL to maintainers or something, to limit the risk","ts":"1474634198.001266"},{"type":"message","user":"U0KPFAZNF","text":"whats unclear to me is, is it easy to spy the difference between a simple branch sync and other type of merge records when they get submitted for review","ts":"1474634246.001267"},{"type":"message","user":"U0KPFAZNF","text":"my guess is: unintended merge records probably wouldnt have a ChangeID","ts":"1474634270.001268"},{"type":"message","user":"U0UHG4VP1","text":"A pure merge won't generate a review","ts":"1474634276.001269"},{"type":"message","user":"U0KPFAZNF","text":"so maybe that would be a good gate","ts":"1474634277.001270"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: hmm\u2026is it possible to submit a merge for review if you want?","ts":"1474634316.001271"},{"type":"message","user":"U0KPFAZNF","text":"i thought it was, but maybe I misunderstood","ts":"1474634321.001272"},{"type":"message","user":"U0UHG4VP1","text":"If you do '--no-ff' yes ","ts":"1474634363.001273"},{"type":"message","user":"U0KPFAZNF","text":"right, ok","ts":"1474634368.001274"},{"type":"message","user":"U0UHG4VP1","text":"Feel free to mess with the sandbox ","ts":"1474634379.001275"},{"type":"message","user":"U0KPFAZNF","text":"right, ok","ts":"1474634437.001276"},{"type":"message","user":"U0KPFAZNF","text":"does that have <https:\/\/review.typo3.org\/Documentation\/access-control.html#category_push_merge> turned on?","ts":"1474634443.001277"},{"type":"message","user":"U0UHG4VP1","text":"I\u2019ve turned it on.","ts":"1474635017.001278"},{"type":"message","user":"U0KPFAZNF","text":"ty","ts":"1474635115.001279"},{"user":"U0XR6J961","text":"<@U0XR6J961|simon> has left the channel","type":"message","subtype":"channel_leave","ts":"1474635511.001280"},{"type":"message","user":"U0ZJZBJLF","text":"what golang version exists in the jenkins job that runs the go tests?","ts":"1474752634.001281"},{"type":"message","user":"U0ZJZBJLF","text":"(a build number or something would help)","ts":"1474752655.001282"},{"type":"message","user":"U11HH3P7Y","text":"<@U0ZJZBJLF> : go version 1.6 17:50:02 + go version\n17:50:02 go version go1.6 linux\/amd64","ts":"1474752935.001283"},{"type":"message","user":"U0ZJZBJLF","text":"Thanks!","ts":"1474753018.001284"},{"type":"message","user":"U0ZJZBJLF","text":"what does the 17:50:02 mean?","ts":"1474753150.001285"},{"type":"message","user":"U11HH3P7Y","text":"I have copy pasted from jenkins log please read above as ```17:50:02 + go version\n17:50:02 go version go1.6 linux\/amd64```","ts":"1474753238.001286"},{"type":"message","user":"U0ZJZBJLF","text":"oh, ok","ts":"1474753244.001287"},{"user":"U2B3A70TX","text":"<@U2B3A70TX|soldat> has joined the channel","type":"message","subtype":"channel_join","ts":"1474900889.001288"},{"user":"U1TMQDYKE","text":"<@U1TMQDYKE|wil.pannell> has joined the channel","type":"message","subtype":"channel_join","ts":"1475011825.001289"},{"user":"U2GRGCQ7P","text":"<@U2GRGCQ7P|mikedeshazer> has joined the channel","type":"message","subtype":"channel_join","ts":"1475033470.001290"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> any update on the pipeline work for base image?","ts":"1475069689.001291"},{"type":"message","user":"U0KPFAZNF","text":"id really love to get that operational","ts":"1475069696.001292"},{"type":"message","user":"U11HH3P7Y","text":"I have submitted patch <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1237\/>","ts":"1475070076.001293"},{"type":"message","user":"U11HH3P7Y","text":"I have tested this in sandbox environment and it's working fine.. As mentioned in commit message, we have manually trigger (fabric-baseimage-x86_64) job to trigger further release jobs in pipeline","ts":"1475070155.001294"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> ty, i just responded","ts":"1475070356.001295"},{"type":"message","user":"U11HH3P7Y","text":"I have configured those jobs using JJB setup.. Click on any Release job <https:\/\/jenkins.hyperledger.org\/sandbox\/job\/fabric-baseimage-release2-x86_64\/> (modified builders for these jobs.. It just executes echo statements to see the result quickly)","ts":"1475070505.001296"},{"type":"message","user":"U0UHG4VP1","text":"merged","ts":"1475085000.001297"},{"type":"message","user":"U0KM61BCP","text":"<@U11HH3P7Y> can you please verify the readthedocs fix here is correct <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1291\/>","ts":"1475085258.001298"},{"type":"message","user":"U11HH3P7Y","text":"yes that is correct.. I too submitted another patch <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1319\/>","ts":"1475085320.001299"},{"type":"message","user":"U0UHG4VP1","text":"since those are both documentation related in the future just use [ci skip] and manually verify it","ts":"1475085504.001300"},{"type":"message","user":"U0UHG4VP1","text":"unless we\u2019re actually processing the mkdocs.yml as part of the build chain, we\u2019d never hit it","ts":"1475085533.001301"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/jenkins.hyperledger.org\/view\/fabric-baseimage\/>","ts":"1475085570.001302"},{"type":"message","user":"U11HH3P7Y","text":"sure I forgot to apply this time..","ts":"1475085583.001303"},{"type":"message","user":"U0KM61BCP","text":"<@U11HH3P7Y> ok, I abandoned my change","ts":"1475086449.001304"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: can you please give read access to user \"bmos299\" on Jenkins Sandbox","ts":"1475087849.001305"},{"type":"message","user":"U0UHG4VP1","text":"Who is that?","ts":"1475090413.001306"},{"type":"message","user":"U11HH3P7Y","text":"Barry","ts":"1475090693.001307"},{"type":"message","user":"U0UHG4VP1","text":"Added","ts":"1475093307.001308"},{"type":"message","user":"U11HH3P7Y","text":"Thank you","ts":"1475093323.001309"},{"type":"message","user":"U0UHG4VP1","text":"What project is <@U11HTMW0H> working on? The image pushing?","ts":"1475094010.001310"},{"type":"message","user":"U0UHG4VP1","text":"I only ask for my curiosity, I don't need to know","ts":"1475094021.001311"},{"type":"message","user":"U11HH3P7Y","text":"He is from Quality (testing ) team.","ts":"1475107370.001312"},{"type":"message","user":"U11HH3P7Y","text":"He want to see one of the test job result in Sandbox","ts":"1475107438.001313"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> thanks for setting up the pipeline\u2026ill test it in a bit","ts":"1475108992.001314"},{"type":"message","user":"U0KPFAZNF","text":"one suggestion: I think the unqualified jobs need \u201c-docker\u201d added","ts":"1475109020.001315"},{"type":"message","user":"U0KPFAZNF","text":"e.g. merge-x86_64 -&gt; merge-docker-x86_64","ts":"1475109036.001316"},{"type":"message","user":"U0KPFAZNF","text":"and \u201cfabric-baseimage-x86_64\u201d should really be \u201cfabric-baseimage-release-trigger\"","ts":"1475109061.001317"},{"type":"message","user":"U0KPFAZNF","text":"or something like that","ts":"1475109064.001318"},{"type":"message","user":"U11HH3P7Y","text":"sure will do that later","ts":"1475109153.001319"},{"type":"message","user":"U0KPFAZNF","text":"note that the release trigger should not have an $arch\u2026the intention is that the release trigger will fire off all jobs on all arches","ts":"1475109730.001320","reactions":[{"name":"+1","users":["U10Q62R8X"],"count":1}]},{"type":"message","user":"U11HH3P7Y","text":"yes.. If I don't give $arch, node name in that specific job is showing as [\"x86_64\"] some parsing error. but in next patch will remove the $arch from release trigger job","ts":"1475110406.001321"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: seeing a problem in the baseimage pipeline","ts":"1475165464.001322"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-baseimage-verify-vagrant-x86_64\/2\/console>","ts":"1475165465.001323"},{"type":"message","user":"U0KPFAZNF","text":"i think its related to the .iso caching that you had added to sandbox, but doesnt seem to work in production","ts":"1475165484.001324"},{"type":"message","user":"U0KPFAZNF","text":"one solution is we can just nuke the caching logic in the job, but I figure we should coordinate with you in case you want to retain it","ts":"1475165509.001325"},{"type":"message","user":"U0KPFAZNF","text":"this is probably a good candidate for either integrating with nexus or jenkins artifacts though","ts":"1475165538.001326"},{"type":"message","user":"U0KPFAZNF","text":"(rather than hard coding the cache in this manner within the job)","ts":"1475165552.001327"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF>: let me fix that.","ts":"1475165883.001328"},{"type":"message","user":"U0UHG4VP1","text":"try a new build","ts":"1475166118.001329"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: any status on something like \u201c<http:\/\/nexus.hyperledger.org|nexus.hyperledger.org>\u201d becoming a reality at some point?","ts":"1475166125.001330"},{"type":"message","user":"U0KPFAZNF","text":"ok, will do","ts":"1475166133.001331"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins I will prod","ts":"1475166136.001332"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: still seems to be having trouble finding the cache","ts":"1475169752.001333"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> very strange, it\u2019s using the identical VM image","ts":"1475170081.001334"},{"type":"message","user":"U0KPFAZNF","text":"im guessing its context","ts":"1475170229.001335"},{"type":"message","user":"U0KPFAZNF","text":"something about the availability of the mount or something","ts":"1475170251.001336"},{"type":"message","user":"U0KPFAZNF","text":"its also possible that it broke everywhere, as we dont run the jobs in the sandbox any more","ts":"1475170273.001337"},{"type":"message","user":"U0UHG4VP1","text":"I don\u2019t have time to look into this today, but the iso should be baked in","ts":"1475170348.001338"},{"type":"message","user":"U0KPFAZNF","text":"ok\u2026is it ok if we (perhaps only temporarily) remove the cache instructions from the job?","ts":"1475170375.001339"},{"type":"message","user":"U0KPFAZNF","text":"i believe it will unblock us at the expense of network efficiency","ts":"1475170391.001340"},{"type":"message","user":"U0UHG4VP1","text":"yes please","ts":"1475170399.001341"},{"type":"message","user":"U0KPFAZNF","text":"ok, ty","ts":"1475170403.001342"},{"type":"message","user":"U0UHG4VP1","text":"push the change in the next 27 minutes and i\u2019ll approve","ts":"1475170414.001343"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> pls submit an update that only does the build, not the mount\/copy stuff","ts":"1475170429.001344"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> I accidentally killed a build of yours in sandbox","ts":"1475171574.001345"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: at earliest convenience pls: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1355\/>","ts":"1475175645.001346"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF>: are things working now?","ts":"1475187126.001347"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>, yes because <@U11HH3P7Y> removed the cache logic","ts":"1475187148.001348"},{"type":"message","user":"U0KPFAZNF","text":"also note, theres a problem with the mirror we were using","ts":"1475187160.001349"},{"type":"message","user":"U0UHG4VP1","text":"Sure, and I merged it, and it's been a few hours so I was hoping you'd had a successful build","ts":"1475187175.001350"},{"type":"message","user":"U0KPFAZNF","text":"so I am currently planning on pushing a URL update to go back to upstream ubuntu, though I havent pushed it yet","ts":"1475187183.001351"},{"type":"message","user":"U0KPFAZNF","text":"oh, i am working on the mirror problem","ts":"1475187192.001352"},{"type":"message","user":"U0KPFAZNF","text":"i can push it now so we can see what happens","ts":"1475187207.001353"},{"type":"message","user":"U0UHG4VP1","text":"Since I'm in the departure lounge now you have ~2 hours until I'm on a plane WITH NO WIFI for 12 hours","ts":"1475187208.001354"},{"type":"message","user":"U0UHG4VP1","text":"What is the world coming to","ts":"1475187213.001355"},{"type":"message","user":"U0UHG4VP1","text":"No wifi","ts":"1475187215.001356","reactions":[{"name":"-1","users":["U0KM61BCP"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"heh, ok","ts":"1475187216.001357"},{"type":"message","user":"U0UHG4VP1","text":"Are you coming over or no?","ts":"1475187234.001358"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1369\/1\/packer.json>","ts":"1475187315.001359"},{"type":"message","user":"U0KPFAZNF","text":"no, not going to make this one","ts":"1475187324.001360"},{"type":"message","user":"U0KPFAZNF","text":"have fun though!","ts":"1475187333.001361"},{"type":"message","user":"U0KPFAZNF","text":"(I know <@U0UHG4VP1> is probably in the air, but \u2026)","ts":"1475203204.001362"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> <@U11HH3P7Y> <https:\/\/jenkins.hyperledger.org\/job\/fabric-baseimage-verify-vagrant-x86_64\/5\/console>","ts":"1475203212.001363"},{"type":"message","user":"U0KPFAZNF","text":"it looks like we hit some 120m limit in jenkins","ts":"1475203223.001364"},{"type":"message","user":"U0KPFAZNF","text":"of course, that is a _really_ long time too","ts":"1475203235.001365"},{"type":"message","user":"U0KPFAZNF","text":"but this takes about 30m on my laptop, so I am guessing the VM farm is just really slow","ts":"1475203251.001366"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KPFAZNF> Not sure why this is taking long time.  Shall we re-run the job again..","ts":"1475207156.001367"},{"type":"message","user":"U0ZJZBJLF","text":"is there something wrong with jenkins? I have a commit that I commented \"reverify\" and it wasn't","ts":"1475227269.001368"},{"type":"message","user":"U0UHG4VP1","text":"which one?","ts":"1475239704.001369"},{"type":"message","user":"U0ZJZBJLF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1265\/>","ts":"1475239738.001370"},{"type":"message","user":"U0UHG4VP1","text":"I fired it manually to get the ball rolling","ts":"1475240047.001371"},{"type":"message","user":"U0ZJZBJLF","text":"thanks!","ts":"1475240268.001372"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> we need to get that fix for merge+reverify asap","ts":"1475240276.001373"},{"type":"message","user":"U0KPFAZNF","text":"thats wasting a ton of resources to run both verify+merge","ts":"1475240294.001374"},{"type":"message","user":"U11HH3P7Y","text":"yes I am on that.. will submit in few mins","ts":"1475240348.001375"},{"type":"message","user":"U0UHG4VP1","text":"also I will be awake a little longer so I can merge :slightly_smiling_face:","ts":"1475241674.001376"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF>: once you +1 1377 I'll merge","ts":"1475242575.001377"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> it looks like you removed the rule from the release-trigger (which sounds right) but don\u2019t we also need to modify the -merge job?","ts":"1475242693.001378"},{"type":"message","user":"U0KPFAZNF","text":"or am I misunderstanding","ts":"1475242697.001379"},{"type":"message","user":"U11HH3P7Y","text":"I have removed it from the \"release-merged\".. I am referring this trigger name only in merge jobs","ts":"1475242898.001380"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1475242927.001381"},{"type":"message","user":"U0KPFAZNF","text":"i was looking through the file, it seems like most of them have comment-based triggers, but it seems that the only ones I would think this is applicable are the patch-submitted type","ts":"1475242954.001382"},{"type":"message","user":"U0KPFAZNF","text":"but I defer to you, because I still don\u2019t fully understand the JJB code","ts":"1475242985.001383"},{"type":"message","user":"U11HH3P7Y","text":"with this change, you can give comment phrase \"reverify\" only in verify jobs","ts":"1475243038.001384"},{"type":"message","user":"U0KPFAZNF","text":"ok, sounds good","ts":"1475243083.001385"},{"type":"message","user":"U0KPFAZNF","text":"thank you for confirming","ts":"1475243086.001386"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: fire at will","ts":"1475243126.001387"},{"type":"message","user":"U11HH3P7Y","text":"Oh the file is having multiple triggers for each project","ts":"1475243167.001388"},{"type":"message","user":"U0UHG4VP1","text":"Merged","ts":"1475244407.001389"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: ty","ts":"1475245150.001390"},{"type":"message","user":"U0UHG4VP1","text":"may I disable this job, again? it doesn\u2019t work. <https:\/\/jenkins.hyperledger.org\/view\/fabric\/job\/fabric-verify-behave-x86_64\/>","ts":"1475248422.001391"},{"type":"message","user":"U0UHG4VP1","text":"I\u2019m wrong, about 1\/10 jobs work","ts":"1475248456.001392"},{"user":"U23274813","text":"<@U23274813|nagasurya> has joined the channel","type":"message","subtype":"channel_join","ts":"1475504512.001393"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> still around?","ts":"1475546709.001394"},{"type":"message","user":"U0UHG4VP1","text":"Yes","ts":"1475546725.001395"},{"type":"message","user":"U0KPFAZNF","text":"unrelated to other issues: just looking at this: <https:\/\/jenkins.hyperledger.org\/job\/fabric-baseimage-merge-vagrant-x86_64\/5\/console>","ts":"1475546735.001396"},{"type":"message","user":"U0KPFAZNF","text":"this is not conclusive, but it seems like the -merge job is failing for vagrant whereas the -verify job is not","ts":"1475546755.001397"},{"type":"message","user":"U0KPFAZNF","text":"I noticed that it takes about 10 minutes for SSH to respond in the -verify case, whereas its waiting almost 3 hours in the -merge case and then failing","ts":"1475546800.001398"},{"type":"message","user":"U0KPFAZNF","text":"at first I was thinking perhaps the -merge job forgot to specify your hyp- image and was building on master or something","ts":"1475546819.001399"},{"type":"message","user":"U0KPFAZNF","text":"but it doesnt seem to be the case","ts":"1475546822.001400"},{"type":"message","user":"U0UHG4VP1","text":"Wow","ts":"1475546825.001401"},{"type":"message","user":"U0KPFAZNF","text":"my guess is: the thing just goes out to lunch, not that its taking more than 3 hours","ts":"1475546844.001402"},{"type":"message","user":"U0KPFAZNF","text":"anyway, might need your help sorting out what is happening","ts":"1475546863.001403"},{"type":"message","user":"U0UHG4VP1","text":"There is only one image all CI jobs use","ts":"1475546867.001404"},{"type":"message","user":"U0KPFAZNF","text":"understood, i was grasping at straws","ts":"1475546877.001405"},{"type":"message","user":"U0KPFAZNF","text":"at first I was wondering if the job forgot to specify the host label and was building on master","ts":"1475546895.001406"},{"type":"message","user":"U0KPFAZNF","text":"just not sure atm what could be different between -verify and -merge that might cause this","ts":"1475546928.001407"},{"type":"message","user":"U0KPFAZNF","text":"(of course, I might be wrong about that\u2026it could be that all -vagrant jobs are currently broken","ts":"1475546957.001408"},{"type":"message","user":"U0KPFAZNF","text":"still trying to sort that out","ts":"1475546963.001409"},{"type":"message","user":"U0KPFAZNF","text":"I do note that it reports that the console is available via VRDP","ts":"1475547010.001410"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2JTHNSDV\/-.m|Untitled>","file":{"id":"F2JTHNSDV","created":1475547018,"timestamp":1475547018,"name":"-.m","title":"Untitled","mimetype":"text\/plain","filetype":"objc","pretty_type":"Objective-C","user":"U0KPFAZNF","editable":true,"size":239,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2JTHNSDV\/-.m?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2JTHNSDV\/download\/-.m?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2JTHNSDV\/-.m","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2JTHNSDV-5ecc07533f","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2JTHNSDV\/-.m\/edit","preview":"17:04:03 [0;32m    virtualbox-iso: The VM will be run headless, without a GUI. If you want to\r\n17:04:03     virtualbox-iso: view the screen of the VM, connect via VRDP without a password to\r\n17:04:03     virtualbox-iso: 127.0.0.1:5917[0m","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-number\">17<\/span>:<span class=\"cm-number\">04<\/span>:<span class=\"cm-number\">03<\/span> [<span class=\"cm-number\">0<\/span>;<span class=\"cm-number\">32<\/span><span class=\"cm-variable\">m<\/span>    <span class=\"cm-variable\">virtualbox<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">iso<\/span>: <span class=\"cm-variable\">The<\/span> <span class=\"cm-variable\">VM<\/span> <span class=\"cm-variable\">will<\/span> <span class=\"cm-variable\">be<\/span> <span class=\"cm-variable\">run<\/span> <span class=\"cm-variable\">headless<\/span>, <span class=\"cm-variable\">without<\/span> <span class=\"cm-variable\">a<\/span> <span class=\"cm-variable\">GUI<\/span>. <span class=\"cm-variable\">If<\/span> <span class=\"cm-variable\">you<\/span> <span class=\"cm-variable\">want<\/span> <span class=\"cm-variable\">to<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-number\">17<\/span>:<span class=\"cm-number\">04<\/span>:<span class=\"cm-number\">03<\/span>     <span class=\"cm-variable\">virtualbox<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">iso<\/span>: <span class=\"cm-variable\">view<\/span> <span class=\"cm-variable\">the<\/span> <span class=\"cm-variable\">screen<\/span> <span class=\"cm-variable\">of<\/span> <span class=\"cm-variable\">the<\/span> <span class=\"cm-variable\">VM<\/span>, <span class=\"cm-variable\">connect<\/span> <span class=\"cm-variable\">via<\/span> <span class=\"cm-variable\">VRDP<\/span> <span class=\"cm-variable\">without<\/span> <span class=\"cm-variable\">a<\/span> <span class=\"cm-variable\">password<\/span> <span class=\"cm-variable\">to<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-number\">17<\/span>:<span class=\"cm-number\">04<\/span>:<span class=\"cm-number\">03<\/span>     <span class=\"cm-variable\">virtualbox<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">iso<\/span>: <span class=\"cm-number\">127.0<\/span>.<span class=\"cm-number\">0.1<\/span>:<span class=\"cm-number\">5917<\/span>[<span class=\"cm-number\">0<\/span><span class=\"cm-variable\">m<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":3,"lines_more":0,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1475547018.001411"},{"type":"message","user":"U0KPFAZNF","text":"so one question I have is: is that a console you would have access to?","ts":"1475547028.001412"},{"type":"message","user":"U0KPFAZNF","text":"or is it buried in the cloud somewhere?","ts":"1475547034.001413"},{"type":"message","user":"U0KPFAZNF","text":"that might provide a hint","ts":"1475547045.001414"},{"type":"message","user":"U0KPFAZNF","text":"(fwiw, when I run this build locally and I need to see whats happening, I run the virtualbox console","ts":"1475547074.001415"},{"type":"message","user":"U0KPFAZNF","text":"one interesting data point, I have a new CR that is running right now","ts":"1475547132.001416"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-baseimage-verify-vagrant-x86_64\/14\/console>","ts":"1475547132.001417"},{"type":"message","user":"U0KPFAZNF","text":"it does seem that, at least in this case, the -verify job was able to get past the SSH problem","ts":"1475547150.001418"},{"type":"message","user":"U0KPFAZNF","text":"so, right now the evidence points to -merge jobs being different than -verify","ts":"1475547163.001419"},{"type":"message","user":"U0KPFAZNF","text":"again, not conclusive, but leaning that way","ts":"1475547171.001420"},{"type":"message","user":"U0KPFAZNF","text":"er\u2026obviously they are different, but I mean in some low-level way specific to packer\/vagrant provisioning","ts":"1475547222.001421"},{"type":"message","user":"U0UHG4VP1","text":"I can\u2019t connect to those VMs in any meaningful way","ts":"1475547344.001422"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1475547350.001423"},{"type":"message","user":"U0KPFAZNF","text":"i suspect there is some meaningful difference in how the JJB configures the two environments","ts":"1475547380.001424"},{"type":"message","user":"U0KPFAZNF","text":"(between -verify and -merge, that is)","ts":"1475547389.001425"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/jenkins.hyperledger.org\/view\/fabric-baseimage\/job\/fabric-baseimage-merge-vagrant-x86_64\/> shows a couple merges working after the last config change","ts":"1475547584.001426"},{"type":"message","user":"U0UHG4VP1","text":"builds 3 and 4","ts":"1475547597.001427"},{"type":"message","user":"U0KPFAZNF","text":"indeed","ts":"1475547741.001428"},{"type":"message","user":"U0KPFAZNF","text":"not helping to add clarity to the mystery, heh","ts":"1475547753.001429"},{"type":"message","user":"U0UHG4VP1","text":"I refired 5","ts":"1475547781.001430"},{"type":"message","user":"U0UHG4VP1","text":"there is a difference. the default branch for merge is master","ts":"1475548025.001431"},{"type":"message","user":"U0UHG4VP1","text":"GERRIT_BRANCH has no default for -verify, -merge defaults to master","ts":"1475548062.001432"},{"type":"message","user":"U0UHG4VP1","text":"that\u2019s the only difference I see with a quick vgrep","ts":"1475548208.001433"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> build 6 got past that point. I think it was just a burp in infra <https:\/\/jenkins.hyperledger.org\/view\/fabric-baseimage\/job\/fabric-baseimage-merge-vagrant-x86_64\/6\/console>","ts":"1475552080.001434"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: this is a new one: <https:\/\/jenkins.hyperledger.org\/job\/fabric-baseimage-verify-vagrant-x86_64\/16\/console>","ts":"1475602866.001435"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> yes, it is. Looks like a network fault","ts":"1475614332.001436"},{"type":"message","user":"U0KPFAZNF","text":"ok, i have some local verifications i need to complete anyway","ts":"1475614380.001437"},{"type":"message","user":"U0KPFAZNF","text":"if I have changes, the patch update should kick the job again","ts":"1475614396.001438"},{"type":"message","user":"U0KPFAZNF","text":"otherwise, i might need assistance","ts":"1475614400.001439"},{"type":"message","user":"U0KPFAZNF","text":"actually i guess I can just reverify","ts":"1475614412.001440"},{"type":"message","user":"U0KPFAZNF","text":"so, nm","ts":"1475614414.001441"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1475614414.001442"},{"type":"message","user":"U0KPFAZNF","text":"need more coffee apparently","ts":"1475614422.001443"},{"type":"message","user":"U0UHG4VP1","text":"OK well I already redid it :slightly_smiling_face:","ts":"1475614427.001444"},{"type":"message","user":"U0KPFAZNF","text":"ok, cool ty","ts":"1475614431.001445"},{"type":"message","user":"U0UHG4VP1","text":"so go ahead and reverify if you like","ts":"1475614434.001446"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1475614438.001447"},{"type":"message","user":"U0UHG4VP1","text":"everyone was out of gas by the end of today. four straight days of hackery","ts":"1475614470.001448"},{"type":"message","user":"U0KM61BCP","text":"all hacked out","ts":"1475716051.001449"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> <@U11HH3P7Y> I updated a 4 patch series against fabric-baseimage but it failed to trigger the -verify jobs","ts":"1475788851.001452"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1473\/>","ts":"1475788853.001453"},{"type":"message","user":"U0KPFAZNF","text":"not sure why, that _was_ working before","ts":"1475788864.001454"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KPFAZNF> : all 4 builds triggered but they are in Queue","ts":"1475789687.001455"},{"type":"message","user":"U11HH3P7Y","text":"<https:\/\/jenkins.hyperledger.org\/view\/fabric-baseimage\/job\/fabric-baseimage-verify-vagrant-x86_64\/>","ts":"1475789694.001456"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF>: I just manually triggered them","ts":"1475789709.001457"},{"type":"message","user":"U11HH3P7Y","text":"oh sorry.. <@U0UHG4VP1> triggered them","ts":"1475789716.001458"},{"type":"message","user":"U0KPFAZNF","text":"ah, that explains it","ts":"1475789720.001459"},{"type":"message","user":"U0KPFAZNF","text":"they werent queued before, but I dont know why","ts":"1475789726.001460"},{"type":"message","user":"U0UHG4VP1","text":"Me either. I'm on PTO I'll take a look Monday","ts":"1475789788.001461"},{"type":"message","user":"U0KPFAZNF","text":"ok, no rush","ts":"1475789801.001462"},{"type":"message","user":"U0UHG4VP1","text":"Looks like we have three orphaned builders too","ts":"1475789849.001463"},{"type":"message","user":"U0UHG4VP1","text":"We should have 10 build running right now","ts":"1475789869.001464"},{"type":"message","user":"U0KPFAZNF","text":"that must show up in a view that I dont have","ts":"1475789872.001465"},{"type":"message","user":"U0KPFAZNF","text":"oh you mean 7 running, 3 queued?","ts":"1475789902.001466"},{"type":"message","user":"U0UHG4VP1","text":"Yes, that should be 10.","ts":"1475789934.001467"},{"type":"message","user":"U0UHG4VP1","text":"Or the 3 should be pending instantiation ","ts":"1475789974.001468"},{"type":"message","user":"U0KM61BCP","text":"hi","ts":"1476198958.001469"},{"type":"message","user":"U11HH3P7Y","text":"Hi <@U0KM61BCP>","ts":"1476199072.001470"},{"type":"message","user":"U11HH3P7Y","text":"We have enabled fabric node-sdk-unit-tests for fabric v0.6 branch in ci-pipeline","ts":"1476199095.001471"},{"type":"message","user":"U11HH3P7Y","text":"once fabric-sdk-node repo is ready will create a new job","ts":"1476199151.001472"},{"type":"message","user":"U0KM61BCP","text":"awesome! thanks, <@U11HH3P7Y>","ts":"1476199201.001473"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: need your help.. Jobs are in queue more than an hour..","ts":"1476203642.001474"},{"user":"U2MCH9EEB","text":"<@U2MCH9EEB|crazybit> has joined the channel","type":"message","subtype":"channel_join","ts":"1476204145.001475"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> I cleaned out a bunch of builders that were stuck, it looks like two more spun up","ts":"1476205421.001476"},{"type":"message","user":"U0UHG4VP1","text":"so it should be OK now","ts":"1476205427.001477"},{"type":"message","user":"U11HH3P7Y","text":"yes.. Thank you","ts":"1476205852.001478"},{"type":"message","user":"U0UHG4VP1","text":"a reminder that there will be a short outage at noon Pacific (in an hour and a half) as part of our infra is migrated from one host to another. this will impact jenkins\/jira\/gerrit but the outage should be short.","ts":"1476206727.001479"},{"type":"message","user":"U12V3D2P2","text":"<@U0UHG4VP1> could you please add one more Power node into the node list?","ts":"1476278047.001480"},{"type":"message","user":"U0UHG4VP1","text":"<@U12V3D2P2>: do you have the information for the new node? IP address, etc?","ts":"1476280342.001481"},{"type":"message","user":"U12V3D2P2","text":"<@U0UHG4VP1> yes","ts":"1476280384.001482"},{"type":"message","user":"U0UHG4VP1","text":"Ok could you send me email? <mailto:rjones@linuxfoundation.org|rjones@linuxfoundation.org>","ts":"1476280441.001483"},{"type":"message","user":"U12V3D2P2","text":"yes,thx","ts":"1476280460.001484"},{"type":"message","user":"U11NUTP4L","text":"<@U0KM61BCP> regarding PR 1671, I had discussion with <@U0KPFAZNF> and here is the summary of it.. (please bear with it as its quite descriptive)\n\nwith the initial changes suggested by <@U0KPFAZNF> to generalize and use fabric-baseimage &amp; openjdk8 in <http:\/\/Dockerfile.in|Dockerfile.in>, we see a build issue on x86. This is because we are using Ubuntu 14.04 for x86 baseimage which doesn't have Java8. But that is a pre-req for Java Shim.\n\nSo approach with very little deviation would be to use baseimage for Power and z as they use Ubuntu 16.04 for baseimage and continue with existing code for x86 until we bump the base OS to 16.04 for x86. This was agreed by <@U0KPFAZNF> provided you are in agreement too.\n\nNow the point is either to go with my first patchset-1 or use 2 <http:\/\/Dockerfiles.in|Dockerfiles.in> based on your last comment. In the latter case, we would still need to have ARCH condition in Makefile so leaves it no different than my approach in patchset-1. Moreover, having two Dockerfiles with almost same contents will lead to violation of DRY \/ proliferation of code and doesn\u2019t help getting rid of ARCH condition check in Makefile.\n \n<@U0KPFAZNF> is convinced either ways. So request your consent on the initial approach.","ts":"1476315043.001485"},{"type":"message","user":"U0KPFAZNF","text":"The only part I don't agree with is I think the conditional could be replaced with a filespec ","ts":"1476315325.001486"},{"type":"message","user":"U0KPFAZNF","text":"E.g. \"cat Dockerfile.in.$(ARCH)\"","ts":"1476315361.001487"},{"type":"message","user":"U0KPFAZNF","text":"Which I think is cleaner than a conditional, though the DRY implications are still a concern either way","ts":"1476315392.001488"},{"type":"message","user":"U11NUTP4L","text":"so this would mean we rename existing <http:\/\/Dockerfile.in|Dockerfile.in> to Dockerfile.in.x86_64 and have 2 more files (with same content) as Dockerfile.in.s390x and Dockerfile.in.ppc64le ?","ts":"1476315526.001489"},{"type":"message","user":"U0KM61BCP","text":"power and z already on 16.04?","ts":"1476315759.001490"},{"type":"message","user":"U11NUTP4L","text":"yes","ts":"1476315770.001491"},{"type":"message","user":"U0KM61BCP","text":"are these IBM base images?","ts":"1476315781.001492"},{"type":"message","user":"U0KM61BCP","text":"I thought that the 16.04 and go1.7 changes were pending","ts":"1476315808.001493"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF> ?","ts":"1476315819.001494"},{"type":"message","user":"U11NUTP4L","text":"these are hyperledger\/fabric-baseimage","ts":"1476315820.001495"},{"type":"message","user":"U11NUTP4L","text":"excerpt from fabric\/images\/base\/Makefile ```DOCKER_BASE_x86_64=ubuntu:trusty\nDOCKER_BASE_s390x=s390x\/ubuntu:xenial\nDOCKER_BASE_ppc64le=ppc64le\/ubuntu:xenial```","ts":"1476315944.001496"},{"type":"message","user":"U0KM61BCP","text":"did not realize that thanks","ts":"1476316167.001497"},{"type":"message","user":"U0KM61BCP","text":"even more reason to have arch specific builds","ts":"1476316191.001498"},{"type":"message","user":"U0KM61BCP","text":"so yes, copy the <http:\/\/Dockerfile.in|Dockerfile.in> and tweak the power one","ts":"1476316230.001499"},{"type":"message","user":"U11NUTP4L","text":"Ok. And for s390x have same copy as that of power ?","ts":"1476316285.001500"},{"type":"message","user":"U11NUTP4L","text":"ok. got it. will just modify for power and keep it same for x86 and s390x as-is","ts":"1476316909.001501"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> yes, x86 will be on 16.04 soon, but currently only targetting master\/convergence","ts":"1476317820.001502"},{"type":"message","user":"U0KPFAZNF","text":"i believe the P\/Z teams are trying to get v0.6 supported","ts":"1476317837.001503"},{"type":"message","user":"U0KPFAZNF","text":"so, one possibly solution is to just backport the new baseimage to v0.6, which I kind of suspect we will need to to enable P\/Z anyway","ts":"1476317862.001504"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: could you grant <@U10Q62R8X> and <@U11NUTP4L> access to the Jenkins sandbox so we can debug P\/Z support?","ts":"1476322402.001505"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> <@U10Q62R8X> added, let me find <@U11NUTP4L> \u2019s LFID","ts":"1476322877.001506"},{"type":"message","user":"U0UHG4VP1","text":"found, added.","ts":"1476322909.001507"},{"type":"message","user":"U11NUTP4L","text":"<@U0UHG4VP1> its SriramaSharma","ts":"1476322939.001508"},{"type":"message","user":"U10Q62R8X","text":"<@U0UHG4VP1> thanks I am in","ts":"1476322970.001509"},{"type":"message","user":"U0KPFAZNF","text":"ty <@U0UHG4VP1>","ts":"1476323021.001510"},{"type":"message","user":"U0UHG4VP1","text":"<@U11NUTP4L> you should be able to log in now","ts":"1476323026.001511"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1> I have submitted patch to create power baseimage jobs.. could you please review this and approve <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1709\/>","ts":"1476329291.001512"},{"type":"message","user":"U11NUTP4L","text":"<@U0UHG4VP1> thanks! it works for me now","ts":"1476330135.001513"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> merged","ts":"1476353946.001514"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> <@U11NUTP4L> <https:\/\/jenkins.hyperledger.org\/job\/fabric-baseimage-verify-docker-ppc64le\/2\/console>","ts":"1476361305.001515"},{"type":"message","user":"U0KPFAZNF","text":"it doesnt look like the ppc build is working","ts":"1476361312.001516"},{"type":"message","user":"U11NUTP4L","text":"<@U0KPFAZNF> is this job for fabric-baseimage.git ?","ts":"1476362111.001517"},{"type":"message","user":"U11NUTP4L","text":"looks like the ssh-agent did not start on the build node. so its an env issue not a build issue","ts":"1476362157.001518"},{"type":"message","user":"U11NUTP4L","text":"in the sandbox, earlier today <@U11HH3P7Y> had initiated build of fabric-baseimage - both HEAD and release tag v0.1.0 and both of them were success. `<https:\/\/jenkins.hyperledger.org\/sandbox\/job\/baseimage-docker-experiment-power\/9\/console>` and `<https:\/\/jenkins.hyperledger.org\/sandbox\/job\/baseimage-docker-experiment-power\/11\/console>` respectively","ts":"1476362241.001519"},{"type":"message","user":"U0KPFAZNF","text":"<@U11NUTP4L> yes, its driven by baseimage.git changes","ts":"1476362448.001520"},{"type":"message","user":"U0KPFAZNF","text":"any of the -verify jobs are triggered by a new CR hitting gerrit","ts":"1476362462.001521"},{"type":"message","user":"U0KPFAZNF","text":"in this case, i rebased CR 1471","ts":"1476362472.001522"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1471\/>","ts":"1476362486.001523"},{"type":"message","user":"U11NUTP4L","text":"ok. Looking at the logs, the build hasn\u2019t started yet on the build node. So I would let <@U11HH3P7Y> or <@U0UHG4VP1> to comment on the above ssh-agent issue.","ts":"1476362689.001524"},{"type":"message","user":"U0UHG4VP1","text":"<@U11NUTP4L> I\u2019ll have to wait for <@U11HH3P7Y> to chime in, I don\u2019t know what he did to make it work in the sandbox","ts":"1476364046.001525"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: I am using hyperledger ssh credentials.","ts":"1476367001.001526"},{"type":"message","user":"U11HH3P7Y","text":"not sure why this is not working.. any help","ts":"1476367887.001527"},{"type":"message","user":"U11HH3P7Y","text":"I think should not use hyperledger SSH credentials on power job..","ts":"1476368055.001528"},{"type":"message","user":"U11NUTP4L","text":"<@U12V3D2P2> any idea on what credentials can be used on Power VMs ? jenkins ?","ts":"1476368131.001529"},{"type":"message","user":"U12V3D2P2","text":"jenkins user account has authorized_keys file and that has the required credentials","ts":"1476368359.001530"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1> I have submitted patch.. Could you please review","ts":"1476368453.001531"},{"type":"message","user":"U0UHG4VP1","text":"merged","ts":"1476368850.001532"},{"type":"message","user":"U11HH3P7Y","text":"thanks <@U0UHG4VP1>.. It's working now","ts":"1476368953.001533"},{"user":"U2P21M71V","text":"<@U2P21M71V|eddie.allen> has joined the channel","type":"message","subtype":"channel_join","ts":"1476378168.001534"},{"user":"U1B5DPRLG","text":"<@U1B5DPRLG|lhaskins> has joined the channel","type":"message","subtype":"channel_join","ts":"1476381402.001535"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF> I\u2019m expecting the last patch to be merged for v0.6.1 soon","ts":"1476383991.001536"},{"type":"message","user":"U0KM61BCP","text":"hope we can do the release today or tomorrow","ts":"1476384006.001537"},{"type":"message","user":"U0KM61BCP","text":"don\u2019t think we want to cut a new branch but we will want to push a tag","ts":"1476384023.001538"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> super easy to do once you give the word","ts":"1476386555.001539"},{"type":"message","user":"U0KPFAZNF","text":"We shouldn't need new branch, just tag (imo)","ts":"1476386570.001540"},{"type":"message","user":"U0KPFAZNF","text":"Though note I am out for the afternoon if it happens earlier rather than later","ts":"1476386607.001541"},{"type":"message","user":"U0KPFAZNF","text":"I should be around tonight and tomorrow","ts":"1476386623.001542"},{"type":"message","user":"U0KM61BCP","text":"don't see patch yet but should be soon.., let's do tonight","ts":"1476386667.001543"},{"type":"message","user":"U11NUTP4L","text":"<@U11HH3P7Y> The fabric-baseimage build on the power CI nodes seem to have built successfully.","ts":"1476452928.001544"},{"type":"message","user":"U11NUTP4L","text":"<https:\/\/jenkins.hyperledger.org\/view\/fabric-baseimage\/job\/fabric-baseimage-verify-docker-ppc64le\/3\/console>","ts":"1476452930.001545"},{"type":"message","user":"U11NUTP4L","text":"so as discussed with <@U0KPFAZNF> the other day, can we now build the fabric-baseiimage with 0.1.0 release tag and push the docker images to dockerhub ?","ts":"1476452973.001546"},{"type":"message","user":"U0KPFAZNF","text":"the biggest challenge is probably that im guessing the CI pipeline might not be conducive to doing a parameterized build in its current form","ts":"1476453115.001547"},{"type":"message","user":"U0KPFAZNF","text":"e.g. to building from something other than HEAD","ts":"1476453124.001548"},{"type":"message","user":"U0KPFAZNF","text":"given that the pipeline doesnt have full automation for releases, it might make sense to make the manual trigger accept a parameterized git tag","ts":"1476453175.001549"},{"type":"message","user":"U11NUTP4L","text":"oh, ok. I believe even the above build was triggered by <@U11HH3P7Y> manually.","ts":"1476453235.001550"},{"user":"U2PE37K3J","text":"<@U2PE37K3J|n.ohagan> has joined the channel","type":"message","subtype":"channel_join","ts":"1476453253.001551"},{"user":"U184J2R7S","text":"<@U184J2R7S|weeds> has joined the channel","type":"message","subtype":"channel_join","ts":"1476459798.001552"},{"type":"message","user":"U11HTMW0H","text":"<@U11HH3P7Y> so when the .6 branch gets the official tag if we turn on the building of images...they will automatically be pushed to <https:\/\/hub.docker.com\/r\/hyperledger\/>","ts":"1476460437.001553"},{"type":"message","user":"U11HTMW0H","text":"is this true?","ts":"1476460444.001554"},{"type":"message","user":"U11HH3P7Y","text":"no.. right now Jenkins jobs are configured to build images based on branches not on tag based..","ts":"1476460523.001555"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: need you help again.. Builds are stuck in queue from past 1 hr..","ts":"1476479072.001556"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KPFAZNF>: I have configured tag based \"docker\" and \"vagrant\" jobs for x86, ppc64le,s390x in Sandbox environment (<https:\/\/jenkins.hyperledger.org\/sandbox\/view\/fabric-baseimages\/>)","ts":"1476546756.001557"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1> could you please approve this <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1777\/>","ts":"1476550691.001558"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1> : slaves went offline..","ts":"1476571357.001559"},{"type":"message","user":"U11HH3P7Y","text":"need your help to bring them online..","ts":"1476571418.001560"},{"type":"message","user":"U0UHG4VP1","text":"OK, Vexxhost issues are resolved and slaves are spinning up and working now","ts":"1476586860.001561"},{"type":"message","user":"U0UHG4VP1","text":"I can also reach the power and Z slaves","ts":"1476586870.001562"},{"type":"message","user":"U11HH3P7Y","text":"Thanks ry","ts":"1476586935.001563"},{"type":"message","user":"U0UHG4VP1","text":"sure thing ramesh, sorry it took so long to wind up","ts":"1476587020.001564"},{"type":"message","user":"U11HH3P7Y","text":"seems merge of this patch is not triggered <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1777\/>","ts":"1476587149.001565"},{"type":"message","user":"U11HH3P7Y","text":"if you have time could you please check this","ts":"1476587164.001566"},{"type":"message","user":"U0UHG4VP1","text":"the log on that change show it was triggered","ts":"1476587270.001567"},{"type":"message","user":"U11HH3P7Y","text":"yes.. it's updated","ts":"1476587322.001568"},{"type":"message","user":"U11HH3P7Y","text":"sorry  thank you..","ts":"1476587336.001569"},{"type":"message","user":"U11HH3P7Y","text":"have a good night","ts":"1476587347.001570","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0NCW1DPX","text":"Hello, <@U0UHG4VP1> , I am working on <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1775\/>, anyone can help to give me the jenkins api token, and let me try to upload and test my new jenkins job?","ts":"1476624793.001571"},{"type":"message","user":"U0UHG4VP1","text":"<@U0NCW1DPX>: log into the sandbox instance, you should be able to upload it there","ts":"1476625113.001572"},{"type":"message","user":"U0UHG4VP1","text":"<http:\/\/Jenkins.hyperledger.org\/sandbox|Jenkins.hyperledger.org\/sandbox>","ts":"1476625135.001573"},{"type":"message","user":"U0NCW1DPX","text":"I am thinking about use the \"jenkins-job update \u201c command. Anyway, will try to create a new job in jenkins directly. thanks.","ts":"1476625309.001574"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y>: how were you pushing jobs to sandbox?","ts":"1476625777.001575"},{"type":"message","user":"U0NCW1DPX","text":"yeah, it is little difficult to create the jenkins job by manually via the xml files which are generated by jjb. :stuck_out_tongue:","ts":"1476627080.001576"},{"type":"message","user":"U11HH3P7Y","text":"I am creating jobs using JJB and pushing to sandbox with this command `jenkins-jobs --conf jenkins.ini update jjb\/ &lt;jobname&gt;`","edited":{"user":"U11HH3P7Y","ts":"1476628109.000000"},"ts":"1476627982.001577"},{"type":"message","user":"U11HH3P7Y","text":"before to this I have provided my sandbox username, token and URL in jeninks.ini file","ts":"1476628312.001579"},{"type":"message","user":"U0NCW1DPX","text":"<@U11HH3P7Y> thanks, I find my token in the account settings.","ts":"1476628476.001580"},{"type":"message","user":"U11HH3P7Y","text":"sure","ts":"1476628516.001581"},{"type":"message","user":"U0NCW1DPX","text":"<@U11HH3P7Y> what\u2019s the url you are using in the jenkins.ini?","edited":{"user":"U0NCW1DPX","ts":"1476629209.000000"},"ts":"1476629128.001582"},{"type":"message","user":"U11HH3P7Y","text":"url=<https:\/\/jenkins.hyperledger.org\/sandbox>","ts":"1476629482.001584"},{"type":"message","user":"U0NCW1DPX","text":"ok, looks like I have no authorized to do that.","ts":"1476629863.001585"},{"type":"message","user":"U0NCW1DPX","text":"jenkins.JenkinsException: Error in request. Possibly authentication failed [403]: Forbidden","ts":"1476629867.001586"},{"type":"message","user":"U0UHG4VP1","text":"<@U0NCW1DPX>: are you able to log in to the sandbox UI?","ts":"1476630492.001587"},{"type":"message","user":"U0NCW1DPX","text":"yes, I can","ts":"1476630558.001588"},{"type":"message","user":"U0NCW1DPX","text":"and I can create a new job in the sandbox UI.","ts":"1476630597.001589"},{"type":"message","user":"U0NCW1DPX","text":"but I can not update jobs via jenkins-job cli","ts":"1476630646.001590"},{"type":"message","user":"U0UHG4VP1","text":"Let me get my laptop","ts":"1476630705.001591"},{"type":"message","user":"U0UHG4VP1","text":"OK I deleted the job marked \u201cplease delete me\"","ts":"1476630882.001592"},{"type":"message","user":"U0UHG4VP1","text":"do you have any more details around the error? any more context?","ts":"1476631076.001593"},{"type":"message","user":"U0NCW1DPX","text":"DEBUG:root:Reading config from jenkins.ini\nDEBUG:root:Config: &lt;ConfigParser.ConfigParser instance at 0x1011bc200&gt;\nDEBUG:jenkins_jobs.builder:Using cache: '\/Users\/gengjh\/.cache\/jenkins_jobs\/cache-host-jobs-https___jenkins_hyperledger_org_sandbox.yml'\nINFO:root:Updating jobs in ['\/Users\/gengjh\/go_source\/src\/github.com\/hyperledger\/ci-management\/jjb', '\/Users\/gengjh\/go_source\/src\/github.com\/hyperledger\/ci-management\/jjb\/ci-management', '\/Users\/gengjh\/go_source\/src\/github.com\/hyperledger\/ci-management\/jjb\/fabric', '\/Users\/gengjh\/go_source\/src\/github.com\/hyperledger\/ci-management\/jjb\/fabric-api', '\/Users\/gengjh\/go_source\/src\/github.com\/hyperledger\/ci-management\/jjb\/fabric-sdk-py', '\/Users\/gengjh\/go_source\/src\/github.com\/hyperledger\/ci-management\/jjb\/releases'] (['fabric-verify-sdk-py-x86_64'])\n\/Users\/gengjh\/go_source\/src\/github.com\/hyperledger\/ci-management\/.venv\/lib\/python2.7\/site-packages\/jenkins\/__init__.py:644: DeprecationWarning: get_plugins_info() is deprecated, use get_plugins()\n  DeprecationWarning)\nTraceback (most recent call last):\n  File \"\/Users\/gengjh\/go_source\/src\/github.com\/hyperledger\/ci-management\/.venv\/bin\/jenkins-jobs\", line 11, in &lt;module&gt;\n    sys.exit(main())\n  File \"\/Users\/gengjh\/go_source\/src\/github.com\/hyperledger\/ci-management\/.venv\/lib\/python2.7\/site-packages\/jenkins_jobs\/cmd.py\", line 191, in main\n    execute(options, config)\n  File \"\/Users\/gengjh\/go_source\/src\/github.com\/hyperledger\/ci-management\/.venv\/lib\/python2.7\/site-packages\/jenkins_jobs\/cmd.py\", line 372, in execute\n    n_workers=options.n_workers)\n  File \"\/Users\/gengjh\/go_source\/src\/github.com\/hyperledger\/ci-management\/.venv\/lib\/python2.7\/site-packages\/jenkins_jobs\/builder.py\", line 348, in update_jobs\n    self.load_files(input_fn)\n  File \"\/Users\/gengjh\/go_source\/src\/github.com\/hyperledger\/ci-management\/.venv\/lib\/python2.7\/site-packages\/jenkins_jobs\/builder.py\", line 245, in load_files\n    self.parser = YamlParser(self.global_config, self.plugins_list)\n  File \"\/Users\/gengjh\/go_source\/src\/github.com\/hyperledger\/ci-management\/.venv\/lib\/python2.7\/site-packages\/jenkins_jobs\/builder.py\", line 241, in plugins_list\n    self._plugins_list = self.jenkins.get_plugins_info()\n  File \"\/Users\/gengjh\/go_source\/src\/github.com\/hyperledger\/ci-management\/.venv\/lib\/python2.7\/site-packages\/jenkins_jobs\/builder.py\", line 205, in get_plugins_info\n    raise e\njenkins.JenkinsException: Error in request. Possibly authentication failed [403]: Forbidden\nDEBUG:jenkins_jobs.builder:Cache written out to '\/Users\/gengjh\/.cache\/jenkins_jobs\/cache-host-jobs-https___jenkins_hyperledger_org_sandbox.yml'","ts":"1476631239.001594"},{"type":"message","user":"U0NCW1DPX","text":"I think no more others","ts":"1476631267.001595"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> were you emitting XML from your local jjb and then pushing it up?","ts":"1476631493.001596"},{"type":"message","user":"U0UHG4VP1","text":"the thing is you have the same permissions, so this is confusing","ts":"1476631522.001597"},{"type":"message","user":"U11HH3P7Y","text":"I am just creating JJB's and executing update command to push","ts":"1476631704.001598"},{"type":"message","user":"U0NCW1DPX","text":"I am using py2.7 and jjb 1.6.1, <@U11HH3P7Y> what about u?","ts":"1476631775.001599"},{"type":"message","user":"U11HH3P7Y","text":"JJB 1.5.1","ts":"1476631817.001600"},{"type":"message","user":"U0UHG4VP1","text":"ramesh could you try to push a new job in the same way, please? or make a trivial update to one and push it","ts":"1476631890.001601"},{"type":"message","user":"U11HH3P7Y","text":"sure","ts":"1476631897.001602"},{"type":"message","user":"U0UHG4VP1","text":"thank you","ts":"1476631904.001603"},{"type":"message","user":"U11HH3P7Y","text":"I am getting same error now","ts":"1476632095.001604"},{"type":"message","user":"U0NCW1DPX","text":":sweat:","ts":"1476632134.001605"},{"type":"message","user":"U0UHG4VP1","text":"ok good","ts":"1476632150.001606"},{"type":"message","user":"U0UHG4VP1","text":"what are your LFIDs? for both of you, the username you log in with","ts":"1476632210.001607"},{"type":"message","user":"U11HH3P7Y","text":"rameshthoomu","ts":"1476632219.001608"},{"type":"message","user":"U0NCW1DPX","text":"genggjh","ts":"1476632229.001609"},{"type":"message","user":"U0UHG4VP1","text":"you should both be OK now","ts":"1476632269.001610"},{"type":"message","user":"U11HH3P7Y","text":"yes it's working for me","ts":"1476632287.001611"},{"type":"message","user":"U11HH3P7Y","text":"```(hyp)vagrant@hyperledger-devenv:v0.0.11-777bdac:~\/ci-management$ jenkins-jobs --conf jenkins.ini test jjb\/ fabric-jobs-power.yaml\n\/home\/vagrant\/ci-management\/hyp\/local\/lib\/python2.7\/site-packages\/jenkins\/__init__.py:644: DeprecationWarning: get_plugins_info() is deprecated, use get_plugins()\n  DeprecationWarning)\nINFO:jenkins_jobs.builder:Number of jobs generated:  0\nINFO:jenkins_jobs.builder:Cache saved\n(```","edited":{"user":"U11HH3P7Y","ts":"1476632372.000000"},"ts":"1476632325.001612"},{"type":"message","user":"U0NCW1DPX","text":"me too","ts":"1476632329.001613"},{"type":"message","user":"U0NCW1DPX","text":"DEBUG:root:Updated 1 jobs in 15.5176639557s\nDEBUG:root:Total run took 23.3722059727s\nINFO:root:Number of jobs updated: 1","ts":"1476632330.001614"},{"type":"message","user":"U11HH3P7Y","text":"ok","ts":"1476632336.001615"},{"type":"message","user":"U0NCW1DPX","text":"thanks for your help <@U0UHG4VP1> and <@U11HH3P7Y>","ts":"1476632361.001616","reactions":[{"name":"+1","users":["U0UHG4VP1","U11HH3P7Y"],"count":2}]},{"type":"message","user":"U11HH3P7Y","text":"<@U0NCW1DPX> create a new view in jenkins after you push","ts":"1476632464.001618"},{"type":"message","user":"U0NCW1DPX","text":"sure","ts":"1476632765.001619"},{"type":"message","user":"U0NCW1DPX","text":"<@U0UHG4VP1> <@U11HH3P7Y> I need your help. 1. In the jenkins sandbox, I can not find any available slave to let me run my job, so who can help to let the hyp-fabric-x86_64 online? 2. I need install python-pip and python-setuptools on the slave, who can help to do that? or any software\/tools installation procedure I need follow?","ts":"1476679183.001620"},{"type":"message","user":"U11HH3P7Y","text":"<@U0NCW1DPX>: wait for sometime for hyp-fabric-x86_64 slave. It takes few mins to come to online after you trigger the build.. <@U0UHG4VP1> will answer regarding your 2nd point","ts":"1476708478.001621"},{"type":"message","user":"U0NCW1DPX","text":"OK got it","ts":"1476708513.001622"},{"type":"message","user":"U0UHG4VP1","text":"<@U0NCW1DPX> you should be able to add a sudo apt-get install missing packages","ts":"1476726914.001623"},{"type":"message","user":"U0NCW1DPX","text":"<@U0UHG4VP1>, could u help to check what\u2019s wrong with this: <https:\/\/jenkins.hyperledger.org\/sandbox\/job\/fabric-verify-sdk-py-x86_64\/8\/console>","edited":{"user":"U0NCW1DPX","ts":"1476752862.000000"},"ts":"1476751788.001624"},{"type":"message","user":"U0NCW1DPX","text":"&gt; git tag -a -f -m Jenkins Build #8 jenkins-fabric-verify-sdk-py-x86_64-8 # timeout=10\n[fabric-verify-sdk-py-x86_64] $ \/bin\/sh -xe \/tmp\/hudson2353087275129039410.sh\n+ sudo apt-get install -y python-setuptools python-pip\nsudo: unable to resolve host hyp-x86-64-3479\nsudo: no tty present and no askpass program specified\nBuild step 'Execute shell' marked build as failure","ts":"1476751789.001625"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: for reasons that are still unclear, the vagrant build in the pipeline is very unreliable","ts":"1476880509.001627"},{"type":"message","user":"U0KPFAZNF","text":"though the most recent one appears to be a problem in the protobuf UTs","ts":"1476880521.001628"},{"type":"message","user":"U0KPFAZNF","text":"so probably a protobuf bug\u2026but that said, its generally unreliable and its typically at the infrastructure level","ts":"1476880542.001629"},{"type":"message","user":"U0KPFAZNF","text":"not sure what we can do about it, but FYI","ts":"1476880550.001630"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1471\/>","ts":"1476880568.001631"},{"type":"message","user":"U0ZJZBJLF","text":"is it possible to get the \"not-most-recent-one\" instead? I don't remember it happened before","ts":"1476881067.001635"},{"type":"message","user":"U0KPFAZNF","text":"well, the rub here is that the Z team needs v3.1.0","ts":"1476881974.001636"},{"type":"message","user":"U0KPFAZNF","text":"so, i can go back to v3.0.2 but that leaves Z out in the cold and its not a good long term strategy probably","ts":"1476882004.001637"},{"type":"message","user":"U0KPFAZNF","text":"i am contemplating switching the x86 build to use the binaries they provide though","ts":"1476882019.001638"},{"type":"message","user":"U0KPFAZNF","text":"that would mitigate some of the problems, at least for x86","ts":"1476882029.001639"},{"type":"message","user":"U0KPFAZNF","text":"i kicked off a new build, lets see if that was a fluke","ts":"1476882041.001640"},{"type":"message","user":"U0ZJZBJLF","text":"isn't it possible to use 3.1.0 only for Z and 3.0.2 for the x86?","ts":"1476882151.001641"},{"type":"message","user":"U0KPFAZNF","text":"it is, but I really would only want to do that as a last resort","ts":"1476883222.001642"},{"type":"message","user":"U0KPFAZNF","text":"and really, if v3.1.0 has flaky UTs, they will be flaky on Z most likely","ts":"1476883244.001643"},{"type":"message","user":"U0KPFAZNF","text":"but, the CI environment for building vagrant has been notoriously unstable, the protobuf UTs might just be a victim","ts":"1476883277.001644"},{"type":"message","user":"U0KPFAZNF","text":"do you have any objection to v3.1.0 other than that last failure being concerning?","ts":"1476883292.001645"},{"type":"message","user":"U0KPFAZNF","text":"(as an example, an earlier run died inside an SSH)","ts":"1476883316.001646"},{"type":"message","user":"U0KPFAZNF","text":"so, I kind of suspect the platform is just not reliable, not so much the software running inside it","ts":"1476883335.001647"},{"type":"message","user":"U0KPFAZNF","text":"(by \u201cplatform\u201d i mean the CI backend that supports building vagrant)","ts":"1476883356.001648"},{"type":"message","user":"U0ZJZBJLF","text":"I don't have any objections to anything as long as I get to push my code with the gRPC+Proto vendor folders of master :slightly_smiling_face:","ts":"1476884349.001649"},{"type":"message","user":"U0KPFAZNF","text":"ok, that work is being done on CR 1839 and discussed in the <#C2NESEYV9|fabric-reconcile> channel","ts":"1476886467.001650"},{"type":"message","user":"U0KPFAZNF","text":"1471 is more about upgrading the tooling","ts":"1476886482.001651"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> would it help if I cached the iso for <https:\/\/jenkins.hyperledger.org\/job\/fabric-baseimage-verify-vagrant-x86_64\/41> ?","ts":"1476887121.001652"},{"type":"message","user":"U0UHG4VP1","text":"like I did previously","ts":"1476887128.001653"},{"type":"message","user":"U0KPFAZNF","text":"i didnt get the impression the download was causing much of the problem","ts":"1476887354.001654"},{"type":"message","user":"U0KPFAZNF","text":"it seems to get stuck after the fact","ts":"1476887365.001655"},{"type":"message","user":"U0UHG4VP1","text":"I only meant to speed up the BVT cycle","ts":"1476887390.001656"},{"type":"message","user":"U0KPFAZNF","text":"i often see it get stuck \u201cwaiting for SSH\u201d which is the period of time we are installing the base OS, so we are kind of blind","ts":"1476887397.001657"},{"type":"message","user":"U0UHG4VP1","text":"ok","ts":"1476887422.001658"},{"type":"message","user":"U0KPFAZNF","text":"BVT?","ts":"1476887423.001659"},{"type":"message","user":"U0UHG4VP1","text":"sorry, build verify test","ts":"1476887434.001660"},{"type":"message","user":"U0KPFAZNF","text":"ah, i see","ts":"1476887439.001661"},{"type":"message","user":"U0KPFAZNF","text":"let me look at the logs, i never noticed that as a gating factor","ts":"1476887449.001662"},{"type":"message","user":"U0KPFAZNF","text":"though im sure its not free","ts":"1476887453.001663"},{"type":"message","user":"U0UHG4VP1","text":"at 13 minutes we\u2019re at 36%","ts":"1476887529.001664"},{"type":"message","user":"U0KPFAZNF","text":"yeah, its appreciable","ts":"1476887565.001665"},{"type":"message","user":"U0KPFAZNF","text":"took 26m on this build: <https:\/\/jenkins.hyperledger.org\/job\/fabric-baseimage-verify-vagrant-x86_64\/40\/consoleFull>","ts":"1476887581.001666"},{"type":"message","user":"U0KPFAZNF","text":"my only concern with the previous approach is it looked fragile","ts":"1476887600.001667"},{"type":"message","user":"U0KPFAZNF","text":"would be better if this could be tied into something more robust, like a nexus coordinate or a squid proxy","ts":"1476887623.001668"},{"type":"message","user":"U0KPFAZNF","text":"but ill leave that to you","ts":"1476887631.001669"},{"type":"message","user":"U0KPFAZNF","text":"if you are willing to support it, thats good enough for me","ts":"1476887649.001670"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: this is probably the most common failure I see","ts":"1476887891.001671"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-baseimage-verify-vagrant-x86_64\/38\/console>","ts":"1476887892.001672"},{"type":"message","user":"U0KPFAZNF","text":"though I see others too, seemingly random failures in tools that should be robust, like ssh","ts":"1476887926.001673"},{"type":"message","user":"U0KPFAZNF","text":"so I somewhat suspect the execution environment for the vagrant vm its running is not robust","ts":"1476887939.001674"},{"type":"message","user":"U0KPFAZNF","text":"not sure what can be done about it, but JFYI","ts":"1476887960.001675"},{"type":"message","user":"U0KPFAZNF","text":"heres a wacky one: <https:\/\/jenkins.hyperledger.org\/job\/fabric-baseimage-verify-vagrant-x86_64\/31\/console>","ts":"1476888014.001676"},{"type":"message","user":"U0KPFAZNF","text":"another","ts":"1476888065.001677"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-baseimage-verify-vagrant-x86_64\/26\/console>","ts":"1476888065.001678"},{"type":"message","user":"U0KPFAZNF","text":"its like the VM has heartburn from time to time","ts":"1476888085.001679"},{"type":"message","user":"U0KPFAZNF","text":"if this continues, perhaps we should temporarily disable the -vagrant targets\u2026ill continue to produce those manually\/locally","ts":"1476888136.001680"},{"type":"message","user":"U0KPFAZNF","text":"the docker targets are the ones that are really difficult for me anyway","ts":"1476888148.001681"},{"type":"message","user":"U0KPFAZNF","text":"at least -vagrant is and will always be restricted to one $arch","ts":"1476888168.001682"},{"type":"message","user":"U0YQK8WSV","text":"<@U0UHG4VP1> .. u gave me info about including java sdk in jenkins build.. but lost those messages again.. can you give me the info again?","ts":"1476898493.001683"},{"type":"message","user":"U0UHG4VP1","text":"have other users seen an error like this: \u201c$username is missing the Overall\/Read permission\u201d when trying to log in to the sandbox?","ts":"1476903114.001684"},{"type":"message","user":"U0KPFAZNF","text":"i was getting a weird error message on login yesterday","ts":"1476906890.001685"},{"type":"message","user":"U0KPFAZNF","text":"but I tried a few times and eventually it went away","ts":"1476906898.001686"},{"type":"message","user":"U0KPFAZNF","text":"it might have been that error, but I am not 100% sure","ts":"1476906916.001687"},{"type":"message","user":"U0UHG4VP1","text":"OK. I feel better knowing it isn\u2019t just one user","ts":"1476907859.001688"},{"type":"message","user":"U0KPFAZNF","text":"at first, i thought I had my sandbox privs stripped :wink:","ts":"1476908434.001689"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: I see this error from others..","ts":"1476909798.001690"},{"type":"message","user":"U11HH3P7Y","text":"after login they are getting this error message","ts":"1476909830.001691"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y>: if you log out and back in does it fix itself?","ts":"1476916716.001692"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: I don't see this issue with my id.. Others are getting this error when they login","ts":"1476922345.001693"},{"type":"message","user":"U0UHG4VP1","text":"ramesh OK. It looks like this is a transient, yet persistent, issue","ts":"1476922406.001694"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> you can trigger a baseimage release against \u201cv0.2.0\u201d at will","ts":"1476966728.001695"},{"type":"message","user":"U0KPFAZNF","text":"though note there are two verify\/merge jobs queued up right now too","ts":"1476966738.001696"},{"type":"message","user":"U0KPFAZNF","text":"so, its going to be awhile :wink:","ts":"1476966744.001697"},{"type":"message","user":"U0KPFAZNF","text":"i fully anticipate we will have reliability issues with the -vagrant build, too","ts":"1476966780.001698"},{"type":"message","user":"U0KPFAZNF","text":"just because, thats how it rolls","ts":"1476966785.001699"},{"type":"message","user":"U0KPFAZNF","text":"(by that, I mean the CI process to build it, not the actual artifact)","ts":"1476966807.001700"},{"type":"message","user":"U0KPFAZNF","text":"worst case, I can build the -vagrant variant locally","ts":"1476966865.001701"},{"type":"message","user":"U11HH3P7Y","text":"ok so I have to trigger them only on x and p","ts":"1476967803.001702"},{"type":"message","user":"U11HH3P7Y","text":"correct?","ts":"1476967812.001703"},{"type":"message","user":"U0KPFAZNF","text":"well i think you just need to trigger the trigger build","ts":"1476967821.001704"},{"type":"message","user":"U0KPFAZNF","text":"it will only have those options","ts":"1476967826.001705"},{"user":"U2RTT5NMV","text":"<@U2RTT5NMV|walkeralencar> has joined the channel","type":"message","subtype":"channel_join","ts":"1476967836.001706"},{"type":"message","user":"U11HH3P7Y","text":"If it is tag based I have to do it from sandbox..","ts":"1476967849.001707"},{"type":"message","user":"U0KPFAZNF","text":"oh right","ts":"1476967856.001708"},{"type":"message","user":"U0KPFAZNF","text":"yes, P\/X only","ts":"1476967863.001709"},{"type":"message","user":"U11HH3P7Y","text":"ok sure.. will let you know the update","ts":"1476967879.001710"},{"type":"message","user":"U0KPFAZNF","text":"ty","ts":"1476968050.001711"},{"user":"U2RTT5NMV","text":"<@U2RTT5NMV|walkeralencar> has left the channel","type":"message","subtype":"channel_leave","ts":"1476968059.001712"},{"type":"message","user":"U0YQK8WSV","text":"<@U11HH3P7Y>","ts":"1476970875.001713"},{"type":"message","user":"U0YQK8WSV","text":"Hi.. How can I start integrating java SDK in jenkins build? Ry gave me the info before..but I lost those messages","ts":"1476970900.001714"},{"type":"message","user":"U11HH3P7Y","text":"hi","ts":"1476970972.001715"},{"type":"message","user":"U11HH3P7Y","text":"we have CI repository here <https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=ci-management.git;a=tree;h=refs\/heads\/master;hb=refs\/heads\/master>","ts":"1476970991.001716"},{"type":"message","user":"U11HH3P7Y","text":"please create jobs in JJB then push your changes to ci-management repo for review","ts":"1476971023.001717"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: can you confirm whether the ATLAS credentials are enabled in the sandbox?","ts":"1476972980.001718"},{"type":"message","user":"U0KPFAZNF","text":"it seems like they might not be, but we might be misreading the logs","ts":"1476972996.001719"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> looking at both the sandbox and production, I don\u2019t see ATLAS credentials set up in either. I may be looking in the wrong place","ts":"1476982625.001720"},{"type":"message","user":"U0KPFAZNF","text":"its possible that we never worked all the way through vagrant-push-to-atlas","ts":"1477016067.001721"},{"type":"message","user":"U0UHG4VP1","text":"I don\u2019t remember setting it up","ts":"1477016097.001722"},{"type":"message","user":"U0KPFAZNF","text":"I could have sworn I remember sending you the API key encrypted, but its all a bit murky","ts":"1477016107.001723"},{"type":"message","user":"U0KPFAZNF","text":"in any event, easy to do again","ts":"1477016115.001724"},{"type":"message","user":"U0UHG4VP1","text":"doesn\u2019t mean I didn\u2019t set it up, I just don\u2019t see anything in LastPass","ts":"1477016121.001725"},{"type":"message","user":"U0KPFAZNF","text":"heh, no worries","ts":"1477016126.001726"},{"type":"message","user":"U0KPFAZNF","text":"its trivial to create a new key","ts":"1477016131.001727"},{"type":"message","user":"U0UHG4VP1","text":"oh I recall that API key","ts":"1477016132.001728"},{"type":"message","user":"U0UHG4VP1","text":"ah it was under the name Hashicorp","ts":"1477016235.001729"},{"type":"message","user":"U0KPFAZNF","text":"cool, so you have it?","ts":"1477016263.001730"},{"type":"message","user":"U0KPFAZNF","text":"do you need the name of the envvar?","ts":"1477016274.001731"},{"type":"message","user":"U0KPFAZNF","text":"i think its ATLAS_KEY, but id have to check","ts":"1477016283.001732"},{"type":"message","user":"U0UHG4VP1","text":"I\u2019m looking","ts":"1477016318.001733"},{"type":"message","user":"U0KPFAZNF","text":"im going to manually push the v0.2.0 vagrant baseimage, since I have it already built from previous testing","ts":"1477059578.001734"},{"type":"message","user":"U0KPFAZNF","text":"it looks like the docker pipeline did its job though","ts":"1477059590.001735"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> we should brainstorm on alternative options for vagrant building","ts":"1477059617.001736"},{"type":"message","user":"U0KPFAZNF","text":"i think there are reliability issues with the openstack setup in this regard","ts":"1477059627.001737"},{"type":"message","user":"U0KPFAZNF","text":"few options: we could have a dedicated and\/or different build for vagrant","ts":"1477059651.001738"},{"type":"message","user":"U0KPFAZNF","text":"we could get an atlas account","ts":"1477059663.001739"},{"type":"message","user":"U0KPFAZNF","text":"(they do hosted builds, but its no longer free)","ts":"1477059675.001740"},{"type":"message","user":"U0PB67X4K","text":"who setup the CI for the `fabric-sdk-node` repo?","ts":"1477061015.001741"},{"type":"message","user":"U0UHG4VP1","text":"garisingh: I did","ts":"1477068451.001744"},{"type":"message","user":"U0UHG4VP1","text":"oh, sorry, I didn't","ts":"1477068456.001745"},{"type":"message","user":"U0PB67X4K","text":"No worries.  I was asking because we need to update the NodeJS version being used","ts":"1477068531.001746"},{"type":"message","user":"U0UHG4VP1","text":"looks like <@U11HH3P7Y> did","ts":"1477068545.001747"},{"type":"message","user":"U0PB67X4K","text":"Ok.  Thx.  Will check with him ","ts":"1477068569.001748"},{"type":"message","user":"U0UHG4VP1","text":"garisingh if it\u2019s straightforward you could check out <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/ci-management> and make the change there","ts":"1477068634.001749"},{"type":"message","user":"U0PB67X4K","text":"Ah - that is a good idea.  Will go that route.  Thanks","ts":"1477068661.001750"},{"type":"message","user":"U0UHG4VP1","text":"<@U0PB67X4K> what version of nodejs do you need, exactly?","ts":"1477069413.001751"},{"type":"message","user":"U0PB67X4K","text":"v6.7 or higher","ts":"1477069452.001752"},{"type":"message","user":"U0UHG4VP1","text":"when does this upgrade need to happen? would it be OK if I did it this afternoon? I\u2019ll need to update the image","ts":"1477069522.001753"},{"type":"message","user":"U0PB67X4K","text":"That's perfect.","ts":"1477070574.001754"},{"type":"message","user":"U0PB67X4K","text":"I have been manually verifying for now so not a problem","ts":"1477070594.001755"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KM61BCP> <@U0UHG4VP1>: can you please create `<http:\/\/hyperledger.github.io|hyperledger.github.io>` github repository in `hyperledger` org. to publish node-sdk html documents. I have created one with <http:\/\/hyperledger.github.io|hyperledger.github.io> in my repository but the result page is showing like this.. <https:\/\/rameshthoomu.github.io\/hyperledger.github.io\/>","ts":"1477071926.001756"},{"type":"message","user":"U11HH3P7Y","text":"when I have organization and repository name same, the result page will display as <http:\/\/hyperledger.github.io|hyperledger.github.io>","ts":"1477072019.001757"},{"type":"message","user":"U0YQK8WSV","text":"<@U11HH3P7Y>  how do I get started with including fabric-sdk-java in CI builds","ts":"1477076719.001758"},{"type":"message","user":"U0YQK8WSV","text":"?","ts":"1477076720.001759"},{"type":"message","user":"U0YQK8WSV","text":"nm.. I see your response to my earlier question","ts":"1477076779.001760"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: ping","ts":"1477081642.001761"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF>: yes sir?","ts":"1477081809.001762"},{"type":"message","user":"U0KPFAZNF","text":"i see a potential storm on the horizon related to the current disconnect we have between what runs the CI processes and what we use elsewhere such as devenv","ts":"1477081870.001763"},{"type":"message","user":"U0KPFAZNF","text":"and I am wondering if we can address that by unifying them more","ts":"1477081886.001764"},{"type":"message","user":"U0KPFAZNF","text":"heres an example: <@U0XQ35CDD> has been waiting for the golang v1.7 update for a while, presumably so he can use some of the new facilities","ts":"1477081918.001765"},{"user":"U0XQ35CDD","inviter":"U0KPFAZNF","text":"<@U0XQ35CDD|kostas> has joined the channel","type":"message","subtype":"channel_join","ts":"1477081922.001766"},{"type":"message","user":"U0KPFAZNF","text":"i am on the verge of having this support available via the baseimage v0.2.0 activity","ts":"1477081941.001767"},{"type":"message","user":"U0KPFAZNF","text":"however, if he were to then code a change in fabric.git, it might not compile in Jenkins without further action on your part","ts":"1477081962.001768"},{"type":"message","user":"U0KPFAZNF","text":"and then there is the issue of, we could simply upgrade jenkins to 1.7, but what implications might that have for older fabric.git","ts":"1477081987.001769"},{"type":"message","user":"U0KPFAZNF","text":"what I am wondering is: is there a way we can structure infra so that there is a tigher relationship with the CI \u201cbaseimage\u201d similar to how we have a coupling to the vagrant and docker baseimages","ts":"1477082047.001770"},{"type":"message","user":"U0KPFAZNF","text":"few different thoughts:  we could have a third output of baseimage.git (say, OVS) that is used by jenkins","ts":"1477082091.001771"},{"type":"message","user":"U0KPFAZNF","text":"another idea: we could run the tests inside docker","ts":"1477082102.001772"},{"type":"message","user":"U0KPFAZNF","text":"(since we already have docker baseimage)","ts":"1477082108.001773"},{"type":"message","user":"U0KPFAZNF","text":"third idea: there are integrations to run jenkins jobs inside vagrant, so that could use the existing vagrant baseimage","ts":"1477082139.001774"},{"type":"message","user":"U0KPFAZNF","text":"im open to other ideas as well, of course","ts":"1477082147.001775"},{"type":"message","user":"U0KPFAZNF","text":"those are just to get the conversation started","ts":"1477082153.001776"},{"type":"message","user":"U0UHG4VP1","text":"I'm open to the easiest way forward that doesn't hamstring us later","ts":"1477082171.001777"},{"type":"message","user":"U0KPFAZNF","text":"to me: the docker model seems like the lightest weight path forward on several fronts","ts":"1477082198.001778"},{"type":"message","user":"U0UHG4VP1","text":"Since we have docker base images and can build ... yes","ts":"1477082206.001779"},{"type":"message","user":"U0KPFAZNF","text":"for one, we already publish it","ts":"1477082211.001780"},{"type":"message","user":"U0UHG4VP1","text":"I agree","ts":"1477082215.001781"},{"type":"message","user":"U0KPFAZNF","text":"and second, its the lightest weight option","ts":"1477082219.001782"},{"type":"message","user":"U0KPFAZNF","text":"(in terms of VM overhead)","ts":"1477082229.001783"},{"type":"message","user":"U0KPFAZNF","text":"ok, well lets use that as the operational model for a POC until we find we cant or have a better idea","ts":"1477082266.001784"},{"type":"message","user":"U0UHG4VP1","text":"Agreed","ts":"1477082496.001785"},{"type":"message","user":"U0UHG4VP1","text":"We could probably, if required, set up a second type of builder using a different image (go 1.7) ","ts":"1477082714.001786"},{"type":"message","user":"U0UHG4VP1","text":"It might be easier to have specific builds go to specific classes of builders","ts":"1477082738.001787"},{"type":"message","user":"U0UHG4VP1","text":"And avoid new docker builds","ts":"1477082808.001788"},{"type":"message","user":"U0KPFAZNF","text":"Yes, though I am inclined to try to stick it under baseimage since it basically already captures the dependency ","ts":"1477082814.001789"},{"type":"message","user":"U0UHG4VP1","text":"OK","ts":"1477082823.001790"},{"type":"message","user":"U0KPFAZNF","text":"We could have the Jenkins job just read .baseimage-release, and then boot stage 2 inside that","ts":"1477082854.001791"},{"type":"message","user":"U0KPFAZNF","text":"ill play around in the sandbox","ts":"1477083052.001792"},{"type":"message","user":"U0UHG4VP1","text":"looking at vagrant in ci-management, we\u2019re currently building `docker pull hyperledger\/fabric-baseimage:x86_64-0.0.10`","ts":"1477084796.001793"},{"type":"message","user":"U0UHG4VP1","text":"no reason that couldn\u2019t be re-run as the first line of build","ts":"1477084841.001794"},{"type":"message","user":"U0KPFAZNF","text":"right, and then we just need to adapt what happens next in the context of a docker-run","ts":"1477084984.001795"},{"type":"message","user":"U0KPFAZNF","text":"the bigger challenge will likely be trying to get UTs to run inside a docker container","ts":"1477085001.001796"},{"type":"message","user":"U0KPFAZNF","text":"(or maybe not, who knows","ts":"1477085010.001797"},{"type":"message","user":"U0KPFAZNF","text":"but that is where I expect the most friction","ts":"1477085017.001798"},{"type":"message","user":"U0UHG4VP1","text":"aren\u2019t we sort-of doing that already?","ts":"1477085051.001799"},{"type":"message","user":"U0KPFAZNF","text":"well, we launch docker processes, but we dont do the actual build inside them","ts":"1477085081.001800"},{"type":"message","user":"U0KPFAZNF","text":"at least, not in the same way we do it outside","ts":"1477085087.001801"},{"type":"message","user":"U0UHG4VP1","text":"ah OK.","ts":"1477085094.001802"},{"type":"message","user":"U0KPFAZNF","text":"i think its all doable, it just might require some tweaking","ts":"1477085113.001803"},{"type":"message","user":"U0UHG4VP1","text":"<@U0PB67X4K> Jenkins is now using Node 6.9.1","ts":"1477086208.001804"},{"type":"message","user":"U0UHG4VP1","text":"sorry it took so long","ts":"1477086252.001805"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> I was finally able to get on to github, I created the new repo <https:\/\/hyperledger.github.io\/>","ts":"1477093423.001806"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> maybe the node documentation should be one level down? other projects might want to public documentation here","ts":"1477093506.001807"},{"type":"message","user":"U0KPFAZNF","text":"I would suggest that anything that alters top level namespace should probably flow through TSC approval","ts":"1477099813.001808","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0KM61BCP","text":"if I scanned this discussion correctly, moving to docker-based approach to CI?","ts":"1477175924.001809"},{"type":"message","user":"U0PB67X4K","text":"<@U0UHG4VP1> - forgot to say thanks for bumping the Node version - so thank you!  :wink:","ts":"1477177569.001810"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> well, it's the leading proposal to fix some issues I think we will face","ts":"1477186485.001811"},{"type":"message","user":"U0KPFAZNF","text":"Next step is POC ","ts":"1477186494.001812"},{"type":"message","user":"U0KPFAZNF","text":"But ties in well with your comments on the other thread","ts":"1477186516.001813"},{"type":"message","user":"U0UHG4VP1","text":"<@U0PB67X4K>: you're very welcome!","ts":"1477186755.001814"},{"type":"message","user":"U0ZJZBJLF","text":"something is weird. I pulled master and it doesn't pass `make` (go vent\/lint stuff), but I sent a PR after branching from master, and the CI tests passed. Doesn't the CI job run goimports and govet?","edited":{"user":"U0ZJZBJLF","ts":"1477223471.000000"},"ts":"1477222226.001815"},{"type":"message","user":"U0KPFAZNF","text":"did you rebuild your vagrant after pulling?","ts":"1477223718.001819"},{"type":"message","user":"U0KPFAZNF","text":"that might possibly be the cause","ts":"1477223725.001820"},{"type":"message","user":"U0ZJZBJLF","text":"I'm not using vagrant","ts":"1477223770.001821"},{"type":"message","user":"U0ZJZBJLF","text":"and I don't understand why that might be the cause","ts":"1477223802.001822"},{"type":"message","user":"U0KPFAZNF","text":"ok, i dont either, but early on in this process we had a similar scenario","ts":"1477223905.001823"},{"type":"message","user":"U0KPFAZNF","text":"i was getting go-vet failures that neither Murali nor CI was seeing","ts":"1477223919.001824"},{"type":"message","user":"U0KPFAZNF","text":"at some point, it just stopped happening, so we concluded that I might have had a stale devenv","ts":"1477223937.001825"},{"type":"message","user":"U0KPFAZNF","text":"but we were never sure","ts":"1477223941.001826"},{"type":"message","user":"U0KPFAZNF","text":"it def runs them in CI though, im going to run locally now to check","ts":"1477223952.001827"},{"type":"message","user":"U0ZJZBJLF","text":"I see","ts":"1477223963.001828"},{"type":"message","user":"U0ZJZBJLF","text":"it sounds weird that *you* of all people have a stale devenv, though :slightly_smiling_face:","ts":"1477224077.001829"},{"type":"message","user":"U0KPFAZNF","text":"yes, except also keep in mind I have like 15 environments from different branches going all the time, too","ts":"1477224424.001830"},{"type":"message","user":"U0KPFAZNF","text":":wink:","ts":"1477224430.001831"},{"type":"message","user":"U0KPFAZNF","text":"thats a slight exaggeration, but not by much","ts":"1477224444.001832"},{"type":"message","user":"U0KPFAZNF","text":"anyway, its not difficult to get them mixed up","ts":"1477224456.001833"},{"type":"message","user":"U0KPFAZNF","text":"not saying that is what happened, we simply dont know","ts":"1477224464.001834"},{"type":"message","user":"U0ZJZBJLF","text":"well, what happened today is I made a PR, and ran make and the make failed because of govet\/goimports","ts":"1477224464.001835"},{"type":"message","user":"U0KPFAZNF","text":"BUT","ts":"1477224465.001836"},{"type":"message","user":"U0KPFAZNF","text":"I just saw it again, and the linter error its finding was deemed legit by Murali","edited":{"user":"U0KPFAZNF","ts":"1477224573.000000"},"ts":"1477224482.001837"},{"type":"message","user":"U0ZJZBJLF","text":"what could be the problem?","ts":"1477224483.001838"},{"type":"message","user":"U0KPFAZNF","text":"what we determined at the time is we couldnt explain why it _wasnt_ being flagged in some contexts (including CI)","ts":"1477224508.001839"},{"type":"message","user":"U0KPFAZNF","text":"so, the short answer is: despite that mystery, the right thing to do is simply fix it","ts":"1477224522.001840"},{"type":"message","user":"U0ZJZBJLF","text":"maybe the govet or goimports there have a different build?","ts":"1477224527.001841"},{"type":"message","user":"U0KPFAZNF","text":"let me see if I still have the patches","ts":"1477224529.001842"},{"type":"message","user":"U0ZJZBJLF","text":"I uploaded a fix, you can +2 if you want","ts":"1477224540.001843"},{"type":"message","user":"U0KPFAZNF","text":"its not clear","ts":"1477224541.001844"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1477224577.001846"},{"type":"message","user":"U0KPFAZNF","text":"i just tested your patch and it fixed the issues for me","ts":"1477225499.001847"},{"type":"message","user":"U0KPFAZNF","text":"ty","ts":"1477225500.001848"},{"type":"message","user":"U0KPFAZNF","text":"its really confusing how it passed CI before though","ts":"1477225561.001849"},{"type":"message","user":"U0KPFAZNF","text":"if you look at the log (like this one from your run) <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/1944\/console>","ts":"1477225574.001850"},{"type":"message","user":"U0KPFAZNF","text":"(see 11:45:31), its clearly running the linter","ts":"1477225593.001851"},{"type":"message","user":"U0ZJZBJLF","text":"Maybe old version? In my previous go-lang project we sometimes initialized a struct: s{value} instead of s{key:value} and the linter\/vetter didn't shout at us. Maybe that's the problem","edited":{"user":"U0ZJZBJLF","ts":"1477226422.000000"},"ts":"1477225956.001852"},{"type":"message","user":"U0KM61BCP","text":"<@U11HH3P7Y> why are we creating a <http:\/\/hyperledger.github.io|hyperledger.github.io> repo? We have <http:\/\/hyperledger.org|hyperledger.org> and IMO, having all these pages will only dilute our brand","ts":"1477242317.001854"},{"type":"message","user":"U0KM61BCP","text":"What is the intention? Is this to host docs generated from our SDKs?","ts":"1477242338.001855"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF> I tend to think that with Docker support for Mac and Windows, that vagrant has outlived its usefulness especially since we now have a base image. I think that we should start to encourage a docker-based approach to development - just mounting the source tree into the container and having \u2018make images unit-tests behave\u2019 as the default command.","ts":"1477242560.001856"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> I agree","ts":"1477243229.001857"},{"type":"message","user":"U0KPFAZNF","text":"i will begin looking into this","ts":"1477243235.001858"},{"type":"message","user":"U0KPFAZNF","text":"(the Docker-on-mac support is quite good)","ts":"1477243259.001859"},{"type":"message","user":"U0KPFAZNF","text":"it will improve a bunch of peripheral things too, like we can have the CI use the same flow","ts":"1477243302.001860"},{"type":"message","user":"U0KPFAZNF","text":"(e.g. today CI and vagrant are maintained separately)","ts":"1477243329.001861"},{"type":"message","user":"U0ZJZBJLF","text":"but we have more than docker stuff, we also have shell scripts. what are we going to do with them if we ditch the vagrant image?","ts":"1477244415.001862"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP> <@U0KPFAZNF> <@U11HH3P7Y> <http:\/\/github.io|github.io> repo deleted","ts":"1477244870.001863"},{"type":"message","user":"U0KPFAZNF","text":"I still need to conduct a study, but I think it can work <@U0ZJZBJLF> ","ts":"1477246508.001864"},{"type":"message","user":"U0KM61BCP","text":"<@U0ZJZBJLF> I am thinking we use Docker for our build environment\u2026 not sure I follow the comment about shell scripts","ts":"1477247375.001865"},{"type":"message","user":"U0ZJZBJLF","text":"you expect a developer to develop in windows, right?","ts":"1477247404.001866"},{"type":"message","user":"U0KM61BCP","text":"sure","ts":"1477247410.001867"},{"type":"message","user":"U0KM61BCP","text":"Docker runs natively on window","ts":"1477247420.001868"},{"type":"message","user":"U0KM61BCP","text":"Windows","edited":{"user":"U0KM61BCP","ts":"1477247430.000000"},"ts":"1477247423.001869"},{"type":"message","user":"U0ZJZBJLF","text":"but, for example- the script that generates the pb.go files is a shell script","ts":"1477247424.001870"},{"type":"message","user":"U0ZJZBJLF","text":"yes I've heard that they did this unholy thing.","ts":"1477247446.001872"},{"type":"message","user":"U0KM61BCP","text":"but we are developing not to run fabric natively, but to run containerized as we are presently","ts":"1477247473.001873"},{"type":"message","user":"U0ZJZBJLF","text":"yes but the IDE needs the pb.go files so it can compile","ts":"1477247499.001874"},{"type":"message","user":"U0KM61BCP","text":"I am merely suggesting that instead of creating a vagrant environment that we use Docker","ts":"1477247507.001875"},{"type":"message","user":"U0ZJZBJLF","text":"I understand, all I'm saying there are some corner cases such as this one","ts":"1477247531.001876"},{"type":"message","user":"U0KM61BCP","text":"instead of \u2018vagrant up; vagrant ssh\u2019 we can simply run a docker-compose that binds the local clone of fabric into a container that has all the same content as the vagrant image","ts":"1477247574.001877"},{"type":"message","user":"U0KM61BCP","text":"if you are compiling on Windows, then you don\u2019t need docker","ts":"1477247636.001878"},{"type":"message","user":"U0KM61BCP","text":"same for Mac or Z for that matter","ts":"1477247642.001879"},{"type":"message","user":"U0ZJZBJLF","text":"how can I compile the proto files, if the script that compiles them is a shell script? I'll have to install cygwin or something for that.","ts":"1477247673.001880"},{"type":"message","user":"U0KM61BCP","text":"the whole point of vagrant was to have a portable vm in which you can do development\/builds","ts":"1477247678.001881"},{"type":"message","user":"U0KM61BCP","text":"<@U0ZJZBJLF> I\u2019m struggling with your concern\u2026 I am speaking purely of replacing vagrant with docker","ts":"1477247732.001882"},{"type":"message","user":"U0KM61BCP","text":"aside from that nothing changes","ts":"1477247738.001883"},{"type":"message","user":"U0ZJZBJLF","text":"oh, I see","ts":"1477247774.001884"},{"type":"message","user":"U0ZJZBJLF","text":"the \"make\" for example will write to a shared volume mounted by docker with write access?","ts":"1477247793.001885"},{"type":"message","user":"U0KM61BCP","text":"correct","ts":"1477247798.001886","reactions":[{"name":"white_check_mark","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"That's how I see it too","ts":"1477248093.001887"},{"type":"message","user":"U0KPFAZNF","text":"Today we use vagrant to normalize things like the compiler and libs ","ts":"1477248115.001888"},{"type":"message","user":"U0KPFAZNF","text":"We can use docker for that instead","ts":"1477248129.001889"},{"type":"message","user":"U0KPFAZNF","text":"So, if you have an environment that has commands like git, make, and docker, you can run a build to produce docker artifacts like fabric-peer","ts":"1477248286.001890"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> I also plan on investigating splitting up the build from the runtime ","ts":"1477248336.001891"},{"type":"message","user":"U0KPFAZNF","text":"So the runtime image doesn't need all the baggage, just the peer binary, core.yaml, and things like that","ts":"1477248377.001892"},{"type":"message","user":"U0KPFAZNF","text":"Migrating to alpine eventually ;)","ts":"1477248393.001893"},{"type":"message","user":"U0KPFAZNF","text":"But baby steps...","ts":"1477248411.001894"},{"type":"message","user":"U0KM61BCP","text":"Agree, there\u2019s a lot of baggage in build not needed for runtime","ts":"1477248938.001895"},{"type":"message","user":"U0PB67X4K","text":"<@U0KPFAZNF> - let me know if you'd like to split the task for the runtime piece.  I've done a lot of work in making smaller runtime Docker images in the past.  Do we feel we have any limitations in terms of our options here?    Also - if we remove the REST API in v1.0 from the peer (at least the transactional piece), I believe that we can remove the Go compiler from the peer image and certainly not needed in the membersrvc \/ cop (v1) image either","ts":"1477263842.001896"},{"type":"message","user":"U0KM61BCP","text":"<@U115YGEH1>: I see you have requested 'bintray' access to hyperledger org... this is for binary distribution? I think that <@U0UHG4VP1> is setting up nexus server. I haven't explored bintray but possibly we could look into aligning strategies for publishing build artifacts","ts":"1477302798.001897"},{"type":"message","user":"U115YGEH1","text":"Bintray was requested by our android dev. He said android developers typically use that instead of getting releases from GitHub.","ts":"1477310037.001898"},{"type":"message","user":"U0KM61BCP","text":"in a side chat he explained and I oked assuming <@U0UHG4VP1> is also cool","ts":"1477321969.001899"},{"type":"message","user":"U0UHG4VP1","text":"I'm fine with it once I'm awake I'll connect it","ts":"1477322010.001900"},{"user":"U29BLQJ4Q","text":"<@U29BLQJ4Q|mizukisonoko> has joined the channel","type":"message","subtype":"channel_join","ts":"1477333478.001901"},{"type":"message","user":"U29BLQJ4Q","text":"Excuse me\nI want to deploy to Bintray from Jenkins, But I don't know how to set up jenkins.... sorry.\nCould  you tell me how to set up jenkins?\nCurrently, I'm reading <https:\/\/wiki.jenkins-ci.org\/display\/JENKINS\/Remote+access+API>","ts":"1477334694.001902"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> : any better pointers?","ts":"1477334841.001903"},{"type":"message","user":"U11HH3P7Y","text":"I have no idea on this plugin but I can help <@U29BLQJ4Q> in setting up jenkins..","ts":"1477335077.001904"},{"type":"message","user":"U0UHG4VP1","text":"ramesh what I think <@U29BLQJ4Q> needs is the workflow you and <@U0NCW1DPX> are using to push XML from your desktops","ts":"1477335228.001905"},{"type":"message","user":"U0UHG4VP1","text":"if you could document how exactly you do that in the wiki it would be very nice for onboarding new projects","ts":"1477335253.001906"},{"type":"message","user":"U0UHG4VP1","text":"basically the yaml\/xml workflow for sandbox","ts":"1477335276.001907"},{"type":"message","user":"U11HH3P7Y","text":"sure will do that.","ts":"1477335301.001908"},{"type":"message","user":"U0UHG4VP1","text":"thank you <@U11HH3P7Y>","ts":"1477336211.001909"},{"type":"message","user":"U29BLQJ4Q","text":"Thank you","ts":"1477336252.001910"},{"type":"message","user":"U115YGEH1","text":"I think we might end up using circle ci for iroha-android as well.","ts":"1477349926.001911"},{"type":"message","user":"U0UHG4VP1","text":"Ok.","ts":"1477353348.001912"},{"type":"message","user":"U0NCW1DPX","text":":+1:","ts":"1477357282.001913"},{"type":"message","user":"U0ZJZBJLF","text":"Did we bring back the BDD tests into the CI as a valid check? Jenkins gave me a -1 but the unit tests passed, and the BDD tests failed, but they always fail...","ts":"1477394957.001914"},{"type":"message","user":"U0ZJZBJLF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1975\/>","ts":"1477394968.001915"},{"type":"message","user":"U115YGEH1","text":"We got circle-ci working for iroha: <https:\/\/circleci.com\/gh\/hyperledger\/iroha>","attachments":[{"title":"Continuous Integration and Deployment","title_link":"https:\/\/circleci.com\/gh\/hyperledger\/iroha","text":"Hosted Continuous Integration for web applications. Set up your application for testing in one click, on the fastest testing platform on the internet.","fallback":"Continuous Integration and Deployment","from_url":"https:\/\/circleci.com\/gh\/hyperledger\/iroha","service_icon":"https:\/\/circleci.com\/favicon.ico","service_name":"circleci.com","id":1}],"ts":"1477395171.001916","reactions":[{"name":"+1","users":["U0KM61BCP"],"count":1}]},{"type":"message","user":"U0ZJZBJLF","text":"what's circle-ci?","ts":"1477395318.001918"},{"type":"message","user":"U115YGEH1","text":"It\u2019s a ci platform, like jenkins or travis.","ts":"1477395864.001919"},{"type":"message","user":"U115YGEH1","text":"From our experience, it seems to be the fastest and one of the easiest to use.","ts":"1477395890.001920"},{"type":"message","user":"U115YGEH1","text":"It costs money usually, but is free for open source projects.","ts":"1477395905.001921"},{"type":"message","user":"U0ZJZBJLF","text":"can it integrate with gerrit?","ts":"1477397313.001922"},{"type":"message","user":"U115YGEH1","text":"no idea :slightly_smiling_face:","ts":"1477398993.001923"},{"type":"message","user":"U115YGEH1","text":"I am pretty sure you can put in any arbitrary git hook","ts":"1477399008.001924"},{"type":"message","user":"U11HH3P7Y","text":"<@U0ZJZBJLF> :  we are still skipping the result of BDD tests in CI pipeline. But if your patch set relates to BDD or if it impacts BDD tests, then please look into the failure","ts":"1477400019.001925"},{"type":"message","user":"U0ZJZBJLF","text":"it's not....","ts":"1477400031.001926"},{"type":"message","user":"U0ZJZBJLF","text":"then how did I get -1 from the CI if the unit tests succeeded? :confused:","ts":"1477400048.001927"},{"type":"message","user":"U11HH3P7Y","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-behave-x86_64\/909\/> : FAILURE (skipped)","ts":"1477400081.001928"},{"type":"message","user":"U11HH3P7Y","text":"overall build status is +1","ts":"1477400134.001929"},{"type":"message","user":"U0ZJZBJLF","text":"I rebased, I could swear it was a red -1 :slightly_smiling_face:","ts":"1477400167.001930"},{"type":"message","user":"U0ZJZBJLF","text":"nevermind though, now it's green","ts":"1477400208.001931"},{"type":"message","user":"U11HH3P7Y","text":"yes","ts":"1477400213.001932"},{"type":"message","user":"U0ZJZBJLF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1911\/>","ts":"1477400232.001933"},{"type":"message","user":"U0ZJZBJLF","text":"this one succeeded and I don't see the +1 from jenkins","ts":"1477400242.001934"},{"type":"message","user":"U11HH3P7Y","text":"I don't see any error logs.. Could be network issue..","ts":"1477400415.001935"},{"type":"message","user":"U0ZJZBJLF","text":"the +1 takes too long to reach the web server? :laughing:","ts":"1477400447.001936"},{"type":"message","user":"U0UHG4VP1","text":"the builds for 6 haven\u2019t completed yet.","ts":"1477400756.001937"},{"type":"message","user":"U0UHG4VP1","text":"votes on builds 4 and 5 are discarded as 6 exists","ts":"1477400768.001938"},{"type":"message","user":"U11HH3P7Y","text":"opps I missed that. thanks ry","ts":"1477402630.001939"},{"type":"message","user":"U0YK3KKCY","text":"hi <@U11HH3P7Y>.  Could you please take a look at the Jobbuilder verify stage for my change <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1939\/>.  It looks like for the vagrant step the VM couldn't be started.\nError message: \"Error starting VM: VBoxManage error\"   .....  Thanks.","ts":"1477405760.001940"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KPFAZNF> any inputs on the above error..","ts":"1477406172.001941"},{"type":"message","user":"U0UHG4VP1","text":"<@U0YK3KKCY> I retriggered the build to see if it repeats. I know ghaskins has run into intermittent vagrant issues which don\u2019t reproduce in his setup. also, please note ghaskins is offline for the next week","ts":"1477406397.001942"},{"type":"message","user":"U0YK3KKCY","text":"<@U0UHG4VP1>, thanks very kindly.  much appreciated.","ts":"1477406428.001943"},{"type":"message","user":"U0UHG4VP1","text":"Please note there will be rolling outages in LF infra in general, and HLP infra specifically, as we roll out the Dirty COW mitigations today.","ts":"1477406599.001944"},{"type":"message","user":"U0YQK8WSV","text":"<@U0UHG4VP1> <@U11HH3P7Y>  Do I need to keep list of maintainers for fabric-sdk-java in a file?","ts":"1477426895.001945"},{"type":"message","user":"U0YQK8WSV","text":"where should it be?","ts":"1477426900.001946"},{"type":"message","user":"U0UHG4VP1","text":"pvishnum currently fabric is doing that here for instance: <https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=fabric.git;a=blob;f=docs\/MAINTAINERS.md;h=1ef42eba6e81427eff09ef965d5f2842db826d5b;hb=HEAD>","ts":"1477426997.001947"},{"type":"message","user":"U0UHG4VP1","text":"pvishnum I suspect you could put that in \/ or docs\/ if you like","ts":"1477427020.001948"},{"type":"message","user":"U0YQK8WSV","text":"ok.. Binh was mentioning gerritt can read that file and automatically grant right privileges","ts":"1477427157.001949"},{"type":"message","user":"U0YQK8WSV","text":"is that correct?","ts":"1477427160.001950"},{"type":"message","user":"U0UHG4VP1","text":"pvishnum it might be able to but it isn't configured to do so. I \"automagically\" update it by hand :slightly_smiling_face:","ts":"1477429238.001951"},{"type":"message","user":"U0YQK8WSV","text":":slightly_smiling_face:","ts":"1477429702.001952"},{"user":"U1VG8LNP3","text":"<@U1VG8LNP3|yaoguo> has joined the channel","type":"message","subtype":"channel_join","ts":"1477461403.001953"},{"type":"message","user":"U0YK3KKCY","text":"<@U0UHG4VP1>, thanks again for running the verify build job for my change <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1939\/> .... Same error. Oh well.  I'll check in with <@U0KPFAZNF> when he gets back.","ts":"1477491344.001954"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: please add all available power nodes in sandbox environment to test to verify whether these machines are ready for testing or not.","ts":"1477496690.001955"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> please disable the -vagrant build in fabric-baseimage (for now)","ts":"1477497661.001956"},{"type":"message","user":"U0KPFAZNF","text":"its not reliable and causing problems getting unrelated CI V+1","ts":"1477497688.001957"},{"type":"message","user":"U11HH3P7Y","text":"ok will do that","ts":"1477497702.001958"},{"type":"message","user":"U0KPFAZNF","text":"ill have to manually submit vagrant builds for now","ts":"1477497704.001959"},{"type":"message","user":"U0KPFAZNF","text":"ty","ts":"1477497705.001960"},{"type":"message","user":"U0KPFAZNF","text":"(or at least make them optional, like behave","ts":"1477497732.001961"},{"type":"message","user":"U0KPFAZNF","text":"i just dont want them to block a V+1","ts":"1477497741.001962"},{"type":"message","user":"U0YK3KKCY","text":"<@U0KPFAZNF>, thanks for the comments on my fabric-baseimage change. i've replied, but not sure why my replies are in draft status.  trying to get used to this gerrit thing.","ts":"1477498853.001963"},{"type":"message","user":"U0KPFAZNF","text":"You have to finalize it with a \"reply\" at the top\/center of the UI","ts":"1477500703.001964"},{"type":"message","user":"U0KPFAZNF","text":"It's confusing ","ts":"1477500715.001965"},{"type":"message","user":"U0YK3KKCY","text":"yeah, google was my friend.  it was another complaint about the  UI... i replied.","ts":"1477502390.001966"},{"type":"message","user":"U0KPFAZNF","text":"Thanks <@U0YK3KKCY>","ts":"1477503186.001967"},{"type":"message","user":"U0KPFAZNF","text":"<@U11NUTP4L> the nodejs comment probably applies to power too...<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1939\/>","ts":"1477503209.001968"},{"type":"message","user":"U0KPFAZNF","text":"any thoughts?","ts":"1477503212.001969"},{"type":"message","user":"U0UHG4VP1","text":"ramesh: I added all of the nodes to sandbox. I also noticed these jobs are _probably_ accidentally tied to power-1: <https:\/\/jenkins.hyperledger.org\/computer\/hyp-power-1\/> you might update the label for those jobs to run against hyp-fabric-power label instead of hyp-power-1 label","ts":"1477503850.001970"},{"type":"message","user":"U11HH3P7Y","text":"sure thank you","ts":"1477503906.001971"},{"type":"message","user":"U11NUTP4L","text":"<@U0KPFAZNF> Yes. Support for power (ppc64le) is available from Node v5.7.0 only. I am okay with having the same code from line 137 for ppc64le. I can create a quick patch and push for the same","ts":"1477504071.001972","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U11NUTP4L","text":"in fact we are following same code in fabric-baseimage.git","ts":"1477504091.001973"},{"type":"message","user":"U11NUTP4L","text":"<https:\/\/github.com\/hyperledger\/fabric-baseimage\/blob\/master\/scripts\/common\/setup.sh>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-baseimage","title_link":"https:\/\/github.com\/hyperledger\/fabric-baseimage\/blob\/master\/scripts\/common\/setup.sh","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric-baseimage>","fallback":"GitHub: hyperledger\/fabric-baseimage","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-baseimage\/blob\/master\/scripts\/common\/setup.sh","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1477504136.001974"},{"type":"message","user":"U0UHG4VP1","text":"I added a node type hyp-x86_64-GO173 to production with go 1.7.3 baked in. If you have a job that needs go 1.7, you may change your job from hyp-x86_64 to pick it up","ts":"1477504267.001976"},{"type":"message","user":"U0KPFAZNF","text":"<@U11NUTP4L> interesting, I wonder why it shows up as conditional in <@U0YK3KKCY> \u2019s patch","ts":"1477504577.001977"},{"type":"message","user":"U11NUTP4L","text":"Oh That\u2019s because its v0.6 branch :slightly_smiling_face:","ts":"1477504636.001978"},{"type":"message","user":"U0KPFAZNF","text":"no, this is baseimage, but I figured it out","ts":"1477504742.001979"},{"type":"message","user":"U0KPFAZNF","text":"I think <@U0YK3KKCY> copied an older version of the code on top of the new one\u2026long story short, no action on your part <@U11NUTP4L>","ts":"1477504778.001980"},{"type":"message","user":"U0KPFAZNF","text":"you are already positioned to consume the upstream nodejs in master::HEAD","ts":"1477504794.001981"},{"type":"message","user":"U0YK3KKCY","text":"i have since removed the ppc and s390x block for nodejs installation","ts":"1477504820.001982"},{"type":"message","user":"U11NUTP4L","text":"oh yeah. I got confused. thought he was trying to patch v0.6. we are fine on fabric-baseimage","ts":"1477504821.001983"},{"type":"message","user":"U0YK3KKCY","text":"i will upload changes","ts":"1477504828.001984","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0YK3KKCY","text":"tested fine with x86 and s390x","ts":"1477504837.001985"},{"type":"message","user":"U11NUTP4L","text":"<@U0YK3KKCY> If you are okay with v6.7.0 nodejs on s390x, I guess we could just leave the NodeJS install section as is","ts":"1477504968.001986"},{"type":"message","user":"U0YK3KKCY","text":"i am. it installed just fine.","ts":"1477504990.001987"},{"type":"message","user":"U11NUTP4L","text":"Also, why are we moving to IBM Java from OpenJDK ?","ts":"1477504996.001988"},{"type":"message","user":"U0YK3KKCY","text":"openjdk for s390x does not have JIT","ts":"1477505012.001989"},{"type":"message","user":"U0YK3KKCY","text":"other optimizations for the hw as well","ts":"1477505024.001990"},{"type":"message","user":"U11NUTP4L","text":"But has been working fine for Power though..","ts":"1477505038.001991"},{"type":"message","user":"U0YK3KKCY","text":"ok","ts":"1477505066.001992"},{"type":"message","user":"U0KPFAZNF","text":"So you both are aware, there is a bug in ibmjava that has ramifications for using it","ts":"1477505075.001993"},{"type":"message","user":"U11NUTP4L","text":"ok. I haven\u2019t tested with IBM Java.. optimizations for hw is a point","ts":"1477505077.001994"},{"type":"message","user":"U0YK3KKCY","text":"i will remove the \"or\" statement for ppc on java install","ts":"1477505078.001995"},{"type":"message","user":"U0YK3KKCY","text":"just one bug? :slightly_smiling_face:","ts":"1477505100.001996","reactions":[{"name":"grinning","users":["U11NUTP4L"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"<@U10Q62R8X> has, for the most part, mitigated the issue for now, but it would be highly desirable to get it fixed rather than worked around","ts":"1477505141.001997"},{"type":"message","user":"U0YK3KKCY","text":"understand","ts":"1477505167.001998"},{"type":"message","user":"U0KPFAZNF","text":"the issue is it cannot run the \u201cchaintool\u201d binary","ts":"1477505175.001999"},{"type":"message","user":"U0YK3KKCY","text":"one small step at a time","ts":"1477505176.002000"},{"type":"message","user":"U0KPFAZNF","text":"right","ts":"1477505178.002001"},{"type":"message","user":"U0KPFAZNF","text":"workaround is you can explicitly launch it with \u201cjava -jar chaintool\"","ts":"1477505200.002002"},{"type":"message","user":"U0YK3KKCY","text":"yes","ts":"1477505204.002003"},{"type":"message","user":"U10Q62R8X","text":"<@U0YK3KKCY> <@U11HH3P7Y> flying back to toronto.. on the tarmac now, sorry for the slow responses last couple of days","ts":"1477505213.002004"},{"type":"message","user":"U0YK3KKCY","text":"i think binfmts is setup to issue java -jar for openjdk on ubuntu (??)","ts":"1477505246.002005"},{"type":"message","user":"U0KPFAZNF","text":"nbd for now, just wanted to make sure you were both aware that selecting ibmjava has a potential problem","ts":"1477505274.002006"},{"type":"message","user":"U0YK3KKCY","text":"yes, i think one of the proposed changes was to update car\/package.go","ts":"1477505351.002007"},{"type":"message","user":"U0YK3KKCY","text":"buf = append(buf, fmt.Sprintf(\"RUN java -jar \/usr\/local\/bin\/chaintool buildcar \/tmp\/package.car -o $GOPATH\/bin\/%s &amp;&amp; rm \/tmp\/package.car\", spec.ChaincodeID.Name))","ts":"1477505354.002008"},{"type":"message","user":"U0YK3KKCY","text":"another time, another change","ts":"1477505368.002009"},{"type":"message","user":"U0KPFAZNF","text":"yeah, i think that went in actually","ts":"1477505376.002010"},{"type":"message","user":"U0KPFAZNF","text":"but thats just a bandaid","ts":"1477505381.002011"},{"type":"message","user":"U0YK3KKCY","text":"oh really","ts":"1477505382.002012"},{"type":"message","user":"U0KPFAZNF","text":"if someone tries to work with chaintool on a platform with ibmjava, they are likely to be annoyed by that","ts":"1477505403.002013"},{"type":"message","user":"U0YK3KKCY","text":"how does openjdk get called when calling the chaintool executable?","ts":"1477505408.002014"},{"type":"message","user":"U0YK3KKCY","text":"binfmts?","ts":"1477505421.002015"},{"type":"message","user":"U0YK3KKCY","text":"or inherent in openjdk","ts":"1477505446.002016"},{"type":"message","user":"U0KPFAZNF","text":"in summary, I am using \u201clein-bin\u201d (<https:\/\/github.com\/Raynes\/lein-bin>) which exploits a property of zip files that ignore data prior to the zip header","attachments":[{"service_name":"GitHub","title":"Raynes\/lein-bin","title_link":"https:\/\/github.com\/Raynes\/lein-bin","text":"lein-bin - Standalone console executables for your project.","fallback":"GitHub: Raynes\/lein-bin","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/54435?v=3&s=400","from_url":"https:\/\/github.com\/Raynes\/lein-bin","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1477505463.002017"},{"type":"message","user":"U0KPFAZNF","text":"in this context, it emits a bash script as a preamble in front of the JAR","ts":"1477505483.002019"},{"type":"message","user":"U0KPFAZNF","text":"apparently this is a relatively widely known\/supported trick, such that both maven and leiningen provide plugins to make self-executing java apps","ts":"1477505534.002020"},{"type":"message","user":"U0YK3KKCY","text":"and this cannot be done on s390x?","ts":"1477505552.002021"},{"type":"message","user":"U0KPFAZNF","text":"and openjdk\/oracle-java support it, but ibmjava doesnt IFF you also use -Xbootclasspath","ts":"1477505556.002022"},{"type":"message","user":"U0YK3KKCY","text":"ok","ts":"1477505562.002023"},{"type":"message","user":"U0YK3KKCY","text":"just enough of a difference to cause headaches. :slightly_smiling_face:","ts":"1477505581.002024"},{"type":"message","user":"U0KPFAZNF","text":"its not Z specifically, its a problem if you use preamble + -Xbootpath + ibmjava","ts":"1477505585.002025"},{"type":"message","user":"U0YK3KKCY","text":"ok","ts":"1477505590.002026"},{"type":"message","user":"U0YK3KKCY","text":"time for an advil, my head hurts. ha","ts":"1477505618.002027"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1477505636.002028"},{"type":"message","user":"U0KPFAZNF","text":"one potential solution is I can turn off -Xbootclasspath, but then the startup time noticeably declines in most environments","ts":"1477505669.002029"},{"type":"message","user":"U0KPFAZNF","text":"another option is I can fork\/hack lein-bin to emit a preamble that checks for ibmjava and works around it","ts":"1477505694.002030"},{"type":"message","user":"U0KPFAZNF","text":"the best option would be if ibmjava worked the same as openjdk\/oracle ;","ts":"1477505709.002031"},{"type":"message","user":"U0KPFAZNF","text":":wink:","ts":"1477505710.002032"},{"type":"message","user":"U0KPFAZNF","text":"but, that is admittedly also the easiest option for me","ts":"1477505723.002033"},{"type":"message","user":"U0YK3KKCY","text":"ha","ts":"1477505752.002034"},{"type":"message","user":"U0YK3KKCY","text":"<@U11NUTP4L> i can remove the installation of IBM Java for ppc if you like...","ts":"1477505827.002035"},{"type":"message","user":"U0YK3KKCY","text":"if [ x$MACHINE = xs390x -o x$MACHINE = xppc64le ]  (delete or statement)","ts":"1477505844.002036"},{"type":"message","user":"U11NUTP4L","text":"<@U0YK3KKCY> I am bought in with your comment on the  hw optimization. But haven\u2019t tested it. if you have valiadated it on ppc64le, then I am okay","ts":"1477505888.002037"},{"type":"message","user":"U0YK3KKCY","text":"i have not validated it on ppc... i have access to x and z, but still waiting for ppc guest.","ts":"1477505918.002038"},{"type":"message","user":"U11NUTP4L","text":"ok. the update to PR will anyway trigger a build on ppc64le for fabric-baseimage.git","ts":"1477505957.002039"},{"type":"message","user":"U0YK3KKCY","text":"ok","ts":"1477505968.002040"},{"type":"message","user":"U11NUTP4L","text":"Hoping the unit-tests don\u2019t fail","ts":"1477505969.002041"},{"type":"message","user":"U0YK3KKCY","text":"yeah","ts":"1477505975.002042"},{"type":"message","user":"U0YK3KKCY","text":"alright will upload changes in a bit","ts":"1477505984.002043"},{"type":"message","user":"U11NUTP4L","text":"or looking at the discussion, it might break for java car\/package.go Let\u2019s see how build goes","ts":"1477506044.002044"},{"type":"message","user":"U0YK3KKCY","text":"k","ts":"1477506058.002045"},{"type":"message","user":"U11NUTP4L","text":"<@U0KPFAZNF> Regarding #1671, I thought you were fine with these changes as its just for v0.6 and for master I put up another patch with proper tagging in the docker file. Is the patch okay for now ?","ts":"1477506111.002046"},{"type":"message","user":"U0YK3KKCY","text":"patchset uploaded for 1939","ts":"1477506388.002047"},{"type":"message","user":"U0YK3KKCY","text":"<@U0KPFAZNF>, hopefully i've eliminated those pesky whitespace chars... just for good measure i deleted an extra line found in the middle of the script.  patchsetup loaded","ts":"1477509807.002048"},{"type":"message","user":"U0KPFAZNF","text":"ty","ts":"1477509819.002049"},{"type":"message","user":"U0KPFAZNF","text":"I just +2\u2019d it\u2026once we get it verified, etc, I will propose a v0.2.1 release to the pipeline","ts":"1477509941.002050"},{"type":"message","user":"U0KPFAZNF","text":"unless there is any more work outstanding? <@U0YK3KKCY> <@U11NUTP4L>","ts":"1477509964.002051"},{"type":"message","user":"U0YK3KKCY","text":"right now i can't think of anything. i'm sure tomorrow will be different.","ts":"1477509994.002052"},{"user":"U2MCH9EEB","text":"<@U2MCH9EEB|crazybit> has left the channel","type":"message","subtype":"channel_leave","ts":"1477581973.002053"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KM61BCP> <@U13TWBRBL> Need git repository \/ any doc hosting server which support node-sdk documentation (html files)","ts":"1477584590.002054"},{"user":"U13TWBRBL","inviter":"U11HH3P7Y","text":"<@U13TWBRBL|jzhang> has joined the channel","type":"message","subtype":"channel_join","ts":"1477584601.002055"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1> seems Jenkins is shutting down.. Any planned outage?","ts":"1477584826.002056"},{"type":"message","user":"U0UHG4VP1","text":"ramesh installing new plugins, it will be back in under a minute once it bounces","ts":"1477584867.002057"},{"type":"message","user":"U11HH3P7Y","text":"oh ok","ts":"1477584879.002058"},{"type":"message","user":"U0KM61BCP","text":"<@U11HH3P7Y>: <@U0UHG4VP1> we should be able to host generated html, no?","ts":"1477585710.002059"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP> sure. <@U11HH3P7Y> why not RTD?","ts":"1477586655.002060"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> because we aren't including generated content in scm","ts":"1477586948.002061"},{"type":"message","user":"U0KM61BCP","text":"and RTD uses git hosted source to generate docs","ts":"1477586970.002062"},{"type":"message","user":"U0UHG4VP1","text":"cbf: thank you, I forgot that","ts":"1477586989.002063"},{"type":"message","user":"U0KM61BCP","text":"we want to build the sdk docs using jsdocs or whatever","ts":"1477587006.002064"},{"type":"message","user":"U0KM61BCP","text":"and host the generated content as external link from RTD","ts":"1477587033.002065"},{"type":"message","user":"U0UHG4VP1","text":"so something like docs.hlp, with the top page being an index of project documentation that Jenkins could generate and push?","ts":"1477587154.002066"},{"type":"message","user":"U0UHG4VP1","text":"or, alternately, we could have a documentation repo that people\/CI push generated documentation to that the website reads from.","ts":"1477587205.002067"},{"type":"message","user":"U0UHG4VP1","text":"ramesh: I've added a read-only job configuration view: <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/configure-readonly\/> for example.","ts":"1477587512.002068"},{"type":"message","user":"U11HH3P7Y","text":"perfect","ts":"1477587636.002069"},{"type":"message","user":"U11HH3P7Y","text":"any changes required from JJB?","ts":"1477587650.002070"},{"type":"message","user":"U11HH3P7Y","text":"ok I got it..","ts":"1477587711.002071"},{"type":"message","user":"U11HH3P7Y","text":"ry: seems build are stuck in queue.. could you please check","ts":"1477599118.002072","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0YK3KKCY","text":"<@U11HH3P7Y>, <@U11NUTP4L> ... i now have access to a ppcle machine for testing.  so now i have  access to x, z, and p","ts":"1477600760.002073","reactions":[{"name":"+1","users":["U11NUTP4L"],"count":1}]},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> in the future when things are messed up like this please file a ticket <mailto:helpdesk@hyperledger.org|helpdesk@hyperledger.org> so people other than myself see it. asking in slack is A OK but if you don't get a response from me in a half hour file a ticket","ts":"1477608533.002074"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> also, I'm looking into it now","ts":"1477608542.002075"},{"type":"message","user":"U11HH3P7Y","text":"sure ry will do this from next time..","ts":"1477611383.002076"},{"type":"message","user":"U0UHG4VP1","text":"ramesh thank you. I have filed a ticket with our hosting provider","ts":"1477611401.002077"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y>: CI is working now.","ts":"1477612459.002078"},{"type":"message","user":"U11HH3P7Y","text":"thanks ry","ts":"1477613047.002079"},{"type":"message","user":"U0YK3KKCY","text":"<@U11NUTP4L> i tested the fabric-baseimage make docker-local command on my ppcle system.  for the go installation, the GROOT environment variable that is being set in the setup.sh script (\/usr\/local\/go) is being overridden by the ENV GOROOT=\/opt\/go statement in the <http:\/\/Dockerfile.in|Dockerfile.in> file.  This doesn't break anything as long as GOPATH is set correctly, but I just wanted to bring it to your attention.  Perhaps this has been discussed before, if so, please disregard.","ts":"1477666614.002080"},{"type":"message","user":"U0YK3KKCY","text":"<@U11HH3P7Y>, i have an externally accessible z Systems Linux machine.  can i work with you to get this machine integrated into the sandbox and test fabric-baseimage builds?","ts":"1477667241.002081"},{"type":"message","user":"U11HH3P7Y","text":"sure.. Please share system details with ry so that he will integrate in sandbox","ts":"1477667291.002082"},{"type":"message","user":"U0YK3KKCY","text":"<@U11HH3P7Y> thanks.... <@U0UHG4VP1> if you could send me a public key to add to the external machine, i'll add it in and then provide you with the ip address.","ts":"1477667349.002083"},{"type":"message","user":"U0UHG4VP1","text":"harrijk OK let me dig it up","ts":"1477667366.002084"},{"type":"message","user":"U0YK3KKCY","text":"<@U0UHG4VP1> great, thanks.","ts":"1477667378.002085"},{"type":"message","user":"U1HFNJB50","text":"Hi, I have following CR 2023 (<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2023\/>) which is constantly failing in CI each time due to different problem.","ts":"1477830009.002086"},{"type":"message","user":"U1HFNJB50","text":"Also the failing peaces has nothing to do w\/ CR code itself","ts":"1477830037.002087"},{"type":"message","user":"U1HFNJB50","text":"Is there a clear way to identify where the problem is?","ts":"1477830060.002088"},{"type":"message","user":"U1HFNJB50","text":"Looks like ```11:39:31 Failing scenarios:\n11:39:31   features\/endorser.feature:37  Basic deploy endorsement for chaincode through GRPC to multiple ``` main cause for the failure","edited":{"user":"U1HFNJB50","ts":"1477835311.000000"},"ts":"1477835253.002089"},{"type":"message","user":"U1HFNJB50","text":"I have another CR 2101, which also fails due to the same symptoms as in CR `2023`","ts":"1477835299.002090"},{"type":"message","user":"U11HH3P7Y","text":"<@U1HFNJB50>: please refer this issue <https:\/\/jira.hyperledger.org\/browse\/FAB-898>","ts":"1477843183.002092"},{"type":"message","user":"U1HFNJB50","text":"<@U11HH3P7Y> done","ts":"1477843320.002093"},{"type":"message","user":"U11HH3P7Y","text":"regarding unit-test failure <https:\/\/jira.hyperledger.org\/browse\/FAB-909>","ts":"1477843351.002094"},{"type":"message","user":"U11HH3P7Y","text":"this issue inconsistently reproducing.. will re-run your build again","ts":"1477843374.002095"},{"type":"message","user":"U11HH3P7Y","text":"ok I think you have restarted the build","ts":"1477843422.002096"},{"type":"message","user":"U1HFNJB50","text":"yes, since it looks like intermittent issue w\/ CI","ts":"1477843485.002097"},{"type":"message","user":"U0ULK2JPP","text":"<@U11HH3P7Y> will look at FAB-898 shortly \u2026 is behave not skipped in CI ?","edited":{"user":"U0ULK2JPP","ts":"1477843604.000000"},"ts":"1477843593.002098"},{"type":"message","user":"U11HH3P7Y","text":"it's skipped","ts":"1477843604.002099"},{"type":"message","user":"U11HH3P7Y","text":"both unit and behave tests failed in CR 2023","ts":"1477843631.002101"},{"type":"message","user":"U0ULK2JPP","text":"ok, so the FAB-898 failure is not holding anything back ?","ts":"1477843638.002102"},{"type":"message","user":"U0ULK2JPP","text":"the  CR 2023 (<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2023\/>)  is due to the usual sporadic crypto failures","ts":"1477843714.002103"},{"type":"message","user":"U0ULK2JPP","text":"hopefully the reverify will take care of it","ts":"1477843724.002104"},{"type":"message","user":"U11HH3P7Y","text":"yes it's not holding back CR's","ts":"1477843744.002105"},{"type":"message","user":"U1HFNJB50","text":"well, I\u2019ve tried to re-build it several times during the day","ts":"1477843758.002106"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1477843772.002107"},{"type":"message","user":"U1HFNJB50","text":"although it seems to be sporadic failure, it constantly keep failing :slightly_smiling_face:","ts":"1477843801.002108"},{"type":"message","user":"U0ULK2JPP","text":"yes\u2026I\u2019ve noticed sometimes the 10th time\u2019s the charm :slightly_smiling_face:","ts":"1477843836.002109"},{"type":"message","user":"U0ULK2JPP","text":"let me open a bug against the annoying crypto failure","ts":"1477843844.002110"},{"type":"message","user":"U1HFNJB50","text":"<@U0ULK2JPP> sure, thanks","ts":"1477843860.002111"},{"type":"message","user":"U11HH3P7Y","text":"we have one FAB909","ts":"1477843862.002112"},{"type":"message","user":"U11HH3P7Y","text":"<https:\/\/jira.hyperledger.org\/browse\/FAB-909>","ts":"1477843871.002113"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1477843941.002114"},{"type":"message","user":"U0ULK2JPP","text":"however if you look at the logs, its a bit different","ts":"1477843952.002115"},{"type":"message","user":"U0ULK2JPP","text":"the latest error is due to the concurrent map write panic from go-logging","ts":"1477843978.002116"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F2W1YRB0C\/pasted_image_at_2016_10_30_12_12_pm.png|Pasted image at 2016-10-30, 12:12 PM>","file":{"id":"F2W1YRB0C","created":1477843982,"timestamp":1477843982,"name":"Pasted image at 2016_10_30 12_12 PM.png","title":"Pasted image at 2016-10-30, 12:12 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":258478,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2W1YRB0C\/pasted_image_at_2016_10_30_12_12_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2W1YRB0C\/download\/pasted_image_at_2016_10_30_12_12_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2W1YRB0C-2a1fda8030\/pasted_image_at_2016_10_30_12_12_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2W1YRB0C-2a1fda8030\/pasted_image_at_2016_10_30_12_12_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2W1YRB0C-2a1fda8030\/pasted_image_at_2016_10_30_12_12_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":133,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2W1YRB0C-2a1fda8030\/pasted_image_at_2016_10_30_12_12_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":178,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2W1YRB0C-2a1fda8030\/pasted_image_at_2016_10_30_12_12_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2W1YRB0C-2a1fda8030\/pasted_image_at_2016_10_30_12_12_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":267,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2W1YRB0C-2a1fda8030\/pasted_image_at_2016_10_30_12_12_pm_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":356,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2W1YRB0C-2a1fda8030\/pasted_image_at_2016_10_30_12_12_pm_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":379,"image_exif_rotation":1,"original_w":1900,"original_h":704,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F2W1YRB0C\/pasted_image_at_2016_10_30_12_12_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2W1YRB0C-cbd3264e7e","channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1477843985.002117"},{"type":"message","user":"U0ULK2JPP","text":"I think its worth opennig a bug just for that","ts":"1477843997.002118"},{"type":"message","user":"U11HH3P7Y","text":"ok","ts":"1477844009.002119"},{"type":"message","user":"U0ULK2JPP","text":"as that\u2019s the one usually causing the repeated \u201csporadic\u201d failures","ts":"1477844031.002120"},{"type":"message","user":"U1HFNJB50","text":"<@U0ULK2JPP> isn\u2019t that a viper lib which caused panic?","ts":"1477844164.002121"},{"type":"message","user":"U1HFNJB50","text":"I cannot find evidence why this is `go-logging` though","ts":"1477844193.002122"},{"type":"message","user":"U0ULK2JPP","text":"oh. you may be right","ts":"1477844212.002123"},{"type":"message","user":"U0ULK2JPP","text":"I didn\u2019t look closely.","ts":"1477844229.002124"},{"type":"message","user":"U0ULK2JPP","text":"we have seen map panic from go-logging too and I jumped to conclussions","ts":"1477844271.002125"},{"type":"message","user":"U0ULK2JPP","text":"let me check","ts":"1477844281.002126"},{"type":"message","user":"U0ZJZBJLF","text":"the stack trace doesn't seem connected to the logging issue","ts":"1477844334.002127"},{"type":"message","user":"U0ULK2JPP","text":"no, it is not","ts":"1477844349.002128"},{"type":"message","user":"U0ULK2JPP","text":"thanks for checking <@U1HFNJB50>","ts":"1477844375.002129"},{"type":"message","user":"U0ULK2JPP","text":"will open a bug with the right comments","ts":"1477844394.002130"},{"type":"message","user":"U1HFNJB50","text":"gr8, thanks","ts":"1477844616.002131"},{"type":"message","user":"U11HH3P7Y","text":"murali please link 909 to your new issue if they are same","ts":"1477844643.002132"},{"type":"message","user":"U0ULK2JPP","text":"let me check","ts":"1477844660.002133"},{"type":"message","user":"U0ULK2JPP","text":"they are different...","edited":{"user":"U0ULK2JPP","ts":"1477844735.000000"},"ts":"1477844716.002134"},{"type":"message","user":"U0ULK2JPP","text":"opened <https:\/\/jira.hyperledger.org\/browse\/FAB-910> and assigned to <@U0ZR63HLK>","edited":{"user":"U0ULK2JPP","ts":"1477844764.000000"},"ts":"1477844754.002136"},{"type":"message","user":"U11HH3P7Y","text":"ok thanks <@U0ULK2JPP> <@U1HFNJB50>","ts":"1477844774.002138"},{"type":"message","user":"U0ULK2JPP","text":"<@U11HH3P7Y> I\u2019m not going to look at  <https:\/\/jira.hyperledger.org\/browse\/FAB-898> just yet given behave tests are skipped anyway","ts":"1477844877.002139"},{"type":"message","user":"U11HH3P7Y","text":"ok","ts":"1477844925.002140"},{"type":"message","user":"U11HH3P7Y","text":"re-triggered CR 2023 in jenkins..","ts":"1477844959.002141"},{"type":"message","user":"U10Q62R8X","text":"<@U11HH3P7Y> <@U0KPFAZNF> FYI: I talked with <@U0YK3KKCY> on Friday night, passing along some of the things I worked on, and several machines I got access to.","ts":"1477857031.002142"},{"type":"message","user":"U221LL03Z","text":"<@U0ULK2JPP> , that is definitely a bug based on the log that you have posted. Looks like SQL Lite DB concurrency problem. So , I agree , a bug should be opened. If you can open a bug and recreate the problem , I might be able to put a fix.","ts":"1477863268.002143"},{"type":"message","user":"U221LL03Z","text":"Never mind , I see , you have assigned FAB-910 to Angelo <@U0ZR63HLK>.","edited":{"user":"U221LL03Z","ts":"1477864014.000000"},"ts":"1477863515.002144"},{"type":"message","user":"U0ULK2JPP","text":"<@U221LL03Z> if you want I can assign to you","ts":"1477871992.002146"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019m sure <@U0ZR63HLK> won\u2019t mind :slightly_smiling_face:","ts":"1477872004.002147"},{"type":"message","user":"U0ULK2JPP","text":"<@U221LL03Z> assigned to you","ts":"1477872043.002148"},{"type":"message","user":"U0YK3KKCY","text":"hi <@U11HH3P7Y>. i don't see <@U0UHG4VP1> online.  would you be able to bring online the hyp-z-linuxone-3 agent in the jenkins sandbox?  i believe that i have resolved the initial login issue.","ts":"1477930233.002149"},{"type":"message","user":"U11HH3P7Y","text":"I don't have access to do that","ts":"1477930287.002150"},{"type":"message","user":"U0UHG4VP1","text":"harrijk I'm around, late start","ts":"1477930389.002151"},{"type":"message","user":"U0YK3KKCY","text":"ah cool. tnx","ts":"1477930404.002152"},{"type":"message","user":"U0YK3KKCY","text":"hopefully i've resolved the issue","ts":"1477930413.002153"},{"type":"message","user":"U0ZJZBJLF","text":"I don't have a green V from gerrit in <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2109\/> despite tests passes, how come?","edited":{"user":"U0ZJZBJLF","ts":"1477941082.000000"},"ts":"1477941039.002154"},{"type":"message","user":"U0UHG4VP1","text":"wrong patchset","ts":"1477941115.002156"},{"type":"message","user":"U0UHG4VP1","text":"patch 2 built, patch 3 has not built yet post-rebase","ts":"1477941141.002157"},{"type":"message","user":"U0ZJZBJLF","text":"oh... ok thanks","ts":"1477941378.002158"},{"user":"U2X087SH4","text":"<@U2X087SH4|rangao> has joined the channel","type":"message","subtype":"channel_join","ts":"1478017256.002159"},{"type":"message","user":"U0ZJZBJLF","text":"can anyone kill <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/2218\/console> please? It's stuck on `19:33:50 e0677b85c416: Pull complete`","ts":"1478029566.002160"},{"type":"message","user":"U0UHG4VP1","text":"<@U0ZJZBJLF> killed","ts":"1478029727.002161"},{"type":"message","user":"U0UHG4VP1","text":"<@U0ZJZBJLF> I see <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/2219\/console> is in a similar place","ts":"1478029761.002162"},{"type":"message","user":"U0ZJZBJLF","text":"can you kill it too please and I reverify?","ts":"1478029902.002163"},{"type":"message","user":"U0ZJZBJLF","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/2220\/console> is also stuck I think","ts":"1478029922.002164"},{"type":"message","user":"U0ZJZBJLF","text":"where is it pulling from? atlas or dockerhub?","ts":"1478029946.002165"},{"type":"message","user":"U0KPFAZNF","text":"CI isnt vagrant based, so would only be interacting with dockerhub","ts":"1478030091.002166"},{"type":"message","user":"U0KPFAZNF","text":"how long has it been in that state?","ts":"1478030157.002167"},{"type":"message","user":"U0KPFAZNF","text":"I do see docker act slow at that step on occasion","ts":"1478030168.002168"},{"type":"message","user":"U0ZJZBJLF","text":"the last is 10 min","ts":"1478030241.002169"},{"type":"message","user":"U0KPFAZNF","text":"thats not out of the realm of normal","ts":"1478030253.002170"},{"type":"message","user":"U0ZJZBJLF","text":"My question you just answered (is it pulling from atlas or dockerhub) remind me of a joke:\nA student walks into an elevator and sees a math professor inside.\nThe student asks \"is this elevator going up, or down?\"\nThe professor answers: \"yes.\"","edited":{"user":"U0ZJZBJLF","ts":"1478030783.000000"},"ts":"1478030264.002171"},{"type":"message","user":"U0KPFAZNF","text":"i am not sure if its slow pulling or slow processing\/unpacking the image, but I have seen that occasionally","ts":"1478030272.002172"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1478030289.002173"},{"type":"message","user":"U0ZJZBJLF","text":"now it's 15 min, sounds fishy to me","ts":"1478030352.002174"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0UHG4VP1> , how long does pass from the moment I ask to gerrit to reverify to the start of a jenkins job? or it's been 7 min and it didn't budge. Is it waiting for available resources or something, or is it possible there is some issue here?","edited":{"user":"U0ZJZBJLF","ts":"1478030803.000000"},"ts":"1478030736.002175"},{"type":"message","user":"U0UHG4VP1","text":"<@U0ZJZBJLF> which change did you try to trigger a reverify for?","ts":"1478031312.002178"},{"type":"message","user":"U0ZJZBJLF","text":"doesn't it start a new one?","ts":"1478031334.002179"},{"type":"message","user":"U0ZJZBJLF","text":"oh you mean which change set","ts":"1478031346.002180"},{"type":"message","user":"U0ZJZBJLF","text":"the last of course","ts":"1478031354.002181"},{"type":"message","user":"U0ZJZBJLF","text":"12","ts":"1478031366.002182"},{"type":"message","user":"U0UHG4VP1","text":"this is the change? <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2113\/>","ts":"1478031432.002183"},{"type":"message","user":"U0ZJZBJLF","text":"positive, I'm trying to make it merged before I go to sleep because when it's morning here tomorrow it'll block 2 guys from my team (no one will be there in our morning to merge the code)","edited":{"user":"U0ZJZBJLF","ts":"1478031494.000000"},"ts":"1478031485.002184"},{"type":"message","user":"U0UHG4VP1","text":"<@U0ZJZBJLF> I just manually triggered it, not sure why it didn't fire before","ts":"1478031654.002186"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/> build 2222","ts":"1478031662.002187"},{"type":"message","user":"U0ZJZBJLF","text":"thanks :+1:","ts":"1478031698.002188"},{"user":"U0XQ35CDD","text":"<@U0XQ35CDD|kostas> has left the channel","type":"message","subtype":"channel_leave","ts":"1478044867.002189"},{"type":"message","user":"U0ZJZBJLF","text":"Hi. The following patch set failed 3 times in a row because it wasn't been able to fetch `<http:\/\/gopkg.in\/mastersingh24\/fabric-test-resources.v1>` , it's a chaincode test (--&gt; not mine), failed in `TestHTTPExecuteDeployTransaction`. \n<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2167\/3>. I commented \"reverify\" but it didn't start and I don't see any jenkins jobs active at this time. Is it possible to manually start the verify please?","edited":{"user":"U0ZJZBJLF","ts":"1478088286.000000"},"ts":"1478088263.002190"},{"type":"message","user":"U1AU8DRQR","text":"<@U0PB67X4K> :slightly_smiling_face:","ts":"1478089354.002192"},{"type":"message","user":"U0ZJZBJLF","text":"I checked the URI in the test code and I can GET via a browser","ts":"1478089422.002193"},{"type":"message","user":"U1AU8DRQR","text":"it is Gari's repo and I guess a clone of the test resources","ts":"1478089501.002194"},{"type":"message","user":"U0ZJZBJLF","text":"yeah, what I'm saying- I assume that if I can GET via a browser to the repo, it means there is nothing wrong with the repo, it may just be network failures of the CI env","ts":"1478089625.002195"},{"type":"message","user":"U1AU8DRQR","text":"10:41:58 \t\tfatal: unable to access '<https:\/\/gopkg.in\/mastersingh24\/fabric-test-resources.v1\/>': gnutls_handshake() failed: Handshake failed","ts":"1478089803.002196"},{"type":"message","user":"U1AU8DRQR","text":"you may be right","ts":"1478089816.002197"},{"type":"message","user":"U11HH3P7Y","text":"<@U0ZJZBJLF>: re-triggered jobs of this patch set <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2167\/3>","ts":"1478091903.002198","reactions":[{"name":"+1","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U0ZJZBJLF","text":"thanks","ts":"1478091979.002199"},{"type":"message","user":"U1AU8DRQR","text":"<@U0ZJZBJLF> I get the same error as you <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/2228\/consoleFull>","ts":"1478093877.002200"},{"type":"message","user":"U0ZJZBJLF","text":"I think  that's just bad luck, <@U1AU8DRQR> , when ramesh re-triggered it passed this phase (I think)","ts":"1478094047.002201"},{"type":"message","user":"U11HH3P7Y","text":"yes <@U0ZJZBJLF> this time it passed this step","ts":"1478094103.002202"},{"type":"message","user":"U1AU8DRQR","text":"lets see, I rebased it so it will be reverified","ts":"1478094132.002203"},{"type":"message","user":"U11HH3P7Y","text":"yes","ts":"1478094142.002204"},{"type":"message","user":"U11HH3P7Y","text":"hi <@U0UHG4VP1> : reverify\/recheck is not triggering builds ex: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2115\/>","ts":"1478099113.002205"},{"type":"message","user":"U11HH3P7Y","text":"also patch set 3 of above patch build result is not sent back to gerrit","ts":"1478099218.002206"},{"type":"message","user":"U0UHG4VP1","text":"ramesh: I manually triggered 2115","ts":"1478099936.002207"},{"type":"message","user":"U11HH3P7Y","text":"ok thank you","ts":"1478100022.002208"},{"type":"message","user":"U0UHG4VP1","text":"sure thing","ts":"1478100062.002209"},{"type":"message","user":"U0UHG4VP1","text":"it looks like the gerrit trigger changed in the last version bump, so I've set it to revert to the previous version on next restart. in the interim, just let me know you need a manual build started","ts":"1478100645.002210"},{"type":"message","user":"U11HH3P7Y","text":"which version we have now?","ts":"1478100780.002211"},{"type":"message","user":"U0UHG4VP1","text":"2.22.0 which took this change: <https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-30821> our previous version is 2.21.1","ts":"1478100868.002212"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/wiki.jenkins-ci.org\/display\/JENKINS\/Gerrit+Trigger>","ts":"1478100882.002213"},{"type":"message","user":"U0UHG4VP1","text":"I don't know that 30821 caused this change but I suspect it did","ts":"1478100898.002214"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> rolling back to the previous version of the plugin fixed the reverify issues","ts":"1478115794.002215"},{"type":"message","user":"U11HH3P7Y","text":"sure <@U0UHG4VP1>","ts":"1478115812.002216"},{"type":"message","user":"U0YK3KKCY","text":"<@U11HH3P7Y> <@U0UHG4VP1> <@U0KPFAZNF> i was able to complete a successful build of the fabric-baseimage for s390x (using the fabric-docker-images-z job) in the jenkins sandbox.  is there any way to allow the production jenkins to use hyp-z-linuxone-3 for production fabric-baseimage builds? it would be great to finally push out an s390x image to docker hub. tnx","ts":"1478118849.002217"},{"type":"message","user":"U0YK3KKCY","text":"can an agent node be on both sandbox and production? or just one?","edited":{"user":"U0YK3KKCY","ts":"1478118906.000000"},"ts":"1478118887.002218"},{"type":"message","user":"U0UHG4VP1","text":"<@U0YK3KKCY> as best practice, we shouldn't run it on both. In current practice, we do run the power and Z minions on both","ts":"1478119069.002220"},{"type":"message","user":"U0YK3KKCY","text":":slightly_smiling_face:","ts":"1478119082.002221"},{"type":"message","user":"U0UHG4VP1","text":"if you have a concurrent build it will blow up. the usage of sandbox is so very low it hasn't been a concern","ts":"1478119093.002222"},{"type":"message","user":"U0YK3KKCY","text":"&gt; 1 executor on a node?","ts":"1478119115.002223"},{"type":"message","user":"U0YK3KKCY","text":"&gt;1","ts":"1478119118.002224"},{"type":"message","user":"U0YK3KKCY","text":"greater than 1","ts":"1478119124.002225"},{"type":"message","user":"U0UHG4VP1","text":"right, we're coming in sideways though.","ts":"1478119125.002226"},{"type":"message","user":"U0UHG4VP1","text":"it's one executor per connection, and we have two connections, and neither is aware of the other.","ts":"1478119142.002227"},{"type":"message","user":"U0UHG4VP1","text":"they just jump in and smash each other","ts":"1478119148.002228"},{"type":"message","user":"U0UHG4VP1","text":"should I retire -2?","ts":"1478119154.002229"},{"type":"message","user":"U0YK3KKCY","text":"no i need 2 and 4","ts":"1478119166.002230"},{"type":"message","user":"U0YK3KKCY","text":"eventually i'll have 2 and 4 moved to production as well","ts":"1478119183.002231"},{"type":"message","user":"U0UHG4VP1","text":"2 is already hooked up to production, but unused","ts":"1478119215.002232"},{"type":"message","user":"U0YK3KKCY","text":"it shows up as online and ready for work?","ts":"1478119250.002233"},{"type":"message","user":"U0YK3KKCY","text":"ok, well leave 2 alone then. i guess he's fine","ts":"1478119269.002234"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/jenkins.hyperledger.org\/computer\/hyp-z-linuxone-3\/> ready to go","ts":"1478119349.002235"},{"type":"message","user":"U0YK3KKCY","text":"thanks!","ts":"1478119953.002236"},{"type":"message","user":"U0YK3KKCY","text":"<@U11HH3P7Y> <@U0KPFAZNF>... would it be possible to run a fabric-baseimage job in the production jenkins?  not sure what the process is... sorry.","ts":"1478119997.002237"},{"type":"message","user":"U11HH3P7Y","text":"configuring job for z","ts":"1478120026.002238"},{"type":"message","user":"U0YK3KKCY","text":"hyp-z-linuxone-3 should be used","ts":"1478120055.002239"},{"type":"message","user":"U11HH3P7Y","text":"yes. will submit patch in next few mins","ts":"1478120059.002240"},{"type":"message","user":"U0YK3KKCY","text":"tnx much!","ts":"1478120066.002241"},{"type":"message","user":"U0YK3KKCY","text":"will this trigger the pushing of the docker image to docker hub as well?","ts":"1478120080.002242"},{"type":"message","user":"U0KPFAZNF","text":"i would need to cut a new release before it will go out to dockerhub","ts":"1478120660.002243"},{"type":"message","user":"U0KPFAZNF","text":"e.g. v0.2.1","ts":"1478120664.002244"},{"type":"message","user":"U0UHG4VP1","text":"harrijk should I disable -2 on production for now?","ts":"1478120691.002245"},{"type":"message","user":"U0UHG4VP1","text":"to force builds to -3","ts":"1478120699.002246"},{"type":"message","user":"U0YK3KKCY","text":"yes, i think that's a good idea... disable -2 on prod","ts":"1478120718.002247"},{"type":"message","user":"U0UHG4VP1","text":"done","ts":"1478120756.002248"},{"type":"message","user":"U0YK3KKCY","text":"<@U0KPFAZNF> ok. when is the next cut scheduled?","ts":"1478120773.002249"},{"type":"message","user":"U0YK3KKCY","text":"no immediate rush","ts":"1478120789.002250"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> is there a way I could manually fire one?","ts":"1478120791.002251"},{"type":"message","user":"U0KPFAZNF","text":"theres no set schedule, its on demand..we can consider this demand","ts":"1478120800.002252","reactions":[{"name":"+1","users":["U0UHG4VP1","U0YK3KKCY"],"count":2}]},{"type":"message","user":"U0YK3KKCY","text":":thumbsup:","ts":"1478120816.002253"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: what is it you want to accomplish? to you just want to ensure it builds e.g. -verify, or are you trying to do a release?","ts":"1478120851.002254"},{"type":"message","user":"U0UHG4VP1","text":"both, in turn","ts":"1478120872.002255"},{"type":"message","user":"U0KPFAZNF","text":"ok, well the first should be trivial, we just need to trigger the -merge build I would guess","ts":"1478120907.002256"},{"type":"message","user":"U0UHG4VP1","text":"once ramesh gets a change and I merge it","ts":"1478120921.002257"},{"type":"message","user":"U0KPFAZNF","text":"the latter would involve me pushing a CR to gerrit for the new tag","ts":"1478120923.002258"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1478120928.002259"},{"type":"message","user":"U0YK3KKCY","text":"thnx for helping me out.","ts":"1478120941.002260"},{"type":"message","user":"U0UHG4VP1","text":"I see -verify, -merge, and -release jobs. it doesn't look like any of the -release jobs have ever fired","ts":"1478121032.002261"},{"type":"message","user":"U0KPFAZNF","text":"hmm, they should have","ts":"1478121055.002262"},{"type":"message","user":"U0KPFAZNF","text":"i think the -release jobs are still on a manual trigger though","ts":"1478121081.002263"},{"type":"message","user":"U0KPFAZNF","text":"ah, wait, i might remember","ts":"1478121088.002264"},{"type":"message","user":"U0KPFAZNF","text":"i think we used the sandbox jobs for the last release","ts":"1478121095.002265"},{"type":"message","user":"U0UHG4VP1","text":"ah ha","ts":"1478121106.002266"},{"type":"message","user":"U0KPFAZNF","text":"not sure the production jobs are fully working...","ts":"1478121111.002267"},{"type":"message","user":"U0KPFAZNF","text":"we can let <@U0YK3KKCY> light the fire under <@U11HH3P7Y> on that one :wink:","ts":"1478121142.002268","reactions":[{"name":"+1","users":["U0UHG4VP1","U0YK3KKCY"],"count":2}]},{"type":"message","user":"U0YK3KKCY","text":"ha","ts":"1478121154.002269"},{"type":"message","user":"U0YK3KKCY","text":"<@U11HH3P7Y> ^^","ts":"1478121184.002270"},{"type":"message","user":"U0KPFAZNF","text":"whats supposed to happen is that if the -merge job is a +1 and the IS_RELEASE=true, its supposed to trigger the -release job","ts":"1478121201.002271"},{"type":"message","user":"U0KPFAZNF","text":"but I dont think we are quite there yet","ts":"1478121208.002272"},{"type":"message","user":"U11HH3P7Y","text":"we have release jobs ready in production and it triggers all downstream jobs (releases jobs)","ts":"1478121291.002273"},{"type":"message","user":"U0UHG4VP1","text":"I see pollution here from ppc and z: <https:\/\/hub.docker.com\/r\/hyperledger\/fabric-baseimage\/tags\/>","ts":"1478121307.002274"},{"type":"message","user":"U11HH3P7Y","text":"if tag based release I have to use sandbox environment to do that.","ts":"1478121395.002275"},{"type":"message","user":"U0UHG4VP1","text":"strange that the ppc image was pushed with the x86_64","ts":"1478121396.002276"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: release v0.0.10 was a literal by-hand release (predates the pipeline) and v0.2.0 was done on the sandbox","ts":"1478121404.002277"},{"type":"message","user":"U0KPFAZNF","text":"no, that was intentional...the P team made the cutoff for support prior to the v0.2.0 release a few weeks back","ts":"1478121434.002278"},{"type":"message","user":"U0KPFAZNF","text":"Z was still in-progress at the time","ts":"1478121448.002279"},{"type":"message","user":"U0UHG4VP1","text":"oh OK, I thought we were going to use <https:\/\/hub.docker.com\/r\/hyperledger\/fabric-baseimage-ppc64le\/>","ts":"1478121472.002280"},{"type":"message","user":"U0KPFAZNF","text":"if all goes well, we can cut a v0.2.1 across X\/P\/Z","ts":"1478121476.002281"},{"type":"message","user":"U0UHG4VP1","text":"since dockerhub IIRC doesn't support per-platform from one repo","ts":"1478121490.002282"},{"type":"message","user":"U0KPFAZNF","text":"well, thats a different discussion","ts":"1478121494.002283"},{"type":"message","user":"U0KPFAZNF","text":"the code isnt structured to handle name-$arch:$version yet","ts":"1478121508.002284"},{"type":"message","user":"U0UHG4VP1","text":"OK. I'll trust that dockerhub is as it is supposed to be and move one","ts":"1478121522.002285"},{"type":"message","user":"U0KPFAZNF","text":"yeah, its FAD right now","ts":"1478121535.002286"},{"type":"message","user":"U0KPFAZNF","text":"we might migrate to the name-$arch schema at some point, but we need to make some code CRs first","ts":"1478121556.002287"},{"type":"message","user":"U0UHG4VP1","text":"ok.","ts":"1478121575.002288"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y>: no more releases from sandbox, OK?","ts":"1478121599.002289"},{"type":"message","user":"U11HH3P7Y","text":"I am struggling to get tag based releases from main ci-pipeline.. ok will check tag based releases tomorrow and let you know the update","ts":"1478121688.002290"},{"type":"message","user":"U0KPFAZNF","text":"ty","ts":"1478121702.002291"},{"type":"message","user":"U0YK3KKCY","text":"thanks again everyone","ts":"1478121722.002292"},{"type":"message","user":"U11HH3P7Y","text":"ci-management build is failing.. It worked for me while executing locally","ts":"1478122291.002293"},{"type":"message","user":"U0UHG4VP1","text":"hold please","ts":"1478122357.002294"},{"type":"message","user":"U11HH3P7Y","text":"ok","ts":"1478122372.002295"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y>: I rolled forward to the recent build of gerrit and merged it","ts":"1478122896.002296"},{"type":"message","user":"U0UHG4VP1","text":"sorry, the gerrit trigger. Now reverify commands won't work :disappointed:","ts":"1478122910.002297"},{"type":"message","user":"U11HH3P7Y","text":"oh the problem with gerrit trigger version..","ts":"1478122947.002298"},{"type":"message","user":"U0UHG4VP1","text":"I will puzzle on that tommorrow","ts":"1478122986.002299"},{"type":"message","user":"U11HH3P7Y","text":"will try the commands provided in new gerrit trigger rlease in sandbox","ts":"1478123006.002300"},{"type":"message","user":"U11HH3P7Y","text":"sure","ts":"1478123013.002301"},{"type":"message","user":"U11HH3P7Y","text":"will be back online in 30 mins","ts":"1478123022.002302","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U11HH3P7Y","text":"ty","ts":"1478123031.002303"},{"type":"message","user":"U1AU8DRQR","text":"what is this? <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/2297\/console>","ts":"1478170735.002304"},{"type":"message","user":"U0ZJZBJLF","text":"I'd say jenkins crashed","ts":"1478172651.002305"},{"type":"message","user":"U1HFNJB50","text":"Jenkins Git plugin failed to checkout and raised exception","ts":"1478172772.002306"},{"type":"message","user":"U1AU8DRQR","text":"should I retrigger?","ts":"1478175005.002307"},{"type":"message","user":"U0ZJZBJLF","text":"no idea. I see in <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/> that a dozen jobs failed on the same thing","ts":"1478175253.002308"},{"type":"message","user":"U0ZJZBJLF","text":"you could try, maybe that was temporary","ts":"1478175267.002309"},{"type":"message","user":"U1AU8DRQR","text":"oh reverify does not work, right?","ts":"1478175863.002310"},{"type":"message","user":"U0ZJZBJLF","text":"dunno","ts":"1478176117.002311"},{"type":"message","user":"U11HH3P7Y","text":"<@U1AU8DRQR> yes reverify doesn't work. we have issue with gerrit trigger plugin. We are looking into this","edited":{"user":"U11HH3P7Y","ts":"1478179278.000000"},"ts":"1478179117.002312"},{"type":"message","user":"U11HH3P7Y","text":"<@U1AU8DRQR> Seems jenkins is back now.. do you have any jobs to re-trigger?","ts":"1478179320.002314"},{"type":"message","user":"U1AU8DRQR","text":"yes: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2039\/> this is a changeset-chain with 3 commits","ts":"1478180368.002315"},{"type":"message","user":"U1AU8DRQR","text":"thanks","ts":"1478180370.002316"},{"type":"message","user":"U11HH3P7Y","text":"I could see 2039 is successfully executed..","ts":"1478181079.002317"},{"type":"message","user":"U0YK3KKCY","text":"<@U11HH3P7Y> <@U0KPFAZNF> .. any luck with launching a production build of fabric-baseimages and push to docker hub?","edited":{"user":"U0YK3KKCY","ts":"1478184647.000000"},"ts":"1478184596.002318"},{"type":"message","user":"U0YK3KKCY","text":"<@U0KPFAZNF> ^","ts":"1478184605.002319"},{"type":"message","user":"U0KPFAZNF","text":"I was under the understanding we are waiting for <@U0UHG4VP1> and <@U11HH3P7Y> to update the CI platform before trying","ts":"1478184646.002320"},{"type":"message","user":"U0YK3KKCY","text":"okay, i've pinged <@U0UHG4VP1>","ts":"1478184661.002322"},{"type":"message","user":"U0YK3KKCY","text":"i'll just stand by and wait","ts":"1478184673.002323"},{"type":"message","user":"U0KPFAZNF","text":"once that is ready, its trivial to fire up a test run, and only slightly less trivial to propose a new release","ts":"1478184680.002324"},{"type":"message","user":"U0YK3KKCY","text":"ok","ts":"1478184691.002325"},{"type":"message","user":"U11HH3P7Y","text":"verify and merge jobs are ready in production CI..","ts":"1478184707.002326"},{"type":"message","user":"U11HH3P7Y","text":"release jobs need little tweaking as we are depending on tag based release..","ts":"1478184732.002327"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y>: ry made a comment yesterday about something pending to add Z support (IIUC)","ts":"1478184765.002328"},{"type":"message","user":"U11HH3P7Y","text":"we have all 3 platforms jobs ready in jenkins <https:\/\/jenkins.hyperledger.org\/view\/fabric-baseimage\/>","ts":"1478184824.002329"},{"type":"message","user":"U0KPFAZNF","text":"sorry, it was you ramesh: <https:\/\/hyperledgerproject.slack.com\/archives\/ci-pipeline\/p1478120059002240>","attachments":[{"from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/ci-pipeline\/p1478120059002240","fallback":"[November 2nd, 2016 1:54 PM] ramesh: yes. will submit patch in next few mins","ts":"1478120059.002240","author_subname":"ramesh","channel_id":"C0YMWRX19","channel_name":"ci-pipeline","is_msg_unfurl":true,"text":"yes. will submit patch in next few mins","author_name":"Ramesh Thoomu","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/ramesh","author_icon":"https:\/\/avatars.slack-edge.com\/2016-06-09\/49693129078_d32a6cd73112d6891d70_48.jpg","mrkdwn_in":["text"],"id":1,"footer":"Posted in #ci-pipeline"}],"ts":"1478184829.002330"},{"type":"message","user":"U0KPFAZNF","text":"ok, we can try it","ts":"1478184842.002332"},{"type":"message","user":"U11HH3P7Y","text":"yes. we are pending on tag based release jobs..","ts":"1478184876.002333"},{"type":"message","user":"U0KPFAZNF","text":"i just reverified the merge: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1939\/>","ts":"1478184940.002334"},{"type":"message","user":"U0KPFAZNF","text":"will that work <@U11HH3P7Y> ?","ts":"1478184945.002335"},{"type":"message","user":"U11HH3P7Y","text":"yes","ts":"1478184988.002336"},{"type":"message","user":"U0KPFAZNF","text":"not obvious if it worked: <https:\/\/jenkins.hyperledger.org\/view\/fabric-baseimage\/>","ts":"1478185000.002337"},{"type":"message","user":"U11HH3P7Y","text":"reverify doesn't work","ts":"1478185610.002338"},{"type":"message","user":"U11HH3P7Y","text":"we have plug-in issue.. will re-trigger","ts":"1478185631.002339"},{"type":"message","user":"U0UHG4VP1","text":"Yes, the current plugin for the Gerrit trigger misses reverify, and the previously working version crashes on something cached by the new version","ts":"1478185692.002340"},{"type":"message","user":"U11HH3P7Y","text":"I can not re-trigger on new  z job created yesterday.. <@U0KPFAZNF> you have to submit a change to trigger this job","ts":"1478185778.002341"},{"type":"message","user":"U0UHG4VP1","text":"ramesh: which specific job?","ts":"1478188109.002342"},{"type":"message","user":"U11HH3P7Y","text":"<https:\/\/jenkins.hyperledger.org\/view\/fabric-baseimage\/job\/fabric-baseimage-verify-docker-s390x\/>","ts":"1478188938.002343"},{"type":"message","user":"U0UHG4VP1","text":"is master OK?","ts":"1478189482.002344"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/jenkins.hyperledger.org\/view\/fabric-baseimage\/job\/fabric-baseimage-verify-docker-s390x\/1\/console>","ts":"1478189500.002345"},{"type":"message","user":"U1AU8DRQR","text":"could somebody please make this reverify? <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2065\/10>","ts":"1478189811.002346"},{"type":"message","user":"U0YK3KKCY","text":"<@U0UHG4VP1> it's building fine.","ts":"1478190038.002347"},{"type":"message","user":"U0YK3KKCY","text":"from what i can see","ts":"1478190048.002348"},{"type":"message","user":"U0UHG4VP1","text":"hgabor done","ts":"1478190062.002349"},{"type":"message","user":"U1AU8DRQR","text":"thx","ts":"1478190071.002350"},{"type":"message","user":"U0UHG4VP1","text":"hgabor it looks like 2065 will need rebased eventually","ts":"1478190137.002351"},{"type":"message","user":"U0UHG4VP1","text":"hgabor it depends on <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2039\/5> when patch 6 is current","ts":"1478190160.002352"},{"type":"message","user":"U0UHG4VP1","text":"harrijk I also queued <https:\/\/jenkins.hyperledger.org\/view\/fabric-baseimage\/job\/fabric-baseimage-merge-docker-s390x\/>","ts":"1478190195.002353"},{"type":"message","user":"U0YK3KKCY","text":"ok, thanks.","ts":"1478190368.002354"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: both verify and merge are executing on latest commit but <@U0KPFAZNF> wants this job to execute <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1939\/>","ts":"1478190389.002355"},{"type":"message","user":"U0UHG4VP1","text":"ramesh: I see that is merged into master. What am I missing? are there post-1939 commits on master ghaskins wants excluded?","ts":"1478190559.002356"},{"type":"message","user":"U11HH3P7Y","text":"oh sorry.. my bad","ts":"1478190588.002357"},{"type":"message","user":"U0UHG4VP1","text":"nothing bad - there may be reasons he wants that exact patch built. I'm just trying to understand the requirement","ts":"1478190765.002358"},{"type":"message","user":"U0KPFAZNF","text":"We just wanted to run the job again to trial Z support","ts":"1478191086.002359"},{"type":"message","user":"U0UHG4VP1","text":"OK. let's see how it goes","ts":"1478191287.002360"},{"type":"message","user":"U0KPFAZNF","text":"It was missing at the time that was merged so this was perceived as the easiest way to test all three platforms are working","ts":"1478191377.002361"},{"type":"message","user":"U0KPFAZNF","text":"if this goes well, it will ultimately lead to a v0.2.1 release","ts":"1478191408.002362"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/jenkins.hyperledger.org\/view\/fabric-baseimage\/job\/fabric-baseimage-verify-docker-s390x\/1\/> looks good","ts":"1478191426.002363"},{"type":"message","user":"U0KPFAZNF","text":"i thought we disabled the -vagrant jobs?","ts":"1478191457.002364"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/jenkins.hyperledger.org\/view\/fabric-baseimage\/job\/fabric-baseimage-merge-vagrant-x86_64\/> is disabled","ts":"1478191543.002365"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/jenkins.hyperledger.org\/view\/fabric-baseimage\/job\/fabric-baseimage-release-vagrant-x86_64\/> and <https:\/\/jenkins.hyperledger.org\/view\/fabric-baseimage\/job\/fabric-baseimage-verify-vagrant-x86_64\/> as well","edited":{"user":"U0UHG4VP1","ts":"1478191582.000000"},"ts":"1478191556.002366"},{"type":"message","user":"U11HH3P7Y","text":"yes all vagrant job s are disabled","ts":"1478192260.002368"},{"type":"message","user":"U0YK3KKCY","text":"i guess we're one step closer to a v0.2.1 release for fabric-baseimage(s).  good to see something work. :slightly_smiling_face:","ts":"1478197687.002369"},{"type":"message","user":"U0KPFAZNF","text":"<@U0YK3KKCY> if you could do a quick validation that vagrant builds did not break, that will help accelerate this","ts":"1478198037.002370"},{"type":"message","user":"U0KPFAZNF","text":"within baseimage, from an x86 box with vagrant\/virtualbox: do \u201cmake vagrant-local\"","ts":"1478198059.002371"},{"type":"message","user":"U0KPFAZNF","text":"it will take a while (like 30 minutes)","ts":"1478198066.002372"},{"type":"message","user":"U0YK3KKCY","text":"ok.","ts":"1478198074.002373"},{"type":"message","user":"U0KPFAZNF","text":"if that all passes, we should be good to go for a release","ts":"1478198084.002374"},{"type":"message","user":"U0YK3KKCY","text":"i will pull down latest fabric build, do a vagrant up from devenv, clone baseimage and perform a make vagrant-local","ts":"1478198152.002375"},{"type":"message","user":"U0YK3KKCY","text":"clone and make inside vb image","ts":"1478198170.002376"},{"type":"message","user":"U0KPFAZNF","text":"actually you cant currently build vagrant in vagrant","ts":"1478198187.002377"},{"type":"message","user":"U0KPFAZNF","text":"this would need to be native","ts":"1478198198.002378"},{"type":"message","user":"U0YK3KKCY","text":"no currently i don't have a vagrant env","ts":"1478198203.002379"},{"type":"message","user":"U0YK3KKCY","text":"i will build one first","ts":"1478198207.002380"},{"type":"message","user":"U0KPFAZNF","text":"ah, ok","ts":"1478198211.002381"},{"type":"message","user":"U0YK3KKCY","text":"sorry for confusion","ts":"1478198217.002382"},{"type":"message","user":"U0YK3KKCY","text":"i think i got it.","ts":"1478198225.002383"},{"type":"message","user":"U0KPFAZNF","text":"np, thanks for the help","ts":"1478198239.002384"},{"type":"message","user":"U0YK3KKCY","text":"<@U0KPFAZNF>... okay after acquiring a fresh x86 box (may as well get another for this type of work), the make vagrant-local has started.\n[root@localhost ~\/fabric-baseimage]# make vagrant-local\nATLAS_ARTIFACT=hyperledger\/fabric-baseimage \\\nBASEIMAGE_RELEASE=0.2.1 \\\nOUTPUT_FILE=baseimage-v0.2.1.box \\\npacker build packer-local.json","ts":"1478201031.002385"},{"type":"message","user":"U0YK3KKCY","text":"hopefully, i've got all of the pre-req packages installed for this.  guess i'll find out.","ts":"1478201065.002386"},{"type":"message","user":"U0KPFAZNF","text":"if you got that far, I think you are good to go","ts":"1478201589.002387"},{"type":"message","user":"U0YK3KKCY","text":"ok. first time doing this. always something new to learn","ts":"1478201611.002388"},{"type":"message","user":"U0KPFAZNF","text":"yeah, it takes a while fyi","ts":"1478201624.002389"},{"type":"message","user":"U0KPFAZNF","text":"longer than the docker builds","ts":"1478201628.002390"},{"type":"message","user":"U0KPFAZNF","text":"(but not much, its still dominated by the package compilation","ts":"1478201641.002391"},{"type":"message","user":"U0YK3KKCY","text":"i did a top on the box and didn't see any activity.","ts":"1478201643.002392"},{"type":"message","user":"U0YK3KKCY","text":"so i stopped the job","ts":"1478201650.002393"},{"type":"message","user":"U0YK3KKCY","text":"maybe that was a mistake","ts":"1478201656.002394"},{"type":"message","user":"U0KPFAZNF","text":"oh it takes a while to start outputting","ts":"1478201660.002395"},{"type":"message","user":"U0YK3KKCY","text":"ah okay","ts":"1478201665.002396"},{"type":"message","user":"U0KPFAZNF","text":"it has to build the OS","ts":"1478201665.002397"},{"type":"message","user":"U0YK3KKCY","text":"wow","ts":"1478201670.002398"},{"type":"message","user":"U0KPFAZNF","text":"you can open the vbox console and watch it whir","ts":"1478201681.002399"},{"type":"message","user":"U0YK3KKCY","text":"alright make clean and then make vagrant-local and then walk away","ts":"1478201689.002400"},{"type":"message","user":"U0KPFAZNF","text":"(well \u201cbuild\u201d is overstating..its installing ubunut from iso)","ts":"1478201697.002401"},{"type":"message","user":"U0YK3KKCY","text":"k","ts":"1478201708.002402"},{"type":"message","user":"U0KPFAZNF","text":"by \u201cbuild\u201d i meant build the vdisk","ts":"1478201713.002403"},{"type":"message","user":"U0YK3KKCY","text":"vbox require x11?","ts":"1478201714.002404"},{"type":"message","user":"U0KPFAZNF","text":"not sure, I run it on OSX","ts":"1478201731.002405"},{"type":"message","user":"U0KPFAZNF","text":"im guessing it would if you are on linux","ts":"1478201739.002406"},{"type":"message","user":"U0YK3KKCY","text":"k. i'll figure it out i suppose","ts":"1478201745.002407"},{"type":"message","user":"U0KPFAZNF","text":"but you dont need to watch the terminal, its just if you are curious","ts":"1478201754.002408"},{"type":"message","user":"U0YK3KKCY","text":"k","ts":"1478201759.002409"},{"type":"message","user":"U0YK3KKCY","text":"tnx","ts":"1478201760.002410"},{"type":"message","user":"U0KPFAZNF","text":"it takes maybe 8-10 minutes to come back to console output","ts":"1478201784.002411"},{"type":"message","user":"U0KPFAZNF","text":"then you will see the usual suspects, like protoc compilation, etc","ts":"1478201794.002412"},{"type":"message","user":"U0YK3KKCY","text":"ah okay.","ts":"1478201800.002413"},{"type":"message","user":"U0KPFAZNF","text":"prior to that its running through an automated install of ubuntu","ts":"1478201814.002414"},{"type":"message","user":"U0KPFAZNF","text":"it cant get console output until sshd is operational","ts":"1478201835.002415"},{"type":"message","user":"U0YK3KKCY","text":"well nothing has changed wrt the make vagrant-local... i guess i'm missing something or something is misconfigured on my x86 RHEL system.  time to dig in.","ts":"1478204825.002416"},{"type":"message","user":"U0KPFAZNF","text":"dont sweat it","ts":"1478208769.002417"},{"type":"message","user":"U0KPFAZNF","text":"ill validate the build","ts":"1478208782.002418"},{"type":"message","user":"U0YK3KKCY","text":"i will get it going for the future.  newbie-itis","ts":"1478210683.002419"},{"type":"message","user":"U0KPFAZNF","text":"not a problem","ts":"1478214342.002420"},{"type":"message","user":"U0YK3KKCY","text":"figured it out... already had another packer in \/usr\/sbin... but it wasn't the packer that i thought.  downloaded the real packer file and the make vagrant-local is now running... it is downloading an iso image now.","ts":"1478214591.002421"},{"type":"message","user":"U0YK3KKCY","text":"==&gt; virtualbox-iso: Downloading or copying ISO\n    virtualbox-iso: Downloading or copying: <http:\/\/releases.ubuntu.com\/16.04.1\/ubuntu-16.04.1-server-amd64.iso>","ts":"1478214718.002422"},{"type":"message","user":"U0KPFAZNF","text":"oh, cool","ts":"1478214840.002423"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> you may recall I ran into that exact issue previously","ts":"1478215025.002424"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: yeah, it sounds familar","ts":"1478215320.002425"},{"type":"message","user":"U0KPFAZNF","text":"gotta love name collisions","ts":"1478215328.002426"},{"type":"message","user":"U0YK3KKCY","text":"<@U0KPFAZNF> looks like the make vagrant-local ran fine...\n\nvagrant box add -name hyperledger\/fabric-baseimage baseimage-v0.2.1.box\n==&gt; box: Box file was not detected as metadata. Adding it directly...\n==&gt; box: Adding box 'hyperledger\/fabric-baseimage' (v0) for provider:\n    box: Unpacking necessary files from: file:\/\/\/root\/fabric-baseimage\/baseimage-v0.2.1.box\n==&gt; box: Successfully added box 'hyperledger\/fabric-baseimage' (v0) for 'virtualbox'!","ts":"1478217795.002427"},{"type":"message","user":"U0YK3KKCY","text":"-rw-r--r-- 1 root root 1.1G Nov  3 20:02 baseimage-v0.2.1.box","ts":"1478217885.002428"},{"type":"message","user":"U0YK3KKCY","text":"i was able to do a vagrant init &lt;box-name&gt;, vagrant up and vagrant ssh.  logged in just fine.","ts":"1478218409.002429"},{"type":"message","user":"U0KPFAZNF","text":"cool, sounds good","ts":"1478219130.002430"},{"type":"message","user":"U0KPFAZNF","text":"ill prepare the release CR","ts":"1478219137.002431"},{"type":"message","user":"U0YK3KKCY","text":"ok, thanks","ts":"1478265505.002434"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KPFAZNF>: release jobs are now ready in production ci-pipeline..","ts":"1478268303.002435"},{"type":"message","user":"U0KPFAZNF","text":"<@U0YK3KKCY> <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2249\/>","ts":"1478271680.002436"},{"type":"message","user":"U0YK3KKCY","text":"ok... i assume just an fyi and no action is needed on my part","ts":"1478271721.002437"},{"type":"message","user":"U0KPFAZNF","text":"nope, only if something breaks :wink:","ts":"1478271731.002438"},{"type":"message","user":"U0YK3KKCY","text":"ha","ts":"1478271736.002439"},{"type":"message","user":"U0KPFAZNF","text":"basic flow for a release is: I push two patches (one that sets IS_RELEASE=true, and another that bumps the version and resets IS_RELEASE back to false","ts":"1478271775.002440"},{"type":"message","user":"U0YK3KKCY","text":"i see the jobs queued up in jenkins","ts":"1478271777.002441"},{"type":"message","user":"U0YK3KKCY","text":"ah ok","ts":"1478271786.002442"},{"type":"message","user":"U0KPFAZNF","text":"if the -verify jobs pass, and maintainers +2 it, the CRs go in","ts":"1478271789.002443"},{"type":"message","user":"U0KPFAZNF","text":"I then tag the CR that corresponds to the IS_RELEASE=true patch, and push that to gerrit","ts":"1478271812.002444"},{"type":"message","user":"U0YK3KKCY","text":"k. triggering release jobs","ts":"1478271827.002445"},{"type":"message","user":"U0KPFAZNF","text":"that sets the tag in both gerrit and GH \u2026.AND should kick off the -release job","ts":"1478271828.002446"},{"type":"message","user":"U0YK3KKCY","text":"got it. cool. tnx","ts":"1478271835.002447"},{"type":"message","user":"U0KPFAZNF","text":"that last part has historically not worked however, so I would replace that last step with manual intervention","ts":"1478271851.002448"},{"type":"message","user":"U0YK3KKCY","text":"story of my life. :slightly_smiling_face:","ts":"1478271863.002449"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> tells me its primed and ready to go though, so we shall see","ts":"1478271865.002450"},{"type":"message","user":"U0YK3KKCY","text":"k","ts":"1478271877.002451"},{"type":"message","user":"U0KPFAZNF","text":"long story short, we have to wait for quite a few runs to complete before it will hit dockerhub","ts":"1478271903.002452"},{"type":"message","user":"U11HH3P7Y","text":"yes","ts":"1478271910.002453"},{"type":"message","user":"U11HH3P7Y","text":"will monitor","ts":"1478271914.002454"},{"type":"message","user":"U0KPFAZNF","text":"2x -verify, 2x -merge, and then 2x -release","ts":"1478271914.002455"},{"type":"message","user":"U0YK3KKCY","text":"ok. tnx for explanation","ts":"1478271925.002456"},{"type":"message","user":"U0KPFAZNF","text":"the process is not super efficient yet, but its improving and will continue to do so","ts":"1478271936.002457"},{"type":"message","user":"U0YK3KKCY","text":"i guess my next order of business to to look for a more elegant solution to the s390x javaenv docker image build issue.","ts":"1478271981.002458"},{"type":"message","user":"U0KPFAZNF","text":"this is still vast improvement over previous process, which involved me manually ssh;ing around and building these by hand","ts":"1478271989.002459"},{"type":"message","user":"U0YK3KKCY","text":"wow. what a pain","ts":"1478271997.002460"},{"type":"message","user":"U0KPFAZNF","text":"assuming responsive merging of  the patches by maintainers, I do expect the v0.2.1 release to hit dockerhub as early as today","ts":"1478272073.002461"},{"type":"message","user":"U0YK3KKCY","text":"great","ts":"1478272340.002462"},{"type":"message","user":"U0YK3KKCY","text":"one small step for man.....","ts":"1478272350.002463"},{"type":"message","user":"U0YK3KKCY","text":"hmm. weird for the s390x baseimage verify job it seems to be stuck...  last log line is:\n11:45:04 PASS: protobuf-lite-arena-test","ts":"1478279157.002464"},{"type":"message","user":"U0YK3KKCY","text":"i guess the next step would have been a make install","ts":"1478279170.002465"},{"type":"message","user":"U0YK3KKCY","text":"linux system has lots of disk and cpu\/memory capacity","ts":"1478279186.002466"},{"type":"message","user":"U11HH3P7Y","text":"<@U0YK3KKCY> : s390x verify job failed with timeout (120 mins)","ts":"1478281607.002467"},{"type":"message","user":"U11HH3P7Y","text":"Do you want me to re-trigger or increase build timeout ?","ts":"1478281632.002468"},{"type":"message","user":"U0YK3KKCY","text":"<@U11HH3P7Y> please re-trigger. tnx","ts":"1478289080.002469"},{"type":"message","user":"U11HH3P7Y","text":"ok","ts":"1478289088.002470"},{"type":"message","user":"U11HH3P7Y","text":"done","ts":"1478289109.002471"},{"type":"message","user":"U0YK3KKCY","text":"tnx","ts":"1478289155.002472"},{"type":"message","user":"U0YK3KKCY","text":"i think docker might have frozen, i'm trying to recycle docker now on hyp-z-linuxone-3","ts":"1478289354.002473"},{"type":"message","user":"U0YK3KKCY","text":"can you kill the job until, i've resolved this docker issue? tnx","ts":"1478289377.002474"},{"type":"message","user":"U0YK3KKCY","text":"<@U11HH3P7Y> ^","ts":"1478289389.002475"},{"type":"message","user":"U11HH3P7Y","text":"oh ok","ts":"1478289407.002476"},{"type":"message","user":"U0YK3KKCY","text":"looks like the entire cloud instance took a hit at 12:45 today. ouch.","ts":"1478290712.002477"},{"type":"message","user":"U0YK3KKCY","text":"<@U11HH3P7Y> could you point the verify and release jobs to hyp-z-linuxone-2 ?","ts":"1478291127.002478"},{"type":"message","user":"U0YK3KKCY","text":"i guess it was a bad day to be hyp-z-linuxone-3. :slightly_smiling_face:","ts":"1478291156.002479"},{"type":"message","user":"U11HH3P7Y","text":"2 is also bad I guess","ts":"1478291169.002480"},{"type":"message","user":"U0YK3KKCY","text":"no, i fixed it. it can be brought online","ts":"1478291180.002481"},{"type":"message","user":"U0YK3KKCY","text":"well it was my intention to fix it... let's see how it goes. it was working fine the other day when i did a build from the sandbox","ts":"1478291225.002482"},{"type":"message","user":"U11HH3P7Y","text":"ok good .. Will submit patch now","ts":"1478291255.002483"},{"type":"message","user":"U0YK3KKCY","text":"tnx much!","ts":"1478291262.002484"},{"type":"message","user":"U11HH3P7Y","text":"merge jobs also right","ts":"1478291306.002485"},{"type":"message","user":"U11HH3P7Y","text":"submitted patch will ask <@U0UHG4VP1> to merge this to effect","ts":"1478291606.002486"},{"type":"message","user":"U0YK3KKCY","text":"thanks <@U11HH3P7Y>","ts":"1478291858.002487"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y>: don't build on a node build on a tag","ts":"1478292811.002488"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> build on hyp-fabric-z not a specific node","ts":"1478292931.002489"},{"type":"message","user":"U11HH3P7Y","text":"let me check","ts":"1478292947.002490"},{"type":"message","user":"U0YK3KKCY","text":"i guess we'll have to take hyp-z-linuxone-3 offline and bring hyp-z-linuxone-2 online ?","ts":"1478292960.002491"},{"type":"message","user":"U0UHG4VP1","text":"They're both offline ","ts":"1478292976.002492"},{"type":"message","user":"U0YK3KKCY","text":"assuming a tag is considered a pool","ts":"1478292984.002493"},{"type":"message","user":"U0UHG4VP1","text":"Yes","ts":"1478292996.002494"},{"type":"message","user":"U0YK3KKCY","text":"for the patch we'll need the remainder of the baseimage jobs to run on -2","ts":"1478293010.002495"},{"type":"message","user":"U0UHG4VP1","text":"We raise livestock not pets","ts":"1478293018.002496"},{"type":"message","user":"U0YK3KKCY","text":"-3 to a hard stop (cloud instance)","ts":"1478293020.002497"},{"type":"message","user":"U11HH3P7Y","text":"yes will submit that change but for now this job has to run only on -2","ts":"1478293047.002498"},{"type":"message","user":"U0UHG4VP1","text":"If it's offline it won't run jobs","ts":"1478293063.002499"},{"type":"message","user":"U0YK3KKCY","text":"can it be brought online, i think you took it offline the other day.","ts":"1478293103.002500"},{"type":"message","user":"U0YK3KKCY","text":"-2 was tested the other day in the sandbox with success","ts":"1478293118.002501"},{"type":"message","user":"U0UHG4VP1","text":"Which one? Both?","ts":"1478293119.002502"},{"type":"message","user":"U0YK3KKCY","text":"-3 offline, -2 online to production","ts":"1478293136.002503"},{"type":"message","user":"U0UHG4VP1","text":"Or only -2?","ts":"1478293145.002504"},{"type":"message","user":"U0UHG4VP1","text":"K","ts":"1478293148.002505"},{"type":"message","user":"U0YK3KKCY","text":"tnx <@U0UHG4VP1>","ts":"1478293154.002506"},{"type":"message","user":"U0YK3KKCY","text":"i can't get a break with these z machines. oh well.","ts":"1478293172.002507"},{"type":"message","user":"U0YK3KKCY","text":"a nit","ts":"1478293176.002508"},{"type":"message","user":"U0UHG4VP1","text":"It's online ","ts":"1478293289.002509"},{"type":"message","user":"U0YK3KKCY","text":"great","ts":"1478293296.002510"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> let me know when you update that change","ts":"1478293363.002511"},{"type":"message","user":"U11HH3P7Y","text":"ok","ts":"1478293409.002512"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> why are you disabling this job? <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2261\/> if you didn't intend to do that you need to abandon that change and fix the other change","ts":"1478299111.002513"},{"type":"message","user":"U11HH3P7Y","text":"oh sorry.. Somehow I submitted by mistake","ts":"1478299280.002514"},{"type":"message","user":"U11HH3P7Y","text":"came out on some urgent work.. will submit node change tomorrow","ts":"1478299303.002515"},{"type":"message","user":"U0UHG4VP1","text":"yes OK if the change is small I can update your change","ts":"1478299633.002516"},{"user":"U2AFW8W9X","text":"<@U2AFW8W9X|tbrooke> has joined the channel","type":"message","subtype":"channel_join","ts":"1478371604.002517"},{"type":"message","user":"U0KM61BCP","text":"hi <@U0UHG4VP1> - apparently someone submitted 2 PRs against the GitHUb mirror repo. I thought that was locked down? <https:\/\/github.com\/hyperledger\/fabric\/pulls>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/pulls","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/pulls","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1478377916.002518"},{"type":"message","user":"U0UHG4VP1","text":"I can't block people from creating PRs.","ts":"1478377940.002520"},{"type":"message","user":"U0UHG4VP1","text":"I've been manually closing them as they come in. there are bots to do that but I haven't set one up","ts":"1478377978.002521"},{"type":"message","user":"U0KM61BCP","text":"well, I am on vacation so can\u2019t adapt my bot, but maybe when I return","ts":"1478380772.002522"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: i see there is a nexus available now","ts":"1478397320.002523"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/nexus.hyperledger.org\/#view-repositories>","ts":"1478397320.002524"},{"type":"message","user":"U0KPFAZNF","text":"my LFID credentials dont seem to work however, I assume that is expected","ts":"1478397338.002525"},{"type":"message","user":"U0KPFAZNF","text":"<@U0YK3KKCY> <https:\/\/github.com\/hyperledger\/fabric-baseimage\/releases\/tag\/v0.2.1>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-baseimage","title_link":"https:\/\/github.com\/hyperledger\/fabric-baseimage\/releases\/tag\/v0.2.1","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric-baseimage>","fallback":"GitHub: hyperledger\/fabric-baseimage","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-baseimage\/releases\/tag\/v0.2.1","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1478400477.002526"},{"type":"message","user":"U0KPFAZNF","text":"jenkins is building the release artifacts now","ts":"1478400493.002528"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/hub.docker.com\/r\/hyperledger\/fabric-baseimage\/tags\/>","ts":"1478435089.002529","reactions":[{"name":"+1","users":["U11HH3P7Y","U0YK3KKCY","U11NUTP4L"],"count":3}]},{"type":"message","user":"U0KPFAZNF","text":"final step is I need to update fabric to point to it","ts":"1478435107.002530"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2271\/>","ts":"1478436693.002531"},{"type":"message","user":"U0KPFAZNF","text":"<@U0YK3KKCY> ^^^","ts":"1478436702.002532"},{"type":"message","user":"U0YK3KKCY","text":"<@U0KPFAZNF> you need me to verify again?","ts":"1478462471.002533"},{"type":"message","user":"U0YK3KKCY","text":"i can certainly do this if that is the case","ts":"1478462483.002534"},{"type":"message","user":"U0KPFAZNF","text":"<@U0YK3KKCY>: not at all.   Just showing you it released","ts":"1478462592.002535"},{"type":"message","user":"U0YK3KKCY","text":"ah ok. tnx.","ts":"1478462607.002536"},{"type":"message","user":"U0YK3KKCY","text":"execellent","ts":"1478462710.002537"},{"type":"message","user":"U0YK3KKCY","text":"nice to see a little progress.","ts":"1478462747.002538"},{"type":"message","user":"U0YK3KKCY","text":"just for sanity's sake i pulled down the s390x-0.2.1 flavor of fabric-baseimage and was able to fire up and container just fine. :slightly_smiling_face:","ts":"1478463593.002539"},{"type":"message","user":"U0KPFAZNF","text":"if you want, pull this CR","ts":"1478465091.002540"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2271\/>","ts":"1478465092.002541"},{"type":"message","user":"U0KPFAZNF","text":"and you should be able to run the whole thing","ts":"1478465100.002542"},{"type":"message","user":"U0KPFAZNF","text":"(or just emulate the trivial change locally","ts":"1478465113.002543"},{"type":"message","user":"U11HH3P7Y","text":"<@U0YK3KKCY> : please update this issue with your findings <https:\/\/jira.hyperledger.org\/browse\/FAB-358>","ts":"1478529012.002544"},{"type":"message","user":"U0YK3KKCY","text":"<@U11HH3P7Y> i will update 358 with my thoughts on the javaenv issue","ts":"1478530770.002545"},{"type":"message","user":"U11HH3P7Y","text":"ok thank you","ts":"1478530786.002546"},{"type":"message","user":"U0YK3KKCY","text":"<@U11HH3P7Y>, <@U0KPFAZNF> .... i will also add my thoughts to FAB-273","ts":"1478530870.002547"},{"type":"message","user":"U0YK3KKCY","text":"FAB-273 and FAB-358 have been updated.","ts":"1478534522.002548"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: I just pushed a WIP series, the last of which is here: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2321\/>","ts":"1478535024.002549"},{"type":"message","user":"U0KPFAZNF","text":"it basically dockerizes the build\/unit-tests (still need to address behave","ts":"1478535043.002550"},{"type":"message","user":"U0KPFAZNF","text":"but the biggest thing I am curious about is what version of docker-compose does CI include?","ts":"1478535056.002551"},{"type":"message","user":"U0KPFAZNF","text":"I am using a knob that is not supported in compose v1.5.2 (what we ship in devenv) but it does support it in v1.8.1 (the latest stable release)","ts":"1478535087.002552"},{"type":"message","user":"U0KPFAZNF","text":"so, depending on where CI sits, I may or may not work","ts":"1478535104.002553"},{"type":"message","user":"U0KPFAZNF","text":"I am expecting a degree of fireworks here, btw","ts":"1478535115.002554"},{"type":"message","user":"U0UHG4VP1","text":"I don't know off the top of my head, but I can look in a bit.","ts":"1478535120.002555"},{"type":"message","user":"U0KPFAZNF","text":"but, I think once it converges, things will generally be easier for both of us","ts":"1478535129.002556"},{"type":"message","user":"U0UHG4VP1","text":"\"here\" is this chain of changes, or \"here\" is this channel? :slightly_smiling_face:","ts":"1478535137.002557"},{"type":"message","user":"U0KPFAZNF","text":"here is the chain of changes","ts":"1478535168.002558"},{"type":"message","user":"U0KPFAZNF","text":"2321 is the last of 17 patches in the series, IOW","ts":"1478535182.002559"},{"type":"message","user":"U0KPFAZNF","text":"(17 sounds like a lot, but quite a few of them are simple","ts":"1478535201.002560"},{"type":"message","user":"U0KPFAZNF","text":"theres only, id estimate, 3-4 that are real meaty","ts":"1478535223.002561"},{"type":"message","user":"U0KPFAZNF","text":"i generally ordered them as simple\/less-controversial at the beginning, and the opposite at the end :wink:","ts":"1478535319.002562"},{"type":"message","user":"U0KPFAZNF","text":"anyway: the basis thesis is: make everything docker oriented and then the devenv\/cienv\/etc only need real basics to support a build\/test run","ts":"1478535376.002563"},{"type":"message","user":"U0KPFAZNF","text":"2313 probably does the best job summarizing the effort: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2313\/>","ts":"1478535425.002564"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2YKR1DAM\/-.txt|Untitled>","file":{"id":"F2YKR1DAM","created":1478536253,"timestamp":1478536253,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":122,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2YKR1DAM\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2YKR1DAM\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2YKR1DAM\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2YKR1DAM-063c1b3f88","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2YKR1DAM\/-.txt\/edit","preview":"08:21:05 + docker-compose version\r\n08:21:05 docker-compose version 1.5.2, build 7240ff3\r\n08:21:05 docker-py version: 1.5.0","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>08:21:05 + docker-compose version<\/pre><\/div>\n<div><pre>08:21:05 docker-compose version 1.5.2, build 7240ff3<\/pre><\/div>\n<div><pre>08:21:05 docker-py version: 1.5.0<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":3,"lines_more":0,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1478536255.002565"},{"type":"message","user":"U0UHG4VP1","text":"from <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/2412\/console>","ts":"1478536267.002566"},{"type":"message","user":"U0UHG4VP1","text":"do I need to update the CI images?","ts":"1478536289.002567"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: i guess theres a few questions to address","ts":"1478536375.002568"},{"type":"message","user":"U0KPFAZNF","text":"#1: will my proposal encapsulated in that series be accepted?","ts":"1478536390.002569"},{"type":"message","user":"U0KPFAZNF","text":"#2: are there any other ramifications for upgrading docker-compose","ts":"1478536404.002570"},{"type":"message","user":"U0KPFAZNF","text":"e.g. did someone specifically chose 1.5.2 for a reason?","ts":"1478536416.002571"},{"type":"message","user":"U0KPFAZNF","text":"if the answer to 2 is \"doesnt matter\", then updating CI to just bump to v1.8.1 and leaving everything else is a good mitigating strategy independent of the answer to #1","ts":"1478536463.002572"},{"type":"message","user":"U0KPFAZNF","text":"if #1 becomes a \"yes\", then at some point we may want to think about simplifying the cienv","ts":"1478536490.002573"},{"type":"message","user":"U0KPFAZNF","text":"because we no longer would need stuff like rocksdb, etc","ts":"1478536508.002574"},{"type":"message","user":"U0UHG4VP1","text":"nice","ts":"1478536901.002575"},{"type":"message","user":"U0UHG4VP1","text":"I'm all aboard the simple is better train","ts":"1478536916.002576"},{"type":"message","user":"U0KPFAZNF","text":"the ideal, minimal recipe for the cienv would then probably look not dissimilar to <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2321\/1\/devenv\/setup.sh>","ts":"1478537011.002577"},{"type":"message","user":"U0KPFAZNF","text":"i think the challenge with the simplification is we need the CI system to work with CRs that are both before and after the merge of the new design","ts":"1478537082.002578"},{"type":"message","user":"U0KPFAZNF","text":"(therein lies the challenge)","ts":"1478537092.002579"},{"type":"message","user":"U0KPFAZNF","text":"though I hope with this work, we can really start to decouple things like devenv\/cienv from caring","ts":"1478537108.002580"},{"type":"message","user":"U0KPFAZNF","text":"if ci only needs to provide a stable docker interface, then everything else becomes an overlay defined by the fabric.git REV","ts":"1478537154.002581"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: these are coming up in multiple CRs <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/2417\/console>","ts":"1478538088.002582"},{"type":"message","user":"U0KPFAZNF","text":"looks systemic","ts":"1478538093.002583"},{"type":"message","user":"U0KPFAZNF","text":"(though perhaps I just dont understand the root cause)","ts":"1478538117.002584"},{"type":"message","user":"U0UHG4VP1","text":"looks like network turbulence at our hosting company","ts":"1478538169.002585"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1478538175.002586"},{"type":"message","user":"U0KPFAZNF","text":"so, related to all this: we really should discuss the architecture between ci-management and fabric.git","ts":"1478538743.002587"},{"type":"message","user":"U0KPFAZNF","text":"theres some flaws in the current architecture, the pains of which we are beginning to bear","ts":"1478538771.002588"},{"type":"message","user":"U0KPFAZNF","text":"for example: ci-management.git assumes \"make membersrvc-image\" is a valid target","ts":"1478538808.002589"},{"type":"message","user":"U0KPFAZNF","text":"which, as we are now seeing in two different CRs, may not always be true","ts":"1478538823.002590"},{"type":"message","user":"U0KPFAZNF","text":"i think the .travis.xml model is probably closer to how this should be driven so that CI follows the target","ts":"1478538874.002591"},{"type":"message","user":"U0UHG4VP1","text":"I'm OK with that. CI is here to serve the project.","ts":"1478539936.002592","reactions":[{"name":"pray","users":["U0PB67X4K"],"count":1}]},{"type":"message","user":"U0W7D64LC","text":"bunch of new videos posted on <#C28M6TC90|playbacks> and our youtube channel at <https:\/\/www.youtube.com\/channel\/UCCFdgCWH_1vCndMPVqQlwZw> Check them out and subscribe\u2026","attachments":[{"service_name":"YouTube","title":"Hyperledger Fabric","title_link":"https:\/\/www.youtube.com\/channel\/UCCFdgCWH_1vCndMPVqQlwZw","text":"Hyperledger fabric","fallback":"YouTube: Hyperledger Fabric","thumb_url":"https:\/\/yt3.ggpht.com\/-p3I4WZFQpKc\/AAAAAAAAAAI\/AAAAAAAAAAA\/nfXbn9j5Dao\/s900-c-k-no-mo-rj-c0xffffff\/photo.jpg","from_url":"https:\/\/www.youtube.com\/channel\/UCCFdgCWH_1vCndMPVqQlwZw","thumb_width":900,"thumb_height":900,"service_icon":"https:\/\/s.ytimg.com\/yts\/img\/favicon-vflz7uhzw.ico","id":1}],"ts":"1478540494.002593"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1> could you please add  `fabric-cop` in jenkins job view","ts":"1478559132.002595"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/jenkins.hyperledger.org\/view\/fabric-cop\/>","ts":"1478559210.002596"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1> thanks","ts":"1478565404.002597","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"can someone kick <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2299\/>","ts":"1478566360.002598"},{"type":"message","user":"U0KPFAZNF","text":"its not triggering a reverify","ts":"1478566366.002599"},{"type":"message","user":"U0UHG4VP1","text":"done","ts":"1478566388.002600"},{"type":"message","user":"U0KPFAZNF","text":"ty","ts":"1478566534.002601"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: this is a strange one: <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/2500\/console>","ts":"1478569403.002602"},{"type":"message","user":"U0KPFAZNF","text":"failed during a simple COPY operation...smells kind of like a docker\/environment issue","ts":"1478569424.002603"},{"type":"message","user":"U0KPFAZNF","text":"can we kick that one too and see if its reproducible","ts":"1478569432.002604"},{"type":"message","user":"U0UHG4VP1","text":"done. I suspect I know the issue and it will be hard to work around","ts":"1478569459.002605"},{"type":"message","user":"U0KPFAZNF","text":"(part of me is wondering if its docker 1.8 (CI) vs 1.12 (my test setup), or AUFS","ts":"1478569461.002606"},{"type":"message","user":"U0KPFAZNF","text":"oh?  do tell","ts":"1478569471.002607"},{"type":"message","user":"U0UHG4VP1","text":"when we have more than some number of builds (I think the number is 25) in the queue, we are just about guaranteed that a minion will be reused.","ts":"1478569503.002608"},{"type":"message","user":"U0KPFAZNF","text":"ah","ts":"1478569513.002609"},{"type":"message","user":"U0KPFAZNF","text":"so there is some kind of filesystem contention or something?","ts":"1478569527.002610"},{"type":"message","user":"U0UHG4VP1","text":"and our whole theory is that minions are single use only.","ts":"1478569528.002611"},{"type":"message","user":"U0UHG4VP1","text":"yes, one build isn't totally completely gone when the next one kicks off.","ts":"1478569545.002612"},{"type":"message","user":"U0KPFAZNF","text":"i see","ts":"1478569551.002613"},{"type":"message","user":"U0UHG4VP1","text":"I suspect there's still a process running holding stuff open","ts":"1478569558.002614"},{"type":"message","user":"U0KPFAZNF","text":"well, i guess on a positive note, a reverify _might_ work :wink:","ts":"1478569567.002615","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0UHG4VP1","text":"the whole reverify issue is a huge PITA as well.","ts":"1478569584.002616"},{"type":"message","user":"U0KPFAZNF","text":"yeah, whats going on there?","ts":"1478569591.002617"},{"type":"message","user":"U0KPFAZNF","text":"it seems they are being ignored","ts":"1478569595.002618"},{"type":"message","user":"U0KPFAZNF","text":"(though repushing the patches does seem to work)","ts":"1478569605.002619"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-39010>","ts":"1478569613.002620"},{"type":"message","user":"U0KPFAZNF","text":"lovely","ts":"1478569629.002621"},{"type":"message","user":"U0UHG4VP1","text":"I can't really roll back to 1.19.6\/2.4.4 as he suggests.","ts":"1478569639.002622"},{"type":"message","user":"U0UHG4VP1","text":"It moved from a simple text match to a regex, and I've tried all of the formats of regex on offer and none of them trigger. I suspect the trigger is busted entirely","ts":"1478569669.002623"},{"type":"message","user":"U0KPFAZNF","text":"is it possible you could grant perms to the maintainers so we can kick them from the UI?","ts":"1478569674.002624"},{"type":"message","user":"U0KPFAZNF","text":"that would relieve some of the burden on you","ts":"1478569682.002625"},{"type":"message","user":"U0UHG4VP1","text":"if you promise to only use your superpowers for good, sure. :slightly_smiling_face:","ts":"1478569704.002626"},{"type":"message","user":"U0KPFAZNF","text":"(the manual retriggers, i mean)","ts":"1478569709.002627"},{"type":"message","user":"U0KPFAZNF","text":"heh, of course","ts":"1478569713.002628"},{"type":"message","user":"U0UHG4VP1","text":"I'd really rather fix the freaking trigger","ts":"1478569718.002629"},{"type":"message","user":"U0KPFAZNF","text":"yeah, i understand","ts":"1478569723.002630"},{"type":"message","user":"U0KPFAZNF","text":"that would be preferred","ts":"1478569735.002631"},{"type":"message","user":"U0UHG4VP1","text":"is there a change I could test on?","ts":"1478569804.002632"},{"type":"message","user":"U0KPFAZNF","text":"this is slightly different: <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/2501\/console>","ts":"1478569811.002633"},{"type":"message","user":"U0KPFAZNF","text":"but I suspect same phenomenon ?","ts":"1478569821.002634"},{"type":"message","user":"U0UHG4VP1","text":"I suspect so as well","ts":"1478569835.002635"},{"type":"message","user":"U0KPFAZNF","text":"the other one wasnt complaining about a dir, but smells similar otherwise","ts":"1478569839.002636"},{"type":"message","user":"U0UHG4VP1","text":"anything that looks like contention","ts":"1478569840.002637"},{"type":"message","user":"U0KPFAZNF","text":"(and also, that works in local testing)","ts":"1478569847.002638"},{"type":"message","user":"U0KPFAZNF","text":"right, ok","ts":"1478569854.002639"},{"type":"message","user":"U0KPFAZNF","text":"makes sense","ts":"1478569856.002640"},{"type":"message","user":"U0KPFAZNF","text":"i thought these things were VMs that we JIT provision from an openstack cloud?","ts":"1478569889.002641"},{"type":"message","user":"U0UHG4VP1","text":"they are","ts":"1478569895.002642"},{"type":"message","user":"U0KPFAZNF","text":"where does the 25 limit \/ contention occur?","ts":"1478569907.002643"},{"type":"message","user":"U0UHG4VP1","text":"we're only paying for so many cores\/so much ram from our provider","ts":"1478569988.002644"},{"type":"message","user":"U0UHG4VP1","text":"we could uncork that, but I'm wary of unbound spending","ts":"1478570036.002645"},{"type":"message","user":"U0KPFAZNF","text":"right, ok","ts":"1478570222.002646"},{"type":"message","user":"U0KPFAZNF","text":"so, IIUC, theres some kind of disconnect between dispatched jobs and underlying resource limits?","ts":"1478570244.002647"},{"type":"message","user":"U0KPFAZNF","text":"e.g. we can somehow dispatch more than 25, but cant run more than 25 concurrently?","ts":"1478570262.002648"},{"type":"message","user":"U0UHG4VP1","text":"right","ts":"1478570283.002649"},{"type":"message","user":"U0UHG4VP1","text":"we can dispatch _n_ for some very large _n_","ts":"1478570297.002650"},{"type":"message","user":"U0KPFAZNF","text":"is it something we can solve?","ts":"1478570298.002651"},{"type":"message","user":"U0KPFAZNF","text":"by that, i mean, can we get the dispatcher to understand the real queue depth?","ts":"1478570320.002652"},{"type":"message","user":"U0UHG4VP1","text":"I don't quite understand what you're asking. What I would like to see is each minion used exactly once, not sure how knowing the queue depth would help","ts":"1478570502.002653"},{"type":"message","user":"U0UHG4VP1","text":"if the dispatcher is dribbling out builds once there is an available slot, I suppose that might be OK","ts":"1478570568.002654"},{"type":"message","user":"U0UHG4VP1","text":"This is the plugin we're using: <https:\/\/wiki.jenkins-ci.org\/display\/JENKINS\/Openstack+Cloud+Plugin>","ts":"1478570628.002655"},{"type":"message","user":"U0UHG4VP1","text":"well, my theory was wrong: <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/2518\/console> shows the same error","ts":"1478570694.002656"},{"type":"message","user":"U0KPFAZNF","text":"im just not sure what the plumbing looks like, but at a high level I am thinking it seems like it should be solvable if the build queue can only dispatch up to 25 concurrent tasks","ts":"1478571252.002657"},{"type":"message","user":"U0KPFAZNF","text":"or something along those lines","ts":"1478571257.002658"},{"type":"message","user":"U0KPFAZNF","text":"hmm, ok","ts":"1478571271.002659"},{"type":"message","user":"U0KPFAZNF","text":"so, other suspects might be docker 1.8 or AUFS as the backing store","ts":"1478571285.002660"},{"type":"message","user":"U0KPFAZNF","text":"(actually, not sure what backing store we are using elsewhere, I should confirm that","ts":"1478571304.002661"},{"type":"message","user":"U0UHG4VP1","text":"Well, reverify works now, but I suspect it broke something else: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2307\/>","ts":"1478571345.002662"},{"type":"message","user":"U0KPFAZNF","text":"how did you fix it?","ts":"1478572225.002663"},{"type":"message","user":"U0UHG4VP1","text":"I rolled back a bunch of plugins to the versions Fathi suggested in <https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-39010> and I restarted","ts":"1478572548.002664"},{"type":"message","user":"U0UHG4VP1","text":"when I tried it before I didn't roll back the two other plugins","ts":"1478572575.002665"},{"type":"message","user":"U0KPFAZNF","text":"ah","ts":"1478572724.002666"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2ZLLGMS8\/-.txt|Untitled> and commented: This is my system that works","file":{"id":"F2ZLLGMS8","created":1478572736,"timestamp":1478572736,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0KPFAZNF","editable":true,"size":956,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2ZLLGMS8\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2ZLLGMS8\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2ZLLGMS8\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2ZLLGMS8-652a45844f","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2ZLLGMS8\/-.txt\/edit","preview":"$ docker info\r\nContainers: 0\r\n Running: 0\r\n Paused: 0\r\n Stopped: 0\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>$ docker info<\/pre><\/div>\n<div><pre>Containers: 0<\/pre><\/div>\n<div><pre> Running: 0<\/pre><\/div>\n<div><pre> Paused: 0<\/pre><\/div>\n<div><pre> Stopped: 0<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":41,"lines_more":36,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc2ZLLGP8U","created":1478572736,"timestamp":1478572736,"user":"U0KPFAZNF","is_intro":true,"comment":"This is my system that works","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1478572736.002667"},{"type":"message","user":"U0KPFAZNF","text":"so, it looks like I am using AUFS too","ts":"1478572743.002668"},{"type":"message","user":"U0KPFAZNF","text":"but docker 1.12 vs 1.8...perhaps that is the difference","ts":"1478572752.002669"},{"type":"message","user":"U0UHG4VP1","text":"we never were able to get 1.12 working. <@U11HH3P7Y> and I tried again and it was no go","ts":"1478572776.002670"},{"type":"message","user":"U0KPFAZNF","text":"right, i recall that","ts":"1478572784.002671"},{"type":"message","user":"U0KPFAZNF","text":"do you remember where the problem materialized?","ts":"1478572792.002672"},{"type":"message","user":"U0KPFAZNF","text":"was it in behave?","edited":{"user":"U0KPFAZNF","ts":"1478572802.000000"},"ts":"1478572795.002673"},{"type":"message","user":"U0UHG4VP1","text":"I have a go 1.(7?) VM ready to test for the roll forward to go 1.7 but I haven't been able to find time to work with <@U0XQ35CDD> to prove out the VMs","ts":"1478572819.002675"},{"type":"message","user":"U0KPFAZNF","text":"yeah...this change set is actually the one that will make that largely irrelevant","ts":"1478572843.002676"},{"type":"message","user":"U0KPFAZNF","text":"if I can get it all to work AND get agreement its the right direction, of course","ts":"1478572858.002677"},{"type":"message","user":"U0KPFAZNF","text":"(all the build\/testing takes place inside a docker environment","ts":"1478572877.002678"},{"type":"message","user":"U0KPFAZNF","text":"so, it will pick up the golang that is included in the fabric.git references","ts":"1478572893.002679"},{"type":"message","user":"U0UHG4VP1","text":"ah OK.","ts":"1478572906.002680"},{"type":"message","user":"U0KPFAZNF","text":"is it possible to get a 1.12 environment in the sandbox somehow?","ts":"1478572919.002681"},{"type":"message","user":"U0KPFAZNF","text":"I actually do not need much: just make, git, go 1.6+, docker, and docker compose","ts":"1478572940.002682"},{"type":"message","user":"U0KPFAZNF","text":"heres a recipe for it: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2321\/5\/devenv\/setup.sh>","ts":"1478572973.002683"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: these failures seem to be fairly common now: <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/2547\/console>","ts":"1478633666.002684"},{"type":"message","user":"U0KPFAZNF","text":"any idea on whats up?","ts":"1478633670.002685"},{"type":"message","user":"U0YK3KKCY","text":"<@U0KPFAZNF>... not sure if you've seen this <https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-28279>","ts":"1478640347.002686"},{"type":"message","user":"U0KPFAZNF","text":"thanks <@U0YK3KKCY>, I had not (but I hadnt looked)","ts":"1478641510.002687"},{"type":"message","user":"U0YK3KKCY","text":"k","ts":"1478641523.002688"},{"type":"message","user":"U0UHG4VP1","text":"since none of our minions are Windows, and they should have SSH baked in, I don't think that's directly the issue. I don't want to dismiss it, though.","ts":"1478642215.002689"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins I did ask our release engineer group about this, and the position seems to be it's network instability. no other project at our provider seems to hit this as often as we do, though","ts":"1478642265.002690"},{"type":"message","user":"U0KPFAZNF","text":"def weird","ts":"1478642303.002691"},{"type":"message","user":"U0UHG4VP1","text":"agreed","ts":"1478643293.002692"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: this appears hung: <https:\/\/jenkins.hyperledger.org\/sandbox\/job\/docker-native\/>","ts":"1478702269.002693"},{"type":"message","user":"U0KPFAZNF","text":"is the -1.12 worker not available?","ts":"1478702279.002694"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins: my mistake, I just fixed the definition of hyp-fabric-x86_64-1.12","ts":"1478704300.002695"},{"type":"message","user":"U0UHG4VP1","text":"I forgot to select the hardward target","ts":"1478704316.002696"},{"type":"message","user":"U0KPFAZNF","text":"thanks ry, giving it a shot now","ts":"1478704317.002697"},{"type":"message","user":"U0UHG4VP1","text":"and now it's running","ts":"1478704322.002698"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/jenkins.hyperledger.org\/sandbox\/job\/docker-native\/6\/>","ts":"1478704335.002699"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30FTGEKF\/-.txt|Untitled>","file":{"id":"F30FTGEKF","created":1478704378,"timestamp":1478704378,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":213,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30FTGEKF\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30FTGEKF\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30FTGEKF\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F30FTGEKF-f552fce43b","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30FTGEKF\/-.txt\/edit","preview":"https:\/\/jenkins.hyperledger.org\/sandbox\/job\/docker-native\/6\/console \r\n\r\n+ make unit-test\r\nmake: *** No rule to make target `unit-test'.  Stop.\r\nBuild step 'Execute shell' marked build as failure\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>https:\/\/jenkins.hyperledger.org\/sandbox\/job\/docker-native\/6\/console <\/pre><\/div>\n<div><pre><\/pre><\/div>\n<div><pre>+ make unit-test<\/pre><\/div>\n<div><pre>make: *** No rule to make target `unit-test'.  Stop.<\/pre><\/div>\n<div><pre>Build step 'Execute shell' marked build as failure<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":6,"lines_more":1,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1478704379.002700"},{"type":"message","user":"U0KPFAZNF","text":"yeah, i just fixed that","ts":"1478704469.002701"},{"type":"message","user":"U0KPFAZNF","text":"its running again","ts":"1478704471.002702"},{"type":"message","user":"U0KPFAZNF","text":"oddly, this \"worked\" against the previous 1.8 target...i think the tree was persistently retained across runs","ts":"1478704495.002703"},{"type":"message","user":"U0KPFAZNF","text":"is this possible?","ts":"1478704497.002704"},{"type":"message","user":"U0UHG4VP1","text":"on this particular minion, yes, the recycle time on \/sandbox\/ is longer than production","ts":"1478704537.002705"},{"type":"message","user":"U0KPFAZNF","text":"e.g. I was originally checking out the git tree to $WORKSPACE, and I fixed this so that it was checking out to $WORKSPACE\/gopath\/src\/github.com\/hyperledger\/fabric, but the \"make unit-test\" still worked without a cd","ts":"1478704540.002706"},{"type":"message","user":"U0KPFAZNF","text":"I only saw the mistake when we switched to 1.12","ts":"1478704553.002707"},{"type":"message","user":"U0KPFAZNF","text":"ah, ok","ts":"1478704554.002708"},{"type":"message","user":"U0UHG4VP1","text":"which build could I re-fire to test it?","ts":"1478704563.002709"},{"type":"message","user":"U0UHG4VP1","text":"6?","ts":"1478704568.002710"},{"type":"message","user":"U0KPFAZNF","text":"7 is running now","ts":"1478704575.002711"},{"type":"message","user":"U0UHG4VP1","text":"OK. I found out yesterday there _is_ a way to specify that a minion may only be used once, but I haven't pushed that in to production (or sandbox)","ts":"1478704635.002712"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/github.com\/opendaylight\/releng-builder\/blob\/master\/jjb\/releng-macros.yaml#L384-L385>","edited":{"user":"U0UHG4VP1","ts":"1478704719.000000"},"ts":"1478704708.002713"},{"type":"message","user":"U0KPFAZNF","text":"probably the conservative choice if it doesnt break anything else","ts":"1478704709.002715"},{"type":"message","user":"U0UHG4VP1","text":"it makes build times longer, but the time to instantiate a minion doesn't seem as onerous as it used to be","ts":"1478704793.002717"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: at a high level, I did confirm that there seems to be something wrong with using the COPY instruction in docker v1.8 vs 1.12","ts":"1478705624.002718"},{"type":"message","user":"U0KPFAZNF","text":"(which makes little sense to me, but I can confirm that it works in the 1.12 image (as well as my 1.12 environment here at home) and breaks in that weird AUFS way in 1.8","ts":"1478705656.002719"},{"type":"message","user":"U0KPFAZNF","text":"what I would like to move towards is (like I mentioned the other day) something like the .travis.xml model where the repo can define what it needs more than the CI side","ts":"1478705708.002720"},{"type":"message","user":"U0UHG4VP1","text":"ok","ts":"1478705709.002721"},{"type":"message","user":"U0KPFAZNF","text":"but I wanted to ask about what the environment looks like today","ts":"1478705722.002722"},{"type":"message","user":"U0KPFAZNF","text":"i think in the simplest model, this might be that the minion is a basic base (like ubuntu:xenial) and we have the basic \".travis.xml\" like thing do some basic package installs (docker, docker-compose, build-essentials, etc)","ts":"1478705780.002723"},{"type":"message","user":"U0KPFAZNF","text":"how does this all work today?","ts":"1478705790.002724"},{"type":"message","user":"U0KPFAZNF","text":"is it in ci-management.git and you spit out an openstack image?","ts":"1478705804.002725"},{"type":"message","user":"U0KPFAZNF","text":"for instance, whats the ci-managemange\/vagrant stuff?","ts":"1478705873.002726"},{"type":"message","user":"U0KPFAZNF","text":"is that how we build the base CI image?","ts":"1478705880.002727"},{"type":"message","user":"U0UHG4VP1","text":"sort of","ts":"1478706126.002728"},{"type":"message","user":"U0UHG4VP1","text":"it's probably behind the times, which is my fault","ts":"1478706156.002729"},{"type":"message","user":"U0UHG4VP1","text":"actually, <https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=ci-management.git;a=blob;f=vagrant\/fabric\/bootstrap.sh;h=7968c81a8e32b46b4fb5567625a1a6a8854ce837;hb=HEAD> looks fairly up-to-date","ts":"1478706283.002730"},{"type":"message","user":"U0KPFAZNF","text":"ok, ill study that","ts":"1478706406.002731"},{"type":"message","user":"U0KPFAZNF","text":"what I am thinking is; the base environment has just enough logic to pull the repo and check for the \".travis.xml\"...if its not there, it will install an environment similar to what we have committed now","ts":"1478706450.002732"},{"type":"message","user":"U0KPFAZNF","text":"and if it is, it will use the provided instructions instead","ts":"1478706463.002733"},{"type":"message","user":"U0KPFAZNF","text":"do you anticipate this general idea would work or be a problem?","ts":"1478706494.002734"},{"type":"message","user":"U0KPFAZNF","text":"e.g. installing things like docker\/docker-compose at build time ?","ts":"1478706503.002735"},{"type":"message","user":"U0KPFAZNF","text":"the other direction is: we just standardize on a relatively neutral docker platform","ts":"1478706526.002736"},{"type":"message","user":"U0KPFAZNF","text":"(though I still think things like \"make membersrvc-image\" should come from the .travis.xml","ts":"1478706551.002737"},{"type":"message","user":"U0KPFAZNF","text":"even if package install doesnt","ts":"1478706560.002738"},{"type":"message","user":"U0UHG4VP1","text":"we have a basic 14.04 image. would you like me to add a minion type that selects that so you can experiment without any stuff thats been added?","edited":{"user":"U0UHG4VP1","ts":"1478706610.000000"},"ts":"1478706581.002739"},{"type":"message","user":"U0KPFAZNF","text":"16.04 would be better if you have it","ts":"1478706678.002741"},{"type":"message","user":"U0UHG4VP1","text":"the reason we have these images is to reduce build time, I think we'll end up making build times a lot longer if we go the route of starting with very basic VMs","ts":"1478706678.002742"},{"type":"message","user":"U0KPFAZNF","text":"but either way","ts":"1478706680.002743"},{"type":"message","user":"U0UHG4VP1","text":"which I'm OK with","ts":"1478706693.002744"},{"type":"message","user":"U0KPFAZNF","text":"understood..though I think the requirement set is lower now too, which will help","ts":"1478706699.002745"},{"type":"message","user":"U0KPFAZNF","text":"e.g. while build-essentials\/docker\/compose aren't \"free\", they arent awful compared to some of the things we _used_ to need to install","ts":"1478706740.002746"},{"type":"message","user":"U0KPFAZNF","text":"but I understand your point","ts":"1478706745.002747"},{"type":"message","user":"U0KPFAZNF","text":"like I said, we could just define a basic docker-platform minion and go from there","ts":"1478706765.002748"},{"type":"message","user":"U0KPFAZNF","text":"one question would be: what happens to the current mainline build when we run with upgraded docker\/compose?","ts":"1478706787.002749"},{"type":"message","user":"U0KPFAZNF","text":"i know there is some kind of problem with 1.12, but what is it exactly ?","ts":"1478706799.002750"},{"type":"message","user":"U0UHG4VP1","text":"IIRC it hangs at some point. would 16.10 be better for this?","ts":"1478706837.002751"},{"type":"message","user":"U0KPFAZNF","text":"I prefer LTS in general, but 16.10 is probably fine","ts":"1478706859.002752"},{"type":"message","user":"U0KPFAZNF","text":"(14.04 and 16.04 were LTS)","ts":"1478706868.002753"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30G77Q9J\/screen_shot_2016-11-09_at_7.54.18_am.png|which LTS? most recent one?>","file":{"id":"F30G77Q9J","created":1478706895,"timestamp":1478706895,"name":"Screen Shot 2016-11-09 at 7.54.18 AM.png","title":"which LTS? most recent one?","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0UHG4VP1","editable":false,"size":57420,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30G77Q9J\/screen_shot_2016-11-09_at_7.54.18_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30G77Q9J\/download\/screen_shot_2016-11-09_at_7.54.18_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F30G77Q9J-1e772e38ed\/screen_shot_2016-11-09_at_7.54.18_am_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F30G77Q9J-1e772e38ed\/screen_shot_2016-11-09_at_7.54.18_am_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F30G77Q9J-1e772e38ed\/screen_shot_2016-11-09_at_7.54.18_am_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":225,"thumb_360_h":360,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F30G77Q9J-1e772e38ed\/screen_shot_2016-11-09_at_7.54.18_am_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":300,"thumb_480_h":480,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F30G77Q9J-1e772e38ed\/screen_shot_2016-11-09_at_7.54.18_am_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","image_exif_rotation":1,"original_w":309,"original_h":494,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30G77Q9J\/screen_shot_2016-11-09_at_7.54.18_am.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F30G77Q9J-ef8368631e","channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1478706898.002754"},{"type":"message","user":"U0UHG4VP1","text":"the 11-02 image?","ts":"1478706910.002755"},{"type":"message","user":"U0UHG4VP1","text":"16.04 11-02","ts":"1478706919.002756"},{"type":"message","user":"U0KPFAZNF","text":"yeah, 16.04.xx where xx is latest should be fine","ts":"1478706920.002757"},{"type":"message","user":"U0UHG4VP1","text":"OK. the new label is hyp-fabric-x86_64-16.04","ts":"1478706969.002758"},{"type":"message","user":"U0UHG4VP1","text":"(sandbox only)","ts":"1478706983.002759"},{"type":"message","user":"U0KPFAZNF","text":"awesome, thanks","ts":"1478707031.002760"},{"type":"message","user":"U0KPFAZNF","text":"just basic ubuntu I take it?","ts":"1478707038.002761"},{"type":"message","user":"U0UHG4VP1","text":"I've never actually tested these images, they're supplied by our hosting provider","ts":"1478707039.002762"},{"type":"message","user":"U0KPFAZNF","text":"sure, np","ts":"1478707044.002763"},{"type":"message","user":"U0UHG4VP1","text":"they may have fatal, basic errors","ts":"1478707047.002764"},{"type":"message","user":"U0KPFAZNF","text":"heh, im getting used to that scenario","ts":"1478707064.002765"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/sandbox\/job\/docker-native\/7\/console>","ts":"1478707068.002766"},{"type":"message","user":"U0UHG4VP1","text":"they should be vanilla","ts":"1478707069.002767"},{"type":"message","user":"U0KPFAZNF","text":"this seems to be slow, I wonder if that is the 1.12 hang","ts":"1478707076.002768"},{"type":"message","user":"U0KPFAZNF","text":"if so, im kind of screwed...1.8 pukes on COPY directive","ts":"1478707097.002769"},{"type":"message","user":"U0UHG4VP1","text":"let me look","ts":"1478707100.002770"},{"type":"message","user":"U0KPFAZNF","text":"i launched that job a while ago...it might just be slow","ts":"1478707114.002771"},{"type":"message","user":"U0UHG4VP1","text":"unfortunately I don't have the logs here to see exactly which build we tried 1.12 on last","ts":"1478707294.002772"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> do you know what the exact behavior was when we tried 1.12 and it hung?","ts":"1478707326.002773"},{"type":"message","user":"U11HH3P7Y","text":"While executing common.sh script (updating ubuntu packages)","ts":"1478707371.002774"},{"type":"message","user":"U11HH3P7Y","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/v0.6\/scripts\/provision\/common.sh#L5>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/v0.6\/scripts\/provision\/common.sh#L5","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/v0.6\/scripts\/provision\/common.sh#L5","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1478707418.002775"},{"type":"message","user":"U0UHG4VP1","text":"thank you","ts":"1478707597.002777"},{"type":"message","user":"U0KPFAZNF","text":"ah, thats right","ts":"1478707603.002778"},{"type":"message","user":"U0KPFAZNF","text":"i remember now, thank you <@U11HH3P7Y>","ts":"1478707610.002779"},{"type":"message","user":"U0KPFAZNF","text":"this WGET is hanging now","ts":"1478707626.002780"},{"type":"message","user":"U0KPFAZNF","text":"i wonder if the network access from within the container is flaky or something","ts":"1478707637.002781"},{"type":"message","user":"U0KPFAZNF","text":"(in 1.12, i mean)","ts":"1478707642.002782"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/sandbox\/job\/docker-native\/7\/console>","ts":"1478707667.002783"},{"type":"message","user":"U0KPFAZNF","text":"im going to try with the base 16.04 that was just provided","ts":"1478707677.002784"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> can you confirm the -16.04 config?  it seems to be acting like 1.12 was earlier","ts":"1478708035.002785"},{"type":"message","user":"U0KPFAZNF","text":"queued but no hardware comes up","ts":"1478708044.002786"},{"type":"message","user":"U0UHG4VP1","text":"yeah I'm doing that right now","ts":"1478708055.002787"},{"type":"message","user":"U0UHG4VP1","text":"it isn't even trying to spawn it and I don't see any errors in the console :confused:","ts":"1478708270.002788"},{"type":"message","user":"U0UHG4VP1","text":"ah hah! we've reached the maximum node limit of 2 :slightly_smiling_face:","ts":"1478708366.002789"},{"type":"message","user":"U0UHG4VP1","text":"I bumped that to 3, it should spawn now","ts":"1478708449.002790"},{"type":"message","user":"U0KPFAZNF","text":"ok, cool","ts":"1478708588.002791"},{"type":"message","user":"U0UHG4VP1","text":"it looks like one of the things we bake in right off the bat is ssh credentials, which this VM doesn't have","ts":"1478708629.002792"},{"type":"message","user":"U0KPFAZNF","text":"ah","ts":"1478708636.002793"},{"type":"message","user":"U0UHG4VP1","text":"dang","ts":"1478708651.002794"},{"type":"message","user":"U0KPFAZNF","text":"are you running this all in vagrant?","ts":"1478708667.002795"},{"type":"message","user":"U0KPFAZNF","text":"e.g. are the minions vagrant based?","ts":"1478708679.002796"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2ZP5H6TS\/-.txt|Untitled>","file":{"id":"F2ZP5H6TS","created":1478708695,"timestamp":1478708695,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":331,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2ZP5H6TS\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2ZP5H6TS\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2ZP5H6TS\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2ZP5H6TS-c47f23a98d","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2ZP5H6TS\/-.txt\/edit","preview":"https:\/\/jenkins.hyperledger.org\/sandbox\/computer\/hyp-x86_64-16.04-745\/log\r\n[11\/09\/16 16:24:41] [SSH] Opening SSH connection to 10.30.65.193:22.\r\nConnection refused (Connection refused)\r\nERROR: Unexpected error in launching a slave. This is probably a bug in Jenkins.\r\njava.lang.IllegalStateException: Connection is not established!","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>https:\/\/jenkins.hyperledger.org\/sandbox\/computer\/hyp-x86_64-16.04-745\/log<\/pre><\/div>\n<div><pre>[11\/09\/16 16:24:41] [SSH] Opening SSH connection to 10.30.65.193:22.<\/pre><\/div>\n<div><pre>Connection refused (Connection refused)<\/pre><\/div>\n<div><pre>ERROR: Unexpected error in launching a slave. This is probably a bug in Jenkins.<\/pre><\/div>\n<div><pre>java.lang.IllegalStateException: Connection is not established!<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":5,"lines_more":0,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1478708695.002797"},{"type":"message","user":"U0UHG4VP1","text":"yes","ts":"1478708700.002798"},{"type":"message","user":"U0KPFAZNF","text":"interesting","ts":"1478708715.002799"},{"type":"message","user":"U0UHG4VP1","text":"I could take a stab at whipping up a minimal 16.04 image later today","ts":"1478708844.002800"},{"type":"message","user":"U0KPFAZNF","text":"ok, thanks","ts":"1478708874.002801"},{"type":"message","user":"U0KPFAZNF","text":"if you want to pre-bake it with docker, follow this recipe: <https:\/\/github.com\/ghaskins\/hyperledger-fabric\/blob\/docker-native\/devenv\/setup.sh#L64> to L81","attachments":[{"service_name":"GitHub","title":"ghaskins\/hyperledger-fabric","title_link":"https:\/\/github.com\/ghaskins\/hyperledger-fabric\/blob\/docker-native\/devenv\/setup.sh#L64","text":"hyperledger-fabric - Blockchain fabric code","fallback":"GitHub: ghaskins\/hyperledger-fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/ghaskins\/hyperledger-fabric\/blob\/docker-native\/devenv\/setup.sh#L64","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1478708940.002802"},{"type":"message","user":"U0UHG4VP1","text":"since it takes a while to generate the image, what is the baseline you need in it? docker 1.12 or should I not even... OK","ts":"1478708948.002804"},{"type":"message","user":"U0KPFAZNF","text":"I dont _think_ you will need L85-86, but I am not sure","ts":"1478708978.002805"},{"type":"message","user":"U0UHG4VP1","text":"if I ran them and didn't need them, is it fatal?","ts":"1478709047.002806"},{"type":"message","user":"U0UHG4VP1","text":"it looks like we would end up with a .bak of the OEM docker config","ts":"1478709107.002807"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: do you know if there is a proxy server in the CI environment?","ts":"1478714261.002808"},{"type":"message","user":"U0KPFAZNF","text":"I have a theory that things running within docker 1.12 are having trouble reaching the network for whatever reason","ts":"1478714291.002809"},{"type":"message","user":"U0KPFAZNF","text":"proxy servers would be my first suspect","ts":"1478714300.002810"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/sandbox\/job\/mainline-build\/1\/console>","ts":"1478714359.002814"},{"type":"message","user":"U0KPFAZNF","text":"so the problem is not with running ubuntu or network access, per se","ts":"1478718822.002815"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/sandbox\/job\/mainline-build\/7\/console>","ts":"1478718823.002816"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/sandbox\/job\/mainline-build\/8\/console>","ts":"1478719335.002817"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF>: I just got back home, sorry for the delay. There is a proxy but it should be transparent ","ts":"1478719470.002818"},{"type":"message","user":"U0UHG4VP1","text":"Minions are all 10. addresses ","ts":"1478719490.002819"},{"type":"message","user":"U0KPFAZNF","text":"yeah, it doesnt seem to be a proxy thing","ts":"1478719501.002820"},{"type":"message","user":"U0KPFAZNF","text":"basic wgets work","ts":"1478719504.002821"},{"type":"message","user":"U0KPFAZNF","text":"its something about installing packages, it seems","ts":"1478719514.002822"},{"type":"message","user":"U0KPFAZNF","text":"see job 8","ts":"1478719524.002823"},{"type":"message","user":"U0UHG4VP1","text":"I bet there is a prompt coming up","ts":"1478719536.002824"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F30HLDWKU\/-.php|Untitled> and commented: This is what is running","file":{"id":"F30HLDWKU","created":1478719559,"timestamp":1478719559,"name":"-.php","title":"Untitled","mimetype":"text\/plain","filetype":"php","pretty_type":"PHP","user":"U0KPFAZNF","editable":true,"size":95,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30HLDWKU\/-.php?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30HLDWKU\/download\/-.php?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F30HLDWKU\/-.php","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F30HLDWKU-0ff9d60ee5","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F30HLDWKU\/-.php\/edit","preview":"docker run -i ghaskins\/wget wget http:\/\/www.cnn.com\r\ndocker run -i ghaskins\/wget apt-get update","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>docker run -i ghaskins\/wget wget http:\/\/www.cnn.com<\/pre><\/div>\n<div><pre>docker run -i ghaskins\/wget apt-get update<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":2,"lines_more":0,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc30L4UF2R","created":1478719559,"timestamp":1478719559,"user":"U0KPFAZNF","is_intro":true,"comment":"This is what is running","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1478719559.002825"},{"type":"message","user":"U0KPFAZNF","text":"the wget works fine, the apt-get is super slow","ts":"1478719567.002826"},{"type":"message","user":"U0KPFAZNF","text":"i have to step out, but feel free to play around with that task","ts":"1478719588.002827"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F30L5F4P7\/-.txt|Untitled> and commented: The Dockerfile for ghaskins\/wget","file":{"id":"F30L5F4P7","created":1478719618,"timestamp":1478719618,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0KPFAZNF","editable":true,"size":65,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30L5F4P7\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30L5F4P7\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F30L5F4P7\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F30L5F4P7-926d36fb77","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F30L5F4P7\/-.txt\/edit","preview":"FROM ubuntu:xenial\r\nRUN apt-get update && apt-get install -y wget","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>FROM ubuntu:xenial<\/pre><\/div>\n<div><pre>RUN apt-get update &amp;&amp; apt-get install -y wget<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":2,"lines_more":0,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc30L5FBM3","created":1478719618,"timestamp":1478719618,"user":"U0KPFAZNF","is_intro":true,"comment":"The Dockerfile for ghaskins\/wget","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1478719619.002828"},{"type":"message","user":"U0UHG4VP1","text":"Ok will do ","ts":"1478719758.002829"},{"type":"message","user":"U0KPFAZNF","text":"back","ts":"1478721857.002830"},{"type":"message","user":"U0KPFAZNF","text":"any updates?","ts":"1478721861.002831"},{"type":"message","user":"U0UHG4VP1","text":"I'm watching it slowly scroll. it is moving. I've filed a ticket to see if there is a networking issue.","ts":"1478721891.002832"},{"type":"message","user":"U0KPFAZNF","text":"I wonder if we've been throttled or something","ts":"1478721904.002833"},{"type":"message","user":"U0KPFAZNF","text":"at the <http:\/\/ubuntu.com|ubuntu.com> side, I mean","ts":"1478721917.002834"},{"type":"message","user":"U0KPFAZNF","text":"i dont think it would be the case generally, as we seem to be able to pull large objects from dockerhub ok","ts":"1478721935.002835"},{"type":"message","user":"U0UHG4VP1","text":"so we ran into something like this before. the mirror we get is some local-to-Vexxhost mirror, and it's super slow sometimes. There is a sed command in the history of the vagrant files (it may be deleted now) that forced a US mirror","ts":"1478721982.002836"},{"type":"message","user":"U0KPFAZNF","text":"that aside, might be nice to have something like a squid proxy available in the DC","ts":"1478721999.002837"},{"type":"message","user":"U0KPFAZNF","text":"ah, that makes sense too","ts":"1478722011.002838"},{"type":"message","user":"U0UHG4VP1","text":"anyway, let me set other stuff aside and get cracking on this","ts":"1478722069.002839"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1478722075.002840"},{"type":"message","user":"U0UHG4VP1","text":"everything you're doing will make my life easier so I want to support you in this :slightly_smiling_face:","ts":"1478722084.002841"},{"type":"message","user":"U0KPFAZNF","text":"thank you!","ts":"1478722094.002842"},{"type":"message","user":"U0KPFAZNF","text":"not that you aren't always super helpful anyway","ts":"1478722107.002843"},{"type":"message","user":"U0KPFAZNF","text":"but i do appreciate that","ts":"1478722112.002844"},{"type":"message","user":"U0KPFAZNF","text":"we used to inject mirrors into the apt setup, but we removed it due to reliability concerns","ts":"1478722167.002845"},{"type":"message","user":"U0KPFAZNF","text":"i could track that down and see if it might help here","ts":"1478722174.002846"},{"type":"message","user":"U0UHG4VP1","text":"after I roll a new image once, will it matter?","ts":"1478722228.002847"},{"type":"message","user":"U0KPFAZNF","text":"its hard to say: right now I am trying to track the general problem with using 1.12 in the cluster","ts":"1478722313.002848"},{"type":"message","user":"U0KPFAZNF","text":"and I am running into this \"hang\" in several different contexts within a build","ts":"1478722331.002849"},{"type":"message","user":"U0KPFAZNF","text":"I have a feeling we have to solve this one way or another","ts":"1478722342.002850"},{"type":"message","user":"U0KPFAZNF","text":"is it ok if I kill #8 and reload a new dockerhub image?","ts":"1478722359.002851"},{"type":"message","user":"U0KPFAZNF","text":"or are you going to experiment with whats there?","ts":"1478722367.002852"},{"type":"message","user":"U0UHG4VP1","text":"go ahead","ts":"1478722372.002853"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1478722375.002854"},{"type":"message","user":"U0UHG4VP1","text":"I can't connect to those instances","ts":"1478722378.002855"},{"type":"message","user":"U0UHG4VP1","text":"I can't _easily or reasonably_ connect to them","ts":"1478722390.002856"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1478722400.002857"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2ZSZDG8G\/-.pl|Untitled> and commented: Found this","file":{"id":"F2ZSZDG8G","created":1478722421,"timestamp":1478722421,"name":"-.pl","title":"Untitled","mimetype":"text\/plain","filetype":"perl","pretty_type":"Perl","user":"U0KPFAZNF","editable":true,"size":1543,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2ZSZDG8G\/-.pl?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2ZSZDG8G\/download\/-.pl?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2ZSZDG8G\/-.pl","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2ZSZDG8G-04f2c65751","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2ZSZDG8G\/-.pl\/edit","preview":"commit 5ee82b99275b9d8c452b9d1bda71f792c06bc1cb\r\nAuthor: Gregory Haskins <gregory.haskins@gmail.com>\r\nDate:   Wed Aug 31 11:11:50 2016 -0400\r\n\r\n    Revert \"Change APT to use mirror protocol\"\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-meta\">commit<\/span> <span class=\"cm-number\">5<\/span><span class=\"cm-meta\">ee82b99275b9d8c452b9d1bda71f792c06bc1cb<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-meta\">Author<\/span><span class=\"cm-operator\">:<\/span> <span class=\"cm-meta\">Gregory<\/span> <span class=\"cm-meta\">Haskins<\/span> <span class=\"cm-operator\">&lt;<\/span><span class=\"cm-meta\">gregory<\/span><span class=\"cm-operator\">.<\/span><span class=\"cm-meta\">haskins<\/span><span class=\"cm-variable\">@gmail<\/span><span class=\"cm-operator\">.<\/span><span class=\"cm-meta\">com<\/span><span class=\"cm-operator\">&gt;<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-meta\">Date<\/span><span class=\"cm-operator\">:<\/span>   <span class=\"cm-meta\">Wed<\/span> <span class=\"cm-meta\">Aug<\/span> <span class=\"cm-number\">31<\/span> <span class=\"cm-number\">11<\/span><span class=\"cm-operator\">:<\/span><span class=\"cm-number\">11<\/span><span class=\"cm-operator\">:<\/span><span class=\"cm-number\">50<\/span> <span class=\"cm-number\">2016<\/span> <span class=\"cm-operator\">-<\/span><span class=\"cm-number\">0400<\/span><\/pre><\/div>\n<div><pre>&#8203;<\/pre><\/div>\n<div><pre>    <span class=\"cm-meta\">Revert<\/span> <span class=\"cm-string\">&quot;Change APT to use mirror protocol&quot;<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":37,"lines_more":32,"preview_is_truncated":true,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc30LKUVJQ","created":1478722421,"timestamp":1478722421,"user":"U0KPFAZNF","is_intro":true,"comment":"Found this","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1478722422.002858"},{"type":"message","user":"U0UHG4VP1","text":"this sounds familiar","ts":"1478722459.002859"},{"type":"message","user":"U0KPFAZNF","text":"like I mentioned, it was flaky so we reverted it, but it might be a good data point if a mirror is faster","ts":"1478722461.002860"},{"type":"message","user":"U0KPFAZNF","text":"ok, i pushed a new ghaskins\/wget out that has the mirrors set","ts":"1478722772.002861"},{"type":"message","user":"U0KPFAZNF","text":"running #9 now, lets see what happens","ts":"1478722781.002862"},{"type":"message","user":"U0KPFAZNF","text":"too early to tell, but it seems like its going to be slow again","ts":"1478722967.002863"},{"type":"message","user":"U0KPFAZNF","text":"now I am wondering if its some problem with the networking in the 1.12 guests","ts":"1478722983.002864"},{"type":"message","user":"U0KPFAZNF","text":"maybe \"it works\" but its just really slow","ts":"1478723002.002865"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: did you get a chance to build that pure 16.04 image?","ts":"1478723037.002866"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins I am building that right now","ts":"1478723053.002867"},{"type":"message","user":"U0KPFAZNF","text":"or, new 16.04 image ,  should say","ts":"1478723057.002868"},{"type":"message","user":"U0KPFAZNF","text":"cool","ts":"1478723058.002869"},{"type":"message","user":"U0UHG4VP1","text":"it's a much longer process, since I need to build two images: the base image, and a fabric layer","ts":"1478723077.002870"},{"type":"message","user":"U0KPFAZNF","text":"np","ts":"1478723096.002871"},{"type":"message","user":"U0KPFAZNF","text":"just to sanity check, im going to kill #9 and repoint it at the production images","ts":"1478723143.002872","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"i think it will run full speed","ts":"1478723151.002873"},{"type":"message","user":"U0KPFAZNF","text":"ok, run #10 in the queue","ts":"1478723195.002874"},{"type":"message","user":"U0KPFAZNF","text":"#10 run and done","ts":"1478723398.002875"},{"type":"message","user":"U0KPFAZNF","text":"def something whacky with 1.12 image, just not sure what","edited":{"user":"U0KPFAZNF","ts":"1478723419.000000"},"ts":"1478723411.002876"},{"type":"message","user":"U0UHG4VP1","text":"since we've had problems with everything forward of 1.8, I'm a little suspicious of docker in this environment","ts":"1478723593.002878"},{"type":"message","user":"U0KPFAZNF","text":"do we have other options for the base?","ts":"1478723788.002879"},{"type":"message","user":"U0KPFAZNF","text":"all we really need is something with docker+compose","ts":"1478723803.002880"},{"type":"message","user":"U0KPFAZNF","text":"everything else, I can work around","ts":"1478723810.002881"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: need docker-compose version 1.8.1 in CI to execute fabric-sdk-node docker-compose file","ts":"1478724146.002882"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins this will be much easier if I can build on the existing 14.04 image. ramesh: will your request work with ghaskins' request for docker 1.12?","ts":"1478724339.002883"},{"type":"message","user":"U11HH3P7Y","text":"yes.. It should work","ts":"1478724407.002884"},{"type":"message","user":"U11HH3P7Y","text":"right now I have docker 1.12.1 and compose version 1.8.1","ts":"1478724431.002885"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: i can work with that","ts":"1478724444.002886"},{"type":"message","user":"U0KPFAZNF","text":"and ramesh's request jives well with my requirements too","ts":"1478724462.002887"},{"text":"gets used to typing vagrant destroy :slightly_smiling_face:","type":"message","subtype":"me_message","user":"U0UHG4VP1","ts":"1478724472.002888"},{"type":"message","user":"U0KPFAZNF","text":"I have been testing on v1.12.x and compose 1.8.1 and all works well (locally)","ts":"1478724484.002889"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KPFAZNF>: we have to update in baseimage as well","ts":"1478724492.002890"},{"type":"message","user":"U0KPFAZNF","text":"and I know compose 1.5.2 is too old","ts":"1478724492.002891"},{"type":"message","user":"U11HH3P7Y","text":"yes","ts":"1478724504.002892"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> in the new design, devenv wont even use baseimage any more","ts":"1478724516.002893"},{"type":"message","user":"U0KPFAZNF","text":"(you wont even need devenv, really, though i will still provide it for those who want\/need it","ts":"1478724536.002894"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2321\/>","ts":"1478724554.002895"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> ^^^","ts":"1478724558.002896"},{"type":"message","user":"U11HH3P7Y","text":"ok checking","ts":"1478724568.002897"},{"type":"message","user":"U0KPFAZNF","text":"in the new design, devenv is just simple ubuntu+docker+compose v1.8.1","ts":"1478724578.002898"},{"type":"message","user":"U11HH3P7Y","text":"yes thanks","ts":"1478724592.002899"},{"type":"message","user":"U0KPFAZNF","text":"and the hope is that CI will be similar","ts":"1478724596.002900"},{"type":"message","user":"U0KPFAZNF","text":"to be clear: we will still have a baseimage for docker","ts":"1478724619.002901"},{"type":"message","user":"U0KPFAZNF","text":"this is primarily w.r.t. vagrant\/ci","ts":"1478724629.002902"},{"type":"message","user":"U0KPFAZNF","text":"but, to your point...if we continue to use vagrant baseimage, it needs an update to compose, agreed","ts":"1478724664.002903"},{"type":"message","user":"U0KPFAZNF","text":"(it has v1.5.2 right now)","ts":"1478724677.002904"},{"type":"message","user":"U0KPFAZNF","text":"out of curiosity, why does sdk need 1.8.1?","ts":"1478724688.002905"},{"type":"message","user":"U11HH3P7Y","text":"<https:\/\/github.com\/rennman\/updateNodeSdkUT\/blob\/updateNodeSdkUT\/test\/unit\/docker-compose.yml#L1>","attachments":[{"service_name":"GitHub","title":"rennman\/updateNodeSdkUT","title_link":"https:\/\/github.com\/rennman\/updateNodeSdkUT\/blob\/updateNodeSdkUT\/test\/unit\/docker-compose.yml#L1","text":"Contribute to updateNodeSdkUT development by creating an account on GitHub.","fallback":"GitHub: rennman\/updateNodeSdkUT","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/17709133?v=3&s=400","from_url":"https:\/\/github.com\/rennman\/updateNodeSdkUT\/blob\/updateNodeSdkUT\/test\/unit\/docker-compose.yml#L1","thumb_width":237,"thumb_height":237,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1478724722.002906"},{"type":"message","user":"U0KPFAZNF","text":"ah, yes","ts":"1478724735.002908"},{"type":"message","user":"U0KPFAZNF","text":"version 2.0 format","ts":"1478724742.002909"},{"type":"message","user":"U0KPFAZNF","text":"note I found the \"links\" function flaky","ts":"1478724757.002910"},{"type":"message","user":"U0KPFAZNF","text":"in v2.0 format, i mean","ts":"1478724763.002911"},{"type":"message","user":"U0KPFAZNF","text":"it was not respecting order nor injecting the hosts entries for me, at least on docker-for-mac + 1.8.1","ts":"1478724782.002912"},{"type":"message","user":"U0KPFAZNF","text":"I ended up fixing it by reverting to 1.0 schema","ts":"1478724795.002913"},{"type":"message","user":"U0KPFAZNF","text":"jfyi","ts":"1478724822.002914"},{"text":"is impressed every time he runs *vagrant up* how much time is spent, every time, downloading and building rocksdb","type":"message","subtype":"me_message","user":"U0UHG4VP1","ts":"1478725213.002915"},{"type":"message","user":"U0UHG4VP1","text":"even though I baked it into the image","ts":"1478725222.002916"},{"type":"message","user":"U0KPFAZNF","text":"thats odd","ts":"1478725319.002917"},{"type":"message","user":"U0KPFAZNF","text":"fwiw, it seems like that will be gone soon","ts":"1478725330.002918"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2355\/>","ts":"1478725352.002919"},{"type":"message","user":"U0UHG4VP1","text":"nice.","ts":"1478725393.002920"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2ZUNBA3T\/so_one_downside_to_running_this_on_14_04.txt|so one downside to running this on 14.04>","file":{"id":"F2ZUNBA3T","created":1478725435,"timestamp":1478725435,"name":"so_one_downside_to_running_this_on_14_04.txt","title":"so one downside to running this on 14.04","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":67,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2ZUNBA3T\/so_one_downside_to_running_this_on_14_04.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2ZUNBA3T\/download\/so_one_downside_to_running_this_on_14_04.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2ZUNBA3T\/so_one_downside_to_running_this_on_14_04.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2ZUNBA3T-1e2f05535e","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2ZUNBA3T\/so_one_downside_to_running_this_on_14_04.txt\/edit","preview":"root@rjones-vagrant-3:~# go version\r\ngo version go1.2.1 linux\/amd64","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>root@rjones-vagrant-3:~# go version<\/pre><\/div>\n<div><pre>go version go1.2.1 linux\/amd64<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":2,"lines_more":0,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1478725436.002921"},{"type":"message","user":"U0UHG4VP1","text":"that's after lines 62-64 of <https:\/\/github.com\/ghaskins\/hyperledger-fabric\/blob\/docker-native\/devenv\/setup.sh#L64>","attachments":[{"service_name":"GitHub","title":"ghaskins\/hyperledger-fabric","title_link":"https:\/\/github.com\/ghaskins\/hyperledger-fabric\/blob\/docker-native\/devenv\/setup.sh#L64","text":"hyperledger-fabric - Blockchain fabric code","fallback":"GitHub: ghaskins\/hyperledger-fabric","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400","from_url":"https:\/\/github.com\/ghaskins\/hyperledger-fabric\/blob\/docker-native\/devenv\/setup.sh#L64","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1478725460.002922"},{"type":"message","user":"U0KPFAZNF","text":"hah, thats 14.04 for you :wink:","ts":"1478725492.002924"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30H3P6MR\/we_already_have_these.txt|we already have these>","file":{"id":"F30H3P6MR","created":1478725502,"timestamp":1478725502,"name":"we_already_have_these.txt","title":"we already have these","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":77,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30H3P6MR\/we_already_have_these.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30H3P6MR\/download\/we_already_have_these.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30H3P6MR\/we_already_have_these.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F30H3P6MR-c7ca6bb249","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30H3P6MR\/we_already_have_these.txt\/edit","preview":"root@rjones-vagrant-3:~# ls \/opt\/go\r\ngo1.6.linux.amd64  go1.7.3.linux.amd64\r\n","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>root@rjones-vagrant-3:~# ls \/opt\/go<\/pre><\/div>\n<div><pre>go1.6.linux.amd64  go1.7.3.linux.amd64<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":3,"lines_more":0,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1478725503.002925"},{"type":"message","user":"U0KPFAZNF","text":"oh","ts":"1478725511.002926"},{"type":"message","user":"U0KPFAZNF","text":"its probably a path thing","ts":"1478725525.002927"},{"type":"message","user":"U0KPFAZNF","text":"that script I provided does an apt-get install golang","ts":"1478725536.002928"},{"type":"message","user":"U0KPFAZNF","text":"but it was written for 16.04","ts":"1478725542.002929"},{"type":"message","user":"U0KPFAZNF","text":"(which is 1.6","ts":"1478725545.002930"},{"type":"message","user":"U0UHG4VP1","text":"yes, I'm just following along","ts":"1478725547.002931"},{"type":"message","user":"U0KPFAZNF","text":"im guessing it pulled the 14.04 package in","ts":"1478725556.002932"},{"type":"message","user":"U0KPFAZNF","text":"i _think_ we can fix with some envvar manipulations","ts":"1478725571.002933"},{"type":"message","user":"U0KPFAZNF","text":"if 1.7.3 is available, just shoot for that one","ts":"1478725590.002934"},{"type":"message","user":"U0KPFAZNF","text":"I think you would need basically GOROOT=\/opt\/go\/go1.7.3.linux.amd64 and PATH=$PATH:$GOROOT\/bin","ts":"1478725643.002935"},{"type":"message","user":"U0KPFAZNF","text":"though you might need to make that first to eclipse the 1.2 package","ts":"1478725662.002936"},{"type":"message","user":"U0KPFAZNF","text":"(I would just remove the 14.04 package, less confusion likely","ts":"1478725675.002937"},{"type":"message","user":"U0UHG4VP1","text":"the new slack client uses less RAM but doesn't even keep a whole page of backscroll","ts":"1478725740.002938"},{"type":"message","user":"U0KPFAZNF","text":"sorry, i just realized you said \"one downside of 14.04\"","edited":{"user":"U0KPFAZNF","ts":"1478725768.000000"},"ts":"1478725757.002939"},{"type":"message","user":"U0UHG4VP1","text":"yes, what were you thinking? am I confused? I mean, I am often confused, am I confused about this particular fact?","ts":"1478725850.002941"},{"type":"message","user":"U0KPFAZNF","text":"no no, i just realized I explained the 14.04 thing when you clearly already understood that","ts":"1478725881.002942"},{"type":"message","user":"U0KPFAZNF","text":"I missed the comment that indicated you already figured out that was the culprit","ts":"1478725906.002943"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30MFAXU4\/-.txt|Untitled>","file":{"id":"F30MFAXU4","created":1478725908,"timestamp":1478725908,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":175,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30MFAXU4\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30MFAXU4\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30MFAXU4\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F30MFAXU4-1235a18231","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30MFAXU4\/-.txt\/edit","preview":"root@rjones-vagrant-3:~# docker --version\r\nDocker version 1.12.3, build 6b644ec\r\nroot@rjones-vagrant-3:~# docker-compose --version\r\ndocker-compose version 1.8.1, build 878cff1","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>root@rjones-vagrant-3:~# docker --version<\/pre><\/div>\n<div><pre>Docker version 1.12.3, build 6b644ec<\/pre><\/div>\n<div><pre>root@rjones-vagrant-3:~# docker-compose --version<\/pre><\/div>\n<div><pre>docker-compose version 1.8.1, build 878cff1<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":4,"lines_more":0,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1478725908.002944"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> ^^^^","ts":"1478725918.002945"},{"type":"message","user":"U0KPFAZNF","text":"that LGTM","ts":"1478725935.002946"},{"type":"message","user":"U0UHG4VP1","text":"is there anything else I need to explicitly check versions on before I wrap this up? it takes a while to spawn these VMs so I'd like to check every little box","ts":"1478725953.002947"},{"type":"message","user":"U0UHG4VP1","text":"and you know how to chose the version of go you need, since they're both there?","ts":"1478725980.002948"},{"type":"message","user":"U0KPFAZNF","text":"if you have the suite indicated by that script, I think we are good","ts":"1478725988.002949"},{"type":"message","user":"U0KPFAZNF","text":"you installed build-essential too?","ts":"1478725994.002950"},{"type":"message","user":"U0KPFAZNF","text":"(my script did, not sure if you edited it)","ts":"1478726008.002951"},{"type":"message","user":"U0UHG4VP1","text":"how would I tell the version?","ts":"1478726014.002952"},{"type":"message","user":"U0KPFAZNF","text":"im not sure it matters, but I guess you could look at make --version, git --version","ts":"1478726033.002953"},{"type":"message","user":"U0KPFAZNF","text":"i think basically any make\/git from 14.04 should work","ts":"1478726056.002954"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2ZUTLL2V\/-.txt|Untitled>","file":{"id":"F2ZUTLL2V","created":1478726081,"timestamp":1478726081,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":343,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2ZUTLL2V\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2ZUTLL2V\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2ZUTLL2V\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2ZUTLL2V-c242bef21b","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2ZUTLL2V\/-.txt\/edit","preview":"root@rjones-vagrant-3:~# make --version && git --version\r\nGNU Make 3.81\r\nCopyright (C) 2006  Free Software Foundation, Inc.\r\nThis is free software; see the source for copying conditions.\r\nThere is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>root@rjones-vagrant-3:~# make --version &amp;&amp; git --version<\/pre><\/div>\n<div><pre>GNU Make 3.81<\/pre><\/div>\n<div><pre>Copyright (C) 2006  Free Software Foundation, Inc.<\/pre><\/div>\n<div><pre>This is free software; see the source for copying conditions.<\/pre><\/div>\n<div><pre>There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":10,"lines_more":5,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1478726081.002955"},{"type":"message","user":"U0KPFAZNF","text":"id say fire it in....","ts":"1478726084.002956"},{"type":"message","user":"U11HH3P7Y","text":"do we need upgrade go version?","ts":"1478726097.002957"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> he has 1.7.3 already available","ts":"1478726113.002958"},{"type":"message","user":"U0KPFAZNF","text":"not sure what the production flow would be, but for my sandbox needs, ill just wire it up with envvars","ts":"1478726132.002959"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2ZUU73FT\/-.txt|Untitled>","file":{"id":"F2ZUU73FT","created":1478726148,"timestamp":1478726148,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":473,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2ZUU73FT\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2ZUU73FT\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2ZUU73FT\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2ZUU73FT-56995c4070","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2ZUU73FT\/-.txt\/edit","preview":"root@rjones-vagrant-3:~# ls -l \/opt\/go\/*\/bin\r\n\/opt\/go\/go1.6.linux.amd64\/bin:\r\ntotal 34044\r\n-rwxr-xr-x 1 root root 12523312 Feb 17  2016 go\r\n-rwxr-xr-x 1 root root 18438408 Feb 17  2016 godoc\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>root@rjones-vagrant-3:~# ls -l \/opt\/go\/*\/bin<\/pre><\/div>\n<div><pre>\/opt\/go\/go1.6.linux.amd64\/bin:<\/pre><\/div>\n<div><pre>total 34044<\/pre><\/div>\n<div><pre>-rwxr-xr-x 1 root root 12523312 Feb 17  2016 go<\/pre><\/div>\n<div><pre>-rwxr-xr-x 1 root root 18438408 Feb 17  2016 godoc<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":14,"lines_more":9,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1478726149.002960"},{"type":"message","user":"U0KPFAZNF","text":"thats perfect (for me)","ts":"1478726164.002961"},{"type":"message","user":"U11HH3P7Y","text":"yes..","ts":"1478726170.002962"},{"type":"message","user":"U0UHG4VP1","text":"ramesh: yes everything is OK to seal the image?","ts":"1478726193.002963"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> note that, fwiw, if my new proposal is accepted, we dont really need go in the cienv\/devenv anway","ts":"1478726203.002964"},{"type":"message","user":"U11HH3P7Y","text":"yes <@U0UHG4VP1>","ts":"1478726219.002965"},{"type":"message","user":"U0KPFAZNF","text":"(because basically everything is orchastrated like \"docker run fabric-baseimage go install ... \"","ts":"1478726269.002966"},{"type":"message","user":"U0KPFAZNF","text":"so the compiler would come from the docker baseimage","ts":"1478726294.002967"},{"type":"message","user":"U11HH3P7Y","text":"yes I see that in your patches","ts":"1478726296.002968"},{"type":"message","user":"U0KPFAZNF","text":"i suspect in practice, most devs will still have golang installed on the host, however","ts":"1478726317.002969"},{"type":"message","user":"U0KPFAZNF","text":"(how else will they be writing the code)","ts":"1478726324.002970"},{"type":"message","user":"U0KPFAZNF","text":"but it wont be needed for build\/test, at least","ts":"1478726337.002971"},{"type":"message","user":"U11HH3P7Y","text":"yes.. this will be helpful for quick development setup","ts":"1478726422.002972"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: let me know when that image is available and ill fire a test in","ts":"1478727174.002973"},{"type":"message","user":"U0UHG4VP1","text":"label hyp-fabric-x86_64-1.12 points to the new image","ts":"1478727242.002974"},{"type":"message","user":"U0KPFAZNF","text":"cool, ill give it a whirl","ts":"1478727343.002975"},{"type":"message","user":"U0UHG4VP1","text":"(so you should just be able to click \"rebuild\")","ts":"1478727351.002976"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> did you just start that fabric-cop build?","ts":"1478727365.002977"},{"type":"message","user":"U0KPFAZNF","text":"i think i switched it to production image","ts":"1478727372.002978"},{"type":"message","user":"U0KPFAZNF","text":"ill just edit\/refire","ts":"1478727375.002979"},{"type":"message","user":"U11HH3P7Y","text":"yes.. Shall I kill it?","ts":"1478727383.002980"},{"type":"message","user":"U0UHG4VP1","text":"no, did you switch it to use the hyp-fabric-x86_64-1.12 label already?","ts":"1478727405.002981"},{"type":"message","user":"U11HH3P7Y","text":"no","ts":"1478727411.002982"},{"type":"message","user":"U0UHG4VP1","text":"it won't work","ts":"1478727427.002983"},{"type":"message","user":"U0KPFAZNF","text":"fire in the hole","ts":"1478727429.002984"},{"type":"message","user":"U0UHG4VP1","text":"fire in the hole","ts":"1478727438.002985"},{"type":"message","user":"U0UHG4VP1","text":"fire in the hole","ts":"1478727441.002986"},{"type":"message","user":"U0UHG4VP1","text":"(you're supposed to yell it three times) :slightly_smiling_face:","ts":"1478727449.002987"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1478727453.002988"},{"type":"message","user":"U11HH3P7Y","text":":slightly_smiling_face:","ts":"1478727454.002989"},{"type":"message","user":"U0UHG4VP1","text":"face left, yell. face right, yell. face forward, yell. you're also supposed to assess the situation in each direction, looking for people that have moved inside the controlled area","ts":"1478727505.002990"},{"type":"message","user":"U0UHG4VP1","text":"vagrant so rarely involves physical injury, though","ts":"1478727531.002991"},{"type":"message","user":"U0KPFAZNF","text":"indeed","ts":"1478727543.002992"},{"type":"message","user":"U0KPFAZNF","text":"preliminary result: looks like its still slow","ts":"1478727575.002993"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/sandbox\/job\/mainline-build\/11\/console>","ts":"1478727593.002994"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins is it upgrading a bunch of stuff to xenial?","ts":"1478728317.002995"},{"type":"message","user":"U0KPFAZNF","text":"well, in this simple example, I am just tyring to run \"apt-get update\" which does nothng more than update the package repo metadata","ts":"1478728351.002996"},{"type":"message","user":"U0KPFAZNF","text":"chosen because it seems to be the simplest way to reproduce the problem","ts":"1478728371.002997"},{"type":"message","user":"U0UHG4VP1","text":"is there a way I could cache this?","ts":"1478728372.002998"},{"type":"message","user":"U0UHG4VP1","text":"oh ok. you want to solve the problem in general, not just this problem. :slightly_smiling_face:","ts":"1478728386.002999"},{"type":"message","user":"U0KPFAZNF","text":"re: cache, perhaps squid-deb-proxy might help","ts":"1478728428.003000"},{"type":"message","user":"U0KPFAZNF","text":"but i suspect the problem is fundamental: like the networking speed coming out of the container","ts":"1478728441.003001"},{"type":"message","user":"U0UHG4VP1","text":"is there any way to tell apt-get explicitly which mirror to use, or perhaps a very verbose logging option you could enable? I suspect the mirror we're using will start with ca-mq something","ts":"1478728497.003002"},{"type":"message","user":"U0KPFAZNF","text":"im not sure, sorry","ts":"1478728538.003003"},{"type":"message","user":"U0KPFAZNF","text":"probably","ts":"1478728541.003004"},{"type":"message","user":"U0KPFAZNF","text":"the problem might be more fundamental however:  I saw other workloads having trouble within a wget inside an openjdk container","ts":"1478728574.003005"},{"type":"message","user":"U0KPFAZNF","text":"or at least, it appeared that way","ts":"1478728595.003006"},{"type":"message","user":"U0KPFAZNF","text":"my gut is saying theres some kind of performance problem with the way the network gets setup in the 1.12 image","ts":"1478728628.003007"},{"type":"message","user":"U0KPFAZNF","text":"i mention wget\/openjdk to offer a counterpoint that it might be ubuntu\/apt-get related","ts":"1478728670.003008"},{"type":"message","user":"U0KPFAZNF","text":"but really, i dont yet know what the actual problem is","ts":"1478728698.003009"},{"type":"message","user":"U0UHG4VP1","text":"standby","ts":"1478728717.003010"},{"type":"message","user":"U0KPFAZNF","text":"what I do know is that \"docker run .... apt-get update\" works just fine on the 1.8 and stalls for hours on the 1.12 image","ts":"1478728730.003011"},{"type":"message","user":"U0UHG4VP1","text":"how would I properly start docker from the workspace?","ts":"1478729172.003012"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30N9FRU4\/so_this_is_inside_the_vm.txt|so this is inside the VM>","file":{"id":"F30N9FRU4","created":1478729389,"timestamp":1478729389,"name":"so_this_is_inside_the_VM.txt","title":"so this is inside the VM","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":120,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30N9FRU4\/so_this_is_inside_the_vm.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30N9FRU4\/download\/so_this_is_inside_the_vm.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30N9FRU4\/so_this_is_inside_the_vm.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F30N9FRU4-88a811b545","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30N9FRU4\/so_this_is_inside_the_vm.txt\/edit","preview":"root@rjones-vagrant-3:~# time apt-get update\r\n...\r\nreal\t0m9.094s\r\nuser\t0m8.670s\r\nsys\t0m0.597s\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>root@rjones-vagrant-3:~# time apt-get update<\/pre><\/div>\n<div><pre>...<\/pre><\/div>\n<div><pre>real    0m9.094s<\/pre><\/div>\n<div><pre>user    0m8.670s<\/pre><\/div>\n<div><pre>sys 0m0.597s<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":6,"lines_more":1,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1478729389.003013"},{"type":"message","user":"U0KPFAZNF","text":"you mean you have a setup with docker installed, but the dockerd isnt running?","ts":"1478730792.003014"},{"type":"message","user":"U0UHG4VP1","text":"don't get excited about build 13 of mainline build passing, I commented out your second call.","ts":"1478732040.003021"},{"type":"message","user":"U0UHG4VP1","text":"huh. when I run docker as root it works. fine.","ts":"1478732177.003022"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30063YG0\/within_docker.txt|within docker>","file":{"id":"F30063YG0","created":1478734141,"timestamp":1478734141,"name":"within_docker.txt","title":"within docker","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":4828,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":true,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30063YG0\/within_docker.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30063YG0\/download\/within_docker.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30063YG0\/within_docker.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F30063YG0-1e5873a51d","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30063YG0\/within_docker.txt\/edit","preview":"Script started on Wed 09 Nov 2016 11:22:15 PM UTC\r\n# tcpdump -i eth0 -s 1500 port not 22 and port not 53 and not arp\r\ntcpdump: verbose output suppressed, use -v or -vv for full protocol decode\r\nlistening on eth0, link-type EN10MB (Ethernet), capture size 1500 bytes\r\n23:22:25.876326 IP 10.30.65.50.50375 > iron.canonical.com.http: Flags [S], seq 2778454453, win 29200, options [mss 1460,sackOK,TS val 1152989 ecr 0,nop,wscale 7], length 0\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Script started on Wed 09 Nov 2016 11:22:15 PM UTC<\/pre><\/div>\n<div><pre># tcpdump -i eth0 -s 1500 port not 22 and port not 53 and not arp<\/pre><\/div>\n<div><pre>tcpdump: verbose output suppressed, use -v or -vv for full protocol decode<\/pre><\/div>\n<div><pre>listening on eth0, link-type EN10MB (Ethernet), capture size 1500 bytes<\/pre><\/div>\n<div><pre>23:22:25.876326 IP 10.30.65.50.50375 &gt; iron.canonical.com.http: Flags [S], seq 2778454453, win 29200, options [mss 1460,sackOK,TS val 1152989 ecr 0,nop,wscale 7], length 0<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":39,"lines_more":34,"preview_is_truncated":true,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1478734141.003023"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30PJ0C7P\/on_the_host.txt|on the host>","file":{"id":"F30PJ0C7P","created":1478734196,"timestamp":1478734196,"name":"on_the_host.txt","title":"on the host","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":8299,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":true,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30PJ0C7P\/on_the_host.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30PJ0C7P\/download\/on_the_host.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30PJ0C7P\/on_the_host.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F30PJ0C7P-bf58336b72","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30PJ0C7P\/on_the_host.txt\/edit","preview":"Script started on Wed 09 Nov 2016 11:21:43 PM UTC\r\n# tcpdump -i eth0 -s 1500 port not 22 and port not 53 and not arp\r\ntcpdump: verbose output suppressed, use -v or -vv for full protocol decode\r\nlistening on eth0, link-type EN10MB (Ethernet), capture size 1500 bytes\r\n23:21:51.449367 IP 10.30.65.50.42052 > haetae.canonical.com.http: Flags [S], seq 1423251040, win 27040, options [mss 1352,sackOK,TS val 1144382 ecr 0,nop,wscale 7], length 0\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Script started on Wed 09 Nov 2016 11:21:43 PM UTC<\/pre><\/div>\n<div><pre># tcpdump -i eth0 -s 1500 port not 22 and port not 53 and not arp<\/pre><\/div>\n<div><pre>tcpdump: verbose output suppressed, use -v or -vv for full protocol decode<\/pre><\/div>\n<div><pre>listening on eth0, link-type EN10MB (Ethernet), capture size 1500 bytes<\/pre><\/div>\n<div><pre>23:21:51.449367 IP 10.30.65.50.42052 &gt; haetae.canonical.com.http: Flags [S], seq 1423251040, win 27040, options [mss 1352,sackOK,TS val 1144382 ecr 0,nop,wscale 7], length 0<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":50,"lines_more":45,"preview_is_truncated":true,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1478734196.003024"},{"type":"message","user":"U0UHG4VP1","text":"so it's this mirror at <http:\/\/rafal.ca|rafal.ca>","ts":"1478734214.003025"},{"text":"knows it isn't the root cause tyvm just keeping you apprised of my debugging","type":"message","subtype":"me_message","user":"U0UHG4VP1","ts":"1478734238.003026"},{"type":"message","user":"U0KPFAZNF","text":"yeah, also keep in mind I only added the mirrors recently","ts":"1478734478.003027"},{"type":"message","user":"U0KPFAZNF","text":"it was doing the same thing when it was just connecting to <http:\/\/archive.ubuntu.com|archive.ubuntu.com>","ts":"1478734494.003028"},{"type":"message","user":"U0KPFAZNF","text":"I just re-pushed the image without the mirror stuff enabled","ts":"1478734879.003029"},{"type":"message","user":"U0KPFAZNF","text":"it seemed to not help, and having things be consistent is probably more important than optimal efficiency","ts":"1478734899.003030"},{"type":"message","user":"U0UHG4VP1","text":"Should I re-run that test?","ts":"1478735638.003031"},{"type":"message","user":"U0KPFAZNF","text":"sure","ts":"1478735645.003032"},{"type":"message","user":"U0UHG4VP1","text":"K","ts":"1478735647.003033"},{"type":"message","user":"U0UHG4VP1","text":"the hostname is different but the result is the same","ts":"1478736029.003034"},{"type":"message","user":"U0KPFAZNF","text":"I figured, but at least you have a consistent IP to compare","ts":"1478738732.003035"},{"type":"message","user":"U0KPFAZNF","text":"So it works fine if you launch as root?","ts":"1478738746.003036"},{"type":"message","user":"U0UHG4VP1","text":"well, docker works when I launch as root, but it's still broken overall.","ts":"1478740012.003037"},{"type":"message","user":"U0UHG4VP1","text":"It gives me something to begin talking about, though, instead of \"it's slow\"","ts":"1478740054.003038"},{"type":"message","user":"U0KPFAZNF","text":"right, ok","ts":"1478740170.003039"},{"type":"message","user":"U0KPFAZNF","text":"so, where did the 1.8 image come from?","ts":"1478740190.003040"},{"type":"message","user":"U0KPFAZNF","text":"was it basically same process, just older docker?","ts":"1478740198.003041"},{"type":"message","user":"U0KPFAZNF","text":"or completely different origins?","ts":"1478740203.003042"},{"type":"message","user":"U0KPFAZNF","text":"what I am getting at is whether its dockerd or the surrounding image that might be to blame","ts":"1478740258.003043"},{"type":"message","user":"U0UHG4VP1","text":"Yes, basically the same process","ts":"1478741524.003044"},{"type":"message","user":"U0KPFAZNF","text":"ok, thats good..simplifies things at least","ts":"1478741956.003045"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: do you know what versions of docker you tried that exhibited the problem?","ts":"1478742786.003046"},{"type":"message","user":"U0KPFAZNF","text":"we know 1.8 == good and 1.12 == bad","ts":"1478742793.003047"},{"type":"message","user":"U0KPFAZNF","text":"try anything in between?","ts":"1478742797.003048"},{"type":"message","user":"U0KPFAZNF","text":"i think anything that looked like that \"hang\" problem Ramesh mentioned are this same issue","ts":"1478742826.003049"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> I don't know that we tried every single version between 8 and 12, but I know we tried 1.9 and 1.11","ts":"1478742902.003050"},{"type":"message","user":"U0KPFAZNF","text":"ok, thats good info, thx","ts":"1478742914.003051"},{"type":"message","user":"U0UHG4VP1","text":"basically, anything &gt; 1.8 has not worked","ts":"1478742925.003052"},{"type":"message","user":"U0KPFAZNF","text":"theres some murmuring about it possibly being related to DNS","ts":"1478742937.003053"},{"type":"message","user":"U0KPFAZNF","text":"and I saw 1.9 mentioned","ts":"1478742943.003054"},{"type":"message","user":"U0UHG4VP1","text":"well, I can edit resolv.conf","ts":"1478742958.003055"},{"type":"message","user":"U0UHG4VP1","text":"looks like I have 5 copies of it","ts":"1478742998.003056"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F31CYNDJB\/-.txt|Untitled>","file":{"id":"F31CYNDJB","created":1478743020,"timestamp":1478743020,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":544,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F31CYNDJB\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F31CYNDJB\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F31CYNDJB\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F31CYNDJB-76868ef861","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F31CYNDJB\/-.txt\/edit","preview":"\/var\/lib\/docker\/containers\/f79d47764c2704340ae49a57c67caa527aa37ce67902a73bfabc3035ba838b01\/resolv.conf\r\n\/var\/lib\/docker\/containers\/835d5b970d17906cf88ac41e2397971f10c65931a3bb1b47d505ee04cc4f7f49\/resolv.conf\r\n\/var\/lib\/docker\/aufs\/diff\/b4f8ace9fd4fd83a21dbcbca49372e6f0269948b42bab0feade5bfd66bf96166\/etc\/resolv.conf\r\n\/var\/lib\/docker\/aufs\/diff\/037f9cbc503a34ea70b4db37a3b11d3f27fa627187eeb4e415652ee1bde980c7-init\/etc\/resolv.conf\r\n\/var\/lib\/docker\/aufs\/diff\/85bbeb6b9410d13a0fedaf1b2364c0a7a6c4575e0c5d077e9628dc7348a01f8d-init\/etc\/resolv.conf\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>\/var\/lib\/docker\/containers\/f79d47764c2704340ae49a57c67caa527aa37ce67902a73bfabc3035ba838b01\/resolv.conf<\/pre><\/div>\n<div><pre>\/var\/lib\/docker\/containers\/835d5b970d17906cf88ac41e2397971f10c65931a3bb1b47d505ee04cc4f7f49\/resolv.conf<\/pre><\/div>\n<div><pre>\/var\/lib\/docker\/aufs\/diff\/b4f8ace9fd4fd83a21dbcbca49372e6f0269948b42bab0feade5bfd66bf96166\/etc\/resolv.conf<\/pre><\/div>\n<div><pre>\/var\/lib\/docker\/aufs\/diff\/037f9cbc503a34ea70b4db37a3b11d3f27fa627187eeb4e415652ee1bde980c7-init\/etc\/resolv.conf<\/pre><\/div>\n<div><pre>\/var\/lib\/docker\/aufs\/diff\/85bbeb6b9410d13a0fedaf1b2364c0a7a6c4575e0c5d077e9628dc7348a01f8d-init\/etc\/resolv.conf<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":6,"lines_more":1,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1478743020.003057"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F31CMT354\/-.txt|Untitled>","file":{"id":"F31CMT354","created":1478743130,"timestamp":1478743130,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":4812,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F31CMT354\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F31CMT354\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F31CMT354\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F31CMT354-8ed54e1af3","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F31CMT354\/-.txt\/edit","preview":"# tcpdump -i docker0 -s 1500 port not 22 and not arp\r\ntcpdump: verbose output suppressed, use -v or -vv for full protocol decode\r\nlistening on docker0, link-type EN10MB (Ethernet), capture size 1500 bytes\r\n01:57:57.555454 IP6 :: > ff02::16: HBH ICMP6, multicast listener report v2, 1 group record(s), length 28\r\n01:57:57.618421 IP 172.17.0.1.58302 > pdx-caf-ipa.int.codeaurora.org.domain: 16547+ A? archive.ubuntu.com. (36)\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre># tcpdump -i docker0 -s 1500 port not 22 and not arp<\/pre><\/div>\n<div><pre>tcpdump: verbose output suppressed, use -v or -vv for full protocol decode<\/pre><\/div>\n<div><pre>listening on docker0, link-type EN10MB (Ethernet), capture size 1500 bytes<\/pre><\/div>\n<div><pre>01:57:57.555454 IP6 :: &gt; ff02::16: HBH ICMP6, multicast listener report v2, 1 group record(s), length 28<\/pre><\/div>\n<div><pre>01:57:57.618421 IP 172.17.0.1.58302 &gt; pdx-caf-ipa.int.codeaurora.org.domain: 16547+ A? archive.ubuntu.com. (36)<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":34,"lines_more":29,"preview_is_truncated":true,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1478743131.003058"},{"type":"message","user":"U0KPFAZNF","text":"is there something specific in there you wanted me to look at?","ts":"1478743210.003059"},{"type":"message","user":"U0KPFAZNF","text":"nothing is jumping out at me","ts":"1478743220.003060"},{"type":"message","user":"U0UHG4VP1","text":"it looks like it gets rolling and just stops. there isn't any DNS traffic","ts":"1478743430.003061"},{"type":"message","user":"U0UHG4VP1","text":"it does one lookup for ipv4 and ipv6, and goes","ts":"1478743465.003062"},{"type":"message","user":"U0UHG4VP1","text":"I don't know. this is crazy making","ts":"1478743548.003063"},{"type":"message","user":"U0KPFAZNF","text":"yeah, i agree, it doesnt look like a DNS problem","ts":"1478743578.003064"},{"type":"message","user":"U0KPFAZNF","text":"under 100ms response and then its running","ts":"1478743602.003065"},{"type":"message","user":"U0UHG4VP1","text":"thankfully one of our docker-heavy guys is in Australia, so I may be able to get an assist here","ts":"1478743724.003066"},{"type":"message","user":"U0KPFAZNF","text":"cool","ts":"1478743878.003067"},{"type":"message","user":"U0KPFAZNF","text":"now that we can reproduce with a simple example, its only a matter of time","ts":"1478743896.003068"},{"type":"message","user":"U0UHG4VP1","text":"yes","ts":"1478743900.003069"},{"type":"message","user":"U0KPFAZNF","text":"that Dockerfile I sent earlier still applies since I removed the mirrors config","ts":"1478743983.003070"},{"type":"message","user":"U0KPFAZNF","text":"in case he wants to hack on it","ts":"1478743999.003071"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: any updates?","ts":"1478782668.003072"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> no. I was able to get a wireshark pcap file from the host, but it isn't enlightening. Do you think time would be better spent building a 16.04 image?","ts":"1478789682.003073"},{"type":"message","user":"U0KPFAZNF","text":"i suppose its worth a shot","ts":"1478789839.003074"},{"type":"message","user":"U0KPFAZNF","text":"since we dont have a good handle on whats wrong, it might not make a difference but at least we are moving things in the right direction","ts":"1478789860.003075"},{"type":"message","user":"U0UHG4VP1","text":"OK. I can share the pcap with you if you would like to see it. it's ~50k","ts":"1478789901.003076"},{"type":"message","user":"U0UHG4VP1","text":"mostly arp","ts":"1478789908.003077"},{"type":"message","user":"U0KPFAZNF","text":"im thinking right now there is some kind of tuning-option\/feature that is not being satisfied","ts":"1478789923.003078"},{"type":"message","user":"U0KPFAZNF","text":"such that the network bandwidth is scaled or something","ts":"1478789933.003079"},{"type":"message","user":"U0KPFAZNF","text":"(one that wasnt in 1.8 but was introduced later","ts":"1478789954.003080"},{"type":"message","user":"U0KPFAZNF","text":"but whatever that interaction is, perhaps it will be fixed with the newer kernel in 16.04","ts":"1478789968.003081"},{"type":"message","user":"U0KPFAZNF","text":"who knows","ts":"1478789969.003082"},{"type":"message","user":"U0UHG4VP1","text":"I was hoping iptables would be fruitful, but the capture does show requests going out. I suppose I could put iptables in verbose logging mode and see what it shows.","ts":"1478790052.003083"},{"type":"message","user":"U0KPFAZNF","text":"it def seems to have basic connectivity","ts":"1478790065.003084"},{"type":"message","user":"U0KPFAZNF","text":"but its really really really slow","ts":"1478790073.003085"},{"type":"message","user":"U0KPFAZNF","text":"not sure if its name resolution, bandwidth, something else","ts":"1478790083.003086"},{"type":"message","user":"U0KPFAZNF","text":"(dropped packets, etc)","ts":"1478790094.003087"},{"type":"message","user":"U0KPFAZNF","text":"but i would think drops would have been apparent in the pcap","ts":"1478790104.003088"},{"type":"message","user":"U0UHG4VP1","text":"after the TSC call I can recreate the vagrant host and re-run your tests with nothing in the cache, capturing everything.","ts":"1478790136.003089"},{"type":"message","user":"U0KPFAZNF","text":"cool","ts":"1478790141.003090"},{"type":"message","user":"U0UHG4VP1","text":"_if you want_","ts":"1478790151.003091"},{"type":"message","user":"U0KPFAZNF","text":"i think moving to the 16.04 image is better time spent","ts":"1478790169.003092"},{"type":"message","user":"U0UHG4VP1","text":"what do you think is more fruitful: setting off on the 16.04 path, or further... OK","ts":"1478790175.003093"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: ping me when there is an image to try","ts":"1478794437.003094"},{"type":"message","user":"U0KPFAZNF","text":"id like to look at a few other things","ts":"1478794442.003095"},{"type":"message","user":"U0UHG4VP1","text":"Will do","ts":"1478794486.003096"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> well this sucks: <https:\/\/jenkins.hyperledger.org\/sandbox\/job\/mainline-build\/17\/console>","ts":"1478809058.003097"},{"type":"message","user":"U0KPFAZNF","text":"ouch","ts":"1478809656.003098"},{"type":"message","user":"U0KPFAZNF","text":"ok, let me check a few things out","ts":"1478809780.003099"},{"type":"message","user":"U0KPFAZNF","text":"what label is it under?","ts":"1478809787.003100"},{"type":"message","user":"U0UHG4VP1","text":"`hyp-fabric-x86_64-16.04`","ts":"1478809998.003101"},{"type":"message","user":"U0UHG4VP1","text":"I took the existing 14.04 image and did a `do-release-upgrade` since I couldn't get the existing 16.04 base image to DWIM","ts":"1478810057.003102"},{"type":"message","user":"U0KPFAZNF","text":"ah, that works","ts":"1478810133.003103"},{"type":"message","user":"U0KPFAZNF","text":"I just switched the basic wget to pull the chaintool binary (15M)","ts":"1478810147.003104"},{"type":"message","user":"U0UHG4VP1","text":"ok.","ts":"1478810156.003105"},{"type":"message","user":"U0KPFAZNF","text":"it exhibits the same problem","ts":"1478810161.003106"},{"type":"message","user":"U0UHG4VP1","text":"from within the docker container","ts":"1478810174.003107"},{"type":"message","user":"U0KPFAZNF","text":"it seems that nsresolution is fine\/fast, but the network itself is like a dialup","ts":"1478810178.003108"},{"type":"message","user":"U0KPFAZNF","text":"im running a test now on production image","ts":"1478810187.003109"},{"type":"message","user":"U0KPFAZNF","text":"downloads in 1s on production image","ts":"1478810224.003110"},{"type":"message","user":"U0UHG4VP1","text":"the 14.04 image?","ts":"1478810229.003111"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/sandbox\/job\/mainline-build\/19\/console>","ts":"1478810236.003112"},{"type":"message","user":"U0UHG4VP1","text":"so this is a download from within docker, right?","ts":"1478810241.003113"},{"type":"message","user":"U0KPFAZNF","text":"yeah, the 14.04+1.8","ts":"1478810245.003114"},{"type":"message","user":"U0KPFAZNF","text":"yeah, docker run ... wget ...\/chaintool","ts":"1478810261.003115"},{"type":"message","user":"U0UHG4VP1","text":"I see that now.","ts":"1478810269.003116"},{"type":"message","user":"U0KPFAZNF","text":"15M image, downloads in a blink on 14.04+1.8","ts":"1478810274.003117"},{"type":"message","user":"U0KPFAZNF","text":"and exceeds my patience on 1.12 :wink:","ts":"1478810289.003118"},{"type":"message","user":"U0UHG4VP1","text":"exceeds the heat death of the universe, I think","ts":"1478810304.003119"},{"type":"message","user":"U0KPFAZNF","text":"yeah","ts":"1478810307.003120"},{"type":"message","user":"U0KPFAZNF","text":"now I want to look at a few things like how the network bridge is set up","ts":"1478810334.003121"},{"type":"message","user":"U0UHG4VP1","text":"since DinD is on the table, why not DinDinD?","ts":"1478810335.003122"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1478810344.003123"},{"type":"message","user":"U0UHG4VP1","text":"run docker 1.12 inside the functional docker 1.8, why not?","ts":"1478810356.003124"},{"type":"message","user":"U0KPFAZNF","text":"you clearly havent watched \"Inception\", have you? :wink:","ts":"1478810363.003125"},{"type":"message","user":"U0UHG4VP1","text":":slightly_smiling_face:","ts":"1478810367.003126"},{"type":"message","user":"U0UHG4VP1","text":"do you have any experience with packer?","ts":"1478810402.003127"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1478810412.003128"},{"type":"message","user":"U0KPFAZNF","text":"(are you joking?)","ts":"1478810431.003129"},{"type":"message","user":"U0UHG4VP1","text":"we're the last project on Vagrant, so the pressure is on me to move to packer.","ts":"1478810434.003130"},{"type":"message","user":"U0KPFAZNF","text":"thats what we use for the baseimage","ts":"1478810445.003131"},{"type":"message","user":"U0UHG4VP1","text":"I resist because I only want to boil one frog at a time","ts":"1478810447.003132"},{"type":"message","user":"U0KPFAZNF","text":"i wasnt sure if you were making a joke about how slow it is to build our vagrant image","ts":"1478810462.003133"},{"type":"message","user":"U0UHG4VP1","text":"no, no joke","ts":"1478810469.003134"},{"type":"message","user":"U0KPFAZNF","text":"ah, yeah, thats what we use for baseimage\/vagrant","ts":"1478810483.003135"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/github.com\/hyperledger\/fabric-baseimage\/blob\/master\/packer.json>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-baseimage","title_link":"https:\/\/github.com\/hyperledger\/fabric-baseimage\/blob\/master\/packer.json","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric-baseimage>","fallback":"GitHub: hyperledger\/fabric-baseimage","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-baseimage\/blob\/master\/packer.json","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1478810504.003136"},{"type":"message","user":"U0UHG4VP1","text":"nice.","ts":"1478810533.003138"},{"type":"message","user":"U0UHG4VP1","text":"so the push is for me to replace our current minion instantiation process with packer, to make it easier. I don't want to do this over the next two days, though","ts":"1478810580.003139"},{"type":"message","user":"U0KPFAZNF","text":"theres no way to just plain fire one of these images up so I can play in the shell per chance?","ts":"1478810585.003140"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: Could you please create docker hub repository for \"orderer\" image in hyperledger dockerhub account?","ts":"1478813725.003141"},{"type":"message","user":"U0UHG4VP1","text":"ramesh what job will be populating it?","ts":"1478813748.003142"},{"type":"message","user":"U11HH3P7Y","text":"We don't have a job to push images to docker hub based on tag.. But I am working on this","ts":"1478813790.003143"},{"type":"message","user":"U0UHG4VP1","text":"err OK. is this for fabric-cop?","ts":"1478813799.003144"},{"type":"message","user":"U11HH3P7Y","text":"no for v1.0","ts":"1478813810.003145"},{"type":"message","user":"U11HH3P7Y","text":"along with peer and other images jenkins has to push \"orderer\" image to docker hub ```hyperledger\/fabric-orderer                                                 latest                          02aa79c0ab7d        24 hours ago        1.364 GB\nhyperledger\/fabric-orderer                                                 x86_64-0.7.0-snapshot-0edd927   02aa79c0ab7d        24 hours ago        1.364 GB\n```","ts":"1478813884.003146"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/hub.docker.com\/r\/hyperledger\/fabric-orderer\/>","ts":"1478814046.003147","reactions":[{"name":"+1","users":["U11HH3P7Y"],"count":1}]},{"type":"message","user":"U11HH3P7Y","text":"ty","ts":"1478814061.003148"},{"type":"message","user":"U0UHG4VP1","text":"yvw","ts":"1478814093.003149"},{"type":"message","user":"U0KPFAZNF","text":"on a positive note: <@U0UHG4VP1> and I finally figured out why docker v1.12 was having problems with network access within the CI infra","ts":"1478894801.003150"},{"type":"message","user":"U0KPFAZNF","text":"should have images available for testing TBD, but we at least have a handle on the issue","ts":"1478894829.003151"},{"type":"message","user":"U0UHG4VP1","text":"and that issue is around 108 bytes","ts":"1478894866.003152"},{"type":"message","user":"U0KPFAZNF","text":"heh, yeah, <@U0UHG4VP1> is alluding to the problem being related to default docker bridge MTU of 1500 bytes being 108 bytes too large for the IAAS provider that runs our infra","ts":"1478895137.003153"},{"user":"U1D89DP47","text":"<@U1D89DP47|subzer0> has joined the channel","type":"message","subtype":"channel_join","ts":"1478981526.003154"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: any update on the image status?","ts":"1479131204.003155"},{"type":"message","user":"U0ZJZBJLF","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/2731\/console>","ts":"1479160166.003156"},{"type":"message","user":"U0ZJZBJLF","text":"what's up with the CI?","ts":"1479160177.003157"},{"type":"message","user":"U11HH3P7Y","text":"<@U0ZJZBJLF> could be network timeout issue.. will re-trigger now","ts":"1479160615.003158","reactions":[{"name":"+1","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U0ZJZBJLF","text":"Maybe someone here knows: Is it possible to create a gerrit hook that notifies a set of developers if someone pushes a change set that has a certain folder?","ts":"1479226565.003159"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> I dont know the answer, but I am curious if you need at the proposed CR side, or the merged CR side?","ts":"1479227070.003160"},{"type":"message","user":"U0KPFAZNF","text":"because if you mean the latter, one possibility is that github could come into play","ts":"1479227089.003161"},{"type":"message","user":"U0KPFAZNF","text":"(since it gets mirrored after merge)","ts":"1479227101.003162"},{"type":"message","user":"U0ZJZBJLF","text":"proposed obviously, and I'm asking for <@U0XQ35CDD> .","ts":"1479227119.003163"},{"type":"message","user":"U0ZJZBJLF","text":"merged is too late :wink:","ts":"1479227147.003164"},{"type":"message","user":"U0KPFAZNF","text":"ok, sorry, i am not sure what problem you are trying to solve","ts":"1479227159.003165"},{"type":"message","user":"U0KPFAZNF","text":"looks like you can","ts":"1479227281.003166"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit-review.googlesource.com\/Documentation\/user-named-destinations.html>","ts":"1479227282.003167"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit-review.googlesource.com\/Documentation\/user-search.html#path>","ts":"1479227315.003168"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F32RM21B4\/screen_shot_2016-11-15_at_11.30.46_am.png|Screen Shot 2016-11-15 at 11.30.46 AM.png> and commented: <@U0ZJZBJLF> I just added one watching the Makefile (I think) but I am not clear how it is different from the general \"fabric\" notifications I have turned on.","file":{"id":"F32RM21B4","created":1479227479,"timestamp":1479227479,"name":"Screen Shot 2016-11-15 at 11.30.46 AM.png","title":"Screen Shot 2016-11-15 at 11.30.46 AM.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0KPFAZNF","editable":false,"size":75812,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F32RM21B4\/screen_shot_2016-11-15_at_11.30.46_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F32RM21B4\/download\/screen_shot_2016-11-15_at_11.30.46_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F32RM21B4-86a74e659f\/screen_shot_2016-11-15_at_11.30.46_am_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F32RM21B4-86a74e659f\/screen_shot_2016-11-15_at_11.30.46_am_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F32RM21B4-86a74e659f\/screen_shot_2016-11-15_at_11.30.46_am_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":188,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F32RM21B4-86a74e659f\/screen_shot_2016-11-15_at_11.30.46_am_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":251,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F32RM21B4-86a74e659f\/screen_shot_2016-11-15_at_11.30.46_am_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F32RM21B4-86a74e659f\/screen_shot_2016-11-15_at_11.30.46_am_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":376,"image_exif_rotation":1,"original_w":871,"original_h":455,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F32RM21B4\/screen_shot_2016-11-15_at_11.30.46_am.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F32RM21B4-c1229bdd54","channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc32U5NY21","created":1479227479,"timestamp":1479227479,"user":"U0KPFAZNF","is_intro":true,"comment":"<@U0ZJZBJLF> I just added one watching the Makefile (I think) but I am not clear how it is different from the general \"fabric\" notifications I have turned on.","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1479227484.003169"},{"type":"message","user":"U0ZJZBJLF","text":"wow this is awesome","ts":"1479227543.003170"},{"user":"U2TUCLGRJ","text":"<@U2TUCLGRJ|ahmedelhajji> has joined the channel","type":"message","subtype":"channel_join","ts":"1479315135.003171"},{"type":"message","user":"U0ZJZBJLF","text":"hey, I have 2 simple yet critical questions: \n1) Each jenkins build runs in its own container, right? \n2) Are some directories mounted and somehow shared between different instances?","ts":"1479418907.003172"},{"type":"message","user":"U0UHG4VP1","text":"1 no, we use VMs once, not containers - unless the build itself uses containers ","ts":"1479418981.003173"},{"type":"message","user":"U0ZJZBJLF","text":"Each build has it own VM?","ts":"1479419012.003174"},{"type":"message","user":"U0UHG4VP1","text":"2 not for minions, they're deleted after one use","ts":"1479419012.003175"},{"type":"message","user":"U0UHG4VP1","text":"Yes","ts":"1479419016.003176"},{"type":"message","user":"U0ZJZBJLF","text":"what's minions?","ts":"1479419023.003177"},{"type":"message","user":"U0UHG4VP1","text":"It is possible that two build run on one minion (vm) under high load but rare","ts":"1479419052.003178"},{"type":"message","user":"U0UHG4VP1","text":"Minion is a more PC name for build slaves","ts":"1479419071.003179"},{"type":"message","user":"U0ZJZBJLF","text":"so there is no chance that 2 builds somehow share a FS, right?","ts":"1479419084.003180"},{"type":"message","user":"U0UHG4VP1","text":"Think of the movie, uh, Minions :blush::blush:","ts":"1479419088.003181"},{"type":"message","user":"U0ZJZBJLF","text":"?","ts":"1479419164.003182"},{"type":"message","user":"U0UHG4VP1","text":"under times ofhigh load - if the build queue exceeds 25 (iirc, maybe 32) it is possible that a minion would be reused, but so far that has been rare","ts":"1479419260.003183"},{"type":"message","user":"U0UHG4VP1","text":"I have a fix for that to ensure every minion is used once and only once but it would require a short outage to implement, so I'm waiting to roll up a bunch of infra needs before doing that","ts":"1479419302.003184"},{"type":"message","user":"U0ZJZBJLF","text":"I see. Thanks for the clarification.","ts":"1479419405.003185"},{"type":"message","user":"U0UHG4VP1","text":"do you have a specific build you could point me to?","ts":"1479419434.003186"},{"type":"message","user":"U0ZJZBJLF","text":"I'm asking for <@U1HFNJB50>  :wink:","ts":"1479419763.003187"},{"type":"message","user":"U0ZJZBJLF","text":"He told me today that he suspects something but I wanted to make sure","ts":"1479419795.003188"},{"type":"message","user":"U0UHG4VP1","text":"I think <@U1HFNJB50>, <@U0KPFAZNF> and I are having that conversation in DM :slightly_smiling_face:","ts":"1479419845.003189","reactions":[{"name":"joy","users":["U1HFNJB50"],"count":1}]},{"type":"message","user":"U0ZJZBJLF","text":"lol","ts":"1479419865.003190"},{"user":"U0KN2SSKE","text":"<@U0KN2SSKE|binhn> has left the channel","type":"message","subtype":"channel_leave","ts":"1479572961.003191"},{"type":"message","user":"U0ZJZBJLF","text":"<@U11HH3P7Y>  You opened a JIRA issue and said:\n```\nMaster build is broken with one of the unit-test case failure. Change has been implemented in this patch set <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2505\/>\n```\n<https:\/\/jira.hyperledger.org\/browse\/FAB-1158>\nCan I please know:\n1) Why did you decide CI is broken because of gossip? \n2) Can you provide with an example of such a failure? I made a sample of 5 latest PRs that failed and some failed because of jenkins itself, and 2-3 failed because of `<http:\/\/github.com\/hyperledger\/fabric\/core\/comm|github.com\/hyperledger\/fabric\/core\/comm>` and 1 failed because `Cannot link to a non running container: \/unittest_vp_1 AS \/unittest_unit-tests_1\/vp_1`, doesn't look like gossip is failing CI.\n3) Why did you assign this to me?","edited":{"user":"U0ZJZBJLF","ts":"1479580582.000000"},"ts":"1479580433.003192"},{"type":"message","user":"U11HH3P7Y","text":"<@U0ZJZBJLF>: I see this error in multiple merge failures and I see this change has been implemented in your patch so assigned to you ","ts":"1479582154.003196"},{"type":"message","user":"U0ZJZBJLF","text":"can you give me 1 example please?","ts":"1479582222.003197"},{"type":"message","user":"U0ZJZBJLF","text":"merge failures? what is that","ts":"1479582238.003198"},{"type":"message","user":"U11HH3P7Y","text":"Observed same error in Merge Builds# 400, 407,408,412 and 419..","ts":"1479583057.003199"},{"type":"message","user":"U0ZJZBJLF","text":"can you give me a link please?","ts":"1479583097.003200"},{"type":"message","user":"U11HH3P7Y","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-merge-x86_64\/419\/console>","ts":"1479583111.003201"},{"type":"message","user":"U0ZJZBJLF","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/gossip\/state\/state_test.go#L171>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/gossip\/state\/state_test.go#L171","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/gossip\/state\/state_test.go#L171","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1479583315.003202"},{"type":"message","user":"U0ZJZBJLF","text":"This is the test that failed","ts":"1479583320.003204"},{"type":"message","user":"U0ZJZBJLF","text":"how is it possible? this test is *commented out*","ts":"1479583328.003205"},{"type":"message","user":"U0ZJZBJLF","text":"From the log in your link:\n```\n11:11:39 2016\/11\/19 11:09:48 \u001b[33m WARNING (*commImpl).Accept.func1.1():\u001b[0m(comm-5610)[Recovered]\n11:11:39 2016\/11\/19 11:09:48 \u001b[33m WARNING (*commImpl).Accept.func1.1():\u001b[0m(comm-5610)[Recovered]\n11:11:39 --- FAIL: TestNewGossipStateProvider_GossipingOneMessage (18.42s)\n11:11:39 \tstate_test.go:338: Timeout has expired\n11:11:39 2016\/11\/19 11:09:48 \u001b[36m DEBUG NewKVLedger():\u001b[0m(kvledger)Creating KVLedger using config: %!(EXTRA *kvledger.Conf=&amp;{\/tmp\/tests\/ledger\/node\/0\/blocks 0 \/tmp\/tests\/ledger\/node\/0\/txMgmgt\/db})\n```","ts":"1479583375.003206"},{"type":"message","user":"U0ZJZBJLF","text":"what is this fabric-merge? I thought the jobs was supposed to be called fabric-verify","ts":"1479583401.003207"},{"type":"message","user":"U11HH3P7Y","text":"-verify job is to test every patch set and - merge job is after patch set is merged","ts":"1479583455.003208"},{"type":"message","user":"U0ZJZBJLF","text":"That test was removed by me `<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2575\/>`","ts":"1479583536.003209"},{"type":"message","user":"U0ZJZBJLF","text":"It is not supposed to run...","ts":"1479583552.003210"},{"type":"message","user":"U11HH3P7Y","text":"strange","ts":"1479583578.003211"},{"type":"message","user":"U11HH3P7Y","text":"will check once","ts":"1479583586.003212"},{"type":"message","user":"U0ZJZBJLF","text":"can you close the JIRA issue?","ts":"1479583606.003213"},{"type":"message","user":"U11HH3P7Y","text":"will update comment and close this. Have to check why disabled test is running..","ts":"1479583706.003214"},{"type":"message","user":"U11HH3P7Y","text":"thanks <@U0ZJZBJLF>","ts":"1479583714.003215"},{"type":"message","user":"U0ZJZBJLF","text":"Thanks, and no problem. Maybe the test is a zombie or something","ts":"1479583747.003216"},{"type":"message","user":"U1HFNJB50","text":"Hi, trying to run local vagrant image and getting following:","ts":"1479683850.003217"},{"type":"message","subtype":"file_share","text":"<@U1HFNJB50|c0rwin> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/c0rwin\/F35MJ68GP\/-.pl|Untitled>","file":{"id":"F35MJ68GP","created":1479683871,"timestamp":1479683871,"name":"-.pl","title":"Untitled","mimetype":"text\/plain","filetype":"perl","pretty_type":"Perl","user":"U1HFNJB50","editable":true,"size":3159,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F35MJ68GP\/-.pl?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F35MJ68GP\/download\/-.pl?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/c0rwin\/F35MJ68GP\/-.pl","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F35MJ68GP-efee2b534a","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/c0rwin\/F35MJ68GP\/-.pl\/edit","preview":"==> default: 56bec22e3559: Download complete                                                                                                                                                                                       [18\/2713]\r\n==> default: 56bec22e3559: Pull complete\r\n==> default: Digest: sha256:29f5d56d12684887bdfa50dcd29fc31eea4aaf4ad3bec43daf19026a7ce69912\r\n==> default: Status: Downloaded newer image for busybox:latest\r\n==> default: All good\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>=<span class=\"cm-operator\">=&gt;<\/span> <span class=\"cm-keyword\">default<\/span><span class=\"cm-operator\">:<\/span> <span class=\"cm-number\">56<\/span><span class=\"cm-meta\">bec22e3559<\/span><span class=\"cm-operator\">:<\/span> <span class=\"cm-meta\">Download<\/span> <span class=\"cm-meta\">complete<\/span>                                                                                                                                                                                       [<span class=\"cm-number\">18<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-number\">2713<\/span>]<\/pre><\/div>\n<div><pre>=<span class=\"cm-operator\">=&gt;<\/span> <span class=\"cm-keyword\">default<\/span><span class=\"cm-operator\">:<\/span> <span class=\"cm-number\">56<\/span><span class=\"cm-meta\">bec22e3559<\/span><span class=\"cm-operator\">:<\/span> <span class=\"cm-meta\">Pull<\/span> <span class=\"cm-meta\">complete<\/span><\/pre><\/div>\n<div><pre>=<span class=\"cm-operator\">=&gt;<\/span> <span class=\"cm-keyword\">default<\/span><span class=\"cm-operator\">:<\/span> <span class=\"cm-meta\">Digest<\/span><span class=\"cm-operator\">:<\/span> <span class=\"cm-meta\">sha256<\/span><span class=\"cm-operator\">:<\/span><span class=\"cm-number\">29<\/span><span class=\"cm-meta\">f5d56d12684887bdfa50dcd29fc31eea4aaf4ad3bec43daf19026a7ce69912<\/span><\/pre><\/div>\n<div><pre>=<span class=\"cm-operator\">=&gt;<\/span> <span class=\"cm-keyword\">default<\/span><span class=\"cm-operator\">:<\/span> <span class=\"cm-meta\">Status<\/span><span class=\"cm-operator\">:<\/span> <span class=\"cm-meta\">Downloaded<\/span> <span class=\"cm-meta\">newer<\/span> <span class=\"cm-meta\">image<\/span> <span class=\"cm-keyword\">for<\/span> <span class=\"cm-meta\">busybox<\/span><span class=\"cm-operator\">:<\/span><span class=\"cm-meta\">latest<\/span><\/pre><\/div>\n<div><pre>=<span class=\"cm-operator\">=&gt;<\/span> <span class=\"cm-keyword\">default<\/span><span class=\"cm-operator\">:<\/span> <span class=\"cm-meta\">All<\/span> <span class=\"cm-meta\">good<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":55,"lines_more":50,"preview_is_truncated":true,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U1HFNJB50","upload":true,"display_as_bot":false,"username":"<@U1HFNJB50|c0rwin>","bot_id":null,"ts":"1479683871.003218"},{"type":"message","user":"U1HFNJB50","text":"^^^^ Is that expected?","ts":"1479683889.003219"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1> Observed below error ```01:17:47.332 Running behave tests\n01:17:48.535 Exception AttributeError: 'module' object has no attribute 'PROTOCOL_SSLv3'\n01:17:48.535 Traceback (most recent call last):``` while executing behave tests.. note that this occurring on new CI environment (new images) (docker-version 1.12.3)","ts":"1479751983.003220"},{"type":"message","user":"U1BC5NF2S","text":"<@U11HH3P7Y> Ry is out this week. I'll take a look in a couple of minutes","ts":"1479756169.003221"},{"type":"message","user":"U11HH3P7Y","text":"ok thanks <@U1BC5NF2S>","ts":"1479756186.003222"},{"type":"message","user":"U1BC5NF2S","text":"<@U11HH3P7Y> Updated 'requests' to the newest version, and rebuilding the image now.","ts":"1479765022.003223"},{"type":"message","user":"U11HH3P7Y","text":"now ? Can we do it off hours.. may be after 6 PM or 7 PM","ts":"1479765091.003224"},{"type":"message","user":"U11HH3P7Y","text":"If this takes less time please rebuild otherwise will wait for sometime..","ts":"1479765220.003225"},{"type":"message","user":"U1BC5NF2S","text":"<@U11HH3P7Y> I'm just rebuilding, can definitely wait on switching  builds to it.","ts":"1479765668.003226"},{"type":"message","user":"U11HH3P7Y","text":"ok","ts":"1479765692.003227"},{"type":"message","user":"U0ZJZBJLF","text":"I think CI is stuck","ts":"1479806784.003228"},{"type":"message","user":"U0ZJZBJLF","text":"```\n(pending\u2014All nodes of label \u2018hyp-fabric-x86_64\u2019 are offline) \n```","ts":"1479806797.003229"},{"type":"message","user":"U0ZJZBJLF","text":"<@U11HH3P7Y>  or <@U1BC5NF2S>  can you take a look please?","ts":"1479807699.003230"},{"type":"message","user":"U1AU8DRQR","text":"could somebody help us with this chain? <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2565\/>","ts":"1479809829.003231"},{"type":"message","user":"U1AU8DRQR","text":"some -1 Verified results there","ts":"1479809837.003232"},{"type":"message","user":"U11HH3P7Y","text":"<@U0ZJZBJLF>: Created support ticket to resolve this issue..","ts":"1479826179.003233","reactions":[{"name":"+1","users":["U11MANG9G"],"count":1},{"name":"muscle","users":["U11MANG9G"],"count":1}]},{"type":"message","user":"U11HH3P7Y","text":"<@U1BC5NF2S> : Need your help","ts":"1479826192.003234"},{"type":"message","user":"U11HH3P7Y","text":"<@U1AU8DRQR> : Builds of patch set chain <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2565\/> are in queue.. Will check build log if it triggers -1","ts":"1479826559.003235"},{"type":"message","user":"U11HH3P7Y","text":"Hyperledger Helpdesk #33152","ts":"1479827662.003236"},{"type":"message","user":"U1BC5NF2S","text":"<@U11HH3P7Y> I was up till 11 last night trying to get them back. Issue with our provider. First thing on my list this morning.","ts":"1479834618.003237"},{"type":"message","user":"U11HH3P7Y","text":"ok thank you","ts":"1479834763.003238"},{"type":"message","user":"U1BC5NF2S","text":"Still working on resolving some network issues with the upstream provider. Will let you know as soon as builders are coming back online, and sorry for the delay!","ts":"1479843730.003239"},{"type":"message","user":"U11HH3P7Y","text":"ok. Is there any way to stop build inflow to CI.. Queue is growing hour by hour.. Is that okay?","ts":"1479844018.003240"},{"type":"message","user":"U1BC5NF2S","text":"Yeah that's fine.","ts":"1479844953.003241"},{"type":"message","user":"U1BC5NF2S","text":"Once things have gotten worked out and we can run builds again I'll look into bumping up the number of concurrent builders.","ts":"1479844986.003242"},{"type":"message","user":"U1BC5NF2S","text":"Builders are back online, but they now appear to be experiencing timeouts cloning the repos. Will let you know when things have stablized.","ts":"1479875310.003243","reactions":[{"name":"+1","users":["U11HH3P7Y"],"count":1}]},{"type":"message","user":"U0KM61BCP","text":"<@U1BC5NF2S> thanks!","ts":"1479906610.003244"},{"type":"message","user":"U1BC5NF2S","text":"Timeouts stopped around 3AM EST (12AM PDT), and I've just retriggered all the Gerrit patches that failed verification yesterday.","ts":"1479916565.003245"},{"type":"message","user":"U11HH3P7Y","text":"Awesome.. Thanks <@U1BC5NF2S>","ts":"1479917334.003246"},{"type":"message","user":"U1HFNJB50","text":"I\u2019ve got this: ```Removing unittest_unit-tests_1 ... done\n\u001b[2B[ssh-agent] Stopped.\n10:32:14 [Cobertura] Publishing Cobertura coverage report...\n10:32:15 FATAL: Unable to find coverage results\n10:32:15 java.io.IOException: remote file operation failed: \/w\/workspace\/fabric-verify-x86_64 at hudson.remoting.Channel@75191b7c:hyp-x86_64-8032: java.io.IOException: \/w\/workspace\/fabric-verify-x86_64\/gopath\/src\/github.com\/hyperledger\/fabric\/report.xml is not an XML file, please check your report pattern\n10:32:15 \tat hudson.FilePath.act(FilePath.java:1014)\n10:32:15 \tat hudson.FilePath.act(FilePath.java:996)\n10:32:15 \tat hudson.plugins.cobertura.CoberturaPublisher.perform(CoberturaPublisher.java:343)\n10:32:15 \tat hudson.tasks.BuildStepMonitor$1.perform(BuildStepMonitor.java:20)\n10:32:15 \tat hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:779)\n10:32:15 \tat hudson.model.AbstractBuild$AbstractBuildExecution.performAllBuildSteps(AbstractBuild.java:720)\n10:32:15 \tat hudson.model.Build$BuildExecution.post2(Build.java:185)\n10:32:15 \tat hudson.model.AbstractBuild$<http:\/\/AbstractBuildExecution.post|AbstractBuildExecution.post>(AbstractBuild.java:665)\n10:32:15 \tat hudson.model.Run.execute(Run.java:1745)\n10:32:15 \tat hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:43)\n10:32:15 \tat hudson.model.ResourceController.execute(ResourceController.java:98)\n10:32:15 \tat hudson.model.Executor.run(Executor.java:404)\n10:32:15 Caused by: java.io.IOException: \/w\/workspace\/fabric-verify-x86_64\/gopath\/src\/github.com\/hyperledger\/fabric\/report.xml is not an XML file, please check your report pattern\n10:32:15 \tat hudson.plugins.cobertura.CoberturaPublisher$ParseReportCallable.invoke(CoberturaPublisher.java:571)\n10:32:15 \tat hudson.plugins.cobertura.CoberturaPublisher$ParseReportCallable.invoke(CoberturaPublisher.java:536)\n10:32:15 \tat hudson.FilePath$FileCallableWrapper.call(FilePath.java:2772)\n10:32:15 \tat hudson.remoting.UserRequest.perform(UserRequest.java:153)\n10:32:15 \tat hudson.remoting.UserRequest.perform(UserRequest.java:50)\n10:32:15 \tat hudson.remoting.Request$2.run(Request.java:332)\n10:32:15 \tat hudson.remoting.InterceptingExecutorService$1.call(InterceptingExecutorService.java:68)\n10:32:15 \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\n10:32:15 \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n10:32:15 \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n10:32:15 \tat java.lang.Thread.run(Thread.java:745)\n10:32:15 \tat ......remote call to hyp-x86_64-8032(Native Method)\n10:32:15 \tat hudson.remoting.Channel.attachCallSiteStackTrace(Channel.java:1433)\n10:32:15 \tat hudson.remoting.UserResponse.retrieve(UserRequest.java:253)\n10:32:15 \tat hudson.remoting.Channel.call(Channel.java:797)\n10:32:15 \tat hudson.FilePath.act(FilePath.java:1007)\n10:32:15 \t... 11 more\n10:32:15 [Cobertura] No coverage results were found using the pattern '**\/report.xml' relative to '\/w\/workspace\/fabric-verify-x86_64'.  Did you enter a pattern relative to the correct directory?  Did you generate the XML report(s) for Cobertura?\n10:32:15 [Cobertura] Skipped cobertura reports.\n10:32:15 Build step 'Publish Cobertura Coverage Report' changed build result to FAILURE\n10:32:15 Finished: FAILURE\n``` during CI verification of my CR: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2643\/>. Full console output: <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/3314\/console>","ts":"1480243976.003247"},{"type":"message","user":"U1HFNJB50","text":"I see same problem happens also for others, here for example: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2789\/>","ts":"1480244111.003248"},{"type":"message","user":"U1HFNJB50","text":"^^^^ <@U0KM61BCP> <@U0KPFAZNF> <@U0UHG4VP1>","ts":"1480244162.003249"},{"type":"message","user":"U1AU8DRQR","text":"<@U1HFNJB50> same for me","ts":"1480338741.003252"},{"type":"message","user":"U0KPFAZNF","text":"<@U1HFNJB50> the cobertura report failure is a red herring","ts":"1480339555.003253"},{"type":"message","user":"U0KPFAZNF","text":"the actual failure was just above that, in the gossip UT","ts":"1480339566.003254"},{"type":"message","user":"U0KPFAZNF","text":"In this case, the offending test was: FAIL\t<http:\/\/github.com\/hyperledger\/fabric\/gossip\/state|github.com\/hyperledger\/fabric\/gossip\/state>\t15.341s","ts":"1480339611.003255"},{"type":"message","user":"U0KPFAZNF","text":"that said, it seems like the error did not propagate properly such that the cobertura portion was still trying to locate the report","ts":"1480339671.003256"},{"type":"message","user":"U0KPFAZNF","text":"<@U0YK3KKCY> There seems to be something wrong with the s390x CI engine","ts":"1480339799.003257"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-baseimage-verify-docker-s390x\/7\/console>","ts":"1480339803.003258"},{"type":"message","user":"U1HFNJB50","text":"So cobertura tries to build up the report, while there is a test failure hence no report generated, as a consequence IOException\u2026 am I getting it right?","ts":"1480339817.003259"},{"type":"message","user":"U0KPFAZNF","text":"<@U0YK3KKCY>: reference <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2795\/1>","ts":"1480339836.003260"},{"type":"message","user":"U0KPFAZNF","text":"<@U1HFNJB50> yes, that seems to be the case...whats supposed to happen is the UTs run, piping their output into gocov-xml which generates report.xml","ts":"1480339878.003261"},{"type":"message","user":"U0KPFAZNF","text":"a UT then fails, which should stop the whole pipeline","ts":"1480339886.003262"},{"type":"message","user":"U0KPFAZNF","text":"but instead, the next phase which tries to process the report.xml still runs","ts":"1480339897.003263"},{"type":"message","user":"U0KPFAZNF","text":"so, the real problem is that a UT failed","ts":"1480339905.003264"},{"type":"message","user":"U1HFNJB50","text":"Oh, I see thanks","ts":"1480339913.003265"},{"type":"message","user":"U0KPFAZNF","text":"but a secondary problem is that the UT failure was not detected","ts":"1480339915.003266"},{"type":"message","user":"U1HFNJB50","text":"will take a look into UT","ts":"1480339927.003267"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> can you investigate the secondary problem mentioned above?","ts":"1480340087.003268"},{"type":"message","user":"U0KPFAZNF","text":"Not sure where the disconnect is occuring, but the UT fail should have propagated in a way that you don't try to process the report","ts":"1480340122.003269"},{"type":"message","user":"U0KPFAZNF","text":"(it could be my fault\/problem, to be clear)","ts":"1480340136.003270"},{"type":"message","user":"U0KPFAZNF","text":"but if you can investigate it, that would be helpful","ts":"1480340153.003271"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KPFAZNF> looking into the coverage report issue.","ts":"1480342510.003272"},{"type":"message","user":"U0YK3KKCY","text":"<@U0KPFAZNF> i'll take a look.  re: s390 ci for base image","ts":"1480343059.003273"},{"type":"message","user":"U0YK3KKCY","text":"<@U0KPFAZNF> <@U11HH3P7Y>, please resubmit verify job for the baseimage patch","ts":"1480343207.003274"},{"type":"message","user":"U0YK3KKCY","text":"the issue has been resolved.","ts":"1480343331.003275","reactions":[{"name":"+1","users":["U10Q62R8X","U11NUTP4L"],"count":2}]},{"type":"message","user":"U11HH3P7Y","text":"ok","ts":"1480343823.003276"},{"type":"message","user":"U11HH3P7Y","text":"<@U0YK3KKCY>: getting same error ``` Cannot connect to the Docker daemon. Is the docker daemon running on this host?\n00:00:05.568 Build step 'Execute shell' marked build as failure\n00:00:05.730 Finished: FAILURE```","ts":"1480344065.003277"},{"type":"message","user":"U0YK3KKCY","text":"ok are you using hyp-z-linuxone-3 ?","ts":"1480344106.003278"},{"type":"message","user":"U0YK3KKCY","text":"ah i think i see the issue ( #2)... let me fix this","ts":"1480344196.003279"},{"type":"message","user":"U0YK3KKCY","text":"ok, please try again <@U11HH3P7Y>","ts":"1480344258.003280"},{"type":"message","user":"U11HH3P7Y","text":"yes last one was on #2..","ts":"1480344282.003281"},{"type":"message","user":"U11HH3P7Y","text":"will try","ts":"1480344286.003282"},{"type":"message","user":"U0YK3KKCY","text":"ah, k. i put the fix on #3...","ts":"1480344358.003283"},{"type":"message","user":"U0YK3KKCY","text":"let me check #2","ts":"1480344362.003284"},{"type":"message","user":"U11HH3P7Y","text":"it's working now..","ts":"1480344385.003285"},{"type":"message","user":"U11HH3P7Y","text":"thanks","ts":"1480344392.003286"},{"type":"message","user":"U0YK3KKCY","text":"great!","ts":"1480344425.003287"},{"type":"message","user":"U0KPFAZNF","text":"ty <@U0YK3KKCY>","ts":"1480345395.003288"},{"type":"message","user":"U0YK3KKCY","text":"yqw","ts":"1480345883.003289"},{"type":"message","user":"U0YK3KKCY","text":"<@U11HH3P7Y> let me resolve the out of space issue that i see for those verify jobs.","ts":"1480352845.003290"},{"type":"message","user":"U0YK3KKCY","text":"<@U11HH3P7Y> hyp2 has been fixed. now working on hyp3","ts":"1480353223.003291"},{"type":"message","user":"U11HH3P7Y","text":"ok.. once done will re-trigger this job again","ts":"1480353243.003292"},{"type":"message","user":"U0YK3KKCY","text":"ok... space issues have been resolved. please try again.","ts":"1480353379.003293"},{"type":"message","user":"U0YK3KKCY","text":"<@U11HH3P7Y> good to see the verify job finally completed without error.","ts":"1480355529.003294"},{"type":"message","user":"U11HH3P7Y","text":"yes..","ts":"1480355936.003295"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: seems builds are stuck in queue <https:\/\/jenkins.hyperledger.org\/view\/fabric\/>","ts":"1480362315.003296"},{"type":"message","user":"U11HH3P7Y","text":"all queued builds are waiting for hyp-x86_64-3235 executor","ts":"1480362429.003297"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y>: I'll be back from lunch in 20","ts":"1480364479.003298"},{"type":"message","user":"U11HH3P7Y","text":"ok","ts":"1480364595.003299"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> looks like it cleared up on its own","ts":"1480366619.003300"},{"type":"message","user":"U11HH3P7Y","text":"yes","ts":"1480366668.003301"},{"type":"message","user":"U1AU8DRQR","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2673\/> now I have another failing test:\n08:28:49 \u001b[33munit-tests_1  |\u001b[0m --- FAIL: TestPayloadsBufferImpl_ConcurrentPush (0.00s)\nbut that is really not mine","ts":"1480412110.003302"},{"type":"message","user":"U0ZJZBJLF","text":"<@U1HFNJB50> <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/3401\/console>","edited":{"user":"U0ZJZBJLF","ts":"1480414333.000000"},"ts":"1480414318.003303"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0KPFAZNF>, <@U0UHG4VP1>   I'm seeing the following output when the CI job is running:\n```\n12:57:06 [33munit-tests_1  |[0m ?   \t<http:\/\/github.com\/hyperledger\/fabric\/gossip\/common|github.com\/hyperledger\/fabric\/gossip\/common>\t[no test files]\n12:57:14 [36mvp_1          |[0m [36m12:57:14.203 [GossipStateProvider] antiEntropy -&gt; DEBU 0a8[0m Current ledger height is the same as ledger height on other peers.\n12:57:19 [33munit-tests_1  |[0m ok  \t<http:\/\/github.com\/hyperledger\/fabric\/gossip\/discovery|github.com\/hyperledger\/fabric\/gossip\/discovery>\t11.112s\tcoverage: 83.1% of statements\n12:57:19 [33munit-tests_1  |[0m ?   \t<http:\/\/github.com\/hyperledger\/fabric\/gossip\/election|github.com\/hyperledger\/fabric\/gossip\/election>\t[no test files]\n12:57:24 [36mvp_1          |[0m [36m12:57:24.212 [GossipStateProvider] antiEntropy -&gt; DEBU 0a9[0m Current ledger height is the same as ledger height on other peers.\n12:57:34 [36mvp_1          |[0m [36m12:57:34.223 [GossipStateProvider] antiEntropy -&gt; DEBU 0aa[0m Current ledger height is the same as ledger height on other peers.\n12:57:44 [36mvp_1          |[0m [36m12:57:44.234 [GossipStateProvider] antiEntropy -&gt; DEBU 0ab[0m Current ledger height is the same as ledger height on other peers.\n12:57:54 [36mvp_1          |[0m [36m12:57:54.245 [GossipStateProvider] antiEntropy -&gt; DEBU 0ac[0m Current ledger height is the same as ledger height on other peers.\n12:58:04 [36mvp_1          |[0m [36m12:58:04.255 [GossipStateProvider] antiEntropy -&gt; DEBU 0ad[0m Current ledger height is the same as ledger height on other peers.\n12:58:14 [36mvp_1          |[0m [36m12:58:14.266 [GossipStateProvider] antiEntropy -&gt; DEBU 0ae[0m Current ledger height is the same as ledger height on other peers.\n12:58:24 [36mvp_1          |[0m [36m12:58:24.276 [GossipStateProvider] antiEntropy -&gt; DEBU 0af[0m Current ledger height is the same as ledger height on other peers.\n12:58:34 [36mvp_1          |[0m [36m12:58:34.287 [GossipStateProvider] antiEntropy -&gt; DEBU 0b0[0m Current ledger height is the same as ledger height on other peers.\n12:58:37 [33munit-tests_1  |[0m ok  \t<http:\/\/github.com\/hyperledger\/fabric\/gossip\/gossip|github.com\/hyperledger\/fabric\/gossip\/gossip>\t76.252s\tcoverage: 86.6% of statements\n12:58:43 [33munit-tests_1  |[0m ok  \t<http:\/\/github.com\/hyperledger\/fabric\/gossip\/gossip\/algo|github.com\/hyperledger\/fabric\/gossip\/gossip\/algo>\t4.606s\tcoverage: 95.5% of statements\n12:58:44 [36mvp_1          |[0m [36m12:58:44.296 [GossipStateProvider] antiEntropy -&gt; DEBU 0b1[0m Current ledger height is the same as ledger height on other peers.\n12:58:44 [33munit-tests_1  |[0m ok  \t<http:\/\/github.com\/hyperledger\/fabric\/gossip\/identity|github.com\/hyperledger\/fabric\/gossip\/identity>\t0.004s\tcoverage: 95.8% of statements\n12:58:51 [33munit-tests_1  |[0m ok  \t<http:\/\/github.com\/hyperledger\/fabric\/gossip\/integration|github.com\/hyperledger\/fabric\/gossip\/integration>\t6.021s\tcoverage: 69.2% of statements\n12:58:52 [33munit-tests_1  |[0m ?   \t<http:\/\/github.com\/hyperledger\/fabric\/gossip\/proto|github.com\/hyperledger\/fabric\/gossip\/proto>\t[no test files]\n12:58:54 [36mvp_1          |[0m [36m12:58:54.306 [GossipStateProvider] antiEntropy -&gt; DEBU 0b2[0m Current ledger height is the same as ledger height on other peers.\n12:59:04 [36mvp_1          |[0m [36m12:59:04.315 [GossipStateProvider] antiEntropy -&gt; DEBU 0b3[0m Current ledger height is the same as ledger height on other peers.\n```\n\nIs it possible that some tests are running in parallel? Because, gossip\/state is the only one that outputs these log messages, and it should only run after, not during these tests","edited":{"user":"U0ZJZBJLF","ts":"1480424460.000000"},"ts":"1480424445.003305"},{"type":"message","user":"U0KPFAZNF","text":"note that the output is emitted from the peer, not the UT","ts":"1480425621.003307"},{"type":"message","user":"U0KPFAZNF","text":"does that make sense?","ts":"1480425628.003308"},{"type":"message","user":"U0ZJZBJLF","text":"yeah, it does now.","ts":"1480426721.003315"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> does that still imply some kind of ordering violation occurred?","ts":"1480427476.003316"},{"type":"message","user":"U0KPFAZNF","text":"or is that normal\/expected?","ts":"1480427485.003317"},{"type":"message","user":"U0KPFAZNF","text":"On a related note, I have an outstanding CR that suppresses the \"vp_1\" output","ts":"1480427517.003318"},{"type":"message","user":"U0KPFAZNF","text":"do you think that is a bad idea in light of this?","ts":"1480427524.003319"},{"type":"message","user":"U0KPFAZNF","text":"e.g. is that output actually useful?","ts":"1480427532.003320"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2805\/>","ts":"1480427553.003321"},{"type":"message","user":"U0ZJZBJLF","text":"1) we have no use of the external peer's logging. I'd assume it might(?) be useful for other squads\n2) <@U1HFNJB50>  said an hour ago he'll make a PR that sets the default gossip\/state logging level to something above DEBUG so it wouldn't output these stuff in the peer UT.","edited":{"user":"U0ZJZBJLF","ts":"1480427726.000000"},"ts":"1480427695.003322"},{"type":"message","user":"U0KPFAZNF","text":"ok, the rationale of 2805 is that we historically have suppressed this output anyway","ts":"1480428168.003324"},{"type":"message","user":"U0KPFAZNF","text":"it was only recently exposed when I switched the UTs to use docker","ts":"1480428179.003325"},{"type":"message","user":"U0KPFAZNF","text":"my understanding is that the peer is only used peripherally in 1-2 tests, not generally","ts":"1480428194.003326"},{"type":"message","user":"U0KPFAZNF","text":"I am not sure what would have driven vp_1 to output those messages in this case, but my guess is it was coincidental to the UT activity","ts":"1480428231.003327"},{"user":"U380FJ1U1","text":"<@U380FJ1U1|m.jay.h> has joined the channel","type":"message","subtype":"channel_join","ts":"1480499395.003328"},{"type":"message","user":"U0ZJZBJLF","text":"I think gerrit is dead, I can't push bugs now\n<@U0UHG4VP1>  <@U11HH3P7Y>  can anyone check it out please?","edited":{"user":"U0ZJZBJLF","ts":"1480504907.000000"},"ts":"1480504876.003329"},{"type":"message","subtype":"file_share","text":"<@U1HFNJB50|c0rwin> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/c0rwin\/F38Q6GLH3\/pasted_image_at_2016_11_30_01_21_pm.png|Pasted image at 2016-11-30, 1:21 PM>","file":{"id":"F38Q6GLH3","created":1480504907,"timestamp":1480504907,"name":"Pasted image at 2016_11_30 01_21 PM.png","title":"Pasted image at 2016-11-30, 1:21 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U1HFNJB50","editable":false,"size":61462,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F38Q6GLH3\/pasted_image_at_2016_11_30_01_21_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F38Q6GLH3\/download\/pasted_image_at_2016_11_30_01_21_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38Q6GLH3-969b5b300c\/pasted_image_at_2016_11_30_01_21_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38Q6GLH3-969b5b300c\/pasted_image_at_2016_11_30_01_21_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38Q6GLH3-969b5b300c\/pasted_image_at_2016_11_30_01_21_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":171,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38Q6GLH3-969b5b300c\/pasted_image_at_2016_11_30_01_21_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","image_exif_rotation":1,"original_w":466,"original_h":221,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/c0rwin\/F38Q6GLH3\/pasted_image_at_2016_11_30_01_21_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F38Q6GLH3-0af8bd90dd","channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U1HFNJB50","upload":true,"display_as_bot":false,"username":"<@U1HFNJB50|c0rwin>","bot_id":null,"ts":"1480504909.003331"},{"type":"message","user":"U1HFNJB50","text":"For me Gerrit look like this ^^^^^ <@U0UHG4VP1> <@U11HH3P7Y>","ts":"1480504931.003332"},{"type":"message","user":"U0ZJZBJLF","text":"ok it's back","ts":"1480505125.003333"},{"type":"message","user":"U0UHG4VP1","text":"yacovm: c0rwin: hgabor: our provider was suffering a network issue last night. I don't know if it is a hardware failure or another DDoS.","ts":"1480520156.003334","reactions":[{"name":"+1","users":["U0ZJZBJLF"],"count":1},{"name":"squirrel","users":["U1AU8DRQR"],"count":1},{"name":"alien","users":["U1HFNJB50"],"count":1}]},{"type":"message","user":"U0PB67X4K","text":"is CI dead?","ts":"1480521879.003335"},{"type":"message","user":"U11HH3P7Y","text":"it's working","ts":"1480521985.003336"},{"type":"message","user":"U0PB67X4K","text":"hmm - then why is CI not being triggered for <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2791\/> ?","ts":"1480522252.003337"},{"type":"message","user":"U0UHG4VP1","text":"garisingh we are still suffering whatever the issue is.","ts":"1480522430.003338"},{"type":"message","user":"U0PB67X4K","text":"ok - cool.  just wanted to make sure","ts":"1480522454.003339"},{"type":"message","user":"U0UHG4VP1","text":"I manually triggered a ton of builds, which failed due to jenkins and gerrit not talking. now when I try to manually trigger builds, it times out. gerrit is still up, though (the UI works)","ts":"1480522498.003340"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> when you have a moment, I'd like you to review this before I merge: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2851\/>","ts":"1480523060.003341"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: looking now","ts":"1480527220.003342"},{"type":"message","user":"U0UHG4VP1","text":"thanks","ts":"1480527737.003343"},{"type":"message","user":"U0ZJZBJLF","text":"Is CI dead? I have this PR and it's not verifying <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2907\/>","ts":"1480592379.003344"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1> builds are stuck in queue. Could you please check","ts":"1480601061.003345"},{"type":"message","user":"U11HH3P7Y","text":"Ticket has been created for this issue Ticket# 33733","ts":"1480601610.003346"},{"type":"message","user":"U0UHG4VP1","text":"I've opened a ticket with our provider","ts":"1480604043.003347"},{"type":"message","user":"U0UHG4VP1","text":"minions are coming online","ts":"1480606648.003348"},{"type":"message","user":"U11HH3P7Y","text":"Thanks <@U0UHG4VP1> builds are in progress now..","ts":"1480610257.003349"},{"type":"message","user":"U12V3D2P2","text":"<@U0KPFAZNF> , as you know Srirama's patch for Version 0.6 integrated into the main code. I would like to have the CI release builds going for Power. How can I proceed for that step to upload docker images to Hyperledger Fabric docker hub?","ts":"1480618678.003350"},{"type":"message","user":"U0KPFAZNF","text":"<@U12V3D2P2> what parts do you see as still outstanding?","ts":"1480618889.003351"},{"type":"message","user":"U0KPFAZNF","text":"I just looked at dockerhub (<https:\/\/hub.docker.com\/r\/hyperledger\/fabric-baseimage\/tags\/>), it looks like baseimage:ppcle-0.0.11 is not present","ts":"1480618909.003352"},{"type":"message","user":"U0KPFAZNF","text":"so I would think that is one part","ts":"1480618914.003353"},{"type":"message","user":"U0KPFAZNF","text":"any others?","ts":"1480618916.003354"},{"type":"message","user":"U12V3D2P2","text":"We haven't uploaded any of 0.6 images for Power till now","ts":"1480618943.003355"},{"type":"message","user":"U0KPFAZNF","text":"im not following","ts":"1480618958.003356"},{"type":"message","user":"U12V3D2P2","text":"So we have to upload all three, baseimage, peer and membersrvc","ts":"1480618964.003357"},{"type":"message","user":"U0KPFAZNF","text":"ok, but baseimage is produced from a different pipeline","ts":"1480618978.003358"},{"type":"message","user":"U0KPFAZNF","text":"so, what I am saying is: it appears minimally that we have to address the deficiency in baseimage before fabric.git pipeline may be enabled","ts":"1480619008.003359"},{"type":"message","user":"U12V3D2P2","text":"Sure, if that needs to be done, that will be the first step","ts":"1480619036.003360"},{"type":"message","user":"U0KPFAZNF","text":"ok, id say start there","ts":"1480619045.003361"},{"type":"message","user":"U0KPFAZNF","text":"if the v0.0.11 tag doesnt build for power, I am fine with creating a v0.0.12 for the v0.6 branch","ts":"1480619064.003362"},{"type":"message","user":"U12V3D2P2","text":"Should I submit request for baseimage?","ts":"1480619100.003363"},{"type":"message","user":"U0KPFAZNF","text":"are there changes to fabric-baseimage.git needed?","ts":"1480619119.003364"},{"type":"message","user":"U12V3D2P2","text":"No","ts":"1480619125.003365"},{"type":"message","user":"U0KPFAZNF","text":"if it just needs to be compiled from the label, we can probably just push it","ts":"1480619165.003366"},{"type":"message","user":"U0KPFAZNF","text":"I can no longer recall whether the v0.0.x series would be compatible with the CI pipeline to produce baseimage","ts":"1480619202.003367"},{"type":"message","user":"U0KPFAZNF","text":"if that doesnt work, we will have to build by hand from a ppc machine","ts":"1480619220.003368"},{"type":"message","user":"U0KPFAZNF","text":"oh wait, i remember, one problem is v0.0.11 is still in the fabric.git\/v0.6 branch","ts":"1480619261.003369","reactions":[{"name":"white_check_mark","users":["U11NUTP4L"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"(as opposed to broken out into its own)","ts":"1480619277.003370"},{"type":"message","user":"U0KPFAZNF","text":"we could probably create a jenkins sandbox job to try to build it","ts":"1480619304.003371"},{"type":"message","user":"U12V3D2P2","text":"Ok...","ts":"1480619338.003372"},{"type":"message","user":"U12V3D2P2","text":"<@U0KPFAZNF>, is there anything I can do to build baseimage? <@U11HH3P7Y> mentioned that the previous sandbox job for this is at: <https:\/\/jenkins.hyperledger.org\/view\/fabric-baseimage\/job\/fabric-baseimage-release-docker-ppc64le\/>","ts":"1480629216.003373"},{"type":"message","user":"U11NUTP4L","text":"For v0.6, baseimage is from fabric.git\/v0.6 only. Can\u2019t we just tag the build for ppc64le  as 0.0.11 and push it ?","ts":"1480655378.003374","reactions":[{"name":"+1","users":["U0YK3KKCY","U12V3D2P2"],"count":2}]},{"user":"U0XQ35CDD","text":"<@U0XQ35CDD|kostas> has joined the channel","type":"message","subtype":"channel_join","ts":"1480662463.003375"},{"type":"message","subtype":"file_share","text":"<@U0XQ35CDD|kostas> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/kostas\/F3ACT8JTY\/cydbzu0wqaeatgr.jpg|CydbZU0WQAEATGr.jpg>","file":{"id":"F3ACT8JTY","created":1480662501,"timestamp":1480662501,"name":"CydbZU0WQAEATGr.jpg","title":"CydbZU0WQAEATGr.jpg","mimetype":"image\/jpeg","filetype":"jpg","pretty_type":"JPEG","user":"U0XQ35CDD","editable":false,"size":42798,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3ACT8JTY\/cydbzu0wqaeatgr.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3ACT8JTY\/download\/cydbzu0wqaeatgr.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3ACT8JTY-1567a23807\/cydbzu0wqaeatgr_64.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3ACT8JTY-1567a23807\/cydbzu0wqaeatgr_80.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3ACT8JTY-1567a23807\/cydbzu0wqaeatgr_360.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":257,"thumb_360_h":360,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3ACT8JTY-1567a23807\/cydbzu0wqaeatgr_480.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":343,"thumb_480_h":480,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3ACT8JTY-1567a23807\/cydbzu0wqaeatgr_160.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","image_exif_rotation":1,"original_w":500,"original_h":700,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/kostas\/F3ACT8JTY\/cydbzu0wqaeatgr.jpg","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3ACT8JTY-be8600c4d2","channels":["C0YMWRX19","C28CXQXD5"],"groups":[],"ims":[],"comments_count":1,"reactions":[{"name":"joy","users":["U0ZJZBJLF","U0UHG4VP1","U1HFNJB50","U0KM61BCP"],"count":4}]},"user":"U0XQ35CDD","upload":true,"display_as_bot":false,"username":"<@U0XQ35CDD|kostas>","bot_id":null,"ts":"1480662505.003376"},{"type":"message","subtype":"file_comment","text":"<@U11MANG9G|jonathanlevi> commented on <@U0XQ35CDD|kostas>\u2019s file <https:\/\/hyperledgerproject.slack.com\/files\/kostas\/F3ACT8JTY\/cydbzu0wqaeatgr.jpg|CydbZU0WQAEATGr.jpg>: Oh, the suspense...","file":{"id":"F3ACT8JTY","created":1480662501,"timestamp":1480662501,"name":"CydbZU0WQAEATGr.jpg","title":"CydbZU0WQAEATGr.jpg","mimetype":"image\/jpeg","filetype":"jpg","pretty_type":"JPEG","user":"U0XQ35CDD","editable":false,"size":42798,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3ACT8JTY\/cydbzu0wqaeatgr.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3ACT8JTY\/download\/cydbzu0wqaeatgr.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3ACT8JTY-1567a23807\/cydbzu0wqaeatgr_64.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3ACT8JTY-1567a23807\/cydbzu0wqaeatgr_80.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3ACT8JTY-1567a23807\/cydbzu0wqaeatgr_360.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":257,"thumb_360_h":360,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3ACT8JTY-1567a23807\/cydbzu0wqaeatgr_480.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":343,"thumb_480_h":480,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3ACT8JTY-1567a23807\/cydbzu0wqaeatgr_160.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","image_exif_rotation":1,"original_w":500,"original_h":700,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/kostas\/F3ACT8JTY\/cydbzu0wqaeatgr.jpg","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3ACT8JTY-be8600c4d2","channels":["C0YMWRX19","C28CXQXD5"],"groups":[],"ims":[],"comments_count":1,"reactions":[{"name":"joy","users":["U0ZJZBJLF","U0UHG4VP1","U1HFNJB50","U0KM61BCP"],"count":4}]},"comment":{"id":"Fc396FPU73","created":1480687790,"timestamp":1480687790,"user":"U11MANG9G","is_intro":false,"comment":"Oh, the suspense...","channel":""},"is_intro":false,"ts":"1480687790.003380"},{"type":"message","user":"U12V3D2P2","text":"<@U0KPFAZNF> any thoughts on the Power build for V0.6? I can build baseimage and tag it, but I don't have credentials to push the image to docker hub.","ts":"1480951419.000002"},{"type":"message","user":"U0KPFAZNF","text":"<@U12V3D2P2> I have the opposite problem :wink:","ts":"1480951516.000003"},{"type":"message","user":"U0KPFAZNF","text":"I tell you what","ts":"1480951543.000004"},{"type":"message","user":"U0KPFAZNF","text":"maybe if you push your image to a personal dockerhub repo, I can pull, retag, push","ts":"1480951576.000005"},{"type":"message","user":"U12V3D2P2","text":"Ok..I can try that","ts":"1480951587.000006"},{"type":"message","user":"U0KPFAZNF","text":"are you familiar in general?","ts":"1480951598.000007"},{"type":"message","user":"U12V3D2P2","text":"I tried pushing to docker hub before","ts":"1480951611.000008"},{"type":"message","user":"U0KPFAZNF","text":"ok, cool","ts":"1480951615.000009"},{"type":"message","user":"U0KPFAZNF","text":"it should be a combo of \"docker login\" and \"docker tag &lt;srcimage&gt; bsmita\/fabric-baseimage:ppcle-0.0.11\" and \"docker push bsmita\/..\"","ts":"1480951675.000010"},{"type":"message","user":"U0KPFAZNF","text":"something like that","ts":"1480951687.000011"},{"type":"message","user":"U12V3D2P2","text":"ok..thank you","ts":"1480951690.000012"},{"type":"message","user":"U0KPFAZNF","text":"once I pull it down, you can delete the repo","ts":"1480951720.000013"},{"type":"message","user":"U12V3D2P2","text":"Ok","ts":"1480951726.000014"},{"type":"message","user":"U12V3D2P2","text":"I pushed the baseimage to my repo, please check.","ts":"1480952778.000015"},{"type":"message","user":"U12V3D2P2","text":"<https:\/\/hub.docker.com\/r\/bsmita\/fabric-baseimage\/>","ts":"1480952779.000016"},{"type":"message","user":"U0KPFAZNF","text":"I get a 404 with that link","ts":"1480953172.000017"},{"type":"message","user":"U0UHG4VP1","text":"yeah, <https:\/\/hub.docker.com\/r\/bsmita\/> shows no repos","ts":"1480953215.000018"},{"type":"message","user":"U12V3D2P2","text":"Changed it from Private to Public","ts":"1480953453.000019"},{"type":"message","user":"U12V3D2P2","text":"Can you access it now?","ts":"1480953585.000020"},{"type":"message","user":"U0KPFAZNF","text":"yep","ts":"1480953811.000021"},{"type":"message","user":"U0KPFAZNF","text":"pulling now","ts":"1480953941.000022"},{"type":"message","user":"U0KPFAZNF","text":"one thing that is weird is dockerhub reports the image as 0B","ts":"1480953950.000023"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/hub.docker.com\/r\/bsmita\/fabric-baseimage\/tags\/>","ts":"1480953961.000024"},{"type":"message","user":"U0KPFAZNF","text":"the pull seems to be doing actual work though","ts":"1480953968.000025"},{"type":"message","user":"U12V3D2P2","text":"Right, I saw that too","ts":"1480953969.000026"},{"type":"message","user":"U12V3D2P2","text":"push command showed  size: 1778","ts":"1480954024.000027"},{"type":"message","user":"U0KPFAZNF","text":"it looks normal outside of the webui","ts":"1480954124.000028"},{"type":"message","user":"U0KPFAZNF","text":"bsmita\/fabric-baseimage             ppcle-0.0.11        48c9eb33e4b7        2 days ago          1.337 GB","ts":"1480954125.000029"},{"type":"message","user":"U12V3D2P2","text":"cool!","ts":"1480954138.000030"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/hub.docker.com\/r\/hyperledger\/fabric-baseimage\/tags\/>","ts":"1480954258.000031","reactions":[{"name":"+1","users":["U11NUTP4L"],"count":1}]},{"type":"message","user":"U12V3D2P2","text":"Looks good, what would be the next step?","ts":"1480954294.000032"},{"type":"message","user":"U0KPFAZNF","text":"There shouldnt be one afaik","ts":"1480954578.000033"},{"type":"message","user":"U0KPFAZNF","text":"the v0.6 code already references baseimage v0.0.11","ts":"1480954594.000034"},{"type":"message","user":"U0KPFAZNF","text":"so, I would say, test it","ts":"1480954608.000035"},{"type":"message","user":"U12V3D2P2","text":"I tried sandbox build for peer\/membersrvc for Power, unit-tests passed","ts":"1480954624.000036"},{"type":"message","user":"U12V3D2P2","text":"I can try the build again","ts":"1480954637.000037"},{"type":"message","user":"U0KPFAZNF","text":"oh, i see what you are probably asking","ts":"1480954649.000038"},{"type":"message","user":"U0KPFAZNF","text":"you mean w.r.t. peer\/membersrvc docker images on docker hub?","ts":"1480954659.000039"},{"type":"message","user":"U12V3D2P2","text":"yes, the release build","ts":"1480954665.000040"},{"type":"message","user":"U0KPFAZNF","text":"I _think_ <@U11HH3P7Y> can trigger a release build, at least on power ?","ts":"1480954688.000041"},{"type":"message","user":"U0KPFAZNF","text":"against the v0.6.1-preview tag","ts":"1480954704.000042"},{"type":"message","user":"U12V3D2P2","text":"He can, but I thought he is on vacation for 2 weeks","ts":"1480954712.000043"},{"type":"message","user":"U0KPFAZNF","text":"oh, i see","ts":"1480954719.000044"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: do you know if this can be done?","ts":"1480954730.000045"},{"type":"message","user":"U0KPFAZNF","text":"another possibility is we go through a regular v0.6.2-preview release (we need to anyway)","ts":"1480954750.000046"},{"type":"message","user":"U0KPFAZNF","text":"and presumably it will build power as a natural function of the new release","ts":"1480954759.000047"},{"type":"message","user":"U12V3D2P2","text":"That will be nice","ts":"1480954776.000048"},{"type":"message","user":"U0UHG4VP1","text":"is this related to: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2851\/> ?","ts":"1480954783.000049"},{"type":"message","user":"U12V3D2P2","text":"No this is for version 0.6","ts":"1480954846.000050"},{"type":"message","user":"U0KM61BCP","text":"sigh, it would have been nice to have had this planned","ts":"1480955182.000051"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> which part?","ts":"1480955450.000052"},{"type":"message","user":"U0KPFAZNF","text":"CR 2851 or a potential v0.6.2-preview?","ts":"1480955463.000053"},{"type":"message","user":"U0UHG4VP1","text":"it looks like all of the new jobs fail: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2985\/> should I mark them as disabled?","ts":"1480960250.000054"},{"type":"message","user":"U0UHG4VP1","text":"(that cr is just a for instance, since it's only a doc change it's unlikely it broke anything)","ts":"1480960270.000055"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF> just the need for power images","ts":"1480963955.000056"},{"type":"message","user":"U0KM61BCP","text":"since we don't have that as part of the standard process","ts":"1480963973.000057"},{"type":"message","user":"U0KPFAZNF","text":"I see:  I don't have a strong opinion about it either way but I can say I have had many requests from the P\/Z folks","ts":"1480964399.000058"},{"type":"message","user":"U0KPFAZNF","text":"So I suspect they do in fact have a strong opinion ;)","ts":"1480964416.000059"},{"type":"message","user":"U0KPFAZNF","text":"I'll let you guys sort it out ","ts":"1480964426.000060"},{"type":"message","user":"U12V3D2P2","text":"<@U0UHG4VP1> is it possible to setup a new release build job for V0.6 release build for Power? Previously <@U11HH3P7Y> setup baseimage job at <https:\/\/jenkins.hyperledger.org\/view\/fabric-baseimage\/job\/fabric-baseimage-release-docker-ppc64le\/>","ts":"1480966025.000061"},{"type":"message","user":"U0UHG4VP1","text":"bsmita: the repo is public, you're welcome to submit revisions","ts":"1480966755.000062"},{"type":"message","user":"U0UHG4VP1","text":"bsmita: <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/ci-management> add me as a reviewer","ts":"1480966787.000063"},{"type":"message","user":"U0UHG4VP1","text":"when you have a change","ts":"1480966802.000064"},{"type":"message","user":"U0UHG4VP1","text":"be sure to loop in <@U0KPFAZNF> as well","ts":"1480966809.000065"},{"type":"message","user":"U12V3D2P2","text":"I am not sure how new requests for builds are done, but is there a sample I can look at?","ts":"1480966834.000066"},{"type":"message","user":"U12V3D2P2","text":"We don't need baseimage build now, but the build is for peer\/membersrvc images","ts":"1480966870.000067"},{"type":"message","user":"U0KPFAZNF","text":"<@U12V3D2P2> \"normally\" (I say in quotes since this is new plumbing), the -release job runs in response to a maintainer (namely, me) pushing a new git tag to gerrit","ts":"1480967137.000068"},{"type":"message","user":"U0KPFAZNF","text":"a typical flow would be someone, presumably me, submits a dual CR: one that sets IS_RELEASE true, and a second one that resets it back to false along with a bump in the version","ts":"1480967185.000069"},{"type":"message","user":"U0KPFAZNF","text":"it gets voted on: assuming it accumulates at least 2+2 it gets merge","ts":"1480967199.000070"},{"type":"message","user":"U0KPFAZNF","text":"I then create an annotated tag against the commit from the first CR, and push it to gerrit","ts":"1480967213.000071"},{"type":"message","user":"U0KPFAZNF","text":"this triggers jenkins to run the -release job, which, like -verify and -merge will do a full build","ts":"1480967230.000072"},{"type":"message","user":"U0KPFAZNF","text":"the main difference is, this is against the git-tag","ts":"1480967238.000073"},{"type":"message","user":"U0KPFAZNF","text":"if it succeeds, the job also pushes the images out to dockerhub","ts":"1480967253.000074"},{"type":"message","user":"U12V3D2P2","text":"Ok...the job has to be present in the list right?","ts":"1480967257.000075"},{"type":"message","user":"U0KPFAZNF","text":"since v0.6.1-preview already went through this process (with only x86_64 online) there isnt a natural mechanism to back-release against the same tag","ts":"1480967286.000076"},{"type":"message","user":"U0KPFAZNF","text":"so, assuming the back-release is agreed upon, there are a few options","ts":"1480967313.000077"},{"type":"message","user":"U0KPFAZNF","text":"we could cut a new v0.6 release (like I mentioned, we kind of need to anyway since there are fixes in the branch that didnt make it into v0.6.1)","ts":"1480967343.000078"},{"type":"message","user":"U0KPFAZNF","text":"we could manually trigger the missing builds against the v0.6.1-tag","ts":"1480967357.000079"},{"type":"message","user":"U0KPFAZNF","text":"we could build\/push them by hand","ts":"1480967366.000080"},{"type":"message","user":"U0KPFAZNF","text":"im sure there are other options or variations of those same themes","ts":"1480967378.000081"},{"type":"message","user":"U0KPFAZNF","text":"but the main point is: there isnt a turn-key process to accommodate your request: v0.6.1 was already cut","ts":"1480967419.000082"},{"type":"message","user":"U12V3D2P2","text":"OK..can we do V0.6.2? Along with x86?","ts":"1480967460.000083"},{"type":"message","user":"U0KPFAZNF","text":"I am in favor of this","ts":"1480967473.000084"},{"type":"message","user":"U12V3D2P2","text":"OK..","ts":"1480967478.000085"},{"type":"message","user":"U12V3D2P2","text":"Please let me know if I need to do anything for the new release build","ts":"1480967535.000086"},{"type":"message","user":"U0KPFAZNF","text":"are the P builders in Jenkins primed and ready?","ts":"1480967712.000087"},{"type":"message","user":"U12V3D2P2","text":"The nodes are online, I tried few builds late last week which worked, not sure what needs to be done to cleanup","ts":"1480967817.000088"},{"user":"U0XPR4NP4","text":"<@U0XPR4NP4|jyellick> has joined the channel","type":"message","subtype":"channel_join","ts":"1480970749.000089"},{"type":"message","user":"U0XPR4NP4","text":"```\nPatch Set 14: Verified-1\nBuild Failed \n<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-behave-x86_64\/2481\/> : FAILURE (skipped)\n<https:\/\/jenkins.hyperledger.org\/job\/fabric-app-image-verify-docker-ppc64le\/6\/> : FAILURE\n<https:\/\/jenkins.hyperledger.org\/job\/fabric-app-image-verify-docker-s390x\/6\/> : FAILURE\n<https:\/\/jenkins.hyperledger.org\/job\/fabric-app-image-verify-docker-x86_64\/6\/> : FAILURE\n<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/3650\/> : SUCCESS\n```\n\nThese middle three tests are new to me, are they expected to fail? Is there any more information on them?","ts":"1480970794.000090"},{"type":"message","user":"U0UHG4VP1","text":"jyellick those were just added this morning and I've asked if I should disable them for the time being","ts":"1480970834.000091"},{"type":"message","user":"U0UHG4VP1","text":"ramesh added them and is on vacation for two weeks :slightly_smiling_face:","ts":"1480970843.000092"},{"type":"message","user":"U0XPR4NP4","text":"That's the way to push code! Not his problem anymore... Do we have an ETA on a decision there?","ts":"1480970923.000093"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/jenkins.hyperledger.org\/view\/fabric-app\/> <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2997\/1\/jjb\/releases\/fabric-app-images.yaml> merged","ts":"1480971457.000094"},{"type":"message","user":"U0UHG4VP1","text":"jyellick by fiat I've disabled them until someone can pay attention to them","ts":"1480971486.000095","reactions":[{"name":"+1","users":["U0XPR4NP4","U0KPFAZNF"],"count":2}]},{"type":"message","user":"U0YK3KKCY","text":"in the failed jobs listed above (from looking at the console logs), it appears that the make docker target is not defined. \n13:55:00 + make docker\n13:55:00 make: *** No rule to make target 'docker'.  Stop.\n\nnot sure if this helps, or not...","ts":"1480972120.000096"},{"type":"message","user":"U0YK3KKCY","text":"<@U11MANG9G> since the behave tests are currently disabled\/worked around in the fabric build CI process, the following information is not a high priority:\n\nthe kafka behave tests utilize x86 docker images ( openjdk:8u111-jre and zookeeper:3.4.9 ) to build the kafka environment.  Both p and z will not be able to run these behave tests.  perhaps down the road, we could incorporate kafka and zookeeper into the fabric-baseimage build process. just a thought.","ts":"1480974551.000097","reactions":[{"name":"+1","users":["U11MANG9G","U11NUTP4L"],"count":2}]},{"type":"message","user":"U0YK3KKCY","text":"<@U0UHG4VP1> for those fabric-app-image-verify-docker-* jobs that failed earlier today, it looks like you need to prefix \"cd gopath\/src\/github.com\/hyperledger\/fabric &amp;&amp;\" to the \"make docker\" command listed in the \"Execute Shell\" portion of the Jenkins job.","ts":"1480981101.000098"},{"type":"message","user":"U0YK3KKCY","text":"it's possible that <@U11HH3P7Y> used the fabric-baseimage jenkins job as a model","ts":"1480981119.000099"},{"type":"message","user":"U0YK3KKCY","text":"in those jobs they just have make docker","ts":"1480981128.000100"},{"type":"message","user":"U0UHG4VP1","text":"I disabled them until someone submits a fix","ts":"1480981129.000101"},{"type":"message","user":"U0YK3KKCY","text":"understand. i could submit a fix, but i'm not sure how i submit a fix for a jenkins job.  if you have any advice, i'd appreciate it.","ts":"1480981198.000102"},{"type":"message","user":"U0UHG4VP1","text":"you would check out the ci-management repo I linked to earlier and do a git log, then look at... two commits from HEAD? three? that's where I disabled them. it will tell you the file to edit and you'll see the pattern","ts":"1480981257.000103"},{"type":"message","user":"U0YK3KKCY","text":"ah ok. cool. thanks!","ts":"1480981279.000104"},{"type":"message","user":"U0UHG4VP1","text":"harrijk look at the second and third commit from HEAD here: <https:\/\/gerrit.hyperledger.org\/r\/#\/q\/project:ci-management+status:merged>","ts":"1480982026.000105"},{"type":"message","user":"U0YK3KKCY","text":"<@U0UHG4VP1> thanks.","ts":"1480982128.000106"},{"type":"message","user":"U0YK3KKCY","text":"the root issue appears to be in the fabric-macros.yaml file:","ts":"1480982278.000107"},{"type":"message","user":"U0YK3KKCY","text":"- builder:\n    name: app-docker-image\n    builders:\n       - shell: |\n          #!\/bin\/bash -exu\n          set -o pipefail\n\n          make docker","ts":"1480982280.000108"},{"type":"message","user":"U0YK3KKCY","text":"make docker should be cd gopath\/src\/github.com\/hyperledger\/fabric &amp;&amp; make docker","ts":"1480982307.000109"},{"type":"message","user":"U0YK3KKCY","text":"i'd like to manually test this in the sandbox","ts":"1480982324.000110"},{"type":"message","user":"U0YK3KKCY","text":"i'll recreate one of the docker app image jobs in the sandbox adding in that additional cd command and see what happens.","ts":"1480982357.000111","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0YK3KKCY","text":"so far, so good with the jenkins sandbox test...","ts":"1480983923.000112"},{"type":"message","user":"U0YK3KKCY","text":"well it's able to issue the make docker command without getting the \"no target found\" error message (as was found in today's jobs).","ts":"1480985014.000113"},{"type":"message","user":"U0YK3KKCY","text":"however, i think i need to setup the ssh agent properly... further in the job i see:\n# cd .; git clone <https:\/\/github.com\/golang\/lint> \/opt\/gotools\/obj\/gopath\/src\/github.com\/golang\/lint\nCloning into '\/opt\/gotools\/obj\/gopath\/src\/github.com\/golang\/lint'...\nfatal: unable to look up current user in the passwd file: no such user","attachments":[{"service_name":"GitHub","title":"golang\/lint","title_link":"https:\/\/github.com\/golang\/lint","text":"This is a linter for Go source code.","fallback":"GitHub: golang\/lint","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/4314092?v=3&s=400","from_url":"https:\/\/github.com\/golang\/lint","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"edited":{"user":"U0YK3KKCY","ts":"1480985080.000000"},"ts":"1480985060.000114"},{"type":"message","user":"U0YK3KKCY","text":"under ssh agent i don't see the \"hyperledger-jobbuilder\" id listed in the credentials section like i see in a fabric job in the production jenkins.  maybe that's the issue.","ts":"1480985266.000117"},{"type":"message","user":"U0UHG4VP1","text":"yeah don't mess with that.","ts":"1480992441.000118"},{"type":"message","user":"U0UHG4VP1","text":"for https clones you don't need it, that's why we use https checkouts in ci for the most part","ts":"1480992461.000119"},{"type":"message","user":"U0YK3KKCY","text":"<@U0UHG4VP1> did the sandbox get rebuilt?","ts":"1480992744.000120"},{"type":"message","user":"U0UHG4VP1","text":"no","ts":"1480992767.000121"},{"type":"message","user":"U0YK3KKCY","text":"i didn't have these ssh agent issues before (once we got past the macs and key alg.)","ts":"1480992787.000122"},{"type":"message","user":"U0YK3KKCY","text":"i have built other jobs on the sandbox that seem to be gone.","ts":"1480992800.000123"},{"type":"message","user":"U0YK3KKCY","text":"perhaps they're hiding somewhere","ts":"1480992807.000124"},{"type":"message","user":"U0UHG4VP1","text":"the sandbox gets reset every week","ts":"1480992810.000125"},{"type":"message","user":"U0UHG4VP1","text":"the jobs are deleted","ts":"1480992815.000126"},{"type":"message","user":"U0YK3KKCY","text":"ah reset... okay. makes sense","ts":"1480992819.000127"},{"type":"message","user":"U0YK3KKCY","text":"so the keys used for the jenkins ssh agent in the sandbox should work for our existing z minions?","ts":"1480993004.000128"},{"type":"message","user":"U0YK3KKCY","text":"guess i'm missing something. hmm.","ts":"1480993024.000129"},{"type":"message","user":"U0UHG4VP1","text":"they should be, yes. we only delete the jobs.","ts":"1480993040.000130"},{"type":"message","user":"U0UHG4VP1","text":"so the issue is your job works on x86_64 but you can't test it on z?","ts":"1480993063.000131"},{"type":"message","user":"U0YK3KKCY","text":"<https:\/\/jenkins.hyperledger.org\/sandbox\/job\/test-docker-app-image\/configure>","ts":"1480993078.000132"},{"type":"message","user":"U0YK3KKCY","text":"trying to make this work for z. i haven't tried it on x","ts":"1480993096.000133"},{"type":"message","user":"U0YK3KKCY","text":"getting mixed results as you'll see in the various job console output","ts":"1480993124.000134"},{"type":"message","user":"U0UHG4VP1","text":"the power and z minions are connected","ts":"1480993149.000135"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/jenkins.hyperledger.org\/sandbox\/> shows them","ts":"1480993151.000136"},{"type":"message","user":"U0UHG4VP1","text":"which means ssh is working","ts":"1480993158.000137"},{"type":"message","user":"U0UHG4VP1","text":"OK. don't do that","ts":"1480993192.000138"},{"type":"message","user":"U0UHG4VP1","text":"just add a few lines at the top of your script to `git checkout repo directory` and use the https: repo link","ts":"1480993223.000139"},{"type":"message","user":"U0UHG4VP1","text":"source code management: none","ts":"1480993240.000140"},{"type":"message","user":"U0YK3KKCY","text":"ok","ts":"1480993245.000141"},{"type":"message","user":"U0UHG4VP1","text":"just delete that stanza","ts":"1480993248.000142"},{"type":"message","user":"U0YK3KKCY","text":"thanks! i'll do that.","ts":"1480993257.000143"},{"type":"message","user":"U0YK3KKCY","text":"back to one of my original errors... i'm getting into the minion, but...","ts":"1480993735.000144"},{"type":"message","user":"U0YK3KKCY","text":"22:07:38 # cd .; git clone <https:\/\/github.com\/golang\/lint> \/opt\/gotools\/obj\/gopath\/src\/github.com\/golang\/lint\n22:07:38 Cloning into '\/opt\/gotools\/obj\/gopath\/src\/github.com\/golang\/lint'...\n22:07:38 fatal: unable to look up current user in the passwd file: no such user","attachments":[{"service_name":"GitHub","title":"golang\/lint","title_link":"https:\/\/github.com\/golang\/lint","text":"This is a linter for Go source code.","fallback":"GitHub: golang\/lint","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/4314092?v=3&s=400","from_url":"https:\/\/github.com\/golang\/lint","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1480993748.000145"},{"type":"message","user":"U0YK3KKCY","text":"i'll check with <@U0KPFAZNF> tomorrow.","ts":"1480993761.000147"},{"type":"message","user":"U0UHG4VP1","text":"Don't think you can clone to \/opt","ts":"1480996790.000148"},{"type":"message","user":"U0YK3KKCY","text":"yeah, there's something going on with the environment being setup for this build... for some reason GOPATH is being overridden.","ts":"1481045637.000149"},{"user":"U32ND8W73","text":"<@U32ND8W73|emtrevin> has joined the channel","type":"message","subtype":"channel_join","ts":"1481057056.000150"},{"type":"message","user":"U2TUCLGRJ","text":"Hi, I have an hyperledger project running on my VMs with a chaincode deployed on it. This chaincode updates the world state in its invoke method. Now I'd need to query a previous world state... Does anyone know if it can be achieved ?","ts":"1481103712.000151"},{"type":"message","user":"U0UHG4VP1","text":"<@U2TUCLGRJ>: you might ask in the project channel, <#C0Y4PEU22|fabric> or <#C16GB844D|sawtooth> as appropriate ","ts":"1481111549.000152"},{"type":"message","user":"U2TUCLGRJ","text":"<@U0UHG4VP1> <#C0Y4PEU22|fabric>","ts":"1481115087.000153"},{"type":"message","user":"U0UHG4VP1","text":"<@U2TUCLGRJ>: yes, ask your question there","ts":"1481115345.000154"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: all baseimage-release jobs failing for reasons that arent clear: <https:\/\/jenkins.hyperledger.org\/view\/fabric-baseimage\/>","ts":"1481134355.000155"},{"type":"message","user":"U0KPFAZNF","text":"any insight?","ts":"1481134360.000156"},{"type":"message","user":"U0KPFAZNF","text":"seems to be having trouble with git clone, I assume its related to the git-parameter\/tag stuff, but its not clear what is failing","ts":"1481134391.000157"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KPFAZNF> I believe Ry is at the NYC hackfest","ts":"1481139442.000158"},{"type":"message","user":"U1BC5NF2S","text":"The git clone failures appear to be misconfiguration with git credentials.","ts":"1481139464.000159"},{"type":"message","user":"U0UHG4VP1","text":"I just touched down","ts":"1481139486.000160"},{"type":"message","user":"U0KPFAZNF","text":"<@U1BC5NF2S> <@U0UHG4VP1>: ty","ts":"1481139505.000161"},{"type":"message","user":"U1BC5NF2S","text":"Ah, I should have looked at your schedule closer. :slightly_smiling_face:","ts":"1481139513.000162"},{"type":"message","user":"U0UHG4VP1","text":"I haven't changed anything ","ts":"1481139520.000163"},{"type":"message","user":"U1BC5NF2S","text":"<@U0KPFAZNF> How pressing is this issue? Are you blocked on publishing a release to the community? Forgive me for missing some of the context, just trying to prioritize.","ts":"1481139556.000164"},{"type":"message","user":"U0UHG4VP1","text":"Does this need resolved in the next two hours or so?","ts":"1481139577.000165"},{"type":"message","user":"U0UHG4VP1","text":"I was planning on lunch","ts":"1481139593.000166"},{"type":"message","user":"U0KPFAZNF","text":"its blocking the release of the new baseimage v0.2.2 to the community, but I am not under the impression it cant wait X hours","ts":"1481139595.000167"},{"type":"message","user":"U0KPFAZNF","text":"ill defer to the P\/Z folks: <@U0YK3KKCY> <@U11NUTP4L> any comments ^^^","ts":"1481139614.000168"},{"type":"message","user":"U0YK3KKCY","text":"it would be nice to get the new image out there","ts":"1481139617.000169"},{"type":"message","user":"U0YK3KKCY","text":"today sometime","ts":"1481139626.000170"},{"type":"message","user":"U0YK3KKCY","text":"take lunch!","ts":"1481139645.000171"},{"type":"message","user":"U0YK3KKCY","text":"food is good. :slightly_smiling_face:","ts":"1481139654.000172"},{"type":"message","user":"U0UHG4VP1","text":"Ok. I can look later, unless <@U1BC5NF2S> has a burning desire to look.","ts":"1481139673.000173"},{"type":"message","user":"U0YK3KKCY","text":"tnx!","ts":"1481139686.000174"},{"type":"message","user":"U1BC5NF2S","text":"In a middle of a meeting, so no. :wink:","ts":"1481139743.000175"},{"type":"message","user":"U0UHG4VP1","text":":+1::skin-tone-2::+1::skin-tone-2::+1::skin-tone-2:","ts":"1481139750.000176"},{"type":"message","user":"U1BC5NF2S","text":"<@U0UHG4VP1> Enjoy your lunch, and glad you got there safe!","ts":"1481139760.000177"},{"type":"message","user":"U0UHG4VP1","text":"Thanks!","ts":"1481139765.000178"},{"type":"message","user":"U0YJUECE8","text":":knife_fork_plate:   <@U0UHG4VP1>","ts":"1481139842.000179"},{"type":"message","user":"U0YK3KKCY","text":":pizza: :beers:","ts":"1481139904.000180"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> fabric-baseimage-release-docker-* right? do I care about vagrant?","ts":"1481144755.000181"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> the job fails because the ref is invalid","ts":"1481145172.000182"},{"type":"message","user":"U0KPFAZNF","text":"we dont care about -vagrant right now, we disabled that in the pipeline","ts":"1481145205.000183"},{"type":"message","user":"U0KPFAZNF","text":"i have to build it by hand","ts":"1481145221.000184"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: not sure what you mean by the ref is invalid","ts":"1481145250.000185"},{"type":"message","user":"U0UHG4VP1","text":"I did this (which is a lightly edited version of the console log from one of the jobs):","ts":"1481145282.000186"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3CLEH06T\/-.txt|Untitled>","file":{"id":"F3CLEH06T","created":1481145288,"timestamp":1481145288,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":674,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3CLEH06T\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3CLEH06T\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3CLEH06T\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3CLEH06T-1fd3cfbaa9","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3CLEH06T\/-.txt\/edit","preview":"git init fabric-baseimage-release-docker-s390x # timeout=10\r\ngit --version # timeout=10\r\ngit -c core.askpass=true fetch --tags --progress ssh:\/\/ryjones@gerrit.hyperledger.org:29418\/fabric-baseimage +refs\/heads\/*:refs\/remotes\/origin\/*\r\ngit config remote.origin.url ssh:\/\/ryjones@gerrit.hyperledger.org:29418\/fabric-baseimage # timeout=10\r\ngit config --add remote.origin.fetch +refs\/heads\/*:refs\/remotes\/origin\/* # timeout=10\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>git init fabric-baseimage-release-docker-s390x # timeout=10<\/pre><\/div>\n<div><pre>git --version # timeout=10<\/pre><\/div>\n<div><pre>git -c core.askpass=true fetch --tags --progress ssh:\/\/ryjones@gerrit.hyperledger.org:29418\/fabric-baseimage +refs\/heads\/*:refs\/remotes\/origin\/*<\/pre><\/div>\n<div><pre>git config remote.origin.url ssh:\/\/ryjones@gerrit.hyperledger.org:29418\/fabric-baseimage # timeout=10<\/pre><\/div>\n<div><pre>git config --add remote.origin.fetch +refs\/heads\/*:refs\/remotes\/origin\/* # timeout=10<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":8,"lines_more":3,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1481145290.000187"},{"type":"message","user":"U0UHG4VP1","text":"I got this:","ts":"1481145306.000188","reactions":[{"name":"+1","users":["U0YK3KKCY"],"count":1}]},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3B9QUY9F\/-.txt|Untitled>","file":{"id":"F3B9QUY9F","created":1481145312,"timestamp":1481145312,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":585,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3B9QUY9F\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3B9QUY9F\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3B9QUY9F\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3B9QUY9F-5587ed6460","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3B9QUY9F\/-.txt\/edit","preview":"git version 2.9.3 (Apple Git-75)\r\nremote: Counting objects: 43, done\r\nremote: Finding sources: 100% (9\/9)\r\nremote: Total 171 (delta 0), reused 169 (delta 0)\r\nReceiving objects: 100% (171\/171), 1.34 MiB | 1.42 MiB\/s, done.\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>git version 2.9.3 (Apple Git-75)<\/pre><\/div>\n<div><pre>remote: Counting objects: 43, done<\/pre><\/div>\n<div><pre>remote: Finding sources: 100% (9\/9)<\/pre><\/div>\n<div><pre>remote: Total 171 (delta 0), reused 169 (delta 0)<\/pre><\/div>\n<div><pre>Receiving objects: 100% (171\/171), 1.34 MiB | 1.42 MiB\/s, done.<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":14,"lines_more":9,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1481145313.000189"},{"type":"message","user":"U0UHG4VP1","text":"so my guess is this line is no good:","ts":"1481145348.000190"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3CLF4807\/-.txt|Untitled>","file":{"id":"F3CLF4807","created":1481145356,"timestamp":1481145356,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":144,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3CLF4807\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3CLF4807\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3CLF4807\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3CLF4807-2ac7298927","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3CLF4807\/-.txt\/edit","preview":"git -c core.askpass=true fetch --tags --progress ssh:\/\/ryjones@gerrit.hyperledger.org:29418\/fabric-baseimage +refs\/tags:refs\/remotes\/origin\/tags","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>git -c core.askpass=true fetch --tags --progress ssh:\/\/ryjones@gerrit.hyperledger.org:29418\/fabric-baseimage +refs\/tags:refs\/remotes\/origin\/tags<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":1,"lines_more":0,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1481145356.000191"},{"type":"message","user":"U0KPFAZNF","text":"ah, yes, i see what you mean","ts":"1481151620.000192"},{"type":"message","user":"U0UHG4VP1","text":"could someone review the output of: <https:\/\/jenkins.hyperledger.org\/view\/fabric-baseimage\/job\/fabric-baseimage-release-docker-x86_64\/5\/>","ts":"1481152600.000193"},{"type":"message","user":"U0UHG4VP1","text":"and review the output of: <https:\/\/jenkins.hyperledger.org\/view\/fabric-baseimage\/job\/fabric-baseimage-release-docker-s390x\/3\/>","ts":"1481152616.000194"},{"type":"message","user":"U0UHG4VP1","text":"and insure that the right thing ended up on dockerhub?","ts":"1481152629.000195"},{"type":"message","user":"U0UHG4VP1","text":"<@U0YK3KKCY> <@U0YJUECE8> <@U11NUTP4L> could one of you look at <https:\/\/jenkins.hyperledger.org\/view\/fabric-baseimage\/job\/fabric-baseimage-release-docker-ppc64le\/4\/> ? the build failed","ts":"1481152727.000196"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3C1VUPDG\/-.txt|Untitled>","file":{"id":"F3C1VUPDG","created":1481152757,"timestamp":1481152757,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":626,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3C1VUPDG\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3C1VUPDG\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3C1VUPDG\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3C1VUPDG-f80bc665ae","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3C1VUPDG\/-.txt\/edit","preview":"17:28:04 libtool: compile:  g++ -DHAVE_CONFIG_H -I. -I.. -pthread -DHAVE_PTHREAD=1 -Wall -Wno-sign-compare -O2 -g -DNDEBUG -MT google\/protobuf\/compiler\/java\/java_message_field.lo -MD -MP -MF google\/protobuf\/compiler\/java\/.deps\/java_message_field.Tpo -c google\/protobuf\/compiler\/java\/java_message_field.cc -o google\/protobuf\/compiler\/java\/java_message_field.o >\/dev\/null 2>&1\r\n17:28:04 The command '\/bin\/sh -c cd \/hyperledger\/baseimage\/scripts &&     common\/init.sh &&     docker\/init.sh &&     common\/setup.sh &&     docker\/fixup.sh' returned a non-zero code: 137\r\n17:28:04 Makefile:40: recipe for target 'docker-local' failed","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>17:28:04 libtool: compile:  g++ -DHAVE_CONFIG_H -I. -I.. -pthread -DHAVE_PTHREAD=1 -Wall -Wno-sign-compare -O2 -g -DNDEBUG -MT google\/protobuf\/compiler\/java\/java_message_field.lo -MD -MP -MF google\/protobuf\/compiler\/java\/.deps\/java_message_field.Tpo -c google\/protobuf\/compiler\/java\/java_message_field.cc -o google\/protobuf\/compiler\/java\/java_message_field.o &gt;\/dev\/null 2&gt;&amp;1<\/pre><\/div>\n<div><pre>17:28:04 The command '\/bin\/sh -c cd \/hyperledger\/baseimage\/scripts &amp;&amp;     common\/init.sh &amp;&amp;     docker\/init.sh &amp;&amp;     common\/setup.sh &amp;&amp;     docker\/fixup.sh' returned a non-zero code: 137<\/pre><\/div>\n<div><pre>17:28:04 Makefile:40: recipe for target 'docker-local' failed<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":3,"lines_more":0,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1481152757.000197"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> ^^^","ts":"1481152853.000198","reactions":[{"name":"+1","users":["U0YK3KKCY"],"count":1}]},{"type":"message","user":"U0UHG4VP1","text":"from inspection of the log it looks like v0.2.2 was checked out, built, and pushed to x86_64 and s390x platforms","ts":"1481152890.000199"},{"type":"message","user":"U0KPFAZNF","text":"cool","ts":"1481152898.000200","reactions":[{"name":"+1","users":["U0YK3KKCY"],"count":1}]},{"type":"message","user":"U0UHG4VP1","text":"I'll retrigger ppc64le and see if the failure was something timing related","ts":"1481152929.000201"},{"type":"message","user":"U0KPFAZNF","text":"it wont go live until the coresponding  update is pushed to fabric, so that gives the P team a chance to investigate","ts":"1481152933.000202"},{"type":"message","user":"U0UHG4VP1","text":"OK","ts":"1481152960.000203"},{"type":"message","user":"U0KPFAZNF","text":"in the meantime, I need to either manually build vagrant v0.2.2 or push a CR that basically decouples the devenv from baseimage","ts":"1481152978.000204"},{"type":"message","user":"U0UHG4VP1","text":"what can I do to help?","ts":"1481153029.000205"},{"type":"message","user":"U0KPFAZNF","text":"just getting the ppc build producing the content is great for now","ts":"1481153049.000206"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> <https:\/\/jenkins.hyperledger.org\/view\/fabric-baseimage\/job\/fabric-baseimage-release-docker-ppc64le\/5\/>","ts":"1481157201.000207"},{"type":"message","user":"U0UHG4VP1","text":"it looks like they all got pushed here: was that your design? <https:\/\/hub.docker.com\/r\/hyperledger\/fabric-baseimage\/tags\/>","ts":"1481157307.000208","reactions":[{"name":"+1","users":["U11NUTP4L"],"count":1}]},{"type":"message","user":"U0UHG4VP1","text":"or should they have landed here: <https:\/\/hub.docker.com\/r\/hyperledger\/fabric-baseimage-s390x\/tags\/> and <https:\/\/hub.docker.com\/r\/hyperledger\/fabric-baseimage-ppc64le\/tags\/> ?","ts":"1481157330.000209"},{"type":"message","user":"U0KPFAZNF","text":"That's correct","ts":"1481157425.000210"},{"type":"message","user":"U0KPFAZNF","text":"We should probably remove those other repos until such a time they will be used","ts":"1481157445.000211"},{"type":"message","user":"U0YK3KKCY","text":"<@U0KPFAZNF> <@U0UHG4VP1> thanks very much pushing 0.2.2 base images out! :clap:","ts":"1481168182.000212","reactions":[{"name":"+1","users":["U11NUTP4L"],"count":1}]},{"type":"message","user":"U0YK3KKCY","text":"just got back from one of my mandatory xmas parties. :slightly_smiling_face:","ts":"1481168228.000213"},{"type":"message","user":"U0KPFAZNF","text":"<@U0YK3KKCY> you should be able to test locally by editing fabric.git\/.baseimage-release","ts":"1481168238.000214"},{"type":"message","user":"U0YK3KKCY","text":"checked docker hub and... voila","ts":"1481168239.000215"},{"type":"message","user":"U0YK3KKCY","text":"ok","ts":"1481168253.000216"},{"type":"message","user":"U0KPFAZNF","text":"I have a little more prepwork to do before I can commit that, but theres no harm in testing locally","ts":"1481168262.000217"},{"type":"message","user":"U0YK3KKCY","text":"ok. let me test that out.","ts":"1481168274.000218"},{"type":"message","user":"U0YK3KKCY","text":"s390x-0.2.2: Pulling from hyperledger\/fabric-baseimage.... good sign. ha","ts":"1481169036.000219"},{"type":"message","subtype":"file_share","text":"<@U0YK3KKCY|harrijk> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/harrijk\/F3BDM35R7\/looks_good_to_me.txt|Looks good to me>","file":{"id":"F3BDM35R7","created":1481169184,"timestamp":1481169184,"name":"Looks_good_to_me.txt","title":"Looks good to me","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0YK3KKCY","editable":true,"size":1646,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3BDM35R7\/looks_good_to_me.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3BDM35R7\/download\/looks_good_to_me.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/harrijk\/F3BDM35R7\/looks_good_to_me.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3BDM35R7-ecfa82bc37","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/harrijk\/F3BDM35R7\/looks_good_to_me.txt\/edit","preview":"root@ubuntu-bc:~\/git\/src\/github.com\/hyperledger\/fabric# docker images\r\nREPOSITORY                     TAG                            IMAGE ID            CREATED              SIZE\r\nhyperledger\/fabric-testenv     latest                         7441baadfd5d        12 seconds ago       1.252 GB\r\nhyperledger\/fabric-testenv     s390x-0.7.0-snapshot-5c9fcc3   7441baadfd5d        12 seconds ago       1.252 GB\r\nhyperledger\/fabric-orderer     latest                         f42333a55b80        21 seconds ago       20.16 MB\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>root@ubuntu-bc:~\/git\/src\/github.com\/hyperledger\/fabric# docker images<\/pre><\/div>\n<div><pre>REPOSITORY                     TAG                            IMAGE ID            CREATED              SIZE<\/pre><\/div>\n<div><pre>hyperledger\/fabric-testenv     latest                         7441baadfd5d        12 seconds ago       1.252 GB<\/pre><\/div>\n<div><pre>hyperledger\/fabric-testenv     s390x-0.7.0-snapshot-5c9fcc3   7441baadfd5d        12 seconds ago       1.252 GB<\/pre><\/div>\n<div><pre>hyperledger\/fabric-orderer     latest                         f42333a55b80        21 seconds ago       20.16 MB<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":16,"lines_more":11,"preview_is_truncated":true,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0YK3KKCY","upload":true,"display_as_bot":false,"username":"<@U0YK3KKCY|harrijk>","bot_id":null,"ts":"1481169184.000220"},{"type":"message","user":"U0YK3KKCY","text":"docker run --rm -it hyperledger\/fabric-peer runs just fine","ts":"1481169261.000221"},{"type":"message","user":"U0YK3KKCY","text":"building on ppc64le now","ts":"1481169534.000222"},{"type":"message","user":"U0YK3KKCY","text":"ditto for ppc64le... success","ts":"1481169954.000223"},{"type":"message","user":"U0YK3KKCY","text":"hmm... this a new one... running make unit-test...","ts":"1481170782.000224"},{"type":"message","user":"U0YK3KKCY","text":"unit-tests_1  | ok      <http:\/\/github.com\/hyperledger\/fabric\/core\/endorser|github.com\/hyperledger\/fabric\/core\/endorser>     33.591s coverage: 78.6% of statements\nunit-tests_1  | --- FAIL: ExampleLoggingInvalidLogLevel_withCallstack (0.00s)\nunit-tests_1  | got:\nunit-tests_1  | Invalid log level provided - invalid\nunit-tests_1  | \/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/errors\/errors_test.go:145 <http:\/\/github.com\/hyperledger\/fabric\/core\/errors.ExampleLoggingInvalidLogLevel_withCallstack|github.com\/hyperledger\/fabric\/core\/errors.ExampleLoggingInvalidLogLevel_withCallstack>\nunit-tests_1  | \/opt\/go\/src\/testing\/example.go:115 testing.runExample","ts":"1481170784.000225"},{"type":"message","user":"U0YK3KKCY","text":"another day.","ts":"1481170799.000226"},{"type":"message","user":"U0YK3KKCY","text":"well... this patch ( <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2685\/> ) has broken the errors unit-test for p and z  went in a couple of days ago while we were rushing to get p and z back into the CI proccess....","ts":"1481173575.000227"},{"type":"message","user":"U0YK3KKCY","text":"sigh","ts":"1481173581.000228"},{"type":"message","user":"U11NUTP4L","text":"<@U0KPFAZNF> <@U0UHG4VP1> <@U0YK3KKCY> Thanks for pushing the new release of fabric-baseimage. I did try the build on Power and it works fine after tweaking the fabric.git\/.baseimage-release","ts":"1481184096.000229"},{"type":"message","user":"U11NUTP4L","text":"However as pointed out by <@U0YK3KKCY>, one of the unit-tests failed which was working earlier","ts":"1481184143.000230"},{"type":"message","user":"U11NUTP4L","text":"Can we have the CI enabled for P and Z for fabric repo as well ? This should help us get attention of such arch specific changes that might break the build on another arch.","ts":"1481184599.000231"},{"type":"message","user":"U11NUTP4L","text":"I see we have it enabled for fabric-baseimage repo.","ts":"1481184618.000232"},{"type":"message","user":"U0UHG4VP1","text":"<@U11NUTP4L> you're asking to have jobs like fabric-verify-x86_64 created for power and z?","ts":"1481187024.000233"},{"type":"message","user":"U0UHG4VP1","text":"<@U11NUTP4L> that would show up here for instance: <https:\/\/jenkins.hyperledger.org\/view\/fabric\/>","ts":"1481187052.000234"},{"type":"message","user":"U11NUTP4L","text":"<@U0UHG4VP1> right. I was looking at having such verify builds enabled for P and Z as well.","ts":"1481187201.000235"},{"type":"message","user":"U11NUTP4L","text":"Currently such verify builds are happening on all 3 archs (x86_64, ppc64le and s390x) for fabric-baseimage repo, seen @ <https:\/\/jenkins.hyperledger.org\/view\/fabric-baseimage\/>","ts":"1481187265.000236"},{"type":"message","user":"U0UHG4VP1","text":"yes, I see","ts":"1481187689.000237"},{"type":"message","user":"U0UHG4VP1","text":"srirama_sharma: I will try to get this CI work done today. Who would I talk to about debugging it in seven or eight hours when I wake up again? :slightly_smiling_face:","ts":"1481188052.000238"},{"type":"message","user":"U11HH3P7Y","text":"<@U11NUTP4L>: We have `verify` and `merge` jobs created for Power and Z but we have disabled  them as we were having unit-tests failures and also we are having very limited number of build resources (few slave machines: for Power we have 5 nodes and Z we have 2) in Jenkins..","ts":"1481190526.000239"},{"type":"message","user":"U11HH3P7Y","text":"ry: we have verify and merge jobs for power and z here <https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=ci-management.git;a=tree;f=jjb\/fabric;h=d8259004e333d07adf6903f10f21b584a1eb33f2;hb=refs\/heads\/master>","ts":"1481190560.000240"},{"type":"message","user":"U0UHG4VP1","text":"ramesh: you're supposed to be on vacation!","ts":"1481190633.000241"},{"type":"message","user":"U11HH3P7Y","text":"yes <@U0UHG4VP1>","ts":"1481190734.000242"},{"type":"message","user":"U0UHG4VP1","text":"I added you to two CRs. I'm waiting for my co-workers to wake up and review <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2399\/9> before I merge <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3083\/2>","edited":{"user":"U0UHG4VP1","ts":"1481190842.000000"},"ts":"1481190795.000243"},{"type":"message","user":"U11HH3P7Y","text":"ok looking them now","ts":"1481190863.000245"},{"type":"message","user":"U11NUTP4L","text":"<@U11HH3P7Y> Yes. I know you had set it up before for fabric-baseimage and for fabric it wasn\u2019t as the build itself was failing due to Java SHIM issue. Now that build is taken care of can we have it enabled. ?","ts":"1481193439.000246"},{"type":"message","user":"U11NUTP4L","text":"But yes. the unit-test are failing now due to the CR pointed by <@U0YK3KKCY> earlier","ts":"1481193464.000247"},{"type":"message","user":"U11NUTP4L","text":"<@U0UHG4VP1> you have a good sleep :slightly_smiling_face:. 8 Hrs from now, you could either still see me online or by that time <@U0YK3KKCY> might be there to check anything specific to arch changes. we both are more or less seeing same issues (and same fixes too ) for P and Z respectively","edited":{"user":"U11NUTP4L","ts":"1481193710.000000"},"ts":"1481193547.000248"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>, <@U11NUTP4L> note that we can't turn on those P\/Z jobs until the CR that updates baseimage to v0.2.2 is merged","ts":"1481203440.000250"},{"type":"message","user":"U0KPFAZNF","text":"(IIUC)","ts":"1481203450.000251"},{"type":"message","user":"U11NUTP4L","text":"<@U0KPFAZNF> Yes. you are right","ts":"1481203486.000252"},{"type":"message","user":"U0KPFAZNF","text":"i anticipate we will have problems with any older CRs that havent rebased too","ts":"1481203501.000253"},{"type":"message","user":"U0KPFAZNF","text":"so that will need to be managed","ts":"1481203504.000254"},{"type":"message","user":"U0KPFAZNF","text":"suggest making P\/Z an advisory vote during the transition","ts":"1481203522.000255"},{"type":"message","user":"U0KPFAZNF","text":"once everyone is rebased on top of the v0.2.2 cut-point, we can enable full vote","ts":"1481203577.000256"},{"type":"message","user":"U11NUTP4L","text":"Sounds okay to me. With the advisory vote, even if the verify jobs fail, we will know why it is failing - either requiring a rebase or due to any other issue due to arch difference.","ts":"1481203721.000257"},{"type":"message","user":"U0KPFAZNF","text":"right, and then once we stablize things so X\/P\/Z are expected to collectively pass, we can turn on the verification to ensure it continues to be that way moving forward","ts":"1481204115.000258","reactions":[{"name":"+1","users":["U11NUTP4L","U0YK3KKCY"],"count":2}]},{"type":"message","user":"U0YK3KKCY","text":"<@U11HH3P7Y> experiencing unit-test failures for p and z is a good sign in terms on ensuring that the codebase works for all platforms.  When the unit-tests were disabled, p and z were in \"catch up\" mode (putting in patches to resolved platform-based issues) in an attempt to get to a point where the unit-tests could then be re-enabled.  i can somewhat understand disabling due to lack of minions... if this is the case then how many minions are required?","ts":"1481204196.000259"},{"type":"message","user":"U0YK3KKCY","text":"i will write up a jira issue on the latest issue re; errors unit-test failing for p and z.  if i checkout the commit before the error framework commit was put in, all tests pass.  when i checkout the error framework commit, the errors test fails.\n\nroot@p880-lpar7:~\/git\/src\/github.com\/hyperledger\/fabric# git checkout ae9f2f2\nae9f2f2 [FAB-816] Clean multichain integration interfaces ===&gt; PASS\n\nroot@p880-lpar7:~\/git\/src\/github.com\/hyperledger\/fabric# git checkout 2dc82e0\n2dc82e0 Enhance and begin using error handling framework ===&gt; FAIL","edited":{"user":"U0YK3KKCY","ts":"1481204379.000000"},"ts":"1481204359.000260"},{"type":"message","user":"U0YK3KKCY","text":"<@U0KPFAZNF> more ignorance on my part... the term \"advisory vote\"... is this a gerrit term?","ts":"1481204944.000262"},{"type":"message","user":"U0KPFAZNF","text":"if we are resource constrained on P\/Z, suggest considering a pipeline....e.g. only commits that pass the x86 tier move on to test on P\/Z","ts":"1481204982.000263","reactions":[{"name":"+1","users":["U0YK3KKCY"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"it will reduce the number of jobs that P\/Z need to handle, at a loss of parallelism","ts":"1481205007.000264"},{"type":"message","user":"U0KPFAZNF","text":"need to step away, bbiab","ts":"1481205013.000265"},{"type":"message","user":"U11NUTP4L","text":"<@U0KPFAZNF> the ppc64le base image with tag - ppc64le-0.0.11 that was pushed few days back to <https:\/\/hub.docker.com\/r\/hyperledger\/fabric-baseimage\/> is having issues. It is missing out all the rocksdb header files. Hence with this docker image, fabric build from v0.6 branch is failing now. Build works fine if I force a latest baseimage build from source by editing `images\/base\/release` to 0.0.12. \n\n```\nroot@p006vm40:~\/git\/src\/github.com\/hyperledger\/fabric# docker run -it hyperledger\/fabric-baseimage:ppc64le-0.0.11 \nroot@51db3bf8e72b:\/# find \/ -name rocksdb\nroot@51db3bf8e72b:\/# \nroot@51db3bf8e72b:\/# exit\nexit\nroot@p006vm40:~\/git\/src\/github.com\/hyperledger\/fabric# git status\nOn branch v0.6\nYour branch is up-to-date with 'origin\/v0.6'.\nChanges not staged for commit:\n  (use \"git add &lt;file&gt;...\" to update what will be committed)\n  (use \"git checkout -- &lt;file&gt;...\" to discard changes in working directory)\n\n\tmodified:   images\/base\/release\n\nUntracked files:\n  (use \"git add &lt;file&gt;...\" to include in what will be committed)\n\n\tnohup.out\n\nno changes added to commit (use \"git add\" and\/or \"git commit -a\")\nroot@p006vm40:~\/git\/src\/github.com\/hyperledger\/fabric# git diff\ndiff --git a\/images\/base\/release b\/images\/base\/release\nindex 2cfabea..8cbf02c 100644\n--- a\/images\/base\/release\n+++ b\/images\/base\/release\n@@ -1 +1 @@\n-0.0.11\n+0.0.12\nroot@p006vm40:~\/git\/src\/github.com\/hyperledger\/fabric# docker run -it hyperledger\/fabric-baseimage:latest \nroot@766aa88cfb29:\/# find \/ -name rocksdb\n\/usr\/local\/include\/rocksdb\nroot@766aa88cfb29:\/# ls \/usr\/local\/include\/rocksdb\/\nc.h                     db.h                flush_block_policy.h  memtablerep.h     rate_limiter.h     statistics.h        types.h\ncache.h                 db_dump_tool.h      immutable_options.h   merge_operator.h  slice.h            status.h            universal_compaction.h\ncompaction_filter.h     delete_scheduler.h  iostats_context.h     metadata.h        slice_transform.h  table.h             utilities\ncompaction_job_stats.h  env.h               iterator.h            options.h         snapshot.h         table_properties.h  version.h\ncomparator.h            experimental.h      ldb_tool.h            perf_context.h    sst_dump_tool.h    thread_status.h     write_batch.h\nconvenience.h           filter_policy.h     listener.h            perf_level.h      sst_file_writer.h  transaction_log.h   write_batch_base.h\nroot@766aa88cfb29:\/#\n```","ts":"1481208347.000266"},{"type":"message","user":"U12V3D2P2","text":"<@U0KPFAZNF> - This problem is for the fabric baseimage I uploaded for V0.6 recently. I will upload the new one soon.","ts":"1481208934.000267"},{"type":"message","user":"U0KPFAZNF","text":"<@U12V3D2P2> can you provide an overview as to how you built the v0.0.11 that is published now?","ts":"1481209870.000268"},{"type":"message","user":"U0KPFAZNF","text":"in theory, it should have been similar to the process that <@U11NUTP4L> just tried manually that worked","ts":"1481209891.000269"},{"type":"message","user":"U12V3D2P2","text":"<@U0KPFAZNF> usually it's the same process that Srirama tried, but this time it could be that the tag was used for  an image that was previously built from fabric baseimage repo","ts":"1481210267.000270"},{"type":"message","user":"U0KPFAZNF","text":"not following: building from a tag shouldnt cause a misfire in the build, unless the tag happens to point to code that contains a flaw or missing logic","ts":"1481210310.000271"},{"type":"message","user":"U0KPFAZNF","text":"are we thinking there were fixes that went into v0.6 since the v0.0.11 image was tagged?","ts":"1481210329.000272"},{"type":"message","user":"U0KPFAZNF","text":"that could explain it","ts":"1481210333.000273"},{"type":"message","user":"U0KPFAZNF","text":"but rocksdb missing is fairly fundamental, that has been in the image since we started building baseimage","ts":"1481210354.000274"},{"type":"message","user":"U11NUTP4L","text":"<@U0KPFAZNF> probably by tag Smita meant she did docker tag to an image that was previously built using fabric-baseimage repo (which now has your patch which removed rocksdb entirely)","ts":"1481210461.000275"},{"type":"message","user":"U11NUTP4L","text":"so it was more a docker tag and docker push issue than the build.","ts":"1481210476.000276"},{"type":"message","user":"U12V3D2P2","text":"Yes","ts":"1481210485.000277"},{"type":"message","user":"U11NUTP4L","text":"correct me <@U12V3D2P2> if my guess is wrong","ts":"1481210490.000278"},{"type":"message","user":"U0KPFAZNF","text":"ok, im confused a bit","ts":"1481210503.000279"},{"type":"message","user":"U0KPFAZNF","text":"to be clear: to build \"v0.0.11\", we should technically be building from the point in time in which v0.0.11 was cut originally","ts":"1481210557.000280"},{"type":"message","user":"U0KPFAZNF","text":"now, normally the solution would be to reference a git-tag, but we didnt have the ability to tag git back then","ts":"1481210573.000281"},{"type":"message","user":"U0KPFAZNF","text":"so, no tag exists, but a commit-sha should","ts":"1481210583.000282"},{"type":"message","user":"U0KPFAZNF","text":"in this case, it would be in the fabric.git\/v0.6 branch, since it predates the split to the baseimage.git erpo","ts":"1481210623.000283"},{"type":"message","user":"U0KPFAZNF","text":"IIUC, whats happening now is we built ppc-0.0.11 from something newer than this","ts":"1481210659.000284"},{"type":"message","user":"U0KPFAZNF","text":"?","ts":"1481210660.000285"},{"type":"message","user":"U11NUTP4L","text":"I guess so. that the docker base image built from fabric-baseimage repo was tagged to be v0.0.11 given that fabric-baseimage repo now doesn\u2019t have anything related to rocksdb.","ts":"1481210805.000286"},{"type":"message","user":"U0KPFAZNF","text":"if that is the case, that is the problem","ts":"1481210834.000287"},{"type":"message","user":"U0KPFAZNF","text":"the baseimage for v0.6 needs to be built from the v0.6 branch in fabric.git","ts":"1481210849.000288"},{"type":"message","user":"U0KPFAZNF","text":"for v0.6, this is in images\/base","ts":"1481210870.000289"},{"type":"message","user":"U12V3D2P2","text":"Yes, that's what I built just now","ts":"1481210883.000290"},{"type":"message","user":"U0KPFAZNF","text":"otherwise, we will pick up a whole bunch of other changes that are probably not suitable for v0.6 consumption","ts":"1481210911.000291"},{"type":"message","user":"U0KPFAZNF","text":"(like dropping rocksdb for instance, but there are others too: the version of golang and protobufs come to mind)","ts":"1481210932.000292"},{"type":"message","user":"U0KPFAZNF","text":"this is the commit that should be tagged \"v0.0.11\": 4fa1360b0967abca65665235e861b400cc1425d5","ts":"1481210987.000293"},{"type":"message","user":"U0KPFAZNF","text":"my recommendation is we either a) make a build for ppc from 4fa1360b0967abca65665235e861b400cc1425d5, or b) if that wont work, we patch the v0.6 branch with whatever we need, and cut a v0.0.12 for all platforms","ts":"1481211030.000294"},{"type":"message","user":"U0KPFAZNF","text":"this will maintain coherence with the version","ts":"1481211049.000295"},{"type":"message","user":"U0KPFAZNF","text":"anything else is asking for trouble :wink:","ts":"1481211057.000296"},{"type":"message","user":"U0KPFAZNF","text":"im sorry <@U12V3D2P2>, I should have guided you more closely before","ts":"1481211100.000297"},{"type":"message","user":"U12V3D2P2","text":"That's fine <@U0KPFAZNF>, thanks for being patient.","ts":"1481211145.000298"},{"type":"message","user":"U0KPFAZNF","text":"i assumed this is what you did, but I can see in retrospect this wasnt obvious","ts":"1481211152.000299"},{"type":"message","user":"U0KPFAZNF","text":"<@U12V3D2P2> let me know if commit 4fa1360b09 produces a suitable baseimage container...if so, we can overwrite the ppc-0.0.11 that is published and be done with it","ts":"1481211251.000300"},{"type":"message","user":"U11NUTP4L","text":"<@U0KPFAZNF> there is no further changes required on v0.6 branch to have it built on ppc64le.  so option (b) is not required","ts":"1481211252.000301"},{"type":"message","user":"U0KPFAZNF","text":"ok, perfect","ts":"1481211263.000302"},{"type":"message","user":"U0KPFAZNF","text":"thats the ideal situation","ts":"1481211275.000303"},{"type":"message","user":"U12V3D2P2","text":"Can I upload the new baseimage again to my private repo from which you can copy to Hyperledger community with 0.0.11 tag?","ts":"1481211355.000304"},{"type":"message","user":"U0KPFAZNF","text":"yep, just let me know when its ready","ts":"1481211367.000305"},{"type":"message","user":"U0KPFAZNF","text":"it only takes two seconds to pull\/re-push once you get there","ts":"1481211386.000306"},{"type":"message","user":"U11NUTP4L","text":"Wouldn\u2019t it be right if we just do git checkout v0.6 and build the baseimage and push it as v0.0.11 ?","ts":"1481211421.000307"},{"type":"message","user":"U0KPFAZNF","text":"maybe not that fast, but long story short, its virtually little work for me","ts":"1481211425.000308"},{"type":"message","user":"U0KPFAZNF","text":"<@U11NUTP4L> i think in this case, v0.6\/HEAD and commit 4fa1360b09 would effectively be equivalent, yes","ts":"1481211466.000309"},{"type":"message","user":"U11NUTP4L","text":"the reason why I ask is, the recent fix c1fc31f6f172f17a58ebe23ad2125b20021183aa is required to build v0.6","ts":"1481211471.000310"},{"type":"message","user":"U0KPFAZNF","text":"its not really a good practice to assume that, but I think in this case, this is true","ts":"1481211477.000311","reactions":[{"name":"white_check_mark","users":["U11NUTP4L"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"oh","ts":"1481211491.000312"},{"type":"message","user":"U11NUTP4L","text":"yes. I completely agreee","ts":"1481211492.000313"},{"type":"message","user":"U0KPFAZNF","text":"let me look at the patch","ts":"1481211494.000314"},{"type":"message","user":"U11NUTP4L","text":"the patch is my patch to comment the java SHIM commenting patch","ts":"1481211519.000315"},{"type":"message","user":"U0KPFAZNF","text":"this is in the v0.6 branch","ts":"1481211545.000316"},{"type":"message","user":"U0KPFAZNF","text":"?","ts":"1481211547.000317"},{"type":"message","user":"U11NUTP4L","text":"yes. It is in both v0.6 and master","ts":"1481211563.000318"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3CCRMP9A\/-.sh|Untitled>","file":{"id":"F3CCRMP9A","created":1481211660,"timestamp":1481211660,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0KPFAZNF","editable":true,"size":55,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3CCRMP9A\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3CCRMP9A\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3CCRMP9A\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3CCRMP9A-cf593de84c","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3CCRMP9A\/-.sh\/edit","preview":"$ git branch -r --contains c1fc31f6f172f\r\n  gerrit\/v0.6","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-def\">$ git<\/span> branch <span class=\"cm-attribute\">-r<\/span> <span class=\"cm-attribute\">--contains<\/span> c1fc31f6f172f<\/pre><\/div>\n<div><pre>  gerrit\/v0.6<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":2,"lines_more":0,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1481211661.000319"},{"type":"message","user":"U0KPFAZNF","text":"yep","ts":"1481211665.000320"},{"type":"message","user":"U0KPFAZNF","text":"I'm a little apprehensive to suggest we should tag something v0.0.11 which is based on different code","edited":{"user":"U0KPFAZNF","ts":"1481211886.000000"},"ts":"1481211752.000321"},{"type":"message","user":"U0KPFAZNF","text":"i realize its a bit of a gray area considering the conditionals for x86 effectively make the patch a no-op","ts":"1481211772.000322"},{"type":"message","user":"U0KPFAZNF","text":"wait, let me confirm that this did in fact come after the original cut","ts":"1481211795.000323"},{"type":"message","user":"U0KPFAZNF","text":"ah, yep, last patch committed, heh","ts":"1481211925.000325"},{"type":"message","user":"U11NUTP4L","text":"I can understand why you are feeling so. So better option would be as you suggested earlier, cut a new release of v0.0.12 for base image from the top of the branch v0.6","ts":"1481211927.000326"},{"type":"message","user":"U11NUTP4L","text":"just a thought!","ts":"1481211936.000327"},{"type":"message","user":"U0KPFAZNF","text":"its certainly the more pure approach, though its a PITA for me","ts":"1481211949.000328"},{"type":"message","user":"U11NUTP4L","text":":slightly_smiling_face:","ts":"1481211961.000329"},{"type":"message","user":"U0KPFAZNF","text":"but PITA should not influence what is right","ts":"1481211963.000330"},{"type":"message","user":"U0KPFAZNF","text":"but yeah, i need to cut a v0.2.2 for mainline anyway","ts":"1481211983.000331"},{"type":"message","user":"U11NUTP4L","text":"is there anyway how we could help on that to make it a lesser pain for you ?","ts":"1481211993.000332"},{"type":"message","user":"U0KPFAZNF","text":"lets roll up a new release for both, do it right","ts":"1481211995.000333","reactions":[{"name":"+1","users":["U11NUTP4L"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: what is the status of sandbox + docker-credentials?","ts":"1481212227.000334"},{"type":"message","user":"U12V3D2P2","text":"<https:\/\/hub.docker.com\/r\/bsmita\/fabric-baseimage\/tags\/> , pushed 0.0.11 to that repo","ts":"1481212232.000335"},{"type":"message","user":"U0KPFAZNF","text":"<@U0YK3KKCY> <@U11NUTP4L> what is the state of jenkins builders for P+Z?","ts":"1481212241.000336"},{"type":"message","user":"U0YK3KKCY","text":"currently, i have two z minions that are available","ts":"1481212277.000337"},{"type":"message","user":"U0YK3KKCY","text":"i am working to get several more into the pipline","ts":"1481212286.000338"},{"type":"message","user":"U0KPFAZNF","text":"IIRC, the only way to do a jenkins based publication of v0.6 baseimage is via sandbox job","ts":"1481212286.000339"},{"type":"message","user":"U11NUTP4L","text":"<@U0KPFAZNF> we have 5 build nodes for P so should be good for now (until we enable CI for fabric repo after updating the baseimage version to 0.2.2)","ts":"1481212326.000340"},{"type":"message","user":"U0YK3KKCY","text":"the z minions were used for fabric-baseimage builds","ts":"1481212326.000341"},{"type":"message","user":"U0KPFAZNF","text":"<@U12V3D2P2> ty, im going to try to have the pipeline do it first","ts":"1481212330.000342"},{"type":"message","user":"U0KPFAZNF","text":"only because that helps ensure consistency, etc","ts":"1481212339.000343"},{"type":"message","user":"U0KPFAZNF","text":"if that fails, we can fall back on your custom build","ts":"1481212351.000344"},{"type":"message","user":"U12V3D2P2","text":"Sure","ts":"1481212352.000345"},{"type":"message","user":"U0KPFAZNF","text":"<@U0YK3KKCY> ty...by the way, to your earlier question \"advisory vote\" isnt a gerrit thing per se","ts":"1481212396.000346"},{"type":"message","user":"U0YK3KKCY","text":"k","ts":"1481212414.000347"},{"type":"message","user":"U0KPFAZNF","text":"i just made it up to describe a vote that doesnt impact mergability, like how we run behave today","ts":"1481212426.000348"},{"type":"message","user":"U0KPFAZNF","text":"the output is interesting, but not gating acceptance criteria","ts":"1481212440.000349"},{"type":"message","user":"U0YK3KKCY","text":"ah okay","ts":"1481212446.000350"},{"type":"message","user":"U0KPFAZNF","text":"(as opposed to not running it at all, or letting it block acceptance)","ts":"1481212463.000351"},{"type":"message","user":"U0YK3KKCY","text":"btw, i chatted with the author of the patch that broke unit test for p and z.  he'll submit a fix within a day or so.","ts":"1481212484.000352","reactions":[{"name":"+1","users":["U11NUTP4L"],"count":1}]},{"type":"message","user":"U0YK3KKCY","text":"thanks for the explanation","ts":"1481212492.000353"},{"type":"message","user":"U0KPFAZNF","text":"cool, which one was it?","ts":"1481212493.000354"},{"type":"message","user":"U0YK3KKCY","text":"2dc82e0 Enhance and begin using error handling framework","ts":"1481212515.000355"},{"type":"message","user":"U0YK3KKCY","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2685\/>","ts":"1481212525.000356"},{"type":"message","user":"U0KPFAZNF","text":"interesting, ill have to look to understand why it was $arch sensitive","ts":"1481212542.000357"},{"type":"message","user":"U0YK3KKCY","text":"i opened an issue on it <https:\/\/jira.hyperledger.org\/browse\/FAB-1311>","ts":"1481212579.000358"},{"type":"message","user":"U11NUTP4L","text":"Yeah. At the outset the CR didn\u2019t appear to be arch sensitive to me too","ts":"1481212583.000359"},{"type":"message","user":"U0YK3KKCY","text":"this line stood out in the stack trace...","ts":"1481212617.000360"},{"type":"message","user":"U0YK3KKCY","text":"unit-tests_1  | \/opt\/go\/src\/runtime\/asm_amd64.s:2087 runtime.goexit","ts":"1481212620.000361"},{"type":"message","user":"U0YK3KKCY","text":":slightly_smiling_face:","ts":"1481212627.000362"},{"type":"message","user":"U0KPFAZNF","text":"ah, ouch","ts":"1481212632.000363"},{"type":"message","user":"U0KPFAZNF","text":"that would do it","ts":"1481212636.000364"},{"type":"message","user":"U0YK3KKCY","text":"yep","ts":"1481212639.000365"},{"type":"message","user":"U0KPFAZNF","text":"i dont yet understand how that became entangled here, but I can certainly understand the result","ts":"1481212659.000366"},{"type":"message","user":"U0YK3KKCY","text":"i have no clue. i'm not a go expert","ts":"1481212672.000367"},{"type":"message","user":"U0KPFAZNF","text":"yeah, I would have thought that would generally be managed by the go ecosystem","ts":"1481212709.000368"},{"type":"message","user":"U0KPFAZNF","text":"obviously something went awry","ts":"1481212717.000369"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> why do we need to publish to dockerhub from staging? It looks like the jobs on production worked for pushing to dockerhub","ts":"1481212770.000370"},{"type":"message","user":"U0KPFAZNF","text":"if I had to guess, its related to docker","ts":"1481212771.000371"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: well, the short answer is: its not a hard requirement, I am open...however, I do not believe a job exists on the production side which was design to handle the v0.6 deployment","ts":"1481212806.000372"},{"type":"message","user":"U0UHG4VP1","text":"ah I understand.","ts":"1481212820.000373"},{"type":"message","user":"U0KPFAZNF","text":"so, I think sandbox is the path of least resistance to get access to the $arch builders","ts":"1481212827.000374"},{"type":"message","user":"U0UHG4VP1","text":"will the 0.6 branch continue with active development?","ts":"1481212858.000375"},{"type":"message","user":"U0KPFAZNF","text":"the stuff we pushed through to production only deals with the new baseimage.git stuff","ts":"1481212866.000376"},{"type":"message","user":"U0UHG4VP1","text":"also, please note, the sandbox is now being cleaned out every week (all jobs deleted). this was supposed to be true from launch","ts":"1481212896.000377"},{"type":"message","user":"U0KPFAZNF","text":"probably not: generally people thought v0.6.1 would be the last v0.6.x release at all","ts":"1481212897.000378"},{"type":"message","user":"U0KPFAZNF","text":"but, im pretty sure we need a v0.6.2 and a v0.0.12, so maybe \"just one more\"","ts":"1481212926.000379"},{"type":"message","user":"U0KPFAZNF","text":":wink:","ts":"1481212927.000380"},{"type":"message","user":"U0KPFAZNF","text":"the cleanup is no problem, this is a one-shot","ts":"1481212943.000381"},{"type":"message","user":"U0KPFAZNF","text":"or, I believe it is, heh","ts":"1481212960.000382"},{"type":"message","user":"U0UHG4VP1","text":"well, save a copy","ts":"1481212966.000383"},{"type":"message","user":"U11NUTP4L","text":"But I see that the v0.6 branch has been marked as closed around 7 days ago","ts":"1481212972.000384"},{"type":"message","user":"U0KPFAZNF","text":"these guys may come back needing a v0.0.13, for all I know :wink:","ts":"1481212973.000385"},{"type":"message","user":"U0KPFAZNF","text":"ah, thats a problem","ts":"1481212993.000386"},{"type":"message","user":"U0KPFAZNF","text":"on both the v0.6.2 and v0.0.12 fronts","ts":"1481213009.000387"},{"type":"message","user":"U11NUTP4L","text":"so i believe no more code changes goes in. But we can build from top of the branch right","ts":"1481213015.000388"},{"type":"message","user":"U0KPFAZNF","text":"yeah, lets just go with plan a","ts":"1481213027.000389"},{"type":"message","user":"U0KPFAZNF","text":"<@U12V3D2P2> so your \"0.0.11\" is basically built from v0.6\/HEAD ?","ts":"1481213045.000390"},{"type":"message","user":"U11NUTP4L","text":"Yes. and I am sure and hopeful that we wouldn\u2019t need v0.0.13 :slightly_smiling_face:","ts":"1481213053.000391"},{"type":"message","user":"U12V3D2P2","text":"Yes","ts":"1481213068.000392"},{"type":"message","user":"U0KPFAZNF","text":"ok, its bsmita\/fabric-baseimage, right?","ts":"1481213084.000393"},{"type":"message","user":"U12V3D2P2","text":"yes","ts":"1481213093.000394"},{"type":"message","user":"U0KPFAZNF","text":"pulling now","ts":"1481213276.000395"},{"type":"message","user":"U0KPFAZNF","text":"pushed: <https:\/\/hub.docker.com\/r\/hyperledger\/fabric-baseimage\/tags\/>","ts":"1481213350.000396"},{"type":"message","user":"U0KPFAZNF","text":"give it a whirl","ts":"1481213353.000397"},{"type":"message","user":"U12V3D2P2","text":"Thank you, will try","ts":"1481213363.000398"},{"type":"message","user":"U11NUTP4L","text":"checked the new v0.0.11 image and am now able to build fabric from v0.6 branch successfully.","ts":"1481213591.000399"},{"type":"message","user":"U11NUTP4L","text":"<@U0KPFAZNF> <@U12V3D2P2> Thanks","ts":"1481213597.000400"},{"type":"message","user":"U0KPFAZNF","text":"cool","ts":"1481213641.000401"},{"type":"message","user":"U11NUTP4L","text":"ok.. time for dinner.. ttyl","ts":"1481213722.000402"},{"type":"message","user":"U12V3D2P2","text":"<@U0KPFAZNF> Power nodes are available for build, what's the next step?","ts":"1481213769.000403"},{"type":"message","user":"U0KPFAZNF","text":"<@U12V3D2P2> scratch that, not needed any more","ts":"1481213786.000404"},{"type":"message","user":"U0KPFAZNF","text":"that was just if I needed to cut v0.0.12 from jenkins","ts":"1481213794.000405"},{"type":"message","user":"U12V3D2P2","text":"We still need to upload peer and membersrvc images to docker hub :slightly_smiling_face:","ts":"1481213816.000406"},{"type":"message","user":"U0KPFAZNF","text":"i was going to craft a sandbox job to manually build the baseimage and submit","ts":"1481213838.000407"},{"type":"message","user":"U0KPFAZNF","text":"oh, hmmm","ts":"1481213869.000408"},{"type":"message","user":"U0KPFAZNF","text":"one problem we are going to face is the :latest snafu","ts":"1481213885.000409"},{"type":"message","user":"U0KPFAZNF","text":"for instance","ts":"1481213928.000410"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/hub.docker.com\/r\/hyperledger\/fabric-peer\/tags\/>","ts":"1481213929.000411"},{"type":"message","user":"U0KPFAZNF","text":"technically, the :latest tag that is there is totally bogus, but there are flows that are still dependent on it being there","ts":"1481213955.000412"},{"type":"message","user":"U0KPFAZNF","text":"(as I discovered when I tried to clean this up and people complained","ts":"1481213971.000413"},{"type":"message","user":"U12V3D2P2","text":"Ok...","ts":"1481213979.000414"},{"type":"message","user":"U0KPFAZNF","text":"so, I put it back, pointing to x86_64-0.6.1-preview for now","ts":"1481213995.000415"},{"type":"message","user":"U0KPFAZNF","text":"obviously, I can only do this once :wink:","ts":"1481214001.000416"},{"type":"message","user":"U0KPFAZNF","text":"I can put ppc64le-0.6.1-preview out there, but I cant retag it :latest","ts":"1481214036.000417"},{"type":"message","user":"U0KPFAZNF","text":"you would have to qualify whether this even works and what work-arounds you might need to recommend to people to deal with","ts":"1481214063.000418"},{"type":"message","user":"U12V3D2P2","text":"I think for now we can work with this tag","ts":"1481214112.000419"},{"type":"message","user":"U11NUTP4L","text":"ppc64le-0.6.1 should be okay for now for both peer and membersrvc","ts":"1481214168.000420"},{"type":"message","user":"U0KPFAZNF","text":"ok, let me think about best way to get it out there","ts":"1481214207.000421"},{"type":"message","user":"U11NUTP4L","text":"we may need an additional step of pulling ppc64le-0.6.1 and then tagging it locally to :latest","ts":"1481214209.000422"},{"type":"message","user":"U0KPFAZNF","text":"yes...you still need to keep in mind: the code still is not structured to work with pure dockerhub yet","ts":"1481214243.000423"},{"type":"message","user":"U0KPFAZNF","text":"even in mainline, technically","ts":"1481214253.000424"},{"type":"message","user":"U0KPFAZNF","text":"see FAB-678","ts":"1481214312.000425"},{"type":"message","user":"U11NUTP4L","text":"you mean different repo for different arch making use of the way docker understands the arch ?","ts":"1481214330.000426"},{"type":"message","user":"U11NUTP4L","text":"ok.","ts":"1481214333.000427"},{"type":"message","user":"U0KPFAZNF","text":"right now, even mainline, the only thing that \"works\" is building from source","ts":"1481214343.000428"},{"type":"message","user":"U0KPFAZNF","text":"though it is slightly easier to deal with in mainline, and is converging on totally turn key as part of FAB-678","ts":"1481214367.000429"},{"type":"message","user":"U11NUTP4L","text":"we have docker compose scripts locally to pull the images with right tag based on the underlying arch","ts":"1481214381.000430"},{"type":"message","user":"U0KPFAZNF","text":"right, but that alone might not be enough","ts":"1481214398.000431"},{"type":"message","user":"U0KPFAZNF","text":"the issue is that in v0.6 and earlier, the build synthesizes baseimage:latest in a JIT fashion as part of the build","ts":"1481214422.000432"},{"type":"message","user":"U0KPFAZNF","text":"its not just a retagging, it also processes the image locally","ts":"1481214435.000433"},{"type":"message","user":"U11NUTP4L","text":"Oh. ok","ts":"1481214469.000434"},{"type":"message","user":"U0KPFAZNF","text":"that synthesis would not occur if you simply \"docker run hyperledger\/fabric-peer:ppc64le-...\"","ts":"1481214474.000435"},{"type":"message","user":"U0KPFAZNF","text":"the long and the short of it is: the images such as peer and membersrvc were pushed to dockerhub before the code was really ready to use that model","ts":"1481214531.000436"},{"type":"message","user":"U0KPFAZNF","text":"and then people started to rely on them being there, making it a tough situation","ts":"1481214545.000437"},{"type":"message","user":"U0KPFAZNF","text":"this is improving on several fronts, at least in master, but we arent quite there to call FAB-678 \"done\"","ts":"1481214593.000438"},{"type":"message","user":"U0KPFAZNF","text":"for one, the code will auto-couple versions","ts":"1481214608.000439"},{"type":"message","user":"U0KPFAZNF","text":"and for seconds, the baseimage no longer requires synthesis","ts":"1481214629.000440"},{"type":"message","user":"U0KPFAZNF","text":"there is still a gaping hole on the SDK front, but if I can ever get out from under my build\/release duties, ill fix :wink:","ts":"1481214661.000441"},{"type":"message","user":"U11NUTP4L","text":"yeah. I think I get it .. and hence the BASE_TAG being used right ?","ts":"1481214679.000442"},{"type":"message","user":"U0KPFAZNF","text":"precisely, that is the auto-couple thing","ts":"1481214690.000443"},{"type":"message","user":"U0KPFAZNF","text":"like, peer vX.Y.Z will couple to ccenv vX.Y.Z","ts":"1481214717.000444"},{"type":"message","user":"U11NUTP4L","text":"ok","ts":"1481214727.000445"},{"type":"message","user":"U0KPFAZNF","text":"long story short: we _can_ push those tags to dockerhub, but I am not entirely sure what it buys us really","ts":"1481214763.000446"},{"type":"message","user":"U0KPFAZNF","text":"my recommendation, anyone working in v0.6 should be building from source...its really the only supported deployment model","ts":"1481214801.000447"},{"type":"message","user":"U0KPFAZNF","text":"at least now, we have build-caches for P\/Z :wink:","ts":"1481214820.000448","reactions":[{"name":"+1","users":["U0YK3KKCY"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"rejoice in not needing to wait for rocksdb or protoc to compile any more :wink:","ts":"1481214840.000449","reactions":[{"name":"+1","users":["U0YK3KKCY"],"count":1}]},{"type":"message","user":"U11NUTP4L","text":"yeah. Thats quite a relief and save of time","ts":"1481214864.000450"},{"type":"message","user":"U0KPFAZNF","text":"so, all that said: if you guys really want those images up there, I have no problem with it","ts":"1481214883.000451"},{"type":"message","user":"U0KPFAZNF","text":"just not sure what it really buys us","ts":"1481214898.000452"},{"type":"message","user":"U0KPFAZNF","text":"I dont want my statements to be misconstrued as refusing to publish, that is not the case at all","edited":{"user":"U0KPFAZNF","ts":"1481215074.000000"},"ts":"1481214916.000453"},{"type":"message","user":"U12V3D2P2","text":"If it's not too much trouble please push them, we are just making sure that the end to end build process is working and we have a version of docker images available for Power also :slightly_smiling_face:","ts":"1481214960.000454"},{"type":"message","user":"U0KPFAZNF","text":"ok, ill have to check but I dont think we have anything automated for v0.6","ts":"1481215004.000455"},{"type":"message","user":"U0KPFAZNF","text":"I think all v0.6\/v0.0.11 artifacts were done either manually or via jenkins sandbox","ts":"1481215031.000456"},{"type":"message","user":"U12V3D2P2","text":"Ok..thank you!","ts":"1481215040.000457"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F3CCE6Z8A\/pasted_image_at_2016_12_08_12_32_pm.png|Pasted image at 2016-12-08, 12:32 PM> and commented: <@U0UHG4VP1> you probably know about the recent flakiness in JIRA\u2026 first time I saw the above and thought should mention","file":{"id":"F3CCE6Z8A","created":1481218408,"timestamp":1481218408,"name":"Pasted image at 2016_12_08 12_32 PM.png","title":"Pasted image at 2016-12-08, 12:32 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":154042,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3CCE6Z8A\/pasted_image_at_2016_12_08_12_32_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3CCE6Z8A\/download\/pasted_image_at_2016_12_08_12_32_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3CCE6Z8A-824fe1fb20\/pasted_image_at_2016_12_08_12_32_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3CCE6Z8A-824fe1fb20\/pasted_image_at_2016_12_08_12_32_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3CCE6Z8A-824fe1fb20\/pasted_image_at_2016_12_08_12_32_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":200,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3CCE6Z8A-824fe1fb20\/pasted_image_at_2016_12_08_12_32_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":267,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3CCE6Z8A-824fe1fb20\/pasted_image_at_2016_12_08_12_32_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3CCE6Z8A-824fe1fb20\/pasted_image_at_2016_12_08_12_32_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":400,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3CCE6Z8A-824fe1fb20\/pasted_image_at_2016_12_08_12_32_pm_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":533,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3CCE6Z8A-824fe1fb20\/pasted_image_at_2016_12_08_12_32_pm_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":569,"image_exif_rotation":1,"original_w":1346,"original_h":748,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F3CCE6Z8A\/pasted_image_at_2016_12_08_12_32_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3CCE6Z8A-2559911cc4","channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc3CCE8W1G","created":1481218408,"timestamp":1481218408,"user":"U0ULK2JPP","is_intro":true,"comment":"<@U0UHG4VP1> you probably know about the recent flakiness in JIRA\u2026 first time I saw the above and thought should mention","channel":""}},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1481218413.000459"},{"type":"message","user":"U0YK3KKCY","text":"<@U0ULK2JPP> i got the same behavior trying to put in an issue earlier.","ts":"1481218974.000460"},{"type":"message","user":"U0ULK2JPP","text":"<@U0YK3KKCY> ah ok","ts":"1481219048.000461"},{"type":"message","user":"U0UHG4VP1","text":"<@U0ULK2JPP> looking at it, sorry for the delat","ts":"1481224623.000462"},{"type":"message","user":"U0ULK2JPP","text":"<@U0UHG4VP1> no worries at all\u2026 that was just FYI, not blocked","ts":"1481224653.000463"},{"type":"message","user":"U0UHG4VP1","text":"if I read correctly, though, you can't file bugs (or probably do anything else), right?","ts":"1481224695.000464"},{"type":"message","user":"U0ULK2JPP","text":"its kinda weird, I think I can create one. but if I try to edit it later etc, its a problem","ts":"1481224897.000465"},{"type":"message","user":"U0ULK2JPP","text":"let me check something","ts":"1481224905.000466"},{"type":"message","user":"U0ULK2JPP","text":"so if I do <https:\/\/jira.hyperledger.org\/browse\/FAB-183>","ts":"1481224925.000467"},{"type":"message","user":"U0ULK2JPP","text":"it comes up with skull","ts":"1481224933.000468"},{"type":"message","user":"U0ULK2JPP","text":"but if I refresh , it opens the page correctly","ts":"1481224951.000469"},{"type":"message","user":"U0UHG4VP1","text":"weird","ts":"1481224961.000470"},{"type":"message","user":"U0ULK2JPP","text":"there\u2019s a pattern somewhere but I havent nailed it","ts":"1481224970.000471"},{"type":"message","user":"U0UHG4VP1","text":"the healthcheck page for JIRA says it's fine, but when I logged in as admin I got a flood of red popups, and I see people have updated bugs in the last 20 minutes or so","ts":"1481224998.000472"},{"type":"message","user":"U0ULK2JPP","text":"<@U0UHG4VP1> appears to be working now\u2026 will update if I run into anything","ts":"1481225436.000473"},{"type":"message","user":"U0UHG4VP1","text":"<@U0ULK2JPP> <@U1KDHJT6H> <@U0YK3KKCY> we increased the timeout between JIRA and HAProxy. It looks like a bug in JIRA. I'll need to take some downtime and upgrade JIRA to fix it but I don't want to do it in the middle of the day because it will take about 30 minutes to do","ts":"1481229822.000474","reactions":[{"name":"beers","users":["U0YK3KKCY"],"count":1}]},{"type":"message","user":"U0UHG4VP1","text":"If you continue to see issues just retry the transaction, it should work.","ts":"1481229842.000475"},{"type":"message","user":"U0YK3KKCY","text":"k. thanks for looking into it.","ts":"1481229851.000476"},{"type":"message","user":"U0ULK2JPP","text":"+100 :slightly_smiling_face:","ts":"1481229879.000477","reactions":[{"name":"+1","users":["U0YK3KKCY"],"count":1}]},{"type":"message","user":"U0UHG4VP1","text":"I'm aware of the missing credentials issue in Jenkins and am working on it","ts":"1481232762.000478"},{"type":"message","user":"U0UHG4VP1","text":"that particular issue is fixed. From this point forward, all dynamic minions will be single use only","ts":"1481233901.000479"},{"type":"message","user":"U12V3D2P2","text":"<@U0KPFAZNF> any thoughts on how we can push docker images for peer\/membersrvc for Version 0.6?","ts":"1481291407.000480"},{"type":"message","user":"U0KPFAZNF","text":"<@U12V3D2P2> OTP....but at a high level, I am thinking a sandbox job","ts":"1481292769.000481","reactions":[{"name":"+1","users":["U12V3D2P2"],"count":1}]},{"type":"message","user":"U0YK3KKCY","text":"<@U0KPFAZNF> <@U0UHG4VP1> <@U11HH3P7Y> <@U11NUTP4L> today is my last day of the year.  i'll probably pop in from time to time, but i wish everyone a good holiday season and catch up with you soon.","ts":"1481320815.000482"},{"type":"message","user":"U0YK3KKCY","text":"filling in for me while i'm away will be one of my colleagues <@U0YJUECE8>","ts":"1481320854.000483"},{"type":"message","user":"U0UHG4VP1","text":"Have a nice holiday!","ts":"1481320916.000484"},{"type":"message","user":"U0YK3KKCY","text":"tnx","ts":"1481321108.000485"},{"type":"message","user":"U0KPFAZNF","text":"<@U0YK3KKCY>: have a good one!","ts":"1481321125.000486"},{"type":"message","user":"U0YK3KKCY","text":"tnx.","ts":"1481321136.000487"},{"type":"message","user":"U0YK3KKCY","text":"<@U0KPFAZNF> just so that i understand correctly re: incorporating p and z verify jobs back into production.... currently we can't do anything since we haven't make the 0.2.2 cut in the fabric code base, but once that takes place, the p and z verify jobs will run in production whenever an x86 verify job successfully completes...  is this a reasonable assessment?","ts":"1481321400.000488"},{"type":"message","user":"U0KPFAZNF","text":"<@U0YK3KKCY> yes, except one thing","ts":"1481324531.000489"},{"type":"message","user":"U0KPFAZNF","text":"we probably cant turn on the jobs until the current CRs merge\/abandon\/rebase out","ts":"1481324553.000490"},{"type":"message","user":"U0KPFAZNF","text":"the pipeline right has weak associativity to the repo requirements","ts":"1481324583.000491"},{"type":"message","user":"U0YK3KKCY","text":"related to 0.2.2 right?","ts":"1481324584.000492"},{"type":"message","user":"U0KPFAZNF","text":"exactly","ts":"1481324592.000493"},{"type":"message","user":"U0YK3KKCY","text":"ok. estimate on this happening? 2 weeks? 1 month?","ts":"1481324607.000494"},{"type":"message","user":"U0KPFAZNF","text":"once v02.2. CR (yet to be submitted\/merged) is common place, then they can be turned on","ts":"1481324611.000495"},{"type":"message","user":"U0KPFAZNF","text":"well, i think we are more or less ready to get v0.2.2 proposed\/merged, so that can happen in the next few days","ts":"1481324642.000496"},{"type":"message","user":"U0KPFAZNF","text":"its really then a function of how long to move through the backlog","ts":"1481324660.000497"},{"type":"message","user":"U0YK3KKCY","text":"understood","ts":"1481324670.000498"},{"type":"message","user":"U0KPFAZNF","text":"i think we dont have to wait for them all though","ts":"1481324670.000499"},{"type":"message","user":"U0KPFAZNF","text":"identify some high priorities, get them in, flip the switch, make the remainder rebase","ts":"1481324697.000500"},{"type":"message","user":"U0KPFAZNF","text":"something like that","ts":"1481324701.000501"},{"type":"message","user":"U0YK3KKCY","text":"k. thanks for the explanation.","ts":"1481324714.000502"},{"type":"message","user":"U0KPFAZNF","text":"so, if I had to take a wild stab, I'd say P\/Z support for x-mas :wink:","ts":"1481324731.000503","reactions":[{"name":"+1","users":["U11NUTP4L","U12V3D2P2"],"count":2}]},{"type":"message","user":"U0YK3KKCY","text":"nice present. :slightly_smiling_face:","ts":"1481324741.000504"},{"type":"message","user":"U0KPFAZNF","text":"sound reasonable?","ts":"1481324766.000505"},{"type":"message","user":"U0YK3KKCY","text":"yep","ts":"1481324770.000506"},{"type":"message","user":"U0YK3KKCY","text":"i appreciate all of your mentoring","ts":"1481324779.000507"},{"type":"message","user":"U0KPFAZNF","text":"cool...ill try to get vagrant v0.2.2 pushed this weekend so we can get that CR out there","ts":"1481324789.000508"},{"type":"message","user":"U0YK3KKCY","text":"good stuff.","ts":"1481324802.000509"},{"type":"message","user":"U0KPFAZNF","text":"im hoping my x-mas gift will be the eradication of the vagrant-baseimage completely :wink:","ts":"1481324834.000510","reactions":[{"name":"+1","users":["U0UHG4VP1","U0KM61BCP"],"count":2}]},{"type":"message","user":"U0YK3KKCY","text":"ha :slightly_smiling_face:","ts":"1481324845.000511"},{"type":"message","user":"U0YK3KKCY","text":"a thorn in your side for sure","ts":"1481324854.000512"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> might help me on that front by finishing up the behave port to docker","ts":"1481324854.000513"},{"type":"message","user":"U0YK3KKCY","text":"okay","ts":"1481324863.000514"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> what comes after docker? :slightly_smiling_face:","ts":"1481332783.000515"},{"type":"message","user":"U0UHG4VP1","text":"<@U0ULK2JPP> : two graphs. here is what the DB connections looked like when we were having troubles:","ts":"1481335257.000516"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3D661E4C\/screen_shot_2016-12-08_at_11.25.36_am.png|bad>","file":{"id":"F3D661E4C","created":1481335271,"timestamp":1481335271,"name":"Screen Shot 2016-12-08 at 11.25.36 AM.png","title":"bad","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0UHG4VP1","editable":false,"size":36121,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3D661E4C\/screen_shot_2016-12-08_at_11.25.36_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3D661E4C\/download\/screen_shot_2016-12-08_at_11.25.36_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3D661E4C-dfaab6d706\/screen_shot_2016-12-08_at_11.25.36_am_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3D661E4C-dfaab6d706\/screen_shot_2016-12-08_at_11.25.36_am_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3D661E4C-dfaab6d706\/screen_shot_2016-12-08_at_11.25.36_am_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":189,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3D661E4C-dfaab6d706\/screen_shot_2016-12-08_at_11.25.36_am_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":251,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3D661E4C-dfaab6d706\/screen_shot_2016-12-08_at_11.25.36_am_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3D661E4C-dfaab6d706\/screen_shot_2016-12-08_at_11.25.36_am_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":377,"image_exif_rotation":1,"original_w":899,"original_h":471,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3D661E4C\/screen_shot_2016-12-08_at_11.25.36_am.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3D661E4C-37580c09bd","channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1481335273.000517"},{"type":"message","user":"U0UHG4VP1","text":"since we upped the timeout:","ts":"1481335280.000518"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3CCJS01W\/screen_shot_2016-12-09_at_5.59.05_pm.png|good>","file":{"id":"F3CCJS01W","created":1481335290,"timestamp":1481335290,"name":"Screen Shot 2016-12-09 at 5.59.05 PM.png","title":"good","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0UHG4VP1","editable":false,"size":30854,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3CCJS01W\/screen_shot_2016-12-09_at_5.59.05_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3CCJS01W\/download\/screen_shot_2016-12-09_at_5.59.05_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3CCJS01W-7a1f8e6fba\/screen_shot_2016-12-09_at_5.59.05_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3CCJS01W-7a1f8e6fba\/screen_shot_2016-12-09_at_5.59.05_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3CCJS01W-7a1f8e6fba\/screen_shot_2016-12-09_at_5.59.05_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":185,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3CCJS01W-7a1f8e6fba\/screen_shot_2016-12-09_at_5.59.05_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":247,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3CCJS01W-7a1f8e6fba\/screen_shot_2016-12-09_at_5.59.05_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3CCJS01W-7a1f8e6fba\/screen_shot_2016-12-09_at_5.59.05_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":370,"image_exif_rotation":1,"original_w":904,"original_h":465,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3CCJS01W\/screen_shot_2016-12-09_at_5.59.05_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3CCJS01W-0d22390753","channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1481335292.000519"},{"type":"message","user":"U0ULK2JPP","text":"green all over \u2026 also I havent had problems lately. thanks <@U0UHG4VP1>!","ts":"1481375014.000520"},{"type":"message","user":"U1HFNJB50","text":"it looks like CI is broken, no verification fired on <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3175\/>","ts":"1481464155.000521"},{"type":"message","user":"U0ULK2JPP","text":"hmm and its been 21 mins \u2026 <@U1HFNJB50> perhaps just \u201creverify\u201d ?","ts":"1481464414.000522"},{"type":"message","user":"U0ULK2JPP","text":"<@U1HFNJB50> just posted a reverify.. lets see what happens","ts":"1481464614.000523"},{"type":"message","user":"U11NUTP4L","text":"<@U0YK3KKCY> Enjoy your holiday !","ts":"1481465189.000524"},{"type":"message","user":"U1HFNJB50","text":"<@U0ULK2JPP> <https:\/\/hyperledgerproject.slack.com\/archives\/fabric-maintainers\/p1481457735000140>","attachments":[{"from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-maintainers\/p1481457735000140","fallback":"[December 11th, 2016 4:02 AM] yacovm: I think there is: `(pending\u2014All nodes of label \u2018hyp-fabric-x86_64\u2019 are offline) `","ts":"1481457735.000140","author_subname":"yacovm","channel_id":"C28CXQXD5","channel_name":"fabric-maintainers","is_msg_unfurl":true,"text":"I think there is: `(pending\u2014All nodes of label \u2018hyp-fabric-x86_64\u2019 are offline) `","author_name":"Yacov Manevich","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/yacovm","author_icon":"https:\/\/avatars.slack-edge.com\/2016-09-30\/85916865123_74ecb5d18535acea44aa_48.png","mrkdwn_in":["text"],"id":1,"footer":"Posted in #fabric-maintainers"}],"ts":"1481465566.000525"},{"type":"message","user":"U0ZJZBJLF","text":"Why does it look like there is only 1 minion? <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/>","edited":{"user":"U0ZJZBJLF","ts":"1481483038.000000"},"ts":"1481483029.000527"},{"type":"message","user":"U0UHG4VP1","text":"<@U0ULK2JPP> there was an issue with our infra provider, it's clearing up now.","ts":"1481485764.000529"},{"type":"message","user":"U0UHG4VP1","text":"<@U0ZJZBJLF> there may be as few as 0 minions online if there is no queue.","ts":"1481485784.000530"},{"type":"message","user":"U0ULK2JPP","text":"thanks <@U0UHG4VP1>","ts":"1481485798.000531"},{"type":"message","user":"U0UHG4VP1","text":"NP. I've retriggered a bunch of builds (anything that had failed this morning).","ts":"1481485825.000532"},{"type":"message","user":"U0UHG4VP1","text":"Our layers of nagios alerts didn't catch this failure mode, so... back to the drawing board","ts":"1481485853.000533"},{"type":"message","user":"U0ULK2JPP","text":"absolutely..if I had a dollar every time  I had retraced to  the DB \u2026 :slightly_smiling_face:","ts":"1481485981.000534"},{"type":"message","user":"U0UHG4VP1","text":":slightly_smiling_face: this was rabbitmq falling over, which is new. what does the alerting system rely on? rabbitmq. they're setting up an instance to silo the monitoring system","ts":"1481486055.000535"},{"type":"message","user":"U0ULK2JPP","text":"interesting\u2026 send a spy to catch one","ts":"1481486095.000536"},{"type":"message","user":"U0UHG4VP1","text":"yes","ts":"1481486115.000537"},{"type":"message","user":"U0ULK2JPP","text":"do I detect an infinite regress here :slightly_smiling_face: just kidding..","ts":"1481486151.000538"},{"type":"message","user":"U0KM61BCP","text":"that's like sending an email to alert of a network failure - from within the partition;-)","ts":"1481636934.000539"},{"type":"message","user":"U12V3D2P2","text":"<@U0KPFAZNF> <@U0UHG4VP1> - is there anything I can do to have the sandbox build going for Version 0.6 for Power ?","ts":"1481642900.000540"},{"type":"message","user":"U0UHG4VP1","text":"<@U12V3D2P2>: what do you mean by going?","ts":"1481645145.000541"},{"type":"message","user":"U12V3D2P2","text":"I think a new sandbox Jenkins job has to be created to have a build with Version 0.6, it could be a one time build - but the goal here is to have docker images uploaded for Power for Version 0.6(we have only baseimage now, not peer and membersrvc images)","ts":"1481645427.000542"},{"type":"message","user":"U12V3D2P2","text":"Ramesh tried a sandbox build before but it was a test build, it didn't upload images","ts":"1481645487.000543"},{"type":"message","user":"U0UHG4VP1","text":"We don't publish from sandbox","ts":"1481646609.000544"},{"type":"message","user":"U0UHG4VP1","text":"Is there a reason not to do this in production?","ts":"1481646641.000545"},{"type":"message","user":"U12V3D2P2","text":"<@U0KPFAZNF> was suggesting a sandbox job","ts":"1481647810.000546"},{"type":"message","user":"U0KPFAZNF","text":"hi <@U12V3D2P2> <@U0UHG4VP1>: this is a continuation of that conversation about the v0.6 branch","ts":"1481648227.000547"},{"type":"message","user":"U0KPFAZNF","text":"the P\/Z teams are asking for v0.6.1-preview releases in dockerhub, but I dont think we have a production job that would be capable of this","ts":"1481648283.000548"},{"type":"message","user":"U0KPFAZNF","text":"we could, of course, create one","ts":"1481648294.000549"},{"type":"message","user":"U0KPFAZNF","text":"but it seems easier to drive from sandbox, thus my suggestion","ts":"1481648309.000550"},{"type":"message","user":"U0KPFAZNF","text":"i am open though","ts":"1481648316.000551"},{"type":"message","user":"U0UHG4VP1","text":"Are we going to be pushing these regularly? Could I rework a production job to make it work?","ts":"1481651689.000552"},{"type":"message","user":"U0KPFAZNF","text":"My gut? No. v0,6 is frozen afaict","ts":"1481658002.000553"},{"type":"message","user":"U0KPFAZNF","text":"That said, this does seem to keep coming up ;)","ts":"1481658018.000554","reactions":[{"name":"slightly_smiling_face","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0UHG4VP1","text":"My big motivator to doing this in production is staging is now properly (as designed) being purged of all jobs every week. If we're going to need this after this week, that data entry would need to happen again.","ts":"1481658753.000555","reactions":[{"name":"+1","users":["U12V3D2P2"],"count":1}]},{"type":"message","user":"U0UHG4VP1","text":"If this is OK, I can add the dockerhub stuff back into staging to enable this","ts":"1481658775.000556"},{"type":"message","user":"U0XQ35CDD","text":"Can someone help me figure out why this build (and those that depend on it) keep failing in CI? <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3201\/>","edited":{"user":"U0XQ35CDD","ts":"1481747044.000000"},"ts":"1481746990.000557"},{"type":"message","user":"U0UHG4VP1","text":"kostas the log file is pretty clear. there was a change checked in which has broken the unit tests.","ts":"1481747147.000559"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3F0A5JQM\/-.txt|Untitled>","file":{"id":"F3F0A5JQM","created":1481747174,"timestamp":1481747174,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":515,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3F0A5JQM\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3F0A5JQM\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3F0A5JQM\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3F0A5JQM-4637e6841d","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3F0A5JQM\/-.txt\/edit","preview":"20:12:11 cd unit-test && docker-compose up --abort-on-container-exit --force-recreate && docker-compose down\r\n20:12:12 Creating unittest_vp_1\r\n20:12:13 Creating unittest_unit-tests_1\r\n20:12:14 \r\n20:12:14 ERROR: for unit-tests  Cannot start service unit-tests: Cannot link to a non running container: \/unittest_vp_1 AS \/unittest_unit-tests_1\/unittest_vp_1\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>20:12:11 cd unit-test &amp;&amp; docker-compose up --abort-on-container-exit --force-recreate &amp;&amp; docker-compose down<\/pre><\/div>\n<div><pre>20:12:12 Creating unittest_vp_1<\/pre><\/div>\n<div><pre>20:12:13 Creating unittest_unit-tests_1<\/pre><\/div>\n<div><pre>20:12:14 <\/pre><\/div>\n<div><pre>20:12:14 ERROR: for unit-tests  Cannot start service unit-tests: Cannot link to a non running container: \/unittest_vp_1 AS \/unittest_unit-tests_1\/unittest_vp_1<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":8,"lines_more":3,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1481747174.000560"},{"type":"message","user":"U0XQ35CDD","text":"<@U0UHG4VP1>: The interesting this is though -- based on our conversation earlier today, I tracked the culprit, had Marko submit a changeset and that fixed it: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3305\/>","ts":"1481747310.000561"},{"type":"message","user":"U0XQ35CDD","text":"Notice how the build for this ^^ was successful.","ts":"1481747321.000562"},{"type":"message","user":"U0XQ35CDD","text":"Now, I did `reverify` after this one got merged. And I'm still getting a failure.","ts":"1481747334.000563"},{"type":"message","user":"U0UHG4VP1","text":"kostas you will need to rebase to pick up his change. It is in the future for your change","edited":{"user":"U0UHG4VP1","ts":"1481747359.000000"},"ts":"1481747339.000564"},{"type":"message","user":"U0UHG4VP1","text":"you should see a \"rebase\" button here: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3201\/>","ts":"1481747403.000566"},{"type":"message","user":"U0XQ35CDD","text":"OK, do you suggest `rebase` via the button, or do it the way our ancestors did, by creating a new branch off of the latest master and cherry-picking my commit on top of it?","ts":"1481747433.000567"},{"type":"message","user":"U0UHG4VP1","text":"I'm a tool-using ape. I use the `rebase` button.","ts":"1481747462.000568","reactions":[{"name":"metal","users":["U0XQ35CDD"],"count":1},{"name":"sunglasses","users":["U0YK3KKCY"],"count":1}]},{"type":"message","user":"U0XQ35CDD","text":"Gotcha, thank you.","ts":"1481747473.000569"},{"type":"message","user":"U0UHG4VP1","text":"you will then need to, of course, run through all the child changes and do the same","ts":"1481747487.000570","reactions":[{"name":"white_check_mark","users":["U0XQ35CDD"],"count":1}]},{"type":"message","user":"U0UHG4VP1","text":"I'm interested to see what happens when you get ~7 commits down the line","ts":"1481747539.000571"},{"type":"message","user":"U0UHG4VP1","text":"kostas if you really wanted to, you could `git checkout master; git pull origin master` then checkout the childmost change and do a `git rebase -i origin\/master` to rebase them all at once. then `git push origin HEAD:refs\/for\/master` and all the changesets would be done in one swell foop without creating another branch etc","ts":"1481747726.000572","reactions":[{"name":"white_check_mark","users":["U0XQ35CDD"],"count":1}]},{"type":"message","user":"U0YK3KKCY","text":"git guru :slightly_smiling_face:","ts":"1481748307.000573"},{"type":"message","user":"U0XQ35CDD","text":"I can reproduce this locally now, which is something.","attachments":[{"fallback":"[December 14th, 2016 3:25 PM] ry: kostas the log file is pretty clear. there was a change checked in which has broken the unit tests.","ts":"1481747147.000559","author_subname":"ry","channel_id":"C0YMWRX19","channel_name":"ci-pipeline","is_msg_unfurl":true,"text":"kostas the log file is pretty clear. there was a change checked in which has broken the unit tests.","author_name":"Ry Jones","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/ry","author_icon":"https:\/\/avatars.slack-edge.com\/2016-12-03\/112352565781_af8a455dfc891821119c_48.jpg","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/ci-pipeline\/p1481747147000559","is_share":true,"footer":"Posted in #ci-pipeline"}],"ts":"1481749390.000574"},{"type":"message","user":"U0UHG4VP1","text":"kostas this is a build I did of master: <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/4132\/> since it passes now, it's probably in your changes.","ts":"1481749905.000579"},{"type":"message","subtype":"file_share","text":"<@U0XQ35CDD|kostas> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/kostas\/F3E7XEBGR\/-.dockerfile|Untitled>","file":{"id":"F3E7XEBGR","created":1481750022,"timestamp":1481750022,"name":"-.dockerfile","title":"Untitled","mimetype":"text\/plain","filetype":"dockerfile","pretty_type":"Docker","user":"U0XQ35CDD","editable":true,"size":687,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3E7XEBGR\/-.dockerfile?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3E7XEBGR\/download\/-.dockerfile?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/kostas\/F3E7XEBGR\/-.dockerfile","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3E7XEBGR-b927c025b9","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/kostas\/F3E7XEBGR\/-.dockerfile\/edit","preview":"\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/unit-test \u26a1\ufe0e  docker-compose up\r\nCreating unittest_vp_1\r\nCreating unittest_unit-tests_1\r\n\r\nERROR: for unit-tests  Cannot start service unit-tests: Cannot link to a non running container: \/unittest_vp_1 AS \/unittest_unit-tests_1\/vp\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/unit-test \u26a1\ufe0e  docker-compose up<\/pre><\/div>\n<div><pre>Creating unittest_vp_1<\/pre><\/div>\n<div><pre>Creating unittest_unit-tests_1<\/pre><\/div>\n<div><pre>&#8203;<\/pre><\/div>\n<div><pre>ERROR: for unit-tests  Cannot start service unit-tests: Cannot link to a non running container: \/unittest_vp_1 AS \/unittest_unit-tests_1\/vp<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":11,"lines_more":6,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0XQ35CDD","upload":true,"display_as_bot":false,"username":"<@U0XQ35CDD|kostas>","bot_id":null,"ts":"1481750023.000580"},{"type":"message","user":"U0XQ35CDD","text":"This is literally all you get back.","ts":"1481750036.000581"},{"type":"message","user":"U0XQ35CDD","text":"Which Docker container do you inspect? How? Where do you look specifically?","ts":"1481750061.000582"},{"type":"message","user":"U0XQ35CDD","text":"(I'm not complaining, I'm just listing out questions where the answers are not obvious, and hoping that these will help us smooth out the process.)","ts":"1481750089.000583"},{"type":"message","user":"U0ZJZBJLF","text":"<http:\/\/stackoverflow.com\/questions\/37413710\/docker-cannot-link-to-a-non-running-container-fixed-with-a-reboot>","attachments":[{"title":"Docker cannot link to a non running container - fixed with a reboot","title_link":"http:\/\/stackoverflow.com\/questions\/37413710\/docker-cannot-link-to-a-non-running-container-fixed-with-a-reboot","text":"I have an ELK stack running on docker on Ubuntu. Occasionally the elasticsearch container will terminate due to a bad query or bad message which is expected behaviour in our development environment...","fallback":"Docker cannot link to a non running container - fixed with a reboot","thumb_url":"https:\/\/cdn.sstatic.net\/Sites\/stackoverflow\/img\/apple-touch-icon@2.png?v=73d79a89bded","from_url":"http:\/\/stackoverflow.com\/questions\/37413710\/docker-cannot-link-to-a-non-running-container-fixed-with-a-reboot","thumb_width":316,"thumb_height":316,"service_icon":"https:\/\/cdn.sstatic.net\/Sites\/stackoverflow\/img\/favicon.ico?v=4f32ecc8f43d","service_name":"stackoverflow.com","id":1}],"ts":"1481751752.000584"},{"type":"message","user":"U0ZJZBJLF","text":"Doesn't look like kostas's fault","edited":{"user":"U0ZJZBJLF","ts":"1481751833.000000"},"ts":"1481751777.000586"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XQ35CDD> one thing to try: \"docker run -it hyperledger\/fabric-peer\"","ts":"1481756068.000588"},{"type":"message","user":"U0KPFAZNF","text":"that is, in essence, all that the \"unittest_vp_1\" is doing","ts":"1481756088.000589"},{"type":"message","user":"U0KPFAZNF","text":"more than likely, you will find the peer cannot run","ts":"1481756101.000590"},{"type":"message","user":"U0XQ35CDD","text":"Ah wonderful, that indeed gives me a helpful error message.","ts":"1481756128.000591"},{"type":"message","user":"U0XQ35CDD","text":"Thanks Greg.","ts":"1481756134.000592"},{"type":"message","user":"U0KPFAZNF","text":"cool, ill see if theres a way to make the unit-test composition itself more helpful in this regard","ts":"1481756156.000593"},{"type":"message","user":"U0XQ35CDD","text":"If anybody's working on documentation, or if there's a Wiki doc already out there, ^^ this tip would be good to add.","ts":"1481756172.000594"},{"type":"message","user":"U0XQ35CDD","text":"Greg, I don't see an `ORDERER_CFG_PATH` ENV var in `unittest_vp_1`.","edited":{"user":"U0XQ35CDD","ts":"1481760630.000000"},"ts":"1481760611.000595"},{"type":"message","user":"U0XQ35CDD","text":"```\"Env\": [\n                \"PATH=\/usr\/local\/sbin:\/usr\/local\/bin:\/usr\/sbin:\/usr\/bin:\/sbin:\/bin:\/usr\/local\/bin\",\n                \"PEER_CFG_PATH=\/etc\/hyperledger\/fabric\"\n            ],```","ts":"1481760618.000596"},{"type":"message","user":"U0XQ35CDD","text":"Any idea what might cause this?","ts":"1481760642.000598"},{"type":"message","user":"U0KPFAZNF","text":"\"vp\" -&gt; fabric-peer != fabric-orderer :wink:","ts":"1481760645.000599"},{"type":"message","user":"U0XQ35CDD","text":"Heh, makes sense. This is actually me trying to fix this: <https:\/\/hyperledgerproject.slack.com\/archives\/fabric-peer-dev\/p1481648308000066>","attachments":[{"from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-peer-dev\/p1481648308000066","fallback":"[December 13th, 2016 8:58 AM] kostas: <@U0ULK2JPP>: Cool. You have a reference to the `static` bootstrapper there (that I'll have to edit anyway because of this: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3201\/>). Why do you need the genesis block though?","ts":"1481648308.000066","author_subname":"kostas","channel_id":"C27E2LGJY","channel_name":"fabric-peer-dev","is_msg_unfurl":true,"text":"<@U0ULK2JPP>: Cool. You have a reference to the `static` bootstrapper there (that I'll have to edit anyway because of this: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3201\/>). Why do you need the genesis block though?","author_name":"Kostas Christidis","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/kostas","author_icon":"https:\/\/avatars.slack-edge.com\/2016-04-05\/31983107923_80db5353e9278df980c7_48.png","mrkdwn_in":["text"],"id":1,"footer":"Posted in #fabric-peer-dev"}],"ts":"1481760682.000600"},{"type":"message","user":"U0KPFAZNF","text":"to put another way: the unit tests do not currently start the orderer","ts":"1481760683.000602"},{"type":"message","user":"U0XQ35CDD","text":"I'll put in a fix for this, I noted that cross-dependencies are a bad idea.","ts":"1481760710.000603"},{"type":"message","user":"U0XQ35CDD","text":"Thank you.","ts":"1481760718.000604"},{"type":"message","user":"U0KPFAZNF","text":"this is primarily a function of the fact that historically the unit tests have only minimal interaction with the running peer","ts":"1481760734.000605"},{"type":"message","user":"U0KPFAZNF","text":"e.g. they do not need a fully functioning peer environment","ts":"1481760747.000606"},{"type":"message","user":"U0KPFAZNF","text":"that said, I have thought it was perhaps asking for trouble to purposely only instantiate a partial environment","ts":"1481760771.000607"},{"type":"message","user":"U0KPFAZNF","text":"if you believe that the orderer should be running, I have no problem with this: just update unit-test\/docker-compose.yml as appropriate","ts":"1481760822.000608"},{"type":"message","user":"U0XQ35CDD","text":"If I'm reading this properly, it is simply an issue of setting the ENV var on fabric-peer and maybe copying the orderer.yaml file as well?","ts":"1481760875.000609"},{"type":"message","user":"U0KPFAZNF","text":"you can probably borrow from test\/docker-compose.yml, if that is convenient","ts":"1481760877.000610"},{"type":"message","user":"U0KPFAZNF","text":"just take a look at the .\/test composition, i think it has all the details","ts":"1481760906.000611"},{"type":"message","user":"U0UHG4VP1","text":"so bsmita and ghaskins I am OOF Thursday all day and Friday morning. If you're blocked by me on this 0.6 issue please let me know by email so I can work on it Friday afternoon","ts":"1481760936.000612"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: ok, ty","ts":"1481760947.000613"},{"type":"message","user":"U0UHG4VP1","text":"I don't want to lose it to the finite backscroll here.","ts":"1481760955.000614"},{"type":"message","user":"U0UHG4VP1","text":"`<mailto:rjones@linuxfoundation.org|rjones@linuxfoundation.org>`","ts":"1481760967.000615"},{"type":"message","user":"U0KPFAZNF","text":"<@U0XQ35CDD> are you thinking we want to run both peer and orderer in vp_1 instance?","ts":"1481760972.000616"},{"type":"message","user":"U0XQ35CDD","text":"<@U0KPFAZNF>: No. Reading this <https:\/\/hyperledgerproject.slack.com\/archives\/fabric-peer-dev\/p1481648503000069> my understanding is that the peer _temporarily_ (I hope) needs the genesis block that the bootstrapper (a package in the orderer) gives.","attachments":[{"from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-peer-dev\/p1481648503000069","fallback":"[December 13th, 2016 9:01 AM] muralisr: that was <@U1HFNJB50> temporary refactor so he can use `deliverService.JoinChannel(commit, block)` to \u201cjoin\u201d the **TEST_CHAINID** while we are waiting for the true join","ts":"1481648503.000069","author_subname":"muralisr","channel_id":"C27E2LGJY","channel_name":"fabric-peer-dev","is_msg_unfurl":true,"text":"that was <@U1HFNJB50> temporary refactor so he can use `deliverService.JoinChannel(commit, block)` to \u201cjoin\u201d the **TEST_CHAINID** while we are waiting for the true join","author_name":"Srinivasan Muralidharan","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/muralisr","author_icon":"https:\/\/secure.gravatar.com\/avatar\/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-48.png","mrkdwn_in":["text"],"id":1,"footer":"Posted in #fabric-peer-dev"}],"ts":"1481761083.000617"},{"type":"message","user":"U0XQ35CDD","text":"But the bootstrapper needs to read the `orderer.yaml` file before it can output a block with my latest changeset.","edited":{"user":"U0XQ35CDD","ts":"1481761235.000000"},"ts":"1481761106.000619"},{"type":"message","user":"U0XQ35CDD","text":"So that's what's causing the issue.","ts":"1481761120.000620"},{"type":"message","user":"U0KPFAZNF","text":"oh...that sounds broken, but I assume that is what you are referring to when you say you hope its temporary","ts":"1481761133.000621"},{"type":"message","user":"U0XQ35CDD","text":"In short, all we need to do is get the fabric peer to see that `orderer.yaml` file.","ts":"1481761134.000622"},{"type":"message","user":"U0XQ35CDD","text":"Exactly.","ts":"1481761141.000623"},{"type":"message","user":"U0KPFAZNF","text":"ok...the problem is the fabric-peer container will only have the bare minimum of what it thinks is needed","ts":"1481761163.000624"},{"type":"message","user":"U0KPFAZNF","text":"which, right at this moment, would not include orderer.yaml","ts":"1481761174.000625"},{"type":"message","user":"U0KPFAZNF","text":"so the ENV alone wont do it","ts":"1481761180.000626"},{"type":"message","user":"U0KPFAZNF","text":"it would be trivial to make it so it does have it though","ts":"1481761194.000627"},{"type":"message","user":"U0KPFAZNF","text":"I could put a patch together in short order to do this, but I wouldnt be doing my maintainer duty if I didn't ask if we should just fix the root cause first? :wink:","edited":{"user":"U0KPFAZNF","ts":"1481762192.000000"},"ts":"1481761238.000629"},{"type":"message","user":"U0XQ35CDD","text":"Correct, you wouldn't, but I would note that you come second :wink: <https:\/\/hyperledgerproject.slack.com\/archives\/fabric-peer-dev\/p1481648308000066>","ts":"1481761270.000630"},{"type":"message","user":"U0KPFAZNF","text":"(thats a sincere question: i am not sure what is broken nor what is involved to fix)","ts":"1481761271.000631"},{"type":"message","user":"U0KPFAZNF","text":"right, saw that, though I am not sure what the proposed path forward is","ts":"1481761315.000632"},{"type":"message","user":"U0KPFAZNF","text":"do we want to hack the peer container or fix whatever is demanding the resource?","ts":"1481761332.000633"},{"type":"message","user":"U0KPFAZNF","text":"i assume the former","ts":"1481761336.000634"},{"type":"message","user":"U0KPFAZNF","text":"er, I assume you are proposing the former","ts":"1481761344.000635"},{"type":"message","user":"U0XQ35CDD","text":"<https:\/\/hyperledgerproject.slack.com\/archives\/fabric-peer-dev\/p1481648597000071>","attachments":[{"from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-peer-dev\/p1481648597000071","fallback":"[December 13th, 2016 9:03 AM] muralisr: the above code will not be needed when the block is supplied by SDK and CLI to join the channel","ts":"1481648597.000071","author_subname":"muralisr","channel_id":"C27E2LGJY","channel_name":"fabric-peer-dev","is_msg_unfurl":true,"text":"the above code will not be needed when the block is supplied by SDK and CLI to join the channel","author_name":"Srinivasan Muralidharan","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/muralisr","author_icon":"https:\/\/secure.gravatar.com\/avatar\/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-48.png","mrkdwn_in":["text"],"id":1,"footer":"Posted in #fabric-peer-dev"}],"ts":"1481761353.000636"},{"type":"message","user":"U0XQ35CDD","text":"So I think that's the team's plan.","ts":"1481761364.000638"},{"type":"message","user":"U0KPFAZNF","text":"ok, and we would like to see the work-around for the short term?","ts":"1481761385.000639"},{"type":"message","user":"U0XQ35CDD","text":"It's the usual dilemma. I hate having to hack things (and I haven't done it so far).","ts":"1481761454.000640"},{"type":"message","user":"U0XQ35CDD","text":"But my proposed changes affect how the ordering service works and should move forward, i.e. I'm being blocked.","ts":"1481761456.000641"},{"type":"message","user":"U0XQ35CDD","text":"Realistically, I don't _think_ the SDK\/CLI changes that Murali refers to are coming soon enough.","ts":"1481761479.000642"},{"type":"message","user":"U0XQ35CDD","text":"(I might be wrong though.)","ts":"1481761486.000643"},{"type":"message","user":"U0KPFAZNF","text":"ok, ill put together the patch to add the above","ts":"1481761486.000644"},{"type":"message","user":"U0KPFAZNF","text":"we can decide whether the accept it as a second step","ts":"1481761494.000645"},{"type":"message","user":"U0XQ35CDD","text":"I appreciate the help Greg, thank you.","ts":"1481761514.000646"},{"type":"message","user":"U0KPFAZNF","text":"yw","ts":"1481761517.000647"},{"type":"message","user":"U0XQ35CDD","text":"Copying <@U0ULK2JPP> and <@U1HFNJB50> on this convo just in case. ","edited":{"user":"U0XQ35CDD","ts":"1481763802.000000"},"ts":"1481761532.000648"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3E9F6NG0\/-.diff|Untitled> and commented: <@U0XQ35CDD> I believe this patch should fix it","file":{"id":"F3E9F6NG0","created":1481761690,"timestamp":1481761690,"name":"-.diff","title":"Untitled","mimetype":"text\/plain","filetype":"diff","pretty_type":"Diff","user":"U0KPFAZNF","editable":true,"size":1126,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3E9F6NG0\/-.diff?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3E9F6NG0\/download\/-.diff?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3E9F6NG0\/-.diff","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3E9F6NG0-0058e00ada","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3E9F6NG0\/-.diff\/edit","preview":"diff --git a\/Makefile b\/Makefile\r\nindex a17b053..dd96b1e 100644\r\n--- a\/Makefile\r\n+++ b\/Makefile\r\n@@ -182,6 +182,7 @@ build\/image\/javaenv\/payload:    build\/javashim.tar.bz2 \\\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>diff --git a\/Makefile b\/Makefile<\/pre><\/div>\n<div><pre>index a17b053..dd96b1e 100644<\/pre><\/div>\n<div><pre><span class=\"cm-negative\">--- a\/Makefile<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-positive\">+++ b\/Makefile<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-meta\">@@ -182,6 +182,7 @@ build\/image\/javaenv\/payload:    build\/javashim.tar.bz2 \\<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":26,"lines_more":21,"preview_is_truncated":true,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc3E9F6SAC","created":1481761690,"timestamp":1481761690,"user":"U0KPFAZNF","is_intro":true,"comment":"<@U0XQ35CDD> I believe this patch should fix it","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1481761691.000649"},{"type":"message","user":"U0XQ35CDD","text":"Excellent. I'll try it out.","ts":"1481761755.000650","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0XQ35CDD","text":"Just an update that this worked fine. But I spent some time and I got to the root cause of it (<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3315\/>) so no need for yet another patch.","ts":"1481787080.000653","reactions":[{"name":"+1","users":["U0KPFAZNF","U0KM61BCP"],"count":2}]},{"user":"U13TWBRBL","text":"<@U13TWBRBL|jzhang> has left the channel","type":"message","subtype":"channel_leave","ts":"1481831857.000654"},{"type":"message","user":"U0YQK8WSV","text":"<@U0UHG4VP1>  I want to add CI jobs for fabric-sdk-java","ts":"1481832071.000655"},{"type":"message","user":"U0YQK8WSV","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3341>","ts":"1481832189.000656"},{"type":"message","user":"U0YQK8WSV","text":"but the build failed","ts":"1481832192.000657"},{"type":"message","user":"U0UHG4VP1","text":"<@U0YQK8WSV>: I saw your CR I will look at it Friday. I'm OOF today and Friday AM","ts":"1481832239.000658"},{"type":"message","user":"U0YQK8WSV","text":"Ok sure.. ty","ts":"1481832255.000659"},{"type":"message","user":"U0UHG4VP1","text":"pvishnum taking a quick look it didn't pass CI, so there are some issues","ts":"1481832592.000660"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/jenkins.hyperledger.org\/job\/ci-management-verify-jjb\/341\/console>","ts":"1481832614.000661"},{"type":"message","user":"U0YQK8WSV","text":"There is some duplicate definition","ts":"1481832730.000662"},{"type":"message","user":"U0YQK8WSV","text":"I will fix it","ts":"1481832736.000663"},{"type":"message","user":"U0KM61BCP","text":"hey <@U0KPFAZNF> has anyone looked at using a local docker registry to host nightly or stable builds?","ts":"1481908400.000664"},{"type":"message","user":"U0KM61BCP","text":"I ask because we start to think about re-introducing integration testing, we need to treat the various components as fixed dependencies","ts":"1481908432.000665"},{"type":"message","user":"U0KPFAZNF","text":"i know <@U0UHG4VP1> mentioned there was a nexus being brought in, I think it has docker-registry capabilities baked in","ts":"1481908442.000666"},{"type":"message","user":"U0KM61BCP","text":"that we bump as we establish stability","ts":"1481908444.000667"},{"type":"message","user":"U0KPFAZNF","text":"yeah, as in $build-no as opposed to $release","ts":"1481908465.000668"},{"type":"message","user":"U0KM61BCP","text":"yes","ts":"1481908470.000669"},{"type":"message","user":"U0KPFAZNF","text":"yes, would also be good to try to optimize the pipeline","ts":"1481908486.000670"},{"type":"message","user":"U0KPFAZNF","text":"build once, then verify -&gt; release or whatever","ts":"1481908505.000671"},{"type":"message","user":"U0KPFAZNF","text":"instead of build over and over again","ts":"1481908510.000672"},{"type":"message","user":"U0KM61BCP","text":"we definitely need to do this, also for more long running tests etc which we probably don't want to saddle with a build as well","ts":"1481908511.000673"},{"type":"message","user":"U0KPFAZNF","text":"right","ts":"1481908517.000674"},{"type":"message","user":"U0KPFAZNF","text":"especially if we want to split the tests up (which we should","ts":"1481908540.000675"},{"type":"message","user":"U0KM61BCP","text":"so, <@U0UHG4VP1> where do we stand with the nexus server?","ts":"1481908544.000676"},{"type":"message","user":"U0KM61BCP","text":"agreed","ts":"1481908550.000677"},{"type":"message","user":"U0KPFAZNF","text":"quick checks -&gt; heavier checks","ts":"1481908552.000678"},{"type":"message","user":"U0KM61BCP","text":"and I do think that will come soon - split smoke and full passes","ts":"1481908563.000679"},{"type":"message","user":"U0KPFAZNF","text":"would love to get the unit-test under 5 minutes","ts":"1481908568.000680"},{"type":"message","user":"U0KM61BCP","text":"I'd be happy with 15","ts":"1481908586.000681"},{"type":"message","user":"U0KPFAZNF","text":"that probably means moving the current chaincode tests out of \"unit\" and into \"acceptance\"","ts":"1481908586.000682"},{"type":"message","user":"U0KPFAZNF","text":"anyway, fully on board with this","ts":"1481908603.000683"},{"type":"message","user":"U0KPFAZNF","text":"but I have to run","ts":"1481908605.000684"},{"type":"message","user":"U0KPFAZNF","text":"chat more later","ts":"1481908609.000685"},{"type":"message","user":"U0KM61BCP","text":"yep","ts":"1481908618.000686"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF>: <@U0KM61BCP> the nexus server exists - <http:\/\/nexus.hyperledger.org|nexus.hyperledger.org> - but it isn't configured. I will make that the highest priority starting on Monday.","edited":{"user":"U0UHG4VP1","ts":"1481910352.000000"},"ts":"1481909575.000687","reactions":[{"name":"+1","users":["U0YK3KKCY"],"count":1}]},{"type":"message","user":"U0KM61BCP","text":"awesome, thanks","ts":"1481913912.000689"},{"type":"message","user":"U0YQK8WSV","text":"Hi","ts":"1481928311.000690"},{"type":"message","user":"U0YQK8WSV","text":"Ry.. I submitted patch 3349 yesterday..Please merge it when you get a chance so that CI for fabric-sdk-java is setup.","ts":"1481928391.000691"},{"type":"message","user":"U0UHG4VP1","text":"<@U0YQK8WSV> please squash 3349 into 3341 (`git rebase -i` will be the command you use, probably `git rebase -i origin\/master`) and use squash to make it one commit","ts":"1481932958.000692"},{"type":"message","user":"U0UHG4VP1","text":"<@U0YQK8WSV> forget it, I did it, please take a look at <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3341\/>","ts":"1481933124.000693"},{"type":"message","user":"U0UHG4VP1","text":"<@U0YQK8WSV> <https:\/\/jenkins.hyperledger.org\/label\/hyp-fabric-sdk-java-x86_64\/>","ts":"1481934191.000694"},{"type":"message","user":"U0YQK8WSV","text":"<@U0UHG4VP1> thank you","ts":"1481934247.000695"},{"type":"message","user":"U0UHG4VP1","text":"pvishnum it looks like I will need to make some changes to the builders to pick up dependencies for you","ts":"1481934350.000696"},{"type":"message","user":"U0YQK8WSV","text":"Ok","ts":"1481934380.000697"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-sdk-java-verify-x86_64\/2\/console>","ts":"1481934386.000698"},{"type":"message","user":"U0UHG4VP1","text":"pvishnum it looks like the job to test master branch didn't work, so you'll need another patch to fix up your build script","ts":"1481934495.000699"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3FAL5U2C\/-.txt|Untitled>","file":{"id":"F3FAL5U2C","created":1481934526,"timestamp":1481934526,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":176,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3FAL5U2C\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3FAL5U2C\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3FAL5U2C\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3FAL5U2C-8fa22f0649","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3FAL5U2C\/-.txt\/edit","preview":"16:27:22   testGenerateDirectoryHash(org.hyperledger.fabric.sdk.SDKUtilTest): The chaincode path \"\/src\/github.com\/hyperledger\/fabric\/examples\/chaincode\/java\/Example\" is invalid","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>16:27:22   testGenerateDirectoryHash(org.hyperledger.fabric.sdk.SDKUtilTest): The chaincode path &quot;\/src\/github.com\/hyperledger\/fabric\/examples\/chaincode\/java\/Example&quot; is invalid<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":1,"lines_more":0,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1481934527.000700"},{"type":"message","user":"U0YQK8WSV","text":"Ok. I will check the build failure ","ts":"1481934532.000701"},{"type":"message","user":"U0ZJZBJLF","text":"busybox is dead :confused:","ts":"1481994737.000702"},{"type":"message","user":"U0UHG4VP1","text":"yacovm: the project?","ts":"1482000823.000703"},{"type":"message","user":"U0ZJZBJLF","text":"all my builds failed because io timed out on busybox","ts":"1482000859.000704"},{"type":"message","user":"U0ZJZBJLF","text":"and I can't surf there","ts":"1482000870.000705"},{"type":"message","user":"U0UHG4VP1","text":"huh. yup.","ts":"1482000881.000706"},{"type":"message","user":"U0UHG4VP1","text":"I wonder if they're hosted at OSU. We're experiencing an outage due to a power failure there.","ts":"1482001271.000707"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/twitter.com\/osuosl\/status\/810164619725578240?lang=en>","attachments":[{"fallback":"<https:\/\/twitter.com\/osuosl|@osuosl>: We seem to be having a major outage event in our primary data center. Will update once we know more. -- <https:\/\/twitter.com\/ramereth|@ramereth>","ts":1481993272,"author_name":"Open Source Lab","author_link":"https:\/\/twitter.com\/osuosl\/status\/810164619725578240","author_icon":"https:\/\/pbs.twimg.com\/profile_images\/433691120329957376\/3RFWq3oK_normal.png","author_subname":"@osuosl","text":"We seem to be having a major outage event in our primary data center. Will update once we know more. -- <https:\/\/twitter.com\/ramereth|@ramereth>","service_name":"twitter","service_url":"https:\/\/twitter.com\/","from_url":"https:\/\/twitter.com\/osuosl\/status\/810164619725578240?lang=en","id":1,"footer":"Twitter","footer_icon":"https:\/\/a.slack-edge.com\/6e067\/img\/services\/twitter_pixel_snapped_32.png"}],"ts":"1482001328.000708"},{"type":"message","user":"U0ZJZBJLF","text":"Same effect for us as if <http:\/\/github.com|github.com> or dockerhub is down","ts":"1482001331.000710"},{"type":"message","user":"U0ZJZBJLF","text":"thanks.","ts":"1482001347.000711"},{"type":"message","user":"U0ZJZBJLF","text":"but look at them at the twitter page","ts":"1482001359.000712"},{"type":"message","user":"U0ZJZBJLF","text":"their service is down and they're still laughing... very funny","ts":"1482001373.000713"},{"type":"message","user":"U0UHG4VP1","text":"yacovm most of your builds passed this time.","ts":"1482006629.000714"},{"type":"message","user":"U0ZJZBJLF","text":"Oh, great! thanks a lot for the restarts. that one that didn't pass is expected, it's a WIP, not everything compiles yet and it's ok.","ts":"1482006662.000715"},{"type":"message","user":"U0ZJZBJLF","text":"however I rebased all of them, they were \"orange\"","ts":"1482006722.000716","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0UHG4VP1","text":"If I understand correctly the power outage isn't solved, it's just temporarily fixed","ts":"1482007631.000717"},{"type":"message","user":"U0ZJZBJLF","text":"So they said in their twitter, but my jobs already reached the unit tests, they can shut down the power now and bring it up in the morning :sunglasses:","ts":"1482007811.000718"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF> I'd like us to add a check for potential SQL injection in CI for our various projects","ts":"1482072826.000719"},{"text":"head explodes","type":"message","subtype":"me_message","user":"U0KPFAZNF","ts":"1482072845.000720","reactions":[{"name":"smiley","users":["U0YK3KKCY"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1482072851.000721"},{"type":"message","user":"U0KM61BCP","text":"I created <https:\/\/jira.hyperledger.org\/browse\/FAB-1446> to track. I checked fabric and it comes up clean","ts":"1482072855.000722"},{"type":"message","user":"U0KPFAZNF","text":"sounds reasonable to me, though I have no idea on where that would go","ts":"1482072861.000723"},{"type":"message","user":"U0KM61BCP","text":"but would be good add generally","ts":"1482072868.000724"},{"type":"message","user":"U0KPFAZNF","text":"agreed, thx","ts":"1482072874.000725"},{"type":"message","user":"U0KM61BCP","text":"therefore we need to add it into the build of our base image for CI yes?","ts":"1482072888.000726"},{"type":"message","user":"U0KM61BCP","text":"it being safesql","ts":"1482072895.000727"},{"type":"message","user":"U0KPFAZNF","text":"im not clear of the threat\/fix, but if you think it should I trust you","edited":{"user":"U0KPFAZNF","ts":"1482072918.000000"},"ts":"1482072910.000728"},{"type":"message","user":"U0KPFAZNF","text":"I mean, I understand what SQL injection is in general, just not sure what the concern is in this context","ts":"1482072936.000730"},{"type":"message","user":"U0KM61BCP","text":"well, we talked in TSC about getting the CII best practices badge","ts":"1482072938.000731"},{"type":"message","user":"U0KM61BCP","text":"which strongly recommends that we add in static analysis scanning of the likes of this","ts":"1482072962.000732"},{"type":"message","user":"U0KM61BCP","text":"so this is in response to that","ts":"1482072978.000733"},{"type":"message","user":"U0KPFAZNF","text":"is this a check of the code itself, or in the ci processes?","ts":"1482072992.000734"},{"type":"message","user":"U0KM61BCP","text":"I'm looking for other tools we might use by examining other projects that do static analysis","ts":"1482073011.000735"},{"type":"message","user":"U0KM61BCP","text":"of the code","ts":"1482073017.000736"},{"type":"message","user":"U0KPFAZNF","text":"e.g. is the concern that the code could be susceptible to sql injection and this is another \"make checks\" to look for it?","ts":"1482073019.000737"},{"type":"message","user":"U0KPFAZNF","text":"or are we worried about someone attacking jenkins itself","ts":"1482073028.000738"},{"type":"message","user":"U0KM61BCP","text":"could be added to linters yes","ts":"1482073043.000739"},{"type":"message","user":"U0KPFAZNF","text":"ok, makes sense","ts":"1482073067.000740"},{"type":"message","user":"U0KM61BCP","text":"no, this is just catching potential paths for someone to do sql injection attack on the system","ts":"1482073084.000741"},{"type":"message","user":"U0KM61BCP","text":"<https:\/\/github.com\/stripe\/safesql>","attachments":[{"service_name":"GitHub","title":"stripe\/safesql","title_link":"https:\/\/github.com\/stripe\/safesql","text":"safesql - Static analysis tool for Golang that protects against SQL injections","fallback":"GitHub: stripe\/safesql","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/856813?v=3&s=400","from_url":"https:\/\/github.com\/stripe\/safesql","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1482073097.000742"},{"type":"message","user":"U0KPFAZNF","text":"this may be a silly question: but would this only be a concern if we actually used sql?","ts":"1482073140.000744"},{"type":"message","user":"U0KM61BCP","text":"we do","ts":"1482073149.000745"},{"type":"message","user":"U0KPFAZNF","text":"to my knowledge, we dont","ts":"1482073150.000746"},{"type":"message","user":"U0KPFAZNF","text":"oh!","ts":"1482073153.000747"},{"type":"message","user":"U0KPFAZNF","text":"i didnt realize","ts":"1482073156.000748"},{"type":"message","user":"U0KM61BCP","text":":wink:","ts":"1482073167.000749"},{"type":"message","user":"U0ZJZBJLF","text":"Where do we use SQL?","ts":"1482073171.000750"},{"type":"message","user":"U0KM61BCP","text":"membersrvcs did","ts":"1482073185.000751"},{"type":"message","user":"U0ZJZBJLF","text":"oh right","ts":"1482073191.000752"},{"type":"message","user":"U0KM61BCP","text":"I believe fabric cop","ts":"1482073193.000753"},{"type":"message","user":"U0ZJZBJLF","text":"I remember these empty result set errors","ts":"1482073200.000754"},{"type":"message","user":"U0ZJZBJLF","text":"people always complained about","ts":"1482073207.000755"},{"type":"message","user":"U0KM61BCP","text":"fabric does use the database\/sql package","ts":"1482073208.000756"},{"type":"message","user":"U0ZJZBJLF","text":"yep fabric-cop does","ts":"1482073320.000757"},{"type":"message","user":"U0KPFAZNF","text":"this all seems reasonable to me","ts":"1482073346.000758"},{"type":"message","user":"U0KM61BCP","text":"hmmm... this may be more challenging than I had thought... exposes errors in dependencies","ts":"1482073550.000759"},{"type":"message","subtype":"file_share","text":"<@U0KM61BCP|cbf> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/cbf\/F3G8J9A6N\/-.txt|Untitled>","file":{"id":"F3G8J9A6N","created":1482074186,"timestamp":1482074186,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0KM61BCP","editable":true,"size":6623,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3G8J9A6N\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3G8J9A6N\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/cbf\/F3G8J9A6N\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3G8J9A6N-2f1100f9df","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/cbf\/F3G8J9A6N\/-.txt\/edit","preview":"cbf$ safesql github.com\/hyperledger\/fabric-cop\/cli\/\r\n\/Users\/cbf\/dev\/gocode\/src\/github.com\/hyperledger\/fabric-cop\/vendor\/github.com\/cloudflare\/cfssl\/scan\/tls_handshake.go:68:101: SignatureAndHash not declared by package tls\r\n\/Users\/cbf\/dev\/gocode\/src\/github.com\/hyperledger\/fabric-cop\/vendor\/github.com\/cloudflare\/cfssl\/scan\/tls_handshake.go:295:7: CipherSuites not declared by package tls\r\n\/Users\/cbf\/dev\/gocode\/src\/github.com\/hyperledger\/fabric-cop\/vendor\/github.com\/cloudflare\/cfssl\/scan\/tls_handshake.go:328:25: SignatureAndHash not declared by package tls\r\n\/Users\/cbf\/dev\/gocode\/src\/github.com\/hyperledger\/fabric-cop\/vendor\/github.com\/cloudflare\/cfssl\/scan\/tls_handshake.go:329:25: AllSignatureAndHashAlgorithms not declared by package tls\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>cbf$ safesql github.com\/hyperledger\/fabric-cop\/cli\/<\/pre><\/div>\n<div><pre>\/Users\/cbf\/dev\/gocode\/src\/github.com\/hyperledger\/fabric-cop\/vendor\/github.com\/cloudflare\/cfssl\/scan\/tls_handshake.go:68:101: SignatureAndHash not declared by package tls<\/pre><\/div>\n<div><pre>\/Users\/cbf\/dev\/gocode\/src\/github.com\/hyperledger\/fabric-cop\/vendor\/github.com\/cloudflare\/cfssl\/scan\/tls_handshake.go:295:7: CipherSuites not declared by package tls<\/pre><\/div>\n<div><pre>\/Users\/cbf\/dev\/gocode\/src\/github.com\/hyperledger\/fabric-cop\/vendor\/github.com\/cloudflare\/cfssl\/scan\/tls_handshake.go:328:25: SignatureAndHash not declared by package tls<\/pre><\/div>\n<div><pre>\/Users\/cbf\/dev\/gocode\/src\/github.com\/hyperledger\/fabric-cop\/vendor\/github.com\/cloudflare\/cfssl\/scan\/tls_handshake.go:329:25: AllSignatureAndHashAlgorithms not declared by package tls<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":41,"lines_more":36,"preview_is_truncated":true,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0KM61BCP","upload":true,"display_as_bot":false,"username":"<@U0KM61BCP|cbf>","bot_id":null,"ts":"1482074186.000760"},{"type":"message","user":"U0UHG4VP1","text":"<@U11HH3P7Y> please make the updates requested to <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3413\/> and I will merge","ts":"1482189331.000761"},{"type":"message","user":"U1AU8DRQR","text":"could somebody tell me where I can find the line that runs go unit tests on CI machines?","ts":"1482225794.000762"},{"type":"message","user":"U1AU8DRQR","text":"founnd","ts":"1482226204.000763"},{"type":"message","user":"U1HFNJB50","text":"I'm trying to run `make peer-docker`, while getting following error: ```ake: *** No rule to make target 'build\/docker\/bin\/peer', needed by 'build\/image\/peer\/payload'.  Stop.\n```\nIs there anyone who seen this before?","ts":"1482248847.000764"},{"type":"message","user":"U0KPFAZNF","text":"<@U1HFNJB50> I've not seen that per se, but I wrote the Makefile so perhaps I can help","ts":"1482251046.000765"},{"type":"message","user":"U0KPFAZNF","text":"give me some context","ts":"1482251065.000766"},{"type":"message","user":"U0KPFAZNF","text":"are you running this in vagrant? can you send me the output of \"tree .\/build\"","ts":"1482251094.000767"},{"type":"message","user":"U0KPFAZNF","text":"(you may need to install \"tree\")","ts":"1482251106.000768"},{"type":"message","user":"U0KPFAZNF","text":"in devenv: sudo apt-get install tree","ts":"1482251124.000769"},{"type":"message","user":"U0KPFAZNF","text":"in osx: brew install tree","ts":"1482251129.000770"},{"type":"message","user":"U0KPFAZNF","text":"other: you are on your own :wink:","ts":"1482251136.000771"},{"type":"message","user":"U1HFNJB50","text":"I've rebased master w\/ recent changes","ts":"1482251144.000772"},{"type":"message","user":"U1HFNJB50","text":"and seems like the problem is gone for now","ts":"1482251151.000773"},{"type":"message","user":"U1HFNJB50","text":"verifying","ts":"1482251156.000774"},{"type":"message","user":"U0KPFAZNF","text":"ok, certainly weird","ts":"1482251167.000775"},{"type":"message","user":"U1HFNJB50","text":"yeah, struggled with for 30 mins","ts":"1482251196.000776"},{"type":"message","user":"U1HFNJB50","text":"until decied to get master updated :slightly_smiling_face:","ts":"1482251206.000777"},{"type":"message","user":"U0KPFAZNF","text":"do you have Makefile changes locally?","ts":"1482251206.000778"},{"type":"message","user":"U1HFNJB50","text":"nope","ts":"1482251210.000779"},{"type":"message","user":"U0KPFAZNF","text":"weird","ts":"1482251213.000780"},{"type":"message","user":"U1HFNJB50","text":"indeed","ts":"1482251222.000781"},{"type":"message","user":"U0KPFAZNF","text":"not sure what would cause that: I havent made any changes recently","ts":"1482251225.000782"},{"type":"message","user":"U0KPFAZNF","text":"Make can sometimes be funny with wildcard rules (of which, build\/docker\/bin\/% is one)","ts":"1482251254.000783"},{"type":"message","user":"U0KPFAZNF","text":"so if someone made a well intentioned mod to the Makefile, it can sometimes inadvertently break wildcards in unexpected ways","edited":{"user":"U0KPFAZNF","ts":"1482251295.000000"},"ts":"1482251270.000784"},{"type":"message","user":"U0KPFAZNF","text":"thats the only thing I can think of","ts":"1482251274.000785"},{"type":"message","user":"U0KPFAZNF","text":"if it happens again, dont make any changes and ping me","ts":"1482251324.000787"},{"type":"message","user":"U0KPFAZNF","text":"we can run \"make -d\" etc to try to see whats happening","ts":"1482251334.000788"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> Nexus 2.x doesn't function as a dockerhub write through cache. Nexus 3.0 will, but we aren't rolling 3.x out because (a) the pro version isn't out yet (b) it lost some features we use. However. I've set up the permission groups for fabric and fabric-baseimage and I'm looking at how other projects we support use nexus","ts":"1482251460.000789"},{"type":"message","user":"U0UHG4VP1","text":"that doesn't mean we can't push docker artifacts to nexus, it just doesn't have the write through cache we were discussing","ts":"1482251488.000790"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: ok, we have a few options","ts":"1482251494.000791"},{"type":"message","user":"U1HFNJB50","text":"<@U0KPFAZNF> sure, I'm going to re-iterate everything once again to see whenever it re-occurs again","ts":"1482251500.000792"},{"type":"message","user":"U0KPFAZNF","text":"<@U1HFNJB50> ok, cool, ty","ts":"1482251509.000793"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> hit me","ts":"1482251517.000794"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: can you clarify what the write-through option means in this context?","ts":"1482251530.000795"},{"type":"message","user":"U0KPFAZNF","text":"does that mean it can transparently push to dockerhub too?","ts":"1482251548.000796"},{"type":"message","user":"U0UHG4VP1","text":"instead of publishing directly to dockerhub, my understanding was... yes. we would publish to nexus which would then publish to dockerhub.","ts":"1482251567.000797"},{"type":"message","user":"U0KPFAZNF","text":"im not sure we actually need or even want that","ts":"1482251567.000798"},{"type":"message","user":"U0KPFAZNF","text":"im thinking in this context, we primarily care about an intermediate\/local repo, so 2.x may be sufficient","ts":"1482251590.000799"},{"type":"message","user":"U0UHG4VP1","text":"and if there is a better project other than fabric or fabric-baseimage to start on, let me know.","ts":"1482251625.000800"},{"type":"message","user":"U0KPFAZNF","text":"it might be interesting to make the final -release stage take advantage of a write-through cache, but I see that as more of an optimization than a functional requirement","ts":"1482251625.000801"},{"type":"message","user":"U0UHG4VP1","text":"ok","ts":"1482251631.000802"},{"type":"message","user":"U0KPFAZNF","text":"what would be awesome is introducing a local repo so that we can pipeline build -&gt; ut -&gt; at -&gt; release without rebuilding everything","ts":"1482251673.000803"},{"type":"message","user":"U0KPFAZNF","text":"it sounds like nexus 2.x would fit those requirements as it is","ts":"1482251693.000804"},{"type":"message","user":"U0UHG4VP1","text":"OK. does that imply the earlier discussion of breaking the build into _n_ steps?","ts":"1482251743.000805"},{"type":"message","user":"U0KPFAZNF","text":"well, I see that as the end-game, but we dont need it broken up to take advantage here","ts":"1482251762.000806"},{"type":"message","user":"U0KPFAZNF","text":"it could just be build -&gt; [test the world] -&gt; release","ts":"1482251773.000807"},{"type":"message","user":"U0KPFAZNF","text":"where [test-the-world] is like our current -verify stage","ts":"1482251787.000808"},{"type":"message","user":"U0UHG4VP1","text":"OK, and release is the -merge job or similar","ts":"1482251812.000809"},{"type":"message","user":"U0KPFAZNF","text":"actually, baby step would be build -&gt; [test-the-world]","ts":"1482251815.000810"},{"type":"message","user":"U0KPFAZNF","text":"(since we dont do automated releases yet","ts":"1482251824.000811"},{"type":"message","user":"U0KPFAZNF","text":"right","ts":"1482251832.000812"},{"type":"message","user":"U0KPFAZNF","text":"so build -&gt; [-verify] and build -&gt; [-merge] as a first step","ts":"1482251848.000813"},{"text":"should have said _write back_ cache","type":"message","subtype":"me_message","user":"U0UHG4VP1","ts":"1482251888.000814"},{"type":"message","user":"U0KPFAZNF","text":"and then perhaps build -&gt; [-verify-ut] -&gt; [-verify-at] and build -&gt; [-merge-ut] -&gt; [-merge-at] -&gt; [-release]","ts":"1482251897.000815"},{"type":"message","user":"U0KPFAZNF","text":"as a longer term plan","ts":"1482251903.000816"},{"type":"message","user":"U0KPFAZNF","text":"obviously only the \"-merge\" class pipeline should result in something releasing","ts":"1482251934.000817"},{"type":"message","user":"U0UHG4VP1","text":"so the merge job would not consume the artifacts of the first build step, but a new one, which makes sense since we seem to collect build breaks with merges right now","ts":"1482251962.000818"},{"type":"message","user":"U0KPFAZNF","text":"I have a feeling that the -at class stage would be some number of parallel jobs","ts":"1482251969.000819"},{"type":"message","user":"U0KPFAZNF","text":"exactly, that is my thought","ts":"1482251980.000820"},{"type":"message","user":"U0KPFAZNF","text":"the main point would be to front-end the pipeline with a artifact submitted to nexus rather than rebuilding each stage","ts":"1482252006.000821"},{"type":"message","user":"U0UHG4VP1","text":"when you say pipeline, do you literally mean the Jenkins pipeline feature?","ts":"1482252033.000822"},{"type":"message","user":"U0UHG4VP1","text":"which I'm fine with, I've just never used it and have no experience with it","ts":"1482252049.000823"},{"type":"message","user":"U0KPFAZNF","text":"but I think for the time being, it makes sense to consider the -verify and -merge pipelines orthogonal","ts":"1482252051.000824"},{"type":"message","user":"U0KPFAZNF","text":"well, im speaking generally as in \"pipeline\"  = jenkins processing","ts":"1482252070.000825","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"but I do envision it would look close to jenkins pipeline plugin, if not literally","edited":{"user":"U0KPFAZNF","ts":"1482252136.000000"},"ts":"1482252081.000826"},{"type":"message","user":"U0UHG4VP1","text":"which project are we focusing on? fabric, fabric-baseimage, or something else?","ts":"1482252136.000828"},{"type":"message","user":"U0KPFAZNF","text":"I guess this makes sense to consider it fabric-*, at least IMO","ts":"1482252163.000829"},{"type":"message","user":"U0UHG4VP1","text":"I just want to make sure I understand everything before I start spelunking.","ts":"1482252166.000830"},{"type":"message","user":"U0KPFAZNF","text":"but obviously we should focus in one place and then carry over lessons learned","ts":"1482252178.000831"},{"type":"message","user":"U0UHG4VP1","text":"Do you have experience with Nexus? that would be helpful","ts":"1482252201.000832"},{"type":"message","user":"U0KPFAZNF","text":"it could even be a synthetic process","ts":"1482252210.000833"},{"type":"message","user":"U0KPFAZNF","text":"yes, but only from a maven repo perspective, not docker","ts":"1482252225.000834"},{"type":"message","user":"U0UHG4VP1","text":"I suspect we end up using mvn at the bottom","ts":"1482252255.000835"},{"type":"message","user":"U0KPFAZNF","text":"ive administered nexus repos in the past for my teams for maven coordinates","ts":"1482252257.000836"},{"type":"message","user":"U0KPFAZNF","text":"I also have a little bit of experience with raw docker-registry admin, but again, not tied to nexus","ts":"1482252319.000837"},{"type":"message","user":"U0UHG4VP1","text":"some of these jobs are going to be my model, I don't know which ones yet: <https:\/\/jenkins.open-o.org\/view\/Merge-Jobs\/>","ts":"1482252321.000838"},{"type":"message","user":"U0UHG4VP1","text":"I asked, and open-o has the cleanest nexus implementation of our CPs (community projects) right now","ts":"1482252353.000839"},{"type":"message","user":"U0KPFAZNF","text":"cool, ill check it out","ts":"1482252376.000840"},{"type":"message","user":"U0UHG4VP1","text":"it looks like they have the unauthenticated \"view configuration\" button, which is good. they also have the ci repo public","ts":"1482252420.000841"},{"type":"message","user":"U0KPFAZNF","text":"but to your comment about mvn at the bottom, yes, this has been one of my thoughts too","ts":"1482252424.000842"},{"type":"message","user":"U0KPFAZNF","text":"I know you can basically submit any file as a maven coordinate","ts":"1482252438.000843"},{"type":"message","user":"U0KPFAZNF","text":"so it doesnt have to be \"docker push\" based, per se","ts":"1482252446.000844"},{"type":"message","user":"U0UHG4VP1","text":"that's what I suspect.","ts":"1482252457.000845"},{"type":"message","user":"U0KPFAZNF","text":"not sure what would be the best design yet, we will have to play","ts":"1482252467.000846"},{"type":"message","user":"U0KPFAZNF","text":"I think the main requirements will be a) having an intermediate repo to hold build artifacts, whatever they may be, b) having those artifacts be addressable in a context specific way, c) having a decent expiration policy in place so we dont crush the repo with cruft over time","ts":"1482252528.000847"},{"type":"message","user":"U0KPFAZNF","text":"I suspect (a) and (b) are well handled with nexus because, they are well handled in maven\/docker in general","ts":"1482252565.000848"},{"type":"message","user":"U0UHG4VP1","text":"that seems reasonable. esp with vagrant artifacts being so huge","ts":"1482252576.000849"},{"type":"message","user":"U0KPFAZNF","text":"(c) will be interesting to see if the nexus and\/or jenkins folks have a good story there","ts":"1482252579.000850"},{"type":"message","user":"U0UHG4VP1","text":"I know (c) has been a battle elsewhere","ts":"1482252607.000851"},{"type":"message","user":"U0KPFAZNF","text":"yeah, its one of the reasons I was hesitant to push every build to dockerhub","ts":"1482252624.000852"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1482252625.000853"},{"type":"message","user":"U0KPFAZNF","text":"1.4G-&gt; 1.4G-&gt; 1.4G-&gt; 1.4G-&gt; 1.4G-&gt; 1.4G-&gt; 1.4G-&gt; 1.4G-&gt; 1.4G'","ts":"1482252648.000854"},{"type":"message","user":"U0KPFAZNF","text":"how long until they get PO'd","ts":"1482252655.000855"},{"type":"message","user":"U0KPFAZNF","text":":wink:","ts":"1482252656.000856","reactions":[{"name":"woo","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0UHG4VP1","text":"I have been [awaiting, dreading] the call from dockerhub\/vagrant\/npm\/redhat where they cut us off for directly using them for CI.","edited":{"user":"U0UHG4VP1","ts":"1482252726.000000"},"ts":"1482252703.000857"},{"type":"message","user":"U0KPFAZNF","text":"the neat thing about the expiration policy is I think its more or less tied to the pipeline","ts":"1482252709.000858"},{"type":"message","user":"U0KPFAZNF","text":"e.g. the demarcation point for where the artifact is useful is tied 1:1 with pipeline completion","ts":"1482252742.000860"},{"type":"message","user":"U0KPFAZNF","text":"it either gets released or it doesnt","ts":"1482252752.000861"},{"type":"message","user":"U0KPFAZNF","text":"we can probably exploit that to make a reasonable policy","ts":"1482252771.000862"},{"type":"message","user":"U0UHG4VP1","text":"sure. we just need to come to consensus as to what reasonable is","ts":"1482252812.000863"},{"type":"message","user":"U0UHG4VP1","text":"I think you might keep some artifacts for failed passes around until unit tests are no longer flaky","ts":"1482252865.000864"},{"type":"message","user":"U0KPFAZNF","text":"right, that makes sense to me","ts":"1482253071.000865"},{"type":"message","user":"U0KPFAZNF","text":"so, the pipeline completion is one gate","ts":"1482253081.000866"},{"type":"message","user":"U0KPFAZNF","text":"some other policy, like 24hrs expiring could be the second","ts":"1482253094.000867"},{"type":"message","user":"U0UHG4VP1","text":"sure.","ts":"1482253144.000868"},{"type":"message","user":"U0KPFAZNF","text":"im sure it could even be more liberal than that and not be too onerous on the LF infra","ts":"1482253148.000869"},{"type":"message","user":"U0KPFAZNF","text":"1 wk? who knows","ts":"1482253157.000870"},{"type":"message","user":"U0UHG4VP1","text":"Looking at <https:\/\/jenkins.open-o.org\/view\/Merge-Jobs\/job\/ci-management-merge-packer-ubuntu-16.04-basebuild\/configure> for example, there is a huge script at the end to archive the log files but the meat of the job appears to be at the end: `clean deploy -V -B -q -Dmaven.repo.local=\/tmp\/r`","ts":"1482253216.000871"},{"type":"message","user":"U0UHG4VP1","text":"I'll outline a process other projects use, which we can shoot for someday: there are no manual merges. You really just tell Jenkins a change is a candidate for merge, and it does a rebase\/rebuild\/merge\/publish loop. this does two nice things: no more broken merges and your commit log doesn't have 40 merge commits in a row","ts":"1482253368.000872"},{"type":"message","user":"U0UHG4VP1","text":"s\/Jenkins\/gerrit","ts":"1482253381.000873"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> <@U0KPFAZNF> initially, we need to enable integration testing between the various components (fabric-cop, fabric-sdk-* and fabric) and hence we need the sub-projects to build and save their images locally in nexus... then we can establish a means of pegging integration testing to a specific stable build of the dependencies","ts":"1482255139.000874"},{"type":"message","user":"U0KM61BCP","text":"I agree with Greg, don't think we need the write-through","ts":"1482255167.000875"},{"type":"message","user":"U0UHG4VP1","text":"if I understand correctly, the dep graph is something like (-sdk-*) -&gt; cop -&gt; fabric","ts":"1482255285.000876"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> I hadnt thought of integration, this makes sense","ts":"1482255291.000877"},{"type":"message","user":"U0UHG4VP1","text":"and the -sdk- don't inter-depend, they're atomic. do I have that correct?","edited":{"user":"U0UHG4VP1","ts":"1482255340.000000"},"ts":"1482255304.000878"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF> if you wouldn't mind - I have added docker build to fabric-cop <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3423\/>","ts":"1482255415.000880"},{"type":"message","user":"U0KM61BCP","text":"could you please give that an eyeball to be sure I didn't mess anything up? thanks!","ts":"1482255429.000881"},{"type":"message","user":"U0YQK8WSV","text":"<@U0UHG4VP1> yes.. no dependencies between sdks ","ts":"1482255629.000882"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> sure thing","ts":"1482255779.000883"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3H7R1UMS\/not_an_error_i_would_expect.txt|not an error I would expect>","file":{"id":"F3H7R1UMS","created":1482256072,"timestamp":1482256072,"name":"not_an_error_I_would_expect.txt","title":"not an error I would expect","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":134,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3H7R1UMS\/not_an_error_i_would_expect.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3H7R1UMS\/download\/not_an_error_i_would_expect.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3H7R1UMS\/not_an_error_i_would_expect.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3H7R1UMS-1f87ed807a","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3H7R1UMS\/not_an_error_i_would_expect.txt\/edit","preview":"09:40:53 Step 2 : RUN mkdir -p \/etc\/hyperledger\/fabric-cop\r\n09:40:53  ---> Running in 1829ff309f1e\r\n09:40:54 \/bin\/sh: mkdir: not found","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>09:40:53 Step 2 : RUN mkdir -p \/etc\/hyperledger\/fabric-cop<\/pre><\/div>\n<div><pre>09:40:53  ---&gt; Running in 1829ff309f1e<\/pre><\/div>\n<div><pre>09:40:54 \/bin\/sh: mkdir: not found<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":3,"lines_more":0,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1482256073.000884"},{"type":"message","user":"U0KM61BCP","text":"hmmm","ts":"1482256155.000885"},{"type":"message","user":"U0KM61BCP","text":"I am not seeing that... <@U0KPFAZNF> are you?","ts":"1482256240.000886"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> ill look in a bit","ts":"1482256314.000887"},{"type":"message","user":"U0KM61BCP","text":"very bizarre that CI failed","ts":"1482256331.000888"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: btw, that error is quite possible in a busybox\/scratch environment","ts":"1482256368.000889"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins of course.","ts":"1482256387.000890"},{"type":"message","user":"U0KPFAZNF","text":"ok, i wasnt sure if the busybox thing was understood based on your comment","ts":"1482256406.000891"},{"type":"message","user":"U0UHG4VP1","text":"it wasn't.","ts":"1482256420.000892"},{"type":"message","user":"U0KPFAZNF","text":"ill fire up the build myself in a bit","ts":"1482256426.000893"},{"type":"message","user":"U0UHG4VP1","text":"I'd forgotten about busybox","ts":"1482256445.000894"},{"type":"message","user":"U0KM61BCP","text":"?","ts":"1482257273.000895"},{"type":"message","user":"U0KM61BCP","text":"have I neglected to alert CI?","ts":"1482257302.000896"},{"type":"message","user":"U0KM61BCP","text":"it builds locally","ts":"1482257316.000897"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF> does it build for you locally? <@U0UHG4VP1> any idea what would be different in CI that it would fail like this?","ts":"1482263230.000898"},{"type":"message","user":"U0KPFAZNF","text":"Sorry <@U0KM61BCP> still haven't had a chance to try.  I will when I return to my desk","ts":"1482264390.000899"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP> fabric-cop ci is still running on the older vagrant images, which is probably the issue","ts":"1482264524.000900"},{"type":"message","user":"U0UHG4VP1","text":"I just bumped it to use the current image fabric uses, let's see if that works","ts":"1482264683.000901"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins it looks like the current ci image doesn't have go installed. this works for fabric but not for fabric-cop. is this something that should change in the build process or the minion image?","ts":"1482264973.000902"},{"type":"message","user":"U0UHG4VP1","text":"hmm, that can't be right, packer installs it in \/opt\/go","ts":"1482265455.000903"},{"type":"message","user":"U0KPFAZNF","text":"yeah, that doesnt sound right","ts":"1482265533.000904"},{"type":"message","user":"U0KPFAZNF","text":"the new stuff still needs go v1.6 or higher so that go-list works","ts":"1482265553.000905"},{"type":"message","user":"U0KPFAZNF","text":"we dont compile anything natively, but we do use it to build the dependency data","ts":"1482265579.000906"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> as an aside, ive been thinking we should emit hyperledger\/fabric-busybox from baseimage.git -&gt; dockerhub","ts":"1482265647.000907"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> taking a quick look it lives in `\/opt\/go\/go1.7.linux.amd64`","ts":"1482265661.000908"},{"type":"message","user":"U0KPFAZNF","text":"i have no problem with your CR going in first though","ts":"1482265663.000909"},{"type":"message","user":"U0KM61BCP","text":"I was thinking that too","ts":"1482265673.000910"},{"type":"message","user":"U0KM61BCP","text":"because silly to build it in both","ts":"1482265691.000911"},{"type":"message","user":"U0KPFAZNF","text":"im at my desk now, so ill pull your CR and review it","ts":"1482265692.000912"},{"type":"message","user":"U0KM61BCP","text":"cool thx","ts":"1482265698.000913"},{"type":"message","user":"U0UHG4VP1","text":"cbf: is it OK if I mark fabric-cop as go 1.7?","ts":"1482265728.000914"},{"type":"message","user":"U0UHG4VP1","text":"it's 1.6 rn","ts":"1482265739.000915"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> I think that it *should* be at the same level as fabric... that said, I would think we would want to be sure there were no gotchas","ts":"1482265783.000916"},{"type":"message","user":"U0KM61BCP","text":"I have 1.7.1 and it builds and tests","ts":"1482265829.000917"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP>: here goes <https:\/\/jenkins.hyperledger.org\/view\/fabric-cop\/job\/fabric-cop-verify-x86_64\/192\/>","ts":"1482266335.000918"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> doing local build now","ts":"1482266818.000919"},{"type":"message","user":"U0KPFAZNF","text":"one thing that was confusing me is the bin\/cli stuff","ts":"1482266825.000920"},{"type":"message","user":"U0KPFAZNF","text":"what generates build\/docker\/bin\/cli ?","ts":"1482266902.000921"},{"type":"message","user":"U0KPFAZNF","text":"ok, i think I get it now","ts":"1482266960.000922"},{"type":"message","user":"U0KPFAZNF","text":"go install creates two binaries?","ts":"1482266994.000923"},{"type":"message","user":"U0ZJZBJLF","text":"Hi. <@U0UHG4VP1>  \\ <@U11HH3P7Y>  do you guys know why <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2785\/> is running unit tests although I have (both variations of) [ci-skip] ?","ts":"1482267292.000924"},{"type":"message","user":"U0UHG4VP1","text":"yacovm I don't know why. since it's a WIP why do you care if it skips CI? I will look into the issue after this meeting, though","ts":"1482267653.000925"},{"type":"message","user":"U0ZJZBJLF","text":"it doesn;t","ts":"1482267681.000926"},{"type":"message","user":"U0ZJZBJLF","text":"that's the problem","ts":"1482267689.000927"},{"type":"message","user":"U0ZJZBJLF","text":"and no pressure, only when\/if you have time","ts":"1482267709.000928"},{"type":"message","user":"U0ULK2JPP","text":"seeing the 20m timeout from CI ..twice in <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3307> and once in <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3389>","ts":"1482270025.000929"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019ll try to dig more.. wanted to see if there\u2019s anything known is going around","ts":"1482270103.000930"},{"type":"message","user":"U0ULK2JPP","text":"from what I can tell from the logs, no errors but something is slowing down the system so the tests are slow","ts":"1482270528.000931"},{"type":"message","user":"U0ULK2JPP","text":"I saw one CI went past the problem","ts":"1482271298.000932"},{"type":"message","user":"U0ULK2JPP","text":"so I;m going to try my luck with `reverify` on <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3389>","ts":"1482271326.000933"},{"type":"message","user":"U0UHG4VP1","text":"muralisr I already kicked off a new build 14 minutes ago, so let's see how it goes.","ts":"1482271733.000934"},{"type":"message","user":"U0UHG4VP1","text":"muralisr <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/4338\/>","ts":"1482271756.000935"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF> thanks for the review, I uploaded new changeset","ts":"1482272035.000936"},{"type":"message","user":"U0KM61BCP","text":"do you want to do the fabric-busybox image in baseimage?","ts":"1482272095.000937"},{"type":"message","user":"U0KPFAZNF","text":"cool, looking now","ts":"1482272101.000938"},{"type":"message","user":"U0KPFAZNF","text":"I was thinking sep docker repo","ts":"1482272108.000939"},{"type":"message","user":"U0KPFAZNF","text":"hyperledger\/fabric-busybox:$(ARCH)-1.25.1","ts":"1482272126.000940"},{"type":"message","user":"U0KM61BCP","text":"lots of makefile coming back after years of neglect;-)","ts":"1482272126.000941"},{"type":"message","user":"U0KPFAZNF","text":"something like that","ts":"1482272128.000942"},{"type":"message","user":"U0ULK2JPP","text":"thanks <@U0UHG4VP1> .. looking better already","ts":"1482272130.000943","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"we could tunnel the binary on the baseimage, but that seems hacky","ts":"1482272149.000944"},{"type":"message","user":"U0KM61BCP","text":"yes, definitely sep docker repo, but I was asking where you were planning on adding that","ts":"1482272170.000945"},{"type":"message","user":"U0KPFAZNF","text":"ah, sorry, gotcha...yes baseimage","ts":"1482272194.000946"},{"type":"message","user":"U0KPFAZNF","text":"was thinking adding a new output of baseimage.git -&gt; dockerhub:\/\/..\/fabric-busybox","ts":"1482272224.000947"},{"type":"message","user":"U0KM61BCP","text":"y","ts":"1482272242.000948"},{"type":"message","user":"U0KPFAZNF","text":"I am thinking other projects might be inclined to consume it (fabric, cop, sdk?)","ts":"1482272243.000949"},{"type":"message","user":"U0KM61BCP","text":"yes","ts":"1482272250.000950"},{"type":"message","user":"U0KPFAZNF","text":"e.g. starterkit and whatnot","ts":"1482272254.000951"},{"type":"message","user":"U0UHG4VP1","text":"I redid the dockerhub authentication and permissions to enable iroha, so please let me know if you see any issues right away","ts":"1482272277.000952"},{"type":"message","user":"U0KPFAZNF","text":"thats why I was thinking \"busybox\" and not \"runtime\"","ts":"1482272279.000953"},{"type":"message","user":"U0KPFAZNF","text":"didnt want to make assumptions: just say what it is and each context can consume as appropriate","ts":"1482272299.000954"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>, ok, will do","ts":"1482272314.000955"},{"type":"message","user":"U0KPFAZNF","text":"i saw the shuffling a few weeks ago","ts":"1482272324.000956"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP>: patch looks good, I am fine if we want to commit 3423 now, will just need to update both places once the image is ready","ts":"1482272372.000957"},{"type":"message","user":"U0KM61BCP","text":"yep","ts":"1482272410.000958"},{"type":"message","user":"U0KM61BCP","text":"I am fine either way... I am working on docs and needed this to set up a compose that launches all the bits","ts":"1482272471.000959"},{"type":"message","user":"U0KPFAZNF","text":"ok, i just noticed that we dont even need the baseimage stuff since you took out the testenv","ts":"1482272501.000960"},{"type":"message","user":"U0KM61BCP","text":"given that I am the sole consumer right now, no rush on getting it merged","ts":"1482272507.000961"},{"type":"message","user":"U0KPFAZNF","text":"do you want one more pass to clean up the nit, or just +2 it for now","ts":"1482272513.000962"},{"type":"message","user":"U0KM61BCP","text":"but if you aren't planning the busybox update for a bit, I say we merge now","ts":"1482272522.000963"},{"type":"message","user":"U0KPFAZNF","text":"given the holiday, id say it wont go in in the next 10 business days :wink:","ts":"1482272542.000964"},{"type":"message","user":"U0KPFAZNF","text":"unless I get bored, heh","ts":"1482272553.000965"},{"type":"message","user":"U0KM61BCP","text":"ok, let's merge this and deal with any other cleanup when we incorporate the busybox image","ts":"1482272568.000966"},{"type":"message","user":"U0KM61BCP","text":"unless you found something that should be addressed now","ts":"1482272591.000967"},{"type":"message","user":"U0UHG4VP1","text":"I'm also on holiday next week so you know, don't break anything","ts":"1482272593.000968"},{"type":"message","user":"U0KPFAZNF","text":"nah, its fine the way it is","ts":"1482272605.000969"},{"type":"message","user":"U0KPFAZNF","text":"the BASEIMAGE thing isnt needed, but its probably best to leave it in case testenv gets folded back in","ts":"1482272621.000970"},{"type":"message","user":"U0KPFAZNF","text":"I set a +2","ts":"1482272631.000971"},{"type":"message","user":"U0UHG4VP1","text":"should I delete the platform specific dockerhub repos? everything ending in -s390x and -ppc64le","ts":"1482272638.000972"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>, yes, pls","ts":"1482272645.000973"},{"type":"message","user":"U0KPFAZNF","text":"if we decided to revisit, we can add them again","ts":"1482272652.000974"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: i should say: I vote +2 on that","ts":"1482272673.000975"},{"type":"message","user":"U0KPFAZNF","text":"dont want to make a unilateral decision :wink:","ts":"1482272680.000976"},{"type":"message","user":"U0KPFAZNF","text":"but, the bottom line is: we dont use them today and the code would have to change to start using them","ts":"1482272697.000977"},{"type":"message","user":"U0KPFAZNF","text":"so I think it makes little sense to leave for now, just adds confusion","ts":"1482272706.000978"},{"type":"message","user":"U0UHG4VP1","text":"most of them are empty regardless","ts":"1482272717.000979"},{"type":"message","user":"U0KPFAZNF","text":"right","ts":"1482272720.000980"},{"type":"message","user":"U0KPFAZNF","text":"that said, if there are any _not_ empty, we should tread carefully","ts":"1482272733.000981"},{"type":"message","user":"U0KPFAZNF","text":"i was assuming they were all empty","ts":"1482272740.000982"},{"type":"message","user":"U0KPFAZNF","text":"I just noticed my typo \"constructioning\"","ts":"1482272829.000983","reactions":[{"name":"woo","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"what an idiot","ts":"1482272832.000984"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1482272833.000985"},{"type":"message","user":"U0UHG4VP1","text":"action the use of your spelchecker","ts":"1482272850.000986"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1482272858.000987"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> pls fix, if for anything to preserve the spread of my stupidity","ts":"1482272895.000988"},{"type":"message","user":"U0KPFAZNF","text":"thats what happens when you go too fast, I guess","ts":"1482272932.000989"},{"type":"message","user":"U0UHG4VP1","text":"OK. empty dockerhub repos are gone. all they were doing was collecting comments about how they were empty","ts":"1482272961.000990"},{"type":"message","user":"U0KPFAZNF","text":"yeah..","ts":"1482272976.000991"},{"type":"message","user":"U0UHG4VP1","text":"OK. permissions are cleaned up on dockerhub as well.","ts":"1482273050.000992","reactions":[{"name":"+1","users":["U0KPFAZNF","U0KM61BCP"],"count":2}]},{"type":"message","user":"U0UHG4VP1","text":"_which nobody else will care about_","ts":"1482273072.000993"},{"type":"message","user":"U0YK3KKCY","text":"<@U0KPFAZNF> <@U0UHG4VP1>... regarding the dockerhub repos that end in -s390x and -ppc64le... are images still being pushed up for x86 platform?","ts":"1482336651.000994"},{"type":"message","user":"U0UHG4VP1","text":"Yes","ts":"1482336672.000995"},{"type":"message","user":"U0UHG4VP1","text":"They were never pushed anywhere else","ts":"1482336689.000996"},{"type":"message","user":"U0YK3KKCY","text":"what triggers the pushing of the x86 images ?","ts":"1482336708.000997"},{"type":"message","user":"U0YK3KKCY","text":"and are we talking about the hyperledger\/fabric-peer being pushed up in this specific case?","ts":"1482336786.000998"},{"type":"message","user":"U0UHG4VP1","text":"harrijk I misread your question. All of the platforms are pushed into one repo. for instance: <https:\/\/hub.docker.com\/r\/hyperledger\/fabric-baseimage\/tags\/>","ts":"1482336804.000999"},{"type":"message","user":"U0YK3KKCY","text":"ah... fabric-baseimage repos... k.","ts":"1482336843.001000"},{"type":"message","user":"U0YK3KKCY","text":"i was wondering if other docker images are being pushed up other than the base images","ts":"1482336860.001001"},{"type":"message","user":"U0YK3KKCY","text":"i see some old fabric-peer images up there, but wasn't sure if that process is still in effect (i.e., pushing peer images)","ts":"1482336891.001002"},{"type":"message","user":"U0UHG4VP1","text":"I think everything else was hand-pushed by ghaskins","ts":"1482336962.001003"},{"type":"message","user":"U0YK3KKCY","text":"bottom line... as you can guess is that i just wanted to make sure that p and z don't miss out on something. :slightly_smiling_face:","ts":"1482336967.001004"},{"type":"message","user":"U0KPFAZNF","text":"<@U0YK3KKCY> I think to date, very little has been automated","ts":"1482336985.001005"},{"type":"message","user":"U0YK3KKCY","text":"ok","ts":"1482336992.001006"},{"type":"message","user":"U0KPFAZNF","text":"they've been hand curated largely by me","ts":"1482336994.001007"},{"type":"message","user":"U0YK3KKCY","text":"is this something that i can help with down the road?","ts":"1482337012.001008"},{"type":"message","user":"U0KPFAZNF","text":"at this point, baseimage is largely ready for automation","ts":"1482337015.001009"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/jenkins.hyperledger.org\/view\/fabric-baseimage\/> for example","ts":"1482337024.001010"},{"type":"message","user":"U0KPFAZNF","text":"and I think fabric\/master is too, though we have yet to make a release","ts":"1482337025.001011"},{"type":"message","user":"U0KPFAZNF","text":"well, i think its all primed, we just have yet to make a release","ts":"1482337053.001012"},{"type":"message","user":"U0KPFAZNF","text":"I believe as of baseimage v0.2.2 it was all fully automated for X\/P\/Z","ts":"1482337094.001013"},{"type":"message","user":"U0KPFAZNF","text":"and I think the next release of fabric from master would be similar","ts":"1482337103.001014"},{"type":"message","user":"U0YK3KKCY","text":"ok","ts":"1482337108.001015"},{"type":"message","user":"U11HH3P7Y","text":"yes we have jobs ready for application images.. <https:\/\/jenkins.hyperledger.org\/view\/fabric-app\/>","ts":"1482337110.001016"},{"type":"message","user":"U0KPFAZNF","text":"<@U0YK3KKCY> I think the trigger is similar: i push a CR that tickles the IS_RELEASE","ts":"1482337158.001017"},{"type":"message","user":"U0KPFAZNF","text":"once its merged, the pipeline will build\/push","ts":"1482337168.001018"},{"type":"message","user":"U0YK3KKCY","text":"<@U0KPFAZNF> re: voting for the p and z jobs...  i believe you mentioned that they should be advisory votes until all CRs that aren't rebased on CR 3329 are integrated into the codebase... does this still hold true (i.e. advisory vote)","ts":"1482337247.001019"},{"type":"message","user":"U0KPFAZNF","text":"<@U0YK3KKCY> im not sure that was turned on","ts":"1482337265.001020"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> <@U0UHG4VP1>: any comment?","ts":"1482337274.001021"},{"type":"message","user":"U0UHG4VP1","text":"they're disabled right now. there is a subtle issue with letting them vote in an advisory way - the way Jenkins works, it withholds all votes until everything has voted. this means P and in particular Z will be a huge bottleneck for CI.","ts":"1482337405.001022"},{"type":"message","user":"U0KPFAZNF","text":"makes sense","ts":"1482337431.001023"},{"type":"message","user":"U0YK3KKCY","text":"huge bottleneck in terms of very few minions, i assume","ts":"1482337462.001024"},{"type":"message","user":"U0UHG4VP1","text":"which is fine - that's a price the project can choose to bear. I didn't want to enable anything (really, I don't want to make too many changes) right before I leave for 9 days","ts":"1482337484.001025"},{"type":"message","user":"U0YK3KKCY","text":"OK, let's tackle this in 10 days. :slightly_smiling_face:","ts":"1482337533.001026"},{"type":"message","user":"U0YK3KKCY","text":"p and z need to participate in verification, otherwise, it will be a never-ending job of catching up to resolve arch issues.","ts":"1482337601.001027"},{"type":"message","user":"U0YK3KKCY","text":"<@U0UHG4VP1> enjoy your time off!","ts":"1482337627.001028"},{"type":"message","user":"U0UHG4VP1","text":"harrijk will do. here is the change: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3083\/>","ts":"1482337659.001029"},{"type":"message","user":"U0UHG4VP1","text":"I've been rebasing it along for a while.","ts":"1482337670.001030"},{"type":"message","user":"U0YK3KKCY","text":"ok. thanks","ts":"1482337715.001031"},{"type":"message","user":"U0KPFAZNF","text":"To reiterate what was discussed previously, I think this will dovetail nicely with the conversation regarding splitting the pipeline up into finer ut\/at stages","ts":"1482337744.001032","reactions":[{"name":"+1","users":["U0UHG4VP1","U0YK3KKCY"],"count":2}]},{"type":"message","user":"U0KPFAZNF","text":"and then making most things trigger on successful ut-x86","ts":"1482337762.001033"},{"type":"message","user":"U0KPFAZNF","text":"that way, we can at least filter out the basic errors from consuming P\/Z builders","ts":"1482337778.001034","reactions":[{"name":"+1","users":["U11NUTP4L"],"count":1}]},{"type":"message","user":"U0YK3KKCY","text":"yes.  i'll also ramp up my efforts to get more z minions","ts":"1482337805.001035"},{"type":"message","user":"U0KPFAZNF","text":"cool, ty","ts":"1482337811.001036"},{"type":"message","user":"U0UHG4VP1","text":"what we could do is make those jobs _non voting_ so they wouldn't block other CI. Someone on your team(s) would need to manually troll the results (or add the results rss feed to whatever reader they use)","ts":"1482337902.001037"},{"type":"message","user":"U0YK3KKCY","text":"right now, i have automated running the unit-tests every 3 hours.  i get a google hangout message if any failure occurs. this is for z.","ts":"1482337950.001038"},{"type":"message","user":"U12V3D2P2","text":"<@U0KPFAZNF> not to side track Version 1.0 conversation, but is there a decision made on when to cut V0.6 branch? <@U11HH3P7Y> submitted a patch : <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3413\/>","ts":"1482337971.001039"},{"type":"message","user":"U12V3D2P2","text":"This is for Power V0.6 peer\/membersrvc docker images","ts":"1482337996.001040"},{"type":"message","user":"U0KPFAZNF","text":"<@U12V3D2P2> im not sure what you mean: there already is a v0.6 branch, it had two releases (v0.6.0-preview and v0.6.1-preview, and now to my knowledge its frozen","ts":"1482338011.001041"},{"type":"message","user":"U0KPFAZNF","text":"oh, retro v0.6.1 build of power you mean?","ts":"1482338030.001042"},{"type":"message","user":"U12V3D2P2","text":"I thought there will be v0.6.2 branch, <@U11HH3P7Y> are you waiting for a new release cut?","ts":"1482338067.001043"},{"type":"message","user":"U0KPFAZNF","text":"last we spoke, I thought someone froze the branch","ts":"1482338080.001044"},{"type":"message","user":"U0KPFAZNF","text":"thus, no more commits","ts":"1482338083.001045"},{"type":"message","user":"U0UHG4VP1","text":"I don't think that would be a new branch, but a new tag, no?","ts":"1482338085.001046"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: if it would be allowed, it would be added to the existing v0.6 branch","ts":"1482338106.001047","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"(and new tag, etc, as you indicated)","ts":"1482338117.001048"},{"type":"message","user":"U0KPFAZNF","text":"personally, I would love to see a v0.6.2 as there is a fix in the branch that went in post v0.6.1 that is critical","ts":"1482338150.001049"},{"type":"message","user":"U0KPFAZNF","text":"but someone (<@U0KM61BCP> maybe?) froze the branch to further CRs IIUC","ts":"1482338170.001050"},{"type":"message","user":"U0KPFAZNF","text":"right now I am carrying the patch manually on top of v0.6.1","ts":"1482338190.001051"},{"type":"message","user":"U11HH3P7Y","text":"Patch 3413 patch is to build and push new images triggered in Branch V0.6.. It would be better to create a tag on top v0.6.1 and push images for power","ts":"1482338395.001052"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> I didnt parse \"to create a tag on top v0.6.1\"...I assume you are saying \"create a v0.6.2 tag on top of v0.6 branch\" ?","ts":"1482338477.001053"},{"type":"message","user":"U0KPFAZNF","text":"or are you thinking push P from existing tag?","ts":"1482338494.001054"},{"type":"message","user":"U11HH3P7Y","text":"yes that's correct","ts":"1482338496.001055"},{"type":"message","user":"U0UHG4VP1","text":"harrijk: how about this? <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3083\/6\/jjb\/fabric\/fabric-jobs-power.yaml>","ts":"1482338615.001056"},{"type":"message","user":"U11HH3P7Y","text":"I am okay to push peer and membersrvc images for power on the existing tag","ts":"1482338713.001057"},{"type":"message","user":"U11HH3P7Y","text":"<@U12V3D2P2> any comments ?","ts":"1482338746.001058"},{"type":"message","user":"U12V3D2P2","text":"I am fine with any tag <@U11HH3P7Y>","ts":"1482338764.001059"},{"type":"message","user":"U0YK3KKCY","text":"<@U0UHG4VP1> so silent = true means non-voting","ts":"1482338765.001060"},{"type":"message","user":"U0UHG4VP1","text":"<@U0YK3KKCY> yes they will run but not vote at all.","ts":"1482338793.001061"},{"type":"message","user":"U0UHG4VP1","text":"but it would let you see the results of each change in Jenkins","ts":"1482338816.001062","reactions":[{"name":"+1","users":["U11HH3P7Y","U11NUTP4L"],"count":2}]},{"type":"message","user":"U0KM61BCP","text":"do we need new tag? I gather there is a patch in addition to what has already been merged?","ts":"1482338857.001063"},{"type":"message","user":"U0YK3KKCY","text":"can i work with you after your vacation to integrate my unit-testing environment with the rss feeds that you mentioned?","ts":"1482338865.001064"},{"type":"message","user":"U0KM61BCP","text":"I'd be ok with 0.6.2","ts":"1482338870.001065"},{"type":"message","user":"U0KM61BCP","text":"<@U0PB67X4K>: ?","ts":"1482338878.001066"},{"type":"message","user":"U0YK3KKCY","text":"<@U0UHG4VP1> sorry, i'm not sure my last comment made any sense.","ts":"1482338933.001067"},{"type":"message","user":"U0UHG4VP1","text":"<@U0YK3KKCY> sure. if you look here, for example: <https:\/\/jenkins.hyperledger.org\/view\/fabric\/job\/fabric-verify-z\/> on the left side you'll see \"rss for all\" and \"rss for failures\"","ts":"1482338960.001068"},{"type":"message","user":"U0YK3KKCY","text":"ah okay.  thanks for the info.","ts":"1482338994.001069"},{"type":"message","user":"U0UHG4VP1","text":"so: enable power\/z in silent mode or wait until 03 JAN?","ts":"1482339099.001070","reactions":[{"name":"+1","users":["U11NUTP4L"],"count":1}]},{"type":"message","user":"U0YK3KKCY","text":"let's try silent mode and see how that goes.","ts":"1482339123.001071"},{"type":"message","user":"U0YK3KKCY","text":"i'll set something up to message me when a failure occurs and then contact the author of the CR to see how arch related errors can be addressed.","ts":"1482339215.001072"},{"type":"message","user":"U11NUTP4L","text":"<@U0UHG4VP1> My vote will be to enable the silent mode for Power\/z as early as possible.","ts":"1482339372.001073"},{"type":"message","user":"U0UHG4VP1","text":"OK working on it.","ts":"1482339386.001074"},{"type":"message","user":"U11NUTP4L","text":"we had got the unit-tests working fine for Power and z a week back and one of the recent merge that went in a day before seems to have triggered unit-test failure on Power.","ts":"1482339445.001075"},{"type":"message","user":"U11NUTP4L","text":"I have been running unit-test for fabric almost on daily basis and will be reporting an issue for the newly seen unit-test failure","edited":{"user":"U11NUTP4L","ts":"1482339507.000000"},"ts":"1482339479.001076"},{"type":"message","user":"U11NUTP4L","text":"<@U0YK3KKCY> is unit-test on Z working fine post cf03f20e0ed7ba5fb5f0afc6be1bf8cfe260d187","ts":"1482339555.001078"},{"type":"message","user":"U0YK3KKCY","text":"<@U11NUTP4L> was this change put in the last 3 hours?","ts":"1482339622.001079"},{"type":"message","user":"U11NUTP4L","text":"No. last 2 days","ts":"1482339640.001080"},{"type":"message","user":"U11NUTP4L","text":"`unit-tests_1  | FAIL    <http:\/\/github.com\/hyperledger\/fabric\/orderer\/sbft\/main|github.com\/hyperledger\/fabric\/orderer\/sbft\/main> 834.346s`","ts":"1482339650.001081"},{"type":"message","user":"U0YK3KKCY","text":"it has been running fine for me.","ts":"1482339735.001082"},{"type":"message","user":"U0YK3KKCY","text":"i run unit tests every 3 hours during the week.  my last run was at 9 am... no issues.  the 12 pm run has just started.","ts":"1482339773.001083"},{"type":"message","user":"U0YK3KKCY","text":"what is the failure? assertion?","ts":"1482339794.001084"},{"type":"message","user":"U11NUTP4L","text":"Not sure why its failing on power only then.. I couldn't find anything architecture specific there. I see most of the messages indicating grpc time out","ts":"1482340120.001085"},{"type":"message","user":"U0YK3KKCY","text":"yeah, i get the gossip\/comm failure on my p system and you get a sbft\/main failure on your system. weird.  perhaps a timing issue (??).","ts":"1482340294.001086"},{"type":"message","user":"U11NUTP4L","text":"I have ran unit-tests multiple times before and after seeing this issue. But never saw it failing on gossip\/comm","ts":"1482340361.001087"},{"type":"message","user":"U11NUTP4L","text":"are you not seeing sbft\/main error on your system ?","ts":"1482340391.001088"},{"type":"message","user":"U0YK3KKCY","text":"for the times that gossip\/comm does run... i didn't see a failure on sbft\/main over the last couple of days","ts":"1482340404.001089"},{"type":"message","user":"U11NUTP4L","text":"Oh. that's nice to hear","ts":"1482340442.001090"},{"type":"message","user":"U0YK3KKCY","text":"but that's a very small set of data points","ts":"1482340486.001091"},{"type":"message","user":"U0YK3KKCY","text":"let manually start a peer instance (natively) on p and run the sbft\/main test","ts":"1482340549.001092"},{"type":"message","user":"U11NUTP4L","text":"yeah. I will give it a try tomorrow.","ts":"1482340753.001093"},{"type":"message","user":"U0ZJZBJLF","text":"Hold it hold it","ts":"1482341683.001094"},{"type":"message","user":"U0ZJZBJLF","text":"What gossip\/comm failure?","ts":"1482341690.001095"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0YK3KKCY> ","ts":"1482341717.001096"},{"type":"message","user":"U0YK3KKCY","text":"i was getting assertion errors.  let me paste a snippet.","ts":"1482341750.001097"},{"type":"message","subtype":"file_share","text":"<@U0YK3KKCY|harrijk> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/harrijk\/F3HNHDP5J\/-.txt|Untitled>","file":{"id":"F3HNHDP5J","created":1482341833,"timestamp":1482341833,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0YK3KKCY","editable":true,"size":572,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3HNHDP5J\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3HNHDP5J\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/harrijk\/F3HNHDP5J\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3HNHDP5J-5181496d0e","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/harrijk\/F3HNHDP5J\/-.txt\/edit","preview":"unit-tests_1  | --- FAIL: TestReConnections (0.67s)\r\nunit-tests_1  |         assertions.go:225:                              Error Trace:    comm_test.go:429\r\nunit-tests_1  |                         Error:          Not equal: 1 (expected)\r\nunit-tests_1  |                                 != 0 (actual)\r\nunit-tests_1  |\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>unit-tests_1  | --- FAIL: TestReConnections (0.67s)<\/pre><\/div>\n<div><pre>unit-tests_1  |         assertions.go:225:                              Error Trace:    comm_test.go:429<\/pre><\/div>\n<div><pre>unit-tests_1  |                         Error:          Not equal: 1 (expected)<\/pre><\/div>\n<div><pre>unit-tests_1  |                                 != 0 (actual)<\/pre><\/div>\n<div><pre>unit-tests_1  |<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":10,"lines_more":5,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0YK3KKCY","upload":true,"display_as_bot":false,"username":"<@U0YK3KKCY|harrijk>","bot_id":null,"ts":"1482341834.001098"},{"type":"message","user":"U0YK3KKCY","text":"this was run on my p system, however, <@U11NUTP4L> (the head p guy) does not get these errors on his p system.","ts":"1482341865.001099"},{"type":"message","user":"U0ZJZBJLF","text":"Do you get them in a constant way?","ts":"1482342036.001100"},{"type":"message","user":"U0YK3KKCY","text":"fairly consistent on my p system ... aprox. 90%","ts":"1482342066.001101"},{"type":"message","user":"U0UHG4VP1","text":"is this a ci issue?","ts":"1482342068.001102"},{"type":"message","user":"U0YK3KKCY","text":"i don't believe so","ts":"1482342081.001103"},{"type":"message","user":"U0ZJZBJLF","text":"Oh ","ts":"1482342081.001104"},{"type":"message","user":"U0ZJZBJLF","text":"Hmmm interesting","ts":"1482342086.001105"},{"type":"message","user":"U0ZJZBJLF","text":"Give me some time to upload a patch set","ts":"1482342107.001106"},{"type":"message","user":"U0ZJZBJLF","text":"Could you test that for me?","ts":"1482342115.001107"},{"type":"message","user":"U0YK3KKCY","text":"ok","ts":"1482342117.001108"},{"type":"message","user":"U0YK3KKCY","text":"sure thing","ts":"1482342119.001109"},{"type":"message","user":"U0ZJZBJLF","text":"Let ne boot my laptop, i'm not in the office :sweat: ","ts":"1482342133.001110"},{"type":"message","user":"U0YK3KKCY","text":"what's weird though is that <@U11NUTP4L> doesn't get these errors.  that's what made me suspect some sort of timing issue.","ts":"1482342156.001111"},{"type":"message","user":"U0ZJZBJLF","text":"The test fails because of timing. I think it is related either to grpc or to crypto","ts":"1482342186.001112"},{"type":"message","user":"U0YK3KKCY","text":"ah okay","ts":"1482342198.001113"},{"type":"message","user":"U0ZJZBJLF","text":"Because my tests run with tls enabled","ts":"1482342202.001114"},{"type":"message","user":"U0YK3KKCY","text":"i see.","ts":"1482342209.001115"},{"type":"message","user":"U0YK3KKCY","text":"i'd be more than happy to test your patch.  i'll stand by.","ts":"1482342222.001116"},{"type":"message","user":"U11NUTP4L","text":"<@U0ZJZBJLF> please do share the patch with me too. I would like to ensure gossip\/comm unit test continues to pass on my setup to with the changes ","ts":"1482342373.001117"},{"type":"message","user":"U0ZJZBJLF","text":"Will ipload to gerrit","ts":"1482342393.001118"},{"type":"message","user":"U0ZJZBJLF","text":"Upload","ts":"1482342399.001119"},{"type":"message","user":"U11NUTP4L","text":"Ok","ts":"1482342403.001120"},{"type":"message","user":"U0ZJZBJLF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3471\/>","ts":"1482343202.001121"},{"type":"message","user":"U0ZJZBJLF","text":"by the way- system p is powerPC, right?","ts":"1482343235.001122"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0YK3KKCY> , <@U11NUTP4L>","ts":"1482343286.001123"},{"type":"message","user":"U0YK3KKCY","text":"ok. thanks.","ts":"1482343298.001124"},{"type":"message","user":"U0YK3KKCY","text":"<@U0ZJZBJLF> i just kicked off the \"make unit-test\" command... i'll keep you posted.","ts":"1482343495.001125"},{"type":"message","user":"U0ZJZBJLF","text":"you can just run that test","ts":"1482343513.001126"},{"type":"message","user":"U0YK3KKCY","text":"yes, system p is powerPC","ts":"1482343514.001127"},{"type":"message","user":"U0YK3KKCY","text":"ah ok","ts":"1482343521.001128"},{"type":"message","user":"U0YK3KKCY","text":"will do","ts":"1482343523.001129"},{"type":"message","user":"U0ZJZBJLF","text":"go test -v <http:\/\/github.com\/hyperledger\/fabric\/gossip\/comm|github.com\/hyperledger\/fabric\/gossip\/comm> -run ^TestReConnections$","ts":"1482343550.001130"},{"type":"message","user":"U0YK3KKCY","text":"PASS\nok      <http:\/\/github.com\/hyperledger\/fabric\/gossip\/comm|github.com\/hyperledger\/fabric\/gossip\/comm>       7.270s","ts":"1482343564.001131"},{"type":"message","user":"U0YK3KKCY","text":"let me try 10 more times","ts":"1482343572.001132"},{"type":"message","user":"U0ZJZBJLF","text":"can you run that test plesae?","ts":"1482343575.001133"},{"type":"message","user":"U0ZJZBJLF","text":"just that test","ts":"1482343578.001134"},{"type":"message","user":"U0ZJZBJLF","text":"not all","ts":"1482343582.001135"},{"type":"message","user":"U0YK3KKCY","text":"yes, i just ran that single test.","ts":"1482343591.001136"},{"type":"message","user":"U0YK3KKCY","text":"it passed","ts":"1482343594.001137"},{"type":"message","user":"U0ZJZBJLF","text":"but why 7 seconds!?!","ts":"1482343602.001138"},{"type":"message","user":"U0YK3KKCY","text":"now i'm going to run that single test 10 more times","ts":"1482343605.001139"},{"type":"message","user":"U0YK3KKCY","text":"i'm on a fast system (??)","ts":"1482343625.001140"},{"type":"message","user":"U0ZJZBJLF","text":"it takes less than a second on my machine","ts":"1482343634.001141"},{"type":"message","user":"U0ZJZBJLF","text":"and I'm running in a VM","ts":"1482343638.001142"},{"type":"message","user":"U0ZJZBJLF","text":"on my laptop","ts":"1482343642.001143"},{"type":"message","user":"U0YK3KKCY","text":"well i'm not sure","ts":"1482343645.001144"},{"type":"message","user":"U0YK3KKCY","text":"perhaps an arch diff","ts":"1482343654.001145"},{"type":"message","user":"U0ZJZBJLF","text":"I think I know what's the problem","ts":"1482343660.001146"},{"type":"message","user":"U0YK3KKCY","text":"out of my league","ts":"1482343664.001147"},{"type":"message","user":"U0ZJZBJLF","text":"I mean, I have a theory","ts":"1482343666.001148"},{"type":"message","user":"U0YK3KKCY","text":"ah okay","ts":"1482343670.001149"},{"type":"message","user":"U0ZJZBJLF","text":"can I ask you to try something locally?","ts":"1482343718.001150"},{"type":"message","user":"U0ZJZBJLF","text":"and test?","ts":"1482343721.001151"},{"type":"message","user":"U0YK3KKCY","text":"fyi.. i ran it a second time.","ts":"1482343734.001152"},{"type":"message","user":"U0YK3KKCY","text":"--- FAIL: TestReConnections (5.28s)\n        Error Trace:    comm_test.go:520\n                        comm_test.go:442\n        Error:          Not equal: 1 (expected)\n                                != 0 (actual)\n        Messages:       Comm1 didn't receive a message from comm2 in a timely manner\n\nFAIL\nexit status 1\nFAIL    <http:\/\/github.com\/hyperledger\/fabric\/gossip\/comm|github.com\/hyperledger\/fabric\/gossip\/comm>       8.326s\nroot@p880-lpar7:~\/git\/src\/github.com\/hyperledger\/fabric\/gossip\/comm#\n[ ubuntu-bc ][                       0-$ shell0  1$ shell1  2$ shell2  3$ shell3  (4*$","ts":"1482343735.001153"},{"type":"message","user":"U0YK3KKCY","text":"sure... locally meaning?","ts":"1482343749.001154"},{"type":"message","user":"U0YK3KKCY","text":"on my laptop? z system? p system?","ts":"1482343771.001155"},{"type":"message","user":"U0ZJZBJLF","text":"on where it fails","ts":"1482343818.001156"},{"type":"message","user":"U0YK3KKCY","text":"ok. sure. what would you like me to try?","ts":"1482343830.001157"},{"type":"message","subtype":"file_share","text":"<@U0ZJZBJLF|yacovm> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F3HPBCF61\/removetls.png|removeTLS.png>","file":{"id":"F3HPBCF61","created":1482343925,"timestamp":1482343925,"name":"removeTLS.png","title":"removeTLS.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ZJZBJLF","editable":false,"size":69965,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3HPBCF61\/removetls.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3HPBCF61\/download\/removetls.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3HPBCF61-ab2113e778\/removetls_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3HPBCF61-ab2113e778\/removetls_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3HPBCF61-ab2113e778\/removetls_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":342,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3HPBCF61-ab2113e778\/removetls_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":456,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3HPBCF61-ab2113e778\/removetls_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","image_exif_rotation":1,"original_w":652,"original_h":619,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F3HPBCF61\/removetls.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3HPBCF61-08bf5449cd","channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0ZJZBJLF","upload":true,"display_as_bot":false,"username":"<@U0ZJZBJLF|yacovm>","bot_id":null,"ts":"1482343930.001158"},{"type":"message","user":"U0ZJZBJLF","text":"in `gossip\/comm\/comm_impl.go`","ts":"1482343959.001159"},{"type":"message","user":"U0YK3KKCY","text":"ok","ts":"1482343963.001160"},{"type":"message","user":"U0ZJZBJLF","text":"and re-run :slightly_smiling_face:","ts":"1482343969.001161"},{"type":"message","user":"U0ZJZBJLF","text":"also tell me how much time it takes","ts":"1482344003.001162"},{"type":"message","user":"U0UHG4VP1","text":"since this is a long-running non-ci discussion, could I ask you to move it to one of the fabric channels please?","ts":"1482344200.001163"},{"type":"message","subtype":"file_share","text":"<@U0YK3KKCY|harrijk> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/harrijk\/F3H0VHD89\/-.txt|Untitled>","file":{"id":"F3H0VHD89","created":1482344204,"timestamp":1482344204,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0YK3KKCY","editable":true,"size":922,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3H0VHD89\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3H0VHD89\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/harrijk\/F3H0VHD89\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3H0VHD89-1e53f90804","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/harrijk\/F3H0VHD89\/-.txt\/edit","preview":"--- FAIL: TestHandshake (7.01s)\r\n        Error Trace:    comm_test.go:96\r\n                        comm_test.go:137\r\n        Error:          Received unexpected error \"grpc: timed out when dialing\"\r\n        Messages:       grpc: timed out when dialing\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>--- FAIL: TestHandshake (7.01s)<\/pre><\/div>\n<div><pre>        Error Trace:    comm_test.go:96<\/pre><\/div>\n<div><pre>                        comm_test.go:137<\/pre><\/div>\n<div><pre>        Error:          Received unexpected error &quot;grpc: timed out when dialing&quot;<\/pre><\/div>\n<div><pre>        Messages:       grpc: timed out when dialing<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":24,"lines_more":19,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0YK3KKCY","upload":true,"display_as_bot":false,"username":"<@U0YK3KKCY|harrijk>","bot_id":null,"ts":"1482344204.001164"},{"type":"message","user":"U0ZJZBJLF","text":"yeah of course","ts":"1482344210.001165","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0ZJZBJLF","text":"sorry ry","ts":"1482344214.001166"},{"type":"message","user":"U0YK3KKCY","text":"sure thing <@U0UHG4VP1>","ts":"1482344218.001167","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0ZJZBJLF","text":"direct messages, harrijk?","ts":"1482344225.001168"},{"type":"message","user":"U0YK3KKCY","text":"yep","ts":"1482344228.001169"},{"type":"message","user":"U0UHG4VP1","text":"thank you <@U0ZJZBJLF> <@U0YK3KKCY>","ts":"1482378191.001172"},{"type":"message","subtype":"file_share","text":"<@U0ZJZBJLF|yacovm> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F3JUL1L3G\/jenkins_ci_job_failure.sh|Jenkins CI Job failure> and commented: <@U0UHG4VP1>","file":{"id":"F3JUL1L3G","created":1482479428,"timestamp":1482479428,"name":"Jenkins_CI_Job_failure.sh","title":"Jenkins CI Job failure","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0ZJZBJLF","editable":true,"size":6473,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3JUL1L3G\/jenkins_ci_job_failure.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3JUL1L3G\/download\/jenkins_ci_job_failure.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F3JUL1L3G\/jenkins_ci_job_failure.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3JUL1L3G-47d0e6a6ca","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F3JUL1L3G\/jenkins_ci_job_failure.sh\/edit","preview":"07:37:22 Triggered by Gerrit: http:\/\/gerrit.hyperledger.org\/r\/3471\r\n07:37:22 [EnvInject] - Loading node environment variables.\r\n07:37:22 [EnvInject] - Preparing an environment for the build.\r\n07:37:22 [EnvInject] - Keeping Jenkins system variables.\r\n07:37:22 [EnvInject] - Keeping Jenkins build variables.\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-number\">07<\/span>:37:22 Triggered by Gerrit: http:\/\/gerrit.hyperledger.org\/r\/3471<\/pre><\/div>\n<div><pre><span class=\"cm-number\">07<\/span>:37:22 [EnvInject] <span class=\"cm-attribute\">-<\/span> Loading <span class=\"cm-builtin\">node<\/span> environment variables.<\/pre><\/div>\n<div><pre><span class=\"cm-number\">07<\/span>:37:22 [EnvInject] <span class=\"cm-attribute\">-<\/span> Preparing an environment <span class=\"cm-keyword\">for<\/span> the build.<\/pre><\/div>\n<div><pre><span class=\"cm-number\">07<\/span>:37:22 [EnvInject] <span class=\"cm-attribute\">-<\/span> Keeping Jenkins system variables.<\/pre><\/div>\n<div><pre><span class=\"cm-number\">07<\/span>:37:22 [EnvInject] <span class=\"cm-attribute\">-<\/span> Keeping Jenkins build variables.<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":82,"lines_more":77,"preview_is_truncated":true,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc3J6M199R","created":1482479428,"timestamp":1482479428,"user":"U0ZJZBJLF","is_intro":true,"comment":"<@U0UHG4VP1>","channel":""}},"user":"U0ZJZBJLF","upload":true,"display_as_bot":false,"username":"<@U0ZJZBJLF|yacovm>","bot_id":null,"ts":"1482479428.001173"},{"type":"message","user":"U0UHG4VP1","text":"<@U0ZJZBJLF>: I'll look in a few hours. I thought I had that fixed","ts":"1482481136.001174"},{"type":"message","user":"U0ZJZBJLF","text":"Thanks <@U0UHG4VP1>  but there is something else weird now:\n<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/4411\/console>\nGerrit doesn't notice that the build failed and doesn't mark my PR with -1.","ts":"1482505836.001175"},{"type":"message","user":"U0UHG4VP1","text":"The issue was it was waiting for builds that would never happen, so I fixed that","ts":"1482506683.001178","reactions":[{"name":"+1","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U0YK3KKCY","text":"<@U0UHG4VP1> i see some power verify jobs running. :+1::beers:","ts":"1482513212.001179","reactions":[{"name":"+1","users":["U11NUTP4L","U11HH3P7Y"],"count":2}]},{"type":"message","user":"U0YK3KKCY","text":"<@U0UHG4VP1> you around?","ts":"1482527229.001180"},{"type":"message","user":"U0UHG4VP1","text":"<@U0YK3KKCY>: not really, I see you question from earlier, last night it looked like the power jobs had permission errors","ts":"1482527509.001181"},{"type":"message","user":"U0UHG4VP1","text":"Like they didn't own everything in \/w","ts":"1482527527.001182"},{"type":"message","user":"U0YK3KKCY","text":"how about z?","ts":"1482527539.001183"},{"type":"message","user":"U0YK3KKCY","text":"i'll talk to <@U11NUTP4L> to ensure that he checks his p minions for proper permissions","ts":"1482527602.001185"},{"type":"message","user":"U0YK3KKCY","text":"<@U0UHG4VP1> if possible could you bring hyp-z-linuxone-1 back online to sandbox (if it doesn't hurt anything that you were working on).  tnx.","ts":"1482528368.001191"},{"type":"message","user":"U0UHG4VP1","text":"-1 is online","ts":"1482528437.001192"},{"type":"message","user":"U0UHG4VP1","text":"as is -4","ts":"1482528449.001193"},{"type":"message","user":"U0UHG4VP1","text":"so looking at the -z jobs they arne","ts":"1482528510.001194"},{"type":"message","user":"U0UHG4VP1","text":"aren't failing for the \"no ssh credentials\" issue which was the one I was trying to fix.","ts":"1482528525.001195"},{"type":"message","user":"U0UHG4VP1","text":"regardless, I'm out until the third, so we'll have to look at it then.","ts":"1482528588.001196"},{"type":"message","user":"U0UHG4VP1","text":"looking at -2 on production, I see this:","ts":"1482528596.001197"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3JCZSW9Z\/-.txt|Untitled>","file":{"id":"F3JCZSW9Z","created":1482528623,"timestamp":1482528623,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":293,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3JCZSW9Z\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3JCZSW9Z\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3JCZSW9Z\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3JCZSW9Z-8a6d23c401","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3JCZSW9Z\/-.txt\/edit","preview":"[12\/23\/16 21:29:39] [SSH] Copying latest slave.jar...\r\nhudson.util.IOException2: Could not copy slave.jar into '\/w' on slave\r\n...\r\nCaused by: com.trilead.ssh2.SFTPException: Permission denied (SSH_FX_PERMISSION_DENIED: The user does not have sufficient permissions to perform the operation.)\r\n","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>[12\/23\/16 21:29:39] [SSH] Copying latest slave.jar...<\/pre><\/div>\n<div><pre>hudson.util.IOException2: Could not copy slave.jar into '\/w' on slave<\/pre><\/div>\n<div><pre>...<\/pre><\/div>\n<div><pre>Caused by: com.trilead.ssh2.SFTPException: Permission denied (SSH_FX_PERMISSION_DENIED: The user does not have sufficient permissions to perform the operation.)<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":5,"lines_more":0,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1482528623.001198"},{"type":"message","user":"U0YK3KKCY","text":"ok","ts":"1482528638.001199"},{"type":"message","user":"U0YK3KKCY","text":"enjoy your time off!","ts":"1482528660.001200"},{"type":"message","user":"U0UHG4VP1","text":"thanks! you, too","ts":"1482528678.001201"},{"type":"message","user":"U0YK3KKCY","text":"tnx","ts":"1482528682.001202"},{"type":"message","user":"U1HFNJB50","text":"Running `make peer` on my MBP and getting this \n\n```Error processing tar file(bzip2 data invalid: bad magic value in continuation file):\nmake: *** [build\/image\/ccenv\/.dummy-x86_64-0.7.0-snapshot-9b18f946] Error 1\n```\n\nDoes anyone knows who I can fix it?","ts":"1482679140.001203"},{"type":"message","user":"U0ZJZBJLF","text":"do `make clean` and try again?","ts":"1482680081.001204"},{"type":"message","user":"U0KPFAZNF","text":"<@U1HFNJB50>: the issue is OS X has bsdtar ","ts":"1482798783.001205"},{"type":"message","user":"U0KPFAZNF","text":"Install gnutar from homebrew ","ts":"1482798799.001206"},{"type":"message","user":"U1HFNJB50","text":"I already have gnutar","ts":"1482799055.001207"},{"type":"message","user":"U1HFNJB50","text":"aliased","ts":"1482799063.001208"},{"type":"message","user":"U1HFNJB50","text":"so this is a default of my laptop","ts":"1482799074.001209"},{"type":"message","user":"U1HFNJB50","text":"somehow managed to get rid of this message, honestly do not really understand how","ts":"1482799107.001210"},{"type":"message","user":"U0KPFAZNF","text":"<@U1HFNJB50> the only time I have seen that is when the .tar in question was generated by bsdtar....what do you get when you run \"which tar\" ?","ts":"1482848327.001211"},{"type":"message","user":"U0KPFAZNF","text":"oh! aliased","ts":"1482848341.001212"},{"type":"message","user":"U0KPFAZNF","text":"thats probably the issue","ts":"1482848344.001213"},{"type":"message","user":"U0KPFAZNF","text":"not sure the alias would be in effect during make","ts":"1482848351.001214"},{"type":"message","user":"U0KPFAZNF","text":"I would recommend installing it such that it eclipses bsdtar, such as with \"brew install gnu-tar --with-default-names\"","ts":"1482848472.001215"},{"user":"U1B9E51R8","text":"<@U1B9E51R8|xixuejia> has joined the channel","type":"message","subtype":"channel_join","ts":"1482976362.001216"},{"type":"message","user":"U12452RAP","text":"<@U0UHG4VP1> or others who can help stop a wrong build <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-sdk-py-x86_64\/55\/>","ts":"1482999783.001217"},{"type":"message","user":"U0UHG4VP1","text":"done. I think it would have timed out anyway","ts":"1482999898.001218","reactions":[{"name":"+1","users":["U12452RAP"],"count":1}]},{"type":"message","user":"U0YK3KKCY","text":"<@U0KM61BCP> <@U0UHG4VP1> <@U0KPFAZNF> the merging of <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3319> early this morning broke the z build.  hopefully, we can get the merge job ssh credential issue resolved and then we can start to look at what we need to do to allow voting for z (for both verify and merge).","edited":{"user":"U0YK3KKCY","ts":"1483024824.000000"},"ts":"1483024714.001219"},{"type":"message","user":"U0YK3KKCY","text":"i've opened up an issue <https:\/\/jira.hyperledger.org\/browse\/FAB-1487> and have chatted with the author of CR 3319 to resolve this issue.","ts":"1483024800.001222"},{"type":"message","user":"U0YK3KKCY","text":"it looks like this merged change might affect all platforms.  not 100% sure, but it looks like core\/util\/utils.go:28:  \"<http:\/\/github.com\/hyperledger\/fabric\/metadata|github.com\/hyperledger\/fabric\/metadata>\" was never changed to reflect its new name\/location.","ts":"1483026635.001225"},{"type":"message","user":"U0ZJZBJLF","text":"```\n\ncore\/util\/utils.go:28:2: cannot find package \"<http:\/\/github.com\/hyperledger\/fabric\/metadata|github.com\/hyperledger\/fabric\/metadata>\" in any of:\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/vendor\/github.com\/hyperledger\/fabric\/metadata (vendor tree)\n\t\/opt\/go\/src\/github.com\/hyperledger\/fabric\/metadata (from $GOROOT)\n\t\/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/metadata (from $GOPATH)\nMakefile:133: recipe for target 'build\/docker\/bin\/peer' failed\n```","ts":"1483026666.001226"},{"type":"message","user":"U0ZJZBJLF","text":"This?","ts":"1483026669.001227"},{"type":"message","user":"U0YK3KKCY","text":"See above","ts":"1483026747.001228"},{"type":"message","user":"U0YK3KKCY","text":"i tried to warn folks","ts":"1483026760.001229"},{"type":"message","user":"U0ZJZBJLF","text":"I don't understand, how did it pass CI?","ts":"1483026789.001230"},{"type":"message","user":"U0YK3KKCY","text":"not sure how the merge job got this through","ts":"1483026790.001231"},{"type":"message","user":"U0YK3KKCY","text":"exactly","ts":"1483026797.001232"},{"type":"message","user":"U0YK3KKCY","text":"needs to be looked at","ts":"1483026805.001233"},{"type":"message","user":"U0ZJZBJLF","text":"not even the merge job, the verify","ts":"1483026808.001234"},{"type":"message","user":"U0ZJZBJLF","text":"weird","ts":"1483026810.001235"},{"type":"message","user":"U0YK3KKCY","text":"the verify last ran on 12\/18 if you look at the cr","ts":"1483026826.001236"},{"type":"message","user":"U0YK3KKCY","text":"it was never run again","ts":"1483026832.001237"},{"type":"message","user":"U0ZJZBJLF","text":"so it needed to be rebased then?","ts":"1483026840.001238"},{"type":"message","user":"U0YK3KKCY","text":"i'm not sure what the exact procedure should be","ts":"1483026857.001239"},{"type":"message","user":"U0ZJZBJLF","text":"I guess the orange circle was ignored","ts":"1483026861.001240"},{"type":"message","user":"U0YK3KKCY","text":"not an expert in this area","ts":"1483026862.001241"},{"type":"message","user":"U0YK3KKCY","text":"something \"fell through the cracks\"","ts":"1483026928.001242"},{"type":"message","user":"U0YK3KKCY","text":"when i download patch set #2 for CR 3319, the reference to fabric\/metadata in utils.go has been removed.  i'm not sure why the reference is still in the current codebase.","edited":{"user":"U0YK3KKCY","ts":"1483027714.000000"},"ts":"1483027363.001243"},{"type":"message","user":"U0YK3KKCY","text":"<@U0ZJZBJLF>, i suspect that you're right... a rebase was never done as the fabric\/metadata line in utils.go was added 19 days ago.","edited":{"user":"U0YK3KKCY","ts":"1483027568.000000"},"ts":"1483027538.001244"},{"user":"U0Z41KY5V","text":"<@U0Z41KY5V|baohua> has joined the channel","type":"message","subtype":"channel_join","ts":"1483429891.001247"},{"type":"message","user":"U0Z41KY5V","text":"hi, anyone know how to let our dockerhub project automatically be triggered by commit merging, and building the image? Thanks to <@U0UHG4VP1> \u2018s help, we\u2019ve created one docker hub repo at <https:\/\/hub.docker.com\/r\/hyperledger\/fabric-sdk-py\/>, while the code repo is at <https:\/\/github.com\/hyperledger\/fabric-sdk-py>.","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-sdk-py","title_link":"https:\/\/github.com\/hyperledger\/fabric-sdk-py","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric-sdk-py>","fallback":"GitHub: hyperledger\/fabric-sdk-py","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-sdk-py","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1483430084.001248"},{"type":"message","user":"U0Z41KY5V","text":"Thanks :slightly_smiling_face:","ts":"1483430117.001250"},{"type":"message","user":"U0KM61BCP","text":"<@U0Z41KY5V> take a look at the Makefile for the fabric project. We submit a CS that updates the IS_RELEASE variable to 'true' and that cuts a release and publishes the images to dockerhub.","ts":"1483451017.001251"},{"type":"message","user":"U0KM61BCP","text":"then we submit a follow-on CS that sets the IS_RELEASE value back to 'false' and update the release number accordingly","ts":"1483451057.001252"},{"type":"message","user":"U0Z41KY5V","text":"thanks chrisfer, you mean the makefile in the fabric project?","ts":"1483451089.001253"},{"type":"message","user":"U0KM61BCP","text":"yes","ts":"1483451094.001254"},{"type":"message","user":"U0Z41KY5V","text":"So we need to update that makefile to maintain the sdk image?","ts":"1483451125.001255"},{"type":"message","user":"U0KM61BCP","text":"yes","ts":"1483451137.001256"},{"type":"message","user":"U0KM61BCP","text":"makes it more formal","ts":"1483451145.001257"},{"type":"message","user":"U0KM61BCP","text":"but I think that is a good thing","ts":"1483451151.001258"},{"type":"message","user":"U0KM61BCP","text":"don't you also need to publish to pypy?","ts":"1483451166.001259"},{"type":"message","user":"U0KM61BCP","text":"oh, let me be clear","ts":"1483451221.001260"},{"type":"message","user":"U0KM61BCP","text":"you don't need to update fabric Makefile to publish sdk, you would adapt your Makefile (or build process) in a similar manner","ts":"1483451250.001261"},{"type":"message","user":"U0KM61BCP","text":"we will obviously need to work on coordination of what goes with what, etc","ts":"1483451298.001262"},{"type":"message","user":"U0Z41KY5V","text":"ok, understand now. so the way is to manually upload the built image to dockerhub, instead of a auto-build.","ts":"1483451313.001263"},{"type":"message","user":"U0Z41KY5V","text":"triggered by code change.","ts":"1483451313.001264"},{"type":"message","user":"U0Z41KY5V","text":"Thanks for the advice, chris!","ts":"1483451331.001265"},{"type":"message","user":"U0KM61BCP","text":"well, no","ts":"1483451332.001266"},{"type":"message","user":"U0KM61BCP","text":"the code change is the revised Makefile (in the fabric case)","ts":"1483451356.001267"},{"type":"message","user":"U0KM61BCP","text":"the logic that uploads the new images triggers off that variable","ts":"1483451369.001268"},{"type":"message","user":"U0Z41KY5V","text":"IMHO, the makefile way is to build the image locally and then upload the image to the dockerhub, right?","ts":"1483451393.001269"},{"type":"message","user":"U11HH3P7Y","text":"<@U0Z41KY5V> yes that is correct for fabric baseimages.. but peer, orderer, etc.. are build locally using make file and upload images to dockerhub through CI process <https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=ci-management.git;a=blob;f=jjb\/releases\/include-raw-fabric-app-image.sh;h=2841dcdf457dbe37a18189d3052160b3572e725b;hb=refs\/heads\/master>","ts":"1483455856.001270"},{"type":"message","user":"U0KM61BCP","text":"<@U11HH3P7Y> welcome back... so, I am mistaken? I thought we published when we cut a release from CI","ts":"1483456025.001271"},{"type":"message","user":"U11HH3P7Y","text":"you are right.. In both cases (fabric baseimages and application images process) we are depending on IS_RELEASE condition.. but building images and publishing to docker hub through makefile is applicable for fabric base images but for application images (peer , orderer ..)_  we are depending on CI to publish.. IS_RELEASE","ts":"1483456243.001272"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> <@U11HH3P7Y> any reason why fabric-sdk-node jenkins isn't responding to reverify? <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3569\/>","ts":"1483456516.001273"},{"type":"message","user":"U0KM61BCP","text":"ah ok","ts":"1483456559.001274"},{"type":"message","user":"U0KM61BCP","text":"the \"build locally\" threw me","ts":"1483456568.001275"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KM61BCP> checking this","ts":"1483456633.001276"},{"user":"U0XQX3U9G","text":"<@U0XQX3U9G|diego_m> has joined the channel","type":"message","subtype":"channel_join","ts":"1483457062.001277"},{"type":"message","user":"U0YK3KKCY","text":"<@U0UHG4VP1> would it be possible for bring hyp-z-linuxone-1 and hyp-z-linuxone-4 online to production jenkins? oh... and welcome back!","ts":"1483458395.001278"},{"type":"message","user":"U1HFNJB50","text":"I have two CR's failing in CI ( <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3609\/1> and <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3595\/>) it looks like something wrong with chaincode tests","ts":"1483536668.001279"},{"type":"message","user":"U1HFNJB50","text":"Feels like CI broken because all these:","ts":"1483536705.001280"},{"type":"message","subtype":"file_share","text":"<@U1HFNJB50|c0rwin> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/c0rwin\/F3M4ADX27\/pasted_image_at_2017_01_04_03_31_pm.png|Pasted image at 2017-01-04, 3:31 PM>","file":{"id":"F3M4ADX27","created":1483536709,"timestamp":1483536709,"name":"Pasted image at 2017_01_04 03_31 PM.png","title":"Pasted image at 2017-01-04, 3:31 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U1HFNJB50","editable":false,"size":136180,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3M4ADX27\/pasted_image_at_2017_01_04_03_31_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3M4ADX27\/download\/pasted_image_at_2017_01_04_03_31_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3M4ADX27-6b580d19ff\/pasted_image_at_2017_01_04_03_31_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3M4ADX27-6b580d19ff\/pasted_image_at_2017_01_04_03_31_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3M4ADX27-6b580d19ff\/pasted_image_at_2017_01_04_03_31_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":50,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3M4ADX27-6b580d19ff\/pasted_image_at_2017_01_04_03_31_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":67,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3M4ADX27-6b580d19ff\/pasted_image_at_2017_01_04_03_31_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3M4ADX27-6b580d19ff\/pasted_image_at_2017_01_04_03_31_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":100,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3M4ADX27-6b580d19ff\/pasted_image_at_2017_01_04_03_31_pm_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":134,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3M4ADX27-6b580d19ff\/pasted_image_at_2017_01_04_03_31_pm_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":143,"image_exif_rotation":1,"original_w":1264,"original_h":176,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/c0rwin\/F3M4ADX27\/pasted_image_at_2017_01_04_03_31_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3M4ADX27-bcd2fd3797","channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U1HFNJB50","upload":true,"display_as_bot":false,"username":"<@U1HFNJB50|c0rwin>","bot_id":null,"ts":"1483536711.001281"},{"type":"message","user":"U1HFNJB50","text":"Seemed to fail because of same reason","ts":"1483536723.001282"},{"type":"message","user":"U1HFNJB50","text":"Can we probably temporary disable test in failure?","ts":"1483536878.001283"},{"type":"message","user":"U0ZJZBJLF","text":"I think it's a good idea","ts":"1483536884.001284"},{"type":"message","user":"U0ZJZBJLF","text":"Tests that fail with high probability should be skipped and re-introduced again until fixed","ts":"1483536930.001285","reactions":[{"name":"+1","users":["U1HFNJB50","U0YK3KKCY","U0UHG4VP1"],"count":3}]},{"type":"message","user":"U0UHG4VP1","text":"I am aware of slowdowns in jenkins. there is an issue with our provider this morning and IO is slow right now. we're working with them to correct it.","ts":"1483549178.001286"},{"type":"message","user":"U0KM61BCP","text":"I was just exploring this myself","ts":"1483556764.001287"},{"type":"message","user":"U0KM61BCP","text":"the tests pass locally","ts":"1483556768.001288"},{"type":"message","user":"U0KM61BCP","text":"so there is something with jenkins or the network that is slowing things down and then causing the failure","ts":"1483556801.001289"},{"type":"message","user":"U0UHG4VP1","text":"there are two issues. One is a routing issue from our upstream provider which has been causing trouble today","ts":"1483556847.001290"},{"type":"message","user":"U0UHG4VP1","text":"the second issue is that there was an IO slowdown, and our provider put in a bunch more SSD to spread the IO out. Ceph is being re-arranged to take advantage of the new, higher IO capacity so we aren't out of the woods yet","ts":"1483556897.001291"},{"type":"message","user":"U0UHG4VP1","text":"the routing issue should have been solved by brute force: that route was dropped","ts":"1483556920.001292"},{"type":"message","user":"U0ZJZBJLF","text":"I have a question- is there a way to make jenkins inject a file into the file system of the minion prior to running the unit tests, and that the content of the file is derived from the commit message?","ts":"1483563845.001293"},{"type":"message","user":"U0UHG4VP1","text":"since the commit message is an environment variable, and you can put scripts into the job definition, I'll say yes. Is there a more concrete example?","ts":"1483566111.001294"},{"type":"message","user":"U0ZJZBJLF","text":"oh really? could you tell me please to what variable does it go into?","ts":"1483566264.001295"},{"type":"message","user":"U0UHG4VP1","text":"take a look at <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/4184\/consoleFull> and search for GERRIT_","ts":"1483566402.001296"},{"type":"message","user":"U0UHG4VP1","text":"GERRIT_CHANGE_COMMIT_MESSAGE contains what looks like a base64 encoded version of it","ts":"1483566424.001297"},{"type":"message","user":"U0ZJZBJLF","text":"I see. thanks Ry.","ts":"1483566475.001298"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3MGA1HN1\/-.txt|Untitled>","file":{"id":"F3MGA1HN1","created":1483566479,"timestamp":1483566479,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":377,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3MGA1HN1\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3MGA1HN1\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3MGA1HN1\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3MGA1HN1-1dc3a29cb7","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3MGA1HN1\/-.txt\/edit","preview":"$ pbpaste|base64 -D\r\nFAB-1395 - Generic query API for CouchDB\r\n\r\nImplement the following ledger interface:\r\n\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>$ pbpaste|base64 -D<\/pre><\/div>\n<div><pre>FAB-1395 - Generic query API for CouchDB<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<div><pre>Implement the following ledger interface:<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":13,"lines_more":8,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1483566480.001299"},{"type":"message","user":"U0UHG4VP1","text":"you can also see the other GERRIT_ stuff that's passed in and may be more interesting","ts":"1483566502.001300"},{"type":"message","user":"U0UHG4VP1","text":"what is it you want to do?","ts":"1483566557.001301"},{"type":"message","user":"U0UHG4VP1","text":"coming soon to a build near you: <https:\/\/logs.hyperledger.org\/jobbuilder\/vex-yul-hyp-jenkins-2\/fabric-verify-sdk-py-x86_64\/95\/> (for example)","ts":"1483576337.001302"},{"user":"U35EMQWK1","text":"<@U35EMQWK1|jojocheung> has joined the channel","type":"message","subtype":"channel_join","ts":"1483599251.001303"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> <@U11HH3P7Y> <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3647\/1> seems that Jenkins passed but did not vote. Odd. Maybe an aberration?","ts":"1483638788.001304"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP> let me look","ts":"1483638856.001305"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP> the issue is it started 3 jobs and they haven't all completed.","ts":"1483638906.001306"},{"type":"message","user":"U0KM61BCP","text":"ah","ts":"1483639053.001307"},{"type":"message","user":"U0UHG4VP1","text":"I marked the one job as silent, so now it should only trigger two jobs. You were fine leaving it +1 verified, the two important jobs passed","ts":"1483639259.001308"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-node-sdk-x86_64\/126\/> and <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/4688\/> passed, the other one shouldn't be voting right now","ts":"1483639305.001309"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> for Monday <https:\/\/jira.hyperledger.org\/browse\/FAB-1548>","ts":"1483825006.001310","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP>: NACR or 2+2 rules?","ts":"1483834478.001311"},{"type":"message","user":"U0KM61BCP","text":"2+2 i think","ts":"1483834510.001312"},{"type":"message","user":"U0UHG4VP1","text":"ok","ts":"1483834562.001313"},{"type":"message","user":"U0KPFAZNF","text":"I agree: 2+2","ts":"1483843115.001314"},{"type":"message","user":"U0KPFAZNF","text":"thanks for the JIRA, <@U0KM61BCP>","ts":"1483843132.001315"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KPFAZNF> at this point the repo, mirror, and dockerhub are wired up. Jenkins isn't","ts":"1483853428.001316"},{"type":"message","user":"U0UHG4VP1","text":"so feel free to start repo surgery as you like","ts":"1483853456.001317"},{"type":"message","user":"U0Z41KY5V","text":"Dear all, anyone can help see if the ci works right now? I use recheck and reverify to trigger ci for <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3601\/>, but it doesn\u2019t react. Thanks!","ts":"1483947321.001318"},{"type":"message","user":"U0UHG4VP1","text":"baohua I retriggered it","ts":"1483947531.001319"},{"type":"message","user":"U0UHG4VP1","text":"I wonder if the retrigger plugin is broken. the ci skip plugin broke as well","ts":"1483947558.001320"},{"type":"message","user":"U0UHG4VP1","text":"<@U0Z41KY5V> they are all failing for the same reason: not connecting.","ts":"1483948724.001321"},{"type":"message","user":"U0UHG4VP1","text":"<@U0Z41KY5V> let me look into this in an hour or so","ts":"1483948755.001322"},{"type":"message","user":"U0Z41KY5V","text":"thanks ry, i will look at it :slightly_smiling_face:","ts":"1483949819.001323"},{"type":"message","user":"U0UHG4VP1","text":"<@U0Z41KY5V>: I wonder if it is part of the older image the minion was using ","ts":"1483950308.001324"},{"type":"message","user":"U0KM61BCP","text":"<@U11HH3P7Y> <@U0Z41KY5V> and the TWGC want to start work on some localization of the docs into Chinese","ts":"1483975766.001325"},{"type":"message","user":"U0KM61BCP","text":"Do you know how we might handle that?","ts":"1483975778.001326"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> thanks for leg work: basic code is available for us to build jenkins around","ts":"1483977178.001327"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3761\/>","ts":"1483977179.001328"},{"type":"message","user":"U0KPFAZNF","text":"i think I will add \"make test\" to serve as the litmus test of whether a build worked","ts":"1483977199.001329"},{"type":"message","user":"U0KPFAZNF","text":"so, <@U11HH3P7Y> it would basically be \"make test\" for -verify\/-merge, and \"make install\" for -release","ts":"1483977231.001330"},{"type":"message","user":"U0KPFAZNF","text":"there will be follow up patches to fabric.git\/fabric-cop.git (and longer term, fabric-chaintool.git) once the docker image is published","ts":"1483977295.001331"},{"type":"message","user":"U11HH3P7Y","text":"ok will submit patch and let you know","ts":"1483978492.001332"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KPFAZNF>: Are we running busybox test on all platforms?","ts":"1483983986.001333"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> thats a good question, def need to -release it on all","ts":"1483984011.001334"},{"type":"message","user":"U0KPFAZNF","text":"I would think we want to -verify\/-merge it on all too","ts":"1483984025.001335","reactions":[{"name":"+1","users":["U11NUTP4L"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"<@U0YK3KKCY> <@U11NUTP4L> any thoughts?","ts":"1483984044.001336"},{"type":"message","user":"U0YK3KKCY","text":"What is meant by \"running busybox test\" ?","ts":"1483984153.001337"},{"type":"message","user":"U0YK3KKCY","text":"busybox is compiled and used during the build process on z","ts":"1483984172.001338"},{"type":"message","user":"U0KPFAZNF","text":"<@U0YK3KKCY> the context is we are breaking the busybox image out into its own repo\/flow","ts":"1483984180.001339"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3761\/>","ts":"1483984181.001340"},{"type":"message","user":"U0KPFAZNF","text":"so, we will have busybox.git and hyperledger\/fabric-busybox on dockerhub, etc","ts":"1483984206.001341"},{"type":"message","user":"U0KPFAZNF","text":"the question is: as part of running CI, should all three platforms run the -verify\/-merge checks","ts":"1483984227.001342"},{"type":"message","user":"U0KPFAZNF","text":"(they def need to run the -release flow, since that is what will push the image to dockerhub)","ts":"1483984245.001343"},{"type":"message","user":"U0KPFAZNF","text":"I am thinking they should all run the -verify stage too, but wanted your input","ts":"1483984258.001344"},{"type":"message","user":"U0YK3KKCY","text":"I would like z to have a vote in all -veryify and -merge checks... including fabric-cop verifies and merges","ts":"1483984302.001345"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jira.hyperledger.org\/browse\/FAB-1548>","ts":"1483984352.001346"},{"type":"message","user":"U0YK3KKCY","text":"there still is a very real chance that CRs get merged and break z or p.  Right now it's more of a manual process to ensure that this scenario does not happen.","ts":"1483984361.001347"},{"type":"message","user":"U0KPFAZNF","text":"right, thats what I figured but didnt want to assume","ts":"1483984375.001348"},{"type":"message","user":"U0KPFAZNF","text":"i wanted to be sensitive to consuming additional cycles","ts":"1483984385.001349"},{"type":"message","user":"U0YK3KKCY","text":"Understood.","ts":"1483984392.001350"},{"type":"message","user":"U0KPFAZNF","text":"though in this case, I expect minimal impact","ts":"1483984396.001351"},{"type":"message","user":"U0KPFAZNF","text":"(I expect this to be extremely low-churn image","ts":"1483984409.001352"},{"type":"message","user":"U0ZJZBJLF","text":"Are the Z and P machines also running in linux foundation?","ts":"1483984417.001353"},{"type":"message","user":"U0YK3KKCY","text":"I can't speak for P, but all of the z Systems machines are owned and run within the IBM corporation.","ts":"1483984465.001354"},{"type":"message","user":"U0ZJZBJLF","text":"so how does that work? they have SSH access to DMZ servers?","ts":"1483984505.001355"},{"type":"message","user":"U0KPFAZNF","text":"<@U0ZJZBJLF> to add additional color, my understanding is that the machines in question are sponsored by outside members and integrated into LF jenkins","ts":"1483984514.001356"},{"type":"message","user":"U0KPFAZNF","text":"(its probably IBM on both counts, though this I am unsure of)","ts":"1483984533.001357"},{"type":"message","user":"U0YK3KKCY","text":"the z machines are publicly accessible machines","ts":"1483984544.001358"},{"type":"message","user":"U0YK3KKCY","text":"firewalled off from internal IBM","ts":"1483984557.001359"},{"type":"message","user":"U0KPFAZNF","text":"this is in contrast to the x86 infra, which is managed directly by LF","ts":"1483984597.001360"},{"type":"message","user":"U0YK3KKCY","text":"I see.","ts":"1483984606.001361"},{"type":"message","user":"U0KPFAZNF","text":"sorry <@U0YK3KKCY> that was a response to <@U0ZJZBJLF> not you","ts":"1483984666.001362"},{"type":"message","user":"U0YK3KKCY","text":"k","ts":"1483984681.001363"},{"type":"message","user":"U0KPFAZNF","text":"continuation of the two lines above it","ts":"1483984695.001364"},{"type":"message","user":"U0YK3KKCY","text":"<@U0KPFAZNF> re: busybox -verify -merge checks running on z Systems, I have no issue with this.  It's all good!","ts":"1483984860.001365","reactions":[{"name":"+1","users":["U0KPFAZNF","U11HH3P7Y"],"count":2}]},{"type":"message","user":"U11HH3P7Y","text":"for now will create busybox jobs for x86 and z.. once <@U11NUTP4L> confirm will add job for power..","ts":"1483985550.001366"},{"type":"message","user":"U12V3D2P2","text":"Power machines are sponsored by university and have public IPs","ts":"1483986300.001367"},{"type":"message","user":"U11NUTP4L","text":"<@U11HH3P7Y> my suggestion would be to add - verify and -merge as well for power platform ","edited":{"user":"U11NUTP4L","ts":"1483987459.000000"},"ts":"1483986468.001368"},{"type":"message","user":"U11NUTP4L","text":"As <@U12V3D2P2> mentioned, the power build systems are part of the OSU and are accessible to the LF CI","ts":"1483986564.001369"},{"type":"message","user":"U11NUTP4L","text":"<@U0KPFAZNF>, so with this change, fabric-baseimage will then make use of these platform specific busybox images? ","ts":"1483986672.001370"},{"type":"message","user":"U0KPFAZNF","text":"<@U11NUTP4L> its actually somewhat orthogonal currently.  At best, its the other way around","ts":"1483987282.001371"},{"type":"message","user":"U0KPFAZNF","text":"baseimage is the root for most things build-time (and currently, runtime for chaincode) whereas busybox is runtime","ts":"1483987318.001372"},{"type":"message","user":"U0KPFAZNF","text":"in genera, we use baseimage to build something, and then strip it down and stuff the result into a minimal container with busybox","ts":"1483987349.001373"},{"type":"message","user":"U11NUTP4L","text":"Oh. OK. Got it. And that would be used as runtime","ts":"1483987371.001374"},{"type":"message","user":"U0KPFAZNF","text":"the reason I mentioned it being \"the other way around\" is I actually use baseimage to compile busybox itself :wink:","ts":"1483987388.001375"},{"type":"message","user":"U11NUTP4L","text":"OK. ","ts":"1483987420.001376"},{"type":"message","user":"U0KPFAZNF","text":"(see line 21: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3761\/5\/docker-env.mk>)","ts":"1483987440.001377"},{"type":"message","user":"U0KPFAZNF","text":"that way, I can leverage all the X\/P\/Z work already done to get an $arch neutral compiler environment","ts":"1483987465.001379"},{"type":"message","user":"U12V3D2P2","text":"I cherry picked CR 3761, tried make test, it worked with output \"It Works\". make install didn't work due to lack of authentication to repository.","ts":"1483987480.001380","reactions":[{"name":"+1","users":["U11NUTP4L"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"cool, that sounds FAD then","ts":"1483987499.001381"},{"type":"message","user":"U11HH3P7Y","text":"<@U12V3D2P2> <@U11NUTP4L> thanks. will create a job for power too","ts":"1483987717.001382","reactions":[{"name":"+1","users":["U12V3D2P2","U11NUTP4L"],"count":2}]},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> is the fabric-cop CI state known to be broken?","ts":"1483988587.001383"},{"type":"message","user":"U0KPFAZNF","text":"I see the last -merge job succeeded, but I have two different -verify jobs that are failing in ways that look unrelated to the change","ts":"1483988622.001384"},{"type":"message","user":"U0KPFAZNF","text":"so figured id check","ts":"1483988631.001385"},{"type":"message","user":"U0KPFAZNF","text":"for example: <https:\/\/jenkins.hyperledger.org\/job\/fabric-cop-verify-x86_64\/280\/console>","ts":"1483988675.001386"},{"type":"message","user":"U0KPFAZNF","text":"its entirely possible I broke this, but it doesnt look obviously so","ts":"1483988695.001387"},{"type":"message","user":"U0UHG4VP1","text":"looking here: <https:\/\/jenkins.hyperledger.org\/view\/fabric-cop\/job\/fabric-cop-verify-x86_64\/> I would say no, since other changes around yours have built","ts":"1483988705.001388"},{"type":"message","user":"U0KPFAZNF","text":"seems more environmental","ts":"1483988706.001389"},{"type":"message","user":"U0KPFAZNF","text":"hmm, ok","ts":"1483988741.001390"},{"type":"message","user":"U0UHG4VP1","text":"I'm not sure why mkdir would be failing though","ts":"1483988766.001391"},{"type":"message","user":"U0KPFAZNF","text":"exactly","ts":"1483988771.001392"},{"type":"message","user":"U0KPFAZNF","text":"its very odd","ts":"1483988776.001393"},{"type":"message","user":"U0KPFAZNF","text":"some of the stuff that would have happened after this step I would be more suspicious of my patch","ts":"1483988793.001394"},{"type":"message","user":"U0KPFAZNF","text":"but this just looks fundamental...very strange","ts":"1483988800.001395"},{"type":"message","user":"U0UHG4VP1","text":"looking here for instance: <https:\/\/jenkins.hyperledger.org\/view\/fabric-cop\/job\/fabric-cop-verify-x86_64\/278\/consoleFull> it isn't trying to pull in the same stuff","ts":"1483988825.001396"},{"type":"message","user":"U0UHG4VP1","text":"cloudflare, for instance, appears in 280 but not 278","ts":"1483988862.001397"},{"type":"message","user":"U0KPFAZNF","text":"this would be happening at 16:30:24","ts":"1483988874.001398"},{"type":"message","user":"U0KPFAZNF","text":"between 16:30:24 and 16:31:06 is what breaks (IIUC)","ts":"1483988893.001399"},{"type":"message","user":"U0KPFAZNF","text":"its a silent step in the instance that works","ts":"1483988920.001400"},{"type":"message","user":"U0KPFAZNF","text":"i think i see the problem","ts":"1483989080.001401"},{"type":"message","user":"U0KPFAZNF","text":"it is my patch (if i am right)","ts":"1483989094.001402"},{"type":"message","user":"U0UHG4VP1","text":"OK. I retriggered 280 regardless","ts":"1483989116.001403"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: im pretty sure this was the issue: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3763\/2..3\/Makefile>","ts":"1483989516.001404"},{"type":"message","user":"U0KPFAZNF","text":"lets see what happens in the respin","ts":"1483989523.001405"},{"type":"message","user":"U0KPFAZNF","text":"the $GOPATH\/pkg volume mount was not being handled correctly","ts":"1483989553.001406"},{"type":"message","user":"U0KPFAZNF","text":"im actually not sure why this worked in the local build, though","ts":"1483989603.001407"},{"type":"message","user":"U0KPFAZNF","text":"i was even testing with \"make clean\" which should have had the same issue","ts":"1483989614.001408"},{"type":"message","user":"U0KPFAZNF","text":"oh well","ts":"1483989615.001409"},{"type":"message","user":"U0KPFAZNF","text":"got past that point now, sorry for the noise","ts":"1483989693.001410"},{"type":"message","user":"U0KPFAZNF","text":"on a related note: I fully expect 3767 to fail until we get the images pushing for FAB-1548","ts":"1483989753.001411"},{"type":"message","user":"U0KPFAZNF","text":"just wanted a CR placeholder to track in jira, and to allow reviews, etc","ts":"1483989775.001412"},{"type":"message","user":"U0UHG4VP1","text":"understood","ts":"1483989805.001413"},{"type":"message","user":"U0UHG4VP1","text":"I think the issue is, in ci, you can't write to \/opt","ts":"1483989823.001414"},{"type":"message","user":"U0KPFAZNF","text":"note that is inside docker","ts":"1483989851.001415"},{"type":"message","user":"U0KPFAZNF","text":"the issue was related to the fact that I was volume mounting .\/build\/...\/pkg to \/opt\/gopath\/pkg, but failing to create .\/build\/...\/pkg first","ts":"1483989882.001416"},{"type":"message","user":"U0UHG4VP1","text":"ah thank you, I didn't catch that","ts":"1483989892.001417"},{"type":"message","user":"U0KPFAZNF","text":"I actually dont know how the local build was working (though it def was)","ts":"1483989904.001418"},{"type":"message","user":"U0KPFAZNF","text":"i tried it multiple times","ts":"1483989908.001419"},{"type":"message","user":"U0KPFAZNF","text":"very strange","ts":"1483989910.001420"},{"type":"message","user":"U0KPFAZNF","text":"it should have exploded everywhere with equal enthusiasm :wink:","ts":"1483989921.001421","reactions":[{"name":"+1","users":["U0YK3KKCY"],"count":1}]},{"type":"message","user":"U0UHG4VP1","text":"our hosting provider is having some slowdown - unclear if it is storage or network related - more information as I have it. so far it isn't hitting our silo very hard but if previous experience is a guide, it will spread to us before it's resolved","ts":"1484072316.001422"},{"type":"message","user":"U0UHG4VP1","text":"they're migrating from troublesome Samsung SSDs to better performing Intel SSDs to address this","ts":"1484073597.001423"},{"type":"message","user":"U0UHG4VP1","text":"as evidence: my third and fourth packer runs have gone faster and without errors. the first two were very slow and full of errors","ts":"1484073659.001424"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins: do I need to bake librocks into our CI servers any more, or is that obviated by your docker work?","ts":"1484074330.001425"},{"type":"message","user":"U0XPR4NP4","text":"<@U0UHG4VP1> I am seeing:\n\n```\nFAIL\t<http:\/\/github.com\/hyperledger\/fabric\/core\/chaincode|github.com\/hyperledger\/fabric\/core\/chaincode>\t1200.082s\n```\n\nCome out of almost all of my CI runs.  Do we think this is related to the slowdowns you mentioned? Or are we tracking this otherwise?","ts":"1484076272.001426"},{"type":"message","user":"U0UHG4VP1","text":"possibly related? could you give me a link to a specific failed job so I can look into it in a couple hours?","ts":"1484076328.001427"},{"type":"message","user":"U0UHG4VP1","text":"if it looks i\/o related, yes. if it's network timeouts, no, we aren't tracking it","ts":"1484076349.001428"},{"type":"message","user":"U0UHG4VP1","text":"I can escalate it if it is a network issue","ts":"1484076357.001429"},{"type":"message","user":"U0UHG4VP1","text":"jyellick: which job is this that's failing?","ts":"1484076506.001430"},{"type":"message","user":"U0XPR4NP4","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/4940\/console>","ts":"1484076564.001431"},{"type":"message","user":"U0XPR4NP4","text":"That is one of them, but there are several others I can link you to","ts":"1484076573.001432"},{"type":"message","user":"U0XPR4NP4","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/4946\/console> is another that just failed (though differently)","ts":"1484076678.001433"},{"type":"message","user":"U0UHG4VP1","text":"OK. I'm looking at it, it looks like a deadlock to me. Is it doing any networking off-host?","ts":"1484076678.001434"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3QCNL24X\/everything_looks_good_up_to_here_and_then_it_hangs.txt|everything looks good up to here and then it hangs>","file":{"id":"F3QCNL24X","created":1484076752,"timestamp":1484076752,"name":"everything_looks_good_up_to_here_and_then_it_hangs.txt","title":"everything looks good up to here and then it hangs","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":110,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3QCNL24X\/everything_looks_good_up_to_here_and_then_it_hangs.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3QCNL24X\/download\/everything_looks_good_up_to_here_and_then_it_hangs.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3QCNL24X\/everything_looks_good_up_to_here_and_then_it_hangs.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3QCNL24X-fe378b49a0","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3QCNL24X\/everything_looks_good_up_to_here_and_then_it_hangs.txt\/edit","preview":"19:00:44 [33munit-tests_1  |[0m ok  \tgithub.com\/hyperledger\/fabric\/core\t0.024s\tcoverage: 18.8% of statements","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>19:00:44 [33munit-tests_1  |[0m ok      github.com\/hyperledger\/fabric\/core  0.024s  coverage: 18.8% of statements<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":1,"lines_more":0,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1484076752.001435"},{"type":"message","user":"U0XPR4NP4","text":"There's nothing new in these changesets like that, though I can't speak to the entirety of the hyperledger\/fabric test suite (though I can say nothing in `chaincode` was changed.)","ts":"1484076753.001436"},{"type":"message","user":"U0UHG4VP1","text":"4940 fails at the same statement","ts":"1484076831.001437"},{"type":"message","user":"U0XPR4NP4","text":"It was 4946 that failed differently\n\n```\n\n19:20:46 Removing intermediate container 54b3773076c7\n19:20:46 Successfully built d2795e7fd7b7\n19:20:46 docker tag hyperledger\/fabric-peer hyperledger\/fabric-peer:x86_64-0.7.0-snapshot-39bd8e2\n19:20:46 cd unit-test &amp;&amp; docker-compose up --abort-on-container-exit --force-recreate &amp;&amp; docker-compose down\n19:20:47 The TEST_PKGS variable is not set. Defaulting to a blank string.\n19:20:47 Creating unittest_vp_1\n19:21:56 Creating unittest_unit-tests_1\n19:22:56 \n19:22:56 ERROR: for unit-tests  UnixHTTPConnectionPool(host='localhost', port=None): Read timed out. (read timeout=60)\n19:22:56 An HTTP request took too long to complete. Retry with --verbose to obtain debug information.\n19:22:56 If you encounter this issue regularly because of slow network conditions, consider setting COMPOSE_HTTP_TIMEOUT to a higher value (current value: 60).\n19:22:56 Makefile:102: recipe for target 'unit-test' failed\n19:22:56 make: *** [unit-test] Error 1\n19:22:56 Build step 'Execute shell' marked build as failure\n19:22:56 [ssh-agent] Stopped.\n19:22:56 Skipping Cobertura coverage report as build was not UNSTABLE or better ...\n19:22:56 Finished: FAILURE\n```\n\n<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/4945\/console> this is one that just failed that way","edited":{"user":"U0XPR4NP4","ts":"1484076937.000000"},"ts":"1484076855.001438"},{"type":"message","user":"U0XPR4NP4","text":"It is from a very small changeset <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3827\/> off master if that helps","ts":"1484076872.001439"},{"type":"message","user":"U0XPR4NP4","text":"(By very small, I mean there was one line of non-generated code changed [though the diff is somewhat large because of all the regenerated code])","edited":{"user":"U0XPR4NP4","ts":"1484076908.000000"},"ts":"1484076892.001440"},{"type":"message","user":"U0UHG4VP1","text":"looking here: <https:\/\/jenkins.hyperledger.org\/job\/fabric-merge-x86_64\/> I see builds 705 and greater failed","ts":"1484076999.001443"},{"type":"message","user":"U0UHG4VP1","text":"I wonder if this rename is breaking? <https:\/\/jenkins.hyperledger.org\/job\/fabric-merge-x86_64\/704\/>","ts":"1484077031.001444"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3797\/> is the last change that merged and worked. the next change was my fix of maintainers.md, which seems unlikely","ts":"1484077073.001445"},{"type":"message","user":"U0UHG4VP1","text":"but my change is broken on merge","ts":"1484077084.001446"},{"type":"message","user":"U0XPR4NP4","text":"Hmmm","ts":"1484077110.001447"},{"type":"message","user":"U0UHG4VP1","text":"I've retriggered the merge for my change to see if the failure is transient. it failed in the same way 4945 failed for example","ts":"1484077167.001448"},{"type":"message","user":"U0UHG4VP1","text":"once it comes around <https:\/\/jenkins.hyperledger.org\/job\/fabric-merge-x86_64\/> build 708 will be of interest","ts":"1484077188.001449"},{"type":"message","user":"U0XPR4NP4","text":"3797 really looks pretty innocuous as well:\n\n```\ncore\/committer\/committer.go\n19-import \"<http:\/\/github.com\/hyperledger\/fabric\/protos\/common|github.com\/hyperledger\/fabric\/protos\/common>\"\n20-\n21-\/\/ Committer is the interface supported by committers\n22:\/\/ The only committer is noopssinglechain committer.\n23-\/\/ The interface is intentionally sparse with the sole\n24-\/\/ aim of \"leave-everything-to-the-committer-for-now\".\n25-\/\/ As we solidify the bootstrap process and as we add\n\ncore\/deliverservice\/client.go\n39-var logger *logging.Logger \/\/ package-level logger\n40-\n41-func init() {\n42:\tlogger = logging.MustGetLogger(\"noopssinglechain.client\")\n43-}\n44-\n45-\/\/ DeliverService used to communicate with orderers to obtain\n```\n\nThose seem to be the only remaining references to the `noopssinglechain`","ts":"1484077624.001450"},{"type":"message","user":"U0UHG4VP1","text":"I see that the merge builds that failed took about 2x the time to get that far. let's see if 708 makes it through in a reasonable amount of time","ts":"1484077742.001451"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/jenkins.hyperledger.org\/view\/fabric\/job\/fabric-verify-x86_64\/buildTimeTrend> looks like a similar shape","ts":"1484077799.001452","reactions":[{"name":"+1","users":["U0ULK2JPP"],"count":1}]},{"type":"message","user":"U0ULK2JPP","text":"<@U0UHG4VP1> fwiw see `panic: test timed out after 20m0s` with 707","ts":"1484077853.001453"},{"type":"message","user":"U0XPR4NP4","text":"And for what it's worth, `make unit-test` (on master) seems to work just fine on my laptop:\n\n```\nunit-tests_1  | ok  \t<http:\/\/github.com\/hyperledger\/fabric\/core\/chaincode|github.com\/hyperledger\/fabric\/core\/chaincode>\t293.558s\tcoverage: 60.5% of statements\n```","edited":{"user":"U0XPR4NP4","ts":"1484079190.000000"},"ts":"1484079081.001454"},{"type":"message","user":"U0XPR4NP4","text":"<@U0ULK2JPP> Do you think there is potential for parallelizing the chaincode tests? 5 minutes is a long time for a unit test (and longer in CI)","ts":"1484079115.001455"},{"type":"message","user":"U0ULK2JPP","text":"<@U0XPR4NP4>","ts":"1484079135.001456"},{"type":"message","user":"U0ULK2JPP","text":"yes there is","ts":"1484079143.001457"},{"type":"message","user":"U0ULK2JPP","text":"and also want to do 2 more things (1) break up the chaincode tests into packages and (2) skip some tests that are really dups","ts":"1484079184.001458"},{"type":"message","user":"U0ULK2JPP","text":"parallizing is possible but will take a bit more work","ts":"1484079239.001460"},{"type":"message","user":"U0ZJZBJLF","text":"is it possible to mock the file system in these tests?","ts":"1484079241.001461"},{"type":"message","user":"U0ULK2JPP","text":"yes","ts":"1484079250.001462"},{"type":"message","user":"U0ZJZBJLF","text":"wouldn't that speed them?","ts":"1484079250.001463"},{"type":"message","user":"U0ULK2JPP","text":"that\u2019s the final frontier","ts":"1484079257.001464"},{"type":"message","user":"U0ZJZBJLF","text":"or the ledger, anything that isn't the point of the test and depends on disks","ts":"1484079270.001465"},{"type":"message","user":"U0ULK2JPP","text":"the only thing is that\u2019s considerable work \u2026 reverse engineering","ts":"1484079291.001466"},{"type":"message","user":"U0ZJZBJLF","text":"how is it reverse engineering if you have the code?","ts":"1484079316.001467"},{"type":"message","user":"U0XPR4NP4","text":"Maybe <@U1KFCPFQA> has some standard way to spin up a ledger without actually writing to disk?","ts":"1484079355.001468"},{"user":"U1KFCPFQA","inviter":"U0XPR4NP4","text":"<@U1KFCPFQA|dave.enyeart> has joined the channel","type":"message","subtype":"channel_join","ts":"1484079361.001469"},{"type":"message","user":"U0ULK2JPP","text":"its not the ledger","ts":"1484079384.001470"},{"type":"message","user":"U0ULK2JPP","text":"its just the docker stuff","ts":"1484079389.001471"},{"type":"message","user":"U0ULK2JPP","text":"and by reverse engineering I meant that we have to redo the tests from a mock stand point","ts":"1484079421.001472","reactions":[{"name":"+1","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U0ZJZBJLF","text":"but, Ry said that they have disk problems, and suddenly the tests fail, isn't that some clue on the problem?","ts":"1484079431.001473"},{"type":"message","user":"U0ULK2JPP","text":"it might be the disks used by docker","ts":"1484079448.001474"},{"type":"message","user":"U0ULK2JPP","text":"and not our ledger","ts":"1484079451.001475"},{"type":"message","user":"U0ZJZBJLF","text":"oh damn. it's not  that easy then :disappointed:","ts":"1484079464.001476"},{"type":"message","user":"U0UHG4VP1","text":"right now our provider has a mix of Samsung and Intel SSDs.","ts":"1484079468.001477"},{"type":"message","user":"U0UHG4VP1","text":"they are working to get us all the way on to Intel SSDs, but right now we might be on a mix.","ts":"1484079493.001478"},{"type":"message","user":"U0UHG4VP1","text":"basically they're replacing Samsung drives as they show latency","ts":"1484079504.001479","reactions":[{"name":"+1","users":["U0ULK2JPP"],"count":1}]},{"type":"message","user":"U0UHG4VP1","text":"if I understand the situation we're draining the Canadian supply of Intel SSDs.","ts":"1484079539.001480","reactions":[{"name":"grinning","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U0XPR4NP4","text":"<@U0UHG4VP1> Something that's never made sense to me, why does CI run slower than the same tests on my laptop?  It sounds like we are throwing some serious hardware at it... is it just resource contention?","ts":"1484079604.001481"},{"type":"message","user":"U0UHG4VP1","text":"are you running it from a completely new instance? when I compared our slices to cbf's laptop in Amsterdam they were approximately equal. the major difference is there is no caching in CI (by design)","ts":"1484079689.001482"},{"type":"message","user":"U0UHG4VP1","text":"so - I don't know. From a CPU and RAM standpoint we should be approximately equal. I can look up the exact specs if you would like","ts":"1484079735.001483"},{"type":"message","user":"U0XPR4NP4","text":"I am just looking at the timestamps on the output of the unit tests.  I would think by the time the unit test code is actually spun up, caching of things like docker images should not be a problem.","ts":"1484079746.001484"},{"type":"message","user":"U0UHG4VP1","text":"it is a puzzle and, tbh, a bit of a religious issue for me. it's hard to beat the \"run the unit tests\" drum if it's slower and more flaky in CI","ts":"1484079782.001485"},{"type":"message","user":"U0XPR4NP4","text":"Not like knowing the exact specs is going to change anything, I just would normally expect a server class machine to shred my laptop in terms of compile times etc.","ts":"1484079787.001486"},{"type":"message","user":"U0UHG4VP1","text":"when we tested this, I set up a VM with much more CPU and RAM and it didn't go faster.","ts":"1484079847.001487"},{"type":"message","user":"U0UHG4VP1","text":"so, I don't know. Are you coming to SF in a few weeks? I'm willing to sit down and work on this to understand it","ts":"1484079901.001488"},{"type":"message","user":"U0KPFAZNF","text":"i can say anecdotally that the CI VMs seem to be substantially slower that certain tasks than local builds: for instance, vagrant builds of the baseimage","ts":"1484079946.001489"},{"type":"message","user":"U0XPR4NP4","text":"No SF for me, but would be happy to work with you if there's some way I can be helpful","ts":"1484079949.001490"},{"type":"message","user":"U0KPFAZNF","text":"however, to be fair, that might be a nested VM specific limitation rather than an indictment of the overall power available","ts":"1484079972.001491"},{"type":"message","user":"U0KPFAZNF","text":"IIRC it was about 4x slower though","ts":"1484080000.001492"},{"type":"message","user":"U0XPR4NP4","text":"<@U0UHG4VP1> Looking at <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/4952\/console> it's made it past chaincode","ts":"1484080089.001493"},{"type":"message","user":"U0XPR4NP4","text":"Looks like maybe it was a transient performance problem after all, but will have to see how the other builds turn out","ts":"1484080108.001494"},{"type":"message","user":"U0XPR4NP4","text":"As an example performance comparison, after running a `make clean` locally, running `make unit-test` I see:\n```\nunit-tests_1  | ok  \t<http:\/\/github.com\/hyperledger\/fabric\/core\/chaincode|github.com\/hyperledger\/fabric\/core\/chaincode>\t276.892s\tcoverage: 60.5% of statements\n```\nCompared to the CI run\n```\n20:21:22 \u001b[33munit-tests_1  |\u001b[0m ok  \t<http:\/\/github.com\/hyperledger\/fabric\/core\/chaincode|github.com\/hyperledger\/fabric\/core\/chaincode>\t1142.413s\tcoverage: 60.5% of statements\n```","ts":"1484080509.001495"},{"type":"message","user":"U0XPR4NP4","text":"And, `make clean &amp;&amp; time make unit-test` takes 17 minutes of real time on my laptop, comparing to the same steps in the CI logs which in 4952 took 57 minutes","edited":{"user":"U0XPR4NP4","ts":"1484081031.000000"},"ts":"1484081024.001496"},{"type":"message","user":"U0KM61BCP","text":"yeah, I have been saying this for weeks... combination of things contribute to slownesd","ts":"1484081136.001498"},{"type":"message","user":"U0XPR4NP4","text":"Personally, even 17 minutes locally is far too long for unit tests.  Would love to see this drop down by an order of magnitude (Which would undoubtedly help CI as well).  For starters I think we could run the individual package tests in parallel.  Even on a relatively weak machine, I imagine at least 2 or 3 could run in parallel, with many more for a stronger one.","ts":"1484081461.001499"},{"type":"message","user":"U0UHG4VP1","text":"I think the next step is to see how this compares to p and z, and see if they're also slower than your laptops","ts":"1484083372.001500"},{"type":"message","user":"U0KPFAZNF","text":"I am of the opinion that we would be well served to tier the testing with the first tier under 5 minutes as a goal","ts":"1484083771.001501"},{"type":"message","user":"U0KPFAZNF","text":"quick\/dirty UTs","ts":"1484083788.001502"},{"type":"message","user":"U0KPFAZNF","text":"encourage frequent exercise, etc","ts":"1484083797.001503"},{"type":"message","user":"U0KPFAZNF","text":"and then move more heavy weight stuff to subsequent tiers","ts":"1484083814.001504"},{"text":"looks at chaincode UT","type":"message","subtype":"me_message","user":"U0KPFAZNF","ts":"1484083826.001505"},{"type":"message","user":"U12452RAP","text":"<@U0UHG4VP1> any update for CI environment, python SDK build came across odd issue","ts":"1484109442.001506"},{"type":"message","user":"U0UHG4VP1","text":"grapebaba did you get my email?","ts":"1484109684.001507"},{"type":"message","user":"U12452RAP","text":"Yes ","ts":"1484109702.001508"},{"type":"message","user":"U12452RAP","text":"but i am curious as we don't change anything ","ts":"1484109734.001509"},{"type":"message","user":"U12452RAP","text":"I saw <@U0Z41KY5V> replied","ts":"1484109983.001510"},{"type":"message","user":"U12452RAP","text":"missing python-dev","ts":"1484109988.001511"},{"type":"message","user":"U0UHG4VP1","text":"yes I am fixing that right now","ts":"1484110151.001512"},{"type":"message","user":"U0UHG4VP1","text":"it will be about 20-30 minutes","ts":"1484110160.001513"},{"type":"message","user":"U0UHG4VP1","text":"you didn't change anything, I did","ts":"1484110171.001514"},{"type":"message","user":"U12452RAP","text":":ok_hand:","ts":"1484110247.001515"},{"type":"message","user":"U12452RAP","text":"thanks","ts":"1484110249.001516"},{"type":"message","user":"U0UHG4VP1","text":"I rolled you back. <https:\/\/jenkins.hyperledger.org\/view\/fabric-sdk-py\/job\/fabric-verify-sdk-py-x86_64\/> is working","ts":"1484114676.001517","reactions":[{"name":"+1","users":["U12452RAP"],"count":1}]},{"type":"message","user":"U0Z41KY5V","text":"thanks ry!","ts":"1484120063.001518"},{"user":"U0Z41KY5V","text":"<@U0Z41KY5V|baohua> has left the channel","type":"message","subtype":"channel_leave","ts":"1484120081.001519"},{"type":"message","user":"U0XQ35CDD","text":"Any idea why this shows up as -1 when CI ran successfully? <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3813\/>","ts":"1484166667.001520"},{"type":"message","user":"U0UHG4VP1","text":"kostas: patchset 2 compile correctly. the current patchset, 4, did ot","ts":"1484166835.001521"},{"type":"message","user":"U0XQ35CDD","text":"A-ha. Thank you.","ts":"1484166869.001522"},{"type":"message","user":"U0UHG4VP1","text":"kostas: I retriggered 4","ts":"1484166880.001523","reactions":[{"name":"metal","users":["U0XQ35CDD"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> seems some bad karma in the -busybox pipeline","ts":"1484237432.001524"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-busybox-verify-x86_64\/2\/console>","ts":"1484237433.001525"},{"type":"message","user":"U0KPFAZNF","text":"any ideas?","ts":"1484237436.001526"},{"type":"message","user":"U0UHG4VP1","text":"ghaskins: the setup isn't done for them, you can safely ignore right now","edited":{"user":"U0UHG4VP1","ts":"1484237488.000000"},"ts":"1484237466.001527"},{"type":"message","user":"U0KPFAZNF","text":"roger, ok","ts":"1484237493.001529"},{"type":"message","user":"U0UHG4VP1","text":"I think ramesh is working on the end-to-end stuff rn","ts":"1484237533.001530"},{"type":"message","user":"U11HH3P7Y","text":"`make test` is part of this commit <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3761\/>","ts":"1484237571.001531"},{"type":"message","user":"U11HH3P7Y","text":"which is in review","ts":"1484237611.001532"},{"type":"message","user":"U0KPFAZNF","text":"no worries, and no rush","ts":"1484237710.001533"},{"type":"message","user":"U0KPFAZNF","text":"i just saw the V-1 so I thought id report","ts":"1484237719.001534"},{"type":"message","user":"U11HH3P7Y","text":"ok","ts":"1484237931.001535"},{"type":"message","user":"U0KM61BCP","text":"<@U11HH3P7Y> could you please look at <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3761\/7> failure? it works locally but CI is saying that 'test' target in makefile not found","ts":"1484245176.001536"},{"type":"message","user":"U11HH3P7Y","text":"ok will check now","ts":"1484245193.001537"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KM61BCP>: `make test` works only after merge of this patch..","ts":"1484246110.001538"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> shouldnt the -verify jobs be running against the CR?","ts":"1484247348.001539"},{"type":"message","user":"U0KPFAZNF","text":"I understand that being the case for -merge though","ts":"1484247360.001540"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KPFAZNF> yes it has to test against the CR but as this is a first commit without having the target .. that's why it's not working. Last week I have pull your patch and tested in sandbox environment..","ts":"1484248050.001541"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> ah, now I understand you","ts":"1484249640.001542"},{"type":"message","user":"U0KPFAZNF","text":"wait, maybe I dont understand","ts":"1484249665.001543"},{"type":"message","user":"U0KPFAZNF","text":"but no bother","ts":"1484249668.001544"},{"type":"message","user":"U1AU8DRQR","text":"what is the reason I can't submit this? <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3633\/6>","ts":"1484311224.001545"},{"type":"message","user":"U0UHG4VP1","text":"It has a merge conflict ","ts":"1484312396.001546"},{"type":"message","user":"U0UHG4VP1","text":"hgabor: `git fetch origin master` `git rebase -i origin\/master` you will see merge conflicts in main.go in the calls to the logging platform","ts":"1484312640.001547"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3R688C4A\/for_instance.txt|for instance>","file":{"id":"F3R688C4A","created":1484312690,"timestamp":1484312690,"name":"for_instance.txt","title":"for instance","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0UHG4VP1","editable":true,"size":204,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3R688C4A\/for_instance.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3R688C4A\/download\/for_instance.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3R688C4A\/for_instance.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3R688C4A-bdc9a6ef04","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3R688C4A\/for_instance.txt\/edit","preview":"++<<<<<<< HEAD\r\n +              logger.Panic(\"No data directory was given.\")\r\n++=======\r\n+               panic(\"No data directory was given.\")\r\n++>>>>>>> 42d5208... Use logger instead of fmt in SBFT app\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>++&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD<\/pre><\/div>\n<div><pre> +              logger.Panic(&quot;No data directory was given.&quot;)<\/pre><\/div>\n<div><pre>++=======<\/pre><\/div>\n<div><pre>+               panic(&quot;No data directory was given.&quot;)<\/pre><\/div>\n<div><pre>++&gt;&gt;&gt;&gt;&gt;&gt;&gt; 42d5208... Use logger instead of fmt in SBFT app<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":6,"lines_more":1,"preview_is_truncated":false,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1484312691.001548"},{"type":"message","user":"U1AU8DRQR","text":"but why I can't see the \"Cannot merge\" warning there?","ts":"1484312730.001549"},{"type":"message","user":"U0UHG4VP1","text":"I don't know - refresh the page? I see it","ts":"1484312768.001550"},{"type":"message","user":"U1AU8DRQR","text":"I ve refreshed it several times but nothing","ts":"1484312798.001551"},{"type":"message","subtype":"file_share","text":"<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3R48RALT\/screen_shot_2017-01-13_at_5.06.17_am.png|this is what I see>","file":{"id":"F3R48RALT","created":1484312824,"timestamp":1484312824,"name":"Screen Shot 2017-01-13 at 5.06.17 AM.png","title":"this is what I see","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0UHG4VP1","editable":false,"size":105561,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3R48RALT\/screen_shot_2017-01-13_at_5.06.17_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3R48RALT\/download\/screen_shot_2017-01-13_at_5.06.17_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3R48RALT-80d02a1f60\/screen_shot_2017-01-13_at_5.06.17_am_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3R48RALT-80d02a1f60\/screen_shot_2017-01-13_at_5.06.17_am_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3R48RALT-80d02a1f60\/screen_shot_2017-01-13_at_5.06.17_am_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":220,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3R48RALT-80d02a1f60\/screen_shot_2017-01-13_at_5.06.17_am_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":293,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3R48RALT-80d02a1f60\/screen_shot_2017-01-13_at_5.06.17_am_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3R48RALT-80d02a1f60\/screen_shot_2017-01-13_at_5.06.17_am_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":439,"image_exif_rotation":1,"original_w":902,"original_h":550,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3R48RALT\/screen_shot_2017-01-13_at_5.06.17_am.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3R48RALT-fb999339b6","channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U0UHG4VP1","upload":true,"display_as_bot":false,"username":"<@U0UHG4VP1|ry>","bot_id":null,"ts":"1484312826.001552"},{"type":"message","user":"U1AU8DRQR","text":"but OK, it is a merge conflict","ts":"1484312830.001553"},{"type":"message","user":"U0UHG4VP1","text":"if you go to <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3633\/> do you see it?","ts":"1484312861.001554"},{"type":"message","subtype":"file_share","text":"<@U1AU8DRQR|hgabor> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/hgabor\/F3R69K4V8\/screen_shot_2017-01-13_at_14.07.48.png|and what I see>","file":{"id":"F3R69K4V8","created":1484312935,"timestamp":1484312935,"name":"Screen Shot 2017-01-13 at 14.07.48.png","title":"and what I see","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U1AU8DRQR","editable":false,"size":195054,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3R69K4V8\/screen_shot_2017-01-13_at_14.07.48.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3R69K4V8\/download\/screen_shot_2017-01-13_at_14.07.48.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3R69K4V8-4886af0420\/screen_shot_2017-01-13_at_14.07.48_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3R69K4V8-4886af0420\/screen_shot_2017-01-13_at_14.07.48_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3R69K4V8-4886af0420\/screen_shot_2017-01-13_at_14.07.48_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":107,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3R69K4V8-4886af0420\/screen_shot_2017-01-13_at_14.07.48_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":143,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3R69K4V8-4886af0420\/screen_shot_2017-01-13_at_14.07.48_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3R69K4V8-4886af0420\/screen_shot_2017-01-13_at_14.07.48_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":215,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3R69K4V8-4886af0420\/screen_shot_2017-01-13_at_14.07.48_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":286,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3R69K4V8-4886af0420\/screen_shot_2017-01-13_at_14.07.48_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":305,"image_exif_rotation":1,"original_w":2080,"original_h":620,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/hgabor\/F3R69K4V8\/screen_shot_2017-01-13_at_14.07.48.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3R69K4V8-97132848d5","channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":0},"user":"U1AU8DRQR","upload":true,"display_as_bot":false,"username":"<@U1AU8DRQR|hgabor>","bot_id":null,"ts":"1484312937.001555"},{"type":"message","user":"U0UHG4VP1","text":"I have no idea, that is very strange","ts":"1484312967.001556"},{"type":"message","user":"U0UHG4VP1","text":"you have more power in the UI than I do, I don't know why you would see less","ts":"1484312993.001557"},{"type":"message","user":"U0UHG4VP1","text":"<@U1AU8DRQR> do you see \"merge conflict\" in the \"status\" column here? <https:\/\/gerrit.hyperledger.org\/r\/#\/q\/status:open>","ts":"1484313063.001558"},{"type":"message","user":"U1AU8DRQR","text":"here: <https:\/\/gerrit.hyperledger.org\/r\/#\/q\/status:open,50> yes","ts":"1484313907.001559"},{"type":"message","user":"U1AU8DRQR","text":"lol","ts":"1484313908.001560"},{"type":"message","user":"U1AU8DRQR","text":"is this a github problem? <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/5131\/console>","ts":"1484326106.001561"},{"type":"message","user":"U1AU8DRQR","text":"I guess so because it was down some minutes ago","ts":"1484326119.001562"},{"type":"message","user":"U11HH3P7Y","text":"yes it was down.. now it's working..","ts":"1484326283.001563"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> what is the status of Nexus?","ts":"1484580834.001564"},{"type":"message","user":"U0KM61BCP","text":"ETA?","ts":"1484580840.001565"},{"type":"message","user":"U0UHG4VP1","text":"cbf: we have nexus 2.14 up at <https:\/\/nexus.hyperledger.org\/> with log shipping on a few jobs. <https:\/\/nexus.hyperledger.org\/content\/sites\/logs\/jobbuilder\/vex-yul-hyp-jenkins-2\/fabric-busybox-verify-x86_64\/> for instance. my main task this week will be rolling out log shipping","ts":"1484583753.001566"},{"type":"message","user":"U0UHG4VP1","text":"cbf: I think <@U11HH3P7Y> has experience publishing with maven, so once I know what repos I need to set up, I can do that so we start publishing artifacts there.","ts":"1484583807.001567"},{"type":"message","user":"U0UHG4VP1","text":"what we don't have is nexus 3.0, which does the dockerhub write-back stuff. We can get a test instance running but it will be a learning experience as we (LF) don't have any projects using nexus 3 yet","ts":"1484583909.001568"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP> I'm fairly sure <@U0KPFAZNF> mentioned using nexus as a docker target even if it isn't doing the automatic write through as a possibility","ts":"1484584034.001569"},{"type":"message","user":"U0KPFAZNF","text":"I see merit in implementing the notion of persistence between stages.  I.e. Build stage compiles and publishes to nexus, and then UAT stages consume that artifact and optionally release stage pushes the artifact public ","edited":{"user":"U0KPFAZNF","ts":"1484584394.000000"},"ts":"1484584306.001570","reactions":[{"name":"+1","users":["U0KM61BCP"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"For that, I don't _think_ we need write through","ts":"1484584332.001571"},{"type":"message","user":"U0KPFAZNF","text":"But I don't know the details yet","ts":"1484584358.001572"},{"type":"message","user":"U0KPFAZNF","text":"Iiuc, we wouldn't want write through, actually","ts":"1484584449.001575"},{"type":"message","user":"U0UHG4VP1","text":"we have nexus in sandbox. I can set up a repo Tuesday when I'm back in town to work with. Is there a job that I could work on this with or is this new workflow hypothetical right now?","ts":"1484584593.001576"},{"type":"message","user":"U0UHG4VP1","text":"that is, the multi-step workflow with artifact handoffs is a future bit of work, I know that","ts":"1484584619.001577"},{"type":"message","user":"U0UHG4VP1","text":"but is there a job to use as a model","ts":"1484584628.001578"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: not aware of existing","ts":"1484586386.001579"},{"type":"message","user":"U0KPFAZNF","text":"Think it would be trivial to create though ","ts":"1484586405.001580"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: We have few test jobs in sandbox but I am using them for my testing.. Will create one with maven log and will share the job details","ts":"1484586667.001581"},{"type":"message","user":"U0UHG4VP1","text":"ramesh thank you, tell me what repos I need to create to enable you to chain jobs","ts":"1484612340.001582"},{"type":"message","user":"U1AU8DRQR","text":"<@U0UHG4VP1> what is your opinion about this copyright date? <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3863\/> I would leave it to be 2016","ts":"1484641779.001583"},{"type":"message","user":"U0UHG4VP1","text":"<@U1AU8DRQR> I don't think there should be any dates in copyright headers at all","ts":"1484641812.001584"},{"type":"message","user":"U1AU8DRQR","text":"(I would also vote for removing such dates)","ts":"1484641815.001585"},{"type":"message","user":"U0UHG4VP1","text":"I am not a lawyer","ts":"1484641817.001586"},{"type":"message","user":"U1AU8DRQR","text":"yeah agreed","ts":"1484641820.001587"},{"type":"message","user":"U1AU8DRQR","text":"aren't you? :open_mouth:","ts":"1484641834.001588"},{"type":"message","user":"U1AU8DRQR","text":"but if the file was created in 2016 then it should be 2016 I guess - no matter it was moved or anything","ts":"1484641859.001589"},{"type":"message","user":"U1AU8DRQR","text":"am I right?","ts":"1484641870.001590"},{"type":"message","user":"U0UHG4VP1","text":"which file?","ts":"1484641870.001591"},{"type":"message","user":"U1AU8DRQR","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3863\/>  orderer\/sbft_test.go","ts":"1484641902.001592"},{"type":"message","user":"U1AU8DRQR","text":"sorry I failed to paste the link last time","ts":"1484641918.001593"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3863\/5\/orderer\/sbft\/simplebft\/simplebft_test.go> ?","ts":"1484641964.001594"},{"type":"message","user":"U1AU8DRQR","text":"yeah yeah that one","ts":"1484641986.001595"},{"type":"message","user":"U0UHG4VP1","text":"it looks like you updated it to me - personally, if it is edited, I would update the year. the issue is the copyright is IBM's to assign","ts":"1484642027.001596"},{"type":"message","user":"U0UHG4VP1","text":"let me say that in a different way: it's IBM's copyright, your edits may not be under that copyright. Am I correct in this theory?","ts":"1484642093.001597"},{"type":"message","user":"U1AU8DRQR","text":"wait not that file, I will paste a correct link","ts":"1484642118.001598"},{"type":"message","user":"U1AU8DRQR","text":"(that copyright is right, it was made by Simon as an IMBer)","ts":"1484642164.001599"},{"type":"message","user":"U1AU8DRQR","text":"this one: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3635\/21\/orderer\/sbft_test.go>","ts":"1484642183.001600"},{"type":"message","user":"U0UHG4VP1","text":"ah this makes a lot more sense :slightly_smiling_face: I wouldn't update it as it is a copy, but again, IANAL","ts":"1484642323.001601"},{"type":"message","user":"U1AU8DRQR","text":"I would do the same as you. the file was created in 2016. it was moved. it is totally useless to update it in every year","ts":"1484642364.001602"},{"type":"message","user":"U1AU8DRQR","text":"btw it would be so cool to have months and days in those copyrights","ts":"1484642388.001603"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/www.youtube.com\/watch?v=xs73-eVBu6I>","edited":{"user":"U0UHG4VP1","ts":"1484642555.000000"},"ts":"1484642518.001604"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: I have created a job here for testing.. but this is an existing job which has maven code to publish log to nexus..  <https:\/\/jenkins.hyperledger.org\/sandbox\/job\/fabric-nexus-docker\/>","ts":"1484664190.001607"},{"type":"message","user":"U12V3D2P2","text":"<@U0UHG4VP1> - Power nodes are still not connecting to the Jenkins master. <@U11NUTP4L> updated libjffi.so on all nodes and rebooted them. That still didn't fix the issue. Could you please remove all Power nodes and add one back and see if the ssh-agent connects to the master ?","ts":"1484669472.001608"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> thanks - sorry, got distracted yesterday","ts":"1484670864.001609"},{"type":"message","user":"U0KM61BCP","text":"I take it that the access is intended to be R\/O except for you?","ts":"1484671013.001610"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> ok, I am a bit confused by the Nexus docs","ts":"1484672390.001611"},{"type":"message","user":"U0KM61BCP","text":"is OSS version pegged at <http:\/\/v2.14.xxx|v2.14.xxx> ?","ts":"1484672407.001612"},{"type":"message","user":"U0KM61BCP","text":"<@U11HH3P7Y> or <@U0UHG4VP1> why did CI run on this? <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4071\/1>","ts":"1484675169.001613"},{"type":"message","user":"U0KM61BCP","text":"it has [ci skip]","ts":"1484675183.001614"},{"type":"message","user":"U11HH3P7Y","text":"seems ci-skip plugin is broken so <@U0UHG4VP1> removed it from fabric wrappers.","ts":"1484675326.001615"},{"type":"message","user":"U0KM61BCP","text":"ok, thanks","ts":"1484675898.001616"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP>: nexus is r\/o except for Jenkins. I can create repos but publishing has to come from Jenkins","ts":"1484679697.001617"},{"type":"message","user":"U0UHG4VP1","text":"Also, as of last week the oss version was 2.14","ts":"1484679746.001618"},{"type":"message","user":"U0KM61BCP","text":"do I need to make a formal ask to purchase the pro version?","ts":"1484682831.001619"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> <https:\/\/www.sonatype.com\/download-oss-sonatype>","ts":"1484682869.001620"},{"type":"message","user":"U0KM61BCP","text":"OSS version is 3 something","ts":"1484682876.001621"},{"type":"message","user":"U0UHG4VP1","text":"we have our releng meeting in an hour, could I ask then? I want to make sure I have the latest information","ts":"1484682928.001622"},{"type":"message","user":"U0KM61BCP","text":"see the link","ts":"1484682939.001623"},{"type":"message","user":"U0KM61BCP","text":"3.2 is latest OSS","ts":"1484682943.001624"},{"type":"message","user":"U0KM61BCP","text":"now could be new since then","ts":"1484682952.001625"},{"type":"message","user":"U0KM61BCP","text":"but we need docker and npm","ts":"1484682968.001626"},{"type":"message","user":"U0KM61BCP","text":"and maven","ts":"1484682975.001627"},{"type":"message","user":"U0UHG4VP1","text":"I know we have a pro license but I'm not sure what version and what projects it covers","ts":"1484682991.001628"},{"type":"message","user":"U0UHG4VP1","text":"by we I mean LF not HYP","ts":"1484683003.001629"},{"type":"message","user":"U0KM61BCP","text":"understood","edited":{"user":"U0KM61BCP","ts":"1484683026.000000"},"ts":"1484683022.001630"},{"type":"message","user":"U0UHG4VP1","text":"so I will ask these questions in the release engineering meeting and I will let you know what options we have.","ts":"1484683074.001632"},{"type":"message","user":"U0KM61BCP","text":"thanks","ts":"1484683162.001633"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> looks to me that if we want to upgrade, we may need to upgrade from 2.14.0 to 2.14.1 and then to whatever is the latest and THEN we can upgrade to 3.2","ts":"1484683326.001634"},{"type":"message","user":"U0KM61BCP","text":"we may want to just burn down and start from scratch with 3.2","ts":"1484683341.001635"},{"type":"message","user":"U0UHG4VP1","text":"We would be the first project on 3.x. I'll ask how the SA team wants to handle it","ts":"1484683452.001636"},{"type":"message","user":"U0UHG4VP1","text":"<@U12V3D2P2> do you mean for me to remove power-1 as well as power-2...5?","ts":"1484684250.001637"},{"type":"message","user":"U12V3D2P2","text":"<@U0UHG4VP1> yes all of them but as of now, power-2 to power-5 are down","ts":"1484684276.001638"},{"type":"message","user":"U12V3D2P2","text":"So please remove all of them and add power-1 back","ts":"1484684287.001639"},{"type":"message","user":"U0UHG4VP1","text":"ok <@U12V3D2P2> power-1 was deleted and added, which job should I use to test it?","ts":"1484684421.001640"},{"type":"message","user":"U0UHG4VP1","text":"<@U12V3D2P2> let's watch this job: <https:\/\/jenkins.hyperledger.org\/job\/fabric-cop-verify-ppc64le\/30\/console>","ts":"1484684459.001641"},{"type":"message","user":"U0UHG4VP1","text":"looks like it failed in the same way","ts":"1484684480.001642"},{"type":"message","user":"U12V3D2P2","text":"Sure","ts":"1484684493.001643"},{"type":"message","user":"U12V3D2P2","text":"Oh! 30 is the latest run?","ts":"1484684517.001644"},{"type":"message","user":"U0UHG4VP1","text":"yes, 30 and 31 are on power-1 and after delete\/add cycle","ts":"1484684540.001645"},{"type":"message","user":"U12V3D2P2","text":"Ok..still same problem then, could you please let me know the version of ssh-agent?","ts":"1484684587.001646"},{"type":"message","user":"U0UHG4VP1","text":"1.13","ts":"1484684644.001647"},{"type":"message","user":"U12V3D2P2","text":"Is it upgraded recently?","ts":"1484684699.001648"},{"type":"message","user":"U0UHG4VP1","text":"I can't easily tell when it was upgraded, but not in the last few weeks at least","ts":"1484684808.001649"},{"type":"message","user":"U12V3D2P2","text":"Ok","ts":"1484684819.001650"},{"type":"message","user":"U0YK3KKCY","text":"<@U12V3D2P2> I'm not sure if this is an issue or a result of the failures that are occurring:\nCaused by: java.lang.NoClassDefFoundError: Could not initialize class jnr.enxio.channels.Native$SingletonHolder","ts":"1484684902.001651"},{"type":"message","user":"U0YK3KKCY","text":"Wonder if classpath needs to be updated?  Don't really know.","ts":"1484684941.001652"},{"type":"message","user":"U12V3D2P2","text":"I see this before the above error: FATAL: Could not find a suitable ssh-agent provider","ts":"1484685018.001653"},{"type":"message","user":"U12V3D2P2","text":"So could be Path issue..need to look into it some more","ts":"1484685044.001654"},{"type":"message","user":"U0YK3KKCY","text":"<https:\/\/github.com\/jruby\/jruby\/issues\/3660>","attachments":[{"service_name":"GitHub","title":"Unhandled Java exception: java.lang.NoClassDefFoundError: Could not initialize class jnr.enxio.channels.Native$SingletonHolder \u00b7 Issue #3660 \u00b7 jruby\/jruby \u00b7 GitHub","title_link":"https:\/\/github.com\/jruby\/jruby\/issues\/3660","text":"On Ubuntu 15.10 (Wiley) and any JRuby 9000 version. Any invocation of jruby or jirb returns the following error (elided to keep it brief) Unhandled Java exception: java.lang.NoClassDefFoundError: C...","fallback":"GitHub: Unhandled Java exception: java.lang.NoClassDefFoundError: Could not initialize class jnr.enxio.channels.Native$SingletonHolder \u00b7 Issue #3660 \u00b7 jruby\/jruby","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/410757?v=3&s=400","from_url":"https:\/\/github.com\/jruby\/jruby\/issues\/3660","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/a.slack-edge.com\/bfaba\/img\/unfurl_icons\/github.png","id":1}],"ts":"1484685242.001655"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP>: LF has one other project that is rolling out Nexus 3 over the next two weeks. After that is stood up, getting Nexus 3 will be easy for us.","ts":"1484694097.001657"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> is the backlog really that much? we really cannot wait another 2 weeks","ts":"1484699594.001658"},{"type":"message","user":"U0KM61BCP","text":"I guess we could explore other alternatives","ts":"1484699605.001659"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP> I'll ask.","ts":"1484699895.001660"},{"type":"message","user":"U0KM61BCP","text":"thanks","ts":"1484701283.001661"},{"type":"message","user":"U11NUTP4L","text":"<@U0UHG4VP1> <@U11HH3P7Y> <@U12V3D2P2> <@U0YK3KKCY> , I was able to fix the ssh-agent issue on the Power servers. Currently the builds are getting started on hyp-power-[1,2,5]","edited":{"user":"U11NUTP4L","ts":"1484721535.000000"},"ts":"1484721329.001662","reactions":[{"name":"+1","users":["U12V3D2P2","U11HH3P7Y","U0YK3KKCY"],"count":3}]},{"type":"message","user":"U11NUTP4L","text":"however I see that hyp-power-3 and hyp-power-4 build nodes are appearing to be offline for some reason even though I am able to ssh to them. <@U0UHG4VP1> could you please remove these 2 nodes and add it back to see if that helps ? I have checked rebooting the slave nodes and that hasn't helped","ts":"1484721412.001663"},{"type":"message","user":"U0S5KF44D","text":"<@U0UHG4VP1> Hi Ry, as you may have already heard, we need to rename the fabric-cop repo to fabric-ca.   I have a change set ready to push which works except that I just manually renamed my repo directory on local file system, so if I push the change set as is, it will fail.   I could temporarily add a check to the makefile to rename the directory which I think should work and make this pass in CI, but is there a better way?","ts":"1484755896.001665"},{"type":"message","user":"U0UHG4VP1","text":"<@U11NUTP4L> power-1 to power-5 are online now.","ts":"1484763423.001666","reactions":[{"name":"+1","users":["U12V3D2P2","U11NUTP4L","U1FEUAG9E"],"count":3}]},{"type":"message","user":"U0UHG4VP1","text":"<@U0S5KF44D> where is the best channel to talk about this? fabric-something?","ts":"1484763484.001667"},{"type":"message","user":"U0UHG4VP1","text":"I'm getting three distinct conversations on one topic and I want to make sure we're all on one page","ts":"1484763503.001668"},{"type":"message","user":"U0S5KF44D","text":"<@U0UHG4VP1> on the fabric-cop channel would be best","ts":"1484763856.001669"},{"type":"message","user":"U0UHG4VP1","text":"<@U11NUTP4L> looking at the errors in the builds it looks like the right versions of docker and docker-compose aren't installed on all of your minions","edited":{"user":"U0UHG4VP1","ts":"1484784558.000000"},"ts":"1484784550.001670"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1> tested this patch <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4129\/2> in sandbox .. Modified checkout sub directory path..","ts":"1484787341.001672"},{"type":"message","user":"U11HH3P7Y","text":"Jenkins sandbox build reference: <https:\/\/jenkins.hyperledger.org\/sandbox\/job\/fabric-cop-x86_64\/9\/console>","ts":"1484787379.001673"},{"type":"message","user":"U12V3D2P2","text":"<@U0UHG4VP1> could you please give me the link of the build log that's failing due to wrong versions of docker and docker-compose?","edited":{"user":"U12V3D2P2","ts":"1484792051.000000"},"ts":"1484792033.001674"},{"user":"U1U7BR1KP","text":"<@U1U7BR1KP|ray> has joined the channel","type":"message","subtype":"channel_join","ts":"1484792125.001676"},{"type":"message","user":"U0UHG4VP1","text":"<@U12V3D2P2> <https:\/\/jenkins.hyperledger.org\/job\/fabric-merge-power-ppc64le\/172\/console> for instance","ts":"1484792163.001677"},{"type":"message","user":"U12V3D2P2","text":"Yes I saw that message just now on node-3, upgraded both docker-compose and docker on that node","ts":"1484792201.001678"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-merge-power-ppc64le\/167\/console> is another missing dependency","ts":"1484792207.001679"},{"type":"message","user":"U12V3D2P2","text":"Upgrading on all","ts":"1484792241.001680"},{"type":"message","user":"U0UHG4VP1","text":"1 is running 1.8.0, 2 is running 1.8.1, 3,4,5 1.10.0,","ts":"1484792402.001681"},{"type":"message","user":"U12V3D2P2","text":"Upgrading all of them to docker-compose:1.10, docker:1.12","ts":"1484792470.001682","reactions":[{"name":"+1","users":["U11NUTP4L","U0UHG4VP1"],"count":2}]},{"type":"message","user":"U1AU8DRQR","text":"why do I have no CI verified verdict here? <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3635\/>","ts":"1484814538.001683"},{"type":"message","user":"U1AU8DRQR","text":"I mean the 25th","ts":"1484814545.001684"},{"type":"message","user":"U0ZJZBJLF","text":"what do you mean?","ts":"1484815979.001685"},{"type":"message","user":"U0ZJZBJLF","text":"the last jenkins job is still running","ts":"1484815987.001686"},{"type":"message","user":"U1AU8DRQR","text":"Hyperled...bbuilder\nPatch Set 25: Build Started <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/5345\/>\nJan 18 1:43 PM\nthis? or the one I just started with reverify?","ts":"1484816096.001687"},{"type":"message","user":"U0ZJZBJLF","text":"yeah that 1","ts":"1484816110.001688"},{"type":"message","user":"U1AU8DRQR","text":"yeah, I started one because the last from 1:43 PM did not give anything","ts":"1484816156.001689"},{"type":"message","user":"U0KM61BCP","text":"<@U1AU8DRQR> it is possible that <@U0UHG4VP1> was tinkering last night as part of his plan to rename fabric-cop to fabric-ca","ts":"1484832859.001690"},{"type":"message","user":"U1AU8DRQR","text":"that would make sense","ts":"1484833726.001691"},{"type":"message","user":"U0UHG4VP1","text":"<@U1AU8DRQR> I don't know why that particular job didn't vote. It should have voted -1","edited":{"user":"U0UHG4VP1","ts":"1484847260.000000"},"ts":"1484847244.001692"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: hyp-fabric-ca-x86_64 minions are not triggering up..","ts":"1484847931.001694"},{"type":"message","user":"U0UHG4VP1","text":"Ramesh: production or sandbox?","ts":"1484848048.001695"},{"type":"message","user":"U11HH3P7Y","text":"prodcution","ts":"1484848054.001696"},{"type":"message","user":"U0UHG4VP1","text":"Ok, I'll look at it in 10","ts":"1484848134.001697"},{"type":"message","user":"U0KM61BCP","text":"<@U11HH3P7Y> did we disable the various lint checks for Fabric?","ts":"1484934035.001698"},{"type":"message","user":"U11HH3P7Y","text":"No we didn't.. ","ts":"1484935973.001699"},{"type":"message","user":"U0KM61BCP","text":"hmmm","ts":"1484936537.001700"},{"type":"message","user":"U0XQ35CDD","text":"Any theories then as to how these errors here crept in? <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4617\/>","ts":"1484937827.001701"},{"type":"message","user":"U0KM61BCP","text":"I don't see linting in the logs","ts":"1484938479.001702"},{"type":"message","user":"U11HH3P7Y","text":"CI runs `make linter` for every verify and merge requests.. I see code checks in @ 15:17:15 in this patch <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/5450\/consoleFull>","ts":"1484938607.001703"},{"type":"message","user":"U0YK3KKCY","text":"I believe this was another case of not re-basing.","ts":"1484938643.001704"},{"type":"message","user":"U0KM61BCP","text":"found it","ts":"1484939146.001705"},{"type":"message","user":"U0KM61BCP","text":"and now see output","ts":"1484939152.001706"},{"type":"message","user":"U0KM61BCP","text":"one thing I noticed is that msp and gossip were not included","ts":"1484941830.001707"},{"type":"message","user":"U0KM61BCP","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4637\/>","ts":"1484941841.001708"},{"type":"message","user":"U0KM61BCP","text":"still unclear how a lint error would make it through","ts":"1484941865.001709"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0KM61BCP>","ts":"1484942397.001710"},{"type":"message","user":"U0ZJZBJLF","text":"and what about `bccsp` and `accesscontrol`, etc??","edited":{"user":"U0ZJZBJLF","ts":"1484943202.000000"},"ts":"1484943178.001712"},{"type":"message","user":"U0XQ35CDD","text":"Yeah, I'm not sure I follow what the conclusion is here.","ts":"1484947450.001715"},{"type":"message","user":"U0XQ35CDD","text":"<@U0YK3KKCY>: Can you expand on the \"not re-basing\" comment?","thread_ts":"1484947469.001716","reply_count":1,"replies":[{"user":"U0YK3KKCY","ts":"1484957032.001743"}],"ts":"1484947469.001716"},{"type":"message","user":"U0KPFAZNF","text":"is there a known issue with the P builders?","ts":"1484947788.001717"},{"type":"message","user":"U0KPFAZNF","text":"this job seems stuck <@U0UHG4VP1> <@U11NUTP4L> <@U0YK3KKCY> <https:\/\/jenkins.hyperledger.org\/job\/fabric-baseimage-verify-docker-ppc64le\/>","ts":"1484947820.001718"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KPFAZNF> : <https:\/\/jira.hyperledger.org\/browse\/FAB-1784>","ts":"1484949498.001719"},{"type":"message","user":"U0YK3KKCY","text":"Yeah, sbft\/main unit tests have been a thorn in p's side.","ts":"1484949603.001720"},{"type":"message","user":"U0YK3KKCY","text":"I would suggest that the p build queue be cleared to free up a machine for the fabric-baseimage job","ts":"1484949640.001721"},{"type":"message","user":"U0YK3KKCY","text":"In fact, it might be a good idea to just allow the p workers to only run in the \"fabric-ca\" and 'fabric-baseimage\" job realm until the sbft\/main unit test issues have  been resolved.","ts":"1484949708.001722"},{"type":"message","user":"U11HH3P7Y","text":"will clear all stuck jobs..","ts":"1484949742.001723"},{"type":"message","user":"U0YK3KKCY","text":"Thanks","ts":"1484949750.001724"},{"type":"message","user":"U0KPFAZNF","text":"ty <@U11HH3P7Y> <@U0YK3KKCY>","ts":"1484949787.001725","reactions":[{"name":"+1","users":["U0YK3KKCY","U1FEUAG9E"],"count":2}]},{"type":"message","user":"U11HH3P7Y","text":"baseimage job is in progress now. <https:\/\/jenkins.hyperledger.org\/view\/fabric\/job\/fabric-baseimage-verify-docker-ppc64le\/>","ts":"1484949936.001726"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0YK3KKCY> - What are you implying, that these tests hang and don't fail on a timely manner?","ts":"1484950226.001727"},{"type":"message","user":"U0YK3KKCY","text":"Yes.","ts":"1484950249.001728"},{"type":"message","user":"U0YK3KKCY","text":"I don't know why they are hanging.","ts":"1484950268.001729"},{"type":"message","user":"U0ZJZBJLF","text":"well, that's easily fixable- the hanging, at least","ts":"1484950278.001730"},{"type":"message","user":"U0YK3KKCY","text":"Ah okay.","ts":"1484950285.001731"},{"type":"message","user":"U0ZJZBJLF","text":"Just to understand- there is a separate build queue for p, but it takes resources from the shared machine pool or something?","ts":"1484950341.001732"},{"type":"message","user":"U0ZJZBJLF","text":"I guess not","ts":"1484950348.001733"},{"type":"message","user":"U0ZJZBJLF","text":"because it's for p","ts":"1484950351.001734"},{"type":"message","user":"U0ZJZBJLF","text":"so what good can it do if you make the test fail on a timely manner if it still doesn't pass?","ts":"1484950388.001735"},{"type":"message","user":"U0YK3KKCY","text":"There are separate job streams for x, p, and z.","ts":"1484950448.001736"},{"type":"message","user":"U0YK3KKCY","text":"a set for fabric, fabric-ca, and fabric-baseimage right now","ts":"1484950471.001737"},{"type":"message","user":"U0YK3KKCY","text":"So, for example, if a CR is submitted the CR would be verified on x, p, and z in parallel.","ts":"1484950516.001738"},{"type":"message","user":"U11HH3P7Y","text":"we have only 5 power nodes in community CI... As we are seeing hang issue many power jobs are in queue..","ts":"1484950517.001739"},{"type":"message","user":"U0YK3KKCY","text":"The issue with sbft\/main exacerbates builds on the limited number of p workers","ts":"1484950605.001740"},{"type":"message","user":"U0ZJZBJLF","text":"so fabric-ca fabric-baseimage and fabric are all sent to the same queue?","ts":"1484950960.001741"},{"type":"message","user":"U0UHG4VP1","text":"we only have so many minions, so yes","ts":"1484951005.001742"},{"type":"message","user":"U0YK3KKCY","text":"kostas: Hi.  I'm just speculating that when the merge occurred yesterday at 15:17, you were still working on your change and may not have performed a git rebase to lay yesterday's merge on top of your working repo at the time that you pushed your change up (and later merged).","thread_ts":"1484947469.001716","parent_user_id":"U0XQ35CDD","ts":"1484957032.001743","reactions":[{"name":"+1","users":["U0XQ35CDD"],"count":1}]},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> what is the WFT template supposed to solve?","ts":"1485012957.001745"},{"type":"message","user":"U0KM61BCP","text":"I see different workflow options, but we are missing some important things","ts":"1485012975.001746"},{"type":"message","user":"U0KM61BCP","text":"like story points","ts":"1485012979.001747"},{"type":"message","user":"U0KM61BCP","text":"stories","ts":"1485012980.001748"},{"type":"message","user":"U0UHG4VP1","text":"the transitions you were looking for (resolved and resolution)","ts":"1485012981.001749"},{"type":"message","user":"U0KM61BCP","text":"epics","ts":"1485012982.001750"},{"type":"message","user":"U0UHG4VP1","text":"I'll remake the project as SCRUM give me a minute","ts":"1485013006.001751"},{"type":"message","user":"U0KM61BCP","text":"ok","ts":"1485013012.001752"},{"type":"message","user":"U0KM61BCP","text":"also, we need an in-review status","ts":"1485013075.001753"},{"type":"message","user":"U0UHG4VP1","text":"bah, we're in the middle of the update window, JIRA is down for a bit","ts":"1485013168.001754"},{"type":"message","user":"U0UHG4VP1","text":"would the monitor\/on hold status work for that if renamed?","ts":"1485013519.001755"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1> ping","ts":"1485023751.001756"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1>: all nodes are showing up offline..","ts":"1485024349.001757"},{"type":"message","user":"U0UHG4VP1","text":"I've opened a ticket with our provider: <@U0KPFAZNF> <@U11HH3P7Y>","ts":"1485030036.001760"},{"type":"message","user":"U0UHG4VP1","text":"the interesting (to me) thing is it's hung on the step of copying the slave.jar file (which is ~750k). the same step on the sandbox is almost instant","ts":"1485030076.001761"},{"type":"message","user":"U0UHG4VP1","text":"this is a slightly wider issue - one other tenant (vm) is having this problem, and it's on another project.","ts":"1485034548.001762"},{"type":"message","user":"U0KPFAZNF","text":"<@U0UHG4VP1>: I was pinging about something else actually","ts":"1485034816.001763"},{"type":"message","user":"U0KPFAZNF","text":"re chaintool and gerrit","ts":"1485034826.001764"},{"type":"message","user":"U0UHG4VP1","text":"oh, sorry","ts":"1485034828.001765"},{"type":"message","user":"U0KPFAZNF","text":"no, not at all, I certainly wasnt specific","ts":"1485034840.001766"},{"type":"message","user":"U0KPFAZNF","text":"one challenge I hadnt really been considering is: we have all this software in the wild that already downloads the current GH release URLs","ts":"1485034872.001767"},{"type":"message","user":"U0KPFAZNF","text":"so, we need to tread carefully regarding the existing GH repo","ts":"1485034891.001768"},{"type":"message","user":"U0KPFAZNF","text":"(In addition to solving the problem of where future artifacts live","ts":"1485034903.001769"},{"type":"message","user":"U0KPFAZNF","text":"my question to you is: are you aware of a way to have hyperledger\/fabric-chaintool be a mirror for gerrit AND retain the releases page?","ts":"1485034955.001770"},{"type":"message","user":"U0KPFAZNF","text":"(even if we freeze it for future artifacts)","ts":"1485034971.001771"},{"type":"message","user":"U0KPFAZNF","text":"i suspect it can: probably only a matter of perms","ts":"1485035005.001772"},{"type":"message","user":"U0KPFAZNF","text":"i have to step out for a while, but give it some thought","ts":"1485035030.001773"},{"type":"message","user":"U0UHG4VP1","text":"OK.","ts":"1485035063.001774"},{"type":"message","user":"U0KPFAZNF","text":"i know that the GH releases is still functional in things like fabric..it shows the tags that we push","ts":"1485035097.001775"},{"type":"message","user":"U0KPFAZNF","text":"i think the only difference is, I have permissions to attach artifacts to chaintool releases, whereas not anywhere else","ts":"1485035115.001776"},{"type":"message","user":"U0KPFAZNF","text":"i am thinking that perhaps when we move, you give yourself permission and ensure the ~10 releases we have currently have attached artifacts","ts":"1485035142.001777"},{"type":"message","user":"U0KPFAZNF","text":"and then, for future releases, we will use jenkins+nexus, etc","ts":"1485035158.001778"},{"type":"message","user":"U0KPFAZNF","text":"so it would just be a one time import","ts":"1485035166.001779"},{"type":"message","user":"U0UHG4VP1","text":"I'll need to play with that to see how it works.","ts":"1485035217.001780"},{"type":"message","user":"U0KPFAZNF","text":"(id be willing to do the leg work if you give me temporary perms, too)","ts":"1485035226.001781"},{"type":"message","user":"U0KPFAZNF","text":"ok, cool","ts":"1485035233.001782"},{"type":"message","user":"U0KPFAZNF","text":"have to run, ttyl","ts":"1485035235.001783"},{"type":"message","user":"U0UHG4VP1","text":"I didn't realize we still have fabric development outside of gerrit","ts":"1485035242.001784"},{"type":"message","user":"U0UHG4VP1","text":"sounds good","ts":"1485035244.001785"},{"type":"message","user":"U0KPFAZNF","text":"just chaintool to my knowledge","ts":"1485035257.001786"},{"type":"message","user":"U0XQ35CDD","text":"Any idea why CI isn't running on this one? <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4621\/>","ts":"1485049122.001787"},{"type":"message","user":"U0XQ35CDD","text":"(Or any of its child changesets as well for that matter.)","ts":"1485049136.001788"},{"type":"message","user":"U11HH3P7Y","text":"<@U0XQ35CDD>: CI is having issues with x86 nodes ","ts":"1485054212.001789"},{"type":"message","user":"U0UHG4VP1","text":"there is an issue with our plugins","ts":"1485057015.001790"},{"type":"message","user":"U0XQ35CDD","text":"Roger. Can we post an update here when the issue is resolved so that I can restart the verification process on all pending changesets?","ts":"1485058773.001791"},{"type":"message","user":"U0UHG4VP1","text":"you shouldn't need to, I triggered all of them","ts":"1485058839.001792"},{"type":"message","user":"U0UHG4VP1","text":"what did I miss? there are two builds ongoing","ts":"1485058849.001793"},{"type":"message","user":"U0XQ35CDD","text":"<@U0UHG4VP1>: I thought I had to trigger manually, hence my comment above. You didn't miss anything, we're good - thank you. ","edited":{"user":"U0XQ35CDD","ts":"1485086055.000000"},"ts":"1485061971.001794"},{"type":"message","user":"U1AU8DRQR","text":"I get this when I try to add a reviewer to one of my changesets:","ts":"1485175413.001799"},{"type":"message","user":"U1AU8DRQR","text":"Invalid authentication method. In order to authenticate, prefix the REST endpoint URL with \/a\/ (e.g. <http:\/\/example.com\/a\/projects\/>).","ts":"1485175413.001800"},{"type":"message","user":"U1AU8DRQR","text":"(<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3635\/>)","ts":"1485175424.001801"},{"type":"message","user":"U1AU8DRQR","text":"could somebody help me with this? <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/5567\/consoleFull>","ts":"1485258314.001802"},{"type":"message","user":"U1AU8DRQR","text":"what is the location where that failing test runs from? what dir?","ts":"1485258337.001803"},{"type":"message","user":"U0YK3KKCY","text":"<@U1AU8DRQR> I believe the unit tests run inside a Docker container that is based on the hyperledger\/fabric-testenv Docker image.  The default working directory for hyperledger\/fabric-testenv Docker containers is \/opt\/gopath\/src\/github.com\/hyperledger\/fabric.","ts":"1485260283.001804"},{"type":"message","user":"U1AU8DRQR","text":"<@U0YK3KKCY> thanks :slightly_smiling_face:","ts":"1485260327.001805","reactions":[{"name":"+1","users":["U0YK3KKCY"],"count":1}]},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1> trivial change.. <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4545\/>","ts":"1485383509.001806"},{"type":"message","user":"U0KM61BCP","text":"<@U11HTMW0H> <@U11HH3P7Y> <@U0KPFAZNF> so, there has been some work coming to a repo near you that enables a nice bootstrapped starter","ts":"1485449501.001807"},{"type":"message","user":"U0KM61BCP","text":"<@U11HTMW0H> maybe you can describe here what we have and what we want to be able to do to share this more broadly","ts":"1485449527.001808"},{"type":"message","user":"U0KM61BCP","text":"<@U0KPFAZNF> would welcome your input on next steps","ts":"1485449545.001809"},{"type":"message","user":"U0KPFAZNF","text":"cool, will take a look asap","ts":"1485449597.001810"},{"type":"message","user":"U0KM61BCP","text":"I think we can manually push selected builds since we don't yet have tagged builds in Nexus (unless we have implemented that, but I think we were waiting on Nexus 3 to be deployed)","ts":"1485449613.001811"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1>?","ts":"1485449617.001812"},{"type":"message","user":"U0KPFAZNF","text":"i def would encourage waiting to deploy anything docker based until I get the baseos fix in","ts":"1485449625.001813"},{"type":"message","user":"U0KPFAZNF","text":"(which I am working on now)","ts":"1485449716.001814"},{"type":"message","user":"U0KPFAZNF","text":"getting these three patches committed would help: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4871\/>","ts":"1485449736.001815"},{"type":"message","user":"U11HTMW0H","text":"sure...we have an end-to-end flow working with real crypto material generated from Jeff's behave test.  We plan on publishing all this in docker compose as part of a v1 getting started that can be used at the hackathon.  we basically prime the network and then use the cli for the create\/join channel and wrote a node app to do the deploy\/invoke query.  We hope to pull images from hyperledger.  Right now we go to Ramesh's repo.","ts":"1485449812.001816"},{"type":"message","user":"U11HTMW0H","text":"we can tag with  v1.0-alpha-preview for all images and for the ccenv image we add the snapshot tag as well (required by multichain for deploy hopefully changes)","ts":"1485449869.001817"},{"type":"message","user":"U11HTMW0H","text":"we are working on the doc now, so hope to iron this out...worst case we use Ramesh's repo, but would prefer to use hyperledger.  Thanks.","ts":"1485449901.001818"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP> LFIT is still working on standing up nexus 3. We'll be right behind the other project - the work now is making it work in puppet so it can be deployed","ts":"1485450973.001819"},{"type":"message","user":"U0KPFAZNF","text":"<@U11NUTP4L> <@U0YK3KKCY> Power seems stuck again","ts":"1485452260.001820"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-baseimage-verify-docker-ppc64le\/>","ts":"1485452284.001821"},{"type":"message","user":"U0KPFAZNF","text":"(or is it just really busy?","ts":"1485452306.001822"},{"type":"message","user":"U0YK3KKCY","text":"<@U11HH3P7Y> please cancel all p fabric jobs in the queue","ts":"1485452322.001823"},{"type":"message","user":"U0YK3KKCY","text":"<@U0KPFAZNF> Power has an issue running the sbft\/main unit tests... Bottom line the sbft\/main tests for some reason don't end\/finish, thus holding everything up.  An issue has been opened up on this issue.","ts":"1485452438.001824"},{"type":"message","user":"U11HH3P7Y","text":"<@U0YK3KKCY> sure.. will do now..","ts":"1485452715.001825","reactions":[{"name":"+1","users":["U0YK3KKCY"],"count":1}]},{"type":"message","user":"U11NUTP4L","text":"<@U0YK3KKCY> <@U0KPFAZNF> yes. The sbft\/main unit test fails on Power.  But I don't think we are running unit tests on all the servers as part of these jobs.. Are we? ","ts":"1485452742.001826"},{"type":"message","user":"U0YK3KKCY","text":"<@U11NUTP4L> it's my understanding that a \"make unit-test\" command is issued for fabric verify and merge jobs","ts":"1485452792.001827"},{"type":"message","user":"U0KPFAZNF","text":"in my case, i am waiting on a baseimage job that has nothing to do with the unit-tests, but the V+1 is blocked by a lack of response from the P side","ts":"1485452883.001828"},{"type":"message","user":"U11NUTP4L","text":"<@U0YK3KKCY> they seem to be running now.. And looking at last successful build it doesn't we are doing make unit-test - - <https:\/\/jenkins.hyperledger.org\/job\/fabric-baseimage-verify-docker-ppc64le\/48\/console>","ts":"1485452909.001829"},{"type":"message","user":"U0YK3KKCY","text":"<@U0KPFAZNF> The same jenkins workers are used for fabric and fabric-ca jobs","ts":"1485452916.001830"},{"type":"message","user":"U0KPFAZNF","text":"understood","ts":"1485452922.001831"},{"type":"message","user":"U0KPFAZNF","text":"i am just saying, in this case the issue wasnt the unit-test but rather a lack of minions...i understand there is a correlation","ts":"1485452942.001832"},{"type":"message","user":"U0YK3KKCY","text":"Understood.","ts":"1485452972.001833"},{"type":"message","user":"U11NUTP4L","text":"Agree with this.. May be <@U12V3D2P2> can check and let know if the minions are up and running sanely","ts":"1485453004.001834"},{"type":"message","user":"U0KPFAZNF","text":"baseimage is, IIUC, the only build that actually relies on positive P\/Z voting to proceed","ts":"1485453013.001835"},{"type":"message","user":"U0KPFAZNF","text":"so, wondering if there is a way to prioritize builds in this class","ts":"1485453038.001836","reactions":[{"name":"+1","users":["U11NUTP4L"],"count":1}]},{"type":"message","user":"U12V3D2P2","text":"<@U0KPFAZNF> Power nodes have been running builds, and I have been working on make unit-test failures","ts":"1485453101.001837"},{"type":"message","user":"U0KPFAZNF","text":"<@U12V3D2P2> what I am referring to specifically is something like this: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4871\/>","ts":"1485453171.001838"},{"type":"message","user":"U0KPFAZNF","text":"if you look at the V-1, X\/Z had positive vote, P failed to start and was manually aborted","ts":"1485453190.001839"},{"type":"message","user":"U0KPFAZNF","text":"so, we have two options...fix P or disable P and proceed with the release....P can be added later when its available again","ts":"1485453246.001840"},{"type":"message","user":"U11NUTP4L","text":"I agree with <@U0KPFAZNF> on prioritizing base image builds on power ","ts":"1485453262.001841"},{"type":"message","user":"U0KM61BCP","text":"we definitely need to get that merged ASAP","ts":"1485453352.001842"},{"type":"message","user":"U11NUTP4L","text":"Power minions seem to be up now. I see jobs 49, 50, 51 getting started.. Can you please try reverify ? ","ts":"1485453354.001843"},{"type":"message","user":"U0KPFAZNF","text":"ok,.,,@ry or <@U11HH3P7Y> do you know if you can just restart P?","ts":"1485453379.001844"},{"type":"message","user":"U0KPFAZNF","text":"I'd hate to waste all those cycles on the X\/Z side","ts":"1485453391.001845"},{"type":"message","user":"U12V3D2P2","text":"I am looking at the log and <@U0UHG4VP1> or <@U11HH3P7Y> please let me know what I can try to fix this issue","ts":"1485453457.001846"},{"type":"message","user":"U0UHG4VP1","text":"<@U12V3D2P2> the unit test failures?","ts":"1485453659.001847"},{"type":"message","user":"U12V3D2P2","text":"So, baseimage-verify-docker-ppc64le job is failing due to unit tests hanging?","ts":"1485453792.001848"},{"type":"message","user":"U11NUTP4L","text":"No","ts":"1485453801.001849"},{"type":"message","user":"U11NUTP4L","text":"<@U12V3D2P2> the build <@U0KPFAZNF> was pointing at was for base-image build","ts":"1485453829.001850"},{"type":"message","user":"U11NUTP4L","text":"And the build #52 is going on now on power","ts":"1485453844.001851"},{"type":"message","user":"U0UHG4VP1","text":"those jobs failed because I misunderstood the mandate of \"kill the power fabric jobs\" to mean \"fabric-*\"","ts":"1485453852.001852"},{"type":"message","user":"U0KPFAZNF","text":"<@U12V3D2P2> I think the issue was simply no minions were available (for a very long time) to even try","ts":"1485453872.001853"},{"type":"message","user":"U0KPFAZNF","text":"e.g. the queue was hung up","ts":"1485453879.001854"},{"type":"message","user":"U12V3D2P2","text":"That's possible","ts":"1485453887.001855"},{"type":"message","user":"U0KPFAZNF","text":"but it was restarted successfully","ts":"1485453892.001856"},{"type":"message","user":"U0UHG4VP1","text":"that was also true. every verify build was running two hours until it timed out","ts":"1485453899.001857"},{"type":"message","user":"U12V3D2P2","text":"The two hour timeout can be changed?","ts":"1485453923.001858"},{"type":"message","user":"U0UHG4VP1","text":"yes.","ts":"1485453958.001859"},{"type":"message","user":"U11NUTP4L","text":"FYI.. Unit test failure on power for sbft\/main is reported in Jira Fab-1688 and <@U1AU8DRQR> is working on it. ","ts":"1485454024.001860"},{"type":"message","user":"U12V3D2P2","text":"But so far, I could not find any problems while running that test manually","ts":"1485454050.001861"},{"type":"message","user":"U0UHG4VP1","text":"so this is transitory","ts":"1485454055.001862"},{"type":"message","user":"U12V3D2P2","text":"If we can change timeout to something smaller, atleast other failing jobs won't block baseimage verify builds","ts":"1485454127.001863"},{"type":"message","user":"U0YK3KKCY","text":"Due to the nature of how sbft\/main tests run in Power, adding additional minions would result in the same queue build-up issue.","ts":"1485454577.001864"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> <@U0UHG4VP1>: it does not appear that the -release job triggered for baseimage","ts":"1485468499.001865"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/view\/fabric-baseimage\/>","ts":"1485468500.001866"},{"type":"message","user":"U0KPFAZNF","text":"its getting hard to keep track, but I thought that was working for master","ts":"1485468513.001867"},{"type":"message","user":"U0KPFAZNF","text":"in response to: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4869\/>","ts":"1485468537.001868"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KPFAZNF>: release job triggers after you create and push the tag to github","ts":"1485469032.001869"},{"type":"message","user":"U0KPFAZNF","text":"<@U11HH3P7Y> ah, yes, thank you","ts":"1485469076.001870"},{"type":"message","user":"U11HH3P7Y","text":"now it's triggered","ts":"1485469079.001871"},{"type":"message","user":"U0KPFAZNF","text":"i thought it was the IS_RELEASE merge","ts":"1485469081.001872"},{"type":"message","user":"U0KPFAZNF","text":"yep, i see it now too, ty","ts":"1485469142.001873"},{"type":"message","user":"U11HH3P7Y","text":"sure","ts":"1485469146.001874"},{"type":"message","user":"U0UHG4VP1","text":"Wonder why new minions for x86 aren't coming up","ts":"1485469191.001875"},{"type":"message","user":"U0ULK2JPP","text":"perhaps a known issue ? just pushed a fix but did not seem to trigger gerrit","ts":"1485485909.001876"},{"type":"message","user":"U0ULK2JPP","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4889\/> should have revision two with unit-test\/docker-compose.yml","ts":"1485486078.001877"},{"type":"message","user":"U0UHG4VP1","text":"what did the log say?","ts":"1485486131.001878"},{"type":"message","user":"U0ULK2JPP","text":"the old log said ```21:23:25 ERROR: for unit-tests  Cannot start service unit-tests: Cannot link to a non running container: \/unittest_vp_1 AS \/unittest_unit-tests_1\/unittest_vp_1\n21:23:25 Encountered errors while bringing up the project.\n21:23:25 Makefile:101: recipe for target 'unit-test' failed\n21:23:25 make: *** [unit-test] Error 1```","ts":"1485486178.001879"},{"type":"message","user":"U0ULK2JPP","text":"which was fixed in the new submission that does not show  up","ts":"1485486207.001880"},{"type":"message","user":"U0UHG4VP1","text":"when you pushed the change, what did the log say","ts":"1485486222.001881"},{"type":"message","user":"U0ULK2JPP","text":"sorry","ts":"1485486226.001882"},{"type":"message","user":"U0UHG4VP1","text":"no worries I wasn't explicit enough","ts":"1485486240.001883"},{"type":"message","user":"U0ULK2JPP","text":"gosh\u2026 I feel dumb. I *didn\u2019t* push","ts":"1485486295.001884"},{"type":"message","user":"U0ULK2JPP","text":"sorry, ry...","ts":"1485486300.001885"},{"type":"message","user":"U0UHG4VP1","text":":slightly_smiling_face:","ts":"1485486302.001886"},{"type":"message","user":"U0UHG4VP1","text":"no worries","ts":"1485486304.001887"},{"type":"message","user":"U0UHG4VP1","text":"<@U3X6RA34J>","ts":"1485489574.001888"},{"user":"U3X6RA34J","inviter":"U0UHG4VP1","text":"<@U3X6RA34J|archivebot> has joined the channel","type":"message","subtype":"channel_join","ts":"1485489579.001889"},{"type":"message","user":"U0UHG4VP1","text":"anyone can invite <@U3X6RA34J> to a channel they would like archived to <http:\/\/hyperledgerproject.slackarchive.io\/>","ts":"1485492986.001890","reactions":[{"name":"+1","users":["U0YK3KKCY","U0XQ35CDD"],"count":2}]},{"type":"message","user":"U0XQ35CDD","text":"```17:15:47 Cloning into '\/opt\/gotools\/obj\/gopath\/src\/github.com\/kardianos\/govendor'...\n17:15:47 fatal: unable to access '<https:\/\/github.com\/kardianos\/govendor\/>': Failed to connect to <http:\/\/github.com|github.com> port 443: Connection timed out```","ts":"1485537438.001891"},{"type":"message","user":"U0XQ35CDD","text":"This isn't normal, is it?","edited":{"user":"U0XQ35CDD","ts":"1485540190.000000"},"thread_ts":"1485537446.001892","reply_count":2,"replies":[{"user":"U0ZJZBJLF","ts":"1485541963.001896"},{"user":"U0XQ35CDD","ts":"1485542041.001898"}],"ts":"1485537446.001892"},{"type":"message","user":"U0XQ35CDD","text":"(As seen here: <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/5804\/console>)","ts":"1485537456.001893"},{"type":"message","user":"U11HH3P7Y","text":"<@U0UHG4VP1> trivial change <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4937\/>","ts":"1485540081.001894"},{"type":"message","user":"U0ZJZBJLF","text":"kostas: No, but I think it's something temporary. CI was ok for the entire day in that aspect.","thread_ts":"1485537446.001892","parent_user_id":"U0XQ35CDD","ts":"1485541963.001896"},{"type":"message","user":"U0XQ35CDD","text":"Right, I noticed your earlier changeset passed CI just fine but that was at 1am or so. Thanks.","thread_ts":"1485537446.001892","parent_user_id":"U0XQ35CDD","ts":"1485542041.001898"},{"type":"message","user":"U0YK3KKCY","text":"<@U0UHG4VP1> <@U11HH3P7Y> <@U0KPFAZNF>... I am seeing approximately 30% failure rates for the bccsp\/pkcs11 unit tests on ALL platforms.  This might impact the fabric verify and merge jobs.","ts":"1485544419.001900"},{"type":"message","user":"U0YK3KKCY","text":"Appears to be another timing related issue... Just a guess","ts":"1485544451.001901"},{"type":"message","user":"U1FEUAG9E","text":"I agree with <@U0YK3KKCY>  bccsp\/pkcs11 is failing constantly on ppc64le .","ts":"1485544891.001902"},{"type":"message","user":"U0KPFAZNF","text":"is a bisect\/revert in order?","ts":"1485545052.001903"},{"type":"message","user":"U0YK3KKCY","text":"It might be if more folks start complaining about the CR verify jobs failing due to this issue.","ts":"1485545214.001904"},{"type":"message","user":"U0YK3KKCY","text":"The change that caused this issue is new and so it may take time for things to \"bubble up\"","ts":"1485545250.001905"},{"type":"message","user":"U0YK3KKCY","text":"<@U0KPFAZNF> To compound matters further, the following errors are appearing on all platforms:\n\n```14:33:33 ERROR: for unit-tests  Cannot start service unit-tests: Cannot link to a non running container: \/unittest_vp_1 AS \/unittest_unit-tests_1\/unittest_vp_1```","ts":"1485546132.001906"},{"type":"message","user":"U0KPFAZNF","text":"thats indicative that the vp container died","ts":"1485546155.001907"},{"type":"message","user":"U0YK3KKCY","text":"This started occurring with the new baseimage","ts":"1485546163.001908"},{"type":"message","user":"U0KPFAZNF","text":"unfortunately I dump the log to \/dev\/null","ts":"1485546173.001909"},{"type":"message","user":"U0KPFAZNF","text":"need to fix that","ts":"1485546176.001910"},{"type":"message","user":"U0YK3KKCY","text":"Ah okay.","ts":"1485546182.001911"},{"type":"message","user":"U0KPFAZNF","text":"hmm, thats strange, seems to be running fine for me","ts":"1485546188.001912"},{"type":"message","user":"U0KPFAZNF","text":"is this all CI?","ts":"1485546193.001913"},{"type":"message","user":"U0KPFAZNF","text":"or non X?","ts":"1485546196.001914"},{"type":"message","user":"U0YK3KKCY","text":"CI x, p, and z","ts":"1485546207.001915"},{"type":"message","user":"U0YK3KKCY","text":"<https:\/\/jenkins.hyperledger.org\/view\/fabric\/job\/fabric-verify-x86_64\/5813\/console>","ts":"1485546223.001916"},{"type":"message","user":"U0KPFAZNF","text":"im guessing its unrelated, I got a V+1 on the merge that put the 0.3.0 in play","ts":"1485546235.001917"},{"type":"message","user":"U0KPFAZNF","text":"let me investigate","ts":"1485546240.001918"},{"type":"message","user":"U0YK3KKCY","text":"OK. Thanks.","ts":"1485546260.001920"},{"type":"message","user":"U0KPFAZNF","text":"my mistake, I got a V+1 on the -verify job","ts":"1485546325.001921"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4901\/>","ts":"1485546326.001922"},{"type":"message","user":"U0KPFAZNF","text":"-merge is still running","ts":"1485546330.001923"},{"type":"message","user":"U0KPFAZNF","text":"but it does look like the -verify ran with the 0.3.0 container","ts":"1485546395.001924"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/5773\/console>","ts":"1485546396.001925"},{"type":"message","user":"U0KPFAZNF","text":"<@U0YK3KKCY> one thing to note: that 5813 build above, that looks to be pre-0.3.0","ts":"1485546454.001926"},{"type":"message","user":"U0KPFAZNF","text":"we dont have busybox in the build any more","ts":"1485546462.001927"},{"type":"message","user":"U0YK3KKCY","text":"OK","ts":"1485546470.001928"},{"type":"message","user":"U0KPFAZNF","text":"what made you say it was the new baseimage?","ts":"1485546472.001929"},{"type":"message","user":"U0YK3KKCY","text":"Must have been a coincidence.  When I was cleaning up to re-run tests for the pkcs11 unit test failures I cloned and picked up the new baseimage patch.  When I ran unit tests I got the link to container failure, which was the first time that I have ever saw that error.","ts":"1485546579.001930"},{"type":"message","user":"U0KPFAZNF","text":"as an aside, if the problem persists, this is the line that is turning the log off: <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/unit-test\/docker-compose.yml#L3>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/unit-test\/docker-compose.yml#L3","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/unit-test\/docker-compose.yml#L3","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1485546583.001931"},{"type":"message","user":"U0KPFAZNF","text":"ah, ok","ts":"1485546593.001933"},{"type":"message","user":"U0KPFAZNF","text":"yeah, must be coincidence, as we have an example of 0.3.0 that works, and an 0.2.2 that breaks :wink:","ts":"1485546613.001934"},{"type":"message","user":"U0YK3KKCY","text":"Yep.","ts":"1485546631.001935"},{"type":"message","user":"U0KPFAZNF","text":"but removing L3 per above should make the peer more chatty","ts":"1485546632.001936"},{"type":"message","user":"U0YK3KKCY","text":"OK","ts":"1485546641.001937"},{"type":"message","user":"U0KPFAZNF","text":"long term, we should configure that to log to a file or something","ts":"1485546645.001938"},{"type":"message","user":"U0KPFAZNF","text":"this isnt the first time ive seen the vp go silently belly up","ts":"1485546662.001939"},{"type":"message","user":"U0YK3KKCY","text":"OK.  New one for me. :slightly_smiling_face:","ts":"1485546674.001940"},{"type":"message","subtype":"file_share","text":"<@U1FEUAG9E|harsha544> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/harsha544\/F3Y9AHG87\/docker_log_o_p_of_dead_vp.c|docker log O\/P of dead vp> and commented: This what it looks like in ppc64le","file":{"id":"F3Y9AHG87","created":1485546822,"timestamp":1485546822,"name":"docker_log_O_P_of_dead_vp.c","title":"docker log O\/P of dead vp","mimetype":"text\/plain","filetype":"c","pretty_type":"C","user":"U1FEUAG9E","editable":true,"size":1910,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3Y9AHG87\/docker_log_o_p_of_dead_vp.c?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3Y9AHG87\/download\/docker_log_o_p_of_dead_vp.c?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/harsha544\/F3Y9AHG87\/docker_log_o_p_of_dead_vp.c","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3Y9AHG87-50f458a627","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/harsha544\/F3Y9AHG87\/docker_log_o_p_of_dead_vp.c\/edit","preview":"panic: Error during commit to history db:proto: bad wiretype for field peer.Transaction.Version: got wiretype 2, want 0\r\n\r\ngoroutine 1 [running]:\r\npanic(0x10819f00, 0xc4213994d0)\r\n        \/opt\/go\/src\/runtime\/panic.go:500 +0x3a8\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-variable\">panic<\/span>: <span class=\"cm-variable\">Error<\/span> <span class=\"cm-variable\">during<\/span> <span class=\"cm-variable\">commit<\/span> <span class=\"cm-variable\">to<\/span> <span class=\"cm-variable\">history<\/span> <span class=\"cm-variable\">db<\/span>:<span class=\"cm-variable\">proto<\/span>: <span class=\"cm-variable\">bad<\/span> <span class=\"cm-variable\">wiretype<\/span> <span class=\"cm-keyword\">for<\/span> <span class=\"cm-variable\">field<\/span> <span class=\"cm-variable\">peer<\/span>.<span class=\"cm-variable\">Transaction<\/span>.<span class=\"cm-variable\">Version<\/span>: <span class=\"cm-variable\">got<\/span> <span class=\"cm-variable\">wiretype<\/span> <span class=\"cm-number\">2<\/span>, <span class=\"cm-variable\">want<\/span> <span class=\"cm-number\">0<\/span><\/pre><\/div>\n<div><pre>&#8203;<\/pre><\/div>\n<div><pre><span class=\"cm-variable\">goroutine<\/span> <span class=\"cm-number\">1<\/span> [<span class=\"cm-variable\">running<\/span>]:<\/pre><\/div>\n<div><pre><span class=\"cm-variable\">panic<\/span>(<span class=\"cm-number\">0x10819f00<\/span>, <span class=\"cm-number\">0xc4213994d0<\/span>)<\/pre><\/div>\n<div><pre>        <span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">opt<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">go<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">src<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">runtime<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">panic<\/span>.<span class=\"cm-variable\">go<\/span>:<span class=\"cm-number\">500<\/span> <span class=\"cm-operator\">+<\/span><span class=\"cm-number\">0x3a8<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":24,"lines_more":19,"preview_is_truncated":true,"channels":["C0YMWRX19"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc3WT18PFA","created":1485546822,"timestamp":1485546822,"user":"U1FEUAG9E","is_intro":true,"comment":"This what it looks like in ppc64le","channel":""}},"user":"U1FEUAG9E","upload":true,"display_as_bot":false,"username":"<@U1FEUAG9E|harsha544>","bot_id":null,"ts":"1485546823.001941"},{"type":"message","user":"U0YK3KKCY","text":"<https:\/\/jenkins.hyperledger.org\/view\/fabric\/job\/fabric-verify-x86_64\/5815\/console>","ts":"1485546910.001942"},{"type":"message","user":"U0KPFAZNF","text":"just saw it here too","ts":"1485547731.001944"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/5821\/console>","ts":"1485547733.001945"},{"type":"message","user":"U0KPFAZNF","text":"looks like mainline is busted","ts":"1485547738.001946"},{"type":"message","user":"U0YK3KKCY","text":"Yeah.","ts":"1485547927.001947"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KPFAZNF> <@U0UHG4VP1> <@U11HTMW0H> : Multi channel join functionality and node sdk end-to-end tests are working as excepted on these commits =======&gt; FABRIC - 3ee280e =======&gt; FABRIC CA  f5291e7 =======&gt; FABRIC SDK NODE COMMIT NUMBER - 24926ce","ts":"1485555761.001948"},{"type":"message","user":"U11HH3P7Y","text":"these commits are good go in v1.0-alpha-preview images","ts":"1485555842.001949"},{"type":"message","user":"U11HH3P7Y","text":"<@U0KPFAZNF> could you please push images of above commits to HL dockerhub today","ts":"1485556470.001950"},{"type":"message","user":"U0KPFAZNF","text":"i think that would have to go through the CR process","ts":"1485556523.001951"},{"type":"message","user":"U0KPFAZNF","text":"I dont have direct access to dockerhub any more","ts":"1485556554.001952"},{"type":"message","user":"U0KPFAZNF","text":"jenkins pushes them out","ts":"1485556561.001953"},{"type":"message","user":"U11HH3P7Y","text":"CI don't have a job to publish images based on specific commit number...","ts":"1485556753.001954"},{"type":"message","user":"U0KPFAZNF","text":"understood, nor would I advise that","ts":"1485556809.001955"},{"type":"message","user":"U0KPFAZNF","text":"if I were going to do this, id probably do something like: in each project, create a v1.0-alpha-preview branch","ts":"1485556845.001956"},{"type":"message","user":"U0KPFAZNF","text":"create a release commit with VERSION=v1.0-alpha-preview1 IS_RELEASE=true, push that to gerrit","ts":"1485556871.001957"},{"type":"message","user":"U0KPFAZNF","text":"create a follow up VERSION=v1.0-alpha-preview2 IS_RELEASE=false","ts":"1485556898.001958"},{"type":"message","user":"U0KPFAZNF","text":"and tag the first","ts":"1485556903.001959"},{"type":"message","user":"U0KPFAZNF","text":"thats the right way to do it","ts":"1485556907.001960"},{"type":"message","user":"U11HH3P7Y","text":"yes agree","ts":"1485556914.001961"},{"type":"message","user":"U0KPFAZNF","text":"i have a suggestion","ts":"1485557024.001962"},{"type":"message","user":"U0KPFAZNF","text":"rather than cut a release (because, imo, we arent ready)","ts":"1485557037.001963"},{"type":"message","user":"U0KPFAZNF","text":"just do something like create a GH org (\"hackfest-sf-feb2017\") and checkout the three trees there","ts":"1485557068.001964"},{"type":"message","user":"U0KPFAZNF","text":"sorry, fork","ts":"1485557077.001965"},{"type":"message","user":"U0KPFAZNF","text":"that might be far more flexible and appropriate for the state of the code","ts":"1485557111.001966"},{"type":"message","user":"U11HH3P7Y","text":"that's a better way.  will create repos as mentioned above with above commits","ts":"1485557262.001967"},{"type":"message","user":"U11HH3P7Y","text":"then will create a job to build these commits","ts":"1485557275.001968"},{"type":"message","user":"U0KPFAZNF","text":"cool...that will be way easier if you have to add another patch or something","ts":"1485557291.001969"},{"type":"message","user":"U0KPFAZNF","text":"wait, are you planning on pushing those images?","ts":"1485557317.001970"},{"type":"message","user":"U0KPFAZNF","text":"I would suggest just having people pull from the org","ts":"1485557336.001971"},{"type":"message","user":"U0KPFAZNF","text":"if the goal were only to make jenkins see the trees, you could just use a refspec to the current repos","ts":"1485557357.001972"},{"type":"message","user":"U0KPFAZNF","text":"I would not suggest putting anything on dockerhub under \"hyperledger\/fabric\" that hasnt gone through the release process I described above","ts":"1485557397.001973"},{"type":"message","user":"U0KPFAZNF","text":"if that is really the goal, i suggest doing the real release process","ts":"1485557420.001974"},{"type":"message","user":"U0KPFAZNF","text":"but again, i discourage that from what I have seen","ts":"1485557430.001975"},{"type":"message","user":"U11HH3P7Y","text":"we are planning to keep them in hyperledger","ts":"1485557435.001976"},{"type":"message","user":"U0KPFAZNF","text":"I wouldnt advise that, but again, if that is the intent, it should flow through the release process so we retain the tags, etc","ts":"1485557475.001977"},{"type":"message","user":"U0KPFAZNF","text":"and also, perhaps more importantly, to be sure enough maintainers are signing off on it","ts":"1485557507.001978"},{"type":"message","user":"U0KPFAZNF","text":"and all of this is not even considering the fact that we still are not ready to support a binary deployment model","ts":"1485557631.001979"},{"type":"message","user":"U0KPFAZNF","text":"(FAB-678, etc)","ts":"1485557638.001980"},{"type":"message","user":"U0KPFAZNF","text":"close, but not quite there","ts":"1485557642.001981"},{"type":"message","user":"U11HH3P7Y","text":"Yes I see your point but on latest commits end-to-end program and multichannel tests are not working","ts":"1485557935.001982"},{"type":"message","user":"U0KPFAZNF","text":"right, but you can branch from whereever you like","ts":"1485557951.001983"},{"type":"message","user":"U0KPFAZNF","text":"so what I am suggesting is, create a branch in each repo with a logical, unified name, and from the commit sha you wanted","ts":"1485557985.001984"},{"type":"message","user":"U0KPFAZNF","text":"then, we will submit release CRs on top of that branch, over the shas you want, that form the release","ts":"1485558022.001985"},{"type":"message","user":"U0KPFAZNF","text":"finally, the CI process will produce the artifacts for publication","ts":"1485558054.001986"},{"type":"message","user":"U0KPFAZNF","text":"<@U0KM61BCP> <@U0PB67X4K> <@U0ULK2JPP> <@U0KN2SSKE> any comments here?","ts":"1485558100.001987"},{"user":"U0KN2SSKE","inviter":"U0KPFAZNF","text":"<@U0KN2SSKE|binhn> has joined the channel","type":"message","subtype":"channel_join","ts":"1485558105.001988"},{"type":"message","user":"U0PB67X4K","text":"<@U0KPFAZNF> - you have never led us (too far) astray, so sounds good to me","ts":"1485558156.001989","reactions":[{"name":"+1","users":["U0KM61BCP"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"to reiterate, I still would encourage a \"build from source\" model for this hackathon","ts":"1485558198.001990"},{"type":"message","user":"U0KPFAZNF","text":"i think trying to use dockerhub images is not quite ready","ts":"1485558208.001991"},{"type":"message","user":"U0KPFAZNF","text":"but I will support what the other maintainers want to do","ts":"1485558217.001992"},{"type":"message","user":"U0KPFAZNF","text":"i think we can do quite a few things to make getting the right source pretty easy","ts":"1485558241.001993"},{"type":"message","user":"U0KPFAZNF","text":"(like the GH org, or we could tag the current repos, etc)","ts":"1485558256.001994"},{"type":"message","user":"U0KPFAZNF","text":"have to run to dinner, but ill check back later","ts":"1485558305.001995"},{"type":"message","user":"U0KM61BCP","text":"agree","ts":"1485562303.001996"},{"user":"U3UU2PMBK","text":"<@U3UU2PMBK|patchpon> has joined the channel","type":"message","subtype":"channel_join","ts":"1485825464.001997"},{"type":"message","user":"U0XPR4NP4","text":"It looks like other architectures were added to CI?","ts":"1485919223.001998"},{"type":"message","user":"U0XPR4NP4","text":"I'm seeing consistent failures on the non-Z architecture","ts":"1485919235.001999"},{"type":"message","user":"U0UHG4VP1","text":"is this for fabric?","ts":"1485919285.002000"},{"type":"message","user":"U0XPR4NP4","text":"Yes","ts":"1485919290.002001"},{"type":"message","user":"U0XPR4NP4","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/5141\/>","ts":"1485919293.002002"},{"type":"message","user":"U0XPR4NP4","text":"(And more, I can link if you are interested)","ts":"1485919317.002003"},{"type":"message","user":"U0XPR4NP4","text":"Actually, in that one Z did not pass but x86 did, but I am seeing the reverse elsewhere","ts":"1485919341.002004"},{"type":"message","user":"U0XPR4NP4","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/5145\/> (exhibits a Z success, though I already sent a reverify)","ts":"1485919364.002005"},{"type":"message","user":"U0UHG4VP1","text":"my error","ts":"1485919372.002006"},{"type":"message","user":"U0UHG4VP1","text":"I've set those two jobs to silent","ts":"1485919383.002007"},{"type":"message","user":"U0XPR4NP4","text":"Sorry, not up on the CI terms, what does that mean?","ts":"1485919416.002008"},{"type":"message","user":"U0UHG4VP1","text":"they will run but not vote. I made some updates to a bunch of jobs today and apparently undid these jobs being silent","ts":"1485919491.002009"},{"type":"message","user":"U0UHG4VP1","text":"I went back and retriggered the one x86 build you missed","ts":"1485919522.002010"},{"type":"message","user":"U0XPR4NP4","text":"Thanks <@U0UHG4VP1>","ts":"1485919549.002011"},{"type":"message","user":"U0UHG4VP1","text":"sure thing. You in SFO for the hackfest?","ts":"1485919564.002012"},{"type":"message","user":"U0XPR4NP4","text":"I am not, but taking advantage of the loneliness to catch up on some CRs","ts":"1485919625.002013"},{"type":"message","user":"U0ZJZBJLF","text":"I really really don't understand how some tests fail on Z\/PPC and pass in X86.","ts":"1485919627.002014"},{"type":"message","user":"U0ZJZBJLF","text":"\"catch up on some CRs\" - - more like, stress testing gerrit :wink:","ts":"1485919649.002015","reactions":[{"name":"simple_smile","users":["U0XPR4NP4"],"count":1}]},{"type":"message","user":"U0UHG4VP1","text":"I'm fine with that. Keep it warm.","ts":"1485919832.002016"},{"type":"message","user":"U184J2R7S","text":"<@U0XPR4NP4> i'm sure I can find some code for you to write (grinning at you)","ts":"1485925314.002017","reactions":[{"name":"simple_smile","users":["U0XPR4NP4"],"count":1}]},{"type":"message","user":"U0XPR4NP4","text":"<@U0UHG4VP1> Seems like some of my CRs are still stalled, even after posting a reverify, not sure if they require your intervention?\n\n<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/5141\/>\n<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/5145\/>\n<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/5149\/>\n<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/5155\/>\n<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/5177\/>","ts":"1485927970.002018"},{"type":"message","user":"U11HH3P7Y","text":"<@U0XPR4NP4> I see all CR's are triggered as expected.. Since power builds are failing for some reason, CR's are getting -1 vote..","ts":"1485929065.002019"},{"type":"message","user":"U0XPR4NP4","text":"Oh, I see, if the x86 build passes, a reverify will not retrigger the build? Any way to remove the -1 on the verify? Do not think it will merge, even with a manual +1 there (on the \"Verified\")","edited":{"user":"U0XPR4NP4","ts":"1485929185.000000"},"ts":"1485929156.002020"},{"type":"message","user":"U11HH3P7Y","text":"x86 and s390x builds are successfully executed..","ts":"1485929172.002021"},{"type":"message","user":"U11HH3P7Y","text":"due some plugin issue in jenkins reverify is not working..","ts":"1485929199.002023"},{"type":"message","user":"U11HH3P7Y","text":"maintainer should have an option to remove -1 and add +1 (verified)","ts":"1485929257.002024"},{"type":"message","user":"U0XPR4NP4","text":"As a maintainer, I see I can add a +1 Verified, but I don't see how to remove a -1 Verified (not that I would do this to my own CR, but have encountered this problem previously)","edited":{"user":"U0XPR4NP4","ts":"1485929413.000000"},"thread_ts":"1485929301.002025","reply_count":2,"replies":[{"user":"U0ZJZBJLF","ts":"1485930827.002040"},{"user":"U0XPR4NP4","ts":"1485959975.002042"}],"ts":"1485929301.002025"},{"type":"message","user":"U11HH3P7Y","text":"sorry not much help from my side on this.. <@U0UHG4VP1> can help you on this..","ts":"1485929635.002027"},{"type":"message","user":"U0XPR4NP4","text":"Thanks <@U11HH3P7Y>, will wait for <@U0UHG4VP1>'s response","ts":"1485929653.002028"},{"type":"message","user":"U11HH3P7Y","text":"sure ..","ts":"1485929666.002029"},{"type":"message","user":"U0ZJZBJLF","text":"jyellick: you need to removed job-builder as a reviewer","thread_ts":"1485929301.002025","parent_user_id":"U0XPR4NP4","ts":"1485930827.002040"},{"type":"message","user":"U0XPR4NP4","text":"Ah, thanks, did not realize that would do it","thread_ts":"1485929301.002025","parent_user_id":"U0XPR4NP4","ts":"1485959975.002042"},{"type":"message","user":"U0XPR4NP4","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/5149\/> Could someone restart the CI on this? My reverify seems to be being ignored","ts":"1485962792.002044"},{"type":"message","user":"U0UHG4VP1","text":"<@U0XPR4NP4> I did it, not sure why reverify isn't kicking off","ts":"1485968027.002052"},{"type":"message","user":"U0XPR4NP4","text":"Thanks","ts":"1485968095.002053"},{"type":"message","user":"U0UHG4VP1","text":"<@U0XPR4NP4> I fixed reverify. The issue was <https:\/\/issues.jenkins-ci.org\/browse\/JENKINS-38974>","ts":"1486022335.002054","reactions":[{"name":"+1","users":["U0XPR4NP4"],"count":1}]},{"text":"wonders how to fix [ci skip] since the plugin isn't working and isn't putting anything in the logs","type":"message","subtype":"me_message","user":"U0UHG4VP1","ts":"1486022360.002055"},{"user":"U4091RGRJ","inviter":"U0UHG4VP1","text":"<@U4091RGRJ|rocket.chat> has joined the channel","type":"message","subtype":"channel_join","ts":"1486061266.002056"},{"type":"message","user":"U0UHG4VP1","text":"<@U0XPR4NP4> <@U0YK3KKCY> please join me at <https:\/\/chat.hyperledger.org\/> click \"CAS\" to log in; if you need to create an account, please don't create it with social logins. Create it in <http:\/\/identity.lf.org|identity.lf.org> directly and add social logins later.","ts":"1486062350.002059"},{"type":"message","user":"U0UHG4VP1","text":"(everyone else is welcome of course)","ts":"1486062360.002060"},{"type":"message","user":"U0YK3KKCY","text":"Already on there. :slightly_smiling_face:","ts":"1486062608.002061","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"user":"U0UHG4VP1","topic":"Please join #ci-pipeline on <http:\/\/chat.hyperledger.org|chat.hyperledger.org>","text":"<@U0UHG4VP1|ry> set the channel topic: Please join #ci-pipeline on <http:\/\/chat.hyperledger.org|chat.hyperledger.org>","type":"message","subtype":"channel_topic","ts":"1486062910.002062"},{"user":"U0UHG4VP1","topic":"please join us at <https:\/\/chat.hyperledger.org\/> click \"CAS\" to log in; if you need to create an account, please don't create it with social logins. Create it in <http:\/\/identity.lf.org|identity.lf.org> directly and add social logins later.","text":"<@U0UHG4VP1|ry> set the channel topic: please join us at <https:\/\/chat.hyperledger.org\/> click \"CAS\" to log in; if you need to create an account, please don't create it with social logins. Create it in <http:\/\/identity.lf.org|identity.lf.org> directly and add social logins later.","type":"message","subtype":"channel_topic","ts":"1486063329.002063"},{"user":"U1BC5A0F9","text":"<@U1BC5A0F9|elli> has joined the channel","type":"message","subtype":"channel_join","ts":"1486065647.002064"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0UHG4VP1>, why the migration?","ts":"1486065662.002065"},{"type":"message","user":"U0UHG4VP1","text":"yacovm: history","ts":"1486065789.002066"},{"type":"message","user":"U0UHG4VP1","text":"we only get a day or day and a half of scrollback here","ts":"1486065809.002067","reactions":[{"name":"+1","users":["U0ZJZBJLF","U11HH3P7Y"],"count":2}]},{"type":"message","user":"U0ZJZBJLF","text":"I can't get into ci-pipeline on rocket chat. It says it's not found <@U0UHG4VP1>","edited":{"user":"U0ZJZBJLF","ts":"1486066634.000000"},"ts":"1486066515.002068"},{"type":"message","user":"U0UHG4VP1","text":"<@U0ZJZBJLF> it looks like you're in the room","ts":"1486067285.002070"},{"user":"U3ZMSLP43","text":"<@U3ZMSLP43|glennscott> has joined the channel","type":"message","subtype":"channel_join","ts":"1486072018.002071"},{"type":"message","user":"U0UHG4VP1","text":"please join us at <https:\/\/chat.hyperledger.org\/> click \"CAS\" to log in; if you need to create an account, please don't create it with social logins. Create it in <http:\/\/identity.lf.org|identity.lf.org> directly and add social logins later.","ts":"1486079088.002072"},{"user":"U34T14JJH","text":"<@U34T14JJH|subaru365> has joined the channel","type":"message","subtype":"channel_join","ts":"1486092918.002073"},{"type":"message","user":"U1AU8DRQR","text":"reverify works, right? I asked for one right now here: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4819\/> but nothing yet","ts":"1486127411.002074"},{"type":"message","user":"U11HH3P7Y","text":"<@U1AU8DRQR> : build is started here <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/6176\/console>","ts":"1486129149.002075"},{"type":"message","user":"U1AU8DRQR","text":"<@U11HH3P7Y> ahh nice","ts":"1486129397.002076"},{"type":"message","user":"U0KM61BCP","text":"Please note that we are transitioning to RocketChat.","attachments":[{"fallback":"[February 3rd, 2017 1:34 PM] jonathanlevi: <@U3ZTVQKPS>, <@U3ZU1T3HN>, <@U40NVB57E>, <@U40NXH51A>, <@U40LMV9PC>, <@U41B8JN8N>, <@U4022DPL1>, <@U41DA3R6J>, <@U40PKHWSE>, <@U40S65GQM>:\n1. You should probably know that we are moving\/transitioning to <https:\/\/chat.hyperledger.org>\n2. Welcome! :wink:","ts":"1486146898.004623","author_subname":"jonathanlevi","channel_id":"C0J02NU1E","channel_name":"general","is_msg_unfurl":true,"text":"<@U3ZTVQKPS>, <@U3ZU1T3HN>, <@U40NVB57E>, <@U40NXH51A>, <@U40LMV9PC>, <@U41B8JN8N>, <@U4022DPL1>, <@U41DA3R6J>, <@U40PKHWSE>, <@U40S65GQM>:\n1. You should probably know that we are moving\/transitioning to <https:\/\/chat.hyperledger.org>\n2. Welcome! :wink:","author_name":"Jonathan Levi","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/jonathanlevi","author_icon":"https:\/\/avatars.slack-edge.com\/2016-09-06\/76710770455_2316fc867e622c8f0008_48.jpg","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/general\/p1486146898004623","is_share":true,"footer":"Posted in #general"}],"ts":"1486152116.002077"},{"text":"ping","username":"ry","icons":{"image_48":"https:\/\/s3-us-west-2.amazonaws.com\/slack-files2\/bot_icons\/2017-02-03\/136154290160_48.png"},"bot_id":"B3ZG694UR","type":"message","subtype":"bot_message","ts":"1486152434.002080"},{"text":"pong","username":"cbf","icons":{"image_48":"https:\/\/s3-us-west-2.amazonaws.com\/slack-files2\/bot_icons\/2017-02-03\/136181387233_48.png"},"bot_id":"B3ZG694UR","type":"message","subtype":"bot_message","ts":"1486152441.002081"},{"text":"So, two way bridging for this channel is enabled.","username":"ry","icons":{"image_48":"https:\/\/s3-us-west-2.amazonaws.com\/slack-files2\/bot_icons\/2017-02-03\/136154290160_48.png"},"bot_id":"B3ZG694UR","type":"message","subtype":"bot_message","ts":"1486152463.002082"},{"text":"if you look in Slack you'll see we appear with a `BOT` annotation","username":"ry","icons":{"image_48":"https:\/\/s3-us-west-2.amazonaws.com\/slack-files2\/bot_icons\/2017-02-03\/136154290160_48.png"},"bot_id":"B3ZG694UR","type":"message","subtype":"bot_message","ts":"1486152480.002083"},{"user":"U0UHG4VP1","topic":"chat has moved to <https:\/\/chat.hyperledger.org\/> channel #ci-pipeline","text":"<@U0UHG4VP1|ry> set the channel topic: chat has moved to <https:\/\/chat.hyperledger.org\/> channel #ci-pipeline","type":"message","subtype":"channel_topic","ts":"1486405356.002086"},{"user":"U0UHG4VP1","members":["U0J025UP9","U0J5URUJU","U0KM0C3M3","U0KM61BCP","U0KN2SSKE","U0KPFAZNF","U0MM86C84","U0MT4CBHB","U0MUSGY5N","U0N0GDVJ5","U0N1D1UAE","U0N1K6Z0X","U0N20TJUA","U0N25BLQH","U0N6V6E67","U0NCW1DPX","U0NJ88VF0","U0NK7T8SH","U0NLZCF8V","U0NM25NQ3","U0P1VU0QG","U0P2GSA8Z","U0P75RFT4","U0PB67X4K","U0Q6BA1EU","U0Q6DJC4W","U0R7Q5C30","U0S5KF44D","U0TFEHX8E","U0UFDAS91","U0UHG4VP1","U0UKTPMG8","U0ULK2JPP","U0ULX737C","U0VKPD6A2","U0W7D64LC","U0XNB1QNA","U0XPR4NP4","U0XQ35CDD","U0XQX3U9G","U0Y4ZF0QM","U0Y6AUDST","U0YATJ18S","U0YJUECE8","U0YK3KKCY","U0YNFB22X","U0YP7KFGQ","U0YQK8WSV","U0YQQRNU8","U0YRACW1X","U0YS0MWP3","U0YTUU2T0","U0Z541B3P","U0Z5FGD0V","U0Z68F4HE","U0Z6EEJ69","U0Z91VBGQ","U0ZHVB1UP","U0ZJZBJLF","U0ZLVCQPM","U0ZMB7ZEJ","U10P06F6G","U10PD21K7","U10Q62R8X","U10U36Y4F","U10UX43K6","U115YGEH1","U11BP64LD","U11HH3P7Y","U11HTMW0H","U11L89VHU","U11MANG9G","U11NUTP4L","U11TAFPUP","U12452RAP","U1296EA0M","U12CQUQLU","U12V3D2P2","U13DAL5V5","U13JUH485","U143JUETY","U14FUGATW","U14KBK932","U14KV815Y","U14NC480K","U14S06MT7","U150L8BDF","U163J7MRT","U16FB85U6","U16NDNH08","U17D1TC7Q","U17FQ1GQG","U1802P5D3","U184J2R7S","U18D82GJH","U1914JUPK","U1A6TJ0KV","U1A9JNB1T","U1AU8DRQR","U1B5DPRLG","U1B9E51R8","U1BC5A0F9","U1BC5NF2S","U1BLNM9DE","U1D5P2DHD","U1D89DP47","U1E795PLG","U1EEGQARJ","U1F97K1UJ","U1FB2EXB8","U1FEUAG9E","U1HD28HEH","U1HFNJB50","U1HSEPL9M","U1KDHJT6H","U1KFCPFQA","U1LES78TT","U1M7K67EV","U1NBM7NHH","U1PFK7GG5","U1R9A8Q3A","U1S01QY6L","U1SDX7EQZ","U1TMQDYKE","U1U7BR1KP","U1VG8LNP3","U1XL70KHB","U1XMKU015","U21A1B82D","U221LL03Z","U23274813","U23GLSTS4","U24M29R4G","U268EB76W","U29BLQJ4Q","U2A98QJKS","U2AFW8W9X","U2B3A70TX","U2GRGCQ7P","U2P21M71V","U2PE37K3J","U2TUCLGRJ","U2X087SH4","U32ND8W73","U34T14JJH","U35EMQWK1","U380FJ1U1","U3UU2PMBK","U3X6RA34J","U3ZMSLP43","U4091RGRJ"],"text":"<@U0UHG4VP1|ry> archived the channel (w\/ 151 members)","type":"message","subtype":"channel_archive","ts":"1486405363.002087"}]