[{"user":"U0KN2SSKE","text":"<@U0KN2SSKE|binhn> has joined the channel","type":"message","subtype":"channel_join","ts":"1472759570.000002"},{"user":"U0KN2SSKE","purpose":"To discuss Fabric Peer development","text":"<@U0KN2SSKE|binhn> set the channel purpose: To discuss Fabric Peer development","type":"message","subtype":"channel_purpose","ts":"1472759570.000003"},{"user":"U0UKTPMG8","inviter":"U0KN2SSKE","text":"<@U0UKTPMG8|jeffgarratt> has joined the channel","type":"message","subtype":"channel_join","ts":"1472759570.000004"},{"user":"U1KFCPFQA","inviter":"U0KN2SSKE","text":"<@U1KFCPFQA|dave.enyeart> has joined the channel","type":"message","subtype":"channel_join","ts":"1472759570.000005"},{"user":"U0Z541B3P","inviter":"U0KN2SSKE","text":"<@U0Z541B3P|manish-sethi> has joined the channel","type":"message","subtype":"channel_join","ts":"1472759570.000006"},{"user":"U0ULK2JPP","inviter":"U0KN2SSKE","text":"<@U0ULK2JPP|muralisr> has joined the channel","type":"message","subtype":"channel_join","ts":"1472759570.000007"},{"type":"message","user":"U0UKTPMG8","text":"working on the skeleton engine flow and BDD","ts":"1472761205.000008"},{"type":"message","user":"U0UKTPMG8","text":"can cover in the scrum in the AM","ts":"1472761210.000009"},{"user":"U0ZR63HLK","inviter":"U0KN2SSKE","text":"<@U0ZR63HLK|adc> has joined the channel","type":"message","subtype":"channel_join","ts":"1472762018.000010"},{"user":"U0UGH3X7X","inviter":"U0KN2SSKE","text":"<@U0UGH3X7X|tuand> has joined the channel","type":"message","subtype":"channel_join","ts":"1472762018.000011"},{"user":"U26T99AQ4","inviter":"U0KN2SSKE","text":"<@U26T99AQ4|aso> has joined the channel","type":"message","subtype":"channel_join","ts":"1472762018.000012"},{"user":"U1BC5A0F9","inviter":"U0KN2SSKE","text":"<@U1BC5A0F9|elli> has joined the channel","type":"message","subtype":"channel_join","ts":"1472762018.000013"},{"type":"message","user":"U0KN2SSKE","text":"discussed with <@U0S5KF44D> about bootstrap peer \u2014 since we want to decentralize membership service, it could be built as a component of the peer, so the first peer would have the ability to self-enroll and initialize genesis block with its id;  to add a second peer, someone enrolls it (via cli or app) with the first peer to get ecert; configure the peer and bring it up;  now we have 2 peers;  to add a third peer, repeat the same steps with either the first or the second peer;   and so on.","ts":"1472762621.000014"},{"type":"message","user":"U0KN2SSKE","text":"would that simplify bootstrap?","ts":"1472762638.000015"},{"type":"message","user":"U0KN2SSKE","text":"of course all subsequent peers might choose to enroll with the first peer to get their ecerts and start up at any time","edited":{"user":"U0KN2SSKE","ts":"1472820684.000000"},"ts":"1472762763.000016"},{"type":"message","user":"U0KN2SSKE","text":"<@U1AU8DRQR>","ts":"1472762931.000017"},{"user":"U0S5KF44D","inviter":"U0KN2SSKE","text":"<@U0S5KF44D|keithsmith> has joined the channel","type":"message","subtype":"channel_join","ts":"1472763574.000018"},{"type":"message","user":"U0KN2SSKE","text":"<@U13TWBRBL>","ts":"1472763644.000019"},{"user":"U13TWBRBL","inviter":"U0KN2SSKE","text":"<@U13TWBRBL|jzhang> has joined the channel","type":"message","subtype":"channel_join","ts":"1472763652.000020"},{"type":"message","user":"U0ULK2JPP","text":"<@U0KN2SSKE> from an SDK\/application POV\u2026 would we use the membership services to find out about who the endorsers are ?","edited":{"user":"U0ULK2JPP","ts":"1472763804.000000"},"ts":"1472763792.000021"},{"type":"message","user":"U0ULK2JPP","text":"TBD ?","ts":"1472763814.000023"},{"type":"message","user":"U0ULK2JPP","text":"reason I bring that up \u2026 it might be relevant to the question of bootstrapping and what peers are members.","ts":"1472763920.000024"},{"type":"message","user":"U0KN2SSKE","text":"i don\u2019t think so;  peers are peers, if they cant endorse, they return 404 Not Found (chaincode)","ts":"1472764010.000025"},{"type":"message","user":"U0ULK2JPP","text":"so 2 applications beloing to different companies , 2 different endorsements but same peers ==&gt; common membership on the chain","ts":"1472764170.000026"},{"type":"message","user":"U0ULK2JPP","text":"right ?","ts":"1472764176.000027"},{"type":"message","user":"U0ULK2JPP","text":"ie, membership is tied to the peer (and the chain) and is orthogonal to endorser","edited":{"user":"U0ULK2JPP","ts":"1472764227.000000"},"ts":"1472764203.000028"},{"type":"message","user":"U0KN2SSKE","text":"right","ts":"1472764672.000031"},{"type":"message","user":"U0ULK2JPP","text":"<@U12452RAP>","ts":"1473085197.000002"},{"user":"U12452RAP","inviter":"U0ULK2JPP","text":"<@U12452RAP|grapebaba> has joined the channel","type":"message","subtype":"channel_join","ts":"1473085206.000003"},{"type":"message","user":"U0ULK2JPP","text":"<https:\/\/hyperledgerproject.slack.com\/archives\/fabric-consensus-dev\/p1473082363000002>","attachments":[{"from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-consensus-dev\/p1473082363000002","fallback":"[September 5th, 2016 6:32 AM] grapebaba: hi, i have a question about new architecture. Currently coNsensus service delivery peers will use gossip, right?","ts":"1473082363.000002","author_subname":"grapebaba","channel_id":"C0Z4NBUN6","channel_name":"fabric-consensus-dev","is_msg_unfurl":true,"text":"hi, i have a question about new architecture. Currently coNsensus service delivery peers will use gossip, right?","author_name":"Kai Chen","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/grapebaba","author_icon":"https:\/\/secure.gravatar.com\/avatar\/f0e9297c7a9bdf698efe302df2af314b.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-48.png","mrkdwn_in":["text"],"id":1,"footer":"Posted in #fabric-consensus-dev"}],"ts":"1473085300.000004"},{"type":"message","user":"U0ULK2JPP","text":"<https:\/\/hyperledgerproject.slack.com\/archives\/fabric-consensus-dev\/p1473082505000003>","attachments":[{"from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-consensus-dev\/p1473082505000003","fallback":"[September 5th, 2016 6:35 AM] grapebaba: whatever endorse peer, submitting peer, commtting peer?","ts":"1473082505.000003","author_subname":"grapebaba","channel_id":"C0Z4NBUN6","channel_name":"fabric-consensus-dev","is_msg_unfurl":true,"text":"whatever endorse peer, submitting peer, commtting peer?","author_name":"Kai Chen","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/grapebaba","author_icon":"https:\/\/secure.gravatar.com\/avatar\/f0e9297c7a9bdf698efe302df2af314b.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-48.png","mrkdwn_in":["text"],"id":1,"footer":"Posted in #fabric-consensus-dev"}],"ts":"1473085330.000006"},{"type":"message","user":"U12452RAP","text":"<@U0ULK2JPP>: ","ts":"1473085529.000008"},{"type":"message","user":"U12452RAP","text":"submitting peer will directly inVoke all endorser?","ts":"1473085568.000009"},{"type":"message","user":"U0ULK2JPP","text":"so we have two flows `SDK\/app -&gt;peers for endorsement` and `SDK\/app \u2014&gt;peer-&gt; peers for endorsement`","ts":"1473085771.000010"},{"type":"message","user":"U0ULK2JPP","text":"I assume your question is about the later ?","ts":"1473085780.000011"},{"type":"message","user":"U12452RAP","text":"yes","ts":"1473085807.000012"},{"type":"message","user":"U12452RAP","text":"but i have not known the first flow, it seems not present in the document","ts":"1473085873.000013"},{"type":"message","user":"U12452RAP","text":"as i have seen the gossip document, i have some confusion on the step coNsensus service delivery to peer","ts":"1473086078.000014"},{"type":"message","user":"U0ULK2JPP","text":"how about this doc <https:\/\/jira.hyperledger.org\/browse\/FAB-37>","ts":"1473086100.000015"},{"type":"message","user":"U12452RAP","text":"yes","ts":"1473086111.000016"},{"type":"message","user":"U0ULK2JPP","text":"slide 7 there","ts":"1473086176.000017"},{"type":"message","user":"U12452RAP","text":"actually coNsensus service only delivery to commiting peer and then gossip to other peer, is it right?","ts":"1473086189.000018"},{"type":"message","user":"U12452RAP","text":"and all peers connected to coNsensus service?","ts":"1473086248.000019"},{"type":"message","user":"U0ULK2JPP","text":"right","ts":"1473086350.000020"},{"type":"message","user":"U12452RAP","text":"and any peer can  act as different peer role in different transaction invocation?","ts":"1473086513.000021"},{"type":"message","user":"U0ULK2JPP","text":"correct","ts":"1473086525.000022"},{"type":"message","user":"U0ULK2JPP","text":"that\u2019s a good way to understand it I think\u2026 endorsement is really a role for a `peer`","ts":"1473086602.000023"},{"type":"message","user":"U12452RAP","text":"thanks","ts":"1473086761.000024"},{"type":"message","user":"U12452RAP","text":"i need indeed read some new codes","ts":"1473086784.000025"},{"user":"U0XV1HDL3","text":"<@U0XV1HDL3|cca> has joined the channel","type":"message","subtype":"channel_join","ts":"1473089918.000026"},{"user":"U24M29R4G","text":"<@U24M29R4G|nikileshsa> has joined the channel","type":"message","subtype":"channel_join","ts":"1473116920.000002"},{"user":"U0NLP5909","text":"<@U0NLP5909|hanhzf> has joined the channel","type":"message","subtype":"channel_join","ts":"1473139208.000002"},{"user":"U28F9NALC","text":"<@U28F9NALC|heshansp> has joined the channel","type":"message","subtype":"channel_join","ts":"1473141817.000003"},{"user":"U0NK7T8SH","text":"<@U0NK7T8SH|bryan-huang> has joined the channel","type":"message","subtype":"channel_join","ts":"1473159046.000004"},{"user":"U1BA8SSTG","text":"<@U1BA8SSTG|pbottein> has joined the channel","type":"message","subtype":"channel_join","ts":"1473176569.000005"},{"type":"message","user":"U0KN2SSKE","text":"have we decided on the format of the error message?  we talked about error codes like http, but golang <https:\/\/golang.org\/pkg\/errors\/> only accepts a string","edited":{"user":"U0KN2SSKE","ts":"1473179801.000000"},"ts":"1473179612.000006"},{"type":"message","user":"U0KN2SSKE","text":"would json string make sense ?  ie,  {code: 404, message:\u201dNot Found\u201d}","ts":"1473179784.000007"},{"user":"U1AU8DRQR","text":"<@U1AU8DRQR|hgabor> has joined the channel","type":"message","subtype":"channel_join","ts":"1473184158.000009"},{"type":"message","user":"U1AU8DRQR","text":"<@U0KN2SSKE> maybe we should have a look at other go projects, how it is done etc. I could dig into it","ts":"1473184210.000010"},{"type":"message","user":"U0KN2SSKE","text":"good idea","ts":"1473184240.000011"},{"type":"message","user":"U0KN2SSKE","text":"we currently using Errorf to format the inner errors, and at the end, we end up with unintelligible string to the outer most caller \u2014 often times, the users","edited":{"user":"U0KN2SSKE","ts":"1473184421.000000"},"ts":"1473184343.000012"},{"type":"message","user":"U1AU8DRQR","text":"so, somehow, we need to stack up errors, right?","ts":"1473184463.000014"},{"type":"message","user":"U0ULK2JPP","text":"some structure that helps to pinpoint where and why an error happened while not making it terrible for develepers to add an error to the chain","ts":"1473184487.000015"},{"type":"message","user":"U0KN2SSKE","text":"right","ts":"1473184520.000016"},{"type":"message","user":"U0ULK2JPP","text":"right, that could be one way\u2026 but definitely we should look at other go projects too","ts":"1473184529.000017"},{"type":"message","user":"U1AU8DRQR","text":"so some \"error throwing + handling framework\" with some internal error struct which can hold important info","ts":"1473184567.000018"},{"type":"message","user":"U0ULK2JPP","text":"stack could become an issue for recursion :slightly_smiling_face: the error handling itself could become a problem","ts":"1473184590.000019"},{"type":"message","user":"U0ULK2JPP","text":"but right, stack would be a great approach","ts":"1473184621.000020"},{"type":"message","user":"U1AU8DRQR","text":"which part of the old code is the most problematic from an error handling perspective? what do you think","ts":"1473185287.000021"},{"type":"message","user":"U0KN2SSKE","text":"i would say pbft in consensus dir is most complex","ts":"1473190309.000022"},{"type":"message","user":"U28F9NALC","text":"Hi guys I posted this question in general as well but thought of asking it in this channel as it's more relevant. ","ts":"1473192370.000023"},{"type":"message","user":"U28F9NALC","text":"Is there a documentation how to bring up a non validating peer please? ","ts":"1473192425.000024"},{"type":"message","user":"U28F9NALC","text":"I have a chaincode similar to <https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/examples\/chaincode\/go\/asset_management>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/examples\/chaincode\/go\/asset_management","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/tree\/master\/examples\/chaincode\/go\/asset_management","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1473192510.000025"},{"type":"message","user":"U28F9NALC","text":"It requires security meta data to be added to the transaction which will be validated by the validator. I am hoping this needs to be added by a NVP..... ","ts":"1473192566.000027"},{"type":"message","user":"U28F9NALC","text":"Is there a way to interact with a NVP using a CLI or a REST API? ","ts":"1473192726.000028"},{"type":"message","user":"U1AU8DRQR","text":"<@U0XR6J961>","ts":"1473246333.000029"},{"user":"U0XR6J961","inviter":"U1AU8DRQR","text":"<@U0XR6J961|simon> has joined the channel","type":"message","subtype":"channel_join","ts":"1473246339.000030"},{"type":"message","user":"U0XR6J961","text":"what kind of errors are we talking about?","ts":"1473246429.000031"},{"type":"message","user":"U1AU8DRQR","text":"I guess any errors that are present in the code","ts":"1473246844.000032"},{"type":"message","user":"U1AU8DRQR","text":"argument, ledger, consensus, io, anything","ts":"1473246872.000033"},{"type":"message","user":"U1AU8DRQR","text":"nowadays, they are just formatted and sometimes propagated. sometimes not.","ts":"1473246899.000034"},{"type":"message","user":"U1AU8DRQR","text":"and they are just error-s, so you have to look at the string to decide what is that","ts":"1473246929.000035"},{"type":"message","user":"U0XR6J961","text":"i think this first needs a triage of errors - some are fatal, some can be recovered, some need to be reported","ts":"1473246989.000036"},{"type":"message","user":"U0XR6J961","text":"some go out via network, some get logged","ts":"1473247005.000037"},{"type":"message","user":"U1AU8DRQR","text":"yes","ts":"1473247043.000038"},{"type":"message","user":"U1AU8DRQR","text":"and there are situations when one has to panic","ts":"1473247057.000039"},{"type":"message","user":"U1AU8DRQR","text":"that is not an error error but a panic error, fatal","ts":"1473247075.000040"},{"type":"message","user":"U0XR6J961","text":"correct","ts":"1473247333.000041"},{"type":"message","user":"U0XR6J961","text":"like, could not get ledger","ts":"1473247337.000042"},{"type":"message","user":"U0XR6J961","text":"what does that even mean?","ts":"1473247344.000043"},{"type":"message","user":"U1AU8DRQR","text":"yeah, I think that is why we have to discuss this and find a solution for the new architecture. some errors are just meaningless texts.","ts":"1473247391.000044"},{"type":"message","user":"U1AU8DRQR","text":"1st thing is to look at 'trending' go projects and see how they do it, that is what I am doing right now","ts":"1473247423.000045"},{"type":"message","user":"U1AU8DRQR","text":"<https:\/\/github.com\/docker\/docker\/blob\/master\/errors\/errors.go> in docker, they use error codes as <@U0KN2SSKE> suggested","attachments":[{"service_name":"GitHub","title":"docker\/docker","title_link":"https:\/\/github.com\/docker\/docker\/blob\/master\/errors\/errors.go","text":"docker - Docker - the open-source application container engine","fallback":"GitHub: docker\/docker","thumb_url":"https:\/\/avatars0.githubusercontent.com\/u\/5429470?v=3&s=400","from_url":"https:\/\/github.com\/docker\/docker\/blob\/master\/errors\/errors.go","thumb_width":70,"thumb_height":70,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1473248577.000046"},{"type":"message","user":"U1AU8DRQR","text":"I have played with something similar here: <https:\/\/play.golang.org\/p\/qflxyIFjxn>","ts":"1473248616.000048"},{"type":"message","user":"U0ULK2JPP","text":"in the end the goal should be (1) for users to have enough information to pinpoint the probem accurately and (2) for developers to have a error framework so adding errors is not too difficult","ts":"1473249285.000049"},{"type":"message","user":"U0ULK2JPP","text":"perhaps even better if we can enforce right way to add errors","ts":"1473249308.000050"},{"type":"message","user":"U0ULK2JPP","text":"and <@U1AU8DRQR> points out we can probably learn from projects out there instead of reinventing","ts":"1473249351.000051"},{"type":"message","user":"U1AU8DRQR","text":"as I see currently there are two approaches 1) just \"plain\" error-s, but that is for smaller projects and that was we used before but it lead to.. you know; and 2) error coding and such things","ts":"1473249584.000052"},{"type":"message","user":"U1AU8DRQR","text":"<@U0ULK2JPP> could you have a look at the go playground I sent?","ts":"1473249605.000053"},{"type":"message","user":"U0ULK2JPP","text":"where did you send it <@U1AU8DRQR> ?","ts":"1473249816.000054"},{"type":"message","user":"U1AU8DRQR","text":"in this channel, 20 minutes ago","ts":"1473249846.000055"},{"type":"message","user":"U0ULK2JPP","text":"ok, I see it","ts":"1473249964.000056"},{"type":"message","user":"U0ULK2JPP","text":"great start I think. Is this pattern used anywhere ?","ts":"1473250482.000057"},{"type":"message","user":"U0ULK2JPP","text":"one suggestion NewError(parent) will automatically add to the stack ?","ts":"1473250536.000058"},{"type":"message","user":"U0ULK2JPP","text":"also file\/line info could be embedded \u2026 would need investigation but <http:\/\/stackoverflow.com\/questions\/17640360\/file-or-line-similar-in-golang> has some interesting suggestions","attachments":[{"title":"_file_ or _line_ similar in golang","title_link":"http:\/\/stackoverflow.com\/questions\/17640360\/file-or-line-similar-in-golang","text":"is there any function in go that is similar like \"_file_\" or \"_line_\" in go, to know who is calling a specific function during run time? In C we have the \"_file_\" line that can be called as macros....","fallback":"_file_ or _line_ similar in golang","thumb_url":"http:\/\/cdn.sstatic.net\/Sites\/stackoverflow\/img\/apple-touch-icon@2.png?v=73d79a89bded&a","from_url":"http:\/\/stackoverflow.com\/questions\/17640360\/file-or-line-similar-in-golang","thumb_width":316,"thumb_height":316,"service_icon":"http:\/\/cdn.sstatic.net\/Sites\/stackoverflow\/img\/favicon.ico?v=4f32ecc8f43d","service_name":"stackoverflow.com","id":1}],"ts":"1473250826.000059"},{"type":"message","user":"U1AU8DRQR","text":"the general pattern is the error code thing that I saw everywhere. the stacking was just an idea we were talking about yesterday.\nyeah of course there are hundreds of things that could be done better, the stacktrace thing is really just a sample, and the whole is a sketch. :slightly_smiling_face:\nbut if you really like it I can create a package from it in feature\/convergence and there we can have a conversation about it (e.g. comments, review anything)","ts":"1473250959.000061"},{"type":"message","user":"U0ULK2JPP","text":"right. as a WIP patch you mean ?","ts":"1473251022.000062"},{"type":"message","user":"U1AU8DRQR","text":"yep yep","ts":"1473251127.000063"},{"type":"message","user":"U0ULK2JPP","text":"works for me","ts":"1473251846.000064"},{"type":"message","user":"U1AU8DRQR","text":"I think it is easier not to have NewError(parent) because that way you have to always stack something or pass nil. This way you can construct the new error and stack the old one using StackError if you want. Btw as it is the developer who implements new, specific errors and adds new status codes he can always write NewMyError(parent) type constructors if needed.","ts":"1473252807.000065"},{"type":"message","user":"U1AU8DRQR","text":"I don't really understand the comment related to file\/line info as the current solution uses something like the ones mentioned on the stack overflow page and it works :slightly_smiling_face:","edited":{"user":"U1AU8DRQR","ts":"1473253157.000000"},"ts":"1473253141.000066"},{"type":"message","user":"U0XR6J961","text":"why do you want a stack?","ts":"1473257466.000068"},{"type":"message","user":"U1AU8DRQR","text":"to be able to propagate errors and add new errors. e.g. I cannot do something in my layer because something failed under it. for non-fatal errors which are going to be (just) logged this can be useful","ts":"1473258866.000069"},{"type":"message","user":"U1AU8DRQR","text":"but one can easily ignore this feature. e.g. if you have a fatal error, you have to fail, no stacking or anything","ts":"1473258898.000070"},{"type":"message","user":"U1AU8DRQR","text":"but we can remove it if it is harmful. <@U0ULK2JPP> <@U0KN2SSKE> what do you think?","ts":"1473258920.000071"},{"type":"message","user":"U0ULK2JPP","text":"Right. It is basically an extension of todays model where we append error strings from lower layers and propagate them up through the stack","ts":"1473260086.000072"},{"type":"message","user":"U0ULK2JPP","text":"again, looking at best practice in the golang community is the first thing to do","ts":"1473260135.000073"},{"type":"message","user":"U1AU8DRQR","text":"The best practice seems to be the error coding.","ts":"1473260176.000074"},{"type":"message","user":"U0ULK2JPP","text":"the hope is to build enough support to help identify problems quickly and by the users directly","ts":"1473260181.000075"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1473260191.000076"},{"type":"message","user":"U1AU8DRQR","text":"I had a look at the most trending projects in github (go only).","ts":"1473260201.000077"},{"type":"message","user":"U0ULK2JPP","text":"if we think we can do better, then we can extend","ts":"1473260202.000078"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1473260204.000079"},{"type":"message","user":"U1AU8DRQR","text":"but this is already extended, as it is error code + stacktracing + stack of errors","ts":"1473260238.000080"},{"type":"message","user":"U1AU8DRQR","text":"the stack thing can also be generalized to having a tree of error","ts":"1473260280.000081"},{"type":"message","user":"U1AU8DRQR","text":"e.g. MyAlgorithFailedError( Stack: [MyOperation1FailedError, MyOperation2FailedError] )","ts":"1473260319.000082"},{"type":"message","user":"U1AU8DRQR","text":"or SomeStepsFailedError","ts":"1473260338.000083"},{"type":"message","user":"U1AU8DRQR","text":"I am not 100% sure that this is valid and useful but seems interesting","ts":"1473260354.000084"},{"type":"message","user":"U1AU8DRQR","text":"e.g. if there are places where some steps can fail and the whole thing can be good (no panic) one can easily propagate the errors up and mark that the whole thing wasn't a failure","ts":"1473260427.000085"},{"type":"message","user":"U1AU8DRQR","text":"I would like to hear everybody's opinion about this","ts":"1473260487.000086"},{"type":"message","user":"U24M29R4G","text":"<@U1AU8DRQR> <@U0ULK2JPP> <@U0KN2SSKE> I found the following link interesting from an error tracing perspective <http:\/\/backtrace.io\/blog\/blog\/2016\/07\/21\/go-support\/>. Just thought I would bring this to your attention..","ts":"1473272250.000087"},{"type":"message","user":"U24M29R4G","text":"just a thought..","ts":"1473272476.000089"},{"type":"message","user":"U24M29R4G","text":"it would be interesting to learn about the design patterns being used by <http:\/\/backtrace.io|backtrace.io> and may be incorporate some of them in hyperledger..","ts":"1473272509.000091"},{"type":"message","user":"U1AU8DRQR","text":"<@U24M29R4G> good idea, I will dive into it tomorrow","ts":"1473278321.000092"},{"type":"message","user":"U1AU8DRQR","text":"what is your opinion about my current proposal?","ts":"1473278340.000093"},{"user":"U0YJUECE8","text":"<@U0YJUECE8|silliman> has joined the channel","type":"message","subtype":"channel_join","ts":"1473281101.000094"},{"type":"message","user":"U0KN2SSKE","text":"<@U1AU8DRQR> I like your idea on stacking errors.  For serviceability,  we want to capture as complete as possible the first failure since it is the root cause, and stacking errors would allow maintaining that relationship, and we would also be able to minimize log.error calls","ts":"1473283232.000095"},{"type":"message","user":"U1AU8DRQR","text":"<@U24M29R4G> I had a look, it is interesting but it seems to be a commercial product for me and it is not open source - or not?","ts":"1473326369.000096"},{"type":"message","user":"U1AU8DRQR","text":"I would need some comments for this: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/941\/>","ts":"1473326377.000097"},{"type":"message","user":"U0XR6J961","text":"what are we even trying to solve?","ts":"1473327537.000098"},{"type":"message","user":"U0XR6J961","text":"why are there hierarchies of errors?","ts":"1473327546.000099"},{"type":"message","user":"U1AU8DRQR","text":"as I said it is not necessary to have hierarchies of errors, it is only an option. the hierarchy tries to give a more precise report about an error as Binh said","ts":"1473328063.000100"},{"type":"message","user":"U0XR6J961","text":"i don't understand","ts":"1473328097.000101"},{"type":"message","user":"U0XR6J961","text":"who is the consumer of this hierarchy","ts":"1473328105.000102"},{"type":"message","user":"U0XR6J961","text":"the user?","ts":"1473328109.000103"},{"type":"message","user":"U0XR6J961","text":"or the developers","ts":"1473328119.000104"},{"type":"message","user":"U1AU8DRQR","text":"the developer","ts":"1473328283.000105"},{"type":"message","user":"U1AU8DRQR","text":"but if the developer decides in a higher layer that (s)he is unable to handle the error then he can use the hierarchy to give a more detailed info about what happened","ts":"1473328331.000106"},{"type":"message","user":"U0XR6J961","text":"isn't that part of the error message?","ts":"1473328374.000107"},{"type":"message","user":"U0XR6J961","text":"i really don't understand","ts":"1473328385.000108"},{"type":"message","user":"U0XR6J961","text":"is this hypothetical, or do we have a concrete example","ts":"1473328425.000109"},{"type":"message","user":"U1AU8DRQR","text":"what is part of the error message?","ts":"1473328584.000110"},{"type":"message","user":"U1AU8DRQR","text":"here are some examples: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/941\/>\nhere are some more: <https:\/\/play.golang.org\/p\/qflxyIFjxn>","ts":"1473328822.000111"},{"type":"message","user":"U1AU8DRQR","text":"or we need concrete examples from the fabric code? I can search for some. but generally, they are just concatenated or one of them is suppressed and another new one (in most cases the same error message for different branches) is propagated","ts":"1473328913.000112"},{"type":"message","user":"U0XR6J961","text":"well then maybe we shouldn't concatenate anything","ts":"1473328940.000113"},{"type":"message","user":"U0XR6J961","text":"and pass on the original error","ts":"1473328946.000114"},{"type":"message","user":"U1AU8DRQR","text":"that may also work. but now we use 'error's that only have an Error method to print them as a string. we could use something better, some struct with error codes because somewhere you may be able to check for that and try another method ('retry' and handle the error)","ts":"1473329088.000115"},{"type":"message","user":"U1AU8DRQR","text":"a stack trace is also useful","ts":"1473329106.000116","reactions":[{"name":"+1","users":["U0KN2SSKE"],"count":1}]},{"type":"message","user":"U0XR6J961","text":"yes, but i'd really like to see the kind of code paths we're talking about","ts":"1473329123.000117"},{"type":"message","user":"U1AU8DRQR","text":"in general, we are talking about the whole code base. do you need examples for suppressing erros and passing another, or for the usefulness of the hierarchy or?","ts":"1473329343.000118"},{"type":"message","user":"U0XR6J961","text":"well, we're talking about hypotheticals","ts":"1473329515.000119"},{"type":"message","user":"U0XR6J961","text":"i'd like to see actual code flow to understand what it is at all about","ts":"1473329551.000120"},{"type":"message","user":"U1AU8DRQR","text":"I am trying to find you some examples","ts":"1473329742.000121"},{"type":"message","user":"U1AU8DRQR","text":"<https:\/\/hyperledgerproject.slack.com\/archives\/fabric-peer-dev\/p1473249285000049>","attachments":[{"from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-peer-dev\/p1473249285000049","fallback":"[September 7th, 2016 4:54 AM] muralisr: in the end the goal should be (1) for users to have enough information to pinpoint the probem accurately and (2) for developers to have a error framework so adding errors is not too difficult","ts":"1473249285.000049","author_subname":"muralisr","channel_id":"C27E2LGJY","channel_name":"fabric-peer-dev","is_msg_unfurl":true,"text":"in the end the goal should be (1) for users to have enough information to pinpoint the probem accurately and (2) for developers to have a error framework so adding errors is not too difficult","author_name":"Srinivasan Muralidharan","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/muralisr","author_icon":"https:\/\/secure.gravatar.com\/avatar\/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-48.png","mrkdwn_in":["text"],"id":1,"footer":"Posted in #fabric-peer-dev"}],"ts":"1473329832.000122"},{"type":"message","user":"U0XR6J961","text":"ah so it is for the users","ts":"1473329982.000124"},{"type":"message","user":"U1AU8DRQR","text":"and the developers","ts":"1473329997.000125"},{"type":"message","user":"U0XR6J961","text":"but the error messages are for users","ts":"1473330256.000126"},{"type":"message","user":"U0XR6J961","text":"not for developers","ts":"1473330259.000127"},{"type":"message","user":"U0XR6J961","text":"there are really two different types of errors:","ts":"1473330275.000128"},{"type":"message","user":"U0XR6J961","text":"1. user error, or something that the user needs to know about","ts":"1473330288.000129"},{"type":"message","user":"U0XR6J961","text":"2. developer error which triggers some code path that shouldn't happen, or possibly looks like (1)","ts":"1473330316.000130"},{"type":"message","user":"U1AU8DRQR","text":"by 2 do you mean something like programming error?","ts":"1473330605.000131"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1473330616.000132"},{"type":"message","user":"U1AU8DRQR","text":"for 1) we need to give something that the user is able to understand","ts":"1473330731.000133"},{"type":"message","user":"U0XR6J961","text":"yes, but for that we need to identify all these errors","ts":"1473330778.000134"},{"user":"U1VG8LNP3","text":"<@U1VG8LNP3|yaoguo> has joined the channel","type":"message","subtype":"channel_join","ts":"1473330797.000135"},{"user":"U0PB67X4K","text":"<@U0PB67X4K|garisingh> has joined the channel","type":"message","subtype":"channel_join","ts":"1473330833.000136"},{"type":"message","user":"U1AU8DRQR","text":"is that possible before writing the code that will cause it?","ts":"1473331082.000137"},{"type":"message","user":"U1AU8DRQR","text":"*may","ts":"1473331091.000138"},{"type":"message","user":"U0XR6J961","text":"i hope so","ts":"1473331702.000139"},{"type":"message","user":"U0XR6J961","text":"we already have a lot of code and errors, so we should be able to see what errors muralisr was talking about","ts":"1473331725.000140"},{"type":"message","user":"U1AU8DRQR","text":"that's true","ts":"1473331793.000141"},{"type":"message","user":"U1AU8DRQR","text":"but isn't error coding good for that?","ts":"1473331808.000142"},{"type":"message","user":"U1AU8DRQR","text":"here is a bunch of possible error codes, if you have to throw an error you should choose from them","ts":"1473331829.000143"},{"type":"message","user":"U0XR6J961","text":"so that is one option","ts":"1473331845.000144"},{"type":"message","user":"U0XR6J961","text":"another is to define a specific error code, and somewhere have a description what it means","ts":"1473331865.000145"},{"type":"message","user":"U0XR6J961","text":"but still this all sounds hypothetical","ts":"1473331888.000146"},{"type":"message","user":"U0XR6J961","text":"i'd like to see a list of existing errors that need work on","ts":"1473331907.000147"},{"type":"message","user":"U1AU8DRQR","text":"you mean from the new arch right?","ts":"1473332017.000148"},{"type":"message","user":"U0XR6J961","text":"well we can look at existing code","ts":"1473332068.000149"},{"type":"message","user":"U1AU8DRQR","text":"then I can collect some errors and make an experimental list from the existing new arch code, if it helps","ts":"1473332126.000150"},{"type":"message","user":"U0XR6J961","text":"well one or two would be enough","ts":"1473332189.000151"},{"type":"message","user":"U0XR6J961","text":"because i really don't know what all of you are talking about","ts":"1473332199.000152"},{"type":"message","user":"U1AU8DRQR","text":":smile:","ts":"1473332365.000153"},{"type":"message","user":"U1AU8DRQR","text":"in the last 30 minutes, it seemed to me that you knew :slightly_smiling_face:","ts":"1473332387.000154"},{"type":"message","user":"U1AU8DRQR","text":"how can I help you?","ts":"1473332393.000155"},{"type":"message","user":"U0XR6J961","text":"which concrete error are we talking about?","ts":"1473332431.000156"},{"type":"message","user":"U1AU8DRQR","text":"I guess we are talking about all the errors in the new architecture and the way they should be handled and presented to the user and logged. and the way new ones should be used\/defined.","ts":"1473332530.000157"},{"type":"message","user":"U0XR6J961","text":"yea, that's too vague for me","ts":"1473332572.000158"},{"type":"message","user":"U1AU8DRQR","text":"yes it is vague that is true. but you said you saw something like \"Ledger error\" which does not mean anything. I think we would like to prevent these","ts":"1473332629.000159"},{"type":"message","user":"U0XR6J961","text":"yea because they are no user error","ts":"1473332695.000160"},{"type":"message","user":"U1AU8DRQR","text":"and some errors are logged (e.g. I said some days ago to someone that it is normal to have some errors in the logs because it was what <@U0R7Q5C30> and me experienced when we tested the system) some are not.","ts":"1473332709.000161"},{"type":"message","user":"U1AU8DRQR","text":"but you can get a \"Ledger error\" in some situations as a user, or not?","ts":"1473332734.000162"},{"type":"message","user":"U0XR6J961","text":"how?","ts":"1473332742.000163"},{"type":"message","user":"U0XR6J961","text":"shouldn't we go through all existing errors and triage them","ts":"1473332813.000164"},{"type":"message","user":"U0XR6J961","text":"and understand what is going on","ts":"1473332818.000165"},{"type":"message","user":"U1AU8DRQR","text":"we can do that","ts":"1473332828.000166"},{"type":"message","user":"U1AU8DRQR","text":"but what are the existing errors? I think it can only be found out from code, reading a huge part of the codebase","ts":"1473332868.000167"},{"type":"message","user":"U0XR6J961","text":"yes","ts":"1473332886.000168"},{"type":"message","user":"U1AU8DRQR","text":"I think that is also a problem because 1) errors are not uniform 2) they are hard to be enumerated","ts":"1473332917.000169"},{"type":"message","user":"U0XR6J961","text":"well yes","ts":"1473332925.000170"},{"type":"message","user":"U0XR6J961","text":"i guess we can start with fmt.Errorf()","ts":"1473332945.000171"},{"type":"message","user":"U1AU8DRQR","text":"I grepped for that and found 1320 occurrences","ts":"1473333081.000172"},{"type":"message","user":"U1AU8DRQR","text":"oops vendor included, wait","ts":"1473333099.000173"},{"type":"message","user":"U1AU8DRQR","text":"without that just 812","ts":"1473333151.000174"},{"type":"message","user":"U1AU8DRQR","text":"in orderer, we only have 3:\nreturn fmt.Errorf(\"DeliverResponse.Type has unexpected type %T\", x)\nreturn fmt.Errorf(\"DeliverUpdate.Type has unexpected type %T\", x)\nreturn msg, fmt.Errorf(\"Channel closed\")","ts":"1473333719.000175"},{"type":"message","user":"U0XR6J961","text":"none of them are user errors","ts":"1473333799.000176"},{"type":"message","user":"U1AU8DRQR","text":"but it would be good to see uniform errors instead of those string, hm?","ts":"1473335359.000177"},{"type":"message","user":"U1AU8DRQR","text":"okay I will hunt down some user errors for you","ts":"1473335370.000178"},{"type":"message","user":"U1AU8DRQR","text":"but too few code is merged from the new arch","ts":"1473335432.000179"},{"type":"message","user":"U0PB67X4K","text":"you might want to take a look at <https:\/\/blog.golang.org\/errors-are-values>","ts":"1473335564.000180"},{"type":"message","user":"U0ULK2JPP","text":"<@U1AU8DRQR> - one approach could be to come up with an API with the same signature \u201chgabor.Errorf(\u2026.)\u201d which would do your stack magic undercover. then its a simple question of replacing \u201cfmt\u201d with \u201chgabor\"","ts":"1473335565.000181"},{"type":"message","user":"U0ULK2JPP","text":"this would at least take care of existing errors","ts":"1473335592.000182"},{"type":"message","user":"U0ULK2JPP","text":"adding <@U0KM61BCP>  <@U0KPFAZNF>","ts":"1473335968.000183"},{"user":"U0KM61BCP","inviter":"U0ULK2JPP","text":"<@U0KM61BCP|cbf> has joined the channel","type":"message","subtype":"channel_join","ts":"1473335978.000184"},{"user":"U0KPFAZNF","inviter":"U0ULK2JPP","text":"<@U0KPFAZNF|ghaskins> has joined the channel","type":"message","subtype":"channel_join","ts":"1473335978.000185"},{"type":"message","user":"U0XR6J961","text":"i still would like to see actual examples of errors that we want to handle in one way or another","ts":"1473335999.000186"},{"type":"message","user":"U1AU8DRQR","text":"<@U0ULK2JPP> the idea is interesting - just one thing: with Errorf one just formats a string into another and then creates an error using it as a message. so hgabor.Errorf  1) would not have the same signature but Errorf(HyperLedgerError) OR 2) would not stack the original error that is in the ...Errorf(\"Error: \", err_original) but create a new one from its string form","ts":"1473336226.000187"},{"type":"message","user":"U1AU8DRQR","text":"could we provide some examples for <@U0XR6J961> ?","ts":"1473336253.000188"},{"type":"message","user":"U0ULK2JPP","text":"<@U1AU8DRQR> right.. I was just suggesting inventing another interface to make existing migration easy. New errors could use the \u201cright\u201d interface","ts":"1473337081.000189"},{"type":"message","user":"U0ULK2JPP","text":"It was just a thought\u2026 I will play with it to make sure it could work","ts":"1473337114.000190"},{"type":"message","user":"U1AU8DRQR","text":"yeah that's why I said it is a good idea, and I will try to find out some way to make it work :slightly_smiling_face:","ts":"1473337139.000191"},{"type":"message","user":"U0ULK2JPP","text":"ah ok\u2026","ts":"1473337164.000192"},{"type":"message","user":"U0XR6J961","text":"i still think all is hypothetical","ts":"1473337335.000193"},{"type":"message","user":"U0XR6J961","text":"and if anything, we should look at the existing code","ts":"1473337350.000194"},{"type":"message","user":"U0ULK2JPP","text":"agreed. however, it might be easier to convert to an error framework first and then weed","edited":{"user":"U0ULK2JPP","ts":"1473337679.000000"},"ts":"1473337665.000195"},{"type":"message","user":"U0XR6J961","text":"i'd say first look at what kind of errors we have","ts":"1473337737.000197"},{"type":"message","user":"U0XR6J961","text":"before creating a framework","ts":"1473337741.000198"},{"type":"message","user":"U0ULK2JPP","text":"we have two kinds basically. Ignore error from callee and return new one or append error from callee and return new one","ts":"1473337861.000199"},{"type":"message","user":"U0ULK2JPP","text":"it would make it easier to parse the error if it was structured in a stack form instead of a long string","ts":"1473337901.000200"},{"type":"message","user":"U0ULK2JPP","text":"once we have an initial  conversion we would have working examples for the next steps of how best to use the stack so we can address the goals such as (1) troubleshootina and problem determination (2) debuggin easier","ts":"1473338080.000201"},{"type":"message","user":"U0XR6J961","text":"can we please talk about specific instances?","ts":"1473338233.000202"},{"type":"message","user":"U0ULK2JPP","text":"let me see if I can get one example","ts":"1473338348.000203"},{"type":"message","user":"U0ULK2JPP","text":"a first one","ts":"1473338437.000204"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F29FX28F2\/pasted_image_at_2016_09_08_08_40_am.png|Pasted image at 2016-09-08, 8:40 AM>","file":{"id":"F29FX28F2","created":1473338442,"timestamp":1473338442,"name":"Pasted image at 2016_09_08 08_40 AM.png","title":"Pasted image at 2016-09-08, 8:40 AM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":22916,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F29FX28F2\/pasted_image_at_2016_09_08_08_40_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F29FX28F2\/download\/pasted_image_at_2016_09_08_08_40_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F29FX28F2-bf135e4d2c\/pasted_image_at_2016_09_08_08_40_am_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F29FX28F2-bf135e4d2c\/pasted_image_at_2016_09_08_08_40_am_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F29FX28F2-bf135e4d2c\/pasted_image_at_2016_09_08_08_40_am_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":37,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F29FX28F2-bf135e4d2c\/pasted_image_at_2016_09_08_08_40_am_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":50,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F29FX28F2-bf135e4d2c\/pasted_image_at_2016_09_08_08_40_am_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F29FX28F2-bf135e4d2c\/pasted_image_at_2016_09_08_08_40_am_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":75,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F29FX28F2-bf135e4d2c\/pasted_image_at_2016_09_08_08_40_am_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":100,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F29FX28F2-bf135e4d2c\/pasted_image_at_2016_09_08_08_40_am_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":107,"image_exif_rotation":1,"original_w":1364,"original_h":142,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F29FX28F2\/pasted_image_at_2016_09_08_08_40_am.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F29FX28F2-bbff56b6ec","channels":["C27E2LGJY"],"groups":[],"ims":[],"comments_count":0},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1473338444.000205"},{"type":"message","user":"U0ULK2JPP","text":"there\u2019s really a \u201cstack there","ts":"1473338466.000206"},{"type":"message","user":"U0ULK2JPP","text":"even better","ts":"1473338506.000207"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F29G7RXRP\/pasted_image_at_2016_09_08_08_41_am.png|Pasted image at 2016-09-08, 8:41 AM>","file":{"id":"F29G7RXRP","created":1473338509,"timestamp":1473338509,"name":"Pasted image at 2016_09_08 08_41 AM.png","title":"Pasted image at 2016-09-08, 8:41 AM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":50826,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F29G7RXRP\/pasted_image_at_2016_09_08_08_41_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F29G7RXRP\/download\/pasted_image_at_2016_09_08_08_41_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F29G7RXRP-487a8aa98b\/pasted_image_at_2016_09_08_08_41_am_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F29G7RXRP-487a8aa98b\/pasted_image_at_2016_09_08_08_41_am_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F29G7RXRP-487a8aa98b\/pasted_image_at_2016_09_08_08_41_am_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":53,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F29G7RXRP-487a8aa98b\/pasted_image_at_2016_09_08_08_41_am_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":70,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F29G7RXRP-487a8aa98b\/pasted_image_at_2016_09_08_08_41_am_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F29G7RXRP-487a8aa98b\/pasted_image_at_2016_09_08_08_41_am_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":106,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F29G7RXRP-487a8aa98b\/pasted_image_at_2016_09_08_08_41_am_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":141,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F29G7RXRP-487a8aa98b\/pasted_image_at_2016_09_08_08_41_am_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":150,"image_exif_rotation":1,"original_w":1460,"original_h":214,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F29G7RXRP\/pasted_image_at_2016_09_08_08_41_am.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F29G7RXRP-d3d687ce33","channels":["C27E2LGJY"],"groups":[],"ims":[],"comments_count":0},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1473338514.000208"},{"type":"message","user":"U1AU8DRQR","text":"that is for stacking. do we have an example for a code where it is needed to check what the error was (with parsing e.g.)?","ts":"1473338612.000209"},{"type":"message","user":"U0ULK2JPP","text":"the Response message has a stacked string converted to bytes.. this could be likely sent to a user (going by pb.Response).. a bit of structure could help","ts":"1473338615.000210"},{"type":"message","user":"U0ULK2JPP","text":"<@U1AU8DRQR> I have come across the need to do that but desisted because I\u2019ll be relying on string comparison and such which is precisely the point","edited":{"user":"U0ULK2JPP","ts":"1473338675.000000"},"ts":"1473338662.000211"},{"type":"message","user":"U0ULK2JPP","text":"if we had structure (and codes) we can do that easily","ts":"1473338704.000213"},{"type":"message","user":"U0XR6J961","text":"so first, the ledger error is silly","ts":"1473338707.000214"},{"type":"message","user":"U0XR6J961","text":"why can GetLedger return an error","ts":"1473338718.000215"},{"type":"message","user":"U0ULK2JPP","text":"silly or not, it is an example of the kind of things we are dealing with","ts":"1473338743.000216"},{"type":"message","user":"U0XR6J961","text":"no","ts":"1473338758.000217"},{"type":"message","user":"U0XR6J961","text":"it is an example what is wrong in the code","ts":"1473338764.000218"},{"type":"message","user":"U0XR6J961","text":"and needs to be fixed","ts":"1473338769.000219"},{"type":"message","user":"U0ULK2JPP","text":"it falls into the category of stacking errors which the code is rife with...","ts":"1473338816.000220"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019m sure there are lots of \u201csilly\u201d errors","ts":"1473338827.000221"},{"type":"message","user":"U0XR6J961","text":"the second error should not happen during normal operation, but only under data corruption conditions","ts":"1473338827.000222"},{"type":"message","user":"U0XR6J961","text":"and there is no stacking happening, it is just converting an `error` to a string for json consumption","ts":"1473338857.000223"},{"type":"message","user":"U0XR6J961","text":"well, then we should remove these errors","ts":"1473338873.000224"},{"type":"message","user":"U0XR6J961","text":"instead of creating a framework for them","ts":"1473338880.000225"},{"type":"message","user":"U0XR6J961","text":"GetLedger() needs to panic, instead of returning errors","ts":"1473338947.000226"},{"type":"message","user":"U0ULK2JPP","text":"<@U0XR6J961> I just pulled two examples to show the kinds of errors we are dealing with\u2026. there are two ways to deal with this. Go clean up code first and then  plug in the framework or create the framework and clean up as we go. If we can plug in the framework quickly the later woukd be the better option","ts":"1473338957.000227"},{"type":"message","user":"U0ULK2JPP","text":"I was not trying to find the perfect \u201cvalid\u201d example","ts":"1473338983.000228"},{"type":"message","user":"U0ULK2JPP","text":"I was just trying to help categorize errors","ts":"1473338992.000229"},{"type":"message","user":"U0XR6J961","text":"i disagree","ts":"1473339036.000230","reactions":[{"name":"+1","users":["U0PB67X4K"],"count":1}]},{"type":"message","user":"U0XR6J961","text":"we first should have an idea how errors are used","ts":"1473339043.000231"},{"type":"message","user":"U0XR6J961","text":"before we build a framework","ts":"1473339044.000232"},{"type":"message","user":"U0XR6J961","text":"i disagree","ts":"1473339059.000233"},{"type":"message","user":"U0XR6J961","text":"we first should have an idea how errors are used","ts":"1473339059.000234"},{"type":"message","user":"U0XR6J961","text":"before we build a framework","ts":"1473339059.000235"},{"type":"message","user":"U0PB67X4K","text":"simon is 100% correct","ts":"1473339063.000236"},{"type":"message","user":"U0XR6J961","text":"so the first category is \"errors that shouldn't be errors\"","ts":"1473339065.000237"},{"type":"message","user":"U0XR6J961","text":"oups double send","ts":"1473339084.000238"},{"type":"message","user":"U0PB67X4K","text":"I highly recommend people read the link I sent.  I know it is high level, but the concepts that the designers of Go had around errors is actually pretty interesting.   And I don't think that we can separate out error handling and logging either.  They are related concepts.","ts":"1473339181.000239"},{"type":"message","user":"U0PB67X4K","text":"the other thing - how much of the existing code are we really going to drag along with us on the way to v1?","ts":"1473339213.000240"},{"type":"message","user":"U0ULK2JPP","text":"and like I said, I don\u2019t disagree with that either. I\u2019m saying we have a better way to handle this if get rid of the long stacked string so we can precisely answer which errors are silly","ts":"1473339227.000241"},{"type":"message","user":"U0PB67X4K","text":"why not take a fresh approach, write down some design goals and go from there","ts":"1473339231.000242"},{"type":"message","user":"U0XR6J961","text":"garisingh: i suggested a full rewrite\/selective copy","ts":"1473339243.000243"},{"type":"message","user":"U0PB67X4K","text":"100% agree","ts":"1473339249.000244"},{"type":"message","user":"U0XR6J961","text":"garisingh: but it seems we use all the existing code, and modify it","ts":"1473339257.000245"},{"type":"message","user":"U1AU8DRQR","text":"<@U0PB67X4K> first I did not get it but now I am beginning to get","ts":"1473339263.000246"},{"type":"message","user":"U0ULK2JPP","text":"there are about 1000 errors","ts":"1473339265.000247"},{"type":"message","user":"U0XR6J961","text":"error class with attached stack trace is great","ts":"1473339306.000248","reactions":[{"name":"+1","users":["U12452RAP"],"count":1}]},{"type":"message","user":"U1AU8DRQR","text":"in the new architecture, we have only a few, isn't it enough to start that in a clean way?","ts":"1473339306.000249"},{"type":"message","user":"U0ULK2JPP","text":"actually, that is true. if the errors are less, we don\u2019t have to \u201cconvert\"","ts":"1473339528.000250"},{"type":"message","user":"U0PB67X4K","text":"and if the error class implements the error interface, then you could handle all errors more or less the same way as well","ts":"1473339530.000251"},{"type":"message","user":"U0ULK2JPP","text":"<@U0PB67X4K> can you post the link again pl. ? I don\u2019t see it","ts":"1473339595.000252"},{"type":"message","user":"U0ULK2JPP","text":"I see it","ts":"1473339621.000253"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F29EPK1PV\/pasted_image_at_2016_09_08_09_01_am.png|Pasted image at 2016-09-08, 9:01 AM>","file":{"id":"F29EPK1PV","created":1473339668,"timestamp":1473339668,"name":"Pasted image at 2016_09_08 09_01 AM.png","title":"Pasted image at 2016-09-08, 9:01 AM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":58863,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F29EPK1PV\/pasted_image_at_2016_09_08_09_01_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F29EPK1PV\/download\/pasted_image_at_2016_09_08_09_01_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F29EPK1PV-775c00d180\/pasted_image_at_2016_09_08_09_01_am_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F29EPK1PV-775c00d180\/pasted_image_at_2016_09_08_09_01_am_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F29EPK1PV-775c00d180\/pasted_image_at_2016_09_08_09_01_am_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":35,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F29EPK1PV-775c00d180\/pasted_image_at_2016_09_08_09_01_am_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":47,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F29EPK1PV-775c00d180\/pasted_image_at_2016_09_08_09_01_am_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F29EPK1PV-775c00d180\/pasted_image_at_2016_09_08_09_01_am_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":70,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F29EPK1PV-775c00d180\/pasted_image_at_2016_09_08_09_01_am_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":93,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F29EPK1PV-775c00d180\/pasted_image_at_2016_09_08_09_01_am_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":99,"image_exif_rotation":1,"original_w":1750,"original_h":170,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F29EPK1PV\/pasted_image_at_2016_09_08_09_01_am.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F29EPK1PV-236aedd31f","channels":["C27E2LGJY"],"groups":[],"ims":[],"comments_count":0},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1473339670.000254"},{"type":"message","user":"U0ULK2JPP","text":"as long as we take care of that","ts":"1473339680.000255"},{"type":"message","user":"U0PB67X4K","text":"it's nothing fancy - but I like the thoughts around how the Go designers thought about errors.  Now we also need to think about \"errors\"  \/ \"return\" codes back to invokers of the various APIs as well","ts":"1473339712.000256"},{"type":"message","user":"U0ULK2JPP","text":"a stack trace can be added but its not the same as a pointed error from the stack exactly pinpointing a low level error","ts":"1473339738.000257"},{"type":"message","user":"U0PB67X4K","text":"sure","ts":"1473339765.000258"},{"type":"message","user":"U0ULK2JPP","text":"here\u2019s another \u201creal\u201d error that helped us troubleshoot quicjly","ts":"1473339921.000259"},{"type":"message","user":"U0ULK2JPP","text":"Error:Failed to launch chaincode spec(Could not get deployment transaction for ee1f1673c1f9d24e4b94b55f8e482e4da026367977bfe046a9a860e7b7427a6a - IO error: \/srv\/data\/hyperledger\/db\/011308.sst: Input\/output error)","ts":"1473339922.000260"},{"type":"message","user":"U0ULK2JPP","text":"I could trouble shoot it because I peeled the stack","ts":"1473339949.000261"},{"type":"message","user":"U0XR6J961","text":"what was the cause for that error?","ts":"1473339970.000262"},{"type":"message","user":"U0ULK2JPP","text":"getting to office\u2026 it was low level file system issue","ts":"1473340001.000263"},{"type":"message","user":"U0XR6J961","text":"then that code should have paniced","ts":"1473340038.000264"},{"type":"message","user":"U1AU8DRQR","text":"okay so the idea is to change such type of code to a panicking code, right?","ts":"1473340065.000265"},{"type":"message","user":"U0XR6J961","text":"that's what i would suggest","ts":"1473340074.000266"},{"type":"message","user":"U0XR6J961","text":"and the error you show, for error solving, nobody needed to even prepend their own message","ts":"1473340152.000267"},{"type":"message","user":"U0XR6J961","text":"the IO error would have been sufficient","ts":"1473340163.000268"},{"type":"message","user":"U1AU8DRQR","text":"okay, lets suppose that it panics. but this chaincode getting error is not a fatal issue. what to do to achieve the same behaviour like before? recover?","ts":"1473340204.000269"},{"type":"message","user":"U0XR6J961","text":"IO error is fatal","ts":"1473340245.000270"},{"type":"message","user":"U0XR6J961","text":"meaning some fundamental assumption has been validated","ts":"1473340254.000271"},{"type":"message","user":"U0XR6J961","text":"your drive is not working right","ts":"1473340263.000272"},{"type":"message","user":"U0PB67X4K","text":"why would we \"panic\" there?    are we saying that the only way we will alert the owner of the peer\/ node that there is something wrong is panic and crash the peer?","ts":"1473340278.000273"},{"type":"message","user":"U0XR6J961","text":"yes, if the file system is damaged, we should stop immediatelly","ts":"1473340297.000274"},{"type":"message","user":"U0XR6J961","text":"what are we supposed to do?","ts":"1473340304.000275"},{"type":"message","user":"U0XR6J961","text":"we can't trust any data we have","ts":"1473340316.000276"},{"type":"message","user":"U1AU8DRQR","text":"can we have some kind of rule where to panic \/ in which situation to panic? and how to handle errors \/ when to propagate them?","ts":"1473340405.000277"},{"type":"message","user":"U0XR6J961","text":"i'd say:","ts":"1473340495.000278"},{"type":"message","user":"U0XR6J961","text":"if you are inclined to add a comment like","ts":"1473340504.000279"},{"type":"message","user":"U0XR6J961","text":"`\/\/ this should never happen`","ts":"1473340510.000280"},{"type":"message","user":"U0XR6J961","text":"then you panic","ts":"1473340513.000281"},{"type":"message","user":"U0XR6J961","text":"if it is some sort of best effort thing you're doing, you log the error and ignore it","ts":"1473340567.000282"},{"type":"message","user":"U0XR6J961","text":"if you are servicing a user request, you log the error and you return it","ts":"1473340594.000283"},{"type":"message","user":"U1AU8DRQR","text":"is it good to have errors in the log?","edited":{"user":"U1AU8DRQR","ts":"1473340935.000000"},"ts":"1473340929.000284"},{"type":"message","user":"U0PB67X4K","text":"well we should really move to a more \"mature\"  logging framework where we can have error logs, trace logs, etc.    :wink:","ts":"1473341345.000286"},{"type":"message","user":"U0PB67X4K","text":"trying to think about the best way to \"define\" a set of requirements \/ use cases in this area - specifically from an operators perspective.   I can definitely tell you that what we have now makes it extremely hard to manage and run nodes","ts":"1473341433.000287"},{"type":"message","user":"U1AU8DRQR","text":"staying at errors: what do you suggest, how should I modify my proposal?","ts":"1473341487.000288"},{"type":"message","user":"U0XR6J961","text":"first assess what we have","ts":"1473341977.000289"},{"type":"message","user":"U0XR6J961","text":"to understand what we need","ts":"1473341984.000290"},{"type":"message","user":"U1AU8DRQR","text":"including what we have in the \"old\" code?","ts":"1473342120.000291"},{"type":"message","user":"U0ULK2JPP","text":"ok. rejoining the fray :slightly_smiling_face:","ts":"1473342216.000292"},{"type":"message","user":"U0XR6J961","text":"yes, because the old code will be a large part of the codebase","ts":"1473342447.000293"},{"type":"message","user":"U0ULK2JPP","text":"my point was simple\u2026my last example showed the value of errors allong the call path (the same call to the ledger might have returned a different error at different time \u2026 and it has done that btw). I contend, no matter what you do you are going to keep errors from low level around. We do that today by merely apppending errors but as my last example shows that had value.  We can go and ask what errors are needed and not needed and so on but to me that has little bearing on the question \u201cwhat do we need from an error ?\u201d We don\u2019t need a zillion examplars to show F = ma","ts":"1473342525.000294"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019m not disagreeing that we need to clean out errors \u2026.","ts":"1473342547.000295"},{"type":"message","user":"U0ULK2JPP","text":"It seemed to me we can do the clean up as we went along if we agree on the basic priciple of needing to keep errors stack around in some fashion","ts":"1473342893.000296"},{"type":"message","user":"U1AU8DRQR","text":"we should come to an agreement in this so what if I did the following:\n1) created commits where I reviewed the parts (core, orderer) of feature\/convergence and corrected errors according to Simon's thoughts about errors (if we can agree that those are correct)\n2) changed my proposal on error handling frameworks to look like the following:\n- one general error class and interface with Error + GetStackTrace functions\n- some basic examples","ts":"1473343302.000297"},{"type":"message","user":"U0ULK2JPP","text":"can we modify 2) _one general error class and interface with Error + GetStackTrace + Errors on the stack functions_ ?","ts":"1473343513.000298"},{"type":"message","user":"U0ULK2JPP","text":"in my previous example the stack trace would have showed \u201cwhere\"","ts":"1473343537.000299"},{"type":"message","user":"U0ULK2JPP","text":"but not \u201cwhy\"","ts":"1473343541.000300"},{"type":"message","user":"U0ULK2JPP","text":"Errors on the stack would","ts":"1473343548.000301"},{"type":"message","user":"U1AU8DRQR","text":"<@U0XR6J961> <@U0PB67X4K>","ts":"1473343574.000302"},{"type":"message","user":"U12452RAP","text":"<@U0ULK2JPP>: if you mean the chaincode error it seems suggested using panic","ts":"1473344001.000303"},{"type":"message","user":"U12452RAP","text":"assume your previous example root cause is IO error","ts":"1473344164.000304"},{"type":"message","user":"U0ULK2JPP","text":"<@U12452RAP> seems in this case that might be the action. The example was just to show use of  errors along call path","edited":{"user":"U0ULK2JPP","ts":"1473344369.000000"},"ts":"1473344351.000305"},{"type":"message","user":"U0XR6J961","text":"it's a bad example then","ts":"1473344458.000307"},{"type":"message","user":"U1AU8DRQR","text":"would it be OK if we left out errors on stack first? and if it turns out that we can't do it without that then I can put it back","ts":"1473344765.000308"},{"type":"message","user":"U0ULK2JPP","text":"by \u201cmight be\u201d I meant that\u2019s one possible course of action. In this case though it would have crashed and we we never have know what happened. It chugged along and we were able to figure out the problem - thanks to the error","ts":"1473344854.000309"},{"type":"message","user":"U0ULK2JPP","text":"<@U1AU8DRQR> we can remove it if we agree its unnecessary\u2026 if we think its a good thing I\u2019d say leave it in. you know my vote :slightly_smiling_face:","ts":"1473344948.000310"},{"type":"message","user":"U1AU8DRQR","text":"<@U0XR6J961> <@U12452RAP> ?","ts":"1473345117.000311"},{"type":"message","user":"U0ULK2JPP","text":"but lets do this\u2026","ts":"1473345134.000312"},{"type":"message","user":"U0ULK2JPP","text":"rather than take time on this let\u2019s go with your proposal as it is <@U1AU8DRQR>","ts":"1473345161.000313"},{"type":"message","user":"U0ULK2JPP","text":"but just keep it in the back of your mind","ts":"1473345172.000314"},{"type":"message","user":"U12452RAP","text":"yes","ts":"1473345188.000315"},{"type":"message","user":"U12452RAP","text":"i am not strong preference","ts":"1473345204.000316"},{"type":"message","user":"U0ULK2JPP","text":"all I request is this...","ts":"1473345208.000317"},{"type":"message","user":"U0ULK2JPP","text":"as you go through the code, you\u2019ll find we are \u201cstacking\"","ts":"1473345217.000318"},{"type":"message","user":"U0ULK2JPP","text":"if you can come up with a nice way of converting it to proper stack structure please do think about it","ts":"1473345245.000319"},{"type":"message","user":"U12452RAP","text":"just afraid if add errors maybe cause developer to do more unnecessary error wrapper","ts":"1473345349.000320"},{"type":"message","user":"U0XR6J961","text":"how about not stacking, but passing the original error?","ts":"1473345835.000321"},{"type":"message","user":"U0ULK2JPP","text":"we could do that at the top level\u2026 but for that we need to know what the lower most level is","ts":"1473345971.000322"},{"type":"message","user":"U0ULK2JPP","text":"<@U12452RAP> we append to the error as we pass it along currently\u2026 shouldnt be too different","ts":"1473346033.000323"},{"type":"message","user":"U0XR6J961","text":"shouldn't we just capture a stack trace when the error is created?","ts":"1473346122.000324"},{"type":"message","user":"U0XR6J961","text":"then we don't need any stacking","ts":"1473346140.000325"},{"type":"message","user":"U12452RAP","text":"i also think just pass origin error","ts":"1473346156.000326"},{"type":"message","user":"U1AU8DRQR","text":"but if the function that gave the error is not a thing that can 'be left out' (e.g. without it the whole operation is a total failure) then we call panic. right?","ts":"1473346160.000327"},{"type":"message","user":"U0XR6J961","text":"if it is because of a fatal system error, yes","ts":"1473346209.000328"},{"type":"message","user":"U1AU8DRQR","text":"I will try to go through all the errors of the system and check their validity. it will be a pain, and I would like to ask you to review it as soon as I am finished.","ts":"1473346304.000329"},{"type":"message","user":"U0XR6J961","text":"well you can just make a list and we can give feedback on what the error means?","ts":"1473346336.000330"},{"type":"message","user":"U0XR6J961","text":"or","ts":"1473346343.000331"},{"type":"message","user":"U0XR6J961","text":"subsystem people look at their error messages themselves","ts":"1473346355.000332"},{"type":"message","user":"U0XR6J961","text":"and decide","ts":"1473346359.000333"},{"type":"message","user":"U0XR6J961","text":"divide + conquer","ts":"1473346364.000334"},{"type":"message","user":"U1AU8DRQR","text":"of course I prefer divide&amp;conquer but somehow we should give some examples how to do it","ts":"1473346412.000335"},{"type":"message","user":"U0XR6J961","text":"yes, that's a good idea","ts":"1473346422.000336"},{"type":"message","user":"U0XR6J961","text":"maybe just look at a few files for now","ts":"1473346431.000337"},{"type":"message","user":"U0PB67X4K","text":"<@U1AU8DRQR>  - I think examples would be good for sure","ts":"1473346435.000338"},{"type":"message","user":"U0XR6J961","text":"or pick 10% of the errors","ts":"1473346443.000339"},{"type":"message","user":"U0XR6J961","text":"randomly","ts":"1473346445.000340"},{"type":"message","user":"U0XR6J961","text":"and analyze them","ts":"1473346448.000341"},{"type":"message","user":"U0XR6J961","text":"i got to run out for a bit","ts":"1473346476.000342"},{"type":"message","user":"U0XR6J961","text":"laters","ts":"1473346477.000343"},{"type":"message","user":"U0PB67X4K","text":"<@U0ULK2JPP> -  I also question passing around stacks of errors and\/or including low level stack traces in errors that are passed around.   I think this exercise should result in how we handle and pass errors (I still think that we should follow the way Golang does things with the error interface as best we can) and how\/when we \"log\" the details (e.g. stack trace, etc) for errors.   But I think that <@U1AU8DRQR> 's idea to do some examples is a good start","ts":"1473346594.000344"},{"type":"message","user":"U1AU8DRQR","text":"<https:\/\/wiki.hyperledger.org\/error-handling> I have created this","ts":"1473346697.000345"},{"type":"message","user":"U24M29R4G","text":"&gt;well we should really move to a more \"mature\"  logging framework where we can have error logs, trace logs, etc.  \ntrying to think about the best way to \"define\" a set of requirements \/ use cases in this area - specifically from an operators perspective.   I can definitely tell you that what we have now makes it extremely hard to manage and run node&lt; I agree with Gari singh on this\n\nIt reminds me of the google dapper paper and how they designed a distributed tracing system.","ts":"1473346699.000346"},{"type":"message","user":"U1AU8DRQR","text":"please help me filling it with content","ts":"1473346716.000347"},{"type":"message","user":"U24M29R4G","text":"<http:\/\/static.googleusercontent.com\/media\/research.google.com\/en\/\/pubs\/archive\/36356.pdf>","ts":"1473346735.000348"},{"type":"message","user":"U24M29R4G","text":"<@U1AU8DRQR> sorry. couldn't get back to you earlier on this.","ts":"1473346841.000349"},{"type":"message","user":"U24M29R4G","text":"I think a larger goal is to build an efficient shared tracing system for the whole hyperledger infrastructure which can be either invasive(like instrumenting the code with error handling mechanisms and logs where appropriate) or non-invasive( where we observer the generated logs to identify potential problems)","ts":"1473347034.000350"},{"type":"message","user":"U1AU8DRQR","text":"<@U24M29R4G> <@U0XR6J961> <@U0ULK2JPP> <@U0PB67X4K> <@U0KM61BCP> <@U12452RAP> could you help me in filling this out? <https:\/\/wiki.hyperledger.org\/error-handling>","ts":"1473347437.000351","reactions":[{"name":"+1","users":["U12452RAP"],"count":1}]},{"type":"message","user":"U0PB67X4K","text":"<@U1AU8DRQR>  - will do - will likely get to it a bit later today.  got a few other fish to fry right now as they say","ts":"1473347472.000352"},{"type":"message","user":"U1AU8DRQR","text":"thx - I will have a look at it later but now have to go","ts":"1473347505.000353"},{"type":"message","user":"U24M29R4G","text":"<@U1AU8DRQR>. sure!","ts":"1473347506.000354"},{"type":"message","user":"U0ULK2JPP","text":"<@U1AU8DRQR> like someone said _ will do - will likely get to it a bit later today.  got a few other fish to fry right now as they say_ :wink:","edited":{"user":"U0ULK2JPP","ts":"1473347565.000000"},"ts":"1473347555.000355","reactions":[{"name":"stuck_out_tongue_winking_eye","users":["U0PB67X4K"],"count":1}]},{"type":"message","user":"U1AU8DRQR","text":"the fate of the world is in Your hands, guys :smile:","ts":"1473347737.000357"},{"type":"message","user":"U0KN2SSKE","text":"just scanned this good discussion\u2026  i think we should classify errors into 3\n1) fatal so I should panic now because I can\u2019t go on;  ex  io and network errors after  retries\n2) not fatal for me, but my caller should handle it (&amp; might consider fatal), so pass it up + stacktrace; ex  chaincode  not found\n3) caller\u2019s problems, so tell him (no need for stacktrace); ex  invalid args","ts":"1473350146.000358"},{"type":"message","user":"U0XR6J961","text":"not sure about network... these are usually transient, and errors can be because of byzantine behavior","ts":"1473353171.000359"},{"type":"message","user":"U0KN2SSKE","text":"yeah, network is more transient \u2014 how much retries before giving up","ts":"1473354855.000360"},{"type":"message","user":"U0ULK2JPP","text":"panicing has to be thought throu\u2026 (1) panic could corrupt \u2026 so attemp a shutdown routine first ? (2) dump enough info first for troubleshooting","ts":"1473355888.000361"},{"type":"message","user":"U24M29R4G","text":"<https:\/\/github.com\/kazegusuri\/grpc-panic-handler>","attachments":[{"service_name":"GitHub","title":"kazegusuri\/grpc-panic-handler","title_link":"https:\/\/github.com\/kazegusuri\/grpc-panic-handler","text":"Contribute to grpc-panic-handler development by creating an account on GitHub.","fallback":"GitHub: kazegusuri\/grpc-panic-handler","thumb_url":"https:\/\/avatars1.githubusercontent.com\/u\/2457753?v=3&s=400","from_url":"https:\/\/github.com\/kazegusuri\/grpc-panic-handler","thumb_width":157,"thumb_height":157,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1473357355.000362"},{"type":"message","user":"U24M29R4G","text":"`grpc-panic-handler is an interceptor to protect a process from aborting by panic and return Internal error as status code.`","ts":"1473357456.000364"},{"type":"message","user":"U24M29R4G","text":"may be we can implement something like this for panic?","ts":"1473357492.000365"},{"type":"message","user":"U0XR6J961","text":"muralisr: why can panic corrupt?","ts":"1473357504.000366"},{"type":"message","user":"U0ULK2JPP","text":"you could be writing while some part panics","ts":"1473357530.000367"},{"type":"message","user":"U0XR6J961","text":"writing what","ts":"1473357537.000368"},{"type":"message","user":"U0XR6J961","text":"you could be writing and you crash","edited":{"user":"U0XR6J961","ts":"1473357578.000000"},"ts":"1473357546.000369"},{"type":"message","user":"U0XR6J961","text":"the code needs to be able to recover from this, when you restart","ts":"1473357599.000371"},{"type":"message","user":"U0ULK2JPP","text":"seems  good to go through one \u201cpanic\u201d handler to give a chance to do things before actually panicing than have panics all over the place","ts":"1473357801.000372"},{"user":"U0Z6VMEER","text":"<@U0Z6VMEER|beauson45> has joined the channel","type":"message","subtype":"channel_join","ts":"1473364649.000373"},{"type":"message","user":"U1AU8DRQR","text":"so how to continue with this? :slightly_smiling_face:","ts":"1473369501.000374"},{"type":"message","user":"U12452RAP","text":"<@U0KN2SSKE>: i think the whether retry and how much times retry, when to retry should determine by invoker\/caller, the transport layer no need to automatically retry, as it usually no effect","ts":"1473384277.000375"},{"user":"U1CPB11D0","text":"<@U1CPB11D0|dianfu> has joined the channel","type":"message","subtype":"channel_join","ts":"1473384438.000376"},{"type":"message","user":"U1AU8DRQR","text":"somehow, I have a feeling that we have error like this in the code somewhere: <https:\/\/golang.org\/doc\/faq#nil_error>","ts":"1473408766.000377"},{"type":"message","user":"U1AU8DRQR","text":"I am not sure that the removal of stacked errors will do any good","ts":"1473410398.000378"},{"type":"message","user":"U1AU8DRQR","text":"<https:\/\/godoc.org\/github.com\/spacemonkeygo\/errors>\nor this: <https:\/\/github.com\/juju\/errors>","attachments":[{"title":"Package errors","title_link":"https:\/\/godoc.org\/github.com\/spacemonkeygo\/errors","text":"Package errors is a flexible error support library for Go","fallback":"Package errors","from_url":"https:\/\/godoc.org\/github.com\/spacemonkeygo\/errors","service_icon":"https:\/\/godoc.org\/favicon.ico","service_name":"godoc.org","id":1},{"service_name":"GitHub","title":"juju\/errors","title_link":"https:\/\/github.com\/juju\/errors","text":"Common juju errors and functions to annotate errors. Based on juju\/errgo","fallback":"GitHub: juju\/errors","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/4604548?v=3&s=400","from_url":"https:\/\/github.com\/juju\/errors","thumb_width":400,"thumb_height":400,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":2}],"ts":"1473412202.000379"},{"type":"message","user":"U1AU8DRQR","text":"here are some people who say that propagating errors instead of providing new, good error messages is bad: <https:\/\/groups.google.com\/forum\/#!topic\/golang-nuts\/8XsZziHYRvA>","ts":"1473414763.000381"},{"type":"message","user":"U12452RAP","text":"convert an error to more readable error most useful for display for user, that should be a responsibility of client program i think","ts":"1473419702.000382"},{"type":"message","user":"U1AU8DRQR","text":"yes. but it seems to be a general go thing to handle errors in the following way (not that this is not for displaying to the user):\nreturn fmt.Errorf(\"calculation failed: %s\", err_old)\nBUT: we always do this and never really do error handling. (OK I am exaggerating things)","ts":"1473420765.000383"},{"type":"message","user":"U1AU8DRQR","text":"look:\n<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/977\/>\n<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/941\/>\nerror handling","ts":"1473427563.000384"},{"type":"message","user":"U13TWBRBL","text":"does anybody know what this error is about? happening when trying to deploy chaincode from node.js SDK (both peer and node.js are 0.6 level):\n\n2016\/09\/09 14:32:41 transport: http2Server.HandleStreams failed to receive the preface from client: read tcp 127.0.0.1:7051-&gt;127.0.0.1:47051: read: connection reset by peer\n14:32:52.685 [chaincode] processStream -&gt; ERRO 01d Got error: Incorrect number of arguments. Expecting 4\n14:32:52.685 [chaincode] Launch -&gt; ERRO 01e sending init failed(Error initializing container 7a67222df9b1cad80b8b2fa326aca8f715d13bf2beb2d9f8fa2285a40ec0a786: Incorrect number of arguments. Expecting 4)\n14:32:52.726 [chaincode] processStream -&gt; ERRO 01f Error handling chaincode support stream: connection error: desc = \"transport is closing\"\n2016\/09\/09 14:33:41 grpc: Server.Serve failed to create ServerTransport:  connection error: desc = \"transport: write tcp 127.0.0.1:7051-&gt;127.0.0.1:47054: write: broken pipe\"","edited":{"user":"U13TWBRBL","ts":"1473431982.000000"},"ts":"1473431883.000385"},{"type":"message","user":"U13TWBRBL","text":"<@U0ULK2JPP> <@U0UKTPMG8> any pointers?","ts":"1473431968.000387"},{"type":"message","user":"U0ULK2JPP","text":"<@U13TWBRBL> looks like chaincode did not like the arguments to the Init method","ts":"1473432853.000389"},{"type":"message","user":"U13TWBRBL","text":"right, that one needs to be investigated with the chaincode. any idea about the TCP errors?","ts":"1473433072.000390"},{"type":"message","user":"U0ULK2JPP","text":"oh the TCP errors are related. we take a hard line - we cannot even init the chaincode, lets close the connection","ts":"1473433660.000391"},{"type":"message","user":"U12452RAP","text":"this error can be an example for error handle","ts":"1473435343.000392"},{"type":"message","user":"U13TWBRBL","text":"<@U0ULK2JPP> i see. will then focus on fixing the chaincode error (i believe it\u2019s due to 0.6 missing needed changes for the SDK). thanks!","ts":"1473436704.000393"},{"user":"U23CGEC7N","text":"<@U23CGEC7N|rafael> has joined the channel","type":"message","subtype":"channel_join","ts":"1473525835.000394"},{"type":"message","user":"U12452RAP","text":"<@U1AU8DRQR>: about error handling, i change my mind, why need stack trace in error?","ts":"1473687595.000395"},{"type":"message","user":"U1AU8DRQR","text":"<@U12452RAP> why not? :slightly_smiling_face: what is the problem with it, it only helps you debug things and find the origin of the error and the circumstances etc","ts":"1473687809.000396"},{"type":"message","user":"U1AU8DRQR","text":"btw somebody could have a look at my error handling code (both commits):\n<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/941\/>\n<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/977\/>","ts":"1473687873.000397"},{"type":"message","user":"U12452RAP","text":"when we get a error we just need handle it or pass it, when handle it i don't think we need stack trace","ts":"1473688027.000398"},{"type":"message","user":"U12452RAP","text":"it is not equality exception in java","ts":"1473688194.000399"},{"type":"message","user":"U12452RAP","text":"mostly the stackstace is good to log, so we can track the exception","ts":"1473688270.000400"},{"type":"message","user":"U12452RAP","text":"but in goLang, we should not log error","ts":"1473688311.000401"},{"type":"message","user":"U1AU8DRQR","text":"1) you are right, you either handle the error or pass it. but it can turn out that at some level you call panic(err) because you can't handle it even more. in that case the stack trace helps debugging\n2) if you log the error (I have seen and read examples of Go libraries that logged errors, why not? you can log non-fatal errors) a stack trace can help a lot","ts":"1473688689.000402"},{"type":"message","user":"U12452RAP","text":"panic(error)? i think the best should all the mid level just pass if they don't handle","ts":"1473689561.000403"},{"type":"message","user":"U12452RAP","text":"follow goLang design,error should just add more info field, more method for provide detail info","ts":"1473689675.000404"},{"type":"message","user":"U12452RAP","text":"anyway, just my thought, it is time to bed","ts":"1473689751.000405"},{"type":"message","user":"U1AU8DRQR","text":"please create a commit for the files with your thoughts, if possible :slightly_smiling_face:","ts":"1473689792.000406"},{"type":"message","user":"U1AU8DRQR","text":"<@U0ULK2JPP>","ts":"1473689888.000407"},{"type":"message","user":"U1AU8DRQR","text":"some others could also have a look at them (and please read the wiki :slightly_smiling_face: )","ts":"1473705571.000408"},{"type":"message","user":"U1AU8DRQR","text":"<@U0KM61BCP> <@U11MANG9G> <@U0KN2SSKE> <https:\/\/hyperledgerproject.slack.com\/archives\/fabric-peer-dev\/p1473687873000397>","attachments":[{"from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-peer-dev\/p1473687873000397","fallback":"[September 12th, 2016 6:44 AM] hgabor: btw somebody could have a look at my error handling code (both commits):\n<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/941\/>\n<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/977\/>","ts":"1473687873.000397","author_subname":"hgabor","channel_id":"C27E2LGJY","channel_name":"fabric-peer-dev","is_msg_unfurl":true,"text":"btw somebody could have a look at my error handling code (both commits):\n<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/941\/>\n<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/977\/>","author_name":"Gabor Hosszu","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/hgabor","author_icon":"https:\/\/secure.gravatar.com\/avatar\/00f4290e36c198abb7d4f0ea586245db.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0012-48.png","mrkdwn_in":["text"],"id":1,"footer":"Posted in #fabric-peer-dev"}],"ts":"1473705601.000409"},{"type":"message","user":"U0ULK2JPP","text":"can I get some reviews for <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/999> pl.","ts":"1473706058.000411"},{"type":"message","user":"U0ULK2JPP","text":"( <@U1AU8DRQR> will look at the error handling code later today )","ts":"1473706093.000412"},{"type":"message","subtype":"file_share","text":"<@U0KN2SSKE|binhn> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/binhn\/F2BNEABJS\/bootstrap_peer_and_consenter.jpg|Bootstrap peer and consenter>","file":{"id":"F2BNEABJS","created":1473880303,"timestamp":1473880303,"name":"Bootstrap peer and consenter.jpg","title":"Bootstrap peer and consenter","mimetype":"image\/jpeg","filetype":"jpg","pretty_type":"JPEG","user":"U0KN2SSKE","editable":false,"size":1386830,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2BNEABJS\/bootstrap_peer_and_consenter.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2BNEABJS\/download\/bootstrap_peer_and_consenter.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2BNEABJS-7627d7fd12\/bootstrap_peer_and_consenter_64.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2BNEABJS-7627d7fd12\/bootstrap_peer_and_consenter_80.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2BNEABJS-7627d7fd12\/bootstrap_peer_and_consenter_360.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":270,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2BNEABJS-7627d7fd12\/bootstrap_peer_and_consenter_480.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":360,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2BNEABJS-7627d7fd12\/bootstrap_peer_and_consenter_160.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2BNEABJS-7627d7fd12\/bootstrap_peer_and_consenter_720.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":540,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2BNEABJS-7627d7fd12\/bootstrap_peer_and_consenter_960.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":720,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2BNEABJS-7627d7fd12\/bootstrap_peer_and_consenter_1024.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":768,"image_exif_rotation":1,"original_w":3264,"original_h":2448,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/binhn\/F2BNEABJS\/bootstrap_peer_and_consenter.jpg","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2BNEABJS-34ce574831","channels":["C27E2LGJY"],"groups":[],"ims":[],"comments_count":0},"user":"U0KN2SSKE","upload":true,"display_as_bot":false,"username":"<@U0KN2SSKE|binhn>","bot_id":null,"ts":"1473880309.000413"},{"type":"message","user":"U0UGH3X7X","text":"<@U0KN2SSKE> ,  focus :slightly_smiling_face:","ts":"1473880364.000414"},{"type":"message","user":"U0KN2SSKE","text":"blame it on apple :slightly_smiling_face:","ts":"1473880392.000415"},{"type":"message","user":"U1AU8DRQR","text":"some news on error handling: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1053\/1> (just an idea not an actual commit to be merged)","ts":"1473924685.000416"},{"type":"message","user":"U0KN2SSKE","text":"<@U1AU8DRQR> i am not clear on 1053, so i requested in the comment for a test as a sample","ts":"1473960579.000417"},{"type":"message","user":"U0KN2SSKE","text":"i thought we could do something simple like this  <https:\/\/play.golang.org\/p\/Cfml-HfYJa>  to propagate the first error with stack","ts":"1473960620.000418"},{"user":"U29BAKE8L","text":"<@U29BAKE8L|xiejunan> has joined the channel","type":"message","subtype":"channel_join","ts":"1474170514.000419"},{"type":"message","user":"U29BAKE8L","text":"<@U0KN2SSKE> any documents about bootstrap of peer and consenter?","ts":"1474181687.000420"},{"type":"message","user":"U1AU8DRQR","text":"<@U0XR6J961> has posted some commits on this: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/977\/> <@U0KN2SSKE> <@U0ULK2JPP> <@U0PB67X4K> <@U12452RAP> could you have a look at them? and of course anybody else who is interested","ts":"1474290381.000421"},{"type":"message","user":"U1AU8DRQR","text":"the commit is intended to be an example how we should refactor error handling of fabric","ts":"1474290411.000422"},{"type":"message","user":"U1AU8DRQR","text":"and of course <@U0KM61BCP> :slightly_smiling_face:","ts":"1474290418.000423"},{"type":"message","user":"U0KN2SSKE","text":"<@U29BAKE8L> <@U0S5KF44D> is putting together a jira <https:\/\/jira.hyperledger.org\/browse\/FAB-359>","ts":"1474323602.000424"},{"type":"message","user":"U0KN2SSKE","text":"<@U1AU8DRQR> will do","ts":"1474323626.000425"},{"user":"U2CSLPV1Q","text":"<@U2CSLPV1Q|hhadass> has joined the channel","type":"message","subtype":"channel_join","ts":"1474492617.000426"},{"user":"U0XR6J961","text":"<@U0XR6J961|simon> has left the channel","type":"message","subtype":"channel_leave","ts":"1474635497.000427"},{"user":"U0P75RFT4","text":"<@U0P75RFT4|tim.blankers> has joined the channel","type":"message","subtype":"channel_join","ts":"1474798832.000428"},{"user":"U1KDHJT6H","text":"<@U1KDHJT6H|claytonsims> has joined the channel","type":"message","subtype":"channel_join","ts":"1474929408.000429"},{"user":"U1MA81VBK","text":"<@U1MA81VBK|g_alexander> has joined the channel","type":"message","subtype":"channel_join","ts":"1474967661.000430"},{"user":"U26BX6S3B","text":"<@U26BX6S3B|pmcosta> has joined the channel","type":"message","subtype":"channel_join","ts":"1474981232.000431"},{"user":"U2GFYLYN8","text":"<@U2GFYLYN8|mneug> has joined the channel","type":"message","subtype":"channel_join","ts":"1474994392.000432"},{"user":"U1TMQDYKE","text":"<@U1TMQDYKE|wil.pannell> has joined the channel","type":"message","subtype":"channel_join","ts":"1475012344.000433"},{"user":"U2GEM7JCT","text":"<@U2GEM7JCT|kur> has joined the channel","type":"message","subtype":"channel_join","ts":"1475053594.000434"},{"type":"message","user":"U0UKTPMG8","text":"<@U0PB67X4K> <@U0KN2SSKE> <@U0UGH3X7X> <@U0XPR4NP4> <@U0ULK2JPP> <@U0S5KF44D>  I am trying to reason through bootstrap from the perspective of getting the peer engine reworked for the  next arch.  I have posted a diagram that just begins to scratch the surface wrt to multi-channel support implications to boostrap.  It is attached to <https:\/\/jira.hyperledger.org\/browse\/FAB-426>","ts":"1475245616.000435"},{"user":"U0XPR4NP4","inviter":"U0UKTPMG8","text":"<@U0XPR4NP4|jyellick> has joined the channel","type":"message","subtype":"channel_join","ts":"1475245626.000436"},{"type":"message","user":"U0ULK2JPP","text":"Thanks <@U0UKTPMG8> \u2026 as I work on the the simple end-to-end flow using the SOLO orderer (<https:\/\/jira.hyperledger.org\/browse\/FAB-437>) trying to stay orthogonal to these bootstrapping issues","ts":"1475249713.000437"},{"type":"message","user":"U0ULK2JPP","text":"for instance, there\u2019s the \u201cGetLedger()\u201d call in kv_ledgers.go that has warnings that this is severely temporary as subledgers (and related concepts) are being worked out","ts":"1475249828.000438"},{"user":"U1L24390X","text":"<@U1L24390X|wlahti> has joined the channel","type":"message","subtype":"channel_join","ts":"1475251743.000439"},{"type":"message","user":"U1L24390X","text":"I'm looking into a way to dynamically change the log levels for different components of the fabric on a peer. This should be extremely useful for debugging and problem determination. My current prototype lets an administrator set the log level for any specific logger using command line with the following command: peer logging setlevel &lt;component&gt; &lt;loglevel&gt; . I also have a getlevel command which shows the current log level for a given component logger: peer logging getlevel &lt;component&gt;","ts":"1475267979.000440"},{"type":"message","user":"U1L24390X","text":"Just throwing this out there to get feedback\/suggestions from anyone else who may be interested in this functionality.","ts":"1475268042.000441","reactions":[{"name":"+1","users":["U0ULK2JPP"],"count":1}]},{"user":"U13TWBRBL","text":"<@U13TWBRBL|jzhang> has left the channel","type":"message","subtype":"channel_leave","ts":"1475554611.000442"},{"user":"U0XPR4NP4","text":"<@U0XPR4NP4|jyellick> has left the channel","type":"message","subtype":"channel_leave","ts":"1475587134.000443"},{"user":"U0ZJZBJLF","text":"<@U0ZJZBJLF|yacovm> has joined the channel","type":"message","subtype":"channel_join","ts":"1475598637.000444"},{"type":"message","user":"U0ZJZBJLF","text":"I have a suggestion <@U1L24390X> , why not also make the peer process monitor the yaml file periodically and adjust the logging level accordingly?","ts":"1475598718.000445"},{"type":"message","user":"U0ZJZBJLF","text":"( btw I hope it's ok to barge into the channel :slightly_smiling_face: )","ts":"1475598802.000446"},{"type":"message","user":"U0ULK2JPP","text":"<https:\/\/jira.hyperledger.org\/secure\/attachment\/10109\/SkeletalEndToEndFlow.pptx> - the skeletal end to end flow work was presented at hackfest Oct 3-4","edited":{"user":"U0ULK2JPP","ts":"1475858815.000000"},"ts":"1475858802.000447","reactions":[{"name":"+1","users":["U1AU8DRQR"],"count":1}]},{"type":"message","user":"U0KM61BCP","text":"<!channel> ^^","ts":"1475865170.000449"},{"type":"message","user":"U0ULK2JPP","text":"created a JIRA <https:\/\/jira.hyperledger.org\/browse\/FAB-631> for dealing with fabric cleanup <@U0KN2SSKE>  <@U0KM61BCP> <@U0PB67X4K> <@U0KPFAZNF> <@U0UKTPMG8>","ts":"1475940639.000450"},{"type":"message","user":"U0ULK2JPP","text":"Going to take a crack at cleanup and see where it takes me","ts":"1475940664.000451"},{"type":"message","user":"U0PB67X4K","text":"<@U0ULK2JPP>  <@U13TWBRBL>  - Can you guys take a look at <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1043\/> when you get a chance and reach out to Paul?   Wondering whether this should be a core part of the Golang chaincode library \/ SDK for v1 and if so should we do similar for other SDKs?","ts":"1476102680.000452"},{"type":"message","user":"U0ULK2JPP","text":"<@U0PB67X4K> ok. will do later today ?","ts":"1476112179.000453"},{"type":"message","user":"U0PB67X4K","text":"no rush - just wanted to post while it was fresh on my mind  :wink:","ts":"1476112211.000454"},{"type":"message","user":"U0ULK2JPP","text":"and it *has* been posted for a long time now \u2026 :slightly_smiling_face:","ts":"1476112565.000455"},{"type":"message","user":"U0ULK2JPP","text":"will def. look today","ts":"1476112570.000456"},{"user":"U132537KP","text":"<@U132537KP|andrearei> has joined the channel","type":"message","subtype":"channel_join","ts":"1476141458.000459"},{"user":"U0W7D64LC","text":"<@U0W7D64LC|markparz> has joined the channel","type":"message","subtype":"channel_join","ts":"1476213823.000460"},{"user":"U1WAADD4N","text":"<@U1WAADD4N|akihikot> has joined the channel","type":"message","subtype":"channel_join","ts":"1476254202.000461"},{"type":"message","subtype":"file_share","text":"<@U1WAADD4N|akihikot> shared a file: <https:\/\/hyperledgerproject.slack.com\/files\/akihikot\/F2N80Q23W\/peer-chaincode-grpc.png|peer-chaincode-grpc.png> and commented: A figure explaining the current peer-chaincode gRPC communication.  This is background of my gerrit proposal <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1679\/>","file":{"id":"F2N80Q23W","created":1476253363,"timestamp":1476253363,"name":"peer-chaincode-grpc.png","title":"peer-chaincode-grpc.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U1WAADD4N","editable":false,"size":72157,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2N80Q23W\/peer-chaincode-grpc.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2N80Q23W\/download\/peer-chaincode-grpc.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2N80Q23W-32fee011be\/peer-chaincode-grpc_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2N80Q23W-32fee011be\/peer-chaincode-grpc_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2N80Q23W-32fee011be\/peer-chaincode-grpc_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":130,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2N80Q23W-32fee011be\/peer-chaincode-grpc_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":173,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2N80Q23W-32fee011be\/peer-chaincode-grpc_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2N80Q23W-32fee011be\/peer-chaincode-grpc_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":260,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2N80Q23W-32fee011be\/peer-chaincode-grpc_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":346,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2N80Q23W-32fee011be\/peer-chaincode-grpc_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":369,"image_exif_rotation":1,"original_w":1444,"original_h":521,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/akihikot\/F2N80Q23W\/peer-chaincode-grpc.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2N80Q23W-d861b7c4b4","channels":["C0ULBRA78","C27E2LGJY"],"groups":[],"ims":[],"comments_count":2,"initial_comment":{"id":"Fc2N8G1WCR","created":1476253363,"timestamp":1476253363,"user":"U1WAADD4N","is_intro":true,"comment":"A figure explaining the current peer-chaincode gRPC communication.  This is background of my gerrit proposal <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1679\/>","channel":""}},"user":"U1WAADD4N","upload":false,"display_as_bot":false,"username":"<@U1WAADD4N|akihikot>","bot_id":null,"ts":"1476254455.000462"},{"type":"message","subtype":"file_comment","text":"<@U1WAADD4N|akihikot> commented on <@U1WAADD4N|akihikot>\u2019s file <https:\/\/hyperledgerproject.slack.com\/files\/akihikot\/F2N80Q23W\/peer-chaincode-grpc.png|peer-chaincode-grpc.png>: Hi, not sure where to put this discussion, but I think this is related  to parallel invoke simulations in v1.0.","file":{"id":"F2N80Q23W","created":1476253363,"timestamp":1476253363,"name":"peer-chaincode-grpc.png","title":"peer-chaincode-grpc.png","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U1WAADD4N","editable":false,"size":72157,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2N80Q23W\/peer-chaincode-grpc.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2N80Q23W\/download\/peer-chaincode-grpc.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2N80Q23W-32fee011be\/peer-chaincode-grpc_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2N80Q23W-32fee011be\/peer-chaincode-grpc_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2N80Q23W-32fee011be\/peer-chaincode-grpc_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":130,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2N80Q23W-32fee011be\/peer-chaincode-grpc_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":173,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2N80Q23W-32fee011be\/peer-chaincode-grpc_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2N80Q23W-32fee011be\/peer-chaincode-grpc_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":260,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2N80Q23W-32fee011be\/peer-chaincode-grpc_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":346,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2N80Q23W-32fee011be\/peer-chaincode-grpc_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":369,"image_exif_rotation":1,"original_w":1444,"original_h":521,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/akihikot\/F2N80Q23W\/peer-chaincode-grpc.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2N80Q23W-d861b7c4b4","channels":["C0ULBRA78","C27E2LGJY"],"groups":[],"ims":[],"comments_count":2,"initial_comment":{"id":"Fc2N8G1WCR","created":1476253363,"timestamp":1476253363,"user":"U1WAADD4N","is_intro":true,"comment":"A figure explaining the current peer-chaincode gRPC communication.  This is background of my gerrit proposal <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1679\/>","channel":""}},"comment":{"id":"Fc2N8EEAP7","created":1476254455,"timestamp":1476254455,"user":"U1WAADD4N","is_intro":false,"comment":"Hi, not sure where to put this discussion, but I think this is related  to parallel invoke simulations in v1.0.","channel":""},"is_intro":false,"ts":"1476254455.000463"},{"type":"message","user":"U1WAADD4N","text":"Some trial for improvement is this code.  <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1679\/>  which improves parallel query performance.   But not sure if this code would live in v1.0.","ts":"1476254690.000464"},{"type":"message","user":"U0ZJZBJLF","text":"<@U1WAADD4N> \n```\n of example02 query transactions from 1.1KTPS to 1.8KTPS\n```\nCan you say the configuration (peer number, consensus algorithm (noops\/pbft)) that was used to reach 1K TPS?","edited":{"user":"U0ZJZBJLF","ts":"1476263215.000000"},"ts":"1476263202.000465"},{"type":"message","user":"U1WAADD4N","text":"<@U0ZJZBJLF> Oh sorry, I made mistake about the number.   It was 11KTPS to 18KTPS (updated the commit message).   It's query, so no consensus, and running on a single node.  CPU is Xeon E5-2667, and using 1 CPU socket=8 cores =16 HTs.","ts":"1476263773.000467"},{"type":"message","user":"U0ULK2JPP","text":"<@U1WAADD4N> this is totally relevant, thanks for doing this. The query will not live in that form in v1.0 but we might need to make invokes concurrent in some form. So we might be able to use this work for that. will review soon.","ts":"1476271757.000468"},{"type":"message","user":"U1L24390X","text":"","attachments":[{"fallback":"[October 11th, 2016 3:53 PM] wlahti: Dynamically set and get logging levels on a peer using CLI - prototype: <https:\/\/www.youtube.com\/watch?v=nlA98O92XuY>","ts":"1476215598.000111","author_subname":"wlahti","channel_id":"C28M6TC90","channel_name":"playbacks","is_msg_unfurl":true,"text":"Dynamically set and get logging levels on a peer using CLI - prototype: <https:\/\/www.youtube.com\/watch?v=nlA98O92XuY>","author_name":"Will Lahti","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/wlahti","author_icon":"https:\/\/avatars.slack-edge.com\/2016-08-30\/74458159952_73c8a5ee60f086136254_48.jpg","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/playbacks\/p1476215598000111","is_share":true,"footer":"Posted in #playbacks"}],"ts":"1476277483.000469","reactions":[{"name":"+1","users":["U0KM61BCP"],"count":1}]},{"user":"U1GJCF29L","text":"<@U1GJCF29L|kawatiya> has joined the channel","type":"message","subtype":"channel_join","ts":"1476327676.000470"},{"user":"U17HK4VQR","text":"<@U17HK4VQR|ikocsis> has joined the channel","type":"message","subtype":"channel_join","ts":"1476348108.000471"},{"user":"U24JMTPRQ","text":"<@U24JMTPRQ|aliblackwell> has joined the channel","type":"message","subtype":"channel_join","ts":"1476353003.000472"},{"user":"U2MT0NJ15","text":"<@U2MT0NJ15|miyamae> has joined the channel","type":"message","subtype":"channel_join","ts":"1476374269.000473"},{"user":"U2P21M71V","text":"<@U2P21M71V|eddie.allen> has joined the channel","type":"message","subtype":"channel_join","ts":"1476378278.000474"},{"user":"U0N1D1UAE","text":"<@U0N1D1UAE|bcbrock> has joined the channel","type":"message","subtype":"channel_join","ts":"1476383468.000475"},{"user":"U0KQ9QKH6","text":"<@U0KQ9QKH6|pmullaney> has joined the channel","type":"message","subtype":"channel_join","ts":"1476388923.000476"},{"user":"U184J2R7S","text":"<@U184J2R7S|weeds> has joined the channel","type":"message","subtype":"channel_join","ts":"1476393390.000477"},{"user":"U2PE37K3J","text":"<@U2PE37K3J|n.ohagan> has joined the channel","type":"message","subtype":"channel_join","ts":"1476453407.000478"},{"user":"U2PE37K3J","text":"<@U2PE37K3J|n.ohagan> has left the channel","type":"message","subtype":"channel_leave","ts":"1476458742.000479"},{"user":"U2NNLN56V","text":"<@U2NNLN56V|conghonglei> has joined the channel","type":"message","subtype":"channel_join","ts":"1476667849.000480"},{"type":"message","user":"U0ULK2JPP","text":"The focus of the past week and this has been to merge master to convergence. Working on that along with <@U0KPFAZNF> and <@U0UKTPMG8> . Once that is done we will be in good shape to begin Endorser\/Committer related work","edited":{"user":"U0ULK2JPP","ts":"1476808274.000000"},"ts":"1476808252.000481"},{"user":"U1D7TR679","text":"<@U1D7TR679|gl> has joined the channel","type":"message","subtype":"channel_join","ts":"1476872008.000484"},{"type":"message","user":"U0ZJZBJLF","text":"can anyone connect to the scrum?","ts":"1476883117.000485"},{"type":"message","user":"U0ULK2JPP","text":"can you paste me the link <@U0ZJZBJLF>","ts":"1476883142.000486"},{"type":"message","user":"U0ULK2JPP","text":"I\u2019m having trouble with notes","ts":"1476883152.000487"},{"user":"U1HFNJB50","text":"<@U1HFNJB50|c0rwin> has joined the channel","type":"message","subtype":"channel_join","ts":"1476883154.000488"},{"type":"message","user":"U0ZJZBJLF","text":"<https:\/\/hangouts.google.com\/hangouts\/_\/v6wvitsep5fqxmf7v6b3efnrjqe>","ts":"1476883157.000489"},{"type":"message","user":"U0ULK2JPP","text":"not sure if it goes beyond that","ts":"1476883160.000490"},{"type":"message","user":"U1HFNJB50","text":"I\u2019m able to connect, but do not see anyone here","ts":"1476883186.000491"},{"type":"message","user":"U0ZJZBJLF","text":"I'm getting an error...","ts":"1476883207.000492"},{"type":"message","user":"U1HFNJB50","text":"So could be others experience same problem as Yacov?","ts":"1476883211.000493"},{"type":"message","user":"U0ZJZBJLF","text":"maybe start a new scrum link? I think maybe the HO instance expired or something :confused:","ts":"1476883223.000494"},{"type":"message","user":"U0ULK2JPP","text":"sure","ts":"1476883230.000495"},{"type":"message","user":"U0ZJZBJLF","text":"we had a similar problem this week with the consensus scrum","ts":"1476883234.000496"},{"type":"message","user":"U0ULK2JPP","text":"lets try a new hangout","ts":"1476883237.000497"},{"type":"message","user":"U0ULK2JPP","text":"same problem","ts":"1476883272.000498"},{"type":"message","user":"U0ULK2JPP","text":"<https:\/\/hangouts.google.com\/call\/jh2qneb23jfediposjuhuag7bme>","attachments":[{"title":"Google Hangouts","title_link":"https:\/\/hangouts.google.com\/call\/jh2qneb23jfediposjuhuag7bme","text":"Click to join now. If the call is over, start a new one with up to 10 friends.","fallback":"Google Hangouts","thumb_url":"https:\/\/www.gstatic.com\/images\/icons\/material\/product\/2x\/hangouts_64dp.png","from_url":"https:\/\/hangouts.google.com\/call\/jh2qneb23jfediposjuhuag7bme","thumb_width":128,"thumb_height":128,"service_icon":"https:\/\/hangouts.google.com\/favicon.ico","service_name":"hangouts.google.com","id":1}],"ts":"1476883357.000499"},{"type":"message","user":"U0ULK2JPP","text":"can you try that ?","ts":"1476883361.000501"},{"user":"U0YP7KFGQ","text":"<@U0YP7KFGQ|gennady.laventman> has joined the channel","type":"message","subtype":"channel_join","ts":"1476883482.000502"},{"type":"message","user":"U0UKTPMG8","text":"working on the BDD for bootstrap, will check in once convergence ready","ts":"1476884892.000503","reactions":[{"name":"+1","users":["U0ULK2JPP"],"count":1}]},{"type":"message","user":"U0UKTPMG8","text":"working on BDD for boostrap in order to produce input for orderer genisis block creation","ts":"1477063572.000504"},{"type":"message","user":"U0ULK2JPP","text":"working on completing the final leg of merging patches into convergence. Working with <@U0KPFAZNF>, master-&gt;convergence merge completed. 0.6 -&gt;convergence in progress. once that\u2019s done we\u2019ll be ready for the final push of convergence -&gt; master to complete the process","ts":"1477065221.000505","reactions":[{"name":"+1","users":["U0ZJZBJLF"],"count":1}]},{"user":"U2BGFAHC7","text":"<@U2BGFAHC7|donovanhide> has joined the channel","type":"message","subtype":"channel_join","ts":"1477076691.000506"},{"type":"message","user":"U0ULK2JPP","text":"<@U0ZJZBJLF> unit tests under fabric\/gossip appear to be flaky\u2026 succeed\/fail randomly","ts":"1477252377.000507"},{"type":"message","user":"U0ZJZBJLF","text":"really? which one? got a link to a build that failed ?","edited":{"user":"U0ZJZBJLF","ts":"1477252549.000000"},"ts":"1477252418.000508"},{"type":"message","user":"U0ZJZBJLF","text":"wait, how is that possible? nothing I sent in the last 2 weeks has been merged","ts":"1477252460.000509"},{"type":"message","user":"U0ULK2JPP","text":"let me make sure I\u2019m not goofing up","ts":"1477252580.000512"},{"type":"message","user":"U0ULK2JPP","text":"I do see gossip in master","ts":"1477252648.000513"},{"type":"message","user":"U0ULK2JPP","text":"and tests under it","ts":"1477252652.000514"},{"type":"message","user":"U0ZJZBJLF","text":"it is there, but I'm asking- which test fails, or- which build fails","edited":{"user":"U0ZJZBJLF","ts":"1477252674.000000"},"ts":"1477252659.000515"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F2T3AGK71\/pasted_image_at_2016_10_23_03_57_pm.png|Pasted image at 2016-10-23, 3:57 PM> and commented: for example","file":{"id":"F2T3AGK71","created":1477252685,"timestamp":1477252685,"name":"Pasted image at 2016_10_23 03_57 PM.png","title":"Pasted image at 2016-10-23, 3:57 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":39786,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2T3AGK71\/pasted_image_at_2016_10_23_03_57_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2T3AGK71\/download\/pasted_image_at_2016_10_23_03_57_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2T3AGK71-6bfba960b6\/pasted_image_at_2016_10_23_03_57_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2T3AGK71-6bfba960b6\/pasted_image_at_2016_10_23_03_57_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2T3AGK71-6bfba960b6\/pasted_image_at_2016_10_23_03_57_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":95,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2T3AGK71-6bfba960b6\/pasted_image_at_2016_10_23_03_57_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":127,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2T3AGK71-6bfba960b6\/pasted_image_at_2016_10_23_03_57_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2T3AGK71-6bfba960b6\/pasted_image_at_2016_10_23_03_57_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":190,"image_exif_rotation":1,"original_w":872,"original_h":230,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F2T3AGK71\/pasted_image_at_2016_10_23_03_57_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2T3AGK71-d12b9cbf94","channels":["C27E2LGJY"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc2T3BCJ81","created":1477252685,"timestamp":1477252685,"user":"U0ULK2JPP","is_intro":true,"comment":"for example","channel":""}},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1477252687.000517"},{"type":"message","user":"U0ULK2JPP","text":"rerunning go test under algo\/ made it pass","ts":"1477252714.000518"},{"type":"message","user":"U0ZJZBJLF","text":":open_mouth: impossible... why now? it is there for more than 2 weeks","ts":"1477252730.000519"},{"type":"message","user":"U0ULK2JPP","text":":slightly_smiling_face:","ts":"1477252743.000520"},{"type":"message","user":"U0ULK2JPP","text":"is it doing any non-local network activity ?","ts":"1477252848.000521"},{"type":"message","user":"U0ZJZBJLF","text":"I think maybe the times need to be relaxed more. It's a tradeoff between not prolonging the tests and making the goroutine concurrency finish on time","ts":"1477252859.000522"},{"type":"message","user":"U0ULK2JPP","text":"ie, going out of the box ?","ts":"1477252865.000523"},{"type":"message","user":"U0ZJZBJLF","text":"it's not, but it has many timers","ts":"1477252872.000524"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1477252890.000525"},{"type":"message","user":"U0ZJZBJLF","text":"I don't think I'll make it today, it's already 23:00 here but tomorrow I'll take a look at it. Can you send me in PM the link to the jenkins CI job that failed?","ts":"1477252921.000526"},{"type":"message","user":"U0ULK2JPP","text":"absolitely","ts":"1477252935.000527"},{"type":"message","user":"U0ULK2JPP","text":"sorry about that","ts":"1477252940.000528"},{"type":"message","user":"U0ULK2JPP","text":"just thought I\u2019ll put it here for you to take a look when you can","ts":"1477252958.000529"},{"type":"message","user":"U0ULK2JPP","text":"its not CI","ts":"1477252967.000530"},{"type":"message","user":"U0ULK2JPP","text":"just my local unit-test","ts":"1477252977.000531"},{"type":"message","user":"U0ZJZBJLF","text":"np, sorry about failing the unit tests. I wonder why it happened now, it has been running for weeks and no one told me anything","ts":"1477252977.000532"},{"type":"message","user":"U0ZJZBJLF","text":"oh... wait, what go version are you using?","ts":"1477252990.000533"},{"type":"message","user":"U0ULK2JPP","text":"go version\ngo version go1.6 linux\/amd64","ts":"1477253017.000534"},{"type":"message","user":"U0ZJZBJLF","text":"weird","ts":"1477253025.000535"},{"type":"message","user":"U0ULK2JPP","text":"under vagrant","ts":"1477253029.000536"},{"type":"message","user":"U0ULK2JPP","text":"don\u2019t worry about it","ts":"1477253031.000537"},{"type":"message","user":"U0ZJZBJLF","text":"nevermind then. I'll take a look and relax the times, send me the picture in PM please","ts":"1477253041.000538"},{"type":"message","user":"U0ULK2JPP","text":"I ran a few times just now and didn\u2019t fail","ts":"1477253045.000539"},{"type":"message","user":"U0ULK2JPP","text":"let\u2019s just keep an eye","ts":"1477253051.000540"},{"type":"message","user":"U0ZJZBJLF","text":"I need to fix this package anyway, there is a bug there. I delayed the fix to after the merge","ts":"1477253063.000541"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1477253068.000542"},{"user":"U2BF87970","text":"<@U2BF87970|sumitks> has joined the channel","type":"message","subtype":"channel_join","ts":"1477289756.000543"},{"type":"message","user":"U2BF87970","text":"hi I am getting the following error while running the command to start the peer node. error: grpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 127.0.0.1:5005: getsockopt: connection refused\"; Reconnecting to {\"127.0.0.1:5005\" &lt;nil&gt;}\nCan anybody help me out.","ts":"1477289769.000544"},{"type":"message","user":"U0ULK2JPP","text":"<@U2BF87970> is this with latest master ?","ts":"1477311298.000545"},{"type":"message","user":"U0ULK2JPP","text":"<@U2BF87970> never mind.. I see you have made progress based on the discussion in `general`","ts":"1477311420.000546"},{"type":"message","user":"U0UKTPMG8","text":"rebasing on master and pushing boostrap BDD updates","ts":"1477317951.000547"},{"type":"message","user":"U0KM61BCP","text":"<@U0UKTPMG8>: this the go bdd?","ts":"1477322536.000548"},{"type":"message","user":"U0UKTPMG8","text":"<@U0KM61BCP> it is the bootstrap feature file with partial python impl.  And a reworking of go BDD for extension.","ts":"1477322946.000549"},{"type":"message","user":"U0UKTPMG8","text":"<@U0KM61BCP> this push may be delayed as I am now working on master and see it has a few issues :slightly_smiling_face:","ts":"1477324189.000550"},{"type":"message","user":"U0ZJZBJLF","text":"peer folks- is there a way to make a unit test that runs a peer (in-go-test-process and not externally) that's initialized with security, but without needing to create the corresponding files viper wants to exist?","ts":"1477331503.000551"},{"type":"message","user":"U0ULK2JPP","text":"yes","ts":"1477332740.000552"},{"type":"message","user":"U0ULK2JPP","text":"you can set the properties you want without need for a yaml file","ts":"1477332760.000553"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F2TFP9LAW\/pasted_image_at_2016_10_24_02_13_pm.png|Pasted image at 2016-10-24, 2:13 PM> and commented: <@U0ZJZBJLF>","file":{"id":"F2TFP9LAW","created":1477332794,"timestamp":1477332794,"name":"Pasted image at 2016_10_24 02_13 PM.png","title":"Pasted image at 2016-10-24, 2:13 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":24579,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2TFP9LAW\/pasted_image_at_2016_10_24_02_13_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2TFP9LAW\/download\/pasted_image_at_2016_10_24_02_13_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2TFP9LAW-9bca2c0fa5\/pasted_image_at_2016_10_24_02_13_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2TFP9LAW-9bca2c0fa5\/pasted_image_at_2016_10_24_02_13_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2TFP9LAW-9bca2c0fa5\/pasted_image_at_2016_10_24_02_13_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":69,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2TFP9LAW-9bca2c0fa5\/pasted_image_at_2016_10_24_02_13_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":93,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2TFP9LAW-9bca2c0fa5\/pasted_image_at_2016_10_24_02_13_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F2TFP9LAW-9bca2c0fa5\/pasted_image_at_2016_10_24_02_13_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":139,"image_exif_rotation":1,"original_w":768,"original_h":148,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F2TFP9LAW\/pasted_image_at_2016_10_24_02_13_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2TFP9LAW-e86b0191af","channels":["C27E2LGJY"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc2TFCMD6H","created":1477332794,"timestamp":1477332794,"user":"U0ULK2JPP","is_intro":true,"comment":"<@U0ZJZBJLF>","channel":""}},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1477332797.000554"},{"type":"message","user":"U0ZJZBJLF","text":"Lol what about the certs? <@U0ULK2JPP> . \nHow do I set the certs without files?","edited":{"user":"U0ZJZBJLF","ts":"1477338000.000000"},"ts":"1477333109.000555"},{"type":"message","user":"U0ZJZBJLF","text":"Pem key files","ts":"1477333140.000557"},{"type":"message","user":"U2BGFAHC7","text":"Hi, continuing a private conversation with <@U0ZJZBJLF>, it seems like I might be running into some issues with setting `CORE_PEER_DISCOVERY_ROOTNODE` using hostnames rather than ip addresses. Kubernetes depends on DNS for peer discovery when using petsets, as ip addresses cannot be known ahead of deployment. It seems like all the docker compose examples use hard-coded ip addresses. I\u2019m not sure this code supports what I\u2019m doing:\n<https:\/\/github.com\/hyperledger\/fabric\/blob\/v0.6\/core\/peer\/peer.go#L549-L570>\nBelow is my kubernetes config for reference:","edited":{"user":"U2BGFAHC7","ts":"1477337213.000000"},"ts":"1477337068.000560"},{"type":"message","user":"U0ZJZBJLF","text":"can you please move that into a snippet?","ts":"1477337142.000563"},{"type":"message","user":"U0ZJZBJLF","text":"and for ease of debugging\/development I have here a docker-compose file I can share that uses hostnames instead of ip addresses:","ts":"1477337177.000564"},{"type":"message","subtype":"file_share","text":"<@U0ZJZBJLF|yacovm> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F2TG9FYMS\/-.yaml|Untitled>","file":{"id":"F2TG9FYMS","created":1477337192,"timestamp":1477337192,"name":"-.yaml","title":"Untitled","mimetype":"text\/plain","filetype":"yaml","pretty_type":"YAML","user":"U0ZJZBJLF","editable":true,"size":1832,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2TG9FYMS\/-.yaml?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2TG9FYMS\/download\/-.yaml?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F2TG9FYMS\/-.yaml","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2TG9FYMS-4141d3e870","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F2TG9FYMS\/-.yaml\/edit","preview":"vp0:\r\n  image: hyperledger\/fabric-peer\r\n  environment:\r\n    - CORE_PEER_VALIDATOR_CONSENSUS_PLUGIN=pbft\r\n    - CORE_PEER_ADDRESSAUTODETECT=true\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-atom\">vp0<\/span><span class=\"cm-meta\">:<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-atom\">  image<\/span><span class=\"cm-meta\">: <\/span>hyperledger\/fabric-peer<\/pre><\/div>\n<div><pre><span class=\"cm-atom\">  environment<\/span><span class=\"cm-meta\">:<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-meta\">    - <\/span>CORE_PEER_VALIDATOR_CONSENSUS_PLUGIN=pbft<\/pre><\/div>\n<div><pre><span class=\"cm-meta\">    - <\/span>CORE_PEER_ADDRESSAUTODETECT=true<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":67,"lines_more":62,"preview_is_truncated":true,"channels":["C27E2LGJY"],"groups":[],"ims":[],"comments_count":0},"user":"U0ZJZBJLF","upload":true,"display_as_bot":false,"username":"<@U0ZJZBJLF|yacovm>","bot_id":null,"ts":"1477337192.000565"},{"type":"message","subtype":"file_share","text":"<@U2BGFAHC7|donovanhide> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/donovanhide\/F2TEWBN1H\/-.yaml|Untitled>","file":{"id":"F2TEWBN1H","created":1477337228,"timestamp":1477337228,"name":"-.yaml","title":"Untitled","mimetype":"text\/plain","filetype":"yaml","pretty_type":"YAML","user":"U2BGFAHC7","editable":true,"size":1634,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2TEWBN1H\/-.yaml?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2TEWBN1H\/download\/-.yaml?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/donovanhide\/F2TEWBN1H\/-.yaml","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2TEWBN1H-1c6f0c3d71","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/donovanhide\/F2TEWBN1H\/-.yaml\/edit","preview":"# A headless service to create DNS records\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  name: peer\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-comment\"># A headless service to create DNS records<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-atom\">apiVersion<\/span><span class=\"cm-meta\">: <\/span>v1<\/pre><\/div>\n<div><pre><span class=\"cm-atom\">kind<\/span><span class=\"cm-meta\">: <\/span>Service<\/pre><\/div>\n<div><pre><span class=\"cm-atom\">metadata<\/span><span class=\"cm-meta\">:<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-atom\">  name<\/span><span class=\"cm-meta\">: <\/span>peer<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":69,"lines_more":64,"preview_is_truncated":true,"channels":["C27E2LGJY"],"groups":[],"ims":[],"comments_count":0},"user":"U2BGFAHC7","upload":true,"display_as_bot":false,"username":"<@U2BGFAHC7|donovanhide>","bot_id":null,"ts":"1477337229.000567"},{"type":"message","user":"U0ZJZBJLF","text":"docker-compose outputs: \n```\nvp1_1 | 19:27:05.624 [peer] handleChat -&gt; ERRO 1f3a Error handling message: Peer FSM cannot handle message (DISC_GET_PEERS) with payload size (0) while in state: created\n```\nWhich is weird, because vp1 isn't the root peer. it looks like the FSM hasn't processed the hello message that moves the handler to from `created` to `established`","ts":"1477337345.000568"},{"type":"message","user":"U0ZJZBJLF","text":"<@U0UKTPMG8>  I believe this is your area of expertise, have you ever encountered this error before?","ts":"1477337395.000569"},{"type":"message","user":"U0UKTPMG8","text":"think so.  There is an issue with peers failing on init where the do not tear down the conn","ts":"1477337440.000570"},{"type":"message","user":"U0UKTPMG8","text":"generally a restart will remediaate","ts":"1477337469.000571"},{"type":"message","user":"U2BGFAHC7","text":"<@U0UKTPMG8> Is the use of hostnames ok for `CORE_PEER_DISCOVERY_ROOTNODE`?","ts":"1477337500.000572"},{"type":"message","user":"U0UKTPMG8","text":"it can be easily remedied.... Planned to rework","ts":"1477337510.000573"},{"type":"message","user":"U0UKTPMG8","text":"<@U2BGFAHC7> yes","ts":"1477337522.000574"},{"type":"message","user":"U0UKTPMG8","text":"that is how the docker-compose systeem works today","ts":"1477337532.000575"},{"type":"message","user":"U2BGFAHC7","text":"I see that now, looking at some more examples\u2026 Well, something with my config is causing errors like this on my peer-0 node:\n```[31m13:05:24.838 [peer] handleChat -&gt; ERRO[0m Error handling message: Peer FSM failed while handling message (DISC_HELLO): current state: created, error: transition canceled with error: Error registering Handler: Duplicate Handler error: {name:\"peer-0\"  10.0.1.48:7051 VALIDATOR }\n[31m13:05:29.838 [peer] handleChat -&gt; ERRO[0m Error handling message: Peer FSM cannot handle message (DISC_GET_PEERS) with payload size (0) while in state: created\n[31m13:05:34.838 [peer] handleChat -&gt; ERRO[0m Error handling message: Peer FSM cannot handle message (DISC_GET_PEERS) with payload size (0) while in state: created\n[31m13:05:39.838 [peer] handleChat -&gt; ERRO[0m Error handling message: Peer FSM cannot handle message (DISC_GET_PEERS) with payload size (0) while in state: created\n[31m13:05:44.838 [peer] handleChat -&gt; ERRO[0m Error handling message: Peer FSM cannot handle message (DISC_GET_PEERS) with payload size (0) while in state: created\n[31m13:05:49.838 [peer] handleChat -&gt; ERRO[0m Error handling message: Peer FSM cannot handle message (DISC_GET_PEERS) with payload size (0) while in state: created\n[31m13:05:54.838 [peer] handleChat -&gt; ERRO[0m Error handling message: Peer FSM cannot handle message (DISC_GET_PEERS) with payload size (0) while in state: created\n[31m13:05:59.838 [peer] handleChat -&gt; ERRO[0m Error handling message: Peer FSM cannot handle message (DISC_GET_PEERS) with payload size (0) while in state: created\n[31m13:06:04.838 [peer] handleChat -&gt; ERRO[0m Error handling message: Peer FSM cannot handle message (DISC_GET_PEERS) with payload size (0) while in state: created```","ts":"1477337632.000576"},{"type":"message","user":"U0ZJZBJLF","text":"Jeff, we have this line here:\n<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/peer\/peer.go#L556>\nIs it possible that it's comparing a hostname to an ip address in case of donovan's use case?","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/peer\/peer.go#L556","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/peer\/peer.go#L556","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1477337666.000577"},{"type":"message","user":"U0UKTPMG8","text":"there are several settings that can be used to change what is sent in the hello message","ts":"1477337752.000579"},{"type":"message","user":"U0UKTPMG8","text":"this allows binding of the host to differ from the published address","ts":"1477337784.000580"},{"type":"message","user":"U0UKTPMG8","text":"for BMX","ts":"1477337789.000581"},{"type":"message","user":"U0UKTPMG8","text":"more than likely there was a weird timing issue where the peers tried to discover each other and one did not fail the connection., It may still send hello's but the other is in a non-valid state","ts":"1477337847.000582"},{"type":"message","user":"U0ZJZBJLF","text":"is possible to spawn them with an interval, <@U2BGFAHC7>  ?","ts":"1477337880.000583"},{"type":"message","user":"U2BGFAHC7","text":"Well, the idea with petsets is that you supply an identical configuration to all \u201cpods\u201d so you can easily scale up the numbers, which is the intention of this test. Without duplicating those configs, there is no easy way to insert a differing time, other than somehow generating a random number in bash.","ts":"1477337990.000584"},{"type":"message","user":"U2BGFAHC7","text":"This does sound like a bug though.","ts":"1477337999.000585"},{"type":"message","user":"U0ZJZBJLF","text":"can you try something though?","ts":"1477338105.000587"},{"type":"message","user":"U0ZJZBJLF","text":"add all of them as the root nodes","ts":"1477338113.000588"},{"type":"message","user":"U0ZJZBJLF","text":"append their hostnames to the rootnode config separated with commas and see what happens","ts":"1477338134.000589"},{"type":"message","user":"U2BGFAHC7","text":"A further suggestion is that comparing either ip addresses or hostnames to confirm peer uniqueness is a bad idea. Peers should have a unique id derived from some entropy, preferably a possessed private key. That way multiple peers could run on the same ip address and also you\u2019d know when two peers with the same private key are present, which is presumably an error state.","ts":"1477338223.000590"},{"type":"message","user":"U2BGFAHC7","text":"RE: hacking the config. I could just run this:\n<https:\/\/github.com\/OpenBlockMesh\/OBM-Fabric-GKE>\nBut the verbosity of that config is what I\u2019m trying to avoid by using petsets :slightly_smiling_face:","edited":{"user":"U2BGFAHC7","ts":"1477338304.000000"},"ts":"1477338289.000591"},{"type":"message","user":"U0KN2SSKE","text":"FYI - transaction id being discussed on <#C25AQBS4B|fabric-sdk-dev>","ts":"1477408470.000595"},{"type":"message","user":"U0ZJZBJLF","text":"something isn't very clear to me from the peer code, can anyone shed some light?\nHow does the peer code handle the following situation?\n`vp_i` and `vp_j` both send a hello message to one another.\nI know this situation is rare, but essentially what happens is the creation of two handlers for the same peer, once in chatWithPeer--&gt;handleChat and once in Chat--&gt;handleChat. \nI don't see any synchronization there which would result to two handlers looping with handleChat? \nAm I missing something here?","ts":"1477429016.000596"},{"type":"message","user":"U0ZJZBJLF","text":"Or maybe the code execution is \"optimistic\" and it's not such a bad corner case to have 2 FSM created for the same remote peer?","ts":"1477429122.000597"},{"type":"message","user":"U0ULK2JPP","text":"lets check with <@U0UKTPMG8>  ?","ts":"1477429506.000598","reactions":[{"name":"+1","users":["U0ZJZBJLF"],"count":1}]},{"type":"message","user":"U0ZJZBJLF","text":"And a follow-up question. Let's say I'm building a p2p system where like in fabric, a peer can connect to another peer and from some reason I want to enforce a single Recv loop and a single Send destination- be it serverStream or ClientStream.\nI have the following problem: if at the same time, `p_i` connect to `p_j` and `p_j` connects to `p_i`, I have both the gRPC server-side method invoked, *and* the client-side stream is created. \nIf I put logic that checks at the server-side stream method invocation that I'm already connected via a client stream and I abort that client stream, that means that the server-side stream of the other peer would get a disconnect, and the other peer would do the same (since it has the same code as I do) so my server-side stream would also get a disconnect.\nIf I put logic that checks at the server-side stream method invocation that I'm already connected via a client stream and I *don't* want to abort the client stream, I need to abort the server-side stream by returning nil at the server-side gRPC stream method, but since it's the same code, the other peer would do the same--&gt; hence we are both disconnected again.\nOther than making a handshake that breaks symmetry, is there a better way of managing that?","edited":{"user":"U0ZJZBJLF","ts":"1477430809.000000"},"ts":"1477430721.000599"},{"type":"message","user":"U0KPFAZNF","text":"I manage things like that with deterministic asymmetry ","ts":"1477433324.000603"},{"type":"message","user":"U0KPFAZNF","text":"For instance, if I can compute a fixed coordinate for each, assume lower ordered coordinate is the client","ts":"1477433374.000604"},{"type":"message","user":"U0KPFAZNF","text":"For instance, the hash of an x509 is a convenient coordinate","ts":"1477433424.000605"},{"type":"message","user":"U0ZJZBJLF","text":"yeah i can do that of course but i asked if someone has another idea for that specific problem","ts":"1477435771.000606"},{"type":"message","user":"U0ZJZBJLF","text":"maybe i overlooked something","ts":"1477435801.000607"},{"type":"message","user":"U1VG8LNP3","text":"I want to do <https:\/\/jira.hyperledger.org\/browse\/FAB-846> . Anyone knows the plan of REST API in v1? This issue said remove REST API from peer. should we remove it to a independent binary or just delete it?","ts":"1477461382.000608"},{"type":"message","user":"U0PB67X4K","text":"<@U1VG8LNP3> - we want to remove it from the fabric master codebase and definitely out of the peer process.    So I guess it would be the second option - \"delete it\"","ts":"1477474537.000609"},{"type":"message","user":"U1VG8LNP3","text":"<@U0PB67X4K> Thanks.  This means the rest api will be unavailable for master. later we will start a new process for rest api?","ts":"1477475912.000610"},{"type":"message","user":"U2BF87970","text":"can we make a peer in the docker toolbox environment instead of making a peer in a vagrant environment ??","ts":"1477477349.000611"},{"type":"message","user":"U2BF87970","text":"in windows 7","ts":"1477477358.000612"},{"type":"message","user":"U0PB67X4K","text":"<@U2BF87970>  - why not just use the Docker images we already have?","ts":"1477478818.000613"},{"type":"message","user":"U0PB67X4K","text":"but yes - you could build a peer in Docker alone","ts":"1477478832.000614"},{"user":"U0Y55KNG2","text":"<@U0Y55KNG2|kletkeman> has joined the channel","type":"message","subtype":"channel_join","ts":"1477583888.000615"},{"type":"message","user":"U184J2R7S","text":"<@U1VG8LNP3> <https:\/\/hub.docker.com\/u\/ibmblockchain\/>  I wanted to point  this link for Docker images we have as a lot of people have found it useful","ts":"1477585594.000616"},{"type":"message","user":"U1VG8LNP3","text":"<@U184J2R7S> thanks for the share. I guess <@U2BF87970> need them.","ts":"1477623299.000617"},{"user":"U2MCH9EEB","text":"<@U2MCH9EEB|crazybit> has joined the channel","type":"message","subtype":"channel_join","ts":"1477673569.000618"},{"type":"message","user":"U0ZJZBJLF","text":"is there a scrum today?","ts":"1477919733.000619"},{"type":"message","user":"U1HFNJB50","text":"what is the hangout link?","ts":"1477919800.000620"},{"type":"message","user":"U0ULK2JPP","text":"<https:\/\/hangouts.google.com\/call\/z3ufmyy3enhq5obj7fb4yirtmue>","attachments":[{"title":"Google Hangouts","title_link":"https:\/\/hangouts.google.com\/call\/z3ufmyy3enhq5obj7fb4yirtmue","text":"Click to join now. If the call is over, start a new one with up to 10 friends.","fallback":"Google Hangouts","thumb_url":"https:\/\/www.gstatic.com\/images\/icons\/material\/product\/2x\/hangouts_64dp.png","from_url":"https:\/\/hangouts.google.com\/call\/z3ufmyy3enhq5obj7fb4yirtmue","thumb_width":128,"thumb_height":128,"service_icon":"https:\/\/hangouts.google.com\/favicon.ico","service_name":"hangouts.google.com","id":1}],"ts":"1477919934.000621"},{"type":"message","user":"U0ULK2JPP","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2127\/> implements user given chaincode <https:\/\/jira.hyperledger.org\/browse\/FAB-23>","ts":"1477969186.000623"},{"user":"U2W8LGBMZ","text":"<@U2W8LGBMZ|azaleta> has joined the channel","type":"message","subtype":"channel_join","ts":"1478018921.000624"},{"user":"U2X9KDDL7","text":"<@U2X9KDDL7|vdods> has joined the channel","type":"message","subtype":"channel_join","ts":"1478046170.000625"},{"user":"U2X9KDDL7","text":"<@U2X9KDDL7|vdods> has left the channel","type":"message","subtype":"channel_leave","ts":"1478051572.000626"},{"type":"message","user":"U0PB67X4K","text":"<@U26T99AQ4>  - can you take a look at my comment on <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2135\/8> ?","ts":"1478173907.000627"},{"type":"message","user":"U26T99AQ4","text":"<@U0PB67X4K> I did, thanks! I've replied on gerrit + pushed a fix","ts":"1478177984.000628","reactions":[{"name":"+1","users":["U0PB67X4K"],"count":1}]},{"user":"U2Y3JHRP1","text":"<@U2Y3JHRP1|daniellee> has joined the channel","type":"message","subtype":"channel_join","ts":"1478180922.000629"},{"type":"message","user":"U0PB67X4K","text":"so I am trying to run directly on my Mac (i.e. not in Vagrant) and trying to run the go test in the core\/endorser package","ts":"1478181124.000630"},{"type":"message","user":"U0PB67X4K","text":"getting this error\n\n```\n09:24:41.057 [chaincode] launchAndWaitForRegister -&gt; DEBU 1c4 stopping due to error while launching Timeout expired while starting chaincode 6aed51f7804b40925659cc1107549ad6740286faa82a690f571790431cffc594cb2d2f35e2479a3ea28e1d6d6271dbcbbbaf762dd5f8b7423536ba1c2962ad3d(networkid:dev,peerid:jdoe,tx:lccc)\n09:24:41.116 [chaincode] Launch -&gt; ERRO 1c5 launchAndWaitForRegister failed Timeout expired while starting chaincode 6aed51f7804b40925659cc1107549ad6740286faa82a690f571790431cffc594cb2d2f35e2479a3ea28e1d6d6271dbcbbbaf762dd5f8b7423536ba1c2962ad3d(networkid:dev,peerid:jdoe,tx:lccc)\n--- FAIL: TestDeployAndInvoke (46.95s)\n\tendorser_test.go:291: Error deploying &lt;6aed51f7804b40925659cc1107549ad6740286faa82a690f571790431cffc594cb2d2f35e2479a3ea28e1d6d6271dbcbbbaf762dd5f8b7423536ba1c2962ad3d&gt;: Timeout expired while starting chaincode 6aed51f7804b40925659cc1107549ad6740286faa82a690f571790431cffc594cb2d2f35e2479a3ea28e1d6d6271dbcbbbaf762dd5f8b7423536ba1c2962ad3d(networkid:dev,peerid:jdoe,tx:lccc)\n```","ts":"1478181136.000631"},{"type":"message","user":"U0PB67X4K","text":"the image is created and seems like a container is launched","ts":"1478181152.000632"},{"type":"message","user":"U0ZJZBJLF","text":"what do the containers logs say?","ts":"1478181470.000633"},{"type":"message","user":"U0PB67X4K","text":"unfortunately they get deleted","ts":"1478181613.000634"},{"type":"message","user":"U0PB67X4K","text":"okay - I was able to capture the error - \n```\ngrpc: addrConn.resetTransport failed to create client transport: connection error: desc = \"transport: dial tcp 0.0.0.0:21212: getsockopt: connection refused\"; Reconnecting to {\"0.0.0.0:21212\" &lt;nil&gt;}\n```","ts":"1478181875.000635"},{"type":"message","user":"U0ZJZBJLF","text":"maybe the peer isn't listening to that port somehow?","ts":"1478182022.000636"},{"type":"message","user":"U0PB67X4K","text":"there's no such address really","ts":"1478182035.000637"},{"type":"message","user":"U0PB67X4K","text":"connecting to `0.0.0.0` does not work on many platforms","ts":"1478182052.000638"},{"type":"message","user":"U0ZJZBJLF","text":"oh","ts":"1478182057.000639"},{"type":"message","user":"U0PB67X4K","text":"listen - yes.  connect as client - no  :disappointed:","ts":"1478182071.000640"},{"type":"message","user":"U0ZJZBJLF","text":"makes sense","ts":"1478182076.000641"},{"type":"message","user":"U0ZJZBJLF","text":"I thought that was just a log print","ts":"1478182080.000642"},{"type":"message","user":"U0ZJZBJLF","text":"and it translates 0.0.0.0 to localhost or something","ts":"1478182093.000643"},{"type":"message","user":"U0PB67X4K","text":"but its even worse on the Mac because Docker runs in a hidden VM","ts":"1478182116.000644"},{"type":"message","user":"U0ULK2JPP","text":"<@U0PB67X4K> right, I was going to say INADDR_ANY may not be working as a connection address","ts":"1478182152.000645"},{"type":"message","user":"U0ULK2JPP","text":"one thing though","ts":"1478182161.000646"},{"type":"message","user":"U0PB67X4K","text":"anyway - I'll figure it out - glad I was able to predict the container name before it got deleted","ts":"1478182163.000647"},{"type":"message","user":"U0ULK2JPP","text":"`endorser_test.go:291` does not exist in latest master\u2026 and I don\u2019t see TestDeployAndInvoke there either","ts":"1478182190.000648"},{"type":"message","user":"U0PB67X4K","text":"this was from a patch - but I just ran i master and get the same basic timeout error","edited":{"user":"U0PB67X4K","ts":"1478182251.000000"},"ts":"1478182243.000649"},{"type":"message","user":"U0ULK2JPP","text":"right","ts":"1478182346.000651"},{"type":"message","user":"U0PB67X4K","text":"ok - so when I set the peer.address to my IP in endorser_test.yaml things worked","ts":"1478182491.000652"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1478182519.000653"},{"type":"message","user":"U0ULK2JPP","text":"perhaps we should use 127.0.0.1 there ?","ts":"1478182532.000654"},{"type":"message","user":"U0PB67X4K","text":"it would still fail on a Mac unfortunately","ts":"1478182553.000655"},{"type":"message","user":"U0PB67X4K","text":"because the containers technically run in a hidden vm","ts":"1478182572.000656"},{"type":"message","user":"U0ULK2JPP","text":"ah ok","ts":"1478182611.000657"},{"type":"message","user":"U0PB67X4K","text":"no worries - I'll think about it some more but I am over my issue - I can actually check the code  :wink:","ts":"1478182616.000658"},{"type":"message","user":"U0ULK2JPP","text":"don\u2019t I know it :slightly_smiling_face:","ts":"1478182654.000659"},{"type":"message","user":"U0KPFAZNF","text":"<@U0PB67X4K> fwiw, <@U0ULK2JPP> and I just fixed this all up","ts":"1478199508.000660"},{"type":"message","user":"U0KPFAZNF","text":"i have a patch queue in development that lets the build\/uts run on a native system (such as docker-for-mac) and we had to fix that issue","ts":"1478199535.000661"},{"type":"message","user":"U0KPFAZNF","text":"there was a bug in the UTs that was just getting lucky on vagrant","ts":"1478199557.000662"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2YHLDU6Q\/-.c|Untitled> and commented: <@U0PB67X4K>","file":{"id":"F2YHLDU6Q","created":1478199682,"timestamp":1478199682,"name":"-.c","title":"Untitled","mimetype":"text\/plain","filetype":"c","pretty_type":"C","user":"U0KPFAZNF","editable":true,"size":10537,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2YHLDU6Q\/-.c?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2YHLDU6Q\/download\/-.c?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2YHLDU6Q\/-.c","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F2YHLDU6Q-9ad735f6ac","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2YHLDU6Q\/-.c\/edit","preview":"commit 22c27a601f1104ce53b9106f21ecf74fda636dee\r\nAuthor: Gregory Haskins <gregory.haskins@gmail.com>\r\nDate:   Thu Nov 3 13:07:42 2016 -0400\r\n\r\n    Allow peer endpoints to be autodetected\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-variable\">commit<\/span> <span class=\"cm-number\">22<\/span><span class=\"cm-variable\">c27a601f1104ce53b9106f21ecf74fda636dee<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-variable\">Author<\/span>: <span class=\"cm-variable\">Gregory<\/span> <span class=\"cm-variable\">Haskins<\/span> <span class=\"cm-operator\">&lt;<\/span><span class=\"cm-variable\">gregory<\/span>.<span class=\"cm-variable\">haskins<\/span><span class=\"cm-variable\">@gmail<\/span>.<span class=\"cm-variable\">com<\/span><span class=\"cm-operator\">&gt;<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-variable\">Date<\/span>:   <span class=\"cm-variable\">Thu<\/span> <span class=\"cm-variable\">Nov<\/span> <span class=\"cm-number\">3<\/span> <span class=\"cm-number\">13<\/span>:<span class=\"cm-number\">07<\/span>:<span class=\"cm-number\">42<\/span> <span class=\"cm-number\">2016<\/span> <span class=\"cm-operator\">-<\/span><span class=\"cm-number\">0400<\/span><\/pre><\/div>\n<div><pre>&#8203;<\/pre><\/div>\n<div><pre>    <span class=\"cm-variable\">Allow<\/span> <span class=\"cm-variable\">peer<\/span> <span class=\"cm-variable\">endpoints<\/span> <span class=\"cm-variable\">to<\/span> <span class=\"cm-variable\">be<\/span> <span class=\"cm-variable\">autodetected<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":234,"lines_more":229,"preview_is_truncated":true,"channels":["C27E2LGJY"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc2X6C9K8R","created":1478199682,"timestamp":1478199682,"user":"U0KPFAZNF","is_intro":true,"comment":"<@U0PB67X4K>","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1478199683.000663"},{"type":"message","user":"U0KPFAZNF","text":"ill hopefully have this queue pushed to gerrit soon","ts":"1478199747.000664"},{"type":"message","user":"U0PB67X4K","text":"cool","ts":"1478201928.000665"},{"type":"message","user":"U2Y3JHRP1","text":"[Question]  \nHi everyone, I am trying to setup TLS connection between 2 docker validating nodes in my development environment. 2 validating nodes enabled TLS and adding self-signed certificate and key. However, I got an error message from non-root validating node about certificate signed by unknown authority. \nI don't want to get certificates from known CA on development phase, what can I do?\n\nThe followings are my changes to peer configuration and how to create my certificates:\n\n(1) core.yaml  changes:  ( they are the same on 2 validating nodes )\n\npeer:\n   tls:\n       enabled:  true\n       cert:\n           file: \"\/var\/hyperledger\/production\/.peer\/tls.pem\"\n       key:\n           file: \"\/var\/hyperledger\/production\/.peer\/tls.key\"\n\n(2) Root validating node: ( ip: 192.168.0.209 )\n\ndocker run \\\n    --name=vp0 \\\n    --restart=unless-stopped \\\n    -it \\\n    -p 192.168.0.209:7050:7050 \\\n    -p 192.168.0.209:7051:7051 \\\n    -p 192.168.0.209:7053:7053 \\\n    -e CORE_LOGGING_LEVEL=DEBUG \\\n    -e CORE_PEER_ID=vp0 \\\n    -e CORE_PEER_ADDRESSAUTODETECT=true \\\n    -e CORE_VM_ENDPOINT=<http:\/\/192.168.0.209:2375> \\\n    -e CORE_PEER_PKI_ECA_PADDR=192.168.0.209:7054 \\\n    -e CORE_PEER_PKI_TCA_PADDR=192.168.0.209:7054 \\\n    -e CORE_PEER_PKI_TLSCA_PADDR=192.168.0.209:7054 \\\n    -e CORE_SECURITY_ENABLED=true \\\n    -e CORE_SECURITY_PRIVACY=true \\\n    -e CORE_SECURITY_ENROLLID=test_vp0 \\\n    -e CORE_SECURITY_ENROLLSECRET=MwYpmSRjupbT \\\n    hyperledger\/fabric-peer peer node start\n\t\n\t\n(3) Non-root validating node: ( ip: 192.168.0.218 )\n\ndocker run \\\n    --name=vp1 \\\n    --restart=unless-stopped \\\n    -it \\\n    -p 192.168.0.218:7050:7050 \\\n    -p 192.168.0.218:7051:7051 \\\n    -p 192.168.0.218:7053:7053 \\\n    -e CORE_LOGGING_LEVEL=DEBUG \\\n    -e CORE_PEER_ID=vp1 \\\n    -e CORE_PEER_ADDRESSAUTODETECT=true \\\n    -e CORE_PEER_DISCOVERY_ROOTNODE=192.168.0.209:7051 \\\n    -e CORE_VM_ENDPOINT=<http:\/\/192.168.0.218:2375> \\\n    -e CORE_PEER_PKI_ECA_PADDR=192.168.0.209:7054 \\\n    -e CORE_PEER_PKI_TCA_PADDR=192.168.0.209:7054 \\\n    -e CORE_PEER_PKI_TLSCA_PADDR=192.168.0.209:7054 \\\n    -e CORE_SECURITY_ENABLED=true \\\n    -e CORE_SECURITY_PRIVACY=true \\\n    -e CORE_SECURITY_ENROLLID=test_vp2 \\\n    -e CORE_SECURITY_ENROLLSECRET=vQelbRvja7cJ \\\n    hyperledger\/fabric-peer peer node start\n\t\n\t\n(4) self-signed certificate :\n\nopenssl req -out ca.pem -new -x509\nopenssl genrsa -out tls.key 1024\nopenssl req -key tls.key -new -out tls.req\necho \"00\" &gt; file.srl\necho subjectAltName = IP:192.168.0.209 &gt; extfile.cnf\nopenssl x509 -req -in tls.req -CA ca.pem -CAkey privkey.pem -CAserial file.srl -out tls.pem -extfile extfile.cnf","ts":"1478224092.000668"},{"type":"message","user":"U0ZJZBJLF","text":"Search for a file key.pem and cert.pem in your folder tree <@U2Y3JHRP1> ","ts":"1478244881.000669"},{"type":"message","user":"U0PB67X4K","text":"<@U2Y3JHRP1> - so your two validating peers are able to connect ok?","ts":"1478266717.000670"},{"type":"message","user":"U2Y3JHRP1","text":"<@U0PB67X4K> they are able to connect without TLS setup.","ts":"1478272914.000671"},{"type":"message","user":"U0PB67X4K","text":"the easiest thing to do would be to concatenate the CA and TLS cert into a single file (with the CA first)","ts":"1478273626.000672"},{"type":"message","user":"U0PB67X4K","text":"<@U0UKTPMG8>  - are you using any REST calls with the v1.0 BDD tests?    If not, then it might be time to give REST the ax now - <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2035\/>","ts":"1478339531.000673"},{"type":"message","user":"U0W7D64LC","text":"bunch of new videos posted on <#C28M6TC90|playbacks> and our youtube channel at <https:\/\/www.youtube.com\/channel\/UCCFdgCWH_1vCndMPVqQlwZw> Check them out and subscribe\u2026 including how to name your chaincode, I know everyone has been looking forward to that.","attachments":[{"service_name":"YouTube","title":"Hyperledger Fabric","title_link":"https:\/\/www.youtube.com\/channel\/UCCFdgCWH_1vCndMPVqQlwZw","text":"Hyperledger fabric","fallback":"YouTube: Hyperledger Fabric","thumb_url":"https:\/\/yt3.ggpht.com\/-p3I4WZFQpKc\/AAAAAAAAAAI\/AAAAAAAAAAA\/nfXbn9j5Dao\/s900-c-k-no-mo-rj-c0xffffff\/photo.jpg","from_url":"https:\/\/www.youtube.com\/channel\/UCCFdgCWH_1vCndMPVqQlwZw","thumb_width":900,"thumb_height":900,"service_icon":"https:\/\/s.ytimg.com\/yts\/img\/favicon-vflz7uhzw.ico","id":1}],"ts":"1478540389.000674"},{"type":"message","user":"U1KFCPFQA","text":"<@U0ULK2JPP> <@U0UKTPMG8> I pulled the latest from master this morning, and now my committer service in peer won\u2019t start, any ideas?","edited":{"user":"U1KFCPFQA","ts":"1478610145.000000"},"ts":"1478609933.000676"},{"type":"message","user":"U1KFCPFQA","text":"12:58:49.002 [peer] ensureConnected -&gt; DEBU 0bb Starting Peer reconnect service (touch service), with period = 6s\n12:58:49.002 [noopssinglechain] NewCommitter -&gt; INFO 0bc Creating committer for single noops endorser\n12:58:49.002 [nodeCmd] serve -&gt; INFO 0bd Starting peer with ID=name:\"jdoe\" , network ID=dev, address=0.0.0.0:7051, rootnodes=, validator=true\nCould not start solo committer(EOF), continuing without committer","edited":{"user":"U1KFCPFQA","ts":"1478610040.000000"},"ts":"1478610022.000677"},{"type":"message","user":"U0ULK2JPP","text":"<@U1KFCPFQA> did you add CORE_PEER_COMMITTER_LEDGER_ORDERER=0.0.0.0:5151 to the peer command ?","ts":"1478611348.000680"},{"type":"message","user":"U0ULK2JPP","text":"(will try too with latest)","ts":"1478611435.000681"},{"type":"message","user":"U0ULK2JPP","text":"<@U1KFCPFQA> I\u2019m getting an error too","ts":"1478614073.000682"},{"type":"message","user":"U0ULK2JPP","text":"will check and update","ts":"1478614083.000683"},{"user":"U2PB5LKLG","text":"<@U2PB5LKLG|drasko> has joined the channel","type":"message","subtype":"channel_join","ts":"1478615525.000684"},{"type":"message","user":"U1KFCPFQA","text":"<@U0ULK2JPP> I re-pulled the latest from master and rebuilt order and peer.  Now it comes up, but transactions fail with error:","ts":"1478619565.000685"},{"type":"message","user":"U1KFCPFQA","text":"Error getting tx(proto: bad wiretype for field protos.Transaction2.Version: got wiretype 2, want 0)...dropping block","ts":"1478619568.000686"},{"type":"message","user":"U0ULK2JPP","text":"<@U1KFCPFQA>  correct","edited":{"user":"U0ULK2JPP","ts":"1478619818.000000"},"ts":"1478619786.000687"},{"type":"message","user":"U0ULK2JPP","text":"I see that too","ts":"1478619791.000688"},{"type":"message","user":"U0ULK2JPP","text":"will try to get a fix soon","ts":"1478619804.000689"},{"type":"message","user":"U1KFCPFQA","text":"<@U0ULK2JPP> I opened Jira defect: <https:\/\/jira.hyperledger.org\/browse\/FAB-1040>","ts":"1478633115.000691"},{"type":"message","user":"U0ULK2JPP","text":"thanks <@U1KFCPFQA>","ts":"1478633174.000692"},{"type":"message","user":"U0ULK2JPP","text":"<@U1KFCPFQA> fixed in <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2349\/>","ts":"1478642371.000693"},{"type":"message","user":"U0PB67X4K","text":"<@U0ULK2JPP>  - you good with <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2135\/14>  ?  Has 2 +2's but this is your area so want to make sure you are ok with it?","ts":"1478713437.000694"},{"type":"message","user":"U0ULK2JPP","text":"<@U0PB67X4K> <@U2M3WV6CA> was going to do one last check","ts":"1478719338.000695"},{"user":"U2M3WV6CA","inviter":"U0ULK2JPP","text":"<@U2M3WV6CA|alessandro> has joined the channel","type":"message","subtype":"channel_join","ts":"1478719346.000696"},{"type":"message","user":"U0ULK2JPP","text":"should be soon please ?","ts":"1478719360.000697"},{"type":"message","user":"U0PB67X4K","text":"that's why I left it to you  :wink:","ts":"1478719363.000698"},{"type":"message","user":"U0ULK2JPP","text":"sure, will take care of it","ts":"1478719438.000699"},{"type":"message","user":"U2M3WV6CA","text":"<@U0ULK2JPP> I think you\u2019ve mistaken me with alessandro sorniotti","ts":"1478721062.000700"},{"type":"message","user":"U2M3WV6CA","text":"from the gerrit link","ts":"1478721088.000701"},{"type":"message","user":"U0ULK2JPP","text":"oops sorry <@U2M3WV6CA> I did mean <@U26T99AQ4>","ts":"1478721123.000702"},{"type":"message","user":"U0PB67X4K","text":"<@U0ULK2JPP>  <@U0UKTPMG8>  are we using core\/discovery anymore?","ts":"1478721358.000703"},{"type":"message","user":"U0ULK2JPP","text":"<@U0PB67X4K> Is certainly imported in peer. It may have dependencies with behave tests. Wait for <@U0UKTPMG8> ?","ts":"1478721599.000706"},{"type":"message","user":"U0PB67X4K","text":"ok","ts":"1478721685.000707"},{"type":"message","user":"U0PB67X4K","text":"","attachments":[{"fallback":"[November 10th, 2016 7:06 AM] garisingh: Sorry for the wide blast here, but while I was reviewing stuff, thought I should send out a note on things which will make life easier for the maintainers and will help contributions be merged more quickly:\n\n1) Please make sure to reference a JIRA item in your commits - especially for new functionality\n\n2) Let's try to add a little more detail to some of the JIRA entries - one line entries \/ descriptions don't help us understand what contribution is trying to achieve\n\n3) When people make comments in gerrit, once you address them please mark them as done (by clicking in the comment and hitting done  :slightly_smiling_face:  )\n\n4) You'll notice that we push back a lot on lack of tests - please test locally and use a coverage tool to see where you stand\n\n5) Run linters, go import, etc to reduce CI failures","ts":"1478779599.000514","author_subname":"garisingh","channel_id":"C29512UHF","channel_name":"fabric-sdk-node-dev","is_msg_unfurl":true,"text":"Sorry for the wide blast here, but while I was reviewing stuff, thought I should send out a note on things which will make life easier for the maintainers and will help contributions be merged more quickly:\n\n1) Please make sure to reference a JIRA item in your commits - especially for new functionality\n\n2) Let's try to add a little more detail to some of the JIRA entries - one line entries \/ descriptions don't help us understand what contribution is trying to achieve\n\n3) When people make comments in gerrit, once you address them please mark them as done (by clicking in the comment and hitting done  :slightly_smiling_face:  )\n\n4) You'll notice that we push back a lot on lack of tests - please test locally and use a coverage tool to see where you stand\n\n5) Run linters, go import, etc to reduce CI failures","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/garisingh","author_icon":"https:\/\/avatars.slack-edge.com\/2016-09-10\/78323915894_521dc680194c08b166e0_48.jpg","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-sdk-node-dev\/p1478779599000514","is_share":true,"footer":"Posted in #fabric-sdk-node-dev"}],"ts":"1478779678.000708"},{"user":"U1D89DP47","text":"<@U1D89DP47|subzer0> has joined the channel","type":"message","subtype":"channel_join","ts":"1478981843.000709"},{"type":"message","user":"U2Y3JHRP1","text":"Quick Concept Question: \nDoes the POST \/registrar API authenticate the validating node instead of the client connects to validating node?\nIf I want to authenticate every client connect to validating node, what could I do?","ts":"1479101625.000710"},{"user":"U2QLU433N","text":"<@U2QLU433N|msoumeit> has joined the channel","type":"message","subtype":"channel_join","ts":"1479150803.000711"},{"type":"message","user":"U0PB67X4K","text":"<@U2Y3JHRP1>   - not sure I totally understand the question, but <https:\/\/jira.hyperledger.org\/browse\/FAB-2> - read my comment and it will explain exactly what happens when you use the REST API to \"login\" to a peer","ts":"1479215380.000712"},{"user":"U1ES70KQS","text":"<@U1ES70KQS|pschnap> has joined the channel","type":"message","subtype":"channel_join","ts":"1479218405.000713"},{"type":"message","user":"U184J2R7S","text":"A few of us met to talk about genesis and other topics- so copying notes from the meeting to share more broadly","ts":"1479236941.000714"},{"type":"message","user":"U184J2R7S","text":"1. Genesis tx of channels should contain at least one entry point \/ anchor address\n        - Anchor peer: the peer responsible for getting updates from the ordering\n          service on a certain channel transactions and routing them to that channel's gossip\n         network; anchor peer is either defined by a domain name, so that it is easily substitutable.\n         Domain names are included in the certs.\n        - Approach 1: \n                a) anchor peers defined by the configuration application and included \n                in the genesis block of a channel\n                b) Configuration application sends join channel request to all the \n                peers they want to obtain updates on that channel\n                c) Peers with a JoinChannel request contact the ordering service to\n                get the genesis block\n                d) Because genesis block contains anchor peers, the peer knows which \n                anchor peer to contact for that channel.\n        - Approach 2: \n                anchor peers are defined with the rest of participant peers that \n                participate in a channel at genesis time.","ts":"1479236956.000715"},{"type":"message","user":"U184J2R7S","text":"- Approach 3:\n                a) anchor peers defined by the configuration application and included \n                in the genesis block of a channel\n                b) Configuration application sends join channel request to all the \n                peers they want to obtain updates on that channel with the anchor peers\n                c) Peers with a JoinChannel request contact the anchor peer to get updates\n                on that chainnel\n                d) Because genesis block contains anchor peers, the peer verifies the anchor\n                id in the genesis block, while the anchor peer knows what are the peers it\n                will gossip channel updates.\n                e) Trust is put to the few anchor peers.\n\n        Note: authentication of server side of anchor peers; how is this done?\n        Overall leaning to approach 3.\n\n\n2. Bootstrap\n        - Orderer: MSPs, orderers, Policies =&gt; config block\n        - Peer: ID, {IP: port, msp keystore} =&gt; yaml; the rest can be added after the peer has rebooted.\n\nCurrently an endorser processes all proposals it receives even if they refer to chaincodes they are not \nin their endorsement policy in. \nEndorsement policies should be possible to be based on participant identities.\n\n\n\n3. Genesis tx of channels participant information \n        Each channel has its own MSPs and their names have as namespace the name of the\n        channel they belong to. Genesis of each channel would need to contain the full definition of an MSP.\n\n4. Q: Do we have the orderers process all configuration tx-s and filter out invalid ones \n   before sending this to each channel? There was a remark from Jason that orderers filter out \n   invalid config transacitons before handing these to the endorser network. This is to be further discuss to my understanding.\n\n5. Endorser epoch re-definition:\n        - epoch numbers are defined in a sliding window manner \n        - epoch starting point (in terms of block number) is added by the (submitting) peer to what is endorsed\n        - epoch size is a config parameter\n        - clients send to rest of peers a proposal that includes the epoch starting point as received by submitting peer\n        - endorsers need to check if the starting point of epoch (included in the proposal) + epoch window &lt; current block number and then respond\n        - change on the protocol required from the client to peer to include an optional epoch number in the proposal\n         ( same spirit as with the simulation results) \n        \n\n6. Revocation: OCSP based verification ; could have asynchrony problems but maybe turn \n   out to be a solution in certain cases.\n         - we start with CRLs advertised in the Blockchain and we see where we go from \n          there\n\n7. DeliverRequest authentication \n      Replay attack for deliver requests is important, as anyone who can replay the deliver request to a peer would\n      essentially be able to bypass the ACLs associated to that channel.\n\n    To avoid this TLS (that already implements replay attack protection) should be enabled, and at the application layer we use TLS binding in the deliver request signature. \n\n      The same notion can be used everywhere in the gossip network.\n\n--------------------------\n\nOther Questions related to these items:\n - Do we want to hide history of chain to new participants?\n - Why do we need per key-value per sig on config tx-s?","ts":"1479236974.000716"},{"user":"U0XQ35CDD","text":"<@U0XQ35CDD|kostas> has joined the channel","type":"message","subtype":"channel_join","ts":"1479237602.000717"},{"type":"message","user":"U0ZJZBJLF","text":"Can I comment on the approaches?","ts":"1479239418.000718"},{"type":"message","user":"U0ZJZBJLF","text":"I don't understand something- the fact that an anchor peer is the only thing that connects the channel to the ordering service means that if that peer dies, until an anchor peer comes to the channel's rescue to replace that anchor peer (as it is said: \"anchor peer is either defined by a domain name\") - the channel is essentially starved from blocks. \nIn order to replace the anchor peer you need the channel's operation guys \/ systems to detect that the anchor peer is dead, and is going to stay dead, and then either resurrect it, or raise another anchor peer with the same ip, or raise a different one with a different ip and change the DNS. These high-availability issues can be solved *for free* if you let the gossip layer handle that.\nOffloading the problem to the local operation teams and systems\/scripts is not a good idea IMO, it will only cause customers to claim that fabric is fragile.","edited":{"user":"U0ZJZBJLF","ts":"1479239977.000000"},"ts":"1479239431.000719"},{"type":"message","user":"U0ZJZBJLF","text":"and there is another thing that isn't clarified- an anchor peer is defined in the configuration per organization, right? for example- if a channel has 3 orgs, then there will be 3 anchor peers, right?","ts":"1479239483.000720"},{"type":"message","user":"U1HFNJB50","text":"I think from what I remember <@U0KN2SSKE>  told yesterday, if chain has 3 orgs, it doesn\u2019t have to have 3 anchors peers","edited":{"user":"U1HFNJB50","ts":"1479239712.000000"},"ts":"1479239692.000721"},{"type":"message","user":"U0ZJZBJLF","text":"so isn't that another problem? you trust a different organization to feed you with data blocks. \nBut besides that, there is yet another problem I see: channels are a logical thing. Applications could create in total a very large number of channels, for example, if an org has 100 peers, you could have maybe 100 channels as well, and that means 100 different anchor peers. Where is the concern of scalability in that?","ts":"1479239879.000723"},{"type":"message","user":"U1HFNJB50","text":"but you trust it anyway","ts":"1479240111.000725"},{"type":"message","user":"U1HFNJB50","text":"eventually with gossip you will have block coming from other orgs anyway","ts":"1479240137.000726"},{"type":"message","user":"U1HFNJB50","text":"the truth is that they can take control over your peers","ts":"1479240158.000727"},{"type":"message","user":"U1HFNJB50","text":"also I think the notion on anchors peers is to participate in many chains","ts":"1479240201.000728"},{"type":"message","user":"U0ZJZBJLF","text":"But how if the application configures them and applications don't \"see\" each other?","ts":"1479240233.000729"},{"type":"message","user":"U1HFNJB50","text":"not sure I\u2019m following your question","ts":"1479240396.000730"},{"type":"message","user":"U1HFNJB50","text":"<@U0KN2SSKE>, <@U0ULK2JPP>, <@U0PB67X4K> I think that <@U0ZJZBJLF> brings good points and questions, can you please help clarifying things for him?","ts":"1479240501.000731"},{"type":"message","user":"U0ZJZBJLF","text":"What I mean- you can't expect applications that share peers of fabric to cooperate with one another on selecting and agreeing with the same anchor peers.","ts":"1479240560.000732"},{"type":"message","user":"U1HFNJB50","text":"but application by the end of the day creates channel to make orgs to communicate","edited":{"user":"U1HFNJB50","ts":"1479240743.000000"},"ts":"1479240732.000733"},{"type":"message","user":"U1HFNJB50","text":"so do would expect application to make sure orgs will be connected","ts":"1479240776.000735"},{"type":"message","user":"U0ZJZBJLF","text":"but the people who make applications can not know one another, therefore- have no way of agreeing on the same anchor peers.","ts":"1479240824.000736"},{"type":"message","user":"U0ZJZBJLF","text":"in order to for app `A` to select the same anchor peer as app `B` you need some sort of registry","ts":"1479240846.000737"},{"type":"message","user":"U0ZJZBJLF","text":"I think this approach is really an overkill and the best thing is to simply let us (gossip) to handle all that selection","ts":"1479240868.000738","reactions":[{"name":"+1","users":["U1HFNJB50"],"count":1}]},{"type":"message","user":"U0ZJZBJLF","text":"and this gives you the benefit of free HA","ts":"1479240891.000739"},{"type":"message","user":"U1HFNJB50","text":"but even w\/ gossip, you still need to maintain the bootstrap set of peers, right?","ts":"1479240967.000740"},{"type":"message","user":"U1HFNJB50","text":"it sounds to me like same sort of problem","ts":"1479240991.000741"},{"type":"message","user":"U0ZJZBJLF","text":"1) That depends on the way the peer are set up. If for example you know the hostnames and ports of all peers beforehand you could make the bootstrap set of all peers be all the peers, and that's it.\n2) If you have 10 bootstrap peers, you greatly minimize the risk in comparison to having 1 anchor peer. 10 peers are more resilient than 1","edited":{"user":"U0ZJZBJLF","ts":"1479241114.000000"},"ts":"1479241104.000742"},{"type":"message","user":"U1HFNJB50","text":"you\u2019re going to have one anchor peer per org","ts":"1479241161.000744"},{"type":"message","user":"U1HFNJB50","text":"so it won\u2019t be only one","ts":"1479241169.000745"},{"type":"message","user":"U0ZJZBJLF","text":"it is. one. per. org","ts":"1479241190.000746"},{"type":"message","user":"U1HFNJB50","text":"and yes it kind of assumes the anchor peers never dies","edited":{"user":"U1HFNJB50","ts":"1479241217.000000"},"ts":"1479241201.000747","reactions":[{"name":"grin","users":["U0YP7KFGQ"],"count":1}]},{"type":"message","subtype":"pinned_item","user":"U1HFNJB50","item_type":"C","attachments":[{"fallback":"[November 15th, 2016 11:09 AM] weeds: 1. Genesis tx of channels should contain at least one entry point \/ anchor address\n        - Anchor peer: the peer responsible for getting updates from the ordering\n          service on a certain channel transactions and routing them to that channel's gossip\n         network; anchor peer is either defined by a domain name, so that it is easily substitutable.\n         Domain names are included in the certs.\n        - Approach 1: \n                a) anchor peers defined by the configuration application and included \n                in the genesis block of a channel\n                b) Configuration application sends join channel request to all the \n                peers they want to obtain updates on that channel\n                c) Peers with a JoinChannel request contact the ordering service to\n                get the genesis block\n                d) Because genesis block contains anchor peers, the peer knows which \n                anchor peer to contact for that channel.\n        - Approach 2: \n                anchor peers are defined with the rest of participant peers that \n                participate in a channel at genesis time.","ts":"1479236956.000715","author_subname":"weeds","channel_id":"C27E2LGJY","channel_name":"fabric-peer-dev","is_msg_unfurl":true,"text":"1. Genesis tx of channels should contain at least one entry point \/ anchor address\n        - Anchor peer: the peer responsible for getting updates from the ordering\n          service on a certain channel transactions and routing them to that channel's gossip\n         network; anchor peer is either defined by a domain name, so that it is easily substitutable.\n         Domain names are included in the certs.\n        - Approach 1: \n                a) anchor peers defined by the configuration application and included \n                in the genesis block of a channel\n                b) Configuration application sends join channel request to all the \n                peers they want to obtain updates on that channel\n                c) Peers with a JoinChannel request contact the ordering service to\n                get the genesis block\n                d) Because genesis block contains anchor peers, the peer knows which \n                anchor peer to contact for that channel.\n        - Approach 2: \n                anchor peers are defined with the rest of participant peers that \n                participate in a channel at genesis time.","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/weeds","author_icon":"https:\/\/secure.gravatar.com\/avatar\/a235e152d57aff17c7adae8c427e59b9.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-48.png","mrkdwn_in":["text"]}],"text":"<@U1HFNJB50|c0rwin> pinned a message to this channel.","ts":"1479241549.000749"},{"type":"message","subtype":"pinned_item","user":"U1HFNJB50","item_type":"C","attachments":[{"fallback":"[November 15th, 2016 11:09 AM] weeds: - Approach 3:\n                a) anchor peers defined by the configuration application and included \n                in the genesis block of a channel\n                b) Configuration application sends join channel request to all the \n                peers they want to obtain updates on that channel with the anchor peers\n                c) Peers with a JoinChannel request contact the anchor peer to get updates\n                on that chainnel\n                d) Because genesis block contains anchor peers, the peer verifies the anchor\n                id in the genesis block, while the anchor peer knows what are the peers it\n                will gossip channel updates.\n                e) Trust is put to the few anchor peers.\n\n        Note: authentication of server side of anchor peers; how is this done?\n        Overall leaning to approach 3.\n\n\n2. Bootstrap\n        - Orderer: MSPs, orderers, Policies =&gt; config block\n        - Peer: ID, {IP: port, msp keystore} =&gt; yaml; the rest can be added after the peer has rebooted.\n\nCurrently an endorser processes all proposals it receives even if they refer to chaincodes they are not \nin their endorsement policy in. \nEndorsement policies should be possible to be based on participant identities.\n\n\n\n3. Genesis tx of channels participant information \n        Each channel has its own MSPs and their names have as namespace the name of the\n        channel they belong to. Genesis of each channel would need to contain the full definition of an MSP.\n\n4. Q: Do we have the orderers process all configuration tx-s and filter out invalid ones \n   before sending this to each channel? There was a remark from Jason that orderers filter out \n   invalid config transacitons before handing these to the endorser network. This is to be further discuss to my understanding.\n\n5. Endorser epoch re-definition:\n        - epoch numbers are defined in a sliding window manner \n        - epoch starting point (in terms of block number) is added by the (submitting) peer to what is endorsed\n        - epoch size is a config parameter\n        - clients send to rest of peers a proposal that includes the epoch starting point as received by submitting peer\n        - endorsers need to check if the starting point of epoch (included in the proposal) + epoch window &lt; current block number and then respond\n        - change on the protocol required from the client to peer to include an optional epoch number in the proposal\n         ( same spirit as with the simulation results) \n        \n\n6. Revocation: OCSP based verification ; could have asynchrony problems but maybe turn \n   out to be a solution in certain cases.\n         - we start with CRLs advertised in the Blockchain and we see where we go from \n          there\n\n7. DeliverRequest authentication \n      Replay attack for deliver requests is important, as anyone who can replay the deliver request to a peer would\n      essentially be able to bypass the ACLs associated to that channel.\n\n    To avoid this TLS (that already implements replay attack protection) should be enabled, and at the application layer we use TLS binding in the deliver request signature. \n\n      The same notion can be used everywhere in the gossip network.\n\n--------------------------\n\nOther Questions related to these items:\n - Do we want to hide history of chain to new participants?\n - Why do we need per key-value per sig on config tx-s?","ts":"1479236974.000716","author_subname":"weeds","channel_id":"C27E2LGJY","channel_name":"fabric-peer-dev","is_msg_unfurl":true,"text":"- Approach 3:\n                a) anchor peers defined by the configuration application and included \n                in the genesis block of a channel\n                b) Configuration application sends join channel request to all the \n                peers they want to obtain updates on that channel with the anchor peers\n                c) Peers with a JoinChannel request contact the anchor peer to get updates\n                on that chainnel\n                d) Because genesis block contains anchor peers, the peer verifies the anchor\n                id in the genesis block, while the anchor peer knows what are the peers it\n                will gossip channel updates.\n                e) Trust is put to the few anchor peers.\n\n        Note: authentication of server side of anchor peers; how is this done?\n        Overall leaning to approach 3.\n\n\n2. Bootstrap\n        - Orderer: MSPs, orderers, Policies =&gt; config block\n        - Peer: ID, {IP: port, msp keystore} =&gt; yaml; the rest can be added after the peer has rebooted.\n\nCurrently an endorser processes all proposals it receives even if they refer to chaincodes they are not \nin their endorsement policy in. \nEndorsement policies should be possible to be based on participant identities.\n\n\n\n3. Genesis tx of channels participant information \n        Each channel has its own MSPs and their names have as namespace the name of the\n        channel they belong to. Genesis of each channel would need to contain the full definition of an MSP.\n\n4. Q: Do we have the orderers process all configuration tx-s and filter out invalid ones \n   before sending this to each channel? There was a remark from Jason that orderers filter out \n   invalid config transacitons before handing these to the endorser network. This is to be further discuss to my understanding.\n\n5. Endorser epoch re-definition:\n        - epoch numbers are defined in a sliding window manner \n        - epoch starting point (in terms of block number) is added by the (submitting) peer to what is endorsed\n        - epoch size is a config parameter\n        - clients send to rest of peers a proposal that includes the epoch starting point as received by submitting peer\n        - endorsers need to check if the starting point of epoch (included in the proposal) + epoch window &lt; current block number and then respond\n        - change on the protocol required from the client to peer to include an optional epoch number in the proposal\n         ( same spirit as with the simulation results) \n        \n\n6. Revocation: OCSP based verification ; could have asynchrony problems but maybe turn \n   out to be a solution in certain cases.\n         - we start with CRLs advertised in the Blockchain and we see where we go from \n          there\n\n7. DeliverRequest authentication \n      Replay attack for deliver requests is important, as anyone who can replay the deliver request to a peer would\n      essentially be able to bypass the ACLs associated to that channel.\n\n    To avoid this TLS (that already implements replay attack protection) should be enabled, and at the application layer we use TLS binding in the deliver request signature. \n\n      The same notion can be used everywhere in the gossip network.\n\n--------------------------\n\nOther Questions related to these items:\n - Do we want to hide history of chain to new participants?\n - Why do we need per key-value per sig on config tx-s?","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/weeds","author_icon":"https:\/\/secure.gravatar.com\/avatar\/a235e152d57aff17c7adae8c427e59b9.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-48.png","mrkdwn_in":["text"]}],"text":"<@U1HFNJB50|c0rwin> pinned a message to this channel.","ts":"1479241557.000750"},{"user":"U0N4P17ND","text":"<@U0N4P17ND|oiakovlev> has joined the channel","type":"message","subtype":"channel_join","ts":"1479247100.000751"},{"user":"U0MRY2LKY","text":"<@U0MRY2LKY|troyronda> has joined the channel","type":"message","subtype":"channel_join","ts":"1479258843.000752"},{"user":"U11MANG9G","text":"<@U11MANG9G|jonathanlevi> has joined the channel","type":"message","subtype":"channel_join","ts":"1479261635.000753"},{"user":"U2L125QGL","text":"<@U2L125QGL|madhavi> has joined the channel","type":"message","subtype":"channel_join","ts":"1479280154.000754"},{"user":"U0YM41HA5","text":"<@U0YM41HA5|mandler> has joined the channel","type":"message","subtype":"channel_join","ts":"1479281907.000755"},{"type":"message","user":"U0YM41HA5","text":"The way we thought about it in the context of gossip:\n1. Gossip selects internally a leader peer for every organization (Member) - equivalent to an anchor peer\n\n2. The leader connects to the ordering service on behalf of the organization\n\n3. JoinChannel is invoked on a peer - the information is propagated within the organization peers, and in particular reaches the organization leader which invokes Deliver() on the ordering service\n\n4. Blocks flow from the ordering service through the leader and are gossiped to all registered peers in the organization\n\n5. Information on peer inclusion in a channel is gossiped with all other peers in the designated organizations\n\n6. State transfer \/ synchronization within a channel can take place across organizations belonging to the same channel\n\n7. Upon a leader failure a new one is selected within the organization and connects to the ordering service on behalf of all registered channels\n\nMore detailed information can be found in the gossip design document: <https:\/\/docs.google.com\/document\/d\/157AvKxVRqgeaCTSpN86ICa5x-XihZ67bOrNMc5xLvEU\/edit#heading=h.rrii36vrca54>","ts":"1479287400.000756"},{"type":"message","user":"U0YP7KFGQ","text":"I still trying to understand how change in peer set will be handled - for example, newly created peer should participate in channel. Will configuration application send new join channel request to all peers who already in channel, to let them know about new peer? And if peer went down forever - should new request be send as well?  \nAnd regarding Approach 1.d - why peers should contact anchor peer at all?","ts":"1479288913.000758"},{"user":"U2W7U5UA3","text":"<@U2W7U5UA3|pd93> has joined the channel","type":"message","subtype":"channel_join","ts":"1479289085.000759"},{"user":"U0YMACQSW","text":"<@U0YMACQSW|vita> has joined the channel","type":"message","subtype":"channel_join","ts":"1479294199.000760"},{"type":"message","user":"U1KFCPFQA","text":"<@U0KN2SSKE> <@U0ULK2JPP> <@U13TWBRBL> Are the latest end-to-end instructions still the attachment in Binh's forum email:\n<https:\/\/lists.hyperledger.org\/pipermail\/hyperledger-fabric\/2016-October\/000421.html>\nThe attachment at the bottom is:\n<http:\/\/lists.hyperledger.org\/pipermail\/hyperledger-fabric\/attachments\/20161022\/d3860afb\/attachment.obj>","ts":"1479298014.000761"},{"user":"U13TWBRBL","inviter":"U1KFCPFQA","text":"<@U13TWBRBL|jzhang> has joined the channel","type":"message","subtype":"channel_join","ts":"1479298028.000762"},{"type":"message","user":"U1KFCPFQA","text":"We should probably move these instructions to the new wiki?  They use CLI.... are we to the point where the instructions should be modified to use SDK instead? Or would that cause extra work for people doing quick end-to-end trials?","ts":"1479298113.000763"},{"type":"message","user":"U0ULK2JPP","text":"<@U1KFCPFQA> \u2026 the instructions have been modified","edited":{"user":"U0ULK2JPP","ts":"1479300111.000000"},"ts":"1479300046.000764"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F33V961LN\/simple_test_with_skeletal_peer.md|simple_test_with_skeletal_peer.md> and commented: These are the new instructrions. They use chaincode name, correct some things and also add note to say the solo orderer waits for about 10 seconds to batch transactions to send to committer","file":{"id":"F33V961LN","created":1479300236,"timestamp":1479300236,"name":"simple_test_with_skeletal_peer.md","title":"simple_test_with_skeletal_peer.md","mimetype":"text\/plain","filetype":"markdown","pretty_type":"Markdown (raw)","user":"U0ULK2JPP","editable":true,"size":4025,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F33V961LN\/simple_test_with_skeletal_peer.md?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F33V961LN\/download\/simple_test_with_skeletal_peer.md?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F33V961LN\/simple_test_with_skeletal_peer.md","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F33V961LN-372e82e06e","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F33V961LN\/simple_test_with_skeletal_peer.md\/edit","preview":"# V1.0 Skeletal Environment\nThe V1.0 work is on its way (please see https:\/\/jira.hyperledger.org\/browse\/FAB-37 for details).\n\nThe approach being taken is to have a skeletal implementation in with minimal component hookups to enable\n","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-header cm-header-1\"># <\/span><span class=\"cm-header cm-header-1\">V1.0<\/span><span class=\"cm-header cm-header-1\"> <\/span><span class=\"cm-header cm-header-1\">Skeletal<\/span><span class=\"cm-header cm-header-1\"> <\/span><span class=\"cm-header cm-header-1\">Environment<\/span><\/pre><\/div>\n<div><pre>The V1.0 work is on its way (please see https:\/\/jira.hyperledger.org\/browse\/FAB-37 for details).<\/pre><\/div>\n<div><pre>&#8203;<\/pre><\/div>\n<div><pre>The approach being taken is to have a skeletal implementation in with minimal component hookups to enable<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":85,"lines_more":80,"preview_is_truncated":true,"channels":["C27E2LGJY"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc32JZAV5X","created":1479300236,"timestamp":1479300236,"user":"U0ULK2JPP","is_intro":true,"comment":"These are the new instructrions. They use chaincode name, correct some things and also add note to say the solo orderer waits for about 10 seconds to batch transactions to send to committer","channel":""},"num_stars":1},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1479300237.000766"},{"type":"message","user":"U0ULK2JPP","text":"also agree on both moving to Wiki and adding SDK instructions if ready","ts":"1479300286.000767"},{"type":"message","user":"U0ULK2JPP","text":"will try to get the former done today","ts":"1479300390.000768"},{"user":"U1B2FF8LR","text":"<@U1B2FF8LR|scottz> has joined the channel","type":"message","subtype":"channel_join","ts":"1479305280.000769"},{"user":"U0XPR4NP4","text":"<@U0XPR4NP4|jyellick> has joined the channel","type":"message","subtype":"channel_join","ts":"1479307149.000770"},{"type":"message","user":"U2L125QGL","text":"I am getting error while try to interact two  peers like this :Error: http2Client.notifyError got notified that the client transport was broken EOF.\n09:23:45.257 [peer] chatWithPeer -&gt; ERRO 031 Error establishing chat with peer address 192.168.1.117:7051: rpc error: code = 13 desc = transport is closing","ts":"1479375293.000773"},{"type":"message","user":"U1KFCPFQA","text":"<@U0ULK2JPP> <@U0KN2SSKE> <@U13TWBRBL> <@U0ZR63HLK> <@U0XPR4NP4> <@U0Z541B3P>  and all - Do we have an algorithm implemented yet for txid?  I believe the intent is still to hash the transaction itself to form the txid.  Should the txid be included in the transaction protos and sent with the transaction to ordering, or leave it up to each component to derive it each time it is needed?  Would be nice to see the txid in the protos, if nothing else for troubleshooting\/traceability purpose.","ts":"1479384832.000774"},{"type":"message","user":"U1KFCPFQA","text":"And another question while I have you - do we have serialization\/deserialization implemented for the new block structure yet?  I believe that was the last piece needed before ledger switched from Block2 to the new Block.","ts":"1479384884.000775"},{"type":"message","user":"U0ZR63HLK","text":"I remember there has been a discussion about txid and how to generate it. Tamas brought up the issue to avoid crypto related fields (creator, signature, etc.) because they can have ambiguous representations and I agreed with that consideration.","ts":"1479385285.000776"},{"type":"message","user":"U0ULK2JPP","text":"<@U1KFCPFQA> `Should the txid be included in the transaction protos and sent with the transaction to ordering, or leave it up to each component to derive it each time it is needed?  Would be nice to see the txid in the protos, if nothing else for troubleshooting\/traceability purpose.`","ts":"1479387577.000777"},{"type":"message","user":"U0ULK2JPP","text":"<@U1KFCPFQA> I like txid being in the Transaction. There are couple of options (1) endorser can set it on proposal response or (2) SDK can set it\u2026","ts":"1479387736.000780"},{"type":"message","user":"U0ULK2JPP","text":"<@U13TWBRBL> <@U0KQ9QKH6> also had some thoughts about TID","ts":"1479387754.000781"},{"type":"message","user":"U13TWBRBL","text":"<@U1KFCPFQA> <@U0ULK2JPP> <@U0KQ9QKH6> we\u2019d prefer for the SDK to set it, so that in the case of a transaction processing failure and the status is in an unknown state (think of the orderer or committer failures after successful submission but they could not send out the error before crashing), the application can catch the timeout on that and re-send the transaction with the same ID, this is the idea of idempotent design","ts":"1479394327.000784","reactions":[{"name":"+1","users":["U0ULK2JPP"],"count":1}]},{"type":"message","user":"U0ULK2JPP","text":"<@U1KFCPFQA> will checking for TID uniqueness be a performance hit ? I think it makes sense to check for it at both endorsement and commit time","ts":"1479394583.000785"},{"type":"message","user":"U0PB67X4K","text":"<@U13TWBRBL>  - well we'll need a deterministic way of creating non-colliding transactions id across clients","edited":{"user":"U0PB67X4K","ts":"1479394609.000000"},"ts":"1479394592.000786"},{"type":"message","user":"U0PB67X4K","text":"but in the end, you can only track once you send to the ordering service anyway","edited":{"user":"U0PB67X4K","ts":"1479394682.000000"},"ts":"1479394640.000788"},{"type":"message","user":"U0PB67X4K","text":"so why not have the endorser(s) create it for you?","ts":"1479394651.000789"},{"type":"message","user":"U0ULK2JPP","text":"<@U0PB67X4K> right\u2026 so to rephrase my above q\u2026 it\u2019ll be good to (1) have a deterministic way of creating (2) have a inexpensive way of checking at endorments and ommit time","ts":"1479394664.000790"},{"type":"message","user":"U0ULK2JPP","text":"having he endorser creating it would be good \u2026 however how about this case `end client (send TID) -&gt; SDK (sets TID) -&gt; endorser (verifies uniqueness)`","ts":"1479394730.000792"},{"type":"message","user":"U0ULK2JPP","text":"in this case SDK delegates it to end client\u2026 do we want to support that ?","ts":"1479394749.000793"},{"type":"message","user":"U0ULK2JPP","text":"or do we want to only support  `end client (does not generate TID) -&gt; SDK (sends proposal without TID)-&gt; endorser (sets TID)`","ts":"1479394847.000794"},{"type":"message","user":"U1KFCPFQA","text":"on the validation\/commit question, it would not be a significant perf hit to check that the txid hasnt been used previously during validation\/commit time, since we have an index in LevelDB on txid already (for now just a stub until the real txid is determined).  The index makes it a very fast lookup from LevelDB.  If we find a matching txid already on the ledger, we\u2019d mark the new tran as invalid.","edited":{"user":"U1KFCPFQA","ts":"1479395305.000000"},"ts":"1479395281.000795"},{"type":"message","user":"U0UKTPMG8","text":"<@U1KFCPFQA> would we need to check across chains?","ts":"1479396480.000797"},{"type":"message","user":"U0UKTPMG8","text":"ie ledgers","ts":"1479396487.000798"},{"type":"message","user":"U0KQ9QKH6","text":"<@U0PB67X4K> <@U0ULK2JPP> <@U1KFCPFQA> <@U13TWBRBL> : I tried to capture our thoughts in <https:\/\/jira.hyperledger.org\/browse\/FAB-792> for the txid generation. The proprosal\/endorsement phases are not shown","ts":"1479399520.000799"},{"type":"message","user":"U13TWBRBL","text":"<@U0PB67X4K> the expected interaction in the idempotent design is to have the client (browser, mobile app) first request the TxID from the server (running the app using the SDK), then use it to initiate the transaction (proposal then transaction). this 2-step flow pushes the state to the client to manage and allows it to re-initiate the transaction if it believes the server has failed in unknown ways (server didn\u2019t give a definitive yes or no event). we could have the orderer do that but it means the orderer would need new APIs to support the generation of txID (given the payload content) plus this doesn\u2019t feel like part of the orderer responsibilities.","ts":"1479405554.000800"},{"type":"message","user":"U13TWBRBL","text":"also, if the client sets it and it\u2019s guaranteed unique (like a UUID generator), then it\u2019ll be deterministic by default since it\u2019s only calculated by one source (the submitting client) right?","ts":"1479405625.000801"},{"type":"message","user":"U1KFCPFQA","text":"<@U0UKTPMG8> The transaction is scoped to a channel and I assume the channelid would be one of the items hashed upon to generate the txid, therefore I don\u2019t think we\u2019d need to check all the chains for prior existence of this txid, just the one chain associated with the targeted channel.","ts":"1479408855.000802"},{"type":"message","user":"U0PB67X4K","text":"<@U13TWBRBL>  - I did not want the orderer to create the transaction id - I was thinking that the endorser could actually do it and return it as part of a proposal response","ts":"1479410240.000803"},{"type":"message","user":"U13TWBRBL","text":"<@U0PB67X4K> ah my bad, mis-read your comment above. i guess we could rely on the Proposal step to generate the tx id, and the app can then return that to the client. if the app (where the SDK runs) or the endorser crashed and the client never got the response, it can always re-submit the proposal without causing any harm (the proposal API is idempotent by nature). then the client will have the tx ID in hand when it\u2019s ready to call the orderer to send in the transaction for processing, so that if the backends failed at this step, it\u2019ll be able to use this tx ID to re-construct a new transaction, thus making the whole process idempotent","ts":"1479410670.000804"},{"type":"message","user":"U13TWBRBL","text":"in this case, we do need a deterministic generation tx ID algo since all endorsers are calculating it","edited":{"user":"U13TWBRBL","ts":"1479410722.000000"},"ts":"1479410708.000805"},{"type":"message","user":"U0PB67X4K","text":"but I'm ok with the client generating it as well - was just a suggestion to eliminate having to do it on the client side although I can see the advantage of doing it on the client side as well","ts":"1479410763.000807"},{"type":"message","user":"U13TWBRBL","text":"well thanks man :grinning:","ts":"1479410804.000808","reactions":[{"name":"stuck_out_tongue_winking_eye","users":["U0PB67X4K"],"count":1}]},{"type":"message","user":"U13TWBRBL","text":"do you know if UUID is unique enough across all channels?","ts":"1479410839.000809"},{"type":"message","user":"U0PB67X4K","text":"I think most implementations of UUIDv4 take into account the host they are generated on so typically there should not be any collision","ts":"1479410895.000810"},{"type":"message","user":"U13TWBRBL","text":"hash(proposal payload + timestamp + channel) may not be unique enough i\u2019m afraid","ts":"1479410909.000811"},{"type":"message","user":"U13TWBRBL","text":"ok great","ts":"1479410912.000812"},{"type":"message","user":"U0ULK2JPP","text":"So <@U1KFCPFQA> <@U13TWBRBL> <@U0KQ9QKH6> <@U0PB67X4K> \u2026. seems like we want to have a TID in the Transaction and the remaining question is should it be set by Endorser or SDK","ts":"1479417202.000813"},{"type":"message","user":"U0ULK2JPP","text":"correct ?","ts":"1479417210.000814"},{"type":"message","user":"U13TWBRBL","text":"correct. we are leaning toward having the SDK generate it instead of the endorsers to avoid having to worry about deterministic algos","ts":"1479417313.000815"},{"type":"message","user":"U0ULK2JPP","text":"but then then the fabric still have to make sure the TID is unique","ts":"1479418889.000816"},{"type":"message","user":"U1BC5A0F9","text":"Could we not potentially use the tx hash?","ts":"1479436994.000817"},{"type":"message","user":"U0KN2SSKE","text":"we discussed this at length before \u2014 the tx-id should be generated by the client app when it calls the sdk to initiate the transaction (to overcome issues mentioned in fab-792);  the method is up to the client app, but the tx-id must be globally unique.","ts":"1479438663.000818"},{"user":"U350X8JMD","text":"<@U350X8JMD|ypqu> has joined the channel","type":"message","subtype":"channel_join","ts":"1479458782.000819"},{"type":"message","user":"U12452RAP","text":"i saw the document about endorser, it describe client must collect enough endorsement. How to understand'enough' here","ts":"1479563274.000820"},{"type":"message","user":"U0ULK2JPP","text":"<@U12452RAP> it is driven by some policy enforced by the application. You can imagine for a bilateral contract both endorsers shoud have endorsed. And for a multiparty (say \u201cvoting\u201d) some % should have endorsed. Another policy could be 2 out of 3 endorsers AND an \u201coverseer\u201d endorser","ts":"1479566449.000825"},{"type":"message","user":"U13TWBRBL","text":"<@U26T99AQ4> <@U0PB67X4K> so after battling with node.js trying to replicate the \u201cASN1.Marshall()\u201d magic in go code, for hours and hours, I\u2019m at my wit\u2019s end right now. after trying 3 different npm packages (asn1.js, asn1js, jsrsasign) I think the KJUR.asn1 namespace inside \u201cjsrsasign\u201d package gets me closest to sending the peer what it expects, using the code snippet below:","ts":"1479705167.000826"},{"type":"message","subtype":"file_share","text":"<@U13TWBRBL|jzhang> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/jzhang\/F3531QXJN\/Untitled.js|Untitled>","file":{"id":"F3531QXJN","created":1479705193,"timestamp":1479705193,"name":"Untitled.js","title":"Untitled","mimetype":"text\/plain","filetype":"javascript","pretty_type":"JavaScript\/JSON","user":"U13TWBRBL","editable":true,"size":382,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3531QXJN\/Untitled.js?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3531QXJN\/download\/Untitled.js?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/jzhang\/F3531QXJN\/Untitled.js","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3531QXJN-abb223677e","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/jzhang\/F3531QXJN\/Untitled.js\/edit","preview":"\t\tvar mspid = new KJUR.asn1.DERSequence({\r\n\t\t\t'array': [\r\n\t\t\t\tnew KJUR.asn1.DERUTF8String({str: 'DEAULT'})\r\n\t\t\t]\r\n\t\t});\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>\t\t<span class=\"cm-keyword\">var<\/span> <span class=\"cm-def\">mspid<\/span> <span class=\"cm-operator\">=<\/span> <span class=\"cm-keyword\">new<\/span> <span class=\"cm-variable\">KJUR<\/span>.<span class=\"cm-property\">asn1<\/span>.<span class=\"cm-property\">DERSequence<\/span>({<\/pre><\/div>\n<div><pre>\t\t\t<span class=\"cm-string cm-property\">'array'<\/span>: [<\/pre><\/div>\n<div><pre>\t\t\t\t<span class=\"cm-keyword\">new<\/span> <span class=\"cm-variable\">KJUR<\/span>.<span class=\"cm-property\">asn1<\/span>.<span class=\"cm-property\">DERUTF8String<\/span>({<span class=\"cm-property\">str<\/span>: <span class=\"cm-string\">'DEAULT'<\/span>})<\/pre><\/div>\n<div><pre>\t\t\t]<\/pre><\/div>\n<div><pre>\t\t});<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":15,"lines_more":10,"preview_is_truncated":false,"channels":["C27E2LGJY"],"groups":[],"ims":[],"comments_count":0},"user":"U13TWBRBL","upload":true,"display_as_bot":false,"username":"<@U13TWBRBL|jzhang>","bot_id":null,"ts":"1479705193.000827"},{"type":"message","user":"U13TWBRBL","text":"but while the data finally seems to match the structure of what the peer msp expects now, I\u2019m still getting the following error:\n\n`GRPC client got an error response from the peer. Error: Failed to deserialize creator identity, err Could not deserialize a SerializedIdentity, err asn1: syntax error: sequence truncated`","ts":"1479705321.000829"},{"type":"message","user":"U26T99AQ4","text":"<@U13TWBRBL> and team, take a look at <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2671\/>","ts":"1479719176.000830"},{"type":"message","user":"U26T99AQ4","text":"with this patch, serialized identities are just the raw ASN.1 content of the certificate, without the leading MSP-id","ts":"1479719200.000831","reactions":[{"name":"+1","users":["U11MANG9G","U13TWBRBL"],"count":2}]},{"type":"message","user":"U11MANG9G","text":"Merged.","ts":"1479741576.000832","reactions":[{"name":"+1","users":["U13TWBRBL"],"count":1}]},{"type":"message","user":"U13TWBRBL","text":"<@U26T99AQ4> I\u2019ve been working with <@U0S5KF44D> on using COP server to enroll Peers. do i understand it correctly that after enrollment the new JSON file containing the cert can be used to overwrite fabric\/msp\/peer-config.json, and the peer process will pick up that new content right away? does the peer process need to be restarted? assuming this peer has not handled any requests that would require it to read from that file before (so there\u2019s no caching on the file level)","ts":"1479760185.000833"},{"type":"message","user":"U26T99AQ4","text":"<@U13TWBRBL> correct, if you overwrite fabric\/msp\/peer-config.json and restart the peer, it'll pick up whatever cert and private key you have in there","ts":"1479761390.000834"},{"type":"message","user":"U13TWBRBL","text":"ok","ts":"1479761413.000835"},{"type":"message","user":"U26T99AQ4","text":"note, though, that the root of trust (which should be provided in the genesis block) is still currently hardcoded","ts":"1479761414.000836"},{"type":"message","user":"U26T99AQ4","text":"because we don't have CSCC yet to query","ts":"1479761424.000837"},{"type":"message","user":"U13TWBRBL","text":"oh ok, so is the trust root chained in the cert generated by COP\u2019s CLI? <@U0S5KF44D>?","ts":"1479761494.000838"},{"type":"message","user":"U26T99AQ4","text":"the root of trust is currently hardcoded to be that of .\/testdata\/ec.pem in the COP repo","ts":"1479761531.000839"},{"type":"message","user":"U13TWBRBL","text":"ok, i\u2019m going to assume that\u2019s the same root used to sign the ecerts issued by COP","ts":"1479761594.000840"},{"type":"message","user":"U26T99AQ4","text":"so basically only certs signed by that root CA cert will be trusted","ts":"1479761597.000841"},{"type":"message","user":"U13TWBRBL","text":"unless <@U0S5KF44D> says no","ts":"1479761601.000842"},{"type":"message","user":"U13TWBRBL","text":"ok","ts":"1479761613.000843"},{"type":"message","user":"U0S5KF44D","text":"No, it is not","ts":"1479761692.000844"},{"type":"message","user":"U26T99AQ4","text":"<@U0S5KF44D> the problem is that the peer has currently no way of retrieving root CAs - they should be retrieved from the genesis block or from CONFIG tx","ts":"1479761782.000845"},{"type":"message","user":"U26T99AQ4","text":"but that infrastructure is not yet in place","ts":"1479761788.000846"},{"type":"message","user":"U26T99AQ4","text":"so currently we use\n\n```\nfunc getRootCACertFromCSCC() (string, error) {\n\t\/\/ FIXME: the root CA cert is hardcoded for now because we don't have a genesys block to read it from\n\trootCAPem := \"-----BEGIN CERTIFICATE-----\\n\" +\n\t\t\"MIICYjCCAgmgAwIBAgIUB3CTDOU47sUC5K4kn\/Caqnh114YwCgYIKoZIzj0EAwIw\\n\" +\n\t\t\"fzELMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNh\\n\" +\n\t\t\"biBGcmFuY2lzY28xHzAdBgNVBAoTFkludGVybmV0IFdpZGdldHMsIEluYy4xDDAK\\n\" +\n\t\t\"BgNVBAsTA1dXVzEUMBIGA1UEAxMLZXhhbXBsZS5jb20wHhcNMTYxMDEyMTkzMTAw\\n\" +\n\t\t\"WhcNMjExMDExMTkzMTAwWjB\/MQswCQYDVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZv\\n\" +\n\t\t\"cm5pYTEWMBQGA1UEBxMNU2FuIEZyYW5jaXNjbzEfMB0GA1UEChMWSW50ZXJuZXQg\\n\" +\n\t\t\"V2lkZ2V0cywgSW5jLjEMMAoGA1UECxMDV1dXMRQwEgYDVQQDEwtleGFtcGxlLmNv\\n\" +\n\t\t\"bTBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABKIH5b2JaSmqiQXHyqC+cmknICcF\\n\" +\n\t\t\"i5AddVjsQizDV6uZ4v6s+PWiJyzfA\/rTtMvYAPq\/yeEHpBUB1j053mxnpMujYzBh\\n\" +\n\t\t\"MA4GA1UdDwEB\/wQEAwIBBjAPBgNVHRMBAf8EBTADAQH\/MB0GA1UdDgQWBBQXZ0I9\\n\" +\n\t\t\"qp6CP8TFHZ9bw5nRtZxIEDAfBgNVHSMEGDAWgBQXZ0I9qp6CP8TFHZ9bw5nRtZxI\\n\" +\n\t\t\"EDAKBggqhkjOPQQDAgNHADBEAiAHp5Rbp9Em1G\/UmKn8WsCbqDfWecVbZPQj3RK4\\n\" +\n\t\t\"oG5kQQIgQAe4OOKYhJdh3f7URaKfGTf492\/nmRmtK+ySKjpHSrU=\\n\" +\n\t\t\"-----END CERTIFICATE-----\"\n\n\treturn rootCAPem, nil\n}\n```","ts":"1479761803.000847"},{"type":"message","user":"U26T99AQ4","text":"where that certificate is the sample cert that you have in the COP tree","ts":"1479761817.000848"},{"type":"message","user":"U26T99AQ4","text":"so you can sign stuff using `testdata\/ec-key.pem` as the keypair and `testdata\/ec.pem` as the certificate to ensure interoperablity between sdk and peer","ts":"1479761959.000849"},{"type":"message","user":"U26T99AQ4","text":"for now","ts":"1479761970.000850"},{"type":"message","user":"U0S5KF44D","text":"yes, i understand ... i just showed Jim how to start COP using those","ts":"1479762087.000851"},{"type":"message","user":"U0S5KF44D","text":"<@U26T99AQ4> Shouldn't that be getRootCACertsFromCSCC() ([]string, error) since we can trust multiple root CA certs?","ts":"1479762266.000852"},{"type":"message","user":"U0S5KF44D","text":"Obviously return an array of one element for now","ts":"1479762316.000853"},{"type":"message","user":"U13TWBRBL","text":"<@U0S5KF44D> will the .\/startServer command re-construct the cop.db? i removed it and restarted the server but it didn\u2019t seem to have made the db again","ts":"1479776484.000854"},{"type":"message","user":"U13TWBRBL","text":"...trying to figure out how to add users to the registry, so far tried removing server\/cop.db and adding user entries to cop.json. but not seeing cop.db getting recreated","ts":"1479776994.000855"},{"type":"message","user":"U13TWBRBL","text":"<@U0S5KF44D> <@U26T99AQ4> <@U0PB67X4K> <@U0ULK2JPP> have you guys tested enrolling a peer with COP, and use the resulting ecert to sign proposals? i don\u2019t think that\u2019s working right now. here\u2019s what I did:\n\n- COP server running and configured to use the ca cert and private key from fabric-cop\/testdata\n- have a Peer instance enroll with COP (using the COP CLI), copy the resulting client.json to \/etc\/hyperledger\/fabric\/msp\/peer-config.json and restart the Peer\n- have SDK enroll with COP and send the resulting ecert to endorser along with signed proposal","ts":"1479799263.000856"},{"type":"message","user":"U13TWBRBL","text":"in that last step I\u2019m getting `Error: The creator's signature over the proposal is not valid, aborting`","ts":"1479799294.000857"},{"type":"message","user":"U13TWBRBL","text":"the error is from failed verify()","ts":"1479799310.000858"},{"type":"message","user":"U26T99AQ4","text":"<@U0S5KF44D> \n&gt; <@U26T99AQ4> Shouldn't that be getRootCACertsFromCSCC() ([]string, error) since we can trust multiple root CA certs?\nYes, absolutely","ts":"1479801981.000859"},{"type":"message","user":"U0S5KF44D","text":"<@U26T99AQ4> Ale, any ideas why verification is failing for Jim?","ts":"1479821418.000860"},{"type":"message","user":"U0S5KF44D","text":"@jzzhang It should recreate the DB.  We also support dynamic registration.  Drop by when you get in and we can work on it","ts":"1479821489.000861"},{"type":"message","user":"U13TWBRBL","text":"<@U0S5KF44D> <@U26T99AQ4> <@U0PB67X4K> <@U0ULK2JPP> we need to figure out the verification problem soon today, so that the SDK will finally work properly. with changeset <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2655\/> it\u2019s now able to send properly encoded the ecert to the endorser but verification fails","ts":"1479822284.000862"},{"type":"message","user":"U0ULK2JPP","text":"<@U26T99AQ4> likely knows this comes from `creator.Verify(signedProp.ProposalBytes, signedProp.Signature)` in endorser.go","ts":"1479822394.000863"},{"type":"message","user":"U0ULK2JPP","text":"the question would be why does CLI succeed ?","ts":"1479822415.000864"},{"type":"message","user":"U0ULK2JPP","text":"a side by side comparison of CLI and SDK proposals should home in on the problem hopefully","ts":"1479822439.000865"},{"type":"message","user":"U0ULK2JPP","text":"(I;m assuming CLI succeeds with latest\u2026 <@U13TWBRBL> are you using any patches on top of the latest master ?","ts":"1479822479.000866"},{"type":"message","user":"U0S5KF44D","text":"can we get the CLI and SDK to use the same ecert?  I thought the SDK was dynamically getting ecert and not reading from file.  If so, I don't know how we can do a side-by-side of bytes really","ts":"1479822683.000867"},{"type":"message","user":"U0PB67X4K","text":"<@U0S5KF44D>  - hopefully we are now dynamically getting the ecert in the SDK via the enroll endpoint","ts":"1479822878.000868"},{"type":"message","user":"U0S5KF44D","text":"<@U0PB67X4K> Yes, I think we are using your code to do that now, so we can't compare signatures between SDK and CLI","ts":"1479822944.000869"},{"type":"message","user":"U0S5KF44D","text":"unless the CLI uses the same ecert somehow","ts":"1479822959.000870"},{"type":"message","user":"U0PB67X4K","text":"oh - sorry - you meant the fabric CLI","ts":"1479823086.000871"},{"type":"message","user":"U26T99AQ4","text":"<@U13TWBRBL> it seems that the certificate that you are signing with is not the one you marshal in the creator field in the header","ts":"1479823240.000872"},{"type":"message","user":"U26T99AQ4","text":"because there are 2 checks on the endorser's side","ts":"1479823247.000873"},{"type":"message","user":"U26T99AQ4","text":"1)\n```\n\t\/\/ ensure that creator is a valid certificate\n\tvalid, err := creator.Validate()\n\tif err != nil {\n\t\treturn nil, nil, nil, fmt.Errorf(\"Could not determine whether the identity is valid, err %s\", err)\n\t} else if !valid {\n\t\treturn nil, nil, nil, fmt.Errorf(\"The creator certificate is not valid, aborting\")\n\t}\n```\nand 2) \n```\n\t\/\/ 2) validate the signature of creator on header and payload\n\tverified, err := creator.Verify(signedProp.ProposalBytes, signedProp.Signature)\n\tif err != nil {\n\t\treturn nil, nil, nil, fmt.Errorf(\"Could not determine whether the signature is valid, err %s\", err)\n\t} else if !verified {\n\t\treturn nil, nil, nil, fmt.Errorf(\"The creator's signature over the proposal is not valid, aborting\")\n\t}\n```","ts":"1479823277.000874"},{"type":"message","user":"U26T99AQ4","text":"the first passes, so basically youi are marshalling a cert which is both well-formed and trusted","ts":"1479823293.000875"},{"type":"message","user":"U26T99AQ4","text":"the second fails, which I can only explain by saying that you mess-up the marshalling of either the creator or the signature","ts":"1479823317.000876"},{"type":"message","user":"U26T99AQ4","text":"if you point me to the code generating the proposal message, I can take a look and compare it to that of the golang peer","ts":"1479823343.000877"},{"type":"message","user":"U0PB67X4K","text":"<@U26T99AQ4> <@U13TWBRBL>  - are we sure that the root CAs are the same?","ts":"1479823419.000878"},{"type":"message","user":"U0PB67X4K","text":"oops - sorry","ts":"1479823451.000879"},{"type":"message","user":"U0PB67X4K","text":"validate does that","ts":"1479823456.000880"},{"type":"message","user":"U26T99AQ4","text":"yup","ts":"1479823474.000881"},{"type":"message","user":"U13TWBRBL","text":"hi <@U26T99AQ4> you can take a look at the _buildHeader() and _signProposal() methods in <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2655\/8\/lib\/Member.js>","ts":"1479824955.000882"},{"type":"message","user":"U13TWBRBL","text":"we use the private key to sign and the signed cert from enrollment to marshall into the \u201ccreator\u201d field. the cert was the public key wrapped in a CSR and sent to COP to sign","ts":"1479825022.000883"},{"type":"message","user":"U26T99AQ4","text":"which hash function does \n```\n    let sig = this._chain.cryptoPrimitives.sign(this._enrollment.privateKey, proposal_bytes);\n```\nuse?","ts":"1479825516.000884"},{"type":"message","user":"U26T99AQ4","text":"the peer uses SHA2","ts":"1479825712.000885"},{"type":"message","user":"U13TWBRBL","text":"ah,","ts":"1479825727.000886"},{"type":"message","user":"U13TWBRBL","text":"it uses SHA3 256","ts":"1479825739.000887"},{"type":"message","user":"U13TWBRBL","text":"but we can easily change it","ts":"1479825752.000888"},{"type":"message","user":"U26T99AQ4","text":"try switching to SHA2 (or we can switch to sha3) - up 2u","ts":"1479825760.000889"},{"type":"message","user":"U26T99AQ4","text":"SHA256 to be precise","ts":"1479825795.000890"},{"type":"message","user":"U13TWBRBL","text":"will try from my end, believe we should leave it as SHA2 since it\u2019s more prevalent in the world","ts":"1479825856.000891"},{"type":"message","user":"U26T99AQ4","text":"it should be configurable, currently the peer hardcodes it because all crypto-related stuff was wiped out of the yaml files","ts":"1479825884.000892"},{"type":"message","user":"U13TWBRBL","text":"the SDK has it configurable so it\u2019s just a one line change to test","ts":"1479825959.000893"},{"type":"message","user":"U13TWBRBL","text":"trying that...","ts":"1479825964.000894"},{"type":"message","user":"U13TWBRBL","text":"OMG it passed!","ts":"1479826108.000895","reactions":[{"name":"+1","users":["U0UGH3X7X"],"count":1}]},{"type":"message","user":"U0PB67X4K","text":"WOO HOO!","ts":"1479826147.000896"},{"type":"message","user":"U13TWBRBL","text":"just made sure the end-to-end test sets the algo to \u201cSHA2\u201d first","edited":{"user":"U13TWBRBL","ts":"1479826170.000000"},"ts":"1479826153.000897"},{"type":"message","user":"U13TWBRBL","text":"indeed WOO HOO!","ts":"1479826157.000898"},{"type":"message","user":"U0S5KF44D","text":"great!","ts":"1479826174.000900"},{"type":"message","user":"U0PB67X4K","text":"thanks <@U13TWBRBL>  for putting in all the effort to get all these pieces working together (and of course thx to all providing the pieces)  :wink:","edited":{"user":"U0PB67X4K","ts":"1479826210.000000"},"ts":"1479826198.000901"},{"type":"message","user":"U13TWBRBL","text":"\"of course thx to all providing the pieces\u201d +1","ts":"1479826219.000904","reactions":[{"name":"+1","users":["U26T99AQ4"],"count":1}]},{"type":"message","user":"U26T99AQ4","text":"yay! great stuff!","ts":"1479826412.000905"},{"type":"message","user":"U0ULK2JPP","text":"to echo <@U0PB67X4K> \u2026. WOOHOO :slightly_smiling_face:","ts":"1479826723.000906"},{"type":"message","user":"U0ZR63HLK","text":"congrats :slightly_smiling_face:","ts":"1479827464.000907"},{"type":"message","user":"U13TWBRBL","text":"now fabric-sdk-node\/test\/unit\/end-to-end.js passes, deploying\/invoking\/querying the example_cc. i\u2019ll upload a small patch that fills up the last gap in lib\/Member.js","ts":"1479828742.000908"},{"type":"message","user":"U13TWBRBL","text":"although the setup of the target network for this test gets much trickier with the COP server and the enrollments etc. :wink: i\u2019ll update the test\/fixtures\/docker-compose.yaml and README later for this","ts":"1479828894.000909"},{"type":"message","user":"U13TWBRBL","text":"<@U0PB67X4K> <@U0KM61BCP> <@U26T99AQ4> <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2713\/> for the SHA2 override in end-to-end test","ts":"1479830705.000910"},{"type":"message","user":"U0PB67X4K","text":"done","ts":"1479830837.000911"},{"type":"message","user":"U13TWBRBL","text":"thanks!","ts":"1479831226.000912"},{"type":"message","user":"U13TWBRBL","text":"<@U1KFCPFQA> forgot to mention that the test\/unit\/marbles.js that deploys and invokes test\/fixtures\/src\/github.com\/marbles_cc (based on your work) also works. I\u2019ll update the instructions to set up the target network later","ts":"1479833677.000913"},{"type":"message","user":"U26T99AQ4","text":"&gt; <@U0PB67X4K> <@U0KM61BCP> <@U26T99AQ4> <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2713\/> for the SHA2 override in end-to-end test\nsorry <@U13TWBRBL> I don't seem to be able to +1 it, but Gari already +2'd it so you should be good to go","ts":"1479833833.000914"},{"type":"message","user":"U13TWBRBL","text":"<@U26T99AQ4> yeah no worries once it\u2019s merged you can\u2019t +1 anymore, thanks for the review all the same","ts":"1479834193.000915"},{"type":"message","user":"U26T99AQ4","text":"np!","ts":"1479835670.000916"},{"user":"U2Z3ABG7N","text":"<@U2Z3ABG7N|vibhu> has joined the channel","type":"message","subtype":"channel_join","ts":"1479908686.000917"},{"type":"message","user":"U1ES70KQS","text":"Greetings all, I have made a module to contribute to the Hyperledger project and was told to consult this channel for help in figuring out the best place to integrate it","ts":"1480341172.000920"},{"type":"message","user":"U1ES70KQS","text":"In short, the module automatically parses\/unmarshals arguments passed in to Golang chaincode Init, Invoke, or Query methods and calls a well-typed, programmer-defined function with the parsed arguments","ts":"1480341298.000921"},{"type":"message","user":"U1ES70KQS","text":"I understand you're moving towards a 1.0 release at the moment and so might not have time for this now","edited":{"user":"U1ES70KQS","ts":"1480341374.000000"},"ts":"1480341308.000922"},{"type":"message","user":"U0ULK2JPP","text":"<@U1ES70KQS> perhaps push it to Gerrit with WIP in the subject ? What do you think ?","ts":"1480345242.000924"},{"type":"message","user":"U1ES70KQS","text":"Well, the module is complete, it has unit tests, and I copied and modified the chaincode_example02 to use it","ts":"1480345557.000925"},{"type":"message","user":"U1ES70KQS","text":"I haven't done any documentation for it (yet) since I wanted to coordinate with the folks here","ts":"1480345611.000926"},{"type":"message","user":"U1ES70KQS","text":"(I wasn't sure where to put it in the documentation hierarchy)","ts":"1480345631.000927"},{"type":"message","user":"U1ES70KQS","text":"I had submitted it before (before adding tests and example code) -- <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1043\/1>","ts":"1480345680.000928"},{"type":"message","user":"U1ES70KQS","text":"I suppose I should submit the latest?","ts":"1480345755.000929"},{"type":"message","user":"U1ES70KQS","text":"I put my module in fabric\/core\/chaincode\/shim\/ since it's to be used in chaincode","ts":"1480346099.000930"},{"type":"message","user":"U1ES70KQS","text":"would there be a more appropriate place for it?","ts":"1480346867.000931"},{"type":"message","user":"U13TWBRBL","text":"<@U1AU8DRQR> <@U0ULK2JPP> I know this is an old topic and likely a foregone conclusion at this point, but when I\u2019m asked why the changes on chaincode interface in v1.0 that removed the \u201cfunction\u201d and \u201cargs\u201d arguments, I couldn\u2019t find a reference for the rationale behind this change. could you guys provide some explanation here for the community\u2019s benefit? (also for me to look smarter next time :wink: )","ts":"1480355628.000932"},{"type":"message","user":"U1ES70KQS","text":"what's the alternative to the \"function\" and \"args\" arguments? That affects my example code...","ts":"1480361207.000933"},{"type":"message","user":"U1ES70KQS","text":"(sorry I'm not up to date, this project isn't my \"day job\")","edited":{"user":"U1ES70KQS","ts":"1480361253.000000"},"ts":"1480361240.000934"},{"type":"message","user":"U13TWBRBL","text":"<@U1ES70KQS>  in v1.0 you only have one parameter \u201cChaincodeStubInterface\u201d, you call that param to get the function and args: `function, args := stub.GetFunctionAndParameters()`","ts":"1480364379.000936"},{"type":"message","user":"U1ES70KQS","text":"ah, thank you much!","ts":"1480364431.000937"},{"type":"message","user":"U0ULK2JPP","text":"<@U13TWBRBL> the basic rationale was (1) move from `string` to `[]byte` types which is useful for arbitrary input (example zip or jpeg\u2026) and (2) don\u2019t force \u201cfunction\u201d on chaincode APIs \u2026 chaincode can look at first arg to figure it out (harking back to `int main(int argc, char* argv[])` )","ts":"1480369646.000938"},{"type":"message","user":"U0ULK2JPP","text":"to make changes easy on existing chaincodes added `stub.GetFunctionAndParameters()` \u2026 <@U1AU8DRQR> to add\/correct please","ts":"1480369726.000939"},{"type":"message","user":"U1AU8DRQR","text":"<@U0ULK2JPP> it works exactly the way you said. I wouldn't add anything :slightly_smiling_face:","ts":"1480405499.000940","reactions":[{"name":"+1","users":["U0ULK2JPP"],"count":1}]},{"type":"message","user":"U1VG8LNP3","text":"hi, all. about endorse policy, should it be part of chaincode deploy spec and saved into ledger?","ts":"1480421303.000941"},{"type":"message","user":"U0ULK2JPP","text":"<@U1VG8LNP3> it will be on ledger in the lifecycle system chaincode (lccc). it could be \u201coutside\u201d of the deploy spec to make allow isloation of deployment with policy","ts":"1480427363.000942"},{"type":"message","user":"U0ULK2JPP","text":"(does that answer the question ?)","ts":"1480427381.000943"},{"type":"message","user":"U1VG8LNP3","text":"<@U0ULK2JPP> I'm wondering how to specify policy of cc. when deploying cc, policy could be contained in deploy transaction(saved to ledger at last) and cached in lccc. the peer that app or sdk connected to will get policy from ledger or lccc and send proposal to endorsers according to endorse policy. am i right?","ts":"1480428619.000944"},{"type":"message","user":"U0ULK2JPP","text":"<@U1VG8LNP3> almost \u2026 the only part that maybe incorrect is  `could be contained in deploy transaction`","ts":"1480428739.000945"},{"type":"message","user":"U0ULK2JPP","text":"if you mean the policy is sent to the peer in the proposal for deployment, then its fine\u2026 but if you meant the policy is set in the ChaincodeDeploymentSpec then its likely not right. We would then be tying the policy to the deploymentspec (which means when we upgrade the chaincode we have to repeat the policy or copy it from deployment spec or \u2026.). It will be good to keep the policy outside of (isolated from ) deployment spec","ts":"1480428942.000946"},{"type":"message","user":"U0ULK2JPP","text":"(that\u2019s  long winded response but aimed at addressing your previous mention of chaincode deployment spec.)","ts":"1480429024.000947"},{"type":"message","user":"U1VG8LNP3","text":"<@U0ULK2JPP>   so deploy proposal will contain ChaincodeDeploySpec and endorse policy ?","ts":"1480429742.000948"},{"type":"message","user":"U0ULK2JPP","text":"in some form\u2026 for instance, the endorse policy could be anoher param to the \u201cdeploy\u201d request on the LCCC ?","ts":"1480429798.000949"},{"type":"message","user":"U1VG8LNP3","text":"the cc deploy flow  is begin with a call of LCCC and both ChaincodeDeploySpec and policy will be  param, am i right?","ts":"1480430211.000950"},{"type":"message","user":"U1VG8LNP3","text":"<@U0ULK2JPP> i'm not sure about new cc deploy flow. will check the new arch documents and codes. thank you for detailed answer.:smiley:","ts":"1480430460.000951"},{"type":"message","user":"U0ULK2JPP","text":"<@U1VG8LNP3> sure, now that I read above, we may be saying the same thing\u2026. ` cc deploy flow  is begin with a call of LCCC and both ChaincodeDeploySpec and policy will be  param` .. that\u2019s the way I\u2019m thinking too. Basically, the policy is not IN the ChaincodeDeploySpec but could be an additional param to LCCC","ts":"1480430597.000954"},{"type":"message","user":"U1VG8LNP3","text":"<@U0ULK2JPP> does lccc have endorse policy?  or by default a cc deploy proposal need to be endorsed by every endorser in policy?","ts":"1480431656.000955"},{"type":"message","user":"U0ULK2JPP","text":"<@U1VG8LNP3> I\u2019m thinking the later but open to discussion. Given all endorsers will have the chaincode and can field requests, I think safe to have all endorsers to accept the chaincode (or \u201csmartcontract\u201d - I hesitate to use this word but it does bring home the point, so will make an exception :slightly_smiling_face: )","ts":"1480432473.000956"},{"type":"message","subtype":"file_share","text":"<@U0KN2SSKE|binhn> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/binhn\/F38UVFSLX\/pasted_image_at_2016_11_29_10_17_am.png|bootstrap &amp; chain creation>","file":{"id":"F38UVFSLX","created":1480432694,"timestamp":1480432694,"name":"Pasted image at 2016_11_29 10_17 AM.png","title":"bootstrap &amp; chain creation","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0KN2SSKE","editable":false,"size":1075968,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F38UVFSLX\/pasted_image_at_2016_11_29_10_17_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F38UVFSLX\/download\/pasted_image_at_2016_11_29_10_17_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38UVFSLX-b28f3c155b\/pasted_image_at_2016_11_29_10_17_am_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38UVFSLX-b28f3c155b\/pasted_image_at_2016_11_29_10_17_am_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38UVFSLX-b28f3c155b\/pasted_image_at_2016_11_29_10_17_am_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":210,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38UVFSLX-b28f3c155b\/pasted_image_at_2016_11_29_10_17_am_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":280,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38UVFSLX-b28f3c155b\/pasted_image_at_2016_11_29_10_17_am_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38UVFSLX-b28f3c155b\/pasted_image_at_2016_11_29_10_17_am_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":420,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38UVFSLX-b28f3c155b\/pasted_image_at_2016_11_29_10_17_am_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":560,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38UVFSLX-b28f3c155b\/pasted_image_at_2016_11_29_10_17_am_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":597,"image_exif_rotation":1,"original_w":1089,"original_h":635,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/binhn\/F38UVFSLX\/pasted_image_at_2016_11_29_10_17_am.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F38UVFSLX-b0eb9a3b7a","channels":["C27E2LGJY"],"groups":[],"ims":[],"comments_count":0},"user":"U0KN2SSKE","upload":true,"display_as_bot":false,"username":"<@U0KN2SSKE|binhn>","bot_id":null,"ts":"1480432699.000957"},{"type":"message","user":"U0KN2SSKE","text":"configfile for orderer boostrap is created by a standalone tool","ts":"1480432882.000958"},{"type":"message","user":"U0KN2SSKE","text":"configfile for `peer chain create`  starts with that from orderer and add chainID and org anchors","ts":"1480432976.000959"},{"type":"message","user":"U0ZR63HLK","text":"what about MSPs configuration?","ts":"1480432998.000960"},{"type":"message","user":"U0ZR63HLK","text":"who is working on the standalone tool?","ts":"1480433021.000961"},{"type":"message","user":"U0ZR63HLK","text":"sorry, too many questions in a single round :slightly_smiling_face:","ts":"1480433037.000962"},{"type":"message","user":"U0KN2SSKE","text":"<@U0UGH3X7X> is working on the tool - MSP config is MIA","ts":"1480433064.000963"},{"type":"message","user":"U1BC5A0F9","text":"so what is the difference between peer chain create  and peer join channel?","ts":"1480433070.000964"},{"type":"message","user":"U1BC5A0F9","text":"MIA?","ts":"1480433081.000965"},{"type":"message","user":"U0UGH3X7X","text":"hi angelo ... standalone tool is me :slightly_smiling_face:  and we'll have to update it to add msp config","ts":"1480433082.000966"},{"type":"message","user":"U0ZR63HLK","text":"perfect","ts":"1480433090.000967"},{"type":"message","user":"U0ZR63HLK","text":"<@U0UGH3X7X>, is there already some code we can look at?","ts":"1480433138.000968"},{"type":"message","user":"U0KN2SSKE","text":"`peer chain join &lt;ip:port&gt; &lt;cb&gt;` is a CLI to tell a peer to join a chain specified in cb","ts":"1480433153.000969"},{"type":"message","user":"U0UGH3X7X","text":"just added you and elli to code-review","ts":"1480433171.000970"},{"type":"message","user":"U0ZR63HLK","text":"great :slightly_smiling_face:","ts":"1480433176.000971"},{"type":"message","user":"U0ZR63HLK","text":"please, add also <@U26T99AQ4>","ts":"1480433185.000972"},{"type":"message","user":"U1BC5A0F9","text":"thanks!","ts":"1480433191.000973"},{"type":"message","user":"U0KN2SSKE","text":"mia = missing in action","ts":"1480433219.000974"},{"type":"message","user":"U1BC5A0F9","text":"so config chain create, essentially submits a request to create a chain to the orderers","ts":"1480433262.000975"},{"type":"message","user":"U1BC5A0F9","text":"wasnt this in the past done by the application, that would then receive the genesis block and then ask the the peer with that  to join channel?","edited":{"user":"U1BC5A0F9","ts":"1480433305.000000"},"ts":"1480433289.000976"},{"type":"message","user":"U0KN2SSKE","text":"<@U1BC5A0F9> yes, `peer chain create &lt;cb&gt;` is a CLI","ts":"1480433370.000978"},{"type":"message","user":"U0KN2SSKE","text":"app would do the same if it creates chains","ts":"1480433387.000979"},{"type":"message","user":"U1BC5A0F9","text":"ok cool","ts":"1480433401.000980"},{"type":"message","user":"U0KN2SSKE","text":"CLI allows scripting network setup","ts":"1480433423.000981"},{"type":"message","user":"U1BC5A0F9","text":"but the assumption that the application controls which channels its peers join is still on","ts":"1480433424.000982"},{"type":"message","user":"U1BC5A0F9","text":"correct?","ts":"1480433425.000983"},{"type":"message","user":"U1BC5A0F9","text":"that is if the app receives a genesis block that is not correctly formed","ts":"1480433444.000984"},{"type":"message","user":"U1BC5A0F9","text":"it will not ask its peers to join it","ts":"1480433456.000985"},{"type":"message","user":"U0KN2SSKE","text":"the CLI uses the same API that the app would use to create chain","ts":"1480433492.000986"},{"type":"message","user":"U0KN2SSKE","text":"ie broadcast\/deliver \u2014 see the flow in the diagram","ts":"1480433519.000987"},{"type":"message","user":"U1BC5A0F9","text":"ok","ts":"1480433535.000988"},{"type":"message","user":"U1BC5A0F9","text":"Ok in this picture app runs peer chain create with a config file","ts":"1480433599.000989"},{"type":"message","user":"U1BC5A0F9","text":"then the peer1 will make a \"broadcaast to the ordering service\" that will create the genesiss block, create the chain","ts":"1480433656.000990"},{"type":"message","user":"U1BC5A0F9","text":"the peer1 is the one invoking deliver and waits to receive the genesis block now, correct?","ts":"1480433673.000991"},{"type":"message","user":"U1BC5A0F9","text":"that will return this to the app","ts":"1480433721.000992"},{"type":"message","user":"U0KN2SSKE","text":"no, think cli = app for an admin or developers\nan app can do the same things as cli; that is, create chains and tell peers to join chains","ts":"1480433791.000993"},{"type":"message","user":"U0KN2SSKE","text":"in the diagram, cli leverages peer1\u2019s identity (and code) to submit (broadcast rpc) a config transaction to create a chain","edited":{"user":"U0KN2SSKE","ts":"1480433927.000000"},"ts":"1480433900.000994"},{"type":"message","user":"U0KN2SSKE","text":"app doesn\u2019t need to do that since it has the sdk and its own identity","ts":"1480433967.000996"},{"type":"message","user":"U0KN2SSKE","text":"<@U0ZR63HLK> I don\u2019t thnk we need these in chaincode.proto  ChaincodeSpec.  Please confirm\n```    string secureContext = 5;\n    ConfidentialityLevel confidentialityLevel = 6;\n    bytes metadata = 7;\n    repeated string attributes = 8;```","ts":"1480434448.000997"},{"type":"message","user":"U26T99AQ4","text":"<@U0KN2SSKE> how should we change chaincode spec or chaincode deployment spec to let the deployer of a cc pick escc\/vscc\/policy they want?","ts":"1480434703.000998"},{"type":"message","user":"U1BC5A0F9","text":"Actually I thought deployments were to be done as a config tx?","ts":"1480434870.000999"},{"type":"message","user":"U1BC5A0F9","text":"or a tx that is post-processed.","ts":"1480434880.001000"},{"type":"message","user":"U1BC5A0F9","text":"Adding <@U0ULK2JPP> here.","ts":"1480434898.001001"},{"type":"message","user":"U0KN2SSKE","text":"thought about that but didn\u2019t implement it that way \u2014 it is now a chaincode tx to lifecycle scc, which stores the associated escc\/vscc and policy as state","ts":"1480435120.001002"},{"type":"message","user":"U0ZR63HLK","text":"<@U0KN2SSKE>, yes at the fabric level we don't need that anymore","ts":"1480435123.001003"},{"type":"message","user":"U0KN2SSKE","text":"<@U0ZR63HLK> thanks","ts":"1480435156.001004"},{"type":"message","user":"U1BC5A0F9","text":"and, what would be the escc for the LSCC?","ts":"1480435158.001005"},{"type":"message","user":"U0KN2SSKE","text":"none","ts":"1480435171.001006"},{"type":"message","user":"U1BC5A0F9","text":"actually, what would be the endorsement policy","ts":"1480435176.001007"},{"type":"message","user":"U1BC5A0F9","text":"and the VSCC would do all the processing of such an invoke then?","ts":"1480435196.001008"},{"type":"message","user":"U1BC5A0F9","text":"so check the ccid, the chaincode name uniqueness, etc?","ts":"1480435218.001009"},{"type":"message","user":"U0ULK2JPP","text":"catching up\u2026 but the last remark caught the eye :slightly_smiling_face:","ts":"1480435296.001010"},{"type":"message","user":"U0ULK2JPP","text":"thought we could have a lccc_vscc for sure","ts":"1480435309.001011"},{"type":"message","user":"U0ULK2JPP","text":"check deployment , upgrade etc","ts":"1480435323.001012"},{"type":"message","user":"U0ULK2JPP","text":"as to the chaincode.proto stuff, binh \u2026 we mayhave to have those fields in some form","ts":"1480435435.001013"},{"type":"message","user":"U0ULK2JPP","text":"<https:\/\/jira.hyperledger.org\/browse\/FAB-1219>","ts":"1480435436.001014"},{"type":"message","user":"U0KN2SSKE","text":"we could associate lscc with an escc\/vscc or just simple acl","ts":"1480435445.001015"},{"type":"message","user":"U0KN2SSKE","text":"how do we specify escc\/vscc today on a proposal?","ts":"1480435481.001016"},{"type":"message","user":"U0ULK2JPP","text":"`what would be the escc for the LSCC?` \u2026 rephrasing the  question as \u201cI\u2019m deploying a chaincode (smartcontract) \u2026. what is the policy for accepting the deployment\u201d ?  I say we keep it simple with \u201call endorsers should sign off\u201d policy for LCCC stuff","ts":"1480435571.001017"},{"type":"message","user":"U0ULK2JPP","text":"`how do we specify escc\/vscc today on a proposal?` - binh, we could enhance the systemchaincode definition to specify a escc and vscc","edited":{"user":"U0ULK2JPP","ts":"1480435655.000000"},"ts":"1480435641.001018"},{"type":"message","user":"U0ULK2JPP","text":"so LSCC\u2019s \u201cdeployement\u201d in the code would point to the \u201cescc\u201d and \u201cvscc\u201d for LCCC (if we chose to have it)","ts":"1480435705.001020"},{"type":"message","user":"U0ULK2JPP","text":"I think WE have to generalize the system chaincode with escc \/ vscc specs for uniformity in any case - we would of course default them to the default escc and vscc","ts":"1480435766.001021"},{"type":"message","user":"U0ULK2JPP","text":"actually I was getting into detailing <https:\/\/jira.hyperledger.org\/browse\/FAB-183>  for \u201cupgrade\u201d which will cover some of the above","ts":"1480435884.001022"},{"type":"message","user":"U0KN2SSKE","text":"<@U0ULK2JPP> btw, why lccc in chaincode folder instead of system_chaincode folder?","ts":"1480435948.001023"},{"type":"message","user":"U0ULK2JPP","text":"because of the usual import cycle resolution","ts":"1480435977.001024"},{"type":"message","user":"U0ULK2JPP","text":"I don\u2019t remember the details (but can get them if you want) but interaction with  chaincode framework was a headache to keep them separate","ts":"1480436030.001025"},{"type":"message","user":"U0KN2SSKE","text":"cyclic imports?  not a big deal, i was expecting it to be in the system_chaincode folder and couldn\u2019t find it there so had to search","ts":"1480436142.001026"},{"type":"message","user":"U0ULK2JPP","text":"I know","ts":"1480436148.001027"},{"type":"message","user":"U0ULK2JPP","text":"It felt horrible to have lccc in the chaincode folder","ts":"1480436164.001028"},{"type":"message","user":"U0ULK2JPP","text":"we should revisit once the dust settles down","ts":"1480436182.001029"},{"type":"message","user":"U0KN2SSKE","text":"<@U26T99AQ4> not sure if we answer your question","ts":"1480436275.001030"},{"type":"message","user":"U26T99AQ4","text":"<@U0KN2SSKE> (sorry, had to put out another fire) yes, thanks! So LCCC takes as input a `ChaincodeDeploymentSpec` message, which should be enriched to contain 3 new things: ESCC, VSCC and policy. Is that correct? If so, can I go ahead and change the code in that direction?","ts":"1480439518.001031"},{"type":"message","user":"U26T99AQ4","text":"^ <@U0ULK2JPP>","ts":"1480439535.001032"},{"type":"message","user":"U2Z3ABG7N","text":"hey guys - i am using v0.6 for fabric and running the vagrant vm. I have built the peer but when i try make membersrvc, i get an error as below: \nvagrant@hyperledger-devenv:v0.2.1-af0cd3e:~$ make membersrvc\nmake: *** No rule to make target 'membersrvc'.  Stop.\nPlease help","edited":{"user":"U2Z3ABG7N","ts":"1480439608.000000"},"ts":"1480439575.001033"},{"type":"message","user":"U0KN2SSKE","text":"<@U26T99AQ4> escc, vscc, and endorsement policy are lccc.deploy input parameters and stored as lccc state","ts":"1480439845.001036"},{"type":"message","user":"U26T99AQ4","text":"I thought the input args to lccc were a `ChaincodeDeploymentSpec` - is that wrong?","edited":{"user":"U26T99AQ4","ts":"1480439999.000000"},"ts":"1480439943.001037"},{"type":"message","user":"U13TWBRBL","text":"<@U0ULK2JPP> <@U0PB67X4K> <@U0KQ9QKH6> to follow up on previous discussions for the SDK to supply the transaction ID, I opened this in JIRA: <https:\/\/jira.hyperledger.org\/browse\/FAB-1222> for node SDK","ts":"1480440061.001039"},{"type":"message","user":"U13TWBRBL","text":"can you please review, and let us know whether the work on the peer side will be done if not already?","ts":"1480440082.001040"},{"type":"message","user":"U0KN2SSKE","text":"yes, but these parameters are not to be defined in the `ChaincodeDeploymentSpec` but kept on the tx state; ie write-set","ts":"1480440097.001041"},{"type":"message","user":"U26T99AQ4","text":"oh I see","ts":"1480440194.001042"},{"type":"message","user":"U26T99AQ4","text":"so when endorser\/committer needs to know ESCC\/VSCC\/policy for a given chaincode, it queries LCCC to get this 3-tuple from LCCC's state - correct?","ts":"1480440279.001043"},{"type":"message","user":"U0KN2SSKE","text":"<@U13TWBRBL> the app must be able to set the txID;  we already defined the txID field in the tx header \u2014 see common.proto","ts":"1480440291.001044"},{"type":"message","user":"U0KN2SSKE","text":"<@U26T99AQ4> correct","ts":"1480440308.001045","reactions":[{"name":"+1","users":["U26T99AQ4"],"count":1}]},{"type":"message","user":"U13TWBRBL","text":"yes, understood, i assume the txID will be checked for duplicates by ESCC and VSCC?","edited":{"user":"U13TWBRBL","ts":"1480440387.000000"},"ts":"1480440338.001046"},{"type":"message","user":"U26T99AQ4","text":"<@U13TWBRBL> how is tx ID generated currently?","ts":"1480440385.001047"},{"type":"message","user":"U13TWBRBL","text":"it\u2019s not in v1.0 yet. previously it\u2019s calculated by hashing the tx content","edited":{"user":"U13TWBRBL","ts":"1480440447.000000"},"ts":"1480440414.001049"},{"type":"message","user":"U0KN2SSKE","text":"yes, we\u2019ll figure out how to do that efficiently","ts":"1480440431.001050"},{"type":"message","user":"U26T99AQ4","text":"<@U0KN2SSKE> brainstorming with <@U1BC5A0F9> and <@U0ZR63HLK>, we convinced ourselves that `txid = H(creator || nonce)` was the best option on the table","ts":"1480440523.001052"},{"type":"message","user":"U26T99AQ4","text":"it ensures uniqueness, it can be computed in a 3-tier architecture and it can be verified by peers","ts":"1480440558.001053"},{"type":"message","user":"U0ULK2JPP","text":"adding <@U1KFCPFQA>  for TXID discussion \u2026 the look up itself can be done cheaply I understood (but  <@U26T99AQ4> do chime in about the uniqueness check concerns as # transactions increase) ...","ts":"1480440596.001054"},{"type":"message","user":"U13TWBRBL","text":"\"be verified by peers\u201d - can you elaborate?","ts":"1480440610.001055"},{"type":"message","user":"U0ULK2JPP","text":"cell phone -&gt;SDK -&gt; peer \u2026.","ts":"1480440665.001056"},{"type":"message","user":"U0ULK2JPP","text":"can cell phone do `txid = H(creator || nonce)`","ts":"1480440680.001057"},{"type":"message","user":"U13TWBRBL","text":"I\u2019m pretty sure cell phones can do hashing easily","ts":"1480440718.001058"},{"type":"message","user":"U26T99AQ4","text":"&gt; \"be verified by peers\u201d - can you elaborate?\nan endorser\/committer can verify that hash (given creator and nonce) to ensure that txid wasn't picked to force a collision with another txid","ts":"1480440768.001059"},{"type":"message","user":"U0KN2SSKE","text":"wouldn\u2019t we need to worry hash algorithm be the same on both ends?","ts":"1480440819.001060"},{"type":"message","user":"U13TWBRBL","text":"oh you mean using the nonce that\u2019s already set in the proposal","ts":"1480440820.001061","reactions":[{"name":"+1","users":["U26T99AQ4"],"count":1}]},{"type":"message","user":"U13TWBRBL","text":"ok i think that\u2019s a good idea","ts":"1480440830.001062"},{"type":"message","user":"U26T99AQ4","text":"&gt; wouldn\u2019t we need to worry hash algorithm be the same on both ends?\ndefinitely - hopefully the mobile app will know which hash algo to use (it might be a chain-wide default hash function built into the app itself)","edited":{"user":"U26T99AQ4","ts":"1480440880.000000"},"ts":"1480440850.001063"},{"type":"message","user":"U13TWBRBL","text":"<@U0KN2SSKE> that\u2019s already a requirement, hashing algos must match b\/w the client and peers in order to generate verifiable signatures etc.","ts":"1480440938.001065"},{"type":"message","user":"U0KN2SSKE","text":"either way, we would still have to check for uniqueness","ts":"1480440948.001066"},{"type":"message","user":"U26T99AQ4","text":"absolutely","ts":"1480440969.001067"},{"type":"message","user":"U0KN2SSKE","text":"so why not just use UUID?","ts":"1480440985.001068"},{"type":"message","user":"U13TWBRBL","text":"but using `H(creator || nunce)` would save you from having to do a look up right?","ts":"1480441004.001069"},{"type":"message","user":"U13TWBRBL","text":"it\u2019d be much faster than using UUID for which you\u2019d have to look up the database against all existing txIDs","edited":{"user":"U13TWBRBL","ts":"1480441044.000000"},"ts":"1480441034.001070"},{"type":"message","user":"U26T99AQ4","text":"&gt; so why not just use UUID?\nwith UUID, 2 creators might (accidentially or maliciously, who knows) pick the same txid. With `H(creator|nonce)` this by definition cannot happen","ts":"1480441047.001072"},{"type":"message","user":"U0KN2SSKE","text":"UUID is globally unique","ts":"1480441086.001073"},{"type":"message","user":"U0KN2SSKE","text":"of course, we always have to deal with malicious actors","ts":"1480441110.001074"},{"type":"message","user":"U0ZR63HLK","text":"But it doesn't bind to a creator","ts":"1480441125.001075"},{"type":"message","user":"U0ZR63HLK","text":"The interesting thing about the hash is that you can blame someone ","ts":"1480441140.001076"},{"type":"message","user":"U0ZR63HLK","text":":)","ts":"1480441142.001077"},{"type":"message","user":"U0KN2SSKE","text":"binding is via tx","ts":"1480441157.001078"},{"type":"message","user":"U26T99AQ4","text":"<@U0KN2SSKE> what prevents me from consistently generating UUIDs that match those of another client? If I'm faster I would consistenly get the other client's txes rejected","edited":{"user":"U26T99AQ4","ts":"1480441368.000000"},"ts":"1480441328.001079"},{"user":"U0KMJF9AA","text":"<@U0KMJF9AA|vikasjakhar> has joined the channel","type":"message","subtype":"channel_join","ts":"1480441329.001080"},{"type":"message","user":"U26T99AQ4","text":"if instead we go for `H(creator|nonce)`, this is impossible by definition","ts":"1480441396.001083"},{"type":"message","user":"U0ZR63HLK","text":"The uuid is supposed to be a random value, difficult to catch another client, no?","ts":"1480441504.001084"},{"type":"message","user":"U0ZR63HLK","text":"Nevertheless I vote for the hash :)","ts":"1480441526.001085"},{"type":"message","user":"U0ULK2JPP","text":"<@U13TWBRBL>  `I\u2019m pretty sure cell phones can do hashing easily` \u2014 right but will they have all the materials to compute `txid = H(creator || nonce)` ?","ts":"1480441653.001086"},{"type":"message","user":"U0ULK2JPP","text":"I think we are making this overly complicated :slightly_smiling_face:","ts":"1480441726.001087"},{"type":"message","user":"U0KN2SSKE","text":"<@U26T99AQ4> we don\u2019t want to have too many fields in the tx unnecessarily -  how likely is it to do what you said with uuid? i m not an expert at this but i know it uses all sort of local things to generate the uuid","ts":"1480441800.001088"},{"type":"message","user":"U26T99AQ4","text":"if I'm malicious, I will skip the standard way of UUID generation and will just copy the one I want to force a collision on","ts":"1480441871.001089"},{"type":"message","user":"U26T99AQ4","text":"so the UUID algo may be perfect, but it's not verifiable","ts":"1480441883.001090"},{"type":"message","user":"U0KN2SSKE","text":"of course you would, but how could you do what you said \"what prevents me from consistently generating UUIDs that match those of another client? If I'm faster I would consistenly get the other client's txes rejected\"","ts":"1480442075.001091"},{"type":"message","user":"U13TWBRBL","text":"<@U0ULK2JPP> so the \u201ccreator\u201d sits with the SDK, you must have that to submit transaction, and you already have to generate a random number for the nonce part of the transaction. for a web app, it\u2019s a 3-tier (browser -&gt; webapp\/sdk -&gt; peer), the txID is calculated by the mid-tier and pass back to the client","ts":"1480442243.001092"},{"type":"message","user":"U13TWBRBL","text":"a mobile app is typically deployed the same way","ts":"1480442253.001093"},{"type":"message","user":"U13TWBRBL","text":"such that a cell phone does not need to calculate the txID, it just requests it from the mid-tier","ts":"1480442278.001094"},{"type":"message","user":"U13TWBRBL","text":"in some deployments, like secure key, the sdk runs inside the phone","ts":"1480442298.001095"},{"type":"message","user":"U13TWBRBL","text":"that\u2019s the scenario I\u2019m referring to above where the txID generation needs to happen on the phone","ts":"1480442316.001096"},{"type":"message","user":"U26T99AQ4","text":"&gt; of course you would, but how could you do what you said \"what prevents me from consistently generating UUIDs that match those of another client? If I'm faster I would consistenly get the other client's txes rejected\"\n\nOne of the orderers could help me for instance (unless they are *all* trusted); it could look at txes that are submitted for ordering and we could jointly try to get some txes discarded on grounds of txid collision by submitting some txes of my own and hoping that they get ordered first","edited":{"user":"U26T99AQ4","ts":"1480442439.000000"},"ts":"1480442345.001097"},{"type":"message","user":"U13TWBRBL","text":"in all cases, txID is generated by the SDK which already has all the materials","ts":"1480442355.001098","reactions":[{"name":"+1","users":["U0ULK2JPP"],"count":1}]},{"type":"message","user":"U13TWBRBL","text":"<@U0KN2SSKE> main benefit of using `h(creator || nonce)` is that you get much faster validation of duplicates, because you know \u201ccreator\u201d is unique, \u201cnonce\u201d is unique, and as such the hash of a concatenation of the two are unique","ts":"1480442484.001101"},{"type":"message","user":"U13TWBRBL","text":"with UUID you\u2019d have to look up the database to see if there\u2019s going to be collision","ts":"1480442501.001102"},{"type":"message","user":"U0KN2SSKE","text":"<@U13TWBRBL> i thought pat\u2019s use-case indicates the mobile to creates the txID, not getting it from the mid tier","ts":"1480442543.001103"},{"type":"message","user":"U13TWBRBL","text":"mobile app doesn\u2019t have to","ts":"1480442571.001104"},{"type":"message","user":"U0KN2SSKE","text":"no, you don\u2019t get faster dup check","ts":"1480442574.001105"},{"type":"message","user":"U0KN2SSKE","text":"what you get is the binding that angelo mentioned","ts":"1480442592.001106"},{"type":"message","user":"U0KN2SSKE","text":"nothing else","ts":"1480442599.001107"},{"type":"message","user":"U13TWBRBL","text":"if a mobile app doesn\u2019t run the SDK inside it, but rely on a mid-tier (as is the case with most mobile apps), it should get the txID from the mid-tier first","ts":"1480442626.001108"},{"type":"message","user":"U1BC5A0F9","text":"Hm so, UUID is a random number right? So if Ale and myself are submitting competitive tx-s and see Ale's otu","ts":"1480442633.001109"},{"type":"message","user":"U1BC5A0F9","text":"i can just ssubmit another tx that has the same UUID and stand a chance to have Ale's transaction rejected.","ts":"1480442651.001110"},{"type":"message","user":"U0KN2SSKE","text":"we can remove `nonce` from the header and pass it in as part of the tx so that we don\u2019t have to store it \u2014 would that cause any security issues?","ts":"1480442691.001111"},{"type":"message","user":"U0KN2SSKE","text":"<@U1BC5A0F9> in reality, i would reckon that you would stand a much higher chance of getting your tx rejected","ts":"1480442768.001112"},{"type":"message","user":"U26T99AQ4","text":"&gt; in reality, i would reckon that you would stand a much higher chance of getting your tx rejected\nthat's probably true, but you are rolling your dice with it and the odds are non-negligible. That is, you have a non-zero chance to actually win","edited":{"user":"U26T99AQ4","ts":"1480442861.000000"},"ts":"1480442838.001113"},{"type":"message","user":"U1BC5A0F9","text":"I think i agree with <@U13TWBRBL> on the mid tier architecture","ts":"1480442838.001114"},{"type":"message","user":"U0KN2SSKE","text":"but <@U26T99AQ4> and <@U0ZR63HLK> made a convincing point of knowing whom to blame","ts":"1480442848.001115"},{"type":"message","user":"U1BC5A0F9","text":"but in this case it is not someone you can blame","ts":"1480442869.001117"},{"type":"message","user":"U1BC5A0F9","text":"cause I can always claim  that this happened \"accidentally\"","ts":"1480442883.001118"},{"type":"message","user":"U1BC5A0F9","text":":slightly_smiling_face:","ts":"1480442884.001119"},{"type":"message","user":"U1BC5A0F9","text":"so in this case non-repudiation offered by the signaturess will not help much!","ts":"1480442898.001120"},{"type":"message","user":"U0KN2SSKE","text":"i think you could claim \u201caccidentally\u201d but it would be hard for you to prove innocent","ts":"1480442988.001121"},{"type":"message","user":"U1BC5A0F9","text":"but thats security!","ts":"1480443090.001122"},{"type":"message","user":"U1BC5A0F9","text":"And even if you do. The harm may have already been done.","ts":"1480443104.001123"},{"type":"message","user":"U1BC5A0F9","text":"While if one takes some function that includes the creator in a way that non easily computable collisions can be found among different creators, this danger is avoided.","edited":{"user":"U1BC5A0F9","ts":"1480443230.000000"},"ts":"1480443151.001124"},{"type":"message","user":"U0KN2SSKE","text":"<@U1BC5A0F9> so what you\u2019re saying is that either way we have problems","ts":"1480443257.001127"},{"type":"message","user":"U1BC5A0F9","text":"Hash or something else that is heaviear..","ts":"1480443260.001128"},{"type":"message","user":"U1BC5A0F9","text":"I am just saying that if we take UUID that has no connection to the creator of the tx, as reference for detecting replays (and hence rejecting tx-s based on this) then we give attackers an easy way to \"benigly\" attack the system.","ts":"1480443332.001129"},{"type":"message","user":"U1BC5A0F9","text":"But in current systems when one uses a phone to make a tx and submit it to some peer\/tier2","edited":{"user":"U1BC5A0F9","ts":"1480443388.000000"},"ts":"1480443358.001130"},{"type":"message","user":"U1BC5A0F9","text":"isnt the case that that peer\/tier2 gives a reference back on the tx submitted?","ts":"1480443404.001132"},{"type":"message","user":"U1BC5A0F9","text":"in key-management systems this is the case at least, that you take a key identifier after you insert\/geenrate\/add a key","ts":"1480443430.001133"},{"type":"message","user":"U0KN2SSKE","text":"the mid tier might not be able to return anything back, so the mobile app would loose the tx","ts":"1480443594.001134"},{"type":"message","user":"U0KN2SSKE","text":"it wouldn\u2019t have a ref to query","ts":"1480443615.001135"},{"type":"message","user":"U0KN2SSKE","text":"<@U13TWBRBL> it is fine to do it that way but adding another round trip for mobile to submit a tx \u2014 not show stopping tho","ts":"1480443708.001136"},{"type":"message","user":"U1BC5A0F9","text":"Using txid = hash(creator || nonce) or txid = hash(tx) will not be impacted by such attacks as the one i mentioned before.","edited":{"user":"U1BC5A0F9","ts":"1480443840.000000"},"ts":"1480443800.001137"},{"type":"message","user":"U1BC5A0F9","text":"Cant the mobile app know the creator it is submitting the tx with?","ts":"1480443852.001140"},{"type":"message","user":"U1BC5A0F9","text":"Cant we have both ssort of?","ts":"1480443870.001141"},{"type":"message","user":"U1BC5A0F9","text":"meaning that for replay attack we use txid = hash(creator | nonce) or hash(tx) , support lookups also based on UUID?","ts":"1480443914.001142"},{"type":"message","user":"U1BC5A0F9","text":"that iss user-provided\/or even in place of nonce?","ts":"1480443923.001143"},{"type":"message","user":"U1BC5A0F9","text":"how many queries from mobile apps would we have?","ts":"1480443935.001144"},{"type":"message","user":"U0KN2SSKE","text":"<@U1BC5A0F9> it looks like txid = hash(creator | nonce) is way to go, but we should only define txid in the header \u2014 we pass nonce in for validation but not storing with the tx.  Would that workable?","ts":"1480444153.001145"},{"type":"message","user":"U26T99AQ4","text":"how does the peer (endorser\/committer) get hold of the nonce to verify the hash?","edited":{"user":"U26T99AQ4","ts":"1480444255.000000"},"ts":"1480444232.001146"},{"type":"message","user":"U0KN2SSKE","text":"we would pass it in as part of the rpc call \u2014 want to avoid storing both txid and nonce, 1 of them should go","ts":"1480444426.001148"},{"type":"message","user":"U0KN2SSKE","text":"folks seem to want txid in the object;  nonce has no use after the ingress","ts":"1480444509.001149"},{"type":"message","user":"U1BC5A0F9","text":"Hm@nonce though is used for binding in the invocation access cntr","ts":"1480444763.001150"},{"type":"message","user":"U1BC5A0F9","text":"At the chaincode side ... ","ts":"1480444777.001151"},{"type":"message","user":"U1BC5A0F9","text":"Aimed to say: nonce is used to compute the tx binding leveraged in the invocation access cntrl libs we had in the past.","ts":"1480444842.001152"},{"user":"U10LM0FFZ","text":"<@U10LM0FFZ|nickgaski> has joined the channel","type":"message","subtype":"channel_join","ts":"1480452591.001153"},{"user":"U37Q1F5FT","text":"<@U37Q1F5FT|firas.qutishat> has joined the channel","type":"message","subtype":"channel_join","ts":"1480454329.001154"},{"user":"U1B5DPRLG","text":"<@U1B5DPRLG|lhaskins> has joined the channel","type":"message","subtype":"channel_join","ts":"1480455720.001155"},{"type":"message","user":"U0KN2SSKE","text":"if a txid can be reliably generated from the SignatureHeader\n```message SignatureHeader {\n    \/\/ Creator of the message, specified as a certificate chain\n    bytes creator = 1;\n\n    \/\/ Arbitrary number that may only be used once. Can be used to detect replay attacks.\n    bytes nonce = 2;\n}```\nCould we list (again) the reasons for also keeping txid in the header","ts":"1480477369.001156"},{"user":"U38H8MS11","text":"<@U38H8MS11|lovesh> has joined the channel","type":"message","subtype":"channel_join","ts":"1480488277.001157"},{"user":"U1F1CU61Y","text":"<@U1F1CU61Y|ankitkamra> has joined the channel","type":"message","subtype":"channel_join","ts":"1480503982.001158"},{"type":"message","user":"U1F1CU61Y","text":"Hi i am trying to setup non validating peer, I have just changed in peer\/core.yaml and changed validator=false\n\ni am facing following issue:-\n\nnvp0_1  | 10:57:57.945 [peer] handleChat -&gt; ERRO 012 Error handling message: Peer FSM failed while handling message (DISC_HELLO): current state: created, error: transition canceled with error: Error registering Handler: Duplicate Handler error: {name:\"nvp0\"  172.17.0.2:7051 NON_VALIDATOR }\n\ncan anyone help me to resolve the issue ?","ts":"1480503992.001159"},{"user":"U2Q0HP4HY","text":"<@U2Q0HP4HY|rickr> has joined the channel","type":"message","subtype":"channel_join","ts":"1480511389.001160"},{"type":"message","user":"U0UGH3X7X","text":"hi <@U1BC5A0F9>   hangout or phone ?","ts":"1480518036.001161"},{"type":"message","user":"U1BC5A0F9","text":"how about both?","ts":"1480518259.001162"},{"type":"message","user":"U1BC5A0F9","text":":slightly_smiling_face:","ts":"1480518265.001163"},{"type":"message","subtype":"file_share","text":"<@U0KN2SSKE|binhn> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/binhn\/F38B7LD1P\/cc-acl.jpg|chaincode acl>","file":{"id":"F38B7LD1P","created":1480542365,"timestamp":1480542365,"name":"cc-acl.jpg","title":"chaincode acl","mimetype":"image\/jpeg","filetype":"jpg","pretty_type":"JPEG","user":"U0KN2SSKE","editable":false,"size":1068434,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F38B7LD1P\/cc-acl.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F38B7LD1P\/download\/cc-acl.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38B7LD1P-e4c6950362\/cc-acl_64.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38B7LD1P-e4c6950362\/cc-acl_80.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38B7LD1P-e4c6950362\/cc-acl_360.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":270,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38B7LD1P-e4c6950362\/cc-acl_480.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":360,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38B7LD1P-e4c6950362\/cc-acl_160.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38B7LD1P-e4c6950362\/cc-acl_720.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":540,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38B7LD1P-e4c6950362\/cc-acl_960.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":720,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38B7LD1P-e4c6950362\/cc-acl_1024.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":768,"image_exif_rotation":1,"original_w":3264,"original_h":2448,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/binhn\/F38B7LD1P\/cc-acl.jpg","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F38B7LD1P-160c127e00","channels":["C27E2LGJY"],"groups":[],"ims":[],"comments_count":0},"user":"U0KN2SSKE","upload":true,"display_as_bot":false,"username":"<@U0KN2SSKE|binhn>","bot_id":null,"ts":"1480542370.001164"},{"type":"message","user":"U0KN2SSKE","text":"<@U0ULK2JPP> <@U1BC5A0F9> <@U26T99AQ4> <@U0ZR63HLK>","ts":"1480542418.001165"},{"type":"message","user":"U0ZR63HLK","text":"What's CB writers?","ts":"1480542616.001166"},{"type":"message","user":"U0KN2SSKE","text":"ACL: each chaincode, including system chaincodes, on deployment, may optionally specify a list of identities, which will override those in CB.writers.  Lifecycle scc will manage this list.\n\nEndorsement: each chaincode, including system chaincodes, on deployment, may be associated with an ESCC\/VSCC+policy. If not specified, scc will default to nil, and ucc will default to builtin escc\/vscc with 1 sig endorsement","ts":"1480542728.001167"},{"type":"message","user":"U0KN2SSKE","text":"<@U0ZR63HLK> the \u201cwriters\u201d specified in the CB  (configuration block)","ts":"1480542763.001168"},{"type":"message","user":"U0KN2SSKE","text":"Lifecycle scc will manage a \u201ctable\u201d of deployed chaincodes, escc, vscc, endorsement policy, acl and status","ts":"1480542871.001169"},{"type":"message","user":"U0KN2SSKE","text":"So we don\u2019t need to specify cc-deployers role in CB","ts":"1480543013.001170"},{"type":"message","user":"U0ZR63HLK","text":"Who can then modify the list of identities for a certain chiancode? Only the deployer, for example? ","edited":{"user":"U0ZR63HLK","ts":"1480543121.000000"},"ts":"1480543104.001171"},{"type":"message","user":"U0KN2SSKE","text":"cb.writers on a chain can initially deploy the lccc which includes the acl for lccc on the chain;  thereafter, the acl for lccc will take over any chaincode lifecycle trans","ts":"1480543263.001173"},{"type":"message","user":"U0ZR63HLK","text":"Oh I see the flow","ts":"1480543349.001174"},{"type":"message","user":"U0KN2SSKE","text":"Upon `peer join chain &lt;ip:port&gt; &lt;cb&gt;`,  cscc will initialize the chain, which contains a ledger, an mspmgr, a cache","ts":"1480543401.001175"},{"type":"message","user":"U0KN2SSKE","text":"App can then \u201cdeploy\u201d lccc","ts":"1480543488.001176"},{"type":"message","user":"U0ZR63HLK","text":"When does a peer issue a join channel command?","ts":"1480543592.001177"},{"type":"message","user":"U0KN2SSKE","text":"by app or bootstrap script via cli","ts":"1480543675.001178"},{"type":"message","user":"U0ZR63HLK","text":"So after the lccc has been deployed, I guess","ts":"1480543725.001179"},{"type":"message","user":"U0KN2SSKE","text":"no, before lccc \u2014 we have to initialize the chain to deploy lccc","ts":"1480543773.001180"},{"type":"message","user":"U0ZR63HLK","text":"I see in the picture a peer can be on multiple chains. Do we replace channels with chains?","ts":"1480543814.001181"},{"type":"message","user":"U0KN2SSKE","text":"yes \u2014 chain = channel (on orderer) + ledger + some peers + msp mgr","ts":"1480544014.001182"},{"type":"message","user":"U1BC5A0F9","text":"Hi, so, there is a list of writers in GB, that define the list of certificates that can submit transactions to the new chain. Then, after the genesis block is generated through the peer create chain command, the application (that has received already the genesis block) will (1) check that the information in the genesis block corresponds to the information agreed with the other stakeholders, (2) issue a Join chain ... request to the peer to join the new chain. The writers now submit an LSCC initialization (configuration) transaction to setup (deploy) LSCC, i.e., access lists etc. Am i correct?","ts":"1480593247.001183"},{"type":"message","user":"U1BC5A0F9","text":"If so, then two questions: (i) do we really want to allow anyone permitted to submit application transactions to the new chain to \"setup\" LSCC? (ii) if we are to announce a Configuration Transaction with LSCC setup, why dont we add this setup info in the genesis block? Then we can update LSCC config with configuration transactions.","ts":"1480593355.001184"},{"type":"message","user":"U0ZJZBJLF","text":"In the list of certificates you mean the list of organizations, not peers, right?","ts":"1480593399.001185"},{"type":"message","user":"U1HFNJB50","text":"<@U1BC5A0F9>  can you please decrypt the LSCC acronym?","edited":{"user":"U1HFNJB50","ts":"1480593582.000000"},"ts":"1480593566.001186"},{"type":"message","user":"U0ULK2JPP","text":"<@U1HFNJB50> LCCC .. these acronyms are going to be the death of us :slightly_smiling_face:","ts":"1480593783.001188"},{"type":"message","user":"U0ULK2JPP","text":"`The writers now submit an LSCC initialization (configuration) transaction to setup (deploy) LSCC, i.e., access lists etc. ` - that or pretty close to that <@U1BC5A0F9>","ts":"1480593827.001189"},{"type":"message","user":"U0ULK2JPP","text":"`if we are to announce a Configuration Transaction with LSCC setup, why dont we add this setup info in the genesis block?` - isn\u2019t it better that the GB contains minimal information ?","ts":"1480593898.001190"},{"type":"message","user":"U0ULK2JPP","text":"basically network setup","ts":"1480593906.001191"},{"type":"message","user":"U0ULK2JPP","text":"and membership for that etc","ts":"1480593918.001192"},{"type":"message","user":"U0ULK2JPP","text":"in the end, we need to solve the ACL issue for ANY chaincode","ts":"1480594023.001193"},{"type":"message","user":"U0ULK2JPP","text":"whatever mechanism we chose for that general problem can then be applied for the system chaincodes too - in particular, the LCCC","ts":"1480594055.001194"},{"type":"message","user":"U0ULK2JPP","text":"so for example, if on the transaction we send the ACL specific data, we would just use that to do ACL (using the MSP configured by this point) using that - just like we would for any chaincode","ts":"1480594137.001195"},{"type":"message","user":"U0ULK2JPP","text":"will be online in 30 mins","ts":"1480594149.001196"},{"type":"message","user":"U1BC5A0F9","text":"<@U1HFNJB50>: LSCC = Lifecycle System Chaincode :slightly_smiling_face:","ts":"1480594271.001197","reactions":[{"name":"+1","users":["U1HFNJB50"],"count":1}]},{"type":"message","user":"U1BC5A0F9","text":"<@U0ZJZBJLF> : Correct. List of organizations (otherwise the certificates that belong to members of these organizations)","ts":"1480594387.001198"},{"type":"message","user":"U1BC5A0F9","text":"<@U0ULK2JPP>: ok :slightly_smiling_face:","ts":"1480594416.001199"},{"type":"message","user":"U0ULK2JPP","text":"back <@U1BC5A0F9>","ts":"1480596488.001200"},{"type":"message","user":"U0ULK2JPP","text":"so what do you think ?","ts":"1480596493.001201"},{"type":"message","user":"U1BC5A0F9","text":"Hi","ts":"1480597313.001202"},{"type":"message","user":"U1KFCPFQA","text":"<@U0ULK2JPP> and all, I pulled the latest from master today, and now `peer node start` will not start the peer","ts":"1480600778.001203"},{"type":"message","user":"U1KFCPFQA","text":"it initializes msp manager and logging, but then exits quietly","ts":"1480600797.001204"},{"type":"message","user":"U1KFCPFQA","text":"any ideas?","ts":"1480600804.001205"},{"type":"message","user":"U0ULK2JPP","text":"<@U1KFCPFQA> \u2026. I just tried and worked","ts":"1480600806.001206"},{"type":"message","user":"U0ULK2JPP","text":"did you start orderer ?","ts":"1480600811.001207"},{"type":"message","user":"U1KFCPFQA","text":"yes, orderer started fine","ts":"1480600820.001208"},{"type":"message","user":"U0ULK2JPP","text":"let me try again","ts":"1480600826.001209"},{"type":"message","user":"U1KFCPFQA","text":"do i have to set an orderer port these days?","ts":"1480600827.001210"},{"type":"message","subtype":"file_share","text":"<@U1KFCPFQA|dave.enyeart> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/dave.enyeart\/F38KYEBFT\/-.sh|Untitled>","file":{"id":"F38KYEBFT","created":1480600850,"timestamp":1480600850,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U1KFCPFQA","editable":true,"size":40,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F38KYEBFT\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F38KYEBFT\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/dave.enyeart\/F38KYEBFT\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F38KYEBFT-e96e4ea780","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/dave.enyeart\/F38KYEBFT\/-.sh\/edit","preview":"CORE_LOGGING_LEVEL=DEBUG peer node start","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-def\">CORE_LOGGING_LEVEL<\/span><span class=\"cm-operator\">=<\/span>DEBUG peer <span class=\"cm-builtin\">node<\/span> <span class=\"cm-builtin\">start<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":1,"lines_more":0,"preview_is_truncated":false,"channels":["C27E2LGJY"],"groups":[],"ims":[],"comments_count":0},"user":"U1KFCPFQA","upload":true,"display_as_bot":false,"username":"<@U1KFCPFQA|dave.enyeart>","bot_id":null,"ts":"1480600851.001211"},{"type":"message","subtype":"file_share","text":"<@U1KFCPFQA|dave.enyeart> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/dave.enyeart\/F398ELM27\/-.sh|Untitled>","file":{"id":"F398ELM27","created":1480600870,"timestamp":1480600870,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U1KFCPFQA","editable":true,"size":346,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F398ELM27\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F398ELM27\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/dave.enyeart\/F398ELM27\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F398ELM27-900d60e64f","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/dave.enyeart\/F398ELM27\/-.sh\/edit","preview":"...\r\n14:00:30.505 [msp] Setup -> INFO 00b MSP manager setup complete (config file \/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/msp\/peer-config.json)\r\n14:00:30.506 [logging] LoggingInit -> DEBU 00c Setting default logging level to DEBUG for command 'node'\r\nvagrant@hyperledger-devenv:v0.2.1-1a2bdb4:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ ","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>...<\/pre><\/div>\n<div><pre><span class=\"cm-number\">14<\/span>:00:30.505 [msp] Setup <span class=\"cm-attribute\">-<\/span>&gt; INFO 00b MSP manager setup complete (config file \/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/msp\/peer-config.json)<\/pre><\/div>\n<div><pre><span class=\"cm-number\">14<\/span>:00:30.506 [logging] LoggingInit <span class=\"cm-attribute\">-<\/span>&gt; DEBU 00c Setting default logging level to DEBUG <span class=\"cm-keyword\">for<\/span> command <span class=\"cm-string\">'node'<\/span><\/pre><\/div>\n<div><pre>vagrant@hyperledger-devenv:v0.2.1-1a2bdb4:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric<span class=\"cm-def\">$ <\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":4,"lines_more":0,"preview_is_truncated":false,"channels":["C27E2LGJY"],"groups":[],"ims":[],"comments_count":0},"user":"U1KFCPFQA","upload":true,"display_as_bot":false,"username":"<@U1KFCPFQA|dave.enyeart>","bot_id":null,"ts":"1480600870.001212"},{"type":"message","user":"U0ULK2JPP","text":"can you try without the CORE_LOGGING_LEVEL ?","ts":"1480600946.001213"},{"type":"message","user":"U1KFCPFQA","text":"same result (except it doesnt setting logging level)","ts":"1480600981.001214"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F3A0WMMJA\/pasted_image_at_2016_12_01_09_02_am.png|Pasted image at 2016-12-01, 9:02 AM> and commented: this is latesst","file":{"id":"F3A0WMMJA","created":1480600985,"timestamp":1480600985,"name":"Pasted image at 2016_12_01 09_02 AM.png","title":"Pasted image at 2016-12-01, 9:02 AM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":478215,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3A0WMMJA\/pasted_image_at_2016_12_01_09_02_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3A0WMMJA\/download\/pasted_image_at_2016_12_01_09_02_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3A0WMMJA-fc231e03ae\/pasted_image_at_2016_12_01_09_02_am_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3A0WMMJA-fc231e03ae\/pasted_image_at_2016_12_01_09_02_am_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3A0WMMJA-fc231e03ae\/pasted_image_at_2016_12_01_09_02_am_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":102,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3A0WMMJA-fc231e03ae\/pasted_image_at_2016_12_01_09_02_am_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":136,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3A0WMMJA-fc231e03ae\/pasted_image_at_2016_12_01_09_02_am_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3A0WMMJA-fc231e03ae\/pasted_image_at_2016_12_01_09_02_am_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":205,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3A0WMMJA-fc231e03ae\/pasted_image_at_2016_12_01_09_02_am_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":273,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3A0WMMJA-fc231e03ae\/pasted_image_at_2016_12_01_09_02_am_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":291,"image_exif_rotation":1,"original_w":2288,"original_h":650,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F3A0WMMJA\/pasted_image_at_2016_12_01_09_02_am.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3A0WMMJA-ef6ad8c44b","channels":["C27E2LGJY"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc3A0WN9PG","created":1480600985,"timestamp":1480600985,"user":"U0ULK2JPP","is_intro":true,"comment":"this is latesst","channel":""}},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1480600989.001215"},{"type":"message","user":"U0ULK2JPP","text":"cd peer","ts":"1480601013.001216"},{"type":"message","user":"U0ULK2JPP","text":"and try ?","ts":"1480601017.001217"},{"type":"message","user":"U1KFCPFQA","text":"same thing.  it was working yesterday but not today, must be my env","ts":"1480601065.001218"},{"type":"message","user":"U0ULK2JPP","text":"yea...","ts":"1480601095.001219"},{"type":"message","user":"U0ULK2JPP","text":"dies silently\u2026 hmm","ts":"1480601113.001220"},{"type":"message","user":"U1KFCPFQA","text":"ah, I had a orphaned peer process.  kill -9 got rid of it.  now it starts","ts":"1480601278.001221"},{"type":"message","user":"U1KFCPFQA","text":"got into this state since Ctrl-C wasnt working last night","ts":"1480601306.001222"},{"type":"message","user":"U1KFCPFQA","text":"how to stop peer gracefully now?","ts":"1480601314.001223"},{"type":"message","user":"U0ULK2JPP","text":"that was fixed this morning","ts":"1480601341.001224"},{"type":"message","user":"U0ULK2JPP","text":"so if you pull latest, you should have Ctrl-C","ts":"1480601352.001225","reactions":[{"name":"+1","users":["U0PB67X4K"],"count":1}]},{"type":"message","user":"U1KFCPFQA","text":"ok, I see that Ctrl-C on peer works now, IF the orderer is up","ts":"1480601532.001226"},{"type":"message","user":"U1KFCPFQA","text":"if the orderer is not up, Ctrl-C still doesn\u2019t work on peer","ts":"1480601542.001227"},{"type":"message","user":"U0KN2SSKE","text":"<@U1BC5A0F9> If the chaincode acl list contains certs, would it work?  We assume org ca\u2019s but just wonder how we verify sig","ts":"1480602438.001228"},{"type":"message","user":"U0KQ9QKH6","text":"hey guys sorry but I just caught up on the discussion regarding txid generation here - I have to say that I did not envision txid generation at the mid tier as it is an extra round trip per transaction. Right? Having txid=(creator|nonce) makes sense but is it possible we just generate creator at the mid tier and have the mobile app generate nonce?","ts":"1480603926.001229"},{"type":"message","user":"U1BC5A0F9","text":"<@U0KN2SSKE>, you mean chaincode ACL at the fabric layer? Or at the application\/chaincode layer (with the help of a library)?","edited":{"user":"U1BC5A0F9","ts":"1480605832.000000"},"ts":"1480605828.001230"},{"type":"message","user":"U0KN2SSKE","text":"<@U1BC5A0F9> at fabric level","ts":"1480605933.001232"},{"type":"message","user":"U0KN2SSKE","text":"i know one can manipulate org ca certs to narrow down the members, but what if one wanted to put member certs in the acl list","ts":"1480605990.001233"},{"type":"message","user":"U1BC5A0F9","text":"What would be the role of the chaincode ACL in this case? Would it be to restrict write access to that chaincode's state?","ts":"1480606035.001234"},{"type":"message","user":"U0KN2SSKE","text":"<@U0KQ9QKH6> would mobile app (in your case) have creator (eg certificate)?","ts":"1480606084.001235"},{"type":"message","user":"U0KN2SSKE","text":"<@U1BC5A0F9> no, it is acl for invoking the chaincode","edited":{"user":"U0KN2SSKE","ts":"1480606231.000000"},"ts":"1480606152.001236"},{"type":"message","user":"U0KQ9QKH6","text":"<@U0KN2SSKE>: thats a good question, ideally that would make sense","edited":{"user":"U0KQ9QKH6","ts":"1480606330.000000"},"ts":"1480606309.001238"},{"type":"message","user":"U0KN2SSKE","text":"<@U0KQ9QKH6> so i think it should be optional for mobile app to get txid from the mid-tier, not the only way.  Specifically, mobile app should be able to create txid itself by hash(creator|nonce)","ts":"1480606460.001240"},{"type":"message","user":"U13TWBRBL","text":"<@U0KN2SSKE>  \"it should be optional for mobile app to get txid from the mid-tier, not the only way\u201d - that\u2019s exactly the idea of this api \u201cgenerateTxID()\u201d, if a client is not able to generate txID by hashing (creator || nonce), it\u2019ll call this API and incur an extra round trip, applicable to low-powered clients (browsers) or clients that don\u2019t have the \u201ccreator\"","ts":"1480606690.001241","reactions":[{"name":"+1","users":["U0KN2SSKE"],"count":1}]},{"type":"message","user":"U13TWBRBL","text":"<@U0KQ9QKH6> ^^^","ts":"1480606698.001242"},{"type":"message","user":"U0KQ9QKH6","text":"<@U0KN2SSKE> : that sounds like the most flexible approach and I'd like that. But doesn't that have implications on peer\/orderer side uniqueness checks that were driving the motivations for mid tier generation?","ts":"1480606761.001243"},{"type":"message","user":"U0KN2SSKE","text":"<@U0KQ9QKH6> on peer, we can check the binding since we know the creator and the nonce; we also check the uniqueness to prevent replay","ts":"1480606988.001244"},{"type":"message","user":"U0KQ9QKH6","text":"<@U0KN2SSKE> : I can see how you can check the creator binding - nonce should be unique though. Isn't the point of having the creator to partition the look up space?","ts":"1480607280.001245"},{"type":"message","user":"U13TWBRBL","text":"<@U0ULK2JPP> <@U1KFCPFQA>  is it possible to do a query now without the SDK (ledger is based on leveldb)? i used the peer command to deploy and invoke, but wondering how to query...","ts":"1480607293.001246"},{"type":"message","user":"U0KN2SSKE","text":"<@U0KQ9QKH6> yes, it will help in uniqueness check if it passes the binding check","ts":"1480607393.001247"},{"type":"message","user":"U0KQ9QKH6","text":"right, makes sense","ts":"1480607434.001248"},{"type":"message","user":"U0ULK2JPP","text":"<@U13TWBRBL>  actually we got a contribution which brings back the \u201cquery\u201d - basically does proposal and prints out results from proposal response","ts":"1480607437.001249"},{"type":"message","user":"U13TWBRBL","text":"cool, is it committed?","ts":"1480607459.001250"},{"type":"message","user":"U0ULK2JPP","text":"yes","ts":"1480607461.001251","reactions":[{"name":"+1","users":["U13TWBRBL"],"count":1}]},{"type":"message","user":"U0KQ9QKH6","text":"<@U13TWBRBL> : are we planning to have the SDK also generate the creator only for the client?","ts":"1480607537.001252"},{"type":"message","user":"U0ULK2JPP","text":"<@U13TWBRBL> just wanted to make sure I wasn\u2019t dreaming it :slightly_smiling_face: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2647\/>","ts":"1480607577.001253"},{"type":"message","user":"U13TWBRBL","text":"<@U0ULK2JPP> yes just tried `peer chaincode query` and it worked as expected, thanks for the pointer","ts":"1480607774.001254","reactions":[{"name":"+1","users":["U0ULK2JPP"],"count":1}]},{"type":"message","user":"U13TWBRBL","text":"<@U0KQ9QKH6> the creator is public information so there\u2019s no reason we shouldn\u2019t make that available to the client tier via an API. note that the SDK in the middle tier still has to do the signing, but exposing the creator to the client should help avoid the roundtrip of generating txIDs for each transaction. a mobile client can download the creator once and generate the txID locally when initiating each transaction","edited":{"user":"U13TWBRBL","ts":"1480608236.000000"},"ts":"1480608209.001255","reactions":[{"name":"+1","users":["U0KQ9QKH6"],"count":1}]},{"type":"message","user":"U0W7D64LC","text":"signed transaction demo - sprint 5 playback - running from node.js SDK to 2 peers all the way through to committer. This uses SOLO ordering. Located at <https:\/\/youtu.be\/mfnIAh5zZjQ>. If you are not subscribed to the youtube channel, please do so and you will be notified of all new videos. Thanks <@U13TWBRBL> !","attachments":[{"service_name":"YouTube","service_url":"https:\/\/www.youtube.com\/","title":"node js SDK sprint 5","title_link":"https:\/\/youtu.be\/mfnIAh5zZjQ","author_name":"Hyperledger Fabric","author_link":"https:\/\/www.youtube.com\/channel\/UCCFdgCWH_1vCndMPVqQlwZw","thumb_url":"https:\/\/i.ytimg.com\/vi\/mfnIAh5zZjQ\/hqdefault.jpg","thumb_width":480,"thumb_height":360,"fallback":"YouTube Video: node js SDK sprint 5","video_html":"<iframe width=\"400\" height=\"225\" src=\"https:\/\/www.youtube.com\/embed\/mfnIAh5zZjQ?feature=oembed&autoplay=1&iv_load_policy=3\" frameborder=\"0\" allowfullscreen><\/iframe>","video_html_width":400,"video_html_height":225,"from_url":"https:\/\/youtu.be\/mfnIAh5zZjQ","service_icon":"https:\/\/a.slack-edge.com\/2089\/img\/unfurl_icons\/youtube.png","id":1}],"ts":"1480608460.001257"},{"user":"U13Q594J2","text":"<@U13Q594J2|ratnakar> has joined the channel","type":"message","subtype":"channel_join","ts":"1480609409.001259"},{"type":"message","user":"U1B2FF8LR","text":"To modify the ACL, why does the LSCC require the entire list again, rather than allowing a request that specifies a name to add or delete? is it merely for simplicity (to provide only a get and set)?","ts":"1480611650.001260"},{"user":"U1KDAMDJ7","text":"<@U1KDAMDJ7|sanchezl> has joined the channel","type":"message","subtype":"channel_join","ts":"1480628963.001261"},{"user":"U1KDAMDJ7","text":"<@U1KDAMDJ7|sanchezl> has joined the channel","type":"message","subtype":"channel_join","ts":"1480628963.001262"},{"type":"message","subtype":"file_share","text":"<@U1KDAMDJ7|sanchezl> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/sanchezl\/F38SMDDMW\/pasted_image_at_2016_12_01_04_50_pm.png|Pasted image at 2016-12-01, 4:50 PM> and commented: Is this ERRO something I should worry about?","file":{"id":"F38SMDDMW","created":1480629055,"timestamp":1480629055,"name":"Pasted image at 2016_12_01 04_50 PM.png","title":"Pasted image at 2016-12-01, 4:50 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U1KDAMDJ7","editable":false,"size":94202,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F38SMDDMW\/pasted_image_at_2016_12_01_04_50_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F38SMDDMW\/download\/pasted_image_at_2016_12_01_04_50_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38SMDDMW-780212e05d\/pasted_image_at_2016_12_01_04_50_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38SMDDMW-780212e05d\/pasted_image_at_2016_12_01_04_50_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38SMDDMW-780212e05d\/pasted_image_at_2016_12_01_04_50_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":26,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38SMDDMW-780212e05d\/pasted_image_at_2016_12_01_04_50_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":35,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38SMDDMW-780212e05d\/pasted_image_at_2016_12_01_04_50_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38SMDDMW-780212e05d\/pasted_image_at_2016_12_01_04_50_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":53,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38SMDDMW-780212e05d\/pasted_image_at_2016_12_01_04_50_pm_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":71,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38SMDDMW-780212e05d\/pasted_image_at_2016_12_01_04_50_pm_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":75,"image_exif_rotation":1,"original_w":1129,"original_h":83,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/sanchezl\/F38SMDDMW\/pasted_image_at_2016_12_01_04_50_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F38SMDDMW-8bc23a026c","channels":["C27E2LGJY"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc39J04W4A","created":1480629055,"timestamp":1480629055,"user":"U1KDAMDJ7","is_intro":true,"comment":"Is this ERRO something I should worry about?","channel":""}},"user":"U1KDAMDJ7","upload":true,"display_as_bot":false,"username":"<@U1KDAMDJ7|sanchezl>","bot_id":null,"ts":"1480629058.001265"},{"type":"message","user":"U0ULK2JPP","text":"<@U1KDAMDJ7> nope","ts":"1480629121.001266"},{"type":"message","user":"U0ULK2JPP","text":"just chaincode getting shutdown after endorsement \u2026.","ts":"1480629148.001267"},{"type":"message","user":"U0ULK2JPP","text":"needs to be committed first","ts":"1480629164.001268"},{"type":"message","user":"U0ULK2JPP","text":"an invoke after commit will \/should bring it up","ts":"1480629178.001269"},{"type":"message","subtype":"file_share","text":"<@U1KDAMDJ7|sanchezl> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/sanchezl\/F38TKC3MF\/pasted_image_at_2016_12_01_04_52_pm.png|What about this one:>","file":{"id":"F38TKC3MF","created":1480629182,"timestamp":1480629182,"name":"Pasted image at 2016_12_01 04_52 PM.png","title":"What about this one:","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U1KDAMDJ7","editable":false,"size":581242,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F38TKC3MF\/pasted_image_at_2016_12_01_04_52_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F38TKC3MF\/download\/pasted_image_at_2016_12_01_04_52_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38TKC3MF-80ba4e7665\/pasted_image_at_2016_12_01_04_52_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38TKC3MF-80ba4e7665\/pasted_image_at_2016_12_01_04_52_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38TKC3MF-80ba4e7665\/pasted_image_at_2016_12_01_04_52_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":181,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38TKC3MF-80ba4e7665\/pasted_image_at_2016_12_01_04_52_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":242,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38TKC3MF-80ba4e7665\/pasted_image_at_2016_12_01_04_52_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38TKC3MF-80ba4e7665\/pasted_image_at_2016_12_01_04_52_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":362,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38TKC3MF-80ba4e7665\/pasted_image_at_2016_12_01_04_52_pm_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":483,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F38TKC3MF-80ba4e7665\/pasted_image_at_2016_12_01_04_52_pm_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":515,"image_exif_rotation":1,"original_w":1051,"original_h":529,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/sanchezl\/F38TKC3MF\/pasted_image_at_2016_12_01_04_52_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F38TKC3MF-83ac69bb61","channels":["C27E2LGJY"],"groups":[],"ims":[],"comments_count":0},"user":"U1KDAMDJ7","upload":true,"display_as_bot":false,"username":"<@U1KDAMDJ7|sanchezl>","bot_id":null,"ts":"1480629186.001270"},{"type":"message","user":"U0ULK2JPP","text":"now that\u2019s a bad thing","ts":"1480629216.001271"},{"type":"message","subtype":"file_share","text":"<@U1KDAMDJ7|sanchezl> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/sanchezl\/F3A8H526S\/pasted_image_at_2016_12_01_04_53_pm.png|I see that running this command:>","file":{"id":"F3A8H526S","created":1480629217,"timestamp":1480629217,"name":"Pasted image at 2016_12_01 04_53 PM.png","title":"I see that running this command:","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U1KDAMDJ7","editable":false,"size":50653,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3A8H526S\/pasted_image_at_2016_12_01_04_53_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3A8H526S\/download\/pasted_image_at_2016_12_01_04_53_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3A8H526S-92f47d39d2\/pasted_image_at_2016_12_01_04_53_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3A8H526S-92f47d39d2\/pasted_image_at_2016_12_01_04_53_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3A8H526S-92f47d39d2\/pasted_image_at_2016_12_01_04_53_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":61,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3A8H526S-92f47d39d2\/pasted_image_at_2016_12_01_04_53_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":81,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3A8H526S-92f47d39d2\/pasted_image_at_2016_12_01_04_53_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","image_exif_rotation":1,"original_w":558,"original_h":94,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/sanchezl\/F3A8H526S\/pasted_image_at_2016_12_01_04_53_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3A8H526S-4a35b5b2d2","channels":["C27E2LGJY"],"groups":[],"ims":[],"comments_count":0},"user":"U1KDAMDJ7","upload":true,"display_as_bot":false,"username":"<@U1KDAMDJ7|sanchezl>","bot_id":null,"ts":"1480629219.001272"},{"type":"message","user":"U37Q1F5FT","text":"Hi, I followed the youtube video for sprint 5 with same commit but when I run the end to end test I have this error in node sdk:                                                                                                                                                                                 \n\n[Member.js]: Failed to enroll user \"sdk\". Error: Error: Enrollment failed with errors [[{\"code\":400,\"message\":\"sql: unknown driver \\\"\\\" (forgotten import?)\"}]]\n    at IncomingMessage.&lt;anonymous&gt; (C:\\goprojects\\src\\<http:\/\/github.com|github.com>\\hyperledger\\fabric-sdk-node\\lib\\impl\\FabricCOPImpl.js:286:22)\n    at emitNone (events.js:91:20)\n    at IncomingMessage.emit (events.js:185:7)\n    at endReadableNT (_stream_readable.js:974:12)\n    at _combinedTickCallback (internal\/process\/next_tick.js:74:11)\n    at process._tickCallback (internal\/process\/next_tick.js:98:9)\n\nAnd This error from fabric-cop:\n\nAuthorization: Basic c2RrOnNka3B3\n-----BEGIN CERTIFICATE REQUEST-----\nMIHKMHACAQAwDjEMMAoGA1UEAwwDc2RrMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcD\nQgAEnYezsfOcj5HMvmmiU1voLtYXC\/Dewm9kdweSbpCkEEZp3QHh1pmDY3fiGFmx\nydTTCGfGyVoY5Ic5fG12WqveBaAAMAwGCCqGSM49BAMCBQADSAAwRQIhAIn928AX\nDlYRVhAEWf\/ZvR7+yp41xC\/fqnAeesF60Zr9AiBTTaIJ3CoFM5pcckeWTgaB8ZUk\nZJQeSTGOhVgYA\/kDOw==\n-----END CERTIFICATE REQUEST-----\n2016\/12\/01 22:16:22 [INFO] 10.0.2.2:53839 - \"POST \/api\/v1\/cfssl\/enroll\" 400","attachments":[{"fallback":"[December 1st, 2016 11:07 AM] markparz: signed transaction demo - sprint 5 playback - running from node.js SDK to 2 peers all the way through to committer. This uses SOLO ordering. Located at <https:\/\/youtu.be\/mfnIAh5zZjQ>. If you are not subscribed to the youtube channel, please do so and you will be notified of all new videos. Thanks <@U13TWBRBL> !","ts":"1480608460.001257","author_subname":"markparz","channel_id":"C27E2LGJY","channel_name":"fabric-peer-dev","is_msg_unfurl":true,"text":"signed transaction demo - sprint 5 playback - running from node.js SDK to 2 peers all the way through to committer. This uses SOLO ordering. Located at <https:\/\/youtu.be\/mfnIAh5zZjQ>. If you are not subscribed to the youtube channel, please do so and you will be notified of all new videos. Thanks <@U13TWBRBL> !","author_name":"Mark Parzygnat","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/markparz","author_icon":"https:\/\/avatars.slack-edge.com\/2016-05-18\/44014366677_d520b6a39dfa9716f55d_48.jpg","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-peer-dev\/p1480608460001257","is_share":true,"footer":"Posted in #fabric-peer-dev"}],"edited":{"user":"U37Q1F5FT","ts":"1480631320.000000"},"ts":"1480630303.001273"},{"user":"U32LDD9JA","text":"<@U32LDD9JA|ledger888> has joined the channel","type":"message","subtype":"channel_join","ts":"1480701208.001279"},{"type":"message","user":"U0KN2SSKE","text":"A potential chaincode interface change that I am contemplating: \n\nThe current interface `Invoke(stub shim.ChaincodeStubInterface) ([]byte, error) ` doesn\u2019t differentiate error codes; every error is equal, which is not right as we need to differentiate between different classes of errors, like HTTP codes.  We want status codes in general to indicate result of the execution of a chaincode.\n\nSo I am thinking about the following changes:  `Invoke(stub shim.ChaincodeStubInterface) Response`  where\n```type Response struct {\n    int32 status = 1;   \/\/ HTTP status code\n\tstring message = 2;   \/\/ A message associated with the response code.\n\tbytes payload = 3;   \/\/ Any additional data\n}```\n\nThis `Response` would be part of the `ProposalResponse` on endorsement, which automatically makes it part of the transaction if the app decides to submit the transaction.\n\nAn alternative (without changing the interface) is to create a convention on error message, where we encode the `status` in the message,  like `status-code \u2014 reason-message`.\n\nAppreciate any feedback.","ts":"1480719095.001280"},{"type":"message","user":"U0PB67X4K","text":"rather than breaking the chaincode interface again, what about implementing a custom error type?\n\n```\ntype ChaincodeError struct {\n    int32 status\n    string message\n   \/\/you could add additional fields\n}\n\nfunc (ce *ChaincodeError) Error() string {\n    return ce.message\n}\n\n\/\/any other additional methods \/ getters\n```","edited":{"user":"U0PB67X4K","ts":"1480724639.000000"},"ts":"1480724515.001281","reactions":[{"name":"+1","users":["U0ZJZBJLF","U1HFNJB50"],"count":2}]},{"type":"message","user":"U0PB67X4K","text":"error is simply an interface that requires Error() string","ts":"1480724671.001283"},{"type":"message","user":"U0ULK2JPP","text":"<@U0PB67X4K> we could do that \u2026 but chaincode dev does not have to return that error unless the interface returns ChaincodeError (in which case we\u2019ll break the interface again)","edited":{"user":"U0ULK2JPP","ts":"1480768477.000000"},"ts":"1480768451.001284"},{"type":"message","user":"U0PB67X4K","text":"I guess I was looking at it from the perspective that a chaincode developer could have the option of returning either a plain old `error` or they could return a `ChaincodeError` if they so desired","ts":"1480772722.001286"},{"type":"message","user":"U0PB67X4K","text":"I guess I am not sure what generic types of errors we would expect developers to return from chaincode so perhaps I am a bit confused?","ts":"1480772826.001287"},{"type":"message","user":"U0PB67X4K","text":"moreever, instead of having a `ChaincodeError` type, we could theoretically have a `FabricError` type - and then various parts of the system could gradually start to return more detailed errors if they wanted but we'd also be compatible with anything that returned or expected a Go `error`","ts":"1480772929.001288"},{"type":"message","user":"U0PB67X4K","text":"that was my thinking","ts":"1480772933.001289"},{"type":"message","user":"U0ULK2JPP","text":"Right, let me think...","ts":"1480774107.001290"},{"type":"message","user":"U0ULK2JPP","text":"when the endorser system executest a chaincode, the following can happen (1) no error, happy path (2) error from chaincode on biz logic (bad input, invalid user etc) (3) error from fabric (say chaincode not found) (4) infratructure errors inside the chaincode (say resource not found or something unexpected)","ts":"1480774304.001291"},{"type":"message","user":"U0ULK2JPP","text":"1 and 2 should be endorsed (even if its a biz logic error, we want to endorse it and save the failed (but valid otherwise) tx on the ledger","ts":"1480774398.001292"},{"type":"message","user":"U0ULK2JPP","text":"3) should not be endorsed","edited":{"user":"U0ULK2JPP","ts":"1480774429.000000"},"ts":"1480774420.001293"},{"type":"message","user":"U0ULK2JPP","text":"(4) really is upto chaincode\u2026 only the chaincode exec really knows if this error is something that\u2019s \u201cwell understood\u201d and can be endorsed or something unexpected which should be bailed out","ts":"1480774486.001295"},{"type":"message","user":"U0ULK2JPP","text":"so bottom line, the endorser system needs to know how to deal with the result from the chaincode","ts":"1480774510.001296"},{"type":"message","user":"U0ULK2JPP","text":"as you say, we can take the generic approach that if a plain \u201cerr\u201d never endorse or if ChaincodeErr, look in it to see what should be done (if code &gt;= 500 then chancode indicates \u201cdon\u2019t endorse\u201d)","ts":"1480774575.001297"},{"type":"message","user":"U0ULK2JPP","text":"or we can change the interface to do a Response return \u2026. to keep it simple. The other thing about a single Response is that is language friendly\u2026 Java can return 1 arg too","edited":{"user":"U0ULK2JPP","ts":"1480774830.000000"},"ts":"1480774659.001298"},{"type":"message","user":"U0ULK2JPP","text":"(gosh I hate it when I have to type so much\u2026 makes me feel I\u2019m babbling :slightly_smiling_face: \u2026 sorry for the length)","ts":"1480774703.001299"},{"type":"message","user":"U0KN2SSKE","text":"<@U0PB67X4K> what we would have to do in the interface impl is to return the status as alternative method I mentioned\n```func (ce *ChaincodeError) Error() string {\n    return ce.status + \u201c \u2014 \u201c +ce.message\n}```","ts":"1480778941.001302"},{"type":"message","user":"U0KN2SSKE","text":"Also if we returned something else as an impl of Error interface (as opposed to mixin type), we would have to type cast to call specific functions from our object","ts":"1480779123.001303"},{"type":"message","user":"U0PB67X4K","text":"ah - sorry - missed your alternative","ts":"1480779213.001304"},{"type":"message","user":"U0PB67X4K","text":"BUT - <@U0ULK2JPP>  <@U0KN2SSKE>  - I am a bit confused as to what we are trying to do here.  \n\n`Invoke(stub shim.ChaincodeStubInterface) ([]byte, error) `   - this is the method by users in their user-defined chaincode","edited":{"user":"U0PB67X4K","ts":"1480779412.000000"},"ts":"1480779282.001305"},{"type":"message","user":"U0PB67X4K","text":"so are we trying to give chaincode developers a set of error \/ status codes to choose from?   I guess I am not quite understanding the purpose unless you are saying that we would distinguish between some pre-determined status codes returned by users in their chaincode","ts":"1480779400.001306"},{"type":"message","user":"U0KN2SSKE","text":"right, we are trying to enable a chaincode to return `status-code`, like http","ts":"1480779435.001308"},{"type":"message","user":"U0PB67X4K","text":"So are you going to specify a list for users to choose from?   from an end-user perspective, what difference does it make in having a code come back versus just the error message?  Not like we can populate the status code ourselves - users would have to do this","edited":{"user":"U0PB67X4K","ts":"1480779548.000000"},"ts":"1480779532.001309"},{"type":"message","user":"U0KN2SSKE","text":"yes, we would follow http status codes","ts":"1480779624.001311"},{"type":"message","user":"U0KN2SSKE","text":"a subset to be exact","ts":"1480779642.001312"},{"type":"message","user":"U0ULK2JPP","text":"to me status-code is more a means to achieve the following - \u201cI got an error when attempting to call the chaincode\u2026 how can I determine if I should proceed to endorse the proposal  or throw it away\u201d. \u2026 some indication from the chaincode (if the error happened during executing the chaincode) would be necessary. Status code could be used to do that (anything &gt;= 500 is \u201cdon\u2019t endorse\u201d)","ts":"1480779733.001313"},{"type":"message","user":"U0PB67X4K","text":"Why make it more complex then return` []byte` for endorsement and `error` for no endorsement","edited":{"user":"U0PB67X4K","ts":"1480779836.000000"},"ts":"1480779793.001314"},{"type":"message","user":"U0ULK2JPP","text":"`[]byte( \u201cyou don\u2019t have 100 in your account\u201d), nil`","ts":"1480779851.001316"},{"type":"message","user":"U0ULK2JPP","text":"?","ts":"1480779853.001317"},{"type":"message","user":"U0ULK2JPP","text":"we can do that, but the app logic becomes heavy","ts":"1480779911.001318"},{"type":"message","user":"U0PB67X4K","text":"no - that's not what I mean","ts":"1480779923.001319"},{"type":"message","user":"U0KN2SSKE","text":"we can use []byte to achieve the purpose, but it is clunky\/hacky","ts":"1480779923.001320"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1480779927.001321"},{"type":"message","user":"U0ULK2JPP","text":"Oh I see\u2026 you are saying `if []bytes != nil, endorse else don\u2019t` ?","edited":{"user":"U0ULK2JPP","ts":"1480780066.000000"},"ts":"1480780051.001322"},{"type":"message","user":"U0PB67X4K","text":"I am thoroughly confused here honestly.  So let's take <@U0ULK2JPP> example.  \n\n1) The proposal is to transfer 100 from A to B.   \n2) In their chaincode function, they discover that A has less than $100\n3) they return `nil,errors.New(\"insufficient balance\")`","ts":"1480780068.001324"},{"type":"message","user":"U0PB67X4K","text":"ESCC sees that error is populated and does not sign it","edited":{"user":"U0PB67X4K","ts":"1480780111.000000"},"ts":"1480780101.001325"},{"type":"message","user":"U0ULK2JPP","text":"right","ts":"1480780124.001327"},{"type":"message","user":"U0ULK2JPP","text":"or if they DO want to sign that","ts":"1480780140.001328"},{"type":"message","user":"U0PB67X4K","text":"So unless the idea here is to give a more uniform format for customers to decide their OWN status codes and logic to couple chaincode and custom ESCC, I see no value","ts":"1480780164.001329"},{"type":"message","user":"U0ULK2JPP","text":"1) The proposal is to transfer 100 from A to B.   \n2) In their chaincode function, they discover that A has less than $100\n3) they return `[]byte(\u201cthis transfer will not take place\u201d), errors.New(\"insufficient balance\")`","ts":"1480780201.001330"},{"type":"message","user":"U0PB67X4K","text":"why return anything other than an error?","ts":"1480780235.001331"},{"type":"message","user":"U0PB67X4K","text":"I guess the better question is where \/ how do you see this \"status code\" being used?","ts":"1480780312.001332"},{"type":"message","user":"U0PB67X4K","text":"cuz I'm still not seeing it","ts":"1480780320.001333"},{"type":"message","user":"U0ULK2JPP","text":"ok\u2026 suggest let\u2019s ignore status code for the time being","ts":"1480780355.001334"},{"type":"message","user":"U0KN2SSKE","text":"the escc needs to decide whether to endorse or not \u2014 given a status-code to carry the semantics of the chaincode would allow the escc to make the decision \u2014 as i said, []byte would do but hacky","ts":"1480780366.001335"},{"type":"message","user":"U0PB67X4K","text":"but why would the decision not have been made in the chaincode in the first place?","ts":"1480780401.001336"},{"type":"message","user":"U0PB67X4K","text":"I mean I'm fine if we are trying to enable users to write cleaner switch statements with their own custom status code (int32 is nice for this), but I really kinda struggle with it.","ts":"1480780555.001337"},{"type":"message","user":"U0PB67X4K","text":"and I guess if people want to use the default ESCC we tell them to use status=200 or some reserved value?","ts":"1480780645.001338"},{"type":"message","user":"U0KN2SSKE","text":"good question \u2014 i was thinking that some errors (like murali\u2019s example) still need to be endorsed (business reasons), so it isn\u2019t error=no endorse;  business might want to endorse even in case of errors","ts":"1480780691.001339"},{"type":"message","user":"U0KN2SSKE","text":"just added flexibility in our chaincode interface model","ts":"1480780731.001340"},{"type":"message","user":"U0PB67X4K","text":"well I can live with it, but it's another change which is going to result in changing code in a bunch of places and also going to make it harder to move chaincode from v0.6 to v1.0","ts":"1480780844.001341"},{"type":"message","user":"U0PB67X4K","text":":disappointed:","ts":"1480780871.001342"},{"type":"message","user":"U0ULK2JPP","text":":disappointed: I know\u2026 we were debating that","ts":"1480780873.001343"},{"type":"message","user":"U0ULK2JPP","text":":slightly_smiling_face:","ts":"1480780875.001344"},{"type":"message","user":"U0ULK2JPP","text":"two faces with one thought","ts":"1480780881.001345"},{"type":"message","user":"U0ULK2JPP","text":"but here\u2019s the deal Gari\u2026 `func Invoke(stub)  Response` does present a nice interface\u2026 once we have this we can stuff anthing into Response going forward","edited":{"user":"U0ULK2JPP","ts":"1480781031.000000"},"ts":"1480780964.001346"},{"type":"message","user":"U0PB67X4K","text":"is args coming back?","ts":"1480780996.001347"},{"type":"message","user":"U0PB67X4K","text":":wink:","ts":"1480781000.001348"},{"type":"message","user":"U0ULK2JPP","text":"and maps nicely to `return one arg` with jave","ts":"1480781014.001349"},{"type":"message","user":"U0ULK2JPP","text":"oops, I hope not :slightly_smiling_face:","ts":"1480781022.001350"},{"type":"message","user":"U0PB67X4K","text":"just kidding  :wink:","ts":"1480781028.001351"},{"type":"message","user":"U0ULK2JPP","text":"there","ts":"1480781034.001353"},{"type":"message","user":"U0ULK2JPP","text":"let\u2019s simmer that for a bit .. end of day I just need to know how to distiguish various responses from chaincode in the endorser.","ts":"1480781116.001354"},{"type":"message","user":"U0ULK2JPP","text":"I do have one more thing \u2026real quick","ts":"1480781128.001355"},{"type":"message","user":"U0ULK2JPP","text":"so I got rid of DefaultChain from the chaincode framework and chainID has to flow top down everywhere","ts":"1480781165.001356"},{"type":"message","user":"U0ULK2JPP","text":"the buck stops at `peer node start` now","ts":"1480781175.001357"},{"type":"message","user":"U0ULK2JPP","text":"without \u201cjoin\u201d I have to pass the  chainID during start so we can continue testing which waiting for join and bootstrap","ts":"1480781232.001358"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F3A85GBT4\/pasted_image_at_2016_12_03_11_07_am.png|Pasted image at 2016-12-03, 11:07 AM> and commented: that\u2019s in peer\/node\/start.go","file":{"id":"F3A85GBT4","created":1480781270,"timestamp":1480781270,"name":"Pasted image at 2016_12_03 11_07 AM.png","title":"Pasted image at 2016-12-03, 11:07 AM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":158673,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3A85GBT4\/pasted_image_at_2016_12_03_11_07_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3A85GBT4\/download\/pasted_image_at_2016_12_03_11_07_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3A85GBT4-9d2bb76780\/pasted_image_at_2016_12_03_11_07_am_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3A85GBT4-9d2bb76780\/pasted_image_at_2016_12_03_11_07_am_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3A85GBT4-9d2bb76780\/pasted_image_at_2016_12_03_11_07_am_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":189,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3A85GBT4-9d2bb76780\/pasted_image_at_2016_12_03_11_07_am_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":252,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3A85GBT4-9d2bb76780\/pasted_image_at_2016_12_03_11_07_am_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3A85GBT4-9d2bb76780\/pasted_image_at_2016_12_03_11_07_am_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":379,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3A85GBT4-9d2bb76780\/pasted_image_at_2016_12_03_11_07_am_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":505,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3A85GBT4-9d2bb76780\/pasted_image_at_2016_12_03_11_07_am_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":538,"image_exif_rotation":1,"original_w":1396,"original_h":734,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F3A85GBT4\/pasted_image_at_2016_12_03_11_07_am.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3A85GBT4-4b98d06814","channels":["C27E2LGJY"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc3AUCPHNK","created":1480781270,"timestamp":1480781270,"user":"U0ULK2JPP","is_intro":true,"comment":"that\u2019s in peer\/node\/start.go","channel":""}},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1480781273.001359"},{"type":"message","user":"U0ULK2JPP","text":"can we live with that ? this will present a simpler CR","ts":"1480781308.001360"},{"type":"message","user":"U0ULK2JPP","text":"oops","ts":"1480781352.001361"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F3A66BSF5\/pasted_image_at_2016_12_03_11_09_am.png|Pasted image at 2016-12-03, 11:09 AM> and commented: forgot to copy after the save","file":{"id":"F3A66BSF5","created":1480781364,"timestamp":1480781364,"name":"Pasted image at 2016_12_03 11_09 AM.png","title":"Pasted image at 2016-12-03, 11:09 AM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":161261,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3A66BSF5\/pasted_image_at_2016_12_03_11_09_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3A66BSF5\/download\/pasted_image_at_2016_12_03_11_09_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3A66BSF5-b711fad6cd\/pasted_image_at_2016_12_03_11_09_am_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3A66BSF5-b711fad6cd\/pasted_image_at_2016_12_03_11_09_am_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3A66BSF5-b711fad6cd\/pasted_image_at_2016_12_03_11_09_am_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":181,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3A66BSF5-b711fad6cd\/pasted_image_at_2016_12_03_11_09_am_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":242,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3A66BSF5-b711fad6cd\/pasted_image_at_2016_12_03_11_09_am_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3A66BSF5-b711fad6cd\/pasted_image_at_2016_12_03_11_09_am_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":363,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3A66BSF5-b711fad6cd\/pasted_image_at_2016_12_03_11_09_am_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":483,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3A66BSF5-b711fad6cd\/pasted_image_at_2016_12_03_11_09_am_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":516,"image_exif_rotation":1,"original_w":1402,"original_h":706,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F3A66BSF5\/pasted_image_at_2016_12_03_11_09_am.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3A66BSF5-cf7854afb1","channels":["C27E2LGJY"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc39HPSNE5","created":1480781364,"timestamp":1480781364,"user":"U0ULK2JPP","is_intro":true,"comment":"forgot to copy after the save","channel":""}},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1480781366.001362"},{"type":"message","user":"U0ULK2JPP","text":"I don\u2019t want to pass `-C chainID` to `peer node start` as that\u2019s not correct.","ts":"1480781464.001363"},{"type":"message","user":"U0ULK2JPP","text":"if we are doing something temporary till join comes in its better to do","ts":"1480781484.001364"},{"type":"message","user":"U0ULK2JPP","text":"```chainID := util.GetTestChainID()\n        registerChaincodeSupport(chainID, grpcServer)```","ts":"1480781533.001365"},{"type":"message","user":"U0PB67X4K","text":"I see what you are saying.  We are still missing an overall peer field \/ concept of a chain overall","edited":{"user":"U0PB67X4K","ts":"1480781582.000000"},"ts":"1480781550.001366"},{"type":"message","user":"U0ULK2JPP","text":"ight","ts":"1480781555.001367"},{"type":"message","user":"U0ULK2JPP","text":"right","ts":"1480781558.001368"},{"type":"message","user":"U0ULK2JPP","text":"this takes us to the edge","ts":"1480781564.001369"},{"type":"message","user":"U0ULK2JPP","text":"so when that does come in, it can be plugged into the system and it\u2019ll just slip in","ts":"1480781586.001371"},{"type":"message","user":"U0ULK2JPP","text":"I am going to play with a \u201cjoin\u201d in my sandbox to see how the chain will be initialized","ts":"1480781623.001372"},{"type":"message","user":"U0ULK2JPP","text":"and - I think - will be able to do multiple chains once that chain initialization code is in place","ts":"1480781666.001373"},{"type":"message","user":"U0ULK2JPP","text":"(just in my sandbox \u2026 my goal is to test the endorser and chaincode framework\u2026 not config or gossip)","ts":"1480781699.001374"},{"type":"message","user":"U0ULK2JPP","text":"but for the CR, its just \u201cremove DefaultChain and force trckle down of chainID\"","ts":"1480781741.001375"},{"type":"message","user":"U0ULK2JPP","text":"the nice thing is that the trickle down is only on the endorsement side","ts":"1480781785.001376"},{"type":"message","user":"U0ULK2JPP","text":"the committer picks up the chain ID from the block","ts":"1480781797.001377"},{"type":"message","user":"U0ULK2JPP","text":"let me submit the CR (after testing etc) and you can take a look","ts":"1480781851.001378"},{"type":"message","user":"U0PB67X4K","text":"sounds good","ts":"1480782114.001379"},{"type":"message","user":"U0PB67X4K","text":"","attachments":[{"fallback":"[December 3rd, 2016 4:32 PM] garisingh: hey folks - please check out <https:\/\/jira.hyperledger.org\/browse\/FAB-1255>\n\nGiven some of the oddities of how we are going to have to deal with identity and trust certificates and also that we want to make TLS a first class citizen, I thought it would make sense to create a standard \"secure GRPC server\".   Just started on it but should have basic functions working in a day or so.  I also want to add in some interceptors and metrics as well\n\nIf there are specific setting that you need to pass in (e.g. max message size, etc), please add them to the JIRA.\n\nOther option is to say this is a stupid idea :wink:","ts":"1480800756.004660","author_subname":"garisingh","channel_id":"C0Z4NBUN6","channel_name":"fabric-consensus-dev","is_msg_unfurl":true,"text":"hey folks - please check out <https:\/\/jira.hyperledger.org\/browse\/FAB-1255>\n\nGiven some of the oddities of how we are going to have to deal with identity and trust certificates and also that we want to make TLS a first class citizen, I thought it would make sense to create a standard \"secure GRPC server\".   Just started on it but should have basic functions working in a day or so.  I also want to add in some interceptors and metrics as well\n\nIf there are specific setting that you need to pass in (e.g. max message size, etc), please add them to the JIRA.\n\nOther option is to say this is a stupid idea :wink:","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/garisingh","author_icon":"https:\/\/avatars.slack-edge.com\/2016-09-10\/78323915894_521dc680194c08b166e0_48.jpg","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-consensus-dev\/p1480800756004660","is_share":true,"footer":"Posted in #fabric-consensus-dev"}],"ts":"1480800776.001380"},{"type":"message","subtype":"file_share","text":"<@U2Y3JHRP1|daniellee> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/daniellee\/F3B1PP4E6\/Hyperledger_Branch_0_6_Make_error.txt|Hyperledger Branch 0.6 Make error> and commented: Anyone can build the current hyperledger-0.6 branch? I got this error when I run 'make all'","file":{"id":"F3B1PP4E6","created":1480998659,"timestamp":1480998659,"name":"Hyperledger_Branch_0_6_Make_error.txt","title":"Hyperledger Branch 0.6 Make error","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U2Y3JHRP1","editable":true,"size":366,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3B1PP4E6\/Hyperledger_Branch_0_6_Make_error.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3B1PP4E6\/download\/Hyperledger_Branch_0_6_Make_error.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/daniellee\/F3B1PP4E6\/Hyperledger_Branch_0_6_Make_error.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3B1PP4E6-2e1b41c4f5","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/daniellee\/F3B1PP4E6\/Hyperledger_Branch_0_6_Make_error.txt\/edit","preview":"...\r\n\r\nStep 13 : RUN core\/chaincode\/shim\/java\/javabuild.sh\r\n ---> Running in 21366fead8f3\r\n\/bin\/sh: 1: core\/chaincode\/shim\/java\/javabuild.sh: not found\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>...<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<div><pre>Step 13 : RUN core\/chaincode\/shim\/java\/javabuild.sh<\/pre><\/div>\n<div><pre> ---&gt; Running in 21366fead8f3<\/pre><\/div>\n<div><pre>\/bin\/sh: 1: core\/chaincode\/shim\/java\/javabuild.sh: not found<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":9,"lines_more":4,"preview_is_truncated":false,"channels":["C27E2LGJY"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc3AAB7CQY","created":1480998659,"timestamp":1480998659,"user":"U2Y3JHRP1","is_intro":true,"comment":"Anyone can build the current hyperledger-0.6 branch? I got this error when I run 'make all'","channel":""}},"user":"U2Y3JHRP1","upload":true,"display_as_bot":false,"username":"<@U2Y3JHRP1|daniellee>","bot_id":null,"ts":"1480998659.000002"},{"type":"message","user":"U0KM61BCP","text":"you are building inside of vagrant?","ts":"1481048246.000004"},{"type":"message","user":"U0KM61BCP","text":"<@U2Y3JHRP1> ^^","ts":"1481048275.000005"},{"type":"message","user":"U0KM61BCP","text":"sorry for the delay, have been hosting the Hyperledger hackfest","ts":"1481048295.000006"},{"type":"message","user":"U2Y3JHRP1","text":"<@U0KM61BCP> I built it on Ubuntu 16","ts":"1481071634.000007"},{"type":"message","user":"U0KM61BCP","text":"from ...?","ts":"1481071703.000008"},{"type":"message","user":"U2Y3JHRP1","text":"<@U0KM61BCP> \nOn Ubuntu machine, \nI download the source code from this branch:   \n<https:\/\/github.com\/hyperledger\/fabric\/archive\/v0.6.zip>\n\nUnzip , and go to folder '<http:\/\/github.com\/hyperledger\/fabric\/|github.com\/hyperledger\/fabric\/>'\nrun 'make all'\n\nIt started to download the docker images and build. And then the error above is shown","edited":{"user":"U2Y3JHRP1","ts":"1481080157.000000"},"ts":"1481080042.000009"},{"type":"message","user":"U0NK7T8SH","text":"Hi all, I have a question on peer\u2019s certificates store in version 0.6, I cleaned both \/var\/hyperledger\/production\/.membersrvc of membersrvc and \/var\/hyperledger\/production\/crypto of peer, after restart membersrv and peer.","ts":"1481188566.000016"},{"type":"message","user":"U0NK7T8SH","text":"after restart them, why the peer still asking for old enrollment certificate?","ts":"1481188652.000017"},{"type":"message","user":"U0NK7T8SH","text":"I didn\u2019t clean the \/var\/hyperledger\/production\/db directory, since I want to keep the chain, thanks in advance.","ts":"1481188828.000018"},{"type":"message","user":"U26T99AQ4","text":"heads up: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3025\/> changes the way identities (that is, certs) have to be serialized to bytes","ts":"1481190252.000019"},{"type":"message","user":"U26T99AQ4","text":"the new way takes the previous byte array and sets it to be `SerializedIdentity.IdBytes` in this struct\n```\ntype SerializedIdentity struct {\n\tMspid string\n\tIdBytes []byte\n}\n```\n`SerializedIdentity.Mspid` contains the name of the MSP that issued the identity. This struct is then marshalled using ASN.1 and the resulting byte array is what goes in the proto messages","ts":"1481190389.000020","reactions":[{"name":"+1","users":["U1BC5A0F9"],"count":1}]},{"type":"message","user":"U0KM61BCP","text":"poke around in the docs for the setup for linux... you are missing a setup prerequisite to install maven and java","ts":"1481206915.000021"},{"type":"message","user":"U0KM61BCP","text":"<@U2Y3JHRP1>: ^^","ts":"1481206953.000022"},{"type":"message","user":"U0KM61BCP","text":"I would provide the link but don't have my laptop with me now","ts":"1481207001.000023"},{"type":"message","user":"U13TWBRBL","text":"<@U0KN2SSKE> i have a question on how to assemble the \u201cCONFIG transaction\u201d as part of creating a chain, specifically on obtaining \u201cendorsement\u201d: <https:\/\/docs.google.com\/document\/d\/1eRNxxQ0P8yp4Wh__Vi6ddaN_vhN2RQHP-IruHNUwyhc\/edit?disco=AAAAAwRbL0Y>","ts":"1481223657.000024"},{"user":"U3BQF48RE","text":"<@U3BQF48RE|oliverledger> has joined the channel","type":"message","subtype":"channel_join","ts":"1481231759.000028"},{"type":"message","user":"U0KN2SSKE","text":"<@U13TWBRBL>  i am looking at <@U0XQ35CDD>\u2019 CR <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2483\/>  to extract out the function that create a config block to create a chain for writing unit tests","edited":{"user":"U0KN2SSKE","ts":"1481239510.000000"},"ts":"1481239489.000029"},{"type":"message","user":"U0KN2SSKE","text":"endorsement is on offline process (we\u2019ll need a cli to help)","ts":"1481239587.000031"},{"type":"message","subtype":"file_share","text":"<@U13TWBRBL|jzhang> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/jzhang\/F3CNH8Y3X\/pasted_image_at_2016_12_08_11_49_pm.png|Pasted image at 2016-12-08, 11:49 PM>","file":{"id":"F3CNH8Y3X","created":1481258959,"timestamp":1481258959,"name":"Pasted image at 2016_12_08 11_49 PM.png","title":"Pasted image at 2016-12-08, 11:49 PM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U13TWBRBL","editable":false,"size":39531,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3CNH8Y3X\/pasted_image_at_2016_12_08_11_49_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3CNH8Y3X\/download\/pasted_image_at_2016_12_08_11_49_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3CNH8Y3X-bff6064f79\/pasted_image_at_2016_12_08_11_49_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3CNH8Y3X-bff6064f79\/pasted_image_at_2016_12_08_11_49_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3CNH8Y3X-bff6064f79\/pasted_image_at_2016_12_08_11_49_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":95,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3CNH8Y3X-bff6064f79\/pasted_image_at_2016_12_08_11_49_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":126,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3CNH8Y3X-bff6064f79\/pasted_image_at_2016_12_08_11_49_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","image_exif_rotation":1,"original_w":585,"original_h":154,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/jzhang\/F3CNH8Y3X\/pasted_image_at_2016_12_08_11_49_pm.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3CNH8Y3X-5d99be7748","channels":["C27E2LGJY"],"groups":[],"ims":[],"comments_count":0},"user":"U13TWBRBL","upload":true,"display_as_bot":false,"username":"<@U13TWBRBL|jzhang>","bot_id":null,"ts":"1481258961.000036"},{"type":"message","user":"U13TWBRBL","text":"<@U26T99AQ4> the dreaded byte[] appears in the config file :scream:","ts":"1481258995.000037"},{"type":"message","user":"U13TWBRBL","text":"i understand this is because that field gets overloaded for the specific MSP implementation (same as why byte[] are used in protos for extensible fields)","ts":"1481259322.000038"},{"type":"message","user":"U13TWBRBL","text":"but there\u2019s got to be a better way...","ts":"1481259361.000039"},{"type":"message","user":"U13TWBRBL","text":"one way, albeit clunky, is to make the \u201cconfig\u201d field a file path, so it gets passed to the MSP impl to read in the file and unmarshal as it sees fit, that way the target file is fully expanded json","edited":{"user":"U13TWBRBL","ts":"1481259608.000000"},"ts":"1481259569.000040"},{"type":"message","user":"U13TWBRBL","text":"i don\u2019t know about others but to me it\u2019s very important that config files are immediately ready for human inspection","ts":"1481259657.000042"},{"type":"message","user":"U26T99AQ4","text":"<@U13TWBRBL> are you talking about the genesis block or the local MSP config?","ts":"1481289725.000043"},{"type":"message","user":"U13TWBRBL","text":"<@U26T99AQ4> the above config was for the local msp config","ts":"1481290394.000044"},{"type":"message","user":"U26T99AQ4","text":"ah ok, that's good because after talking to <@U0KN2SSKE> and <@U0ULK2JPP> I've changed it - no more json file, but PEM files in a directory","edited":{"user":"U26T99AQ4","ts":"1481291594.000000"},"ts":"1481291564.000045"},{"type":"message","user":"U26T99AQ4","text":"see <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3153\/>","ts":"1481291595.000047"},{"type":"message","user":"U13TWBRBL","text":"<@U26T99AQ4> thanks that works too!","ts":"1481295807.000048","reactions":[{"name":"+1","users":["U26T99AQ4"],"count":1}]},{"type":"message","user":"U13TWBRBL","text":"<@U1BC5A0F9> <@U26T99AQ4> I just reviewed <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2875> and have got a number of comments and questions, please take a look at your earliest convenience. the SDK needs to implement this interface to work with the peer side","ts":"1481305310.000049"},{"type":"message","user":"U1BC5A0F9","text":"<@U13TWBRBL> answers\/patches on this changeset have been added. We can either have the discussion around that concept here, or move it to 2875 :slightly_smiling_face:","edited":{"user":"U1BC5A0F9","ts":"1481550402.000000"},"ts":"1481550380.000050"},{"type":"message","user":"U13TWBRBL","text":"<@U1BC5A0F9> thanks, I added my comments inline in 2875 (easier to carry out the conversation there with all the contexts)","ts":"1481553775.000053"},{"type":"message","user":"U1BC5A0F9","text":"ok","ts":"1481555379.000054"},{"type":"message","user":"U1BC5A0F9","text":"will answer there then, thanks!","ts":"1481555385.000055"},{"type":"message","user":"U2GEM7JCT","text":"core\/container\/util\/writer.go creates a tarball for the chaincode. Does anyone know where the untarring occurs in the code, when deploying the tarball at the endorser? I have not been able to find it in the sourcetree.","ts":"1481641437.000056"},{"type":"message","user":"U13TWBRBL","text":"<@U2GEM7JCT> `core\/chaincode\/chaincode_support.go: launchAndWaitForRegister()`, then it\u2019s handed to the container interface to build docker image from, see `core\/container\/dockercontroller\/dockercontroller.go: deployImage()`","ts":"1481644925.000057"},{"type":"message","user":"U2GEM7JCT","text":"I see, thanks","ts":"1481645212.000058"},{"type":"message","user":"U2GEM7JCT","text":"so it's in `BuildImage()` in the go-dockerclient package","edited":{"user":"U2GEM7JCT","ts":"1481645260.000000"},"ts":"1481645239.000059"},{"type":"message","user":"U2GEM7JCT","text":"<@U13TWBRBL> That is actually very useful.  Do you also know where\/how I can get such a tarball (e.g., for one of the example chaincodes)?","ts":"1481645744.000061"},{"type":"message","user":"U2GEM7JCT","text":"(if you have the information already, no need to look for it otherwise)","ts":"1481645775.000062"},{"type":"message","user":"U13TWBRBL","text":"<@U2GEM7JCT> I believe <@U13Q594J2> has one checked into github somewhere that he uses to test things","ts":"1481647062.000063"},{"type":"message","user":"U0XQ35CDD","text":"Who's mostly responsible for writing `peer\/node\/start.go`?","ts":"1481647277.000064"},{"type":"message","user":"U0ULK2JPP","text":"<@U0XQ35CDD> I\u2019m at least partly responsible having been in that a bit :slightly_smiling_face:","ts":"1481647664.000065"},{"type":"message","user":"U0XQ35CDD","text":"<@U0ULK2JPP>: Cool. You have a reference to the `static` bootstrapper there (that I'll have to edit anyway because of this: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3201\/>). Why do you need the genesis block though?","ts":"1481648308.000066"},{"type":"message","user":"U0XQ35CDD","text":"Ideally all the packages would import from their own base package and the `fabric\/common` one only.","ts":"1481648336.000067"},{"type":"message","user":"U0ULK2JPP","text":"let me check...","ts":"1481648390.000068"},{"type":"message","user":"U0ULK2JPP","text":"that was <@U1HFNJB50> temporary refactor so he can use `deliverService.JoinChannel(commit, block)` to \u201cjoin\u201d the **TEST_CHAINID** while we are waiting for the true join","ts":"1481648503.000069"},{"type":"message","user":"U0ULK2JPP","text":"and alternative could be to provide a `deliverService.JoinTESTCHAINID(commit)`","ts":"1481648549.000070"},{"type":"message","user":"U0ULK2JPP","text":"the above code will not be needed when the block is supplied by SDK and CLI to join the channel","ts":"1481648597.000071"},{"type":"message","user":"U0ULK2JPP","text":"(so, temporary)","ts":"1481648604.000072"},{"type":"message","user":"U0ULK2JPP","text":"but will hand over to <@U1HFNJB50>...","ts":"1481648618.000073"},{"type":"message","user":"U1HFNJB50","text":"Well, <@U0ULK2JPP> described the picture pretty well","ts":"1481648774.000074"},{"type":"message","user":"U1HFNJB50","text":"I need the genesis block in `start.go` simply because that\u2019s how to best of my knowledge chain created and this suppose to be a trigger to see how is the leader to connect to ordering service with delivery client.","ts":"1481648855.000075"},{"type":"message","user":"U0XQ35CDD","text":"Gotcha. As long as it's temporary, we're good. Thank you both.","ts":"1481648974.000076"},{"type":"message","user":"U1HFNJB50","text":"always welcome","ts":"1481648985.000077"},{"type":"message","user":"U1HFNJB50","text":"just wanted to reuse that peace of code, since doing same thing twice didn\u2019t make much sense to me","ts":"1481649018.000078"},{"type":"message","user":"U1HFNJB50","text":"and I\u2019m also not sure about the \n&gt; Ideally all the packages would import from their own base package and the `fabric\/common` one only.\nsince sometimes you do want to reuse useful functionality which one did earlier\nprobably in such cases common functionality should be abstracted in some common place","ts":"1481649097.000079"},{"type":"message","user":"U0ULK2JPP","text":"thanks for checking <@U0XQ35CDD> \u2026(thanks, <@U1HFNJB50> )","ts":"1481649331.000080"},{"type":"message","user":"U0XQ35CDD","text":"<@U1HFNJB50>: That's what I meant. If it's common, it needs to be moved to `fabric\/common`. (Or `fabric\/protos\/utils`. I suspect that could have worked as well in this case w\/o issues.)","edited":{"user":"U0XQ35CDD","ts":"1481649614.000000"},"ts":"1481649405.000081","reactions":[{"name":"+1","users":["U1HFNJB50"],"count":1}]},{"type":"message","user":"U13TWBRBL","text":"<@U1BC5A0F9> I just realized I made further comments (as I claimed above) to <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2875> but never published them. Just posted to the gerrit changeset. thanks!","ts":"1481650841.000083"},{"type":"message","user":"U1BC5A0F9","text":"oh ok :slightly_smiling_face:","ts":"1481650866.000084"},{"type":"message","user":"U1BC5A0F9","text":"<@U13TWBRBL> another patch has been submitted :slightly_smiling_face:","ts":"1481665901.000085"},{"type":"message","user":"U13TWBRBL","text":"<@U1BC5A0F9> thanks, the update looks good to me, just +1'ed","ts":"1481685160.000086"},{"user":"U1B9E51R8","text":"<@U1B9E51R8|xixuejia> has joined the channel","type":"message","subtype":"channel_join","ts":"1481690950.000087"},{"type":"message","user":"U0KN2SSKE","text":"<@U1HFNJB50> <@U0XQ35CDD> <@U0ULK2JPP> re genesis discussion above,  look in protos\/utils\/blockutils.MakeConfigurationBlock","ts":"1481691533.000088","reactions":[{"name":"+1","users":["U0XQ35CDD"],"count":1}]},{"user":"U39DK9LJH","text":"<@U39DK9LJH|amarpreet> has joined the channel","type":"message","subtype":"channel_join","ts":"1481725105.000089"},{"type":"message","user":"U39DK9LJH","text":"hello friends, quick question, is there a way to get the peer to print only raw logs and not color coded logs?","ts":"1481725466.000090"},{"type":"message","user":"U0ULK2JPP","text":"not sure <@U39DK9LJH> \u2026. perhaps <@U1L24390X> might know given his work with logging ?","ts":"1481725976.000091"},{"type":"message","user":"U1L24390X","text":"<@U39DK9LJH> At the moment, there isn\u2019t a way to change the format of the logging messages. However, it\u2019s been discussed (more in regards to the other formatting options like date\/time, etc. but it would provide a way to remove the color coding) and I could definitely add a way with minimal effort.","ts":"1481728087.000092"},{"type":"message","user":"U39DK9LJH","text":"<@U1L24390X> Yeah that would be awesome.  I am trying to send logs to an ELK stack, and the color coding is making things difficult :slightly_smiling_face:","ts":"1481728310.000093"},{"type":"message","user":"U39DK9LJH","text":"raw logs would be fantastic","ts":"1481728332.000094"},{"type":"message","user":"U0XQ35CDD","text":"As it turns out, this need to load the block here will affect `fabric-peer` image as well.","attachments":[{"fallback":"[December 13th, 2016 12:07 PM] c0rwin: I need the genesis block in `start.go` simply because that\u2019s how to best of my knowledge chain created and this suppose to be a trigger to see how is the leader to connect to ordering service with delivery client.","ts":"1481648855.000075","author_subname":"c0rwin","channel_id":"C27E2LGJY","channel_name":"fabric-peer-dev","is_msg_unfurl":true,"text":"I need the genesis block in `start.go` simply because that\u2019s how to best of my knowledge chain created and this suppose to be a trigger to see how is the leader to connect to ordering service with delivery client.","author_name":"Artem Barger","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/c0rwin","author_icon":"https:\/\/secure.gravatar.com\/avatar\/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-48.png","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-peer-dev\/p1481648855000075","is_share":true,"footer":"Posted in #fabric-peer-dev"}],"ts":"1481767486.000095"},{"type":"message","user":"U0XQ35CDD","text":"The reason for this is: the `provisional` bootstrapper (the only bootstrapper available) reads the `orderer.yaml` file before creating the genesis block.","ts":"1481767566.000096"},{"type":"message","user":"U0XQ35CDD","text":"The fabric-peer image does not have access to that file and thus crashes. This is what's causing the build error in this changeset: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3201\/>","ts":"1481767607.000097"},{"type":"message","user":"U0XQ35CDD","text":"Now, we can patch the `fabric-peer` image so that it gets that file (thanks <@U0KPFAZNF>), but we're now reaching a point where a temporary change requires yet another temporary change.","ts":"1481767765.000098"},{"type":"message","user":"U0XQ35CDD","text":"That's a tricky slope right there.","ts":"1481767771.000099"},{"type":"message","user":"U0XQ35CDD","text":"How can we fix this in a better way?","ts":"1481767788.000100"},{"type":"message","user":"U0KN2SSKE","text":"We should remove that dependency from fabric-peer image. We have code to create test block for peer that we should use.","ts":"1481780308.000101"},{"type":"message","user":"U0XQ35CDD","text":"I agree. I looked into the source code, and I think this fix should do the job: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3315\/>","ts":"1481786949.000102"},{"user":"U38JCNW5V","text":"<@U38JCNW5V|divyank-sk> has joined the channel","type":"message","subtype":"channel_join","ts":"1481901544.000103"},{"type":"message","user":"U1HFNJB50","text":"Hi guys, \u2028\u2028Won\u2019t be able to participate in the scrum today, hence writing my recent updates here:\n\n1. Reviewing the leader election document from: <https:\/\/jira.hyperledger.org\/browse\/FAB-1287>\n2. Continue my progress on FAB-1038, hopefully will be able to finish  by tomorrow.","ts":"1482152138.000104"},{"type":"message","user":"U1HFNJB50","text":"^^^^^^^^^ <@U0ULK2JPP> just to let you know :slightly_smiling_face:","ts":"1482152155.000105","reactions":[{"name":"+1","users":["U0ULK2JPP"],"count":1}]},{"type":"message","user":"U0ZJZBJLF","text":"Do we have a scrum today, <@U0ULK2JPP>  ?","ts":"1482156947.000106"},{"type":"message","user":"U0ZJZBJLF","text":"guess not","ts":"1482157278.000107"},{"type":"message","user":"U184J2R7S","text":"no scrum today- most of team out for rest of year","ts":"1482166213.000108"},{"user":"U1V6SJ1FF","text":"<@U1V6SJ1FF|dgorman> has joined the channel","type":"message","subtype":"channel_join","ts":"1482399565.000109"},{"user":"U3DKG7M54","text":"<@U3DKG7M54|rahulhegde> has joined the channel","type":"message","subtype":"channel_join","ts":"1483117953.000110"},{"type":"message","user":"U3DKG7M54","text":"In v1.0 arch, peer core.yaml contains 'consensus' tag. Can someone describe the use of consensus for a validator peer?","ts":"1483118699.000111"},{"type":"message","user":"U0PB67X4K","text":"<@U3DKG7M54> - it's irrelevant for v1.0.  we still need to clean up some of the old settings","ts":"1483126932.000112","reactions":[{"name":"+1","users":["U3DKG7M54"],"count":1}]},{"user":"U12AHQ3NK","text":"<@U12AHQ3NK|nits7sid> has joined the channel","type":"message","subtype":"channel_join","ts":"1483499652.000113"},{"type":"message","user":"U3DKG7M54","text":"using v1.0 architecture, I am having problem to deploy a custom 'learn-chaincode' using CLI\nStep followed\"\n1. Run peer node (used the connenct-a-thon peer image)  in the DEV ('peer node start --peer-chaincodedev').\n2. Use CLI to deploy the chaincode ' peer chaincode deploy -n mycc -c '{\"Function\": \"init\", \"Args\": [\"100K\"]}' -p <https:\/\/github.com\/rahulhegde\/learn-chaincode\/start>'  \nI can see 'go get' successful performed on '-p' however i receive following log trace on peer '12:39:26.774 [golang\/hash] getCodeFromHTTP -&gt; DEBU 010 getCodeFromHTTP <http:\/\/github.com\/rahulhegde\/learn-chaincode\/start|github.com\/rahulhegde\/learn-chaincode\/start>\n12:39:26.774 [golang\/hash] getCodeFromHTTP -&gt; DEBU 011 go get <http:\/\/github.com\/rahulhegde\/learn-chaincode\/start|github.com\/rahulhegde\/learn-chaincode\/start>\n12:39:34.962 [golang\/hash] hashFilesInDir -&gt; DEBU 012 hashFiles \/opt\/gopath\/_usercode_\/963812584\/src\/github.com\/rahulhegde\/learn-chaincode\/start\n12:39:35.920 [container] WriteGopathSrc -&gt; INFO 013 rootDirectory = \/opt\/gopath\/src\n12:39:35.920 [container] WriteFolderToTarPackage -&gt; INFO 014 rootDirectory = \/opt\/gopath\/src\n12:39:35.922 [msp] GetManager -&gt; INFO 015 Returning MSP manager %!p(msp.peerMspManagerImpl={map[DEFAULT:0xc4201dc600] PeerMSPManager true})\n12:39:35.922 [msp] GetSigningIdentity -&gt; INFO 016 Looking up MSP with ID {DEFAULT}\n12:39:35.922 [msp] GetSigningIdentity -&gt; INFO 017 Obtaining signing identity for &amp;{{DEFAULT} PEER}\n12:39:35.929 [msp] Sign -&gt; INFO 018 Signing message\nError: Error endorsing chaincode: rpc error: code = 2 desc = Failed to init chaincode(handler not found for chaincode mycc)'","ts":"1483535734.000114"},{"user":"U31TA64TT","text":"<@U31TA64TT|newdev2524> has joined the channel","type":"message","subtype":"channel_join","ts":"1483603382.000115"},{"type":"message","user":"U31TA64TT","text":"Hi, I'm trying v0.6 and having question about NVP node. Does NVP node maintain the ledger? It seems I cannot query any transactions or see  increasing blocks on NVP node.","edited":{"user":"U31TA64TT","ts":"1483603660.000000"},"ts":"1483603601.000116"},{"type":"message","user":"U0PB67X4K","text":"<@U31TA64TT>  - couple things:\n\n1) don't waste your time with NVPs  - we've removed them from the architecture in the upcoming V1 release (which is what is in active development on the master branch)\n\n2) you can't \"query\" state data on NVP nodes (NVP nodes do not run chaincode and only chaincode can access state data)\n\n3) I believe you should have been able to at least view block \/ transactions but it's entirely possible that NVPs may get left out during ledger \"replication\" as we never really focused on it.  About the only things NVPs were ever good for was as a local REST gateway to invoke transactions against validating nodes","ts":"1483616172.000118","reactions":[{"name":"+1","users":["U31TA64TT"],"count":1},{"name":"100","users":["U31TA64TT"],"count":1}]},{"user":"U1WMX1P71","text":"<@U1WMX1P71|ramykamel> has joined the channel","type":"message","subtype":"channel_join","ts":"1483647701.000119"},{"type":"message","user":"U31TA64TT","text":"<@U0PB67X4K> Thanks so much for your explanation. Anyway, I still don't have clear picture to deploy this (v0.6) as production in real world if we ignore NVP. how can we maintain a wallet for each member at the remote site?","ts":"1483669568.000120"},{"user":"U39S0S55F","text":"<@U39S0S55F|wangjie> has joined the channel","type":"message","subtype":"channel_join","ts":"1483688679.000121"},{"type":"message","user":"U1V6SJ1FF","text":"Hi <@U31TA64TT> , When you use the HFC SDK, the user\u2019s credentials (equivalent of a wallet) are stored locally in the KeyValueStore. This happens when you connect to a validating peer and enrol.","ts":"1483694887.000122","reactions":[{"name":"+1","users":["U31TA64TT"],"count":1},{"name":"heart","users":["U31TA64TT"],"count":1}]},{"type":"message","user":"U31TA64TT","text":" <@U1V6SJ1FF> Thanks you for your help answering : )","ts":"1483696722.000123"},{"type":"message","user":"U1V6SJ1FF","text":"You\u2019re welcome <@U31TA64TT> . So once you have the credentials locally stored, you need to hold on to those, as they can\u2019t be retrieved again.","ts":"1483696887.000124"},{"type":"message","user":"U31TA64TT","text":"<@U1V6SJ1FF> So we should very well backup \/tmp\/keyValStore, right? Apart from the client side, is the backup on \/var\/hyperledger\/production folder of each peer node enough for all necessary files? Or we have another folder to backup?","ts":"1483932493.000125"},{"type":"message","user":"U31TA64TT","text":"If anyone know about it, please help share the answer. Thank you : )","ts":"1483932558.000126"},{"type":"message","user":"U1V6SJ1FF","text":"Hi <@U31TA64TT> , It\u2019s really important to back up the keyValStore, as this holds the credentials for the user signing and encrypting transactions. If you need to invoke transactions from this user on a different machine, then you need to make the same keyValStore available there too (securely of course).","ts":"1483955983.000127"},{"type":"message","user":"U31TA64TT","text":"<@U1V6SJ1FF> Thank you. In case that we don't enroll via HFC but REST to PEER node, what place will the key be stored? ","edited":{"user":"U31TA64TT","ts":"1483956459.000000"},"ts":"1483956127.000128"},{"type":"message","user":"U1V6SJ1FF","text":"Hi <@U31TA64TT> If you enrol through the REST interface, then the peer will store the credentials on your behalf. A bit like an online wallet. The user is then locked into using the REST interface to that peer only. This is being deprecated in V1.","ts":"1483960011.000131"},{"type":"message","user":"U1KDAMDJ7","text":"`<http:\/\/github.com\/hyperledger\/fabric\/core\/chaincode|github.com\/hyperledger\/fabric\/core\/chaincode>` unit tests take almost 17 minutes to run in my Vagrant env. Is this expected?","ts":"1483981982.000132"},{"type":"message","user":"U0ZJZBJLF","text":"expected as you want it, or expected as- you predicted the result? if the latter then yes.","ts":"1483982099.000133"},{"type":"message","user":"U31TA64TT","text":"<@U1V6SJ1FF> Is there any folders on PEER node which needs to be backed up besides of that keyValStore on client ? in case we reboot docker machine or container crashes. I'm not sure whether to backup \/var\/hyperledger\/production folder is required or not. Thanks in advanced.","edited":{"user":"U31TA64TT","ts":"1484020336.000000"},"ts":"1484020003.000134"},{"user":"U1F3CQ2HX","text":"<@U1F3CQ2HX|nhrishi> has joined the channel","type":"message","subtype":"channel_join","ts":"1484032859.000138"},{"type":"message","user":"U1ES70KQS","text":"hey all, I've been working on a module to contribute which will ease the boilerplate involved in writing chaincode and was told to coordinate with the folks in this channel, but I was warned that you were all working hard on the v1 release -- has that been completed yet?","ts":"1484076939.000139"},{"type":"message","user":"U0ULK2JPP","text":"<@U1ES70KQS> `has that been completed yet` - if you mean has v1 release has been completed ? No\u2026.","ts":"1484077564.000140"},{"type":"message","user":"U1ES70KQS","text":"mm","ts":"1484077656.000141"},{"type":"message","user":"U1ES70KQS","text":"Would it be better for me to wait until you're less busy with v1 or can I try to submit the module now? (I also have some questions regarding the submission process)","ts":"1484078056.000142"},{"type":"message","user":"U0ULK2JPP","text":"<@U1ES70KQS>  you mean as  gerritt CR ?","ts":"1484078364.000143"},{"type":"message","user":"U1ES70KQS","text":"yeah","ts":"1484078481.000144"},{"type":"message","user":"U1ES70KQS","text":"I'd submitted via gerritt already but took too long to make the changes they wanted and now that change-set has been abandoned. I was going to resubmit and wondered if I should remove the sign-off tag in the commit message and resign it to get a new changeset ID?","ts":"1484078638.000145"},{"type":"message","user":"U1ES70KQS","text":"I was also wondering if I should do a usage tutorial and where that should go in the repo","edited":{"user":"U1ES70KQS","ts":"1484078657.000000"},"ts":"1484078648.000146"},{"user":"U0P1VU0QG","text":"<@U0P1VU0QG|ikruiper> has joined the channel","type":"message","subtype":"channel_join","ts":"1484079702.000148"},{"type":"message","user":"U0ULK2JPP","text":"<@U1ES70KQS> If the changes are intrusive to fabric packages (as opposed to examples or tooling) it may be worthwhile waiting for the dust to settle down. (In a similar vein a \u201cccchecker\u201d tooling was recently submitted into examples rather than into fabric)","ts":"1484079727.000149"},{"type":"message","user":"U0ULK2JPP","text":"not because it will be disruptive to the fabric \u2026 but just because it might take longer to review and may cause rebase issues for you","ts":"1484079789.000150"},{"type":"message","user":"U1ES70KQS","text":"I've put my module in core\/chaincode\/shim\/ -- another question I had was whether this would be the best place for it","ts":"1484079800.000151"},{"type":"message","user":"U0ULK2JPP","text":"but it really is upto you","ts":"1484079801.000152"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1484079810.000153"},{"type":"message","user":"U0ULK2JPP","text":"one thing","ts":"1484079812.000154"},{"type":"message","user":"U0ULK2JPP","text":"would this affect just go or java chaincodes too ?","ts":"1484079826.000155"},{"type":"message","user":"U1ES70KQS","text":"just go","ts":"1484079833.000156"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1484079842.000157"},{"type":"message","user":"U1ES70KQS","text":"It's pretty-much stand-alone and doesn't affect other code. I've had to change the example code as things have evolved but the only changes I've made the module itself were a couple bug-fixes and some features","ts":"1484080338.000158"},{"type":"message","user":"U0ULK2JPP","text":"well there will be other changes to chaincode too - the big one is <https:\/\/jira.hyperledger.org\/browse\/FAB-1457>","ts":"1484080422.000159"},{"type":"message","user":"U0ULK2JPP","text":"that JIRA is being worked thru and could impact dependent code","ts":"1484080522.000160"},{"type":"message","user":"U1ES70KQS","text":"ah, now that _would_ affect my module","ts":"1484080528.000161"},{"type":"message","user":"U0ULK2JPP","text":"right , that\u2019s kind of what I meant with \u201cwaiting for dust to settle down\u201d","ts":"1484080573.000162"},{"type":"message","user":"U1ES70KQS","text":"(also, did they completely remove the Query interface?)","ts":"1484080586.000163"},{"type":"message","user":"U1ES70KQS","text":"yeah, best to wait then","ts":"1484080591.000164"},{"type":"message","user":"U1ES70KQS","text":"is there an estimated release date?","ts":"1484080610.000165"},{"type":"message","user":"U1ES70KQS","text":"(&amp; thinks for linking me to that JIRA, btw)","ts":"1484080620.000166"},{"type":"message","user":"U0ULK2JPP","text":"sure thing\u2026 the Query interace is gone from chaincode, yes","ts":"1484080668.000167"},{"type":"message","user":"U0ULK2JPP","text":"as all chaincode requests come as \u201cProposals\u201d for endorsement the distinction was removed in favor of a simpler model","ts":"1484080722.000168"},{"type":"message","user":"U1ES70KQS","text":"hmm","ts":"1484080750.000169"},{"type":"message","user":"U0ULK2JPP","text":"so if you look at chaincode_example02, you can see how the old \u201cquery\u201d inteface was turned into another invoke","ts":"1484080786.000170"},{"type":"message","user":"U0ULK2JPP","text":"and if you look at CLI, it still supports `peer chaincode query\u2026` except that it does not submit the response as a tx","ts":"1484080834.000171"},{"type":"message","user":"U1ES70KQS","text":"I had noticed that in example02","ts":"1484081097.000172"},{"type":"message","user":"U1ES70KQS","text":"<@U0ULK2JPP> thanks for your help!","ts":"1484084171.000173","reactions":[{"name":"+1","users":["U0ULK2JPP"],"count":1}]},{"type":"message","user":"U350X8JMD","text":"hi ,how to write `local MSP configuration` file to start Peer.  <https:\/\/jira.hyperledger.org\/browse\/FAB-1141>","ts":"1484291308.000174"},{"type":"message","user":"U350X8JMD","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/bddtests\/docker-compose-next-4.yml#L24>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/bddtests\/docker-compose-next-4.yml#L24","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/bddtests\/docker-compose-next-4.yml#L24","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1484291424.000175"},{"type":"message","subtype":"file_share","text":"<@U2Y3JHRP1|daniellee> shared a file: <https:\/\/hyperledgerproject.slack.com\/files\/daniellee\/F3S0J0BV3\/_TLS__Problem_on_Chaincode_and_Peer_TLS_Connections|[TLS] Problem on Chaincode and Peer TLS Connections>","file":{"id":"F3S0J0BV3","created":1484553247,"timestamp":1484554141,"name":"_TLS__Problem_on_Chaincode_and_Peer_TLS_Connections","title":"[TLS] Problem on Chaincode and Peer TLS Connections","mimetype":"text\/plain","filetype":"space","pretty_type":"Post","user":"U2Y3JHRP1","editable":true,"size":656,"mode":"space","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3S0J0BV3\/_TLS__Problem_on_Chaincode_and_Peer_TLS_Connections?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3S0J0BV3\/download\/_TLS__Problem_on_Chaincode_and_Peer_TLS_Connections?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/daniellee\/F3S0J0BV3\/_TLS__Problem_on_Chaincode_and_Peer_TLS_Connections","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3S0J0BV3-ff89e61abf","preview":"<document><p>Hi everyone, I have questions on Chaincode and Peer TLS connections.<\/p><p><\/p><p>I had tried to enable Peer to Peer TLS and Peer to Membersrvc TLS on Hyperledger 0.6. I failed to start the TLS because it has troubles on self-signed certificates.<\/p><p><\/p><p>I would like to know are there any update on TLS connections using self-signed certificates on Hyperleder 1.0?<\/p><p><\/p><p>Also, how do Peer and Chaincode update CA certificates?<\/p><\/document>","updated":1484554141,"editor":"U2Y3JHRP1","last_editor":"U2Y3JHRP1","state":"locked","channels":["C27E2LGJY"],"groups":[],"ims":[],"comments_count":0,"num_stars":1},"user":"U2Y3JHRP1","upload":false,"display_as_bot":false,"username":"<@U2Y3JHRP1|daniellee>","bot_id":null,"ts":"1484554124.000177"},{"type":"message","user":"U0PB67X4K","text":"<@U2Y3JHRP1> - do you really need TLS or just trying to figure out how to do it?   I ask because as you know v0.6 is really only for development at this point and we've moved on to actively developing V1.0","ts":"1484565214.000178"},{"type":"message","user":"U2Y3JHRP1","text":"<@U0PB67X4K> Yes I do need TLS because of security reason.","ts":"1484644913.000179"},{"type":"message","user":"U2Y3JHRP1","text":"<@U0PB67X4K> On the other hand, I checked the source code and I found that the T-Cert seems not working? Is the T-Cert necessary?","ts":"1484645038.000180"},{"user":"U3CBDC0JG","text":"<@U3CBDC0JG|kenzhang> has joined the channel","type":"message","subtype":"channel_join","ts":"1484671206.000181"},{"type":"message","user":"U3CBDC0JG","text":"<@U0PB67X4K> is there any doc on how to enable security and setup TLS in V1.0?","ts":"1484671320.000182"},{"type":"message","user":"U0PB67X4K","text":"not yet - but we're getting there soon as a matter of fact","ts":"1484671372.000183"},{"type":"message","user":"U3CBDC0JG","text":"any tips on setting it up? I am getting errors:\n\nerror: [Peer.js]: GRPC client got an error response from the peer. Error: The creator certificate is not valid, err The supplied identity is not valid, Verify() returned x509: certificate signed by unknown authority\n    at \/root\/workspaces\/dhwang\/fabric-sdk-node\/node_modules\/grpc\/src\/node\/src\/client.js:417:17","ts":"1484671753.000184"},{"type":"message","user":"U3CBDC0JG","text":"even a preliminary version of your doc would help a lot","ts":"1484671826.000185"},{"type":"message","user":"U13TWBRBL","text":"<@U3CBDC0JG> this error usually stems from the fact that your COP was not started with the private key matching the trusted cert that the peer uses. so as a result, when COP signs the ecert of the user (sent by node sdk), it\u2019s not valid when the peer tries to process it as part of verifying the signature in the proposal","ts":"1484681030.000186"},{"type":"message","user":"U13TWBRBL","text":"<https:\/\/github.com\/hyperledger\/fabric-sdk-node> readme has the command that makes it work, specifically:\n```\nbin\/cop server start -ca testdata\/ec.pem -ca-key testdata\/ec-key.pem -config testdata\/testconfig.json\n```","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-sdk-node","title_link":"https:\/\/github.com\/hyperledger\/fabric-sdk-node","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric-sdk-node>","fallback":"GitHub: hyperledger\/fabric-sdk-node","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-sdk-node","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1484681088.000187"},{"type":"message","user":"U13TWBRBL","text":"note the `-ca` and `-ca-key` parameters","ts":"1484681106.000189"},{"type":"message","user":"U3CBDC0JG","text":"<@U13TWBRBL> thx. how to find out what trusted cert (root ca) peer is using?","edited":{"user":"U3CBDC0JG","ts":"1484681249.000000"},"ts":"1484681213.000190"},{"type":"message","user":"U3CBDC0JG","text":"is it controlled by the `pki.tls.rootcert.file` configuration in core.yaml?","edited":{"user":"U3CBDC0JG","ts":"1484681365.000000"},"ts":"1484681351.000192"},{"type":"message","user":"U13TWBRBL","text":"<@U3CBDC0JG> fabric\/msp\/sampleconfig\/cacerts\/cacert.pem, you can see that its content is exactly the same as fabric-cop\/testdata\/ec.pem","ts":"1484681918.000194"},{"type":"message","user":"U13TWBRBL","text":"and the corresponding private key for ec.pem is ec-key.pem, hence the above command parameters","ts":"1484681956.000195"},{"type":"message","user":"U3CBDC0JG","text":"uh, ic, thx for the clarification","ts":"1484682383.000196"},{"type":"message","user":"U13TWBRBL","text":"<@U0KN2SSKE> <@U0ULK2JPP> I\u2019m seeing the following error seemingly randomly, if I submit the exact same transaction again (and again), eventually it\u2019ll pass:\n\n```\n2017-01-17 18:50:04.695 UTC [shim] func1 -&gt; ERRO 76a [1cb06fa3]Transaction execution failed. Sending ERROR\n2017-01-17 18:50:04.695 UTC [shim] func1 -&gt; DEBU 76b [1cb06fa3]Move state message ERROR\n2017-01-17 18:50:04.695 UTC [shim] handleMessage -&gt; DEBU 76c [1cb06fa3]Handling ChaincodeMessage of type: ERROR(state:ready)\n2017-01-17 18:50:04.695 UTC [shim] func1 -&gt; DEBU 76d [1cb06fa3]send state message ERROR\n2017-01-17 18:50:04.695 UTC [chaincode] processStream -&gt; DEBU 76e [1cb06fa3]Received message ERROR from shim\n2017-01-17 18:50:04.695 UTC [chaincode] processStream -&gt; ERRO 76f Got error: Invalid signature, err The signature is invalid\n2017-01-17 18:50:04.695 UTC [chaincode] HandleMessage -&gt; DEBU 770 [1cb06fa3]Handling ChaincodeMessage of type: ERROR in state ready\n2017-01-17 18:50:04.695 UTC [chaincode] HandleMessage -&gt; DEBU 771 [1cb06fa3-0b89-46c5-904e-d49a9a07bec9]HandleMessage- COMPLETED. Notify\n2017-01-17 18:50:04.695 UTC [chaincode] notify -&gt; DEBU 772 notifying Txid:1cb06fa3-0b89-46c5-904e-d49a9a07bec9\n2017-01-17 18:50:04.695 UTC [txvalidator] VSCCValidateTx -&gt; ERRO 773 VSCC check failed for transaction txid=\ufffdf\ufffd\ufffd\ufffd\ufffd7\ufffdt\ufffd, error Error executing chaincode: Transaction returned with failure: Invalid signature, err The signature is invalid\n2017-01-17 18:50:04.695 UTC [lockbasedtxmgr] Done -&gt; DEBU 774 Done query executer\/ tx simulator [eb487016-6a05-40fc-beb6-d7ee71dc8add]\n2017-01-17 18:50:04.695 UTC [txvalidator] Validate -&gt; ERRO 775 VSCCValidateTx for transaction txId = \ufffdf\ufffd\ufffd\ufffd\ufffd7\ufffdt\ufffd returned error Error executing chaincode: Transaction returned with failure: Invalid signature, err The signature is invalid\n```","ts":"1484687183.000197"},{"type":"message","user":"U13TWBRBL","text":"this has been happening in the last couple of weeks","ts":"1484687231.000198"},{"type":"message","user":"U0ULK2JPP","text":"<@U13TWBRBL> with the latest as well ?","ts":"1484687252.000199"},{"type":"message","user":"U13TWBRBL","text":"still the same behavior with the latest fabric","ts":"1484687253.000200"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1484687256.000201"},{"type":"message","user":"U0ULK2JPP","text":"is f, 7 and t always appear and in that exact position when the error happens ?","edited":{"user":"U0ULK2JPP","ts":"1484687329.000000"},"ts":"1484687320.000202"},{"type":"message","user":"U0ULK2JPP","text":"guessing not\u2026 still .. :slightly_smiling_face:","ts":"1484687380.000204"},{"type":"message","user":"U0ULK2JPP","text":"<@U13TWBRBL> might be better to check with <@U26T99AQ4>","ts":"1484688118.000205"},{"type":"message","user":"U13TWBRBL","text":"<@U0ULK2JPP> txid is different each time a new tx is submitted","ts":"1484688344.000206"},{"type":"message","user":"U13TWBRBL","text":"ok will do","ts":"1484688347.000207"},{"type":"message","user":"U13TWBRBL","text":"guess will start asking here, <@U26T99AQ4> any pointers about the error above?","ts":"1484688379.000208"},{"type":"message","user":"U0ULK2JPP","text":"txid is not a string <@U13TWBRBL> ?","ts":"1484688505.000209"},{"type":"message","user":"U0ULK2JPP","text":"(as in ascii)","ts":"1484688517.000210"},{"type":"message","user":"U13TWBRBL","text":"no it\u2019s an array of random bytes","ts":"1484688789.000211"},{"type":"message","user":"U13TWBRBL","text":"as how it\u2019s currently generated","ts":"1484688801.000212"},{"type":"message","user":"U0ULK2JPP","text":"ok","ts":"1484688801.000213"},{"type":"message","user":"U0ULK2JPP","text":"just making sure the non-ascii is expected","ts":"1484688827.000214"},{"type":"message","user":"U0KPFAZNF","text":"<@U13TWBRBL> I am getting this error with the latest SDK","ts":"1484743621.000215"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3T5D7669\/-.m|Untitled>","file":{"id":"F3T5D7669","created":1484743636,"timestamp":1484743636,"name":"-.m","title":"Untitled","mimetype":"text\/plain","filetype":"objc","pretty_type":"Objective-C","user":"U0KPFAZNF","editable":true,"size":562,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3T5D7669\/-.m?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3T5D7669\/download\/-.m?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3T5D7669\/-.m","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3T5D7669-9685c7d23e","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3T5D7669\/-.m\/edit","preview":"error: [Orderer.js]: Orderer.sendBroadcast - on error: \"Error\\n    at ClientDuplexStream._emitStatusIfDone (\/Users\/ghaskins\/sandbox\/git\/chaintool\/examples\/example02\/client\/nodejs\/node_modules\/grpc\/src\/node\/src\/client.js:189:19)\\n    at ClientDuplexStream._readsDone (\/Users\/ghaskins\/sandbox\/git\/chaintool\/examples\/example02\/client\/nodejs\/node_modules\/grpc\/src\/node\/src\/client.js:158:8)\\n    at readCallback (\/Users\/ghaskins\/sandbox\/git\/chaintool\/examples\/example02\/client\/nodejs\/node_modules\/grpc\/src\/node\/src\/client.js:217:12)\"\r\nerror:Error: SERVICE_UNAVAILABLE","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-variable\">error<\/span>: [<span class=\"cm-variable\">Orderer<\/span>.<span class=\"cm-variable\">js<\/span>]: <span class=\"cm-variable\">Orderer<\/span>.<span class=\"cm-variable\">sendBroadcast<\/span> <span class=\"cm-operator\">-<\/span> <span class=\"cm-variable\">on<\/span> <span class=\"cm-variable\">error<\/span>: <span class=\"cm-string\">&quot;Error\\n    at ClientDuplexStream._emitStatusIfDone (\/Users\/ghaskins\/sandbox\/git\/chaintool\/examples\/example02\/client\/nodejs\/node_modules\/grpc\/src\/node\/src\/client.js:189:19)\\n    at ClientDuplexStream._readsDone (\/Users\/ghaskins\/sandbox\/git\/chaintool\/examples\/example02\/client\/nodejs\/node_modules\/grpc\/src\/node\/src\/client.js:158:8)\\n    at readCallback (\/Users\/ghaskins\/sandbox\/git\/chaintool\/examples\/example02\/client\/nodejs\/node_modules\/grpc\/src\/node\/src\/client.js:217:12)&quot;<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-variable\">error<\/span>:<span class=\"cm-variable\">Error<\/span>: <span class=\"cm-variable\">SERVICE_UNAVAILABLE<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":2,"lines_more":0,"preview_is_truncated":false,"channels":["C27E2LGJY"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1484743637.000216"},{"type":"message","user":"U0KPFAZNF","text":"Have you seen this?","ts":"1484743642.000217"},{"type":"message","user":"U0KPFAZNF","text":"I am specifying orderer= <grpc:\/\/localhost:7050> and I can confirm it is running","ts":"1484743703.000218"},{"type":"message","user":"U13TWBRBL","text":"<@U0KPFAZNF> \u201cSERVICE_UNAVAILABLE\u201d usually means a host or port mismatch","ts":"1484743723.000219"},{"type":"message","user":"U0KPFAZNF","text":"thats what I figured, but it does appear to be running","ts":"1484743736.000220"},{"type":"message","user":"U0KPFAZNF","text":"ah!","ts":"1484743774.000221"},{"type":"message","user":"U0KPFAZNF","text":"wait, maybe not","ts":"1484743777.000222"},{"type":"message","user":"U13TWBRBL","text":"so you have the ports mapped b\/w the container and host right? with `ports` in docker compose or -p in docker run?","edited":{"user":"U13TWBRBL","ts":"1484743803.000000"},"ts":"1484743778.000223"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3TNTPBCN\/-.pl|Untitled>","file":{"id":"F3TNTPBCN","created":1484743793,"timestamp":1484743793,"name":"-.pl","title":"Untitled","mimetype":"text\/plain","filetype":"perl","pretty_type":"Perl","user":"U0KPFAZNF","editable":true,"size":393,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3TNTPBCN\/-.pl?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3TNTPBCN\/download\/-.pl?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3TNTPBCN\/-.pl","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3TNTPBCN-b3beed4275","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3TNTPBCN\/-.pl\/edit","preview":"Greg:nodejs ghaskins$ nmap localhost -p7050-7054\r\n\r\nStarting Nmap 7.40 ( https:\/\/nmap.org ) at 2017-01-18 07:49 EST\r\nNmap scan report for localhost (127.0.0.1)\r\nHost is up (0.00013s latency).\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-meta\">Greg<\/span><span class=\"cm-operator\">:<\/span><span class=\"cm-meta\">nodejs<\/span> <span class=\"cm-meta\">ghaskins<\/span>$ <span class=\"cm-meta\">nmap<\/span> <span class=\"cm-meta\">localhost<\/span> <span class=\"cm-operator\">-<\/span><span class=\"cm-meta\">p7050<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-number\">7054<\/span><\/pre><\/div>\n<div><pre>&#8203;<\/pre><\/div>\n<div><pre><span class=\"cm-meta\">Starting<\/span> <span class=\"cm-meta\">Nmap<\/span> <span class=\"cm-number\">7.40<\/span> ( <span class=\"cm-meta\">https<\/span>:<span class=\"cm-operator\">\/<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-meta\">nmap<\/span><span class=\"cm-operator\">.<\/span><span class=\"cm-meta\">org<\/span> ) <span class=\"cm-meta\">at<\/span> <span class=\"cm-number\">2017<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-number\">01<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-number\">18<\/span> <span class=\"cm-number\">07<\/span><span class=\"cm-operator\">:<\/span><span class=\"cm-number\">49<\/span> <span class=\"cm-meta\">EST<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-meta\">Nmap<\/span> <span class=\"cm-meta\">scan<\/span> <span class=\"cm-meta\">report<\/span> <span class=\"cm-keyword\">for<\/span> <span class=\"cm-meta\">localhost<\/span> (<span class=\"cm-number\">127.0<\/span><span class=\"cm-number\">.0<\/span><span class=\"cm-number\">.1<\/span>)<\/pre><\/div>\n<div><pre><span class=\"cm-meta\">Host<\/span> <span class=\"cm-meta\">is<\/span> <span class=\"cm-meta\">up<\/span> (<span class=\"cm-number\">0.00013<\/span><span class=\"cm-meta\">s<\/span> <span class=\"cm-meta\">latency<\/span>)<span class=\"cm-operator\">.<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":13,"lines_more":8,"preview_is_truncated":false,"channels":["C27E2LGJY"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1484743794.000224"},{"type":"message","user":"U0KPFAZNF","text":"Looks like 7050 is closed...let me investigate","ts":"1484743803.000226"},{"type":"message","user":"U13TWBRBL","text":"ok","ts":"1484743839.000227"},{"type":"message","user":"U0KPFAZNF","text":"its weird, the compose has the ports statement, and the CLI works","ts":"1484743956.000228"},{"type":"message","user":"U0KPFAZNF","text":"investigating now","ts":"1484743959.000229"},{"type":"message","user":"U0PB67X4K","text":"<@U0KPFAZNF>  - are you running the SDK outside of Docker and running the orderer via Docker on Mac?","ts":"1484744030.000230"},{"type":"message","user":"U0KPFAZNF","text":"<@U0PB67X4K>: sdk on native osx, vagrant -&gt; docker","ts":"1484744067.000231"},{"type":"message","user":"U0KPFAZNF","text":"its probably some kind of port forward issue, let me look at my vagrant file","ts":"1484744081.000232"},{"type":"message","user":"U0PB67X4K","text":"ah - Vagrant - so you might be able to pull off localhost","ts":"1484744094.000233"},{"type":"message","user":"U0KPFAZNF","text":"(this is a crufty old mac, cant run docker-for-mac","ts":"1484744095.000234"},{"type":"message","user":"U0PB67X4K","text":"ok","ts":"1484744095.000235"},{"type":"message","user":"U0PB67X4K","text":"that sux","ts":"1484744107.000236"},{"type":"message","user":"U0PB67X4K","text":"can't your new company buy you a nice laptop?","ts":"1484744119.000237"},{"type":"message","user":"U0KPFAZNF","text":"yeah...actually its a really nice machine (loaded MacPro, 48G, SAS array, etc)","ts":"1484744129.000238"},{"type":"message","user":"U0PB67X4K","text":"do I need to renegotiate your deal","ts":"1484744132.000239"},{"type":"message","user":"U0KPFAZNF","text":"just too old to run docker-for-mac","ts":"1484744137.000240"},{"type":"message","user":"U0KPFAZNF","text":"still on order","ts":"1484744141.000241"},{"type":"message","user":"U0KPFAZNF","text":"the only thing bad about it is the 2009 Xeon is a little slow to encode video, cant run docker-for-mac, and cant upgrade to 10.12","ts":"1484744186.000242"},{"type":"message","user":"U0KPFAZNF","text":"I have to run, heading into meet up with some IBM'ers in Cambridge","ts":"1484744238.000243"},{"type":"message","user":"U0KPFAZNF","text":"<@U0PB67X4K> please review\/comment on <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4107\/>","ts":"1484744265.000244"},{"type":"message","user":"U0PB67X4K","text":"will do","ts":"1484744438.000245"},{"type":"message","user":"U0ZJZBJLF","text":"Hey, any peer guys around? has anyone tried creating a channel, and then deploying chaincode lately?","ts":"1484744849.000246"},{"type":"message","subtype":"file_share","text":"<@U0ZJZBJLF|yacovm> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F3T13442F\/-.sh|Untitled>","file":{"id":"F3T13442F","created":1484745296,"timestamp":1484745296,"name":"-.sh","title":"Untitled","mimetype":"text\/plain","filetype":"shell","pretty_type":"Shell","user":"U0ZJZBJLF","editable":true,"size":3893,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3T13442F\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3T13442F\/download\/-.sh?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F3T13442F\/-.sh","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3T13442F-14ff9ca334","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F3T13442F\/-.sh\/edit","preview":"2017-01-18 13:00:08.024 UTC [chaincode] Launch -> DEBU 158 chaincode is running(no need to launch) : escc:0.7.0-snapshot-89c68bc\/myc1\r\n2017-01-18 13:00:08.036 UTC [chaincode] sendExecuteMessage -> DEBU 159 [54633d08]Inside sendExecuteMessage. Message TRANSACTION\r\n2017-01-18 13:00:08.036 UTC [chaincode] setChaincodeProposal -> DEBU 15a Setting chaincode proposal context...\r\n2017-01-18 13:00:08.036 UTC [chaincode] setChaincodeProposal -> DEBU 15b Proposal different from nil. Creating chaincode proposal context...\r\n2017-01-18 13:00:08.041 UTC [chaincode] sendExecuteMessage -> DEBU 15c [54633d08]sendExecuteMsg trigger event TRANSACTION\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-number\">2017<\/span><span class=\"cm-attribute\">-01<\/span><span class=\"cm-attribute\">-18<\/span> <span class=\"cm-number\">13<\/span>:00:08.024 UTC [chaincode] Launch <span class=\"cm-attribute\">-<\/span>&gt; DEBU <span class=\"cm-number\">158<\/span> chaincode is running(no need to launch) : escc:0.7.0-snapshot-89c68bc\/myc1<\/pre><\/div>\n<div><pre><span class=\"cm-number\">2017<\/span><span class=\"cm-attribute\">-01<\/span><span class=\"cm-attribute\">-18<\/span> <span class=\"cm-number\">13<\/span>:00:08.036 UTC [chaincode] sendExecuteMessage <span class=\"cm-attribute\">-<\/span>&gt; DEBU <span class=\"cm-number\">159<\/span> [54633d08]Inside sendExecuteMessage. Message TRANSACTION<\/pre><\/div>\n<div><pre><span class=\"cm-number\">2017<\/span><span class=\"cm-attribute\">-01<\/span><span class=\"cm-attribute\">-18<\/span> <span class=\"cm-number\">13<\/span>:00:08.036 UTC [chaincode] setChaincodeProposal <span class=\"cm-attribute\">-<\/span>&gt; DEBU 15a Setting chaincode proposal context...<\/pre><\/div>\n<div><pre><span class=\"cm-number\">2017<\/span><span class=\"cm-attribute\">-01<\/span><span class=\"cm-attribute\">-18<\/span> <span class=\"cm-number\">13<\/span>:00:08.036 UTC [chaincode] setChaincodeProposal <span class=\"cm-attribute\">-<\/span>&gt; DEBU 15b Proposal different from nil. Creating chaincode proposal context...<\/pre><\/div>\n<div><pre><span class=\"cm-number\">2017<\/span><span class=\"cm-attribute\">-01<\/span><span class=\"cm-attribute\">-18<\/span> <span class=\"cm-number\">13<\/span>:00:08.041 UTC [chaincode] sendExecuteMessage <span class=\"cm-attribute\">-<\/span>&gt; DEBU 15c [54633d08]sendExecuteMsg trigger event TRANSACTION<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":40,"lines_more":35,"preview_is_truncated":true,"channels":["C27E2LGJY"],"groups":[],"ims":[],"comments_count":0},"user":"U0ZJZBJLF","upload":true,"display_as_bot":false,"username":"<@U0ZJZBJLF|yacovm>","bot_id":null,"ts":"1484745297.000247"},{"type":"message","user":"U0ZJZBJLF","text":"Validate is called on a block with 0 transactions inside, a new filter bit array is created with size of 0, and the code that is inside the filter bit array's constructor is: `ba := make(FilterBitArray, (size-1)\/byteSize+1)` so I think it's evaluated to a negative number or something.","ts":"1484745408.000248"},{"type":"message","user":"U0PB67X4K","text":"<@U0ZJZBJLF>  - is this with the current master?","ts":"1484745727.000249"},{"type":"message","user":"U0ZJZBJLF","text":"well, actually it's master + a small addition(<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4091\/>)  but I don't think I did anything that should effect it:","ts":"1484745811.000250"},{"type":"message","user":"U0ZJZBJLF","text":"I can go back to master and see","ts":"1484745843.000251"},{"type":"message","user":"U0ZJZBJLF","text":"The failure occurs when you deploy a chaincode, and the code that I added only handles join channel which is before deploying a chaincode","ts":"1484745991.000252"},{"type":"message","user":"U0ULK2JPP","text":"<@U0ZJZBJLF> core\/committer\/txvalidator\/validator.go:89 evaluates to a comment line for me","edited":{"user":"U0ULK2JPP","ts":"1484746238.000000"},"ts":"1484746228.000253"},{"type":"message","user":"U0ULK2JPP","text":"what\u2019s the recreate steps ?","ts":"1484746274.000255"},{"type":"message","user":"U0ZJZBJLF","text":"the line you seek is line 87 in your code.","ts":"1484746385.000256"},{"type":"message","user":"U0ZJZBJLF","text":"`txsfltr := ledgerUtil.NewFilterBitArray(uint(len(block.Data.Data)))`","ts":"1484746387.000257"},{"type":"message","user":"U0ZJZBJLF","text":"I extracted the `block.Data.Data` to a variable and printed it, to debug the problem (hence the +2 line difference)","edited":{"user":"U0ZJZBJLF","ts":"1484746426.000000"},"ts":"1484746413.000258"},{"type":"message","user":"U0ZJZBJLF","text":"recreate steps: <https:\/\/github.com\/hyperledger\/fabric\/blob\/aea1751fba4e61f9becdf37f9861d5e010491520\/docs\/channel-setup.md>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/aea1751fba4e61f9becdf37f9861d5e010491520\/docs\/channel-setup.md","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/aea1751fba4e61f9becdf37f9861d5e010491520\/docs\/channel-setup.md","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1484746442.000260"},{"type":"message","user":"U0ZJZBJLF","text":"in: `Using Vagrant`","ts":"1484746451.000262"},{"type":"message","user":"U0ULK2JPP","text":"<@U0ZJZBJLF> will check shortly","ts":"1484750600.000263"},{"type":"message","user":"U13TWBRBL","text":"<@U26T99AQ4> can you take a look at this error message I pasted above yesterday (also linked here): <https:\/\/hyperledgerproject.slack.com\/archives\/fabric-peer-dev\/p1484687183000197>","attachments":[{"from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-peer-dev\/p1484687183000197","fallback":"[January 17th, 2017 1:06 PM] jzhang: <@U0KN2SSKE> <@U0ULK2JPP> I\u2019m seeing the following error seemingly randomly, if I submit the exact same transaction again (and again), eventually it\u2019ll pass:\n\n```\n2017-01-17 18:50:04.695 UTC [shim] func1 -&gt; ERRO 76a [1cb06fa3]Transaction execution failed. Sending ERROR\n2017-01-17 18:50:04.695 UTC [shim] func1 -&gt; DEBU 76b [1cb06fa3]Move state message ERROR\n2017-01-17 18:50:04.695 UTC [shim] handleMessage -&gt; DEBU 76c [1cb06fa3]Handling ChaincodeMessage of type: ERROR(state:ready)\n2017-01-17 18:50:04.695 UTC [shim] func1 -&gt; DEBU 76d [1cb06fa3]send state message ERROR\n2017-01-17 18:50:04.695 UTC [chaincode] processStream -&gt; DEBU 76e [1cb06fa3]Received message ERROR from shim\n2017-01-17 18:50:04.695 UTC [chaincode] processStream -&gt; ERRO 76f Got error: Invalid signature, err The signature is invalid\n2017-01-17 18:50:04.695 UTC [chaincode] HandleMessage -&gt; DEBU 770 [1cb06fa3]Handling ChaincodeMessage of type: ERROR in state ready\n2017-01-17 18:50:04.695 UTC [chaincode] HandleMessage -&gt; DEBU 771 [1cb06fa3-0b89-46c5-904e-d49a9a07bec9]HandleMessage- COMPLETED. Notify\n2017-01-17 18:50:04.695 UTC [chaincode] notify -&gt; DEBU 772 notifying Txid:1cb06fa3-0b89-46c5-904e-d49a9a07bec9\n2017-01-17 18:50:04.695 UTC [txvalidator] VSCCValidateTx -&gt; ERRO 773 VSCC check failed for transaction txid=\ufffdf\ufffd\ufffd\ufffd\ufffd7\ufffdt\ufffd, error Error executing chaincode: Transaction returned with failure: Invalid signature, err The signature is invalid\n2017-01-17 18:50:04.695 UTC [lockbasedtxmgr] Done -&gt; DEBU 774 Done query executer\/ tx simulator [eb487016-6a05-40fc-beb6-d7ee71dc8add]\n2017-01-17 18:50:04.695 UTC [txvalidator] Validate -&gt; ERRO 775 VSCCValidateTx for transaction txId = \ufffdf\ufffd\ufffd\ufffd\ufffd7\ufffdt\ufffd returned error Error executing chaincode: Transaction returned with failure: Invalid signature, err The signature is invalid\n```","ts":"1484687183.000197","author_subname":"jzhang","channel_id":"C27E2LGJY","channel_name":"fabric-peer-dev","is_msg_unfurl":true,"text":"<@U0KN2SSKE> <@U0ULK2JPP> I\u2019m seeing the following error seemingly randomly, if I submit the exact same transaction again (and again), eventually it\u2019ll pass:\n\n```\n2017-01-17 18:50:04.695 UTC [shim] func1 -&gt; ERRO 76a [1cb06fa3]Transaction execution failed. Sending ERROR\n2017-01-17 18:50:04.695 UTC [shim] func1 -&gt; DEBU 76b [1cb06fa3]Move state message ERROR\n2017-01-17 18:50:04.695 UTC [shim] handleMessage -&gt; DEBU 76c [1cb06fa3]Handling ChaincodeMessage of type: ERROR(state:ready)\n2017-01-17 18:50:04.695 UTC [shim] func1 -&gt; DEBU 76d [1cb06fa3]send state message ERROR\n2017-01-17 18:50:04.695 UTC [chaincode] processStream -&gt; DEBU 76e [1cb06fa3]Received message ERROR from shim\n2017-01-17 18:50:04.695 UTC [chaincode] processStream -&gt; ERRO 76f Got error: Invalid signature, err The signature is invalid\n2017-01-17 18:50:04.695 UTC [chaincode] HandleMessage -&gt; DEBU 770 [1cb06fa3]Handling ChaincodeMessage of type: ERROR in state ready\n2017-01-17 18:50:04.695 UTC [chaincode] HandleMessage -&gt; DEBU 771 [1cb06fa3-0b89-46c5-904e-d49a9a07bec9]HandleMessage- COMPLETED. Notify\n2017-01-17 18:50:04.695 UTC [chaincode] notify -&gt; DEBU 772 notifying Txid:1cb06fa3-0b89-46c5-904e-d49a9a07bec9\n2017-01-17 18:50:04.695 UTC [txvalidator] VSCCValidateTx -&gt; ERRO 773 VSCC check failed for transaction txid=\ufffdf\ufffd\ufffd\ufffd\ufffd7\ufffdt\ufffd, error Error executing chaincode: Transaction returned with failure: Invalid signature, err The signature is invalid\n2017-01-17 18:50:04.695 UTC [lockbasedtxmgr] Done -&gt; DEBU 774 Done query executer\/ tx simulator [eb487016-6a05-40fc-beb6-d7ee71dc8add]\n2017-01-17 18:50:04.695 UTC [txvalidator] Validate -&gt; ERRO 775 VSCCValidateTx for transaction txId = \ufffdf\ufffd\ufffd\ufffd\ufffd7\ufffdt\ufffd returned error Error executing chaincode: Transaction returned with failure: Invalid signature, err The signature is invalid\n```","author_name":"Jim Zhang","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/jzhang","author_icon":"https:\/\/secure.gravatar.com\/avatar\/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-48.png","mrkdwn_in":["text"],"id":1,"footer":"Posted in #fabric-peer-dev"}],"ts":"1484751594.000264"},{"type":"message","user":"U13TWBRBL","text":"this happens on transaction submission from node SDK with latest fabric, strange thing is I just need to resubmit the transaction a few more times and it\u2019ll eventually succeed","ts":"1484751646.000266"},{"type":"message","user":"U2Q0HP4HY","text":"When creating proposals and setting up the ChaincodeSpec you supply it with a ChaindcodeID.\nAt the moment I've only ever seen in ChaincodeID the name set.  But it also has a path component.  What does path do ?  What is the use case for setting this ?\n\nThanks.","ts":"1484759009.000267"},{"type":"message","user":"U0UKTPMG8","text":"<@U2Q0HP4HY> that is the path to the chaincode for deployment purposes","ts":"1484760406.000268"},{"type":"message","user":"U0ULK2JPP","text":"<@U0ZJZBJLF> I can recreate the problem\u2026 looking at it","ts":"1484760959.000269"},{"type":"message","user":"U0ZJZBJLF","text":"cool. would be happy to know what's the root cause. But it seems `master` is broken for chaincode deployments for now","ts":"1484761002.000270"},{"type":"message","user":"U0ULK2JPP","text":"clearly something has regressed yesterday","ts":"1484761161.000271"},{"type":"message","user":"U2Q0HP4HY","text":"<@U0UKTPMG8> So this would be the path in the docker container ?  The Java and Node SDK have never set this as it's I think usually in the PATH","edited":{"user":"U2Q0HP4HY","ts":"1484761287.000000"},"ts":"1484761262.000272"},{"type":"message","user":"U0PB67X4K","text":"<@U0ULK2JPP> - one of the proto changes?","ts":"1484761420.000274"},{"type":"message","user":"U0ULK2JPP","text":"<@U0PB67X4K> I don\u2019t think so\u2026 <@U0ZJZBJLF> ran into that before it got merged (not sure if they are merged actually)","ts":"1484761470.000275"},{"type":"message","user":"U0ULK2JPP","text":"no, not merged yet","ts":"1484761519.000276"},{"type":"message","user":"U2Q0HP4HY","text":"Also in ChaincodeSpec there is ConfidentialityLevel  is this ever set to something other than PUBLIC ? Is it use d :slightly_smiling_face:","ts":"1484762267.000277"},{"type":"message","user":"U0ZJZBJLF","text":"I ran into it around the time I posted it in this channel, <@U0ULK2JPP>  , <@U0PB67X4K>","ts":"1484763429.000278"},{"type":"message","user":"U0ULK2JPP","text":"thanks to <@U1KDAMDJ7> (and <@U0XPR4NP4>) for helping with debug. To be fixed shortly <https:\/\/jira.hyperledger.org\/browse\/FAB-1733>","ts":"1484766291.000279","reactions":[{"name":"+1","users":["U0XPR4NP4"],"count":1}]},{"type":"message","user":"U3CBDC0JG","text":"just pulled down the latest code and I am getting the following errors:\n\nvp_1       | 2017-01-18 19:25:45.346 UTC [peer] Initialize -&gt; INFO 069 Loading chain **TEST_CHAINID**\nvp_1       | 2017-01-18 19:25:45.346 UTC [ledgermgmt] OpenLedger -&gt; INFO 06a Opening leadger with id = **TEST_CHAINID**\nvp_1       | create default chain [**TEST_CHAINID**] failed with Couch DB Error: Name: '**test_chainid**'. Only lowercase characters (a-z), digits (0-9), and any of the characters _, $, (, ), +, -, and \/ are allowed. Must begin with a letter.2017-01-18 19:25:45.346 UTC [couchdb] CreateCouchDatabase -&gt; ERRO 06b Error during CouchDB CreateDatabaseIfNotExist() for dbName: **test_chainid**  error: Couch DB Error: Name: '**test_chainid**'. Only lowercase characters (a-z), digits (0-9), and any of the characters _, $, (, ), +, -, and \/ are allowed. Must begin with a letter.","ts":"1484768136.000280"},{"type":"message","user":"U3CBDC0JG","text":"it's not able to create the CouchDB with name `**test_chainid**`","ts":"1484768159.000281"},{"type":"message","user":"U3CBDC0JG","text":"is this a new problem? any fix to this? or am I doing something wrong","ts":"1484768186.000282"},{"user":"U3U0MV3PZ","text":"<@U3U0MV3PZ|kzhang> has joined the channel","type":"message","subtype":"channel_join","ts":"1484768458.000283"},{"type":"message","user":"U0XPR4NP4","text":"<@U0ULK2JPP> and anyone else who's interested in having deploys work: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4133\/>","edited":{"user":"U0XPR4NP4","ts":"1484769674.000000"},"ts":"1484769601.000284","reactions":[{"name":"+1","users":["U0PB67X4K"],"count":1}]},{"type":"message","user":"U0ULK2JPP","text":"thanks <@U0XPR4NP4> \u2026 just merged","ts":"1484770692.000286"},{"type":"message","user":"U0ULK2JPP","text":"will retest \u2026 <@U0ZJZBJLF> perhaps you want to check it out with the above - ie, if you want to :slightly_smiling_face:","edited":{"user":"U0ULK2JPP","ts":"1484770974.000000"},"ts":"1484770723.000287"},{"type":"message","user":"U0ULK2JPP","text":"Just for information \u2026 <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4133> fixed the problem reported by <@U0ZJZBJLF> \u2026thanks <@U1KDAMDJ7> for turnaround","ts":"1484771906.000293"},{"type":"message","user":"U3U0MV3PZ","text":"I am getting the following errors registering chaincode after enable TLS\n`2017\/01\/19 00:34:40 transport: http2Client.notifyError got notified that the client transport was broken write tcp 172.17.0.1:45933-&gt;172.17.0.6:7051: write: connection reset by peer.\nError starting Simple chaincode: Error chatting with leader at address=172.17.0.6:7051:  rpc error: code = 13 desc = transport: write tcp 172.17.0.1:45933-&gt;172.17.0.6:7051: write: connection reset by peer`","ts":"1484835052.000294"},{"type":"message","user":"U3U0MV3PZ","text":"does anyone know how to check if this is related to TLS?","ts":"1484835089.000295"},{"type":"message","user":"U0ULK2JPP","text":"<@U3U0MV3PZ> is this on v0.6 or 1.0 ?","ts":"1484835146.000296"},{"type":"message","user":"U3U0MV3PZ","text":"1.0","ts":"1484835153.000297"},{"type":"message","user":"U0ULK2JPP","text":"from CLI or SDK ?","ts":"1484835194.000298"},{"type":"message","user":"U3U0MV3PZ","text":"cli","ts":"1484835211.000299"},{"type":"message","user":"U0ULK2JPP","text":"CLI is not yet enabled for working with TLS","ts":"1484835235.000300"},{"type":"message","user":"U0ULK2JPP","text":"I suspect neither is SDK","ts":"1484835240.000301"},{"type":"message","user":"U0ULK2JPP","text":"(but please do check with the SDK team on the sdk slack channels)","ts":"1484835278.000302"},{"type":"message","user":"U3U0MV3PZ","text":"will do. at the mean time is there anyway to enable it?","ts":"1484835308.000303"},{"type":"message","user":"U0ULK2JPP","text":"thinking...","ts":"1484835325.000304"},{"type":"message","user":"U0ULK2JPP","text":"its just a matter of packaging the certs on deploy","ts":"1484835345.000305"},{"type":"message","user":"U0ULK2JPP","text":"the node SDK on 0.6 does this","ts":"1484835356.000306"},{"type":"message","user":"U0ULK2JPP","text":"have to revisit that code and do the needful","ts":"1484835375.000307"},{"type":"message","user":"U0ULK2JPP","text":"can you open a JIRA item for this ? Assign it me (or yourself if you like \u2026 and I can help you with that )","ts":"1484835432.000308"},{"type":"message","user":"U3U0MV3PZ","text":"will open a JIRA item. Which package\/file is the code packing the certs? just to save me sometime. :slightly_smiling_face:","ts":"1484835520.000309"},{"type":"message","user":"U3U0MV3PZ","text":"I will fix it iff it's easy :wink:","ts":"1484835537.000310"},{"type":"message","user":"U0ULK2JPP","text":"perfect. We\u2019ll make sure it'll be easy :slightly_smiling_face:","ts":"1484835631.000311"},{"type":"message","user":"U0ULK2JPP","text":"as it was done in the SDK, that code is not in the peer","ts":"1484835647.000312"},{"type":"message","user":"U0ULK2JPP","text":"so its a question of mimicjng the SDK code in 0.6 and putting it in the right place in the fabric CLI","ts":"1484835687.000313"},{"type":"message","user":"U0ULK2JPP","text":"let me get you a pointer (if I can find it ) in the SDK \/ 0.6","ts":"1484835706.000314"},{"type":"message","user":"U3U0MV3PZ","text":"thx. I've created <https:\/\/jira.hyperledger.org\/browse\/FAB-1757>","ts":"1484835857.000315"},{"type":"message","user":"U0ULK2JPP","text":"sure","ts":"1484835996.000316"},{"type":"message","user":"U0ULK2JPP","text":"if you go to the 0.6 SDK\u2019s `sdk\/node\/lib\/hfc.js`  and look for the implementation of `newNetModeTransaction`","ts":"1484836081.000317"},{"type":"message","user":"U0ULK2JPP","text":"you shoukd see","ts":"1484836108.000318"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F3TPMLSJ0\/pasted_image_at_2017_01_19_09_28_am.png|Pasted image at 2017-01-19, 9:28 AM>","file":{"id":"F3TPMLSJ0","created":1484836112,"timestamp":1484836112,"name":"Pasted image at 2017_01_19 09_28 AM.png","title":"Pasted image at 2017-01-19, 9:28 AM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":74191,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3TPMLSJ0\/pasted_image_at_2017_01_19_09_28_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3TPMLSJ0\/download\/pasted_image_at_2017_01_19_09_28_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3TPMLSJ0-38fe77da29\/pasted_image_at_2017_01_19_09_28_am_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3TPMLSJ0-38fe77da29\/pasted_image_at_2017_01_19_09_28_am_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3TPMLSJ0-38fe77da29\/pasted_image_at_2017_01_19_09_28_am_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":81,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3TPMLSJ0-38fe77da29\/pasted_image_at_2017_01_19_09_28_am_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":108,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3TPMLSJ0-38fe77da29\/pasted_image_at_2017_01_19_09_28_am_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3TPMLSJ0-38fe77da29\/pasted_image_at_2017_01_19_09_28_am_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":162,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3TPMLSJ0-38fe77da29\/pasted_image_at_2017_01_19_09_28_am_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":216,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3TPMLSJ0-38fe77da29\/pasted_image_at_2017_01_19_09_28_am_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":230,"image_exif_rotation":1,"original_w":1228,"original_h":276,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F3TPMLSJ0\/pasted_image_at_2017_01_19_09_28_am.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3TPMLSJ0-52b8c66062","channels":["C27E2LGJY"],"groups":[],"ims":[],"comments_count":0},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1484836114.000319"},{"type":"message","user":"U0ULK2JPP","text":"thats the code we need to mimic in the CLI","ts":"1484836126.000320"},{"type":"message","user":"U0ULK2JPP","text":"the constraints on the SDK at that time forced it to be not so user-friendly","ts":"1484836190.000321"},{"type":"message","user":"U0ULK2JPP","text":"so you might see some of that","ts":"1484836202.000322"},{"type":"message","user":"U0ULK2JPP","text":"we can do it more cleanly this time","ts":"1484836214.000323"},{"type":"message","user":"U0ULK2JPP","text":"the real question is what cert to use","ts":"1484836244.000324"},{"type":"message","user":"U0ULK2JPP","text":"we should open this discussion on fabric-crypto channel to do this right","ts":"1484836261.000325"},{"type":"message","user":"U0ULK2JPP","text":"what I\u2019d suggest - to get going - is to put the code in place to use package the cert based on the above","ts":"1484836311.000326"},{"type":"message","user":"U0ULK2JPP","text":"and then in a second step get the right cert in place","ts":"1484836334.000327"},{"type":"message","user":"U3U0MV3PZ","text":"sounds good, let's get it working first and optimize later, I need to get a demo working by Friday, ideally with TLS enabled. :slightly_smiling_face:","ts":"1484836405.000328","reactions":[{"name":"+1","users":["U0KM61BCP"],"count":1}]},{"type":"message","user":"U0ULK2JPP","text":"oh nice :slightly_smiling_face:","ts":"1484836418.000329"},{"type":"message","user":"U0ULK2JPP","text":"in chaincode_support.go","ts":"1484836704.000334"},{"type":"message","subtype":"file_share","text":"<@U0ULK2JPP|muralisr> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F3TQ36GDT\/pasted_image_at_2017_01_19_09_38_am.png|Pasted image at 2017-01-19, 9:38 AM>","file":{"id":"F3TQ36GDT","created":1484836707,"timestamp":1484836707,"name":"Pasted image at 2017_01_19 09_38 AM.png","title":"Pasted image at 2017-01-19, 9:38 AM","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U0ULK2JPP","editable":false,"size":84885,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3TQ36GDT\/pasted_image_at_2017_01_19_09_38_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3TQ36GDT\/download\/pasted_image_at_2017_01_19_09_38_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3TQ36GDT-0857890984\/pasted_image_at_2017_01_19_09_38_am_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3TQ36GDT-0857890984\/pasted_image_at_2017_01_19_09_38_am_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3TQ36GDT-0857890984\/pasted_image_at_2017_01_19_09_38_am_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":85,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3TQ36GDT-0857890984\/pasted_image_at_2017_01_19_09_38_am_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":114,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3TQ36GDT-0857890984\/pasted_image_at_2017_01_19_09_38_am_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3TQ36GDT-0857890984\/pasted_image_at_2017_01_19_09_38_am_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":170,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3TQ36GDT-0857890984\/pasted_image_at_2017_01_19_09_38_am_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":227,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3TQ36GDT-0857890984\/pasted_image_at_2017_01_19_09_38_am_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":242,"image_exif_rotation":1,"original_w":1572,"original_h":372,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/muralisr\/F3TQ36GDT\/pasted_image_at_2017_01_19_09_38_am.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3TQ36GDT-7f73fd71c2","channels":["C27E2LGJY"],"groups":[],"ims":[],"comments_count":0},"user":"U0ULK2JPP","upload":true,"display_as_bot":false,"username":"<@U0ULK2JPP|muralisr>","bot_id":null,"ts":"1484836709.000335"},{"type":"message","user":"U0ULK2JPP","text":"the path to the cert file is set there before launching the chaincode","ts":"1484836739.000336"},{"type":"message","user":"U0ULK2JPP","text":"let\u2019s take the rest on the JIRA so it won\u2019t get lost ?","ts":"1484836804.000337"},{"type":"message","user":"U3U0MV3PZ","text":"hmm, so looks like we are use cert from the config already","ts":"1484837999.000338"},{"type":"message","user":"U0ULK2JPP","text":"except we are not packaging it when deploying the chaincode in the CLI - not sure about the SDK","ts":"1484838611.000339"},{"type":"message","user":"U3U0MV3PZ","text":"does this mean there are 2 problems here: 1. during registration, which don't require packaging of the certs, 2. during cc execution in its own container, which requires all of the certs be packaged and ingested into the container\/image","ts":"1484840418.000340"},{"type":"message","user":"U0ULK2JPP","text":"<@U3U0MV3PZ> - can you expand `during registration,` ?","ts":"1484840568.000341"},{"type":"message","user":"U3U0MV3PZ","text":"I am getting the error when running the following command:\n`CORE_PEER_ADDRESS=172.17.0.6:7051 CORE_PEER_TLS_ENABLED=true CORE_CHAINCODE_ID_NAME=mycc .\/chaincode_example02`","ts":"1484840787.000342"},{"type":"message","user":"U0ULK2JPP","text":"if you are rnning in dev mode","ts":"1484840822.000343"},{"type":"message","user":"U0ULK2JPP","text":"you need to make sure you are passing the right command line vars","ts":"1484840835.000344"},{"type":"message","user":"U0ULK2JPP","text":"basically set the same envs as in the above image","ts":"1484840858.000345"},{"type":"message","user":"U0ULK2JPP","text":"and if you are running in dev mode you don\u2019t even need to do (2)","ts":"1484840885.000346"},{"type":"message","user":"U3U0MV3PZ","text":"what's (2) referring to?","ts":"1484840911.000347"},{"type":"message","user":"U0ULK2JPP","text":"that was from your remark `2. during cc execution in its own container, which requires all of the certs be packaged and ingested into the container\/image`","ts":"1484842536.000348"},{"type":"message","user":"U0ULK2JPP","text":"if you are doing dev mode and started the chaincode, the packaging of certs is not needed,\u2026 indeed, the packaging step is skipped in dev mode","ts":"1484842588.000349"},{"user":"U0NCW1DPX","text":"<@U0NCW1DPX|gengjh> has joined the channel","type":"message","subtype":"channel_join","ts":"1484876493.000350"},{"user":"U3TD3G1GQ","text":"<@U3TD3G1GQ|vwan> has joined the channel","type":"message","subtype":"channel_join","ts":"1484897967.000351"},{"type":"message","user":"U0KN2SSKE","text":"I\u2019d like to get your feedback on a couple of stories related to chaincode on endorsing peer\n1) chaincode deployment: <https:\/\/jira.hyperledger.org\/browse\/FAB-1783>\n2) chaincode calling chaincode:  <https:\/\/jira.hyperledger.org\/browse\/FAB-1788>\n<@U1FDTCEUR> <@U0MRY2LKY> <@U0UKTPMG8> <@U0PB67X4K> <@U1BC5A0F9> <@U0Y14MWA2> <@U0KM61BCP>","edited":{"user":"U0KN2SSKE","ts":"1484954821.000000"},"ts":"1484949929.000352"},{"user":"U1FDTCEUR","inviter":"U0KN2SSKE","text":"<@U1FDTCEUR|tim.s> has joined the channel","type":"message","subtype":"channel_join","ts":"1484949956.000353"},{"type":"message","user":"U0PB67X4K","text":"I'll take a look in a bit","ts":"1484950290.000355"},{"type":"message","user":"U0MRY2LKY","text":"<@U0KN2SSKE> - I'm curious about system chaincode in 1788 (as I didn\u2019t see it explicitly called out) .. such as UCC calling SCC","edited":{"user":"U0MRY2LKY","ts":"1485014535.000000"},"ts":"1485014424.000357"},{"type":"message","user":"U0MRY2LKY","text":"Also wondering if there are proposed changes to the deployment model for system chaincode (e.g., Go 1.8 plugins on darwin\/linux)","ts":"1485014469.000358"},{"type":"message","user":"U0KN2SSKE","text":"hi troy, it would be the same from invocation behavior.\nre go1.8 plugins, that would be the best for deploying scc, but we\u2019ll have to wait for that to be ready","ts":"1485014855.000360"},{"type":"message","user":"U0ULK2JPP","text":"just added some more updates to 1783\u2026","edited":{"user":"U0ULK2JPP","ts":"1485015280.000000"},"ts":"1485015202.000361"},{"type":"message","user":"U0MRY2LKY","text":"on 1783, any implications on CC upgrades?","ts":"1485015366.000364"},{"type":"message","user":"U0MRY2LKY","text":"would all ledgers refer to the CC by the same name?","ts":"1485015434.000366"},{"type":"message","user":"U0ULK2JPP","text":"re upgrade - some, will update 1783 by tonight to reflect that.","ts":"1485015484.000367"},{"type":"message","user":"U0ULK2JPP","text":"On instantiation on a ledger, it will have to refered to the unique name it was deployed with. \u2026 so yes,  all ledgers refer to the CC by the same name.","ts":"1485015605.000368"},{"type":"message","user":"U0ULK2JPP","text":"in other words, different name, different deploy.","ts":"1485015619.000369"},{"type":"message","user":"U0ULK2JPP","text":"just to add to the 1.8 plugin discussion\u2026 with the off-ledger-on-peer deployment model, the line is becoming blurred between a user and system chaincode. The 1.8 plugin could help unify the models (thinking \u201csystem\u201d option to `peer chaincode deploy \u2026`) However not opening up that flexibilty for system chaincodes may perhaps be better for the fabric as a whole (we dont want to deploy \/ upgrde lccc willy-nilly for instance). But its interesting how these things appear to be coming together ?","edited":{"user":"U0ULK2JPP","ts":"1485016303.000000"},"ts":"1485016227.000370"},{"type":"message","user":"U0ULK2JPP","text":"(^^^ just an aside ^^^)","ts":"1485016258.000371"},{"type":"message","user":"U0MRY2LKY","text":"since we\u2019re on that aside, it seems like there should be an ability to endorse a configuration\/policy on what CC (&amp; version\/hash) is allowed on a channel &amp; the system in general. With this capability the model can be unified as the distribution model for CC is separated from the policy.","ts":"1485018350.000373"},{"type":"message","user":"U0ULK2JPP","text":"<@U0MRY2LKY> let me make sure I understood the comment \u2026. `endorse a configuration\/policy on what CC (&amp; version\/hash) is allowed on a channel `.   ie, answer the question `is this CC allowed on the channel ?` before asking `can this member do the instantiation of CC on the channel ?`","edited":{"user":"U0ULK2JPP","ts":"1485018947.000000"},"ts":"1485018832.000374"},{"type":"message","user":"U0MRY2LKY","text":"Yes and also when doing upgrades.","ts":"1485028391.000377"},{"type":"message","user":"U0MRY2LKY","text":"in this mode of thinking, you can distribute pre-built images for user chaincode and pre-built plugins for system chaincode","ts":"1485028539.000378"},{"type":"message","user":"U0MRY2LKY","text":"since the policy has an allow for a particular image \/ plugin (for each platform and each version of the chaincode) using for example a hash of the image\/plugin","edited":{"user":"U0MRY2LKY","ts":"1485028733.000000"},"ts":"1485028583.000379"},{"type":"message","user":"U0MRY2LKY","text":"I suppose you could be potentially have multiple versions of a particular chaincode on the peer at once, and each channel is permitting the new version to be used (upgrade).","ts":"1485028807.000383"},{"type":"message","user":"U0ULK2JPP","text":"`I suppose you could be potentially have multiple versions of a particular chaincode on the peer at once, and each channel is permitting the new version to be used (upgrade).` \u2026. you could, although it would simplify things if you can have only one chaincode (the latest version) \u2026 if you want different chaincodes on different chains, you could just deploy with different name. It\u2019ll take \u201cversion\u201d management out  of the equation. \u2026 but having different versions run at the same time is certainly something we can think about.","ts":"1485033790.000384"},{"type":"message","user":"U0ULK2JPP","text":"<@U0MRY2LKY>   <https:\/\/jira.hyperledger.org\/browse\/FAB-1783> has significant mods \u2026 some of the questions\/concerns multiple versions have been addressed as well","ts":"1485134962.000385"},{"type":"message","user":"U0Y55KNG2","text":"On readthedocs, the REST API info for \/chain et al does not seem to work on v1 peers. Is there an update somewhere that I can look at? Thanks.","ts":"1485450762.000386"},{"user":"U0J038AJK","text":"<@U0J038AJK|tbenzies> has joined the channel","type":"message","subtype":"channel_join","ts":"1485466930.000387"},{"user":"U0J038AJK","text":"<@U0J038AJK|tbenzies> has left the channel","type":"message","subtype":"channel_leave","ts":"1485466961.000388"},{"type":"message","user":"U184J2R7S","text":"<@U10LM0FFZ> <@U11HTMW0H>  Can you help kletkeman on information for version 1?  We do need to clarify what we can\/can't do with rest now.  <@U0Y55KNG2> Kim- they are definitely updating things as we slack on how to program against chaincode,.. just don't know how much has gotten checked in yet as not all the CRs were reviewed yet","ts":"1485599750.000389"},{"type":"message","user":"U0PB67X4K","text":"<@U0ULK2JPP>  <@U26T99AQ4>  do we need <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3285\/>  anymore?","ts":"1485606931.000390"},{"type":"message","user":"U0PB67X4K","text":"<@U0Y55KNG2>  - the peer no longer has REST APIs in V1.0.   We are slowly adding GRPC APIs to expose the appropriate functions","ts":"1485606980.000391"},{"type":"message","user":"U26T99AQ4","text":"<@U0PB67X4K> \n&gt; do we need <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3285\/>\nI think so, at least we need to rename msp.Common into something else","ts":"1485607565.000392"},{"type":"message","user":"U0Y55KNG2","text":"<@U184J2R7S> <@U0PB67X4K> Thanks. I knew that the SDK \/ gRPC replaced the chaincode APIs entirely, but I had assumed that the fabric's own REST API for the chain itself would be left in place until gRPC APIs were ready. \n\nOur applications must now be ported to APIS that are either much more complex or non-existent. (And that on top of the new response type from every chaincode API that recently appeared, forcing me into refactoring our iot chaincode platform once again.) Things are a bit tough out here too :slightly_smiling_face:\n\nOne last question then. Is there no way to introspect the chain while the peers are running? I am on the hook to make a video for a customer showing the addition of a new peer to a v1 fabric, and showing the chain is by far the best way to demo the successful addition.","ts":"1485631898.000393"},{"type":"message","user":"U0YJUECE8","text":"<@U0Y55KNG2> Query System Chaincode (QSCC) as discussed on slide 15 of the powerpoint in FAB-758  <https:\/\/jira.hyperledger.org\/browse\/FAB-758>  may be helpful.   I haven't used it, in fact just today I looked at this deck for the first time in a while (if ever, my memory gets purged more frequently than Slack's chat history), so whether or not the QSCC has been implemented yet I don't know.","ts":"1485635619.000394"},{"type":"message","user":"U0Y55KNG2","text":"<@U0YJUECE8> Thanks for the tip. I found the relevant query in \"fabric\/core\/scc\/qscc\/querier.go\" ... I am obviously falling behind in changes to the environment. Looking at the chain requires gRPC commands to the system chaincode qscc. Presumably, qscc is its name, but I need to confirm that. Would be nice if there were a POSTMAN equivalent for gRPC for simple testing. Have you found anything like that?","ts":"1485638615.000395"},{"type":"message","user":"U0YJUECE8","text":"<@U0Y55KNG2> \n&gt;Would be nice if there were a POSTMAN equivalent for gRPC for simple testing. Have you found anything like that?\n\nI haven't found anything like that myself, but that by no means means there isn't something like that lurking around.","edited":{"user":"U0YJUECE8","ts":"1485640624.000000"},"ts":"1485640583.000396"},{"type":"message","user":"U0PB67X4K","text":"have not had time to try it - but <https:\/\/github.com\/gogo\/letmegrpc>","attachments":[{"service_name":"GitHub","title":"gogo\/letmegrpc","title_link":"https:\/\/github.com\/gogo\/letmegrpc","text":"letmegrpc - generates a web form gui from a grpc specification","fallback":"GitHub: gogo\/letmegrpc","thumb_url":"https:\/\/avatars2.githubusercontent.com\/u\/9958490?v=3&s=400","from_url":"https:\/\/github.com\/gogo\/letmegrpc","thumb_width":398,"thumb_height":398,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1485640678.000398"},{"type":"message","user":"U0YJUECE8","text":"<@U0Y55KNG2> \n&gt;Presumably, qscc is its name, but I need to confirm that. \n\nAnd hopefully I'm not making a hash of this statement or leaving something out, but I think in Go, that if you do a build in a directory and there is only one go file in there, if you don't specify otherwise, the executable name will be the name of the directory.   In other words, that system chaincode's name stands as much of a chance of being called *qscc* as it does of being called *querier*, which is darn near impossible to spell!","ts":"1485641014.000400"},{"type":"message","user":"U0Y55KNG2","text":"<@U0YJUECE8> Yes, the Go convention is to use the name of the folder by default. Main programs and packages all get the same treatment. But that's not the name I am talking about. In v0.6, the deploy transaction synchronously returns you the \"name\" of the chaincode, which is a hash of the code, the location from which the code was loaded, the parameters for the Init, and a nonce I believe. The resulting hash is the name you use to target that chaincode in the fabric.\n\nThere was a major issue in that the name was used to prefix all keys so that the chaincode in effect had its own database partition. This works great for iteration etc, but was a bomb when you tried upgrading the chaincode by deploying a new version. All your data was lost effectively.\n\nFor v1, the fabric no longer reads the chaincode to my knowledge, and the name can be assigned by the developer so that future versions will simply take over the database, and so that multiple smart contracts can share the database. At least, this is my impression of where things are, or are going. It is that moniker that you assign to the chaincode that was called its name in v0.6.","ts":"1485642944.000401"},{"type":"message","user":"U0Y55KNG2","text":"So even with the system chain code, you presumably need its name before you can talk to it.","ts":"1485643028.000402"},{"type":"message","user":"U0YJUECE8","text":"<@U0Y55KNG2> sure, I didn't know if these same rules apply to system chaincode...the only time I invoked system chaincode directly was that one where it just wrote whatever you sent it to state, I saw it in one of the docs, but it was so long ago I forget the details","ts":"1485643180.000403"},{"type":"message","user":"U0Y55KNG2","text":"<@U0PB67X4K> Thanks, that looks promising. We will still be using JSON Schema 4 for contract payloads so that we can continue to perform dynamic mapping and configuration against any compliant contract, but it will help to have an easily generated  web UI for talking in the first place.","ts":"1485643193.000404"},{"type":"message","user":"U0YJUECE8","text":"<@U0Y55KNG2> this is what I was thinking of:  <http:\/\/hyperledger-fabric.readthedocs.io\/en\/v0.6\/SystemChaincode-noop\/>","ts":"1485643278.000405"},{"type":"message","user":"U0Y55KNG2","text":"<@U0YJUECE8> chaincode will all follow similar naming rules. Or at least, I sure hope so. I presume that the system chaincodes developed by hyperledger people will have monikers preassigned.","ts":"1485643291.000406"},{"type":"message","user":"U0Y55KNG2","text":"<@U0YJUECE8> The protocol spec was fairly out of date over 6 months ago, so it is difficult to rely on it for information for v1. At line 110 in \"<https:\/\/sourcegraph.com\/github.com\/hyperledger\/fabric@d9d51709d04f6aaa39f8862b830db9d43138c5bf\/-\/blob\/examples\/sdk\/node\/app.js#L110:7>\" you will see that the chaincodeID is retrieved from the deploy response if successful. This is also called the name. So for system chaincodes that are already there when the fabric boots (presumably), the name will have to be predefined.","attachments":[{"service_name":"Sourcegraph","title":"app.js","title_link":"https:\/\/sourcegraph.com\/github.com\/hyperledger\/fabric@d9d51709d04f6aaa39f8862b830db9d43138c5bf\/-\/blob\/examples\/sdk\/node\/app.js#L110:7","text":"hyperledger\/fabric \u2014 Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"Sourcegraph: app.js","thumb_url":"https:\/\/sourcegraph.com\/.assets\/img\/sourcegraph-mark.png","from_url":"https:\/\/sourcegraph.com\/github.com\/hyperledger\/fabric@d9d51709d04f6aaa39f8862b830db9d43138c5bf\/-\/blob\/examples\/sdk\/node\/app.js#L110:7","thumb_width":240,"thumb_height":244,"id":1}],"ts":"1485643792.000407"},{"type":"message","user":"U0PB67X4K","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/scc\/importsysccs.go#L65>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/scc\/importsysccs.go#L65","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/scc\/importsysccs.go#L65","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1485644409.000409"},{"type":"message","user":"U0PB67X4K","text":"TL;DR - \"qscc\"","ts":"1485644418.000411","reactions":[{"name":"white_check_mark","users":["U0YJUECE8"],"count":1}]},{"user":"U3V4G8HUZ","text":"<@U3V4G8HUZ|sagmeister> has joined the channel","type":"message","subtype":"channel_join","ts":"1485787975.000412"},{"type":"message","user":"U184J2R7S","text":"hi everybody, in case you have not heard, linux foundation is moving us off of Slack and onto Rocket.Chat, everybody in Slack can log in to the new chat server using your existing linux foundation ID, please visit <http:\/\/chat.hyperledger.org\/> to login to the new chat server","ts":"1486078851.000415"},{"user":"U13TWBRBL","text":"<@U13TWBRBL|jzhang> has left the channel","type":"message","subtype":"channel_leave","ts":"1486151797.000416"},{"user":"U0UHG4VP1","text":"<@U0UHG4VP1|ry> has joined the channel","type":"message","subtype":"channel_join","ts":"1486498088.000417"},{"user":"U0UHG4VP1","members":["U0KM61BCP","U0KMJF9AA","U0KN2SSKE","U0KPFAZNF","U0KQ9QKH6","U0MRY2LKY","U0N1D1UAE","U0N4P17ND","U0NCW1DPX","U0NK7T8SH","U0NLP5909","U0P1VU0QG","U0P75RFT4","U0PB67X4K","U0S5KF44D","U0UGH3X7X","U0UHG4VP1","U0UKTPMG8","U0ULK2JPP","U0W7D64LC","U0XPR4NP4","U0XQ35CDD","U0XV1HDL3","U0Y55KNG2","U0YJUECE8","U0YM41HA5","U0YMACQSW","U0YP7KFGQ","U0Z541B3P","U0Z6VMEER","U0ZJZBJLF","U0ZR63HLK","U10LM0FFZ","U11MANG9G","U12452RAP","U12AHQ3NK","U132537KP","U13Q594J2","U17HK4VQR","U184J2R7S","U1AU8DRQR","U1B2FF8LR","U1B5DPRLG","U1B9E51R8","U1BA8SSTG","U1BC5A0F9","U1CPB11D0","U1D7TR679","U1D89DP47","U1ES70KQS","U1F1CU61Y","U1F3CQ2HX","U1FDTCEUR","U1GJCF29L","U1HFNJB50","U1KDAMDJ7","U1KDHJT6H","U1KFCPFQA","U1L24390X","U1MA81VBK","U1TMQDYKE","U1V6SJ1FF","U1VG8LNP3","U1WAADD4N","U1WMX1P71","U23CGEC7N","U24JMTPRQ","U24M29R4G","U26BX6S3B","U26T99AQ4","U28F9NALC","U29BAKE8L","U2BF87970","U2BGFAHC7","U2CSLPV1Q","U2GEM7JCT","U2GFYLYN8","U2L125QGL","U2M3WV6CA","U2MCH9EEB","U2MT0NJ15","U2NNLN56V","U2P21M71V","U2PB5LKLG","U2Q0HP4HY","U2QLU433N","U2W7U5UA3","U2W8LGBMZ","U2Y3JHRP1","U2Z3ABG7N","U31TA64TT","U32LDD9JA","U350X8JMD","U37Q1F5FT","U38H8MS11","U38JCNW5V","U39DK9LJH","U39S0S55F","U3BQF48RE","U3CBDC0JG","U3DKG7M54","U3TD3G1GQ","U3U0MV3PZ","U3V4G8HUZ"],"text":"<@U0UHG4VP1|ry> archived the channel (w\/ 104 members)","type":"message","subtype":"channel_archive","ts":"1486498096.000418"}]