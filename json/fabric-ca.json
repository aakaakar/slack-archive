[{"user":"U0PB67X4K","text":"<@U0PB67X4K|garisingh> has joined the channel","type":"message","subtype":"channel_join","ts":"1478348631.000002"},{"user":"U0PB67X4K","purpose":"discussions on fabric-cop","text":"<@U0PB67X4K|garisingh> set the channel purpose: discussions on fabric-cop","type":"message","subtype":"channel_purpose","ts":"1478348631.000003"},{"type":"message","user":"U0PB67X4K","text":"<@U0S5KF44D>  -   I know you know this, but we need some improvement here  :slightly_smiling_face:   \n\n```\nGaris-MBP:fabric-cop gsingh$ go test `go list .\/... | grep -v \"\/vendor\/\"` -cover\nok  \t<http:\/\/github.com\/hyperledger\/fabric-cop|github.com\/hyperledger\/fabric-cop>\t0.054s\tcoverage: 55.6% of statements\nok  \t<http:\/\/github.com\/hyperledger\/fabric-cop\/api|github.com\/hyperledger\/fabric-cop\/api>\t0.016s\tcoverage: 58.3% of statements\nok  \t<http:\/\/github.com\/hyperledger\/fabric-cop\/cli\/cop|github.com\/hyperledger\/fabric-cop\/cli\/cop>\t3.060s\tcoverage: 40.6% of statements\n?   \t<http:\/\/github.com\/hyperledger\/fabric-cop\/cli\/cop\/client|github.com\/hyperledger\/fabric-cop\/cli\/cop\/client>\t[no test files]\nok  \t<http:\/\/github.com\/hyperledger\/fabric-cop\/cli\/cop\/client\/enroll|github.com\/hyperledger\/fabric-cop\/cli\/cop\/client\/enroll>\t0.055s\tcoverage: 0.0% of statements\nok  \t<http:\/\/github.com\/hyperledger\/fabric-cop\/cli\/cop\/client\/register|github.com\/hyperledger\/fabric-cop\/cli\/cop\/client\/register>\t0.068s\tcoverage: 0.0% of statements\nok  \t<http:\/\/github.com\/hyperledger\/fabric-cop\/cli\/cop\/config|github.com\/hyperledger\/fabric-cop\/cli\/cop\/config>\t0.016s\tcoverage: 0.0% of statements\nok  \t<http:\/\/github.com\/hyperledger\/fabric-cop\/cli\/cop\/server|github.com\/hyperledger\/fabric-cop\/cli\/cop\/server>\t0.051s\tcoverage: 0.0% of statements\n?   \t<http:\/\/github.com\/hyperledger\/fabric-cop\/cli\/cop\/server\/tcert|github.com\/hyperledger\/fabric-cop\/cli\/cop\/server\/tcert>\t[no test files]\n?   \t<http:\/\/github.com\/hyperledger\/fabric-cop\/idp|github.com\/hyperledger\/fabric-cop\/idp>\t[no test files]\nok  \t<http:\/\/github.com\/hyperledger\/fabric-cop\/lib\/defaultImpl|github.com\/hyperledger\/fabric-cop\/lib\/defaultImpl>\t0.082s\tcoverage: 34.3% of statements\nok  \t<http:\/\/github.com\/hyperledger\/fabric-cop\/util|github.com\/hyperledger\/fabric-cop\/util>\t0.190s\tcoverage: 54.0% of statements\n```","ts":"1478348698.000004"},{"user":"U0S5KF44D","inviter":"U0PB67X4K","text":"<@U0S5KF44D|keithsmith> has joined the channel","type":"message","subtype":"channel_join","ts":"1478350222.000005"},{"type":"message","user":"U0PB67X4K","text":"also - need to fix license headers:\n\n```\nGaris-MBP:fabric-cop gsingh$ grep -l -L \"Apache License\" `find . -name \"*.go\"` |grep -v \".\/vendor\"\n.\/api\/api.go\n.\/api.go\n.\/cli\/cop\/client\/enroll\/enroll.go\n.\/cli\/cop\/client\/register\/register.go\n.\/cli\/cop\/client\/util.go\n.\/cli\/cop\/config\/config.go\n.\/cli\/cop\/cop.go\n.\/cli\/cop\/server\/auth.go\n.\/cli\/cop\/server\/enroll.go\n.\/cli\/cop\/server\/errors.go\n.\/cli\/cop\/server\/register.go\n.\/cli\/cop\/server\/server.go\n.\/cli\/cop\/server\/tcert\/servertcert.go\n.\/factory.go\n.\/idp\/idp.go\n.\/lib\/defaultImpl\/bootstrap.go\n.\/lib\/defaultImpl\/client.go\n.\/lib\/defaultImpl\/client_test.go\n.\/lib\/defaultImpl\/identity.go\n.\/lib\/defaultImpl\/registerUser.go\n.\/lib\/defaultImpl\/signer.go\n.\/lib\/defaultImpl\/temporalSigner.go\n.\/lib\/defaultImpl\/verifier.go\n.\/util\/util_test.go\n```","ts":"1478350241.000006"},{"type":"message","user":"U0PB67X4K","text":"<@U11MANG9G>","ts":"1478350279.000007"},{"user":"U11MANG9G","inviter":"U0PB67X4K","text":"<@U11MANG9G|jonathanlevi> has joined the channel","type":"message","subtype":"channel_join","ts":"1478350288.000008"},{"type":"message","user":"U0PB67X4K","text":"<@U0KM61BCP>","ts":"1478350311.000009"},{"user":"U0KM61BCP","inviter":"U0PB67X4K","text":"<@U0KM61BCP|cbf> has joined the channel","type":"message","subtype":"channel_join","ts":"1478350315.000010"},{"type":"message","user":"U0PB67X4K","text":"I also must be missing something - seems like there is a consistent use of empty test files in several folders","ts":"1478352599.000011"},{"user":"U24JMTPRQ","text":"<@U24JMTPRQ|aliblackwell> has joined the channel","type":"message","subtype":"channel_join","ts":"1478353799.000012"},{"user":"U12452RAP","text":"<@U12452RAP|grapebaba> has joined the channel","type":"message","subtype":"channel_join","ts":"1478354326.000013"},{"type":"message","user":"U0PB67X4K","text":"<@U0S5KF44D>  - let me know if you want some help.  I'm happy to help get things caught up here","ts":"1478357820.000014"},{"user":"U0N4P17ND","text":"<@U0N4P17ND|oiakovlev> has joined the channel","type":"message","subtype":"channel_join","ts":"1478378901.000002"},{"type":"message","user":"U0KM61BCP","text":"we need to invest some time with <@U11HH3P7Y> to get a jenkins pipeline set up for fabric-cop asap","ts":"1478380954.000003"},{"type":"message","user":"U0KM61BCP","text":"and we definitely need to flesh out the tests","ts":"1478380970.000004"},{"type":"message","user":"U0KM61BCP","text":"<@U0PB67X4K> <@U0S5KF44D> ^^","ts":"1478381017.000005"},{"user":"U11HH3P7Y","inviter":"U0KM61BCP","text":"<@U11HH3P7Y|ramesh> has joined the channel","type":"message","subtype":"channel_join","ts":"1478381031.000006"},{"type":"message","user":"U0S5KF44D","text":"I'll get with Ramesh next week on CT","ts":"1478381389.000007"},{"type":"message","user":"U0S5KF44D","text":"I added license headers and added a check to Makefile so none are missed in future","ts":"1478381421.000008"},{"type":"message","user":"U0S5KF44D","text":"I guess you saw the change set for that","ts":"1478381636.000009"},{"type":"message","user":"U0S5KF44D","text":"I'm also working on test coverage and have that as part of the Makefile also, so the make will fail if the coverage falls below a certain percentage.  I have it set at 75% currently and will work to bring all up to that level.","ts":"1478381697.000010"},{"type":"message","user":"U0S5KF44D","text":"There are cases where we have tests in one directory pushing tests in a subdirectory.  I'll need to restructure them just so it shows up as covered by the tool","ts":"1478381777.000011"},{"type":"message","user":"U0S5KF44D","text":"<@U11HH3P7Y>, heads up on setting up Jenkins for fabric-cop\/Makefile","ts":"1478381897.000012"},{"user":"U0YJUECE8","text":"<@U0YJUECE8|silliman> has joined the channel","type":"message","subtype":"channel_join","ts":"1478462895.000002"},{"user":"U1M9R3C8Z","text":"<@U1M9R3C8Z|rascal> has joined the channel","type":"message","subtype":"channel_join","ts":"1478620029.000003"},{"user":"U2LV4CC6B","text":"<@U2LV4CC6B|tkuhrt> has joined the channel","type":"message","subtype":"channel_join","ts":"1478623265.000004"},{"user":"U1TA5FDU7","text":"<@U1TA5FDU7|warm3snow> has joined the channel","type":"message","subtype":"channel_join","ts":"1478680542.000005"},{"type":"message","user":"U11MANG9G","text":"Hold on. How did we end up with files without headers\/license in the repo in the first place?","ts":"1478683267.000010"},{"type":"message","user":"U11MANG9G","text":"Are these part of the official repository?","ts":"1478683282.000011"},{"type":"message","user":"U0PB67X4K","text":"<@U11MANG9G>  - partially my fault - when we were trying get the latest cop code into the feature\/ca branch we forgot to check the license headers at that time.  Then when Keith moved that code to the fabric-cop repo, we did not have the proper checks in place for merging code.   But we should be good now","ts":"1478689544.000012"},{"type":"message","user":"U11MANG9G","text":"Let me take a look...","ts":"1478689742.000013"},{"user":"U2W7U5UA3","text":"<@U2W7U5UA3|pd93> has joined the channel","type":"message","subtype":"channel_join","ts":"1478690045.000016"},{"type":"message","user":"U11MANG9G","text":"OK. Here it is\u2026","ts":"1478690183.000017"},{"type":"message","user":"U11MANG9G","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2091\/>","ts":"1478690184.000018"},{"type":"message","user":"U11MANG9G","text":"This should not have passed a review or merged. I believe.","ts":"1478690220.000019"},{"type":"message","user":"U11MANG9G","text":"Licensing aside, this is too big a change to begin with.","ts":"1478690256.000020"},{"type":"message","user":"U11MANG9G","text":"I\u2019ve been banging the drum of having an underlying JIRA issue along with code submission, for a reason.","ts":"1478690312.000021"},{"type":"message","user":"U11MANG9G","text":"Also, we should `NOT` allow the committer to review (and merge!?) his own code.","ts":"1478690385.000022"},{"type":"message","user":"U12452RAP","text":"guys, the latest code meMbersrvc removed, i wonder if cop have a make image for us using docker compose","ts":"1478745557.000033"},{"type":"message","user":"U0PB67X4K","text":"<@U12452RAP> - don't think we are ready for that yet","ts":"1478774508.000034"},{"type":"message","user":"U0PB67X4K","text":"soon though","ts":"1478774516.000035"},{"type":"message","user":"U12452RAP","text":"so if we need testv1.0 we need use a previous commit level fabric?","ts":"1478775899.000036"},{"type":"message","user":"U0PB67X4K","text":"currently there's no integration with crypto \/ security in the V1 peers and orderers","ts":"1478776386.000037"},{"type":"message","user":"U0PB67X4K","text":"or I should say enforcement as well.  we actually plan to bring that in early next week","ts":"1478776416.000038"},{"type":"message","user":"U12452RAP","text":"that mean no need meMbersrvc right now?","ts":"1478776548.000039"},{"type":"message","user":"U0PB67X4K","text":"correct","ts":"1478776593.000040"},{"type":"message","user":"U12452RAP","text":":ok_hand::skin-tone-2:","ts":"1478776670.000041"},{"type":"message","user":"U0PB67X4K","text":"","attachments":[{"fallback":"[November 10th, 2016 7:06 AM] garisingh: Sorry for the wide blast here, but while I was reviewing stuff, thought I should send out a note on things which will make life easier for the maintainers and will help contributions be merged more quickly:\n\n1) Please make sure to reference a JIRA item in your commits - especially for new functionality\n\n2) Let's try to add a little more detail to some of the JIRA entries - one line entries \/ descriptions don't help us understand what contribution is trying to achieve\n\n3) When people make comments in gerrit, once you address them please mark them as done (by clicking in the comment and hitting done  :slightly_smiling_face:  )\n\n4) You'll notice that we push back a lot on lack of tests - please test locally and use a coverage tool to see where you stand\n\n5) Run linters, go import, etc to reduce CI failures","ts":"1478779599.000514","author_subname":"garisingh","channel_id":"C29512UHF","channel_name":"fabric-sdk-node-dev","is_msg_unfurl":true,"text":"Sorry for the wide blast here, but while I was reviewing stuff, thought I should send out a note on things which will make life easier for the maintainers and will help contributions be merged more quickly:\n\n1) Please make sure to reference a JIRA item in your commits - especially for new functionality\n\n2) Let's try to add a little more detail to some of the JIRA entries - one line entries \/ descriptions don't help us understand what contribution is trying to achieve\n\n3) When people make comments in gerrit, once you address them please mark them as done (by clicking in the comment and hitting done  :slightly_smiling_face:  )\n\n4) You'll notice that we push back a lot on lack of tests - please test locally and use a coverage tool to see where you stand\n\n5) Run linters, go import, etc to reduce CI failures","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/garisingh","author_icon":"https:\/\/avatars.slack-edge.com\/2016-09-10\/78323915894_521dc680194c08b166e0_48.jpg","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-sdk-node-dev\/p1478779599000514","is_share":true,"footer":"Posted in #fabric-sdk-node-dev"}],"ts":"1478779660.000042"},{"user":"U1NPSMCDS","text":"<@U1NPSMCDS|shinsa> has joined the channel","type":"message","subtype":"channel_join","ts":"1478846914.000043"},{"user":"U1D89DP47","text":"<@U1D89DP47|subzer0> has joined the channel","type":"message","subtype":"channel_join","ts":"1478981795.000045"},{"user":"U2SB7QWS3","text":"<@U2SB7QWS3|n.someya> has joined the channel","type":"message","subtype":"channel_join","ts":"1479079289.000046"},{"user":"U0NK7T8SH","text":"<@U0NK7T8SH|bryan-huang> has joined the channel","type":"message","subtype":"channel_join","ts":"1479131948.000048"},{"user":"U1MSZ37NK","text":"<@U1MSZ37NK|sstone1> has joined the channel","type":"message","subtype":"channel_join","ts":"1479143457.000049"},{"user":"U2NG5AX0A","text":"<@U2NG5AX0A|klorenz> has joined the channel","type":"message","subtype":"channel_join","ts":"1479155302.000050"},{"user":"U2ZSS2D1T","text":"<@U2ZSS2D1T|nakao> has joined the channel","type":"message","subtype":"channel_join","ts":"1479171339.000051"},{"user":"U31M2620Z","text":"<@U31M2620Z|fan.torchz> has joined the channel","type":"message","subtype":"channel_join","ts":"1479252199.000052"},{"user":"U1PJBPWV8","text":"<@U1PJBPWV8|n-sawada> has joined the channel","type":"message","subtype":"channel_join","ts":"1479256699.000053"},{"user":"U1PF7CF5F","text":"<@U1PF7CF5F|t-watana> has joined the channel","type":"message","subtype":"channel_join","ts":"1479256739.000054"},{"user":"U1P52TCE4","text":"<@U1P52TCE4|yoshihara> has joined the channel","type":"message","subtype":"channel_join","ts":"1479256783.000055"},{"user":"U1PSHT5C4","text":"<@U1PSHT5C4|daisaku> has joined the channel","type":"message","subtype":"channel_join","ts":"1479256851.000056"},{"type":"message","user":"U11HH3P7Y","text":"<@U0S5KF44D> <@U1KJY9BJQ> need your review comments on this <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2525\/>","ts":"1479321522.000057"},{"user":"U1KJY9BJQ","inviter":"U11HH3P7Y","text":"<@U1KJY9BJQ|skarim> has joined the channel","type":"message","subtype":"channel_join","ts":"1479321528.000058"},{"user":"U24M29R4G","text":"<@U24M29R4G|nikileshsa> has joined the channel","type":"message","subtype":"channel_join","ts":"1479326935.000059"},{"type":"message","user":"U0PB67X4K","text":"<@U1KJY9BJQ> Am I correct in assuming that COP currently only supports SQLite for the database?","edited":{"user":"U0PB67X4K","ts":"1479411855.000000"},"ts":"1479411835.000060"},{"type":"message","user":"U0S5KF44D","text":"Yes, but he is pushing support for postgres later today","ts":"1479412897.000062"},{"type":"message","user":"U0S5KF44D","text":"and has tested in a cluster and is working","ts":"1479412922.000063"},{"user":"U16NX17P1","text":"<@U16NX17P1|ple> has joined the channel","type":"message","subtype":"channel_join","ts":"1479413982.000064"},{"type":"message","user":"U0PB67X4K","text":"thanks <@U0S5KF44D>  - just wanted to make sure one of my comments on a review was accurate  :wink:","ts":"1479414414.000065"},{"user":"U11NUTP4L","text":"<@U11NUTP4L|srirama_sharma> has joined the channel","type":"message","subtype":"channel_join","ts":"1479480674.000066"},{"user":"U319G36P4","text":"<@U319G36P4|chris.zhenghf> has joined the channel","type":"message","subtype":"channel_join","ts":"1479707315.000067"},{"user":"U1C3LNJ58","text":"<@U1C3LNJ58|eabailey> has joined the channel","type":"message","subtype":"channel_join","ts":"1479744344.000068"},{"type":"message","user":"U0S5KF44D","text":"FYI, I submitted a change set for certificate renewal.   See <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2641\/>","ts":"1479766992.000069"},{"type":"message","user":"U0S5KF44D","text":"Which maps to <https:\/\/jira.hyperledger.org\/browse\/FAB-1147>","ts":"1479767020.000070"},{"type":"message","user":"U0S5KF44D","text":"I'm about to begin work on certificate revocation.   See <https:\/\/jira.hyperledger.org\/browse\/FAB-116>","ts":"1479767058.000071"},{"type":"message","user":"U0S5KF44D","text":"Comments are welcome","ts":"1479767139.000072"},{"user":"U10E1PFEH","text":"<@U10E1PFEH|mgk> has joined the channel","type":"message","subtype":"channel_join","ts":"1479804936.000073"},{"user":"U0STZRN0Y","text":"<@U0STZRN0Y|vijayr24> has joined the channel","type":"message","subtype":"channel_join","ts":"1479830886.000074"},{"user":"U2Y2V95D2","text":"<@U2Y2V95D2|alanlee> has joined the channel","type":"message","subtype":"channel_join","ts":"1479917389.000075"},{"type":"message","user":"U2Y2V95D2","text":"Question: Migration from using membership service to COP: Dear,  we previously write some chaincode \"invoke\" and \"query\" using GO programming on v0.6.  (Q1) If we turn to use COP, do we need to switch to use sdk-node or we can still keep the chaincode in GO?    (Q2) How Peer authenticate using COP? : The instruction is on <https:\/\/github.com\/hyperledger\/fabric-cop> is teaching us to use \"COP client cli\" to connect. Does it mean that we have to change the Peer configuration pointing to membership service to COP service? Or we have to call it in Chaincode \"Invoke\" ? Or it is already in the latest Fabric underlying classes? Thank you.","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-cop","title_link":"https:\/\/github.com\/hyperledger\/fabric-cop","text":"This is a read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric-cop> no pull requests accepted","fallback":"GitHub: hyperledger\/fabric-cop","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-cop","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1479919436.000076"},{"type":"message","user":"U11MANG9G","text":"","attachments":[{"fallback":"[November 23rd, 2016 9:18 AM] alanlee: Thanks <@U11MANG9G>. Are below functions working in COP yet ? (1) Attribute ACL (2) User Authentication ( Ecert\/TCert mechanism as in MS) (3) Multiple COP (prevent single point of failure) ?  Sorry for the long questions.","ts":"1479921483.001077","author_subname":"alanlee","channel_id":"C1J0BM448","channel_name":"membership-services","is_msg_unfurl":true,"text":"Thanks <@U11MANG9G>. Are below functions working in COP yet ? (1) Attribute ACL (2) User Authentication ( Ecert\/TCert mechanism as in MS) (3) Multiple COP (prevent single point of failure) ?  Sorry for the long questions.","author_name":"Alan Lee","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/alanlee","author_icon":"https:\/\/secure.gravatar.com\/avatar\/643c0387e8be90522a44939e4d859a10.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F272a%2Fimg%2Favatars%2Fava_0026-48.png","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/membership-services\/p1479921483001077","is_share":true,"footer":"Posted in #membership-services"}],"ts":"1479922342.000078"},{"type":"message","user":"U11MANG9G","text":"<@U0S5KF44D>, <@U1KJY9BJQ> {et al.]: I referred Alan to this channel, regarding the above questions about the status of the stuff that\u2019s \u201cin the making\u201d.","edited":{"user":"U11MANG9G","ts":"1479922770.000000"},"ts":"1479922746.000079"},{"user":"U327VGGF9","text":"<@U327VGGF9|yuwei> has joined the channel","type":"message","subtype":"channel_join","ts":"1479958160.000081"},{"type":"message","user":"U327VGGF9","text":"Question: I am noob of HL and trying to test COP.  \nI follow the instructions in README.md. When I execute the cmd, \n#$GOPATH\/bin\/cfssl gencert -initca config.json | $GOPATH\/bin\/cfssljson -bare cop.     \n Console gives a error: \nopen config.json: no such file or directory\nFailed to parse input: unexpected end of JSON input\n\nThen I  create  config.json  by testconfig.json\n#cp  testconfig.json  config.json\nAnd  excuete the cmd again,  console still gives following info:\n\n2016\/11\/24 13:07:07 [INFO] generating a new CA key and certificate from CSR\n2016\/11\/24 13:07:07 [INFO] generate received request\n2016\/11\/24 13:07:07 [WARNING] invalid request: {\"code\":5300,\"message\":\"missing subject information\"}\n2016\/11\/24 13:07:07 [ERROR] failed to process request: {\"code\":5300,\"message\":\"missing subject information\"}\n{\"code\":5300,\"message\":\"missing subject information\"}\nFailed to parse input: unexpected end of JSON input\nIs there anything wrong?  Thanks","ts":"1479964143.000082"},{"type":"message","user":"U327VGGF9","text":"Thanksgiving..","ts":"1479965241.000083"},{"user":"U2C55KE65","text":"<@U2C55KE65|arvin> has joined the channel","type":"message","subtype":"channel_join","ts":"1479966067.000084"},{"type":"message","user":"U11MANG9G","text":"","attachments":[{"fallback":"[November 24th, 2016 12:37 AM] grapebaba: guys, I found an issue about TLS. Actually the tlsca.cert under bddtests directory is expired. The only valid cert is the one in fabric-membersrvc image under \/var\/hyperledger\/production\/.membersrvc","ts":"1479976679.004255","author_subname":"grapebaba","channel_id":"C0Y4PEU22","channel_name":"fabric","is_msg_unfurl":true,"text":"guys, I found an issue about TLS. Actually the tlsca.cert under bddtests directory is expired. The only valid cert is the one in fabric-membersrvc image under \/var\/hyperledger\/production\/.membersrvc","author_name":"Kai Chen","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/grapebaba","author_icon":"https:\/\/secure.gravatar.com\/avatar\/f0e9297c7a9bdf698efe302df2af314b.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-48.png","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric\/p1479976679004255","is_share":true,"footer":"Posted in #fabric"}],"ts":"1479980113.000085"},{"type":"message","user":"U11MANG9G","text":"","attachments":[{"fallback":"[November 24th, 2016 1:33 AM] jonathanlevi: Yup, we wanted to update this but then it got deprioritized somehow. See <https:\/\/jira.hyperledger.org\/browse\/FAB-213>","ts":"1479980011.004256","author_subname":"jonathanlevi","channel_id":"C0Y4PEU22","channel_name":"fabric","is_msg_unfurl":true,"text":"Yup, we wanted to update this but then it got deprioritized somehow. See <https:\/\/jira.hyperledger.org\/browse\/FAB-213>","author_name":"Jonathan Levi","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/jonathanlevi","author_icon":"https:\/\/avatars.slack-edge.com\/2016-09-06\/76710770455_2316fc867e622c8f0008_48.jpg","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric\/p1479980011004256","is_share":true,"footer":"Posted in #fabric"}],"ts":"1479980162.000086"},{"user":"U2URL5G8P","text":"<@U2URL5G8P|satyam_agl> has joined the channel","type":"message","subtype":"channel_join","ts":"1479995263.000087"},{"user":"U0M28HM6J","text":"<@U0M28HM6J|takekiyokubo> has joined the channel","type":"message","subtype":"channel_join","ts":"1480312440.000088"},{"type":"message","user":"U0S5KF44D","text":"FYI, a couple of folks have asked about the missing db-config.json file in fabric-cop\/testdata directory.  This is intentional in a recent merge so that the COP server has a single config file rather than two.  So the two lines of DB config that used to be in db-config.json are now in the single config file.   See fabric-cop\/testdata\/test-config.json for an example","ts":"1480359451.000089"},{"type":"message","user":"U0S5KF44D","text":"Note these two lines:","ts":"1480359456.000090"},{"type":"message","user":"U0S5KF44D","text":"\"driver\":\"sqlite3\",\n \"data_source\":\"cop.db\",","ts":"1480359458.000091"},{"type":"message","user":"U0S5KF44D","text":"Actually, these lines will be optional in the future and the default values will be those above, just so it works out-of-the-box if these lines are missing","ts":"1480359560.000092"},{"user":"U2Q0HP4HY","text":"<@U2Q0HP4HY|rickr> has joined the channel","type":"message","subtype":"channel_join","ts":"1480360791.000093"},{"type":"message","user":"U2Q0HP4HY","text":"I created a cop-db.json with just these lines.\n\n```\nvagrant@hyperledger-devenv:v0.2.1-86bc1ff:\/opt\/gopath\/src\/github.com\/hyperledger\/cop\/server$ bash -x .\/startServer \n+ export COP_HOME=\/opt\/gopath\/src\/github.com\/hyperledger\/cop\/server\n+ COP_HOME=\/opt\/gopath\/src\/github.com\/hyperledger\/cop\/server\n+ \/opt\/gopath\/bin\/cop server start -ca ca-cert.pem -ca-key ca-key.pem -config cop.json -db-config cop-db.json\n2016\/11\/28 19:16:48 [FATAL] No database specified, a database is needed to run COP server\nvagrant@hyperledger-devenv:v0.2.1-86bc1ff:\/opt\/gopath\/src\/github.com\/hyperledger\/cop\/server$ cat cop-db.json\n{\n \"driver\":\"sqlite3\",\n \"data_source\":\"cop.db\"\n}```","ts":"1480360999.000094"},{"type":"message","user":"U0S5KF44D","text":"You need to add the lines that used to be in cop-db.json to your cop.json file","ts":"1480361100.000095"},{"type":"message","user":"U0S5KF44D","text":"and you do not need the -db-config option","ts":"1480361125.000096"},{"type":"message","user":"U2Q0HP4HY","text":"so essentially :\n```\nexport COP_HOME=\/opt\/gopath\/src\/github.com\/hyperledger\/cop\/server; \/opt\/gopath\/bin\/cop server start -ca ca-cert.pem -ca-key ca-key.pem  -config   testconfig.json\n```","edited":{"user":"U2Q0HP4HY","ts":"1480361518.000000"},"ts":"1480361368.000097"},{"type":"message","user":"U2Q0HP4HY","text":"that is just use testconfig.json for your config","ts":"1480361403.000098"},{"type":"message","user":"U2Q0HP4HY","text":"Seems to be running \n2016\/11\/28 19:30:43 [INFO] Now listening on 127.0.0.1:8888","ts":"1480361441.000099"},{"type":"message","user":"U2Q0HP4HY","text":"Thanks","ts":"1480361499.000100"},{"type":"message","user":"U0S5KF44D","text":"yes, that's it","ts":"1480361845.000102"},{"type":"message","user":"U2Q0HP4HY","text":"any thoughts on a dockerized edition ?","ts":"1480362489.000103"},{"type":"message","user":"U2Q0HP4HY","text":"<@U0S5KF44D>  I just noticed it listening on 127.0.0.0.1  is there a config option for all ? 0.0.0.0 ?","ts":"1480362657.000104"},{"user":"U0XQX3U9G","text":"<@U0XQX3U9G|diego_m> has joined the channel","type":"message","subtype":"channel_join","ts":"1480362769.000105"},{"user":"U0MRY2LKY","text":"<@U0MRY2LKY|troyronda> has joined the channel","type":"message","subtype":"channel_join","ts":"1480368233.000106"},{"type":"message","user":"U0S5KF44D","text":"<@U2Q0HP4HY> Use the following","ts":"1480372018.000107"},{"type":"message","user":"U0S5KF44D","text":"cop server start -address '' -ca ${TD}\/ec.pem -ca-key ${TD}\/ec-key.pem -config cop.json","ts":"1480372021.000108"},{"type":"message","user":"U0S5KF44D","text":"note the \"-address\" arg with value of empty string","ts":"1480372096.000109"},{"type":"message","user":"U0S5KF44D","text":"it is kludgy but comes from cfssl","ts":"1480372109.000110"},{"type":"message","user":"U0S5KF44D","text":"will try to change the default to listen on any port but need to do so w\/o changing cfssl code","ts":"1480372162.000111"},{"user":"U0Z81GL6S","text":"<@U0Z81GL6S|anya> has joined the channel","type":"message","subtype":"channel_join","ts":"1480373572.000112"},{"type":"message","user":"U2Q0HP4HY","text":"Thx","ts":"1480375178.000113"},{"type":"message","user":"U2Q0HP4HY","text":"I noticed this when re-starting COP .. are these really more WARNINGs than errors ?\n`2016\/11\/28 23:22:43 [ERROR] Group already registered`","ts":"1480375218.000114","reactions":[{"name":"+1","users":["U0Z81GL6S"],"count":1}]},{"type":"message","user":"U31M2620Z","text":"Hi, I'm trying to contribute code to cop, but can't get access to the gerrit repo","ts":"1480377572.000115"},{"type":"message","user":"U31M2620Z","text":"git clone <ssh:\/\/tcz001@gerrit.hyperledger.org:29418\/fabric-cop>\nCloning into 'fabric-cop'...\nssh: connect to host <http:\/\/gerrit.hyperledger.org|gerrit.hyperledger.org> port 29418: Connection refused\nfatal: Could not read from remote repository.\n\nPlease make sure you have the correct access rights\nand the repository exists.","ts":"1480377592.000116"},{"type":"message","user":"U31M2620Z","text":"I followed the <https:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/CONTRIBUTING\/> section on document, but seems still not working. even can't download the repo locally","ts":"1480377691.000117"},{"type":"message","user":"U0S5KF44D","text":"is tcz001 a valid linux foundation ID?","ts":"1480377722.000118"},{"type":"message","user":"U0S5KF44D","text":"you can create one at <https:\/\/identity.linuxfoundation.org\/>","ts":"1480377810.000119"},{"type":"message","user":"U31M2620Z","text":"yes, the http way works, but ssh doesn't","ts":"1480378036.000120"},{"type":"message","user":"U31M2620Z","text":"just tried `git clone <http:\/\/tcz001@gerrit.hyperledger.org\/r\/a\/fabric-cop>`","ts":"1480378056.000121"},{"user":"U1B9E51R8","text":"<@U1B9E51R8|xixuejia> has joined the channel","type":"message","subtype":"channel_join","ts":"1480397151.000122"},{"user":"U2Y9ZFS48","text":"<@U2Y9ZFS48|nakamura> has joined the channel","type":"message","subtype":"channel_join","ts":"1480400144.000123"},{"type":"message","user":"U2Q0HP4HY","text":"I assume if we want to start fresh we can just delete the cop.db file","ts":"1480426628.000124"},{"type":"message","user":"U0S5KF44D","text":"yes, correct","ts":"1480426657.000125"},{"type":"message","user":"U2Q0HP4HY","text":"No big deal and you're probable aware but there is an _odd_ output when setting address to empty:\n`[INFO] Now listening on :8888`","ts":"1480428788.000126"},{"type":"message","user":"U0S5KF44D","text":"yes, it comes from cfssl code","ts":"1480428822.000127"},{"user":"U0KMJF9AA","text":"<@U0KMJF9AA|vikasjakhar> has joined the channel","type":"message","subtype":"channel_join","ts":"1480441407.000128"},{"user":"U1L2C9F3R","text":"<@U1L2C9F3R|cdaughtr> has joined the channel","type":"message","subtype":"channel_join","ts":"1480451316.000129"},{"user":"U2NDE1ZCK","text":"<@U2NDE1ZCK|jdockter> has joined the channel","type":"message","subtype":"channel_join","ts":"1480524694.000130"},{"type":"message","user":"U2NDE1ZCK","text":"<@U0S5KF44D> <@U11MANG9G> ...question for you guys...and this might be way down the road but it came up in conversations yesterday during a workshop...with the 1.0 architecture around COP is it going to be possible at some point to plugin an LDAP directory as a COP to identify users and roles?  If so, could each peer connect to a different COP for their own users and roles?  Maybe this is all sideways but wanted to ask.","ts":"1480526420.000131"},{"type":"message","user":"U0S5KF44D","text":"Good timing ... see <https:\/\/jira.hyperledger.org\/browse\/FAB-1144?jql=text%20~%20%22LDAP%22>","ts":"1480527721.000132"},{"type":"message","user":"U0S5KF44D","text":"comments welcome","ts":"1480527725.000133"},{"type":"message","user":"U0S5KF44D","text":"Yes, each COP would connect to a different LDAP and each peer is associated with a different COP.  Note that I said \"associated with\" rather than \"connects\" because we do not mandate use of COP and the peer never calls out to COP.  The SDKs (node, java, etc) call COP and then call the peer with creds that it got from COP, so a very loose coupling between fabric and COP ... really no coupling","ts":"1480527891.000134"},{"type":"message","user":"U2NDE1ZCK","text":"Awesome, thanks for the info.  The link makes mention of a current DB...is there any type of design doc of what COP is made up of, ie what are the table structures, what data is being kept, etc?  Also, in current COP v1 google design doc it talks about intermediate COP servers...is this just in case the primary\/root COP server is down or is there some other use case around have two COP servers?","ts":"1480530348.000135"},{"type":"message","user":"U0Z81GL6S","text":"Hi <@U0S5KF44D> I have question regarding registering new users with COP from the client SDK. From looking at the COP code, it seems that it is done through the '\/api\/v1\/cfssl\/register\u2019 endpoint. I am looking at the structure of the registration request and trying to understand how we enforce which users can register which other user roles. In the previous implementation we referred to as the \u201cdelegate roles\u201d and we could specify if a user could only register other client roles or client + other (vaildator or auditor for example). I am wondering if you could point me to the place in the code where that is implemented and how i can structure the COP registration request in order to register a new user that itself can register other roles? Thanks.","ts":"1480530691.000136"},{"type":"message","user":"U0S5KF44D","text":"<@U2NDE1ZCK> COP is based on CFSSL.  CFSSL has a certificates table.  We have added a users table to the same DB and will be extending the schema of the certificates table to allow easy search by enrollment ID","ts":"1480537786.000137"},{"type":"message","user":"U0S5KF44D","text":"The purpose of an intermediate COP server is a security thing, not for HA or performance","ts":"1480537840.000138"},{"type":"message","user":"U0S5KF44D","text":"The root COP server is up only long enough for intermediate COP servers to enroll","ts":"1480537881.000139"},{"type":"message","user":"U0S5KF44D","text":"It is then taken offline and online when needed to reenroll an intermediate COP server","ts":"1480537912.000140"},{"type":"message","user":"U0S5KF44D","text":"The root private key is then more secure","ts":"1480537926.000141"},{"type":"message","user":"U0S5KF44D","text":"<@U0Z81GL6S> See fabric-cop\/cli\/server\/register.go","ts":"1480538086.000142"},{"type":"message","user":"U2NDE1ZCK","text":"<@U0S5KF44D> thanks","ts":"1480541390.000143"},{"user":"U12AHQ3NK","text":"<@U12AHQ3NK|nits7sid> has joined the channel","type":"message","subtype":"channel_join","ts":"1480607666.000144"},{"type":"message","user":"U0S5KF44D","text":"FYI, here is an update for the COP squad","ts":"1480627654.000145"},{"type":"message","user":"U0S5KF44D","text":"Complete:\n1.\tcop server init\n2.\tcop server start\n3.\tcop client register\n4.\tcop client enroll\n\nIn Review:\n1.\tDB support (sqllite, mysql, postgres)\n2.\tClustering tested with haproxy sprayer &amp; postgres\n3.\tcop client reenroll (in review)\n4.\tcop client revoke (part 1 in review)\nSee <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2843\/>\n5.\tImproved user management abstraction (for LDAP next)\n\nIn Progress:\n1.\ttcerts \u2013 beginning review\nTODO: BCCSP integration for HSM support\n2.\tCLI improvement\nSee <https:\/\/jira.hyperledger.org\/browse\/FAB-1170>\n3.\tdocker compose for COP cluster (Latitia) &amp; integrate to CI (Ramesh)\n4.\tExtend certificate table schema with enrollment ID to enable cop client revoke (part 2) \u2013 that is, to find all certificates for a particular user so that can be revoked\n5.\tBCCSP enable CFSSL for HSM support\n\n\nNext\n\u2022\tLDAP\nSee <https:\/\/jira.hyperledger.org\/browse\/FAB-1144>\n\u2022\tAudit\nSee <https:\/\/jira.hyperledger.org\/browse\/FAB-1228>\n\u2022\tCop ledger commands\nSee section 1.3 of \n<https:\/\/docs.google.com\/document\/d\/1TRYHcaT8yMn8MZlDtreqzkDcXx0WI50AV2JpAcvAM5w>","ts":"1480627659.000146"},{"user":"U0N1C7HHB","text":"<@U0N1C7HHB|dante> has joined the channel","type":"message","subtype":"channel_join","ts":"1480628278.000148"},{"user":"U1JT2LQJH","text":"<@U1JT2LQJH|ericmvaughn> has joined the channel","type":"message","subtype":"channel_join","ts":"1480632338.000149"},{"type":"message","user":"U0PB67X4K","text":"<@U0S5KF44D>  - you'll need to rebase <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2843\/3> and then we can +2 again and merge","ts":"1480683489.000150"},{"type":"message","user":"U0S5KF44D","text":"<@U0PB67X4K> - thanks Gari .. the rebase is complete and ready to merge","ts":"1480695234.000151"},{"type":"message","user":"U0S5KF44D","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2843\/>","ts":"1480695259.000152"},{"type":"message","user":"U11MANG9G","text":"<@U0S5KF44D> Thanks. Both of these are merged:\n<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2641\/> Add support for cop client reenroll\n<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2843\/> Add support for certificate revocation","ts":"1480696733.000153"},{"type":"message","user":"U0S5KF44D","text":"<@U11MANG9G>  Thanks!","ts":"1480696999.000154"},{"user":"U32LDD9JA","text":"<@U32LDD9JA|ledger888> has joined the channel","type":"message","subtype":"channel_join","ts":"1480701165.000155"},{"user":"U2LHA3Q7K","text":"<@U2LHA3Q7K|vinayak> has joined the channel","type":"message","subtype":"channel_join","ts":"1480933478.000002"},{"user":"U0W7D64LC","text":"<@U0W7D64LC|markparz> has joined the channel","type":"message","subtype":"channel_join","ts":"1480951143.000003"},{"type":"message","user":"U0W7D64LC","text":"New COP video posted at <https:\/\/youtu.be\/uTjH7EvYrOM> remember to subscribe to the channel to get notified of all new videos posted, or added to the playlist. Also leave comments, if you would like to see more specifics on something in particular.  Thanks <@U0S5KF44D>","attachments":[{"service_name":"YouTube","service_url":"https:\/\/www.youtube.com\/","title":"COP Squad Update Dec1 2016","title_link":"https:\/\/youtu.be\/uTjH7EvYrOM","author_name":"Hyperledger Fabric","author_link":"https:\/\/www.youtube.com\/channel\/UCCFdgCWH_1vCndMPVqQlwZw","thumb_url":"https:\/\/i.ytimg.com\/vi\/uTjH7EvYrOM\/hqdefault.jpg","thumb_width":480,"thumb_height":360,"fallback":"YouTube Video: COP Squad Update Dec1 2016","video_html":"<iframe width=\"400\" height=\"300\" src=\"https:\/\/www.youtube.com\/embed\/uTjH7EvYrOM?feature=oembed&autoplay=1&iv_load_policy=3\" frameborder=\"0\" allowfullscreen><\/iframe>","video_html_width":400,"video_html_height":300,"from_url":"https:\/\/youtu.be\/uTjH7EvYrOM","service_icon":"https:\/\/a.slack-edge.com\/2089\/img\/unfurl_icons\/youtube.png","id":1}],"ts":"1480951147.000004"},{"type":"message","user":"U0S5KF44D","text":"BTW, \"cop client reenroll\" and \"cop client revoke\" (part 1) have been merged","ts":"1480951579.000006"},{"user":"U2QSXKD89","text":"<@U2QSXKD89|chadgates> has joined the channel","type":"message","subtype":"channel_join","ts":"1480954799.000007"},{"type":"message","user":"U0NK7T8SH","text":"Hi, I have a fabric deployment (v0.5), it ran 3 months, and certificates were expired,  how to renew them?","ts":"1481014995.000008"},{"user":"U2X9KDDL7","text":"<@U2X9KDDL7|vdods> has joined the channel","type":"message","subtype":"channel_join","ts":"1481044060.000009"},{"type":"message","user":"U11MANG9G","text":"<@U1KJY9BJQ>: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2683\/> is merged.","ts":"1481124290.000010"},{"type":"message","user":"U1KJY9BJQ","text":"Thank You!","ts":"1481124324.000011"},{"user":"U16A62N2D","text":"<@U16A62N2D|alexliusch> has joined the channel","type":"message","subtype":"channel_join","ts":"1481124347.000012"},{"type":"message","user":"U16A62N2D","text":"<@U11MANG9G> i still have a problem. the version i used is v0.6..where is the CA generating service\/process?","ts":"1481124563.000013"},{"type":"message","user":"U11MANG9G","text":"That\u2019s the membership services component.","ts":"1481124597.000014"},{"type":"message","user":"U11MANG9G","text":"There is a `\/membersrvc\/` folder with the code.","ts":"1481124617.000015"},{"type":"message","user":"U11MANG9G","text":"It builds and outputs a binary as part of the `make` procedure. That\u2019s the service (process)","edited":{"user":"U11MANG9G","ts":"1481124657.000000"},"ts":"1481124633.000016"},{"type":"message","user":"U11MANG9G","text":"Do you see it?","ts":"1481124695.000018"},{"type":"message","user":"U11MANG9G","text":"Can you find it?","ts":"1481124704.000019"},{"type":"message","user":"U16A62N2D","text":"yeah i found it","ts":"1481124709.000020"},{"type":"message","user":"U11MANG9G","text":"OK, `that\u2019s the bunny`! :wink:","ts":"1481124719.000021"},{"type":"message","user":"U11MANG9G","text":"So when you request TCerts and ECerts\u2026. they come out of that service\/process.","ts":"1481124738.000022"},{"type":"message","user":"U11MANG9G","text":"[Now, *be careful* (if it\u2019s a \u201clive\u201d system or so), as I don\u2019t have the full visibility of what exactly you are doing\u2026.]","ts":"1481124785.000023"},{"type":"message","user":"U11MANG9G","text":"If you are just playing\/developing\u2026 then you can see that you can stop that process and restart it\u2026 easily.","ts":"1481124810.000024"},{"type":"message","user":"U16A62N2D","text":"thats ok.i am on my testing env now","ts":"1481124819.000025"},{"type":"message","user":"U11MANG9G","text":"As for the point you mentioned in fabric-dev, it does not affect the \u2018chain'","ts":"1481124823.000026"},{"type":"message","user":"U11MANG9G","text":"Even in 0.6, these processes are separate.","ts":"1481124840.000027"},{"type":"message","user":"U11MANG9G","text":"Fabric v1 made it a lot more explicit and moved the logic not just physically into folders\u2026 but even to a separate repo.","ts":"1481124867.000028"},{"type":"message","user":"U11MANG9G","text":"(among other things, for clarifying the separation)","ts":"1481124884.000029"},{"type":"message","user":"U11MANG9G","text":"But you can still work with 0.6 happily. I\u2019m still on it for some stuff.","ts":"1481124909.000030"},{"type":"message","user":"U11MANG9G","text":"It works!","ts":"1481124913.000031"},{"type":"message","user":"U16A62N2D","text":"will the v1.0 come soon?","ts":"1481125068.000032"},{"type":"message","user":"U11MANG9G","text":"It\u2019s under development (the `master` branch)","ts":"1481125154.000033"},{"type":"message","user":"U11MANG9G","text":"Should be officially released in March 2017.","ts":"1481125170.000034"},{"type":"message","user":"U11MANG9G","text":"According to the published schedule...","ts":"1481125188.000035"},{"type":"message","user":"U16A62N2D","text":"um....the ```membersrvc``` i have found.but i can\u2019t find a binary file in it..it contains ```ca  Dockerfile  membersrvc.yaml  protos  server.go```","ts":"1481125198.000036"},{"type":"message","user":"U11MANG9G","text":"AFAICT, we are getting there.","ts":"1481125201.000037"},{"type":"message","user":"U11MANG9G","text":"Look at your go bin directory","ts":"1481125215.000038"},{"type":"message","user":"U11MANG9G","text":"If you have it running, then you must of a `membersrvc` binary somewhere.","ts":"1481125232.000039"},{"type":"message","user":"U16A62N2D","text":"yeah i have membersrvc service running.let me search..","ts":"1481125298.000040"},{"type":"message","user":"U11MANG9G","text":"Sure thing. I gotta head out, but I think you can do it. Otherwise, others can assist, and\/or I\u2019ll be back a bit later.","ts":"1481125337.000041"},{"type":"message","user":"U16A62N2D","text":"<@U11MANG9G>  greatly appreciated!","ts":"1481125415.000042","reactions":[{"name":"+1","users":["U11MANG9G"],"count":1}]},{"type":"message","user":"U16A62N2D","text":"i ll try it tmr and tell u the result.thx, <@U11MANG9G>","ts":"1481126400.000043"},{"type":"message","user":"U0S5KF44D","text":"FYI, I pushed a changeset to add LDAP support to COP.  This means the COP server authenticates users against LDAP prior to enrollment and  gets user attributes via LDAP query.   See <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3055>","ts":"1481143985.000044","reactions":[{"name":"+1","users":["U0KM61BCP"],"count":1}]},{"user":"U2VGK3JF5","text":"<@U2VGK3JF5|mmayorivera> has joined the channel","type":"message","subtype":"channel_join","ts":"1481144699.000045"},{"user":"U0NCW1DPX","text":"<@U0NCW1DPX|gengjh> has joined the channel","type":"message","subtype":"channel_join","ts":"1481165602.000046"},{"type":"message","user":"U16A62N2D","text":"<@U11MANG9G>  i have restarted the membersrvc service but  nothing happened.did a do it by mistake?","ts":"1481165609.000047"},{"type":"message","user":"U0NK7T8SH","text":"<@U11MANG9G> I have a v0.6 fabric enviroment, it was created at 3 months ago, and the certificates were expired,  do you know how to renew them? thx in advance.","ts":"1481185994.000048"},{"user":"U0Z5BHCEM","text":"<@U0Z5BHCEM|suma> has joined the channel","type":"message","subtype":"channel_join","ts":"1481202472.000049"},{"user":"U0ZR63HLK","text":"<@U0ZR63HLK|adc> has joined the channel","type":"message","subtype":"channel_join","ts":"1481208460.000050"},{"type":"message","user":"U327VGGF9","text":"<@U11MANG9G>     I would like to ask  if  COP(v1.0)  is compatible w\/  fabric v0.6 ?   I was trying to replace membersrvc with COP. BUT some error occurs...","ts":"1481245771.000051"},{"user":"U35EMQWK1","text":"<@U35EMQWK1|jojocheung> has joined the channel","type":"message","subtype":"channel_join","ts":"1481272785.000052"},{"type":"message","user":"U11MANG9G","text":"<@U0NK7T8SH>: Sorry I\/we have missed your question earlier.","ts":"1481289774.000053"},{"type":"message","user":"U11MANG9G","text":"You can simply update the certificate that is being loaded\/used.","ts":"1481289822.000054"},{"type":"message","user":"U11MANG9G","text":"Noting that the one that is \u201cshipped\u201d or temporarily generated in `v0.6` was intended at first just to \u201cget you going\u201d\u2026","ts":"1481289901.000055"},{"type":"message","user":"U11MANG9G","text":"It is being loaded from the `\/var` folder\u2026 so just quickly (this also applies\/relevant\/related to <@U16A62N2D> \u2019s question above): are you able to restart the `memberservc` service?)","ts":"1481289978.000056"},{"type":"message","user":"U0S5KF44D","text":"<@U327VGGF9> They are not compatible at a plug-and-play component level.  COP speaks REST and membersrvc speaks GRPC.  The configuration elements have also changed.  The way in which compatibility is sort-of preserved is that if you were using the node SDK for example in v06 which knows how to speak to membersrvc, then using the node SDK (or java SDK) in v1 will know how to talk to COP","ts":"1481290026.000057"},{"type":"message","user":"U11MANG9G","text":"____\n<@U327VGGF9> There are already a few considerable changes in the `master` branch that may affect you.","ts":"1481290036.000058"},{"type":"message","user":"U0S5KF44D","text":"That said, the SDK work is a work in progress to speak to COP","ts":"1481290042.000059"},{"type":"message","user":"U11MANG9G","text":"Yes (oh, Keith and I were typing at the same time). I was about to ask something similarly: it depends on what you need to be \u201ccompatible\u201d\u2026  is it in the \u201capplication\u201d layer, that is, sitting \u201con top of the SDK\u201d\u2026. or do you care more about re-using certs, etc?","ts":"1481290149.000060"},{"type":"message","user":"U0S5KF44D","text":"<@U11MANG9G> You're up early :slightly_smiling_face:","ts":"1481290416.000061"},{"type":"message","user":"U11MANG9G","text":"Yes, way too early (and it\u2019s way too cold for me here ;-))","ts":"1481290486.000062","reactions":[{"name":"+1","users":["U0KM61BCP"],"count":1}]},{"type":"message","user":"U0S5KF44D","text":"oh ... ok, must be traveling ...","ts":"1481290522.000063"},{"type":"message","user":"U11MANG9G","text":"Yes, we were at the Hyperledger Hackfest, followed by the Members Summit.","ts":"1481290656.000064"},{"type":"message","user":"U11MANG9G","text":"I will be back online later though.","ts":"1481290671.000065"},{"user":"U12V3D2P2","text":"<@U12V3D2P2|bsmita> has joined the channel","type":"message","subtype":"channel_join","ts":"1481295197.000066"},{"user":"U1GPHH6PQ","text":"<@U1GPHH6PQ|elisabetta> has joined the channel","type":"message","subtype":"channel_join","ts":"1481296870.000067"},{"type":"message","user":"U11MANG9G","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2817>    *Abstract DB and enable plugging in LDAP*   is merged.","ts":"1481313262.000068"},{"type":"message","user":"U327VGGF9","text":"<@U11MANG9G>  <@U0S5KF44D>  Thank you for you kindly reply.","ts":"1481334574.000069"},{"type":"message","user":"U327VGGF9","text":"<@U11MANG9G>  I  imagined that maybe membersrvc could be updated from v0.6 to v1.0 separately so that I could update the hyperledger one module by one module smoothly .   But now it seems that a lot of things have to be prepared and should be complete in one time if updating from v0.6 to v1.0, including COP, fabric, SDK  and  configurations files etc.","ts":"1481336455.000070"},{"user":"U11CP8FF1","text":"<@U11CP8FF1|ibmamnt> has joined the channel","type":"message","subtype":"channel_join","ts":"1481533872.000071"},{"type":"message","user":"U11CP8FF1","text":"I wonder if fabric-cop eventually provides Docker image just like membersrvc, is there any plan ?","ts":"1481534183.000072"},{"type":"message","user":"U11CP8FF1","text":"Also, I wonder what is the procedure to use previous membersrvc with modification (such as membersrvc.yaml to change enrollSecret for admin\/webappadmin) to that it can not be intruded by known password ?","ts":"1481534315.000073"},{"type":"message","user":"U0PB67X4K","text":"<@U11CP8FF1> - yes - there are a few change requests in the pipeline for a Docker image for fabric-cop","ts":"1481537739.000074"},{"type":"message","user":"U0PB67X4K","text":"<@U11CP8FF1> - not sure I understand the question about membersrvcs?   You can always set your own enrollID \/ enrollSecret for a \"bootstrap \/ admin\" user for your instance of membership services.   You can simply change the enrollID and enrollSecret to anything you want - just make sure you a user with the role to create new users","ts":"1481537860.000075"},{"type":"message","user":"U1GPHH6PQ","text":"Hello, can anybody tell me how to get access to <https:\/\/docs.google.com\/document\/d\/1TO-sdHGpn8ifB9C_pH_y54H75Rx0RdXvZih7-lhsLII\/edit> (design document of client for COP)","ts":"1481555471.000076"},{"user":"U307KJEDU","text":"<@U307KJEDU|webkruncher> has joined the channel","type":"message","subtype":"channel_join","ts":"1481556288.000078"},{"type":"message","user":"U11MANG9G","text":"<@U327VGGF9>: yes, a lot is getting changed (from interfaces all the way to core functionality). At least on the \u201cMembership Services\u201d side, the \u201clogic\u201d is similar (ECerts, TCerts, \u2026.).","ts":"1481558161.000079"},{"type":"message","user":"U11MANG9G","text":"It really depends on what you are (currently) doing with fabric. If you have a lot of things to develop and test on the application side, maybe it\u2019s better to start\/continue with 0.6 for now, as it changes less.","ts":"1481558215.000080"},{"type":"message","user":"U11MANG9G","text":"After holidays I expect more work and focus around clean-up tasks, etc\u2026 which will make it easier for you to start working in earnest with `v1.0` \/ `master` branch.","ts":"1481558298.000081"},{"type":"message","user":"U11MANG9G","text":"It\u2019s a general advice, of course. (Obviously I don\u2019t have all the details\/picture regarding what exactly you are doing). I\u2019m happy with v0.6 for the stuff I\u2019m doing, for example\u2026 and I do expect to upgrade next year (no in the coming few weeks, in my case).","ts":"1481558364.000082"},{"type":"message","user":"U11MANG9G","text":"----","ts":"1481558369.000083"},{"type":"message","user":"U11MANG9G","text":"<@U1GPHH6PQ> what is this file\/link please? FWIW, I don\u2019t have access to it either.","ts":"1481558402.000084"},{"type":"message","user":"U11MANG9G","text":"Where did you find it? Is it in a JIRA or so?","ts":"1481558420.000085"},{"type":"message","user":"U1GPHH6PQ","text":"the link is referenced by the SDK design document here: <https:\/\/docs.google.com\/document\/d\/1R5RtIBMW9fZpli37E5Li5_Q9ve3BnQ4q3gWmGZj6Sv4\/edit#>","ts":"1481558954.000086"},{"user":"U32ND8W73","text":"<@U32ND8W73|emtrevin> has joined the channel","type":"message","subtype":"channel_join","ts":"1481560252.000088"},{"type":"message","user":"U11MANG9G","text":"<@U1GPHH6PQ>, oh I see. Let\u2019s ask Jim [@jzhang] then.","ts":"1481560372.000089"},{"type":"message","user":"U11MANG9G","text":"<@U13TWBRBL> is the google doc referenced above supposed to be publicly available (say, for reading) ? Please see <@U1GPHH6PQ> \u2019s question above.","ts":"1481560454.000090"},{"user":"U13TWBRBL","inviter":"U11MANG9G","text":"<@U13TWBRBL|jzhang> has joined the channel","type":"message","subtype":"channel_join","ts":"1481560463.000091"},{"type":"message","user":"U13TWBRBL","text":"<@U1GPHH6PQ> <@U11MANG9G> I thought I had opened it up for public viewing, checking the doc\u2019s permission again...","ts":"1481561495.000092"},{"type":"message","user":"U13TWBRBL","text":"should be public now","ts":"1481561523.000093"},{"type":"message","user":"U11MANG9G","text":"Honestly, today was the first time I clicked this link :wink:. Otherwise, I would have reported this too.","ts":"1481561569.000094"},{"type":"message","user":"U11MANG9G","text":"Works like a charm (for me). Thank you Jim. <@U1GPHH6PQ>: can you (re) try?","edited":{"user":"U11MANG9G","ts":"1481619643.000000"},"ts":"1481561582.000095"},{"type":"message","user":"U13TWBRBL","text":"note that it\u2019s just a placeholder for the latest membership services design, that is consumable to the application developers or implementors of the SDK spec.","ts":"1481561583.000096"},{"type":"message","user":"U13TWBRBL","text":"right now it\u2019s got outdated content","ts":"1481561595.000097"},{"user":"U20M776SW","text":"<@U20M776SW|mdavid> has joined the channel","type":"message","subtype":"channel_join","ts":"1481590162.000098"},{"type":"message","user":"U1GPHH6PQ","text":"<@U11MANG9G>, <@U13TWBRBL>:  it works now, thanks","ts":"1481627146.000100","reactions":[{"name":"+1","users":["U11MANG9G"],"count":1}]},{"user":"U3BKMJZTK","text":"<@U3BKMJZTK|mdevilliers> has joined the channel","type":"message","subtype":"channel_join","ts":"1481640019.000101"},{"type":"message","user":"U11MANG9G","text":"","attachments":[{"fallback":"[December 13th, 2016 9:13 AM] phoolet: when i write make membersrvc &amp;&amp; membersrvc. the response is       make: *** No rule to make target 'membersrvc'.  Stop.","ts":"1481649203.001300","author_subname":"phoolet","channel_id":"C0J02NU1E","channel_name":"general","is_msg_unfurl":true,"text":"when i write make membersrvc &amp;&amp; membersrvc. the response is       make: *** No rule to make target 'membersrvc'.  Stop.","author_name":"Pier Paolo Masia","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/phoolet","author_icon":"https:\/\/secure.gravatar.com\/avatar\/4d98d72ab88747de5803c2d5cd3181da.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F272a%2Fimg%2Favatars%2Fava_0026-48.png","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/general\/p1481649203001300","is_share":true,"footer":"Posted in #general"}],"ts":"1481649526.000102"},{"type":"message","user":"U11MANG9G","text":"Keith, <@U0KM61BCP> has beat me to it, but I have added some possibly useful feedback here: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3055>","ts":"1481668357.000103"},{"type":"message","user":"U2NDE1ZCK","text":"Does anyone else get this error when trying to clone fabric-cop from GitHub...error: unable to create file vendor\/github.com\/cloudflare\/cfssl\/vendor\/github.com\/cloudflare\/cfssl_trust\/ca-bundle\/SwissSignCA(RSAIKMay6199918:00:58)_2000-11-26_SHA1WithRSA.crt: Invalid argument\nerror: unable to create file vendor\/github.com\/cloudflare\/cfssl\/vendor\/github.com\/cloudflare\/cfssl_trust\/ca-bundle\/SwissSignCA(RSAIKMay6199918:00:58)_2000-11-26_SHA1WithRSA_2.crt: Invalid argument","ts":"1481668781.000104"},{"type":"message","user":"U2NDE1ZCK","text":"Seems to pull everything down but then I need to git checkout -f HEAD to get up to date with master","ts":"1481668821.000105"},{"type":"message","user":"U0S5KF44D","text":"I clone from gerrit as follows:  git clone <ssh:\/\/LFID@gerrit.hyperledger.org:29418\/fabric-cop>","ts":"1481679276.000106"},{"type":"message","user":"U0S5KF44D","text":"not sure what's up with the github mirror","ts":"1481679296.000107"},{"user":"U2Y8XHSUD","text":"<@U2Y8XHSUD|liuzl123> has joined the channel","type":"message","subtype":"channel_join","ts":"1481684092.000108"},{"user":"U3CBDC0JG","text":"<@U3CBDC0JG|kenzhang> has joined the channel","type":"message","subtype":"channel_join","ts":"1481685022.000109"},{"type":"message","user":"U2NDE1ZCK","text":"I get the same thing when cloning from gerrit.....I'm pulling from Win 7 machine using Git Bash command window","ts":"1481685302.000110"},{"type":"message","user":"U2NDE1ZCK","text":"$ git clone <ssh:\/\/jdockter@gerrit.hyperledger.org:29418\/fabric-cop>\nCloning into 'fabric-cop'...\nremote: Counting objects: 2904, done\nremote: Finding sources: 100% (80\/80)\nremote: Total 3277 (delta 1), reused 3248 (delta 1)\nReceiving objects: 100% (3277\/3277), 18.73 MiB | 2.54 MiB\/s, done.\nResolving deltas: 100% (505\/505), done.\nChecking connectivity... done.\nerror: unable to create file vendor\/github.com\/cloudflare\/cfssl\/vendor\/github.com\/cloudflare\/cfssl_trust\/ca-bundle\/SwissSignCA(RSAIKMay6199918:00:58)_2000-11-26_SHA1WithRSA.crt: Invalid argument\nerror: unable to create file vendor\/github.com\/cloudflare\/cfssl\/vendor\/github.com\/cloudflare\/cfssl_trust\/ca-bundle\/SwissSignCA(RSAIKMay6199918:00:58)_2000-11-26_SHA1WithRSA_2.crt: Invalid argument\nChecking out files: 100% (3950\/3950), done.\nfatal: unable to checkout working tree\nwarning: Clone succeeded, but checkout failed.\nYou can inspect what was checked out with 'git status'\nand retry the checkout with 'git checkout -f HEAD'","ts":"1481685305.000111"},{"type":"message","user":"U0PB67X4K","text":"<@U2NDE1ZCK>   `:` is reserved character in Windows so that's why you get the `invalid` argument error","ts":"1481715803.000112"},{"type":"message","user":"U2NDE1ZCK","text":"<@U0PB67X4K>  ah....would never have guessed that...thanks","ts":"1481716067.000113"},{"type":"message","user":"U0PB67X4K","text":"you should be ok otherwise","ts":"1481716889.000114"},{"type":"message","user":"U307KJEDU","text":"Can peer v0.6 talk to COP?","ts":"1481749642.000115"},{"type":"message","user":"U307KJEDU","text":"can fabric master branch talk to COP?","ts":"1481750513.000116"},{"user":"U2WJPAAJV","text":"<@U2WJPAAJV|tzukru> has joined the channel","type":"message","subtype":"channel_join","ts":"1481786408.000117"},{"type":"message","user":"U0PB67X4K","text":"<@U307KJEDU>  - \n\n`Can peer v0.6 talk to COP?`   - No   (it would be technically possible of course but the v0.6 peer does not have an embedded client for COP just for membersrvcs)\n\n`can fabric master branch talk to COP?`  In v1 (master branch) there's actually a de-coupling of peer and ordering nodes from COP.   A v1 peer can use crypto material generated by COP or it can use material generated from any standard X509 PKI implementation as well\n\nThe \"identity\" config \/ interfaces are still under way in master, but we're pretty close now for the peer and we'll start work on the orderers soon","edited":{"user":"U0PB67X4K","ts":"1481805017.000000"},"ts":"1481804940.000118"},{"type":"message","user":"U307KJEDU","text":"Awesome:)  Thanks <@U0PB67X4K> - looking forward to v1!","ts":"1481811282.000120"},{"user":"U2Q43TYJH","text":"<@U2Q43TYJH|yohei> has joined the channel","type":"message","subtype":"channel_join","ts":"1481867887.000121"},{"user":"U0KQ9QKH6","text":"<@U0KQ9QKH6|pmullaney> has joined the channel","type":"message","subtype":"channel_join","ts":"1481907142.000122"},{"type":"message","user":"U0KQ9QKH6","text":"trying to build latest fabric-cop in vagrant - build fails, not finding rocksdb ?","ts":"1481907398.000123"},{"type":"message","user":"U0KQ9QKH6","text":"I resolved by installing the distros rocksdb and other deps, hope they are the correct versions","ts":"1481908379.000124"},{"type":"message","user":"U0PB67X4K","text":"<@U0KQ9QKH6> - fabric-cop should not have any dependency on rocksdb as far as I know","ts":"1482150884.000127"},{"type":"message","user":"U0KQ9QKH6","text":"it didn't build for me without it","ts":"1482156434.000128"},{"type":"message","user":"U0PB67X4K","text":"hmm - there's something fishy going on there","ts":"1482157401.000129"},{"user":"U18T2HJRM","text":"<@U18T2HJRM|greg_not_so> has joined the channel","type":"message","subtype":"channel_join","ts":"1482176478.000130"},{"type":"message","user":"U11MANG9G","text":"chaitanya [8:29 AM] Is any user other than the admin allowed to make transactions, if they're pre-registered, meaning their credentials written in the membersrvc.yaml?\n\njonathanlevi [8:43 AM]  BTW: just quickly. The fact that a \u201cuser\u201d has a OTP (one time password) entry in the memberservc.yaml\u2026 does not (yet) grant him\/her the permission to deploy\/execute a transaction...\n\nThe entry in the that yaml file, allows the user to register and enroll to the \u201csystem\u201d, in a process resulting with an ECert (Enrollment Cert) a TCert (Transaction Cert) that are required in order to transact.\n\nThat part of the question is also good for the \u201ccop\u201d channel. I will post it there too in case you need more\/relevant details about that part of the flow.","edited":{"user":"U11MANG9G","ts":"1482241690.000000"},"ts":"1482241640.000131"},{"type":"message","user":"U11MANG9G","text":"<@U2JLNV77T> ^^^","ts":"1482241647.000132"},{"user":"U2JLNV77T","inviter":"U11MANG9G","text":"<@U2JLNV77T|chaitanya> has joined the channel","type":"message","subtype":"channel_join","ts":"1482241651.000133"},{"type":"message","user":"U0S5KF44D","text":"<@U2JLNV77T> I assume you're asking about membersrvc in v0.6 and not COP in v1?  The answers are similar but not identical and want to make sure I'm answering the right question first.","ts":"1482243524.000135"},{"type":"message","user":"U11MANG9G","text":"I think the question is about v0.6 indeed.","ts":"1482245599.000136"},{"type":"message","user":"U11MANG9G","text":"I have \u201cdeprecated\u201d the membership-services channel\u2026 so that we can help people ask\/discuss\/learn about the existing vs. upcoming versions in the same channel.","ts":"1482245648.000137"},{"type":"message","user":"U2JLNV77T","text":"<@U0S5KF44D> Yes, I was asking about membersrvc in v0.6","ts":"1482251244.000138"},{"type":"message","user":"U0S5KF44D","text":"<@U2JLNV77T> So as Jonathan said, an entry in membersrvc.yaml registers the user, but you must still enroll prior to transacting","ts":"1482251767.000139"},{"type":"message","user":"U0YJUECE8","text":"<@U2JLNV77T> to add to what keithsmith said,  a while back somebody here said \"Conceptually, registration is like creating an invitation to a party and enrollment is accepting the invitation\" .  They said this in reference to v0.5 but I suspect it applies to v0.6 as well.  (Not sure if this analogy also makes sense for v1.0, maybe somebody else knows)","ts":"1482252136.000140"},{"type":"message","user":"U2JLNV77T","text":"<@U0YJUECE8> Yes, I think it applies to v0.6 for sure; I remember reading it on one of the channels too. :slightly_smiling_face:","ts":"1482252364.000141"},{"user":"U1GRJD9NC","text":"<@U1GRJD9NC|yuki.k> has joined the channel","type":"message","subtype":"channel_join","ts":"1482253486.000142"},{"type":"message","user":"U0S5KF44D","text":"<@U2JLNV77T> <@U0YJUECE8> Yes, it definitely applies to all releases, including v1.0.    The differences for v1.0 wrt registration &amp; enrollment are as follows, otherwise is the same:","ts":"1482255645.000143"},{"type":"message","user":"U0S5KF44D","text":"1) v1.0 supports LDAP which means you don't pre-register users in the config file, rather they are the users that are in LDAP","ts":"1482255715.000144","reactions":[{"name":"+1","users":["U0YJUECE8"],"count":1}]},{"type":"message","user":"U0S5KF44D","text":"so when you enroll, the COP server authenticates you against an LDAP server prior to allowing you to enroll","ts":"1482255750.000145"},{"type":"message","user":"U0S5KF44D","text":"2) COP in v1 supports a configurable number of password uses, instead of it always being a OTP.  For example, if you know you have a cluster of 3 servers which all need an ecert, then you can pre-register an entry with 3 uses of a password so each of them can enroll","ts":"1482255907.000146"},{"type":"message","user":"U0S5KF44D","text":"3) COP also supports renewing an ecert.  If you know your ecert will expire, you can renew before it expires.  The renewal doesn't require a user\/pass; instead, it uses the private key of the existing ecert to authenticate.","ts":"1482256000.000147"},{"type":"message","user":"U0KM61BCP","text":"<!channel> any reason why fabric-cop is building with go 1.6 as opposed to go 1.7.x (which is where we are with fabric presently)","ts":"1482265894.000148"},{"type":"message","user":"U0S5KF44D","text":"No ... I'll ask Ramesh to change it","ts":"1482267081.000149"},{"user":"U2P0N5J5A","text":"<@U2P0N5J5A|sergefdrv> has joined the channel","type":"message","subtype":"channel_join","ts":"1482313146.000150"},{"type":"message","user":"U0S5KF44D","text":"FYI, here is another COP squad update ... the last for 2016","ts":"1482356054.000151"},{"type":"message","user":"U0S5KF44D","text":"Complete:\n1.\tcop server init\n2.\tcop server start\n3.\tcop client register\n4.\tcop client enroll\n5.\tcop client reenroll (for renewing ECert)\n6.\tcop client revoke \u2013 single cert or all for user\n7.\tLDAP support for user registry (FAB-1144)\n8.\tCOP server cluster support\n9.\tDB support (sqllite, mysql, postgres)\n\nIn Review:\n1.\tTCerts\n2.\tEnforcing validity period for ECerts &amp; TCerts\n3.\tStoring ECerts in PEM files for fabric integration with MSP\n4.\tDocker compose for COP cluster\n\nIn Progress:\n1.\tBCCSP integration for HSM support\n2.\tSupport for initializing an intermediate COP server (FAB 1465)\n3.\tCLI improvement (FAB 1170)\n\nNext\n1.\tSwagger API doc (FAB-763) and doc improvement (FAB-1464)\n2.\tCode simplification\n3.\tAudit (FAB-1228)","ts":"1482356069.000152","reactions":[{"name":"+1","users":["U350X8JMD"],"count":1}]},{"type":"message","user":"U11MANG9G","text":"---","ts":"1482358541.000153"},{"type":"message","user":"U11MANG9G","text":"Where is the latest version of the fabric-cop design document please?","ts":"1482358554.000154"},{"type":"message","user":"U11MANG9G","text":"It is\/was in one of the JIRA items, I recall. Can someone please point it out?","ts":"1482358606.000157"},{"type":"message","user":"U0PB67X4K","text":"we need to hold off on any new functionality and go back and harden \/ refactor what's there at this point.","ts":"1482358642.000158"},{"type":"message","user":"U11MANG9G","text":"Yup. I suggest, too, to call a \u201cfreeze\u201d pretty soon.","ts":"1482358669.000159"},{"type":"message","user":"U0PB67X4K","text":"part of that would, however, include the API \/ Swagger  :wink:","ts":"1482358670.000160"},{"type":"message","user":"U31M2620Z","text":"why the latest makefile require to have docker in path? it seems not necessary if just need to run `make cop`, but it always check before any task...","ts":"1482358907.000161"},{"type":"message","user":"U0S5KF44D","text":"<@U31M2620Z> I agree.  Can you open a jira bug for this?","ts":"1482359388.000162"},{"type":"message","user":"U0S5KF44D","text":"<@U11MANG9G> See <https:\/\/docs.google.com\/document\/d\/1TRYHcaT8yMn8MZlDtreqzkDcXx0WI50AV2JpAcvAM5w>","ts":"1482359400.000163","reactions":[{"name":"+1","users":["U11MANG9G"],"count":1}]},{"type":"message","user":"U0S5KF44D","text":"<@U0PB67X4K> Wasn't planning on doing audit for V1 ... and everything else pertains to hardening\/cleaning up I think","ts":"1482359492.000165"},{"type":"message","user":"U0S5KF44D","text":"Do you disagree?","ts":"1482359498.000166"},{"type":"message","user":"U0PB67X4K","text":"I actually want to hold off on BCCSP and intermediate CAs as well","ts":"1482359523.000167"},{"type":"message","user":"U0PB67X4K","text":"agree on audit","ts":"1482359530.000168"},{"type":"message","user":"U0S5KF44D","text":"ok ... intermediate CA is pretty trivial, but can hold off","ts":"1482359602.000169"},{"type":"message","user":"U31M2620Z","text":"cool, created <https:\/\/jira.hyperledger.org\/browse\/FAB-1467>","ts":"1482359665.000170"},{"user":"U3JGTMWB0","text":"<@U3JGTMWB0|shakespeare> has joined the channel","type":"message","subtype":"channel_join","ts":"1482375690.000171"},{"type":"message","user":"U3JGTMWB0","text":"Hello, everyone, I have a question about deployment of fabrtic-cop.","ts":"1482382024.000172"},{"type":"message","user":"U3JGTMWB0","text":"How to deploy more than one fabric-cop instance which can form a cop network?","ts":"1482382094.000173"},{"type":"message","user":"U3JGTMWB0","text":"According to cop design document, there could be multi-cop instances in a fabric blockchain. We can do that by commands \"cop client submitJoinRequest\"","ts":"1482382217.000174"},{"type":"message","user":"U3JGTMWB0","text":"However, seemingly, these commands have not yet been implemented.","ts":"1482382241.000175"},{"user":"U1V6SJ1FF","text":"<@U1V6SJ1FF|dgorman> has joined the channel","type":"message","subtype":"channel_join","ts":"1482399452.000176"},{"type":"message","user":"U2Q43TYJH","text":"Hi. I\u2019d like to know how to create a new user using Node SDK v1.0.\nI wasn\u2019t able to find \"cop client register\u201d API in Hyperledger Fabric SDK Design Specification v1.0 \n<https:\/\/docs.google.com\/document\/d\/1R5RtIBMW9fZpli37E5Li5_Q9ve3BnQ4q3gWmGZj6Sv4\/edit> \nI found that \"cop client register\u201d is defined as a command line in section 1.2.2 of Membership Services v1.0 Design Document\n<https:\/\/docs.google.com\/document\/d\/1TRYHcaT8yMn8MZlDtreqzkDcXx0WI50AV2JpAcvAM5w\/edit>\nIs there any other method to create a user using Node SDK, or is it under development?","ts":"1482399893.000177"},{"type":"message","user":"U3JGTMWB0","text":"<@U2Q43TYJH>  I am not familiar with fabrick node sdk v1.0, but I can confirm this feature has been implemented in fabric-cop, since I have already used it to create a new user in another client machine.","ts":"1482400745.000179"},{"type":"message","user":"U0PB67X4K","text":"<@U2Q43TYJH> - we have not implemented \"register\" in the NodeSDK yet but it will be coming soon along with a few other functions now that fabric-cop has implemented those APIs","ts":"1482401027.000180"},{"type":"message","user":"U2Q43TYJH","text":"Thanks!","ts":"1482402049.000181"},{"type":"message","user":"U2Q43TYJH","text":"<@U0PB67X4K> is there Jira or some other thing I can track the development status of the feature?","ts":"1482402142.000182"},{"type":"message","user":"U11MANG9G","text":"<https:\/\/jira.hyperledger.org\/browse\/FAB-1239>","ts":"1482403700.000183"},{"type":"message","user":"U11MANG9G","text":"<@U2Q43TYJH> you can start watching the above...","ts":"1482403754.000184"},{"type":"message","user":"U2Q43TYJH","text":"Thank you!","ts":"1482404091.000185","reactions":[{"name":"+1","users":["U11MANG9G"],"count":1}]},{"type":"message","user":"U0NCW1DPX","text":"Hi, I have one question regarding the register, is it possible to specify a password when register a new user via cop client cli?","ts":"1482413784.000186"},{"type":"message","user":"U0S5KF44D","text":"No, the password is always generated by server and returned in register response ","ts":"1482413942.000187"},{"type":"message","user":"U0NCW1DPX","text":"<@U0S5KF44D> do we have any consideration on it? after all the generated password is hard to remember","ts":"1482414175.000190"},{"type":"message","user":"U0S5KF44D","text":"I recommend opening a Jira item to discuss this in","ts":"1482414571.000191"},{"type":"message","user":"U0NCW1DPX","text":"ok","ts":"1482414596.000192"},{"type":"message","user":"U0NCW1DPX","text":"<https:\/\/jira.hyperledger.org\/browse\/FAB-1473>, new item is here, about specify the secret when register a new user.","ts":"1482414953.000193"},{"user":"U2Y3JHRP1","text":"<@U2Y3JHRP1|daniellee> has joined the channel","type":"message","subtype":"channel_join","ts":"1482462970.000194"},{"type":"message","user":"U2Y3JHRP1","text":"Hi everyone, \nare there any instructions on connection between Hyperledger Fabric 1.0 and Fabric-COP?\nI try to setup environment for Fabric 1.0. \nHowever, the Hyperledger Documentation is not updated yet:\n<http:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/Setup\/ca-setup\/>","ts":"1482463112.000195","reactions":[{"name":"+1::skin-tone-3","users":["U1CS08EP3"],"count":1}]},{"type":"message","user":"U3JGTMWB0","text":"<@U2Y3JHRP1>  To be honest, I have the same question","ts":"1482464825.000196","reactions":[{"name":"+1::skin-tone-3","users":["U1CS08EP3"],"count":1}]},{"type":"message","user":"U0PB67X4K","text":"<@U2Y3JHRP1> <@U3JGTMWB0>  - while I'm not defending the fact that we don't have enough docs on getting up and running with V1, I will say that the reason you can't find anything on connecting Fabric-COP to the Fabric peer and\/or orderer nodes is because there actually is no \"connection\" like we have in v0.6.  In V1, use of COP is optional and therefore while you can use crypto material generated by COP within Fabric, you can also use material generated via other mechanisms as well.\n\nAlso - when it comes to V1, the full security path is not currently in place but all of the work is underway","ts":"1482492728.000197"},{"type":"message","user":"U3JGTMWB0","text":"<@U0PB67X4K> Thanks so much for you  reply.","ts":"1482539962.000200"},{"type":"message","user":"U3JGTMWB0","text":"\"The architecture separates trust assumptions for chaincodes (blockchain applications) from trust assumptions for consensus\". Here \"trust assumption\" mentioned, anybody can explain this concept? Thanks a million.","ts":"1482540114.000201"},{"type":"message","user":"U3JGTMWB0","text":"<@U0KN2SSKE>  hello, are you Binh Nguyen?","ts":"1482734858.000202"},{"type":"message","user":"U12452RAP","text":"<@U3JGTMWB0> most guys should being on vacation recently","ts":"1482737030.000203"},{"type":"message","user":"U3JGTMWB0","text":"<@U12452RAP>  ok, thanks","ts":"1482738326.000204"},{"user":"U3DHKV84C","text":"<@U3DHKV84C|yuryandreev> has joined the channel","type":"message","subtype":"channel_join","ts":"1482826432.000205"},{"type":"message","user":"U3DHKV84C","text":"how to make enroll to cop from orderer or peer?","ts":"1482834374.000206"},{"user":"U2N8F32KZ","text":"<@U2N8F32KZ|goms143> has joined the channel","type":"message","subtype":"channel_join","ts":"1482843082.000207"},{"type":"message","user":"U11MANG9G","text":"","attachments":[{"fallback":"[December 27th, 2016 8:44 AM] harsha544: <@U0PB67X4K> how do we add new users in V1.0 is it via fabric-cop, if so how can we do that?","ts":"1482857081.000804","author_subname":"harsha544","channel_id":"C0Y4PEU22","channel_name":"fabric","is_msg_unfurl":true,"text":"<@U0PB67X4K> how do we add new users in V1.0 is it via fabric-cop, if so how can we do that?","author_name":"Krishna Harsha Voora","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/harsha544","author_icon":"https:\/\/avatars.slack-edge.com\/2016-12-18\/117529749584_7b7cc64ff43f23209514_48.png","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric\/p1482857081000804","is_share":true,"footer":"Posted in #fabric"}],"ts":"1482863508.000208"},{"type":"message","user":"U3DHKV84C","text":"sorry, I know how to register and enrol \u201cusers\u201d, but how orderer or peer can to make enrol? they haven't sdk, right?","ts":"1482875805.000209"},{"type":"message","user":"U3DHKV84C","text":"now I run cop (1), peer (4), orderer (1). and, how I can connect those part of system? where I can found diagram, and sample for v1?","ts":"1482875991.000210"},{"user":"U1FEUAG9E","text":"<@U1FEUAG9E|harsha544> has joined the channel","type":"message","subtype":"channel_join","ts":"1482894727.000211"},{"user":"U3955QSBD","text":"<@U3955QSBD|flim> has joined the channel","type":"message","subtype":"channel_join","ts":"1482903792.000212"},{"type":"message","user":"U3955QSBD","text":"on the topic of soft-logout. is this supported in v0.6 fabric and\/or v1.0 fabric (i.e. supported in fabric-cop) ?","edited":{"user":"U3955QSBD","ts":"1482904391.000000"},"ts":"1482904123.000213"},{"type":"message","user":"U11MANG9G","text":"<@U3955QSBD> (Fabian) - please define *soft-logout*...","ts":"1482912742.000216"},{"type":"message","user":"U11MANG9G","text":"I think that fabric-cop has a few more useful features when it comes to \u201clogging-out\u201d by revoking a certificate and validity period.","ts":"1482912865.000217"},{"type":"message","user":"U11MANG9G","text":"While I don\u2019t control the schedule, I believe we are about a sprint away from having these resolved:","ts":"1482912901.000218"},{"type":"message","user":"U11MANG9G","text":"<https:\/\/jira.hyperledger.org\/browse\/FAB-142>","ts":"1482912902.000219"},{"type":"message","user":"U11MANG9G","text":"<https:\/\/jira.hyperledger.org\/browse\/FAB-116>","ts":"1482912923.000220"},{"type":"message","user":"U11MANG9G","text":"<https:\/\/jira.hyperledger.org\/browse\/FAB-145>","ts":"1482912971.000221"},{"type":"message","user":"U11MANG9G","text":"As you can see on JIRA, <@U0S5KF44D>, <@U1BC5A0F9>, <@U0PB67X4K> and I were and are pushing and giving these a priority - there is already related code that was pushed and is under review [I am waiting for others to get back from hols next week - so to answer your question - it\u2019s happening]","ts":"1482913233.000226"},{"type":"message","user":"U11MANG9G","text":"Still curious to learn about the term *soft-logout*. When I, as an admin, actively log someout out - it is rarely softly :wink:","ts":"1482913278.000227"},{"type":"message","user":"U11MANG9G","text":"That is, if I do it due to misbehavior, or due to him\/her abusing previously granted rights - I would like to \u201chard-block him\/her\u201d in most cases\u2026.","edited":{"user":"U11MANG9G","ts":"1483453239.000000"},"ts":"1482913326.000228"},{"user":"U3D5886CB","text":"<@U3D5886CB|ruslan> has joined the channel","type":"message","subtype":"channel_join","ts":"1482913808.000229"},{"user":"U1HBFGDPV","text":"<@U1HBFGDPV|silentspark> has joined the channel","type":"message","subtype":"channel_join","ts":"1482915087.000230"},{"type":"message","user":"U11MANG9G","text":"[just thinking\/talking from a security point of view]","ts":"1482916069.000231"},{"type":"message","user":"U3955QSBD","text":"<@U11MANG9G> soft-logout: Im thinking of the following:\n- user has a username and password\n- user has logged in\n- user now wants to inform fabric-cop to log user out\n- later on, user wants to provide the exact same username and password, to log back in\n- in event that user has forgotten the username and \/ or password, user has no way to log back in","ts":"1482916724.000232"},{"type":"message","user":"U0PB67X4K","text":"<@U3955QSBD>  - yes - please do define what you mean.\n\nBased on previous questions of this nature, I'll assume for now that your question is based on  how security works with the REST API (\/registrar endpoint) and\/or CLI (login) in v0.6.\n\nIt is important to understand that there really is no such concept of \"logging in\" or \"logging out\" within normal Fabric operations.   Fabric transactions are signed using public\/private key pairs and within Fabric information from the public X509 key can be used to make authorization decisions (e.g. if you sign with enrollment certificates we can extract the enrollID \/ common name and if you sign with transaction certificates we can optionally extract attributes).\n\nIn v0.6 the enrollment material and\/or transaction certificates are obtained by registering with membership services.   In v1 you can get these materials from fabric-cop (although you can also generate X509-compliant material from other providers as well).\n\nWith v0.6, if you use the CLI to \"login\" what really happens under the covers is that the CLI communicates with membersrvcs, \"enrolls\" you using one time password (enroll secret) and then downloads your enrollment material locally (under the covers there is a file-based \"ID\" vault where the material is stored by enrollID).  After that, that same crypt material is now used to sign transactions you send via the CLI (basically CLI checks the \"ID\" value for material matching the enrollID and if it exists it uses it).\n\nWhen you use REST with v0.6, similar thing happens except that the peer with which you communicate actually now acts as a \"wallet\" and registers and downloads the crypto material on behalf of the user.  So you end up with the same \"ID\" vault being stored local to the peer and then for subsequent invoke requests to the REST API the peer then acts as a client on behalf of the user and uses the material in the \"ID\" vault.   Of course the issue here is that an enrollSecret is a one-time password so only the initial peer on which the \"\/registrar\" endpoint was called has access to this material and therefore you would need to continue to make REST calls to only that peer if you want to use the same enrollID.\n\nWhen you use the Node and Java SDK, you actually have more control over the \"ID\" vault yourself but are still responsible for managing it.","edited":{"user":"U0PB67X4K","ts":"1482916939.000000"},"ts":"1482916808.000233"},{"type":"message","user":"U0PB67X4K","text":"Bottom line:   there is not a real concept of a session-based login for Fabric.  You obtain cryptographic enrollment material and use it to sign transactions.  The Fabric will \"accept\" transactions signed by this material as long as the Fabric \"trusts\" the issuer of the material and in the future as long as the material has not been revoked (similar to what <@U11MANG9G> is describing above)","ts":"1482917026.000235"},{"user":"U22RH7VGT","text":"<@U22RH7VGT|ranjan008> has joined the channel","type":"message","subtype":"channel_join","ts":"1482925826.000236"},{"user":"U1CS08EP3","text":"<@U1CS08EP3|ashishkel> has joined the channel","type":"message","subtype":"channel_join","ts":"1482926984.000237"},{"type":"message","user":"U0NCW1DPX","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3557\/>\n<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3559\/>\ntwo new commits, pls help to review.","ts":"1482935635.000238"},{"user":"U0NLP5909","text":"<@U0NLP5909|hanhzf> has joined the channel","type":"message","subtype":"channel_join","ts":"1482935777.000239"},{"user":"U11G06X52","text":"<@U11G06X52|shsedghi> has joined the channel","type":"message","subtype":"channel_join","ts":"1482956009.000242"},{"user":"U15KME666","text":"<@U15KME666|dayu> has joined the channel","type":"message","subtype":"channel_join","ts":"1482972474.000243"},{"user":"U0YK3KKCY","text":"<@U0YK3KKCY|harrijk> has joined the channel","type":"message","subtype":"channel_join","ts":"1482982567.000244"},{"type":"message","user":"U11G06X52","text":"I am getting this with Java-SDK, when tries to get tCert from Member Service in v0.6 , please let me know if you know what causing this: membersrvc_1  | 19:13:40.538 [tcap] CreateCertificateSet -&gt; DEBU 125 grpc TCAP:CreateCertificateSet\nmembersrvc_1  | 19:13:40.538 [ca] readCertificateByKeyUsage -&gt; DEBU 126 Reading certificate for User1 and usage 1\nmembersrvc_1  | 19:13:40.538 [ca] readCertificateByKeyUsage -&gt; DEBU 127 readCertificateByKeyUsage() Error: sql: no rows in result set","ts":"1483039076.000245"},{"type":"message","user":"U1CS08EP3","text":"<@U0PB67X4K> and <@U11MANG9G> , that point about the revocation was interesting. \n<https:\/\/hyperledgerproject.slack.com\/archives\/fabric-cop\/p1482917026000235>\nThis do mean that fabric cop could provide API for revocation of a transaction certificate, which can indicate that that session is not valid anymore. \nSo how can a user get a next set of valid transaction certificates? Fabric-cop has an API for that? \n<@U11MANG9G> if these APIs are available, and if these approaches are viable ( from practical and performance point of views), this could end the topic of soft logout in a motivating note. ","attachments":[{"from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-cop\/p1482917026000235","fallback":"[December 28th, 2016 1:23 AM] garisingh: Bottom line:   there is not a real concept of a session-based login for Fabric.  You obtain cryptographic enrollment material and use it to sign transactions.  The Fabric will \"accept\" transactions signed by this material as long as the Fabric \"trusts\" the issuer of the material and in the future as long as the material has not been revoked (similar to what <@U11MANG9G> is describing above)","ts":"1482917026.000235","author_subname":"garisingh","channel_id":"C2Y3CPP16","channel_name":"fabric-cop","is_msg_unfurl":true,"text":"Bottom line:   there is not a real concept of a session-based login for Fabric.  You obtain cryptographic enrollment material and use it to sign transactions.  The Fabric will \"accept\" transactions signed by this material as long as the Fabric \"trusts\" the issuer of the material and in the future as long as the material has not been revoked (similar to what <@U11MANG9G> is describing above)","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/garisingh","author_icon":"https:\/\/avatars.slack-edge.com\/2016-09-10\/78323915894_521dc680194c08b166e0_48.jpg","mrkdwn_in":["text"],"id":1,"footer":"Posted in #fabric-cop"}],"ts":"1483416872.000246"},{"type":"message","user":"U1CS08EP3","text":"<@U0PB67X4K> , these next set of certificate being passed along with the future transactions, would it impact the transaction auditing feature? ","ts":"1483416965.000248"},{"type":"message","user":"U0S5KF44D","text":"<@U1CS08EP3> As I'm sure you know, an e-cert (enrollment certificate) is required in order to get a batch of t-certs (transaction certificates).  Both e-certs and t-certs can expire or be revoked.  If a t-cert is revoked, the e-cert can still be used to get other t-certs.  If an e-cert is revoked, it can no longer be used to get t-certs.  It would still be good to know exactly what the requirement is pertaining to a \"soft logout\".","ts":"1483452492.000249"},{"type":"message","user":"U0S5KF44D","text":"<@U11G06X52> The error message means that membersrvc was unable to find the user's ecert in the DB.  This would happen I believe if the membersrvc DB was deleted and recreated.  I would suggest stopping membersrvc and deleting the DB again, and also delete the local keyValStore on the java-SDK side.  This will force the SDK to re-enroll with membersrvc.  Let me know if this doesn't work and we can do some more diagnosing","ts":"1483456053.000251"},{"type":"message","user":"U11G06X52","text":"<@U0S5KF44D>  thanks, it was fixed","ts":"1483496093.000252"},{"user":"U10SJMAHH","text":"<@U10SJMAHH|sachikoy> has joined the channel","type":"message","subtype":"channel_join","ts":"1483502507.000253"},{"user":"U350X8JMD","text":"<@U350X8JMD|ypqu> has joined the channel","type":"message","subtype":"channel_join","ts":"1483518020.000254"},{"user":"U1F3CQ2HX","text":"<@U1F3CQ2HX|nhrishi> has joined the channel","type":"message","subtype":"channel_join","ts":"1483607816.000255"},{"user":"U1W1YHJ80","text":"<@U1W1YHJ80|nasastry> has joined the channel","type":"message","subtype":"channel_join","ts":"1483631947.000256"},{"user":"U0Y3HSY6S","text":"<@U0Y3HSY6S|samirsadeghi> has joined the channel","type":"message","subtype":"channel_join","ts":"1483655843.000257"},{"user":"U2BUWHU5C","text":"<@U2BUWHU5C|warong> has joined the channel","type":"message","subtype":"channel_join","ts":"1483673540.000258"},{"type":"message","user":"U11CP8FF1","text":"I see difference between Docker image created by \u201cmake docker\u201d , and the sample provided by \u201cfabric-cop\/docker\/fabric-cop\u201d.  Image created by \u201cmake docker\u201d seems to assume COP_HOME is \u201c\/etc\/hyperledger\/cop\u201d while the sample assumes to have \u201c~\/.cop\u201d for certificate and keys, and \u201c\/config\u201d for cop.json configuration file.  I think we should use \u201cmake docker\u201d one, because it seems light weight (only consumes 50MB, and comes with busybox only, i.e. more secure).","ts":"1483681875.000259"},{"type":"message","user":"U0PB67X4K","text":"<@U11CP8FF1> - you are correct - you should use `make docker` - we should clean up the other one","ts":"1483703438.000260"},{"user":"U3NLGA0FP","text":"<@U3NLGA0FP|anandv> has joined the channel","type":"message","subtype":"channel_join","ts":"1483809865.000261"},{"user":"U0Z41KY5V","text":"<@U0Z41KY5V|baohua> has joined the channel","type":"message","subtype":"channel_join","ts":"1483858338.000262"},{"type":"message","user":"U0Z41KY5V","text":"hi cop experts, how can we start a simple cop server now? I follow the docker\/docker-compose-cop.yml, and it will throw error when cop starts:\n ```Attaching to docker_cop_1, docker_sdk-client_1, docker_bob-client_1, docker_admin-client_1\ncop_1           | 2017\/01\/08 06:41:11 [INFO] Initializing signer\ncop_1           | 2017\/01\/08 06:41:11 [WARNING] couldn't initialize signer: {\"code\":2000,\"message\":\"Unknown private key error\"}\ncop_1           | 2017\/01\/08 06:41:11 [WARNING] couldn't initialize ocsp signer: open : no such file or directory\ncop_1           | 2017\/01\/08 06:41:11 [INFO] endpoint '\/api\/v1\/cfssl\/certinfo' is enabled\ncop_1           | 2017\/01\/08 06:41:11 [WARNING] endpoint '\/' is disabled: could not locate box \"static\"\ncop_1           | 2017\/01\/08 06:41:11 [INFO] endpoint '\/api\/v1\/cfssl\/revoke' is enabled\ncop_1           | 2017\/01\/08 06:41:11 [WARNING] endpoint 'authsign' is disabled: signer not initialized\ncop_1           | 2017\/01\/08 06:41:11 [WARNING] endpoint 'info' is disabled: signer not initialized\ncop_1           | 2017\/01\/08 06:41:11 [WARNING] endpoint 'gencrl' is disabled: signer not initialized\ncop_1           | 2017\/01\/08 06:41:11 [INFO] bundler API ready\ncop_1           | 2017\/01\/08 06:41:11 [INFO] endpoint '\/api\/v1\/cfssl\/bundle' is enabled\ncop_1           | 2017\/01\/08 06:41:11 [INFO] endpoint '\/api\/v1\/cfssl\/init_ca' is enabled\ncop_1           | 2017\/01\/08 06:41:11 [INFO] endpoint '\/api\/v1\/cfssl\/scan' is enabled\ncop_1           | 2017\/01\/08 06:41:11 [INFO] endpoint '\/api\/v1\/cfssl\/scaninfo' is enabled\ncop_1           | 2017\/01\/08 06:41:11 KeyStore path [\/tmp] missing [true]: [&lt;clean&gt;]\ncop_1           | 2017\/01\/08 06:41:11 Creating KeyStore at [\/tmp]...\ncop_1           | 2017\/01\/08 06:41:11 KeyStore created at [\/tmp].\ncop_1           | 2017\/01\/08 06:41:11 KeyStore opened at [\/tmp]...done\ncop_1           | 2017\/01\/08 06:41:11 [WARNING] endpoint 'tcert' is disabled: Failed to initialize TCert handler: open : no such file or directory\ncop_1           | 2017\/01\/08 06:41:11 [WARNING] endpoint 'sign' is disabled: signer not initialized\ncop_1           | 2017\/01\/08 06:41:11 [WARNING] endpoint 'newcert' is disabled: signer not initialized\ncop_1           | 2017\/01\/08 06:41:11 [INFO] setting up key \/ CSR generator\ncop_1           | 2017\/01\/08 06:41:11 [INFO] endpoint '\/api\/v1\/cfssl\/newkey' is enabled\ncop_1           | 2017\/01\/08 06:41:11 [WARNING] endpoint 'ocspsign' is disabled: signer not initialized\ncop_1           | 2017\/01\/08 06:41:11 [INFO] endpoint '\/api\/v1\/cfssl\/register' is enabled\ncop_1           | 2017\/01\/08 06:41:11 [INFO] endpoint '\/api\/v1\/cfssl\/enroll' is enabled\ncop_1           | 2017\/01\/08 06:41:11 [INFO] endpoint '\/api\/v1\/cfssl\/reenroll' is enabled\ncop_1           | 2017\/01\/08 06:41:11 [INFO] Handler set up complete.\ncop_1           | 2017\/01\/08 06:41:11 [INFO] Now listening on <https:\/\/0.0.0.0:8888>\ncop_1           | open : no such file or directory\ndocker_cop_1 exited with code 1```","ts":"1483858513.000263"},{"type":"message","user":"U0Z41KY5V","text":"I also try to follow the README.md and it does not work, thanks for any advice!","ts":"1483858820.000266"},{"type":"message","user":"U350X8JMD","text":"<@U0Z41KY5V> I encountered the same problem,I build cop-images by myself and change command to `sh -c 'cop server start -config \/config\/cop.json -address \u201c0.0.0.0\u201d\u2019` , it works.","ts":"1483894785.000267"},{"type":"message","subtype":"file_share","text":"<@U350X8JMD|ypqu> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ypqu\/F3PCVBX39\/cop_with_docker_images.dockerfile|cop with docker images> and commented: mydata is your configs and PEMs by [cop server init] create","file":{"id":"F3PCVBX39","created":1483894895,"timestamp":1483894895,"name":"cop_with_docker_images.dockerfile","title":"cop with docker images","mimetype":"text\/plain","filetype":"dockerfile","pretty_type":"Docker","user":"U350X8JMD","editable":true,"size":189,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3PCVBX39\/cop_with_docker_images.dockerfile?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3PCVBX39\/download\/cop_with_docker_images.dockerfile?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ypqu\/F3PCVBX39\/cop_with_docker_images.dockerfile","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3PCVBX39-58837656b5","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ypqu\/F3PCVBX39\/cop_with_docker_images.dockerfile\/edit","preview":"  cop:\r\n    image: kitvv\/fabric-cop\r\n    volumes :\r\n      - \/mydata:\/config\r\n    ports:\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>  cop:<\/pre><\/div>\n<div><pre>    image: kitvv\/fabric-cop<\/pre><\/div>\n<div><pre>    volumes :<\/pre><\/div>\n<div><pre>      - \/mydata:\/config<\/pre><\/div>\n<div><pre>    ports:<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":7,"lines_more":2,"preview_is_truncated":false,"channels":["C2Y3CPP16"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc3NKYUW4B","created":1483894895,"timestamp":1483894895,"user":"U350X8JMD","is_intro":true,"comment":"mydata is your configs and PEMs by [cop server init] create","channel":""}},"user":"U350X8JMD","upload":true,"display_as_bot":false,"username":"<@U350X8JMD|ypqu>","bot_id":null,"ts":"1483894896.000268"},{"type":"message","subtype":"file_share","text":"<@U350X8JMD|ypqu> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ypqu\/F3NMZ0QDQ\/cop_json.txt|cop.json>","file":{"id":"F3NMZ0QDQ","created":1483895001,"timestamp":1483895001,"name":"cop_json.txt","title":"cop.json","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U350X8JMD","editable":true,"size":593,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3NMZ0QDQ\/cop_json.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3NMZ0QDQ\/download\/cop_json.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ypqu\/F3NMZ0QDQ\/cop_json.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3NMZ0QDQ-e1448fdc21","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ypqu\/F3NMZ0QDQ\/cop_json.txt\/edit","preview":"{\r\n \"tls_disable\":false,\r\n \"driver\":\"sqlite3\",\r\n \"data_source\":\"cop.db\",\r\n \"ca_cert\":\"\/config\/server-cert.pem\",\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>{<\/pre><\/div>\n<div><pre> &quot;tls_disable&quot;:false,<\/pre><\/div>\n<div><pre> &quot;driver&quot;:&quot;sqlite3&quot;,<\/pre><\/div>\n<div><pre> &quot;data_source&quot;:&quot;cop.db&quot;,<\/pre><\/div>\n<div><pre> &quot;ca_cert&quot;:&quot;\/config\/server-cert.pem&quot;,<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":31,"lines_more":26,"preview_is_truncated":false,"channels":["C2Y3CPP16"],"groups":[],"ims":[],"comments_count":0},"user":"U350X8JMD","upload":true,"display_as_bot":false,"username":"<@U350X8JMD|ypqu>","bot_id":null,"ts":"1483895002.000269"},{"type":"message","user":"U350X8JMD","text":"<@U0Z41KY5V>  also note that cop service by docker image is started with `https` url , it not worked in node sdk test js file , If you use it into node sdk test ,you need change `\u201dtls_disable\u201d` to true in `cop.json`","edited":{"user":"U350X8JMD","ts":"1483898176.000000"},"ts":"1483895228.000270"},{"type":"message","user":"U0Z41KY5V","text":"thanks, yongpeng qu, in this way, we are using the docker\/fabric-cop\/cop.json as the config, right? we will try this one later, thanks! <@U12452RAP>","ts":"1483921824.000277"},{"type":"message","user":"U12452RAP","text":":+1::skin-tone-2:","ts":"1483921860.000278"},{"type":"message","user":"U12452RAP","text":"Does cop support ENV override these properties?","ts":"1483924328.000279"},{"type":"message","user":"U0S5KF44D","text":"No, unfortunately not currently, but see <https:\/\/jira.hyperledger.org\/browse\/FAB-1170>","ts":"1483925063.000280"},{"type":"message","user":"U0S5KF44D","text":"The problems mentioned above were introduced when TLS support was added.  That was the 1st time that file names were embedded in the COP config file, but unfortunately the file names were processed relative to the current working directory rather than the location of the config file.   This is fixed for the COP server in this change set: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3749>","ts":"1483925248.000281"},{"type":"message","user":"U0S5KF44D","text":"This still needs to be fixed for the COP client.   You can follow <https:\/\/jira.hyperledger.org\/browse\/FAB-1549>","ts":"1483925303.000282"},{"type":"message","user":"U0S5KF44D","text":"It looks like you've already found a work around as shown above, but hopefully this will help you understand exactly   in more detail until these change sets are merged","ts":"1483925372.000283"},{"type":"message","user":"U12452RAP","text":"hi <@U0S5KF44D>","ts":"1483925612.000284"},{"type":"message","user":"U12452RAP","text":"as currently i have not implement tls in python client","ts":"1483925629.000285"},{"type":"message","user":"U12452RAP","text":"how to config for cop server disabled tls","ts":"1483925653.000286"},{"type":"message","user":"U12452RAP","text":"just let ca* properties null?","ts":"1483925676.000287"},{"type":"message","user":"U0S5KF44D","text":"Set \"tls_disable\":true at the top of the config file","ts":"1483925931.000288"},{"type":"message","user":"U0S5KF44D","text":"The ca properties are required in order to issue ecerts, so that must be there.","ts":"1483925978.000289"},{"type":"message","user":"U0S5KF44D","text":"But setting \"tls_disable\" will cause it to listen over http","ts":"1483926023.000290"},{"type":"message","user":"U12452RAP","text":"ok","ts":"1483926161.000291"},{"type":"message","user":"U12452RAP","text":"i need test both http and https","ts":"1483926176.000292"},{"type":"message","user":"U12452RAP","text":"thanks","ts":"1483926187.000293"},{"type":"message","user":"U12452RAP","text":"<@U0S5KF44D> if i am right, the enroll request change to json format","ts":"1483954281.000294"},{"type":"message","user":"U0S5KF44D","text":"Yes, you are correct.   Jira tasks were opened to update SDKs appropriately.","ts":"1483958226.000295"},{"type":"message","user":"U12452RAP","text":"<@U0S5KF44D>: OK, as we also are develop ing a python SDK , could you open a Jira for this too?","ts":"1483962261.000296"},{"type":"message","user":"U0S5KF44D","text":"Yes ... did that last week.  See <https:\/\/jira.hyperledger.org\/browse\/FAB-1544>","ts":"1483964827.000297"},{"type":"message","user":"U0S5KF44D","text":"FYI, here is a summary of remaining work we are trying to finish for COP for V1.  Not all of these are strict requirements, but thought I'd leave them in the list for now.   This is probably easier to read than viewing the dashboard.","ts":"1483973866.000298"},{"type":"message","user":"U0S5KF44D","text":"1) API simplification - <https:\/\/jira.hyperledger.org\/browse\/FAB-1462>\n   a) Delete idp package; all API structs go into api package.\n      - api\/net.go contains structs defining everything that goes over the network\n        between the client and server.\n      - api\/client.go contains structs defining I\/O to the client library objects\n   b) Simplify object hierarchy in lib to be only Client, Identity, &amp; Cert;\n      signer, temporalSigner, and verifier are consumed in Cert.\n      Identity object has:\n         GetECert() (Cert, error)\n         GetTCerts(req *GetTCertBatchRequest) (*GetTCertBatchResponse, error)\n\n2) TCert option 2 (depends on #1)\n   - The GetTCertBatchRequest struct in api\/client.go has a bool field:\n       DisableKeyDerivation bool\n     If this is true, then option 2 is used.  This is the only change to the client.\n     The rest is handled by the client library code.\n   - The impl of GetTCertBatch in lib\/identity.go calls BCCSP to generate a key-pair for\n     each tcert in the batch.  It then sets the array of public keys in the\n     GetTCertBatchRequestNet struct defined in api\/net.go and sends the request to the server.\n   - The server generates a CSR for each public key, signs them, and returns the array of certs.\n     This is done in cli\/server\/tcert.go and requires relatively minor change.\n     After we get the attribute values (no change), if there is an array of public keys, we\n     fork off to separate code to generate the CSRs and sign them.  The only thing we call lib\/tcert.go\n     code for is to get the extensions which go in the CSR.  Each of these CSRs should be identical\n     except for the value of the public key, so that should be the only thing in the loop.\n\n3) BCCSP COP integration (slightly dependent on #1, but could merge)\n   a) Into CFSSL\n      - CFSSL pull request has been submitted (see <https:\/\/github.com\/cloudflare\/cfssl\/issues\/711>)\n      - rebase\/refactor <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3679\/> on top <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3735\/>\n   b) Into COP itself\n      - lib\/tcert.go rewritten using BCCSP APIs (also on top of <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3735\/>)\n        Is this done in <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3679\/>?\n\n4) CLI Improvements - <https:\/\/jira.hyperledger.org\/browse\/FAB-1170>\n\n5) Store\/retrieve tcert root prekey in DB - <https:\/\/jira.hyperledger.org\/browse\/FAB-1561>\n\n6) Helpme improvements\n   b) endpoint whitelist - <https:\/\/jira.hyperledger.org\/browse\/FAB-1555>\n   c) register with password - <https:\/\/jira.hyperledger.org\/browse\/FAB-1473>\n\n7) Documentation\n   - Update the readme docs.  Not sure when this needs to be done.\n     See <https:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/Setup\/Chaincode-setup\/#option-2-docker-for-mac-or-windows> for example\n   - Swagger doc for REST APIs.  Given api\/net.go, can we use <https:\/\/github.com\/go-swagger\/go-swagger> to auto generate swagger doc?\n     (depends on #1)\n   - User's guide in fabric-cop\/README.md.  See <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3727\/>\n   - Developer's guide to include code overview","ts":"1483973877.000299"},{"user":"U221LL03Z","text":"<@U221LL03Z|ashutoshkumar> has joined the channel","type":"message","subtype":"channel_join","ts":"1483974212.000300"},{"type":"message","user":"U11MANG9G","text":"Good morning,","ts":"1483975637.000301"},{"type":"message","user":"U11MANG9G","text":"I think that this component (fabric COP) requires a LOT of testing\u2026 we have merged a lot, pretty quickly, but we need to see it working.","ts":"1483975662.000302"},{"type":"message","user":"U11MANG9G","text":"I believe that it will be highly beneficial to have less \u201cexotic\" features and have more tests, use-cases, examples of how people should use it.","ts":"1483975711.000303"},{"type":"message","user":"U11MANG9G","text":"And the more \u201cearly adopters\u201d start\/try to use it, the more feedback we can gather.","ts":"1483975733.000304"},{"type":"message","user":"U11MANG9G","text":"I will go over the new README and other CRs today, but I actually think that maybe slowing down with all these CRs will help us to merge more.","ts":"1483975781.000305"},{"type":"message","user":"U11MANG9G","text":"Keith, Gari and I worked last week, to \u201cclear the way\u201d with a lot of stuff from the holidays that was there.","ts":"1483975810.000306"},{"type":"message","user":"U11MANG9G","text":"And I do appreciate that the above is just a \u201cheads-up\u201d regarding what\u2019s coming\u2026","ts":"1483975829.000307"},{"type":"message","user":"U11MANG9G","text":"Just wanted to share my thoughts here openly. More tests, more people trying things out -&gt; more feedback -&gt; better :wink:","ts":"1483975860.000308"},{"type":"message","user":"U0S5KF44D","text":"Thanks for the comments Jonathan.  As far as I know, the things that are merged are working ... though I did have to push a change set over the weekend to help with that (<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3749\/>).  Any specific comments from you or anyone else regarding what is considered exotic would be great.","ts":"1483975959.000309"},{"type":"message","user":"U0S5KF44D","text":"We did push a change set for #7 documentation last week but not reviewed yet.","ts":"1483975996.000310"},{"type":"message","user":"U11MANG9G","text":"Yes, I\u2019m looking at the README CR that was submitted on Friday.","ts":"1483976112.000311"},{"type":"message","user":"U11MANG9G","text":"*Update the readme docs.  Not sure when this needs to be done.* -&gt; I think that\u2019s important, I\u2019ll give it a\/the priority too (as it may help other learn how to use the new things earlier).","ts":"1483976169.000312"},{"type":"message","user":"U0S5KF44D","text":"Someone on this channel I believe was requesting something that would be solved by #4 in my list.  It would be helpful to know how important folks think this is","ts":"1483976227.000313"},{"type":"message","user":"U11MANG9G","text":"By \u201cexotic\u201d I mean anything that is currently not a \u201cmust have\u201d in order to start working. I know that people are\/were holding off trying things out since v0.5 and v0.6, so the sooner we get them up and running (even with the \u201cbasic\u201d, that is \u201cnot exotic\u201d stuff) on the v1 branch, the better, I believe.","ts":"1483976380.000316"},{"type":"message","user":"U11MANG9G","text":"Mind you, I don\u2019t know everything\u2026 but the (developer) documentation, more tests, end-to-end samples, and the basic flow (e.g., without a re-enrolment\/certificate extension, even) will be highly useful.","ts":"1483976478.000317"},{"type":"message","user":"U11MANG9G","text":"Maybe in a line, my informal definition for \u201cnon-exotic\u201d stuff is collectively, all the basic stuff that people could do with v0.5 and v0.6, now in the better\/new\/shiny version that\u2019s in the v1 branch.","ts":"1483976556.000318"},{"type":"message","user":"U11MANG9G","text":"___\nTo clarify, I don\u2019t think we are in any disagreement here.\nJust adding my thoughts\/suggestions to the end of your list\u2026\n___","ts":"1483976612.000319"},{"type":"message","user":"U0S5KF44D","text":"thanks ... I'll start updating the readthedocs after finishing #1 today hopefully","ts":"1483976842.000320"},{"user":"U0KPFAZNF","text":"<@U0KPFAZNF|ghaskins> has joined the channel","type":"message","subtype":"channel_join","ts":"1483977529.000321"},{"user":"U195M30MD","text":"<@U195M30MD|nickmelis> has joined the channel","type":"message","subtype":"channel_join","ts":"1483977569.000322"},{"type":"message","user":"U11MANG9G","text":"Hi again <@U195M30MD>: Especially regarding ECerts, TCerts, etc\u2026this is the \u201cplace to be\/ask\u201d :wink:","ts":"1483977588.000323"},{"type":"message","user":"U0KPFAZNF","text":"<@U11MANG9G> <@U0S5KF44D> FYI, I have a patch coming which mods the docker build, trying to reconcile a few things with fabric.git and improve turnkey experience","ts":"1483977602.000324","reactions":[{"name":"+1","users":["U11MANG9G"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"ill post when I push to gerrit for review","ts":"1483977610.000325"},{"type":"message","user":"U195M30MD","text":"Hi <@U11MANG9G> thanks for pointing me here","ts":"1483977613.000326"},{"type":"message","user":"U195M30MD","text":"I do have in fact a problem with TCert, but I have no idea what\u2019s causing it","ts":"1483977628.000327"},{"type":"message","user":"U0KPFAZNF","text":"one thing I noticed is that it seems fabric-cop is binding to localhost right now","ts":"1483977632.000328"},{"type":"message","user":"U0KPFAZNF","text":"i need to track down if that is already tunable","ts":"1483977640.000329"},{"type":"message","user":"U0KPFAZNF","text":"any guidance appreciated","ts":"1483977644.000330"},{"type":"message","user":"U11MANG9G","text":"Yes :disappointed:","ts":"1483977644.000331"},{"type":"message","user":"U195M30MD","text":"Java SDK only says Failed getting a new TCert","ts":"1483977655.000332"},{"type":"message","user":"U11MANG9G","text":"<@U0KPFAZNF>: And uses a hidden folder (.cop) in one\u2019s home directory.","ts":"1483977680.000333"},{"type":"message","user":"U11MANG9G","text":":disappointed: This needs changing, but probably not a show stopper for today.","ts":"1483977708.000334"},{"type":"message","user":"U0KPFAZNF","text":"<@U11MANG9G> yeah, i think I already have that more dockerized (e.g. using \/etc\/hyperledger\/fabric-cop instead of ~\/.cop","ts":"1483977712.000335"},{"type":"message","user":"U11MANG9G","text":"Thank you!","ts":"1483977721.000336"},{"type":"message","user":"U0KPFAZNF","text":"I think the last part is I need it to bind to 0.0.0.0","ts":"1483977729.000337"},{"type":"message","user":"U0KPFAZNF","text":"having looked if that is available as a knob in the .json or if I have to hack code","ts":"1483977743.000338"},{"type":"message","user":"U195M30MD","text":"if I debug through the code I also get this as a cause: io.grpc.StatusRuntimeException: UNKNOWN: sql: no rows in result set","ts":"1483977810.000339"},{"type":"message","user":"U195M30MD","text":"ever seen it?","ts":"1483977814.000340"},{"type":"message","user":"U0KPFAZNF","text":"<@U11MANG9G> <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3763\/>","ts":"1483978231.000341","reactions":[{"name":"+1","users":["U11MANG9G"],"count":1}]},{"user":"U3FB31151","text":"<@U3FB31151|ns> has joined the channel","type":"message","subtype":"channel_join","ts":"1483979663.000342"},{"type":"message","user":"U0S5KF44D","text":"<@U0KPFAZNF> You can add the \"-address 0.0.0.0\" option to the \"cop server start\" command","ts":"1483980279.000343"},{"type":"message","user":"U0S5KF44D","text":"That is inherited from cfssl but we plan to make it the default in future","ts":"1483980305.000344"},{"type":"message","user":"U0KPFAZNF","text":"<@U0S5KF44D> awesome, ty","ts":"1483980334.000345"},{"type":"message","user":"U0S5KF44D","text":"<@U195M30MD> I'm not exactly sure what client you're using and how configured, but looks like it's trying to speak GRPC to COP which supports REST","ts":"1483980594.000346"},{"type":"message","user":"U195M30MD","text":"ah\u2026that is actually useful!! I do think SKD is trying to communicate via GRPC when getting the TCert batch","ts":"1483980640.000347"},{"type":"message","user":"U195M30MD","text":"so is COP only REST now?","ts":"1483980657.000348"},{"type":"message","user":"U195M30MD","text":"I\u2019m using the Java SDK, did the old membersrvc at any point communicate via GRPC?","ts":"1483980888.000349"},{"type":"message","user":"U221LL03Z","text":"<@U195M30MD>  , you can use REST to get TCert , but the code to consume TCert in JAVA sdk is not there yet.","edited":{"user":"U221LL03Z","ts":"1483981990.000000"},"ts":"1483981942.000350"},{"type":"message","user":"U221LL03Z","text":"If you think , you have handle that , that is fine , otherwisw , we need to provide you that support.","ts":"1483982036.000352"},{"type":"message","user":"U221LL03Z","text":"let me know.","ts":"1483982061.000353"},{"type":"message","user":"U221LL03Z","text":"your first step is to get batch of tcerts , which you are working on now.","ts":"1483982087.000354"},{"type":"message","user":"U221LL03Z","text":"Consumption of TCerts comes next.","ts":"1483982103.000355"},{"type":"message","user":"U195M30MD","text":"<@U221LL03Z> let me see if I get it right, membersrvc used to support GRPC and provide batch of TCerts over GRPC. But this is not the case anymore and Java SDK needs to be updated. Is that right?","ts":"1483982172.000356"},{"type":"message","user":"U221LL03Z","text":"yes , that is correct.","ts":"1483982190.000357"},{"type":"message","user":"U221LL03Z","text":"that is one part of puzzle.","ts":"1483982204.000358"},{"type":"message","user":"U221LL03Z","text":"and first step.","ts":"1483982210.000359"},{"type":"message","user":"U195M30MD","text":"so in theory, if I use fabric v0.6 and Java SDK v0.6, I should be fine","ts":"1483982212.000360"},{"type":"message","user":"U221LL03Z","text":"I do not think so.","ts":"1483982234.000361"},{"type":"message","user":"U221LL03Z","text":"in fabric 0.6 , I do not think there was TCert client part written for JAVA sdk. In 0.6 , only node SDK had TCert client support.","edited":{"user":"U221LL03Z","ts":"1483982454.000000"},"ts":"1483982266.000362"},{"type":"message","user":"U221LL03Z","text":"so , even in 0.6 , you can get batch of TCerts over GRPC  , but you cannot use them to sign transactions.","edited":{"user":"U221LL03Z","ts":"1483982373.000000"},"ts":"1483982325.000363"},{"type":"message","user":"U221LL03Z","text":"because the support for TCert client code is not there.","ts":"1483982351.000364"},{"type":"message","user":"U221LL03Z","text":"unless you have written TCert client portion in Java SDK.","ts":"1483982398.000366"},{"type":"message","user":"U195M30MD","text":"I\u2019m just trying to understand what happened. I\u2019m working with the master branch right now, and it assumes TCerts are exchanged over GRPC. But this is no longer the case. So I presume at some point the membersrvc did support TCerts batch over GRPC, but you\u2019re saying that was after v0.6 was released right?","ts":"1483982503.000368"},{"type":"message","user":"U221LL03Z","text":"which master branch ? Fabric 0.6 or Fabric-Cop ?","ts":"1483982552.000369"},{"type":"message","user":"U195M30MD","text":"fabric-sdk-java","edited":{"user":"U195M30MD","ts":"1483982600.000000"},"ts":"1483982566.000370"},{"type":"message","user":"U221LL03Z","text":"ok. So , from fabric-java-sdk , you are trying to hit fabric 0.6 end point or fabric-cop end point ?","ts":"1483982627.000372"},{"type":"message","user":"U195M30MD","text":"I\u2019m also using Docker images to run fabric and fabric-cop","ts":"1483982628.000373"},{"type":"message","user":"U195M30MD","text":"no from fabric-java-sdk I\u2019m trying to hit fabric and fabric-cop v1.0","ts":"1483982654.000374"},{"type":"message","user":"U221LL03Z","text":"ok. So , it is over REST now.","ts":"1483982674.000375"},{"type":"message","user":"U221LL03Z","text":"not GRPC.","ts":"1483982680.000376"},{"type":"message","user":"U221LL03Z","text":"you need to code it to hit end point using REST.","ts":"1483982700.000377"},{"type":"message","user":"U195M30MD","text":"when did it change?","ts":"1483982710.000378"},{"type":"message","user":"U221LL03Z","text":"from beginning itself.","ts":"1483982722.000379"},{"type":"message","user":"U221LL03Z","text":"In Fabric-cop , we are are not supporting GRPC as Fabric-Cop is based on CFSSL , which does not support GRPC.","ts":"1483982768.000380"},{"type":"message","user":"U195M30MD","text":"so is fabric-cop a brand new module rather than a prosecution of the old membersrvc?","ts":"1483982807.000381"},{"type":"message","user":"U195M30MD","text":"I thought it was the same code being pulled out of the main fabric repo","ts":"1483982823.000382"},{"type":"message","user":"U221LL03Z","text":"yes for first and no for second.","ts":"1483982848.000383"},{"type":"message","user":"U195M30MD","text":"so you killed membersrvc?","ts":"1483982868.000384"},{"type":"message","user":"U221LL03Z","text":"Do you work with Rick Rienholt by any chance ?","ts":"1483982870.000385"},{"type":"message","user":"U221LL03Z","text":"not me.:flushed:","ts":"1483982880.000386"},{"type":"message","user":"U221LL03Z","text":"I cannot even kill a bird.:flushed:","ts":"1483982903.000387"},{"type":"message","user":"U195M30MD","text":"it\u2019s easier to kill a github repo :smile:","ts":"1483982926.000388"},{"type":"message","user":"U195M30MD","text":"ok let\u2019s say that membersrvc died peacefully then, ok?","ts":"1483982940.000389"},{"type":"message","user":"U221LL03Z","text":"that right.","ts":"1483982951.000390"},{"type":"message","user":"U195M30MD","text":"are you one of the developers of fabric-cop?","edited":{"user":"U195M30MD","ts":"1483982978.000000"},"ts":"1483982973.000391"},{"type":"message","user":"U221LL03Z","text":"yes , I am working on TCert primarily.","ts":"1483983005.000393"},{"type":"message","user":"U221LL03Z","text":"and on JAVA Sdk side , I usually have hallway conversations with Rick Rienholt as he is geographically colocated.","edited":{"user":"U221LL03Z","ts":"1483983066.000000"},"ts":"1483983054.000394"},{"type":"message","user":"U195M30MD","text":"Is Rick Rienholt responsible for the Java SDK?","ts":"1483983089.000396"},{"type":"message","user":"U221LL03Z","text":"yes.","ts":"1483983094.000397"},{"type":"message","user":"U195M30MD","text":"what\u2019s his slack name?","ts":"1483983112.000398"},{"type":"message","user":"U221LL03Z","text":"trying to find him. Hold on.","ts":"1483983185.000399"},{"type":"message","user":"U195M30MD","text":"thanks a lot!","ts":"1483983256.000400"},{"type":"message","user":"U195M30MD","text":"can I ask you one more question before I head off?","ts":"1483983266.000401"},{"type":"message","user":"U221LL03Z","text":"<@U2Q0HP4HY>","ts":"1483983300.000402"},{"type":"message","user":"U195M30MD","text":"what\u2019s the reason behind the choice to get rid of the old membersrvc completely and rewrite a new module from scratch??","ts":"1483983302.000403"},{"type":"message","user":"U221LL03Z","text":"<@U0PB67X4K> is the best person to answer that q.","ts":"1483983329.000404"},{"type":"message","user":"U195M30MD","text":"Hi <@U2Q0HP4HY> I was just asking <@U221LL03Z> some questions about the Java SDK and he pointed me to you","ts":"1483983356.000405"},{"type":"message","user":"U195M30MD","text":"I may have some more questions but I\u2019ll leave them to <#C2FPLFWM6|fabric-sdk-java>","ts":"1483983386.000406"},{"type":"message","user":"U221LL03Z","text":"But , I think , it was reusing some of the work that already has been done wrt Certificate Management. That is the reason we based our code on CFSSL.","ts":"1483983421.000407"},{"type":"message","user":"U221LL03Z","text":"Second reason was to make Membership Services distributed.","ts":"1483983440.000408"},{"type":"message","user":"U195M30MD","text":"ok fair enough","ts":"1483983465.000409"},{"type":"message","user":"U195M30MD","text":"so if I want to use fabric-cop now via java SDK I need to write the REST client myself or wait","ts":"1483983495.000410"},{"type":"message","user":"U195M30MD","text":"well thanks for your help, that was useful","ts":"1483983503.000411"},{"type":"message","user":"U221LL03Z","text":"<@U2Q0HP4HY> has that in his plates , I guess.","ts":"1483983525.000412"},{"type":"message","user":"U221LL03Z","text":"np. Anytime.","ts":"1483983538.000413"},{"type":"message","user":"U2Q0HP4HY","text":"<@U195M30MD> Gerrit commits are already there for enroll","ts":"1483983549.000414"},{"type":"message","user":"U2Q0HP4HY","text":"register is being worked on.","ts":"1483983576.000415"},{"type":"message","user":"U195M30MD","text":"thanks for the info <@U2Q0HP4HY>","ts":"1483983646.000416"},{"type":"message","user":"U0KPFAZNF","text":"<@U11MANG9G> <@U0S5KF44D> any feedback re: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3763\/>","ts":"1483995949.000417"},{"type":"message","user":"U0KPFAZNF","text":"?","ts":"1483995951.000418"},{"type":"message","user":"U11MANG9G","text":"<@U0S5KF44D>: do you want to give it a go?","ts":"1483995994.000419"},{"type":"message","user":"U0KPFAZNF","text":"is the plan to stick with port 8888? migrate to the original 7054?  something else?","ts":"1483996689.000420"},{"type":"message","user":"U0S5KF44D","text":"<@U0KPFAZNF> 8888 is the default cfssl and 7054 was a grpc port.  I would think we would either default to 443 or could just stick with 8888.   I would lean towards 443 but not sure if that's what folks tend to do with default of this kind","ts":"1483996967.000421"},{"type":"message","user":"U0KPFAZNF","text":"i see","ts":"1483996993.000422"},{"type":"message","user":"U0KPFAZNF","text":"i would discourage assuming 443","ts":"1483997003.000423"},{"type":"message","user":"U0KPFAZNF","text":"just in my experience elsewhere","ts":"1483997016.000424"},{"type":"message","user":"U0KPFAZNF","text":"the reason I ask is because I need to do some v1.0 testing and for reasons I wont bore you with, I need to do it in vagrant","ts":"1483997051.000427"},{"type":"message","user":"U0KPFAZNF","text":"but we dont currently expose 8888 outside of vagrant","ts":"1483997060.000428"},{"type":"message","user":"U0KPFAZNF","text":"so I was wondering what mod might make the most sense","ts":"1483997069.000429"},{"type":"message","user":"U0KPFAZNF","text":"(adding 8888 to vagrant, moding cop to 7054, or something else","ts":"1483997085.000430"},{"type":"message","user":"U0S5KF44D","text":"<@U1C3LNJ58> Allen, can you and\/or Latisha look at the docker work Greg has done at <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3763\/> and see how it compares to work you've done?","ts":"1483997135.000431"},{"type":"message","user":"U0S5KF44D","text":"<@U0KPFAZNF> thanks for doing this","ts":"1483997151.000432"},{"type":"message","user":"U0S5KF44D","text":"I don't feel strongly either way Greg, but would lean towards changing vagrant just to avoid any ambiguity of what folks are trying to talk to","ts":"1483997261.000433"},{"type":"message","user":"U0KPFAZNF","text":"<@U0S5KF44D> that makes sense to me","ts":"1483997272.000434"},{"type":"message","user":"U0KPFAZNF","text":"ill punch 8888 through for now, we can always adjust","ts":"1483997283.000435"},{"type":"message","user":"U0S5KF44D","text":"sounds good","ts":"1483997295.000436"},{"type":"message","user":"U0KPFAZNF","text":"<@U11MANG9G> is it possible to configure cop over http rather than https","ts":"1484008159.000439"},{"type":"message","user":"U0KPFAZNF","text":"?","ts":"1484008161.000440"},{"type":"message","user":"U0KPFAZNF","text":"not for production, obviously","ts":"1484008176.000441"},{"type":"message","user":"U0KPFAZNF","text":"i just mean for testing","ts":"1484008180.000442"},{"type":"message","user":"U11MANG9G","text":"Needs testing, but effectively, there is a flag for it now ...","ts":"1484008422.000443"},{"type":"message","user":"U11MANG9G","text":"[TLSDisable]","ts":"1484008426.000444"},{"type":"message","user":"U11MANG9G","text":"Now, if provided it must lei\u2019s say:\n   *return http.ListenAndServeTLS(addr, conf.TLSCertFile, conf.TLSKeyFile, nil) return http.ListenAndServeTLS(addr, conf.TLSCertFile, conf.TLSKeyFile, nil)","ts":"1484008525.000445","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0S5KF44D","text":"See fabric-cop\/testdata\/testconfig.json","ts":"1484009536.000446"},{"type":"message","user":"U0S5KF44D","text":"You set the 1st property \"tls_disable\" to true","ts":"1484009559.000447","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0S5KF44D","text":"it is false by default","ts":"1484009566.000448"},{"type":"message","user":"U0KPFAZNF","text":"do you guys think this should be the default in the container?","ts":"1484009949.000449"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3763\/3\/images\/cop\/config\/cop.json>","ts":"1484009950.000450"},{"type":"message","user":"U0KPFAZNF","text":"w.r.t. 3763","ts":"1484009962.000451"},{"type":"message","user":"U0KPFAZNF","text":"?","ts":"1484009974.000452"},{"type":"message","user":"U0KPFAZNF","text":"those files were never intended to be for production deployments anyway, but just a sample configuration","ts":"1484010024.000453"},{"type":"message","user":"U0KPFAZNF","text":"it seems reasonable to me to make that sample as simple as possible","ts":"1484010034.000454"},{"type":"message","user":"U0KPFAZNF","text":"and a keypair that is exposed like that doesnt have any real security anyway","ts":"1484010060.000455"},{"type":"message","user":"U12452RAP","text":"<@U0S5KF44D>","ts":"1484012968.000456"},{"type":"message","user":"U12452RAP","text":"I don't see cop enroll client implement this json format","ts":"1484013006.000457"},{"type":"message","subtype":"file_share","text":"<@U12452RAP|grapebaba> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/grapebaba\/F3Q0Y82F9\/-.coffee|Untitled>","file":{"id":"F3Q0Y82F9","created":1484013021,"timestamp":1484013021,"name":"-.coffee","title":"Untitled","mimetype":"text\/plain","filetype":"coffeescript","pretty_type":"CoffeeScript","user":"U12452RAP","editable":true,"size":293,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3Q0Y82F9\/-.coffee?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3Q0Y82F9\/download\/-.coffee?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/grapebaba\/F3Q0Y82F9\/-.coffee","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3Q0Y82F9-07105406d8","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/grapebaba\/F3Q0Y82F9\/-.coffee\/edit","preview":"{\r\n\t\"hosts\": [\"host1\", \"host2\"],\r\n\t\"certificate_request\": \"encoded CSR\",\r\n\t\"subject\": \"CN=Gari\",\r\n\t\"profile\": \"myprofile\",\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-punctuation\">{<\/span><\/pre><\/div>\n<div><pre>\t<span class=\"cm-string\">&quot;hosts&quot;<\/span><span class=\"cm-punctuation\">:<\/span> <span class=\"cm-punctuation\">[<\/span><span class=\"cm-string\">&quot;host1&quot;<\/span><span class=\"cm-punctuation\">,<\/span> <span class=\"cm-string\">&quot;host2&quot;<\/span><span class=\"cm-punctuation\">]<\/span><span class=\"cm-punctuation\">,<\/span><\/pre><\/div>\n<div><pre>\t<span class=\"cm-string\">&quot;certificate_request&quot;<\/span><span class=\"cm-punctuation\">:<\/span> <span class=\"cm-string\">&quot;encoded CSR&quot;<\/span><span class=\"cm-punctuation\">,<\/span><\/pre><\/div>\n<div><pre>\t<span class=\"cm-string\">&quot;subject&quot;<\/span><span class=\"cm-punctuation\">:<\/span> <span class=\"cm-string\">&quot;CN=Gari&quot;<\/span><span class=\"cm-punctuation\">,<\/span><\/pre><\/div>\n<div><pre>\t<span class=\"cm-string\">&quot;profile&quot;<\/span><span class=\"cm-punctuation\">:<\/span> <span class=\"cm-string\">&quot;myprofile&quot;<\/span><span class=\"cm-punctuation\">,<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":14,"lines_more":9,"preview_is_truncated":false,"channels":["C2Y3CPP16"],"groups":[],"ims":[],"comments_count":0},"user":"U12452RAP","upload":true,"display_as_bot":false,"username":"<@U12452RAP|grapebaba>","bot_id":null,"ts":"1484013021.000458"},{"type":"message","user":"U12452RAP","text":"Maybe it is still in progress","ts":"1484013054.000459"},{"type":"message","user":"U12452RAP","text":"Would you like add comments each field?","ts":"1484013127.000460"},{"type":"message","user":"U12452RAP","text":"I can follow it in python SDK","ts":"1484013157.000461"},{"type":"message","user":"U12452RAP","text":"<@U0S5KF44D> <@U11MANG9G>","ts":"1484022169.000462"},{"type":"message","user":"U12452RAP","text":"for current json format, i am confusion that when generate CSR, it already need subject,extensions, these should included in CSR, why we need add them in json again?","edited":{"user":"U12452RAP","ts":"1484022988.000000"},"ts":"1484022275.000463"},{"type":"message","user":"U0PB67X4K","text":"<@U12452RAP> - I responded to your question in <#C29512UHF|fabric-sdk-node-dev>  as well","ts":"1484054228.000467"},{"type":"message","user":"U0PB67X4K","text":"but my basic logic was that the SDKs are for building clients and therefore enrollment should be simple and also that I don't think that clients should be overriding things set by the COP admin","ts":"1484054276.000468"},{"type":"message","user":"U0PB67X4K","text":"until it is proven that this is needed by clients, I went with exposing the minimal config required","ts":"1484054330.000469"},{"type":"message","user":"U12452RAP","text":"Thanks <@U0PB67X4K> I will follow that in python SDkK","ts":"1484054397.000470"},{"user":"U3LU3AQM8","text":"<@U3LU3AQM8|sukrit> has joined the channel","type":"message","subtype":"channel_join","ts":"1484057063.000471"},{"type":"message","user":"U11MANG9G","text":"","attachments":[{"fallback":"[January 10th, 2017 8:02 AM] nickmelis: anyone know why I get ```UNKNOWN: sql: no rows in result set``` while trying to register a user with the membersrvc?","ts":"1484064122.001528","author_subname":"nickmelis","channel_id":"C0Y4PEU22","channel_name":"fabric","is_msg_unfurl":true,"text":"anyone know why I get ```UNKNOWN: sql: no rows in result set``` while trying to register a user with the membersrvc?","author_name":"Nick Melis","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/nickmelis","author_icon":"https:\/\/secure.gravatar.com\/avatar\/1137c1875c61125c509bae1d03ea7f8b.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-48.png","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric\/p1484064122001528","is_share":true,"footer":"Posted in #fabric"}],"ts":"1484064538.000472"},{"type":"message","user":"U11MANG9G","text":"fabric-cop\u2019ers: can we please help <@U195M30MD>\u2026 ? It\u2019s the second day I see these questions in various channels.","ts":"1484064594.000473"},{"type":"message","user":"U195M30MD","text":"<@U11MANG9G> this is probably a question for the v0.6ers\u2026I\u2019m running the old membersrvc with Java SDK","ts":"1484064642.000474"},{"type":"message","user":"U195M30MD","text":"thanks for your help btw","ts":"1484064651.000475"},{"type":"message","user":"U11MANG9G","text":"Yes, I got it. I closed the <#C1J0BM448|membership-services> channel back in the day.","ts":"1484064682.000476"},{"type":"message","user":"U195M30MD","text":"it would be helpful to understand if that error means user not configured in membersrvc or there\u2019s something else I\u2019m missing","ts":"1484064684.000477"},{"type":"message","user":"U11MANG9G","text":"So this should be \u201cthe\u201d place for these. TBH, the good ol\u2019 `memberservc` did\/does not have the best, most intuitive, g-d bless them error messages.","ts":"1484064752.000478"},{"type":"message","user":"U11MANG9G","text":"Some of us have been very very strict with the fabric-cop (v1) error messages over the last few months, to tackle that. So I hear you when you tell me that you don\u2019t always know what a certain error means.","ts":"1484064806.000479"},{"type":"message","user":"U11MANG9G","text":"I am in the middle of something, but if this is not resolved, then I\u2019ll get more into it. I suspect that something is missing from the DB (that would be a \u201crow\u201d\u2026)","ts":"1484064869.000480"},{"type":"message","user":"U11MANG9G","text":"DO you have that in your YAML file ?","ts":"1484064880.000481"},{"type":"message","user":"U11MANG9G","text":"[You see, I\u2019m getting into it already - please don\u2019t answer, I gotta run ;-)]","ts":"1484064907.000482"},{"type":"message","user":"U11MANG9G","text":"Joking. That would be just my first thing to check.","ts":"1484064916.000483"},{"type":"message","user":"U195M30MD","text":"ok the Java SDK (the test I\u2019m running is PeerClientTest) uses a user called User1, which is not in the membersrvc.yaml (and the first question would be why). But if I change it with one from membersrvc.yaml (jim for example) I get the same exact output","edited":{"user":"U195M30MD","ts":"1484065035.000000"},"ts":"1484065003.000484"},{"type":"message","user":"U195M30MD","text":"ok small progress on that, I deleted \/var\/hyperledger\/production and the keystore on the client, then re ran the tests, and finally got past that error","ts":"1484066073.000486"},{"type":"message","user":"U11MANG9G","text":"Nice! Thanks for the update.","ts":"1484066266.000487"},{"type":"message","user":"U195M30MD","text":"however I am getting a fresh error now: ```\nvp0_1         | 16:47:16.382 [crypto] Debugf -&gt; DEBU 210 [validator.test_vp0] Tx confdential level [CONFIDENTIAL].\nvp0_1         | 16:47:16.382 [crypto] Warningf -&gt; WARN 211 [validator.test_vp0] Failed verifing certificate against TCA cert pool [x509: certificate signed by unknown authority (possibly because of \"x509: ECDSA verification failure\" while trying to verify candidate authority certificate \"tca\")].\nvp0_1         | 16:47:16.383 [crypto] Warningf -&gt; WARN 212 [validator.test_vp0] Failed verifing certificate against ECA cert pool [x509: certificate signed by unknown authority (possibly because of \"x509: ECDSA verification failure\" while trying to verify candidate authority certificate \"eca\")].\nvp0_1         | 16:47:16.383 [peer] ProcessTransaction -&gt; ERRO 213 ProcessTransaction failed to verify transaction Certificate has not been signed by a trusted authority. [x509: certificate signed by unknown authority (possibly because of \"x509: ECDSA verification failure\" while trying to verify candidate authority certificate \"eca\")]\n\n```","ts":"1484066934.000488"},{"type":"message","user":"U0KPFAZNF","text":"<@U11MANG9G> <@U0S5KF44D> perhaps you guys can solve this mystery for me","ts":"1484081806.000489"},{"type":"message","user":"U0KPFAZNF","text":"if I take cop HEAD, and do \"make docker\" it builds fine","ts":"1484081821.000490"},{"type":"message","user":"U0KPFAZNF","text":"if I do \"make cop\", I get","ts":"1484081828.000491"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3QE1BG15\/-.pl|Untitled>","file":{"id":"F3QE1BG15","created":1484081833,"timestamp":1484081833,"name":"-.pl","title":"Untitled","mimetype":"text\/plain","filetype":"perl","pretty_type":"Perl","user":"U0KPFAZNF","editable":true,"size":331,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3QE1BG15\/-.pl?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3QE1BG15\/download\/-.pl?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3QE1BG15\/-.pl","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3QE1BG15-95d8baf0e5","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3QE1BG15\/-.pl\/edit","preview":"# github.com\/hyperledger\/fabric-cop\/vendor\/github.com\/mattn\/go-sqlite3\r\n\/usr\/bin\/ld: cannot find -lrocksdb\r\ncollect2: error: ld returned 1 exit status\r\n# github.com\/mattn\/go-sqlite3\r\n\/usr\/bin\/ld: cannot find -lrocksdb\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-comment\"># github.com\/hyperledger\/fabric-cop\/vendor\/github.com\/mattn\/go-sqlite3<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-operator\">\/<\/span><span class=\"cm-meta\">usr<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-meta\">bin<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-meta\">ld<\/span><span class=\"cm-operator\">:<\/span> <span class=\"cm-meta\">cannot<\/span> <span class=\"cm-meta\">find<\/span> <span class=\"cm-operator\">-<\/span><span class=\"cm-meta\">lrocksdb<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-meta\">collect2<\/span><span class=\"cm-operator\">:<\/span> <span class=\"cm-meta\">error<\/span><span class=\"cm-operator\">:<\/span> <span class=\"cm-meta\">ld<\/span> <span class=\"cm-meta\">returned<\/span> <span class=\"cm-number\">1<\/span> <span class=\"cm-keyword\">exit<\/span> <span class=\"cm-meta\">status<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-comment\"># github.com\/mattn\/go-sqlite3<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-operator\">\/<\/span><span class=\"cm-meta\">usr<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-meta\">bin<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-meta\">ld<\/span><span class=\"cm-operator\">:<\/span> <span class=\"cm-meta\">cannot<\/span> <span class=\"cm-meta\">find<\/span> <span class=\"cm-operator\">-<\/span><span class=\"cm-meta\">lrocksdb<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":8,"lines_more":3,"preview_is_truncated":false,"channels":["C2Y3CPP16"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1484081834.000492"},{"type":"message","user":"U0KPFAZNF","text":"what I cant figure out is: we removed librocksdb from baseimage a while back (IIRC)","ts":"1484081863.000493"},{"type":"message","user":"U0KPFAZNF","text":"the docker build uses baseimage v0.2.2 as does the vagrant environment I am trying to build natively from","ts":"1484081886.000494"},{"type":"message","user":"U0KPFAZNF","text":"so, I cant for the life of me figure out where the discrepancy is that it works under docker","ts":"1484081905.000495"},{"type":"message","user":"U0KPFAZNF","text":"the second part of my question is: do we really depend on rocksdb?","ts":"1484081924.000496"},{"type":"message","user":"U0KPFAZNF","text":"one possible connection is that I do not have the fabric-cop repo in the $GOPATH","ts":"1484081971.000497"},{"type":"message","user":"U0KPFAZNF","text":"perhaps this is part of the puzzle","ts":"1484081976.000498"},{"type":"message","user":"U0KPFAZNF","text":"I bet the GOPATH is properly managed in the docker case","ts":"1484081994.000499"},{"type":"message","user":"U11MANG9G","text":"So, first - we should `not` depend on rocksdb","ts":"1484082006.000500"},{"type":"message","user":"U11MANG9G","text":"Second, it is indeed interesting (in terms of dependencies)...","ts":"1484082030.000501"},{"type":"message","user":"U0KPFAZNF","text":"I bet its a GOPATH thing","ts":"1484082040.000502"},{"type":"message","user":"U0KPFAZNF","text":"not that I fully understand why, but I think that is a difference","ts":"1484082049.000503"},{"type":"message","user":"U11MANG9G","text":"May be. Have just built it too","ts":"1484082151.000504"},{"type":"message","user":"U11MANG9G","text":"` make cop\nBuilding cop in bin directory ...\nBuilt bin\/cop`","ts":"1484082153.000505"},{"type":"message","user":"U11MANG9G","text":"` git pull`\nAlready up-to-date.","ts":"1484082166.000506"},{"type":"message","user":"U0S5KF44D","text":"We certainly don't directly depend on rocksdb","ts":"1484082461.000507"},{"type":"message","user":"U0S5KF44D","text":"you're doing make cop from w\/in your docker container?","ts":"1484082546.000508"},{"type":"message","user":"U0KPFAZNF","text":"<@U0S5KF44D> in this case, I was doing it from within vagrant","ts":"1484083032.000509"},{"type":"message","user":"U0KPFAZNF","text":"fabric\/devenv to be more precise","ts":"1484083041.000510"},{"type":"message","user":"U0KPFAZNF","text":"though I also saw this running native on osx, i believe","ts":"1484083057.000511"},{"type":"message","user":"U0KPFAZNF","text":"in both cases, COP was not properly in the GOPATH though","ts":"1484083067.000512"},{"type":"message","user":"U0KPFAZNF","text":"i will try to fix that and see if it helps","ts":"1484083075.000513"},{"type":"message","user":"U0KPFAZNF","text":"I mentioned docker because \"make docker\" works (which presumably compiles cop in a similar manner, but within a docker container","ts":"1484083106.000514"},{"type":"message","user":"U0S5KF44D","text":"i haven't been working in vagrant, but haven't hit this on mac","ts":"1484083175.000515"},{"type":"message","user":"U0KPFAZNF","text":"yeah, im right there with you...i only switched to vagrant yesterday for a boring reason","ts":"1484083194.000516"},{"type":"message","user":"U12452RAP","text":"<@U0KPFAZNF>: same for me ","ts":"1484093323.000517"},{"type":"message","user":"U12452RAP","text":"Cop cannot build successful in vagrant but in native","ts":"1484093362.000518"},{"type":"message","user":"U12452RAP","text":"Missing some iso","ts":"1484093834.000519"},{"type":"message","user":"U0S5KF44D","text":"So does that mean you know the problem <@U12452RAP>?  If not, I can try to reproduce and debug unless someone already knows how to fix","ts":"1484094556.000520"},{"type":"message","user":"U12452RAP","text":"I met this several days ago, forget if I solved, however you can leave it for me first, will update to you when I arrived office ","ts":"1484095451.000521"},{"type":"message","user":"U11MANG9G","text":"<@U0S5KF44D>: can you build in Vagrant?","ts":"1484095491.000522"},{"type":"message","user":"U11MANG9G","text":"I\u2019m building cop natively\u2026 on MacOS and can run all the tests successfully, etc.","ts":"1484095527.000523"},{"type":"message","user":"U0S5KF44D","text":"ok, thanks <@U12452RAP> ... let me know if it isn't solved and I can look into it","ts":"1484095580.000524"},{"type":"message","user":"U12452RAP","text":"Sure","ts":"1484095593.000525"},{"type":"message","user":"U0S5KF44D","text":"<@U11MANG9G> No I haven't tried to build it in vagrant","ts":"1484095601.000526"},{"type":"message","user":"U11MANG9G","text":"OK, then I suspect that issue relates to some \u201cold\u201d dependencies. There isn\u2019t anything in COP that uses *rocksdb*. Is that what\u2019s failing for you too <@U12452RAP>? [when you are in the office]","ts":"1484095693.000527"},{"type":"message","user":"U12452RAP","text":"a little memory, missing python3-dev","ts":"1484095713.000528"},{"type":"message","user":"U12452RAP","text":"but i don't know why","ts":"1484095734.000529"},{"type":"message","user":"U11MANG9G","text":"Oh, your failure mentions python? What OS \/ platform?","ts":"1484095741.000530"},{"type":"message","user":"U12452RAP","text":"no, error same with <@U0KPFAZNF> ","ts":"1484095775.000531"},{"type":"message","user":"U12452RAP","text":"I google the error ","ts":"1484095789.000532"},{"type":"message","user":"U12452RAP","text":"some clues ","ts":"1484095796.000533"},{"type":"message","user":"U12452RAP","text":"Guess related Ubuntu 16.04","ts":"1484095902.000534"},{"type":"message","user":"U11MANG9G","text":"\u2014\nI have a question, do you see anything \u201cwrong\u201d with the output here (simply running fabric-cop)","ts":"1484098862.000535"},{"type":"message","subtype":"file_share","text":"<@U11MANG9G|jonathanlevi> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/jonathanlevi\/F3QH0BQR4\/-.txt|Untitled>","file":{"id":"F3QH0BQR4","created":1484098870,"timestamp":1484098870,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U11MANG9G","editable":true,"size":2272,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3QH0BQR4\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3QH0BQR4\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/jonathanlevi\/F3QH0BQR4\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3QH0BQR4-966652d915","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/jonathanlevi\/F3QH0BQR4\/-.txt\/edit","preview":"2017\/01\/11 01:39:32 [INFO] No database specified, a database is needed to run COP server. Using default - Type: SQLite, Name: cop.db\r\n2017\/01\/11 01:39:32 [INFO] Initializing signer\r\n2017\/01\/11 01:39:32 [WARNING] couldn't initialize signer: {\"code\":2000,\"message\":\"Unknown private key error\"}\r\n2017\/01\/11 01:39:32 [WARNING] couldn't initialize ocsp signer: open : no such file or directory\r\n2017\/01\/11 01:39:32 [WARNING] endpoint 'ocspsign' is disabled: signer not initialized\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>2017\/01\/11 01:39:32 [INFO] No database specified, a database is needed to run COP server. Using default - Type: SQLite, Name: cop.db<\/pre><\/div>\n<div><pre>2017\/01\/11 01:39:32 [INFO] Initializing signer<\/pre><\/div>\n<div><pre>2017\/01\/11 01:39:32 [WARNING] couldn't initialize signer: {&quot;code&quot;:2000,&quot;message&quot;:&quot;Unknown private key error&quot;}<\/pre><\/div>\n<div><pre>2017\/01\/11 01:39:32 [WARNING] couldn't initialize ocsp signer: open : no such file or directory<\/pre><\/div>\n<div><pre>2017\/01\/11 01:39:32 [WARNING] endpoint 'ocspsign' is disabled: signer not initialized<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":30,"lines_more":25,"preview_is_truncated":true,"channels":["C2Y3CPP16"],"groups":[],"ims":[],"comments_count":0},"user":"U11MANG9G","upload":true,"display_as_bot":false,"username":"<@U11MANG9G|jonathanlevi>","bot_id":null,"ts":"1484098870.000536"},{"type":"message","user":"U11MANG9G","text":"<@U0S5KF44D>, <@U221LL03Z>, <@U1KJY9BJQ> and others. Is this the expected output from running cop?","ts":"1484098911.000537"},{"type":"message","user":"U11MANG9G","text":"(have built the latest master from scratch)","ts":"1484098927.000538"},{"type":"message","user":"U0S5KF44D","text":"<@U12KAHER1> The cop.json in the image needs 2 additional lines as follows:","ts":"1484100089.000539"},{"type":"message","user":"U0S5KF44D","text":"\"ca_cert\": \"ec.pem\",","ts":"1484100106.000540"},{"type":"message","user":"U0S5KF44D","text":"\"ca_key\": \"ec-key.pem\",","ts":"1484100120.000541"},{"type":"message","user":"U0S5KF44D","text":"This warning is OK","ts":"1484100178.000542"},{"type":"message","user":"U0S5KF44D","text":"2017\/01\/11 01:39:32 [WARNING] couldn't initialize ocsp signer: open : no such file or directory\n2017\/01\/11 01:39:32 [WARNING] endpoint 'ocspsign' is disabled: signer not initialized","ts":"1484100180.000543"},{"type":"message","user":"U0S5KF44D","text":"But not these","ts":"1484100227.000544"},{"type":"message","user":"U0S5KF44D","text":"2017\/01\/11 01:39:32 [WARNING] couldn't initialize signer: {\"code\":2000,\"message\":\"Unknown private key error\"}","ts":"1484100230.000545"},{"type":"message","user":"U0S5KF44D","text":"Well, the only other WARNING that is OK is","ts":"1484100283.000546"},{"type":"message","user":"U0S5KF44D","text":"2017\/01\/11 01:39:32 [WARNING] endpoint '\/' is disabled: could not locate box \"static\"","ts":"1484100284.000547"},{"type":"message","user":"U0S5KF44D","text":"All others should be fixed by adding the 2 lines above","ts":"1484100301.000548"},{"type":"message","user":"U0S5KF44D","text":"BTW, I was looking at building 3 images instead of two: runtime, cop, and cop-server","ts":"1484100371.000549"},{"type":"message","user":"U0S5KF44D","text":"where cop-server is built on top of cop","ts":"1484100384.000550"},{"type":"message","user":"U0S5KF44D","text":"we could then build a peer and orderer image on top of the cop image and use the \"cop client enroll\" command to issue ecerts","ts":"1484100436.000551"},{"type":"message","user":"U0S5KF44D","text":"or we could have 4 images: runtime, base-cop, cop-server, and cop-client","ts":"1484100498.000552"},{"type":"message","user":"U0S5KF44D","text":"but nothing really different between base-cop and cop-client at this time","ts":"1484100553.000553"},{"type":"message","user":"U0KPFAZNF","text":"<@U0S5KF44D> can you confirm whether the ca_xx keys will work with a relative path rather than fqp?","ts":"1484102831.000554"},{"type":"message","user":"U0KPFAZNF","text":"i can make the change to put the keys in the config, just wondering if I need to decorate with fqp","ts":"1484102861.000555"},{"type":"message","user":"U0S5KF44D","text":"Either works","ts":"1484102901.000556"},{"type":"message","user":"U0KPFAZNF","text":"ok, ill go with relative if its supported","ts":"1484102913.000557"},{"type":"message","user":"U0KPFAZNF","text":"i assume its relative to .json path, and not the CWD of the process?","ts":"1484102933.000558"},{"type":"message","user":"U0S5KF44D","text":"Yes","ts":"1484102948.000559","reactions":[{"name":"+1","users":["U0KPFAZNF"],"count":1}]},{"type":"message","user":"U0KPFAZNF","text":"btw: w.r.t. your image proposals above, note that \"runtime\" can be dropped soon","ts":"1484103009.000560"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3767\/>","ts":"1484103045.000561"},{"type":"message","user":"U0KPFAZNF","text":"just waiting to get the actual image posted to dockerhub","ts":"1484103055.000562"},{"type":"message","user":"U0KPFAZNF","text":"(not that it really \"goes away\", as much as fabric-cop.git just no longer needs to be involved in its creation","ts":"1484103085.000563"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3QHW17HD\/-.txt|Untitled> and commented: <@U0S5KF44D> can you verify if this looks healthy?","file":{"id":"F3QHW17HD","created":1484103310,"timestamp":1484103310,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0KPFAZNF","editable":true,"size":2282,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3QHW17HD\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3QHW17HD\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3QHW17HD\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3QHW17HD-147efc9856","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3QHW17HD\/-.txt\/edit","preview":"Greg:fabric-cop ghaskins$ docker run -it --rm hyperledger\/fabric-cop\r\n2017\/01\/11 02:54:34 [INFO] No database specified, a database is needed to run COP server. Using default - Type: SQLite, Name: cop.db\r\n2017\/01\/11 02:54:34 [INFO] Initializing signer\r\n2017\/01\/11 02:54:34 [WARNING] couldn't initialize signer: {\"code\":2000,\"message\":\"Unknown private key error\"}\r\n2017\/01\/11 02:54:34 [WARNING] couldn't initialize ocsp signer: open : no such file or directory\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Greg:fabric-cop ghaskins$ docker run -it --rm hyperledger\/fabric-cop<\/pre><\/div>\n<div><pre>2017\/01\/11 02:54:34 [INFO] No database specified, a database is needed to run COP server. Using default - Type: SQLite, Name: cop.db<\/pre><\/div>\n<div><pre>2017\/01\/11 02:54:34 [INFO] Initializing signer<\/pre><\/div>\n<div><pre>2017\/01\/11 02:54:34 [WARNING] couldn't initialize signer: {&quot;code&quot;:2000,&quot;message&quot;:&quot;Unknown private key error&quot;}<\/pre><\/div>\n<div><pre>2017\/01\/11 02:54:34 [WARNING] couldn't initialize ocsp signer: open : no such file or directory<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":31,"lines_more":26,"preview_is_truncated":true,"channels":["C2Y3CPP16"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc3Q05A2KF","created":1484103310,"timestamp":1484103310,"user":"U0KPFAZNF","is_intro":true,"comment":"<@U0S5KF44D> can you verify if this looks healthy?","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1484103310.000564"},{"type":"message","user":"U0S5KF44D","text":"sounds good ... so do you want me to modify Makefile to build an intermediate image with just the cop executable for use by peer and orderer ... or were you going to do that.  Just didn't want to duplicate effort.","ts":"1484103336.000565"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3P67K82U\/-.diff|Untitled> and commented: was built by applying this patch","file":{"id":"F3P67K82U","created":1484103367,"timestamp":1484103367,"name":"-.diff","title":"Untitled","mimetype":"text\/plain","filetype":"diff","pretty_type":"Diff","user":"U0KPFAZNF","editable":true,"size":2087,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3P67K82U\/-.diff?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3P67K82U\/download\/-.diff?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3P67K82U\/-.diff","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3P67K82U-9909db90eb","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3P67K82U\/-.diff\/edit","preview":"commit d8d60821f0b7c72526c881328cd6d85a35d8fcd3\r\nAuthor: Gregory Haskins <gregory.haskins@gmail.com>\r\nDate:   Tue Jan 10 14:17:06 2017 -0500\r\n\r\n    Provide CA keypair in sample-config\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>commit d8d60821f0b7c72526c881328cd6d85a35d8fcd3<\/pre><\/div>\n<div><pre>Author: Gregory Haskins &lt;gregory.haskins@gmail.com&gt;<\/pre><\/div>\n<div><pre>Date:   Tue Jan 10 14:17:06 2017 -0500<\/pre><\/div>\n<div><pre>&#8203;<\/pre><\/div>\n<div><pre>    Provide CA keypair in sample-config<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":52,"lines_more":47,"preview_is_truncated":true,"channels":["C2Y3CPP16"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc3QHKBHAS","created":1484103367,"timestamp":1484103367,"user":"U0KPFAZNF","is_intro":true,"comment":"was built by applying this patch","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1484103367.000566"},{"type":"message","user":"U0S5KF44D","text":"hmm ... no, still isn't initializing the \"sign\" endpoint","ts":"1484103448.000567"},{"type":"message","user":"U0KPFAZNF","text":"it shouldnt be strictly necessary to create a distinct docker image if all you want is an image that contains cop","ts":"1484103464.000568"},{"type":"message","user":"U0S5KF44D","text":"This is wrong","ts":"1484103468.000569"},{"type":"message","user":"U0S5KF44D","text":"2017\/01\/11 02:54:34 [WARNING] endpoint 'sign' is disabled: signer not initialized","ts":"1484103470.000570"},{"type":"message","user":"U0KPFAZNF","text":"the \"fabric-cop\" image technically contains both the cop binary and a default CMD to launch the server","ts":"1484103489.000571"},{"type":"message","user":"U0S5KF44D","text":"oh right ... can just override the cmd","ts":"1484103503.000572"},{"type":"message","user":"U0KPFAZNF","text":"if something derived from fabric-cop, it could override the provided CMD","ts":"1484103505.000573"},{"type":"message","user":"U0KPFAZNF","text":"right","ts":"1484103506.000574"},{"type":"message","user":"U0S5KF44D","text":"ok, sounds good","ts":"1484103522.000575"},{"type":"message","user":"U0KPFAZNF","text":"any clues w.r.t above errors?","ts":"1484103533.000576"},{"type":"message","user":"U0KPFAZNF","text":"do I need to provide something more in the .json?","ts":"1484103543.000577"},{"type":"message","user":"U0S5KF44D","text":"pls set COP_DEBUG=true","ts":"1484103548.000578"},{"type":"message","user":"U0KPFAZNF","text":"envvar?","ts":"1484103553.000579"},{"type":"message","user":"U0S5KF44D","text":"yes","ts":"1484103557.000580"},{"type":"message","user":"U0S5KF44D","text":"or I can do it in morning ... but have to unplug pretty soon tonight","ts":"1484103580.000581"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3QHL9A4W\/-.m|Untitled>","file":{"id":"F3QHL9A4W","created":1484103589,"timestamp":1484103589,"name":"-.m","title":"Untitled","mimetype":"text\/plain","filetype":"objc","pretty_type":"Objective-C","user":"U0KPFAZNF","editable":true,"size":8554,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3QHL9A4W\/-.m?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3QHL9A4W\/download\/-.m?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3QHL9A4W\/-.m","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3QHL9A4W-0970259df1","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3QHL9A4W\/-.m\/edit","preview":"Greg:fabric-cop ghaskins$ docker run -eCOP_DEBUG=true -it --rm hyperledger\/fabric-cop\r\n2017\/01\/11 02:59:31 [INFO] No database specified, a database is needed to run COP server. Using default - Type: SQLite, Name: cop.db\r\n2017\/01\/11 02:59:31 [DEBUG] CFSSL server config is: &{Hostname: CertFile: CSRFile: CAFile: CAKeyFile: TLSCertFile:\/etc\/hyperledger\/fabric-cop\/ec.pem TLSKeyFile:\/etc\/hyperledger\/fabric-cop\/ec-key.pem MutualTLSCAFile: MutualTLSCNRegex: TLSRemoteCAs: MutualTLSCertFile: MutualTLSKeyFile: KeyFile: IntermediatesFile: CABundleFile: IntBundleFile: Address:0.0.0.0 Port:8888 Password:0 ConfigFile:\/etc\/hyperledger\/fabric-cop\/cop.json CFG:0xc4202b4380 Profile: IsCA:false RenewCA:false IntDir: Flavor:ubiquitous Metadata: Domain: IP: Remote: Label: AuthKey: ResponderFile: ResponderKeyFile: Status:good Reason:0 RevokedAt:now Interval:96h0m0s List:false Family: Timeout:5m0s Scanner: CSVFile: NumWorkers:10 MaxHosts:100 Responses: Path:\/ CRL: Usage: PGPPrivate: PGPName: Serial: CNOverride: AKI: DBConfigFile:\/e...","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-variable\">Greg<\/span>:<span class=\"cm-variable\">fabric<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">cop<\/span> <span class=\"cm-variable\">ghaskins$<\/span> <span class=\"cm-variable\">docker<\/span> <span class=\"cm-variable\">run<\/span> <span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">eCOP_DEBUG<\/span><span class=\"cm-operator\">=<\/span><span class=\"cm-atom\">true<\/span> <span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">it<\/span> <span class=\"cm-operator\">--<\/span><span class=\"cm-variable\">rm<\/span> <span class=\"cm-variable\">hyperledger<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">fabric<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">cop<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-number\">2017<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-number\">01<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-number\">11<\/span> <span class=\"cm-number\">02<\/span>:<span class=\"cm-number\">59<\/span>:<span class=\"cm-number\">31<\/span> [<span class=\"cm-variable\">INFO<\/span>] <span class=\"cm-variable\">No<\/span> <span class=\"cm-variable\">database<\/span> <span class=\"cm-variable\">specified<\/span>, <span class=\"cm-variable\">a<\/span> <span class=\"cm-variable\">database<\/span> <span class=\"cm-variable\">is<\/span> <span class=\"cm-variable\">needed<\/span> <span class=\"cm-variable\">to<\/span> <span class=\"cm-variable\">run<\/span> <span class=\"cm-variable\">COP<\/span> <span class=\"cm-variable\">server<\/span>. <span class=\"cm-variable\">Using<\/span> <span class=\"cm-keyword\">default<\/span> <span class=\"cm-operator\">-<\/span> <span class=\"cm-variable\">Type<\/span>: <span class=\"cm-variable\">SQLite<\/span>, <span class=\"cm-variable\">Name<\/span>: <span class=\"cm-variable\">cop<\/span>.<span class=\"cm-variable\">db<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-number\">2017<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-number\">01<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-number\">11<\/span> <span class=\"cm-number\">02<\/span>:<span class=\"cm-number\">59<\/span>:<span class=\"cm-number\">31<\/span> [<span class=\"cm-variable\">DEBUG<\/span>] <span class=\"cm-variable\">CFSSL<\/span> <span class=\"cm-variable\">server<\/span> <span class=\"cm-variable\">config<\/span> <span class=\"cm-variable\">is<\/span>: <span class=\"cm-operator\">&amp;<\/span>{<span class=\"cm-variable\">Hostname<\/span>: <span class=\"cm-variable\">CertFile<\/span>: <span class=\"cm-variable\">CSRFile<\/span>: <span class=\"cm-variable\">CAFile<\/span>: <span class=\"cm-variable\">CAKeyFile<\/span>: <span class=\"cm-variable\">TLSCertFile<\/span>:<span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">etc<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">hyperledger<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">fabric<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">cop<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">ec<\/span>.<span class=\"cm-variable\">pem<\/span> <span class=\"cm-variable\">TLSKeyFile<\/span>:<span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">etc<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">hyperledger<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">fabric<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">cop<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">ec<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">key<\/span>.<span class=\"cm-variable\">pem<\/span> <span class=\"cm-variable\">MutualTLSCAFile<\/span>: <span class=\"cm-variable\">MutualTLSCNRegex<\/span>: <span class=\"cm-variable\">TLSRemoteCAs<\/span>: <span class=\"cm-variable\">MutualTLSCertFile<\/span>: <span class=\"cm-variable\">MutualTLSKeyFile<\/span>: <span class=\"cm-variable\">KeyFile<\/span>: <span class=\"cm-variable\">IntermediatesFile<\/span>: <span class=\"cm-variable\">CABundleFile<\/span>: <span class=\"cm-variable\">IntBundleFile<\/span>: <span class=\"cm-variable\">Address<\/span>:<span class=\"cm-number\">0.0<\/span>.<span class=\"cm-number\">0.0<\/span> <span class=\"cm-variable\">Port<\/span>:<span class=\"cm-number\">8888<\/span> <span class=\"cm-variable\">Password<\/span>:<span class=\"cm-number\">0<\/span> <span class=\"cm-variable\">ConfigFile<\/span>:<span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">etc<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">hyperledger<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">fabric<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">cop<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">cop<\/span>.<span class=\"cm-variable\">json<\/span> <span class=\"cm-variable\">CFG<\/span>:<span class=\"cm-number\">0xc4202b4380<\/span> <span class=\"cm-variable\">Profile<\/span>: <span class=\"cm-variable\">IsCA<\/span>:<span class=\"cm-atom\">false<\/span> <span class=\"cm-variable\">RenewCA<\/span>:<span class=\"cm-atom\">false<\/span> <span class=\"cm-variable\">IntDir<\/span>: <span class=\"cm-variable\">Flavor<\/span>:<span class=\"cm-variable\">ubiquitous<\/span> <span class=\"cm-variable\">Metadata<\/span>: <span class=\"cm-variable\">Domain<\/span>: <span class=\"cm-variable\">IP<\/span>: <span class=\"cm-variable\">Remote<\/span>: <span class=\"cm-variable\">Label<\/span>: <span class=\"cm-variable\">AuthKey<\/span>: <span class=\"cm-variable\">ResponderFile<\/span>: <span class=\"cm-variable\">ResponderKeyFile<\/span>: <span class=\"cm-variable\">Status<\/span>:<span class=\"cm-variable\">good<\/span> <span class=\"cm-variable\">Reason<\/span>:<span class=\"cm-number\">0<\/span> <span class=\"cm-variable\">RevokedAt<\/span>:<span class=\"cm-variable\">now<\/span> <span class=\"cm-variable\">Interval<\/span>:<span class=\"cm-number\">96<\/span><span class=\"cm-variable\">h0m0s<\/span> <span class=\"cm-variable\">List<\/span>:<span class=\"cm-atom\">false<\/span> <span class=\"cm-variable\">Family<\/span>: <span class=\"cm-variable\">Timeout<\/span>:<span class=\"cm-number\">5<\/span><span class=\"cm-variable\">m0s<\/span> <span class=\"cm-variable\">Scanner<\/span>: <span class=\"cm-variable\">CSVFile<\/span>: <span class=\"cm-variable\">NumWorkers<\/span>:<span class=\"cm-number\">10<\/span> <span class=\"cm-variable\">MaxHosts<\/span>:<span class=\"cm-number\">100<\/span> <span class=\"cm-variable\">Responses<\/span>: <span class=\"cm-variable\">Path<\/span>:<span class=\"cm-operator\">\/<\/span> <span class=\"cm-variable\">CRL<\/span>: <span class=\"cm-variable\">Usage<\/span>: <span class=\"cm-variable\">PGPPrivate<\/span>: <span class=\"cm-variable\">PGPName<\/span>: <span class=\"cm-variable\">Serial<\/span>: <span class=\"cm-variable\">CNOverride<\/span>: <span class=\"cm-variable\">AKI<\/span>: <span class=\"cm-variable\">DBConfigFile<\/span>:<span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">e<\/span>...<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":116,"lines_more":113,"preview_is_truncated":true,"channels":["C2Y3CPP16"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1484103590.000582"},{"type":"message","user":"U0KPFAZNF","text":"on a related tangent, we need to get this so I can direct the db somewhere else, like \/var\/hyperledger\/fabric-cop","ts":"1484103622.000583"},{"type":"message","user":"U0KPFAZNF","text":"I tried using something I stole from a sqllite datasource example but it wasnt happy","ts":"1484103640.000584"},{"type":"message","user":"U0S5KF44D","text":"can I see cop.json?","ts":"1484103648.000585"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3QHXGSDV\/-.txt|Untitled>","file":{"id":"F3QHXGSDV","created":1484103674,"timestamp":1484103674,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0KPFAZNF","editable":true,"size":642,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3QHXGSDV\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3QHXGSDV\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3QHXGSDV\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3QHXGSDV-e8fe3a9851","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3QHXGSDV\/-.txt\/edit","preview":"Greg:fabric-cop ghaskins$ cat images\/cop\/config\/cop.json\r\n{\r\n \"tls_disable\":true,\r\n \"ca_cert\":\"ec.pem\",\r\n \"ca_key\":\"ec-key.pem\",\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Greg:fabric-cop ghaskins$ cat images\/cop\/config\/cop.json<\/pre><\/div>\n<div><pre>{<\/pre><\/div>\n<div><pre> &quot;tls_disable&quot;:true,<\/pre><\/div>\n<div><pre> &quot;ca_cert&quot;:&quot;ec.pem&quot;,<\/pre><\/div>\n<div><pre> &quot;ca_key&quot;:&quot;ec-key.pem&quot;,<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":26,"lines_more":21,"preview_is_truncated":false,"channels":["C2Y3CPP16"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1484103674.000586"},{"type":"message","user":"U0S5KF44D","text":"ok, let me try","ts":"1484103696.000587"},{"type":"message","user":"U0KPFAZNF","text":"fwiw, i stole the keys from testdata","ts":"1484103710.000588"},{"type":"message","user":"U0KPFAZNF","text":"i suppose its possible I either grabbed the wrong files, the files are corrupt, etc","ts":"1484103727.000589"},{"type":"message","user":"U0S5KF44D","text":"no, the files are fine ... there is a bug in making paths relative.  So if you put absolute paths, it should work","ts":"1484103949.000590"},{"type":"message","user":"U0S5KF44D","text":"or you can use command line arg","ts":"1484103964.000591"},{"type":"message","user":"U0S5KF44D","text":"Here is my start command which uses command line args","ts":"1484104013.000592"},{"type":"message","user":"U0S5KF44D","text":"$COP\/bin\/cop server start -address 0.0.0.0 -ca ${TD}\/ec.pem -ca-key ${TD}\/ec-key.pem -config ${TD}\/testconfig.json","ts":"1484104030.000593"},{"type":"message","user":"U0KPFAZNF","text":"ok, perfect","ts":"1484104044.000594"},{"type":"message","user":"U0KPFAZNF","text":"ill use that","ts":"1484104046.000595"},{"type":"message","user":"U0KPFAZNF","text":"(btw, i used absolute paths earlier and it didnt seem to make a difference","ts":"1484104058.000596"},{"type":"message","user":"U0KPFAZNF","text":"but to be fair, i didnt look closely...could have been a different issue such as fat-fingering the absolute paths","edited":{"user":"U0KPFAZNF","ts":"1484104088.000000"},"ts":"1484104077.000597"},{"type":"message","user":"U0S5KF44D","text":"no ... it is a bug because I just saw it double prepending part of the path in this statement when I did locally","ts":"1484104136.000599"},{"type":"message","user":"U0S5KF44D","text":"2017\/01\/10 22:04:12 [WARNING] endpoint 'tcert' is disabled: Failed to initialize TCert handler: open \/Users\/keith\/go\/src\/github.com\/hyperledger\/fabric-cop\/images\/cop-server\/config\/ec-key.pem: no such file or directory","ts":"1484104137.000600"},{"type":"message","user":"U0S5KF44D","text":"I think there was a merge error","ts":"1484104156.000601"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3PVCC2KW\/-.m|Untitled>","file":{"id":"F3PVCC2KW","created":1484104217,"timestamp":1484104217,"name":"-.m","title":"Untitled","mimetype":"text\/plain","filetype":"objc","pretty_type":"Objective-C","user":"U0KPFAZNF","editable":true,"size":9103,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3PVCC2KW\/-.m?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3PVCC2KW\/download\/-.m?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3PVCC2KW\/-.m","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3PVCC2KW-7f41ec90b7","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3PVCC2KW\/-.m\/edit","preview":"$ docker run -eCOP_DEBUG=true -it --rm hyperledger\/fabric-cop\r\n2017\/01\/11 03:09:45 [INFO] No database specified, a database is needed to run COP server. Using default - Type: SQLite, Name: cop.db\r\n2017\/01\/11 03:09:45 [DEBUG] CFSSL server config is: &{Hostname: CertFile: CSRFile: CAFile:\/etc\/hyperledger\/fabric-cop\/ec.pem CAKeyFile:\/etc\/hyperledger\/fabric-cop\/ec-key.pem TLSCertFile:\/etc\/hyperledger\/fabric-cop\/ec.pem TLSKeyFile:\/etc\/hyperledger\/fabric-cop\/ec-key.pem MutualTLSCAFile: MutualTLSCNRegex: TLSRemoteCAs: MutualTLSCertFile: MutualTLSKeyFile: KeyFile: IntermediatesFile: CABundleFile: IntBundleFile: Address:0.0.0.0 Port:8888 Password:0 ConfigFile:\/etc\/hyperledger\/fabric-cop\/cop.json CFG:0xc4202b43a0 Profile: IsCA:false RenewCA:false IntDir: Flavor:ubiquitous Metadata: Domain: IP: Remote: Label: AuthKey: ResponderFile: ResponderKeyFile: Status:good Reason:0 RevokedAt:now Interval:96h0m0s List:false Family: Timeout:5m0s Scanner: CSVFile: NumWorkers:10 MaxHosts:100 Responses: Path:\/ CRL: Usage: PGPPrivate: P...","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-variable\">$<\/span> <span class=\"cm-variable\">docker<\/span> <span class=\"cm-variable\">run<\/span> <span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">eCOP_DEBUG<\/span><span class=\"cm-operator\">=<\/span><span class=\"cm-atom\">true<\/span> <span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">it<\/span> <span class=\"cm-operator\">--<\/span><span class=\"cm-variable\">rm<\/span> <span class=\"cm-variable\">hyperledger<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">fabric<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">cop<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-number\">2017<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-number\">01<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-number\">11<\/span> <span class=\"cm-number\">03<\/span>:<span class=\"cm-number\">09<\/span>:<span class=\"cm-number\">45<\/span> [<span class=\"cm-variable\">INFO<\/span>] <span class=\"cm-variable\">No<\/span> <span class=\"cm-variable\">database<\/span> <span class=\"cm-variable\">specified<\/span>, <span class=\"cm-variable\">a<\/span> <span class=\"cm-variable\">database<\/span> <span class=\"cm-variable\">is<\/span> <span class=\"cm-variable\">needed<\/span> <span class=\"cm-variable\">to<\/span> <span class=\"cm-variable\">run<\/span> <span class=\"cm-variable\">COP<\/span> <span class=\"cm-variable\">server<\/span>. <span class=\"cm-variable\">Using<\/span> <span class=\"cm-keyword\">default<\/span> <span class=\"cm-operator\">-<\/span> <span class=\"cm-variable\">Type<\/span>: <span class=\"cm-variable\">SQLite<\/span>, <span class=\"cm-variable\">Name<\/span>: <span class=\"cm-variable\">cop<\/span>.<span class=\"cm-variable\">db<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-number\">2017<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-number\">01<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-number\">11<\/span> <span class=\"cm-number\">03<\/span>:<span class=\"cm-number\">09<\/span>:<span class=\"cm-number\">45<\/span> [<span class=\"cm-variable\">DEBUG<\/span>] <span class=\"cm-variable\">CFSSL<\/span> <span class=\"cm-variable\">server<\/span> <span class=\"cm-variable\">config<\/span> <span class=\"cm-variable\">is<\/span>: <span class=\"cm-operator\">&amp;<\/span>{<span class=\"cm-variable\">Hostname<\/span>: <span class=\"cm-variable\">CertFile<\/span>: <span class=\"cm-variable\">CSRFile<\/span>: <span class=\"cm-variable\">CAFile<\/span>:<span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">etc<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">hyperledger<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">fabric<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">cop<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">ec<\/span>.<span class=\"cm-variable\">pem<\/span> <span class=\"cm-variable\">CAKeyFile<\/span>:<span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">etc<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">hyperledger<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">fabric<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">cop<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">ec<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">key<\/span>.<span class=\"cm-variable\">pem<\/span> <span class=\"cm-variable\">TLSCertFile<\/span>:<span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">etc<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">hyperledger<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">fabric<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">cop<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">ec<\/span>.<span class=\"cm-variable\">pem<\/span> <span class=\"cm-variable\">TLSKeyFile<\/span>:<span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">etc<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">hyperledger<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">fabric<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">cop<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">ec<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">key<\/span>.<span class=\"cm-variable\">pem<\/span> <span class=\"cm-variable\">MutualTLSCAFile<\/span>: <span class=\"cm-variable\">MutualTLSCNRegex<\/span>: <span class=\"cm-variable\">TLSRemoteCAs<\/span>: <span class=\"cm-variable\">MutualTLSCertFile<\/span>: <span class=\"cm-variable\">MutualTLSKeyFile<\/span>: <span class=\"cm-variable\">KeyFile<\/span>: <span class=\"cm-variable\">IntermediatesFile<\/span>: <span class=\"cm-variable\">CABundleFile<\/span>: <span class=\"cm-variable\">IntBundleFile<\/span>: <span class=\"cm-variable\">Address<\/span>:<span class=\"cm-number\">0.0<\/span>.<span class=\"cm-number\">0.0<\/span> <span class=\"cm-variable\">Port<\/span>:<span class=\"cm-number\">8888<\/span> <span class=\"cm-variable\">Password<\/span>:<span class=\"cm-number\">0<\/span> <span class=\"cm-variable\">ConfigFile<\/span>:<span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">etc<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">hyperledger<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">fabric<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">cop<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-variable\">cop<\/span>.<span class=\"cm-variable\">json<\/span> <span class=\"cm-variable\">CFG<\/span>:<span class=\"cm-number\">0xc4202b43a0<\/span> <span class=\"cm-variable\">Profile<\/span>: <span class=\"cm-variable\">IsCA<\/span>:<span class=\"cm-atom\">false<\/span> <span class=\"cm-variable\">RenewCA<\/span>:<span class=\"cm-atom\">false<\/span> <span class=\"cm-variable\">IntDir<\/span>: <span class=\"cm-variable\">Flavor<\/span>:<span class=\"cm-variable\">ubiquitous<\/span> <span class=\"cm-variable\">Metadata<\/span>: <span class=\"cm-variable\">Domain<\/span>: <span class=\"cm-variable\">IP<\/span>: <span class=\"cm-variable\">Remote<\/span>: <span class=\"cm-variable\">Label<\/span>: <span class=\"cm-variable\">AuthKey<\/span>: <span class=\"cm-variable\">ResponderFile<\/span>: <span class=\"cm-variable\">ResponderKeyFile<\/span>: <span class=\"cm-variable\">Status<\/span>:<span class=\"cm-variable\">good<\/span> <span class=\"cm-variable\">Reason<\/span>:<span class=\"cm-number\">0<\/span> <span class=\"cm-variable\">RevokedAt<\/span>:<span class=\"cm-variable\">now<\/span> <span class=\"cm-variable\">Interval<\/span>:<span class=\"cm-number\">96<\/span><span class=\"cm-variable\">h0m0s<\/span> <span class=\"cm-variable\">List<\/span>:<span class=\"cm-atom\">false<\/span> <span class=\"cm-variable\">Family<\/span>: <span class=\"cm-variable\">Timeout<\/span>:<span class=\"cm-number\">5<\/span><span class=\"cm-variable\">m0s<\/span> <span class=\"cm-variable\">Scanner<\/span>: <span class=\"cm-variable\">CSVFile<\/span>: <span class=\"cm-variable\">NumWorkers<\/span>:<span class=\"cm-number\">10<\/span> <span class=\"cm-variable\">MaxHosts<\/span>:<span class=\"cm-number\">100<\/span> <span class=\"cm-variable\">Responses<\/span>: <span class=\"cm-variable\">Path<\/span>:<span class=\"cm-operator\">\/<\/span> <span class=\"cm-variable\">CRL<\/span>: <span class=\"cm-variable\">Usage<\/span>: <span class=\"cm-variable\">PGPPrivate<\/span>: <span class=\"cm-variable\">P<\/span>...<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":127,"lines_more":124,"preview_is_truncated":true,"channels":["C2Y3CPP16"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1484104217.000602"},{"type":"message","user":"U0KPFAZNF","text":"is that better?","ts":"1484104229.000603"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3PR3HPAP\/-.diff|Untitled> and commented: I have this patch applied now","file":{"id":"F3PR3HPAP","created":1484104252,"timestamp":1484104252,"name":"-.diff","title":"Untitled","mimetype":"text\/plain","filetype":"diff","pretty_type":"Diff","user":"U0KPFAZNF","editable":true,"size":504,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3PR3HPAP\/-.diff?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3PR3HPAP\/download\/-.diff?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3PR3HPAP\/-.diff","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3PR3HPAP-513d301fd3","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3PR3HPAP\/-.diff\/edit","preview":"diff --git a\/images\/cop\/Dockerfile.in b\/images\/cop\/Dockerfile.in\r\nindex a5e87cc..117b254 100644\r\n--- a\/images\/cop\/Dockerfile.in\r\n+++ b\/images\/cop\/Dockerfile.in\r\n@@ -4,4 +4,4 @@ RUN mkdir -p $COP_HOME \/var\/hyperledger\/fabric-cop\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>diff --git a\/images\/cop\/Dockerfile.in b\/images\/cop\/Dockerfile.in<\/pre><\/div>\n<div><pre>index a5e87cc..117b254 100644<\/pre><\/div>\n<div><pre><span class=\"cm-negative\">--- a\/images\/cop\/Dockerfile.in<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-positive\">+++ b\/images\/cop\/Dockerfile.in<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-meta\">@@ -4,4 +4,4 @@ RUN mkdir -p $COP_HOME \/var\/hyperledger\/fabric-cop<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":10,"lines_more":5,"preview_is_truncated":false,"channels":["C2Y3CPP16"],"groups":[],"ims":[],"comments_count":1,"initial_comment":{"id":"Fc3PT3HDLJ","created":1484104252,"timestamp":1484104252,"user":"U0KPFAZNF","is_intro":true,"comment":"I have this patch applied now","channel":""}},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1484104252.000604"},{"type":"message","user":"U0S5KF44D","text":"good to go","ts":"1484104297.000605"},{"type":"message","user":"U0S5KF44D","text":"2017\/01\/11 03:09:45 [INFO] endpoint '\/api\/v1\/cfssl\/sign' is enabled","ts":"1484104299.000606"},{"type":"message","user":"U0KPFAZNF","text":"cool","ts":"1484104302.000607"},{"type":"message","user":"U0KPFAZNF","text":"ill try e2e now, thx for checking","ts":"1484104310.000608"},{"type":"message","user":"U0S5KF44D","text":"ok, ttyl","ts":"1484104324.000609"},{"type":"message","user":"U0KPFAZNF","text":"good night","ts":"1484104331.000610"},{"type":"message","subtype":"pinned_item","user":"U11MANG9G","item_type":"C","ts":"1484107830.000614"},{"type":"message","subtype":"pinned_item","user":"U11MANG9G","item_type":"C","attachments":[{"fallback":"[January 9th, 2017 7:27 AM] jonathanlevi: I think that this component (fabric COP) requires a LOT of testing\u2026 we have merged a lot, pretty quickly, but we need to see it working.","ts":"1483975662.000302","author_subname":"jonathanlevi","channel_id":"C2Y3CPP16","channel_name":"fabric-ca","is_msg_unfurl":true,"text":"I think that this component (fabric COP) requires a LOT of testing\u2026 we have merged a lot, pretty quickly, but we need to see it working.","author_name":"Jonathan Levi","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/jonathanlevi","author_icon":"https:\/\/avatars.slack-edge.com\/2016-09-06\/76710770455_2316fc867e622c8f0008_48.jpg","mrkdwn_in":["text"]}],"text":"<@U11MANG9G|jonathanlevi> pinned a message to this channel.","ts":"1484107926.000615"},{"type":"message","subtype":"pinned_item","user":"U11MANG9G","item_type":"C","attachments":[{"fallback":"[January 9th, 2017 6:57 AM] keithsmith: 1) API simplification - <https:\/\/jira.hyperledger.org\/browse\/FAB-1462>\n   a) Delete idp package; all API structs go into api package.\n      - api\/net.go contains structs defining everything that goes over the network\n        between the client and server.\n      - api\/client.go contains structs defining I\/O to the client library objects\n   b) Simplify object hierarchy in lib to be only Client, Identity, &amp; Cert;\n      signer, temporalSigner, and verifier are consumed in Cert.\n      Identity object has:\n         GetECert() (Cert, error)\n         GetTCerts(req *GetTCertBatchRequest) (*GetTCertBatchResponse, error)\n\n2) TCert option 2 (depends on #1)\n   - The GetTCertBatchRequest struct in api\/client.go has a bool field:\n       DisableKeyDerivation bool\n     If this is true, then option 2 is used.  This is the only change to the client.\n     The rest is handled by the client library code.\n   - The impl of GetTCertBatch in lib\/identity.go calls BCCSP to generate a key-pair for\n     each tcert in the batch.  It then sets the array of public keys in the\n     GetTCertBatchRequestNet struct defined in api\/net.go and sends the request to the server.\n   - The server generates a CSR for each public key, signs them, and returns the array of certs.\n     This is done in cli\/server\/tcert.go and requires relatively minor change.\n     After we get the attribute values (no change), if there is an array of public keys, we\n     fork off to separate code to generate the CSRs and sign them.  The only thing we call lib\/tcert.go\n     code for is to get the extensions which go in the CSR.  Each of these CSRs should be identical\n     except for the value of the public key, so that should be the only thing in the loop.\n\n3) BCCSP COP integration (slightly dependent on #1, but could merge)\n   a) Into CFSSL\n      - CFSSL pull request has been submitted (see <https:\/\/github.com\/cloudflare\/cfssl\/issues\/711>)\n      - rebase\/refactor <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3679\/> on top <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3735\/>\n   b) Into COP itself\n      - lib\/tcert.go rewritten using BCCSP APIs (also on top of <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3735\/>)\n        Is this done in <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3679\/>?\n\n4) CLI Improvements - <https:\/\/jira.hyperledger.org\/browse\/FAB-1170>\n\n5) Store\/retrieve tcert root prekey in DB - <https:\/\/jira.hyperledger.org\/browse\/FAB-1561>\n\n6) Helpme improvements\n   b) endpoint whitelist - <https:\/\/jira.hyperledger.org\/browse\/FAB-1555>\n   c) register with password - <https:\/\/jira.hyperledger.org\/browse\/FAB-1473>\n\n7) Documentation\n   - Update the readme docs.  Not sure when this needs to be done.\n     See <https:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/Setup\/Chaincode-setup\/#option-2-docker-for-mac-or-windows> for example\n   - Swagger doc for REST APIs.  Given api\/net.go, can we use <https:\/\/github.com\/go-swagger\/go-swagger> to auto generate swagger doc?\n     (depends on #1)\n   - User's guide in fabric-cop\/README.md.  See <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3727\/>\n   - Developer's guide to include code overview","ts":"1483973877.000299","author_subname":"keithsmith","channel_id":"C2Y3CPP16","channel_name":"fabric-ca","is_msg_unfurl":true,"text":"1) API simplification - <https:\/\/jira.hyperledger.org\/browse\/FAB-1462>\n   a) Delete idp package; all API structs go into api package.\n      - api\/net.go contains structs defining everything that goes over the network\n        between the client and server.\n      - api\/client.go contains structs defining I\/O to the client library objects\n   b) Simplify object hierarchy in lib to be only Client, Identity, &amp; Cert;\n      signer, temporalSigner, and verifier are consumed in Cert.\n      Identity object has:\n         GetECert() (Cert, error)\n         GetTCerts(req *GetTCertBatchRequest) (*GetTCertBatchResponse, error)\n\n2) TCert option 2 (depends on #1)\n   - The GetTCertBatchRequest struct in api\/client.go has a bool field:\n       DisableKeyDerivation bool\n     If this is true, then option 2 is used.  This is the only change to the client.\n     The rest is handled by the client library code.\n   - The impl of GetTCertBatch in lib\/identity.go calls BCCSP to generate a key-pair for\n     each tcert in the batch.  It then sets the array of public keys in the\n     GetTCertBatchRequestNet struct defined in api\/net.go and sends the request to the server.\n   - The server generates a CSR for each public key, signs them, and returns the array of certs.\n     This is done in cli\/server\/tcert.go and requires relatively minor change.\n     After we get the attribute values (no change), if there is an array of public keys, we\n     fork off to separate code to generate the CSRs and sign them.  The only thing we call lib\/tcert.go\n     code for is to get the extensions which go in the CSR.  Each of these CSRs should be identical\n     except for the value of the public key, so that should be the only thing in the loop.\n\n3) BCCSP COP integration (slightly dependent on #1, but could merge)\n   a) Into CFSSL\n      - CFSSL pull request has been submitted (see <https:\/\/github.com\/cloudflare\/cfssl\/issues\/711>)\n      - rebase\/refactor <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3679\/> on top <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3735\/>\n   b) Into COP itself\n      - lib\/tcert.go rewritten using BCCSP APIs (also on top of <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3735\/>)\n        Is this done in <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3679\/>?\n\n4) CLI Improvements - <https:\/\/jira.hyperledger.org\/browse\/FAB-1170>\n\n5) Store\/retrieve tcert root prekey in DB - <https:\/\/jira.hyperledger.org\/browse\/FAB-1561>\n\n6) Helpme improvements\n   b) endpoint whitelist - <https:\/\/jira.hyperledger.org\/browse\/FAB-1555>\n   c) register with password - <https:\/\/jira.hyperledger.org\/browse\/FAB-1473>\n\n7) Documentation\n   - Update the readme docs.  Not sure when this needs to be done.\n     See <https:\/\/hyperledger-fabric.readthedocs.io\/en\/latest\/Setup\/Chaincode-setup\/#option-2-docker-for-mac-or-windows> for example\n   - Swagger doc for REST APIs.  Given api\/net.go, can we use <https:\/\/github.com\/go-swagger\/go-swagger> to auto generate swagger doc?\n     (depends on #1)\n   - User's guide in fabric-cop\/README.md.  See <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3727\/>\n   - Developer's guide to include code overview","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/keithsmith","author_icon":"https:\/\/secure.gravatar.com\/avatar\/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-48.png","mrkdwn_in":["text"]}],"text":"<@U11MANG9G|jonathanlevi> pinned a message to this channel.","ts":"1484108538.000617"},{"type":"message","user":"U11MANG9G","text":"","attachments":[{"fallback":"[January 9th, 2017 7:27 AM] jonathanlevi: I think that this component (fabric COP) requires a LOT of testing\u2026 we have merged a lot, pretty quickly, but we need to see it working.","ts":"1483975662.000302","author_subname":"jonathanlevi","channel_id":"C2Y3CPP16","channel_name":"fabric-cop","is_msg_unfurl":true,"text":"I think that this component (fabric COP) requires a LOT of testing\u2026 we have merged a lot, pretty quickly, but we need to see it working.","author_name":"Jonathan Levi","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/jonathanlevi","author_icon":"https:\/\/avatars.slack-edge.com\/2016-09-06\/76710770455_2316fc867e622c8f0008_48.jpg","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-cop\/p1483975662000302","is_share":true,"footer":"Posted in #fabric-cop"}],"ts":"1484108568.000618"},{"type":"message","subtype":"pinned_item","user":"U11MANG9G","item_type":"C","attachments":[{"fallback":"[January 9th, 2017 7:32 AM] keithsmith: Thanks for the comments Jonathan.  As far as I know, the things that are merged are working ... though I did have to push a change set over the weekend to help with that (<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3749\/>).  Any specific comments from you or anyone else regarding what is considered exotic would be great.","ts":"1483975959.000309","author_subname":"keithsmith","channel_id":"C2Y3CPP16","channel_name":"fabric-ca","is_msg_unfurl":true,"text":"Thanks for the comments Jonathan.  As far as I know, the things that are merged are working ... though I did have to push a change set over the weekend to help with that (<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3749\/>).  Any specific comments from you or anyone else regarding what is considered exotic would be great.","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/keithsmith","author_icon":"https:\/\/secure.gravatar.com\/avatar\/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-48.png","mrkdwn_in":["text"]}],"text":"<@U11MANG9G|jonathanlevi> pinned a message to this channel.","ts":"1484108612.000621"},{"type":"message","user":"U11MANG9G","text":"*As far as I know, the things that are merged are working\u2026*","attachments":[{"fallback":"[January 9th, 2017 7:32 AM] keithsmith: Thanks for the comments Jonathan.  As far as I know, the things that are merged are working ... though I did have to push a change set over the weekend to help with that (<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3749\/>).  Any specific comments from you or anyone else regarding what is considered exotic would be great.","ts":"1483975959.000309","author_subname":"keithsmith","channel_id":"C2Y3CPP16","channel_name":"fabric-cop","is_msg_unfurl":true,"text":"Thanks for the comments Jonathan.  As far as I know, the things that are merged are working ... though I did have to push a change set over the weekend to help with that (<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3749\/>).  Any specific comments from you or anyone else regarding what is considered exotic would be great.","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/keithsmith","author_icon":"https:\/\/secure.gravatar.com\/avatar\/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-48.png","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-cop\/p1483975959000309","is_share":true,"footer":"Posted in #fabric-cop"}],"ts":"1484108634.000622"},{"type":"message","user":"U11MANG9G","text":"I have just spent a day and a half with Greg, just trying to start the cop server without it crashing.","ts":"1484108694.000623"},{"type":"message","user":"U11MANG9G","text":"I am totally fine with software\/new code that has just been developed and requires testing.","ts":"1484108720.000624"},{"type":"message","user":"U11MANG9G","text":"I just don\u2019t belong to the school of thought of `if it compiles then it is ready for production\/deployment`. All I am\/we are asking is that we test stuff before we declare success\/done\/ready.\n\nJust to re-iterate:","edited":{"user":"U11MANG9G","ts":"1484109287.000000"},"ts":"1484108757.000625"},{"type":"message","user":"U11MANG9G","text":"We really need to test this stuff, before we recommend it to others. The status of this project is `under development`, for a reason. Please let's not underestimate this crucial part of the SDLC.","ts":"1484108878.000626"},{"type":"message","user":"U11MANG9G","text":"As we have just seen, the fact that some code has passed the compilation step with a few tests - is not enough. You\/we need to really check stuff before it is shipped. You can\u2019t tell, unless you really use it.","ts":"1484109042.000629"},{"type":"message","user":"U0S5KF44D","text":"Replying directly Jonathan ... thanks","ts":"1484132407.000640"},{"type":"message","user":"U0S5KF44D","text":"<@U0KPFAZNF> Hi Greg, any other COP issues in the e2e testing?  I'll be glad to work with you today if there are any.","ts":"1484134082.000641"},{"type":"message","user":"U11MANG9G","text":"We will report whatever we find\u2026 yes, we will need to work closely with you <@U0S5KF44D>, and btw, thank you <@U13TWBRBL> too for your help last night.","ts":"1484136438.000642"},{"type":"message","user":"U11MANG9G","text":"As for your direct reply Keith: thank you. Yes, all I want to know is that we plan on testing this stuff, rather than just assuming that \u201cif it\u2019s merged, it works ;-)\u201d.","ts":"1484136509.000643"},{"type":"message","user":"U11MANG9G","text":"The simplest way is to really get more people trying this stuff out, get them\/us all to  report issues, and getting them fixed. It\u2019s time consuming, but there is no other way. Just need to take this into account.","ts":"1484136592.000644"},{"type":"message","user":"U0S5KF44D","text":"No problem ... certainly not making the \"it works\" assumption ... we are testing the best we know how, but as always, we will miss things and will fix asap when problems reported","ts":"1484138744.000645","reactions":[{"name":"+1","users":["U11MANG9G"],"count":1}]},{"user":"U0P2GSA8Z","text":"<@U0P2GSA8Z|arnaud> has joined the channel","type":"message","subtype":"channel_join","ts":"1484140394.000646"},{"type":"message","user":"U0P2GSA8Z","text":"hi there","ts":"1484140408.000647"},{"type":"message","user":"U0P2GSA8Z","text":"I've been trying to compile cop in vagrant but this is a painful experience","ts":"1484140435.000648"},{"type":"message","user":"U0P2GSA8Z","text":"is that only known to compile on MacOS?","ts":"1484140472.000649"},{"type":"message","user":"U0P2GSA8Z","text":"it needs a bunch of libraries that are not part of our vagrant image","ts":"1484140508.000650"},{"type":"message","user":"U0P2GSA8Z","text":"first I had to fool around with busybox to compile","ts":"1484140558.000651"},{"type":"message","user":"U0P2GSA8Z","text":"then I had to install rocksdb","ts":"1484140567.000652"},{"type":"message","user":"U0P2GSA8Z","text":"now it's missing libbz2 and libsnappy","ts":"1484140589.000653"},{"type":"message","user":"U0P2GSA8Z","text":"it's like it never ends","ts":"1484140604.000654"},{"type":"message","user":"U0P2GSA8Z","text":"I love how the README just says to do \"make cop\" :slightly_smiling_face:","edited":{"user":"U0P2GSA8Z","ts":"1484140676.000000"},"ts":"1484140661.000655"},{"type":"message","user":"U11MANG9G","text":"<@U0P2GSA8Z>: [amiably:] please don\u2019t get me started :wink:","ts":"1484140964.000657"},{"type":"message","user":"U11MANG9G","text":"I have been building natively on MacOS, but even for that, to be honest, had to tweak a few things in the system...","ts":"1484141034.000658"},{"type":"message","user":"U11MANG9G","text":"Are you on a Thinkpad?","ts":"1484141048.000659"},{"type":"message","user":"U11MANG9G","text":"(windows\/VBox) ?","ts":"1484141059.000660"},{"type":"message","user":"U0P2GSA8Z","text":"yep","ts":"1484141090.000661"},{"type":"message","user":"U0P2GSA8Z","text":"I tried to use the vagrant image we have for fabric but it really doesn't cut it","ts":"1484141120.000662"},{"type":"message","user":"U0P2GSA8Z","text":"of course the fact that this image doesn't even work for fabric isn't a good start :wink:","ts":"1484141147.000663"},{"type":"message","user":"U0KPFAZNF","text":"<@U0P2GSA8Z> I suspect you are running into one of the issues we (Jonathan and I) ran into yesterday","ts":"1484141601.000664"},{"type":"message","user":"U0KPFAZNF","text":"as a workaround, \"make docker\" from here <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3843\/> seems to work","ts":"1484141626.000665"},{"type":"message","user":"U0KPFAZNF","text":"then you can run it with \"docker run -it --rm -p8888:8888 hyperledger\/fabric-cop","ts":"1484141649.000666"},{"type":"message","user":"U0P2GSA8Z","text":"I thought you guys had problem running it","ts":"1484141653.000667"},{"type":"message","user":"U0P2GSA8Z","text":"I can't even get it to build!","ts":"1484141659.000668"},{"type":"message","user":"U0KPFAZNF","text":"i was going to take a look at the native build today","ts":"1484141660.000669"},{"type":"message","user":"U0KPFAZNF","text":"I am not sure whats wrong yet, but the fact that its asking for rocksdb is suspect","ts":"1484141675.000670"},{"type":"message","user":"U0P2GSA8Z","text":"ok","ts":"1484141685.000671"},{"type":"message","user":"U0KPFAZNF","text":"(rocksdb was removed from vagrant\/docker a while back)","ts":"1484141687.000672"},{"type":"message","user":"U0P2GSA8Z","text":"that's what I thought","ts":"1484141697.000673"},{"type":"message","user":"U11MANG9G","text":"Let alone from the code\/dependencies...","ts":"1484141701.000674"},{"type":"message","user":"U0P2GSA8Z","text":"I was surprised too","ts":"1484141707.000675"},{"type":"message","user":"U0KPFAZNF","text":"so the fact that it compiles under docker without implies it truely isnt needed, but something is going awry in the native build","ts":"1484141709.000676"},{"type":"message","user":"U0KPFAZNF","text":"fwiw, late last night I was able to stand up fabric-cop in the manner mentioned above and get the latest node-sdk to complete an enrollment","ts":"1484141798.000677"},{"type":"message","user":"U0P2GSA8Z","text":"good for you!","ts":"1484141856.000678"},{"type":"message","user":"U0P2GSA8Z","text":"for what it's worth, the problem I have with all the missing libs shows up as follows:","ts":"1484142001.000679"},{"type":"message","user":"U0P2GSA8Z","text":"fabric-cop\/cli$ go build -o ..\/bin\/cop\n# <http:\/\/github.com\/hyperledger\/fabric-cop\/vendor\/github.com\/mattn\/go-sqlite3|github.com\/hyperledger\/fabric-cop\/vendor\/github.com\/mattn\/go-sqlite3>\n\/usr\/bin\/ld: cannot find -lbz2\n\/usr\/bin\/ld: cannot find -lsnappy\ncollect2: error: ld returned 1 exit status","ts":"1484142090.000680"},{"type":"message","user":"U0P2GSA8Z","text":"it's the same command that reported rocksdb missing before","ts":"1484142113.000681"},{"type":"message","user":"U0KPFAZNF","text":"<@U0P2GSA8Z> I have a theory","ts":"1484142118.000682"},{"type":"message","user":"U0KPFAZNF","text":"but i havent had a chance to try it yet","ts":"1484142125.000683"},{"type":"message","user":"U0KPFAZNF","text":"can you show me these two commands:","ts":"1484142141.000684"},{"type":"message","user":"U0KPFAZNF","text":"pwd","ts":"1484142151.000685"},{"type":"message","user":"U0KPFAZNF","text":"env | grep GOPATH","ts":"1484142155.000686"},{"type":"message","user":"U0KPFAZNF","text":"(from fabric-cop\/cli","ts":"1484142179.000687"},{"type":"message","user":"U0P2GSA8Z","text":"$ pwd\n\/opt\/gopath\/src\/github.com\/hyperledger\/fabric-cop\/cli","ts":"1484142179.000688"},{"type":"message","user":"U0P2GSA8Z","text":"that's because I tried to launch the go command myself","ts":"1484142196.000689"},{"type":"message","user":"U0KPFAZNF","text":"(understood, I was trying the same thing yesterday)","ts":"1484142208.000690"},{"type":"message","user":"U0P2GSA8Z","text":"the make cop goes the same","ts":"1484142209.000691"},{"type":"message","user":"U0KPFAZNF","text":"yep, agreed","ts":"1484142217.000692"},{"type":"message","user":"U0P2GSA8Z","text":"$ echo $GOPATH\n\/opt\/gopath","ts":"1484142235.000693"},{"type":"message","user":"U0KPFAZNF","text":"ok, well, there goes that theory","ts":"1484142245.000694"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1484142247.000695"},{"type":"message","user":"U11MANG9G","text":"LOL","ts":"1484142249.000696"},{"type":"message","user":"U0KPFAZNF","text":"in my case, my fabric-cop.git was not in the GOPATH so I was speculating that was part of my problem","ts":"1484142263.000697"},{"type":"message","user":"U0P2GSA8Z","text":"I see","ts":"1484142285.000698"},{"type":"message","user":"U0KPFAZNF","text":"<@U0P2GSA8Z> how about the OS you are on?","ts":"1484142288.000699"},{"type":"message","user":"U0KPFAZNF","text":"someone mentioned some known issue with ubuntu 16.04","ts":"1484142298.000700"},{"type":"message","user":"U0KPFAZNF","text":"I was in vagrant yesterday, and thus in 16.04 IIRC","ts":"1484142309.000701"},{"type":"message","user":"U0P2GSA8Z","text":"yes, I'm in vagrant","ts":"1484142323.000702"},{"type":"message","user":"U0KPFAZNF","text":"v0.2.2?","ts":"1484142328.000703"},{"type":"message","user":"U0P2GSA8Z","text":"yes","ts":"1484142333.000704"},{"type":"message","user":"U0KPFAZNF","text":"ok, so perhaps this is the clue","ts":"1484142338.000705"},{"type":"message","user":"U0P2GSA8Z","text":"by the way, I couldn't run behave in vagrant either for fabric","ts":"1484142420.000706"},{"type":"message","user":"U0P2GSA8Z","text":"it's missing a couple of python modules I had to install","ts":"1484142432.000707"},{"type":"message","user":"U0KPFAZNF","text":"I heard about this: behave is in a state of neglect atm","ts":"1484142451.000708"},{"type":"message","user":"U0P2GSA8Z","text":"sha3 and openssl","ts":"1484142474.000709"},{"type":"message","user":"U0KPFAZNF","text":"one of the tasks on my plate is to migrate behave execution to the $(DRUN) facility and then we can add the proper python stuff to testenv","ts":"1484142485.000710"},{"type":"message","user":"U0KPFAZNF","text":"to be clear, thats not an excuse to have to be broken though","ts":"1484142602.000711"},{"type":"message","user":"U0KPFAZNF","text":"I think the reason its broken partly is that we (to my knowledge) no longer rely on the behave results in CI","ts":"1484142625.000712"},{"type":"message","user":"U0KPFAZNF","text":"thus, attention is waning","ts":"1484142633.000713"},{"type":"message","user":"U0P2GSA8Z","text":"well, the missing modules is a problem with vagrant, not behave","ts":"1484142646.000714"},{"type":"message","user":"U0KPFAZNF","text":"and I am not surprised some entropy has entered","ts":"1484142658.000715"},{"type":"message","user":"U0P2GSA8Z","text":"although of course it exhibits itself when we try to run behave","ts":"1484142660.000716"},{"type":"message","user":"U0P2GSA8Z","text":"I understand","ts":"1484142666.000717"},{"type":"message","user":"U0KPFAZNF","text":"understood","ts":"1484142668.000718"},{"type":"message","user":"U0KPFAZNF","text":"what I am saying is: in my plan for the DRUN integration, the dependency mechanism would ride inside fabric.git as part of the testenv docker creation","ts":"1484142698.000719"},{"type":"message","user":"U0KPFAZNF","text":"rather than outside, in the baseimage\/vagrant definition","ts":"1484142716.000720"},{"type":"message","user":"U0KPFAZNF","text":"which would provide slightly better coupling","ts":"1484142733.000721"},{"type":"message","user":"U0P2GSA8Z","text":"ok","ts":"1484142764.000722"},{"type":"message","user":"U0P2GSA8Z","text":"it also seems that behave ends up hanging somewhere down the line while running the tests","ts":"1484142881.000723"},{"type":"message","user":"U0KPFAZNF","text":"that wouldnt surprise me, given that its not run in CI","ts":"1484143001.000724"},{"type":"message","user":"U12452RAP","text":"<@U0P2GSA8Z>: <@U0KPFAZNF> all the issues i came across, for bddtest there's already a patch in review but seems not pass CI on  z system. For rocksdb issue hope you <@U0KPFAZNF> can fix it","ts":"1484143214.000725"},{"type":"message","user":"U0KPFAZNF","text":"I dont think the rocksdb thing is real","ts":"1484143233.000726"},{"type":"message","user":"U0KPFAZNF","text":"I just ran a native build on OSX and it got past that","ts":"1484143247.000727"},{"type":"message","user":"U11MANG9G","text":"Yup, same here. We really don\u2019t \u201cuse\u201d it anywhere in the code.","ts":"1484143257.000728"},{"type":"message","user":"U0KPFAZNF","text":"i still dont have a grasp on whats happening under vagrant\/16.04 though","ts":"1484143262.000729"},{"type":"message","user":"U12452RAP","text":"Yes, i also can run it native. So quite odd","ts":"1484143330.000730"},{"type":"message","user":"U0P2GSA8Z","text":"I'm happy to be the guinea pig and report on what life is like for those on Windows :slightly_smiling_face:","ts":"1484143435.000731"},{"type":"message","user":"U0P2GSA8Z","text":"note that I didn't try building in natively on Windows... such past attempts have left me with no desire to insist going down that route","ts":"1484143490.000732"},{"type":"message","user":"U0S5KF44D","text":"I'm looking into the vagrant issue as well ... something in sqllite3","ts":"1484143655.000733"},{"type":"message","user":"U0P2GSA8Z","text":"right","ts":"1484143670.000734"},{"type":"message","user":"U0P2GSA8Z","text":"I just tried a simple  go get <http:\/\/github.com\/mattn\/go-sqlite3|github.com\/mattn\/go-sqlite3>","ts":"1484143692.000735"},{"type":"message","user":"U0P2GSA8Z","text":"and I still get the same error","ts":"1484143704.000736"},{"type":"message","user":"U0S5KF44D","text":"natively on windows the same error?","ts":"1484143718.000737"},{"type":"message","user":"U0P2GSA8Z","text":"no, no, in vagrant","ts":"1484143728.000738"},{"type":"message","user":"U0KPFAZNF","text":"i get some other bizarre error later in the process on OSX","ts":"1484143899.000739"},{"type":"message","user":"U0KPFAZNF","text":"but I am going to leave the native build diagnosis in your hands","ts":"1484143915.000740"},{"type":"message","user":"U0KPFAZNF","text":"i can make forward progress with the docker build, and I need to make some headway there today","ts":"1484143929.000741"},{"type":"message","user":"U0P2GSA8Z","text":"that's fine","ts":"1484143945.000742"},{"type":"message","user":"U11MANG9G","text":"I opened this for tracking, btw: <https:\/\/jira.hyperledger.org\/browse\/FAB-1597>","ts":"1484144302.000743"},{"type":"message","user":"U11MANG9G","text":"I don\u2019t know why I can\u2019t copy &amp; paste from Slack. Maybe I should use Slack from Vagrant :wink:","ts":"1484144326.000744"},{"type":"message","user":"U0P2GSA8Z","text":"ok, thanks","ts":"1484144431.000745"},{"type":"message","user":"U2URL5G8P","text":"please anybody guide me about the CA requirement in the hyperledger","ts":"1484152326.000746"},{"user":"U3NCSU999","text":"<@U3NCSU999|hl.rose> has joined the channel","type":"message","subtype":"channel_join","ts":"1484152574.000747"},{"user":"U0RD1ALMV","text":"<@U0RD1ALMV|hart.montgomery> has joined the channel","type":"message","subtype":"channel_join","ts":"1484154911.000748"},{"type":"message","user":"U0S5KF44D","text":"<@U2URL5G8P> It is very generic and may be easier to discuss on the phone.  I can say that it is very generic and pluggable and depends on your needs as to how much of the default impl you can\/want to use.","ts":"1484155203.000749"},{"type":"message","user":"U2URL5G8P","text":"how can i contact you <@U0S5KF44D>","ts":"1484155271.000750"},{"type":"message","user":"U0S5KF44D","text":"<tel:919-543-3586|919-543-3586>","ts":"1484155298.000751"},{"type":"message","user":"U0S5KF44D","text":"in the US","ts":"1484155305.000752"},{"type":"message","user":"U0S5KF44D","text":"not sure where you're located","ts":"1484155312.000753"},{"type":"message","user":"U0S5KF44D","text":"or I have a toll free # we can use","ts":"1484155320.000754"},{"type":"message","user":"U2URL5G8P","text":"yes  please i am from india","ts":"1484155828.000755"},{"type":"message","user":"U2URL5G8P","text":"please provide me toll free","ts":"1484155845.000756"},{"type":"message","user":"U2URL5G8P","text":"or we can connect on skype as well <@U0S5KF44D>","ts":"1484156339.000757"},{"type":"message","user":"U2URL5G8P","text":"my skype id is satyam.garg.16","ts":"1484156389.000758"},{"type":"message","user":"U2URL5G8P","text":"plz provide yours also","ts":"1484156418.000759"},{"user":"U0YS0MWP3","text":"<@U0YS0MWP3|dan-z> has joined the channel","type":"message","subtype":"channel_join","ts":"1484164687.000760"},{"type":"message","user":"U221LL03Z","text":"What I am working on from order of priority :  1) Incorporating changes from <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3781\/>  into <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3539\/>. That will implement <https:\/\/jira.hyperledger.org\/browse\/FAB-1372>. 2) Implement FAB 1602 <https:\/\/jira.hyperledger.org\/browse\/FAB-1602> 3)Implement FAB 1303 <https:\/\/jira.hyperledger.org\/browse\/FAB-1303>. 4)Implement FAB 1598 <https:\/\/jira.hyperledger.org\/browse\/FAB-1598>. Please let me know , if you have any questions\/comments.","ts":"1484170941.000761"},{"type":"message","user":"U221LL03Z","text":"I'll provide progress update here.","ts":"1484170962.000762"},{"user":"U19PSLZV1","text":"<@U19PSLZV1|kanelai> has joined the channel","type":"message","subtype":"channel_join","ts":"1484180307.000763"},{"type":"message","user":"U221LL03Z","text":"One clarification , I'll provide patch set to <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3539\/> after <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3781\/> has been merged. It'll be couple of hours of work(finger crossed).Working on <https:\/\/jira.hyperledger.org\/browse\/FAB-1594> now.","edited":{"user":"U221LL03Z","ts":"1484181671.000000"},"ts":"1484181546.000764"},{"user":"U2CBG8V9U","text":"<@U2CBG8V9U|humblealex> has joined the channel","type":"message","subtype":"channel_join","ts":"1484195452.000766"},{"user":"U2E516363","text":"<@U2E516363|astepanov> has joined the channel","type":"message","subtype":"channel_join","ts":"1484221025.000767"},{"type":"message","user":"U2E516363","text":"Hi everyone, I hope it's a right channel to ask. Let's say I'd like to use fabric-cop and my own CA for ECerts. How can I do that exactly? Can I my own CA for TCerts as well?","ts":"1484221174.000768"},{"type":"message","user":"U0S5KF44D","text":"<@U3DHKV84C> Yury, I'm responding to your question here so others can see.   The question was how the peer process knows about COP.   The peer process itself doesn't know about cop.  We have intentionally architected it this way to allow a key\/cert from any X.509 CA to be used.  But when using cop, you simply call \"cop client enroll &lt;enrollmentID&gt; &lt;enrollmentSecret&gt; &lt;copServerURL&gt;\" with the COP_KEY_FILE and COP_CERT_FILE env variables set appropriately so that the key\/cert is placed where the peer expects.   And you currently also have to copy the cop server's root cert to the appropriate place for the peer.  In the hopefully near future, the cop server's root cert will be part of the genesis block so this final step will not be necessary.   FYI, <@U0UKTPMG8> is working on docker-compose files for all of this.   I did a little work on a Dockerfile yesterday which demonstrates these steps by building a peer image based on the cop image, but unfortunately hit an error building the image and so I think Jeff is continuing with it.  But here is the modification that I made to the fabric\/images\/peer\/Dockerfile.in file which demonstrates the steps I outlined above ...","ts":"1484223143.000769"},{"type":"message","user":"U0S5KF44D","text":"FROM hyperledger\/fabric-cop:_TAG_\nENV PEER_CFG_PATH \/etc\/hyperledger\/fabric\nENV COP_CERT_FILE $PEER_CFG_PATH\/signcerts\/peer.pem\nENV COP_KEY_FILE $PEER_CFG_PATH\/keystore\/key.pem\nRUN mkdir -p \/var\/hyperledger\/db $PEER_CFG_PATH\nCOPY payload\/peer \/usr\/local\/bin\nCOPY payload\/core.yaml $PEER_CFG_PATH\nCOPY payload\/cop-server.pem $PEER_CFG_PATH\/cacerts\/cacert.pem\nADD  payload\/msp-sampleconfig.tar.bz2 $PEER_CFG_PATH\nRUN cop client enroll admin adminpw <http:\/\/127.0.0.1:8888>\nCMD peer node start","ts":"1484223159.000770"},{"type":"message","user":"U0S5KF44D","text":"Note 1 caveat:","edited":{"user":"U0S5KF44D","ts":"1484223366.000000"},"ts":"1484223206.000771"},{"type":"message","user":"U0S5KF44D","text":"The payload\/cop-server.pem file is the same as fabric-cop\/testdata\/ec.pem","edited":{"user":"U0S5KF44D","ts":"1484223381.000000"},"ts":"1484223308.000772"},{"type":"message","user":"U0S5KF44D","text":"<@U0KPFAZNF> may also have a docker-compose file which does this as I know he was working on an end-to-end solution as well","ts":"1484223502.000775"},{"type":"message","user":"U0S5KF44D","text":"Anyway, hopefully this will all be done soon and you will not need to worry about this level of detail","ts":"1484223540.000776"},{"user":"U3J48LFUG","text":"<@U3J48LFUG|kfioktistov> has joined the channel","type":"message","subtype":"channel_join","ts":"1484223707.000777"},{"type":"message","user":"U0S5KF44D","text":"<@U2E516363> There are actually several options:","ts":"1484225173.000778"},{"type":"message","user":"U0S5KF44D","text":"1) Use COP completely","ts":"1484225180.000779"},{"type":"message","user":"U0S5KF44D","text":"2) Configure COP server with an intermediate cert issued by another CA, in which case COP server continues to issue ecerts and tcerts, but with the other CA's root of trust.   Or depending on the exact use case, the COP server could be extended to meet other requirements, but would have to understand the exact requirements to know for sure.","edited":{"user":"U0S5KF44D","ts":"1484227544.000000"},"ts":"1484225246.000780"},{"type":"message","user":"U0S5KF44D","text":"3) Don't use COP at all.  Configure the fabric with your own CA's cert.  In this case, if you're using one of the SDKs, you would need to write code or somehow manually configure\/load key\/certs to use.   The node SDK for example has a Membership Services interface that you'd have to implement if you want to use it with another CA.   The SDK channel would be the best place to get info on that, if interested.","ts":"1484225561.000781"},{"type":"message","user":"U0S5KF44D","text":"The bottom line is that it is very flexible and just depends on what you are trying to accomplish","ts":"1484225616.000782"},{"type":"message","user":"U0S5KF44D","text":"Can you elaborate on your scenario?","ts":"1484225631.000783"},{"type":"message","user":"U2E516363","text":"<@U0S5KF44D> thanks for the answer, I guess it's a 3rd option.\nWe building a prototype for interbank communication. One of the requirements - using bank's software for signing transactions (it uses some specific crypto function, like \"gost r 34.11 94\")","ts":"1484226066.000784"},{"type":"message","user":"U0S5KF44D","text":"Yes ... which SDK are you using?","ts":"1484226159.000785"},{"type":"message","user":"U2E516363","text":"<@U0S5KF44D> we used fabric 0.6 before with node sdk, now want to try v1. Same SDK probably","ts":"1484226310.000786"},{"type":"message","user":"U0S5KF44D","text":"Hmm ... seems gost r 34.11 94 is not X.509 based?   Then you would also need to implement your own MSP (Membership Services Provider) which plugs into the fabric","ts":"1484226312.000787"},{"type":"message","user":"U0S5KF44D","text":"See fabric\/msp","ts":"1484226324.000788"},{"type":"message","user":"U0S5KF44D","text":"Note that the documentation for this is a work-in-progress :disappointed:","ts":"1484226446.000789"},{"type":"message","user":"U11MANG9G","text":"One sec, one sec.","ts":"1484226462.000790"},{"type":"message","user":"U11MANG9G","text":"","attachments":[{"fallback":"[January 12th, 2017 5:01 AM] astepanov: <@U0S5KF44D> thanks for the answer, I guess it's a 3rd option.\nWe building a prototype for interbank communication. One of the requirements - using bank's software for signing transactions (it uses some specific crypto function, like \"gost r 34.11 94\")","ts":"1484226066.000784","author_subname":"astepanov","channel_id":"C2Y3CPP16","channel_name":"fabric-cop","is_msg_unfurl":true,"text":"<@U0S5KF44D> thanks for the answer, I guess it's a 3rd option.\nWe building a prototype for interbank communication. One of the requirements - using bank's software for signing transactions (it uses some specific crypto function, like \"gost r 34.11 94\")","author_name":"Andrey Stepanov","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/astepanov","author_icon":"https:\/\/secure.gravatar.com\/avatar\/c9dd78251191958fd505f7b1f84276e8.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0009-48.png","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-cop\/p1484226066000784","is_share":true,"footer":"Posted in #fabric-cop"}],"ts":"1484226469.000791"},{"type":"message","user":"U11MANG9G","text":"<@U2E516363>, why not use COP at all?","ts":"1484226482.000792"},{"type":"message","user":"U11MANG9G","text":"It is possible to integrate some other functions into the COP flow. We could have done it even back then with v0.5 and v0.6...","ts":"1484226529.000793"},{"type":"message","user":"U11MANG9G","text":"COP (the v1) is even more flexible, in that sense.","ts":"1484226550.000794"},{"type":"message","user":"U11MANG9G","text":"So, while things are under development, etc\u2026 I would still not dismiss an integration option.","ts":"1484226578.000795"},{"type":"message","user":"U11MANG9G","text":"(it may save you `loads` of time\/testing\/etc\u2026)","ts":"1484226590.000796"},{"type":"message","user":"U2E516363","text":"<@U0S5KF44D> I thought it is, but I'm not sure honestly","ts":"1484226599.000797"},{"type":"message","user":"U2E516363","text":"<@U11MANG9G> I would love to use cop! :slightly_smiling_face:","ts":"1484226661.000798"},{"type":"message","user":"U0S5KF44D","text":"Yeh, I don't know anything about \"gost r 34.11 94\".  I guess if it is just another hash function, then yes, COP could be extended much more easily","ts":"1484226662.000799"},{"type":"message","user":"U11MANG9G","text":"I\u2019m just trying to see whether the use-case is really *prohibitive* so the level that you really have to reimplement everything.","ts":"1484226663.000800"},{"type":"message","user":"U11MANG9G","text":"Yes <@U2E516363>, <@U0S5KF44D> if you like, we can develop this a bit more (here or in private), but there are many ways of having a \u201cdecentralized\u201d flow using fabric-cop, the fabric \u201csdk\u201d on the way to \u201cfabric\"","ts":"1484226746.000801"},{"type":"message","user":"U11MANG9G","text":"develop, as in, expand the discussion and get to the bottom of it\u2026  especially if you are the planning stage.","ts":"1484226802.000802"},{"type":"message","user":"U0S5KF44D","text":"Yes, I would need to understand \"gost r 34.11 94\" better for sure to make a recommendation ... and any other requirements","ts":"1484226858.000803"},{"type":"message","user":"U11MANG9G","text":"Likewise.","ts":"1484226896.000804"},{"type":"message","user":"U2E516363","text":"<@U11MANG9G> <@U0S5KF44D> sure! If you have time, let's do it!","ts":"1484226984.000805"},{"type":"message","user":"U0S5KF44D","text":"Sure ... will leave it to you to set something up","ts":"1484227040.000806"},{"type":"message","user":"U0KPFAZNF","text":"<@U3DHKV84C> <@U0S5KF44D> regarding the docker conversation, note that the work I did could be more precisely classified as at the dockerfile\/make-docker level for cop itself, not a higher order composition (though i did do some of that, too)","ts":"1484228353.000809"},{"type":"message","user":"U0KPFAZNF","text":"if you take <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3843\/>, it is then possible to run \"make docker\" and have the resulting image be relatively turn-key deployable (without real security, though)","ts":"1484228389.000810"},{"type":"message","user":"U0KPFAZNF","text":"so, for instance \"docker run -it --rm hyperledger\/fabric-cop\" would result in a functional cop server","ts":"1484228412.000811"},{"type":"message","user":"U0KPFAZNF","text":"before my changes, you had to do more of the configuration by hand, though cop has supported emitting a docker image for some time","ts":"1484228472.000812"},{"type":"message","user":"U0S5KF44D","text":"thanks Greg ... don't you need \"-p 8888:8888\" on docker run command?","ts":"1484228512.000813"},{"type":"message","user":"U0KPFAZNF","text":"ah, yes, thanks keith","ts":"1484228536.000814"},{"type":"message","user":"U0KPFAZNF","text":"i forget that when really running too","ts":"1484228542.000815"},{"type":"message","user":"U0KPFAZNF","text":"heh","ts":"1484228543.000816"},{"type":"message","user":"U0KPFAZNF","text":"(I tend to rely on my composition which sets the exports\/ports for me","ts":"1484228560.000817"},{"type":"message","user":"U0KPFAZNF","text":"speaking of: if anyone could review CR 3843, it would be appreciated","ts":"1484228800.000818"},{"type":"message","user":"U0S5KF44D","text":"just did","ts":"1484229004.000819"},{"type":"message","user":"U3DHKV84C","text":"<@U0KPFAZNF> thanks","ts":"1484231243.000820"},{"type":"message","user":"U221LL03Z","text":"<@U2E516363> : GOST R is not supported by CFSSL(AFAIK) and hence you cannot use CoP as Intermediate CA making your CA as root CA for ECert purposes. For TCert , we are using CFSSL as issuing CA . but it can be extended to use your CA as Issuing CA. In that case , you need to expose your API for Certificate Signing as we (CoP) do not want to get into business of managing your CA's private key.","ts":"1484232617.000821"},{"type":"message","user":"U221LL03Z","text":"we can extend CoP to supprt your use case.","ts":"1484232715.000822"},{"type":"message","user":"U2E516363","text":"<@U221LL03Z> which way it can be extended? For TCert I mean","ts":"1484237575.000823"},{"type":"message","user":"U221LL03Z","text":"From TCert perspective , it'll be same , whether 1 or 2.","ts":"1484238034.000824"},{"type":"message","user":"U221LL03Z","text":"I am sorry. It can be extended for ECert as well as TCert.","ts":"1484238069.000825"},{"type":"message","user":"U2E516363","text":"<@U221LL03Z> I'm a bit confused, you mean, CFSSL can be extended to use GOST R, for support T\/ECert in COP, right?","ts":"1484238385.000826"},{"type":"message","user":"U221LL03Z","text":"Let me step back :1) ECert : To support Elliptic Curve Cryptography , some of the implementations takes algorithm info from , say cert itself. So , in that case , CFSSL has to be extended , which to me , seems a long pole.  Another option that we have is , we can take your ECERT as it is instead of  giving you CoP generated ECert as a result of enrollment process.","edited":{"user":"U221LL03Z","ts":"1484239720.000000"},"ts":"1484239148.000827"},{"type":"message","user":"U221LL03Z","text":"For TCert : If you expose API for cert signing , we can support that.","ts":"1484239187.000828"},{"type":"message","user":"U0S5KF44D","text":"I suggest that we do some more investigate\/verification in house on ghost r, but before that, astepanov was going to set up a call to make sure we understand the requirements better","ts":"1484239264.000829"},{"type":"message","user":"U11MANG9G","text":"Yup, that\u2019s how I feel too.","ts":"1484239348.000830"},{"type":"message","user":"U11MANG9G","text":"If it is possible to see\/discuss the \u201cworkflow\u201d, it will be easier to see what can be reused, what needs extending, and how much needs to be out \u201coutside\u201d fabric, or fabric-cop.","ts":"1484239391.000831"},{"type":"message","user":"U0S5KF44D","text":"<@U2E516363> Please include Ash, Jonathan, and me on the invite ... or I guess could just post here and anyone who wants to join","ts":"1484239428.000832","reactions":[{"name":"+1","users":["U2E516363"],"count":1}]},{"type":"message","user":"U2E516363","text":"I made a temp channel for it <#C3Q1ZGX4Y|gostr_and_cop> so we can move discussion there. Welcome anyone who else interest","ts":"1484240353.000834"},{"type":"message","user":"U0S5KF44D","text":"<@U0P2GSA8Z> To build in vagrant, do the following:","ts":"1484285060.000835"},{"type":"message","user":"U0S5KF44D","text":"export CGO_LDFLAGS=\"-lstdc++ -lm -lz\"","ts":"1484285086.000836"},{"type":"message","user":"U0S5KF44D","text":"That is, to build COP in vagrant","ts":"1484285100.000837","reactions":[{"name":"+1","users":["U12452RAP"],"count":1}]},{"type":"message","user":"U0S5KF44D","text":"I just pushed the fix in changeset <http:\/\/gerrit.hyperledger.org\/r\/3921>","ts":"1484285145.000838"},{"type":"message","user":"U12452RAP","text":"What is the  cause","ts":"1484286610.000839"},{"type":"message","user":"U11CP8FF1","text":"Question related to user registration.  To register, a person need to enroll before running \u201ccop client register\u201d command. Say, we can use \u201cadmin\u201d to register users. However, once \u201cadmin\u201d user enroll using \u201ccop\u201d command, this user can not be used in Node SDK application. Is this correct ? So if we want to have admin privilege in Hyperledger application we can do:\n\n&gt; 1. Pre-register app specific admin user (e.g. webappadmin) in config file ( e.g in testconfig.json)\n&gt; or\n&gt; 2. Register webappadmin with these attributes.\n\n```      \"attrs\": [{\"name\":\"hf.Registrar.Roles\",\"value\":\"client,user,peer,validator,auditor\"},\n                {\"name\":\"hf.Registrar.DelegateRoles\", \"value\": \"client,user,validator,auditor\"},\n                {\"name\":\"hf.Revoker\", \"value\": \u201ctrue\u201d}]`  ```","ts":"1484292056.000840"},{"type":"message","user":"U11CP8FF1","text":"Is my understanding correct ?","ts":"1484292067.000841"},{"type":"message","user":"U0P2GSA8Z","text":"Thanks <@U0S5KF44D>. The fix works.","ts":"1484298764.000842"},{"type":"message","user":"U0Z41KY5V","text":"<@U0S5KF44D> is the CGO_LDFLAGS=\"-lstdc++ -lm -lz\u201d required to build up cop? seems it works with a directly build with \u201cgo build\"","ts":"1484299442.000843"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0Z41KY5V> I agree cop builds without CGO_LDFLAGS set at all but I assume it's needed to build fabric?","ts":"1484299595.000844"},{"type":"message","user":"U0P2GSA8Z","text":"I can give it a shot","ts":"1484299681.000845"},{"type":"message","user":"U0P2GSA8Z","text":"hmm","ts":"1484301220.000846"},{"type":"message","user":"U0P2GSA8Z","text":"fabric actually does seem to build all right without CGO_LDFLAGS","edited":{"user":"U0P2GSA8Z","ts":"1484301271.000000"},"ts":"1484301248.000847"},{"type":"message","user":"U0P2GSA8Z","text":"this may be a case of something no longer needed that nobody dares removing in fear of breaking something :slightly_smiling_face:","ts":"1484303115.000849"},{"type":"message","user":"U11MANG9G","text":"Yup","ts":"1484303130.000850"},{"type":"message","user":"U11MANG9G","text":"How about we make this change:","ts":"1484303147.000851"},{"type":"message","user":"U11MANG9G","text":"<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/setup.sh#L104>","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/setup.sh#L104","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/devenv\/setup.sh#L104","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1484303147.000852"},{"type":"message","user":"U11MANG9G","text":"And push it to gerrit, so that we play with it for a day?","ts":"1484303182.000854"},{"type":"message","user":"U0P2GSA8Z","text":"works for me","ts":"1484303223.000855"},{"type":"message","user":"U11MANG9G","text":"Do you want to do it, or shall I ?","ts":"1484303251.000856"},{"type":"message","user":"U11MANG9G","text":"Then we will ask people to take a look at it\u2026 try in a few places?","ts":"1484303271.000857"},{"type":"message","user":"U0P2GSA8Z","text":"by the way we should also add the fabric-cop directory to the list of \"synced' dirs in Vagrant","ts":"1484303276.000858"},{"type":"message","user":"U11MANG9G","text":"Yup, I should \u201cupgrade\u201d to Vagrant :wink:","ts":"1484303300.000859"},{"type":"message","user":"U11MANG9G","text":"And try it locally\u2026","ts":"1484303304.000860"},{"type":"message","user":"U0P2GSA8Z","text":"lol","ts":"1484303307.000861"},{"type":"message","user":"U0P2GSA8Z","text":"now that we split the project in several repos we need to have access to the different repos from vagrant","ts":"1484303336.000862"},{"type":"message","user":"U0P2GSA8Z","text":"currently you only get access to the fabric dir","ts":"1484303347.000863"},{"type":"message","user":"U0P2GSA8Z","text":"I had to add fabric-cop","ts":"1484303359.000864"},{"type":"message","user":"U11MANG9G","text":"So in \/opt\/\u2026 ?","ts":"1484303359.000865"},{"type":"message","user":"U11MANG9G","text":"Right !","ts":"1484303364.000866"},{"type":"message","user":"U0P2GSA8Z","text":"I don't know what else we should add to make it complete and not have people tripped over that","ts":"1484303395.000867"},{"type":"message","user":"U0P2GSA8Z","text":"yes","ts":"1484303400.000868"},{"type":"message","user":"U11MANG9G","text":"OK, let\u2019s play with it\u2026 it is good to clean things up actually. I know that many are still using Vagrant\u2026 I wish they\u2019d reported issues.","ts":"1484303414.000869"},{"type":"message","user":"U11MANG9G","text":"Maybe they are being shy? :wink:","ts":"1484303422.000870"},{"type":"message","user":"U0P2GSA8Z","text":"that's one thing I'm not :slightly_smiling_face:","ts":"1484303439.000871"},{"type":"message","user":"U11MANG9G","text":"Not you, thank G-d!","ts":"1484303448.000872"},{"type":"message","user":"U11MANG9G","text":"Since you joined this channel we opened 2-3 jira items!","ts":"1484303462.000873"},{"type":"message","user":"U11MANG9G","text":"In 48 hours ! ;-))))","ts":"1484303472.000874"},{"type":"message","user":"U0P2GSA8Z","text":"you're welcome :slightly_smiling_face:","ts":"1484303480.000875"},{"type":"message","user":"U11MANG9G","text":"One could only imagine where we\u2019d be in 2 month. Ha ha.","ts":"1484303490.000876"},{"type":"message","user":"U11MANG9G","text":"Exactly. Good stuff, good stuff. Thank you.","ts":"1484303504.000877"},{"type":"message","user":"U0P2GSA8Z","text":"well, if I could help close some that'd be even nicer","ts":"1484303508.000878"},{"type":"message","user":"U0P2GSA8Z","text":"I can send the patch for Vagrant","ts":"1484303534.000879"},{"type":"message","user":"U11MANG9G","text":"OK, so the FLAGS and the sync. Anything else we can think of?","ts":"1484303540.000880"},{"type":"message","user":"U11MANG9G","text":"Yes, please","ts":"1484303544.000881"},{"type":"message","user":"U0P2GSA8Z","text":"not for now","ts":"1484303558.000882"},{"type":"message","user":"U11MANG9G","text":"OK, btw: just noticed Keith\u2019s comment here:","ts":"1484303594.000883"},{"type":"message","user":"U11MANG9G","text":"<https:\/\/jira.hyperledger.org\/browse\/FAB-1597>","ts":"1484303596.000884"},{"type":"message","user":"U11MANG9G","text":"And noticed that he suggested the same solution. Let\u2019s give it a few hours, maybe Keith has already started?","ts":"1484303651.000886"},{"type":"message","user":"U0P2GSA8Z","text":"hu? he just says to set it to a different value without rocksb, not to remove it altogether","ts":"1484303831.000888"},{"type":"message","user":"U11MANG9G","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3921\/1\/devenv\/setup.sh>","ts":"1484303858.000889"},{"type":"message","user":"U0P2GSA8Z","text":"yes, that works but it seems we can just remove it altogether","ts":"1484303885.000890"},{"type":"message","user":"U11MANG9G","text":"`- export CGO_LDFLAGS=\"-lrocksdb -lstdc++ -lm -lz -lbz2 -lsnappy\u201d`\n`+ export CGO_LDFLAGS=\"-lstdc++ -lm -lz\u201d`","ts":"1484303900.000891"},{"type":"message","user":"U11MANG9G","text":"I think so too.","ts":"1484303936.000892"},{"type":"message","user":"U11MANG9G","text":"We can remove the entire line.","ts":"1484303945.000893"},{"type":"message","user":"U0P2GSA8Z","text":"yup","ts":"1484303951.000894"},{"type":"message","user":"U0P2GSA8Z","text":"less is better :slightly_smiling_face:","ts":"1484303970.000895"},{"type":"message","user":"U11MANG9G","text":"less is better than more! :wink:","ts":"1484303981.000896"},{"type":"message","user":"U0P2GSA8Z","text":":slightly_smiling_face:","ts":"1484303994.000897"},{"type":"message","user":"U11MANG9G","text":"We can ask Keith for a patchset when he is up\u2026","ts":"1484304032.000899"},{"type":"message","user":"U11MANG9G","text":"Relieved, I\u2019m going back to sleep :wink:","ts":"1484304065.000900"},{"type":"message","user":"U0P2GSA8Z","text":"I was wondering what you're doing up at this time...","edited":{"user":"U0P2GSA8Z","ts":"1484304175.000000"},"ts":"1484304158.000902"},{"type":"message","subtype":"file_share","text":"<@U11MANG9G|jonathanlevi> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/jonathanlevi\/F3R7AEYMT\/makecop.jpeg|@arnaud>","file":{"id":"F3R7AEYMT","created":1484304577,"timestamp":1484304577,"name":"MakeCop.jpeg","title":"@arnaud","mimetype":"image\/jpeg","filetype":"jpg","pretty_type":"JPEG","user":"U11MANG9G","editable":false,"size":92146,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3R7AEYMT\/makecop.jpeg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3R7AEYMT\/download\/makecop.jpeg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3R7AEYMT-76232561c7\/makecop_64.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3R7AEYMT-76232561c7\/makecop_80.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3R7AEYMT-76232561c7\/makecop_360.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":335,"thumb_360_h":335,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F3R7AEYMT-76232561c7\/makecop_160.jpg?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","image_exif_rotation":1,"original_w":335,"original_h":335,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/jonathanlevi\/F3R7AEYMT\/makecop.jpeg","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3R7AEYMT-1eb4c19a13","channels":["C2Y3CPP16"],"groups":[],"ims":[],"comments_count":0},"user":"U11MANG9G","upload":true,"display_as_bot":false,"username":"<@U11MANG9G|jonathanlevi>","bot_id":null,"ts":"1484304578.000904"},{"type":"message","user":"U0P2GSA8Z","text":"lol","ts":"1484305766.000905"},{"type":"message","user":"U0S5KF44D","text":"ok ... <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3921\/2> removes CGO_LDFLAGS altogether and while we're in cleanup mode, also removes CGO_CFLAGS as it is also apparently not needed.","ts":"1484306732.000906"},{"type":"message","user":"U0S5KF44D","text":"Actually <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3921\/3> additionally removes CGO_CFLAGS","ts":"1484306765.000907"},{"type":"message","user":"U0P2GSA8Z","text":"sounds good","ts":"1484309510.000908"},{"type":"message","user":"U0Z41KY5V","text":"Thanks for those updates, and suggest we also update the doc to let people know how to build it manually and correctly :slightly_smiling_face:","ts":"1484312298.000909"},{"type":"message","user":"U0S5KF44D","text":"<@U0Z41KY5V> Hi ... the following is what is currently in the README.md.  Any corrections or suggestions for improvement?  BTW, <@U1KJY9BJQ> has a change set which adds info on starting the cop server via docker.","ts":"1484316272.000910"},{"type":"message","user":"U0S5KF44D","text":"### Download and build the COP executable\n\nThe following shows how to download and build the COP executable (i.e. the 'COP' binary).\nBe sure to replace **YOUR-ID** appropriately.\n\n```\n# go get <http:\/\/github.com\/go-sql-driver\/mysql|github.com\/go-sql-driver\/mysql>\n# go get <http:\/\/github.com\/lib\/pq|github.com\/lib\/pq>\n# cd $GOPATH\/src\/github.com\/hyperledger\n# git clone <ssh:\/\/YOUR-ID@gerrit.hyperledger.org:29418\/fabric-cop>\n# cd fabric-cop\n# make cop\n```\n\nThe executable is at `$COP\/bin\/cop`.","ts":"1484316275.000911"},{"type":"message","user":"U0S5KF44D","text":"duh ... as I just pasted, I realized we should show the \"go get\" rather than \"git clone\" method for those who just want to run it but not for developers.  Is that what you had in mind?","ts":"1484316354.000912"},{"type":"message","user":"U0S5KF44D","text":"3 methods: 1) docker 2) go get 3) git clone","ts":"1484316397.000913"},{"type":"message","user":"U0Z41KY5V","text":"aha, i was saying in the fabric, make cmd will have to generate many images before the building. not easy to follow indeed.","ts":"1484316442.000914"},{"type":"message","user":"U0Z41KY5V","text":"the cop style is good in setup.","ts":"1484316487.000915"},{"type":"message","user":"U0Z41KY5V","text":"and can give some minimum workable compose file example.","ts":"1484316504.000916"},{"type":"message","user":"U0S5KF44D","text":"ah ... yes, we are updating readthedocs in fabric also ... a current WIP","ts":"1484316511.000917"},{"type":"message","user":"U0S5KF44D","text":"yes, understood","ts":"1484316521.000918"},{"type":"message","user":"U0S5KF44D","text":"thanks","ts":"1484316524.000919"},{"type":"message","user":"U0Z41KY5V","text":"remember it was changed days ago","ts":"1484316525.000920"},{"type":"message","user":"U0Z41KY5V","text":"thanks keithsmith","ts":"1484316535.000921"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0S5KF44D> I think one thing that could be added to the doc is a pointer to the fabric setup to get vagrant going","ts":"1484319803.000922"},{"type":"message","user":"U0P2GSA8Z","text":"I suspect that most people who use vagrant have it set up already when they get to look into cop but for completeness it makes sense to indicate that we rely on the fabric vagrant setup","ts":"1484319857.000923"},{"type":"message","user":"U0S5KF44D","text":"<@U0P2GSA8Z> will do, thanks","ts":"1484321370.000924"},{"type":"message","user":"U0PB67X4K","text":"the real solution is that we need to start publishing docker images which is targeted for the end of the month.  unless they are going to contribute to fabric-cop and\/or fabric, they should not be building anything.  Also - we really need people to NOT use Vagrant in general.  You can easily build Fabric V1 (master branch) and fabric-cop without Vagrant.","ts":"1484422394.000925"},{"type":"message","user":"U0S5KF44D","text":"OK, so <@U11HH3P7Y> can change CI for fabric and fabric-cop to start publishing images, right?","ts":"1484432440.000926"},{"type":"message","user":"U0S5KF44D","text":"I also think we should update fabric\/Makefile to have a docker-cop target with a docker-peer-cop and docker-order-cop targets, which builds images with peer+cop and orderer+cop executables respectively.  Thoughts?","ts":"1484432600.000927"},{"type":"message","user":"U0S5KF44D","text":"I opened <https:\/\/jira.hyperledger.org\/browse\/FAB-1655> to start publishing v1 images","ts":"1484433600.000928"},{"type":"message","user":"U11HH3P7Y","text":"ok will create CI job to do this. Thanks <@U0S5KF44D>","ts":"1484433645.000929"},{"type":"message","user":"U0PB67X4K","text":"<@U11HH3P7Y> - please make sure that this is in line with the way <@U11HTMW0H> has outlined for the image build and test plan","ts":"1484436453.000930"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0PB67X4K> how does one build without vagrant on Windows?","ts":"1484495905.000931"},{"type":"message","user":"U0PB67X4K","text":"I believe COP will build on Windows directly but you are right in that we did not do the same Docker build as fabric.  We should add that ","ts":"1484496524.000932"},{"type":"message","user":"U0PB67X4K","text":"I have not tried COP on Windows yet.  ","ts":"1484496654.000933"},{"type":"message","user":"U0P2GSA8Z","text":"I will try","ts":"1484499407.000934"},{"type":"message","user":"U0P2GSA8Z","text":"I tried Fabric before and gave up","ts":"1484499428.000935"},{"type":"message","user":"U0P2GSA8Z","text":"but it might be worth trying again","ts":"1484499434.000936"},{"user":"U3SB11YDD","text":"<@U3SB11YDD|ingcr3at1on> has joined the channel","type":"message","subtype":"channel_join","ts":"1484503866.000937"},{"user":"U3S1PENVA","text":"<@U3S1PENVA|vadim> has joined the channel","type":"message","subtype":"channel_join","ts":"1484562779.000938"},{"user":"U0P1VU0QG","text":"<@U0P1VU0QG|ikruiper> has joined the channel","type":"message","subtype":"channel_join","ts":"1484571785.000939"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0S5KF44D> so, from what I can tell cleaning the db would already help","ts":"1484576897.000940"},{"type":"message","user":"U0S5KF44D","text":"yes, we have test cases for number of times a password can be reused which depend on starting with a clean DB","ts":"1484576937.000941"},{"type":"message","user":"U0P2GSA8Z","text":"although now I'm facing a worrisome error I need to investigate further: 2017\/01\/16 14:13:07 [DEBUG] Received response\nstatusCode=500 (500 Internal Server Error)\n--- FAIL: TestRegister (0.01s)\n\tclient_test.go:88: Failed to register, err:  Error response from server was 'User 'test_user' is already registered' for request:\n\t\tPOST <https:\/\/localhost:8888\/api\/v1\/cfssl\/register>","ts":"1484576967.000942"},{"type":"message","user":"U0P2GSA8Z","text":"yes, exactly","ts":"1484576975.000943"},{"type":"message","user":"U0S5KF44D","text":"How do you reproduce that?  Obviously one issue I can repro is trying to reregister a user and fix the 500","ts":"1484577096.000944"},{"type":"message","user":"U0S5KF44D","text":"but wondering why this happened in the 1st place","ts":"1484577110.000945"},{"type":"message","user":"U0S5KF44D","text":"So 2 issues:","ts":"1484577124.000946"},{"type":"message","user":"U0S5KF44D","text":"1) Fix error handling ... I can look into that","ts":"1484577136.000947"},{"type":"message","user":"U0S5KF44D","text":"2) Why error occurred in 1st place ... not sure how to reproduce","ts":"1484577159.000948"},{"type":"message","user":"U0P2GSA8Z","text":"well, let me look a bit deeper and see if I can tell you","ts":"1484577345.000949"},{"type":"message","user":"U0P2GSA8Z","text":"but I just do make unit-tests","ts":"1484577419.000950"},{"type":"message","user":"U0S5KF44D","text":"ok, will look into it","ts":"1484578248.000951"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0S5KF44D> cleaning up the db in client_test.go makes that problem disappear","ts":"1484578476.000952"},{"type":"message","user":"U0P2GSA8Z","text":"so, I'm guessing that investing the internal server error may require you to not clean the db","ts":"1484578540.000953"},{"type":"message","user":"U0P2GSA8Z","text":"I've got the cli\/client tests passing now","ts":"1484578560.000954"},{"type":"message","user":"U0P2GSA8Z","text":"yeah, I added cleanup code to the lib tests and those pass too now","edited":{"user":"U0P2GSA8Z","ts":"1484579574.000000"},"ts":"1484579562.000955"},{"type":"message","user":"U0P2GSA8Z","text":"actually for the first time make unit-tests on vagrant has completed successfully!","ts":"1484579620.000957"},{"type":"message","user":"U0P2GSA8Z","text":"yay :slightly_smiling_face:","ts":"1484579623.000958"},{"type":"message","user":"U0P2GSA8Z","text":"I'm going to try on Windows again now","ts":"1484579642.000959"},{"type":"message","user":"U0P2GSA8Z","text":"interestingly running tests natively on Windows is much slower than in vagrant on the same machine!?","ts":"1484579826.000960"},{"type":"message","user":"U0P2GSA8Z","text":"so, unfortunately it's not quite working on Windows yet","ts":"1484590124.000961"},{"type":"message","user":"U0P2GSA8Z","text":"it's something stupid, which has to with the copying of the test config file to \/tmp","ts":"1484590154.000962"},{"type":"message","user":"U0P2GSA8Z","text":"but it will take a bit more time","edited":{"user":"U0P2GSA8Z","ts":"1484590902.000000"},"ts":"1484590181.000963"},{"type":"message","user":"U0P2GSA8Z","text":"stay tuned","ts":"1484590196.000964"},{"type":"message","user":"U0P2GSA8Z","text":"yay! make unit-tests passes on Windows :slightly_smiling_face:","ts":"1484594297.000966"},{"type":"message","user":"U0P2GSA8Z","text":"so I now have a patch that will make make unit-tests pass on both Windows and vagrant","ts":"1484594659.000967"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0S5KF44D> <@U1KJY9BJQ> I see that you both have submitted changes that are related and will be impacted","ts":"1484598983.000968"},{"type":"message","user":"U0P2GSA8Z","text":"how do you guys sync' up?","ts":"1484599011.000969"},{"type":"message","user":"U0P2GSA8Z","text":"I can wait or submit mine and rebase later","ts":"1484599034.000970"},{"type":"message","user":"U0P2GSA8Z","text":"or whichever way you think is best","ts":"1484599046.000971"},{"type":"message","user":"U0S5KF44D","text":"<@U0P2GSA8Z> I added <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4009\/> just hoping it would move more quickly ... not sure which of Saad's you're referring to","ts":"1484599221.000972"},{"type":"message","user":"U0P2GSA8Z","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3907\/>","ts":"1484599250.000973"},{"type":"message","user":"U0S5KF44D","text":"Yes, I think multiple change sets have included the 1-liner change that I put in 4009","ts":"1484599254.000974"},{"type":"message","user":"U0P2GSA8Z","text":"it actually may resolve a problem I had","ts":"1484599269.000975"},{"type":"message","user":"U0P2GSA8Z","text":"os.Link to \"copy\" the config file in \/tmp doesn't work","ts":"1484599294.000976"},{"type":"message","user":"U0P2GSA8Z","text":"neither on Windows nor vagrant","ts":"1484599303.000977"},{"type":"message","user":"U0P2GSA8Z","text":"yeah, I see your change","ts":"1484599335.000978"},{"type":"message","user":"U0P2GSA8Z","text":"that wasn't quite enough for me though","ts":"1484599343.000979"},{"type":"message","user":"U0P2GSA8Z","text":"I also needed the same in lib\/client_test.go","ts":"1484599366.000980"},{"type":"message","user":"U0S5KF44D","text":"i thought the same change was already there ... checking again","ts":"1484599397.000981"},{"type":"message","user":"U0P2GSA8Z","text":"oh I think you're right","ts":"1484599556.000982"},{"type":"message","user":"U0P2GSA8Z","text":"it was the os.Link stuff that's there too","ts":"1484599569.000983"},{"type":"message","user":"U0S5KF44D","text":"yeh, just trying to be incremental as maintainers want","ts":"1484599626.000984","reactions":[{"name":"+1","users":["U11MANG9G"],"count":1}]},{"type":"message","user":"U0P2GSA8Z","text":"I understand","ts":"1484599640.000985"},{"type":"message","user":"U0P2GSA8Z","text":"the maintainers seem to be having a hard time keeping up though :wink:","ts":"1484599668.000986"},{"type":"message","user":"U0S5KF44D","text":"yes","ts":"1484599688.000987"},{"type":"message","user":"U11MANG9G","text":"Yes, please: highly documented, small, self-contained, heavily tested incremental changes are the way to go.","ts":"1484604842.000990"},{"type":"message","user":"U3CBDC0JG","text":"I just got the latest cop code and trying to run the cop server, but I am getting the following errors:\n\n2017\/01\/16 20:10:46 [INFO] Initializing signer\n2017\/01\/16 20:10:46 [WARNING] couldn't initialize signer: {\"code\":2000,\"message\":\"Unknown private key error\"}\n2017\/01\/16 20:10:46 [WARNING] couldn't initialize ocsp signer: open : no such file or directory","ts":"1484618390.000991"},{"type":"message","user":"U3CBDC0JG","text":"anyone know that the problem is? I am using the default testdata\/cop.json configuration file","ts":"1484618426.000992"},{"type":"message","user":"U3CBDC0JG","text":"thanks.","ts":"1484618431.000993"},{"type":"message","user":"U13TWBRBL","text":"<@U0S5KF44D> i\u2019m trying to run fabric-cop container and find it non-trivial to disable TLS, which I\u2019m sure all app developers would need to do in dev mode: you\u2019d have to 1) make a copy of the config json and add the \u201ctls_disable:true\u201d, 2) map a volume in docker instance to point to the local file. I think it would be a good enhancement if cop allows for the yaml+environment variable scheme that fabric employs, making every config property directly override-able by a corresponding environment variable (I think this came from viper?)","edited":{"user":"U13TWBRBL","ts":"1484625004.000000"},"ts":"1484624978.000994"},{"type":"message","user":"U11CP8FF1","text":"<@U13TWBRBL> Is this related to this error message ? \n``` http: TLS handshake error from 127.0.0.1:47286: tls: oversized record received with length 21536 ```\nI got this error on Docker container fabric-cop with default \u201ccop.json\u201d (mounted as volume to this file). Still, Node SDK does not work well, though.","ts":"1484634845.000996"},{"type":"message","user":"U11CP8FF1","text":"With \u201ctls_disable: true\u201d option, I got \n```[INFO] Received request\nPOST \/api\/v1\/cfssl\/enroll\nAuthorization: Basic YWRtaW46YWRtaW5wdw==\n{\"certificate_request\":\"-----BEGIN CERTIFICATE REQUEST-----\\r\\nMIHMMHICAQAwEDEOMAwGA1UEAwwFYWRtaW4wWTATBgcqhkjOPQIBBggqhkjOPQMB\\r\\nBwNCAAQKvdv1UUwSIPls2Efw1b8yctkch5jqXHCPcw8oa3DLWR5TghB\/6lqcflkh\\r\\nR9vD1SUY5x1rR3ybf\/OwjP9aY1LRoAAwDAYIKoZIzj0EAwIFAANIADBFAiEArbCV\\r\\nnXyxSNmYhHKyU2OLfIcA46OLhlgzvLhrLymNRd4CIHhIA7XaHTaTtnTnp0mRP3JC\\r\\n5I7SBRkHGrl+iUgO+gSg\\r\\n-----END CERTIFICATE REQUEST-----\\r\\n\"}\n2017\/01\/17 15:38:07 http: panic serving 127.0.0.1:47316: runtime error: invalid memory address or nil pointer dereference```","ts":"1484635144.000997"},{"type":"message","user":"U0S5KF44D","text":"<@U3CBDC0JG> You can ignore those warnings pertaining to OCSP.  They come from cfssl and are \"normal\" but agree are confusing.  Pls open a Jira item and assign to me for clean up.","ts":"1484639340.000998"},{"type":"message","user":"U0S5KF44D","text":"<@U13TWBRBL> Pertaining to the CLI, this comes from cfssl but we have a work item for what you mention <https:\/\/jira.hyperledger.org\/browse\/FAB-1170>","ts":"1484639435.000999","reactions":[{"name":"+1","users":["U13TWBRBL"],"count":1}]},{"type":"message","user":"U0S5KF44D","text":"<@U11CP8FF1> There is a change set to fix the \"invalid memory address or nil pointer dereference\" error but it means (I believe) that your signing key for enroll requests was not properly initialized, which probably means it couldn't find your key and cert file.  I'd need to see your COP server log and config file to know for sure.","ts":"1484639676.001000"},{"type":"message","user":"U11CP8FF1","text":"<@U0S5KF44D> I\u2019ll attach the log file (with -loglevel 0)","ts":"1484640214.001001"},{"type":"message","subtype":"file_share","text":"<@U11CP8FF1|ibmamnt> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ibmamnt\/F3T2NAVK8\/cop.log|cop.log>","file":{"id":"F3T2NAVK8","created":1484640231,"timestamp":1484640231,"name":"cop.log","title":"cop.log","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U11CP8FF1","editable":true,"size":11663,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3T2NAVK8\/cop.log?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3T2NAVK8\/download\/cop.log?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ibmamnt\/F3T2NAVK8\/cop.log","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3T2NAVK8-b7fc119d37","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ibmamnt\/F3T2NAVK8\/cop.log\/edit","preview":"2017\/01\/17 17:01:20 [DEBUG] loading configuration file from testdata\/cop-no-tls.json\n2017\/01\/17 17:01:20 [DEBUG] parse expiry in profile\n2017\/01\/17 17:01:20 [DEBUG] expiry is valid\n2017\/01\/17 17:01:20 [DEBUG] validating configuration\n2017\/01\/17 17:01:20 [DEBUG] validate local profile","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>2017\/01\/17 17:01:20 [DEBUG] loading configuration file from testdata\/cop-no-tls.json<\/pre><\/div>\n<div><pre>2017\/01\/17 17:01:20 [DEBUG] parse expiry in profile<\/pre><\/div>\n<div><pre>2017\/01\/17 17:01:20 [DEBUG] expiry is valid<\/pre><\/div>\n<div><pre>2017\/01\/17 17:01:20 [DEBUG] validating configuration<\/pre><\/div>\n<div><pre>2017\/01\/17 17:01:20 [DEBUG] validate local profile<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":147,"lines_more":142,"preview_is_truncated":true,"channels":["C2Y3CPP16"],"groups":[],"ims":[],"comments_count":0},"user":"U11CP8FF1","upload":true,"display_as_bot":false,"username":"<@U11CP8FF1|ibmamnt>","bot_id":null,"ts":"1484640231.001002"},{"type":"message","user":"U11CP8FF1","text":"I reproduced in fabric-sdk-node test instruction.","ts":"1484640266.001003"},{"type":"message","user":"U11CP8FF1","text":"e.g. \"node test\/unit\/end-to-end.js step1\u201d  inside fabric-sdk-node.  I think SDK is pushing invalid data, but it is not good to fail with panic.","ts":"1484640321.001004"},{"type":"message","user":"U11CP8FF1","text":"And there is config file.","ts":"1484640342.001005"},{"type":"message","subtype":"file_share","text":"<@U11CP8FF1|ibmamnt> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ibmamnt\/F3RMK3SQ1\/cop-no-tls.json|cop-no-tls.json>","file":{"id":"F3RMK3SQ1","created":1484640382,"timestamp":1484640382,"name":"cop-no-tls.json","title":"cop-no-tls.json","mimetype":"text\/plain","filetype":"javascript","pretty_type":"JavaScript\/JSON","user":"U11CP8FF1","editable":true,"size":586,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3RMK3SQ1\/cop-no-tls.json?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3RMK3SQ1\/download\/cop-no-tls.json?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ibmamnt\/F3RMK3SQ1\/cop-no-tls.json","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3RMK3SQ1-108071844d","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ibmamnt\/F3RMK3SQ1\/cop-no-tls.json\/edit","preview":"{\n \"tls_disable\": true,\n \"ca_cert\":\"..\/testdata\/ec.pem\",\n \"ca_key\":\"..\/testdata\/ec-key.pem\",\n \"users\": {","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>{<\/pre><\/div>\n<div><pre> <span class=\"cm-string\">&quot;tls_disable&quot;<\/span>: <span class=\"cm-atom\">true<\/span>,<\/pre><\/div>\n<div><pre> <span class=\"cm-string\">&quot;ca_cert&quot;<\/span>:<span class=\"cm-string\">&quot;..\/testdata\/ec.pem&quot;<\/span>,<\/pre><\/div>\n<div><pre> <span class=\"cm-string\">&quot;ca_key&quot;<\/span>:<span class=\"cm-string\">&quot;..\/testdata\/ec-key.pem&quot;<\/span>,<\/pre><\/div>\n<div><pre> <span class=\"cm-string\">&quot;users&quot;<\/span>: {<\/pre><\/div>\n<\/div>\n<\/div>\n","lines":26,"lines_more":21,"preview_is_truncated":false,"channels":["C2Y3CPP16"],"groups":[],"ims":[],"comments_count":0},"user":"U11CP8FF1","upload":true,"display_as_bot":false,"username":"<@U11CP8FF1|ibmamnt>","bot_id":null,"ts":"1484640382.001006"},{"type":"message","user":"U11CP8FF1","text":"BTW, I have like this:","ts":"1484640410.001007"},{"type":"message","user":"U11CP8FF1","text":"```$ bin\/cop server start -config testdata\/cop-no-tls.json -loglevel 0 &gt; cop.log 2&gt;&amp;1 ```","ts":"1484640416.001008"},{"type":"message","user":"U12452RAP","text":"<@U13TWBRBL>: <@U0S5KF44D> exactly, i do a same workaround in Python SDK, I'd like cop support env variable ASAP ","ts":"1484647530.001009","reactions":[{"name":"slightly_smiling_face","users":["U13TWBRBL"],"count":1}]},{"type":"message","user":"U0S5KF44D","text":"@ibmant Regarding the panic, it should be fixed in <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3877\/> which is not yet merged, right <@U1KJY9BJQ>?  If you want, you could pull into your env and verify before it is merged.","ts":"1484654982.001010"},{"type":"message","user":"U3CBDC0JG","text":"<@U0S5KF44D> <https:\/\/jira.hyperledger.org\/browse\/FAB-1691> is opened for the OCSP error msg","ts":"1484661438.001011"},{"type":"message","user":"U0P2GSA8Z","text":"apparently the automatic builds are broken and fail systematically","ts":"1484662620.001012"},{"type":"message","user":"U0S5KF44D","text":"<@U0P2GSA8Z> Yes, the X builds are good but P and Z are failing.  <@U11HH3P7Y> Any ETA on when these will be fixed?","ts":"1484663333.001013"},{"type":"message","user":"U11HH3P7Y","text":"<@U0S5KF44D> I could see cop is working on few z CI nodes.. <@U0YK3KKCY> working on this..","ts":"1484663396.001014"},{"type":"message","user":"U0S5KF44D","text":"PLEASE NOTE:","ts":"1484663471.001015"},{"type":"message","user":"U0S5KF44D","text":"Hi everyone, I know this a bit late, but there have been numerous concerns voiced about the name \"COP\", reasons including:\n* lack of clarity on what it really is\n* negative connotation in some cultures\nSo we are looking to rename the repo, images, and executable to \"fabric-ca\" ...\noh, and also this slack channel :slightly_smiling_face:\nThe current COP is afterall a CA (Certificate Authority).\nComments are welcome.","ts":"1484663474.001016","reactions":[{"name":"+1","users":["U3CBDC0JG","U11CP8FF1"],"count":2}]},{"type":"message","user":"U2W7U5UA3","text":"<@U0S5KF44D> `fabric-ca` makes a lot more sense to me. Easy to say with hind-sight, but I think it should always have been called this.","ts":"1484665395.001017","reactions":[{"name":"+1","users":["U11MANG9G"],"count":1}]},{"type":"message","user":"U0P2GSA8Z","text":"that's what you get for letting <@U0PB67X4K> pick the name :wink:","ts":"1484665682.001018"},{"type":"message","user":"U0P2GSA8Z","text":"I was wondering how long we could go on with such a funky name as cop LOL","ts":"1484665708.001019"},{"type":"message","user":"U0P2GSA8Z","text":"fabric-ca is boring in comparison but is probably a better choice","ts":"1484665761.001020"},{"type":"message","user":"U0P2GSA8Z","text":"I'm fine with it although I don't look forward to the change","ts":"1484665792.001021"},{"type":"message","user":"U0PB67X4K","text":"it's an easy change to make","ts":"1484667195.001022"},{"type":"message","user":"U0PB67X4K","text":":wink:","ts":"1484667206.001023"},{"type":"message","user":"U0S5KF44D","text":"I'm not exactly sure how to stage the change.   I suppose as follows?","ts":"1484671496.001024"},{"type":"message","user":"U0S5KF44D","text":"1) Push a non-working change set which changes all the imports, etc to fabric-ca","ts":"1484671515.001025"},{"type":"message","user":"U0S5KF44D","text":"2) A maintainer with privs changes the name of the repo and merges the change set?","ts":"1484671538.001026"},{"type":"message","user":"U0S5KF44D","text":"No way to test #1 that I know of before pushing","ts":"1484671584.001027"},{"type":"message","user":"U0S5KF44D","text":"git aliasing?","ts":"1484671671.001028"},{"type":"message","user":"U0PB67X4K","text":"we can test #1 locally first of course by just renaming the folder on the file system\n\nI believe that the CI job actually runs `make unit-tests` ?  So we could also add a rule to the target which would rename the folder as well?","ts":"1484672504.001029"},{"type":"message","user":"U11MANG9G","text":"Yes, I think that changing the logic \u201cunderneath\u201d the CI calls will probably be the simplest.","ts":"1484675280.001030"},{"type":"message","user":"U11MANG9G","text":"So can test \u201ceverything\u201d (we can) locally","ts":"1484675296.001031"},{"type":"message","user":"U11MANG9G","text":"A few of us, pick up\/fetch\/clone\/pull that CR branch and try it locally...","ts":"1484675321.001032"},{"type":"message","user":"U11MANG9G","text":"Make changes to \u201cbuild script\u201d\/Makefile","ts":"1484675338.001033"},{"type":"message","user":"U11MANG9G","text":"And at the next step, update that script to do the same \u201cend-to-end\u2019 using the new stuff.","ts":"1484675382.001034"},{"type":"message","user":"U11MANG9G","text":"---","ts":"1484675384.001035"},{"type":"message","user":"U11MANG9G","text":"Two things that can help:\n1. We can start changing the local stuff (e.g., cop.db) regardless of the repo change.","ts":"1484675412.001036"},{"type":"message","user":"U11MANG9G","text":"2. We can declare a \u201ccode\/merge\u201d freeze, from the moment we start \u201cstep 2\u201d onwards.","ts":"1484675438.001037"},{"type":"message","user":"U11MANG9G","text":"(the last step should not take too long, for the maintainers)","ts":"1484675477.001038"},{"type":"message","user":"U0KM61BCP","text":"<@U0S5KF44D> <@U11MANG9G> <@U0PB67X4K> suggest we ask <@U0UHG4VP1> how best to deal with this","ts":"1484677317.001039"},{"type":"message","user":"U0KM61BCP","text":"in the <#C0YMWRX19|ci-pipeline> channel","ts":"1484677327.001040"},{"type":"message","user":"U0KM61BCP","text":"(since he is not here)","ts":"1484677334.001041"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0S5KF44D> so, I know how to reproduce the Internal Server Error I had a couple of days ago","ts":"1484682247.001042"},{"type":"message","user":"U0P2GSA8Z","text":"all it takes is to do a second enrollCLI\/Main","ts":"1484682294.001043"},{"type":"message","user":"U0P2GSA8Z","text":"I added this to client_test.go: \/\/ do it again!\nfunc TestEnrollCLI2(t *testing.T) {\n\n\tc := new(cli.Config)\n\n\targs := []string{\"admin\", \"adminpw\", \"<https:\/\/localhost:8888>\"}\n\n\terr := enrollMain(args, *c)\n\tif err != nil {\n\t\tt.Error(\"Failed to register, err: \", err)\n\t}\n\n}","ts":"1484682328.001044"},{"type":"message","user":"U0P2GSA8Z","text":"after TextEnrollCLI","ts":"1484682340.001045"},{"type":"message","user":"U0P2GSA8Z","text":"and boom!","ts":"1484682345.001046"},{"type":"message","user":"U0P2GSA8Z","text":"2017\/01\/17 19:15:33 [DEBUG] Getting user admin from the database\n2017\/01\/17 19:15:33 [DEBUG] DB: Login user admin with max enrollments of 1 and state of 1\n2017\/01\/17 19:15:33 [DEBUG] Received response\nstatusCode=500 (500 Internal Server Error)\n--- FAIL: TestEnrollCLI2 (0.01s)\n        client_test.go:80: Failed to register, err:  Error response from server was 'The maximum number of enrollments is 1' for request:\n                POST <https:\/\/localhost:8888\/api\/v1\/cfssl\/enroll>\n                Authorization: Basic YWRtaW46YWRtaW5wdw==","ts":"1484682366.001047"},{"type":"message","user":"U0P2GSA8Z","text":"I absolutely don't know what's going on here but I would think an \"Internal Server Error\" is not what we want","ts":"1484682412.001048"},{"type":"message","user":"U0P2GSA8Z","text":"ever","ts":"1484682414.001049"},{"type":"message","user":"U0S5KF44D","text":"<@U0P2GSA8Z> yes, we're aware of this.  Let me find the jira item.","ts":"1484682455.001050"},{"type":"message","user":"U0P2GSA8Z","text":"ah ok","ts":"1484682462.001051"},{"type":"message","user":"U0P2GSA8Z","text":"it's ok, if it's a known problem, that's fine","ts":"1484682504.001052"},{"type":"message","user":"U0S5KF44D","text":"<https:\/\/jira.hyperledger.org\/browse\/FAB-1676>","ts":"1484682628.001053"},{"type":"message","user":"U0P2GSA8Z","text":"ok, thanks","ts":"1484682693.001054"},{"user":"U0PB67X4K","purpose":"Discussions about using and developing the fabric-cop component.  fabric-cop is a runtime component which issues cryptographic material which can be used to participant in a Fabric network","text":"<@U0PB67X4K|garisingh> set the channel purpose: Discussions about using and developing the fabric-cop component.  fabric-cop is a runtime component which issues cryptographic material which can be used to participant in a Fabric network","type":"message","subtype":"channel_purpose","ts":"1484683996.001055"},{"user":"U0PB67X4K","purpose":"Discussions about using and developing the fabric-cop component.  fabric-cop is a runtime component which issues cryptographic material which can be used to participate in a Fabric network.","text":"<@U0PB67X4K|garisingh> set the channel purpose: Discussions about using and developing the fabric-cop component.  fabric-cop is a runtime component which issues cryptographic material which can be used to participate in a Fabric network.","type":"message","subtype":"channel_purpose","ts":"1484684064.001056","reactions":[{"name":"+1","users":["U11MANG9G","U0P2GSA8Z"],"count":2}]},{"type":"message","user":"U0PB67X4K","text":"<@U0P2GSA8Z> ^^^^^","ts":"1484684080.001057"},{"type":"message","user":"U0P2GSA8Z","text":":slightly_smiling_face:","ts":"1484684756.001058"},{"type":"message","user":"U11HH3P7Y","text":"<@U0S5KF44D>: CI is now skipping unsuccessful voting on gerrit for power and z builds. Will enable voting once the issues are fixed on power and z..","ts":"1484686687.001059"},{"type":"message","user":"U11HH3P7Y","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4089\/>","ts":"1484686692.001060"},{"type":"message","user":"U0S5KF44D","text":"thanks","ts":"1484686805.001061"},{"user":"U3M7LEDT4","text":"<@U3M7LEDT4|david87> has joined the channel","type":"message","subtype":"channel_join","ts":"1484700903.001062"},{"type":"message","user":"U11MANG9G","text":"Just catching up on these:","attachments":[{"fallback":"[January 17th, 2017 7:08 AM] arnaud: that's what you get for letting <@U0PB67X4K> pick the name :wink:","ts":"1484665682.001018","author_subname":"arnaud","channel_id":"C2Y3CPP16","channel_name":"fabric-cop","is_msg_unfurl":true,"text":"that's what you get for letting <@U0PB67X4K> pick the name :wink:","author_name":"Arnaud Le Hors","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/arnaud","author_icon":"https:\/\/avatars.slack-edge.com\/2016-06-06\/48536844960_0679d9e9ad0823bd6863_48.jpg","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-cop\/p1484665682001018","is_share":true,"footer":"Posted in #fabric-cop"}],"ts":"1484756751.001065"},{"type":"message","user":"U11MANG9G","text":"So in all fairness, it wasn\u2019t Gari\u2019s name suggestion.","ts":"1484756771.001066"},{"type":"message","user":"U11MANG9G","text":"We were talking back in the good ol\u2019 `membersrvc` days about fabric-ca. There was a big issue on github where we talked about people misspelling the `membersrvcs`, or `memservices`, or `membersrvc`, etc...","ts":"1484756868.001067"},{"type":"message","user":"U11MANG9G","text":"The vote was between `fabric-ms` and `fabric-ca`, which is where we left it.","ts":"1484756892.001068"},{"type":"message","user":"U11MANG9G","text":"---","ts":"1484757099.001069"},{"type":"message","user":"U11MANG9G","text":"But I was too, wondering, for how long we\u2019d have all these cops (instances ;-)) around us.","ts":"1484757133.001070"},{"type":"message","user":"U0PB67X4K","text":"As an aside, we could only be so lucky that naming of all this stuff is our biggest issue (not just COP)  :wink:","ts":"1484761358.001071"},{"type":"message","user":"U11MANG9G","text":"Wait, then shall we go for `fabric-ms` ?!","ts":"1484761739.001072"},{"type":"message","user":"U11MANG9G","text":"[joking]","ts":"1484761744.001073"},{"type":"message","user":"U0YK3KKCY","text":"Hopefully Computer Associates won't complain. :slightly_smiling_face:","ts":"1484761919.001074"},{"type":"message","user":"U11MANG9G","text":"<@U0YK3KKCY>: as someone once said here: *we could only be so lucky\u2026* :wink:","ts":"1484762060.001075","reactions":[{"name":"+1","users":["U0YK3KKCY"],"count":1}]},{"type":"message","user":"U0PB67X4K","text":"ca is quite commonly used for certificate authorities so we should be OK there (... we could only be so lucky)","ts":"1484762208.001076"},{"type":"message","user":"U11MANG9G","text":"Yes, I agree (and agreed to this back in the summer). It\u2019s not as if we are going for fabic____ca_technologies_inc","ts":"1484762371.001077","reactions":[{"name":"+1","users":["U0YK3KKCY"],"count":1}]},{"type":"message","user":"U11MANG9G","text":"Alright, back to work. So we need to work out a plan. I actually started yesterday.","ts":"1484762397.001078"},{"type":"message","user":"U11MANG9G","text":"I know that keith has been looking at these (the unit-tests, etc.) since morning.","ts":"1484762416.001079"},{"type":"message","user":"U11MANG9G","text":"We should plan a short \u201cmerge freeze\u201d but since it\u2019s only the fabric-cop repo that\u2019s affected, it should not be impossible.","ts":"1484762456.001080"},{"type":"message","user":"U0PB67X4K","text":"I've written about 10 lines of code since 9AM","ts":"1484762712.001081"},{"type":"message","user":"U0PB67X4K","text":"ugh","ts":"1484762717.001082"},{"type":"message","user":"U0S5KF44D","text":"I've pushed <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4129\/> for the rename ... but after having to rebase, there is other cop name residue ... so a freeze would be good","ts":"1484763532.001083"},{"type":"message","user":"U0S5KF44D","text":"trying to resolve the conflict now","ts":"1484763545.001084"},{"user":"U0UHG4VP1","text":"<@U0UHG4VP1|ry> has joined the channel","type":"message","subtype":"channel_join","ts":"1484763878.001085"},{"type":"message","user":"U0UHG4VP1","text":"Is it fatal if the fabric-cop repo, and the mirror on github, no longer exist under those names? do any other HYP projects rely on those exact paths existing?","edited":{"user":"U0UHG4VP1","ts":"1484764260.000000"},"ts":"1484764228.001086"},{"user":"U10LM0FFZ","text":"<@U10LM0FFZ|nickgaski> has joined the channel","type":"message","subtype":"channel_join","ts":"1484764332.001088"},{"type":"message","user":"U0PB67X4K","text":"none that we know of  :wink:","ts":"1484764339.001089"},{"type":"message","user":"U11MANG9G","text":"<@U0UHG4VP1>, nope, that\u2019s not a requirement (to be backward compatible\/supporting repos that try cloning the code from the new \u201cold\u201d fabric-cop repo)","edited":{"user":"U11MANG9G","ts":"1484764512.000000"},"ts":"1484764358.001090"},{"type":"message","user":"U11MANG9G","text":"We have just started with the \u201cdocker\u2019 work\u2026 so that\u2019s fine to change it.","ts":"1484764379.001091"},{"type":"message","user":"U0UHG4VP1","text":"OK. I have asked what paths forward are open to me.","ts":"1484764459.001092","reactions":[{"name":"+1","users":["U11MANG9G"],"count":1}]},{"type":"message","user":"U0PB67X4K","text":"the one that causes us the least pain (hopefully you the least as well)","ts":"1484764498.001093","reactions":[{"name":"+1","users":["U0KM61BCP"],"count":1}]},{"user":"U3U0MV3PZ","text":"<@U3U0MV3PZ|kzhang> has joined the channel","type":"message","subtype":"channel_join","ts":"1484768528.001095"},{"type":"message","user":"U0KM61BCP","text":"KISS","ts":"1484771164.001096"},{"type":"message","user":"U0UHG4VP1","text":"Could I do this work tonight, when most people are asleep? there will be a short outage for gerrit, about 10 minutes","ts":"1484771470.001097","reactions":[{"name":"+1","users":["U0PB67X4K"],"count":1},{"name":"zzz","users":["U0PB67X4K"],"count":1}]},{"type":"message","user":"U0KM61BCP","text":"sounds reasonable... are you going to test beforehand?","ts":"1484771788.001101"},{"type":"message","user":"U0UHG4VP1","text":"yes, I'll import some other repo","ts":"1484771813.001102"},{"type":"message","user":"U0KM61BCP","text":"cool","ts":"1484771819.001103"},{"type":"message","user":"U0KM61BCP","text":"with open CRs?","ts":"1484771828.001104"},{"type":"message","user":"U0UHG4VP1","text":"sure, I will make one up.","ts":"1484771866.001105"},{"type":"message","user":"U0UHG4VP1","text":"I'm almost certain this is import-&gt;delete","ts":"1484771876.001106"},{"type":"message","user":"U0S5KF44D","text":"<@U0UHG4VP1> Does this mean any work for <@U11HH3P7Y> with CI.   He was going to test <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4129\/> in a sandbox soon I believe","ts":"1484771930.001107"},{"type":"message","user":"U0UHG4VP1","text":"there will be a little bit post-transition","ts":"1484771997.001108"},{"type":"message","user":"U0UHG4VP1","text":"one thing that won't be great is if we do the easy thing and rename the jobs in Jenkins, we'll lose all of the build history (links from gerrit to results will break), so it will be better to copy the jobs to the new names, then delete them in a week or two","ts":"1484772071.001109"},{"type":"message","user":"U0PB67X4K","text":"<@U0S5KF44D> <@U11MANG9G>  -   <https:\/\/github.com\/hyperledger\/fabric-cop\/blob\/master\/util\/util.go#L211>   - do either of you have an issue with changing this to sha256?   Main reason is partial laziness on my part since the NodeSDK does not implement sha384 at this point.  I also think it's easier to find sha256 libraries for other languages as well","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric-cop","title_link":"https:\/\/github.com\/hyperledger\/fabric-cop\/blob\/master\/util\/util.go#L211","text":"This is a read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric-cop> no pull requests accepted","fallback":"GitHub: hyperledger\/fabric-cop","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric-cop\/blob\/master\/util\/util.go#L211","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1484772619.001110"},{"type":"message","user":"U0S5KF44D","text":"Fine by me.","ts":"1484773019.001112"},{"type":"message","user":"U0PB67X4K","text":"many thanks <@U0S5KF44D>  - you just saved me from what was sure to be a series of cut, paste, modify errors  :wink:","ts":"1484773789.001113","reactions":[{"name":"grinning","users":["U0KM61BCP"],"count":1}]},{"type":"message","user":"U221LL03Z","text":"<@U0PB67X4K> : we might refactor that code to respond to hash algo that is being used at the client side.","ts":"1484774183.001114"},{"type":"message","user":"U221LL03Z","text":"so based on hashalgo , that is being used in client side , corresponding hash algo will be used on server side.","ts":"1484774239.001115"},{"type":"message","user":"U221LL03Z","text":"that can be done without BCCSP to start with , which can later be moved to BCCSP.","ts":"1484774280.001116"},{"type":"message","user":"U0PB67X4K","text":"it should have nothing to do with the \"client\" side.  sure  - it could be a COP config setting if we wanted","ts":"1484774475.001117"},{"type":"message","user":"U0PB67X4K","text":"but should not be determined by the client","ts":"1484774490.001118"},{"type":"message","user":"U221LL03Z","text":"I agree, it is more of server capability than client.","ts":"1484774984.001119"},{"type":"message","user":"U0S5KF44D","text":"The server could support multiple client algorithms, right?  Not that we would have to, but it could have a configuration setting with currently enabled algorithms ... or just KISS and do as membersrvc did and have a single configured algorithm at a time","ts":"1484776461.001120"},{"type":"message","user":"U0S5KF44D","text":"cfssl has the multiple signing profiles and the client specifies which profile to use ... just thinking that the algorithm could depend on that","ts":"1484776565.001121"},{"type":"message","user":"U0PB67X4K","text":"hmm - so you the server would assume that the algorithm used to \"sign\" the auth token is the same as the one they are requesting to sign their cert?","ts":"1484776616.001122"},{"type":"message","user":"U0PB67X4K","text":"interesting - might be confusing for people though","ts":"1484776640.001123"},{"type":"message","user":"U0PB67X4K","text":"I think you make it configurable but use a fixed setting","ts":"1484776658.001124"},{"type":"message","user":"U0PB67X4K","text":"that's the easiest way to avoid answering a million questions on why someone can't register or reenroll  :wink:","ts":"1484776686.001125"},{"type":"message","user":"U0S5KF44D","text":"ok ... so how about using bccsp from the beginning to check auth header, and bccsp is configured as done in <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3735\/> ... where this configured bccsp instance is used for both auth header checking as well as for tcert key derivation","ts":"1484776833.001126"},{"type":"message","user":"U0S5KF44D","text":"that was the original intent, is to have a single configuration stanza in the server's config as follows for this:","ts":"1484776905.001127"},{"type":"message","user":"U0UHG4VP1","text":"<@U0KM61BCP> <@U0S5KF44D> <@U11MANG9G> please take a look at <https:\/\/gerrit.hyperledger.org\/r\/#\/q\/project:lf-sandbox-2> . it is a copy of lf-sandbox. if you use a vgrep with <https:\/\/gerrit.hyperledger.org\/r\/#\/q\/project:lf-sandbox> you'll see the differences","ts":"1484776921.001128"},{"type":"message","user":"U0PB67X4K","text":"I think that would work <@U0S5KF44D>","edited":{"user":"U0PB67X4K","ts":"1484777012.000000"},"ts":"1484776980.001129"},{"type":"message","user":"U0UHG4VP1","text":"I'm going to go get lunch, and if nobody objects I can move the timeline up to this evening instead of tonight.","ts":"1484777043.001131"},{"type":"message","user":"U0PB67X4K","text":"I object  on principle","edited":{"user":"U0PB67X4K","ts":"1484777069.000000"},"ts":"1484777061.001132"},{"type":"message","user":"U0PB67X4K","text":"hehe","ts":"1484777078.001134"},{"type":"message","user":"U0PB67X4K","text":"fine by me","ts":"1484777084.001135"},{"type":"message","user":"U0S5KF44D","text":"<@U0UHG4VP1> sounds good to me","ts":"1484777130.001136"},{"type":"message","user":"U0UHG4VP1","text":"issues to be resolved: 1) do we delete the old project or mark it read only? 2) do we delete the github mirror or move it to the hyperledger-archive project or leave it? 3) what is the timeline for 1 - the question here is \"how long do links from jenkins need to live on\"?","ts":"1484777192.001137"},{"type":"message","user":"U0PB67X4K","text":"is the only reason to keep it to look at historical build jobs?","ts":"1484777240.001138"},{"type":"message","user":"U0UHG4VP1","text":"and if anyone depends on those exact paths existing","ts":"1484777256.001139"},{"type":"message","user":"U0PB67X4K","text":"I can't think of anyone who does at this point","edited":{"user":"U0PB67X4K","ts":"1484777285.000000"},"ts":"1484777276.001140"},{"type":"message","user":"U0PB67X4K","text":"I say delete it","ts":"1484777293.001142"},{"type":"message","user":"U0UHG4VP1","text":"or, I suppose, if there are any email threads pointing to changes","ts":"1484777294.001143"},{"type":"message","user":"U0PB67X4K","text":"we are the only people who work \/ review COP","ts":"1484777312.001144"},{"type":"message","user":"U0PB67X4K","text":"<@U0S5KF44D> ?","ts":"1484777322.001145"},{"type":"message","user":"U0S5KF44D","text":"I'd suggest that we leave it for a week and delete if it doesn't hurt anything to leave it","ts":"1484777326.001146"},{"type":"message","user":"U0UHG4VP1","text":"s\/ COP\/project formerly known as&amp;\/","ts":"1484777348.001147"},{"type":"message","user":"U0UHG4VP1","text":"it doesn't hurt anything. On other projects we leave them as read only artifacts for years","ts":"1484777378.001148"},{"type":"message","user":"U0UHG4VP1","text":"for instance: look at all of the read-only projects here: <https:\/\/git.allseenalliance.org\/gerrit\/#\/admin\/projects\/>","ts":"1484777419.001149"},{"type":"message","user":"U0UHG4VP1","text":"in _this case_, though, I'm a little worried about confusion going forward.","ts":"1484777440.001150"},{"type":"message","user":"U0UHG4VP1","text":"for active developers, you'll be able to add a new remote, delete the old one, and your repos live on (if you like)","ts":"1484777498.001151"},{"type":"message","user":"U0UHG4VP1","text":"in those cases for ASA, the code was subsumed by another project so the pre-merge code had value","ts":"1484777532.001152"},{"type":"message","user":"U0S5KF44D","text":"yeh, that would be the case for deleting so there is no confusion ... as Gari said, only a few folks reviewing it, so should be safe to delete after a fixed amount of time.  We could be really generous and say 2 weeks and then delete IMO","ts":"1484777553.001153"},{"type":"message","user":"U0UHG4VP1","text":"I'll let you all tell me what you decide.","ts":"1484777579.001154"},{"type":"message","user":"U0UHG4VP1","text":"I don't want to change assumptions made by people on the east coast","ts":"1484777669.001155"},{"type":"message","user":"U0PB67X4K","text":"smart man","ts":"1484777919.001156"},{"type":"message","user":"U0PB67X4K","text":"it's up to <@U0S5KF44D>","ts":"1484777927.001157"},{"type":"message","user":"U0UHG4VP1","text":"well <@U0KM61BCP> and <@U11MANG9G> have also thrown in chips so I'll wait for them","ts":"1484780289.001158"},{"user":"U0MS3TK2A","text":"<@U0MS3TK2A|nao> has joined the channel","type":"message","subtype":"channel_join","ts":"1484780368.001159"},{"type":"message","user":"U0KM61BCP","text":"Agree with <@U0S5KF44D> keep for week then delete","ts":"1484780644.001160","reactions":[{"name":"+1","users":["U11MANG9G"],"count":1}]},{"type":"message","user":"U0S5KF44D","text":"Hi, one of the areas we're trying to improve is usability\/config.   Please see <https:\/\/jira.hyperledger.org\/browse\/FAB-1720> and comment as we'd like to start on this soon","ts":"1484781420.001161"},{"user":"U0ZJZBJLF","text":"<@U0ZJZBJLF|yacovm> has joined the channel","type":"message","subtype":"channel_join","ts":"1484782955.001162"},{"type":"message","user":"U0YJUECE8","text":"You could do worse, Ry.....in fact I think this is why Bill Buckley once said \"I'd rather be governed by the first 2000 people in the Boston telephone directory than by the 2000 people on the faculty of Harvard University\".   \n\nBut first let's let Gari changed his name to Gari Aaaasingh.\n\nI vote for #fabric-redsox for the new name.      :wink:\n\n<https:\/\/www.youtube.com\/watch?v=2nf_bu-kBr4>","attachments":[{"fallback":"[January 18th, 2017 5:14 PM] ry: I don't want to change assumptions made by people on the east coast","ts":"1484777669.001155","author_subname":"ry","channel_id":"C2Y3CPP16","channel_name":"fabric-cop","is_msg_unfurl":true,"text":"I don't want to change assumptions made by people on the east coast","author_name":"Ry Jones","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/ry","author_icon":"https:\/\/avatars.slack-edge.com\/2016-12-03\/112352565781_af8a455dfc891821119c_48.jpg","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-cop\/p1484777669001155","is_share":true,"footer":"Posted in #fabric-cop"}],"ts":"1484784094.001163","reactions":[{"name":"+1","users":["U0UHG4VP1"],"count":1}]},{"type":"message","user":"U0UHG4VP1","text":"at least I haven't accidentally steamrolled anything here. yet. :slightly_smiling_face:","ts":"1484784145.001164"},{"type":"message","user":"U0S5KF44D","text":"fyi, <@U11HH3P7Y> updated comment in <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4129\/2> saying it worked in his sandbox.   This is the rename change set","ts":"1484787919.001165"},{"type":"message","user":"U0UHG4VP1","text":"<@U0S5KF44D>: if we rename, all build history for the previous names will be deleted. Is that ok?","ts":"1484788116.001166"},{"type":"message","user":"U0S5KF44D","text":"yes","ts":"1484788409.001167"},{"type":"message","user":"U1TA5FDU7","text":"Got this error, Can anyone help?\nServer  `$ .\/cop server start -config testdata\/testconfig.json` \n```\n2017\/01\/18 19:57:34 [INFO] Now listening with mutual TLS on <https:\/\/127.0.0.1:8888>\n2017\/01\/18 19:57:38 http: TLS handshake error from 127.0.0.1:41772: tls: oversized record received with length 21536\n```\nClient `$ .\/cop client enroll admin admin <http:\/\/localhost:8888>`\n```\n2017\/01\/18 19:57:21 [INFO] received CSR\n2017\/01\/18 19:57:21 [INFO] generating key: ecdsa-256\n2017\/01\/18 19:57:21 [INFO] encoded CSR\nPOST failure [Post <http:\/\/localhost:8888\/api\/v1\/cfssl\/enroll>: malformed HTTP response \"\\x15\\x03\\x01\\x00\\x02\\x02\\x16\"]; not sending\nPOST <http:\/\/localhost:8888\/api\/v1\/cfssl\/enroll>\nAuthorization: Basic YWRtaW46YWRtaW5wdw==\n{\"hosts\":null,\"certificate_request\":\"-----BEGIN CERTIFICATE REQUEST-----\\nMIHuMIGWAgEAMBAxDjAMBgNVBAMTBWFkbWluMFkwEwYHKoZIzj0CAQYIKoZIzj0D\\nAQcDQgAENGbnwr4JKf6xTCC\/6XL0iRhQtP8PbefgRtd2r2bVnx9KBA\/iSpCwzyr9\\napMPLPSa8bb2s5O\/xB2FF0iX6ZjDv6AkMCIGCSqGSIb3DQEJDjEVMBMwEQYDVR0R\\nBAowCIIGdWJ1bnR1MAoGCCqGSM49BAMCA0cAMEQCIC5Kpw4hVxNoIzP+3+MZVEIC\\nnhdDR\/2HOPyFtJ9X\/FdCAiBjrc0MmUr6K+kdes9gn+IvYMyPafKf8G9sVbjILg8l\\nWA==\\n-----END CERTIFICATE REQUEST-----\\n\",\"profile\":\"\",\"crl_override\":\"\",\"label\":\"\"}\n```","ts":"1484798709.001168"},{"type":"message","user":"U1TA5FDU7","text":"when client enrolls, the server print \"tls : oversized record ..... 21536\"","ts":"1484798791.001169"},{"type":"message","user":"U11CP8FF1","text":"I have disabled tls for now:\n``` \u201ctls_disable\u201d:true,\n```","ts":"1484800084.001170"},{"type":"message","user":"U11CP8FF1","text":"Hi, The package does not exist.","ts":"1484800469.001171"},{"type":"message","user":"U11CP8FF1","text":"cop.go\n```  import (\n  \"<http:\/\/github.com\/hyperledger\/fabric-cop\/cli\/client|github.com\/hyperledger\/fabric-cop\/cli\/client>\"\n  \u201c<http:\/\/github.com\/hyperledger\/fabric-cop\/cli\/server|github.com\/hyperledger\/fabric-cop\/cli\/server>\u201d\n```","edited":{"user":"U11CP8FF1","ts":"1484800504.000000"},"ts":"1484800489.001172"},{"type":"message","user":"U1TA5FDU7","text":"Here, I got another error. ~~(&gt;_&lt;)~~ \n```\n2017\/01\/18 20:46:26 http: panic serving 127.0.0.1:41788: runtime error: invalid memory address or nil pointer dereference\n```","ts":"1484801347.001174"},{"type":"message","user":"U1TA5FDU7","text":"It's a server' output","ts":"1484801367.001175"},{"type":"message","user":"U1TA5FDU7","text":"```\n2017\/01\/18 20:45:59 [INFO] Now listening on 127.0.0.1:8888\n2017\/01\/18 20:46:26 [INFO] Received request\nPOST \/api\/v1\/cfssl\/enroll\nAuthorization: Basic YWRtaW46YWRtaW5wdw==\n{\"hosts\":null,\"certificate_request\":\"-----BEGIN CERTIFICATE REQUEST-----\\nMIHuMIGWAgEAMBAxDjAMBgNVBAMTBWFkbWluMFkwEwYHKoZIzj0CAQYIKoZIzj0D\\nAQcDQgAEXbTGi8UaxdL\/UT3J8au18wYQgp8T7sDpXvHocp0ze11UqHdcvpLHkE8Z\\nqiC2NOfbXKnZQ4hcsgHeRPK6MTt9p6AkMCIGCSqGSIb3DQEJDjEVMBMwEQYDVR0R\\nBAowCIIGdWJ1bnR1MAoGCCqGSM49BAMCA0cAMEQCIFgBWNZsGmOzk\/3OVf74eg9G\\nvubMY1KKzFHQPmd2PU0OAiAQ13NJI3Zh85nMhqYd2PThz2v21W6XjbBwgpotjNhQ\\nVA==\\n-----END CERTIFICATE REQUEST-----\\n\",\"profile\":\"\",\"crl_override\":\"\",\"label\":\"\"}\n2017\/01\/18 20:46:26 http: panic serving 127.0.0.1:41788: runtime error: invalid memory address or nil pointer dereference\ngoroutine 20 [running]:\nnet\/http.(*conn).serve.func1(0xc82007d580)\n        \/usr\/lib\/go-1.6\/src\/net\/http\/server.go:1389 +0xc1\npanic(0xc8d680, 0xc8200100d0)\n        \/usr\/lib\/go-1.6\/src\/runtime\/panic.go:443 +0x4e9\n<http:\/\/github.com\/hyperledger\/fabric-cop\/cli\/server.(*signHandler).Handle|github.com\/hyperledger\/fabric-cop\/cli\/server.(*signHandler).Handle>(0xc8200d2380, 0x7f319426cea8, 0xc8204b4000, 0xc8200e0460, 0x0, 0x0)\n        \/opt\/gopath\/src\/github.com\/hyperledger\/fabric-cop\/cli\/server\/enroll.go:76 +0x2e6\n<http:\/\/github.com\/hyperledger\/fabric-cop\/vendor\/github.com\/cloudflare\/cfssl\/api.HTTPHandler.ServeHTTP(0x7f3194225c70|github.com\/hyperledger\/fabric-cop\/vendor\/github.com\/cloudflare\/cfssl\/api.HTTPHandler.ServeHTTP(0x7f3194225c70>, 0xc8200d2380, 0xc8200d2390, 0x1, 0x1, 0x7f319426cea8, 0xc8204b4000, 0xc8200e0460)\n        \/opt\/gopath\/src\/github.com\/hyperledger\/fabric-cop\/vendor\/github.com\/cloudflare\/cfssl\/api\/api.go:85 +0x179\n<http:\/\/github.com\/hyperledger\/fabric-cop\/vendor\/github.com\/cloudflare\/cfssl\/api.(*HTTPHandler).ServeHTTP(0xc820303500|github.com\/hyperledger\/fabric-cop\/vendor\/github.com\/cloudflare\/cfssl\/api.(*HTTPHandler).ServeHTTP(0xc820303500>, 0x7f319426cea8, 0xc8204b4000, 0xc8200e0460)\n        &lt;autogenerated&gt;:4 +0xb6\n<http:\/\/github.com\/hyperledger\/fabric-cop\/cli\/server.(*copAuthHandler).ServeHTTP|github.com\/hyperledger\/fabric-cop\/cli\/server.(*copAuthHandler).ServeHTTP>(0xc8200d1f00, 0x7f319426cea8, 0xc8204b4000, 0xc8200e0460)\n        \/opt\/gopath\/src\/github.com\/hyperledger\/fabric-cop\/cli\/server\/auth.go:82 +0xbf\nnet\/http.(*ServeMux).ServeHTTP(0xc820012bd0, 0x7f319426cea8, 0xc8204b4000, 0xc8200e0460)\n        \/usr\/lib\/go-1.6\/src\/net\/http\/server.go:1910 +0x17d\nnet\/http.serverHandler.ServeHTTP(0xc82007d500, 0x7f319426cea8, 0xc8204b4000, 0xc8200e0460)\n        \/usr\/lib\/go-1.6\/src\/net\/http\/server.go:2081 +0x19e\nnet\/http.(*conn).serve(0xc82007d580)\n        \/usr\/lib\/go-1.6\/src\/net\/http\/server.go:1472 +0xf2e\ncreated by net\/http.(*Server).Serve\n        \/usr\/lib\/go-1.6\/src\/net\/http\/server.go:2137 +0x44e\n```","ts":"1484801410.001176"},{"type":"message","user":"U11CP8FF1","text":"I got this error the other day, and development have fixed the problem.\n<https:\/\/hyperledgerproject.slack.com\/archives\/fabric-cop\/p1484654982001010>","attachments":[{"from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-cop\/p1484654982001010","fallback":"[January 17th, 2017 4:09 AM] keithsmith: @ibmant Regarding the panic, it should be fixed in <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3877\/> which is not yet merged, right <@U1KJY9BJQ>?  If you want, you could pull into your env and verify before it is merged.","ts":"1484654982.001010","author_subname":"keithsmith","channel_id":"C2Y3CPP16","channel_name":"fabric-cop","is_msg_unfurl":true,"text":"@ibmant Regarding the panic, it should be fixed in <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3877\/> which is not yet merged, right <@U1KJY9BJQ>?  If you want, you could pull into your env and verify before it is merged.","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/keithsmith","author_icon":"https:\/\/secure.gravatar.com\/avatar\/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-48.png","mrkdwn_in":["text"],"id":1,"footer":"Posted in #fabric-cop"}],"ts":"1484802019.001177"},{"type":"message","user":"U1TA5FDU7","text":"~~(&gt;_&lt;)~~ Another problem follows, it comes from client\n```\nError response from server was 'The maximum number of enrollments is 1' for request:\nPOST <http:\/\/localhost:8888\/api\/v1\/cfssl\/enroll>\n```\nI test with\n```\n\"max_enrollments\": 10\n\u201cmax_enrollments\": 0\n```\nbut not solve it.","ts":"1484802673.001179"},{"type":"message","user":"U1TA5FDU7","text":"Thx for your help, (*^__^*) \u2026\u2026","ts":"1484802792.001180"},{"type":"message","user":"U11CP8FF1","text":"Delete that line (though I have set to something like 1000).","ts":"1484802854.001181"},{"type":"message","user":"U1TA5FDU7","text":"it seems not to work. But you have helped me a lot, thank you again.","ts":"1484803508.001182"},{"type":"message","user":"U0P2GSA8Z","text":"<@U11MANG9G> why did you abandon my changes for vagrant and windows?","ts":"1484829718.001183"},{"type":"message","user":"U11MANG9G","text":"Good morning!","ts":"1484829810.001184"},{"type":"message","user":"U11MANG9G","text":"We have a clone of all the work and the CRs of everybody in `fabric-ca`","ts":"1484829833.001185"},{"type":"message","user":"U0PB67X4K","text":"<@U0P2GSA8Z> - because they were terrible  :wink:","ts":"1484829837.001186"},{"type":"message","user":"U0P2GSA8Z","text":"lol","ts":"1484829851.001187"},{"type":"message","user":"U11MANG9G","text":"Oh, that specific CR - yeah. Was it the first?","edited":{"user":"U11MANG9G","ts":"1484829877.000000"},"ts":"1484829862.001188"},{"user":"U0PB67X4K","old_name":"fabric-cop","name":"fabric-ca","text":"<@U0PB67X4K|garisingh> has renamed the channel from \"fabric-cop\" to \"fabric-ca\"","type":"message","subtype":"channel_name","ts":"1484829868.001189"},{"type":"message","user":"U0P2GSA8Z","text":"I was on a plane yesterday and lost track of what was going on","ts":"1484829898.001191"},{"user":"U0PB67X4K","purpose":"Discussions about using and developing the fabric-ca component.  fabric-ca is a runtime component which issues cryptographic material which can be used to participate in a Fabric network.","text":"<@U0PB67X4K|garisingh> set the channel purpose: Discussions about using and developing the fabric-ca component.  fabric-ca is a runtime component which issues cryptographic material which can be used to participate in a Fabric network.","type":"message","subtype":"channel_purpose","ts":"1484829931.001192"},{"type":"message","user":"U11MANG9G","text":"So the latest latest is that this *channel is for discussions about using and developing the fabric-ca component.  fabric-ca is a runtime component which issues cryptographic material which can be used to participate in a Fabric network.*   :wink: More seriously, once the ci works, we\u2019ll announce...","edited":{"user":"U11MANG9G","ts":"1484830080.000000"},"ts":"1484829976.001193"},{"user":"U3PBR406M","text":"<@U3PBR406M|bur> has joined the channel","type":"message","subtype":"channel_join","ts":"1484830690.001197"},{"user":"U38DC9CCF","text":"<@U38DC9CCF|yedendra> has joined the channel","type":"message","subtype":"channel_join","ts":"1484830703.001198"},{"type":"message","user":"U12452RAP","text":":upside_down_face:","ts":"1484830723.001199"},{"type":"message","user":"U0P2GSA8Z","text":"have you guys switched over to the new repo fabric-ca yet?","ts":"1484830846.001200"},{"type":"message","user":"U0P2GSA8Z","text":"I thought we'd be able to rename the repo rather than create a new one","ts":"1484830912.001201"},{"type":"message","user":"U11MANG9G","text":"So we have that renamed + we also wanted the ability to keep a read-only copy under the \u201cprevious\u201d name (for another week, just in case)","edited":{"user":"U11MANG9G","ts":"1484831241.000000"},"ts":"1484830969.001202"},{"type":"message","user":"U11MANG9G","text":"So `fabric-cop` is now read-only, and `fabric-ca` is \u201cwritable\u201d. We are just testing.","edited":{"user":"U11MANG9G","ts":"1484831278.000000"},"ts":"1484831017.001203"},{"type":"message","user":"U0P2GSA8Z","text":"ah ok","ts":"1484831038.001204"},{"type":"message","user":"U0P2GSA8Z","text":"you guys decided to call the binary fabric-ca?","ts":"1484832090.001207"},{"type":"message","user":"U0P2GSA8Z","text":"I thought it'd be ca or maybe fca","ts":"1484832103.001208"},{"type":"message","user":"U0P2GSA8Z","text":"no biggie but cop was shorter to type","ts":"1484832119.001209"},{"type":"message","user":"U0KM61BCP","text":"I prefer fabric-ca","ts":"1484832896.001210","reactions":[{"name":"+1::skin-tone-3","users":["U1CS08EP3"],"count":1}]},{"type":"message","user":"U0Z41KY5V","text":"i prefer ca than cop. ca sounds more explicit.","ts":"1484835212.001211","reactions":[{"name":"+1::skin-tone-3","users":["U1CS08EP3"],"count":1}]},{"type":"message","user":"U0P2GSA8Z","text":"yes, I agee with that","ts":"1484835964.001212"},{"type":"message","user":"U0P2GSA8Z","text":"it will just take a bit of time to retrain our fingers","ts":"1484835984.001213"},{"user":"U3TKE8X3M","text":"<@U3TKE8X3M|bjorn> has joined the channel","type":"message","subtype":"channel_join","ts":"1484836995.001214"},{"type":"message","user":"U0Z41KY5V","text":"right, and we have to keep the `fabric-` prefix, to indicate that\u2019s for the fabric project, not the others. when some day we make it a general ca, then can just remove the prefix from its name.","ts":"1484837212.001215"},{"user":"U3U415W6T","text":"<@U3U415W6T|jorgedr> has joined the channel","type":"message","subtype":"channel_join","ts":"1484837620.001216"},{"user":"U3TNHH1NW","text":"<@U3TNHH1NW|dknochen> has joined the channel","type":"message","subtype":"channel_join","ts":"1484840722.001217"},{"type":"message","user":"U0UHG4VP1","text":"<@U0P2GSA8Z> all of your in-flight changes should exist on fabric-ca, and you _should_ be able to `git remote add ...` the new repo so you don't need to re-clone","ts":"1484847124.001218"},{"type":"message","user":"U0KM61BCP","text":"<@U0UHG4VP1> ah, good point","ts":"1484847492.001219"},{"type":"message","user":"U13TWBRBL","text":"<@U0S5KF44D> am seeing this error during enroll() with the latest fabric-ca server:\n```\n{\"code\":0,\"message\":\"missing destination name serial_number in *server.UserRecord\u201d}\n```","edited":{"user":"U13TWBRBL","ts":"1484853627.000000"},"ts":"1484853618.001220"},{"type":"message","user":"U11MANG9G","text":"<@U13TWBRBL>: I\u2019m looking.","ts":"1484854469.001222"},{"type":"message","user":"U0S5KF44D","text":"<@U11MANG9G> let me know if you want help","ts":"1484855587.001223"},{"type":"message","user":"U11MANG9G","text":"<@U13TWBRBL>: thanks for the update (that it\u2019s working)","ts":"1484856292.001224"},{"type":"message","user":"U11MANG9G","text":"<@U0S5KF44D> thanks, will do.","ts":"1484856340.001225"},{"type":"message","user":"U11MANG9G","text":"Will take you up on it pretty soon actually: I am planning to push some code changes and would love a few of you to try it out.","ts":"1484856360.001226"},{"type":"message","user":"U13TWBRBL","text":"<@U11MANG9G> thanks for jumping on that issue, turns out to be a user error (my fault), thanks <@U0S5KF44D> for pinpointing the cause","ts":"1484857004.001228"},{"type":"message","user":"U11MANG9G","text":"A quick one, what do we want the new version of the COP_HOME env variable to be?","edited":{"user":"U11MANG9G","ts":"1484858399.000000"},"ts":"1484858209.001230"},{"type":"message","user":"U11MANG9G","text":"(It used to be `$HOME\/.cop`)","ts":"1484858228.001231"},{"type":"message","user":"U11MANG9G","text":"Do we want `$HOME\/.ca` or `$HOME\/.fabric-ca` ?","ts":"1484858248.001232"},{"type":"message","user":"U11MANG9G","text":"Alphabetically: <@U0P2GSA8Z>, <@U0KM61BCP>, <@U0PB67X4K>, <@U13TWBRBL>, <@U0S5KF44D> ^^^","ts":"1484858298.001233"},{"type":"message","user":"U11MANG9G","text":"I do believe we need `FABRIC_CA_HOME` rather than `CA_HOME` (so it\u2019s not a simple COP -&gt; CA substitution)","ts":"1484858365.001234","reactions":[{"name":"+1","users":["U0KM61BCP","U1CS08EP3"],"count":2}]},{"type":"message","user":"U0P2GSA8Z","text":"I think at this point we should be consistent and use fabric-ca for everything","ts":"1484858410.001236"},{"type":"message","user":"U11MANG9G","text":"<@U0P2GSA8Z>: I agree, also as the binary is `fabric-ca`. Any objections, please let me know.","ts":"1484858451.001237"},{"type":"message","user":"U0P2GSA8Z","text":"FABRIC_CA_HOME is  a bit long but I think it's ok","ts":"1484858479.001238"},{"type":"message","user":"U0P2GSA8Z","text":"consistency is more important than shortness","ts":"1484858492.001239"},{"type":"message","user":"U0PB67X4K","text":"maybe we just stop using env variables?  :wink:","ts":"1484858498.001240","reactions":[{"name":"+1","users":["U38DC9CCF"],"count":1}]},{"type":"message","user":"U0P2GSA8Z","text":"well, that's a different topic :slightly_smiling_face:","ts":"1484858520.001241"},{"type":"message","user":"U11MANG9G","text":"<@U0PB67X4K> ^^^: Sounds like a dream!","ts":"1484858527.001242"},{"type":"message","user":"U11MANG9G","text":"I\u2019m trying to have the minimal \u2018NO-OP\u2019 change for now. There is more to do (like the hidden folders, etc.) But in the meantime, the latest\/I\u2019m going with:\n\n    `FABRIC_CA_HOME` &lt;- `$HOME\/.fabric-ca`","ts":"1484858637.001243"},{"type":"message","user":"U11MANG9G","text":"<@U0S5KF44D>: I\u2019m updating the docs of the sdk-node accordingly.","ts":"1484858673.001244"},{"type":"message","user":"U0S5KF44D","text":"<@U12KAHER1> Yeh, I know we used to recognize COP_HOME and thought I changed to FABRIC_CA_HOME in the transition.  Maybe that got dropped somehow?","ts":"1484858834.001245"},{"type":"message","user":"U0S5KF44D","text":"I assume the \"dream\" is to support command line args for everything also.  That was my dream also but requires more cfssl changes ... or duplicating more cfssl code","ts":"1484858953.001246"},{"type":"message","user":"U11MANG9G","text":"<@U0S5KF44D>: I would not worry about env vars. It is a different topic\u2026 (which we can look into).\n\nRe: the current ENV ones, yes, that\u2019s fine. I am going to follow <@U0P2GSA8Z> \u2019s advice and change everything consistently with a fabric prefix.","ts":"1484859035.001247"},{"type":"message","user":"U11MANG9G","text":"So FABRIC_\u2026. `.fabric-ca.db`, etc.","ts":"1484859057.001248"},{"type":"message","user":"U11MANG9G","text":"(just wanted to check with everybody)","ts":"1484859082.001249"},{"type":"message","user":"U11MANG9G","text":"...","ts":"1484859155.001251"},{"type":"message","user":"U11MANG9G","text":"Other than `.\/vendor\/github.com\/cloudflare\/cfssl\/transport\/example\/ca.json`  :wink:","ts":"1484859321.001253"},{"type":"message","user":"U0S5KF44D","text":"Using server-config.json and client-config.json rather than fabric-ca.json allows no confusion over server vs client config","ts":"1484859324.001254","reactions":[{"name":"+1","users":["U0PB67X4K","U1TA5FDU7"],"count":2}]},{"type":"message","user":"U13TWBRBL","text":"<@U11MANG9G> the above discussions sound good to me","ts":"1484859339.001255","reactions":[{"name":"+1","users":["U11MANG9G","U0KM61BCP"],"count":2}]},{"type":"message","user":"U11MANG9G","text":"<@U0S5KF44D>: sure. Not changing `non-cop` files","ts":"1484859383.001256"},{"type":"message","user":"U11MANG9G","text":"One exception: I am keeping: *hfc-ca* being `Hyperledger Fabric Client Certificate Authority`","ts":"1484860164.001257"},{"type":"message","user":"U11MANG9G","text":"Because it already has an `F`in HFC &lt;=&gt; h `f` c. I don\u2019t want to repeat as `hfc-fabric-ca` is not appealing. We can revisit. Just a heads-up.","edited":{"user":"U11MANG9G","ts":"1484860244.000000"},"ts":"1484860200.001258"},{"type":"message","user":"U38DC9CCF","text":"perhaps use nconf like approach to set configurations.","attachments":[{"fallback":"[January 19th, 2017 3:41 PM] garisingh: maybe we just stop using env variables?  :wink:","ts":"1484858498.001240","author_subname":"garisingh","channel_id":"C2Y3CPP16","channel_name":"fabric-ca","is_msg_unfurl":true,"text":"maybe we just stop using env variables?  :wink:","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/garisingh","author_icon":"https:\/\/avatars.slack-edge.com\/2016-09-10\/78323915894_521dc680194c08b166e0_48.jpg","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-ca\/p1484858498001240","is_share":true,"footer":"Posted in #fabric-ca"}],"ts":"1484860318.001261"},{"type":"message","user":"U0KM61BCP","text":"I hate hfc btw","ts":"1484860455.001262"},{"type":"message","user":"U11MANG9G","text":"OMG :wink:","ts":"1484860751.001263"},{"type":"message","user":"U0PB67X4K","text":"well we've never published hfc-cop to npm so we can always change the name","ts":"1484861504.001264"},{"type":"message","user":"U0PB67X4K","text":"maybe we should change the same of both before we publish them to npm","ts":"1484861529.001265"},{"type":"message","user":"U0PB67X4K","text":"what's wrong with `fabric-client` and `fabric-ca-client` ?","edited":{"user":"U0PB67X4K","ts":"1484861572.000000"},"ts":"1484861554.001266"},{"type":"message","user":"U11MANG9G","text":"It\u2019s an easy change. Sure.","ts":"1484861575.001268"},{"type":"message","user":"U11MANG9G","text":"To clarify, now we have `hfc` and `hfc-cop`, I will go ahead with `fabric-client` and `fabric-ca-client` (respectively)\u2026 unless I\/we hear any objections.","ts":"1484861688.001269"},{"type":"message","user":"U11MANG9G","text":"","attachments":[{"fallback":"[January 19th, 2017 1:11 PM] yedendra: perhaps use nconf like approach to set configurations.","ts":"1484860318.001261","author_subname":"yedendra","channel_id":"C2Y3CPP16","channel_name":"fabric-ca","is_msg_unfurl":true,"text":"perhaps use nconf like approach to set configurations.","author_name":"Yedendra Shrinivasan","author_link":"https:\/\/hyperledgerproject.slack.com\/team\/yedendra","author_icon":"https:\/\/secure.gravatar.com\/avatar\/759d29ce4e66f4e7cb35bb2e96d566db.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0012-48.png","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https:\/\/hyperledgerproject.slack.com\/archives\/fabric-ca\/p1484860318001261","is_share":true,"footer":"Posted in #fabric-ca"}],"ts":"1484861860.001270"},{"type":"message","user":"U11MANG9G","text":"<@U38DC9CCF>: I have not ignored you - I\u2019m not a node expert but I took a quick look (at the hierarchies and to me it looks good). At the moment we are still trying to figure out if we need any of them ENV VARs (for CFSSL or just in general). If you don\u2019t mind -&gt; I will get in touch with more questions when we are there.","edited":{"user":"U11MANG9G","ts":"1484861958.000000"},"ts":"1484861885.001271"},{"type":"message","user":"U38DC9CCF","text":"<@U11MANG9G> sure anytime!","ts":"1484861969.001273"},{"type":"message","user":"U38DC9CCF","text":"using parameters is better, because application layer can manipulate env variables between calls","ts":"1484862020.001274"},{"type":"message","user":"U11MANG9G","text":"Yes, my preferred hierarchy is:\n  1. config files (that are checked-in to a version control system)\n  2. command line parameters - that are mostly\/logically for \u201coverriding the default\u201d\n  3. env vars - as the absolute last resort","ts":"1484862199.001275"},{"type":"message","user":"U38DC9CCF","text":"yes, this sounds good to me","ts":"1484862243.001276"},{"type":"message","user":"U11MANG9G","text":"Mainly for reproducibility (and this includes reporting issues)","ts":"1484862250.001277"},{"type":"message","user":"U38DC9CCF","text":"this way i can have a couple of hfc client pointing to different network or different gopaths","ts":"1484862360.001278"},{"type":"message","user":"U11MANG9G","text":"Exactly!","ts":"1484862367.001279"},{"type":"message","user":"U11MANG9G","text":"The entire set-up\/tear-down becomes a walk in the park","ts":"1484862405.001280"},{"type":"message","user":"U11MANG9G","text":"Just to be clear: I mean, in a nice park, good weather, sun-glasses, etc. along with checked-in configurations.","edited":{"user":"U11MANG9G","ts":"1484862674.000000"},"ts":"1484862445.001281"},{"type":"message","user":"U38DC9CCF","text":"haha :slightly_smiling_face:","ts":"1484862454.001282"},{"type":"message","user":"U38DC9CCF","text":"Thanks <@U11MANG9G> !","ts":"1484862479.001283"},{"type":"message","user":"U0Z41KY5V","text":"The term fabric is too general, there were several `fabric` projects already in different domains. So with `hyperledger`, it will be more explicit.","ts":"1484876227.001286"},{"user":"U0UGH3X7X","text":"<@U0UGH3X7X|tuand> has joined the channel","type":"message","subtype":"channel_join","ts":"1484920473.001287"},{"type":"message","user":"U0UGH3X7X","text":"<@U0S5KF44D> ,  I have a changeset to have vagrant export the fabric-ca port . <@U0KPFAZNF> 's comment is to consider changing from 8888 to 7054 ( <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4571\/2\/devenv\/Vagrantfile@39> )  your thoughts ?","ts":"1484920727.001288"},{"type":"message","user":"U0S5KF44D","text":"I think 8888 is preferable so no one tries to speak to fabric-ca as if it were membership services ... and is always clear to us from the port which release, etc we're talking about","ts":"1484920902.001289"},{"type":"message","user":"U0KM61BCP","text":"<@U0S5KF44D> I don't see this as an issue","ts":"1484921280.001290"},{"type":"message","user":"U0KM61BCP","text":"by that logic, we should change all the ports and we aren't doing that","ts":"1484921298.001291"},{"type":"message","user":"U0S5KF44D","text":"the other reason was the 8888 is cfssl's default port","ts":"1484921335.001292"},{"type":"message","user":"U0KM61BCP","text":"only we know it's cfssl under the covers","ts":"1484922917.001293"},{"type":"message","user":"U11MANG9G","text":"That\u2019s exactly the point.","ts":"1484922990.001294"},{"type":"message","user":"U11MANG9G","text":"We seem to go round and round in circles, saying *because we using CFSSL here, because we are using CFSSL there*...","edited":{"user":"U11MANG9G","ts":"1484923559.000000"},"ts":"1484923041.001295"},{"type":"message","user":"U11MANG9G","text":"While I understand that CFSSL has benefits that also come with some design decisions that their devs made. It does not mean that we should tie our lives in knots *because they started*.","ts":"1484923096.001296"},{"type":"message","user":"U11MANG9G","text":"I am saying the above in a broader sense, not just the port, the $HOME\/.cop directory or any other design decisions that are made by a \u201cthird-party\u201d.","ts":"1484923141.001297"},{"type":"message","user":"U11MANG9G","text":"In general, I think we should do what\u2019s best for *fabric-ca* and *fabric*. That\u2019s what we are here for\u2026. and if we can make fabric-ca play nice with the rest of the components of fabric\u2026 the better.","ts":"1484923216.001298","reactions":[{"name":"+1","users":["U0P2GSA8Z"],"count":1}]},{"type":"message","user":"U11MANG9G","text":"Maybe \u201cone day\u201d we will choose another implementation, maybe somebody will contribute a package, CF will change their own code\/settings, we will find that BCCSP is much better when XYZ\u2026 (without loss of generality)","ts":"1484923278.001299"},{"type":"message","user":"U11MANG9G","text":"That\u2019s why (in general) I am more happy to \u201cencapsulate\u201d the 3rd party, in a way that will also make it easier to switch implementations.","ts":"1484923353.001300"},{"type":"message","user":"U11MANG9G","text":"^^ Pease don\u2019t take the above in a bad\/negative way. I would have said the same thing were we talking about LetsEncrypt, Log4j, or Viper, for that matter. This is just my line of thinking. We are all here to make fabric-ca a first class citizen of fabric\u2026 and if we need to change the default port of an underlying library to play nice with the rest, then I\u2019d vote for that too.","edited":{"user":"U11MANG9G","ts":"1484924071.000000"},"ts":"1484924053.001306"},{"type":"message","user":"U0UGH3X7X","text":"I created <https:\/\/jira.hyperledger.org\/browse\/FAB-1782>   for continued discussion on this issue","ts":"1484925437.001308"},{"type":"message","user":"U0S5KF44D","text":"I changed the default listening port from 8888 to 7054 in <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4671\/>","ts":"1485021976.001309"},{"type":"message","user":"U0S5KF44D","text":"<@U11MANG9G> <@U0KM61BCP> To a large part, the \"because we're using CFSSL\" comments apply to difficulty in changing CFSSL.  I've issued a couple of pull requests to CFSSL to provide the extensibility hooks we've needed.  The 1st one was processed pretty quickly but the 2nd one, and even smaller change, is taking longer.  Changing the default port wasn't as easy as you'd think, but was able to do without changing CFSSL code, but not always possible.  Anyway, I raised the white flag and see everyone's point ... so we're at 7054 now, or will be once merged","ts":"1485022589.001310"},{"type":"message","user":"U0S5KF44D","text":"<@U11MANG9G> Speaking of the home directory, the default home directory is currently the following for both client and server","ts":"1485023090.001311"},{"type":"message","subtype":"file_share","text":"<@U0S5KF44D|keithsmith> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/keithsmith\/F3VBN76MC\/-.txt|Untitled>","file":{"id":"F3VBN76MC","created":1485023102,"timestamp":1485023102,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0S5KF44D","editable":true,"size":394,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3VBN76MC\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3VBN76MC\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/keithsmith\/F3VBN76MC\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3VBN76MC-3b76986ebf","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/keithsmith\/F3VBN76MC\/-.txt\/edit","preview":"func GetDefaultHomeDir() string {\r\n        home := os.Getenv(\"FABRIC_CA_HOME\")\r\n        if home == \"\" {\r\n                home = os.Getenv(\"HOME\")\r\n                if home != \"\" {\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>func GetDefaultHomeDir() string {<\/pre><\/div>\n<div><pre>        home := os.Getenv(&quot;FABRIC_CA_HOME&quot;)<\/pre><\/div>\n<div><pre>        if home == &quot;&quot; {<\/pre><\/div>\n<div><pre>                home = os.Getenv(&quot;HOME&quot;)<\/pre><\/div>\n<div><pre>                if home != &quot;&quot; {<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":13,"lines_more":8,"preview_is_truncated":false,"channels":["C2Y3CPP16"],"groups":[],"ims":[],"comments_count":0},"user":"U0S5KF44D","upload":true,"display_as_bot":false,"username":"<@U0S5KF44D|keithsmith>","bot_id":null,"ts":"1485023103.001312"},{"type":"message","user":"U0S5KF44D","text":"Two thoughts:","ts":"1485023163.001313"},{"type":"message","user":"U0S5KF44D","text":"1) Consistency for client and server would say is it best to make the home directory the same for both client and server","ts":"1485023198.001314"},{"type":"message","user":"U0S5KF44D","text":"2) However, clients such as ssh and cf (the cloud foundry command line tool) and probably others seem to auto-create a hidden directory off of the HOME directory, which would argue for making the client's default home directory different and be $HOME\/.fabric-ca for example","ts":"1485023297.001315"},{"type":"message","user":"U0S5KF44D","text":"#2 would also have the advantage that if client and server are on the same host, they would not collide","ts":"1485023329.001316"},{"type":"message","user":"U0S5KF44D","text":"What does everyone think?","ts":"1485023348.001317"},{"type":"message","user":"U0S5KF44D","text":"Or option #3 would be that both server and client are hidden directories, which is what we did at first","ts":"1485023449.001318"},{"type":"message","user":"U0KM61BCP","text":"<@U0S5KF44D> thanks","ts":"1485023526.001321"},{"type":"message","user":"U0S5KF44D","text":"One other thing I should mention is that one place cfssl \"bleeds thru\" is that the REST API URI's all have \"cfssl\" in the prefix.   This is hidden in the sense that if folks use the SDKs, they don't see it.  I did try to change the context root very early but would have required CFSSL code changes again, and at the time didn't seem worth it.  Anyway, thoughts welcome on this also in terms of \"hiding CFSSL\".","ts":"1485023764.001322"},{"type":"message","user":"U0Z41KY5V","text":"<@U0S5KF44D> for these three options, suggest we can add some corresponding explanation in the documentation, to tell where people can find what. Thanks!","ts":"1485040578.001323"},{"type":"message","user":"U0PB67X4K","text":"<@U0S5KF44D> - personally, I believe that you should explicitly set the folder used as the fabric-ca home directory in the config file.  I think you can use the same \"path\" model that <@U1KJY9BJQ> just put it - it's either explicit or relative to the location of the config file (I believe)","ts":"1485041141.001324"},{"type":"message","user":"U0PB67X4K","text":"I'm fine with adding \"client\" and \"server\" to that path respectively","ts":"1485041161.001325"},{"type":"message","user":"U11MANG9G","text":"Hi guys - sorry I was away for 24 hours. So, first, <@U0S5KF44D>, many thanks for sharing!\nI like(d) the `GetDefaultHomeDir()` encapsulation!","edited":{"user":"U11MANG9G","ts":"1485050796.000000"},"ts":"1485050402.001326"},{"type":"message","user":"U11MANG9G","text":"I would too vote for either a prefix or a postfix of \u201cclient\u201d\/\u201cserver\u201d respectively in a non-hidden directory, adding it to the documentation, and if there are any support issues, we can easily point people\/users to check these directories. I believe (and hope) that this will save us all huge support headaches\u2026. and if worse comes to worst, we can ask them to `rm` these sub-subfolders or even just `mv` (rename) them and (re)try.","ts":"1485050559.001327"},{"type":"message","user":"U0S5KF44D","text":"<@U0PB67X4K> Hi Gari, we currently use the home directory to determine the default location of the config file if they don't use the \"-config\" option, which means we must know the home directory before we read the config file ... so sort of a chicken-n-egg.","ts":"1485094340.001333"},{"type":"message","user":"U0PB67X4K","text":"<@U0S5KF44D> - sorry - I realized that I was not actually very clear in what I was trying to say.   What I should have said is that:\n\n1) either we require that you always pass in `-config`  (but I can see why you might not want that)\n\n2) we document the default directory for the config and do \"honor\" an environment variable for signing it (if you want to override the default pass in the `-config` option.\n\nwe can argue \/ decide what the default location should be - my personal preference is that it be something relative to the executable:\n\n```\nimport (\n    \"fmt\"\n    \"log\"\n    \"os\"\n    \"path\/filepath\"\n)\n\nfunc main() {\n    dir, err := filepath.Abs(filepath.Dir(os.Args[0]))\n    if err != nil {\n            log.Fatal(err)\n    }\n    fmt.Println(dir)\n}\n\n```\n\nat least for the server.   for the client, I could be convinced that it's the $HOME directory","edited":{"user":"U0PB67X4K","ts":"1485099626.000000"},"ts":"1485099570.001334"},{"type":"message","user":"U11CP8FF1","text":"Hello, I took a peek at new Docker image of fabric-ca.\n\n```$ docker run -it --rm hyperledger\/fabric-ca busybox sh\n\/ # ls\nbin      dev      etc      linuxrc  proc     sbin     sys      usr      var\n # ls \/etc\/hyperledger\/fabric-ca\nREADME.md           client-config.json  csr.json            server-config.json\n\n# ls \/.fabric-ca\/\nec-key.pem           ec.pem               root.pem             tls_client-cert.pem  tls_client-key.pem\n```","edited":{"user":"U11CP8FF1","ts":"1485161252.000000"},"ts":"1485160929.001336"},{"type":"message","user":"U11CP8FF1","text":"So I want to modify server-config.json ( e.g. to give new password for admin), just copy \/etc\/hyperledger\/fabric-ca\/* to somewhere, and then mount host directly (e.g. -v  \/etc\/hyperledger\/fabric-ca:\/&lt;host-path&gt;\/fabric-ca ). Is this correct ?","ts":"1485161338.001339"},{"user":"U10V341PH","text":"<@U10V341PH|angelito> has joined the channel","type":"message","subtype":"channel_join","ts":"1485188523.001340"},{"type":"message","user":"U0KPFAZNF","text":"<@U11CP8FF1> that is one way (and the way I expect to be most common","ts":"1485208331.001341"},{"type":"message","user":"U0KPFAZNF","text":"(the other predominant method I anticipate would be \"FROM ...\/fabric-ca\\nCOPY my\/own\/config.json \/etc\/hyperledger\/fabric-ca\" -&gt; docker build","ts":"1485208410.001342"},{"user":"U3VDLN47L","text":"<@U3VDLN47L|chen.nie> has joined the channel","type":"message","subtype":"channel_join","ts":"1485218242.001343"},{"type":"message","user":"U11CP8FF1","text":"<@U0KPFAZNF> Thanks !","ts":"1485223322.001344"},{"type":"message","user":"U0Z41KY5V","text":"<@U0KPFAZNF> Do we have some agreed default config path for fabric-ca now? I saw several, e.g., `\/var\/hyperledger\/fabric\/.ca`, `\/etc\/hyperledger\/fabric-ca` and `~\/.ca`. Thanks!","ts":"1485224767.001345"},{"type":"message","user":"U0KPFAZNF","text":"<@U0Z41KY5V> no one has discussed with me, though I would encourage some sensible default that can be easily overriden","ts":"1485224828.001346"},{"type":"message","user":"U0Z41KY5V","text":"yeap, i agree with that. currently, it\u2019s a little confusing. Do u think I should open some jira issue to discuss this?","ts":"1485224895.001347"},{"type":"message","user":"U11MANG9G","text":"<@U0Z41KY5V>: yes, please.","ts":"1485227572.001348"},{"type":"message","user":"U0KPFAZNF","text":"yes pls","ts":"1485227576.001349"},{"type":"message","user":"U0Z41KY5V","text":"Sure, pls feel free to give comments, thanks! <https:\/\/jira.hyperledger.org\/browse\/FAB-1815>","ts":"1485241673.001350"},{"user":"U36UDC6RK","text":"<@U36UDC6RK|kamo> has joined the channel","type":"message","subtype":"channel_join","ts":"1485257066.001351"},{"user":"U3UU2PMBK","text":"<@U3UU2PMBK|patchpon> has joined the channel","type":"message","subtype":"channel_join","ts":"1485257778.001352"},{"type":"message","user":"U36UDC6RK","text":"Hello, just a short question, is it possible to find out the ip address of the running membersrvc ?","ts":"1485259409.001353"},{"type":"message","user":"U0KPFAZNF","text":"how did you launch it?","ts":"1485259423.001354"},{"type":"message","user":"U0KPFAZNF","text":"docker? native?","ts":"1485259432.001355"},{"type":"message","user":"U36UDC6RK","text":"docker","ts":"1485259470.001356"},{"type":"message","user":"U0KPFAZNF","text":"use \"docker inspect\", grep for \"IP\"","ts":"1485259660.001357"},{"type":"message","user":"U0S5KF44D","text":"I just added a comment to <https:\/\/jira.hyperledger.org\/browse\/FAB-1815>","ts":"1485259793.001358"},{"type":"message","user":"U36UDC6RK","text":"<@U0KPFAZNF> got it, thank you!","ts":"1485259906.001359"},{"type":"message","user":"U0KPFAZNF","text":"yw","ts":"1485259973.001360"},{"type":"message","user":"U0KPFAZNF","text":"<@U0S5KF44D> <@U11MANG9G> I just pulled the latest of everything (except for SDK) and I see this","ts":"1485279212.001361"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3WF3A6TY\/-.rb|Untitled>","file":{"id":"F3WF3A6TY","created":1485279219,"timestamp":1485279219,"name":"-.rb","title":"Untitled","mimetype":"text\/plain","filetype":"ruby","pretty_type":"Ruby","user":"U0KPFAZNF","editable":true,"size":2509,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3WF3A6TY\/-.rb?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3WF3A6TY\/download\/-.rb?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3WF3A6TY\/-.rb","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3WF3A6TY-f2489832cf","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3WF3A6TY\/-.rb\/edit","preview":"ca_1       | 2017\/01\/24 17:32:36 [INFO] Received request\r\nca_1       | POST \/api\/v1\/cfssl\/enroll\r\nca_1       | Authorization: Basic YWRtaW46YWRtaW5wdw==\r\nca_1       | {\"certificate_request\":\"-----BEGIN CERTIFICATE REQUEST-----\\r\\nMIHMMHICAQAwEDEOMAwGA1UEAwwFYWRtaW4wWTATBgcqhkjOPQIBBggqhkjOPQMB\\r\\nBwNCAAQzPTkRVKyxeSg4PsxtJWm6u9sPMadIpmyp\/CrTM0mhIX+vkjNhxwMhyG6a\\r\\nYBrjLQLySw7pBIWbCPtCq\/7soEb5oAAwDAYIKoZIzj0EAwIFAANIADBFAiAQZ3tN\\r\\nP2EMeqkEFndDlp5N6Rll1HVBqisUw2O7LPI5DwIhAMvq6nJN\/To2EQFY6bRx6yXG\\r\\nUq4g73O3YPpy2eD04aHb\\r\\n-----END CERTIFICATE REQUEST-----\\r\\n\"}\r\nca_1       | 2017\/01\/24 17:32:36 http: panic serving 10.0.2.2:54956: runtime error: invalid memory address or nil pointer dereference\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-variable\">ca_1<\/span>       <span class=\"cm-operator\">|<\/span> <span class=\"cm-number\">2017<\/span><span class=\"cm-string-2\">\/01\/<\/span><span class=\"cm-number\">24<\/span> <span class=\"cm-number\">17<\/span><span class=\"cm-operator\">:<\/span><span class=\"cm-number\">32<\/span><span class=\"cm-operator\">:<\/span><span class=\"cm-number\">36<\/span> [<span class=\"cm-tag\">INFO<\/span>] <span class=\"cm-tag\">Received<\/span> <span class=\"cm-variable\">request<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-variable\">ca_1<\/span>       <span class=\"cm-operator\">|<\/span> <span class=\"cm-tag\">POST<\/span> <span class=\"cm-string-2\">\/api\/<\/span><span class=\"cm-variable\">v1<\/span><span class=\"cm-string-2\">\/cfssl\/<\/span><span class=\"cm-variable\">enroll<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-variable\">ca_1<\/span>       <span class=\"cm-operator\">|<\/span> <span class=\"cm-atom\">Authorization:<\/span> <span class=\"cm-tag\">Basic<\/span> <span class=\"cm-tag\">YWRtaW46YWRtaW5wdw<\/span><span class=\"cm-operator\">==<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-variable\">ca_1<\/span>       <span class=\"cm-operator\">|<\/span> {<span class=\"cm-string\">&quot;certificate_request&quot;<\/span><span class=\"cm-atom\">:&quot;-----BEGIN CERTIFICATE REQUEST-----\\r\\nMIHMMHICAQAwEDEOMAwGA1UEAwwFYWRtaW4wWTATBgcqhkjOPQIBBggqhkjOPQMB\\r\\nBwNCAAQzPTkRVKyxeSg4PsxtJWm6u9sPMadIpmyp\/CrTM0mhIX+vkjNhxwMhyG6a\\r\\nYBrjLQLySw7pBIWbCPtCq\/7soEb5oAAwDAYIKoZIzj0EAwIFAANIADBFAiAQZ3tN\\r\\nP2EMeqkEFndDlp5N6Rll1HVBqisUw2O7LPI5DwIhAMvq6nJN\/To2EQFY6bRx6yXG\\r\\nUq4g73O3YPpy2eD04aHb\\r\\n-----END CERTIFICATE REQUEST-----\\r\\n&quot;<\/span>}<\/pre><\/div>\n<div><pre><span class=\"cm-variable\">ca_1<\/span>       <span class=\"cm-operator\">|<\/span> <span class=\"cm-number\">2017<\/span><span class=\"cm-string-2\">\/01\/<\/span><span class=\"cm-number\">24<\/span> <span class=\"cm-number\">17<\/span><span class=\"cm-operator\">:<\/span><span class=\"cm-number\">32<\/span><span class=\"cm-operator\">:<\/span><span class=\"cm-number\">36<\/span> <span class=\"cm-atom\">http:<\/span> <span class=\"cm-variable\">panic<\/span> <span class=\"cm-variable\">serving<\/span> <span class=\"cm-number\">10.0<\/span><span class=\"cm-operator\">.<\/span><span class=\"cm-number\">2.2<\/span><span class=\"cm-operator\">:<\/span><span class=\"cm-number\">54956<\/span><span class=\"cm-operator\">:<\/span> <span class=\"cm-variable\">runtime<\/span> <span class=\"cm-atom\">error:<\/span> <span class=\"cm-variable\">invalid<\/span> <span class=\"cm-variable\">memory<\/span> <span class=\"cm-variable\">address<\/span> <span class=\"cm-keyword\">or<\/span> <span class=\"cm-keyword\">nil<\/span> <span class=\"cm-variable\">pointer<\/span> <span class=\"cm-variable\">dereference<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":26,"lines_more":21,"preview_is_truncated":true,"channels":["C2Y3CPP16"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1485279219.001362"},{"type":"message","user":"U0KPFAZNF","text":"known issue, or file JIRA?","ts":"1485279244.001363"},{"type":"message","user":"U11MANG9G","text":"A JIRA please.","ts":"1485279256.001364"},{"type":"message","user":"U0KPFAZNF","text":"fwiw, i had backed off my patch that fixed the last SIGSEGV b\/c I assumed the issue was fixed in master","ts":"1485279290.001365"},{"type":"message","user":"U0KPFAZNF","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4417\/>","ts":"1485279313.001366"},{"type":"message","user":"U0KPFAZNF","text":"can anyone confirm if that was indeed expected to be the case?","ts":"1485279325.001367"},{"type":"message","user":"U0KPFAZNF","text":"or should I re-open 4417","ts":"1485279331.001368"},{"type":"message","user":"U11MANG9G","text":"Let me check.","ts":"1485279345.001369"},{"type":"message","user":"U0KPFAZNF","text":"it sorta feels like the same issue","ts":"1485279361.001370"},{"type":"message","user":"U11MANG9G","text":"How did you launch it? Yes, it does feel like the same.","ts":"1485279373.001371"},{"type":"message","user":"U11MANG9G","text":"(CMD)","ts":"1485279386.001372"},{"type":"message","user":"U0KPFAZNF","text":"short answer is \"make docker &amp;&amp; docker run","ts":"1485279390.001373"},{"type":"message","user":"U0KPFAZNF","text":"but let me get you precise steps","ts":"1485279399.001374"},{"type":"message","user":"U11MANG9G","text":"I just want the CMD","ts":"1485279411.001375"},{"type":"message","user":"U11MANG9G","text":"(though precise is better, thanks Greg!)","ts":"1485279423.001376"},{"type":"message","user":"U0KPFAZNF","text":"this was from commit: a569df9","ts":"1485279448.001377"},{"type":"message","user":"U11MANG9G","text":"Oh, well. The fix has not been merged yet:","ts":"1485279466.001378"},{"type":"message","user":"U11MANG9G","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4371\/>","ts":"1485279466.001379"},{"type":"message","subtype":"file_share","text":"<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3V4MEAJD\/-.txt|Untitled>","file":{"id":"F3V4MEAJD","created":1485279472,"timestamp":1485279472,"name":"-.txt","title":"Untitled","mimetype":"text\/plain","filetype":"text","pretty_type":"Plain Text","user":"U0KPFAZNF","editable":true,"size":822,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3V4MEAJD\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3V4MEAJD\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","permalink":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3V4MEAJD\/-.txt","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F3V4MEAJD-a4bf399d6f","edit_link":"https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F3V4MEAJD\/-.txt\/edit","preview":"ca:\r\n  image: hyperledger\/fabric-ca\r\n  ports:\r\n    - 7054:7054\r\n\r","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>ca:<\/pre><\/div>\n<div><pre>  image: hyperledger\/fabric-ca<\/pre><\/div>\n<div><pre>  ports:<\/pre><\/div>\n<div><pre>    - 7054:7054<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n","lines":32,"lines_more":27,"preview_is_truncated":false,"channels":["C2Y3CPP16"],"groups":[],"ims":[],"comments_count":0},"user":"U0KPFAZNF","upload":true,"display_as_bot":false,"username":"<@U0KPFAZNF|ghaskins>","bot_id":null,"ts":"1485279472.001380"},{"type":"message","user":"U0KPFAZNF","text":"using that composition","ts":"1485279478.001381"},{"type":"message","user":"U11MANG9G","text":"<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4369\/>","ts":"1485279483.001382"},{"type":"message","user":"U11MANG9G","text":"(Build failures + awaiting a test)","ts":"1485279498.001383"},{"type":"message","user":"U11MANG9G","text":"OK here are my 2 concerns:","ts":"1485279529.001384"},{"type":"message","user":"U11MANG9G","text":"1. We should really have a test that fails as long as the above occurs.","ts":"1485279545.001385"},{"type":"message","user":"U11MANG9G","text":"2. Separately, yes, we need to fix this NPE and the lot","ts":"1485279568.001386"},{"type":"message","user":"U11MANG9G","text":"But really, it\u2019s more important to have the correct status\/the binary tested.","ts":"1485279585.001387"},{"type":"message","user":"U0KPFAZNF","text":"its nbd, i can reapply 4371 locally for now","ts":"1485279620.001388"},{"type":"message","user":"U11MANG9G","text":"Yes, please do that - we cannot merge it at this stage. Thank you.","ts":"1485279669.001389"},{"type":"message","user":"U0KPFAZNF","text":"ok","ts":"1485279675.001390"},{"type":"message","user":"U11MANG9G","text":"No, nbd - but thanks and sorry for your time.\n\nWe should really reproduce and continuously check against issues that we have seen\/experienced in the past.","edited":{"user":"U11MANG9G","ts":"1485280609.000000"},"ts":"1485279867.001391"},{"type":"message","user":"U0KPFAZNF","text":"the configuration of the docker and overall service looks messed up","ts":"1485280750.001393"},{"type":"message","user":"U0KM61BCP","text":"<mailto:chrisfer@us.ibm.com|chrisfer@us.ibm.com>","ts":"1485287063.001394"},{"type":"message","user":"U11MANG9G","text":"<@U0KM61BCP> ?","ts":"1485287181.001395"},{"type":"message","user":"U0KM61BCP","text":"wrong window np","ts":"1485287202.001396"},{"type":"message","user":"U11MANG9G","text":"OK.","ts":"1485287214.001397"},{"user":"U0XV1HDL3","text":"<@U0XV1HDL3|cca> has joined the channel","type":"message","subtype":"channel_join","ts":"1485350019.001398"},{"type":"message","user":"U0UHG4VP1","text":"Someone filed a bug on github which I will port to JIRA but fabric-ca is unusable on windows. In particular files `fabric-ca\/vendor\/github.com\/cloudflare\/cfssl\/vendor\/github.com\/cloudflare\/cfssl_trust\/ca-bundle\/SwissSignCA*` contain `:` which is illegal in a filename on windows","ts":"1485367811.001399"},{"type":"message","user":"U0UHG4VP1","text":"<https:\/\/jira.hyperledger.org\/browse\/FAB-1854>","ts":"1485368069.001400"},{"user":"U1P1ZV6RF","text":"<@U1P1ZV6RF|matanyahu> has joined the channel","type":"message","subtype":"channel_join","ts":"1485371873.001401"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0UHG4VP1> interesting because I've been compiling fabric-ca on windows and running the unit-tests","ts":"1485372004.001402"},{"type":"message","user":"U0P2GSA8Z","text":"so something is missing in our tests","ts":"1485372019.001403"},{"type":"message","user":"U0UHG4VP1","text":"how does your git clone succeed? are you mapping : to something else? is it getting squashed?","ts":"1485372058.001404"},{"type":"message","user":"U0P2GSA8Z","text":"I don't know :slightly_smiling_face:","ts":"1485372107.001405"},{"type":"message","user":"U0P2GSA8Z","text":"this is git clone that's failing??","ts":"1485372117.001406"},{"type":"message","user":"U0P2GSA8Z","text":"looking at the JIRA","ts":"1485372128.001407"},{"type":"message","user":"U0P2GSA8Z","text":"interesting","ts":"1485372143.001408"},{"type":"message","user":"U0P2GSA8Z","text":"ah!","ts":"1485372621.001409"},{"type":"message","user":"U0P2GSA8Z","text":"I can reproduce the problem using the Windows git","ts":"1485372636.001410"},{"type":"message","user":"U0P2GSA8Z","text":"I use cgywin and there it doesn't trigger any error","ts":"1485372656.001411"},{"type":"message","user":"U0P2GSA8Z","text":"I have to figure out what it does though :confused:","ts":"1485372667.001412"},{"type":"message","user":"U0P2GSA8Z","text":"oh, the files are there","ts":"1485372721.001413"},{"type":"message","user":"U0P2GSA8Z","text":"so cygwin git has no problems with those files","ts":"1485372775.001414"},{"type":"message","user":"U0P2GSA8Z","text":"that tells me the description of the problem isn't right","ts":"1485372870.001415"},{"type":"message","user":"U0P2GSA8Z","text":"it is not illegal to have : in a filename","ts":"1485372878.001416"},{"type":"message","user":"U0P2GSA8Z","text":"people often project the stupid windows command shell's limitations to Windows itself","ts":"1485372912.001417"},{"type":"message","user":"U0P2GSA8Z","text":"to me this looks like a bug in windows git","ts":"1485372962.001418"},{"type":"message","user":"U0P2GSA8Z","text":"yup","ts":"1485374011.001419"},{"type":"message","user":"U0P2GSA8Z","text":"I installed the latest git available on Windows and it still fails miserably","ts":"1485374034.001420","reactions":[{"name":"grimacing","users":["U11MANG9G","U0UHG4VP1","U1TA5FDU7"],"count":3}]},{"type":"message","user":"U0P2GSA8Z","text":"but so there is a workaround: use cygwin :slightly_smiling_face:","ts":"1485375209.001421"},{"type":"message","user":"U0P2GSA8Z","text":"I don't know how people can live on windows without it anyway...","ts":"1485375226.001422"},{"user":"U3WM9K85R","text":"<@U3WM9K85R|mbaizan> has joined the channel","type":"message","subtype":"channel_join","ts":"1485428985.001423"},{"user":"U3X6RA34J","inviter":"U0UHG4VP1","text":"<@U3X6RA34J|archivebot> has joined the channel","type":"message","subtype":"channel_join","ts":"1485489592.001424"},{"user":"U0P75RFT4","text":"<@U0P75RFT4|tim.blankers> has joined the channel","type":"message","subtype":"channel_join","ts":"1485504423.001425"},{"type":"message","user":"U0PB67X4K","text":"<@U0P2GSA8Z> - it's a Windows specific issue -  `*` is a reserved character","ts":"1485516818.001426"},{"type":"message","user":"U0PB67X4K","text":"error is meaningless in any case - it does not affect anything related to the use of fabric-ca","ts":"1485516841.001427"},{"type":"message","user":"U0PB67X4K","text":"```\nThe following are reserved characters on Windows and cannot be used in filenames:\n&lt; (less than)\n&gt; (greater than)\n: (colon)\n\" (double quote)\n\/ (forward slash)\n\\ (backslash)\n| (vertical bar or pipe)\n? (question mark)\n* (asterisk)\n```","ts":"1485516936.001428"},{"type":"message","user":"U0P2GSA8Z","text":"<@U0PB67X4K> I wonder how cygwin manages to make it work","ts":"1485518746.001429"},{"type":"message","user":"U0P2GSA8Z","text":"where did you get that list from?","ts":"1485518757.001430"},{"type":"message","user":"U0P2GSA8Z","text":"I have to believe that it's not really at the filesystem level but rather in some high level that isn't used by cygwin","ts":"1485518806.001431"},{"type":"message","user":"U0PB67X4K","text":"<https:\/\/cygwin.com\/cygwin-ug-net\/using-specialnames.html>","ts":"1485519035.001432"},{"type":"message","user":"U0PB67X4K","text":"(turns out the link above also lists the reserved characters as well)","ts":"1485519085.001433"},{"type":"message","user":"U0P2GSA8Z","text":"well... it clearly isn't so","ts":"1485519407.001434"},{"type":"message","user":"U0P2GSA8Z","text":"$ echo hello &gt;  'foo:bar.txt'\n$ ls\nfoo:bar.txt\n$ cat 'foo:bar.txt'\nhello","ts":"1485519882.001435"},{"type":"message","user":"U0P2GSA8Z","text":"C:\\Users\\lehors\\temp&gt;dir\n Volume in drive C has no label.\n Volume Serial Number is 655B-FE2E\n\n Directory of C:\\Users\\lehors\\temp\n\n01\/27\/2017  01:23 PM    &lt;DIR&gt;          .\n01\/27\/2017  01:23 PM    &lt;DIR&gt;          ..\n01\/27\/2017  01:22 PM                 6 foo?bar.txt\n               1 File(s)              6 bytes\n               2 Dir(s)  47,226,875,904 bytes free","ts":"1485519913.001436"},{"type":"message","user":"U0P2GSA8Z","text":"C:\\Users\\lehors\\temp&gt;type foo?bar.txt\nhello","ts":"1485519944.001437"},{"type":"message","user":"U0P2GSA8Z","text":"the : is clearly not handled very well by the crappy cmd.exe but the file is there","ts":"1485519974.001438"},{"type":"message","user":"U0P2GSA8Z","text":"that being said, we're obviously still better off avoiding it","ts":"1485520093.001439"},{"type":"message","user":"U0PB67X4K","text":"look - I'm not sure what we're arguing about here.   Look up any site about reserved characters on Windows and it will tell you not to use the characters I listed above.\n\nIn any case, not being able to clone that file is really not an issue.  everything still builds and works fine.  it's basically just a list of well-known CAs you can optionally load \/ use.  We don't leverage it anyway","ts":"1485522267.001440"},{"type":"message","user":"U0P2GSA8Z","text":"we're not arguing :slightly_smiling_face:","ts":"1485523906.001441","reactions":[{"name":"wink","users":["U0PB67X4K"],"count":1}]},{"type":"message","user":"U0PB67X4K","text":"the clone error is annoying but basically does not actually affect anything","ts":"1485524082.001442"},{"type":"message","user":"U0P2GSA8Z","text":"I understand","ts":"1485524090.001443"},{"type":"message","user":"U0PB67X4K","text":"the naming is pretty stupid","ts":"1485524106.001444"},{"type":"message","user":"U0P2GSA8Z","text":"I was just puzzled by the fact that I had not seen the error","ts":"1485524109.001445"},{"type":"message","user":"U0P2GSA8Z","text":"the reality is evidently different from what everybody is saying, that's all","ts":"1485524128.001446"},{"type":"message","user":"U0P2GSA8Z","text":"should we remove those files not to freak people out with this error?","ts":"1485524148.001447"},{"type":"message","user":"U0PB67X4K","text":"we could except if we ever update the vendored package it will come back (I'm assuming we will not remember to remove them  :wink: )","edited":{"user":"U0PB67X4K","ts":"1485524213.000000"},"ts":"1485524196.001448"},{"type":"message","user":"U0P2GSA8Z","text":"probably a safe assumption indeed :slightly_smiling_face:","ts":"1485524241.001450"},{"type":"message","user":"U0KPFAZNF","text":"<@U11MANG9G> <@U0S5KF44D> do you gents happen to know the status of that bug that was crashing ca when the command-line wasnt used to specify the keys?","ts":"1485537747.001451"},{"type":"message","user":"U0KPFAZNF","text":"last I heard, there was a fix but it wasnt merged yet","ts":"1485537757.001452"},{"type":"message","user":"U0KPFAZNF","text":"(ive been using my band-aid: <https:\/\/github.com\/ghaskins\/fabric-ca\/commit\/1734bd9beb5ea4cbcd3d17500d72dc63e9c0f7a7>)","ts":"1485537769.001453"},{"type":"message","user":"U0PB67X4K","text":"<@U0KPFAZNF> -  <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4369\/>","ts":"1485540149.001454"},{"type":"message","user":"U0PB67X4K","text":"(I think)","ts":"1485540186.001455"},{"type":"message","user":"U0KPFAZNF","text":"<@U0PB67X4K> yeah, thats it i think","ts":"1485540599.001456"},{"type":"message","user":"U0KPFAZNF","text":"thx","ts":"1485540601.001457"},{"user":"U3BD4SWBH","text":"<@U3BD4SWBH|rkiouak> has joined the channel","type":"message","subtype":"channel_join","ts":"1485550894.001458"},{"user":"U3XNURGCC","text":"<@U3XNURGCC|milan-mitra> has joined the channel","type":"message","subtype":"channel_join","ts":"1485556109.001459"},{"type":"message","user":"U3XNURGCC","text":"Hello friends, can someone guide me on experiences with using a standalone ca provider instead of the bundled member-srvc.","ts":"1485556251.001460"},{"type":"message","user":"U0PB67X4K","text":"<@U3XNURGCC>  - for v0.6 - don't try it.   with v1.0 you can definitely do it","ts":"1485556521.001461"},{"type":"message","user":"U0PB67X4K","text":"but you'll have to wait a little while longer","ts":"1485556547.001462"},{"type":"message","user":"U3XNURGCC","text":"<@U0PB67X4K> thank you. i am currently trying out the fabric peer setup for a small setup, and one of the architectural questions that I sometimes struggle to answer is what if there was an existing identity that needed federation through the chain.","ts":"1485556631.001463"},{"type":"message","user":"U3XNURGCC","text":"so its good to know that its on the roadmap !","ts":"1485556646.001464"},{"type":"message","user":"U0PB67X4K","text":"it's basically in place today, but we have not documented how to use it","ts":"1485556666.001465"},{"type":"message","user":"U0PB67X4K","text":"but basically allow you to specify one or more trusted root certificates across the chain(s) and that allows you to use your own CA(s) to issue certificates","ts":"1485556707.001466","reactions":[{"name":"+1","users":["U3XNURGCC"],"count":1}]},{"type":"message","user":"U10SJMAHH","text":"Hi, I want to know what is the current status on the decentralized membership service.  Is design described in FAB-360 (submitJoinRequest etc.) still valid? Or are we taking another approach? Where can I find out more details?","ts":"1485585493.001467"},{"type":"message","user":"U0S5KF44D","text":"<@U10SJMAHH> I just updated <https:\/\/jira.hyperledger.org\/browse\/FAB-360> ... it was out-of-date","ts":"1485632785.001468"},{"type":"message","user":"U10SJMAHH","text":"<@U0S5KF44D> thank you!","ts":"1485644323.001469"},{"user":"U2ST1AR26","text":"<@U2ST1AR26|wanghaidong> has joined the channel","type":"message","subtype":"channel_join","ts":"1485762101.001470"},{"user":"U3V4G8HUZ","text":"<@U3V4G8HUZ|sagmeister> has joined the channel","type":"message","subtype":"channel_join","ts":"1485787810.001471"},{"type":"message","user":"U13TWBRBL","text":"<@U0S5KF44D> are the configs in fabric-ca server overridable with environment variables yet?","ts":"1485802864.001472"},{"type":"message","user":"U0S5KF44D","text":"some, not all ... which ones?","ts":"1485802891.001473"},{"type":"message","user":"U0S5KF44D","text":"currently that is ... in the future, all will be","ts":"1485802923.001474","reactions":[{"name":"+1","users":["U13TWBRBL"],"count":1}]},{"user":"U3BH74NH0","text":"<@U3BH74NH0|passkit> has joined the channel","type":"message","subtype":"channel_join","ts":"1485832337.001475"},{"user":"U3VKNAAQH","text":"<@U3VKNAAQH|ssaddem> has joined the channel","type":"message","subtype":"channel_join","ts":"1485870073.001476"},{"type":"message","user":"U0KM61BCP","text":"<@U0S5KF44D> <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/4401\/8> does this need to be merged? If so it needs to be rebased","ts":"1485871279.001477"},{"type":"message","user":"U0S5KF44D","text":"<@U0KM61BCP> I need to rework that to contain only developer info since the readthedocs contains the user's guide info now","ts":"1485872545.001478"},{"type":"message","user":"U0KM61BCP","text":"ok","ts":"1485872582.001479"},{"type":"message","user":"U0KM61BCP","text":"just want to make sure we are getting all the user guide type info merged","ts":"1485872604.001480"},{"type":"message","user":"U0S5KF44D","text":"yes, that is already merged in readthedocs","ts":"1485872626.001481"},{"user":"U0PV6MUD6","text":"<@U0PV6MUD6|sbrakev> has joined the channel","type":"message","subtype":"channel_join","ts":"1485947141.001482"},{"type":"message","user":"U0PV6MUD6","text":"<@U0S5KF44D> can you point me to some clarification on how fabric-ca will address the single point of failure constraints of the old membership service on HLF v0.6?","ts":"1485947203.001483"},{"type":"message","user":"U3DHKV84C","text":"Can we make different env variable for fabric-ca server and client?\n<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/Setup\/ca-setup.md>\n\n1)\nFor the remainder of this server section, we assume that you have set the FABRIC_CA_HOME environment variable to $HOME\/fabric-ca\/server.\n2)\n# export FABRIC_CA_HOME=$HOME\/fabric-ca\/clients\/admin\n# fabric-ca client enroll -config client-config.json admin adminpw <http:\/\/localhost:7054> csr.json","attachments":[{"service_name":"GitHub","title":"hyperledger\/fabric","title_link":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/Setup\/ca-setup.md","text":"Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>","fallback":"GitHub: hyperledger\/fabric","thumb_url":"https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400","from_url":"https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/Setup\/ca-setup.md","thumb_width":142,"thumb_height":142,"service_icon":"https:\/\/github.com\/apple-touch-icon.png","id":1}],"ts":"1485949532.001484"},{"type":"message","user":"U221LL03Z","text":"<@U0PV6MUD6> : Each member will have its own instance of fabric-ca as opposed of each member sharing same instance of old membership service. Secondly each instance of Fabric-CA server is HA by virtue clustered and load balanced.","edited":{"user":"U221LL03Z","ts":"1485955666.000000"},"ts":"1485955557.001486"},{"type":"message","user":"U0PV6MUD6","text":"What does \u201cHA\u201d stand for?","ts":"1485955992.001488"},{"type":"message","user":"U0S5KF44D","text":"High Availability","ts":"1485956390.001489"},{"type":"message","user":"U0S5KF44D","text":"<@U0PV6MUD6> It can run in a cluster, which means if one of the instances fail, the other(s) are available","ts":"1485956544.001490"},{"type":"message","user":"U0S5KF44D","text":"<@U3DHKV84C> Yes, I see no reason we couldn't check FABRIC_CA_SERVER_HOME and FABRIC_CA_CLIENT_HOME as env variables.  I suggest you open a jira item.  We are still working on CLI simplification btw","ts":"1485956809.001491"},{"type":"message","user":"U0S5KF44D","text":"BTW, we would still recognize FABRIC_CA_HOME, but  FABRIC_CA_SERVER_HOME and FABRIC_CA_CLIENT_HOME would take precedence in server &amp; client, respectively","ts":"1485958031.001492"},{"type":"message","user":"U0UGH3X7X","text":"trying to enroll `admin` as a registrar  but I don't see where in the POST \/api\/v1\/cfssl\/enroll body to put the `hf.Registrar.DelegateRoles` attribute ?","ts":"1485969718.001493"},{"type":"message","user":"U0UGH3X7X","text":"i'm reading from the swagger-fabric-ca.json file ...","ts":"1485969739.001494"},{"type":"message","user":"U0UGH3X7X","text":"nvm ... already set in server-config.json","ts":"1485979438.001495"},{"user":"U1HE3UBFF","text":"<@U1HE3UBFF|viktor.nikolenko> has joined the channel","type":"message","subtype":"channel_join","ts":"1485991017.001496"},{"type":"message","user":"U11CP8FF1","text":"Node SDK now have v1.0-alpha branch. Is there any plan to have \u201cv1.0-alpha\u201d branch or equivalent tag so that I can recreate the same  environment ?","ts":"1486013945.001497"},{"type":"message","user":"U0UGH3X7X","text":"for a `POST api\/v1\/cfssl\/register`,  the authorization is  &lt;enrollment certificate&gt;.&lt;signature&gt;  ...","edited":{"user":"U0UGH3X7X","ts":"1486050243.000000"},"ts":"1486050125.001498"},{"type":"message","user":"U0UGH3X7X","text":"the enrollment certificate is the one from the enroll request of the registrar ?","ts":"1486050165.001499"},{"type":"message","user":"U0UGH3X7X","text":"signature is the signature over concat(enrollment certificate, request body) ?  or concat(request body, enrollment certificate) ?","ts":"1486050228.001500"},{"type":"message","user":"U0S5KF44D","text":"<@U11CP8FF1> Good question.  One of the maintainers would need to do that.  <@U0PB67X4K> <@U11MANG9G>","ts":"1486053473.001502"},{"type":"message","user":"U11MANG9G","text":"<@U11CP8FF1>, <@U0S5KF44D>: Let me check and get back to you on this within the day.","ts":"1486053527.001503"},{"type":"message","user":"U0S5KF44D","text":"<@U0UGH3X7X> Yes, signature of registrar and concat(ecert,body)","ts":"1486053530.001504"},{"type":"message","user":"U0S5KF44D","text":"See <https:\/\/jira.hyperledger.org\/browse\/FAB-2012> for some info on CLI changes that I'm working on ... to use cobra\/viper instead of cfssl's cli package","ts":"1486053703.001505"},{"user":"U3BU07SN7","text":"<@U3BU07SN7|karkal72> has joined the channel","type":"message","subtype":"channel_join","ts":"1486071793.001506"},{"type":"message","user":"U11MANG9G","text":"<@U3BU07SN7>: please check out <https:\/\/chat.hyperledger.org>","ts":"1486146934.001507"},{"type":"message","user":"U3BU07SN7","text":"<@U11MANG9G>  - I 'm getting invalid username\/password (I have created my id in Linux foundation also)","ts":"1486149894.001508"},{"type":"message","user":"U11MANG9G","text":"It should really be the same login that you use for this Slack.","ts":"1486150326.001509"},{"type":"message","subtype":"file_share","text":"<@U11MANG9G|jonathanlevi> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/jonathanlevi\/F403YEJ7J\/2017-02-03_lfid.png|The button I click to log on though https:\/\/chat.hyperledger.org>","file":{"id":"F403YEJ7J","created":1486150365,"timestamp":1486150365,"name":"2017-02-03_LFID.png","title":"The button I click to log on though https:\/\/chat.hyperledger.org","mimetype":"image\/png","filetype":"png","pretty_type":"PNG","user":"U11MANG9G","editable":false,"size":142918,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F403YEJ7J\/2017-02-03_lfid.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","url_private_download":"https:\/\/files.slack.com\/files-pri\/T0J024XGA-F403YEJ7J\/download\/2017-02-03_lfid.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_64":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F403YEJ7J-43065cdbb2\/2017-02-03_lfid_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_80":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F403YEJ7J-43065cdbb2\/2017-02-03_lfid_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F403YEJ7J-43065cdbb2\/2017-02-03_lfid_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_360_w":360,"thumb_360_h":142,"thumb_480":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F403YEJ7J-43065cdbb2\/2017-02-03_lfid_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_480_w":480,"thumb_480_h":190,"thumb_160":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F403YEJ7J-43065cdbb2\/2017-02-03_lfid_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F403YEJ7J-43065cdbb2\/2017-02-03_lfid_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_720_w":720,"thumb_720_h":285,"thumb_960":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F403YEJ7J-43065cdbb2\/2017-02-03_lfid_960.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_960_w":960,"thumb_960_h":380,"thumb_1024":"https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F403YEJ7J-43065cdbb2\/2017-02-03_lfid_1024.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e","thumb_1024_w":1024,"thumb_1024_h":405,"image_exif_rotation":1,"original_w":1158,"original_h":458,"permalink":"https:\/\/hyperledgerproject.slack.com\/files\/jonathanlevi\/F403YEJ7J\/2017-02-03_lfid.png","permalink_public":"https:\/\/slack-files.com\/T0J024XGA-F403YEJ7J-d143a62ae5","channels":["C2Y3CPP16"],"groups":[],"ims":[],"comments_count":0},"user":"U11MANG9G","upload":true,"display_as_bot":false,"username":"<@U11MANG9G|jonathanlevi>","bot_id":null,"ts":"1486150367.001510"},{"user":"U11MANG9G","topic":"MOVED TO <https:\/\/chat.hyperledger.org>","text":"<@U11MANG9G|jonathanlevi> set the channel topic: MOVED TO <https:\/\/chat.hyperledger.org>","type":"message","subtype":"channel_topic","ts":"1486150387.001511"},{"type":"message","user":"U3BU07SN7","text":"Got it. Thx","ts":"1486151336.001512","reactions":[{"name":"+1","users":["U11MANG9G"],"count":1}]},{"text":"thanks @mastersingh24 ","username":"ashutosh_kumar","bot_id":"B3ZG694UR","type":"message","subtype":"bot_message","ts":"1486152427.001515"},{"text":"Will life be better here on this Pod ? ","username":"ashutosh_kumar","bot_id":"B3ZG694UR","type":"message","subtype":"bot_message","ts":"1486152440.001516"},{"text":"hard to say  ;)","username":"mastersingh24","icons":{"image_48":"https:\/\/s3-us-west-2.amazonaws.com\/slack-files2\/bot_icons\/2017-02-03\/137540433158_48.png"},"bot_id":"B3ZG694UR","type":"message","subtype":"bot_message","ts":"1486152457.001517"},{"text":"can life get any better?","username":"mastersingh24","icons":{"image_48":"https:\/\/s3-us-west-2.amazonaws.com\/slack-files2\/bot_icons\/2017-02-03\/137540433158_48.png"},"bot_id":"B3ZG694UR","type":"message","subtype":"bot_message","ts":"1486152461.001518"},{"text":"Did you mean _bitter_ ?","username":"rickr","icons":{"image_48":"https:\/\/s3-us-west-2.amazonaws.com\/slack-files2\/bot_icons\/2017-02-03\/137552809095_48.png"},"bot_id":"B3ZG694UR","type":"message","subtype":"bot_message","ts":"1486152542.001519"},{"text":"We should have fun regardless , whether life become better or not.","username":"ashutosh_kumar","bot_id":"B3ZG694UR","type":"message","subtype":"bot_message","ts":"1486152680.001520"},{"user":"U3UBGFRQD","text":"<@U3UBGFRQD|denisglotov> has joined the channel","type":"message","subtype":"channel_join","ts":"1486382045.001521"},{"user":"U4091RGRJ","inviter":"U0UHG4VP1","text":"<@U4091RGRJ|rocket.chat> has joined the channel","type":"message","subtype":"channel_join","ts":"1486397493.001522"},{"user":"U3AH3FUQH","text":"<@U3AH3FUQH|andb> has joined the channel","type":"message","subtype":"channel_join","ts":"1486469893.001523"},{"type":"message","user":"U0UHG4VP1","text":"please migrate to <https:\/\/chat.hyperledger.org>","ts":"1486490619.001524"},{"user":"U0UHG4VP1","members":["U0KM61BCP","U0KMJF9AA","U0KPFAZNF","U0KQ9QKH6","U0M28HM6J","U0MRY2LKY","U0MS3TK2A","U0N1C7HHB","U0N4P17ND","U0NCW1DPX","U0NK7T8SH","U0NLP5909","U0P1VU0QG","U0P2GSA8Z","U0P75RFT4","U0PB67X4K","U0PV6MUD6","U0RD1ALMV","U0S5KF44D","U0STZRN0Y","U0UGH3X7X","U0UHG4VP1","U0W7D64LC","U0XQX3U9G","U0XV1HDL3","U0Y3HSY6S","U0YJUECE8","U0YK3KKCY","U0YS0MWP3","U0Z41KY5V","U0Z5BHCEM","U0Z81GL6S","U0ZJZBJLF","U0ZR63HLK","U10E1PFEH","U10LM0FFZ","U10SJMAHH","U10V341PH","U11CP8FF1","U11G06X52","U11HH3P7Y","U11MANG9G","U11NUTP4L","U12452RAP","U12AHQ3NK","U12V3D2P2","U13TWBRBL","U15KME666","U16A62N2D","U16NX17P1","U18T2HJRM","U195M30MD","U19PSLZV1","U1B9E51R8","U1C3LNJ58","U1CS08EP3","U1D89DP47","U1F3CQ2HX","U1FEUAG9E","U1GPHH6PQ","U1GRJD9NC","U1HBFGDPV","U1HE3UBFF","U1JT2LQJH","U1KJY9BJQ","U1L2C9F3R","U1M9R3C8Z","U1MSZ37NK","U1NPSMCDS","U1P1ZV6RF","U1P52TCE4","U1PF7CF5F","U1PJBPWV8","U1PSHT5C4","U1TA5FDU7","U1V6SJ1FF","U1W1YHJ80","U20M776SW","U221LL03Z","U22RH7VGT","U24JMTPRQ","U24M29R4G","U2BUWHU5C","U2C55KE65","U2CBG8V9U","U2E516363","U2JLNV77T","U2LHA3Q7K","U2LV4CC6B","U2N8F32KZ","U2NDE1ZCK","U2NG5AX0A","U2P0N5J5A","U2Q0HP4HY","U2Q43TYJH","U2QSXKD89","U2SB7QWS3","U2ST1AR26","U2URL5G8P","U2VGK3JF5","U2W7U5UA3","U2WJPAAJV","U2X9KDDL7","U2Y2V95D2","U2Y3JHRP1","U2Y8XHSUD","U2Y9ZFS48","U2ZSS2D1T","U307KJEDU","U319G36P4","U31M2620Z","U327VGGF9","U32LDD9JA","U32ND8W73","U350X8JMD","U35EMQWK1","U36UDC6RK","U38DC9CCF","U3955QSBD","U3AH3FUQH","U3BD4SWBH","U3BH74NH0","U3BKMJZTK","U3BU07SN7","U3CBDC0JG","U3D5886CB","U3DHKV84C","U3FB31151","U3J48LFUG","U3JGTMWB0","U3LU3AQM8","U3M7LEDT4","U3NCSU999","U3NLGA0FP","U3PBR406M","U3S1PENVA","U3SB11YDD","U3TKE8X3M","U3TNHH1NW","U3U0MV3PZ","U3U415W6T","U3UBGFRQD","U3UU2PMBK","U3V4G8HUZ","U3VDLN47L","U3VKNAAQH","U3WM9K85R","U3X6RA34J","U3XNURGCC","U4091RGRJ"],"text":"<@U0UHG4VP1|ry> archived the channel (w\/ 150 members)","type":"message","subtype":"channel_archive","ts":"1486490626.001525"}]