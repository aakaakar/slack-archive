<html><body><style>
			* {
				font-family:sans-serif;
			}
			body {
				text-align:center;
				padding:1em;
			}
			.messages {
				width:100%;
				max-width:700px;
				text-align:left;
				display:inline-block;
			}
			.messages img {
				background-color:rgb(248,244,240);
				width:36px;
				height:36px;
				border-radius:0.2em;
				display:inline-block;
				vertical-align:top;
				margin-right:0.65em;
			}
			.messages .time {
				display:inline-block;
				color:rgb(200,200,200);
				margin-left:0.5em;
			}
			.messages .username {
				display:inline-block;
				font-weight:600;
				line-height:1;
			}
			.messages .message {
				display:inline-block;
				vertical-align:top;
				line-height:1;
				width:calc(100% - 3em);
			}
			.messages .message .msg {
				line-height:1.5;
			}
		</style><div class="messages"><div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-09-27 14:17</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-09-27 14:17</div><div class="msg">@elli set the channel purpose: Cryptographic operations taking place within fabric.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-09-27 14:17</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-09-27 14:17</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-09-27 14:17</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2016-09-27 14:17</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-09-27 14:17</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bf3f7448fd9e0531a24fd2444e0c752a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">claytonsims</div><div class="time">2016-09-27 14:17</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-09-27 14:17</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-09-27 14:22</div><div class="msg">Hi all</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-09-27 14:22</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/12c90da30ab8bfed856055ae03e5fbde.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">mneug</div><div class="time">2016-09-27 16:38</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-09-27 19:56</div><div class="msg">Hi</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-09-27 19:58</div><div class="msg">So, today and yesterday, the team worked on the protocol buffers for the new message protocol (needed for fabric-next).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-09-27 19:59</div><div class="msg">Also worked on documenting the state encryption on current version of fabric.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-09-27 20:00</div><div class="msg">Finally, we discussed  the bootstrapping problem and came up with a candidate solution for it that we will be sharing with the extended team soon.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9804aef51ff2b9a2166d0383f2cf81ea.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">jeffgarratt</div><div class="time">2016-09-27 20:20</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d2a45fd38d0f864ee8af06466b6e89fa.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">camel</div><div class="time">2016-09-28 04:07</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2ac1a16dc45ffbfabe33d8208a9f920b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">kur</div><div class="time">2016-09-28 09:07</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-09-28 15:38</div><div class="msg">Hi All, today I worked with Volodymyr on the CSP interface focusing on key generation and signing.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fdfda327575c2efa8087a9b69fabb3f1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">pmullaney</div><div class="time">2016-09-29 18:05</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fdfda327575c2efa8087a9b69fabb3f1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">pmullaney</div><div class="time">2016-09-29 19:07</div><div class="msg">hey not sure if this is the right place to ask but I am trying to get the fabric running in development mode with TLS enabled in core.yaml, and I get the following error when starting a chaincode "tls: first record does not look like a TLS handshake"? Anyone have any ideas of what to check?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fdfda327575c2efa8087a9b69fabb3f1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">pmullaney</div><div class="time">2016-09-29 20:49</div><div class="msg">nevermind found the problem</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-09-30 09:27</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bd7a8888155c545b86adab2896fb4b12.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">yoshihara</div><div class="time">2016-10-01 12:36</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-03 08:10</div><div class="msg">Next steps &amp; priorities for cryptology squad: 
1. Transition to the next security architecture
(a) Security review on the protocol messages for the next consensus architecture FAB 351- all ( @aso , @adc, elli) =&gt; Done
(b) Creation of protobuffs based on the previous bullet point FAB 489 - @adc (with help from @aso) =&gt; In progress
(c) Transition the crypto code to the new architecture - @aso =&gt; Todo

2. Modular crypto library, with multi CSP support (FAB-355)
(a) Definition of the crypto provider interface - @adc , @vpaprots , Tamas =&gt; In Progress
(b) Software provider - @vpaprots  =&gt; In Progress
(c) Refactoring on the hyperledger code to use that library - @adc =&gt; In Progress</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2016-10-03 08:11</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-03 08:13</div><div class="msg">We are also working with @keithsmith on finalizing the membership service API, as well as the high level flow of membership service operations (the ones done through the blockchain).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/cf26a0b1c59937e0f68ff31b7cc05c2d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">cca</div><div class="time">2016-10-03 09:28</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-03 14:50</div><div class="msg">@adc uploaded a file: <a href="https://hyperledgerproject.slack.com/files/adc/F2JKXGXEU/protobufmessagesandflow.pdf">https://hyperledgerproject.slack.com/files/adc/F2JKXGXEU/protobufmessagesandflow.pdf</a> and commented: Hi All, this file contains the protobuf messages and the relative flow with the security checks to put in place. This a joint effort with @elli and @aso.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-10-03 17:07</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-23/83480608560_37f6c281c3efc8121d04_72.jpg" /><div class="message"><div class="username">silliman</div><div class="time">2016-10-03 18:37</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-03 19:45</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-03 19:56</div><div class="msg">Hey @elli, just had a long talk with @keithsmith about bootstrapping.  Also talked some with @kostas and @simon and there seems to be considerable resistance to using the transaction format as is for configuration changes as it is complicated to produce and consume.  Maybe this is my poor understanding of the transaction format, so perhaps you can enlighten me.

Still, I would like to see how we can support the use case enumerated in my email a while back.  Namely, I would like to create a binary blob (a configuration) and send it to parties for review and approval (endorsement, but no actual execution or execution results), then collect this into a transaction which can clearly (and efficiently) be identified as a 'configuration transaction'.

I think that if the fabric transaction format can be generalized to support this simply, that would be ideal.  However, it might be simpler just to start from scratch.  I think many of the problems which are being solved for the fabric transaction type can be eliminated for the reconfiguration transaction type because there is no need for unlinkability.  We could also use a globally unique sequence number or some such to prevent replay, as these configuration changes will always allow for a high degree of orchestration.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-03 19:56</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f0e9297c7a9bdf698efe302df2af314b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">grapebaba</div><div class="time">2016-10-04 00:02</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5a3231a4869c2cfd430a8067e6bf87e7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">thiruworkspace</div><div class="time">2016-10-04 00:04</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 09:41</div><div class="msg">I see, yes we would need to make transaction structure simpler for these cases.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 09:47</div><div class="msg">Wondering if it would make sense that we have a special type of proposal called {orderer-reconfig}, that contains information on the new configuration (or parts of its) of the ordering service. Endorsement for this would be null. So overall, the client/orderer-service admin, would need to sign a transaction that has one proposalAction, with proposal header (as is now) and with payload this new configuration file. No EndorsedActions henceforth, just the external transaction signature coming from the orderer-service admin (some sort of simplified fabric-client here).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 09:52</div><div class="msg">The committing peers would need to run some sort of VSCC in this case, that is, make sure that is the defined admin who signed the tx based on the latter configuration, and apply the configuration changes but giving it as input to some sort of  reconfig function.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 09:53</div><div class="msg">Asking @aso, and @adc on this, as we have been discussing a couple of ideas there, also considering re-using our existing chaincode-infrastructure, and endorsement logic. In this case, you would assume  system chaincode proposal that is endorsed with the simulation results (reconfigured orderer-system variables) by the administrator node (priviledged) node. ESCC would be naturally a signature from the latter. And VSCC would be signature checking and direct application of system state updates.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-04 11:07</div><div class="msg">@elli but orderer reconfig needs a (separate) set of signatures to show authorization</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 11:07</div><div class="msg">correct.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 11:09</div><div class="msg">meaning that in the case where one implements this reconfig mechanism by reusing our infrastructure" then configuration would include a CA, potentially and an admin certtificate taht should be providing the endorsement throughout ESCC.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 11:10</div><div class="msg">not sure how this is to run. But assuming that ordering service is separate from the rest of the networks. Shouldnt there be some admin of its? Is it all distributed ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 11:10</div><div class="msg">How would i (i = blockchain developer) know who to pay for this service if we assume that this is offered as service.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 11:11</div><div class="msg">What would the business model be in this case?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-04 11:11</div><div class="msg">no idea how the business angle is</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-04 11:11</div><div class="msg">but last time i talked with binh, the reconfiguration design was:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 11:11</div><div class="msg">cause this would help much in bootstrapping and designing reconfiguration opearations</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-04 11:11</div><div class="msg">orderer network requires a multisig for reconfiguration</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-04 11:12</div><div class="msg">this is entirely independent of the fabric network</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 11:12</div><div class="msg">multisig coming from t out of n orderers?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-04 11:12</div><div class="msg">no, from authorized people</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 11:12</div><div class="msg">cool</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-04 11:12</div><div class="msg">creation of a signed reconfiguration happens offline</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-04 11:13</div><div class="msg">and the reconfiguration can of course change the multisig required to do the next reconfiguration</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 11:13</div><div class="msg">from reconfiguration request perspective it may not be different if you have one or more signatures required. if they come from the client side (assuming a n off-badn way of producing it).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 11:14</div><div class="msg">Meaning that the system could treat this request in the same way.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-04 11:14</div><div class="msg">i expect the format to be "N out of these following certificates need to sign"</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-04 11:15</div><div class="msg">of course you could automate the reconfiguration by using some sort of reconfiguration endorsement chaincode</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-04 11:15</div><div class="msg">but i'd be very careful about this</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-04 11:16</div><div class="msg">because the security of the chain hinges on the orderer configuration</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-04 11:16</div><div class="msg">if somebody can reconfigure it at will, the whole network can be taken over</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 12:52</div><div class="msg">well this refers to the case where you trust onen or a few selective endorsers of course</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 12:53</div><div class="msg">otherwise you would still need t out of n endorsers to endorse this ...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 12:54</div><div class="msg">There needs to be "multisig" when invoking this system chaincode. Now the question is, who should be executing this invocation tx.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 12:56</div><div class="msg">- option 1: selective priviledged endorsers, that provide endorser signatures (known to orderer infrastructure for endorsing system chainocde invocations) and VSCC does what in our chancdes VSCC does: endorser signature check, certificate validation, version checks, and application of state changes.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 12:57</div><div class="msg">- option 2: ESCC is not needed, but VSCC does the execution using peers (orderers) current state. Assuming this is a system chaincode, executed after  the tx is totally ordered, there may not be serious problems there(?) Wdyt?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 12:57</div><div class="msg">Again, without considering channels.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/cf26a0b1c59937e0f68ff31b7cc05c2d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">cca</div><div class="time">2016-10-04 13:02</div><div class="msg">The answer to the question here depends on how modular one wants to make the "orderers" (providing the consensus service but not state). If a 3rd party lib can be plugged in (i believe some folks are looking at Apache Kafka), this must be independent. If considering a self-built consensus service (for reconfig re-using our infrastructure), it *may* use such support; but it would be more modular to construct it first independently, not assuming such explicit interaction with the blockchain peers and requests. I recommend to keep the two separated, keep in mind the possible link, but only link them later.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-04 13:05</div><div class="msg">@elli I don't understand what you're saying</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-04 13:06</div><div class="msg">i don't think the configuration of the orderer network should be tied to anything in the fabric "network"</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:06</div><div class="msg">it should not</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:06</div><div class="msg">they have their own CA/certificates etc..</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-04 13:06</div><div class="msg">reconfiguration requirements are defined as a property of the orderer config</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:07</div><div class="msg">but to some extend if orderers are removed, e.g., fabric endorsers should know no?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-04 13:07</div><div class="msg">orderer reconfig is authorized towards the fabric network because the orderers sign the batch which contains the reconfig</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:07</div><div class="msg">so the client-tx</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:08</div><div class="msg">sorry the client-proposal</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-04 13:08</div><div class="msg">no</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-04 13:08</div><div class="msg">proposal is fabric stuff</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-04 13:08</div><div class="msg">orderers do not need to know about proposals</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:08</div><div class="msg">Not sure about this.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:10</div><div class="msg">Meaning again, it does not have to be chaincode proposal like</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:10</div><div class="msg">but it is a form of a proposal. It is some message that upon advertized to the fabric endorser, will cause some internal state to change.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-04 13:11</div><div class="msg">not only endorser</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:11</div><div class="msg">fabric peer.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-04 13:11</div><div class="msg">to all consumers of the orderer output</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:11</div><div class="msg">correct.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-04 13:11</div><div class="msg">so in a way it is a management message originating from the ordering service</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:12</div><div class="msg">But what is not clear to me, is the following. Do orderers already have a protocol in place that would enable them to validate reconfiguration messages among them?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-04 13:12</div><div class="msg">we don't have code for that yet</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-04 13:13</div><div class="msg">but essentially a reconfiguration request/message which does not bear the right signatures would be discarded</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:13</div><div class="msg">Right. So, since there are many common points (the way is see it) from security perspective with the proposal messaging, and state updates, etc. why cant we reuse what we have</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:13</div><div class="msg">?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-04 13:13</div><div class="msg">if it contains the right signatures, it gets ordered and applied after ordering</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:13</div><div class="msg">Correct.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:14</div><div class="msg">So this is option 2</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:14</div><div class="msg">(from the list above).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-04 13:14</div><div class="msg">we can reuse what we have if that code is simple and does not introduce extra dependencies</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-04 13:15</div><div class="msg">checking these signatures does not require a CA and tcerts and whatnot</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:17</div><div class="msg">right</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:18</div><div class="msg">But, to a large extend this should be hte case for our transactions.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:18</div><div class="msg">As membership service moves to a library.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-10-04 13:26</div><div class="msg">How would that be the case with membership services moving to a library?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:28</div><div class="msg">What i mean is that membership service code will become a library, for ppl to use it as they wish.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:28</div><div class="msg">Many ppl already have the requirement of adding their own certificates etc.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:28</div><div class="msg">So, we have to face the same problem in transactions.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:29</div><div class="msg">We need to make the structure generic enough to capture potentially different types of certificates than our</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:29</div><div class="msg">ECerts/TCerts.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:29</div><div class="msg">transaction/proposal etc meaning.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:31</div><div class="msg">So, for me it does exist some ordering service root CA, and some fabric network root CA.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:32</div><div class="msg">And both networks need to know both of them.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-04 13:32</div><div class="msg">Perhaps there is some deployment scenario I am not thinking of, but I don't anticipate the orderer service needing a CA</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:32</div><div class="msg">(or more than one)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/cf26a0b1c59937e0f68ff31b7cc05c2d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">cca</div><div class="time">2016-10-04 13:32</div><div class="msg">For keeping the orderer service modular, it must not know of transactions, only broadcast requests; there will be a special request that triggers its reconfiguration, just like here : <a href="http://www.di.fc.ul.pt/~bessani/publications/dsn14-bftsmart.pdf">http://www.di.fc.ul.pt/~bessani/publications/dsn14-bftsmart.pdf</a>, page 3. From the orderer service, a CA is not strictly needed, a list of identities can be enough.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:32</div><div class="msg">CA or certificates of the peers.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/cf26a0b1c59937e0f68ff31b7cc05c2d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">cca</div><div class="time">2016-10-04 13:32</div><div class="msg">certificates = public keys, you mean?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:33</div><div class="msg">right</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/cf26a0b1c59937e0f68ff31b7cc05c2d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">cca</div><div class="time">2016-10-04 13:33</div><div class="msg">(they are called ceritificates, but they are not really certificates that need an anchor with a CA cert)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/cf26a0b1c59937e0f68ff31b7cc05c2d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">cca</div><div class="time">2016-10-04 13:33</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:33</div><div class="msg">agreed.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:34</div><div class="msg">@cca, well from what i understood from latter discussions is that the orderers would need to assess client signature on the transactions.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:35</div><div class="msg">Also orderers are not to accept messages from anyone, there has to be some authentication, especially when it comes to submitting messages to different channels.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/cf26a0b1c59937e0f68ff31b7cc05c2d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">cca</div><div class="time">2016-10-04 13:35</div><div class="msg">yes, but maybe they can call some component to keep it modular: orderer asks component: is this a valid message to broadcast?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:35</div><div class="msg">Will though need to check the kafka channels access control there.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:36</div><div class="msg">Exactly. Which is the part associated to ordering service configuration management.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:36</div><div class="msg">(in the fabric)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:36</div><div class="msg">Sorry, the other way round.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:37</div><div class="msg">Which is the part associated to fabric network authentication mechanisms.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:37</div><div class="msg">But not clear what is the business model here.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:38</div><div class="msg">:disappointed:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/cf26a0b1c59937e0f68ff31b7cc05c2d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">cca</div><div class="time">2016-10-04 13:38</div><div class="msg">?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5a3231a4869c2cfd430a8067e6bf87e7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">thiruworkspace</div><div class="time">2016-10-04 13:53</div><div class="msg">Hi Elli, In this text "client signature on the trans..", the client signature would be coming from the client SDK right? additionally, do you except both the cert and the sign digest... or does fabric have a public ledger of participants public keys?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:55</div><div class="msg">Hi, so the "client signature on the trans.." refers indeed to the client-sdk produced one, correct.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:56</div><div class="msg">The transaction structure, has already a field in its header referring to a "creator", that should be matching the signature included in the transaction.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:56</div><div class="msg">Where by transaction structure, i refer to the one in the .pdf that Angelo posted :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:57</div><div class="msg">@elli mentioned a file: <a href="https://hyperledgerproject.slack.com/files/adc/F2JKXGXEU/protobufmessagesandflow.pdf">https://hyperledgerproject.slack.com/files/adc/F2JKXGXEU/protobufmessagesandflow.pdf</a>.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:58</div><div class="msg">There is no assumption for the certificates being publicly available somewhere, especially cause that certificate could be anonymous. Enrollment certificates could make sense to be publicly available.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 13:59</div><div class="msg">What is publicly available and inserted in some form in the blockchain, is the root ca that signs peers/clients' certificates.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-04 14:03</div><div class="msg">@elli Another case I thought of for supporting a secondary transaction format.  I am thinking of the case where a group of parties wants to put an assertion on the chain, but actually modifying state does not make sense.  For instance, with a side-chain, the participants might want to push a hash onto the main chain, asserting that everyone agrees with the current state of the side-chain.  You could of course implement this as a custom chaincode that creates a random key and assigns the hash to it, but that's a little indirect and almost obfuscated.  It seems like there are other cases where the transaction is just a group attestation (which has no meaning to anyone not involved)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 14:04</div><div class="msg">Aha, so you are saying that there may be needs, where ResponsePayload does not need to have extensions.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-04 14:07</div><div class="msg">Yes, I would argue that ProposalResponsePayload would be empty in these cases</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 14:07</div><div class="msg">no epoch</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-04 14:07</div><div class="msg">?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-04 14:09</div><div class="msg">Ah, I guess there is an epoch and hash buried in there, so it would just be the extensions</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-04 14:10</div><div class="msg">Why is the ProposalHash and Epoch in that submessage instead of in the ProposalResponse?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-04 14:10</div><div class="msg">Oh, I see, because that is what is actually signed</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-04 14:11</div><div class="msg">But it's confusing to me then, that `ProposalResponse.Response` is not included in the signature</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-04 14:55</div><div class="msg">can we use ASN1 DER for all messages that are referenced by the root hash?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-04 15:12</div><div class="msg">Root hash? My concern is that these messages must necessarily be allowed to occur later in the chain as well.  If we use ASN1 DER, it seems like we need to have an envelope which types the encoding</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0a3b6c3d9bc289e61d2fd2c3c7e4a8c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">soldat</div><div class="time">2016-10-04 19:14</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-10-04 23:59</div><div class="msg">@elli @cca: Kafka does indeed keep it pluggable here -- they just define an `Authorizer` interface. (They also ship with a basic implementation of it that they call `SimpleAclAuthorizer`.)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-10-05 00:01</div><div class="msg">When the broker starts up, it constructs the Authorizer object and initializes it with a config. The ACLs are posted in the ZooKeeper ensemble. When the first request comes in, the broker checks its auth cache -- it's empty, so it requests it from ZK and caches it for all subsequent requests.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-10-05 00:02</div><div class="msg">If you want to dive into more detail, KIP-11 makes for a good starting point: <a href="https://cwiki.apache.org/confluence/display/KAFKA/KIP-11+-+Authorization+Interface">https://cwiki.apache.org/confluence/display/KAFKA/KIP-11+-+Authorization+Interface</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-10-05 00:04</div><div class="msg">And this post provides step-by-step directions for hands-on experimentation: <a href="http://www.confluent.io/blog/apache-kafka-security-authorization-authentication-encryption/">http://www.confluent.io/blog/apache-kafka-security-authorization-authentication-encryption/</a> </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-05 06:36</div><div class="msg">Thanks much @kostas!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-10-05 13:10</div><div class="msg">You're welcome</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2016-10-05 18:01</div><div class="msg">Question.. TCert derivation algorithm. And HSMs.. does anyone have experience with Safenet? or Thalos? and their custom apis?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2016-10-05 18:02</div><div class="msg">I've been trying to see how to support HSMs in the fabric.. thats one piece that is not PKCS11-pluggable.. ideas how you would implement it with your favorite HSMs?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2016-10-05 18:03</div><div class="msg">@troyronda ^^^ FYI</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/291eef0806ea9dfea82c15c099c2a890.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">troyronda</div><div class="time">2016-10-05 18:03</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-05 19:06</div><div class="msg">@elli Have you given any thought to the other transaction format discussed yesterday?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/eb4a014964885f16a760546340b5daa0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">cbf</div><div class="time">2016-10-05 19:14</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/291eef0806ea9dfea82c15c099c2a890.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">troyronda</div><div class="time">2016-10-05 22:01</div><div class="msg">@vpaprots yes - have the functionality that is outside of the normal PKCS11 to be pluggable for each HSM vendor… and have as much as possible go to the HSM vendor’s normal PKSCS11 library (e.g., ECerts).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5a3231a4869c2cfd430a8067e6bf87e7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">thiruworkspace</div><div class="time">2016-10-05 23:48</div><div class="msg">just to clarify it could be root and other intermediate certs as well right?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5a3231a4869c2cfd430a8067e6bf87e7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">thiruworkspace</div><div class="time">2016-10-05 23:54</div><div class="msg">@elli additionally, can we also publish the CRL certs in the blockchain?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-06 06:26</div><div class="msg">@jyellick, regarding your question on why `ProposalResponse.Response` is not included in the signature, the answer is that at the message level we care to put signatures on what will end up in the ledger and ProposalResponse.Response will not go to the ledger. The hidden assumption is that TLS is running and that protests ProposalResponse.Response. But I will give to is a second thought :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-06 06:30</div><div class="msg">@jyellick, regarding the other transaction format, I guess you refer to the assertion type. In this case, would ProposalResponsePayload.extension contain the assertion itself? Does the assertion need an endorsement? If a group of endorsers (from a subledger) wants to assert something on the main ledger, probably they don't want to reveal that the assertion is coming from a certain subledger but at the same time there must be a way for the committing peer to validate this assertion, no?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-06 06:56</div><div class="msg"><a href="https://hyperledgerproject.slack.com/archives/fabric-crypto/p1475735182000170">https://hyperledgerproject.slack.com/archives/fabric-crypto/p1475735182000170</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-06 06:57</div><div class="msg">@adc, @jyellick: we may want to change name on this field, cause indeed ProposalResponse.Response would make people think this piece as the core part of the response :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-06 06:58</div><div class="msg">make sense</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-06 07:03</div><div class="msg">@thiruworkspace : Right. Especially for the peer (endorser) certificates it would make sense to announce the whitelist or the blacklist of certificates through the blockchain. This would prevent committing peers coming to different conclusions w.r.t. a specific endorser certificate (providing a signature in the transaction) is invalid.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-06 07:07</div><div class="msg">For user-certificates, one could follow the same path, though in this case the responsibility of checking the certificate validity of the user may be passed to the endorsers of the chaincode that user tries to invoke, and not checked for validity at the committing peer side. The latter is something that @vukolic  proposed. That would work as long as we do not have the requirement to support transactions whose execution/validity takes place at the committing peer side entirely.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/302a64f5f51a7f8dc83c0881f4520eb5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">stevenroose</div><div class="time">2016-10-06 07:28</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-06 07:39</div><div class="msg">Just created another channel to discuss these protobufs, called fabric-next-proto.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-06 07:39</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-06 08:43</div><div class="msg">@kostas, thanks for the links about kafka authorization. Is it already in the plan to support kafka in the fabric? In order for the consensus to be pluggable we would need a way to generalize access control at the fabric, right?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5a3231a4869c2cfd430a8067e6bf87e7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">thiruworkspace</div><div class="time">2016-10-06 11:11</div><div class="msg">:+1: .. would this be included within any existing JIRA?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-06 11:21</div><div class="msg">Hm, I believe <a href="https://jira.hyperledger.org/browse/FAB-116">https://jira.hyperledger.org/browse/FAB-116</a> should cover this, though it does not clarify a CRL. @keithsmith would know.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-10-06 13:08</div><div class="msg">@adc: It is not, and I don't think it will be any time soon. The Kafka option is there to (a) test whether we're building the orderer plugins in a modular way, and (b) have a point of reference when it comes to block throughput and latency. <a href="https://jira.hyperledger.org/browse/FAB-32">https://jira.hyperledger.org/browse/FAB-32</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-06 13:10</div><div class="msg">got it, thanks. Anyway, we need to design an api that allows to specify the credentials at the consensus client side</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-06 13:10</div><div class="msg">And it should be generic enough too.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-06 13:11</div><div class="msg">We might take as point of reference KAFKA for this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-10-06 13:11</div><div class="msg">Agreed, that was my thinking anyway.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-06 13:24</div><div class="msg">good!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2326b81240e0f1f9c75832ba8e47a1ad.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">michele</div><div class="time">2016-10-06 14:11</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5a3231a4869c2cfd430a8067e6bf87e7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">thiruworkspace</div><div class="time">2016-10-06 21:35</div><div class="msg">Yes, i agree. We plan to use the same certificate of the endorsement peer for the signing as well.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5a3231a4869c2cfd430a8067e6bf87e7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">thiruworkspace</div><div class="time">2016-10-06 21:36</div><div class="msg">@elli can you share the doc or jira for endorsement peers certificate validating interface or method, please?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-10-07/88617702609_4e768997ffb902175e26_72.jpg" /><div class="message"><div class="username">zdavatz</div><div class="time">2016-10-07 08:45</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/69f561e40c2d1993fac56653c2b620b0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">mart0nix</div><div class="time">2016-10-07 13:42</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/69f561e40c2d1993fac56653c2b620b0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">mart0nix</div><div class="time">2016-10-07 13:42</div><div class="msg">hello</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/69f561e40c2d1993fac56653c2b620b0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">mart0nix</div><div class="time">2016-10-07 13:43</div><div class="msg">sharing some feedback about our business application requirements in terms of auditing</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/69f561e40c2d1993fac56653c2b620b0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">mart0nix</div><div class="time">2016-10-07 13:43</div><div class="msg">We currently envision the following roles
• Lead Auditor
• Auditor
• Regulator/Law Enforcement Lead
• Regulator/Law Enforcement Agent
• Supply-Chain Member Lead
• Supply-Chain Member General Agent
• Supply-Chain Member Limited Agent

the leads will create delegate roles (agents)
I found that the fabric supports delegate roles which I think it's a great idea
I wasn't clear if the current delegation feature works on system-level roles (admin, client, auditor) or it could also work on user-defined roles</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/17b31618e57ef820cb8ae1afc0c57967.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">tim.s</div><div class="time">2016-10-07 14:45</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-10 07:20</div><div class="msg">Hi, @mart0nix, thanks!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-10 07:22</div><div class="msg">So far the attributes/roles specified in the fabric TCerts of a user who is in possession of an attribute/role, are managed/certified by the membership service.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-10 07:23</div><div class="msg">But it is true that the notion of "registrar" exists, where "registrar" is an entity that can register other users into the membership service.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-10 07:26</div><div class="msg">@thiruworkspace : So for the membership services API, this is to be accommodated via this jira item <a href="https://jira.hyperledger.org/browse/FAB-389">https://jira.hyperledger.org/browse/FAB-389</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-10 07:30</div><div class="msg">With the endorsing peers validation APIs and process are related the following jira items: <a href="https://jira.hyperledger.org/browse/FAB-40">https://jira.hyperledger.org/browse/FAB-40</a>,  <a href="https://jira.hyperledger.org/browse/FAB-397">https://jira.hyperledger.org/browse/FAB-397</a>. For validation of their endorsements (signature validation if endorsement is only a signature) the membership services APIs (in FAB-389) should cover this. @jyellick , @muralisr to confirm :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5a3231a4869c2cfd430a8067e6bf87e7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">thiruworkspace</div><div class="time">2016-10-10 16:02</div><div class="msg">Thanks @elli</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-10 16:14</div><div class="msg">Keith Smith posted high level google document -CFSSL. The only thing we will do uniquely is TCERT generation and we would use CFSSL for ECERT generation.  Elli said they were going to look to see if the API on the same or wrapper they can use.  They need some modularity of crypto and all the fabric can go through that so if some company or 3rd party- they can substitute their implementation - they can substitute the lever itself-- that way they can do it easily and not managing fabric code deeper.  Elli wants to check to see if CFSSL can do that--&gt; this is for version 1.0</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-10 16:16</div><div class="msg">PKCS11 is something that is supported from HSM.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-10 16:17</div><div class="msg">The question is where does this API sit in terms of CFSSL for HSM support?  WE are not concerned that HSM is not possible with CFSSL- concerned if the interface that CFSSL crypto library is compatible with the Hyperledger crypto interface, and we need to make sure there are no conflicts.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-10 16:18</div><div class="msg">Keith and Elli said they may take a look tomorrow and post on slack to see what's in the CFSSL code</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-10 16:22</div><div class="msg">Key lifecycle is being worked- generate key, derive key and sign/verify capabilities methods, and one of the goals is to plug in their own. Angelo has been working on this for bccsp.  Angelo  wants to try to post slides to get feedback as this is recent items he's been working on.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-10 16:25</div><div class="msg">BCCSP is the blockchain cryptographic service provider that offers the implementation of cryptographic standards and algorithims. This covers key lifecycle, sign/verify operation, and encrypt/decrypt operation.  Genkey, derivekey, getkey, importkey, sign, verify, encrypt, decrypt are the different type of BCCSP interfaces he's working.  He tried to submit this in the implementation in his PR today.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-10 16:27</div><div class="msg">what is the difference between getkey/importkey relative to SKI?-- SKI is subject key identifier- when you want to address key on HSM, you need to have SKI -unique key in HSM.  For example, Your enrollment key of endorser will come with an SKI- this way it does not leak any information of the key.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-10 16:28</div><div class="msg">There is typekey interface- key represents a key. it can be a symmetric or assymetric. In case of an asymmetric key, the key can be public or private. in case of private assymetric, the publickey() method allows to retrieve the corresponding public-key.  A key can be referenced via the subject key identifier (getSKI)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-10 16:31</div><div class="msg">There are 5- fabric crypto provide submissions- starting with 1605 (which is under code review)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-10 16:38</div><div class="msg">Angelo plans to post a set of carts talking about the BCCSP</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-10 16:39</div><div class="msg">```
The question is where does this API sit in terms of CFSSL for HSM support?  WE are not concerned that HSM is not possible with CFSSL- concerned if the interface that CFSSL crypto library is compatible with the Hyperledger crypto interface, and we need to make sure there are no conflicts.
```

this statement confuses me.  CFSSL is simply a mechanism to request signed certificates.  On the client side, it can generate the equivalent of a CSR and on its "server" side (also via command line) it can issue signed X509 certificates.  It includes an interface for plugging in PCKS11 libraries.   You can actually check out the code from letsencrypt where they actually provide a concrete implementation of a PKCS11 provider</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-10 16:42</div><div class="msg">One area that help could be used for community how to plug in CSP for China, etc,..</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-10 17:58</div><div class="msg">@garisingh: BCCSP (Blockchain crypto service provider) aimed to offer an low-level interface to do key-generation/sign/verify signature and encrypt/decrypt using certain algorithms. Thus the question came up (by @keithsmith) if the interface of crypto library used within CFSSL is compatible with the one of BCCSP. That is if we could use BCCSP as a single crypto library / dependency in the system.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1b110ac05e73007f0db766daa9812959.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">hart.montgomery</div><div class="time">2016-10-10 18:34</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-10 18:55</div><div class="msg">Thanks @elli.  most of cfssl is a wrapper around go crypto anyway.  But I don't see why it would be an issue</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-10 18:56</div><div class="msg">Aha, ok. So, we could implement our wrapper around our crypto library?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-10 18:56</div><div class="msg">Just a question of whether we could make cfssl "refer" to our crypto lib</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-10 19:27</div><div class="msg">cfssl is really just a library for certificate authority activities.  So not sure we would even need to go that far?   we should just leverage it to perform PKI CA functions?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2016-10-10 19:30</div><div class="msg">so are you saying that we should or shouldn’t use cfssl apis to generate an ecert?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-10 19:40</div><div class="msg">we should</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2016-10-10 19:41</div><div class="msg">so we would need to somehow plugin the bccsp apis underneath the cfssl api to generate the ecert it seems</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2016-10-10 19:42</div><div class="msg">am I missing something?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-10 19:48</div><div class="msg">why underneath?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-10 19:49</div><div class="msg">what's so special about an eCert?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-10 19:50</div><div class="msg">it's an ECC private key and then request a signed X509 public key</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-10 19:55</div><div class="msg">on the other hand, you don't have to use cfssl to generate the private key (and thus the public key) at all</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2016-10-10 19:58</div><div class="msg">I was looking at using the following cfssl api to gen the root cert for example.  If we use this, then the private key is created underneath this api</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2016-10-10 19:58</div><div class="msg">cfssl gencert -initca CSRJSON</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2016-10-10 20:00</div><div class="msg">I’m trying to find which APIs I could call which would allow me to gen my own private key and pass it in</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-10 20:02</div><div class="msg">ah - that's on the CA side</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-10 20:02</div><div class="msg">which I would see ZERO use for bccsp</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-10 20:02</div><div class="msg">I though you were talking about a client who want to get an eCert?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2016-10-10 20:03</div><div class="msg">no, they were talking about plugging the bccsp apis into membersrvc in v0.6</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/69b67412601eb4b6d157d5742216e4f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">adrianhopebailie</div><div class="time">2016-10-10 20:03</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2016-10-10 20:04</div><div class="msg">so i started wondering how this would work in v1 when using cfssl in a cop server</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-10 20:04</div><div class="msg">in a cop server I don't think you use bccsp at all</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-10 20:06</div><div class="msg">well - I'll take that back - it depends on the APIs you present form the server - I see you are still looking at using grpc-based external API for cop server in v1?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2016-10-10 20:07</div><div class="msg">i take by your asking that you think we should stick with REST?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2016-10-10 20:07</div><div class="msg">we aren’t far down that path</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-10 20:08</div><div class="msg">I think REST / HTTP would be easier for clients to integrate with - for example a mobile device which wants to enroll.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-10 20:09</div><div class="msg">seems like cfssl had a decent set of REST/HTTP APIs and actually just recently added some type of auth endpoint as well?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2016-10-10 20:11</div><div class="msg">i haven’t seen the auth endpoint, but i’ll look again … anyway, I wasn’t sure if mixing REST for cop and GRPC only for peer was preferable, but certainly makes it easier … though maybe more work for SDKs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-10 20:14</div><div class="msg">most other CAs will have HTTP-based endpoints as well - e.g. any SCEP-based CA.  So reality is there will always be a mix of HTTP and GRPC when pulling in different CAs.  I am not opposed to GRPC for COP either.  But if we can leverage as much of CFSSL as possible should save some time.  Of course you could probably look at possibly replacing the CFSSL API server with the GRPC APIs as well.  I briefly checked that our yesterday but not in enough depth to actually see how feasible it would be</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2016-10-10 20:16</div><div class="msg">ok … we’ll support REST 1st and only add GRPC if/when needed</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2016-10-10 20:18</div><div class="msg">I just git pulled and don’t see the auth endpoint but will look deeper.  That actually was the other reason I was going for GRPC, because it wasn’t clear how intrusive it would be to add security to the existing endpoints</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-10 20:23</div><div class="msg">in the docs section of cfssl there was something about authentication</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2016-10-10 20:31</div><div class="msg">yes, see it … thx</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b85e5a76c3739ed343e37534b8a1aa06.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">nikileshsa</div><div class="time">2016-10-10 20:54</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-03-23/28802739911_645cbdfdaf402e8cb93c_72.png" /><div class="message"><div class="username">gengjh</div><div class="time">2016-10-11 06:27</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-11 08:41</div><div class="msg">@garisingh, @keithsmith, @lli: if I got it correctly, CFSSL exposes an interface called signer.Signer that can be used to plug different signing capabilities. So, if we really want, we can potentially put our BCCSP there.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-11 08:42</div><div class="msg">I'm also trying to understand how HSM is integrated in CFSSL but I'm struggling in setting it up using SoftHSM. Any idea?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-11 09:11</div><div class="msg">here's a link to see work that the LetsEncrypt team did - <a href="https://github.com/letsencrypt/pkcs11key">https://github.com/letsencrypt/pkcs11key</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-11 09:21</div><div class="msg">Yes, yes. So, essentially in CFSSL one creates a new local signer (local.NewSigner) and passes a crypto.Signer. Then, letsencrypt provides the PKCS11-based crypto.Signer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-11 09:21</div><div class="msg">super easy</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-11 09:21</div><div class="msg">actually, we have to do the same in fabric</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-11 09:21</div><div class="msg">we need a BCCSP-based crypto.Signer in order to sign TCert and ECert</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-11 09:22</div><div class="msg">so the BCCSP can be integrated in CFSSL easily</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-11 09:22</div><div class="msg">if needed at all</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-10-11/89893364727_e99de03eca82225205d1_72.jpg" /><div class="message"><div class="username">hurui777</div><div class="time">2016-10-11 11:44</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3b475310e0fc0109a359ec4a5a85e4ac.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">crazybit</div><div class="time">2016-10-11 12:03</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-12 13:21</div><div class="msg">@adc uploaded a file: <a href="https://hyperledgerproject.slack.com/files/adc/F2NCNDPR8/bccsp.pdf">https://hyperledgerproject.slack.com/files/adc/F2NCNDPR8/bccsp.pdf</a> and commented: Hi All, this is a deck of slides describing the Blockchain Crypto Service Provider (BCCSP). It is designed to offer the implementation of cryptographic standards and algorithms.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-12 16:01</div><div class="msg">This is also relevant to jira item FAB-354, FAB-355 :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/eeb13ace520a1f7392a40f437635fc77.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">lakshanap</div><div class="time">2016-10-12 17:30</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-10-13/90760658357_c768843f0e1c9ac8aa48_72.png" /><div class="message"><div class="username">pospi</div><div class="time">2016-10-13 02:20</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-10-13/90760658357_c768843f0e1c9ac8aa48_72.png" /><div class="message"><div class="username">pospi</div><div class="time">2016-10-13 02:24</div><div class="msg">Hey all, can anyone point me in the direction of multisig chaincode examples? Or is that more of an auth layer question...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-13 07:41</div><div class="msg">Hi @pospi, what do you want to achieve exactly?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-10-13/90760658357_c768843f0e1c9ac8aa48_72.png" /><div class="message"><div class="username">pospi</div><div class="time">2016-10-13 08:31</div><div class="msg">we're thinking about resource authorization- say there is an asset stored in an S3 bucket or Dropbox folder that party A owns and wants to provide to party B- so A requests release of the asset and B accepts to recieve the authorization URL. That would be the simplest version but there may be times when multiple entities are signatories to party A</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-13 08:36</div><div class="msg">That sounds as and endorsement process. A would send a proposal to transfer the asset and this proposal has to be endorsed by B plus all (or a threshould of) signatories to party A. How does this sound to you?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-13 08:37</div><div class="msg">@adc @pospi - I think we need to be careful here in terms of "endorsement".  @pospi - are you looking to do some type of signature workflow?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-13 08:38</div><div class="msg">how does B know to accept the authorization URL?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-14 07:34</div><div class="msg">Hi, just posted here alternative ways to generate TCerts that do not require HSM firmware extension, and their trade-offs.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-14 07:34</div><div class="msg"><a href="https://jira.hyperledger.org/browse/FAB-635">https://jira.hyperledger.org/browse/FAB-635</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-14 11:59</div><div class="msg">@elli - I'll assume we should comment in the JIRA?  Probably best so we can see the history?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/eb4a014964885f16a760546340b5daa0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">cbf</div><div class="time">2016-10-14 12:35</div><div class="msg">@garisingh +1 to using JIRA to discuss the proposal</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-14 12:42</div><div class="msg">added my first comment(s) for anyone interested</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4aabb626057193b11083f0ba50eff4a7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">n.ohagan</div><div class="time">2016-10-14 13:55</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-10-13/90760658357_c768843f0e1c9ac8aa48_72.png" /><div class="message"><div class="username">pospi</div><div class="time">2016-10-17 01:28</div><div class="msg">@adc @garisingh that sounds pretty much like what I want! Authorization URLs would be sent via application-level services, at this stage probably just hashed verification links sent via email.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-11-01/98748441027_99df2271cbd1bb281377_72.jpg" /><div class="message"><div class="username">aliblackwell</div><div class="time">2016-10-17 10:03</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-17 15:39</div><div class="msg">Talking with Keith Smith and Angeloa de Caro today-&gt; One of the questions that came up last week was whether bcssp (crypto service provider for blockchain) would work related to cfssl- there is no problem plugging that in and we have proven that out.   Angelo also has 11 change sets to check in bcssp, but noone has reviewed it yet.  I suggested going to fabric-maintainers and requesting help.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-17 15:41</div><div class="msg">The HSM work is being put in 0.6.  This week, Angelo will start the implementation on client SDK at committing peers to perform signature and verification of signatures for Version 1.0.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-17 15:42</div><div class="msg">Elli submitted deck of slides on channel bootstrapping and putting it on Jira-- I asked Angelo to get the right JIRA numbers posted here.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-17 16:48</div><div class="msg">I have actually looked at some of the bcssp stuff</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-17 16:49</div><div class="msg">Here's the problem - I / we want to be done with v0.6.  You just saw the struggle we had actually getting that thing out and we are going to have to fix bugs against it.  It frankly seems very risky and not worth our time overall to try to merge this stuff into the v0.6 branch.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-17 17:29</div><div class="msg">folks - no other comments about <a href="https://jira.hyperledger.org/browse/FAB-635">https://jira.hyperledger.org/browse/FAB-635</a>?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-10-17 17:53</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/79a69e4cd1792300d958febd0faaf929.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">ryokawawork</div><div class="time">2016-10-18 01:29</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/79a69e4cd1792300d958febd0faaf929.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">ryokawawork</div><div class="time">2016-10-18 01:44</div><div class="msg">Hi, is there any documentation for the specification of encryption of the transactions and the world state (KVS)? I am asking this because it is often required to encrypt databases in the financial industry. And also I am thinking about using the history of the transactions for auditing, where decryption of the transaction payloads is required.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/79a69e4cd1792300d958febd0faaf929.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">ryokawawork</div><div class="time">2016-10-18 01:48</div><div class="msg">According to the source codes (fabric/sdk/node/src/hfc.ts, and fabric/core/crypto/validator_state.go), the payload of a invoke transaction is encrypted by a one-time public key, its private key is encrypted by the chain key, and transferred to a peer using toValidator field of a transaction.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/79a69e4cd1792300d958febd0faaf929.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">ryokawawork</div><div class="time">2016-10-18 01:51</div><div class="msg">A value of the world state is encrypted by State Key, which is derived  from the Chain Key and used fro decryption of return values of query transactions. Keys (of KVS) are not encrypted. The Chain Key is common to all the members and is a symmetric key.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/79a69e4cd1792300d958febd0faaf929.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">ryokawawork</div><div class="time">2016-10-18 01:54</div><div class="msg">Am I understanding the spec correctly?  I am also reading Protocol Spec, but bit confused. I suppose this document includes future plans, or parts which is not up-to-date...  <a href="http://hyperledger-fabric.readthedocs.io/en/latest/protocol-spec/#4-security_1">http://hyperledger-fabric.readthedocs.io/en/latest/protocol-spec/#4-security_1</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/79a69e4cd1792300d958febd0faaf929.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">ryokawawork</div><div class="time">2016-10-18 01:55</div><div class="msg">I am now using Fabric v0.6.0-preview.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-18 06:50</div><div class="msg">@garisingh, understandable. Luckily that code can be reused in v1 easily</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-18 06:56</div><div class="msg">@ryokawawork, you are mostly correct. regarding transactions, let me clarify that the chain key is public-key whose associated secret key is distributed to all the validators at enrollment time. For the state, there is a root state key that is specified in the deploy transaction. From this key, the code derives the keys and the IVs. The chain (secret) key is involved in this process only to extract the root state key from the deploy transaction</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-18 06:58</div><div class="msg">@weeds, just to clarify, Alessandro will work on the implementation on client SDK at endorsing/committing peers to perform signature and verification of signatures for Version 1.0. Elli, will submit slides on channel bootstrapping asap. Thanks :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/79a69e4cd1792300d958febd0faaf929.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">ryokawawork</div><div class="time">2016-10-18 07:24</div><div class="msg">@adc Thank you! I had misunderstood the chain key. The chain key is not a symmetric key but a public key used by members and the associated private key is used by validators to decode the transaction. And also thanks about explaining the root state key.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-18 07:24</div><div class="msg">sure :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/69f561e40c2d1993fac56653c2b620b0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">mart0nix</div><div class="time">2016-10-18 08:04</div><div class="msg">can this information regarding the various keys and how they are used together become part of a Wiki</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-18 08:06</div><div class="msg">@adc when Allessandro works on SDK, it’ll be nice to add the features to CLI  (some minimal form) to make it easy for users to test it just with the peer code</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-18 08:06</div><div class="msg">I can help with that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-18 08:07</div><div class="msg">ie,` ./peer chaincode …. `` form</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-18 08:08</div><div class="msg">hopefully it won’t be too much work … just a practical usability thing</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-18 10:08</div><div class="msg">@muralisr, @aso it makes sense to me :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-10-02/86484131809_98f434aa95099ce5d394_72.jpg" /><div class="message"><div class="username">jamieobe</div><div class="time">2016-10-18 14:59</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-18 15:19</div><div class="msg">Hi All, today I continued working on the protobuf messages (<a href="https://gerrit.hyperledger.org/r/#/c/1561/">https://gerrit.hyperledger.org/r/#/c/1561/</a>) and the BCCSP preparing slides to explain the BCCSP Factory. I will post them asap</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-18 15:21</div><div class="msg">@adc i meant to ask… perhaps we should come up with a cooler name than BCCSP ? At some point the name’s going to matter I’d think ? Just a thought….</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-18 15:22</div><div class="msg">feel free to ignore :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-18 15:22</div><div class="msg">we love it :disappointed:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-18 15:22</div><div class="msg">ok then</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-18 15:22</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-18 15:22</div><div class="msg">but fine, we can, of course, change it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-18 15:22</div><div class="msg">heheheh :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-18 15:23</div><div class="msg">the idea was to clarify that this CSP was related to the specific needs of the fabric</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-18 15:23</div><div class="msg">not something super general able to cover all the possible needs ever</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-18 15:26</div><div class="msg">agreed… (still nice to say  “cell phone” as opposed to “a device for remote wireless communication”) .. just wanted to put that out. Not important right now of course</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-18 15:28</div><div class="msg">reiterate that - just wanted to put that thought so you can think about it when you are bored :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-18 15:36</div><div class="msg">Hi all, today I did some preliminary work to take on FAB-580 as soon as we settle on the core of the next architecture</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-18 16:25</div><div class="msg">i thought I would share some information that Elli shared with me that might be helpful</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-18 16:25</div><div class="msg">Work items associated with fabric-CSP (BC-CSP), i.e., FAB-354, FAB-355, FAB-615 has been completed from our side (Angelo) and is now on Gerrit under review. In fact 11 changesets have been submitted there (as listed below):
<a href="https://gerrit.hyperledger.org/r/#/c/1605/1">https://gerrit.hyperledger.org/r/#/c/1605/1</a>
<a href="https://gerrit.hyperledger.org/r/#/c/1641/2">https://gerrit.hyperledger.org/r/#/c/1641/2</a>
<a href="https://gerrit.hyperledger.org/r/#/c/1645/2">https://gerrit.hyperledger.org/r/#/c/1645/2</a>
<a href="https://gerrit.hyperledger.org/r/#/c/1647/2">https://gerrit.hyperledger.org/r/#/c/1647/2</a>
<a href="https://gerrit.hyperledger.org/r/#/c/1653/2">https://gerrit.hyperledger.org/r/#/c/1653/2</a>
<a href="https://gerrit.hyperledger.org/r/#/c/1683/2">https://gerrit.hyperledger.org/r/#/c/1683/2</a>
<a href="https://gerrit.hyperledger.org/r/#/c/1689/2">https://gerrit.hyperledger.org/r/#/c/1689/2</a>
<a href="https://gerrit.hyperledger.org/r/#/c/1691/2">https://gerrit.hyperledger.org/r/#/c/1691/2</a>
<a href="https://gerrit.hyperledger.org/r/#/c/1693/2">https://gerrit.hyperledger.org/r/#/c/1693/2</a>
<a href="https://gerrit.hyperledger.org/r/#/c/1695/2">https://gerrit.hyperledger.org/r/#/c/1695/2</a>
<a href="https://gerrit.hyperledger.org/r/#/c/1813/2">https://gerrit.hyperledger.org/r/#/c/1813/2</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-18 16:27</div><div class="msg">Work items progressing associated to protocol buffers and associated security checks for next architecture, i.e., FAB-351 (including FAB-489, FAB580-582):  Protocol buffers have long been discussed  on the channels.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-18 16:27</div><div class="msg">Work items associated to Channel access control management(FAB-633). The team has prepared a first draft of a design for secure  creation and consulting of ACL for channels. We are taking rounds into updating the design, and plan to share it with extended team and community to get input once we get a good draft finished</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-10-18 16:36</div><div class="msg">@weeds (et al.), thanks for sharing. All,
1) Feel free to add me as a reviewer when you submit such items.
2) These are very well structured. Can’t miss that!
3) Noted that these were (originally) submitted as part of the `v0.6` branch, but at some point before the release, we chose to hold back so that we could get the v0.6.1 release tagged/published last weekend.

How do we want to merge these/what’s the strategy/schedule? That is, do we want these on a(nother) separate branch? I don’t have a strong opinion either way, just let me know what makes the most sense to everyone… I believe we are ‘done’ with the v0.6 branch as of last Sunday - but let me know.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-10-19 21:09</div><div class="msg">@garisingh ^^^</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3df6de3dd17efaa31a29dd81bfc1e961.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">beauson45</div><div class="time">2016-10-19 21:11</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/63181c491f644b179062027bca289a1f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">ikruiper</div><div class="time">2016-10-20 21:18</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c359b492ace1b46e58d468da002f66e8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">t-watana</div><div class="time">2016-10-21 00:18</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-21 01:35</div><div class="msg">@jonathanlevi @elli  Elli, may ask you to follow up with Jonathan for me</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-10-21 01:36</div><div class="msg">[Sure, I’m available] I think we should keep the `v0.6` branch clear (following the release/tag)…. so that it can be used for future bug-fixes/patches.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-10-21 01:38</div><div class="msg">We should probably decide/agree on whether this work should go straight into an intended v1.0 branch, or would we rather create an intermediate one…</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-10-21 01:38</div><div class="msg">@weeds: I think the simpler, the better. If we don’t need an extra branch, then let’s get these APIs in sooner rather than later.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-10-21 01:39</div><div class="msg">@elli Let me know how you want to proceed.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-21 01:42</div><div class="msg">@jonathanlevi I honestly think we need to move to the latest version now.. so people can get to what they really want- multichannel and what community seems to be agreeing to,..</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-21 09:23</div><div class="msg">we need to be down to 2 branches - v0.6 (no new features) and master which is v1.0.0</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-21 09:24</div><div class="msg">now we'll need to figure out the best way to get the BCCSP stuff merged into master - we are still waiting on moving convergence into master</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-21 09:57</div><div class="msg">Everything under the bccsp package can be merged easily. It has only dependencies onto the primitives package which has not been modified. After that, I can re-apply the refactoring to have all the other components using the BCCSP. How this sounds?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-21 10:01</div><div class="msg">this sounds about right.  not exactly sure what you mean by `re-apply the refactoring to have all the other components using the BCCSP`?   My assertion would be that at this point there actually is no crypto in use for the new peer / endorser code.  For example, assuming the BCCSP is integrated into the src tree (as we are discussing), next step for example would be to have the peer code (default ESCC and VSCC) leverage BCCSP for signing and verification.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-21 10:02</div><div class="msg">same should hold true for the orderer code as well (I would hope).   I think this is what you meant?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-21 10:04</div><div class="msg">That's right, actually. Because the old code can be discarded at this point. Right!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-21 10:07</div><div class="msg">cool</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-21 10:08</div><div class="msg">this should make for a very clean way to use the BCCSP package</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-21 10:09</div><div class="msg">@murali @jeffgarratt and I discussed this yesterday in terms of next steps for the endorser code once we finish the merge</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-10-21 14:11</div><div class="msg">@weeds Yes, this makes sense (to "jump on" the latest).
@garisingh, @adc : OK, then let’s resubmit these against `master`. Sounds good. Probably after the `v0.6` &gt; `master` work is done and possibly the `convergence`… though after taking a quick look at it, I don’t expect conflicts as the above items are mostly new.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-21 14:19</div><div class="msg">right</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-21 15:27</div><div class="msg">Makes sense.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-21 15:29</div><div class="msg">Though transaction/proposal processing components on the peer/client side may make sense to call membership service interface rather than directly crypto CSP calls. Of course the transition to such calls should not be difficult to be done later.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-21 15:32</div><div class="msg">@elli - you aren't saying that at runtime the peer would ever need to call out to membership services are you?  For the client - yes - it would call membership services directly</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-21 15:33</div><div class="msg">correct. I am not saying that. I am saying that the peer/client would need to invoke the membership service library function to validate a a certain authenticated messsage (e.g., a message signed with a secret corresponding to a certificate).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-21 15:35</div><div class="msg">So, in a way, if we are to make memberhsip service pluggable, we would need to specify APIs for peer/client to use for message authentication (signature or other means that that membership service has/adopts) and authenticated message validation (signature verification or other mechanisms that that membership service considers)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-10-21 15:35</div><div class="msg">What’s to `validate a signature produced by a certificate` ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-21 15:37</div><div class="msg">my bad, corrected :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-10-21 15:37</div><div class="msg">Oh, OK. To validate `with a certificate`.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-10-21 15:38</div><div class="msg">Sure, yes. Especially as the extensions are not standard.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-21 15:38</div><div class="msg">So membership service A has standard x509 certificates and for authentication uses ECDSA key-pairs.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-10-21 15:38</div><div class="msg">(they are standard X509, but require logic)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-21 15:38</div><div class="msg">Membership service B has idemix certificates (not x509 based) and for authentication uses RSA keys and signature of knowledge.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-21 15:39</div><div class="msg">The interface of membership service as used in the core should be done in such a way, that membership service A and B can implement that interface and plugged into the peer/client code without affecting the transaction processing components of the system.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-21 15:42</div><div class="msg">@garisingh , @jonathanlevi does this make sense?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-21 15:42</div><div class="msg">Something we already discussed with @keithsmith, @adc, and we actually have some preliminary  form of this (generic) interface.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-10-21 15:43</div><div class="msg">Yes, it does. Much better to have the logic encapsulated within Membership Services (that will call the underlying crypto)… than require the logic in the client, using the (probably too low-level for the client) crypto CSP.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-21 15:43</div><div class="msg">correct!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-10-21 15:44</div><div class="msg">It will be a lot easier to validate/test/extend and componentize using the external API that will allow us to have the logic in one place (and just share, rather than duplicate).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-10-21 15:45</div><div class="msg">[That is, I agree - this makes sense]</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-10-21 15:45</div><div class="msg">We should probably work out a few sequence/entity-interaction diagrams at some point, at least at the higher level, to make sure that everyone is on the same page.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-10-21 15:47</div><div class="msg">But for now, it makes sense to expose the crypto to only one layer (above it) to consume… especially while it is “in the making"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-21 15:50</div><div class="msg">ah - I see - you were talking about the "client" piece of membership services.  I just want to make sure that at runtime there is no need to call out to membership services server</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-21 15:50</div><div class="msg">:wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-21 15:52</div><div class="msg">I want to be able to provide my own crypto material if I want to  :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-10-21 15:52</div><div class="msg">Yes, these really need to be separate! We don’t want a chrome browser that needs to call the server for `internal` logic implementation.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a5957d9ec4b55caaaf760fea5c0c2005.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">donovanhide</div><div class="time">2016-10-21 19:02</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2016-10-21 19:55</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-21 19:55</div><div class="msg"><a href="https://hyperledgerproject.slack.com/archives/fabric-dev/p1477079668002159">https://hyperledgerproject.slack.com/archives/fabric-dev/p1477079668002159</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-21 19:57</div><div class="msg">This is w.r.t encryption/decryption in app/SDK. assume this is now handled by the application level, ie app/SDK &lt;——&gt; chaincode ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2016-10-21 20:03</div><div class="msg">thanks @muralisr. @elli @adc @aso this question came about when I was wondering how the SDK’s endorse API would support confidentiality. would we continue to use “pkChain” returned from ECertCreateResp, or should we expose the payload to give the application developer a chance to encrypt it however they want (using a PKI b/w app and endorser nodes)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/302ba67c569faa2d9679c78043dc6b2e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">msoumeit</div><div class="time">2016-10-22 05:09</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2016-10-24 14:00</div><div class="msg">@elli @adc @aso have you guys seen my question about re: “pkChain” from enrollment?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-24 14:02</div><div class="msg">Hi; sorry. So, as of now we are focusing on having fabric work without it supporting confidentiality mechanisms on the fabric side.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-24 14:02</div><div class="msg">Hi @jzhang, the latter I would say.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-24 14:03</div><div class="msg">That said, confidentiality mechanisms would be shifted to the application layer, and may make sense to be based on endorser long term encryption keys and proper use of transient-data field of the proposal.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-24 14:04</div><div class="msg">Of course we can also have pkChain be distributed by the membership services, but that would need to be on a per-channel basis and not sure for the first release of this code would make sense.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-24 14:08</div><div class="msg">Also one could use externally decided keys... key-management would be (in my view) on the application.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-24 14:09</div><div class="msg">@elli @jzhang @keithsmith  - IMHO "fabric-cop" (at least the server portion) should no longer be handing out encryption keys.  My take is that the crypto libs will need to be able to generate and wrap keys as required and we'll likely need to leverage a distribution mechanism within fabric (similar to some work @adc already did) to "share" keys as appropriate</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-24 14:09</div><div class="msg">this is definitely the high level direction, I would say</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-24 14:10</div><div class="msg">I agree</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-24 14:14</div><div class="msg">So, i agree that pkChain should not be generated/managed/distributed by the membership service. But do we also want to not have membership service engage to the enrollment certificate including public encryption keys of  peers/clients? If so, then we would need to assume that there is some offline-interaction among applications, that leverage their signing keys (reflected in their ECerts) to announce public encryption keys of users. Auditability becomes slightly more complex there, but it is simple enough to work.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-24 14:16</div><div class="msg">@elli - I guess I will put it this way - we need to make sure that there is no dependency on membership services for these things</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2016-10-24 14:16</div><div class="msg">so do i understand this flow correctly like this: app/sdk encrypts using each endorser certificate —&gt; endorser received and decrypts using its individual private key —&gt; execute —&gt; encrypts result using app/sdk certificate —&gt; app/sdk receives and decrypts, package up and encrypts using committer certificate —&gt; send to orderer —&gt; delivers to commiter —&gt; committer decrypts and applies the changes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2016-10-24 14:18</div><div class="msg">… as far as where encryption/decryption happens with what keys, is the above accurate or am I off?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2016-10-24 14:19</div><div class="msg">that’s assuming we don’t have a “chain-wide” (or “channel-wide”) key like “pkChain” today any longer</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-24 14:19</div><div class="msg">@garisingh, what do you mean by dependency? pkChain, or pkEndorser (public enecyrption key that is generated exactly like the signing key and included currently in enrollment certificate)?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-24 14:22</div><div class="msg">Cause, to do any type of key-distribution, there has to be some anker of trust  (e.g., exchanged enrollment certificates that contain signature key-pairs) to have the application do the encrytpion key generation etc.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-24 14:22</div><div class="msg">meaning a peer node should never need to call out to membership services at runtime and if I choose to use my own certificate authority I should be able to do that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-24 14:22</div><div class="msg">sure - but that can be any trusted root authority that the members of the blockchain choose to support</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-24 14:23</div><div class="msg">agreed</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-24 14:24</div><div class="msg">there should be no dependency on the specifics of the membership service currently available in fabric, but (at least in my mind) it could have some dependency on the membership service as an entity / component of the system (assuming that this component is expressed via the membership service interface).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-24 14:25</div><div class="msg">@garisingh, am I capturing the (non-)dependency requirement correctly?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-24 14:27</div><div class="msg">@jzhang: the specification of a flow provided by a confidentiality library is part of the FAB-830</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-24 14:30</div><div class="msg">@jzhang, interesting. That's definitely a possible flow. Multiple details are hidden here and there but it looks reasonable as a very high level overview of a candidate message flow</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-24 14:30</div><div class="msg">But overall, I would see two levels of a confidentiality library to be plugged in: (i)at  the application/chaincode level where keys would need to be part of the transient data of proposal, that are passed to the chaincode at execution time (the chaincode here is supposed to know/understand how to use these keys to encrypt its state), (ii) at the ESCC level and assuming extension of the interface of the client to the endorser.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-24 14:31</div><div class="msg">Option (ii) is closer to what you describe @jzhang, but option (i) is easier to implement.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2016-10-24 14:31</div><div class="msg">ok, i’ll take a look at FAB-830</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2016-10-24 14:31</div><div class="msg">are we currently leaning one way or another?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-24 14:32</div><div class="msg">I think I'd agree.   If I am a bit more explicit, from the peer perspective, a peer should NEVER have to call out to membership services like it does today (e.g. for the register/enroll, to pull down public keys, encryption keys, etc).  I would also say should hold true for the ordering service  and I would also say for the client SDKs as well.  Per @elli , one way to do this would be to have an interface and one of the implementations could be to call remotely and one could be to use locally available material.   We'll need to work through this especially as fabric-cop developes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-24 14:35</div><div class="msg">Agreed. Btw, added <a href="https://jira.hyperledger.org/browse/FAB-829">https://jira.hyperledger.org/browse/FAB-829</a> and some tentative description of a membership service interface/component as discussed with @keithsmith, @adc, @aso already from June.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-24 14:35</div><div class="msg">having the client SDK not connecting to the fabric-cop for TCerts is challenging at the current stage</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-24 14:36</div><div class="msg">yes - tcerts I agree with</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-24 14:36</div><div class="msg">but not everyone needs them</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-24 14:37</div><div class="msg">Hm, but also TCerts can be generically defined.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-24 14:37</div><div class="msg">true</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-24 14:37</div><div class="msg">with option 2/2.1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-24 14:37</div><div class="msg">they should be generically defined</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-24 14:37</div><div class="msg">And thus their form not to depend on the exact implementation of membership service.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-24 14:37</div><div class="msg">did we ever decide on that?  seems we are the only people who talk about it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-24 14:38</div><div class="msg">like it is already in 0.5, the crypto package has a CertificateHandler that can handle ECert, TCerts and so on</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-24 14:38</div><div class="msg">We have been discussing the interface (as a starting point) defined in <a href="https://jira.hyperledger.org/browse/FAB-829">https://jira.hyperledger.org/browse/FAB-829</a> with @keithsmith. I know that Keith had some first version of it at some point, but maybe without considering generic representation of TCerts.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-24 14:40</div><div class="msg">so Keith and team have been working to extract the current TCert implemention and make it into a library but have not changed how we generate them at this point</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-24 14:40</div><div class="msg">Ah sorry, you meant the TCert key-generation process.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-24 14:41</div><div class="msg">I thought you referred to have a generic TCert interface enabled. Sorry, it take it back then. True, not sure if we have converged on this and when/if we should start implementing it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-24 14:42</div><div class="msg">Related discussion is here <a href="https://jira.hyperledger.org/browse/FAB-635">https://jira.hyperledger.org/browse/FAB-635</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2016-10-24 15:35</div><div class="msg">correct, Ash should push the current impl later today, and the plan is to do version 2 of your doc as a configurable option</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-24 15:47</div><div class="msg">Ad hoc meeting with Keith Smith, Gari Singh, Elli- Fabric 829 , next sprint-- this is an interface tat describes membership services component.  It has to be defined so that if someone has a different version of membership services, they can write connectors so they can leverage everything implemented.  This is an interface into ms into transaction processing and ledger infrastructure. This interface would be used to encourage our bscsp.  An application developer that just uses membership services instance- they don't need to know what interface we should use  .</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-24 15:50</div><div class="msg">On Jira boards-  there are 3 groups for next two weeks 1) implementation of  blockchain crypto service provider and integration to fabric--- one has to be done in golang and nodejs part that gets used by the client. A large part of golang has been implemented and submitted in 11 changes into branch 0.6 but has to be rebased into master.  Items associated with bscsp to server code he tried to build some classes that cfssl can look at bscsp code without problem.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-24 15:51</div><div class="msg">BSCSP is good for abstracting a single one.  Keith was looking at what Jason Yellick has done in signature validation-- Gari said that looks like it is higher level.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-24 15:52</div><div class="msg">We need to define who the consumers of that library is done.  You can have simple thing in peer- endorsement chaincode- simple sign code (Murali could take this for endorser).  There also might be a higher level abstraction that reads policy like Jason looks to have implemented, but it would ultimately call the verify function.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-24 15:54</div><div class="msg">Elli- from the abstraction and using the bccsp- in fab 829, we are working towards implementing nodejs client sdk and need to converge the genericf interace and run it with membership services.  There is dependency on this with the 2nd group of issues highlighted for next spring- validation of transactions on commiting side, validation of security proposal at the endorser side... all of these should be using abstract interface.  We need to specify that interface</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-24 15:56</div><div class="msg">This is for the sdk level as well as the touch point within the peer.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-24 16:01</div><div class="msg">Example- they use x509 and use extension filled for certs to store additional data .  The extension filled that the current fabric can understand.This transaction cert is acquired using some interaction with client with server side,.. the client will need to create transactions creating keys.  The peer code would have to pass the code at membership services... Let's say someone comes and say I need to use not your fabric defined membership services, but want to use a different Membership services plugin. I do not want to rewrite the transaction processing code- I would need to plugin my code implementing the same interface as fabric code and allow transaction processing to issue signatures on behalf the cert structure that that other instance of membership services-- and peer code validating those sigs .</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-24 16:02</div><div class="msg">It does not separate the cert infrastructure and the way that another membership services are used by transaction processing component.  These have to be separated using an interface and needs to be generic enough.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-24 16:02</div><div class="msg">Something like here is the cert and verify it--- Fab 829 has some ideas on this.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-24 16:05</div><div class="msg">Binh- what is fabric client? code of membership service that could be useful for the client.(we need to complete by Wednesday to try to help get first draft of SDK spec for Friday) ...the peer donates the part of the membership service that could be useful for the peer... Binh suggesting a GRPC definition or somekind of document that we can make specification of SDK on that design doc, and we can post the document on googledocs</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-24 16:13</div><div class="msg">Today in Nodejs sdk- there is membersip servcies impl... this interface was not generic enough (from memory)- it did not specify type for certificate and would not be able to parse appropriately and provide ability to say whether generic or not.  Elli said she has to look into detail- felt it did not have attributes included.  Keith did mention there is an interface with Tcerts with attributes.  Keith suggesting her to review to make recommendation on what we need in addition in this area.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-10-24 16:15</div><div class="msg">We are trying to do ACL design for events and chaincodes for multichannel (fab 637, 634, and 633)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3cfaa84113b861c6ab1e2d4214b22201.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">satheesh</div><div class="time">2016-10-24 21:32</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-25 14:48</div><div class="msg">@elli I'd like to talk with you about ACLs and signature formats when it is convenient</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-25 14:49</div><div class="msg">Hi, sure</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-25 14:49</div><div class="msg">Finishing up with @adc. @aso the membership service abstract interface. Then can ping you.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-25 14:49</div><div class="msg">Great, thanks!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-25 14:52</div><div class="msg">@jyellick, actually, a nice sanity check would be to check that the membership services API fits well with your policy framework</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-25 14:53</div><div class="msg">do you implement "verify"  :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-25 14:53</div><div class="msg">The idea is that once is time to verify signature, the call is redirected to the membership service that is able to handle multiple schemes, potentially</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-25 14:53</div><div class="msg">yeah, at the end, it is a verify</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-25 14:57</div><div class="msg">All signature verification will require a network call to membership services? This sounds problematic to me</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-25 14:58</div><div class="msg">no no, sorry</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-25 14:58</div><div class="msg">verify a signature will not require a remote call</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-25 14:59</div><div class="msg">but verify a signature is something related to an identity</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-25 14:59</div><div class="msg">that's the reason why we associated it to the membership services</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-25 15:00</div><div class="msg">there will a Verify method that will do what is necessary to verify a signature, locally in most of the cases</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-25 15:02</div><div class="msg">Now I think I am lost again.  If a signature is representative of agreement from X, then it should have a chain of trust which derives from X, why do we need member services to tell us this?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-25 15:03</div><div class="msg">my fault, sorry. Membership services will give us the algorithms to check that chain of trust, for example</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-25 15:04</div><div class="msg">why this? Because we might have different ways to enforce different chains of trust depending on the way identities are managed in the network</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-25 15:05</div><div class="msg">So is the algorithm something that's retrieved once, and then applied many times? I'm trying to think of a signature check which would not be tied to identity</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-25 15:05</div><div class="msg">correct</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-25 15:06</div><div class="msg">an example being an ECDSA signature that is verified against the verification key in a x509 certificate</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-25 15:06</div><div class="msg">we need to think about this.  I still want to have ZERO dependency on having to call to a remote server for use of crypto stuff.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-25 15:06</div><div class="msg">no remote calls</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-25 15:07</div><div class="msg">just Verify algorithms</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-25 15:07</div><div class="msg">ok - so we can set the the "parameters" (hash, key length, algorithm, etc) directly from within the code which consumes the component?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-25 15:08</div><div class="msg">right</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-25 15:08</div><div class="msg">cool!!!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-25 15:08</div><div class="msg">a parallel can be drawn with the BCCSP</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-25 15:08</div><div class="msg">just wanted to make sure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-25 15:08</div><div class="msg">we will have something that is higher level than BCCSP that exposes a more generalized way to handle signatures, their verification and generation</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-25 15:10</div><div class="msg">yep - makes sense.   I just wanted to make sure that peers, ordering service, etc did not have to call out to a server to get the crypto policy   (so I assume similar settings to what we have in core.yaml today?)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-25 15:11</div><div class="msg">it can go there but it can also go to the VSCC or ESCC</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-25 15:12</div><div class="msg">sure - I just meant that the peer today gets its config locally.  We are on the same page  :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-25 15:12</div><div class="msg">right :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-25 15:13</div><div class="msg">How large are these? To me, this sounds like something that should be encoded into the chain config?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-25 15:13</div><div class="msg">(And therefore in reconfiguration, and in genesis)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-25 19:52</div><div class="msg">@elli @adc I'm having trouble mapping my temporary configuration transaction stuff to the 'next' protos that were just merged.  How can we verify that an endorsement is over the same transaction header when the the transaction header is not bytes (and we cannot marshal deterministically)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-25 19:54</div><div class="msg">@jyellick `when the the transaction header is not bytes` can you expand on that ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-25 19:55</div><div class="msg">In the `fabric_transaction.proto` the `Transaction` contains repeated `TransactionActions` which contain `TransactionHeader`s</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-25 19:56</div><div class="msg">Since the `TransactionHeader` is expressed as a type, and not as bytes, it's not clear how to check any signature or hash against it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-25 19:58</div><div class="msg">@muralisr ^</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-25 20:01</div><div class="msg">@jyellick - are you looking at fabric_next.proto?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-25 20:02</div><div class="msg"><a href="https://gerrit.hyperledger.org/r/#/c/1977/2/protos/next/fabric_transaction.proto">https://gerrit.hyperledger.org/r/#/c/1977/2/protos/next/fabric_transaction.proto</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-25 20:03</div><div class="msg">This was merged, with my vote, earlier as I wanted to start moving the configuration stuff onto the 'real' transaction format.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-25 20:06</div><div class="msg">My plan was to define a new transaction type in `fabric_transaction_header.proto` called CONFIGURATION, then use a subset of the `ConfigurationEntry` proto from ab.proto as the `Proposal` `Payload`, and then use `Endorsement` over the marshaled `Proposal`, but it seems to me like this gives me two copies of the `TransactionHeader`, which I have to compare field by field to make sure they are the same.  Which seems wrong.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-25 20:09</div><div class="msg">adding @aso</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-25 20:13</div><div class="msg">Basically, I don't see how you can confirm that the `TransactionAction.header` is the same as the `Proposal.header` without doing a field by field comparison.  The `ProposalResponsePayload.proposalHash` is over the `Proposal.header`, but since we don't have deterministic marshaling, I don't see how that helps.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-25 20:14</div><div class="msg">@jyellick one of the things we talked about IIRC was that we want a Type in Transaction and the Type in TransactionHeader would have to be that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-25 20:14</div><div class="msg">in other words, you’d need to unpack the header (even if it was bytes) so you can take a look at the Type</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-25 20:15</div><div class="msg">@muralisr Yes, we did discuss this as an option, though technically, it doesn't have to be bytes and a type flag (it could just be bytes), but the type flag would be more flexible.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-25 20:19</div><div class="msg">I now recall not being able to follow the whole conversation on this - where can I read about what the heck these fields actually mean?  I'll be honest - the inline descriptions are not very clear.  This looks to be some very ugly messaging</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-25 20:20</div><div class="msg">and if the transaction action.header is supposed to be the same as the proposal.header why do we have both?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-25 20:23</div><div class="msg">so @garisingh one thing… the  `fabric/protos/next/*.proto` will replace `fabric/protos/fabric_next.proto` …</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-25 20:24</div><div class="msg">except I don't see any service definition(s) in next/*/proto ?  unless I missed it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-25 20:24</div><div class="msg">right. the only service definition is Endorser</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-25 20:25</div><div class="msg">maybe this helps <a href="https://hyperledgerproject.slack.com/files/adc/F2JKXGXEU/protobufmessagesandflow.pdf">https://hyperledgerproject.slack.com/files/adc/F2JKXGXEU/protobufmessagesandflow.pdf</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-25 20:25</div><div class="msg">@aso mentioned a file: <a href="https://hyperledgerproject.slack.com/files/adc/F2JKXGXEU/protobufmessagesandflow.pdf">https://hyperledgerproject.slack.com/files/adc/F2JKXGXEU/protobufmessagesandflow.pdf</a>.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-25 20:25</div><div class="msg">and so some consolidation needs to happen (was going to work on it)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-25 20:26</div><div class="msg">also, with @muralisr 's help I'm working on the peer code that handles those messages from a security standpoint, I hope I'll be able to make some progress on the code quickly</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-25 20:26</div><div class="msg">I could write a separate document with a short description of what the fields are and how they are supposed to be used</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-25 20:27</div><div class="msg">I suggested to binh that we might want modify Next-Consensus-Architecture-Proposal.md to reflect these protobufs and explain what they are supposed to be doing in the grand scheme of things</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-25 20:27</div><div class="msg">which I'd be also happy to do</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-25 20:30</div><div class="msg">Maybe a separate document is unavoidable, but my vote would be to keep the doc in the proto, much easier to reference that way</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-25 20:31</div><div class="msg">@jyellick one thing</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-25 20:31</div><div class="msg">&gt; I don't see how you can confirm that the `TransactionAction.header` is the same as the `Proposal.header` without doing a field by field comparison.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-25 20:32</div><div class="msg">(sorry for bad quotes but you get the idea :slightly_smiling_face: )</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-25 20:32</div><div class="msg">where do you see proposal.header ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-25 20:32</div><div class="msg">FYI @muralisr you can use a `&gt;` before some text, and it will turn it into a quote, like this:

&gt; where do you see proposal.header ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-25 20:33</div><div class="msg">ah</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-25 20:33</div><div class="msg">thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-25 20:33</div><div class="msg"><a href="https://gerrit.hyperledger.org/r/#/c/1977/2/protos/next/fabric_proposal.proto">https://gerrit.hyperledger.org/r/#/c/1977/2/protos/next/fabric_proposal.proto</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-25 20:34</div><div class="msg">It contains a message named `Proposal` with a `header` field which is a `TransactionHeader`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-25 20:34</div><div class="msg">right</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-25 20:34</div><div class="msg">Which is, presumably, the same header in `TransactionActions`?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-25 20:34</div><div class="msg">that was my understanding</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-25 20:35</div><div class="msg">well if they are the same thing, we should not be duplicating them.  I also think that it's confusing to separate proposal and transaction but yet then include a data structure from one within the other</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-25 20:35</div><div class="msg">That seems a little sloppy to me, why are we encoding the same information twice? [edit: oops, Gari beat me to it]</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-25 20:37</div><div class="msg">Proposal is sent to the endorser, and Transaction is sent to the Orderer… the same header from Proposal is taken and placed into Transaction  and sent right … is the header in two places in Transaction ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-25 20:40</div><div class="msg">I don't think the thing in the proposal is the same as in the transaction - just the same data structure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-25 20:40</div><div class="msg">I thought that the `Proposal` could be included, or some limited representation, in the `ProposalResponse`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-25 20:41</div><div class="msg">but it's unclear - guess I need to look through the PDF above - it seems to have a lot of detail</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-25 20:41</div><div class="msg">ok. my head is spinning now :slightly_smiling_face: let me read the protos again ….</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-25 20:41</div><div class="msg">@garisingh the header in the tx has to be the same as the header in the proposal, or else the checks on slide 23 would fail</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-25 20:42</div><div class="msg">this is on purpose to enforce a number of security reqs such as accountability</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-25 20:42</div><div class="msg">well then we have the same header repeated multiple times?   one for each transaction action, plus one for each proposal?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-25 20:43</div><div class="msg">alright - let me review again</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-25 20:43</div><div class="msg">one header per action - a tx might have multiple actions</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-25 20:43</div><div class="msg">On slide 23, "ProposalResponsePayload links to the ProposalHeader and chaincodeProposalPayload through proposalHash"</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-25 20:43</div><div class="msg">but a single header per action</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-25 20:44</div><div class="msg">Okay, so it sounds like no duplication, but how do we know the hash of the ProposalHeader? Unless we have some custom hashing scheme for it? (As we cannot marshal and hash, because of non-determinism in protobuf)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-25 20:46</div><div class="msg">right, I think we'll be forced to unmarshal and hash the contatenation of each of the fields - ugly I know, but not unheard of</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-25 20:47</div><div class="msg">this might actually be problematic if we have a lot of nesting</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-25 20:47</div><div class="msg">I think that needs to be very explicit then, exactly how we are supposed to hash a TransactionHeader</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-25 20:47</div><div class="msg">yeah, definitely</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-25 20:47</div><div class="msg">do you guys have time to have a chat on the phone tomorrow to hash out these important details?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-25 20:48</div><div class="msg">I'd do it now but it's almost 11pm over here and I don't trust myself anymore :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-25 20:49</div><div class="msg">of course</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-25 20:49</div><div class="msg">Fair enough, enjoy what's left of your evening.  I'm not certain if a call is necessary, I would think doing this in slack/JIRA/googledoc would be better for posterity's sake</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-25 20:49</div><div class="msg">I'll read the PDF again for sure</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-25 20:51</div><div class="msg">I'll get with @adc tomorrow and take a first stab at adding some more comments in the proto files</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-25 20:51</div><div class="msg">as to the role of the various fields and some description of the flows</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-25 20:51</div><div class="msg">cool - that way I won't have to roll out the comprehensive PDF every time I forget  :wink:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-25 20:52</div><div class="msg">point well taken</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-25 20:52</div><div class="msg">I was going to move the next/*proto to fabric/ and work on the consolidation …. can I a go ahead with that ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-25 20:52</div><div class="msg">and we do any adjustment after that ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-25 20:52</div><div class="msg">sure thing</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-25 20:53</div><div class="msg">we can work on our local copies and rebase/merge later</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-25 20:53</div><div class="msg">it's just comments anyway</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-25 20:53</div><div class="msg">@garisingh @jyellick your votes ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-25 20:53</div><div class="msg">well these only comments discussions have been know to take an interesting turn :slightly_smiling_face: but I take your point re rebasing</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-25 20:54</div><div class="msg">@muralisr  - does this mean you'll be eliminating the extraneous protos and then modifying the peer code to use these?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-25 20:54</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-25 20:54</div><div class="msg">we'll somehow need to sync with @jzhang  too on the SDK side</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-25 20:55</div><div class="msg">good point...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-25 20:55</div><div class="msg">(especially for the thing I pinged some of you via DM for next week)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-25 20:55</div><div class="msg">@muralisr I think you are setting yourself up to do some extra work, if there is any fallout in the form of proto changes from our discussions, but, I do think it could also be a valuable exercise to see where the protos do and don't work for the fabric (just as I've been trying to do with the orderer)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-25 20:56</div><div class="msg">@jyellick that’s exactly what I was hoping to do</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-25 20:56</div><div class="msg">only by actually doing it will we really know</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-25 20:56</div><div class="msg">and I may find its going to take more work</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-25 20:56</div><div class="msg">in which case better start early</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-25 20:56</div><div class="msg">how about this</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-25 20:57</div><div class="msg">I start on this and at least TRY to get it to a state where I can push so we can review ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-25 20:59</div><div class="msg">Sounds good to me</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-25 21:00</div><div class="msg">ok. will do that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/90b37213b6f5a680e5620f1285ea99eb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">david.acton</div><div class="time">2016-10-25 22:42</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 08:28</div><div class="msg">@jyellick, @muralisr, @garisingh, @aso I did a mistake. If you look at our pdf, Proposal.header was bytes. I changed by mistake to TransactionHeader. This should fix the issue with the checks.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 08:29</div><div class="msg">Regarding " `TransactionAction.header` is the same as the `Proposal.header` ", the committing peer is not supposed to perform this check because it does not have the Proposal</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/90b37213b6f5a680e5620f1285ea99eb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">david.acton</div><div class="time">2016-10-26 08:31</div><div class="msg">Hey gang.  I want to get TLS working in both my Dev and eventually Prod envs.  For DEV membersrvc, I assume I generate self signed TLS certs.  Does this cert have to be in a particular format?  e.g. ECDSA, RSA etc…?  Would anyone happen to know the correct openssl command to run to get the right format?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 13:46</div><div class="msg">@jyellick, @muralisr, @garisingh, @aso, @elli, @binhn, @jeffgarratt   I found the following issue related to the protobuf serialization. An endorser will sign a ProposalResponsePayload message if it endorsers a received proposal. Now, this can be done in the following way: The endorser construct the ProposalResponsePayload message, marshal it and sign the bytes so obtained. But now there is an issue because each endorser might serialize in different ways and then sign different bytes. At this point, the proposal submitter is not able to put together the endowments and construct a Transaction message.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 13:46</div><div class="msg">This needs to be addressed.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 13:47</div><div class="msg">Just another note, @aso just noticed that in fabric_next.proto there is the following paragraph that is actually wrong: Something important to understand about protocol buffers is that while
// serialization is deterministic in that it will always produce the same
// bytes, deserialization is non-deterministic</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 13:47</div><div class="msg">right?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 13:54</div><div class="msg">@adc I'm a little confused by the phrasing, but protobuf serialization is definitely _not_ deterministic.  Two different protobuf implementations (or even the same implementation executing twice) may marshal the same structure to two different sets of bytes.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 13:55</div><div class="msg">I think you may have been pointing that out to @aso but just wanted to double check</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 13:56</div><div class="msg">same bytes will produce same data structure, but not guaranteed the other way</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 13:56</div><div class="msg">That paragraph was not written by us</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 13:56</div><div class="msg">was already there</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-26 13:56</div><div class="msg">so without a submitting peer creating a single ProposalResponsePayload for all to endorse, we have a problem....</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-26 13:57</div><div class="msg">unless we use a custom hashing scheme</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-26 13:57</div><div class="msg">to clarify</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-26 14:00</div><div class="msg">SDK send to 3 endorsers. 3 endorsers send 3 ProposalResponsePayload back. These could be (should be) identical before marshalling. However the marshalled bytes and the signature they are based on would be different. So We cannot assume we can just send one of the 3 ProposalResponsePayload  in transaction but have to send all 3. Note that “send just 1 ProposalResponsePayload “ was an optimization measure…. @adc @aso to correct the above as necessary</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:02</div><div class="msg">either we use deterministic marshalling or we need to have everything in the Transaction and then having the committing peer check for consistency</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-26 14:02</div><div class="msg">or we use a custom hashing scheme</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:02</div><div class="msg">yeah</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:03</div><div class="msg">also the client-sdk has to check for consistency then</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-26 14:03</div><div class="msg">yup</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-26 14:04</div><div class="msg">for now can we  send ProposalResponsePayload  ? ie, trade clarity/simplicity for optimization/complexity  ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-26 14:04</div><div class="msg">(need to get to office… will be online soon)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:04</div><div class="msg">a compromise must be reached, that's for sure</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 14:07</div><div class="msg">what's the problem?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:09</div><div class="msg">murali has clarified the point just a few messages earlier</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 14:09</div><div class="msg">&gt; SDK send to 3 endorsers. 3 endorsers send 3 ProposalResponsePayload back. These could be (should be) identical before marshalling. However the marshalled bytes and the signature they are based on would be different. So We cannot assume we can just send one of the 3 ProposalResponsePayload  in transaction but have to send all 3.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 14:10</div><div class="msg">there's no guarantee for protobufs but I thought that all Google implementations actually serialize bytes the same way in practice even if not a "commitment"</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-26 14:10</div><div class="msg">without a submitting peer and with non-deterministic marshalling, endorsers will sign the same action (logically) represented as different bytes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 14:11</div><div class="msg">@garisingh I have never witnessed protobuf marshal the same structure to two different sets of bytes.  Still, they do explicitly warn that they may not, so for a long term file format, it seems like a bad bet to rely on.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 14:12</div><div class="msg">agreed</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 14:13</div><div class="msg">I just know that there are Google projects which sign so probably why its the case</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 14:13</div><div class="msg">but they never make guarantees  - must be nice to be Google  :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 14:14</div><div class="msg">The problem I am still hoping to resolve from yesterday is that `ProposalResponsePayload` contains a `proposalHash` which is the `// Hash of the proposal that the endorser acts on`, but the `Proposal` is not available, so I don't understand the claim in the deck that `ProposalResponsePayload links to the ProposalHeader and chaincodeProposalPayload through proposalHash`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 14:14</div><div class="msg">I still see no way to enforce that the `TransactionHeader` attached to the `TransactionActions` is the same as the one used in the `Proposal`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 14:19</div><div class="msg">Hmm  - I thought I had that figured out looking at the slides, but let me review again</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:22</div><div class="msg">for type CHAINCODE, proposal hash is H(TransactionHeader || f(ChaincodeProposalInputs)), where is the visibility function</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:23</div><div class="msg">TransactionHeader is in the Transaction, therefore the link</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 14:23</div><div class="msg">what is the proposalresponsepayload?  will that end up in the chain?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:23</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 14:24</div><div class="msg">i still think that whatever is stored in the chain for all eternity should not be protobuf</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 14:24</div><div class="msg">So then the documentation is not correct, `ProposalResponsePayload.proposalHash﻿⁠⁠⁠⁠` is not the `﻿⁠⁠⁠⁠// Hash of the proposal that the endorser acts on`?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:24</div><div class="msg">@jyellick I agree that some field should be bytes and not the actual message</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 14:24</div><div class="msg">but a fixed encoding, either some custom bytes encoding (like bitcoin does), or a ASN.1 DER encoding</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:25</div><div class="msg">Right, @aso and me are working on the updating the comments</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:25</div><div class="msg">but the deck of slides reports it correctly, I hope :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 14:26</div><div class="msg">The deck of slides says that `ProposalResponsePayload.proposalhash` is `// Hash of the proposal` :simple_smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:27</div><div class="msg">eheheh, on slide 18 there is the clarification</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:27</div><div class="msg">I copied from that slide</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:27</div><div class="msg">I agree the documentation needs to be improved, sorry for that :disappointed:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:29</div><div class="msg">ah, just a second the slide number might be wrong</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 14:29</div><div class="msg">Perhaps this is where my confusion is coming from, since I expressly do not want to use a CHAINCODE type transaction, and I am trying to use the generic Proposal structures, but not all of their fields are well defined because they are supposed to be dependent on the new type?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:29</div><div class="msg">because we are updating also that one</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:30</div><div class="msg">may you give an example?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 14:30</div><div class="msg">So, I would like to define a new transaction type, CONFIGURATION</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:30</div><div class="msg">I don't know, are you referring to TransactionHeader's extensions field?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 14:30</div><div class="msg">No</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:30</div><div class="msg">okay</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 14:31</div><div class="msg">So, I defined a new `TransactionHeader.Type` called CONFIGURATION</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:31</div><div class="msg">good</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 14:31</div><div class="msg">And, in the `Proposal`, I would embed a header with that type set (no extensions)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 14:32</div><div class="msg">And for the `ProposalPayload` I would set a marshaled `ConfigurationItem` and would receive a `ProposalResponse` with mostly empty fields, but an endorsement, which I thought was over the proposal, but now sounds like it is over the `TransactionHeader` + something? Then my `ConfigurationPayload` which would go into the `TransactionActions` would consist of the same marshaled `ConfigurationItem` and the repeated set of endorsements.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 14:38</div><div class="msg">so I think the key here @jyellick  is to see if @muralisr can get the basic working with the new proto's so we can see this in action</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 14:39</div><div class="msg">Really, I don't want any of the `ProposalResponse` and associated messages, I just want an endorsement over the header and the `ConfigurationItem` and to end it there.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:39</div><div class="msg">in your case, the endorsement would be on the TransactionHeader + the ProposalPayload, which is the configuration. You don't need the visibility function</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 14:39</div><div class="msg">there is  type thing maybe we can use?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:40</div><div class="msg">I think you can have it, let me check a bit more carefully</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 14:40</div><div class="msg">So what would the contents of `ProposalResponse` be for me? It seems like there are a lot of unnecessary fields there for this case which I  don't know how to populate.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:40</div><div class="msg">let's start from the Transaction</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:41</div><div class="msg">there, we have to define the TransactionActions.Payload</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 14:41</div><div class="msg">@garisingh I'm not sure I follow about @muralisr getting 'the basic working', since this is a different transaction type</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 14:42</div><div class="msg">@adc Okay, `TransactionActions.Payload`, so this must be a set of signatures, and the actual configuration payload</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:42</div><div class="msg">right, very simple</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:42</div><div class="msg">the actual configuration payload is the Proposal.Payload, right?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 14:42</div><div class="msg">Right</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 14:42</div><div class="msg">I just meant saying how it all comes together was all.   But I see your point @jyellick .</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:42</div><div class="msg">the endorsments are on the TransactionHeader + Proposal.Pyaload</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:43</div><div class="msg">and you are done</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:43</div><div class="msg">Am I missing something?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 14:43</div><div class="msg">Well, without deterministic marshaling, how do I verify those endorsements? Because the only `TransactionHeader` I have access to is the one from the `TransactionActions` which is not bytes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:44</div><div class="msg">right</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:44</div><div class="msg">I agree that we have to modify these fields</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:45</div><div class="msg">also in Proposal, the header should be bytes as it was before, my mistake :disappointed:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 14:45</div><div class="msg">Okay, that solves that then.  Another question, when I send the `Proposal` to the endorsers (in my world, these will likely be physical people) they do not reply with a `ProposalResponse`, they simply reply with an `Endorsement`?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:47</div><div class="msg">what's the difference in replying with a ProposalResponse and an Endorsemnt message?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:47</div><div class="msg">what do you mean by physical people? They will not use some piece of software?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 14:48</div><div class="msg">Well, the `Endorsement` structure claims that: 

```
        // Signature of the payload included in ProposalResponse concatenate with
        // the endorser's certificate; ie, sign(ProposalResponse.payload + endorser)
        bytes signature = 2;
```

Which implies that I need to somehow generate all of these structures, none of which have meaningful data</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 14:48</div><div class="msg">@jyellick  - is an endorser an ordering node in your case?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 14:49</div><div class="msg">@garisingh No, I would expect for an endorser to be an 'admin' and not necessarily for the orderers, it could also be a peer admin, anyone who is authorized to modify the configuration initially populated in the genesis block</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 14:49</div><div class="msg">By physical people, I mean that it will be a human decision, of course it will likely be implemented as 'click this button to agree',  but there will likely not generally be automated review.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 14:50</div><div class="msg">right</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 14:50</div><div class="msg">(recall how I have mentioned that endorsement cannot replace signature workflow  :wink: ? )</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 14:52</div><div class="msg">So, to frame this problem more generally, the genesis block will consist of a `Transaction` which consists of repeated `TransactionActions` each of which contains a `ConfigurationItem` the `ConfigurationItem` has a policy attached to it, with who is allowed to modify the item (what endorsements are required), so, anyone who is authorized to submit a configuration transaction can take the previous configuration, modify the bits they are authorized to (with appropriate endorsements) and then submit the configuration tx, and these new configuration will become the new chain configuration (assuming it validates).  This is a special sort of transaction in that only valid ones ever make it onto the raw chain.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 14:52</div><div class="msg">and there are 2 parts:   submitting this to the ordering service and then the ordering service propagating this to the peers to update their config?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 14:53</div><div class="msg">That's why it's critical that the ordering service be able to evaluate the transaction's validity without any dependence on chaincode, MVCC, etc.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:53</div><div class="msg">got it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 14:53</div><div class="msg">BUT it only cares about config transactions, correct?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 14:54</div><div class="msg">I would say yes, 3 parts.  Creating and submitting it to order, and then the ordering service concluding whether or not it satisfies the update policies, finally, the peers once they receive the config transaction can also verify that the ordering service is not trying to pull a fast one and change some peer policy it is not authorized to do so, by performing the check as well.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 14:54</div><div class="msg">Exactly, the ordering service will only intropsect on CONFIGURATION type transactions</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 14:54</div><div class="msg">(And it will make sure that such transactions get their own block)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:54</div><div class="msg">got it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 14:55</div><div class="msg">(sorry for being dense - just want to make sure we bring it all back together instead of reading history)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 14:56</div><div class="msg">Not at all, I've tried to document this some in the multi-channel document, but it should be done more explicitly</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:57</div><div class="msg">still not clear to me, what's the issue in creating the ProposalResponse. The client-sdk, I guess, will be used to send the CONFIGURATION Proposal to the endorsers and put together the endorsements it gets back, no?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:58</div><div class="msg">probably, I'm missing something here :disappointed:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 14:58</div><div class="msg">@jyellick, may you clarify this?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 14:59</div><div class="msg">Yes, the issue I see with the `ProposalResponse` is that it assumes that the proposal is somehow 'executed' and therefore has a lot of fields that are rather meaningless when it is really a "sign if you like it, don't if you don't".  These changes would not be submitted to peer endorsers, rather, I'd expect them to be emailed or whatever and signatures generated/collected manually by admins.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 14:59</div><div class="msg">@jyellick wants to simply things with a COMMON transaction format for config and regular (mvcc, chaincode) transactions and re-use the structures since in the end config and mvcc end up in blocks on the peer side</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 14:59</div><div class="msg">correct?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 15:00</div><div class="msg">so we could have something different than CHAINCODE as the type of trans</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:00</div><div class="msg">Exactly.  I have custom structures today which work, but they duplicate much of what is in the fabric next structures</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 15:03</div><div class="msg">I think in the end we need to prove that we can support non-chaincode transaction types here</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:03</div><div class="msg">@jyellick, why would we need an endorsement-based logic for configuration?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:05</div><div class="msg">Everyone bootstraps the network, and agrees that these 6 peer orgs are allowed to transact, and we're using ordering as a service, so the orderer org is not, and if any 4 of the 6 peer orgs vote to change membership, it's allowed.  So, the orderer gets a transaction in which attempts to add a peer org.  How does it verify that there is agreement from 4 of the 6? By checking the endorsements</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:05</div><div class="msg">That is, to my understanding i) reconfiguration messages are deterministically prossessed, ii) do not incur into heavy computation load that would be impossible to handle without parallelization, and iii) to have an endorsement-model we would need to have some prominent/highly priviledged endorsers that are authorized to endorse system reconfiguration proposals.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:06</div><div class="msg">What is important for reconfig message authentication is the client that submits it and signsthe associated transaction but there is no need for "automated endorsement", no?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:07</div><div class="msg">i) Yes, absolutely must be determinstic
ii) They can be processed in parallel for the signature checks
iii) Who is given the authority to modify configuration is a policy matter, it could be as open or restrictive as defined, but I would expect only highly privileged users would be able</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:07</div><div class="msg">well, however, endorsement is an automated processs</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:07</div><div class="msg">that is it checks the signature on the proposal and this is what it bases its evaluation on,</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:07</div><div class="msg">client-signature is what is important here, i think!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 15:08</div><div class="msg">i must be missing something important</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:08</div><div class="msg">I'm not sure I agree or maybe I do not follow</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 15:08</div><div class="msg">didn't we talk about this long ago?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:08</div><div class="msg">Different pieces of config are going to be controlled by different groups of entities</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:08</div><div class="msg">@simon, how long is long? :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 15:08</div><div class="msg">half year?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:08</div><div class="msg">A peer admin should not be able to change orderer policy, and vice versa</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:09</div><div class="msg">Hm, i do not recall, could be!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:09</div><div class="msg">@jyellick: Correct!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:09</div><div class="msg">So, each piece of config has an associated modification policy</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:09</div><div class="msg">@jyellick: correct again!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:09</div><div class="msg">And each piece of config here, we are trying to represent by a `TransactionActions`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 15:09</div><div class="msg">ordering network configuration has some set of conditions (required signatures) which allow changing the configuration</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:09</div><div class="msg">But we agree that at channel/chain creation a configuration of which client should authorize a certain change has been set.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 15:10</div><div class="msg">oh channel</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 15:10</div><div class="msg">retracts</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:10</div><div class="msg">That must be agreed upon at creation time, however, the authorization policy is itself stored as config, and therefore may be changed</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:10</div><div class="msg">correct!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:11</div><div class="msg">So we have two things:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:11</div><div class="msg">i) initial configuration (provided at genesis), and ii) configuration update policy (also provided at genesis)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:11</div><div class="msg">Where (ii) is actually part of (i)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:11</div><div class="msg">can be, sure.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:12</div><div class="msg">So, (ii) can be "I need 2/3 of the authorized entities to agree on a certain configuration change"</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:12</div><div class="msg">and (i) can be "Alice, Bob, Charlie, Lucy, Dave"</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:13</div><div class="msg">Now, what is important is that a re-configuration transaction contains the signature coming from the clients of any three of the five authorized clients.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 15:13</div><div class="msg">users?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:14</div><div class="msg">sorry certificates; will fix</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 15:14</div><div class="msg">okay</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:14</div><div class="msg">certificates or clients i would say here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:15</div><div class="msg">We decided for simplicity, that a configuration tx must contain _all_ configuration.  So, remember that this tx contains all the old config, and then whatever modifications those three authorized entities desire.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:16</div><div class="msg">Hm, not sure what all configuration means here, but then one would need to check that the "all configuration" attached to the tx, is the correct one.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:16</div><div class="msg">I would say that you need to verify the configuration has not changed, or, if it has changed the changed stuff is appropriately endorsed (and not replayed)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 15:16</div><div class="msg">it is signed by a sufficient number of certificates</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 15:16</div><div class="msg">therefore it is the right one</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:17</div><div class="msg">assuming that this set of certificates knows in advance the all configuration</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:17</div><div class="msg">So, give me a few lines</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:18</div><div class="msg">to express my thought, cause i see the "all configuration being included in the transaciton" more complex</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:21</div><div class="msg">Ok, so a configuration transaction can be consisting of the same message as Transaction in protobuf file, where type (part of transaction header) is set to CONFIGURATION (either of fabric/orderer- i leave this out for now), creator field, in the header includes a banch of certificates, and signature   field contains the signatures associated with these certificates.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:22</div><div class="msg">The payload of the transaction would include all the re-configuration information, say "authorized entities is now "Alice, Bob, Charlie, Lucy, Dave, and Frank"</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:22</div><div class="msg">this transaction is submitted to the system ledger (say this for simplicity) and its picked up by everyone, who then need to evaluate it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:23</div><div class="msg">Then is where the execution (small processing of these transactions) can take place, that would have an effect on the local state of each entity that maintains it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:23</div><div class="msg">Some sort of special VSCC.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:24</div><div class="msg">Would this be too complicated you think?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:25</div><div class="msg">First, ignoring all other parts to the scheme, what would prevent requiring that the previous config be repeated? The Transaction supports multiple `TransactionActions`, what is the complaint against requiring the entire config in the transaction?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:26</div><div class="msg">Well in my mind these certificates i mentioned before not necessarily refer to committing peers, but rather to clients.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:26</div><div class="msg">It is Alice, who needs to approve through some application interface the creation of this transaction.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 15:26</div><div class="msg">jyellick: why repeat the previous config?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:27</div><div class="msg">@simon It will vastly simplify our life for pruning, and makes it much easier to inspect the chain and from a single point see the configuration, rather than having to play the whole chain to determine it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:28</div><div class="msg">Some sort of simulation result would that be.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 15:28</div><div class="msg">i think pruning is wrong</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:28</div><div class="msg">@elli I'm not sure why committers vs clients matters here.  There is an existing configuration, so grab all of the `TransactionActions` from it.  Pick the ones you wish to modify, and replace them with appropriately endorsed new ones.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 15:28</div><div class="msg">i think all of this is way too complicated and not correctly layered</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 15:29</div><div class="msg">@simon - for which part - just for this "config" part or for transactions / proposals in general?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 15:30</div><div class="msg">config, i did not follow the format of the fabric messages, nor do i care for them</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:30</div><div class="msg">@simon In order to prevent DOS attacks in the BFT case, the orderer is going to have to have insight into the transaction format to verify signatures.  So I see no way around the orderer knowing about the fabric transaction format.  I don't like it, would love to hear another option.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 15:31</div><div class="msg">i'd say the ordering service defines an outer format which carries signatures</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 15:31</div><div class="msg">and the fabric can fill the payload as it wants</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 15:31</div><div class="msg">no pruning</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:32</div><div class="msg">I'd say the orderer transaction format needs to have a chain ID, a submitter ID, a payload, a nonce, signatures, basically what is in the base transaction from the fabric</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:33</div><div class="msg">I think it would have made more sense to design a base transaction for the orderer, then build the fabric transaction on top of it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:33</div><div class="msg">Rather than how we are approaching it now, which is to build the fabric transaction, and try to pick a subset of it for the orderer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 15:33</div><div class="msg">(that's the conclusion I was coming to as well @jyellick  - start simple and add rather than start complex)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 15:33</div><div class="msg">else I think you can basically just share a very simple outer envelope</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 15:41</div><div class="msg">@adc uploaded a file: <a href="https://hyperledgerproject.slack.com/files/adc/F2UG5PAQ6/transaction.png">https://hyperledgerproject.slack.com/files/adc/F2UG5PAQ6/transaction.png</a> and commented: @jyellick This is a transaction. Simpler than this?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 15:42</div><div class="msg">@adc uploaded a file: <a href="https://hyperledgerproject.slack.com/files/adc/F2UG27ZJQ/pasted_image_at_2016_10_26_05_41_pm.png">https://hyperledgerproject.slack.com/files/adc/F2UG27ZJQ/pasted_image_at_2016_10_26_05_41_pm.png</a> and commented: This is TransactionHeader</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 15:42</div><div class="msg">@adc why are all these fields bytes?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 15:43</div><div class="msg">for simplicity :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 15:43</div><div class="msg">to make it easier to implement bugs?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 15:43</div><div class="msg">no, kidding</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 15:43</div><div class="msg">why not!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 15:43</div><div class="msg">for this marshalling issue</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 15:43</div><div class="msg">if you find bytes that can be removed I would love to remove them</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:45</div><div class="msg">@adc This format is still not logically coherent to me</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:45</div><div class="msg">How do we have `n` transaction headers for a single transaction?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 15:46</div><div class="msg">a transaction can compose multiple proposal to be committed atomically</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 15:46</div><div class="msg">all or nothing, no?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:46</div><div class="msg">Let's forget about fabric and proposals and everything for a bit</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 15:46</div><div class="msg">yes, please. I'm pretty destroyed!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 15:46</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:47</div><div class="msg">I hand you a signed transaction, and 50 transaction headers</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:47</div><div class="msg">This at a fundamental level makes no sense to me</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:47</div><div class="msg">Really, you are handing me a transaction, and 50 actions, which contain 50 action headers</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:47</div><div class="msg">There's no actual transaction header</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-26 15:48</div><div class="msg">why? I might be wrong</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:48</div><div class="msg">Hm, but its actually 50 x (transaction header + endorsement of the associated proposal)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:49</div><div class="msg">that means that if i have two single proposals whose results one want to see committed atomically</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:49</div><div class="msg">It's like we are overloading the word transaction.  If the top level thing is a transaction, how does each action have a transaction header? Are they all the same?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:49</div><div class="msg">then we would need to have them in the same transaction no?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:49</div><div class="msg">May be , correct</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:49</div><div class="msg">indeed</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:49</div><div class="msg">maybe its a multi-transaction what we have there</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 15:49</div><div class="msg">what is a multi-transaction?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:50</div><div class="msg">for this we can remove this complexity and define transaction to contain only what is included in transactionACtion</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:50</div><div class="msg">I think what I am driving at, is I don't understand how a transaction can have a repeated field which contains the transaction's header(s)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:50</div><div class="msg">for now it will anyway be one transaction per transaction :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:51</div><div class="msg">the field does nto contain only transaction header</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:51</div><div class="msg">but also transaction payload</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:51</div><div class="msg">To us, I think a transaction is a header (which prevents replay, and provides identity), a payload, and a signature</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:52</div><div class="msg">If you want a 'multi-transaction', then I would make that payload be a message which contains repeated transactions, or some other format</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:52</div><div class="msg">So if we have transaction include</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:53</div><div class="msg">timestamp, header, paylaod (parts of transactionAction) directly, and a signature without any repetition,would this simplify things in your opinion?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 15:53</div><div class="msg">why is timestamp not part of header?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:53</div><div class="msg">What is the purpose of the timestamp? I don't hate it, but why is it not in the header?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:53</div><div class="msg">and version</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:53</div><div class="msg">ah correct, it actually is</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:53</div><div class="msg">and the version is also part of it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:53</div><div class="msg">so both can be removed</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 15:54</div><div class="msg">hey let me propose something completely new:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 15:54</div><div class="msg">don't use protobufs for those, but standard go structs</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:54</div><div class="msg">I guess that deck was a bit old :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 15:54</div><div class="msg">and use ASN.1 to serialize/deserialize them</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 15:54</div><div class="msg">then you can skip that whole bytes thing</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 15:54</div><div class="msg">and directly integrate the arrays of structs</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 15:55</div><div class="msg">Adding @adc, @aso as they are essential for this discussion in general.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 15:56</div><div class="msg">Using protobufs for our on disk storage seems to be causing us a lot of problems.  ASN.1 is slower, but a single unmarshal and done would be nice.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 15:56</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 15:57</div><div class="msg">and given that it is a deterministic format you could even implement a faster version</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 16:04</div><div class="msg">of course the payload still will need to be an array of bytes to provide layering</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 16:05</div><div class="msg">Hm ok, to change slightly the discussion, we prepared this <a href="https://jira.hyperledger.org/browse/FAB-829">https://jira.hyperledger.org/browse/FAB-829</a> as proposal for generic membership service interface.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 16:05</div><div class="msg">ACtually a membership service provider interface (the client side mostly).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 16:10</div><div class="msg">@elli I'm a little confused about what membership services is supposed to do in v1.  My assumption was that it would issue the t-certs/e-certs for an organization, but that the signature validation etc. must be able to be performed without access to membership services, only to the chain?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 16:16</div><div class="msg">Correct. The interface i referred to has to do with the interface that transaction processing part of the client has with the membership service part of the client</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 16:17</div><div class="msg">It should be transparent to how and when the server is contacted</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2016-10-26 16:17</div><div class="msg">There are 3 touch points for membership services: 1) server 2) client (how the SDK talks to the server) and 3) peer (how the peer processes certs issued by server)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 16:17</div><div class="msg">correct</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 16:18</div><div class="msg">actually the server can be hidden from the client</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2016-10-26 16:18</div><div class="msg">For #3, it has generally been just normal PKIX checking</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 16:18</div><div class="msg">but ok the interface should be accommodatin auditing requirements on the server side</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2016-10-26 16:18</div><div class="msg">yes, that is true also ... only the client knows how to talk to the server</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2016-10-26 16:20</div><div class="msg">anyway, Elli, you said that we needed to change #3 and perhaps #2 also to be able to plugin Identity Mixer later</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2016-10-26 16:20</div><div class="msg">that is what you are working in in FAB 829, right?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 16:20</div><div class="msg">@jyellick - are you adamant about the fact that a "fabric" transaction and an "orderer" transaction need to share the same format?   I am not so sure I agree that they need to be and/or should be and the more I think about it, the more I think it will cause more harm than good.   Here's my thoughts / understanding:

- I assume that we agree that we determine the identities used for access control for the Broadcast and Deliver services/APIs via the certificates used to sign the "messages" sent to either of those services?  So this means that we need to have the messages sent via Broadcast be signed by the "client"

- For messages sent via Broadcast, we would also need to know the channel, payload, cert of sender and signature.   So the "header, payload, signature" structure works well here and the ordering service really does not need to know anything about the payload EXCEPT in the case where this is a CONFIG transaction?   I would assert that you could add that as a "type" to the header and/or have a separate service/API for config.  I also assume that CONFIG messages must be sent to the intended channel for ordering purposes

- For non-CONFIG messages, the orderers make sure the signature is valid on the broadcast message and that the signer is allowed to broadcast to the channel.  So for "normal" broadcast messages (e.g. fabric transactions), the orderer views these as opaque and simply orders them and delivers to anyone connected on target channel

- For a CONFIG message (determined by the type in the header or there could actually be a separate service/API for config), the orderer actually needs to execute some logic to make sure that the config change is valid, the sender is authorized, etc.   The creation of this message would occur outside of the fabric (typically) and any type of signatures which needed to be gathered would be done outside of the fabric and the ordering service.  All of this information would be in the "payload" of the broadcast message.   Assuming that the CONFIG change met the rules / constraints, there might be certain of these types of message (or maybe all) which would need to be delivered to peers connected to the channel the config is for.   I would actually assert that the ordering service should actually deliver this as a batch of 1 and I think that perhaps you introduce a "type" field in the batch/block header so that when the receiving peer(s) get it, they know that this is a special batch/block. 

I think that if done this way, then the ordering service needs to know nothing about fabric (or any other things which wants to use it) transactions and you have a well-defined way of distributing config to peers using a "config" batch/block</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-10-26 16:21</div><div class="msg">@keithsmith correct.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 16:24</div><div class="msg">I think we need to stop calling the "crypto" layer which components use to do basic crypto "membership services"  :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 16:25</div><div class="msg">"cop-client"  or something</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2016-10-26 16:25</div><div class="msg">Gari, do you agree with comments in <a href="https://jira.hyperledger.org/browse/FAB-807">https://jira.hyperledger.org/browse/FAB-807</a> wrt both orderer and peers using common code to parse the 3 types of cert lists?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 16:26</div><div class="msg">it's confusing given the legacy of the current stuff</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 16:26</div><div class="msg">yeah - we should share crypto stuff wherever possible</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-10-26 16:26</div><div class="msg">&gt; I would actually assert that the ordering service should actually deliver this as a batch of 1 and I think that perhaps you introduce a "type" field in the batch/block header so that when the receiving peer(s) get it, they know that this is a special batch/block.
Was this assertion ever contested? This has been the assumption in all the discussions I've taken part in.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-10-26 16:27</div><div class="msg">(I've only scrolled back to yesterday's discussions so perhaps I've missed something.)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 16:28</div><div class="msg">why batch of 1?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 16:28</div><div class="msg">@kostas - I try to follow all the conversations and write ups, so perhaps there was no disagreement on some of those points but I'll be honest it is not super clear to me (which is likely that I am not involved in every discussion)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 16:28</div><div class="msg">because I put a "type" field in the batch header</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 16:28</div><div class="msg">aha</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 16:28</div><div class="msg">could be more as long as they were all config transactions</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 16:29</div><div class="msg">it basically gives the orderer freedom to deal with config as it likes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 16:29</div><div class="msg">why is this part of the batch and not part of the payload format?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 16:29</div><div class="msg">@keithsmith what are CRLs used for in the orderer?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 16:30</div><div class="msg">because then the config and fabric transactions would have to share something in common - which is what I wanted to avoid</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-26 16:31</div><div class="msg">and I wanted to ensure that the ordering nodes do not ever have to know anything about a fabric transaction.  The opposite is OK - fabric can know about ordering batch format and config payload / format</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2016-10-26 16:33</div><div class="msg">@simon CRLs would be for revoked peer and end user certs, but wouldn't that still need to flow thru this config update?  I'm assuming you don't need to support revocation of orderer certs</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 16:33</div><div class="msg">okay</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 16:34</div><div class="msg">why is this cert list a special type?  it could be maintained as a part of the ledger, no?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2016-10-26 16:38</div><div class="msg">Actually, the orderers will need to process CRL also, to make sure they reject traffic from a revoked peer cert</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-26 16:39</div><div class="msg">okay</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2016-10-26 16:39</div><div class="msg">It is a "special type" only in the sense that it identifies it's use as a list of revoked certs rather than a list of trusted certs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 17:13</div><div class="msg">&gt; are you adamant about the fact that a "fabric" transaction and an "orderer" transaction need to share the same format?  

@garisingh  I would be adamant that the thing the fabric sends to the orderer must be encoded in the same way the thing that contains the config is encoded.  In other words, the ordering service should not have to understand fabric transactions to validate their signature, and then additionally understand ordering transactions and how to validate them.  

What you propose, is what I would prefer, an ordering transaction type which is the only thing the orderer accepts.  It can wrap whatever fabric structure is required, and the fabric structure can depend on the orderer constructs, like the header to prevent replay, or not, does not matter to me.

The sticky points to me, are that the specification says that the client sends a fabric transaction to the orderer (not an orderer transaction), and that the raw ledger work claims to store fabric transactions (again, not orderer transactions).

Because those two things didn't seem likely to switch off the fabric transaction type to an orderer transaction type, I was attempting to switch the orderer onto the fabric transaction type, even though it seems like a suboptimal solution to me.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-26 17:32</div><div class="msg">We need to be careful here not to mix up the transactions.  The intent for CONFIG type tx is for the orderers to act on them without the existence of a chaincode  (remember all tx’s on peers involve some chaincode). Some CONFIG tx may also be “exec” on peers</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-26 17:34</div><div class="msg">@binhn The question is whether we try to take the proposed fabric transaction format, and add a type for CONFIG transactions, or whether we create a more generic orderer transaction type, and rework the fabric transaction type on top of it.  I think @garisingh and I would propose the latter, while others (I'll let them identify themselves) would opt for the former.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/013cd3786ca4987de69f8bd935e5027f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">shaileshrl</div><div class="time">2016-10-26 20:28</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/cda443485af5e0afbc7c130790cc58af.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">harrisob</div><div class="time">2016-10-26 22:01</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/cda443485af5e0afbc7c130790cc58af.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">harrisob</div><div class="time">2016-10-26 22:07</div><div class="msg">@harrisob has left the channel</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/291eef0806ea9dfea82c15c099c2a890.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">troyronda</div><div class="time">2016-10-26 22:27</div><div class="msg">+1 for the latter - with wrapper and message type (in the fabric spirit of allowing additional plugin functionality on the messages themselves)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 00:16</div><div class="msg">@muralisr uploaded a file: <a href="https://hyperledgerproject.slack.com/files/muralisr/F2UPNMZD3/chaincode_transaction.proto">https://hyperledgerproject.slack.com/files/muralisr/F2UPNMZD3/chaincode_transaction.proto</a> and commented: @adc @aso  multiple TransactionAction (although ledger code expects only one currently) as in this field `repeated TransactionAction actions = 3;`   is ok but not  `repeated ChaincodeEndorsedActions action = 2;`  I think ? Can you validate please ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 00:16</div><div class="msg">@muralisr uploaded a file: <a href="https://hyperledgerproject.slack.com/files/muralisr/F2UPZE64A/fabric_transaction.proto">https://hyperledgerproject.slack.com/files/muralisr/F2UPZE64A/fabric_transaction.proto</a></div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2016-10-27 00:17</div><div class="msg">@muralisr commented on @muralisr’s file <a href="https://hyperledgerproject.slack.com/files/muralisr/F2UPNMZD3/chaincode_transaction.proto">https://hyperledgerproject.slack.com/files/muralisr/F2UPNMZD3/chaincode_transaction.proto</a>: I have attached proto files with the appropriate changes.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 00:20</div><div class="msg">note the plural-&gt;singular changes to some names as well</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/490b0d3889f99313ef90dcda6dd2f5bd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">kyrieleison</div><div class="time">2016-10-27 07:51</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-27 08:58</div><div class="msg">@jyellick what I care about is to design the protocol messages having security in mind :slightly_smiling_face: Then, if you start from CONFIG and generalize or you go the other way around is not so relevant to me. Please, share your design of the fabric messages and we will evaluate the security implications :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-27 09:01</div><div class="msg">@muralisr regarding chaincode_transaction.proto, at that point, we can also collapse ChaincodeActionPayload and ChaincodeEndorsedAction  in a single message. It should be fine from a security point of view. @aso, @lli comments?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-27 09:04</div><div class="msg">@muralisr regarding fabric_transaction.proto, @jyellick was questioning having multiple headers in a single Transaction. Not sure anymore if we have to move to that directions. Let me just note that having a single header per transaction is fine from a security point of view.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/51331d3b512091ad99598610dcae9fc1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">zxc</div><div class="time">2016-10-27 09:52</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2908e6d8edaa7314aa9f7a85f46d838e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">wanghaibo</div><div class="time">2016-10-27 09:52</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 12:09</div><div class="msg">@adc  I take it then you are ok with the changes above. Propose we can do other changes incrementally once the main integ is complete.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-27 12:10</div><div class="msg">yes, actually, @aso and me are finalizing a change-set that will introduce a lot of comments to all the messages and some refactoring to simply certain things.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-27 12:10</div><div class="msg">it should be ready in few hours</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 12:11</div><div class="msg">perfect</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 12:11</div><div class="msg">thank you @adc</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-27 12:11</div><div class="msg">sure :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 12:11</div><div class="msg">let me share what I have</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-27 12:13</div><div class="msg">sure, please</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 12:22</div><div class="msg">@muralisr uploaded a file: <a href="https://hyperledgerproject.slack.com/files/muralisr/F2UV1KUHJ/protos.tar">https://hyperledgerproject.slack.com/files/muralisr/F2UV1KUHJ/protos.tar</a> and commented: (1) moved everthing in next/ to fabric/.  (2) took what’s needed in fabric_next.proto and deleted others (3) made the few changes mentioend in those two files</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 12:23</div><div class="msg">if you can move all the above protos into next/ and do your changes there , I can simplly move them back into fabric/ when you are done</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 12:23</div><div class="msg">what do you think ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-27 12:24</div><div class="msg">make sense</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-27 12:24</div><div class="msg">thanks :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 12:25</div><div class="msg">awesome, thanks again :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 14:29</div><div class="msg">@jyellick @garisingh @muralisr @binhn : Angelo and I have pushed LOTS of comments to the protobufs</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 14:29</div><div class="msg"><a href="https://gerrit.hyperledger.org/r/#/c/2071/">https://gerrit.hyperledger.org/r/#/c/2071/</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 14:29</div><div class="msg">(and some minor cosmetic changes)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 14:29</div><div class="msg">pls have a look, looking forward to the discussion</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-27 14:30</div><div class="msg">cool - thx</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 14:32</div><div class="msg">protos/next/fabric.proto is a good place to start - there's an overall description of the whole flow, specific for chaincodes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 14:36</div><div class="msg">@aso @adc nitpicking… can we shorten field names please ? its getting quite ugly in code. Also `bytes chaincodeProposalPayloadBytes = 1;` … don’t need the `Bytes` in the field name</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 14:37</div><div class="msg">agreed</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 14:38</div><div class="msg">will change it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 14:38</div><div class="msg">now we are focusing on semantics …after a while names are going to be key ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 14:39</div><div class="msg">(that’s my excuse for the nitpick … :slightly_smiling_face: )</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-27 14:39</div><div class="msg">heheheh :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-27 14:40</div><div class="msg">apart from this, there is still the marshalling issue. We need to find a compromise for that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 14:40</div><div class="msg">@simon suggested that stuff that goes to the ledger should not be marshalled in some non-standard ways and suggested to use ASN.1. Why not...?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 14:41</div><div class="msg">(or any standard encoding for that matter)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 14:41</div><div class="msg">if we did that, we would solve the problem...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-27 14:41</div><div class="msg">+1</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 14:49</div><div class="msg">how about this ? Get this integrated but have helpers in `fabric/protos/util`. Integration code such as ledger, chaincode etc will use these helpers.  Once we have this in, we can move to other formats in due time after you have time to reorganize protos. At that point the main changes will be contained to protos and protos/util</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 14:49</div><div class="msg">I’m hoping to get the integration done by today … latest by tomorrow</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 14:49</div><div class="msg">sounds like a great way forward</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-27 14:49</div><div class="msg">+1</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 14:50</div><div class="msg">so we're basically assuming that the marshalling done by those helpers is deterministic</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 14:50</div><div class="msg">for now we stick with protobufs, but we can change later (with minimal impact) to ASN.1 or others</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 14:52</div><div class="msg">right. no “marshal”/“unmarshall” will be in core code for these new structures …they’ll only be in protos/util</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 14:53</div><div class="msg">for example I have this in a util func `func GetPayloads(txActions *protos.TransactionAction) (*protos.ChaincodeActionPayload, *protos.ChaincodeProposalResponsePayload,  error) {`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 14:53</div><div class="msg">used by ledger</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 14:54</div><div class="msg">gotcha - instead of doing manual unmarshalling, the peer code will call GetPayloads or similar helpers</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 14:55</div><div class="msg">and we'll need some corresponding AssemblePayloads or something</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 14:55</div><div class="msg">right</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 14:56</div><div class="msg">packing and unpacking done in protos/util</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 14:56</div><div class="msg">yup</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 15:02</div><div class="msg">@aso Please see my replies in <a href="https://gerrit.hyperledger.org/r/#/c/2071/">https://gerrit.hyperledger.org/r/#/c/2071/</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 15:08</div><div class="msg">@jyellick I answered to the “Transaction2” question… its just temporary as the “Transaction” from 0.5 is used internally. The old Transaction will be replaced</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 15:09</div><div class="msg">basically don’t worry about the internal use for a bit and keep the build happy while integrating</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 15:10</div><div class="msg">Thanks @muralisr , I guess what confused me is that the previous push did not include the 2, that it was new in this one, just wanted to make sure it was purposeful</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 15:10</div><div class="msg">agreed and understood… “2” was a carryover from my changes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 15:25</div><div class="msg">@jyellick thx, going through them, will post responses/changes soon</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 15:40</div><div class="msg">done - pls see my responses and I'll push a new revision soon</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 15:45</div><div class="msg">@jyellick ^^^</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 15:46</div><div class="msg">(Looking)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 15:47</div><div class="msg">@aso Replied</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 16:10</div><div class="msg">@jyellick @muralisr pushed new comments and minor changes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 17:40</div><div class="msg">@jyellick I wanted to follow up here on 
&gt; What if we required that every transaction is endorsed by the proposer? This seems like it would solve the problem of 'stolen' proposals. If the network wanted to allow 'proxied' proposal submission (where there is a different transaction submitter than proposal creator) then this could still be supported.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 17:43</div><div class="msg">I'm not sure I fully understand yet. Here's my doubt: how can we support transactions that can include multiple actions, where each action may result from the proposal of a different client, while still ensuring that only one actor signs the transaction?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 17:45</div><div class="msg">But the transaction must be signed by one actor?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 17:45</div><div class="msg">currently yes, only by one</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 17:45</div><div class="msg">we could have multiple sigs</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 17:45</div><div class="msg">or multisigs</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 17:45</div><div class="msg">but that wasn't discussed so far</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 17:45</div><div class="msg">Ultimately, it will be a single client who submits the transaction</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 17:45</div><div class="msg">And I would think there should be a transaction header, which that client must sign over</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 17:46</div><div class="msg">right but we want to retain the consent of the submitting actor in its signature of the tx. If the actions are from somebody else, where is *their* consent recorded?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 17:47</div><div class="msg">imagine both of us submits a proposal, gets an endorsed action</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 17:47</div><div class="msg">now we want to create a tx with both our actions</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 17:47</div><div class="msg">who signs it?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 17:47</div><div class="msg">if only one does, the other can always claim it didn't mean to do that - it's my word against yours</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 17:48</div><div class="msg">but the second anyone signs, then they are bound by the signature</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 17:48</div><div class="msg">they can't claim that they didn't mean to</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 17:54</div><div class="msg">I still maintain, whoever submits it, must sign it, as the submitter</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 17:54</div><div class="msg">I don't disagree with that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 17:54</div><div class="msg">And I would say there can only ever be a single submitter</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 17:54</div><div class="msg">(for a particular tran)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 17:55</div><div class="msg">in that case, how do you solve our little dispute of a tx signed by you with both our proposal actions?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 17:55</div><div class="msg">I can claim I didn't give you any authorization - and then in front of the judge they'll say "no, sorry. Ale is Italian and we don't trust them" and then I'm screwed :stuck_out_tongue:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-27 17:56</div><div class="msg">????</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 17:56</div><div class="msg">@garisingh the disucssion concerns a transaction containing 2 actions stemming from proposals from 2 different clients</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 17:56</div><div class="msg">who signs that transaction?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-27 17:57</div><div class="msg">I don't think we were trying to support transactions from multiple submitters (clients) in the same envelope</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 17:57</div><div class="msg">then we're good</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 17:57</div><div class="msg">but I think @jyellick had reservations about that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 17:57</div><div class="msg">(if I understood correctly)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 17:59</div><div class="msg">It is more that having the creator specified in a repeated header implies to me that it is possible</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 18:00</div><div class="msg"><a href="https://gerrit.hyperledger.org/r/#/c/2075/1/orderer/atomicbroadcast/ab.proto">https://gerrit.hyperledger.org/r/#/c/2075/1/orderer/atomicbroadcast/ab.proto</a> Please look at `SignedData`, `SignableData` and `SignatureHeader` as a proposal for the 'orderer transaction'</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 18:00</div><div class="msg">(Here, where `Broadcast` accepts a stream of `SignedData`, and a fabric transaction would either build upon or simply be wrapped by the `SignedData`)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 18:01</div><div class="msg">will have a look</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 18:02</div><div class="msg">(Please have a look @garisingh @kostas @simon as well)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-27 19:03</div><div class="msg">@jyellick I've added the flow descriptipon for generic transactions to fabric_proposal.proto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 19:03</div><div class="msg">Thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 19:03</div><div class="msg">I'll take a look</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 19:08</div><div class="msg">@jyellick can you take a look at <a href="https://gerrit.hyperledger.org/r/#/c/1973/">https://gerrit.hyperledger.org/r/#/c/1973/</a> ? looks like you had reviewed it before … if you are ok with that good to merge so I can rebase and work</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 19:08</div><div class="msg">Sure</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 19:08</div><div class="msg">oops</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 19:09</div><div class="msg">wrong one</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 19:11</div><div class="msg">I +2-ed because it looked good to me, but it has a merge conflict, so that will go away</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 19:11</div><div class="msg">no that’s the right one (sorry)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 19:11</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-10-27 19:26</div><div class="msg">If you wanted to simply pass a tran, the SignatureHeader's type is `UNKNOWN` I guess?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-10-27 19:28</div><div class="msg">And can we clarify what is the difference between `CONFIGURATION_TRANSACTION` and `CONFIGURATION_ITEM`? (I can guess, but I don't want to.)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 19:52</div><div class="msg">I was just discussing this with @muralisr we could add a field of type `FABRIC`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 19:59</div><div class="msg">sounds like if we did that then `Transaction2` becomes `Data` for `Type == FABRIC`… and we don’t need `SignedTransaction`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 19:59</div><div class="msg">did  I read that right ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 20:56</div><div class="msg">actually talking with @binhn we could consolidate even further like so</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 21:00</div><div class="msg">```Envelope == SignedData
Payload == SignableData
Header == SignatureHeader

so that 

Envelope { Payload, Signature }
Payload {Header, Data}

maps to @jyellick structures. ie, basically use standard names such as Envelope, Header etc to describe generic objects and then `Data` becomes specialized based on Header```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 21:19</div><div class="msg">@garisingh @binhn @kostas @simon @muralisr I think we really need to make a decision as to whether configuration tx is on the fabric transaction type with fabric style endorsements or not.  I've heard very different stories depending on who I ask.

Below is my understanding:

There are some who suggest that configuration transaction endorsement should be done by endorsers (even if it requires out of band manual human interaction to approve the endorsement).  This means all orderering entities would need deploy endorsing peers to support reconfiguring the ordering network.  

Pros: Reuse of components, reuse of concepts
Cons: Violates layering idea of the orderer network being unaware of the peer, fabric transaction format is complex

There are some who suggest that configuration transaction endorsement should be done entirely in an out of band procedure using a simpler mechanism than endorsement, with admins doing key signatures manually out of band (because modifying config should always require human approval).

Pros: Makes bootstrapping simple, keeps orderer concept relatively isolated from fabric concepts
Cons: Require reinventing mechanisms from the fabric</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-27 21:21</div><div class="msg">I go with the latter - separate from fabric.  </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-27 21:21</div><div class="msg">And I think the only reinvention might be policy which we could share</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-10-27 21:22</div><div class="msg">Strong vote for the latter option. </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 21:23</div><div class="msg">why would " fabric transaction format is complex” ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 21:24</div><div class="msg">i am fine with have manual configurations for orderer but if it requires to be in the ledger, it need to be a transaction</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 21:25</div><div class="msg">which should be interpreted by the peers on both endorsing (if required) and validating</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 21:25</div><div class="msg">channel creation, for example, can’t and shouldn’t be done manually</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 21:26</div><div class="msg">the current transaction object is defined to contain a header and a payload.  The payload depends on the type in the header</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 21:26</div><div class="msg">why would that be complex?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 21:27</div><div class="msg">If we are doing automated endorsement over it, then I maintain we _must_ use the Proposal/ProposalResponse/etc. which I think, are complex.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 21:28</div><div class="msg">There is no technical reason which would prevent us from using this construct, I've been thinking about how we might do this, and I actually think it can be made mildly elegant, but I have not worked all the kinks out.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 21:28</div><div class="msg">what CONFIG trans that don’t effect the peers ?  separate those out and handle them on the orderer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 21:28</div><div class="msg">But I think the aggregation of the transaction proposal, proposalresponse etc. is undeniably complex</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 21:29</div><div class="msg">Having different styles of config endorsement seems like a bad road to me.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 21:29</div><div class="msg">for those that effect the peer and ledger, we need to follow a clear path otherwise we would only confuse developers</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 21:30</div><div class="msg">nothing prevent us from defining another type of trans</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 21:33</div><div class="msg">if a trans (regardless of type) effecting both peer and orderer, it needs to travel the same path, so that all the APIs would work the same way;  some of them (types) might not need endorsements</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 21:34</div><div class="msg">I'm confused how you could have a reconfiguration transaction without endorsement</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 21:34</div><div class="msg">(here I use endorsement in a generic non-fabric way)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 21:36</div><div class="msg">what are the reconfiguration transactions that we know of today?  after all, endorsement is a process determined by the app, not the fabric</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 21:40</div><div class="msg">Changing transactor membership, changing orderer membership, changing policy (including modification policies for the membership)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 21:42</div><div class="msg">(And possibly other chain configuration data which we haven't realized we need yet)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 21:43</div><div class="msg">Changing orderer addresses, orderer characteristics (think pbft f, or K, or L), changing other chain characteristics like block size or batch timeout, changing block validation policies, expiring certs (are a few more that come to mind)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 21:44</div><div class="msg">do we need to record these changes on the ledger  or some private orderer’s db?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 21:45</div><div class="msg">if ledger, which ledger and which peers maintain the ledger?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 21:47</div><div class="msg">I would say these are the properties of the 'configuration block'.  A 'configuration block' should contain all the configuration for the chain, so that any peer or orderer, given this block (and told to trust it) could completely participate in validation and reception of the chain going forward.  (For a peer, for application logic, they would likely need past blocks).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 21:50</div><div class="msg">@jyellick if these properties are on the `configuration block` are maintained on the ledger .. seems to logically follow that they are maintained as states on a chaincode  OR are they are maintained outside of the ledger in some trusted manner ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 21:51</div><div class="msg">I'm wary of the term 'the ledger', to me this implies some database or other</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 21:51</div><div class="msg">chain = channel + ledger  which is created by the application + peers,  so without that, there would be no chain to begin with
We could treat this config block as a structure maintained by the orderers some how  and given to the application when the app creates a chain</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 21:52</div><div class="msg">I would see there being a simple transformative function "Config" -&gt; In memory structure.  When a peer starts up, it picks the most recent config block, and uses that for config.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 21:52</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 21:53</div><div class="msg">so its not part of the “block” but modified in some trusted manner</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 21:53</div><div class="msg">so this has nothing to do with transactions</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 21:53</div><div class="msg">just some confguration on the orderer</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 21:53</div><div class="msg">if that’s true then we don’t need a “transaction” to modify it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 21:53</div><div class="msg">an API</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 21:54</div><div class="msg">how would existing peers learn about the changes on the configuration block?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 21:55</div><div class="msg">Whenever the configuration changes, a new configuration block is emitted as the next block in the chain</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 21:55</div><div class="msg">A configuration block only ever contains exactly one 'configuration transaction'</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 21:55</div><div class="msg">no, you’re mixing the metaphor of transaction with configuration data on orderer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 21:56</div><div class="msg">This is chain wide configuration</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 21:56</div><div class="msg">which chain?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 21:56</div><div class="msg">there are multi chains</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 21:56</div><div class="msg">Each channel has a chain</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 21:56</div><div class="msg">Every chain has a most recent configuration block</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 21:57</div><div class="msg">that doesn’t work</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 21:57</div><div class="msg">Why?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 21:57</div><div class="msg">we can say (1) config is on ledger and would need to be managed using a chaincode (config being properties) or (2) config is outside of ledger and does not need fabric’s transaction semantics  (no need to invoke chaincode etc)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 21:58</div><div class="msg">what we CANNOT say is config is on ledger but does not need fabrics transaction semantics as there’s no way you can modify the states represented by the configuration outside of the chaincode path…I’m thinking states as properties tat have to be manipulate via RW set</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 21:58</div><div class="msg">(2) is not an option, config must be processed in line with the blocks, otherwise it is extremely hard not to be non-deterministic</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 21:58</div><div class="msg">t1 broadcasted before config changes; t2 broadcasted after config changes;  t1 and t2 were ordered in the same block; config changes was in another block;  which block get to peer first?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 22:00</div><div class="msg">Config is not changed until it makes it into a block.  The transactions are processed against the most recent config change.  If it's in a block before the block this tx is bound for, then you apply that config.  If the tx was processed before that config, then it wouldn't.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 22:00</div><div class="msg">if 2 is not an option, then we must use transaction — it is for auditability and all the api’s to work the same way</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 22:01</div><div class="msg">oh I see</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 22:01</div><div class="msg">We can do (1), but per @kostas and @garisingh they do not like the idea of it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 22:01</div><div class="msg">you are saying you’ll construct a block on the fly and just “plug” it in</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 22:01</div><div class="msg">(I also believe @troyronda and @simon do not like the idea of using the fabric transaction)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 22:01</div><div class="msg">gosh</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 22:02</div><div class="msg">@muralisr It is not that complicated.  The transaction that comes in contains the config.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 22:02</div><div class="msg">There's not transformation, nothing complicated, we just validate it, and if it's good, throw it in a block.  If it's not, we discard it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 22:03</div><div class="msg">As my initial post to this whole discussion, I see pros and cons to reusing the fabric transaction.  I just need a decision as I can't implement both.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 22:03</div><div class="msg">(Or rather, it would be a waste to do both)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 22:03</div><div class="msg">right</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 22:03</div><div class="msg">if it’s on ledger, how would we get/query the content?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 22:04</div><div class="msg">how would the ledger know to build the merkle tree</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 22:04</div><div class="msg">I would imagine a switch that says "If it's configuration, pass it to this little library, it will either tell you the config was inappropriately updated (in which case, you have a problem and should stop participating in the network) or, it will hand you back a little map of the config values, or some other convenient structure.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 22:04</div><div class="msg">so then this is what needs to happen … ledger peeks into the tran and if a CHAINCODE tran does read/write consolidation or if its a CONFIG transaction it would just call an API into the peer to set it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 22:04</div><div class="msg">?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 22:05</div><div class="msg">Right.  When you receive a block from ordering, you already need to inspect it to make sure it's valid.  So, extend that further, if it only has one transaction, check to see if it's a config tran, and if so, try to apply it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 22:06</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 22:06</div><div class="msg">so now on every call, we need to check type</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-10-27 22:06</div><div class="msg">This makes perfect sense to me.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 22:07</div><div class="msg">in other words, ledger needs to be aware of CONFIG type and treat it differently</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 22:07</div><div class="msg">well, we already peek into the tran in the ledger</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 22:07</div><div class="msg">this wouldbe exception processing;  ugly</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 22:08</div><div class="msg">bad design</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 22:08</div><div class="msg">Then why do we support non-chaincode types?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 22:09</div><div class="msg">it should behave the same from persistence point of view some that we can protect the other APIs</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 22:09</div><div class="msg">just for reference</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 22:09</div><div class="msg">@muralisr uploaded a file: <a href="https://hyperledgerproject.slack.com/files/muralisr/F2V94SWKG/pasted_image_at_2016_10_27_06_09_pm.png">https://hyperledgerproject.slack.com/files/muralisr/F2V94SWKG/pasted_image_at_2016_10_27_06_09_pm.png</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 22:09</div><div class="msg">that’s what we do today to prepare for read/write</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 22:10</div><div class="msg">ledger now operates on read-write-set, this config type would not have that but it changed the state</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 22:12</div><div class="msg">If we ever support another transaction type like, say UTXO, we will have to process the transaction differently.  The config transaction is just a very very simple sort transaction which doesn't require a backing DB to parse.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-10-27 22:12</div><div class="msg">Assuming that this is a bad design, how is it better than violating this nice layer separation between orderers/endorsers that we currently have?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 22:13</div><div class="msg">we already violate the layer by sending an unknown block to the ledger maintained by the peers</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 22:13</div><div class="msg">Peers layer on top of ordering, so it is fine for them to need to know about ordering concepts</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-10-27 22:14</div><div class="msg">I disagree. Consider what the alternative path entails for orderers.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-27 22:14</div><div class="msg">my take is very simple - the ordering service should have no awareness of fabric transactions.   Now the peers will need to know how to interpret batches of opaque messages and special config messages.   That's because they use the ordering service.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-27 22:14</div><div class="msg">it's as simple as that.   config of the ordering service is not governed by peers</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 22:15</div><div class="msg">i agreed, but there are config trans that governed by the peers</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 22:15</div><div class="msg">such as channel</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-27 22:15</div><div class="msg">for fabric - opaque will be fabric transactions</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-27 22:16</div><div class="msg">then those can be fabric transactions</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 22:16</div><div class="msg">rest my case</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-27 22:16</div><div class="msg">ordering service needs to know nothing about those other than to order them as opaque and deliver to the proper channel like any other mesages</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-27 22:17</div><div class="msg">hang on</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-27 22:18</div><div class="msg">someone will need to tell the ordering service to create / modify a channel and add/remove members/identities.  that is an orderer specific transaction.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-27 22:18</div><div class="msg">this whole thing seems messy to me - let me step away for a few and think about this</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 22:19</div><div class="msg">meanwhile can we merge <a href="https://gerrit.hyperledger.org/r/#/c/2071">https://gerrit.hyperledger.org/r/#/c/2071</a> ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-27 22:19</div><div class="msg">creation of a channel and telling peers to join a channel actually are 2 separate things</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 22:19</div><div class="msg">If we are ok with the changes, I can incorporate them</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-27 22:20</div><div class="msg">one is an orderer API (create the channel) and agreement to use/join is a fabric transaction</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 22:20</div><div class="msg">i don’t agree with the changes in 2071 and voted -1, but others can override as always</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-27 22:20</div><div class="msg">otherwise we will have made one entangled web of complexity</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 22:21</div><div class="msg">@garisingh This has always been my viewpoint, that anyone with authority to create a channel on the ordering service can do so, with whatever properties they want.  It is up to the peers to decide whether or not they wish to join that channel.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-10-27 22:21</div><div class="msg">Telling peers to join a channel is something that happens between the company's app and the company's peers. This has nothing to do with ordering.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-27 22:21</div><div class="msg">@binhn  "but others can override" is my line  :wink:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 22:22</div><div class="msg">@binhn  I don’t see any -1 there</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 22:23</div><div class="msg">It was prior to thee last push, so went away</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-10-27 22:23</div><div class="msg">@muralisr: It's there on a previous patchset.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-10-27 22:23</div><div class="msg">13:36.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 22:23</div><div class="msg">ah ok</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 22:24</div><div class="msg">I just wanted to make progress with the integration… looks like theres going to be a whole bunch of things to iron out</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 22:25</div><div class="msg">I can just go with what I have but there are some good things in the patch (such as comments) which will be good to have</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 22:26</div><div class="msg">@muralisr I would vote merge, purely because of the doc improvements.  I may not agree entirely with the format, but at least it is more clear now.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 22:27</div><div class="msg">right, exactly</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 22:27</div><div class="msg">also it is closer to the mainline transaction processing even if we have to adjust later for the config processing</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 22:27</div><div class="msg">is that a true statement ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 22:32</div><div class="msg">i think we need to design the CONFIG trans careful to protect the ledger operations;  could some gather the info so that we can have a call with manish and dave — at least the ledger can index the config trans, which has the same struct but different payload, so that API such as getTrans(123) still work</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-27 22:33</div><div class="msg">i m out of here, will check back later on</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 22:36</div><div class="msg">@muralisr I'm not sure that I understand your statement.  I too have to run, but will be back on later</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-27 22:37</div><div class="msg">well if everyone else is leaving - I'm outta here too!  time to workout methinks</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 22:37</div><div class="msg">guys</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 22:37</div><div class="msg">I guess I’ll just have to keep using the old protos</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-27 22:42</div><div class="msg">build job is stalled</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-27 22:42</div><div class="msg">I gave it a +2 and ran reverify</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-27 22:43</div><div class="msg">@garisingh thanks… will wait for it to complete and merge</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/291eef0806ea9dfea82c15c099c2a890.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">troyronda</div><div class="time">2016-10-27 23:07</div><div class="msg">@jyellick: It would be nice if other types of messages could be sent through consensus (for possible extensibility). I also think this is a possible consideration for versioning. I have typically advocated that many application-level configurations should be endorsed as fabric transactions. </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/291eef0806ea9dfea82c15c099c2a890.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">troyronda</div><div class="time">2016-10-27 23:10</div><div class="msg">I would also think that several middle-level configurations surface in a similar way ... such as creation of subledgers, peer membership, etc. I would also advocate for those items as being endorsed (regardless of the transaction type) and not use a totally out-of-band mechanism. </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/291eef0806ea9dfea82c15c099c2a890.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">troyronda</div><div class="time">2016-10-27 23:28</div><div class="msg">Sorry - I was editing :)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-27 23:28</div><div class="msg">@troyronda Sorry if I put words in your mouth, just thought I'd seen you +1 a comment about building the fabric Tran on an orderer Tran</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/291eef0806ea9dfea82c15c099c2a890.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">troyronda</div><div class="time">2016-10-27 23:32</div><div class="msg">No worries - I did intend that part :) </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/291eef0806ea9dfea82c15c099c2a890.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">troyronda</div><div class="time">2016-10-27 23:38</div><div class="msg">@jyellick:  Btw - I was reading a gerrit change log where my understanding was that the Metadata field isn't included in the hash structure of a block. Is there an equivalent in batches?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/291eef0806ea9dfea82c15c099c2a890.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">troyronda</div><div class="time">2016-10-28 00:14</div><div class="msg">And is the metadata intended to be synched between peers along with the rest of the block data?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-28 00:52</div><div class="msg">Metadata is intended to be synced, and is usually used to contain signatures, for instance if 3 of 4 ordering nodes need to sign, there are four different valid sets of signatures (five if you want to be technical) , which would result in four different hashes if they were included in the block hash. It's okay to sync this unhashed data because the receiver can verify it. </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-28 00:55</div><div class="msg">As far as batches vs blocks, they're the same data structure </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/291eef0806ea9dfea82c15c099c2a890.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">troyronda</div><div class="time">2016-10-28 01:19</div><div class="msg">Cool.. excellent.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-28 05:09</div><div class="msg">protos integrated with <a href="https://gerrit.hyperledger.org/r/#/c/2081/">https://gerrit.hyperledger.org/r/#/c/2081/</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-28 07:54</div><div class="msg">@muralisr cool, I'll attempt a rebase of my patch on top of that branch</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/84b5db2e2415e918dc8975640996c62f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">teddy</div><div class="time">2016-10-28 08:55</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/84b5db2e2415e918dc8975640996c62f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">teddy</div><div class="time">2016-10-28 09:07</div><div class="msg">i want to add eca users like jim dynamically.
i try to change the source in ecap.go with 
pwd, err := ecap.eca.registerUser(id, "bank_a", pb.Role(1), nil, ecap.eca.aca, "", "client")
it returns a pwd of the id, when i use it for peer network login, i get the error like :
Failed registering client [testid] with name [testid] [x509: certificate signed by unknown authority]. 
what is wrong?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-28 09:19</div><div class="msg">@teddy - reposting this over in membership services</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-28 09:20</div><div class="msg">but were already have the ability to add users via the NodeSDK</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/84b5db2e2415e918dc8975640996c62f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">teddy</div><div class="time">2016-10-28 09:32</div><div class="msg">@garisingh  thank you.
yes,i see your answer before. but i don't know how to use it i will try it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-28 11:50</div><div class="msg">@aso there was a goimports error with  <a href="https://gerrit.hyperledger.org/r/#/c/2081/">https://gerrit.hyperledger.org/r/#/c/2081/</a> (a test file that I missed)… just submitted the fix</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-28 11:50</div><div class="msg">oh thx</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-28 11:50</div><div class="msg">will rebase again</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-28 11:51</div><div class="msg">it was a test file in ledger… you may be fine</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-28 11:51</div><div class="msg">ah ok</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-28 11:52</div><div class="msg">we need to look at the functions in protos/utils and fix them for rigor</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-28 11:52</div><div class="msg">especially around crypto usage</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-28 11:52</div><div class="msg">I have completely ignored signature etc</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-28 11:52</div><div class="msg">but good news is they are all in one package protos/utils</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-28 11:53</div><div class="msg">and then we need to revisit comments from @binhn last time around regarding naming …</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-28 11:53</div><div class="msg">@adc @aso ^^^</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-28 11:54</div><div class="msg">I recall a discussion around TransactionHeader -&gt; Header</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-28 11:54</div><div class="msg">aha, okay</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-28 11:54</div><div class="msg">was there anything else?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-28 12:02</div><div class="msg">let me check</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-28 12:09</div><div class="msg">@aso I think that was it but we probably need to get together and hash 2 things (1)possible  consolidation of structures proposed by @jyellick in <a href="https://gerrit.hyperledger.org/r/#/c/1965/">https://gerrit.hyperledger.org/r/#/c/1965/</a> with all the folks in the discussion (see yesterdays chat around this above) and (2) flows for CONFIG transaction (this likely will have impact on the protos too)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-28 14:25</div><div class="msg">i feel my remark about not using protobufs for persistent data structures is being ignored</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-28 14:30</div><div class="msg">@adc - can you rebase <a href="https://gerrit.hyperledger.org/r/#/c/2029/">https://gerrit.hyperledger.org/r/#/c/2029/</a> (and perhaps the change sets which come after it)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-28 14:30</div><div class="msg">sure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-28 14:31</div><div class="msg">@simon I'm not opposed to switching to another structure, I just have no experience with ASN.1 or how to define it in a schema-like fashion (like protobuf), which is why I submitted my work on top of protobuf as it was the path of least resistance</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-28 14:32</div><div class="msg">you just define a go structure</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-28 14:32</div><div class="msg">and voila, marshal/unmarshal with ASN.1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-28 14:33</div><div class="msg">although we do need to support other languages besides for Go</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-28 14:34</div><div class="msg">How about doing something like a SignedMessage, where you have a payload (a structure) and a signature.  How do you know what bytes to check the signature over, do we then need to remarshal?  (So essentially, the path would be.  Unmarshal outer struct, read signature field, re-marshal inner struct, verify? If so, that also doesn't seem extremely elegant)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-28 14:36</div><div class="msg">the GO ASN.1 parser allows you to have a `DataBytes` field (or similar name)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-28 14:37</div><div class="msg">where it stuffs in the bytes that filled the structure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-28 14:39</div><div class="msg">Oh, interesting.  Personally, I think ASN.1 sounds like a good idea, but so much of the system is built on protobuf, I'm not sure if its use would be deemed too confusing.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-28 14:40</div><div class="msg">well now is really the time to decide and do it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-28 14:41</div><div class="msg">well it could be interesting to TRY to mix them in - given that almost all of our higher order protobuf messages end up simply carrying bytes in order to address non-deterministic serialization</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-28 14:42</div><div class="msg">so perhaps protobuf as part of GRPC is nice for the "protocol" messages / envelopes and when we end up using "bytes" we move to ASN1?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-28 14:43</div><div class="msg">potentially means having 2 sets on encoders / decoders as part of any library interacting with the GRPC services, but that's not so bad</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-28 14:44</div><div class="msg">Looks like there is a js implementation out there, <a href="https://github.com/PeculiarVentures/ASN1.js">https://github.com/PeculiarVentures/ASN1.js</a> the license looks a little goofy because it's nonstandard, but it's the one most links seem to point to</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-28 14:44</div><div class="msg">we are already dealing with ASN1 anyway today in the NodeJS SDK for the crypto stuff</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-28 14:44</div><div class="msg">(certificates, etc)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-28 14:44</div><div class="msg">Ah okay, I suppose X.509 is all ASN.1</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-28 14:44</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-28 14:45</div><div class="msg">fwiw: I completely agree with @simon : stuff that is persisted should be serialized in standard ways. This way, any other implementation will at least be able to read the ledger</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-28 14:45</div><div class="msg">also: the crypto world with x509 has embraced ASN.1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-28 14:46</div><div class="msg">@aso I'm not sure I entirely agree that protobuf is not 'standard'.  It's well documented and standardized with lots of different language implementations, but I would agree its non-determinstic marshaling nature makes it poorly suited for crypto work</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-28 14:47</div><div class="msg">good point - being standard is just one piece of the puzzle; deterministic marshalling is another equally important one</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-28 14:48</div><div class="msg">ASN.1 seems to tick both boxes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-28 14:48</div><div class="msg">does anyone know how ASN.1 relates to protobufs when it comes to i) speed of un/marshalling and ii) marshalling metadata overhead?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-28 14:52</div><div class="msg">I think @simon did a test, and ASN.1 was noticeably slower.  Whether it's enough that we care, or makes up for the nested unmarshaling of the protos, I'm not sure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-28 14:53</div><div class="msg">(funny - was about to basically say the same thing)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-28 14:53</div><div class="msg">is there a clean way to patch the protobuf to have deterministic serialization?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-28 14:53</div><div class="msg">of course the nice thing about protobufs is that they do support a nice compatibility layer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-28 14:54</div><div class="msg">@adc - the google stuff is deterministic today they just make no guarantee nor require it in their spec</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-28 14:54</div><div class="msg">regardless of what we end up using, just want to point out that there’s encapsulation confined to protos/utils and externals don’t/shouldn’t deal with structure internals.  as long as we keep it that way it shouln’t be too hard to move to any format</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-28 14:56</div><div class="msg">my way of saying we don’t have to change immediately …. and perhaps we could review <a href="https://gerrit.hyperledger.org/r/#/c/2081/">https://gerrit.hyperledger.org/r/#/c/2081/</a> with that in mind ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-28 14:56</div><div class="msg">+1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-28 14:58</div><div class="msg">Re determinism: I _think_ one of the ideas for protobufs is that they want to allow for messages to be built incrementally, rather than a `Marshal` on a completed structure, they want to support adding fields one at a time (in arbitrary order) to do the marshaling incrementally for applications where that makes sense.  Maybe I am making this up, but believe I read this somewhere.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-28 15:01</div><div class="msg">from some dude on stack overflow:
```
In general, the same data will serialize in exactly the same way.

However, this is not guaranteed by the protobuf specifications. For example, the following differences in encoding are allowable and must decode to the same result in all conforming libraries:

Encoding fields in different order than the tag number order.
Encoding packed fields as unpacked.
Encoding integers as longer varint byte sequences than needed.
Encoding same (non-repeated) field multiple times.
Probably others.
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-28 15:02</div><div class="msg">`Note that most protobuf implementations (including the official ones) will always write protos in a canonical format as long as there are no unknown fields present.`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-28 15:11</div><div class="msg">@garisingh @jyellick : is the information about "what marshalling scheme was used for this chain" even stored somewhere on the chain? should it be?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-28 15:13</div><div class="msg">@aso That's a tricky one, since we'd have to define an encoding for how to store the encoding. (To your original question, no, not stored anywhere)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-28 15:15</div><div class="msg">in some crypto schemes, the encoding of "what crypto algorithm was used to encrypt me" was the code of the cipher itself. It's a way, perhaps not the best. I believe it was done in the context of "crypto that you can decrypt in NN years from now"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-28 15:17</div><div class="msg">I still feel like you need some foreknowledge.  If it's code, how is it encoded? At some point, you have to pick an initial representation</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-28 15:17</div><div class="msg">true that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-28 15:17</div><div class="msg">so we should just assume that the encoding is known, and fixed forever for the entire chain</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-28 15:20</div><div class="msg">yes, the initial representation is what is provided by a Turing machine :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-28 15:22</div><div class="msg">also that is problematic, actually :disappointed:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-28 15:23</div><div class="msg">we need a trusted setup assumption then</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-28 15:23</div><div class="msg">I would think making an assumption that the chain encoding can never change drastically simplifies our life.  I'm probably just ignorant of their existence, but I'm not sure of any other sort of data stream which changes the base encoding midway through.  I would think if we wanted to switch to a new format, you would want to re-encode the whole chain.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-28 15:23</div><div class="msg">+1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-28 15:24</div><div class="msg">in that case, an hard fork is the way to go</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-28 18:41</div><div class="msg">@simon @jyellick re ASN.1, I’ve found this interesting thread <a href="https://groups.google.com/forum/#!topic/protobuf/eNAZlnPKVW4">https://groups.google.com/forum/#!topic/protobuf/eNAZlnPKVW4</a>
&gt; Protobuf to be a simpler, cleaner, smaller, faster, more robust and easier-to-understand than ASN.1
&gt; memory allocations, thus both speeding performance and decreasing the memory footprint of our product by 50-70%</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-28 20:11</div><div class="msg">@garisingh @binhn @adc @aso @elli @kostas Per the discussion from earlier, the orderer is going to define a base transaction proto which the fabric can extend.  For the base transaction/message/something type, we need:

1. A message which contains a signature and a thing that signature is over.  In the fabric protos, this is a `SignedTransaction`
2. A message which represents the 'thing' that the signature is over, this should include a payload and a header, this is similar to, but slightly different from `Transaction`/`TransactionAction` because it assumes and requires a single header, which is at the top level and not nested more deeply.
3. A message which is the header to prevent replay attacks and provide the identity for the signing cert.

We need to pick a name for these things

1. @muralisr proposes the name `Envelope`, the changeset I had pushed called this `SignedData`, I'd also suggest `SignedMessage`
2. @muralisr proposes the name `Payload`, the changeset I had pushed called this `SignableData`, I'd also suggest `SignableMessage` or `Message`
3. @muralisr proposes the name `Header`, the changeset I pushed called this `SignatureHeader`, I'd also suggest `MessageHeader`

Personally, I'm fine with @muralisr's proposed names, the names already in the changeset, or moving to the alternate `Message` based ones, or even some other names.  But, I wanted to try to get the names right so that I can minimize the amount of rebasing required.  Opinions?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-10-28 21:13</div><div class="msg">Message would collide with another general message struct that peer has.  I am fine with murali's</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-29 07:42</div><div class="msg">@jyellick sorry I couldn't join the rest of the discussion yesterday. Let me see if I understand correctly. How far would this mod of fabric.proto go towards accommodating your requirements?
```
message SignedTransaction {
	bytes transactionBytes = 1;
	bytes signature = 2;
}

message Transaction2 {
	enum Type {
	    UNDEFINED = 0;
	    CONFIG = 1;
	    CHAINCODE = 2;
	}
	// controls how this transaction has been assembled. If it's CHAINCODE
	// it has been assembled via the proposal/response/endorsement flow
	Type type = 1;
	int32 version = 2;
	google.protobuf.Timestamp timestamp = 3;

	// payload is:
	//  - an array of TransactionAction if type == CHAINCODE
	//  - anything you want it to be if type == CONFIG
	bytes payload = 3;
}
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-29 08:04</div><div class="msg">you'll notice that there are now two type fields:
1) in `Transaction2` in the code box up there 
2) in `Header` (`protos/fabric_transaction_header.proto`)

If the type field of `Transaction2` is `CHAINCODE`, it means that the message is to be interpreted as one that has followed the proposal/response/endorsement flow, and hence will have a `TransactionAction` with endorsements etc. If that type is different, it signifies that a different flow was followed (which is presumably what you wanted for the config work). 

The second type field in `Header` controls what specific "thing" has been endorsed via the proposal/response/endorsement flow.

Your thoughts?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3b475310e0fc0109a359ec4a5a85e4ac.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">crazybit</div><div class="time">2016-10-29 08:52</div><div class="msg">refer to the SignedTranasaction  data structure ,looks it only supports single signature</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3b475310e0fc0109a359ec4a5a85e4ac.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">crazybit</div><div class="time">2016-10-29 08:52</div><div class="msg">will consider to support multiple signs?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-29 10:42</div><div class="msg">the "normal" proposal/response/endorsement flow does support multiple signature to the extent that multiple endorsements may be present in the tx payload. In that case though, the tx is still only signed by a single entity, which is the one that requested the action in the first place by issuing (and signing) the proposal message. What it means for a transaction to be signed by multiple entities is not yet clear (at least to me), nor is the use-case that needs it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-10-29 10:42</div><div class="msg">@crazybit ^^</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-29 14:53</div><div class="msg">@aso Honestly, extending the transaction as you described makes things harder for me to wrap my head around, and makes the format more complicated which is I think, the wrong direction. I think it makes more sense to start from the simple envelope message described above. Although I think it would cause some duplication, you could embed the entire fabric transaction in its payload if you wanted. But from a base transaction point of view, a payload, a header, and a signature over the two seems standard, intuitive, and easy to extend. </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-29 17:46</div><div class="msg">@jyellick - forgetting about the actual format for a moment, can we discuss the the flow of "messages" in and out of the ordering service for a minute  (probably a rehash but I think I am missing something).

Here's what I mean:

1) In simplest terms, the ordering service implements two "APIs" -   broadcast and deliver - which are implemented as GRPC services

2) broadcast / delivery are partitioned into "channels" - i.e a broadcast client ("producer") specifies a channel, the ordering service orders (and batches) broadcast messages by channel and then delivers them to deliver clients ("consumers") who have asked for messages on that channel

3) the ordering service supports setting access control lists on "channels" for both "broadcast" and "delivery"

4) the ordering service will "enforce" access control by extracting the certificate used to sign a broadcast message and/or deliver request

Hopefully at a high level the above is (mostly) correct

So:

1) A broadcast client ("producer") needs to "sign" the message it sends to the ordering service.  The ordering service can verify the signature and use the signing certificate to check that the sender was allowed to broadcast to the specified channel.  The "producer" would need to provide the channel, a payload, signature and its public certificate.   Ideally the ordering service does not care at all about what's in the payload.    

Let's say the ordering service is set to use a batch size of 50 for a given channel.   So after it receives 50 verified/authorized broadcast messages, it will create a batch of those and "deliver" to authorized "consumers".   

QUESTION:   what is actually in the batch?  assuming the simple "channel, payload, signature&lt;payload&gt;,signer-certificate" content, is it batching the whole thing or is it actually simply creating batches of the "payload" ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-29 17:49</div><div class="msg">(notice at this point I don't care what's actually in the &lt;payload&gt;)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-29 18:04</div><div class="msg">&gt; what is actually in the batch? 

My inclination is to include exactly the messages that came in into the batch, not just the payloads </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-29 18:19</div><div class="msg">got it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-29 18:19</div><div class="msg">I am good</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-29 18:22</div><div class="msg">your partner in crime set me straight  :wink:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-31 16:11</div><div class="msg">created <a href="https://jira.hyperledger.org/browse/FAB-913">https://jira.hyperledger.org/browse/FAB-913</a> for addressing remaining changes to protos</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-31 16:11</div><div class="msg">please do edit/correct</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-31 16:46</div><div class="msg">@muralisr @aso @adc @binhn As requested, here is the ordering service converted to the simpler proto, with the top level message in its own proto file and the names per Murali <a href="https://gerrit.hyperledger.org/r/#/c/2075/">https://gerrit.hyperledger.org/r/#/c/2075/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-10-31 16:46</div><div class="msg">great, thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-10-31 16:52</div><div class="msg">@jyellick Should I pull this one for my work, or should I hold off a bit more? (Looks like a good RC?)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-31 16:52</div><div class="msg">so @kostas … was going to ask @jyellick we’d need to consolidate with fabric/protos/ right ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-31 16:53</div><div class="msg">@kostas I'd recommend pulling this and working on top of it, I don't anticipate the format changing after the consensus achieved Friday</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-31 16:55</div><div class="msg">@muralisr Yes, I'd love to see the fabric protos consolidate on top of this new message, for @kostas this shouldn't matter (since he is not working with those messages), but I do think consolidating the fabric messages sooner rather than later will make for much less rebasing</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-10-31 16:56</div><div class="msg">Right, I'm focusing strictly on the orderer side of things @muralisr,  so I'm good. Thanks @jyellick, will do.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-31 17:05</div><div class="msg">so we're still keeping our options open for protobufs vs asn.1?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-31 17:05</div><div class="msg">or do we have a definite format?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-31 17:07</div><div class="msg">Per @binhn making the switch, even if it slows us down by a week, is too expensive for now.  The best we can do is try to write things to minimize the headache of switching later if we decide to.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-31 17:08</div><div class="msg">what does it mean, for now</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-31 17:08</div><div class="msg">before MVP?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-31 17:08</div><div class="msg">i.e. 1.0?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-31 17:09</div><div class="msg">i've been running into inconveniences with that whole bytes thing</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-31 17:10</div><div class="msg">because i keep having to unmarshal the bytes when i want to access a field</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-31 17:11</div><div class="msg">Per @muralisr we can write simple wrappers to largely avoid this, and facilitate the switch to another encoding down the line</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-10-31 17:12</div><div class="msg">As far as time frames go, I'm not 100% certain, I assume it is a 'until we have time or cause to revisit it'</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-31 17:13</div><div class="msg">lol</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-31 17:14</div><div class="msg">just no decisions</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-31 17:17</div><div class="msg">@simon currently there are wrappers in fabric/protos/utils which ledger, endorser, peer etc access. As long as we are careful not to let marshal/unmarshal bleed outside, we can revisit this. There are cons too… performance from what I understand.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-10-31 17:17</div><div class="msg">so though decisions :slightly_smiling_face: at least some preparation</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-31 17:17</div><div class="msg">just make a decision</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-10-31 17:18</div><div class="msg">not a non-decision decision</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/69b67412601eb4b6d157d5742216e4f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">adrianhopebailie</div><div class="time">2016-10-31 20:55</div><div class="msg">late to the party here but fwiw we decided to go with the newer (and nicer in our opinion) OER encoding and ASN.1 for the Interledger project. ASN.1 gives you unambiguous data structures with deterministic encoded content and OER encoding is more flexible and generally simpler and nicer to use than PER and more compact than BER. It’s worth noting though that you can affect your encoding or decoding performance by simply designing the messages differently. Choosing an specific encoding format doesn’t magically make streaming encoders/decoders faster :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/69b67412601eb4b6d157d5742216e4f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">adrianhopebailie</div><div class="time">2016-10-31 20:56</div><div class="msg"><a href="http://www.oss.com/asn1/resources/books-whitepapers-pubs/Overview%20of%20OER.pdf">http://www.oss.com/asn1/resources/books-whitepapers-pubs/Overview%20of%20OER.pdf</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-10-31 20:56</div><div class="msg">^^^ interesting (especially the OER)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/69b67412601eb4b6d157d5742216e4f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">adrianhopebailie</div><div class="time">2016-10-31 20:57</div><div class="msg">bad news is you may have to write some of the encoding/decoding stuff yourself</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/69b67412601eb4b6d157d5742216e4f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">adrianhopebailie</div><div class="time">2016-10-31 20:57</div><div class="msg">good news is that a lot has been done by the interledger contributors already :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/69b67412601eb4b6d157d5742216e4f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">adrianhopebailie</div><div class="time">2016-10-31 20:58</div><div class="msg"><a href="https://github.com/interledgerjs/oer-utils">https://github.com/interledgerjs/oer-utils</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/69b67412601eb4b6d157d5742216e4f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">adrianhopebailie</div><div class="time">2016-10-31 21:03</div><div class="msg">Last comment on the encoding subject is that we are also looking at CBOR which is getting a lot of traction lately and is being used in a number of projects at IETF</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-01 10:15</div><div class="msg">@jyellick So, if I got correctly atomicbroadcast.Payload looks like the protos.TransactionAction</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-01 10:15</div><div class="msg">now I understand your proposal of starting from the configuration and then generalize.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-01 10:16</div><div class="msg">Again, if I get it correctly, you wanted to have atomicbroadcast.Payload as the most basic transaction unit</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-01 10:16</div><div class="msg">and then potentially compose this to have more complex transactions, right?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-01 10:44</div><div class="msg">A potenital approach that @muralisr, @jyellick and I discussed was to converge on
```
Envelope
|\_ Signature 
 \_ Payload
    |\_ TransactionHeader (MESSAGE = 0; CONFIGURATION_TRANSACTION = 1; CONFIGURATION_ITEM = 2; ENDORSER_TRANSACTION = 3;)
     \_ Transaction
         \_ TransactionAction (1...n)
            |\_ ActionHeader
             \_ ChaincodeActionPayload
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-01 10:45</div><div class="msg">for the normal proposal/endorsement flow</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-01 10:46</div><div class="msg">and
```
Envelope
|\_ Signature 
 \_ Payload
    |\_ TransactionHeader (MESSAGE = 0; CONFIGURATION_TRANSACTION = 1; CONFIGURATION_ITEM = 2; ENDORSER_TRANSACTION = 3;)
     \_ Configuration
```
for configuration messages</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-01 10:46</div><div class="msg">`TransactionHeader` might look like
```
message TransactionHeader {
	int32 version = 1;
	Type type = 2;
	bytes creator = 3;
	bytes chainID = 4;
}
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-01 10:47</div><div class="msg">which is fine as far as the endorsement flow is concerned because it factors all fields that have to be common to all actions in a transaction</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-01 12:32</div><div class="msg">which header will you use then in the Proposal?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-01 12:33</div><div class="msg">One possible way would be
```
SignedProposal
|\_ Signature                                    (signature on the Proposal message by the creator specified in the header)
 \_ Proposal
    |\_ ProposalHeader                           (the header for this proposal containing both TransactionHeader and ActionHeader)
    |\_ ChaincodeProposalPayload                 (the payload for this proposal)
     \_ ChaincodeAction                          (the actions for this proposal - optional for a proposal)
```
where
```
message ProposalHeader {
   bytes txHeaderBytes = 1;
   bytes actHeaderBytes = 2;
}
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-01 12:34</div><div class="msg">and
```
message TransactionHeader {
	int32 version = 1;
	Type type = 2;
	bytes creator = 3;
	bytes chainID = 4;
}

message ActionHeader {
	int32 version = 1;
	google.protobuf.Timestamp timestamp = 2;
	Type type = 3;
	bytes nonce = 4;
	bytes extensions = 5;
}
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-01 13:03</div><div class="msg">+1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 13:13</div><div class="msg">Sounds like everyone's on board with this new scheme then?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-01 13:14</div><div class="msg">yeah yeah :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-01 13:15</div><div class="msg">+1</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-01 13:15</div><div class="msg">has @binhn weighed in?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-01 13:16</div><div class="msg">and I guess @garisingh is okay with it too?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-01 13:20</div><div class="msg">+0.5 … only because I think we’ll know more only when we try this. But definitely close IMO</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-01 14:21</div><div class="msg">btw, @aso, may you clarify this: TransactionHeader (MESSAGE = 0; CONFIGURATION_TRANSACTION = 1; CONFIGURATION_ITEM = 2; ENDORSER_TRANSACTION = 3; )</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-01 14:21</div><div class="msg">what's the difference between CONFIGURATION_TX and CONFIGURATION_ITEM, for example?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-01 14:22</div><div class="msg">that's meant to be the enumeration of types</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-01 14:22</div><div class="msg">chaincodes will have type equal to ENDORSER_TRANSACTION</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-01 14:23</div><div class="msg">whereas config will have one of CONFIGURATION_TRANSACTION, CONFIGURATION_ITEM and possibly more</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-01 14:23</div><div class="msg">and what is the diff between configuration-transaction, and configuration-item?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 14:23</div><div class="msg">@adc I had a comment on the changeset about documenting this further.  `CONFIGURATION_TRANSACTION` is intended to be made up of `CONFIGURATION_ITEM`s.  I did not document extensively for the moment, because the usage/implementation of this was not in the changeset</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 14:24</div><div class="msg">The idea being that each configuration item will need to be a set of signed data, and the whole configuration transaction is made up of many of these</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-01 14:25</div><div class="msg">@jyellick so you just need one type and not two then? if so, sorry about the confusion</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-01 14:25</div><div class="msg">so, this would be a way to atomically commit a bunch of config changes that may need endorsement from different or same entities?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 14:26</div><div class="msg">@elli Yes
@aso a `CONFIGURATION_TRANSACTION` would have a payload data of a repeated number of `Envelopes` which would all be of type `CONFIGURATION_ITEM` which would have a payload data of the actual config object</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-01 14:26</div><div class="msg">got it, okay!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-01 14:26</div><div class="msg">aha, nested payloads?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 14:27</div><div class="msg">Right</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-01 14:27</div><div class="msg">So would the configuration item play a role similar to "action field" in transaction related to chaincodes?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-01 14:27</div><div class="msg">isn't it a lot of unmashalling work?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 14:29</div><div class="msg">Where do I see the latest Block definition?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 14:29</div><div class="msg">@elli Somewhat, though all it needs is endorsements
@adc Possibly, though I'm not sure of a way to do it less so.  But reconfiguration should be relatively infrequent, it does not need to be an especially high speed path.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 14:29</div><div class="msg">@kostas In `ab.proto` in the code you pulled with the new tran format</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 14:30</div><div class="msg">@kostas uploaded a file: <a href="https://hyperledgerproject.slack.com/files/kostas/F2WTQ68JE/screen_shot_2016-11-01_at_10.30.31.png">https://hyperledgerproject.slack.com/files/kostas/F2WTQ68JE/screen_shot_2016-11-01_at_10.30.31.png</a> and commented: It was hidden here.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-01 14:31</div><div class="msg">@jyellick will you have nonces inside your `Configuration` message somewhere to protect against replays?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 14:31</div><div class="msg">@aso Yes, I intend to use sequence numbers</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 14:33</div><div class="msg">Would like to discuss the replay potentials here more generally too for the top level message and how we detect it inexpensively</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-01 14:33</div><div class="msg">@aso, @jyellick: so instead of having the transaction header content as part of the action header (included in each transaction action) you made transaction header sort of common header shifted higher up. Am I correct to say this?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 14:33</div><div class="msg">Yes, I would say so</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 14:33</div><div class="msg">I think we will likely need a timestamp or nonce or some other thing at the top level for replay</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-01 14:34</div><div class="msg">that's tricky for chaincodes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-01 14:34</div><div class="msg">each action must have a common "top-level" header</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-01 14:34</div><div class="msg">if there's a nonce in there, it must be repeated</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-01 14:34</div><div class="msg">which is no big deal from a security perspective because the internal header will guarantee freshness</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-01 14:34</div><div class="msg">mhhh</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-01 14:34</div><div class="msg">but it can be chosen by the "submitting peer"</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-01 14:34</div><div class="msg">or the first peer that is asked</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-01 14:35</div><div class="msg">the client can choose that for that matter</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-01 14:35</div><div class="msg">and adopted by the rest, no?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-01 14:35</div><div class="msg">that too</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-01 14:36</div><div class="msg">@adc why
&gt; mhhh
did you have some concerns?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/69b67412601eb4b6d157d5742216e4f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">adrianhopebailie</div><div class="time">2016-11-01 14:37</div><div class="msg">@jyellick are you available to chat sometime about FAB-704? I watched the video and think we may be trying to solve a similar problem and could collaborate.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/69b67412601eb4b6d157d5742216e4f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">adrianhopebailie</div><div class="time">2016-11-01 14:38</div><div class="msg">really depends on the scope you’re working within</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 14:38</div><div class="msg">@adrianhopebailie Absolutely, am on a call right now, and have another 12-1 ET, but am free otherwise</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/69b67412601eb4b6d157d5742216e4f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">adrianhopebailie</div><div class="time">2016-11-01 14:39</div><div class="msg">@jyellick cool, will take this to PM to setup a good time</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-01 14:41</div><div class="msg">Btw, @jyellick, @aso, is there a reason why you need to specify a configuration item structure so clearly in the protobuf instead of, e.g., having it contain a jason format representation of config changes?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 14:45</div><div class="msg">@elli I'm not sure what you mean.  The configuration structure was made to withstand replay and validate against signature policies, and is otherwise essentially key/value pairs where the key is a string, and the value is arbitrary bytes.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-01 14:47</div><div class="msg">so values are opaque?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-01 14:47</div><div class="msg">and untyped?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 14:47</div><div class="msg">For now, yes.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 14:47</div><div class="msg">They do have a type</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 14:47</div><div class="msg">But only a high level service type, like "This is fabric config" or "This is kafka config"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 14:48</div><div class="msg">But the mapping of keys to underlying data types is not defined by the proto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 14:48</div><div class="msg">For `Policy` type config, the structure is well defined in the proto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 14:49</div><div class="msg">Nothing prevents us from more formally defining the config structures for other types, but it is generic for now.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-01 14:50</div><div class="msg">Well replay has to do with the inclusion of a nonce, that to my understanding you discussed that is included in the tx header somewhere no?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 14:51</div><div class="msg">There is a nonce in the payload's header (in the envelope).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-01 14:52</div><div class="msg">although replay attacks can occur at multiple levels. I could replay an entire tx, or only a `Configuration` message, or some signed message inside of it - we need to make sure that nothing can be replayed</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-01 14:52</div><div class="msg">But I am asking about the specific way you use to represent candidate configuration changes inside configurationitem.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 14:52</div><div class="msg">Protecting the config from replay is relatively easy, by requiring that a sequence number is incremented, and rejecting old sequence numbers.  I'm more interested in preventing replay in a performant way for more generic transactions.  Because we have unlinkability between messages, it seems hard to do efficiently.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-01 14:52</div><div class="msg">Well if the client wants to replay a transation, nothing can prevent him.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-01 14:53</div><div class="msg">And since the client/creator is the one signing the tx i think we are safe on this aspect no?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-01 14:53</div><div class="msg">I don't think there is a client in the case of config transaction</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-01 14:53</div><div class="msg">There has to be. The one triggering the config change.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 14:54</div><div class="msg">@aso There is, there must be.  Someone must inject the new config into the system and sign this message</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-01 14:54</div><div class="msg">Unless you refer this is part of config item.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-01 14:54</div><div class="msg">The signature that is, and creator.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-01 14:55</div><div class="msg">@jyellick right, although I guess it wouldn't be a normal client of the system but more like an admin - but I get your point, there is a creator always</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 14:55</div><div class="msg">Yes, I would expect often this would be some admin running a CLI tool, though in the channel creation case, it may be more automated</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-01 14:57</div><div class="msg">For replay attack, one would need to use epochs in transactions, as discussed in the past with Chet and @adc, and @aso. Replays of transactions strictly speaking would not cause a huge issue due to version dependencies.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 14:58</div><div class="msg">It is more of a DoS concern for me</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-01 14:59</div><div class="msg">For DoS, you may have epoch numbers in transactions (chosen again by the submitting peer) included in tx header and only allow tx-es with the appropriate epoch number...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 14:59</div><div class="msg">How do you know the appropriate epoch number?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 14:59</div><div class="msg">(Especially if it is chosen by the peer)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-01 14:59</div><div class="msg">But anyway, my question was referring to the config item structure :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-01 15:00</div><div class="msg">@vukolic mentioned that there will be some clock</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 15:01</div><div class="msg">There is a buffer for the epoch numbers,. As long as it's not older than, say, X epochs it can be processed.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-01 15:01</div><div class="msg">why not block height?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-01 15:01</div><div class="msg">in the ordering service. Is this still the possibility? If so epochs can be changing per specific clock cycles of that clock, or can be set er channel per number of blockk, etc.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 15:01</div><div class="msg">@aso I like that, makes much more sense to me</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 15:01</div><div class="msg">@aso Block height was the more natural fit to me.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 15:01</div><div class="msg">With the config item structure, we have a sequence number associated with each configuration. which must be incremented by exactly one to be valid.  This prevents replay</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-01 15:01</div><div class="msg">right, e.g., epoch number can be set to increase per X blocks.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 15:01</div><div class="msg">I just went with Elli's term.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-01 15:01</div><div class="msg">got it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 15:02</div><div class="msg">&gt; The configuration manager will verify that all configuration changes satisfy system policy, that all configuration changes have a LastModified field equal to Sequence, that no configuration has been deleted without corresponding authorization, that the configuration is well formed, and that some configuration item corresponds to the new ConfigurationEnvelope sequence number.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 15:03</div><div class="msg">If all configuration changes have a LastModified field equal to Sequence, why is the last check in that quote needed?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-01 15:08</div><div class="msg">why a seqno?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-01 15:08</div><div class="msg">why not a "lastconfig" hash pointer?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 15:09</div><div class="msg">&gt; If all configuration changes have a LastModified field equal to Sequence, why is the last check in that quote needed?

In case the configuration tx doesn't actually contain any changes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-01 15:09</div><div class="msg">how will a new config be authorized?  i really hope it will require an admin sign the new config transaction on an airgapped machine</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 15:10</div><div class="msg">&gt; why not a "lastconfig" hash pointer?

I considered this, sequence number seemed smaller and easier without any obvious disadvantages</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-01 15:10</div><div class="msg">okay</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 15:10</div><div class="msg">Why don't you just write that "all configuration items have a LastModified field equal to Sequence" and be done with it?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-01 15:11</div><div class="msg">So you would not have the need of paralellizing config changes?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 15:12</div><div class="msg">&gt; how will a new config be authorized?  

Each config entry has a modification policy tied to it dictating which signatures are required to modify it

&gt;i really hope it will require an admin sign the new config transaction on an airgapped machine

That seems like a good idea to me, and generally I would expect to require signatures from multiple admins.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 15:13</div><div class="msg">&gt; Why don't you just write that "all configuration items have a LastModified field equal to Sequence" and be done with it?

The idea is that in general, sets of users will only be authorized to modify a subset of the configuration, it is to support changing only pieces of the configuration.  The set of peer admins is authorized to change the set of peer orgs, they are not authorized to modify the orderer config, so they cannot change the sequence number of the orderer config and still have the signatures be valid.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 15:15</div><div class="msg">Oh, this goes back to the fact that a ConfigurationEnvelope cannot just say "I want to modify this and that" and call it a day, it needs to carry Entries for all the configuration keys that apply, regardless of whether it modifies them or not.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 15:16</div><div class="msg">&gt; So you would not have the need of paralellizing config changes?

I've been thinking a lot about this.  We could make the sequence number local to each config item, which would allow for total parallelization, but, this invites someone splitting up a transaction which was meant to be committed atomically and picking pieces of it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 15:16</div><div class="msg">_All_ configuration for a chain.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 15:17</div><div class="msg">&gt; Oh, this goes back to the fact that a ConfigurationEnvelope cannot just say "I want to modify this and that" and call it a day, it needs to carry Entries for all the configuration keys that apply, regardless of whether it modifies them or not.

I've also been thinking maybe we should allow submission of type `CONFIGURATION_ITEM` which would then generate the new `CONFIGURATION_TRANSACTION` based on the current state, but am not sold that this is a good idea yet.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 15:24</div><div class="msg">The signatures in the `ConfigurationEntry` are of type `Envelope`. I assume that the `Data` field of the `Payload` in that `Envelope` is set to the `Configuration` of the `ConfigurationEntry` in question?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 15:25</div><div class="msg">The data of the payload should be the hash of the configuration (so as not to repeat the configuration over and over again)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 15:26</div><div class="msg">Properly documenting this is on my TODO list, and was planned for when I reworked the configuration to sit on top of the new Envelope type</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 15:26</div><div class="msg">That makes sense.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 15:27</div><div class="msg">That's also badly needed. I'm going through the changeset, and I'm not sure if all of this is properly documented elsewhere, dead obvious, or about to be documented.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 15:28</div><div class="msg">So the changeset you are reviewing is meant to be about the new base `Envelope` and friends format</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 15:28</div><div class="msg">The configuration stuff was always a somewhat temporary data structure, designed to allow the proving out of the concept and the writing of code.  It wasn't clear whether it would be rewritten on top of the fabric transaction, or some other thing at the time.  Now that we know what 'the other thing' is, it can be formalized</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 15:29</div><div class="msg">The changeset that I'm going through is a chance for me to catch up on all the latest message-related developments honestly. I've stopped commenting there so as not to pollute it with out-of-scope comments.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 15:29</div><div class="msg">Since the form was going to change, extensive documentation didn't seem worthwhile at the time, but obviously this needs to be well documented going forward.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 15:30</div><div class="msg">So what is your opinion on the parallelization of configuration updates?  Should there be a global sequence number, ala the `ConfigurationEnvelope` or should we simply require that the `Configuration` `lastModified` be incremented sequentially</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 15:39</div><div class="msg">Another option I considered, was to make submitted `CONFIGURATION_TRANSACTION` act as an overlay.  Basically, require sequential modification of each config item, and if a config change has 'version dependencies' include those dependent `CONFIGURATION_ITEM`s in the `CONFIGURATION_TRANSACTION`.  The transaction is processed by the orderer into the fully populated transaction only if all of the dependencies match.  But this is definitely more complex.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 15:40</div><div class="msg">I haven't thought much about it, but I am probably against parallelization, mainly because (I think?) it allows mixing and matching of items that were not meant to be grouped togethere.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-01 15:40</div><div class="msg">what does that mean</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-01 15:41</div><div class="msg">parallelisation</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 15:41</div><div class="msg">It also seems like an issue we shouldn't be concerned about. How often do we expect these to happen?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 15:41</div><div class="msg">Why parallelize them?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 15:41</div><div class="msg">Yeah, exactly.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 15:43</div><div class="msg">Parallelization meaning, should we allow two configuration updates to be created in parallel, but not together, and have them each be able to be submitted and processed.  Or, should the first one in 'win' and the second one be reconstructed.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 15:43</div><div class="msg">In general, I would expect that reconfiguration should be infrequent and require significant human intervention.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 15:45</div><div class="msg">&gt; Parallelization meaning, should we allow two configuration updates to be created in parallel, but not together, and have them each be able to be submitted and processed.  Or, should the first one in 'win' and the second one be reconstructed.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 15:45</div><div class="msg">This doesn't make sense to me.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 15:45</div><div class="msg">Example?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 15:45</div><div class="msg">Sure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 15:45</div><div class="msg">I thought by parallelization you referred to individual configuration items.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 15:45</div><div class="msg">I do</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 15:46</div><div class="msg">But now you're talking about configuration transactions where the first one wins? This is why this doesn't make sense to me.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-01 15:47</div><div class="msg">ah all of this is about channels?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-01 15:47</div><div class="msg">because orderer config really shouldn't change often</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 15:48</div><div class="msg">All types of configs.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-01 15:48</div><div class="msg">are we overengineering?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 15:48</div><div class="msg">Always.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-01 15:48</div><div class="msg">sure seems like it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 15:50</div><div class="msg">The current configuration looks like this:

```
SeqNo: 7, [ A: {LastModified: 5, Val: foo} B: {LastModified: 7, Val: bar}]
```

The entities in control of A and in control of B both want to update the values. Today, the flow goes as:

A entities create: 

```
SeqNo: 8, [ A: {LastModified: 8, Val: foo2} B: {LastModified: 7, Val: bar}]
```

B entities create:

```
SeqNo: 8, [ A: {LastModified: 5, Val: foo} B: {LastModified: 8, Val: bar2}]
```

Then, whoever submits first would be adopted, and the second would fail because it would be attempting to backlevel the other's config.  However, consider instead doing away with the top level SeqNo, then you could have


```
 [ A: {LastModified: 5, Val: foo} B: {LastModified: 7, Val: bar}]
```

The entities in control of A and in control of B both want to update the values. The new flow would go as:

A entities create: 

```
Item{ A: {LastModified: 6, Val: foo2} }
```

B entities create:

```
Item{ B: {LastModified: 8, Val: bar2}}
```

And when submitted, they both would apply cleanly.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 15:52</div><div class="msg">I get it now. Good idea, but would be low on my priority list, as I don't expect this to be a significant problem where collisions happen.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 15:54</div><div class="msg">The thing that got me thinking about collisions was the DoS possibility, where some group starts constantly changing the config to prevent another group from being able to modify their own config.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 15:54</div><div class="msg">But on the background, isn't this CONFIG_ITEM translated to a CONFIG_TX that reads the current state?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 15:55</div><div class="msg">Correct.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-01 15:56</div><div class="msg">this is a permissioned network, no?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 15:56</div><div class="msg">The reality is, that this sort of attack seems unlikely, since it would be attributable, and usually requires signatures from multiple parties.  Still, if someone misconfigured their system to allow a single signer to modify something, then it would be annoying to fix.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 15:56</div><div class="msg">Probably not a problem worth worrying too much about.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-01 15:57</div><div class="msg">not at all about</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-01 15:57</div><div class="msg">again, airgapped machines with certificates, etc.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 15:58</div><div class="msg">Yes, at the end of the day if the admins go and lose their keys, then there is no limit to the bad things that an attacker can do to the network.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 16:06</div><div class="msg">@elli @aso @adc Then for the new transaction format, should we add an epoch into the top level header and leverage exactly that for replay prevention? Do we also need a nonce to prevent some sort of signature attacks, or is that only for replay?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-01 16:07</div><div class="msg">a nonce might be used also at signing time by certain schemes with the guarantee that it is unique</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 16:09</div><div class="msg">I obviously defer on these crypto related decision, just trying to nail down everything that needs to be in this outer header.  Per the changeset, there is the timestamp and nonce, it sounds then like this should be an epoch and nonce?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 16:10</div><div class="msg">(Or, do we want to leave the timestamp for some reason?)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-01 16:11</div><div class="msg">I'm fine with epoch and nonce. timestamp is not reliable</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-01 16:11</div><div class="msg">+1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 16:12</div><div class="msg">Remember that Marko wanted a timestamp for the "raw ledger" batches, and had suggested a mechanism with skews, etc.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 16:12</div><div class="msg">And just to be clear, the nonce would not need to be verified against some 'set of used nonces' to validate the signature, instead it would be the client's job to guarantee the uniqueness or lose security.  Instead, the only replay detection the orderer would need to perform is to validate the epoch which would be based on the block height</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-01 16:12</div><div class="msg">@kostas this was i think the clock that i referred to before i think :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-01 16:12</div><div class="msg">ah, okay</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 16:12</div><div class="msg">@elli Yes.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-01 16:12</div><div class="msg">and what's the purpose for having that in the raw ledger?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-01 16:13</div><div class="msg">@jyellick sounds good so far</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 16:15</div><div class="msg">Great, thanks @adc</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 19:20</div><div class="msg">What's not clear to me yet is this:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 19:21</div><div class="msg">How do we go from a `CONFIG_TRANSACTION` that specifies the creation of a new channel to a genesis block for that channel?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 19:21</div><div class="msg">And I mean from a low-level, code perspective.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 19:22</div><div class="msg">Do we leverage the `bootstrap` package that's out there? Because if that's the case, the `bootstrap.Helper` interface will need to be extended with one more method that allows us to load config data into the helper.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 19:23</div><div class="msg">If the `bootstrap` package is not used, I want to know what we have in mind.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 19:24</div><div class="msg">This affects the way I'm rewriting the Kafka orderer for multiple channels, since I'm touching on that path.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 19:27</div><div class="msg">I've actually wanted to discuss this with you, as I had a conversation with @elli around this and she brought up an interesting point about channel creation being potentially non-deterministic which makes everything a little trickier.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 19:28</div><div class="msg">Cool, shoot.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 19:30</div><div class="msg">So, consider for a moment, that a channel creation request is received (as a configuration transaction).  My original thought had been "have the orderers implicitly form a channel and consense about the genesis block for this channel".  This was to prevent two different people from trying to create the same channel at once with different genesis material.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 19:31</div><div class="msg">If you don't mind, can we make things explicit?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 19:31</div><div class="msg">Sure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 19:31</div><div class="msg">I want us to expand on the "have the orders implicitly form a channel" clause.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 19:31</div><div class="msg">Which brings me back to this question I guess: <a href="https://hyperledgerproject.slack.com/archives/fabric-crypto/p1478028015001540">https://hyperledgerproject.slack.com/archives/fabric-crypto/p1478028015001540</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 19:32</div><div class="msg">How do you get to a genesis block?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 19:32</div><div class="msg">`bootstrap` to the rescue, or something else? And if it's something else, what?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 19:37</div><div class="msg">I was trying to side-step that for the moment, because the punchline about the non-determinism at the end I think informs the decision here.  I'm not really sure what 
&gt; `bootstrap` to the rescue
means, but the format is not that complicated, it can be generated either by paring down the system chain config, or building it manually.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 19:39</div><div class="msg">`bootstrap` to the rescue is a reference to the expanded form of this statement, 10 lines up: <a href="https://hyperledgerproject.slack.com/archives/fabric-crypto/p1478028157001543">https://hyperledgerproject.slack.com/archives/fabric-crypto/p1478028157001543</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 19:40</div><div class="msg">I want to narrow down the interfaces, and figure out whether a new package/abstraction is needed.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 19:40</div><div class="msg">For instance:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 19:40</div><div class="msg">&gt; it can be generated either by paring down the system chain config, or building it manually.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 19:41</div><div class="msg">I'm looking for a decomposition of that statement. What does build it manually mean?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 19:41</div><div class="msg">Ah, okay, sorry, I didn't realize by "the `bootstrap` package" you meant the little shim I had added to allow the genesis block to be specified at runtime.  I think no, I would not expect for this package to be re-used for creating a genesis block, it was more meant as a way to statically specify one for testing, or to load a real one from a file.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 19:42</div><div class="msg">Great, so the `bootstrap` package is out of this conversation.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 19:43</div><div class="msg">So, I've got a `CONFIG_TRANSACTION`. And let's assume it passes all the validation/policy checks.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 19:43</div><div class="msg">What's next? Think lifecycle of this message.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 19:44</div><div class="msg">Okay, so, going by the flows I've seen.  Given this TX, the App sends it via a broadcast to ordering.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 19:44</div><div class="msg">The orderer recognizes this as a configuration for a channel it hasn't seen, so, assuming that it is well formed, appropriately signed, etc.  It creates a new channel with the parameters specified by the TX.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 19:45</div><div class="msg">And then it needs to post the genesis block (via broadcast) to that channel.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 19:45</div><div class="msg">The app on the other side is polling on `Deliver` waiting for the channel to exist.  Once it does, it gets back a genesis block with the config tx it submitted, and it can give this block to the peers to subscribe to the channel.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 19:45</div><div class="msg">But you're glossing over my question :simple_smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 19:45</div><div class="msg">&gt; And then it needs to post the genesis block (via broadcast) to that channel.

Yes, sorry to omit this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 19:46</div><div class="msg">How do we actually get that genesis block is my question. Everything else, I'm totally fine with.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 19:47</div><div class="msg">Well, in the simplest route, the orderer which receives the transaction simply creates a new block by setting the payload to the config tx, setting the hashes appropriately, setting the block number to 0, and that's it?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 19:48</div><div class="msg">I guess I'm not sure why the 'creating the block' is hard, we have to do this for a normal reconfiguration tx, not just channel creation</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 19:49</div><div class="msg">I didn't say anything about it being hard. This is my only goal here: <a href="https://hyperledgerproject.slack.com/archives/fabric-crypto/p1478029206001560">https://hyperledgerproject.slack.com/archives/fabric-crypto/p1478029206001560</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 19:50</div><div class="msg">I understand the goal, but there are larger unresolved holes that need to be resolved first.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 19:50</div><div class="msg">Related to that path?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 19:51</div><div class="msg">Yes.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 19:52</div><div class="msg">For instance, does the genesis block of the channel redefine all of the same parameters as the 'system chain'?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 19:53</div><div class="msg">You'll need to expand on "all of the same parameters as the 'system chain'."</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 19:53</div><div class="msg">For instance, in the PBFT case, does the channel define `f` `K` `L` etc.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-11-01 19:54</div><div class="msg">just jumping in here - and sure lacking context -  i think for simplicity (now) we should assume channel is independent so each should have its own complete config block</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 19:57</div><div class="msg">You cannot make the right call with what you have right now, can you? For instance, the support of multiple channels in PBFT is still fuzzy. So complete config blocks is the right way to go. Depending on what the system runs on (e.g. PBFT), the orderer logic should figure out whether you're trying to overlap a config key (e.g. `f`) that you shouldn't, and reject it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 19:58</div><div class="msg">Complete config blocks seems like the safer choice.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-11-01 20:02</div><div class="msg">we could allow some common config to effect all channels by specifying a nil channel — for example, removing a CA member</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 20:03</div><div class="msg">I generally agree that complete config blocks is a safer choice, but, then I see there being essentially two options:

1.  The client is responsible for filling out all of the fields of the transaction, likely by taking the system chain config, removing the signatures, and modifying the chainID on all of the configuration items.  Then, the orderer ensures that things match, and then processes the transaction normally.  The advantage to this is that it makes the order's life very easy, but obviously pushes complexity to the client.  It also loses some flexibility which I'll mention in a moment.
2. The client is responsible for filling out all of the fields which it is entitled to modify, leaving the rest for the ordering service to populate.  The ordering service then completes the configuration with the parameters it is authorized to do, and creates the final configuration transaction.  The downside to this is some limited additional complexity at the orderer, but it does allow for neat things, like given a set of 100 different pbft nodes, at channel creation time, the ordering service could pick 4 of them for the channel.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 20:04</div><div class="msg">Waiting to hear the flexibility lost with approach number 1.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 20:05</div><div class="msg">The last sentence of number 2.  If the orderer wants to specify a different configuration for that chain, configuration which the client cannot know in advance</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 20:08</div><div class="msg">But that is not even a requirement (that I know of), and for all we know, this may be a feature that nobody is after.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 20:08</div><div class="msg">So we're adding complexity to a core component for something that is of questionable value.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 20:08</div><div class="msg">I am against this. (And approach number 2 as a result.)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 20:09</div><div class="msg">That's fine.  I think 1 is probably the correct direction, but I think these things need to be nailed down first.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-11-01 20:11</div><div class="msg">i think we should separate config’s into 2 buckets:  1) client can specify/modify 2) managed by the ordering service</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 20:11</div><div class="msg">IE option 2, I think?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 20:12</div><div class="msg">I don't see why this is option 2?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 20:13</div><div class="msg">Option 1 along with logic on the orderer that rejects the config if tries to modify a key managed by the ordering service would work, no?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 20:13</div><div class="msg">Basically: <a href="https://hyperledgerproject.slack.com/archives/fabric-crypto/p1478030245001590">https://hyperledgerproject.slack.com/archives/fabric-crypto/p1478030245001590</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-11-01 20:14</div><div class="msg">right, client would never know about those config’s ,  so i think like the list of orderers should not be allowed to change by the client</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 20:15</div><div class="msg">But then the thing you advocating for @binhn would be that the peer does _not_ specify the complete config tx, that the orderer supplements it somehow?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 20:16</div><div class="msg">Why would the client *not* know about these configs? They're in the system chain genesis block that it can access.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-11-01 20:16</div><div class="msg">right, the rest is considered fixed, supplied by the orderer to fill in the config block</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-11-01 20:17</div><div class="msg">we don’t document them — as you said, if modified, orderer would reject</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 20:18</div><div class="msg">Okay, so then the client _does_ specify the entire config, but it does not understand the orderer config, simply copies it verbatim.  Which would be (1) which I support.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 20:19</div><div class="msg">(I honestly think that Binh _just_ made the case for option 2.)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 20:24</div><div class="msg">To me the simplest way of going at is the orderer saying: "Give me _everything_ I need to know about the new channel. (Internally, if this config is to overwrite a key which for, whatever reason, we keep locked, the config is rejected with the appropriate error message.)" Maybe I'm biased, but this feels easier and a better design than saying "Give me something, and I'll fill in the rest with what applies currently."</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 20:26</div><div class="msg">I agree, additionally, this also easily keeps the original attribution for the channel creation, because as soon as we modify the config tx, the signature over it in the submission is invalidated.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-11-01 20:28</div><div class="msg">if we envision the client gets the config block and modifies it, i am ok with that, but they still need to read the doc to figure out which values can be modified</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 20:28</div><div class="msg">(I guess the key word there being "easily" right? Because for that specific concern, I would assume that the signature of the `ConfigurationEntry` that calls for the channel creation remains, and can be linked to the creator.)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 20:29</div><div class="msg">@binhn But that is always going to be the case.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 20:29</div><div class="msg">The configuration items are all typed</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 20:29</div><div class="msg">Which should make it fairly obvious, "Do not modify the ones typed orderer"</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-11-01 20:30</div><div class="msg">&gt; But that is always going to be the case.
:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-11-01 20:32</div><div class="msg">why wouldn’t we just have a json object, which we define the structure, and the client gets it, modifies it, and submits it back as a payload of the config transaction, the client signs the payload</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 20:33</div><div class="msg">I think that's more or less the plan, just proto instead of json</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 20:34</div><div class="msg">Could be rendered as JSON I suppose, but I'm not sure what the purpose would be, it's all machine manipulated?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-11-01 20:35</div><div class="msg">json option on the GET would be nice for debug and inspection</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 20:36</div><div class="msg">The bootstrapping tool will need to support pretty printing of the genesis block for analysis, maybe even to HTML or some such</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-11-01 20:38</div><div class="msg">ok, so are we set on proto?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 20:39</div><div class="msg">I would say yes.  Unless we wanted to switch all of our persistent data to another encoding like ANS.1 or something, but I thought that was ruled 'too expensive' for the time being</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 20:39</div><div class="msg">I would not support a move to JSON, that seems like a step back to me</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-01 20:39</div><div class="msg">(Keep that asterisk on the need for a timestamp, I've emailed Marko.)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-11-01 20:42</div><div class="msg">i say to move on with CR and change re timestamp if needed later since we need this to hammer out other stuff this week</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-01 20:42</div><div class="msg">@jyellick I would rephrase… we need time to evaluate ASN.1 or no but (1) moving towards a good base set and (2) keeping serialization encapsulated would give us most flexibility</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-01 20:42</div><div class="msg">(so not ruled out becaue of expense… although performance is clearly the big unknown tipping point here)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-01 20:43</div><div class="msg">fair ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 20:43</div><div class="msg">By expense, I meant from a development time perspective, not a performance one</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 20:43</div><div class="msg">(So, yes, I think I agree)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-01 20:44</div><div class="msg">ah ok</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-01 20:44</div><div class="msg">right</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-01 20:44</div><div class="msg">also we do need to do the consolidation @aso and @jyellick were working on ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-01 20:47</div><div class="msg">if you like we can do it in two steps (1) pull what you have in ab.proto and (2) consolidate fabric and ab</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-01 20:49</div><div class="msg">I can take a stab at the consolidation based on</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-01 20:49</div><div class="msg">@muralisr uploaded a file: <a href="https://hyperledgerproject.slack.com/files/muralisr/F2X4RV0DR/pasted_image_at_2016_11_01_04_49_pm.png">https://hyperledgerproject.slack.com/files/muralisr/F2X4RV0DR/pasted_image_at_2016_11_01_04_49_pm.png</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-01 20:49</div><div class="msg">is that better approach ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-01 20:50</div><div class="msg">So I think some of the fields need to additionally be in the outer header, like the nonce (to allow signing over this), and possibly a date (we're waiting on info on this) and will likely need to add an epoch as well</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-01 20:50</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-02 10:46</div><div class="msg">so, let's start the discussion on the replay attack protection then. I had a quick discussion with @aso and we agreed that TransactionHeader needs to have a nonce and an epoch at least</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-02 10:46</div><div class="msg">Also ActionHeader needs to have those fields</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-02 10:46</div><div class="msg">The point is then to understand who fills this fields, when and how :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-02 11:53</div><div class="msg">@adc - which piece of the system is "checking for" / "protecting against" replay attacks?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-02 12:10</div><div class="msg">@garisingh we will actually prepare a document to explain all these details so we can easily reason about it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-02 12:14</div><div class="msg">excellent  :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-02 13:35</div><div class="msg">Back to the protos discussion for a sec. Isn't every block in the chain supposed to carry marshaled `Envelope`s?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 13:48</div><div class="msg">@kostas Correct, the block data is a repeated section of marshaled `Envelope`s</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-02 13:49</div><div class="msg">I thought so. I remember noting it down when reading the protos yesterday, but couldn't find it in the revised text. (Or maybe I missed it.)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-02 13:49</div><div class="msg">that was my understanding as well</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-02 13:51</div><div class="msg">If that's the case though, why is the genesis block provided by the static bootstrapper a marshaled `ConfigurationEnvelope`? <a href="https://gerrit.hyperledger.org/r/#/c/2153/1/orderer/common/bootstrap/static/static.go">https://gerrit.hyperledger.org/r/#/c/2153/1/orderer/common/bootstrap/static/static.go</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 13:54</div><div class="msg">That's my mistake, something I forgot to clean up after the new transaction format</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-02 13:58</div><div class="msg">No problem. I have a changeset ready that addresses this, just wanted to check that my understanding was correct.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-02 13:58</div><div class="msg">I've also added tests to that package. (<a href="https://gerrit.hyperledger.org/r/#/c/2177/">https://gerrit.hyperledger.org/r/#/c/2177/</a> + <a href="https://gerrit.hyperledger.org/r/#/c/2179/">https://gerrit.hyperledger.org/r/#/c/2179/</a>)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-02 14:45</div><div class="msg">@kostas ^^^ unfortunately they need to be rebased methinks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-02 14:47</div><div class="msg">It seems like the culprit is the CI failing on an earlier changeset (<a href="https://gerrit.hyperledger.org/r/#/c/2075/5">https://gerrit.hyperledger.org/r/#/c/2075/5</a>) that I've stacked these changes against.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-02 14:47</div><div class="msg">(Thanks for the heads up though.)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-02 16:37</div><div class="msg">@jyellick we do need to consolidate orderer’s Block with fabric’s Block2 (ie, we’ll have only 1 block correct ?)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 16:38</div><div class="msg">@muralisr Yes, I think that is the next step</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 16:39</div><div class="msg">I'm not sure if want to wait on the fabric transaction definition or not</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 16:40</div><div class="msg">We can hack the orderer code to allow non-`Envelope` transactions through for the moment, though I'd prefer not to</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 16:40</div><div class="msg">The `Block` and `Envelope` definitions should be stable now, so I'd rather put the workarounds at the other (like embedding the old tran until it is consolidated)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-02 16:49</div><div class="msg">@jyellick reason I asked about Block consolidation was to allow other work (such as gossip) which is dependednt on Block structures …( @c0rwin )</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-11-02 16:49</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-02 17:01</div><div class="msg">`I'm not sure if want to wait on the fabric transaction definition or not` … if they are independent, I vote we do the block consolidation first. In addition to unblocking, we will do incremental work ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 17:02</div><div class="msg">Sounds good to me then</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 17:02</div><div class="msg">From an orderer perspective, we will expect `Envelope` transactions in `Broadcast`, and encode them into the new type `Block` for `Deliver`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-02 17:12</div><div class="msg">inviting @manish-sethi @dave.enyeart</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f4809ce34b925cbefc5f500cc4413338.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">dave.enyeart</div><div class="time">2016-11-02 17:13</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 17:13</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-02 17:13</div><div class="msg">@manish-sethi @dave.enyeart Block from ab.proto is in … what do you think of consolidating replacing Block2 with ab.Block ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 17:15</div><div class="msg">I was also considering consolidating the protos, doing something like putting the `Block` and `Envelope` definitions into `protos/common` the `Broadcast`/`Deliver` pieces into `protos/orderer` and then the fabric transaction and friends into `protos/peer`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-02 17:17</div><div class="msg">sounds good to me….</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-11-02 17:18</div><div class="msg">just to make sure, the consolidation of block structure will include changes in the ledger API’s right?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-02 17:18</div><div class="msg">I don’t know how much work conversion from Block2 to Block entails to ledger … @manish-sethi @dave.enyeart ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-02 17:19</div><div class="msg">^^^ same as @c0rwin  question</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 17:19</div><div class="msg">Let me have a look and think over</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f4809ce34b925cbefc5f500cc4413338.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">dave.enyeart</div><div class="time">2016-11-02 17:20</div><div class="msg">Manish, I assume this would impact your serialized block as well</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-11-02 17:20</div><div class="msg">also I’m looking at current definitions of ledger API inside `ledger_interface.go` and struggling to understand how it expected to work, having Block2?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 17:20</div><div class="msg">Yes, that we would need to change</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-11-02 17:20</div><div class="msg">I mean Block2 doesn’t provides information about block sequence number</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-11-02 17:21</div><div class="msg">while ledger api has a functionality of retrieving the block by it’s sequence number</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 17:22</div><div class="msg">@c0rwin - at ledger level, it is assumed that the blocks arrive in sequence and hence while writing Block2, we had kept the fields to minimum</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-11-02 17:22</div><div class="msg">I assumed something like that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-11-02 17:24</div><div class="msg">but still, I guess that path to write block should look like `RemoveInvalidTransactionsAndPrepare(block)` —&gt; `Commit()` —&gt; `GetBlockByNumber(seqNum)`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-11-02 17:24</div><div class="msg">how this expected to work in case of failure in `Commit`?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 17:26</div><div class="msg">Next block cannot be committed before a successful commit of previous block in any case - irrespective of whether the block contains seqNum or not</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 17:26</div><div class="msg">Because, validation of next block depends on a successful commit of previous blocks</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-11-02 17:28</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-11-02 17:28</div><div class="msg">I got it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-11-02 17:29</div><div class="msg">so that means ledgers has to have counters synced w/ orderers?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 17:29</div><div class="msg">Only thing I am saying is that from ledger's perspective, we do not mind if sequence number is present in the block (and can think of using it for certain optimizations in retrieval but can live without it as well (as long as it is guaranteed to be delivered in sequence)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 17:31</div><div class="msg">Ledger always keep track total number of blocks committed so yes, when comes back after a crash it expects blocks from there on...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-11-02 17:31</div><div class="msg">so how do you make sure that block to be committed is from the next sequence number?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-11-02 17:32</div><div class="msg">`RemoveInvalidTransactionsAndPrepare(block)` —&gt; `Commit()`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 17:32</div><div class="msg">You mean to say that ledger can receive blocks out of order?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-11-02 17:32</div><div class="msg">is there something inside ledger to prevent it?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 17:33</div><div class="msg">If our assumption is wrong then we would have to build it by bufferring etc... As of now, it assumes that an upper layer is doing this</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 17:34</div><div class="msg">is this assumption wrong?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-11-02 17:35</div><div class="msg">not sure whenever it’s wrong, but it’s optimistic IMO</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 17:36</div><div class="msg">somewhere some layer has to do ordering and not sure if this should be performed at multiple layers...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 17:36</div><div class="msg">I thought the gossip layer was the one who buffered and ordered for the ledger?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 17:37</div><div class="msg">(Unless the peer is pulling from the ordering service, in which case, things arrive ordered)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 17:37</div><div class="msg">That's what my assumption was too...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 17:37</div><div class="msg">In my talks with @yacovm that has been my impression.  We have discussed how to do this properly</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-11-02 17:37</div><div class="msg">right gossip makes sure that blocks are re-ordered according to the sequence numbers</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 17:38</div><div class="msg">At best, in ledger - we can check that if seqNum is unexpected - raise a panic but certainly don't want to repeat what is being done by  gossip</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f4809ce34b925cbefc5f500cc4413338.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">dave.enyeart</div><div class="time">2016-11-02 17:38</div><div class="msg">I would agree with that approach Manish</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f4809ce34b925cbefc5f500cc4413338.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">dave.enyeart</div><div class="time">2016-11-02 17:38</div><div class="msg">specifically, we are talking about the new Block header ‘Number’ right</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 17:39</div><div class="msg">Also, I am not sure whether it is meaningful have a `DataHash` inside the block?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-11-02 17:39</div><div class="msg">well, if new ab.Block is going to replace Block2 and ledger API eventually got refactored I won’t have any concerns</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f4809ce34b925cbefc5f500cc4413338.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">dave.enyeart</div><div class="time">2016-11-02 17:40</div><div class="msg">i believe that is the request that Manish is currently sizing</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 17:40</div><div class="msg">&gt; Also, I am not sure whether it is meaningfull have a ﻿⁠⁠⁠⁠DataHash﻿⁠⁠⁠⁠ inside the block?

I don't understand?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-11-02 17:41</div><div class="msg">I think the answer to this is yes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 17:41</div><div class="msg">I mean the data and data hash both with in the same block what significance the datahash carries?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 17:41</div><div class="msg">The hash chain is among the headers</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 17:41</div><div class="msg">And a header can be used to validate the data section</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-11-02 17:42</div><div class="msg">ok, I’m looking on it from the ledger replication perspective, new node is joining and has to get all missing blocks to it’s local ledger</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f4809ce34b925cbefc5f500cc4413338.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">dave.enyeart</div><div class="time">2016-11-02 17:42</div><div class="msg">and i thought another benefit was that the data can eventually be purged while leaving the headers and hashes intact, right?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 17:43</div><div class="msg">Exactly.  You can for instance, present a header and signatures, without the actual block contents, and show that "Yes, this is a part of the chain"</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-11-02 17:43</div><div class="msg">yeap</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 17:43</div><div class="msg">I think this will be especially useful for things like Gossip where you want to send something which is provably chained, but not the whole block</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-11-02 17:44</div><div class="msg">right, was going to type the exactly same argument :slightly_smiling_face: thanks @jyellick</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 17:45</div><div class="msg">While I have everyone here, something @yacovm requested, which I'm somewhat inclined to add, is to include the index of the last configuration transaction for a chain in the block header.  Because, given a block header, and a set of signatures, you need a third piece of information "Which signatures are required", which is embedded in the configuration transaction.  What does everyone think?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 17:45</div><div class="msg">"provably chained" - can be proved with the chain?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 17:46</div><div class="msg">like merkel tree, etc?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 17:46</div><div class="msg">I think that's a great idea Jason!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 17:46</div><div class="msg">more information cannot hurt :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 17:47</div><div class="msg">By "provably chained" I mean that the headers have the collection of signatures against them which "Proves" them.  I use this in the same sense of the hash-puzzle proof of Bitcoin.  Where the puzzle solution "Proves" that the header is valid</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 17:48</div><div class="msg">You'll need 2 fields though, right? 1 for orderer configuration and 1 for channel membership conf</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 17:48</div><div class="msg">since I think they are different types of transactions</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 17:48</div><div class="msg">~Hmmm, I guess I haven't not heard about the 'validator configuration transactions', can you expand?~</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 17:49</div><div class="msg">the orderer change</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 17:49</div><div class="msg">Ah, your edit clarified things</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 17:49</div><div class="msg">So no, all configuration goes into the same configuration block, both channel membership, and orderer configuration</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 17:50</div><div class="msg">My point was why can't that be simply a single hash (previous hash + this blocks hash) and let the signing happen over that...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 17:50</div><div class="msg">Because then you need the whole block to validate the hash</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 17:50</div><div class="msg">Whereas with the two, you only need the block headers to do so</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 17:50</div><div class="msg">Do we need to explicitly store both previous blockhash and datahash</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 17:51</div><div class="msg">yes, for full validation, you anyways need to verify datahash against the data...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 17:51</div><div class="msg">I am not sure if I am missing something here...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 17:52</div><div class="msg">wait, @jyellick  isn't that a problem then? it's dangerous</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 17:53</div><div class="msg">For full validation yes, but there are plenty of scenarios where you don't want to validate all of the data, maybe you only want to validate say, configuration.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 17:53</div><div class="msg">no, wait, forget that.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 17:53</div><div class="msg">I'm not thinking clearly anymore at this point of the day, it's not dangerous</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 17:55</div><div class="msg">So, in the configuration scenario, I want to look at the blockchain, and be able to verify that the configuration in block 10 million is valid.  I don't care if the data contents of block 9,999,999 is corrupt, so I don't want to have to hash it and check it, I just care that there's a valid header chain to block 10 million</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 17:56</div><div class="msg">Or, maybe I don't want to keep a fully copy of the chain, because it's too big, but I also want to make sure that my copy of the chain isn't messed with.  I can just retain only the headers, which form a hash chain, so it is safely tamper proof.  Then, when I want to actually inspect a block, I go ask someone for it,and verify it against the small header chain I keep locally.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 17:57</div><div class="msg">Basically, by splitting the block into header and data, it allows you to safely prune data out of your chain, without breaking the chain integrity.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 18:00</div><div class="msg">OK, sure. Makes sense to me. So, PreviousHash is the hash of the 'header' of the previous block?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 18:00</div><div class="msg">Exactly</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 18:01</div><div class="msg">That means that I would require two hash computations per block?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 18:01</div><div class="msg">Well, from a ledger perspective, that depends.  Does the ledger actually ensure there is a hash chain?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:01</div><div class="msg">so when you get a block `i` you verify `header(i)` against body of the block `i` and also against the hash of the header of `i-1` then commit it?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 18:02</div><div class="msg">I sort of assumed that the ledger is handed a block which is known to be valid.  And it just applied the block contents.  You could obviously check the hashes and so forth, but I had assumed this was handled further up.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:03</div><div class="msg">and where is the signature in all that? in some wrapper that wraps the block?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 18:03</div><div class="msg">OK, I did not assume so... if someone is doing is up, I can skip this...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:03</div><div class="msg">or in the header also?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 18:03</div><div class="msg">I'm also unsure, do we still have the notion of the 'validated ledger'? I wasn't sure if that made it into v1</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 18:04</div><div class="msg">yes, we have a 'validated ledger'.. unless, it's changed :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:04</div><div class="msg">from what I understand, validating blocks will be locally in the ledger, so in v1.0 there won't be validation like they want with gossip, etc.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 18:04</div><div class="msg">So in that case, you're generating a new block from the raw block and committing it?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 18:04</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 18:05</div><div class="msg">When a block arrives, either via gossip, or via the ordering service.  The first step is going to be to make sure that the block is well formed, that the signatures over the header are correct, and that the header's hashes match (both data and previous).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 18:05</div><div class="msg">Or, this is my assumption, at least.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 18:06</div><div class="msg">If this layer does not do this, then the signature validation is a little weird to me.  Because we verify a signature, but not that the hash it's signed over is valid?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:07</div><div class="msg">wait, how is it possible that the sig is valid but the hash isn't?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 18:07</div><div class="msg">I am assuming that someone doing it on top... is gossip doing this?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:07</div><div class="msg">why would we validate with the hash</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:07</div><div class="msg">?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 18:07</div><div class="msg">because, signature are for hash and data is separate...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-11-02 18:07</div><div class="msg">I though committer is expected to do it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 18:07</div><div class="msg">@yacovm I mean, the signature is over the hash of the header.  But if the header does not correspond to the block contents, then the signature is 'valid' but it's not valid over 'this block'</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:07</div><div class="msg">but, if the block is properly signed then it means a write-quorum of orderers made that block</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:08</div><div class="msg">oh I thought the sig is on the whole block</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:08</div><div class="msg">wait, I now I'm confused</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 18:08</div><div class="msg">Ah, no, signature is over the header.  Has to be, otherwise you lose the prunability</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 18:08</div><div class="msg">signature are always on hash...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:08</div><div class="msg">a block has a deader and a body, right?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 18:08</div><div class="msg">Right, hash of the header</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:08</div><div class="msg">I'm a gossip component</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:08</div><div class="msg">I get a block</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:08</div><div class="msg">I look at the header and at the body</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:09</div><div class="msg">the header is signed, everything is A-OK</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 18:09</div><div class="msg">No</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:09</div><div class="msg">wait, I'm going somewhere</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 18:09</div><div class="msg">Okay, I say, 'not good enough', but go on</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:09</div><div class="msg">how do I validate the body assuming the header is properly signed?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 18:09</div><div class="msg">You look at the `DataHash` field, and you compute the hash of the `BlockData` and make sure they match</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 18:09</div><div class="msg">Otherwise, I could just take a valid header, and send you garbage block contents</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:10</div><div class="msg">oh so I need to hash the body, see that the header's body-hash is equal and then verify the sig?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 18:10</div><div class="msg">Exactly.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:10</div><div class="msg">that has nothing to do with looking at the previous hash though</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 18:11</div><div class="msg">To me, the hash of the body matching the hash encoded in the header is part of the block being 'well formed'</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:11</div><div class="msg">I expect the ledger to do that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 18:11</div><div class="msg">you also need to look at the previous block hash separately</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:11</div><div class="msg">why do *i* need to do that though?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 18:11</div><div class="msg">If you have a valid block, and the previous block hash does not match, then we have a serious problem.  A sort of "Panic and call the admins" sort of problem</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-11-02 18:11</div><div class="msg">@yacovm: I think this should capability of committer rather than ledger</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:11</div><div class="msg">I'm asking, how is it possible that a block passed verification and *doesn't* match the prev hash?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 18:11</div><div class="msg">That would only happen if the system is broken</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:12</div><div class="msg">yeah so don't you agree (Jason) that this is a very rare case, and therefore- the gossip layer should not do the book keeping of the prev hash</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-02 18:12</div><div class="msg">What is exactly the use of this?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:12</div><div class="msg">kostas- I can use that information to know when it's safe to relay a block</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 18:12</div><div class="msg">@yacovm I'm fine with the committing layer doing the previous block hash check, but not the data hash one</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:13</div><div class="msg">oh I don't mind that we do the hashing, I think that it's supposed to be in our layer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-02 18:13</div><div class="msg">@yacovm: You cannot.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:13</div><div class="msg">but we need an API change for that hash thing :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:13</div><div class="msg">kostas- can you elaborate?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-02 18:15</div><div class="msg">Sure.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-02 18:17</div><div class="msg">As I had noted in that phone call a couple of weeks ago. I am a Byzantine orderer, sending out block 120 that says "by the way the last configuration transaction for this chain is at block 100". (Block 100 is a config transaction that includes me as an orderer.) Meanwhile, at block 110, a new config was posted and the orderer network kicked me out, or whatever.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-02 18:17</div><div class="msg">So I'm pointing you to stale information and make you believe that you're good to relay the block.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:17</div><div class="msg">wait wait wait</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:17</div><div class="msg">I first validate the block</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:17</div><div class="msg">how can you make that data block be signed?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:18</div><div class="msg">i validate it with the latest conf I have</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-02 18:18</div><div class="msg">If you validate that block, and by validate you mean that you have all of the chain before it, why do you need that extra bit of info to begin with?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:18</div><div class="msg">no</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:19</div><div class="msg">that's not what I mean</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:20</div><div class="msg">I mean- when I get a block that claims the last config to be block `100`, all orderers needed to sign that block</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:20</div><div class="msg">so how do you make it happen?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-02 18:20</div><div class="msg">Block 100 is signed by all orderers, or block 122 that you just received?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:20</div><div class="msg">122</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-02 18:21</div><div class="msg">Did I miss the memo about the blocks having to be signed by all orderers?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-02 18:21</div><div class="msg">Unless we talk f+1, etc.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:21</div><div class="msg">yeah, not all</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:21</div><div class="msg">f+1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-02 18:21</div><div class="msg">So it can certainly happen.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:21</div><div class="msg">you're talking about a configuration increase now?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:22</div><div class="msg">so f+1 is less than f'+1?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-02 18:22</div><div class="msg">so ….apologize for jumping in… this started with discussion on consolidating ab.Block2 with fabric.Block</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-02 18:22</div><div class="msg">Because a part of those those orderers were kicked out between block 100 and 110.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:22</div><div class="msg">if orderers were kicked out that's the happy path</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:22</div><div class="msg">you won't have enough signatures because you can't gather f+1, because you didn't increase N</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:22</div><div class="msg">am i right?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-02 18:22</div><div class="msg">@manish-sethi @dave.enyeart @c0rwin @jyellick … what happened to that discussion ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-02 18:23</div><div class="msg">@muralisr I can defer the conversation for later, but I'm responding to this call in here 20m ago: <a href="https://hyperledgerproject.slack.com/archives/fabric-crypto/p1478108757001743">https://hyperledgerproject.slack.com/archives/fabric-crypto/p1478108757001743</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 18:24</div><div class="msg">@muralisr I think it's known that my vote is 'do it', with respect to @dave.enyeart and @manish-sethi I don't recall any real endorsement or objection</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 18:24</div><div class="msg">@jyellick - again one doubt on the block header. Let me know what am I missing if I say the following for your scenario of selective chain verification (without full data validation).
Let's have a single field in the header called blockhash (which is computed as 'previous blockhash + blockdata'). For selective verification, why can't one take the field value itself for granted when it can take it's hash for granted?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 18:26</div><div class="msg">@manish-sethi I give you a series of 3 headers and 3 signature sets, for blocks 1, 2, 3. And no block contents.  How do I validate that no one has modified the header of block 2, without retrieving any block contents?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-02 18:27</div><div class="msg">(@yacovm: Say you need 4 signatures. You understand that these 4 signatures can be valid based on block 100, but invalid based on block 110 right? So if these 4 signatures are referenced in block 122 and they're saying "you can totally trust us because they last config block is 100" you're setting yourself up for failure.)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-02 18:28</div><div class="msg">(Let's take this to gossip-dev.)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-02 18:28</div><div class="msg">sure</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 18:28</div><div class="msg">But for validating the header you need the content anyway... no?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 18:29</div><div class="msg">Why?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 18:29</div><div class="msg">I can give you a sequence of headers, and you can validate that they hash chain together, and have the appropriate signatures?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 18:30</div><div class="msg">So if someone were to modify block 2's header, the hash chain would break</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 18:33</div><div class="msg">What am I missing here is that... we are trusting the signatures. What is wrong if those signatures sign the header with just one field in it and we simply trust that as well...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 18:34</div><div class="msg">Two-fold</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 18:34</div><div class="msg">One, checking signatures is much slower.  Two, you can actually safely prune signatures as well, so long as your most recent block has signatures, there's no need to retain any of the past ones.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-11-02 18:35</div><div class="msg">@muralisr: I have clarified for me  assumptions made for ledger API and given that ab.Block has been merged the only missing part if refactoring of ledger API to incorporate nee Block</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-11-02 18:36</div><div class="msg">i believe I can make further progress  now</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 18:37</div><div class="msg">May be I am missing something very basic... but not able to get why two fields can be trusted and one cannot ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 18:39</div><div class="msg">Given block headers 1, 2, 3, and signatures over block 3.  How can I detect a modification to block header 1 or 2 (without their corresponding data) if the hash includes that data?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 18:40</div><div class="msg">my only point is that you are trusting on datahash... cannot we just trust on 'data+previoushash'</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 18:40</div><div class="msg">for full validation anyways data is needed</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-02 18:41</div><div class="msg">answer: it's how bitcoin does it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 18:42</div><div class="msg">I am fine..If that's the reasoning... was just trying to understand the logic.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 18:44</div><div class="msg">Bitcoin does it that way, which I think is worth emulating if only for the familiarity.  And I still maintain there are concrete advantages for having the hash chain over the headers, like signature pruning, and hash verification being faster than signature verification.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-02 19:00</div><div class="msg">does it sound reasonable @jyellick @manish-sethi to incorporate the new Block into ledger ( @c0rwin is unblocked from implementation but dependent on the consolidation on testing)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 19:01</div><div class="msg">yes @muralisr. We will have to make changes in the ledger code... will discuss in the ledger scrum tomorrow</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-02 19:02</div><div class="msg">perfect</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-02 19:02</div><div class="msg">Sounds good to me</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f4809ce34b925cbefc5f500cc4413338.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">dave.enyeart</div><div class="time">2016-11-02 19:02</div><div class="msg">manish, i think you can prioritize the block structure work</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f4809ce34b925cbefc5f500cc4413338.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">dave.enyeart</div><div class="time">2016-11-02 19:02</div><div class="msg">the other items you are working on can get pushed back, better to consolidate the blocks sooner than later</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 19:03</div><div class="msg">yes... Let's discuss tomorrow in detail...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f4809ce34b925cbefc5f500cc4413338.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">dave.enyeart</div><div class="time">2016-11-02 19:03</div><div class="msg">sure thing, just wanted to give you the green light to work on it tomorrow before scrum</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f4809ce34b925cbefc5f500cc4413338.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">dave.enyeart</div><div class="time">2016-11-02 19:04</div><div class="msg">my last question on this topic - is PreviousHash a hash of the previous header itself?  or a hash of the previous header’s DataHash?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 19:05</div><div class="msg">hash of the previous header</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f4809ce34b925cbefc5f500cc4413338.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">dave.enyeart</div><div class="time">2016-11-02 19:05</div><div class="msg">ok, which includes DataHash</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/842c92fa54fe6332cce4707ebd8dfbd8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">manish-sethi</div><div class="time">2016-11-02 19:05</div><div class="msg">otherwise, you would miss the blocks below the previous block</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-03 03:07</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-04 13:17</div><div class="msg">Hi all, please find here <a href="https://gerrit.hyperledger.org/r/#/c/2243/">https://gerrit.hyperledger.org/r/#/c/2243/</a> a proposal for identity provider interface. Any feedback would be welcome!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-04 13:32</div><div class="msg">@elli - be careful what you ask for!   :wink:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-04 13:32</div><div class="msg">Should i have just remained silent? :zipper_mouth_face: :smiley:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-04 13:33</div><div class="msg">hehe</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-04 13:49</div><div class="msg">i can't help anymore - this system has exceeded my complexity threshold</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-04 15:02</div><div class="msg">@simon do you think the Identity Provider is too complex?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-04 15:03</div><div class="msg">no, i think fabric is too complex</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-04 15:03</div><div class="msg">and not properly layered</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-04 15:03</div><div class="msg">and overengineered</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-04 15:04</div><div class="msg">i.e. it's an "enterprise" product</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-04 15:05</div><div class="msg">@adc - I'm working on my comments for the IDP</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-04 15:06</div><div class="msg">thanks a lot :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-04 15:06</div><div class="msg">@simon, do you have specific comments regarding the security part of the fabric? I would be interested on hearing that :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-04 15:08</div><div class="msg">no i don't, because fabric exceeds my complexity threshold</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-04 15:08</div><div class="msg">come on, to improve we need your comments</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-04 15:09</div><div class="msg">do you have specific points in mind?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-04 15:09</div><div class="msg">and that whole channel+reconfig for new channels thing is just so stupid</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-04 15:09</div><div class="msg">which aspect, the combination of channels and PBFT?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-04 15:10</div><div class="msg">no, the fact that there are channels</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-04 15:10</div><div class="msg">as a solution to address confidentiality or what?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-04 15:12</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-04 15:12</div><div class="msg">and at all</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-04 15:12</div><div class="msg">so what's your alternative suggestion?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-04 15:12</div><div class="msg">the whole point of a blockchain is a shared data base</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-04 15:12</div><div class="msg">run separate chains instead of channels</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-04 15:12</div><div class="msg">if you really need it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-04 15:13</div><div class="msg">that can be already done, no? But if you have a use-case that requires sharing the ordering service with v1 you will be able to have it, no?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-04 15:14</div><div class="msg">@simon - I guess somewhere along the way you missed the fact that in the end what people want is not actually the traditional definition of a blockchain.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-04 15:15</div><div class="msg">faster horse carriages, etc.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-04 15:15</div><div class="msg">now perhaps the alternative would be to create multiple "consensus" groups within the peer to peer communication - that was an alternative</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-04 15:15</div><div class="msg">modify endorsement to actually be consensus among small groups</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-04 15:16</div><div class="msg">right now it sounds like a pub sub service</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-04 15:17</div><div class="msg">a trusted pub sub service</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5812bdc781076331fcfe9743fc60ca35.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">oiakovlev</div><div class="time">2016-11-04 16:05</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5812bdc781076331fcfe9743fc60ca35.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">oiakovlev</div><div class="time">2016-11-04 16:06</div><div class="msg">QQ: in v1 we'll have plug-able certificate authority but if Customer needs some custom encryption mechanism will it be possible or not really? This is the question from the bank and it occurs that central authority might not be ok, with SHA3, for example but provides something different...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-04 16:22</div><div class="msg">Hi @oiakovlev, that is definitively a goal  that we are pursuing. That's the reason why the BCCSP has been introduced</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5812bdc781076331fcfe9743fc60ca35.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">oiakovlev</div><div class="time">2016-11-04 16:34</div><div class="msg">@adc so just to make clear - is it on roadmap for v1 for next year?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-04 16:35</div><div class="msg">@garisingh can tell you more on this :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-04 17:25</div><div class="msg">Dumb question, what does BCCSP stand for?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-04 17:25</div><div class="msg">Blockchain Crypto Service Provider?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-04 17:30</div><div class="msg">yes :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-04 17:30</div><div class="msg">Great, whenever I see "CC" in an acronym it makes me think 'chaincode' ala VSCC ESCC etc., wanted to make sure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-05 13:04</div><div class="msg">@adc - can you amend this change set (even though we already merged it  - sloppiness on our part) - <a href="https://gerrit.hyperledger.org/r/#/c/2107/3">https://gerrit.hyperledger.org/r/#/c/2107/3</a>   -  it's missing license headers</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-05 13:05</div><div class="msg">Hi @garisingh, sure. Sorry, it's my fault. I always forget to check the license :(</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-05 13:06</div><div class="msg">we missed it as well</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-05 13:06</div><div class="msg">we should add a check in CI  :wink:   -  let me get on that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-05 13:12</div><div class="msg">we don't want @cbf to be angry  :wink:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/eb4a014964885f16a760546340b5daa0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">cbf</div><div class="time">2016-11-05 13:13</div><div class="msg">can't get angry... on vacation:-)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/eb4a014964885f16a760546340b5daa0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">cbf</div><div class="time">2016-11-05 13:13</div><div class="msg">adding a check would be good idea</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-07 07:33</div><div class="msg">@garisingh @cbf I have submitted a new change-set to update the license headers: <a href="https://gerrit.hyperledger.org/r/#/c/2277">https://gerrit.hyperledger.org/r/#/c/2277</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-07 07:33</div><div class="msg">I wasn't able to amend the original change-set because it is closed.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-07 10:02</div><div class="msg">thanks @adc - just saw it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-07 10:35</div><div class="msg">@adc - in my process of removing membersrvc from fabric master repo, I also removed most of the code in core/crypto as well (it was just too intertwined to try to modify).   Check out <a href="https://gerrit.hyperledger.org/r/#/c/2273">https://gerrit.hyperledger.org/r/#/c/2273</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-07 10:36</div><div class="msg">I tried to leave placeholders in parts of the code which used to call the various crypto clients so that we can integrate the new crypto / idp code</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-07 13:58</div><div class="msg">Hi @garisingh, why are removing the code before having the idp working? Just to understand</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-07 14:24</div><div class="msg">I would have thought to have first the idp working and then the unnecessary crypto part removed.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-07 14:25</div><div class="msg">Of course, I agree that ad then v1 will not have those files anyway</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-07 14:31</div><div class="msg">I think it's easier this way</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-07 14:31</div><div class="msg">I left the plug points - you'll see a bunch of TODO comments</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-07 14:32</div><div class="msg">plus I could not easily remove membersrvc without removing the crypto stuff</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-07 14:33</div><div class="msg">this way we can add things one at a time -  load identity for the peer, use identity to sign, etc</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-07 14:33</div><div class="msg">I believe that's the way to go having followed the opposite approach of incrementally replacing in other areas and I don't think it works well</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-07 15:08</div><div class="msg">okay, got it. Thanks :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-07 15:09</div><div class="msg">I gave my +1. I cannot give +2</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-07 15:09</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-07 15:23</div><div class="msg">btw, I know you are busy with BCCSP… so that’s why thought it was great when Gari volunteered… hope you were ok with that ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-07 15:34</div><div class="msg">sure, thanks :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-07 16:58</div><div class="msg">@muralisr or anyone else, would appreciate some additional review so that we can get this in before it needs to be rebased again <a href="https://gerrit.hyperledger.org/r/#/c/2075/">https://gerrit.hyperledger.org/r/#/c/2075/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-07 16:58</div><div class="msg">(Also <a href="https://gerrit.hyperledger.org/r/#/c/2153/">https://gerrit.hyperledger.org/r/#/c/2153/</a> )</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-07 17:34</div><div class="msg">I changed my +1's to +2's so just need some other review(s)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-07 19:11</div><div class="msg">@adc - for PKCS11 / HSM, is the plan to test against SoftHSM by default?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-07 19:12</div><div class="msg">just wondering if we need to start thinking about how to add it into our CI, etc</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-07 19:44</div><div class="msg">Actually, I have been talking about this with Tamas. I would love to have it in. I will have probably more info already tomorrow. I will tell you asap</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-07 19:46</div><div class="msg">no worries - you know I get random thoughts so just decided I'll ping'em as they come up</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 12:20</div><div class="msg">@adc @elli  - been looking at <a href="https://gerrit.hyperledger.org/r/#/c/2243/2/idp/idp.go">https://gerrit.hyperledger.org/r/#/c/2243/2/idp/idp.go</a> and all of the comments as well</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 12:20</div><div class="msg">here's my take - I think we are trying to bite off too much here on the first go around</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 12:21</div><div class="msg">I think we need to start simple and then back into / expand out to more functionality</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 12:23</div><div class="msg">basically, from a fabric and orderer perspective, what we need to start with are the Identity and SigningIdentity interfaces and concrete implementation of PeerIdentity and OrdererIdentity  (the peer one might be tricky in that a concrete PeerIdentity may not always be a SigningIdentity)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-08 12:26</div><div class="msg">Hm So why would peer identity and orderer identity would be different you think?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-08 12:26</div><div class="msg">I mean generically defined one can have a different provider for each of them true</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 12:26</div><div class="msg">I think we have a use case we can try here:

1) fabric-cop can generate "enrollment" credentials
2) we can create a PeerIdentity from those credentials (would be a file-based provider later on)
3) we can leverage that identity to sign endorsements

the other side:

4) on the verifying of endorsements, we need to create a PeerIdentity from the public cert used to sign (in steps 1-3 above)
5) we use that identity to verify the endorsement signature</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 12:26</div><div class="msg">well not sure if they would ever have different fields</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-08 12:27</div><div class="msg">aha</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 12:27</div><div class="msg">but we could go with FabricIdentity or something as well</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-08 12:27</div><div class="msg">but in the test file i think at least for verification we follow the same steps</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-08 12:27</div><div class="msg">here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-08 12:27</div><div class="msg">the use case makes sense to me and I think we would have started anyway from that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 12:27</div><div class="msg">yeah - of course - you can't really start anywhere else  :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-08 12:28</div><div class="msg">indeed :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 12:28</div><div class="msg">but don't steal my thunder!   hehe</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-08 12:28</div><div class="msg"><a href="https://gerrit.hyperledger.org/r/#/c/2243/2/idp/idp-tests.go">https://gerrit.hyperledger.org/r/#/c/2243/2/idp/idp-tests.go</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-08 12:28</div><div class="msg">:stuck_out_tongue:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-08 12:28</div><div class="msg">:smile:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-08 12:28</div><div class="msg">never!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-08 12:28</div><div class="msg">yes, we added the tests there exactly to show also a flow</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-08 12:29</div><div class="msg">I agree, anyway. It is better to start from the simple scenarios</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-08 12:29</div><div class="msg">So the flow is simple on the peer side doing verification</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 12:29</div><div class="msg">this way we can get some basics committed and argue about the more "complex" interfaces as we go</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 12:30</div><div class="msg">clearly Identity and SigningIdentity are straight forward</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-08 12:30</div><div class="msg">correct</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 12:30</div><div class="msg">else I fear we won't be able to hook into the ESCC and VSCC flows early enough to see if we are right or wrong</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 12:30</div><div class="msg">just my 2 cents</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-08 12:31</div><div class="msg">more complex, and attribute based functionalities are anyway to be used as of now only byu the application</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-08 12:31</div><div class="msg">and not the peer/validator</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 12:31</div><div class="msg">right</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-08 12:31</div><div class="msg">we will start from the identity interfaces that are the basic ones, and then we see from there what we need more int erms of attributes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 12:31</div><div class="msg">sounds good</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 12:32</div><div class="msg">and I'll keep pushing your change sets as they come in</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 12:32</div><div class="msg">trying too keep this stuff moving</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 12:33</div><div class="msg">off to cause trouble elsewhere!  ttyl</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-08 12:33</div><div class="msg">:grinning:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-08 12:33</div><div class="msg">Good luck!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-08 12:38</div><div class="msg">heheheh</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6dc4ffa5aaa9e91626b77065705de70d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">rascal</div><div class="time">2016-11-08 12:59</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-11-08 15:20</div><div class="msg">quick meeting- Keith: you as the node sdk- you have to plug in multiple identity providers. So somewhere there is an API to be able to talk to that.  -Jim:  But an MSP for SDK, does not mean registration and enroll.  Sometimes enroll is provided by ecerts are put in place where i can get access It will be useful iff we can separate the core API- identity based on certificates as required for signing purposes or even for encryption versus the registration and enroll.   -- Elli stated- we should have api deefined for the peer and one for the application. Then one app might use membership services a or b- we can start implementing api for the peer and the minimum one. And then we can add later the api for applications to use.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-11-08 15:21</div><div class="msg">Keith: this means we go back what we had last week -pulling out MSP peer API, and we had a client API.  At least they are separate.  If we don't keep client in fabric, we're not sure where we put it.  Gari: you can put it in COP, but put in separate file.  It's likely going to change anyway</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-11-08 15:23</div><div class="msg">Gari: Here is a customer example- there is a Java SDK requirement.  In their case, they don't plan to use COP (many people want to use their own).  We just have to have a format- so we start out with these APIs... and we can then parse that information.  Identity has the ability to parse the certificate.  Then, from SDK perspective- it becomes a nice interface.  So if someone wants to register- they can call API and it gets loaded from the store they are using.  BTW, this is how we can do unit testing.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 15:24</div><div class="msg">Hey, I have a couple of questions unclear to me and if someone could explain to me that'd help:
1) In fabric v1 (next architecture) - how can a peer from org A verify an SSL certificate of a peer of org B, when they have different CAs? 
2) in SSL from what I know- when you connect to a remote server, the certificate of the server needs to sign on the DNS name or ip address, because you don't know the certificate of the remote server before you connect to it, so if the certificate does not sign the hostname\ip, you won't be able to connect, right?
3) If the above (2) is true, then how will that work in fabric v1 ? the PKI infrastructure would hand out certificates with ip/hostnames signed ?
4) if the above (3) is true, then how will fabric work in a cloud environment where the ip address is something dynamic and random? Does the PKI layer know how to deal with it? It sounds to be pretty complex because you need to keep track of changing data.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-11-08 15:26</div><div class="msg">Keith: the signing identity-we need the implementation for signing identity and identity.  What we agreed is that Elli and team would do that for ECerts.  For timeline- how long is that going to take to do.  Elli- there is a lot of code already ready for ecert signing functionality.  And she will have to think through that with Angelo.  They thought if the Ali/Angelo, they could get this within the week, they could offer the signing/verification.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-08 15:26</div><div class="msg">@yacovm I was planning to ask the same thing here to @elli @adc @aso</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-11-08 15:28</div><div class="msg">Gari: the main thing is hooking up between identity and the BCCSP too.  Elli said that is the largest extent we have and is pretty close. Gari: We have to load up multiple root certificate authorities.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-11-08 15:28</div><div class="msg">Jim: isn't that supposed to go through BCCSP interface instead of specifically knowing how you sign?  Gari: yes- we should hook those together</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-11-08 15:28</div><div class="msg">Angelo checked in the signer and it's been merged in</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-11-08 15:29</div><div class="msg">Gari: this gets us to an end to end path and a little refactoring after that... this should be the goal.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-08 15:29</div><div class="msg">My impressions have been that:

1. The peer org CAs are encoded in the configuration, so anyone can verify that a certificate chain presented by the peer chains to a trusted CA.
2./3./4. I do not think we can do certificate validation by DNS/common name.  Here we use certs for identity not location.  So, a CA signing a cert chain implies that the peer is authorized to transact under the authority of that CA.  Unlike with something like https on the web, where you care not simply that a CA has signed, but that the CA intended to sign for that URL.  For chaincode, I know there are attributes which are set on the certificate, so that not all certificates which chain to a CA have the same authority, but from an orderer/gossip perspective, I expect this to be coarse enough that presenting a valid cert chain to a CA implies authority to transact on the network.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-11-08 15:29</div><div class="msg">Jim: once we have identity and signing identity- we should be able to do almost everything.  It will poll the dependent classes.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-11-08 15:30</div><div class="msg">in the other classes- what is a member?  Gari suggesting to remove that or-- should called memberservice- it's really the API side of all the registration.  The rest are really entity definitions, where member is a noun and interface to call a service.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-11-08 15:30</div><div class="msg">Gari: I would strip down to bare minimum that we can.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-11-08 15:31</div><div class="msg">Jim: I am struggling with member- member respresents and enroll entity with identity provider. Enroll means you have a signed certificate,.. isn't that what identity class represents?  why do we still need member?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-11-08 15:32</div><div class="msg">Keith: the original idp.go that he sent had different names and it did not have member.  I was just trying to make progress at this point.  I was trying to simplify in the one Keith sent-- Elli plans to look at it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-11-08 15:33</div><div class="msg">Elli: for identity and signing identity- sounds like we are converging.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-11-08 15:34</div><div class="msg">Elli: there is some design work on access control for the channels.  This is an item we are collaborating with consensus and endorser team.  The high level flow is included in document in pdf. - fab 633</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-11-08 15:35</div><div class="msg">from high level design- wrote a document that we are going to reach out to the community- where we are adding interfaces related to that story.. and next sprint we will implement in the next sprint</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-11-08 15:35</div><div class="msg">There is design interface of application level and invocation access management.  These are things that we are going to do in future sprints.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 15:41</div><div class="msg">@yacovm :


1) In fabric v1 (next architecture) - how can a peer from org A verify an SSL certificate of a peer of org B, when they have different CAs? 

Part of the material that we need to distribute to all peers that are part of the network will be the set of root certificates used by each participant.  We'll need to decide if we need to separate the truststore for signing/verification from the truststore used for TLS communication but basically this material needs to be collected from every network participant prior to them joining and then distributed via the appropriate config transaction(s) (which may be scoped to channels possibly).  But the bottom line is that the trust stores need to be distributed


2) in SSL from what I know- when you connect to a remote server, the certificate of the server needs to sign on the DNS name or ip address, because you don't know the certificate of the remote server before you connect to it, so if the certificate does not sign the hostname\ip, you won't be able to connect, right?

The CN or the SAN in the TLS certificate must match the hostname that will be used to access the endpoint.  This is a must in terms of the TLS certificates that the various components need to use.  The trust will be established via the truststore mentioned in 1) above

3) If the above (2) is true, then how will that work in fabric v1 ? the PKI infrastructure would hand out certificates with ip/hostnames signed ?

See above

4) if the above (3) is true, then how will fabric work in a cloud environment where the ip address is something dynamic and random? Does the PKI layer know how to deal with it? It sounds to be pretty complex because you need to keep track of changing data.

If you are not going to have a static IP, then you must use a FQDN instead.   This is exactly what we do in BMX today</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-08 15:41</div><div class="msg">@yacovm @jyellick 
&gt; 1. The peer org CAs are encoded in the configuration, so anyone can verify that a certificate chain presented by the peer chains to a trusted CA.

I expect the same too, the (self-signed) certificates of all CAs should be available to everyone. Adding or revoking them should be a job of the configuration system.

&gt; 2./3./4. I do not think we can do certificate validation by DNS/common name.  Here we use certs for identity not location.  So, a CA signing a cert chain implies that the peer is authorized to transact under the authority of that CA.  Unlike with something like https on the web, where you care not simply that a CA has signed, but that the CA intended to sign for that URL.  For chaincode, I know there are attributes which are set on the certificate, so that not all certificates which chain to a CA have the same authority, but from an orderer/gossip perspective, I expect this to be course enough that presenting a valid cert chain to a CA implies authority to transact on the network.

I agree - a node looks up another peer/node they want to talk to (somehow) or they reach out to us, at which point in the course of the TLS exchange we'll mutually authenticate based on our TLS certs. At the end of the TLS handshake, we'll know that the node at the other end of the wire possesses legitimately that certificate. At this point we need to inspect it, see who signed it (do we trust them) and what they signed (attributes) and make a determination whether we wanna talk to them.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-08 15:43</div><div class="msg">So when someone presents their 'identity', this will be a full certificate chain, down to the CA root?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-08 15:44</div><div class="msg">It should be, yes. The same happens on the web - websites usually present their chain, which is rooted with something your browser has (the set of CAs it trusts)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-08 15:45</div><div class="msg">you'll notice that presenting the root is redundant</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-08 15:45</div><div class="msg">since you've got to have a copy of it yourself</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 15:45</div><div class="msg">wait wait wait, isn't that a chicken and egg problem?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 15:48</div><div class="msg">5) how can I connect to an orderer (part of the fabric) if I get its certificate from the... well, ledger?
6) you're telling me there will be some system-crypto-channel in which orderers would publish certificates?
7) In fabric there will *most likely* be peers that won't be connected to the orderer directly, but will get information indirectly via other peers. They will have a bootstrapping problem, because they won't be able to connect to any peer.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-08 15:48</div><div class="msg">there has got to be some root of trust hardcoded somewhere (genesis block)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-08 15:49</div><div class="msg">much like when you install your browser, it comes with its set of CAs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 15:49</div><div class="msg">I thought that a genesis block is now per channel</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-08 15:53</div><div class="msg">Yes, there is</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-08 15:54</div><div class="msg">In order to join a channel, you must have a copy of the genesis block (or some later config block)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-08 15:54</div><div class="msg">So you have all the CA certs.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 15:54</div><div class="msg">ok let me make it more specific, @aso  - My gossip code needs a way of verifying a signature of a remote peer, having the signature, the plaintext (obviously) and the peer's (the signer's) PKI-ID. 
Do we still have this functionality in v1.0? (please say yes)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-08 15:55</div><div class="msg">@yacovm I'm still confused why you are using PKI-ID when you have access to the full cert (chain)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-08 15:55</div><div class="msg">is this in the scope of TLS?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 15:55</div><div class="msg">no</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 15:56</div><div class="msg">Jason- well, as I said on gerrit- when I designed everything, I was told I'll be able to use the PKI-ID, and that was what the code in 0.5 was doing, and no one told me along the way anything different</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-08 15:56</div><div class="msg">so you have a message of sorts, a signature over it, and a cert</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 15:57</div><div class="msg">no no, it's more simpler than that- imagine I know of a peer and it's PKI-ID and I already authenticated it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-08 15:57</div><div class="msg">and you want to
1) verify that signature
2) get some assurance about the signing cert - who are they? who signed their cert?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 15:57</div><div class="msg">yes!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 15:57</div><div class="msg">exactly - 1+2</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-08 15:57</div><div class="msg">@yacovm But could you not compute a PKI-ID from the cert if need be?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 15:58</div><div class="msg">I could if I had the function that computes it (I have no idea the hash algorithm)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 15:58</div><div class="msg">everything I'm talking about here is merged long ago,btw:
<a href="https://github.com/hyperledger/fabric/blob/master/gossip/api/api.go#L59">https://github.com/hyperledger/fabric/blob/master/gossip/api/api.go#L59</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-08 15:59</div><div class="msg">I think the primitives to sign/verify will be there</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 15:59</div><div class="msg">I expect the following abilities when the gossip is initialized: 
```
	Sign(msg []byte) ([]byte, error)
Verify(vkID, signature, message []byte) error
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-08 15:59</div><div class="msg">they might look different from what they used to</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-08 16:00</div><div class="msg">I guess my concern, is that we had the (IMHO terrible) dependence on a network call in order to authenticate peers in 0.5.  And we should not be trying to emulate this as a pattern.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-08 16:00</div><div class="msg">Especially if we have all of the certificate material present.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 16:00</div><div class="msg">@jyellick  - we are getting rid of that bootstrap for enrollment</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-08 16:00</div><div class="msg">Right, I thought that was out.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 16:01</div><div class="msg">@yacovm  - at the end of the day, when a network starts you must have some bootstrap material which is distributed / resides outside the ledger</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 16:01</div><div class="msg">Wait so a quick recap- The fabric is running for 1 month, and I'm a new peer. the first thing I ever do is grab a genesis crypto block and commit it and connect with it to the orderer?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 16:02</div><div class="msg">the first thing is that the existing folks need to allow you to join  :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-08 16:02</div><div class="msg">Right, the 'channel join' operation takes as a parameter a genesis block (or in the future, a configuration block)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 16:03</div><div class="msg">why is this context-based on a channel? I'm talking about just the first connection to an orderer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-08 16:03</div><div class="msg">Logically, connecting to the 'system chain' and a channel are equivalent to me.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-08 16:04</div><div class="msg">But to bootstrap a peer, you also provide it with a genesis block</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 16:04</div><div class="msg">so there will be an "infrastructure channel" then?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-08 16:05</div><div class="msg">In order to first start up a peer period, the agreed upon boostrapping mechanism was to provide it with the genesis block of the 'system chain'</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-08 16:05</div><div class="msg">However, I really see no strong reason you could not bootstrap a peer to a particular channel instead of to the 'system chain'</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-08 16:05</div><div class="msg">Every genesis block need to contain a full config (complete with CA certs et al)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 16:05</div><div class="msg">then you'll need to insert the certs into the genesis block of the channel</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 16:05</div><div class="msg">oh ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 16:09</div><div class="msg">@aso  is there a way of looking up the certificate by the PKI-ID?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 16:11</div><div class="msg">I understand that the certificates would be saved in the ledger, is it possible to also save their PKI-id and be able to perform a search for that?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 16:11</div><div class="msg">otherwise, you won't be able to perform: verify(pkiID, sig, plaintext)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-08 16:12</div><div class="msg">All the info is there - certs have a subject (who) and an issuer (who signed it), so I guess it's a matter of exposing APIs to lookup a cert by subject</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-08 16:12</div><div class="msg">I don't think these APIs are there</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-08 16:13</div><div class="msg">so you get a cert, you see its issuer and then you lookup in your trust bag if you have a cert whose subject is your issuer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 16:13</div><div class="msg">but how am I going to verify someone's message by knowing only his PKI-ID and not the full cert then?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-08 16:14</div><div class="msg">so you are saying that you don't even have a certificate, only an ID (like a plain string)?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 16:14</div><div class="msg">yes, just that the id is the hash on the cert</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 16:16</div><div class="msg">that's how all the 6000+ lines of gossip code works, and I built it under the assumption that I would be able to perform `verify(PKIid, sig, text)` just like it is done in 0.5, , and as was told to me.... @adc</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-08 16:18</div><div class="msg">I'll reach out to you in pvt and we can try to sort it out</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/aa32af034870d28ba4a6828888b04a92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">rickr</div><div class="time">2016-11-08 16:29</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 16:46</div><div class="msg">ok so we talked on the phone and we came to a conclusion that:
1) Gossip *has* to have a way of mapping a PKI-ID of a peer to its certificate
2) The Ledger guys that are responsible for writing the certificate crypto data into the chain need to be aware of it, and need to implement a way for the crypto layer to create a mapping between PKI-ID (essentially it's a hash of the cert) to the cert itself.
@elli  , @adc  , @aso  , 
@garisingh  and @binhn  , I'll create a JIRA item in a few min, but who should I tag here to explain the need? (who is it going to be from the ledger guys? Maybe @muralisr ?)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-08 16:48</div><div class="msg">@yacovm For my edification, why does gossip need PKI-ID instead of the cert itself? And is there an instance where a peer has a reference to a PKI-id but does not already have the corresponding cert locally?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 16:49</div><div class="msg">I use the PKI-ID to identify a peer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 16:49</div><div class="msg">I send this information every few seconds (configurable)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 16:50</div><div class="msg">I don't want to send every few seconds a few KBs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 16:50</div><div class="msg">so I need a deterministic way of converting a cert ---&gt; to a []byte without collisions, so in 0.5 it was implemented as a simple hash.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 16:51</div><div class="msg">```
And is there an instance where a peer has a reference to a PKI-id but does not already have the corresponding cert locally?
```
 yeah, he won't be able to communicate with the peer until it has. I don't see it as a big problem</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 16:51</div><div class="msg">@yacovm  - write up the requirement and tag me and murali for now</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 16:52</div><div class="msg">BUT</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 16:52</div><div class="msg">there's more to this than PKI-ID</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 16:52</div><div class="msg">I'll write a JIRA item, is that ok?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 16:52</div><div class="msg">yep</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 16:52</div><div class="msg">what is there more except that?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 16:55</div><div class="msg">The way you are currently using PKI-ID assumes that every peer already has and/or has access to every other peer's certificate (at least the certificate they use to sign messages).   This works in v0.5/v0.6 because the peer actually calls out to membersrvcs (as I recall) to download the public certificate(s) for other remote peers.  This IS NOT going to be possible in v1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 16:55</div><div class="msg">so what? eventually it will have access to that, because it'll get the ledger</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 16:55</div><div class="msg">it'll simply re-connect</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 16:56</div><div class="msg">well I don't actually think that we are going to put every peer certificate in the ledger.  we were going to start with putting the root certificates for every participant into the ledger not the individual peer certificates</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 16:57</div><div class="msg">My point is that there's more to this story</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 16:57</div><div class="msg">this is just one piece</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 16:57</div><div class="msg">this also means that when people sign messages, they need to include the public key in the message itself</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 16:57</div><div class="msg">hmm, and how is the authentication going to work then?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-08 16:57</div><div class="msg">Right, the peer can absolutely maintain a cache of peer certs it knows about, when it connects via TLS it will get the certs.  And I think, for gossip, this is okay.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-08 16:57</div><div class="msg">The chain has all the _CA_ certs, and the TLS cert will chain to the CA for auth</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 16:58</div><div class="msg">we don't do mutual TLS</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 16:58</div><div class="msg">and the TLS cert is not the same as the signing cert</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 16:58</div><div class="msg">aha!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-08 16:58</div><div class="msg">Peer&lt;-&gt;Peer does not do mutual TLS? Why not?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 16:58</div><div class="msg">and we track identity based on signing cert</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 16:58</div><div class="msg">WELL - we can move to that model</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 16:58</div><div class="msg">so, if the TLS certs are different, is the TLS cert self-signed?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 16:58</div><div class="msg">we don't do it today</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 16:59</div><div class="msg">No</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 16:59</div><div class="msg">so?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 16:59</div><div class="msg">If we do mutual TLS and in gossip you choose to use the client certificate as the PKI-ID, that may be OK</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 17:00</div><div class="msg">wait so just to understand what jyellic said- when I'm a peer I present to a fellow peer a certificate that has a chain of signatures all the way up to some CA which the fellow peer can verify, right?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-08 17:00</div><div class="msg">My assumption had been that this 'presented cert' was the TLS cert.  But it sounds like there is maybe some other mechanism here?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 17:01</div><div class="msg">Gari- in gossip, the TLS configuration is pluggable, so I just put whatever I get, unless I don't get anything at all- and then I generate a self-signed certificate myself and use that in SSL</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 17:01</div><div class="msg">THIS IS MY POINT - that's what I mean by there's more to this than the PKI-ID thing</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 17:01</div><div class="msg">then I verify the remote peer using the PKI-ID</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 17:01</div><div class="msg">where'd you get it from in the first place?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 17:02</div><div class="msg">you're asking jason?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 17:02</div><div class="msg">no - you</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 17:02</div><div class="msg">where did I get what</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 17:02</div><div class="msg">Let's start with a simple case of 2 peers</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 17:02</div><div class="msg">it's the only case actually</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 17:03</div><div class="msg">Let's assume mutual TLS (e.g. client certificates)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 17:03</div><div class="msg">mutual TLS with signed certs?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 17:04</div><div class="msg">let's start with signed certs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 17:04</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 17:05</div><div class="msg">so lets say `p0` connects to `p1` and presents him with a signed challenge signed by him, and the PKI-ID (for identity)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 17:05</div><div class="msg">what is the signed challenge?  not TLS but application level?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 17:05</div><div class="msg">yep</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 17:06</div><div class="msg">didn't you say they are different certs? the TLS and the peer cert?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 17:07</div><div class="msg">(they could be different or they could be the same)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 17:07</div><div class="msg">but let's continue</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 17:07</div><div class="msg">yeah but of course you understand, I already implemented everything so I assumed the "worse"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 17:09</div><div class="msg">so now `p1` has some bytes which were signed by `p0` and also has `pkiID` from `p0` (which is theoretically the hash of the certificate `p0` used to sign the bytes?)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 17:09</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 17:10</div><div class="msg">and vice-versa regarding the challenge but it's not important</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 17:10</div><div class="msg">he now looks into the ledger and asks it- "dear ledger, give me the cert of pkiID"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 17:10</div><div class="msg">so `p1` cannot verify the signed bytes without being in possession of the public key  of the keypair  `p0` used to sign them</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 17:11</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 17:11</div><div class="msg">correct</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 17:11</div><div class="msg">but this isn't too hard to fix- because `p0` can send it in this 1-time-only message also the certificate of itself, and have it hash it and compare to the PKIid)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 17:12</div><div class="msg">you got it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 17:12</div><div class="msg">and like @jyellick  said- it can cache it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 17:12</div><div class="msg">and that's what I was getting at</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 17:12</div><div class="msg">oh, I thought you meant- there is something more *except that*</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 17:13</div><div class="msg">now what we would distribute would be the root certificates for all the participants</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 17:13</div><div class="msg">of course, one could distribute the public keys of everyone instead as well</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 17:14</div><div class="msg">so maybe I can skip the JIRA item then and simply assert that in the gossip's constuctor, the full cert is going to be needed to be passed, and I'll add a method `cert2PKI-ID` or something like that that is supposed to be supplied by the crypto guys</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 17:14</div><div class="msg">but wanted to make sure we can support a model which only requires distribution of root certificates</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 17:14</div><div class="msg">but would be good to document this in the overall design</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 17:15</div><div class="msg">BTW - (and I like this fact) - use of gossip implies that TLS is always used, correct?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 17:15</div><div class="msg">no</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 17:15</div><div class="msg">oh - sorry - we sign the bytes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 17:15</div><div class="msg">it is "adaptive" but it has to be symmetrical</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 17:15</div><div class="msg">"if I use TLS you should use too"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 17:16</div><div class="msg">personally I think we should only enable gossip over TLS  - that way we'll solve the usability / censurability / configurability right from the beginning.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 17:16</div><div class="msg">if you initialize gossip with your own SSL options (serverOptions and DialOptions I think) I use them as they are, otherwise- I generate self-signed SSL certs and use them</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 17:16</div><div class="msg">today - it's a pain in the butt to get TLS working because it was treated as a second class citizen</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 17:17</div><div class="msg">yeah</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 17:18</div><div class="msg">so to sum things up- @adc  and @elli  and @aso  and everyone I tagged above, the bottom line is that we'll simply pass the certificate in the authentication handshake of the gossip, but the security guys would need to implement a method that converts a cert to a PKI-ID in a deterministic way.  (did I get that right @garisingh  ? )
Maybe do []byte(PKI_ALGORITHM) concatenated with the public key hash?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 17:20</div><div class="msg">you got it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 17:25</div><div class="msg">@elli  I hope you don't mind I assigned it to you, because I have no idea of what to put in other fields in the jira item (such as epic, etc.)
<a href="https://jira.hyperledger.org/browse/FAB-1034">https://jira.hyperledger.org/browse/FAB-1034</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-08 17:43</div><div class="msg">Hi @yacovm, sure. Will discuss with the team and re-assign it if necessary but keep you posted.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 21:57</div><div class="msg">Wait a second @garisingh , if I cache internally the peer's certificate and it is not saved in the ledger- how does the COP infrastructure revoke a peer's certificate then?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-08 21:59</div><div class="msg">To my knowledge, CRLs are put into the configuration block.  In general, CRLs are short and not updated frequently.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 22:01</div><div class="msg">right - given that you will take the PKI-ID and make sure it matches the hash of the "cached" certificate at the same time you could extract the serial number and check it against the CRL stored on the ledger</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 22:03</div><div class="msg">or we could have that in the method `validatePKID` or `isValidPKIID` or something</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 22:03</div><div class="msg">it not only checks that the hash matches but also that the cert is not revoked</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 22:11</div><div class="msg">got it, thanks (Jason&amp;Gari) but also what needs to be done is something that "listens" to that chain and updates the gossip component, because the connection to the peer might be open and we would want to close it. I already have a method in the comm layer that black-lists a remote peer by PKI-Id, it can be used.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 22:12</div><div class="msg">cool</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-08 22:12</div><div class="msg">I think we'll have the "means" to do what we need</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-08 22:13</div><div class="msg">v1 is going to be a monster (complexity-wise)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3f3e4be17856b20ef27165d2a784e1bd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">warm3snow</div><div class="time">2016-11-09 08:35</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-09 12:23</div><div class="msg">Anyone home?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-09 12:24</div><div class="msg">I've a question related to multi-channels. 
When an application (via node SDK) makes a peer join a channel, how does it identify itself to the peer? How does the peer recognize the "joinChannel" gRPC call is authentic?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-09 12:41</div><div class="msg">the same way that it would make sure that the endorsement call is authentic - it checks the signature on the "message" - and of course the certificate used to sign the "message" must be trusted by the peers</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-09 12:41</div><div class="msg">Maybe I am missing something in the question?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-09 12:46</div><div class="msg">the bottom line is that the entire system is basically based on extracting "identity" from the certificates used to sign "messages / transactions".  And you can either explicitly trust the certificate or the issuer (root authority) of the certificate.  (on top of this, you can also start to use attributes "embedded" in the certificates as well, but the carrier is a certificate)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-09 12:49</div><div class="msg">The cert is included in the joinChannel message?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-09 12:50</div><div class="msg">you're not missing anything in the question, I'm simply wondering whether a peer `p0` can relay that message to another peer `p1` and if `p1` can validate that message, that's all.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-09 12:52</div><div class="msg">I don't see why not - given we are checking the signature of the original submitter and the signature would cover the contents to make sure that have not been changed</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-09 12:53</div><div class="msg">ok thanks, just making sure,</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-09 17:13</div><div class="msg">Hi, @jyellick, @aso, @binhn, @muralisr; so were wondering on the config message payload structure. Would these have a json form?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-09 17:15</div><div class="msg">The reason i am asking is the following: the MSPs would need to understand that message (payload) to evaluate it with the rules associated to that MSP (if e.g., proper signatures have been provided)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-09 17:15</div><div class="msg">just curious @elli is this wrt <a href="https://gerrit.hyperledger.org/r/#/c/2243/">https://gerrit.hyperledger.org/r/#/c/2243/</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-09 17:15</div><div class="msg">And though json seems to be the simples one</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-09 17:15</div><div class="msg">ah never mind :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-09 17:15</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-09 17:15</div><div class="msg">@muralisr indeed</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-09 17:15</div><div class="msg">(the changeset that i am working on)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-09 17:16</div><div class="msg">I was thinking we could find one more use for @jyellick policy framework… is that where you were going with this ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-09 17:16</div><div class="msg">Had a discussion eearlier with @aso on the way an MSP should be updating its state, as well as with @keithsmith earlier.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-09 17:16</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-09 17:17</div><div class="msg">And what do you mean by policy framework?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-09 17:17</div><div class="msg">In my mind certain config tx-s would refer to membership service provider reconfiguration.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-09 17:18</div><div class="msg">Each MSP may have its own rules or policy w.r.t. how the reconfiguration takes place. E.g., MSP 1 may require that CA1 signs configuration changes of MSP1, while MSP2 would require that CA2 signs configuration changes to MSP2.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-09 17:19</div><div class="msg">As configuration changes go through the blockchain and included in special transactions, i am wondering if json would still make sense to be used as an argument passed to the</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-09 17:19</div><div class="msg">MSP reconfigure function... or rather send to it the entire tx...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-09 17:22</div><div class="msg">ok @elli . My question on policy framework is relevant but might be a distraction for your discussion (here’s a change set <a href="https://gerrit.hyperledger.org/r/#/c/1957">https://gerrit.hyperledger.org/r/#/c/1957</a>  though)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-09 17:24</div><div class="msg">we are once again on the verge of making this TOO complex without even getting the piece parts working yet  :wink:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-09 17:26</div><div class="msg">if that’s directed towards my comment @garisingh , I agree :slightly_smiling_face: … my only intent was I saw policy defined and wanted to call out there could be scope for code reusus</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-09 17:29</div><div class="msg">not just you</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-09 17:29</div><div class="msg">yes - agreed on that piece</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-09 17:31</div><div class="msg">hm.. ok, i just put jsn now on the interface, and revise that later if needed :smile:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-09 17:31</div><div class="msg">(moving on to a simpler note)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-09 17:32</div><div class="msg">One way or another, it would be *great* to have a tentative IDP interface merged soon so that on the peer side we can get a sense of what the full endorsement flow looks like</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-09 17:33</div><div class="msg">and I think @elli has one ready, where the format of the configuration is json, right?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-09 17:33</div><div class="msg">sort of :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-09 17:34</div><div class="msg">I have the setup method taking a input json formed string, and a sample of that string</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-09 17:34</div><div class="msg">hence i was wondering if it would make sense to use the same thing for reconfiguration related messages.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-09 17:35</div><div class="msg">@elli got it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-09 17:35</div><div class="msg">thx</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-09 17:37</div><div class="msg">And extending my thought, i was more generally asking/wondering, why cant a reconfiguration messages simply be defined as payload (in json format) that has added a signature on top?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-09 17:37</div><div class="msg">Or is this the way we do it already?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-09 17:48</div><div class="msg">@elli There is an encoding for policy defined you can see in the protos.  As far as specific encodings for certs and such, I was going to leave this to the crypto team</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-09 17:49</div><div class="msg">The configuration messages are defined via protobuf (I don't see why this is inferior to JSON, as you can convert it to/from JSON if you want)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-09 17:49</div><div class="msg">And the payload is essentially key value pairs, where the encoding of the value is simply bytes, likely a marshaled message of whatever form is desired.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-09 17:50</div><div class="msg">Have you seen the configuration section in the "Next Hyperledger-Fabric Architecture Protocol messages" doc?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-09 17:50</div><div class="msg">But wouldn't things be easier if we specified in the configuration the component of the system this configuration refers to and some payload that this component is able to understand?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-09 17:51</div><div class="msg">There is a type attached to the configuration item, which indicates the encoding</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-09 17:51</div><div class="msg">(Though what that encoding is is TBD)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-09 17:51</div><div class="msg">For the policy type, the encoding is a marshaled `Policy` message</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-09 17:52</div><div class="msg">For the orderer/peer/chain types, the encoding is not yet defined</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-09 17:52</div><div class="msg">I have not see i think the configuration part</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-09 17:52</div><div class="msg"><a href="https://docs.google.com/document/d/1qD2zOTxmPoss3Xop_pDdkSXHozIR4N27NEsymosW4Gk/">https://docs.google.com/document/d/1qD2zOTxmPoss3Xop_pDdkSXHozIR4N27NEsymosW4Gk/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-21/82560000166_ed0ccae12e3d1e3dd811_72.jpg" /><div class="message"><div class="username">ratnakar</div><div class="time">2016-11-10 01:27</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-10 07:38</div><div class="msg">@jyellick so i took a look at the configuration section (thanks for sending this along!) and i made some comments therein :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-10 11:22</div><div class="msg">@aso  I answered the JIRA item</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-10 12:43</div><div class="msg">Hi guys another interface available for Peer MSP (manager) here <a href="https://gerrit.hyperledger.org/r/#/c/2385/">https://gerrit.hyperledger.org/r/#/c/2385/</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-10 12:43</div><div class="msg">Just FYI :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-10 12:54</div><div class="msg"><a href="https://gerrit.hyperledger.org/r/#/c/2325/">https://gerrit.hyperledger.org/r/#/c/2325/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-10 13:13</div><div class="msg">So, I posted the change set above because I need the capabilities of the `SecurityAdvisor` in the `gossip/api/channel.go` in the change set to be able to support multi-channels</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-10 13:51</div><div class="msg">@yacovm which jura item, this one <a href="https://jira.hyperledger.org/browse/FAB-1047">https://jira.hyperledger.org/browse/FAB-1047</a> ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-10 13:53</div><div class="msg"><a href="https://jira.hyperledger.org/browse/FAB-1018">https://jira.hyperledger.org/browse/FAB-1018</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-10 13:54</div><div class="msg">oh I actually wrote the item inside the commit, how rare of me</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-10 13:57</div><div class="msg">it is just that I don't see any comment on there</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-10 13:59</div><div class="msg">where?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-11-10 13:59</div><div class="msg">@jonathanlevi uploaded a file: <a href="https://hyperledgerproject.slack.com/files/jonathanlevi/F30S3MFHR/fab-1018.png">https://hyperledgerproject.slack.com/files/jonathanlevi/F30S3MFHR/fab-1018.png</a> and commented: @adc: You aren’t the only one...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-11-10 14:00</div><div class="msg">@jonathanlevi uploaded a file: <a href="https://hyperledgerproject.slack.com/files/jonathanlevi/F310YGK0U/fab-1047.png">https://hyperledgerproject.slack.com/files/jonathanlevi/F310YGK0U/fab-1047.png</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-11-10 14:01</div><div class="msg">Actually, I am not too sure which JIRA item we are talking about (neither has comments, I believe). Maybe it’s a different # ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-10 14:02</div><div class="msg">No, I meant- I referenced the JIRA in the gerrit item</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-10 14:02</div><div class="msg">that's what I was told to do...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-11-10 14:04</div><div class="msg">Oh, you meant in the COMMIT message (not the comment). Sorry, I got it now.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-11-10 14:04</div><div class="msg">I misread it, and went too, to check out the JIRA comments. Sorry :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-11-10 14:06</div><div class="msg">It’s good practice to have the JIRA item referred to in a patchset commit message. We are working to make it easier (so that the JIRA item has a reference to gerrit, so that developers will receive more unified notifications… btw.)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-10 14:07</div><div class="msg">well, I was told to do the opposite- reference the JIRA item in gerrit</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-10 14:08</div><div class="msg">I was doing the opposite before :open_mouth:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-10 14:13</div><div class="msg">@elli Responded to you, and updated the document to reflect some changes made per some feedback from @binhn</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-11-10 14:16</div><div class="msg">@yacovm: we can do both (until we get the JIRA &lt;-&gt; gerrit better integrated). Hope we don’t drive people nuts :wink: It makes the reviewing and auditing of changes much easier.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-10 14:19</div><div class="msg">I was told if I put "FAB-XXX" in the commit message, some magical miracle would happen and the JIRA item would recognize the git commit. It worked one time, but usually doesn't</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-11-10 14:27</div><div class="msg">Yes, there was a plug-in that we were looking into. The “dream” is to have something along the lines of:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-11-10 14:27</div><div class="msg">@jonathanlevi uploaded a file: <a href="https://hyperledgerproject.slack.com/files/jonathanlevi/F308N4MS5/jiragerritreviews.png">https://hyperledgerproject.slack.com/files/jonathanlevi/F308N4MS5/jiragerritreviews.png</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-11-10 14:28</div><div class="msg">But no, we are not there yet. I can/will follow up on this.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-11-17/105786110242_935ef4408463aef05282_72.png" /><div class="message"><div class="username">jinyu</div><div class="time">2016-11-11 07:59</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2bfbbfae5ecb0cc4fc893458bc597123.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">naruhito.t</div><div class="time">2016-11-11 12:43</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f4809ce34b925cbefc5f500cc4413338.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">dave.enyeart</div><div class="time">2016-11-11 15:35</div><div class="msg">Hi, I’ve heard talk of securing peer APIs with access control lists maintained in system chaincode.  Where could I find details of that design?  For example how to lockdown who can call getBlockByNumber() once we expose that to SDK via gRPC?   And if they can call it, can they see all the embedded transaction data including the ReadWriteSets?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dc1e543e8307340caf0b9070f9d3f8f9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">akind</div><div class="time">2016-11-12 08:08</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/69b53252136b66530f12d86c6b076b7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">subzer0</div><div class="time">2016-11-12 20:16</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a40ae078545ec8d873fcea181a6c00e1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">kent_landholm</div><div class="time">2016-11-13 02:08</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-14 11:06</div><div class="msg">Dear, we tried car-lease-demo example from IBM. It seems the ACCESS RIGHTS is on Function-Code-Level instead of Data-Level, right? How do we do ACCESS RIGHTS on different Data access? Thank you. (For example, data record 1 can be read by user A only. data record 2 can be read by user B only etc.) Thank you.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-14 13:06</div><div class="msg">what do you want to achieve?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-14 15:08</div><div class="msg">I want to make different data private to some groups of people</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-14 15:44</div><div class="msg">but you know that all VPs see all data</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-14 16:42</div><div class="msg">@alanlee, that can be implemented iin the same way it is implemented for function access control</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-14 16:42</div><div class="msg">you might want to apply this access control check during a query</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-14 16:42</div><div class="msg">if an entity is query a certain data field, the chaincode will enforce access control</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-14 18:07</div><div class="msg">Hi.
<a href="https://github.com/hyperledger/fabric/blob/master/gossip/api/channel.go">https://github.com/hyperledger/fabric/blob/master/gossip/api/channel.go</a>
In order to support multi-channels, the gossip component needs 2 methods from the MSP (or should I say, the guys that implement the MSP?)
```
	// IsInMyOrg returns whether the given peer's certificate represents
	// a peer in the invoker's organization
	IsInMyOrg(PeerCert) bool

	// Verify verifies a JoinChannelMessage, returns nil on success,
	// and an error on failure
Verify(JoinChannelMessage) error
```
Is that possible to implement?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-14 18:08</div><div class="msg">The JoinChannel message, if it's not clear- is the genesis configuration block sent from the SDK to the peers when a channel is either created or modified</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-11-14 20:49</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-11-14 21:09</div><div class="msg">Hi all, I'm wondering if there has been any thought put into (or perhaps an existing solution, be it external or part of Hyperledger) massive key management?  By that I mean managing many keys per user, say on the order of 1 million keys.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-11-14 21:10</div><div class="msg">One of the motivations here being limiting the damage done in the case of a compromised key by limiting the number of transactions a key can be used for, thereby necessitating management of many keys (for one user).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-15 02:40</div><div class="msg">Thanks @adc and @simon .</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8547dcaee5401f28dcd0ffa431aa85b1.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">silentspark</div><div class="time">2016-11-15 05:23</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-15 11:17</div><div class="msg">@yacovm, so for the former i think a form of truststore is needed indeed. @aso already allured to that in the endorser changeset that he submitted.  For the latter, can u give us more details? We were thinking of adding a function to certify a signature coming from the "authorities" governing  that msp (that is the privileged entities within that msp ) that is defined in some pf the policies the msp has been configured with. If this is the case, i think your verify could be implemented using that..</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-15 11:21</div><div class="msg">@elli , The former what? Method? `IsInMyOrg`?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-15 11:24</div><div class="msg">About `Verify(JoinChannelMessage) error` - this is the to verify the message that the application sends to the peers of a channel in order to make them join a channel, or to update them about a channel's membership</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-15 11:24</div><div class="msg">The message is signed by the app, so I obviously need a way to verify that message</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-15 11:31</div><div class="msg">Not sure if the MSP needs to know what is a join channel message. Some other component can extract the relevant information to verify the signature and ask the MSP to perform the actual verification. The same think is happening in other places</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-15 11:32</div><div class="msg">No?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-15 11:37</div><div class="msg">but see that the `JoinChannelMessage ` is an `interface{}` Meaning- if you guys know the concrete type of the message that is passed from the app, you can simply write code that takes that `interface{}`, cast it to a concrete type that you know and then make the check.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-15 11:38</div><div class="msg">I'm not saying you need to write special code at this moment, all I'm saying- you need to be able to provide the knowledge we (gossip guys) need, and the code details is something we can work on.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-15 11:39</div><div class="msg">Got it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-15 11:40</div><div class="msg">I myself have no idea what the type of the object passed to me from the app, but I need to write the code that handles it as fast as possible for next week, that's why I layered it this way</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-15 11:46</div><div class="msg">Makes sense to me. From my side i expect a module that unpack the join channel message and then asks the MSP about the validity of the signature under a specific policy and give back to you a yes or no</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-15 15:53</div><div class="msg">Question: We would like to do encryption for the data in the chaincode. But we cannot load the private key / public key that we generate. Is there any way to do this? Thank you.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-15 15:54</div><div class="msg">We try to read the local file (Private key) but it seems the local file private key cannot be accessed in the chaincode...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-15 16:00</div><div class="msg">For example, I want to save a variable X="This is a boy" into the blockchain. And I want to encrypt it with my public key. But I cannot access my public key in the local file.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 09:58</div><div class="msg">who is supposed to encrypt it?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 09:58</div><div class="msg">the chaincode?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 09:58</div><div class="msg">or the app using the chaincode</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 09:58</div><div class="msg">@alanlee ^</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-16 12:02</div><div class="msg">I think the chaincode will not encrypt in this level at the moment(Am I correct?). I am thinking of the app level encryption.  Actually, I am open if we can implement either one.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 12:04</div><div class="msg">so if you encrypt in the app</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 12:04</div><div class="msg">then you're all good</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-16 12:04</div><div class="msg">(My objective is to encrypt the data such that only a particular user can view the data.).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-16 12:04</div><div class="msg">How can I do this? because it seems like I cannot access the private key / public key I generated</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 12:05</div><div class="msg">what do you mean</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 12:05</div><div class="msg">the app can do whatever it wants</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 12:05</div><div class="msg">i have the feeling you want to do something in the chaincode, but you're not explicitly saying that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-16 12:05</div><div class="msg">I generate the private key / public key outside the docker container</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-16 12:06</div><div class="msg">For example, Mr. A send a data("XYZ") to Mr. B.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-16 12:06</div><div class="msg">I want only Mr. B to read it. And I don't want Mr. C or Mr. D . to read it. So, I try to encrypt the data by using Mr. B's Key.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 12:07</div><div class="msg">okay</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-16 12:07</div><div class="msg">I intend to import the key that I generate outside the docker container.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-16 12:08</div><div class="msg">(the public key/private key might come from some other authority people)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-16 12:08</div><div class="msg">But I don't know if we can import these key to do the work...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 12:08</div><div class="msg">what is running inside the docker container?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-16 12:08</div><div class="msg">the chaincode.... we write a invoke so that we can put data into the blockchain</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 12:09</div><div class="msg">why does the chaincode need the keys?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-16 12:09</div><div class="msg">we want to encrypt/decrypt the data according to some logic before it is committed to the blockchain</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 12:09</div><div class="msg">so not only B is allowed to see</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 12:09</div><div class="msg">but also the chaincode</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-16 12:10</div><div class="msg">we only want B to see it. Am I wrong in my concept?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 12:10</div><div class="msg">yes of course you are</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-16 12:10</div><div class="msg">the data is supposed to be input via "invoke"</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 12:10</div><div class="msg">you just said you want the chaincode to decrypt it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-16 12:10</div><div class="msg">as parameters</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 12:10</div><div class="msg">so it is not only B, but also the chaincode</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-16 12:11</div><div class="msg">we intend to "invoke" a function in the chaincode.....with parameters as the confidential data "XYZ"....</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-16 12:11</div><div class="msg">the function will then encrypt the data and put it to the blockchain....</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 12:12</div><div class="msg">ah!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 12:12</div><div class="msg">so you want to pass the plain text to the chaincode</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 12:12</div><div class="msg">and the chaincode then is supposed to encrypt it and put it on the blockchain</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-16 12:12</div><div class="msg">And only Mr.B (authenticated B) can trigger the correct query to decrypt and read the data from the blockchain</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-16 12:12</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 12:12</div><div class="msg">yea i think for that you need to use membership services</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 12:13</div><div class="msg">basically use the encryption (confidentiality) implemented in fabric</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-16 12:14</div><div class="msg">Do you mean I can use ECert to do this? I try to get the ECert. But I cannot get the private and public key back.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 12:14</div><div class="msg">why do you want the keys?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-16 12:15</div><div class="msg">I want to use the Mr.B key to encrypt the message so that only Mr.B can decrypt it and read it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 12:35</div><div class="msg">you don't need that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 12:35</div><div class="msg">the fabric does that for you</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 12:36</div><div class="msg">you can identify that B sends a query</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 12:36</div><div class="msg">and in that case you allow access and send the reply</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-16 12:43</div><div class="msg">But how can I put a data to blockchain that specify only "B" can query?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-16 12:44</div><div class="msg">For example, Mr. A will try to put the data and specify only Mr.B can query. Anyway to specify this?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 13:05</div><div class="msg">well, just pass that information as part of the invoke</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 13:05</div><div class="msg">and store this fact in the state</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-16 13:15</div><div class="msg">Right! we can pass "public key" by parameters. But how about "private key"? I shouldn't pass the private key as parameter right, it will be exposed in blockchain data.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 13:15</div><div class="msg">no, just pass the identity</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89f35496695e38c78d5a80fa0904f5ed.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">simon</div><div class="time">2016-11-16 13:16</div><div class="msg">and let fabric do the encryption</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2016-11-16 16:45</div><div class="msg">Thanks Simon. Let me try further</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/271c181053496ccf57faab0ff410fc76.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">webkruncher</div><div class="time">2016-11-18 15:42</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/271c181053496ccf57faab0ff410fc76.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">webkruncher</div><div class="time">2016-11-18 15:42</div><div class="msg">Hello,

I'm trying to get a fabric running with my own certs generated using openssl.  I have two machines running
one named LedgerX, the other named LedgerY.   When LedgerY tries to connect to LedgerY, LedgerY

transport: x509: certificate is valid for LedgerXuser, not LedgerYuser; Reconnecting to ...


The CNs are LedgerX and LedgerY, and the serverhostoverrides are set to be the same on each machine.

Can someone help me out?

Thanks,
-Jmt</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/437931328a6f1342a24c99660b367cff.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">nvlasov</div><div class="time">2016-11-19 02:00</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 15:17</div><div class="msg">Hey, anyone here for a *really* *really* quick (yet urgent) question?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 15:18</div><div class="msg">@aso , @adc @elli  ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-22 15:19</div><div class="msg">go ahead</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 15:20</div><div class="msg">thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 15:21</div><div class="msg">it's about multi-channel support</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 15:21</div><div class="msg">let's say I have a certificate of a peer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 15:21</div><div class="msg">can I know from that certificate, the certificate of the CA of that org?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 15:22</div><div class="msg">or if I can ask in a different way- what can I extract from the peer's certificate about the org's CA?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 15:22</div><div class="msg">The reason I'm asking is of course- I need to do filtering and to only send messages of a certain kind to peers that are in the organizations of the channel</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 15:32</div><div class="msg">(end of question:writing_hand: )</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-11-22 15:37</div><div class="msg">Isn't it a cert chain that you have?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 15:37</div><div class="msg">How would you define a filtering?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 15:37</div><div class="msg">meaning filtering among certificates you already have?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 15:38</div><div class="msg">No, I mean- let's say I'm a peer `p` in org A and I know that this message I have in my hands can only be sent to orgs A, B and C</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 15:38</div><div class="msg">right but atthe moment you do not know an implemented broadcast mechanism</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 15:39</div><div class="msg">"an implemented broadcast mechanism" - what's that?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 15:39</div><div class="msg">oh</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 15:39</div><div class="msg">it has nothing to do with that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 15:39</div><div class="msg">the orderer type is irrelevant</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 15:39</div><div class="msg">given an identity you can derive from there i) the mspid of the MSP that identity claim to belong to, and(ii) validity of that identity within that MSP</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 15:40</div><div class="msg">Meaning that unless you have some sort of contact point for what you call organization A, assuming that thisis represented by an MSP</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 15:40</div><div class="msg">you will not  be able to send a message to all members of A</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 15:40</div><div class="msg">unless you have their contact information + certificate</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 15:40</div><div class="msg">Why not?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 15:40</div><div class="msg">certificate = identity</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 15:40</div><div class="msg">let me rephrase maybe that'll make things more clear:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 15:41</div><div class="msg">I'm a peer `p`  in org A and I have a message `m` that I know I can only send to orgs A, B,C, meaning- to *any* peer in orgs A, B and C.
now comes peer `q`, can  I determine whether `q` is in orgs A, B or C? or not?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 15:42</div><div class="msg">ah fine</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 15:42</div><div class="msg">this would be possible using the orgA MSP</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 15:42</div><div class="msg">that is in that chain's description</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 15:43</div><div class="msg">orgA's MSP is "identical"\equivalent to all peers in org A or something?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 15:43</div><div class="msg">so in each chain we would have a description of the MSPs there in. Ideally there is one MSP per organization</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 15:43</div><div class="msg">MSP = membership service provider</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 15:43</div><div class="msg">in its simpler form consists of a CA</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 15:44</div><div class="msg">yeah I know the acronym but it's also a library name</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 15:44</div><div class="msg">root CA, and certificates of members of that MSP are signed with that root CA's signing key</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 15:44</div><div class="msg">at the chain creation ntime, the MSPManager that is fed the genesis block would instantiate the MSPs described in the genesis block</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 15:45</div><div class="msg">when you say instantiate the MSPs you mean, instantiate the MSPs of each peer in the channel, right?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 15:45</div><div class="msg">at the chain creation, MSP defintiion is accompanied by the id of that MSP, so that identities can reference it and be parsed/evaluated with that MSP</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 15:45</div><div class="msg">so the peer gets the genesis block</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 15:46</div><div class="msg">reads the MSPs included there and asks the chain's MSPManager to create one or more MSP objects as described in the genesis block.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 15:46</div><div class="msg">Using that , the peer can check if a given certificate/identity is a valid identity within the presmise of an MSP</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 15:47</div><div class="msg">so if you have multiple organizations in side the same MSP then you can use the OU inside the certificate for finer grained determination of the org a cert  belongs to</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 15:48</div><div class="msg">OU is equivalent to an organization I presume?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 15:50</div><div class="msg">organization unit</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 15:50</div><div class="msg">could be yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 15:51</div><div class="msg">and if I may be more precise and get to the bottom line- can the MSP (as a component of a peer) give me the following ability:
`OrgByPeerIdentity(PeerIdentityType) OrgIdentityType`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 15:52</div><div class="msg">Meaning- if I have a peer's certificate (what you guys call an identity) - can I derive from it the OU or anything that determines its organization, even if the peer is *from a different org*?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-22 16:08</div><div class="msg">@yacovm - we most definitely need to have that capability</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 16:08</div><div class="msg">yeah I'm just making a double check for: <a href="https://gerrit.hyperledger.org/r/#/c/2705/">https://gerrit.hyperledger.org/r/#/c/2705/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 16:09</div><div class="msg">I'm continuing multi-channel support in gossip this week and I suddenly remembered I haven't changed the already committed API to that phone call we had</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 16:09</div><div class="msg">so I want to make sure this is OK, and then I'll rebase the branch to this branch</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 16:10</div><div class="msg">(I'll end up again with a chain of commits, like I always do lately :slightly_smiling_face: )</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 16:10</div><div class="msg">So I wanted to ensure *they*'re OK with it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-22 16:31</div><div class="msg">mhh, we don't have right now this concept of organization. An MSP instance can represent an organization as Elli was saying. Not sure if this is enough to cover all the cases. Otherwise we have to pretend that MSPs based on different technologies have to support this concept, this might be fine.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-22 16:43</div><div class="msg">@adc - now that we have a basic end to end path working, we need to step back and quickly revisit the whole MSP implementation.  This is unfortunate but not unexpected.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-22 16:43</div><div class="msg">but for sure we need a way to extract "organization" from identities / certificates</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-22 16:44</div><div class="msg">gossip, vscc and orderer (for config) all need this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-22 16:48</div><div class="msg">@garisingh, by organization, do you mean MSP_ID?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 16:50</div><div class="msg">wait wait @adc  this doesn't make sense that you don't have an org-equivalent entity. 
How do you do filtering of which peers are allowed to call `Deliver` on a specific channel? From Elli's google doc I inferred that the ordering service consults the MSP to decide that, and that MSP decides on the org to which the peer belongs to</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-22 16:51</div><div class="msg">I mean, we don't have an org concept exposed by the MSP, the only think close to it can be the MSP_ID</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-22 16:52</div><div class="msg">for instance, if you look at this file configuration file: <a href="https://gerrit.hyperledger.org/r/#/c/2677/1/config-files/peer-init-config.json">https://gerrit.hyperledger.org/r/#/c/2677/1/config-files/peer-init-config.json</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-22 16:52</div><div class="msg">there is a _comment_cert-validation-policy section</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-22 16:52</div><div class="msg">that says what it means for an identity to belong to a specific MSP</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-22 16:53</div><div class="msg">I might be wrong, let's have also Elli validating this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 16:56</div><div class="msg">You mean the principals?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 17:14</div><div class="msg">Ok but certificates/identities contain both information</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 17:15</div><div class="msg">the organization (as standard x509 certificates) and the MSPID of the MSP they refer to</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 17:15</div><div class="msg">I've lost the context you're replying to, Elli</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 17:16</div><div class="msg">Ok, an MSP aims to represent some group of certificates. Ideally this should be connected to one or more organizations.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 17:17</div><div class="msg">This would be reflected to the root certificates included in that MSP validation path. To get the specific organization an identity belongs to, the identity is already equipped with a function to return that identity's organization within that MSP.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-22 17:17</div><div class="msg">What's the name of the function?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 17:17</div><div class="msg">getParticipant() I believ</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 17:17</div><div class="msg">e</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 17:18</div><div class="msg">or getParticipantID()</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 17:18</div><div class="msg">but from a security perspective it is important</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 17:18</div><div class="msg">that it is always considered within the msp this identity belongs to</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-22 17:18</div><div class="msg">And what's the output of that function?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 17:18</div><div class="msg">otherwise malicious MSPs can issue certificates on organizations they do not own/control.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 17:19</div><div class="msg">identity.getParticipantID()</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 17:19</div><div class="msg">no input</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 17:19</div><div class="msg">identity represents the certificate</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-22 17:20</div><div class="msg">I mean, for the x509 based implementation of the MSP, what's the output of that function?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 17:20</div><div class="msg">th ou of that identity</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 17:20</div><div class="msg">certificate</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-22 17:21</div><div class="msg">Okay, I was mislead by the name. Got it! </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 17:23</div><div class="msg">yeah, well we need to finalize the terminology</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-22 17:24</div><div class="msg">Okay, so we can say that what @yacovm  requires is offered by the MSP</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 17:25</div><div class="msg">cause participant somehow at some point meant to represent an organization which was supposed to be represented by an MSP</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 17:25</div><div class="msg">correct</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 17:27</div><div class="msg">So, the method `OrgByPeerIdentity(PeerIdentityType) OrgIdentityType`
In: <a href="https://gerrit.hyperledger.org/r/#/c/2705/4/gossip/api/channel.go">https://gerrit.hyperledger.org/r/#/c/2705/4/gossip/api/channel.go</a> 
Is something that each peer can have and invoke on an identity of any other peer, right? @adc , @elli  ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-22 17:33</div><div class="msg">The answer should be yes at this point :) </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-22 17:34</div><div class="msg">"at this point" is what I fear the most in this project, but that's much better than nothing. 
Thanks :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-22 17:35</div><div class="msg">Right :)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-22 18:29</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-23 08:29</div><div class="msg">@elli, @yacovm: just to better clarify. ParticipantID is supposed to return the x509 Subject's Organization field or OrganizationalUnit field?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/302a64f5f51a7f8dc83c0881f4520eb5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">stevenroose</div><div class="time">2016-11-23 09:56</div><div class="msg">A thought I had this morning</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/302a64f5f51a7f8dc83c0881f4520eb5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">stevenroose</div><div class="time">2016-11-23 09:57</div><div class="msg">How easy is it to do SPV proving on Fabric?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/302a64f5f51a7f8dc83c0881f4520eb5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">stevenroose</div><div class="time">2016-11-23 09:57</div><div class="msg">I'm thinking for IoT purposes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/302a64f5f51a7f8dc83c0881f4520eb5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">stevenroose</div><div class="time">2016-11-23 09:58</div><div class="msg">A tiny device that only has a very limited amount of memory should be able to get reliable information from a chaincode contract with only a few seed nodes known</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-23 11:23</div><div class="msg">@adc - good question above.   Here's my take on what we "allow" in terms of being able to identity unique members/participants/organizations (m/p/o) (using every term I know people currently use - we need to quickly hone in on one):

1) Unique certificate issuing authority  - can either be a unique root or intermediate CA (e.g. each m/p/o uses it's own CA)
2) CAs are shared between m/p/o's .  In this case, unique identification would be the combination of the certificate issuing authority (root/intermediate CA) and a "unique" field(s) in the Subject DN (need to think about how we allow this to be specified).  Maybe it has to be a unique base DN</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-23 12:35</div><div class="msg">Is it reasonable to assume that the certificate will include inside (Some prefix of its OU field) the MSPID/Organization name?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-23 12:37</div><div class="msg">Assuming MSPID is "assigned" by an MSP (application) at chain genesis time, followed by the MSP config info, we could "recommend" that MSPID is some organization name that appears in the OU field of all identities for which MSPManager.isValid(MSPID, identity) returns true.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-23 12:38</div><div class="msg">We had a short discussion over this with @adc, and @aso this morning.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-23 12:54</div><div class="msg">It is indeed safe to assume that we can extract the org / distinct name from the subject DN.   The question is how "prescriptive" are we in terms of the form of the subject DN?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-23 13:16</div><div class="msg">@garisingh so all subjects will have the same DN, and no other entities outside that MSP can have the same DN?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-23 13:18</div><div class="msg">So to absolutely define the OU a subject belongs to, we wouldneed to specify, the chainid, the mspid (which will be equal to the subjects' DN), and OU of the subject where necessary.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-23 13:19</div><div class="msg">To absolutely define the DN of the subject we would need to specify the chain and MSPID the identity (Subject) is valid within (given that MSPID would take its name from its subjects DN).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-23 13:19</div><div class="msg">Am i correct?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-23 13:26</div><div class="msg">Let's assume that we have a single CA and it issues certificates for all the peers for all of / each of the members</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-23 13:26</div><div class="msg">```
So to absolutely define the OU a subject belongs to, we wouldneed to specify, the chainid, the mspid (which will be equal to the subjects' DN), and OU of the subject where necessary.
```
Why the chainID?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-23 13:29</div><div class="msg">So - you might have DNs that looks like:
```
CN=peer1, OU=org1, O=IBM, C=US
CN=peer2, OU=org1, O=IBM, C=US

CN=peer1, OU=org2, O=IBM, C=US
.
.
.
CN=peer2, OU=orgX, O=IBM, C=US

```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-23 13:30</div><div class="msg">in this case, the "baseDN" is always the same :  `O=IBM, C=US` and `OU` is distinct</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-23 13:33</div><div class="msg">so you'd have 2 options:

1) when you register the participant/member/org, you provide the root ca plus an explicit baseDN (the part that would come after the common name (CN)) for example:
```
org1, rootcert,basedn="OU=org1, O=IBM, C=US"
org2, rootcert,basedn="OU=org2, O=IBM, C=US"
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-23 13:35</div><div class="msg">this option is nice because it allows you to use different suffixes for the DN

or

2) you could try to be fancy and just try to extract the `OU` part out</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-23 13:36</div><div class="msg">I prefer option 1 - where basic the CN=enrollID and you require that if you use the same CA you must explicitly list the entire DN suffix / base DN</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-11-23 13:54</div><div class="msg">So, `Subject.OU` is what we'll use to identify the MSP ID for a cert - correct?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-23 14:32</div><div class="msg">so honestly this whole MSP thing confuses me but just wanted to see what would happen with an implementation</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-23 14:33</div><div class="msg">putting that aside, let me try this another way:

I'll start with the VSCC case because I think it is easiest to show what is needed / capture what we could/should do</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-23 14:34</div><div class="msg">(brb - don't let the suspense kill you  :wink: )</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-23 14:51</div><div class="msg">:smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-23 14:57</div><div class="msg">So I'm in VSCC and my goal is to make sure that the transaction conforms to an endorsement policy which says that we need endorsement for 2 out of the 3 "participants/organizations/members (p/o/m)" that are part of the chain/channel.   Of course our endorsement checking is based on digital signatures.   So for each EndorsementResponse in the transaction, we need to verify the signature and extract the  p/o/m.   I'll assume X509 method for now (since honestly I don't know how to do this for IdentityMixer).  So I need the signature and the bytes of the X509 certificate to:

1) validate that this identity comes from a trusted source:

So I extract the X509 certificates bytes and in order to "validate" it I make sure that is was issued by a trusted authority (in this case a certificate authority which is trusted) 

2) obtain the p/o/m 

For step 1) above, we have already figured out the "trusted authority" so now we need to determine if this authority is responsible for multiple p/o/m's.  If responsible for multiple, what can we use from the signing certificate to uniquely identity it's p/o/m ?  Clearly we can't use the CN since we assume that a p/o/m can have multiple peers and it would make sense for the CN to be the enrolled peer "name".   So now we basically have the remainder of the DN to work with.   We could require that you must specify the entire remainder of the DN to identify the p/o/m (easy) or we could require that you have an OU as the start of the remainder of the DN and use that (still easy) or we could allow you to have a variable field in the remainder of the DN and use an expression to extract it (hardest)


3) verify the signature  (of course if X509/PKIX you could really combine 1 and 3   but we'll keep them separate for supporting other mechanisms such as identity mixer)

Standard verify used here based on the type of signature and the algorithm specified as part of the fabric</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-23 15:00</div><div class="msg">So what does this mean coming from the other end - i.e. when you configure a new p/o/m to be part of a chain/channel?    If each p/o/m uses their own certificate authority, then all you need is the their CA cert (and it's full chain if it's an intermediate authority).   If multiple p/o/m's share the same certificate authority, you need to specify the CA cert (and its chain) as well as either the full DN suffix (the part after the CN) or the OU (assuming we force that convention)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-23 15:02</div><div class="msg">So from any X509 public cert used for signing, you should be able to extract the issuer, find that in the list of trusted root authorities and if it has no "DNs" under it, just consider it the p/o/m else match both the issuer and the OU / DN suffix</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-23 15:04</div><div class="msg">So I would have though that we would have different provider types like "X509", "IdentityMixer", etc which we could use when initially "registering / creating / configuring" trusted authorities and that each CA/optional list of DNs would be used to instantiate instances of that type</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-23 15:05</div><div class="msg">seems like we have a lot more complexity right now</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-23 15:07</div><div class="msg">(sorry for the long winded writeup)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-23 15:26</div><div class="msg">so, let me make sure I understood. An MSP  should be instantiated by specifying a type, a set of trusted root certificates (CAs) and for each CA a list of DNs. Now a policy to say that an identity belong to a certain MSP might say something like: the identity must be valid against the trusted root certificates and it has to be in the list of DNs. Am I correct?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-23 15:27</div><div class="msg">pretty close - devil in the details - but yes.  And sometimes if there are no DNs, it's just the root certificate that identifies the p/o/m  (my new term)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-23 16:42</div><div class="msg">Hm, but ok. Lets take the example of a chain where org1 org2 and org3 participate.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-23 16:43</div><div class="msg">their applications talk to each other and each of these orgs provide their msp info</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-23 16:43</div><div class="msg">so org1 uses ca1 as rootca</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-23 16:43</div><div class="msg">org2 uses ca2 as rootca</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-23 16:43</div><div class="msg">and org3 uses ca3 as rootca</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-23 16:44</div><div class="msg">btw, org1, org2, and org3 can be used to identify these msp-is in the chain genesis block</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-23 16:47</div><div class="msg">So in this case steps 1 and 3 are already supported by the MSP interfaces. For (2) one could easily add to the MSPManager a call returning the OU/CN of an id that is redirected to the associated MSP that would include some struct {mspid = {org1, org2, org3}, <a href="http://subject.CN">http://subject.CN</a>, subject.OU}</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-23 16:48</div><div class="msg">would this suffice?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-23 16:49</div><div class="msg">Othwerwise access policies if defined in terms of CAs may need to be updated each time an MSP updates its rootca</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-23 17:20</div><div class="msg">@elli, this also makes sense to me. @garisingh, is Elli closer to what you meant?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-23 17:22</div><div class="msg">@adc @elli @garisingh caveat emptor - I’m worse than a new born babe in these matters…. let me ask one thing please</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-23 17:22</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-23 17:22</div><div class="msg">yes, please :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-23 17:24</div><div class="msg">(1) asks is this ID valid ? … and (3) asks can you verify this signature .  correct ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-23 17:25</div><div class="msg">I’ll wait ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-23 17:26</div><div class="msg">@adc - conceptually @elli is pretty close.  Perhaps my concern/confusion/issue stems from the terminology.  </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-23 17:27</div><div class="msg">if we can use as guideline what Elli said that would be helpful</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-23 17:27</div><div class="msg">@muralisr, I would say yes.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-23 17:28</div><div class="msg">where I was going with this was… (2) seems to say something different …. is it (a) give me the  p/o/m so I (say VSCC) can do further verifications OR (b) can you MSP verify id based on the p/o/m ? the later implies there’s a policy associated with the MSP</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-23 17:29</div><div class="msg">(now I’ll shut up :-))</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-23 17:30</div><div class="msg">I don't equate member with MSP or at least I don't like doing it that way.  We are overall missing the concept of what I called p/o/m and I would look at  its "membership" info as being an attribute of it.  Let me look at the interfaces again but it just seems confusing to me</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-23 17:50</div><div class="msg">@muralisr:   2) comes into play so that you can determine the number of unique p/o/m's from which you have signatures.  This is required because we will allow  multiple peers per p/o/m and don't want to count 2 endorsements from the same p/o/m.
It may be that vscc would not normally need to see this directly depending on how policy enforcement is executed but I could see cases where custom vscc would need to have access to the p/o/m's which endorsed a transaction </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-23 18:01</div><div class="msg">I think I’m getting it @garisingh …</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-23 18:01</div><div class="msg">lets take 2 propositions</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-23 18:01</div><div class="msg">1) 2 out of 3</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-23 18:02</div><div class="msg">2) (POM-1 || POM-2) &amp;&amp; POM-3</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-23 18:03</div><div class="msg">the second one is easy … we can easily ask MSP directly `msp.IsPOM(pom)` and evaluate the expression in VSCC</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-23 18:04</div><div class="msg">the first one illustrates the problem outlineted …. its better stated as (1) 2 unique out of 3</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-23 18:06</div><div class="msg">for (1) then VSCC has to _retrieve_ POM from MSP and then do the checks itself … so what would `msp.GetPOM(cert)` look like ? Hence the discussion on CN, DN, OU etc…. sounded like we need to standardize on some convention to represent POMs for our purpose ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-23 18:10</div><div class="msg">Correct and correct </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-11-23 18:11</div><div class="msg">(whew)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-23 20:28</div><div class="msg">1) Has it been already decided whether peers use SSL certificates signed by COP, or self-signed? 
2) If they are signed by COP, are they *the same* certificates that are used to verify application-layer signatures by the `msp` layer inside the peer?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-24 10:51</div><div class="msg">Hi @yacovm - 

1) I think the real question here is what we support in terms of *trust* with respect to TLS certificates, meaning the most scalable method is to trust at a CA level, but of course we could explicitly trust individual certificates as well.  But we can't support a peer generating a self-signed certificate on the fly without it sharing that certificate with the rest of the network prior to trying to communicate


2) While the same certificate CAN be used for both TLS and signing, not sure whether or not we should require this to be the case.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-24 10:55</div><div class="msg">1) why? What if the peer first connects via ssl and then authenticates using the cop-signed credentials? 
2) ok. I think we should go to the most flexible approach because flexibility is more adaptive</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-24 11:28</div><div class="msg">Let's say that peer1 tries to connect to peer2 via TLS.  peer1 initiates the TLS connection and as part of the TLS handshake peer2 will send out its public TLS certificate.  By default (which is actually secure), peer1 will check the following things:

1) hostname verification -peer1 checks to see whether or not the certificate from peer2 matches the hostname/IP which peer1 used to connect to peer2  (basically either the common name or one of the subject alternative names (SANs) need to match)

2) PKIX checking - peer1 checks to see whether or not it trusts the issuer of the certificate (which means that if it has no knowledge of the certificate itself or the root chain for the certificate it will never establish the TLS connection)

You can override these parameters, but then TLS is essentially useless from a "trust" perspective and could only be used to secure the transport communication</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-24 12:08</div><div class="msg">That's all i'm saying. Maybe you can use tls just for that and authenticate the session in the gRPC handling method</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-24 12:09</div><div class="msg">Or use a signed by cop certificate which will be different than the msp one</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-24 12:09</div><div class="msg">(the one you use to sign messages manually)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-24 12:10</div><div class="msg">But my question is- have these things been decided and coded? @garisingh ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/168a4e05755664d6c207f94299394b80.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">satyam_agl</div><div class="time">2016-11-24 13:47</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3f3e4be17856b20ef27165d2a784e1bd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">warm3snow</div><div class="time">2016-11-26 09:34</div><div class="msg">Hi, guys. How the Tcert is used in the fabric network?  I mean what field is necessary in the Tcert (x.509). From the whitepaper on <a href="http://github.com">http://github.com</a>, I found the content of Tcert includes: [ TcertId,  AES_Encrypt(pre_k, EnrollmentID), AES_Encrypt(TcertOwner_EncryptKey, TcertIndex),  Sign_Verification_PublicKey, Key_Agreement_PublicKey, Validity_period) .etc.  Here I want to know how to put these things into the Tcert.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3f3e4be17856b20ef27165d2a784e1bd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">warm3snow</div><div class="time">2016-11-26 09:37</div><div class="msg">@garisingh @yacovm @muralisr</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3f3e4be17856b20ef27165d2a784e1bd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">warm3snow</div><div class="time">2016-11-26 09:45</div><div class="msg">The same meaning is that how do you guys use the Tcert. Just to verify the user's signature and check if the transaction is modified?  I know users are anonymous in the fabric network, but what's the purpose of attributes in tcertRequest.json.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3f3e4be17856b20ef27165d2a784e1bd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">warm3snow</div><div class="time">2016-11-26 09:46</div><div class="msg">And if it is a must, how can i put all the attributes stuff into the X509 certificates.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-11-26 15:04</div><div class="msg">@warm3snow  - the idea of Tcerts is to provide a mechanism for transactions to be "un-linkable" from the ledger perspective unless an authority provides the "key" to "re-link" the identities.  The primary crypto is how TCert "private keys" are derived from the public enrollment key for an identity (the pre_k and tcert index stuff).   

As you gathered, the only "identities" in the system are provided via the public key which is used to sign transactions (and endorsements in v1.0).  The default mechanism is X509 / PKIX so one includes the X509 public key along with the signature.

While "un-linkable" identities solve one problem, they also create a challenge:  if identity comes from the signing certificates and you never use the same signing certificate twice (as that would defeat un-linkability), how can you make any type of access control decision based on these identities?

In order to solve that problem, we came up with the idea of *optionally* including encrypted attributes as part of TCerts.   In the X509 case, we simply use standard X509 extension attributes as the "carrier" mechanism

So when a batch of TCerts is created, you can specify which attributes to include (assuming they have been associated with the enrollment ID).  In the end, these attributes are included to the certificate signing request for the TCert public key(s) included in the batch</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3f3e4be17856b20ef27165d2a784e1bd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">warm3snow</div><div class="time">2016-11-27 01:48</div><div class="msg">Thank you so so much, @garisingh.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/2e7916706f47141fcd1f2cad1a8440f3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">jjmiranda</div><div class="time">2016-11-28 00:22</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-28 16:25</div><div class="msg">@adc  writing this here so that @aso  and @elli  could see and comment:
so if I add to the `MessageCryptoService` in `gossip/api/crypto.go` something like: 
`ValidateIdentity(peerIdentity PeerIdentityType) error` that'd suffice, right?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-28 16:26</div><div class="msg">The method signature makes sense, we will then see if something needs to be modified when we will go to the implementation</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-28 16:26</div><div class="msg">but you are implementing the interface this week, right?  if so- can we agree on adding that exact string in the meantime?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-28 16:26</div><div class="msg">because I can also make use of that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-28 16:27</div><div class="msg">you mean that method?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-28 16:27</div><div class="msg">yeah</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-28 16:27</div><div class="msg">Yes, I will be working on that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-28 16:27</div><div class="msg">you can already add it to one of your change-set</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-28 16:27</div><div class="msg">and start using it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-28 16:27</div><div class="msg">at some point, we will provide our implementation of that interface</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-11-28 16:37</div><div class="msg">We are working on trying to get JIRA updated with this:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-11-28 16:38</div><div class="msg">This document contains work-items originally assigned to Crypto squad some of which were refined after our face-to-face:

1. MSP/chain configuration  documentation. In RTP we had long discussions on what information needs to be passed to fabric MSPManager and/or to the default MSP (X509 based and/or COP-based). Configuration relates to parameters associated to the crypto material used by each MSP, but also policies that need to be respected to validate certificates/members or to reconfigure an MSP. We reached to certain conclusions that are to be documented with a changeset (partially done here: <a href="https://gerrit.hyperledger.org/r/#/c/2677/">https://gerrit.hyperledger.org/r/#/c/2677/</a>), and by updating its description here <a href="https://docs.google.com/document/d/1_vf5X5WPpECr0PsHM1XfPHB0gmoPJX9j_iGJ5_0mlmI/edit)">https://docs.google.com/document/d/1_vf5X5WPpECr0PsHM1XfPHB0gmoPJX9j_iGJ5_0mlmI/edit)</a> Elli

2. Integration of MSP logic / flow to orderers. Ordering service nodes need to  sign certain proto messages as well as reconfiguration transactions (e.g., genesis blocks). Currently this is done by them directly calling the corresponding crypto library. Here one would need to integrate the MSPManager and related interfaces to do signature generation and verification. Angelo

3. PeerMSP implementation. Here we need to implement the default MSP in golang, that is used by the peer, to parse tcerts/ecerts and confirm signatures generated with these tcerts/ecerts. This is already work that Ale has started within item (5). Ale

4. Integration of MSP Manager / MSP interfaces to the policy framework used for endorsement policies, certificate validation, etc. The policy framework mentioned above leverages an abstractly defined signing and signature verification interface that currently does nothing. We would need to implement that interface using  MSPManager/default MSP. In addition, we may want to extend the MSP interface with the notion of 
MSP membership", e.g., a function that leverages certificate validation mechanisms to decide whether the certificate owner is a member of an MSP or not. This would work as a building block to support "identity group definitions" that could be leveraged inside policies. Ale
    
5. Continue and finalize security work needed on the endorser and committing peer side. VSCC parts that relate to policy evaluation would need to leverage interfaces defined in (3). This item also includes the bootstrapping of the security components of the system using a configuration file, and the components associated to channel security configuration when a channel genesis request is provided to the peer.  Finally this also includes the creation of a a separate MSPManager per channel that is instantiated using the channel genesis block information. Ale
<a href="https://jira.hyperledger.org/secure/RapidBoard.jspa?rapidView=65&amp;view=planning&amp;selectedIssue=FAB-581">https://jira.hyperledger.org/secure/RapidBoard.jspa?rapidView=65&amp;view=planning&amp;selectedIssue=FAB-581</a>
<a href="https://jira.hyperledger.org/secure/RapidBoard.jspa?rapidView=65&amp;view=planning&amp;selectedIssue=FAB-580">https://jira.hyperledger.org/secure/RapidBoard.jspa?rapidView=65&amp;view=planning&amp;selectedIssue=FAB-580</a>
<a href="https://jira.hyperledger.org/secure/RapidBoard.jspa?rapidView=65&amp;view=planning&amp;selectedIssue=FAB-399">https://jira.hyperledger.org/secure/RapidBoard.jspa?rapidView=65&amp;view=planning&amp;selectedIssue=FAB-399</a>
<a href="https://jira.hyperledger.org/secure/RapidBoard.jspa?rapidView=65&amp;view=planning&amp;selectedIssue=FAB-824">https://jira.hyperledger.org/secure/RapidBoard.jspa?rapidView=65&amp;view=planning&amp;selectedIssue=FAB-824</a>

6. Integrate MSP logic for the needs of the gossip network. Gossip squad has defined an interface to obtain a peer signature/verify a signature. We would need to implement this using MSP Manager/interfaces. This item requires collaboration with the consensus squad. Angelo

7. BCCSP support with keystore. We need to provide to BCCSP a pluggable keystore interface, where keys are stored. Angelo</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-11-28 16:38</div><div class="msg">8. Application libraries design &amp; implementation:
        - build a simple and attribute-based invocation access library; at a first stage this would be the definition of an MSP for the application purposes that leverages MSP capabilities to show attribute ownership/verify attribute ownership proof. Elli
        - build a simple (even as a small bc-csp extension of) encryption/decryption library as discussed with Binh. Design all. Implementation: Angelo

9. Security configuration schemas for peer initialization and chain setup. Elli.

    - content for it in changeset <a href="https://gerrit.hyperledger.org/r/#/c/2677/">https://gerrit.hyperledger.org/r/#/c/2677/</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-11-28 16:45</div><div class="msg">Here is discussion from the above copy/paste of information Elli shared---&gt; Gari is wondering how we make this more consumable.  BCCSP seems clear,.. the overall design seems overly- complex though.  COP in itself is x509 and straight forward.   He suggested an incremental approach.    Maybe I need an x509 certificate and we are going to do something based on organization-- all access control is done at org layer,.. map org to it's root.  But what is MFP provider per organization isn't very clear in the specification.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-11-28 16:47</div><div class="msg">I want a create a chain- We decided to support  multiple peers, we are not going to do at an individual peer level.  We are going to do something at an organization level.  I need to have one methodology- x509 based entities.  In simplest terms,.. bank a, b, and c-- they need to provide root authorities they are going to use to issue their certificates.  And then, there is a policy around how people are allowed to change the configuration and that has to be verified.  I don't think you want a policy to change their own MSP- it should be a blockchain wide decision.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-11-28 16:47</div><div class="msg">We seem to be managing individual certificate authorities- but do we really want to support that?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-11-28 16:51</div><div class="msg">Elli thought maybe we need a hardcoded policy for admin access.  She feels you do need to have that some entity needs to have some representation for an administrator.  You may have root certificate authority and another "bank" to be added.  What happens if two entities bank b and c use the same root certificate authority.   Gari-&gt;  Then, we need to come up a model... go get an intermediate authority to issue, but then we would differentiate with distinguished name.  But there is a lot of options here with a lot of complexity that is going to get very confusing. Elli-&gt; We could actually remove some of the extra parameters, but what part do we want static and what do we want configurable?  Configuration does increase the complexity...which can become a problem.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-11-28 16:53</div><div class="msg">Elli agreed with Gari and wondered if we stand back and refactor design after discussion.  Gari is wondering do we start with simplest case and building up perhaps...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-11-28 16:55</div><div class="msg">Maybe what we do in the specification we write it as what problem we try to solve and go step by step on how you solve it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-11-28 17:01</div><div class="msg">Question got asked-&gt; how is the peer expected to learn the Genesis block? Jeff Garrat is concerned about bootstrapping and they are trying to work that out.  On peer side- the genesis block is only there when peer joining channel.  SDK would pass the peer (whichever peer they want on channel) it would send a transaction to system through configuration system chaincode and pass along the genesis block. that CRCC would try to understand and manipulate and start the gossip layer to contact what we call the anchor peers and start up the chain that way.  Of course, eventually they would commit that block into the chain's ledger.  Every ledger would start with genesis block that contains that information.  And that configuration block will be modified at any time.  That CRCC would get the modified information and would go through the same steps.  The first draft of this is out there, but it's not complete yet.  The change set is out there</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-11-28 17:03</div><div class="msg">Assuming we have one MSP manager per chain- who is going to provide the MSP Manager with the root CA for that channel.  Is it always going to come from CRCC?  Or some stores on the peers filesystem?  The MSP Manager is instantiated by some function of the peer or from CRCC.  The part not included is not there yet.  For every chain, there has to be an MSP Manager and a few other things and gossip group as part of that. --- whoever instruments will hand to MSP manager and will hand two things 1) stuff from genesis block 2) the local signing key pair and certificate pair for signing that change.  Yes, that is correct assumption.  The local stuff we get from YAML file currently.  Any combination of peer and CRCC will pass that into the MSP manager per chain.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-29 14:30</div><div class="msg">Hi, you may find here an updated version of the config files for the peer and chain init here:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-29 14:30</div><div class="msg"><a href="https://gerrit.hyperledger.org/r/#/c/2677/">https://gerrit.hyperledger.org/r/#/c/2677/</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-29 14:30</div><div class="msg">Also a diagram depicting the peer init config schema is attached here:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-29 14:30</div><div class="msg">@elli uploaded a file: <a href="https://hyperledgerproject.slack.com/files/elli/F38U4H6CF/msp-config-diagram.ppt">https://hyperledgerproject.slack.com/files/elli/F38U4H6CF/msp-config-diagram.ppt</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-29 14:52</div><div class="msg">@tuand , @jyellick you asked the mapping between this config and the configuration protos</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-29 14:53</div><div class="msg">IMHO since we now have no configurable policiess on the MSP side, we can represent each MSP's configuration as a single configuration item, whose modification policy would point to that MSP's admin</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-29 14:55</div><div class="msg">For chain readers/writers/deployers we would need the approval of chain admins</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-29 14:55</div><div class="msg">I haven't had a chance to review your changes since my comment, but, there was lots of other information in there, like ordering client byzantine assumptions etc.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-29 14:55</div><div class="msg">right</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-29 14:55</div><div class="msg">this was based on the discussion we had</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-29 14:56</div><div class="msg">it can be that ordering service client component is already another config item with that ordering service admin implementing the modification policy for that item</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-29 14:57</div><div class="msg">overall chain config includes:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-29 14:57</div><div class="msg">- list of msps: this is one config item per msp, with  modification policy that msp's admin</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-29 14:58</div><div class="msg">- ordering service client config including the orderers certs, f, and one or more admin certificates: modification policy for that would be the hardcoded one provided by the admin certs</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-29 14:59</div><div class="msg">- chain permissions, for which modification policy is the hardcoded chain admin</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-29 14:59</div><div class="msg">- and chain admin a list of certificates again that need to cosign things.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-29 15:00</div><div class="msg">Does it make sense?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-29 15:02</div><div class="msg">Loosely yes, but it is the details that I'm wondering about.  Concretely, what are the configuration items, their types, keys, values (with encoding), and modification policies (by name).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-11-29 15:02</div><div class="msg">Basically what we started doing on the board in RTP the day your flight left</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-29 15:05</div><div class="msg">right so, to me there are no longer policies that need to appear in the chain sort of, cause "policies" are fixed (at least for the MSP) and hence relate to a list of certificates.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-29 15:05</div><div class="msg">So as soon as we have the list of root certificate for an MSP, we use that one to validate certificates.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-29 15:06</div><div class="msg">MSP admin is also a dedicated certificate that cn be the same as the root CA</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ee0484660c6f1534b4390ab6876c69b7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">anton</div><div class="time">2016-11-29 15:14</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-29 15:16</div><div class="msg">Ok, so how about say we have single item per MSP configuration, with key MSP.msipd, and value string (that would contain that json version of PublicMSP struct).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-29 15:17</div><div class="msg">+1</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-29 17:17</div><div class="msg">Also a writeup on the MSPs and ACLs is here: <a href="https://docs.google.com/document/d/1Qg7ZEccOIsrShSHSNl4kBHOFvLYRhQ3903srJ6c_AZE/edit?usp=sharing">https://docs.google.com/document/d/1Qg7ZEccOIsrShSHSNl4kBHOFvLYRhQ3903srJ6c_AZE/edit?usp=sharing</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-29 17:46</div><div class="msg">@elli , @adc  I coded what we talked about yesterday about the TLS bindings. I added you as reviewers <a href="https://gerrit.hyperledger.org/r/#/c/2841/">https://gerrit.hyperledger.org/r/#/c/2841/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-11-29 17:47</div><div class="msg">Cool. I will have a look at it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-29 17:49</div><div class="msg">thanks, may you also add @aso please :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-29 17:53</div><div class="msg">to the reviewers? I did...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-11-29 17:59</div><div class="msg">merci!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/33d53710739bfe1a2f347a311838fc83.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">fan.torchz</div><div class="time">2016-11-29 18:00</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-11-29 18:01</div><div class="msg">@yacovm: no “_” (underscores) in file names please! :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-11-29 18:02</div><div class="msg">huh? you mean comm and gossip impl? well, you're right. I'll change that, but that doesn't have anything to do with this commit.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-11-29 18:05</div><div class="msg">Yes, the comm_impl and the gossip_impl. Sure, I know it was there before - thanks for changing it!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b8022683a0fbb0ef876fb86ffc366508.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">lovesh</div><div class="time">2016-11-30 06:46</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/271c181053496ccf57faab0ff410fc76.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">webkruncher</div><div class="time">2016-11-30 20:45</div><div class="msg">Is there a way to start a validating peer without using docker?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-01 15:57</div><div class="msg">in 0.6, you can run a peer in debug mode without using docker</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-01 15:57</div><div class="msg">@webkruncher - you can always build binaries</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-23/37213981696_0d187cd88006dda23ad8_72.jpg" /><div class="message"><div class="username">nits7sid</div><div class="time">2016-12-01 15:58</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-01 15:58</div><div class="msg">I believe `make peer` will do this for you</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-01 15:58</div><div class="msg">BUT - if you want to try to get a network up and running, Docker / Docker compose is the easiest route</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-12-01 19:54</div><div class="msg">@aso @adc What was the motivation for picking a `[]byte` for the `chainID` as opposed to a `string`?  In one of @muralisr's recent changesets, he was referencing chainID by string and then converting it to a byte at the end.  The string value has some advantages like being able to be used as a key in a map.  @binhn had suggested  changing the data structure, what do you think?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-01 20:01</div><div class="msg">it its a string it should be a string  :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-12-01 20:16</div><div class="msg">I think the idea was that it was a hash of some things, which, obviously can be represented as a hex string or something, but, it will be more compact in a byte representation.  Enough more compact that we care?  I doubt it, but maybe there are some other encoding problems with a string representation? I wouldn't think so, but since @aso and @adc picked bytes, I thought I'd make sure there wasn't some reason I'm blind to</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-01 20:18</div><div class="msg">Hi All, if I remember well in 0.6 the ChaincodeID is bytes because we wanted to encrypted it. We opted for the same in v1 having that in mind. Actually, string shouldn’t be a big problem, we can always encode in base64 a ciphertext and put in a string.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-12-01 20:25</div><div class="msg">@adc chainID is different from ChaincodeID … and ChaincodeID was bytes only because it was a composite struct {path, name}</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-01 20:26</div><div class="msg">oh then that was good for us already :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-01 20:29</div><div class="msg">anyway, it is fine to me to move it to string</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-12-01 21:09</div><div class="msg">now that Block2 change has been done, I’ll take care of the remaining easy proto changes today (did I jinx it already  :slightly_smiling_face: )</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-12-02 09:19</div><div class="msg">as a matter of fact, there's a bunch of fields which are `[]byte` because of the reason Angelo mentioned. This should be revisited</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-12-02 09:20</div><div class="msg">@jyellick @muralisr @adc can we quickly go through the protobufs and decide what has to stay a byte array and what can become an actual type?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-12-02 09:25</div><div class="msg">examples:
 - Proposal.Header
 - ProposalResponse.Payload</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-12-02 09:25</div><div class="msg">(there are probably others)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-02 10:11</div><div class="msg">I guess, those need to stay bytes for the marshaling issue, no?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-12-02 11:58</div><div class="msg">@aso, @adc … just saw this.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-12-02 11:58</div><div class="msg">I thought ChainID was the only one left @aso .. can you given an example (or list) of others that may need to be changed ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-12-02 12:27</div><div class="msg">btw opened <a href="https://jira.hyperledger.org/browse/FAB-1252">https://jira.hyperledger.org/browse/FAB-1252</a> for chainID fix and will work on it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-02 12:37</div><div class="msg">Thanks Murali</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/271c181053496ccf57faab0ff410fc76.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">webkruncher</div><div class="time">2016-12-02 14:42</div><div class="msg">@adc @garisingh - thanks...  I'm trying to get two computers networked so I can add chaincode on one, and query from the other.  I see that it's easy to do with two different nodes on the same computer, but I haven't been able to get to machines networked right, with or without docker.  Do I need tls enabled?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-02 15:19</div><div class="msg">if it is just for testing, you don't need to activate TLS</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/271c181053496ccf57faab0ff410fc76.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">webkruncher</div><div class="time">2016-12-02 15:26</div><div class="msg">I'm using CORE_PEER_DISCOVERY_ROOTNODE to specify the other computer in my docker-compose.yml - is this the right way to do it?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-02 15:27</div><div class="msg">it would need to be the "public" IP / hostname of the remote computer (not the compose service name)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/271c181053496ccf57faab0ff410fc76.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">webkruncher</div><div class="time">2016-12-02 15:28</div><div class="msg">What port should I use?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-02 15:28</div><div class="msg">you also need to make sure that you are exposing the ports</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/271c181053496ccf57faab0ff410fc76.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">webkruncher</div><div class="time">2016-12-02 15:29</div><div class="msg">The ports are exposed through the Vagrantfile, right?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/271c181053496ccf57faab0ff410fc76.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">webkruncher</div><div class="time">2016-12-02 15:54</div><div class="msg">I made sure the firewall is off, but I get errors... vp4_1 | 15:51:28.158 [peer] chatWithPeer -&gt; ERRO 056 Ending Chat with peer address 10.101.3.140:7053 due to error: Error creating handler during handleChat initiation: Error creating PeerHandler: Error creating new Peer Handler, error returned sending DISC_HELLO: Error Sending message through ChatStream: rpc error: code = 13 desc = transport is closing</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/271c181053496ccf57faab0ff410fc76.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">webkruncher</div><div class="time">2016-12-02 16:02</div><div class="msg">I've also tested to make sure that machine 2 can serve a simple python script on ports 7051&amp;3, and is accessible by machine 1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-02 16:20</div><div class="msg">so are you running Vagrant on two machines?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-02 16:20</div><div class="msg">I'd advise not using Vagrant and just running Docker directly on both of the host machines</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/271c181053496ccf57faab0ff410fc76.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">webkruncher</div><div class="time">2016-12-02 16:26</div><div class="msg">k - sounds like this has nothing to do with tls - I'll keep my posts in 'fabric' - thanks for the help</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-02 16:57</div><div class="msg">@webkruncher (Jack), yes, #fabric and/or #fabric-dev will do.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-02 16:58</div><div class="msg">We have merged some stuff this morning to `master`, focusing much more on docker, also for build/development.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/58557ce5810547ca9a5b40f48ff64120.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">imas</div><div class="time">2016-12-04 20:10</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b0b4cb0642cfa1ca658ba3e88d6ccc8a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">vinayak</div><div class="time">2016-12-05 10:24</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-05 16:40</div><div class="msg">@garisingh @jzhang @binhn @muralisr @keithsmith @elli @aso @jonathanlevi Hi All, I have submitted this change-set <a href="https://gerrit.hyperledger.org/r/#/c/2983/">https://gerrit.hyperledger.org/r/#/c/2983/</a> to address ECDSA signature malleability</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-05 16:40</div><div class="msg">somthing that also bitcoin had to address in the past <a href="https://github.com/bitcoin/bips/blob/master/bip-0062.mediawiki">https://github.com/bitcoin/bips/blob/master/bip-0062.mediawiki</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-05 16:41</div><div class="msg">I would like to ask to have a look at it, especially everyone who is working on client-sdks.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-05 16:41</div><div class="msg">The change-set that I have submit enforces the same validity rules that bitcoin is enforcing on ecdsa signatures</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-05 16:42</div><div class="msg">it means that the client-sdks have to generate signatures in accordance in order to avoid rejection from the fabric</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e1f4c066e5ac297dd425eafbf2abcf40.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">gemsiva</div><div class="time">2016-12-05 21:06</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/113703886868_3083b7e8caa3974d5752_72.jpg" /><div class="message"><div class="username">yuwei</div><div class="time">2016-12-06 03:22</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/363316f61d278175a2f33f464eb02754.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">daniellee</div><div class="time">2016-12-06 08:05</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-06/113325442212_fa1baedad8fe419d5682_72.png" /><div class="message"><div class="username">synblockchainteam</div><div class="time">2016-12-06 15:10</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-06/113325442212_fa1baedad8fe419d5682_72.png" /><div class="message"><div class="username">synblockchainteam</div><div class="time">2016-12-06 15:12</div><div class="msg">I would like to ask following query regarding Hyperledger v0.6 :

While executing Invoke() method of sample application "authorizable_counter"  with rest call, we encounter "Failed retrieving extension".

On digging the code, we noticed that "1.2.3.4.5.6.9" Object Identifier is missing in certificate extension during x509.GetCriticalExtension() API execution. ( Any clue? )

Did someone face similar issue?
Thanks.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-06 16:15</div><div class="msg">Hi @synblockchainteam, the issue is that using REST you cannot specify which attributes to included in TCert</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-06 16:15</div><div class="msg">you should use the client-sdk for that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-07 07:37</div><div class="msg">@synblockchainteam I had that issue, and I believe it was because I had to enable the ACA (attribute certificate authority)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-07 07:39</div><div class="msg">I set MEMBERSRVC_CA_ACA_ENABLED=true on my membersrvc process, but I also set aca: enabled: true in my custom membersrvc.yaml.  I remember having trouble if I didn't set the env var MEMBERSRVC_CA_ACA_ENABLED, and I haven't put the time in to resolve it.  Ideally no env var would be necessary, it would just get the configuration from my membersrvc.yaml.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-06/113325442212_fa1baedad8fe419d5682_72.png" /><div class="message"><div class="username">synblockchainteam</div><div class="time">2016-12-07 08:04</div><div class="msg">We are passing following payload while calling "invoke" method with REST call....

		{
		  "jsonrpc": "2.0",
		  "method": "invoke",
		  "params": {
		      "type": 1,
		      "chaincodeID":{
		          "name":"au"
		      },
		      "ctorMsg": {
		         "function":"increment",
		         "args":[]
		      },
		      "secureContext": "diego"
		  },
		  "id": 4
		}

Please let us know if its correct?

Thanks</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-07 08:34</div><div class="msg">looks good to me -- I'm comparing against "Invoke Request with security enabled:" under <a href="https://github.com/hyperledger/fabric/blob/master/docs/protocol-spec.md#6213-chaincode-api">https://github.com/hyperledger/fabric/blob/master/docs/protocol-spec.md#6213-chaincode-api</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-07 08:34</div><div class="msg">I never got around to using the REST API with security enabled though, so I have no direct experience</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-07 08:35</div><div class="msg">@synblockchainteam What sort of application are you driving chaincode from?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-06/113325442212_fa1baedad8fe419d5682_72.png" /><div class="message"><div class="username">synblockchainteam</div><div class="time">2016-12-07 08:53</div><div class="msg">Thanks for your reply. 
We are using postman as REST client.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-06/113325442212_fa1baedad8fe419d5682_72.png" /><div class="message"><div class="username">synblockchainteam</div><div class="time">2016-12-07 09:04</div><div class="msg">@vdods, We have already set enabled = true attribute inside membersrvc.yaml under security ACA section.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-07 09:17</div><div class="msg">Make sure to try setting MEMBERSRVC_CA_ACA_ENABLED=true as well -- I remember it not working unless I had the env var set</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-06/113325442212_fa1baedad8fe419d5682_72.png" /><div class="message"><div class="username">synblockchainteam</div><div class="time">2016-12-07 09:25</div><div class="msg">Thanks, i will try this now.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-06/113325442212_fa1baedad8fe419d5682_72.png" /><div class="message"><div class="username">synblockchainteam</div><div class="time">2016-12-07 09:35</div><div class="msg">We tried this also with during setting up validating peer as below ...
MEMBERSRVC_CA_ACA_ENABLED=true peer node start --peer-chaincodedev

Unfortunately, it didn't work again.
Thanks.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-07 09:35</div><div class="msg">Ah, no that has to be done on membersrvc</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-06/113325442212_fa1baedad8fe419d5682_72.png" /><div class="message"><div class="username">synblockchainteam</div><div class="time">2016-12-07 09:37</div><div class="msg">Earlier we tried that in membersrvc.yaml file under the aca: section...

          # Enabling/disabling Attribute Certificate Authority, if ACA is enabled attributes will be added into the TCert.
          enabled: true</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-06/113325442212_fa1baedad8fe419d5682_72.png" /><div class="message"><div class="username">synblockchainteam</div><div class="time">2016-12-07 09:37</div><div class="msg">By getting the same result, it seems, both do the same thing.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-07 09:39</div><div class="msg">Hmm.. sorry, I did encounter that problem but perhaps I'm misremembering what caused it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-07 09:40</div><div class="msg">Can you verify that in your membersrvc logs (where, you have MEMBERSRVC_CA_LOGGING_ACA=info), you see "[aca] Start -&gt; INFO 002 Staring ACA services..." .. I just want to be sure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-06/113325442212_fa1baedad8fe419d5682_72.png" /><div class="message"><div class="username">synblockchainteam</div><div class="time">2016-12-07 09:52</div><div class="msg">Please let us know the location of MEMBERSRVC_CA_LOGGING_ACA=info</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-07 09:55</div><div class="msg">all env vars that start with MEMBERSRVC_CA are for membersrvc</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-07 09:55</div><div class="msg">similarly, all CORE_PEER env vars are for the peer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-06/113325442212_fa1baedad8fe419d5682_72.png" /><div class="message"><div class="username">synblockchainteam</div><div class="time">2016-12-07 09:58</div><div class="msg">We are using membersrvc.yaml that is bundeled with Hyperledger v 0.6, in which there is no such variable MEMBERSRVC_CA_LOGGING_ACA abailable. 

Whereas while we googled, we could found the same variable in the "<a href="https://raw.githubusercontent.com/IBM-Blockchain/fabric-images/master/docker-compose/base/membersrvc.yaml">https://raw.githubusercontent.com/IBM-Blockchain/fabric-images/master/docker-compose/base/membersrvc.yaml</a>"

Can we include all the desired variables from this yaml into ours. ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-07 10:01</div><div class="msg">There are two ways to specify configuration values -- they're both via this library "viper".  One is via the command line, e.g. MEMBERSRVC_CA_ACA_ENABLED.  This turns into the viper key "membersrvc.ca.aca.enabled", so for example, you could search for aca.enabled and find ```	srv := grpc.NewServer(opts...)

	if viper.GetBool("aca.enabled") {
		logger.Debug("ACA was enabled [aca.enabled == true]")
		aca.Start(srv)
	}
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-07 10:01</div><div class="msg">that's in server.go</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-07 10:02</div><div class="msg">The yaml files specify configuration values via the viper names, i.e. lower-case, where the periods delimit elements of the hierarchy of config vars</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-07 10:02</div><div class="msg">so it's really just two ways to specify config values.. you might use env vars in a docker-compose.yml file</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-06/113325442212_fa1baedad8fe419d5682_72.png" /><div class="message"><div class="username">synblockchainteam</div><div class="time">2016-12-07 10:15</div><div class="msg">Yes, its found in the "<a href="http://github.com">http://github.com</a>\hyperledger\fabric\membersrvc\server.go" file. which is set as true...

	srv := grpc.NewServer(opts...)

	if viper.GetBool("aca.enabled") {
		logger.Debug("ACA was enabled [aca.enabled == true]")
		aca.Start(srv)
	}
	eca.Start(srv)
	tca.Start(srv)
	tlsca.Start(srv)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-07 10:22</div><div class="msg">I mean -- do you see `[aca] Start -&gt; INFO 003 Staring ACA services...` in your membersrvc log?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-06/113325442212_fa1baedad8fe419d5682_72.png" /><div class="message"><div class="username">synblockchainteam</div><div class="time">2016-12-07 10:33</div><div class="msg">Is this message in the validation peer terminal's log? if so, we are unable to see that message.

However, we could find this log "10:35:12.516 [logging] LoggingInit -&gt; DEBU 001 Setting default logging level to DEBUG for command 'aca'" while we execute membersrvc command in the fabric folder</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c4b428b32f7ffef69e247245bef40549.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">thomas_g</div><div class="time">2016-12-07 10:37</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-06/113325442212_fa1baedad8fe419d5682_72.png" /><div class="message"><div class="username">synblockchainteam</div><div class="time">2016-12-07 10:43</div><div class="msg">in the validating terminal's logs, we could notice following logs :

10:39:40.479 [nodeCmd] serve -&gt; INFO 002 Running in chaincode development mode
10:39:40.479 [nodeCmd] serve -&gt; INFO 003 Set consensus to NOOPS and user starts chaincode
10:39:40.479 [nodeCmd] serve -&gt; INFO 004 Disable loading validity system chaincode

Any clue?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-07 18:51</div><div class="msg">@symblockchainteam No, the log message I'm referring to should be from membersrvc</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-07 19:54</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-07 19:59</div><div class="msg">I'm trying to enable TLS between an orderer and a Kafka broker ...  This requires me to populate a tls.Config struct with the orderer's certificate and CA certificate ( as golang Certificates <a href="https://godoc.org/crypto/tls#Certificate">https://godoc.org/crypto/tls#Certificate</a> )</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-07 20:00</div><div class="msg">i think I should be able to get the certs from the orderer's FabricMSP ?  is there an API I can use ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-08 07:26</div><div class="msg">Hi Tuan, right now, we don't have in place already TLS certificates to use. @garisingh @keithsmith, how are we proceeding here?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-08 09:14</div><div class="msg">Are the orderer shim and the kafka nodes running on different hosts? (I'm asking- what is the preferable design, not if they *technically* can do that)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-06/113325442212_fa1baedad8fe419d5682_72.png" /><div class="message"><div class="username">synblockchainteam</div><div class="time">2016-12-08 09:31</div><div class="msg">@vdods, Following is the log of membersrvc...

vagrant@hyperledger-devenv:v0.0.11-ee5b85c:/opt/gopath/src/github.com/hyperledger/fabric$ membersrvc

09:12:45.554 [server] main -&gt; INFO 001 CA Server (0.6.2-preview-snapshot-ee5b85c)
09:12:45.738 [aca] Start -&gt; INFO 002 Staring ACA services...
09:12:45.739 [aca] startACAP -&gt; INFO 003 ACA PUBLIC gRPC API server started
09:12:45.739 [aca] Start -&gt; INFO 004 ACA services started
09:12:45.739 [eca] Start -&gt; INFO 005 Starting ECA...
09:12:45.740 [eca] startECAP -&gt; INFO 006 ECA PUBLIC gRPC API server started
09:12:45.740 [eca] startECAA -&gt; INFO 007 ECA ADMIN gRPC API server started
09:12:45.741 [eca] Start -&gt; INFO 008 ECA started.
09:12:45.741 [tca] Start -&gt; INFO 009 Staring TCA services...
09:12:45.742 [tca] startTCAP -&gt; INFO 00a TCA PUBLIC gRPC API server started
09:12:45.743 [tca] startTCAA -&gt; INFO 00b TCA ADMIN gRPC API server started
09:12:45.743 [tca] Start -&gt; INFO 00c TCA started.
09:12:45.744 [tlsca] Start -&gt; INFO 00d TLSCA started.
.
.
.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-06/113325442212_fa1baedad8fe419d5682_72.png" /><div class="message"><div class="username">synblockchainteam</div><div class="time">2016-12-08 09:33</div><div class="msg">[aca] specific logs are present here...

[aca] Start -&gt; INFO 002 Staring ACA services...
.
.
[aca] Start -&gt; INFO 004 ACA services started</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-06/113325442212_fa1baedad8fe419d5682_72.png" /><div class="message"><div class="username">synblockchainteam</div><div class="time">2016-12-08 12:57</div><div class="msg">Hi,

Can anyone tell me the use of "TCertAttributesHeaders = asn1.ObjectIdentifier{1, 2, 3, 4, 5, 6, 9}" in the "<a href="http://github.com">http://github.com</a>\hyperledger\fabric\core\crypto\attributes\attributes.go" file.

Thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-08 13:21</div><div class="msg">Hi @synblockchainteam, that was used to identify the x509 extensions containing attributes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-08 13:22</div><div class="msg">It clearly needs a better version number, @keithsmith @ashutoshkumar do you have more info on the status of that field?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2016-12-08 13:22</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-08 13:54</div><div class="msg">@kostas  ? <a href="https://hyperledgerproject.slack.com/archives/fabric-crypto/p1481188491000058">https://hyperledgerproject.slack.com/archives/fabric-crypto/p1481188491000058</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-12-08 13:56</div><div class="msg">@yacovm: Yes. (Thanks for the heads up @tuand.)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-06/113325442212_fa1baedad8fe419d5682_72.png" /><div class="message"><div class="username">synblockchainteam</div><div class="time">2016-12-08 14:10</div><div class="msg">@adc
Thanks for your reply.

I encountered an error "Failed retrieve extension" in primitives.GetCriticalExtension() api, while testing "invoke" method of "authorizable_counter" sample application of fabric v0.6</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-08 14:13</div><div class="msg">@kostas  - why?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-12-08 14:14</div><div class="msg">Because I may want 100 shims and 10 brokers.  There is not a one-to-one mapping necessarily. </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-08 14:15</div><div class="msg">@adc,  should `SigningIdentityInfo.Public_Signer` be the cert I use for TLS ?  would need an MSP call to get that info.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-08 14:35</div><div class="msg">actually, that's the enrollment certificate. I think we should use different certificates and keys for that. @aso @elli @keithsmith  @garisingh what's your take on this?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-08 14:40</div><div class="msg">Aren't TLS certificates self signed currently?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-08 14:47</div><div class="msg">that is what @yacovm is doing but I think @garisingh is putting in place another tls infrastructure, not sure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-08 14:49</div><div class="msg">huh? what?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-08 14:49</div><div class="msg">@elli, @adc  also, kafka has its own infrastructure for TLS  ... we are using the sarama package in the orderer to act as the Kafka client</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-08 14:49</div><div class="msg">no I'm not</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-08 14:50</div><div class="msg">tuand- where does sarama obtain the TLS certificates from?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-08 14:51</div><div class="msg">does it even do mutual TLS?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-08 14:51</div><div class="msg">so on the orderer side, we need to give sarama  a cert+CA cert for its configuration</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-08 14:51</div><div class="msg">sarama does do mutual auth</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-08 14:52</div><div class="msg">And how does Kafka verify the client certs of sarama? is it also configured there in files or something?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-08 14:53</div><div class="msg">yes, the kafka broker side is configured via properties files <a href="https://jira.hyperledger.org/browse/FAB-701">https://jira.hyperledger.org/browse/FAB-701</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-08 14:55</div><div class="msg">in another context- @adc  we only use self signed SSL certificates for unit tests. When the gossip runs inside the peer, a different constructor is used, and the gRPC service instance is passed from the peer to the gossip constructor.  Also, the Dialoptions are passed,  and a client TLS option can be included in that.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-08 15:10</div><div class="msg">@yacovm, got it. @tuand So, for kakfa we need a proper TLS infrastructure. I guess, the administrator of the kafka network is in charge of put in place such a network and release appropriate TLS certficates for the client (in our case the orderers), no?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-08 15:20</div><div class="msg">we only want orderers from known orgs to connect to kafka  ...  so we need to give the kafka admin our org CA certs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-08 15:21</div><div class="msg">Kafka admin will in turn give us the CA cert for the Kafka brokers</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-08 15:23</div><div class="msg">but the orderers then need a TLS certificate signed by an authority that the kafka netwrok trusts</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-08 15:23</div><div class="msg">no?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-08 15:26</div><div class="msg">right ...  we would put our org CA certs into Kafka's truststore  ...   when an orderer connect , it uses a certificate signed by one of our CAs  so Kafka will accept the connection</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-05/31983107923_80db5353e9278df980c7_72.png" /><div class="message"><div class="username">kostas</div><div class="time">2016-12-08 15:29</div><div class="msg">(Not following this discussion closely, but I just want to put it out there: @tuand let's make sure that whatever flow we adopt also works for this case: org A owns brokers 0-2, org B owns brokers 3-6, etc. This may or may not be completely orthogonal to the discussion.)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-08 15:31</div><div class="msg">right,  kafka admin(s)  might give us multiple CA certs which orderer would need to slurp in via a configurationItem</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-08 15:44</div><div class="msg">mhh, not clear, Tuan, you first said that fabric will put CA certs in kafka and then you said the opposite confirming what Kostas was saying, no? Am I missing something?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-08 15:53</div><div class="msg">the orderers need to have the Kafka brokers CA certs and Kafka needs to have the orderers' CA certs   ...   now, you can have multiple orgs owning kafka brokers or you can have a totally separate group owning kafka brokers   ... we're ok as long as each side of the connection has the other side's CA certs so they can check incoming connection requests</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-08 15:56</div><div class="msg">ah okay, this I parse. I agree.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-08 15:57</div><div class="msg">now, who is gonna generate TLS certificates?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-08 15:57</div><div class="msg">I think it is not recommended to use the enrollment certificate for that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-08 15:57</div><div class="msg">it took me days to figure out what kafka wanted ! :weary:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-08 15:58</div><div class="msg">heheh :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-08 16:00</div><div class="msg">let me parse a bit further :wink:   so exchanging CA certs between Orderers and Kafka should not be problem because we have them and we will exchange out of band</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-08 16:00</div><div class="msg">right</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-08 16:01</div><div class="msg">orderer needs a signed certficate specifically for TLS  and we need to see which component should generate</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-08 16:01</div><div class="msg">correct</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-08 16:02</div><div class="msg">I think @garisingh is working on something to address this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-08 16:02</div><div class="msg">not sure, I might be wrong</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-08 16:04</div><div class="msg">can I just use golang crypto and info from MSP to generate this cert ?   All i need is a cert signed by my CA and I already have my CA cert</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-08 16:04</div><div class="msg">unfortunately, the MSP does not give you that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-08 16:05</div><div class="msg">it cannot generate certificates</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-08 16:05</div><div class="msg">you need COP, probably</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-08 16:06</div><div class="msg">aha, another entry in the orderer genesis block I guess</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-08 16:07</div><div class="msg">still need to have someone generate before bootstrap then</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-08 16:16</div><div class="msg">@tuand - I am working on a GRPC server implementation which will need to deal with similar issue(s).  So hopefully we can leverage some of that work.  I'll try to post a WIP change set so we can see what pieces to factor out into a common piece</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-08 19:03</div><div class="msg">Hi all, what are the configuration vars relevant to choosing if ECerts or TCerts will be used in transactions?  The docs mention that two schemes can be used -- look for "depending on whether the transaction is anonymous" under <a href="https://github.com/hyperledger/fabric/blob/master/docs/protocol-spec.md#433-replay-attack-resistance">https://github.com/hyperledger/fabric/blob/master/docs/protocol-spec.md#433-replay-attack-resistance</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-08 19:12</div><div class="msg">I'm finding it difficult to write code using TCerts only (though I believe what I'm doing should eventually be possible this way), and would prefer to start with using fixed ECerts, so that I can work directly with users' identities via ECerts.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-08 19:42</div><div class="msg">From looking through the code, in particular, usages of GetEnrollmentCertificateHandler, it looks like perhaps only fabric/core/crypto/crypto_test.go uses it, and it's a feature only provided to applications that deploy/invoke/query chaincode via the golang modules in fabric/core ?  Is this correct?  I don't see any indication of this ECert/TCert choice in HFC.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/412fb2149ce6c28af3268b42e8f61883.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">oliverledger</div><div class="time">2016-12-08 21:15</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-12-08 23:41</div><div class="msg">@tuand @garisingh @adc @keithsmith wouldn’t our COP provide TLS-CA like v0.6 that we can get a TLS cert from it?  I have heard Keith mentioned we might be able to use ecert for TLS but I am not sure progress on that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-09 00:00</div><div class="msg">It's actually just writing some common code to load the raw certificates into the proper Go types that we are talking about here.   Basically taking raw pem encoded certs and loafingvthem into the proper Go crypto objects </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2016-12-09 00:03</div><div class="msg">Yes, will work and if someone wants a separate TLS cert for some reason, you could enroll twice ... once for TLS and once for ECert</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-09 01:14</div><div class="msg">Can someone give me a sanity check?  I'm running a peer with privacy enabled (which means that it uses TCerts that aren't linkable to the user identities, if I understand that correctly), and submitting transactions with confidentiality enabled (which means that the ledger state is encrypted).  I run through a sequence of transactions, write to a particular key in my ledger state, shut all the services down, then run through the sequence again, checking that the state I set in the previous run is still there.  The call to stub.GetState fails with "Decryption failed".  However, if I run this whole scenario twice with transaction confidentiality disabled, it works fine.  Is there some step I'm missing, or maybe I'm making a bad assumption (such as "enabling transaction confidentiality has no impact on the chaincode itself, confidentiality can just be enabled")?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-09 11:39</div><div class="msg">@vdods - how are you submitting transactions?  Via the REST API or via the SDK?    

FYI - the "privacy" setting in core.yaml is actually for encryption</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-09 14:10</div><div class="msg">@garisingh   re: <a href="https://hyperledgerproject.slack.com/archives/fabric-crypto/p1481241640000125">https://hyperledgerproject.slack.com/archives/fabric-crypto/p1481241640000125</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-09 14:10</div><div class="msg">you mean something like this article ? <a href="https://ericchiang.github.io/tls/go/https/2015/06/21/go-tls.html">https://ericchiang.github.io/tls/go/https/2015/06/21/go-tls.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-09 14:12</div><div class="msg">I'll catch keith in a bit and see what cop can give me</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-09 14:13</div><div class="msg">so in this case you are looking for the shim to use mutual TLS with the Kafka broker(s)?  mutual meaning use client certificates?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-09 14:14</div><div class="msg">right</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-12-09 17:54</div><div class="msg">@garisingh @elli @adc @aso @binhn @cca @vukolic @manish-sethi @dave.enyeart @kostas It occurred to me that we never came to a conclusion on how to do the block hashing, and we are still using the non-deterministic standard proto marshaling for this.  I opened an issue here  <a href="https://jira.hyperledger.org/browse/FAB-1334">https://jira.hyperledger.org/browse/FAB-1334</a> for this just to track it, but this seems more crypto than consensus related, so posting it here for discussion.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a52edd136bbd07ca069b9393ac60f675.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">vukolic</div><div class="time">2016-12-09 17:54</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-12-09 17:59</div><div class="msg">To summarize my understanding of the existing discussion, @cca and @vukolic favored a Merkle tree based approach (to allow transaction pruning, to mirror the bitcoin model, and possibly for performance when buliding a batch of transactions over time), while @manish-sethi and @dave.enyeart were more inclined to use a simple straight hash across a custom marshaling scheme (because hashing setup is a significant cost, and at the ledger side where blocks are fixed, a Merkle tree is clearly going to be a performance cost).

I think for the block header we can probably agree that we concatenate the individual block header contents marshaled individually to bytes, then hash over this concatenation, or does someone else have a different proposal?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a52edd136bbd07ca069b9393ac60f675.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">vukolic</div><div class="time">2016-12-09 18:06</div><div class="msg">I am not against a single hash</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a52edd136bbd07ca069b9393ac60f675.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">vukolic</div><div class="time">2016-12-09 18:07</div><div class="msg">As far as i recall merkle trees were mentioned in the context of data structures alternative to hash chain</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a52edd136bbd07ca069b9393ac60f675.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">vukolic</div><div class="time">2016-12-09 18:07</div><div class="msg">Not really wirhin a single block</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a52edd136bbd07ca069b9393ac60f675.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">vukolic</div><div class="time">2016-12-09 18:11</div><div class="msg">That said hashes of individual tx may already be there</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a52edd136bbd07ca069b9393ac60f675.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">vukolic</div><div class="time">2016-12-09 18:11</div><div class="msg">Signed be the client</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a52edd136bbd07ca069b9393ac60f675.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">vukolic</div><div class="time">2016-12-09 18:11</div><div class="msg">By</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a52edd136bbd07ca069b9393ac60f675.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">vukolic</div><div class="time">2016-12-09 18:12</div><div class="msg">I am not sure how is this implemented but @adc would know</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a52edd136bbd07ca069b9393ac60f675.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">vukolic</div><div class="time">2016-12-09 18:15</div><div class="msg">Which may mean we may want to compute root hash over concatenation of individual hashes that are already there</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a52edd136bbd07ca069b9393ac60f675.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">vukolic</div><div class="time">2016-12-09 18:15</div><div class="msg">Am i answering the right question ? :)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-12-09 18:20</div><div class="msg">I think so.  At its most basic level, the question is "How do we compute the hash of a block header?" and "How do we compute the hash of the block data (where this hash gets embedded in the block header)?".

The hash of the block data can most obviously be computed as the hash of the concatenation block data contents.  It could also be computed as a Merkle tree of some specified width.  Or, it could be some other scheme like the concatenation of the hashes of the individual transaction (though I imagine that at this point, the Merkle tree would be the better option).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-12-09 18:21</div><div class="msg">Eventually, I think it might be a good idea to make the block data hashing scheme a parameter to the chain configuration, but, I think we can start simple by picking one.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a52edd136bbd07ca069b9393ac60f675.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">vukolic</div><div class="time">2016-12-09 18:23</div><div class="msg">one hash of concatenation of all individual hashes (+block metadata seqence number, previous hash) seems fine to me</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a52edd136bbd07ca069b9393ac60f675.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">vukolic</div><div class="time">2016-12-09 18:24</div><div class="msg">we do want to be able to identify indivdual tx in a batch easily - e.g., for censorship control</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a52edd136bbd07ca069b9393ac60f675.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">vukolic</div><div class="time">2016-12-09 18:25</div><div class="msg">alternative for me is a shallow 2-level merkle tree (non-binary) over concatenation of indivudal tx hashes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-12-09 18:25</div><div class="msg">In the block structure, there is a block header, which contains the block number, the hash of the data, and the hash of the previous block header.  This gives us the chaining, and hashing over that concatenation seems easy.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a52edd136bbd07ca069b9393ac60f675.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">vukolic</div><div class="time">2016-12-09 18:25</div><div class="msg">with another level combining that hash previous block hash and seqno</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-12-09 18:26</div><div class="msg">So the hash chain is over the headers, where the header includes a hash over the data.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a52edd136bbd07ca069b9393ac60f675.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">vukolic</div><div class="time">2016-12-09 18:26</div><div class="msg">yes that's the same thing as in my "2nd option"</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a52edd136bbd07ca069b9393ac60f675.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">vukolic</div><div class="time">2016-12-09 18:26</div><div class="msg">that is still a merkle tree in a sense :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a52edd136bbd07ca069b9393ac60f675.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">vukolic</div><div class="time">2016-12-09 18:26</div><div class="msg">albeit a shallow one</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a52edd136bbd07ca069b9393ac60f675.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">vukolic</div><div class="time">2016-12-09 18:27</div><div class="msg">binary hash tree seems entirely unecessary</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-12-09 18:35</div><div class="msg">I guess that was intended to be more a statement of "This is how things work", we are chaining the headers, where the headers contain a hash of the data.  And the question is how do we hash the data.'</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2016-12-09 18:39</div><div class="msg">@garisingh : The code to get Cert object from raw byte is checked-in in fabric-cop/lib/crypto/cryptoutil.go. The function name is GetCertificate. It takes PEM and DER encoding.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-09 20:21</div><div class="msg">@garisingh I'm submitting transactions via the Node SDK HFC.  In particular, what I find avoids the "Decryption failed" problem is having peer privacy enabled, and submitting transactions with confidentiality disabled.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-09 20:21</div><div class="msg">@garisingh  I'm a bit confused by what you're saying about privacy -- the protocol spec doc <a href="https://github.com/hyperledger/fabric/blob/master/docs/protocol-spec.md#13-terminology">https://github.com/hyperledger/fabric/blob/master/docs/protocol-spec.md#13-terminology</a> says that privacy is about non-linkability of transactions (which I think means using one TCert, not containing user identity, per transaction -- correct me if I'm wrong), and confidentiality is about controlling who can see which transactions (which I think necessitates encryption of ledger state -- correct me if I'm wrong)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-09 20:25</div><div class="msg">@vdods - all I am saying is that the core.yaml security.privacy is about encryption:

```
# To enable privacy of transactions (requires security to be enabled). This
    # encrypts the transaction content during transit and at rest. The state
    # data is also encrypted
    privacy: false
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-09 20:27</div><div class="msg">Ah ok.. so if privacy is disabled, TCerts are not used to encrypt the transactions?  And privacy has nothing to do with encrypting the ledger state, presumably?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-09 20:29</div><div class="msg">TCerts don't really have anything to do with encryption - they are used for signing transactions</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-09 20:32</div><div class="msg">Noted.  If transaction confidentiality is enabled, then what elements (e.g. transaction, transaction response, query, ledger state, etc) are encrypted, and with what keys?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-09 20:39</div><div class="msg">My goal is to be able to have transactions, responses, and the ledger state be encrypted such that only the users I specify can decrypt the contents.  I'm thinking I'm missing some additional responsibility on the chaincode side for when this encryption is done (via enabling confidentiality?).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-09 21:00</div><div class="msg">@vdods - unless I missed a major change in functionality, with the 0.6 release, all validating peers have access to all data and the built-in encryption / decryption is "global" to the chain itself  (although their are some things which are encrypted using ephemeral keys as part of transporting the transaction from the client to the peer itself)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-09 21:13</div><div class="msg">Interesting.. what key(s) are used to encrypt the ledger state in v0.6?  The validating peers' keys?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/cf26a0b1c59937e0f68ff31b7cc05c2d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">cca</div><div class="time">2016-12-10 11:20</div><div class="msg">Yes, this is the Merkle tree I meant.
1) Make the hashing format configurable
2) Merkle trees must be "wide" , not binary, otherwise they bring no gain. The cited scheme is a Merkle tree of the data and a good first implementation of the hashing format.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2016-12-11 17:25</div><div class="msg">TCerts can carry encrypted attributes.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2016-12-11 17:32</div><div class="msg">@binhn  , why would you want CoP to generate TLS cert ? From cryptographic perpsective , any cert , ECERT or TCERT can be used for TLS encryption. Usually , ppl use either self signed tls cert for dev purposes and enterprise TLS cert in prod(which I think customers will already possess). TLS Cert and ECert are differentiated from context in which they are being used and management aspect. I do not think , returning 2 certs : ECERT and TCert as part of enrollment process is good option.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-11 18:21</div><div class="msg">@adc - can you look at my comment here:   <a href="https://jira.hyperledger.org/browse/FAB-1276">https://jira.hyperledger.org/browse/FAB-1276</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-11 18:21</div><div class="msg">would be helpful to add some additional details / explanation so that the SDK developers will better understand the required changes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-12 05:46</div><div class="msg">Hi all, I noticed that a user's enrollment ID is encrypted as one of the TCert extensions, and it looks like if one can get PreK0, then one can decrypt the enrollment ID.  Is that correct, and how does one obtain PreK0?  (From an ECert, a TCert, or where?)  Also, is there any more detailed documentation on the pre-key tree as mentioned in the document on Attributes?  Thanks</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-12 13:01</div><div class="msg">@vdods this indeed the case.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-12 13:01</div><div class="msg">Enrollment identity is encrypted with some key that can be given to auditors, for the latter to obtain a proof of the owner of an (otherwise anonymous) certificate.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-12 13:02</div><div class="msg">Adding @ashutoshkumar  here, who is currently working on this.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-12 13:54</div><div class="msg">@ashutoshkumar  re: <a href="https://hyperledgerproject.slack.com/archives/fabric-crypto/p1481477533000182">https://hyperledgerproject.slack.com/archives/fabric-crypto/p1481477533000182</a>  , I'm establishing TLS between an orderer  and a Kafka broker so for the orderer, I'll need a cert signed by that orderer's organization.  Can I use the ecert for that purpose ? earlier in the thread, @adc had mentioned not using an identity cert for other purposes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2016-12-12 14:06</div><div class="msg">@vdods : Pre Key is per affiliation/group  basis. TCert in v1.0 will be a library where , you need to pass on required parameters and it'll provide you with batch of TCerts. If TCerts are going to be issued by CoP server(new incarnation of membership service) , TCert genertation gets userid from request , obtain group/affiliation that user belongs to and then get PreKey for that group/affiliation.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2016-12-12 14:07</div><div class="msg">When Group/affiliation is being created for the first time , a random number string is generated , which acts as PreKey and it is stored in DB.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2016-12-12 14:08</div><div class="msg">The key trees can be established based on the requirements.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2016-12-12 14:11</div><div class="msg">Getting decryption key is reverse of generating encryption key. So the party performing decryption , has to know how the encryption key is derived.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-12 14:28</div><div class="msg">@ashutoshkumar , to expand on our hallway talk ... the scenario is :  Peer &lt;--&gt; orderer &lt;--&gt; kafka</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-12 14:29</div><div class="msg">peer and orderer both have MSP so transactions sent between orderer/peer are signed and verified by msp.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-12 14:34</div><div class="msg">for the orderer/kafka connection ,  kafka has its own TLS configuration and orderer is acting as a client.  The kafka admin is responsible for the certs that the brokers use.  The orderers will most likely belong to other organizations and have different admins than Kafka.  So, an orderer will need a cert for this TLS connection with kafka.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-12 14:36</div><div class="msg">At this point, I'm trying to see how this orderer cert should be created ?  Would COP create just like it's doing now for ecerts ? should the orderer admin create separately via something like openssl ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2016-12-12 14:39</div><div class="msg">@tuand Where does kafka get it's certificate?  Are you enabling mutual TLS, i.e. does kafka have to authenticate the orderer also?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2016-12-12 14:41</div><div class="msg">Is the kafka cert self-signed or not?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-12 14:45</div><div class="msg">Kafka admin is responsible for creating the certs for the kafka brokers ... kafka can be provided by one or more of the orgs that participate in fabric or it can be provided by a totally separate org ... in production, both orderers and kafka brokers would use signed certs</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2016-12-12 14:47</div><div class="msg">Easier if you call to discuss</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-12 14:47</div><div class="msg">start a scrum in a few minutes ... will call after that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2016-12-12 14:47</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:03</div><div class="msg">Yes, of course.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:04</div><div class="msg">@tuand: We should definitely should support a case where an `admin` provides “his own” certificate that can be signed by an external entity.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:05</div><div class="msg">@ashutoshkumar: What @tuand describes above is a different use-case, that is separate than the TCertBatchRequest (as it is in `membersrvc` or the `cop`)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:06</div><div class="msg">@tuand: the question is whether the support of these certs is just at “bootstrapping”, or do you want/need some onboarding method/steps.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-12 16:10</div><div class="msg">hi @jonathanlevi  ...  these certs would be provided to an orderer at bootstrap .</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:10</div><div class="msg">Yup, in that case, that should not be impossible.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:10</div><div class="msg">Sounds plausible/reasonable to me.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:11</div><div class="msg">And later on… the “network” chooses whether these are considered as `trusted`, right?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2016-12-12 16:11</div><div class="msg">@jonathanlevi  : There is no TCert involved here.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:11</div><div class="msg">Yes, exactly.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:12</div><div class="msg">@ashutoshkumar That’s what I meant here:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:12</div><div class="msg">These are different `certs`.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2016-12-12 16:12</div><div class="msg">yup. I agree with that.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2016-12-12 16:13</div><div class="msg">and I do not want TCert/ECert to be used as TLS cert.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-12 16:13</div><div class="msg">my thought is that orderers  and kafka already have each other's CA certs in their respective truststores</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2016-12-12 16:13</div><div class="msg">I assume so.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2016-12-12 16:15</div><div class="msg">@tuand  : As per our hallway talk , the trust store creation should fall in management aspect of configuration , which happens out of band.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-12 16:21</div><div class="msg">right ,  my original question was given that an orderer needs to establish a mutual TLS auth connection between itself and kafka,  could/should  COP or MSP provide a TLS cert for the orderer to use</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-12 16:22</div><div class="msg">I think the two of us are leaning towards this being an admin task outside of COP and fabric</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:22</div><div class="msg">Yes, it has to be separate @tuand.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:22</div><div class="msg">There are a few good reasons for it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:23</div><div class="msg">Say we extend the cop to also sign CSR for TLS...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:23</div><div class="msg">Business-wise, now the cop will have the responsibility which can be translated to liability with relation to the link between the identity and one’s public key.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:24</div><div class="msg">While it may look ‘friendly’ if we simply “sign on someone’s behalf”...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:24</div><div class="msg">… now you will need to have the public key of such “signing entity” as part of your trusted zone/model.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:25</div><div class="msg">If you see what I mean?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:25</div><div class="msg">---</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:26</div><div class="msg">At this stage it may be easier (for all of us) to say something along the lines of: “Hey, if you have a certificate that was signed (say) by VeriSign…)… you can use it", and then it is subject to decision making steps taken as part of the TLS handshake… that decides whether such a signed cert is acceptable.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:27</div><div class="msg">---</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:28</div><div class="msg">This separation actually makes it stronger, as it allows the (seamless) support by design, of many certificates issuers/providers.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:28</div><div class="msg">So the out-of-bound establishment/bootstrapping, at this point, is much preferable.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:28</div><div class="msg">---</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:29</div><div class="msg">If I haven’t convinced, I can describe a few other use-cases where the other approach can limit us, going forward.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:30</div><div class="msg">@tuand, @ashutoshkumar: ^^^ (are these/is this aligned with your hallway/corridor discussion, more or less?)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2016-12-12 16:33</div><div class="msg">The Entity that cop manages is end user's identity and the entity that is managed by PKI of TLS is domain. I do not think , these two can be linked together.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2016-12-12 16:34</div><div class="msg">I agree with the statement : This separation actually makes it stronger, as it allows the (seamless) support by design, of many certificates issuers/providers.
11:28
So the out-of-bound establishment/bootstrapping, at this point, is much preferable.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:38</div><div class="msg">@ashutoshkumar: Yes, great/sure thing. @tuand: The short (“long”) answer is that “yes, the admin bootstrap part should remain out of bound”. `But it’s not because we are lazy! It is actually better.` :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-12 16:44</div><div class="msg">sorry,  got caught up in another call ...  @jonathanlevi  @ashutoshkumar   I agree with you two , ... configuration of orderer and kafka brokers would just be instructions saying "use these certs" ... how those certs are created if up to the admin, not required as part of cop/fabric</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-12 16:44</div><div class="msg">@keithsmith ^^^ ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-12 16:45</div><div class="msg">another question is how to handle in HSM given that the private key is now in hardware</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:47</div><div class="msg">___
Sorry I’m pushing for these - but it’s better to have these discussions “in public” or at least to summarize and list out assumptions, so that we don’t “wake up” a week before locking a release and realize that there was an important user-story that we have completely missed.
___</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:48</div><div class="msg">HSM: What exactly is the use-case?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:48</div><div class="msg">We can still get the associated “public” key endorsed by an “authority” you trust. If you see what I mean?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:49</div><div class="msg">But maybe I am not aware of the entire flow (mind you that I’m jumping in and out of some of these discussions)...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-12 16:49</div><div class="msg">if I'm using mutual TLS auth between orderer and kafka,   does orderer need to have cert or cert+private key ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:50</div><div class="msg">Cert + private key</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:51</div><div class="msg">When I establish an authenticated TLS connection with you, I verify that you really do have the associated private key.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:51</div><div class="msg">So a cert would not suffice.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-12 16:52</div><div class="msg">when I configure the orderer,  I give it the location of the cert and private key files</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-12 16:53</div><div class="msg">for HSM , I think the private key is on some hardware card  ... how do I tell the orderer where to get the private key ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:54</div><div class="msg">I haven’t worked with/on the HSM module yet. Vlad has, right?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:55</div><div class="msg">I can take a look and review things, if you guys like.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:55</div><div class="msg">For TLS, you must be able to sign (with the private key) over some value that I provide to you.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-12 16:55</div><div class="msg">@jonathanlevi  I owe you a beer :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:56</div><div class="msg">That’s part of the protocol, so however it is configured, even if you “trust” the signer of the certificate….</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:56</div><div class="msg">… the party “presenting” you with that cert, has to also prove the ownership (access) to the private key.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:57</div><div class="msg">—
@tuand: Sure! Beer is always welcome!
__</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:57</div><div class="msg">Just for intuition, while we are at it… the “certs” are considered public information.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:58</div><div class="msg">So think about you copying amazon’s pubic certificate.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:58</div><div class="msg">And now you pretend to be "<a href="http://amazon.com">http://amazon.com</a>"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:58</div><div class="msg">-&gt; TLS breaks if you don’t have amazon’s private key.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:59</div><div class="msg">-&gt; which renders “stealing” amazon’s public certificate useless (for you).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 16:59</div><div class="msg">It’s the (access to the) private key that matters.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 17:00</div><div class="msg">___
Did I help or confuse? :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-12 17:00</div><div class="msg">and to keep in mind  ... we can only configure orderer and kafka , i.e.  tell both that "these are the certs and keys to use"  ...  both sides use packages to implement TLS so we have no control over that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 17:00</div><div class="msg">Yes, that’s normal. Sure.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 17:00</div><div class="msg">We "set them up” with credentials.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-12 17:01</div><div class="msg">I can take a look at the HSM interactions, etc. Whenever. Just let me know.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2016-12-12 17:11</div><div class="msg">ok, let me get the "normal" TLS mutual auth going ...  I'll come back to HSM later</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-12 17:41</div><div class="msg">@elli @ashutoshkumar Thanks for the reply -- I have another, more concrete, question: in v0.6, is it possible to get the enrollment ID from the current transaction's TCert in chaincode (say for access control purposes), and if so, how?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-12 17:43</div><div class="msg">Basically I want to know/verify the identity of the caller, and I've had trouble getting the form of identity verification in asset_management.go to work -- it seems strange to use a TCert to identify each user, since for example if you were to shut the services down, start them back up, the new TCert the client would retrieve would be different and therefore useless in determining the ID of users in chaincode.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2016-12-12 17:44</div><div class="msg">enrollmentid will always be the same for all tcerts corresponding to EcERT.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2016-12-12 17:45</div><div class="msg">There is 1:1 mapping between EnrollmentId and ECert.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2016-12-12 17:45</div><div class="msg">even if you get new batch of TCerts , your enrollment id will be the same.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-12 17:46</div><div class="msg">@ashutoshkumar That makes sense.  Though is there a way to get the necessary pre-key for decryption in chaincode?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-12 17:49</div><div class="msg">It seems like use of the pre-key would be something done not in chaincode but in the client app -- perhaps passing the pre-key into the transaction would be insecure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-12 17:58</div><div class="msg">@vdods - I'm pretty sure we never finished up all the work to make all of this possible end to end.  We had the concept of passing along encrypted attributes (not just the enrollID) within tcerts and a mechanism for sharing the decryption key for those attributes with the validating nodes (using ecies to encrypt the attribute encryption key as well as a function to actually check to see if the encrypted attribute matches a specific value without actually decrypting it)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-12 17:58</div><div class="msg">It's been a while and I don't think we ever enabled all of that functionality end to end in v0.6</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-12 17:59</div><div class="msg">you can definitely pass and extract attributes in the clear though via tcerts</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-12 18:03</div><div class="msg">@garisingh Ah ok -- thanks for the clarification.  Would you say the identity verification done in the asset_management.go example is correct/reasonable? (the function is `isCaller`, which verifies a signature put in the transaction metadata against a previously stored TCert for the user)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-12 18:03</div><div class="msg">(this is in v0.6)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-12 18:07</div><div class="msg">that's one way to do it and you may also want to take a look at <a href="https://github.com/hyperledger/fabric/blob/v0.6/examples/chaincode/go/asset_management_with_roles/asset_management_with_roles.go">https://github.com/hyperledger/fabric/blob/v0.6/examples/chaincode/go/asset_management_with_roles/asset_management_with_roles.go</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-12 18:07</div><div class="msg">which shows how to use attributes with tcerts as well</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-12 18:08</div><div class="msg">the part I am not sure about was encrypted attributes - I'd have to look back but I'm pretty sure we didn't get that working end to end via any of the SDKs, etc</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-12 18:14</div><div class="msg">Thanks!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-12 18:15</div><div class="msg">I have been looking at all those examples, it's just taking a while to internalize them all :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-12 18:19</div><div class="msg">Would it be silly to just add the enrollment ID as its own additional attribute?  Redundant, yes, but the mechanism for retrieving it is right there in ChaincodeStubInterface</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f01b1034401a358d6f6cb2bc2fca26db.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">vdods</div><div class="time">2016-12-12 18:20</div><div class="msg">I guess my question is more like is that still secure?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2016-12-12 18:27</div><div class="msg">@elli @adc @aso if I understand it correctly, with the MSP design, peers and SDKs can mix and match signature algos within the same network and even the same chain? such that if peerA and peerB are in chainX, peerA can use ecdsa and peerB can use rsa, provided that they and the application/SDK each have the MSP implementations for the signature algos?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2016-12-12 18:28</div><div class="msg">(and the underlying BCCSP implementations)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2016-12-12 18:50</div><div class="msg">@garisingh : looking at TCert code , I do not see any reason why encryption/decryption won't work. I see the flaw that symmetric key encryption is being used , client has to be aware of Key derivation mechanism which is not dynamic and key transport.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2016-12-12 18:55</div><div class="msg">@jzhang : My understanding is crypto will be configured with one BCCSP config which is static.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2016-12-12 18:58</div><div class="msg">@ashutoshkumar what prevents a SigningIdentity implementation tied to a specific MSP ID to use one signature algo, while another impl tied to another MSP ID use another signature algo? where is the BCCSP config statically set?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2016-12-12 19:00</div><div class="msg">@jzhang : that makes sense. Maybe we should wait for reply from Elli and team.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/aa32af034870d28ba4a6828888b04a92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">rickr</div><div class="time">2016-12-12 19:01</div><div class="msg">@garisingh @aso  Hi can I bring up why we decided  bundle the crytpo certificate and mspid into an ASN1 byte stream for the creator ?  Why not create a mspid as a string in protobuf along with the creator byte string of the PEM cert ? 
Many SDKs in the future will have this hurdle of finding a ASN1 library to meet this need.  This seems now he only place where this will be needed.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2016-12-12 19:05</div><div class="msg">@garisingh @aso I agree with @rickr that it’s unnecessary to use ASN1 object in this case. ASN1 may have better cross-system support than protobuf (like supporting embedded systems) but since this is then wrapped inside a protobuf message anyway, there’s really no benefit...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-12 19:07</div><div class="msg">@jzhang  - I don't disagree.  If we're worried about marshaling, then I had previous suggested just using pure bytes with the first 1 or 2 bytes being used to represent the type and the remaining bytes would be the cert bytes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-12 19:08</div><div class="msg">(I'll be offline for a bit heading to the airport)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/aa32af034870d28ba4a6828888b04a92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">rickr</div><div class="time">2016-12-12 19:09</div><div class="msg">@garisingh That sounds good if various part of the backend Fabric need this encoded in ASN1 .. but if that's not the case why not just keep it seperated</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2016-12-12 19:09</div><div class="msg">@garisingh wouldn’t your suggestion be equivalent (and easier to implement) if that proceeding 1 or 2 bytes are a separate protobuf field?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-12 19:55</div><div class="msg">@jzhang: @ashutoshkumar : so the bccsp indeed used to have a static configuration and hence an instance of bccsp would support either rsa or ecdsa certain lengths etc</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-12 19:56</div><div class="msg">However @adc modified that and enabled calls of bccsp to specify as well crypto algos or hashes to be used within overwriting any default specs.  </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-12 19:58</div><div class="msg">For a standard x509 msp implementation ignoring for a moment the tcert peculiar extensions a verifier would need to check the type of keys as described in the certificate to trigger the related signature verification algo within bccsp. </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-12 19:59</div><div class="msg">But one could indeed have one msp provider enforcing that certain keys are used throughout their infrastructure.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-12 20:01</div><div class="msg">@jzhang:  serialization of protobufs is non deterministic and I believe the signature is over the creator. Of course we serialize other protos in any case  but was just trying to avoid that issue here since this is such a simple structure </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-12 20:07</div><div class="msg">I think there was also an additional argument that crypto items that are to be included in the blockchain eventually could make sense to be represented with asn.1 standard format.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2016-12-12 20:37</div><div class="msg">@elli : So that I understand , you mean to say that crypto object , not being in , say , Golang format , you want to have it in ASN.1 so that other implementation , say Java , can consume it. Did I stated it right ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/aa32af034870d28ba4a6828888b04a92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">rickr</div><div class="time">2016-12-12 21:28</div><div class="msg">@elli Could that be engineered  such that it's done on Fabric side without putting the burden on the SDKs requiring it ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 07:38</div><div class="msg">@ashutoshkumar: So ASN.1 was used to represent cryptographic material that is to persist, i.e., be included in the chain, as it is the standard encoding for such data.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 08:11</div><div class="msg">@rickr : So, certificates represent transaction/proposal creators and endorsers. Proposal creator certificates are hashed and included in what is signed by endorsers that results in the blockchain. On one hand, as @garisingh mentioned it is important that this hash is generated deterministically such that all endorsers sign the same thing, which is not possible if the creator is serialized using protobufs. On the other hand, as this creator certificate is included in a signature changing its representation before to it being included to the Blockchain / ledger would not  work as the creator and endorser signature verification would fail...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 11:00</div><div class="msg">Hi @adc</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 11:00</div><div class="msg">Can I have a follow-up question ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 11:01</div><div class="msg">So, the peer boots up and has no knowledge of organizational CAs apart from itself, right? 
then it gets a JoinChannel message, how can he verify that message?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 11:02</div><div class="msg">I guess it *has to* verify that JoinChannel message since it is injected with root CA certs right?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 11:16</div><div class="msg">Also another question- The source of the problem is that the peer doesn't have the list of org CA certs at startup, and it expects to obtain the org CAs from the ledger's (meaning- from each channel it participates in).
Can you please point me to a document where this is outlined?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 11:19</div><div class="msg">And- does the peer have *at least* the root CA of its own org at boot time?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-13 11:47</div><div class="msg">@yacovm - the peer itself will have it full "identity" available at boot time - which would include its private/public key pair as well as the root CA for its own org.  Of course its possible that the peer would have a different cert for signing and for TLS - although we can either recommend and/or mandate that it uses the same cert.  The trick of course is that this is only applicable in the case of X509 and of course we'd have to ensure that the TLS cert actually had the correct CN and/or SANs for hostname verification.   

From a TLS perspective, I'm still currently working on a GRPC server and client which can dynamically load up trusted roots at runtime</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 11:48</div><div class="msg">Gari- actually that was a follow-up question for something else :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 11:49</div><div class="msg">But since you're here I'll ask you too</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 11:49</div><div class="msg">So, I'm a peer `p` in org `A`. How do I obtain a certificate for root CA of org `B`?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-13 11:50</div><div class="msg">it should be in the latest config block for any channel/chain of which org `B` is a member</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-13 11:51</div><div class="msg">so for example, in the GRPC client I'm working on, you can dynamically add trusted root certificates to its trust store</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 11:51</div><div class="msg">So if I'm `p` and I'm in org `A` but I'm not in *any channel with *  peer `q` in org `B` how can I verify messages signed by `q`?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-13 11:52</div><div class="msg">you would get this from the various config blocks at startup and as they are updated (hopefully this works  )</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-13 11:53</div><div class="msg">If two peers from different orgs don't share any mutual channels, is there a reason they would communicate in the first place?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 11:53</div><div class="msg">well, this somehow creates a disjoint-ness in the membership views of gossip</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 11:54</div><div class="msg">that means that for the case of peers in different orgs but that have common channels, only they can "see" other peers from different orgs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-13 11:57</div><div class="msg">Ah - yes - basically you end up building up a per channel/chain membership view.   

I guess the issue is whether or not we should build up a "global" view of all peers where they only exchange "hello" type messages ?   (of course they can only exchange blocks scoped at the chain/channel level)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-13 11:58</div><div class="msg">in that case, we'd need to have some option of knowing all orgs which are part of a network outside of channel/chains</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 11:59</div><div class="msg">well, we need to adjust to this new learned information because right now, when a peer gets an AliveMessage it simply blindly forwards it to a random subset of peers it considers alive</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 11:59</div><div class="msg">right now, there is a good proability this received AliveMessage will be discarded because it'll simply be received by a peer that has no way of validating it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:00</div><div class="msg">```
in that case, we'd need to have some option of knowing all orgs which are part of a network outside of channel/chains
```
I thought at bootstrap time we get a list of root org CA certs or somehow the MSP takes care of that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-13 12:01</div><div class="msg">all of that info comes from the config blocks which are scoped by channel/chain</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-13 12:02</div><div class="msg">but you might want to check with Binh - he's currently working on the CSCC stuff which as far as I know is the only way to get the root CAs for the various orgs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:04</div><div class="msg">Bottom line- right now we have a problem. 
<a href="https://gerrit.hyperledger.org/r/#/c/2353/">https://gerrit.hyperledger.org/r/#/c/2353/</a>
@adc tries to implement this interface which currently the gossip code assumes the MSP gives it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:05</div><div class="msg">I guess the straight forward way of doing it in light of the recent information is that he'll simply return an error if the root CA of that per-channel-MSP isn't found or something?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-13 12:06</div><div class="msg">well what would actually happen if a peer got an AliveMessage from a peer it did not "trust"?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:06</div><div class="msg">it discards it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:06</div><div class="msg">and doesn't forward it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:06</div><div class="msg">and logs a warning message :disappointed:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:08</div><div class="msg">I mean, in theory, right? because that is in <a href="https://gerrit.hyperledger.org/r/#/c/2681/">https://gerrit.hyperledger.org/r/#/c/2681/</a> which depends on <a href="https://gerrit.hyperledger.org/r/#/c/3023/">https://gerrit.hyperledger.org/r/#/c/3023/</a> and already has merge conflict with c0rwin's code so I'll need to re-push it,  yet again</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-13 12:08</div><div class="msg">so gossip need to have two "views" of the various MSPs:

1) At the raw transport level (e.g. for AliveMessages) it needs to be able to access all of the root CAs across all of the channels to which a peer belongs

2) For disseminating blocks, it needs to be able to have a view scoped by chain/channel</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-13 12:09</div><div class="msg">frankly, the peer needs to build up these structures</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-13 12:10</div><div class="msg">I've been concerned that we did not start with this - e.g. here's the various structures the peer will have (who cares how they get populated) in simple terms</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:10</div><div class="msg">for (1)- I don't know, it's as we want it to be. If we want peers of different orgs that have no intersection in channels not to communicate with each other, so be it.
for (2) - I of course take care of not disseminating blocks to peers of different channels.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-13 12:12</div><div class="msg">but for (1), I assume AliveMessage is not scoped to a channel - so you'd need to full list of trusted CAs that the peer knows about</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:12</div><div class="msg">yeah but I assume that MSP can do that for me, no?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:12</div><div class="msg">somehow aggregate all certificates among all channel-MSPs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-13 12:13</div><div class="msg">agreed - gossip layer should not need to worry about that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:14</div><div class="msg">BTW regarding scoping - we have something much more generic. Each message sent in gossip declares its scope (any subgroup of: {channel, organization}, meaning 4 possibilities) and we "route" it to peers according to "policies"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:16</div><div class="msg">So, @adc  - I think you can simply do the straight forward thing</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 12:17</div><div class="msg">@yacovm Is MessageCryptoService able to tell apart (1) from (2)?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:17</div><div class="msg">and @garisingh  yesterday you said that protobuf serialization isn't deterministic, can you please elaborate on this?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:17</div><div class="msg">@adc  What do you mean?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 12:18</div><div class="msg">(1) requires a lookup on all the MSPs, (2) requires a lookup to a specific MSP</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-13 12:18</div><div class="msg">well @jyellick knows more than me, but as generally speaking the protobuf spec makes no guarantees about serialization (e.g. in terms of order of fields, etc)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:19</div><div class="msg">But if I have a message definition
message X {
A a = 1;
B b = 2;
... 
}
If it is the same order across different implementations, it should be deterministic right?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-13 12:19</div><div class="msg">especially across languages.  in practice it turns out that all protobuf libraries implemented by Google actually have the same serialization but it's just not a guarantee</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-13 12:20</div><div class="msg"><a href="http://stackoverflow.com/questions/31208725/is-protocol-buffer-serialization-output-fully-deterministic">http://stackoverflow.com/questions/31208725/is-protocol-buffer-serialization-output-fully-deterministic</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:20</div><div class="msg">@adc  - Yeah I know but you don't need to think of that in terms of "goals" of (1) and (2),  we just need the interface implemented. We take care of the rest</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-13 12:21</div><div class="msg">@adc - I think you need a to be able to scope to "chain" for (2) and "all chains" for (1)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-13 12:21</div><div class="msg">but basically yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-13 12:21</div><div class="msg">MSP for a chain or all MSPs for all chains to which a peer belongs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 12:22</div><div class="msg">with the current interface, there is no way to scope but @yacovm says that it can take care of this scoping</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 12:22</div><div class="msg">I'm missing something here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 12:22</div><div class="msg">If I need to verify a signature, I need to know against which PK</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:22</div><div class="msg">ok wait let's go over the methods 1 by 1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:23</div><div class="msg"><a href="https://github.com/hyperledger/fabric/blob/master/gossip/api/crypto.go#L27-L41">https://github.com/hyperledger/fabric/blob/master/gossip/api/crypto.go#L27-L41</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 12:23</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 12:23</div><div class="msg">Sign is obvious</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:23</div><div class="msg">`GetPKIidOfCert(peerIdentity PeerIdentityType) common.PKIidType` is simply grabbing the public key and hashing it, right?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 12:23</div><div class="msg">It will generate a signature using the local signing identity which we assume to be unique</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 12:23</div><div class="msg">something like that, right</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:24</div><div class="msg">`VerifyBlock(signedBlock SignedBlock) error` We said can be implemented using something like Verify but that is more conext-aware, right?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:24</div><div class="msg">`Sign(msg []byte) ([]byte, error)` is obvious? why? which MSP do you use for sign?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 12:24</div><div class="msg">right, not sure yet how that should work actually. Maybe @jyellick @kostas can help here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 12:25</div><div class="msg">each peer has only one signing identity,</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:25</div><div class="msg">what about `Verify(peerIdentity PeerIdentityType, signature, message []byte) error` ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 12:26</div><div class="msg">how to handle (2) there?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 12:26</div><div class="msg">the process is something like this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 12:26</div><div class="msg">peerIdentity is the serialized version of an identity</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 12:27</div><div class="msg">so first, I need to deserialize it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 12:27</div><div class="msg">so question is: who can do that? which MSPManager?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 12:27</div><div class="msg">we know that each channel has an MSPManager</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:27</div><div class="msg">you only have MSP per channel?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 12:27</div><div class="msg">I can scan all the MSPManagers and see who can do that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 12:27</div><div class="msg">that was a semplification</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:28</div><div class="msg">Well, why not create a mapping in the "MSP manager":</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 12:28</div><div class="msg">anyway, the scan achieves (1)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 12:28</div><div class="msg">but two?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:28</div><div class="msg">OrgId --&gt; [] MSP</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:28</div><div class="msg">let's call it `m`. now, you take the certificate/identity and use the MSP in `m[peerIdentity][0]`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:29</div><div class="msg">because, the org participates in all the channels associated with the MSPs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:29</div><div class="msg">and *any* MSP of these channels can verify that identity</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:29</div><div class="msg">if the mapping isn't found, you return error</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 12:29</div><div class="msg">no, it does not work like that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:29</div><div class="msg">was trying my best</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 12:29</div><div class="msg">an MSP can verify certain signatures, not everything</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 12:30</div><div class="msg">anyway, apart from that. At which point you want to enforce that a certain message is checked against a " channel" ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 12:30</div><div class="msg">meaning against the MSPManager of that channel?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:31</div><div class="msg">No, a message isn't checked against a channel</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:31</div><div class="msg">we just need to know if a certain peer is in a certain org, that's it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:31</div><div class="msg">wait, that's out of context</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:32</div><div class="msg">back to the interface- where is the problem?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 12:32</div><div class="msg">I'm lost :disappointed:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:32</div><div class="msg">hangout?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 12:32</div><div class="msg">yes, please</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:33</div><div class="msg">let's re-use that last one</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2016-12-13 12:33</div><div class="msg">@adc has started a Google+ Hangout for this channel. <a href="https://hangouts.google.com/hangouts/_/7nz3vrknvvcsnoa5gxv5q4b4hue">https://hangouts.google.com/hangouts/_/7nz3vrknvvcsnoa5gxv5q4b4hue</a>.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:33</div><div class="msg">oh nvm</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 12:59</div><div class="msg">OK so we decided that I'll list how gossip routes messages and @adc  and other people can respond and point out holes in the concept, or say it's OK:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:06</div><div class="msg">@yacovm, thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:12</div><div class="msg">Let's say I'm a peer `p` and I know I'm a part of channels `A`, `B`, `C` and I get a message `m` from some peer `q`.
That message can be signed, or not signed. 
If it's signed, I verify it against the certificate of the peer that signed it. If the signature is invalid, I throw it away. 
Now, I (`p`) might want to send `m` to other peers, but I might also create `m` or a similar message for `m` myself.
If it should be signed, I sign it with my own private key and if I relay it, I don't touch the message structure. 

Each message has the following fields: <a href="https://github.com/hyperledger/fabric/blob/master/gossip/proto/message.proto#L29-L42">https://github.com/hyperledger/fabric/blob/master/gossip/proto/message.proto#L29-L42</a> 
The Tag specifies what peers that message can be routed to: {only to the channel and to organization, only to organization but to all channels in the org, to all orgs but in the same channel, and to all peers regardless of channels and orgs}
The channel specifies the channel, or it might be nil.
now, when a `p` selects to which peers to send `m` to it looks at the Tag, at the Channel and then selects peers according to it. 
`p` can query the MSP and obtain the following information:
- Assuming it has the identity/certificate of `q` it can obtain the org ID of `q` by invoking `OrgByPeerIdentity(PeerIdentityType) OrgIdentityType` from <a href="https://gerrit.hyperledger.org/r/#/c/3179/9/gossip/api/channel.go">https://gerrit.hyperledger.org/r/#/c/3179/9/gossip/api/channel.go</a>
- Assuming it is in channel `C` it knows all organizations that belong to that channel from the `JoinChannel` message and/or from the ledger's configuration blocks. 
- So, for each peer `q` that `p` knows about, it knows if that peer is in an organization that belongs to the channel, or not.
But how does `p` know that `q` is really a part of a channel? well - Each peer in a channel, disseminates *to all peers of the organizations of the channel* a message saying "hey, I'm in this channel!" and when `p` receives such a message from `q` and `q` is indeed in the org that's in the channel `C`, it believes `q` to be in the channel and it can select `q` to send the message to.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:24</div><div class="msg">@yacovm, when p receives a message, is he supposed to route it only to the peer belonging to channel specified in the message?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-12-13 13:24</div><div class="msg">```But how does `p` know that `q` is really a part of a channel? well - Each peer in a channel, disseminates *to all peers of the organizations of the channel* a message saying "hey, I'm in this channel!" and when `p` receives such a message from `q` and `q` is indeed in the org that's in the channel `C`, it believes `q` to be in the channel and it can select `q` to send the message to.```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-12-13 13:25</div><div class="msg">&gt;`q` is indeed in the org that's in the channel `C`  …. @yacovm how does `p` verify that ? It goes and asks the orderer ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-12-13 13:26</div><div class="msg">why to ask orderer?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 13:27</div><div class="msg">I would say it only needs to check that q's identity (certificate) is valid under any of the MSPs that are listed within channel C</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-12-13 13:28</div><div class="msg">not saying it should @c0rwin … just trying to (remember) understand how `p` knows `q` is in the channel</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:28</div><div class="msg">@adc : ``` when p receives a message, is he supposed to route it only to the peer belonging to channel specified in the message? ```
Yeah, as long as the tag specifies that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 13:28</div><div class="msg">so it also depends on how you define "a peer  is a member of channel C". Is it the case that a peer is a member of a channel C if according to the ACLs of that channel the peer is allowed to read that channel's chain?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:28</div><div class="msg">@yacovm, so we can assume that this message should come from a peer that belong to same channel, correct?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-12-13 13:29</div><div class="msg">@muralisr well, orderer doesn’t have such information</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-12-13 13:29</div><div class="msg">maximum it will be able to provide you w/ configuration block which has list of orgs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:30</div><div class="msg">``` I would say it only needs to check that q's identity (certificate) is valid under any of the MSPs that are listed within channel C ``` Yeah, we call the method provided by you guys for that. it receives a peer identity and returns error</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-12-13 13:30</div><div class="msg">I think we said that genesis (configuration block) is the evidence of the peer being part of the channel as far as I remember that correctly</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:31</div><div class="msg">``` so it also depends on how you define "a peer  is a member of channel C". Is it the case that a peer is a member of a channel C if according to the ACLs of that channel the peer is allowed to read that channel's chain? ```
@elli : In gossip, a peer is considered a member of channel C if it belongs to an org that is part of C, *and* publishes itself to the channel that it is in the channel</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 13:31</div><div class="msg">ok, read access would do then in this case :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:32</div><div class="msg">I don't understand what you mean</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:33</div><div class="msg">If the peer is a part of the organization, it can simply connect to the orderer and ask for a block for the channel right?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:33</div><div class="msg">@yacovm, than the Sign methods need to be enhanced to passed the channel name</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:34</div><div class="msg">no</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:34</div><div class="msg">why?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:35</div><div class="msg">but you agreed with what Elli just said</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:35</div><div class="msg">I didn't understand what she said... so how can I agree?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:35</div><div class="msg">Elli said: I would say it only needs to check that q's identity (certificate) is valid under any of the MSPs that are listed within channel C</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:35</div><div class="msg">and you said: Yeah, we call the method provided by you guys for that. it receives a peer identity and returns error</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:35</div><div class="msg">oh I thought you referred to "ok, read access would do then in this case"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:36</div><div class="msg">sorry, the conversation was deviated</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:37</div><div class="msg">well, it checks that `q`'s identity is valid but... what does it have to do with routing?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:37</div><div class="msg">if you enhance Sign with the channel name then I'm done</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:37</div><div class="msg">that's exactly what I don't want to do</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:37</div><div class="msg">I know :disappointed:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:37</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:37</div><div class="msg">hehehe</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:37</div><div class="msg">But you understand why</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:37</div><div class="msg">let's find a solution then</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:38</div><div class="msg">I still don't see the problem Angelo but can you at least agree that the flow that I described, is OK security-wise?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:38</div><div class="msg">my issue is the following: I don't like a situation where a message is for channel A but is validated by the MSP of channel B</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:38</div><div class="msg">that case looks meaningless to me</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:39</div><div class="msg">why is that a problem? if peer `q` created the message and it's both in A and B?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:40</div><div class="msg">but it might be that the message is not valid for channel A</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:40</div><div class="msg">do you see that we need an explicit enforcement here?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:41</div><div class="msg">I might be wrong</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:41</div><div class="msg">I need to clarify this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:41</div><div class="msg">You mean that a peer *not in A* signe a message `m` and sent it to a peer `q` and said "hey, this message is for channel A"?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:42</div><div class="msg">yeah, then an honest peer in A would accept it even though it should reject</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-13 13:42</div><div class="msg">Wait. That’s very dangerous.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:42</div><div class="msg">that's the reason I want to clarify, I might be wrong</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:42</div><div class="msg">aha, but that's not really a problem in practice</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:42</div><div class="msg">please help me in the understanding</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:43</div><div class="msg">But before that- look here: <a href="https://gerrit.hyperledger.org/r/#/c/2353/">https://gerrit.hyperledger.org/r/#/c/2353/</a>
You and Elli +1 this didn't you? :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:43</div><div class="msg">But maybe there was some kind of mis-understanding</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-13 13:43</div><div class="msg">OMG. Yacov is trying to distract me :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:43</div><div class="msg">huh? no I'm not</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:43</div><div class="msg">let's continue with the flow</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-13 13:43</div><div class="msg">Let me break down the question: How does adding a channel (name, or so) help us with the trust model.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-13 13:44</div><div class="msg">[Yes, please, I’ll do some code reviewing later]</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:44</div><div class="msg">wait wait Jonathan this isn't about adding a channel</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:44</div><div class="msg">No, that is not for reviewing!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:44</div><div class="msg">I mean something entirely else</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-13 13:44</div><div class="msg">Go on, please.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:44</div><div class="msg">oh yeah, I meant something else</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:44</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:44</div><div class="msg">I meant to say that this contract/API between the MSP layer and gossip was decided long ago and changing it now is a problem</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:45</div><div class="msg">but just for the sake of the discussion let me explain why we have no problem</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:45</div><div class="msg">great</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:45</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-13 13:45</div><div class="msg">The `no problem` part sounds very good. But go on please.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:45</div><div class="msg">Currently in gossip we have 2 types of messages that are channel-scoped</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:46</div><div class="msg">1) Block message
2) StateInfo message- a peer says to other peers: "I'm in channel `C` and my ledger height is `N` and signs this message</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:46</div><div class="msg">1) Can be verified and cannot be forged, right?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:47</div><div class="msg">the only "problem" here is data leakage</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:47</div><div class="msg">the block should be verified against a specific channel anyway, right?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:47</div><div class="msg">yes!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:47</div><div class="msg">and it is!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-13 13:47</div><div class="msg">Sure, go on.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-13 13:47</div><div class="msg">2)...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 13:47</div><div class="msg">ok, so block messages, what do they include? Is it a block delivery request?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:47</div><div class="msg">wait I'm not done with (1)!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:48</div><div class="msg">@elli  no no, that's the block itself actually</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-12-13 13:48</div><div class="msg">@jzhang @rickr @harrisob I can easily change the marshalling of an identity from ASN.1 to protobuf - is that acceptable? If so I'll have a patch up shortly</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:49</div><div class="msg">So in (1) we still have the following problem: peer `p` is byzantine and is part of channel `C` and sends to `q` a block and `q` isn't in channel `C`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-13 13:50</div><div class="msg">[@aso: hold on pls. We have another thread going on here. I’m trying not to interrupt Yacov]</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:50</div><div class="msg">the honest q should reject, right?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:50</div><div class="msg">and it does</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 13:50</div><div class="msg">well a byzantine p can do anything</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:50</div><div class="msg">in the code I do something like: "hmm? I don't know this channel! logger.Warning(..."</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-13 13:51</div><div class="msg">[@yacov, Yes, I saw it.]</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:51</div><div class="msg">@elli  exactly! it can upload the block to twitter</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 13:51</div><div class="msg">but the breach would be from p not from q; but nevertheless q should reject if it refers to channels it does nto handle</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:51</div><div class="msg">right</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:51</div><div class="msg">yeah well we get it for free from the logic of the per-channel handling</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:52</div><div class="msg">```
	if msg.IsChannelRestricted() {
		gc := g.chanState.getGossipChannelByChainID(msg.Channel)
		if gc == nil {
			g.logger.Warning("No such channel", msg.Channel, "discarding message", msg)
		}
		gc.handleMessage(msg)
		return
	}
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:52</div><div class="msg">@elli  can you elaborate?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:52</div><div class="msg">oh yeah</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:52</div><div class="msg">I need a return there</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:53</div><div class="msg">I'm currently refactoring it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:53</div><div class="msg">heheh, nice, we found a bug live :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:53</div><div class="msg">I love review processing</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:53</div><div class="msg">that's because this commit is based on a commit that is based on another commit and so on and they are all not merged</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:53</div><div class="msg">:disappointed:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:54</div><div class="msg">so I had so many conflicts because I rebased the commits underneath</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 13:54</div><div class="msg">:smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:54</div><div class="msg">literally the entire file was red</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:54</div><div class="msg">let's continue</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 13:54</div><div class="msg">is there anything further you would like me to elaborate?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 13:56</div><div class="msg">"but the breach would be from p not from q"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:58</div><div class="msg">we need to continue, Let's say that q has the channel. Then q has to enforse the signature against that channel's MSP, no?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 13:59</div><div class="msg">ah right meaning that if p sends a block to q corresponding to  a channel q does not have access to, it is a violation of the access policy of the channel, but it is because of byzantine p</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 13:59</div><div class="msg">and such breaches as you said before we cannot avoid.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 13:59</div><div class="msg">Let's continue, not crucial at this point :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 13:59</div><div class="msg">right</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-13 14:00</div><div class="msg">I’m still waiting for (2)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 14:00</div><div class="msg">but we have to ensure that the honest q will reject</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:00</div><div class="msg">yeah so like I said</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:00</div><div class="msg">currently it checks if it's in the channel or not</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:00</div><div class="msg">without the `return` it just dies with a NPE panic :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:01</div><div class="msg">So are we OK with (1)?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 14:01</div><div class="msg">no</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:01</div><div class="msg">why?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 14:01</div><div class="msg">the signature should be validated against the MSP of that specific channel if q belongs to it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:02</div><div class="msg">Wait, q is the recipient correct?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 14:02</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:02</div><div class="msg">but @adc  that's not true</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:02</div><div class="msg">so that call would return false if the peer is not part of the channel g.chanState.getGossipChannelByChainID(msg.Channel)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:02</div><div class="msg">the validation of a block message isn't like that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:02</div><div class="msg">it doesn't go though that, it goes through the VerifyBlock</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:03</div><div class="msg">that would do validation of blocks based on orderer signatures</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 14:03</div><div class="msg">correct</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:03</div><div class="msg">yeah</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:03</div><div class="msg">exactly</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 14:03</div><div class="msg">by it is by channel</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 14:03</div><div class="msg">all the channels have the same orderers</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:03</div><div class="msg">orderers are the same for all channels i guess..</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 14:03</div><div class="msg">right</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 14:03</div><div class="msg">okay</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 14:03</div><div class="msg">1 is fine :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 14:03</div><div class="msg">thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:03</div><div class="msg">ok @jonathanlevi  (2)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:04</div><div class="msg">**drum rolls*</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-13 14:04</div><div class="msg">Alright, (2) it is! Thanks.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 14:04</div><div class="msg">heheheheh</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-13 14:04</div><div class="msg">:woo:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:04</div><div class="msg">:smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:05</div><div class="msg">So a StateInfo Message is just a peer saying that he is in a channel</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:05</div><div class="msg">and it has the following fields:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:05</div><div class="msg"><a href="https://github.com/hyperledger/fabric/blob/master/gossip/proto/message.proto#L85-L90">https://github.com/hyperledger/fabric/blob/master/gossip/proto/message.proto#L85-L90</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:06</div><div class="msg">But actually it's encapsulated with a GossipMessage, that's where the Channel and Tag are, understood so far?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:06</div><div class="msg">That would be  'bytes metadata' ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 14:07</div><div class="msg">(btw, line 54 should be GossipHello hello = 8; and not 87 as it is now)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:07</div><div class="msg">what would be?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 14:07</div><div class="msg">yes, got it so far</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:07</div><div class="msg">@adc  yeah I already put that change in a PR</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 14:07</div><div class="msg">great</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:07</div><div class="msg">the list of channels a peer is in</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:07</div><div class="msg">no</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:08</div><div class="msg">metadata is actually a serialization of something that contains the peer ledger's height</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:08</div><div class="msg">ah ok ok</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:08</div><div class="msg">StateInfo is included in a gossip message that includes the channel id this state info corresponds to; did i get that correctly?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:09</div><div class="msg">the channel's ID is in the GossipMessage, and the StateInfo is actually a `oneof` field in the gossipMessage</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:10</div><div class="msg">So as I said earlier- the StateInfo is signed by each peer and is disseminated to all orgs of a channel</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:10</div><div class="msg">So, there q checks if the received message corresponds to a channel it follows, and ignores the message if it refers to a channel it does not concern it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:11</div><div class="msg">Is it the StateINfo that is signed, or the gossip message that is ssigned?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:11</div><div class="msg">No</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:11</div><div class="msg">That's not how it goes @elli</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:12</div><div class="msg">The StateInfo is disseminated to all peers in the organizations that are in the channel</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:12</div><div class="msg">But there is a privacy breach there no?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:12</div><div class="msg">ah ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:12</div><div class="msg">You mean- if I'm a peer `p` and I now know of the ChainID of a channel I'm not part of</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:12</div><div class="msg">it is announced within the peers belonging to the same organization.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:13</div><div class="msg">Yeah but as I said- now if I'm a peer `p` I can now know all channels of my organization</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:13</div><div class="msg">sorry, say Channel ID instead of Chain ID</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:13</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:13</div><div class="msg">why?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:14</div><div class="msg">fine, you say q receive this stateInfo from p; what comes next?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:14</div><div class="msg">next it may or may not disseminate this further</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:14</div><div class="msg">to peers in the channel</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:14</div><div class="msg">BTW to your earlier question- the inner struct is signed</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:14</div><div class="msg">not the entire GossipMessage</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:15</div><div class="msg">let me just check that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 14:15</div><div class="msg">really???</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:15</div><div class="msg">yeah</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:15</div><div class="msg">hmm yep</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 14:16</div><div class="msg">why not the entire message?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:16</div><div class="msg">no reason actually.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:16</div><div class="msg">I'll brb</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:16</div><div class="msg">But in the meantime</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:17</div><div class="msg">why is it dangerous?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 14:18</div><div class="msg">I will have to check</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 14:18</div><div class="msg">let's progress on (2), please</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:18</div><div class="msg">Hm a first thought is that one would be able to replay it using another channel id to the front... Not sure this is bad, but the more malleable we allow the information on a single message to be usually the more power we give to a potential attacker to chcange things...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:19</div><div class="msg">But not a clear attack from my side. Need to understand better the goal of this message, whether it can be replayed, and if this would cause problems...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 14:25</div><div class="msg">@yacovm, what happened?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-12-13 14:25</div><div class="msg">he is in meeting</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:27</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 14:27</div><div class="msg">okay :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e5ef52aa83d23d2c3dc3ba9794597793.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">svergara</div><div class="time">2016-12-13 14:37</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:38</div><div class="msg">back</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:39</div><div class="msg">Well that's the thing</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:40</div><div class="msg">If you have a GossipMessage `M` and inside a message `m` that is signed, what can you really do? you can only change the tag and the channel, that's it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:40</div><div class="msg">what does it give you?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:41</div><div class="msg">But I agree with the general approach and will strongly consider signing over the entire GossipMessage, @c0rwin  what do you think?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcfa65bddbbfe177e681e491f79ab48a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">c0rwin</div><div class="time">2016-12-13 14:44</div><div class="msg">I think that signature on `m` is enough, but yeah I agree that we might consider to sign over all GossipMessage</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:46</div><div class="msg">@adc  @elli  you want to continue?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:46</div><div class="msg">sure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:47</div><div class="msg">So the problem was:  a peer `p`  *not in A* signed a message `m` and sent it to a peer `q` and said "hey, this message is for channel A", right?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:48</div><div class="msg">And you don't want to iterate over all MSP instances and find the right one</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:48</div><div class="msg">Ok, so at first stage, q cannot tell if p is a member of that channel if q is not part of the channel</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:49</div><div class="msg">it can</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:49</div><div class="msg">how?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:49</div><div class="msg">I outlined it in the long message above: 
<a href="https://hyperledgerproject.slack.com/archives/fabric-crypto/p1481634752000432">https://hyperledgerproject.slack.com/archives/fabric-crypto/p1481634752000432</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:50</div><div class="msg">If you don't understand something just say I'll try to explain again</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:50</div><div class="msg">&gt; If it's signed, I verify it against the certificate of the peer that signed it. If the signature is invalid, I throw it away.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:51</div><div class="msg">So for you to verify the signature, you need to be equipped with the related MSP that would parse the certificate and know what signature verification algo to use.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:51</div><div class="msg">Plus you would still need to check against a list of CAs that you coonsider trusted, and that may change depending on the channel you are referring to.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:51</div><div class="msg">How do you quote? with &gt; ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:52</div><div class="msg">right</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:52</div><div class="msg">with "&gt;"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:52</div><div class="msg">So what's the problem with iterating over all MSPs?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:53</div><div class="msg">wait</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 14:53</div><div class="msg">that's not an issue.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:53</div><div class="msg">&gt; and that may change depending on the channel you are referring to.
Why?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 14:53</div><div class="msg">I'm just saying that if p gets a message for a certain channel</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 14:53</div><div class="msg">p should verify it against the MSP of that channel</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 14:53</div><div class="msg">that's it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:54</div><div class="msg">but don't you agree that if that message is signed by `q` then you could in theory validate it against *multiple* MSPs - if all of these MSPs belong to channels that have the root CA of that cert?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 14:55</div><div class="msg">we have to think in terms of channels and their MSPs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 14:55</div><div class="msg">only that counts</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:56</div><div class="msg">So, take the following example</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:56</div><div class="msg">peer A and peer B are part of channel 1, and not part of channel 2</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:56</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:57</div><div class="msg">however peer A is malicious / byzantine and constructs a signed stateInfo aiming for channel 2 that it sends to peer B</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:57</div><div class="msg">So peer B who has not the info of whether peer A is member of the channel 2 (cause it does not have the MSPs desc of that channel) cannot assess if peer A is indeed a member of that channel..</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:58</div><div class="msg">Now you mentioned before that if peer A and B are part of the same organization then B may be implicitly know if the organizaiton both peers participates in that channel and have the local MSP of peer B assess validity of peer A's certificate.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 14:59</div><div class="msg">But even if so, the latter would be a hack...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 14:59</div><div class="msg">the former you mean?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 15:00</div><div class="msg">oh, the resolving</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 15:00</div><div class="msg">I would say that messages should be followed with some channel id-s and maybe you have wildcards for you to include essentially more than on echannel</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 15:00</div><div class="msg">the resolving part yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 15:00</div><div class="msg">wait, trying to understand the attack</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 15:00</div><div class="msg">I don't get it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 15:01</div><div class="msg">there is no attack, some limitation rather of validating a message</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 15:01</div><div class="msg">you're basically saying- peer B tells peer A "Hey I'm in channel 2" although he's not?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 15:01</div><div class="msg">so if you have signatures of messages this is for some one to be able to validate it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 15:01</div><div class="msg">what's the point?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 15:01</div><div class="msg">if one cannot validate it, the message should be discarded no?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 15:01</div><div class="msg">yeah, but the whole point of the discussion here is that adc wants to extend the Sign method with a channel</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 15:02</div><div class="msg">unless it aims for you to relay the message</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 15:02</div><div class="msg">and I have messages that do not have any channel in them</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 15:02</div><div class="msg">for others to assess the signature</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 15:03</div><div class="msg">I can also check against all the channels but then what it means to have a message for channel A that is validated by the MSP of channel B</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 15:03</div><div class="msg">this is the question</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 15:04</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 15:04</div><div class="msg">but that's what I'm saying</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 15:04</div><div class="msg">there is *no way* you can validate a message from channel B</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 15:04</div><div class="msg">and you should not have been able to</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 15:05</div><div class="msg">but the channel field is there to tell the code that, no?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 15:05</div><div class="msg">the channel field is only for channel-restricted messages</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 15:05</div><div class="msg">what do I do with messages that have no channel? like AliveMessages, and certificates?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 15:05</div><div class="msg">ah, good point</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 15:05</div><div class="msg">....</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 15:06</div><div class="msg">so, we agree that for channel-restricted messages we have to enforce the check I'm saying</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 15:06</div><div class="msg">no</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 15:06</div><div class="msg">we don't</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 15:06</div><div class="msg">let's analyze now the case of an AliveMessage</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 15:06</div><div class="msg">no</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 15:06</div><div class="msg">why not?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 15:06</div><div class="msg">:disappointed:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 15:06</div><div class="msg">because of the following:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 15:08</div><div class="msg">MSP instances simply resemble "domains" of CAs. 
In MSP1 you can have CA1, CA2, CA3
and in MSP2 you can maybe have CA3, CA4, right?
Now you get a message `m`.
How is it possible that you can verify this message using MSP_i despite the fact that the *correct* CA for that message isn't in MSP_i ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 15:09</div><div class="msg">for channel-restricted messages, they carry a single channel, no?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 15:09</div><div class="msg">if true, than it makes sense to check against that specific channel</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 15:09</div><div class="msg">if this is not the case</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 15:09</div><div class="msg">then we have to understand what to do</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 15:11</div><div class="msg">it has to be avalid cert w.r.t. the MSPs listed in the read-set of the channel the message refers to.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 15:11</div><div class="msg">any would do; but there is a possibility of adding this mspid to the certificate itself</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 15:11</div><div class="msg">a discussion we had with @aso a few weeks ago..</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 15:14</div><div class="msg">@elli , the deal here is simple- @adc  claims that there is a danger in which you might have a false-positive verification</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 15:15</div><div class="msg">Do you agree that if you *can't have* a false-positive verification then we're "safe"?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 15:15</div><div class="msg">and you guys can simply iterate over all MSPs?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 15:16</div><div class="msg">why the false-positive are not possible?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 15:18</div><div class="msg">wait, before that- do you agree that if it's not possible, we're ok?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 15:21</div><div class="msg">yes, but I want a formal proof for that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 15:22</div><div class="msg">in latex?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 15:22</div><div class="msg">yes, please. hehehehe :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 15:22</div><div class="msg">please, go ahead</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 15:22</div><div class="msg">:smile:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 15:23</div><div class="msg">So, thinking of the alternatives</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 15:24</div><div class="msg">ok I'll go ahead</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 15:24</div><div class="msg">how easy it is to add a channel id in the gossip messages?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 15:24</div><div class="msg">easy/difficutl</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 15:24</div><div class="msg">we already have channel ids...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 15:24</div><div class="msg">that's not the point</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 15:24</div><div class="msg">the point is that Angelo wants to add a channel param both to Sign and to Verify</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 15:24</div><div class="msg">ah the sign message</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 15:24</div><div class="msg">and this doesn't make sense</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 15:25</div><div class="msg">sorry, yes; so sign and verify would still need to leverage some MSP implementation to do the signature verification</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 15:26</div><div class="msg">I don't want to add to Sign</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 15:26</div><div class="msg">cause this e.g., includes verification of the signer identity</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 15:26</div><div class="msg">that is channel specific ... i am a bit confused i have to say .. :disappointed:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 15:27</div><div class="msg">where do you authenticat ethe signer?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 15:27</div><div class="msg">shall we have an hangout, please</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 15:27</div><div class="msg">we have to come to a decision</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 15:27</div><div class="msg">you receive a message that has a creator of a message, a signature and the message</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 15:27</div><div class="msg">sure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 15:28</div><div class="msg">sure</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2016-12-13 15:28</div><div class="msg">@adc has started a Google+ Hangout for this channel. <a href="https://hangouts.google.com/hangouts/_/wvunwgaufbhavickn47ih6voume">https://hangouts.google.com/hangouts/_/wvunwgaufbhavickn47ih6voume</a>.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 16:15</div><div class="msg">so, if `p` is in org `A` and `q` is in org  `B` and they're both in channel `1` and `q` is also in channel `2`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 16:16</div><div class="msg">and then `p` is malicious and it sends a message signed by itself to `q` with the channel `2`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 16:17</div><div class="msg">if I invoke your cool per-channel method: `Verify(msg, sig, cert, channel_2)` it'll return an error, right? @adc , @elli</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 16:17</div><div class="msg">correct</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 16:18</div><div class="msg">Could you please open a JIRA issue for that? :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 16:18</div><div class="msg">to document, and stuff</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 16:18</div><div class="msg">so other people could also read</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 16:18</div><div class="msg">and say if they're for or against</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 16:19</div><div class="msg">and don't forget that writing on slack is like writing on sand</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-13 16:22</div><div class="msg">cool per-channel method?? hehehehehhe</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 16:23</div><div class="msg">So can you?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-13 16:24</div><div class="msg">sure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 16:24</div><div class="msg">thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-13 16:32</div><div class="msg">So, I  don't want to open this discussion again, but just for the sake of readers/ @jonathanlevi  - about (2) (`StateInfo` message) - that's a message that a peer tells other peers about its existence in a channel. 
So basically, the only thing you can do, is lie and tell other peers in different channels that you're in a certain channel, but only 1 of the conditions hold:
- You're in an org that's in that channel and then it's "safe" to tell other peers about that because you could have went to the ordering service yourself and asked for blocks.
- You're not in an org that's in that channel, and in that case- no peer of the channel would speak to you in that "channel context" because I have gossip-side filtering of that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-13 16:35</div><div class="msg">Thank you @yacovm. BTW: I have no problem opening that discussion, or another. I think it’s good to talk about these actually, rather than making assumptions that later on might prove wrong, or out of sync with others.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-13 16:36</div><div class="msg">I think you are asking good questions, and it helps to frame many of these threads...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/aa32af034870d28ba4a6828888b04a92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">rickr</div><div class="time">2016-12-14 01:30</div><div class="msg">Is it feasible in the same chain that different peers could be signing and hashing with different algorithms and strengths and SDKs need to support that ?  I don't think from what I've seen a single Peer would expect proposals that support multiple algorithms and hashing</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-12-14 01:46</div><div class="msg">@adc not sure if you are the right person to ask… I see fabric/accesscontrol . Couple of things (1)some  files in there (I saw api.go) do not have standard license header and (2) my vote would be for `fabric/acl` instead of `fabric/accesscontrol` :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-12-14 01:50</div><div class="msg">also I see import statements such as `"<a href="http://github.com/hyperledger/fabric/core/crypto/attributes">http://github.com/hyperledger/fabric/core/crypto/attributes</a>”` … is this cross import into `core/crypto` ok ? or is this WIP ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-12-14 05:02</div><div class="msg">shouldn’t core/crypto be gone by now?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-14 07:29</div><div class="msg">@muralisr that package is a working in progress. I will submit a change-set to add the header and rename the package. Actually, that stuff is for chaincode, should it go under fabric/chaincode or something like this?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-14 07:29</div><div class="msg">@binhn core/crypto contains the bccsp, do you want to move it to fabric/ or fabric/core?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-12-14 13:06</div><div class="msg">@adc thanks</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-12-14 13:06</div><div class="msg">will look in a bit</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-12-14 23:38</div><div class="msg">We know that we bootstrap orderers with info about admins, who can create chains, but we currently don’t have that info on the peer bootstrap. The configuration block (genesis) comes in a bit too late.  We need to verify the signature of the sender of “JoinChain”, but that info is in the transaction buried in the genesis block.  We could either crack open the block and verify the signature using the info on the config tx, or we bootstrap the peer with the same info as we bootstrap the orderer.  Thoughts?  @elli @adc @jyellick @garisingh</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-12-14 23:42</div><div class="msg">@binhn It seems like we must have a concept of peer admin.  I discussed this with @aso and since it makes sense that a peer can be started with no chains, it also makes sense that the peer must be able to authenticate its administrator from this state.  So I would argue that the peer does not need to do any signature checking on the genesis block in `JoinChan`, instead, the peer needs to authenticate that the `JoinChain` request is from his administrator.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-12-14 23:44</div><div class="msg">You can imagine for instance an organization that has 10 peers and 100 chains, say with each peer participating in 20 chains (so each chain has 2 peers attached).  It would be absolutely unacceptable if another organization could instruct my peers to join chains of their choosing just by sending them the genesis block.  Just because the org agreed to participate in a chain, does not mean it agreed for all its peers to participate in it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-12-14 23:46</div><div class="msg">(And of course it is the administrator's responsibility to make sure that the signatures etc. is correct in the genesis block)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-12-14 23:48</div><div class="msg">That makes sense, but I wonder if too restrictive.  Chain is application level that application should be able to create a chain as needed based on business context. Requiring an admin role would restrict that API call to a very small set.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-12-14 23:55</div><div class="msg">A random and not fully thought through idea: What if each peer org started a chain of which they were the only member, and used this chain to bootstrap all their peers? This chain would maintain the admin concepts and orchestrate peer chain membership.  The peer org could roll this themselves using their own local ordering for more complete security, or could simply rely on it from the standard ordering service.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-15 08:19</div><div class="msg">I agree with @jyellick  and had assume that this was going to be the case</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-15 08:20</div><div class="msg">We need to have the concept of a peer admin in any case</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-15 08:21</div><div class="msg">but to start with, let's just get JoinChannel API working on the peer  :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-15 08:37</div><div class="msg">I don't understand something. I understood from Jason that in the future, you could have different orderers for different channels.
The JoinChannel message is signed by the ordering service, right? But how could you support then the verification of the message if the local MSP couldn't verify the message because it doesn't have the certificates (i.e: it's a new ordering service and a new channel), and the channel MSP is not yet initialized?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-15 09:30</div><div class="msg">@yacovm  - as I understand it (or perhaps as I think it should be):

1) JoinChannel is an API exposed by peers and the "owner/admin" of the peer must explicitly call this API in order for their peer to join a channel   (we'll of course need some type of access control here and that was my admin comment above)

2) One of the input parameters for JoinChannel API is the "genesis block / latest config block".  This of course is actually signed by the ordering service (I supposed technically one of the ordering nodes)

3) Within that genesis / config block is all the information needed to technically verify / validate it as well as the information on how to connect as well as all the members

4) So technically the public certificate of the orderer node which signed the config block is actually within the config block which means technically the peer would have all the info needed to validate / verify the config block

But this is all technical in nature - meaning it's not like it actually checks to make sure that the orderer was the orderer I expected, etc.    

The expectation is that the admin of the peer would actually inspect the config block before calling the JoinChannel API (we actually plan to provide a tool for this as well).

Now of course you could say have an optional API (or an optional parameter for this API) where you could specify the public keys that you expect to be in the config (which you'd have to obtain out of band the same way you got the genesis block in the first place)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-15 09:46</div><div class="msg">But, how can a peer verify the certificate of the ordering service that signed the config block?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-15 09:53</div><div class="msg">it just "believes" it, and doesn't verify it, no?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-15 10:02</div><div class="msg">well either you would have to go obtain the certificate(s) from the ordering service, load them into your peer and then call JoinChannel OR you inspect the block, make sure the certificates which are in the block are the ones you expect (which would be the same thing basically as obtaining them out of band) and then call JoinChannel.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-15 10:02</div><div class="msg">not sure what you mean by "verify"?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-15 10:03</div><div class="msg">verify- how do I trust the certificate of the ordering service?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-15 10:03</div><div class="msg">it needs to be signed by a CA, etc etc</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-15 10:03</div><div class="msg">so all of that information is actually in the config block which you can inspect before calling JoinChannel.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-15 10:04</div><div class="msg">aha, got it.  thanks.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-15 10:04</div><div class="msg">it's an odd chicken and egg problem</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-15 10:04</div><div class="msg">we actually have an even more serious problem , will update a JIRA issue soon and will tag you and binh</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-15 10:05</div><div class="msg">I think I'll go on vacation now  :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-15 10:05</div><div class="msg">just kidding - will look out for it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2016-12-15 10:41</div><div class="msg"><a href="https://jira.hyperledger.org/browse/FAB-1394">https://jira.hyperledger.org/browse/FAB-1394</a> @garisingh</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-15 12:55</div><div class="msg">@garisingh , @jyellick: by validation of the genesis config block, do you mean that the membership service related configuration correctness is checked by the peer admin correct? That is, a peer admin is able to check that the chain configuration (read policies, write policies) is as agreed with the rest of admin apps(?)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-15 12:56</div><div class="msg">Also @garisingh, @jyellick, @binhn we were discussing internally the reconfiguration of MSP components, and it seems to us that allowing for external configuration of reconfig policies, would kind of contradict the modularity of these components.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-15 12:57</div><div class="msg">Plus it adds complexity at config time.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-15 12:58</div><div class="msg">We discussed this with @aso, @adc and we think we have a proposal for this without modifying the existing code a lot.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-15 13:01</div><div class="msg">But, in the long term we may want to consider having a reconfig policy defined as an interface for modular components to be able to define their own policies without being forced to use the policy framework of fabric. No matter how i like it personally, it may be not covering needs of external components: since we dont know yet what policies may be in place for reconfiguration, it may be too bold to ask them all to leverage a single policy framework, no? Asking opinion from @binhn, @jyellick here.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-12-15 14:16</div><div class="msg">@elli @binhn @garisingh @jyellick just to restate the original problem @binhn started with  -   join command ACL  (“can this guy issue Join”) cannot use MSP tied to a chain (there’s no chain). One way to solve the problem is to specify (admin?) identity at the time of *peer* bootstrap mechanism so only those guys can issue join. After the chain is created of course the GB for that chain will control the ACLs for that chain … from @garisingh above `The expectation is that the admin of the peer would actually inspect the config block before calling the JoinChannel API (we actually plan to provide a tool for this as well).`...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-12-15 14:17</div><div class="msg">^^^ assumes the recent comments have genesis int that question @binhn started with :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/86e916316f8f43753820061057afa6b4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">binhn</div><div class="time">2016-12-15 14:44</div><div class="msg">We are going with bootstrap config to tell peer its admins, and only these can do admin stuff on that peer.  The specification of admins is the same as that of orderer.  Each peer may have different admins — just want to get this working for now.  Rooms for improvements are in our future :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2016-12-15 14:51</div><div class="msg">@adc i have a question on the implementation of software-manager bccsp in core/crypto/bccsp/sw/impl.go: for importKey, the code supports public key imports from x.509 PEM encoded, and PKIX DER encoded. I’m writing the equivalent of this in node.js SDK and was wondering if it’s going to be a reasonable limitation if we only support PEM encoding x.509 certs, and add others later post v1.0?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-15 14:52</div><div class="msg">@jzhang, it is definitely fine</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2016-12-15 14:54</div><div class="msg">@binhn, @muralisr it is fine if the peer's admin is listed at peer setup time. It can also be the peer's local msp admin. adding @aso  in the discussion</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-12-15 15:02</div><div class="msg">I think anything works as long as the peer can use the local MSP to authenticate the proposal containing the arguments to CSCC to join a chain</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-15 15:35</div><div class="msg">@jzhang may you have a look at this change-set for SKI generation? <a href="https://gerrit.hyperledger.org/r/#/c/3323/">https://gerrit.hyperledger.org/r/#/c/3323/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-15 15:35</div><div class="msg">I have finalized how this has to be generated to be aligned with the PKCS11/HSM world</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-15 16:06</div><div class="msg">@jzhang, may you have a look at this change-set: <a href="https://gerrit.hyperledger.org/r/#/c/2983/">https://gerrit.hyperledger.org/r/#/c/2983/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-15 16:06</div><div class="msg">It is related to ECDSA malleability.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-15 16:07</div><div class="msg">the sdk should generate ECDSA signatures of specific form in such a way to avoid malleability attacks</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2016-12-15 16:08</div><div class="msg">@adc yeah thanks for letting me know these changesets, i’ll make sure to use them as reference for the SDK side of the implementation</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2016-12-15 16:09</div><div class="msg">in particular, if you modify the sdk to have this special ECDSA signature, the fabric will not be affected and then when my change-set will be merged, everything will continue to work :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dc5a340aa514edae4c206ca93448a71f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">d.baranov</div><div class="time">2016-12-15 16:12</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2016-12-15 17:38</div><div class="msg">@adc another question i had regarding your bccsp impl.go was that it seems to always assumes DER encoding for private keys, are you planning to support PEM encoded private keys as well?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2016-12-15 20:55</div><div class="msg">@DER to PEM encoding is simple. PEM puts some block around DER.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2016-12-15 20:56</div><div class="msg">or vice versa , you can get PEM to DER.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2016-12-15 20:56</div><div class="msg">PEM is simply messaging structure.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2016-12-16 09:19</div><div class="msg">@jzhang  - just for reference, PEM is just base64 encoded DER with the BEGIN/END lines and specified number of characters per line  :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2016-12-16 14:07</div><div class="msg">@aso @adc @elli You are added as reviewers on <a href="https://gerrit.hyperledger.org/r/#/c/3355/">https://gerrit.hyperledger.org/r/#/c/3355/</a> but I'd call special attention to:

<a href="https://gerrit.hyperledger.org/r/#/c/3355/2/common/policies/policy.go">https://gerrit.hyperledger.org/r/#/c/3355/2/common/policies/policy.go</a> Interfaces defined on lines 28 and 44
<a href="https://gerrit.hyperledger.org/r/#/c/3355/2/orderer/multichain/manager.go">https://gerrit.hyperledger.org/r/#/c/3355/2/orderer/multichain/manager.go</a> line 176

If the MSP manager provides an implementation of those interfaces on lines 28 and 44, it should be as simple as instantiating one online 176 and things should (hopefully) just work</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/157b7453a8619d0392f489734c550f92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">aso</div><div class="time">2016-12-16 14:11</div><div class="msg">Thanks, @jyellick, will have a look soon</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2016-12-16 14:47</div><div class="msg">@ashutoshkumar @garisingh that’s right, was just wondering if the code currently written in bccsp/sw/impl.go, which always assumes DER encoding, would work with a PEM byte array without the caller having to convert PEM to DER (stripping out the BEGIN/END etc.) first</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/87191fab9507f4a2fc396f8be7964f85.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ganeshbagalur</div><div class="time">2016-12-16 21:26</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e77cfa15c5250f934e11bc25efc29962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">haifeng</div><div class="time">2016-12-17 14:50</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-01-06/123352664673_9366f252fc74427732c9_72.jpg" /><div class="message"><div class="username">humblealex</div><div class="time">2016-12-20 01:36</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a1174343fd5aa071737d6ea9383fea56.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">jonathan.tan</div><div class="time">2016-12-20 10:49</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/14c978601ac457d94a820cda0922d863.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">walker</div><div class="time">2016-12-20 15:09</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1019b2935f2321473e5de580cdca00f3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">jokepk</div><div class="time">2016-12-20 16:33</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1019b2935f2321473e5de580cdca00f3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">jokepk</div><div class="time">2016-12-20 16:34</div><div class="msg">Hello, just a fast question. Is any cryptography implemented yet on hyperledger fabric?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2016-12-20 17:19</div><div class="msg">depends on the version 0.6 does have in there,. 1.0 is still being developed.  Most of the cryptographers are on vacation up until early January.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-20 23:12</div><div class="msg">@jokepk anything specific you wanted to check/ask? There is a lot of crypto implemented in all versions (0.5, 0.6, and in a more modular form in 1.0)...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-20 23:13</div><div class="msg">We sign transactions, we encrypt, we verify... </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-20 23:16</div><div class="msg">But we also now provide a set of APIs that also allow more selection in requests (e.g. selecting signature scheme, key derivation, size/length, and also work to provide one with the ability to "roll your own" implementation - in v1.0 (which is indeed under development in the 'master' branch)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/49a42d67245eea4cd19127bdaa4a8d06.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">sergefdrv</div><div class="time">2016-12-21 09:40</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-12/116308686071_7e1c09423fddf6203642_72.png" /><div class="message"><div class="username">yuryandreev</div><div class="time">2016-12-21 13:45</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/18a162ff633d4914586c243a25ede4f9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">dgorman</div><div class="time">2016-12-22 09:37</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1019b2935f2321473e5de580cdca00f3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">jokepk</div><div class="time">2016-12-22 11:25</div><div class="msg">@jonathanlevi Okay. Well, I will tell you about a part of my use case and you tell me if hyperledger provides tools to do it. I need a smart contract which data is encrypted on the blockchain and only accessible by 2 involved accounts. The hard part is that I can't store public/private keys to encrypt data on the blockchain (cause they would be publically accessible) so I want to know if membersrvc or something like that can generate and keep safe those keys for me, and maybe only serve them to those 2 peers that can access the contract. I also have another question but isnt really related to this channel: can a go smart contract deploy another smart contract (like solidity does) ? Thanks in advance.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3f3e4be17856b20ef27165d2a784e1bd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">warm3snow</div><div class="time">2016-12-23 01:27</div><div class="msg">@jokepk  why you want to store your private key on the chain?  In your case, when you deploy your contract, you can specify the 2 participants' certificates in the metadata. And you design your chaincode,  only if you two provide correct signature, you can continue to perform the contract or access the data.  For 2, i cannot understand you clearly. Are you saying one contract invokes another contract? if so, it's yes.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-23 02:34</div><div class="msg">Hi again @jokepk, so let’s focus on (hyperledger, of course) fabric. So a few things:

In addition to attempting to answering your questions, may repeat/cover also some of what @warm3snow has above and I will also try to give you more info about fabric, while we are at it:

1. Do you need the smart contract (fabric has “chaincode”s that are executed within containers) to encrypt  some payload? Where are these private keys coming from?

2. Membership Services (fabric v0.5, 0.6) has changed considerably and some of its logic (and more) lives in fabric-cop in v1.0. The private/public key pairs (and signed certificates that we remember (&amp; cache) are used mostly for AUTH/N, AUTH/Z). So you can think about the having the public keys somewhere, for (a weak) identity.

3. The Go “smart contracts” (aka “chaincode”) can invoke another (say again, Go) function that was deployed. It does not work the same way as Ethereum, for example, works - where the contracts have addresses that are reference-able. Here names (strings) are used, and indeed it is the same notion (in that case),</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1019b2935f2321473e5de580cdca00f3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">jokepk</div><div class="time">2016-12-23 09:34</div><div class="msg">Okay, thanks for your answer. The most important part is that indeed, I need the chaincode to encrypt some payload. I would like it to use, for example, the callers public key, so only he could decrypt it using its own private key. In fact I need the chaincode to encrypt data somehow but not with keys stored on the blockchain because then anyone could look at the raw blockchain and decrypt that data.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1019b2935f2321473e5de580cdca00f3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">jokepk</div><div class="time">2016-12-23 09:37</div><div class="msg">As far as I know @warm3snow even though I include those certificates in the metadata, if I write on the chain, the written data is not encrypted, so with a raw look at the blockchain anyone could read it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3f3e4be17856b20ef27165d2a784e1bd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">warm3snow</div><div class="time">2016-12-23 10:08</div><div class="msg">@jokepk how can they read the written data? if they don't show the signature, they don't have the privilege to access your data, even the encrypted data. These Access and Control should be coded in your Query function.  Your meaning is that everyone can access your written data, and you want to encrypt it so they cannot read it. And your problem is how to distribute your private key which is used to encrypt the data to your partner.  As I know, chaincode cannot solve this. I think this problem can be solved in a higher level. It's a key distribution problem.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1019b2935f2321473e5de580cdca00f3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">jokepk</div><div class="time">2016-12-23 10:58</div><div class="msg">@warm3snow What i mean is, data is stored on the chain, so any user with access to a node can take a look at the block transactions and see what is stored if it is not encrypted. And what I want to know is if chaincode can access callers private and public keys so I can use them to encrypt and decrypt data.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-01-11/125888468499_8f778a3218b0b4569875_72.jpg" /><div class="message"><div class="username">111ibm111</div><div class="time">2016-12-23 12:34</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-01-11/125888468499_8f778a3218b0b4569875_72.jpg" /><div class="message"><div class="username">111ibm111</div><div class="time">2016-12-23 12:39</div><div class="msg">When confidentiality is turned on, the payload of block is encrypted.
How can I decrypt this payload in the block?
Which API can i invoke?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-12-27 16:31</div><div class="msg"><a href="https://hyperledgerproject.slack.com/archives/general/p1482856278002242">https://hyperledgerproject.slack.com/archives/general/p1482856278002242</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-12-27 16:31</div><div class="msg">@suranap</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a36c3005209218a7e6b1ec163ee54e00.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">suranap</div><div class="time">2016-12-27 16:32</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f2f14ee3d0f083c9afce9767faf6322d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">muralisr</div><div class="time">2016-12-27 16:33</div><div class="msg">@jonathanlevi was around a bit back… he might have some thoughts ^^^</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-27 16:41</div><div class="msg">Hi @suranap (Pinku)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-27 16:41</div><div class="msg">[thanks Murali}</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-27 16:41</div><div class="msg">"Must every trucker run their own peer, or can a single peer handle many truckers ﻿⁠⁠as if﻿⁠⁠ they were independent peers?"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-27 16:42</div><div class="msg">It really depends on how you choose to implement this. To simplify, each “party” or “counterparty” has an EnrollmentID</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-27 16:43</div><div class="msg">"Or is it all mixed in under the supplier’s credentials?”
Nope, it’s not mixed.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-27 16:45</div><div class="msg">"Can a Fabric Peer host many Personas?”
Hopefully I’m not oversimplifying it - but you can have multiple EnrollmentIDs (e.g. by registering with different IDs).
I, Jonathan, for example have more than one email, but I’m the same guy. I can email you (Pinku) from both accounts and you may or may not know that these accounts are linked.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-27 16:45</div><div class="msg">Again, subject to implementation details.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a36c3005209218a7e6b1ec163ee54e00.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">suranap</div><div class="time">2016-12-27 19:14</div><div class="msg">@jonathanlevi, @muralisr: I’ll dig around in the documentation to learn how to implement something like that. Thanks for the help!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2016-12-27 19:15</div><div class="msg">@suranap: with pleasure. Hope this helped. Let us know.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0ebed1f970cc4f6dc89577f26860cc96.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">umasuthan</div><div class="time">2016-12-28 04:06</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-01-11/125888468499_8f778a3218b0b4569875_72.jpg" /><div class="message"><div class="username">111ibm111</div><div class="time">2016-12-28 04:30</div><div class="msg">When confidentiality is turned on, the payload of every block is encrypted, because some transactions are not suitable for everyone to access.
How can I decrypt this payload in the block? Which API can i invoke?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1019b2935f2321473e5de580cdca00f3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">jokepk</div><div class="time">2016-12-28 11:17</div><div class="msg">Confidentiality encryptation is done client side? I mean, if I use node-sdk, for example, is it nodejs encrypting the data before sending it to the chain?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-01-11/125888468499_8f778a3218b0b4569875_72.jpg" /><div class="message"><div class="username">111ibm111</div><div class="time">2016-12-28 14:57</div><div class="msg">@jokepk  confidentiality is turned on:     confidentialityLevel = pb.ConfidentialityLevel_CONFIDENTIAL</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-06/113325442212_fa1baedad8fe419d5682_72.png" /><div class="message"><div class="username">synblockchainteam</div><div class="time">2016-12-29 11:30</div><div class="msg">@garisingh : Hi, Please let us know how to decrypt payload data when security is enabled?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-01-11/125888468499_8f778a3218b0b4569875_72.jpg" /><div class="message"><div class="username">111ibm111</div><div class="time">2017-01-01 05:41</div><div class="msg">Because some transactions are not suitable for everyone to access.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f20b5b20387bbafb5f46dcfcf77e5a8e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">wangjie</div><div class="time">2017-01-03 03:25</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f20b5b20387bbafb5f46dcfcf77e5a8e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">wangjie</div><div class="time">2017-01-03 03:26</div><div class="msg">hello everyone , what is the meaning of the epoch ? It is the block or the time? and how  to control replay attacks?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/33d53710739bfe1a2f347a311838fc83.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">fan.torchz</div><div class="time">2017-01-04 01:18</div><div class="msg">hi, I found the crypto in fabric is always using same hashAlgorithm for Digest, HMAC and ECDSA, which means we have one primitive security level used by all different Symmetric and Asymmetric primitives, which is definitely a bad practice in cryptography.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/33d53710739bfe1a2f347a311838fc83.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">fan.torchz</div><div class="time">2017-01-04 01:23</div><div class="msg">for example the sdk spec decide to use secp256r1/secp384r1 which by specification, should use SHA2-256 and SHA2-384, We shouldn't randomly choose a SHA3-256 for secp384r1  in this case. Same thing apply to HMAC-SHA3, which is actually a common misusing wrap when SHA3(Keccak) can be used directly for MAC without implement HMAC.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/33d53710739bfe1a2f347a311838fc83.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">fan.torchz</div><div class="time">2017-01-04 01:27</div><div class="msg">This also introduce troubles when we don't have such "customizable(unstandardized)" ECDSA implementations in other platforms like python and nodejs.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2017-01-04 02:30</div><div class="msg">In Fabric 1.0 , we are taking care of these scenario by virtue of implementing BCCSP.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/33d53710739bfe1a2f347a311838fc83.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">fan.torchz</div><div class="time">2017-01-04 03:07</div><div class="msg">@ashutoshkumar  thanks for pointing out, but AFAIK, CryptoSigner is still accepting a flexible digest as input, which means signing function doesn't enforce an entropy required from secp256r1 for example</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/33d53710739bfe1a2f347a311838fc83.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">fan.torchz</div><div class="time">2017-01-04 03:09</div><div class="msg">My concern about this flexibility is it may introduce complexity and potential flaw while implementing.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/33d53710739bfe1a2f347a311838fc83.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">fan.torchz</div><div class="time">2017-01-04 03:11</div><div class="msg">Hope we can make it more clear in spec, that which kind of ciphersuites are valid.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/33d53710739bfe1a2f347a311838fc83.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">fan.torchz</div><div class="time">2017-01-04 03:17</div><div class="msg">like in fabric-cop, it showing a better model, having such suites defined: prime256v1 as `ecdsa-with-SHA256`, secp384r1 as `ecdsa-with-SHA384` and secp521r1 as `ecdsa-with-SHA512`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2017-01-04 03:21</div><div class="msg">yeah. Cipher suites represent capability that we offer and we need to make sure , it is contextual. So , the clearer boundaries are , the better off we are.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/33d53710739bfe1a2f347a311838fc83.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">fan.torchz</div><div class="time">2017-01-04 03:23</div><div class="msg">agree</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/33d53710739bfe1a2f347a311838fc83.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">fan.torchz</div><div class="time">2017-01-04 03:29</div><div class="msg">a quick question, are we still going to keep SHA2 family as specified in RFC5480 for ecdsa in cop?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d2d38d8df4bded879bf66413c857f84a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">tzipih</div><div class="time">2017-01-04 04:23</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2017-01-04 12:56</div><div class="msg">AFAIK , we are keeping SHA2 family in Fabric 1.0.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/33d53710739bfe1a2f347a311838fc83.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">fan.torchz</div><div class="time">2017-01-04 15:09</div><div class="msg">thanks!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/18a162ff633d4914586c243a25ede4f9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">dgorman</div><div class="time">2017-01-04 17:06</div><div class="msg">Hi - Just looking through HFC 0.6.4 and I see that for confidentiality the message is encrypted with the chain public key, and then the chaincodeID, payload and metadata fields are encrypted with the public TKey. What’s the difference between the message being encrypted with the chain public key and the payload (encrypted with public TKey)? I assumed the message would include the payload?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-04 19:13</div><div class="msg">@dgorman - it's a little tricky, but I'll try to explain:

1) As you may know elliptic curve cryptography does not have a native encryption function

2) So we use a hybrid encryption scheme called ECIES (in simplest terms, given KeyPairA and KeyPairB, you can derive the same encryption key from PrivateKeyA/PublicKeyB and PublicKeyA/PrivateKeyB  

3)  So the SDK basically does this twice but in one case (txKey) the validators don't actually have either the public or private key for txKey so we use the chainKey to encrypt that and send it over  -   <a href="https://github.com/hyperledger/fabric/blob/v0.6/sdk/node/src/hfc.ts#L1548">https://github.com/hyperledger/fabric/blob/v0.6/sdk/node/src/hfc.ts#L1548</a>  adds it to an ASN structure and <a href="https://github.com/hyperledger/fabric/blob/v0.6/sdk/node/src/hfc.ts#L1548">https://github.com/hyperledger/fabric/blob/v0.6/sdk/node/src/hfc.ts#L1548</a> uses the chainKey for ECIES encryption (the SDK has the public chainKey)

4) The SDK then uses the public key of txKey to again use ECIES to encrypt the various parts of the transaction message</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-04 19:14</div><div class="msg">(that's the simplest version I can come up with)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-04 19:22</div><div class="msg">even more simply put we use the chainKey to encrypt the per transaction key used to encrypt the rest of the transaction data</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-04-23/37213981696_0d187cd88006dda23ad8_72.jpg" /><div class="message"><div class="username">nits7sid</div><div class="time">2017-01-05 05:12</div><div class="msg">@garisingh  if a client wants to decrypt the payload than he will have to store/save tx private key for each transactions right ? I guess even peers do not keep track of the private key</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/18a162ff633d4914586c243a25ede4f9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">dgorman</div><div class="time">2017-01-05 13:26</div><div class="msg">Many thanks @garisingh.

Is it both the tx public and private keys that are sent to the peer (and encrypted with the chain public key)?

When ECIES does the encryption, does it encrypt with both the *txPrivateKey* and the *chainPublicKey* on the client side, which allows the validator to decrypt using the *chainPrivateKey* and the *txPublicKey* (which has been sent encrypted as well)? 

Or does the client more simply encrypt with the *txPrivateKey* and send the *txPublicKey* to the peer for decryption?

One more question. If Company A is trading with Company B, and Company A adds a transaction to the blockchain. For Company B to see that, I’m guessing Company A would need to send the transaction keys out-of-band to Company B? Depending on the previous answer this might need to be just the txPublicKey or both?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-05 16:47</div><div class="msg">Just the private key of txKey is sent  (there is also another ephemeral public key which is sent as well - on the client side it uses the public key of txKey plus the private key of the ephemeral key for its side of the ECIES encryption).   Then it sends over the txKey private key over in encrypted form (using an ephemeral private key and the chainPublicKey)

Regarding the Company A / Company B question(s), all of the validating nodes have access to the "stateKey" which is used to actually encrypt the values in the state database (the key is generated, stored and encrypted  as part of the "deploy" transaction - so you can have different state encryption keys per chaincode but all validating nodes extract and decrypt the state encryption key from the actual deploy transaction).  I'd have to double check which key(s) are used to encrypt the "blocks" but I believe that's the same as well

(as an aside, I am not sure I would wast much time digging into all of this given we don't do these things in V1)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-05 16:47</div><div class="msg">@adc ^^^^   did I get this basically correct?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/18a162ff633d4914586c243a25ede4f9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">dgorman</div><div class="time">2017-01-06 09:24</div><div class="msg">Thanks @garisingh. Do you know if this level of message encryption changes in V1 are documented yet? I’ve checked the SDK design doc and it refers to the signing keys, tCerts etc, but not encryption keys yet. Many thanks :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-06 11:30</div><div class="msg">that's because we don't have encryption built in to fabric V1 at this point.  as you know V1 has channels to make sure that only nodes which need / are allowed to get the data actually get the data (as opposed to V0.6 where all validators saw everything)

we have some ideas on how we *might* do things at the application level, but we have to get everything else working for now</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-06 12:53</div><div class="msg">@garisingh @dgorman that's correct</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2017-01-06 21:40</div><div class="msg">Thanks @jonathanlevi . Awesome. Saw Elli's and Co's name there. I missed that. Do you know , if we can get recording ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/18a162ff633d4914586c243a25ede4f9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">dgorman</div><div class="time">2017-01-09 09:56</div><div class="msg">Many thanks @garisingh @adc :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-09 14:05</div><div class="msg">Hi Ash, I wish. It was only streamed "live"... but I believe you can ask Zurich also for the slide deck, or so.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2017-01-09 14:15</div><div class="msg">Will do. Thanks.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-01-04/123382166594_ab569d294de3b9f8a76d_72.jpg" /><div class="message"><div class="username">fbenhamo</div><div class="time">2017-01-09 15:02</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4c6d94bd0c53996a9d0fe6f329f8d5b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">donna-dillenberger</div><div class="time">2017-01-11 19:57</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2017-01-12 16:23</div><div class="msg">Who publishes CRLs / revokes root CAs and how is it done?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-12 16:41</div><div class="msg">Where, in general?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-12 16:41</div><div class="msg">Or in COP ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-12 16:42</div><div class="msg">Also, CRLs for revoking E/TCerts or CA certs…?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2017-01-12 16:46</div><div class="msg">I had originally intended to have an option in COP to do it so that it would not have to be implemented multiple times in apps ... when COP is being used, that is</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2017-01-12 16:47</div><div class="msg">CRLs for revoking all of the above ... E/T/CA certs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2017-01-12 16:49</div><div class="msg">How does that get to the ledger?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2017-01-12 16:49</div><div class="msg">Or doesnt it?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2017-01-12 16:50</div><div class="msg">Yes, that is what I'm talking about.   The COP server already supports revocation.  What it doesn't currently support is pushing to the ledger</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2017-01-12 16:51</div><div class="msg">So if you revoke an ECert, the COP server will prevent future requests for TCerts</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2017-01-12 16:52</div><div class="msg">The COP server would have the private key to sign the request to the ledger to make the config change, so it seemed to make sense to have that as a default policy to allow the owner of a root of trust to revoke any cert that has been issued by that CA (i.e. COP server)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2017-01-12 16:54</div><div class="msg">Obviously other options, but this seems like one</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2017-01-12 16:54</div><div class="msg">So it contacts the orderer?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2017-01-12 16:54</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2017-01-12 16:55</div><div class="msg">Assuming the policy is a single signature by the root of trust</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2017-01-12 16:59</div><div class="msg">And revokes per chain? In all chains?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2017-01-12 16:59</div><div class="msg">Is this implemwnted?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2017-01-12 16:59</div><div class="msg">And who triggers cop?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2017-01-12 17:01</div><div class="msg">Yes, one orderer update per channel that the COP server is a member of.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2017-01-12 17:01</div><div class="msg">It is not implemented</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2017-01-12 17:01</div><div class="msg">An administrator calls "cop client revoke" to the cop server</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2017-01-12 17:02</div><div class="msg">cop client --&gt; cop server --&gt; multiple calls to orderer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2017-01-12 17:02</div><div class="msg">Hmmm so the cop is per org or something right?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2017-01-12 17:02</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2017-01-12 17:03</div><div class="msg">Got it. Thanks for the answers!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/81ab05d9ad048b01ac7f1198ab8565f4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">keithsmith</div><div class="time">2017-01-12 17:03</div><div class="msg">yw</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1019b2935f2321473e5de580cdca00f3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">jokepk</div><div class="time">2017-01-17 08:58</div><div class="msg">Hello guys, Im wondering if anyone knows if it is possible to get caller's user id from transaction from within the called chaincode function and how to do it?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-20/81566526400_e395c6ea1e309b2652c8_72.jpg" /><div class="message"><div class="username">dsanchezseco</div><div class="time">2017-01-17 09:10</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f29608e723de3ae8a1db07d83ba3954d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">tsluthra</div><div class="time">2017-01-17 15:57</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-17 18:24</div><div class="msg">@aso @adc @elli Are any of you around?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-17 18:26</div><div class="msg">I am defining a `HashingAlgorithm` configuration parameter for the genesis block, and was wondering what reasonable parameters would be?  The most simple would obviously be a `name` which could be `sha3_shake256` or whatnot, but I didn't know if there was a more standard way of representing this, maybe something like: `family=sha3` `algorithm=shake` `width=256`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-17 18:34</div><div class="msg">(or perhaps a `string name = 1; bytes parameters = 2;` would be more flexible?)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-17 18:35</div><div class="msg">I would follow the JCA example and add it as a string :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-17 18:39</div><div class="msg">@elli Thanks! That sounds like a great idea to me.  I see a whole bunch of names.... but nothing jumps out to me as sha3shake256</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-17 18:39</div><div class="msg"><a href="https://docs.oracle.com/javase/7/docs/api/java/security/MessageDigest.html">https://docs.oracle.com/javase/7/docs/api/java/security/MessageDigest.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-17 18:39</div><div class="msg">I'm looking <a href="https://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html">https://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html</a>

Is there a beter reference?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-17 18:41</div><div class="msg">ah so  i would say that we either specify a type to include the hash functions we would support at the fabric, and add this as a field in the proto message, but no need to separate the hash function name from its length (e.g., SHA256)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-17 18:42</div><div class="msg">or we can represent it as a string inside the genesis block and depending on the version we make the decision later if is among the ones we support</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-17 18:42</div><div class="msg">were you closer to the first path?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-17 18:44</div><div class="msg">Yes, I think so</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-17 18:45</div><div class="msg">@jyellick the link you sent, only contains SHA-1, SHA-256, SHA-384, and SHA-512</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-17 18:45</div><div class="msg">Right, I'm trying to find the JCA name for sha3 shake256 with 512 bytes of output</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-17 18:45</div><div class="msg">(ie, what `util.ComputeCryptoHash` produces)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-17 18:45</div><div class="msg">don't use SHA3</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-17 18:45</div><div class="msg">:wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-17 18:46</div><div class="msg">I think configurable is good... we are already using sha-3 (shake256 with 512 bits of output) for our hashes, that seemed easiest.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-17 18:47</div><div class="msg">I was joking  of course</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-17 18:47</div><div class="msg">Oh, and here I thought I'd heard people actually complaining about sha-3 being too slow...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-17 18:47</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-17 18:47</div><div class="msg">well I'd default to SHA2-256 or SHA2-384 (but that's just me)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-17 18:48</div><div class="msg">right, i would vote for the same</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-17 18:48</div><div class="msg">I'd think switching hasing algorithms shouldn't be too painful.... we just need  a way to specify it.  The JCA ID sounds like a good plan to me, just can't find a list that includes the sha-3 shake256 in it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-17 18:49</div><div class="msg">sha3 is relatively (to the others) new, and people complain about it not having been tested enough, or that it is not supported by their systems.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-17 18:49</div><div class="msg">the SHA3 names analogous to above:

SHA3-224, SHA3-256, SHA3-384, SHA3-512
SHAKE128, SHAKE256</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-17 18:49</div><div class="msg">(well that's how NIST lists them)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-17 18:50</div><div class="msg">Perfect, so, to start since it's what's working, we'll just use a string, and require it to be `SHAKE256` and later, we'll add support for the other ones, possibly changing the default</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-17 18:52</div><div class="msg">glad to be of service sir  :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-17 18:52</div><div class="msg">Thanks much!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-17 19:47</div><div class="msg">@garisingh You still around?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-17 19:57</div><div class="msg">Posting it here in case anyone else would like to chime in, but the second piece of chain configuration I was about to add is regarding the `BlockDataHashingStructure`.  In particular, this could like be a flat concatenation, or a Merkle tree.  In the case of a Merkle tree, it needs a width (how many nodes per level in the tree).  Most likely for efficiency reasons, this will not be binary.

So, I was looking at how to encode this, we could:
1. Use the proto oneof structure, explicitly enumerating which hashing schemes are supported (at the cost of third parties not being able to easily extend this field)
2. Use a "string name" and "bytes parameters" structure, so that more arbitrary structures could be supported (at the cost of the opacity of the parameters requiring yet another unmarshaling of binary data)
3. Only support the type of Merkle, where in order to replicate flat hashing, we would simply set the width of the Merkle tree to be equal to the maximum number of messages.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-17 19:59</div><div class="msg">I am</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-17 20:03</div><div class="msg">@jyellick - definitely agree that we should not have multiple "types" - I like point 3 above for just that reason. 

In that same vein, is there really a reason to allow different hashing schemes?   (I understand having something for future proofing / future pluggability, but is there some specific reason you can think of to have multiple options on day 1?)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-17 20:04</div><div class="msg">2) makes sense to me for extensibility</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-17 20:05</div><div class="msg">I mostly wanted us to be able to flip between tunable Merkle and flat, since there seemed to be some dissent about which was better.  And, figured "if we allow two, do we really want to allow only two"?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-17 20:06</div><div class="msg">ah - ok - so the scheme is merkle or flat - not the actual hashing algorithm</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-17 20:06</div><div class="msg">makes sense to me - and I am fine if "flat" = Merkel with max num messages</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-17 20:06</div><div class="msg">Well, I broke it into two pieces.  HashingAlgorithm, which today we only support shake256, and then scheme which I called BlockDataHashingStructure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-17 20:07</div><div class="msg">got it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-17 20:07</div><div class="msg">Perfect, so, Merkle only, and set the width to batch size or MAX_UINT32 if you want flat</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-17 20:07</div><div class="msg">Thanks again @garisingh !</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-17 20:08</div><div class="msg">seems to be the most expedient way to go</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-17 20:08</div><div class="msg">Was my favorite option as well</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0400637fe17b1c382e6aae6d667c8593.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">daisaku</div><div class="time">2017-01-17 23:27</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a10163312bd0075c2125375698d49606.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0002-72.png" /><div class="message"><div class="username">brianeno</div><div class="time">2017-01-18 00:49</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-06/113325442212_fa1baedad8fe419d5682_72.png" /><div class="message"><div class="username">synblockchainteam</div><div class="time">2017-01-18 04:26</div><div class="msg">Decrypting payload - Please let us know how to decrypt payload data using certificate (Ecert/TCert). Can anyone answer this?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/830387f99982919c422ab19859778a62.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">mohan</div><div class="time">2017-01-18 11:41</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-18/44014366677_d520b6a39dfa9716f55d_72.jpg" /><div class="message"><div class="username">markparz</div><div class="time">2017-01-18 16:01</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-06-14/50785990771_464a8a2c09ee9d029f8b_72.jpg" /><div class="message"><div class="username">nickgaski</div><div class="time">2017-01-18 18:31</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0eaa2da067c36d08d40e648e76ab3ed4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">kzhang</div><div class="time">2017-01-19 14:31</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-20 06:53</div><div class="msg">Tagged many as reviewers, but this may be of general interest to the channel.

<a href="https://gerrit.hyperledger.org/r/#/c/4599/">https://gerrit.hyperledger.org/r/#/c/4599/</a>

The above CR defines a deterministic marshaling scheme for block headers.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2017-01-20 12:36</div><div class="msg">Hi, we traced the source code in v0.6. It seems that there is no checking to prevent malicious node to join the peer network(to trigger INVOKE and QUERY) as long as the malicious node get the shared chain key from other nodes. Is it true? Thank you.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-20 12:39</div><div class="msg">@alanlee  - if they have not obtained their enrollment material (ECert) from membership services they will not be able to invoke or query the network.  this of course assumes that you enable security</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-20 12:40</div><div class="msg">all invoke and query requests must be signed by a valid certificate issued by membership services</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-20 12:41</div><div class="msg">but if you are saying that they "steal" someone else's enrollment private/public key pair then yes - they can join</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2017-01-20 12:42</div><div class="msg">But another node does not Check the Ecert, right?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2017-01-20 12:42</div><div class="msg">I mean Node B won't check the Ecert from Node A..... They only check the ECert's CA validity..?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2017-01-20 12:43</div><div class="msg">Thus, if Node A (malicious) generated its own Ecert.....Node B will not know ?....</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-20 12:45</div><div class="msg">well in v0.6, when Node A tries to communicate with Node B (with security enabled), Node B will actually check with membership services to see if membership services issued the certificate and actually downloads the public X509 cert for Node A   (at least as I recall)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-20 12:46</div><div class="msg">so Node A would need to compromise membership services for what you mention to work</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-20 12:51</div><div class="msg">@adc @jonathanlevi  ^^^^</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2017-01-20 12:58</div><div class="msg">Thanks @garisingh . I am actually with below 2 situations in v0.6. (Moment 1) For Peer-to-Peer Connection, we have enabled TLS (with a bit code changed). When Peer A connect to Peer B (Root Validator), Peer A will check Peer B(Root Node) TLS cert. (Not sure if Peer B(Root) has checked the Peer A TLS).     (Moment 2) When node A is "INVOKE" and send to node B(Root), T-cert(from membershipservice) at Node A will be used to sign the transaction.       ...... can you remind me which step will we use ECert ?(Thank you). ....and ..... it seems Node A can be malicious if this is true.... Thank you.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-20 13:06</div><div class="msg">If you are using REST to perform an INVOKE against Peer A, in this case Peer A is actually acting as more of a "virtual client / wallet" as well as a validating node (assuming it's a validator and not an NVP).  Recall that with security enabled, before you can INVOKE chaincode via REST you must login.  When you login via REST what happens is that Peer A enrolls with membership services on your behalf.  When you later pass the enrollID in the SecureContext field of the REST request, Peer A uses the enrollment certificate to call membership services and receive TCerts on behalf of the client</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2017-01-20 13:43</div><div class="msg">In this case, suppose Peer A is compromised, and Peer A generates fake TCert and send to Peer B(Root Node). Peer B will verify TCert come from real membership service, right ?  (Let me try to trace then ....) Thank you.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 13:45</div><div class="msg">Good morning. I don’t understand this part *Peer A generates fake TCert*</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 13:45</div><div class="msg">(not to be picky, just making sure that we are on the same page/scenario):</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 13:46</div><div class="msg">So PeerA requests (say a batch of) TCerts… when we “know” that he/she might have been compromised or a bad actor?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 13:47</div><div class="msg">[because it’s the MS that actually issues them TCerts, right?]</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2017-01-20 13:48</div><div class="msg">Good morning Johnathan.  For example, I set up two clusters: first clusters are truely used by banks (with memebership service A). second cluster with membership service).  ...... If I copied the TCert generated in the second cluster node rocksdb to  NODE A in first cluster ....    (it means NODE A is compromised) .... will other node in the first cluster notice this ?.....</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2017-01-20 13:48</div><div class="msg">Actually, I want to see if NODE A is compromised... and use "some ways" to generate T-certs, can it trick other nodes ...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2017-01-20 13:49</div><div class="msg">(Note: second cluster use another membership service B)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 13:49</div><div class="msg">OK, we should split this to two cases. Sorry :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 13:49</div><div class="msg">Yes, got you.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 13:50</div><div class="msg">1. A “compromised/rogue” Membership Service server, say MS_B</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 13:50</div><div class="msg">2. A “compromised/rogue” player working with an “honest” Membership Service server</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 13:52</div><div class="msg">The main thing here is about the trust-model, right? That is, on basis did “cluster A” nodes, that work with MS_A, based their trust on (T)Certs signed/issued by the MS of “cluster B”, our lovely MS_B.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2017-01-20 13:53</div><div class="msg">yes.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 13:54</div><div class="msg">OK, thanks for confirming.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 13:54</div><div class="msg">So now, when you are asking *will other node in the first cluster notice this ?*</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2017-01-20 13:54</div><div class="msg">yes. (to identify malicious node in the cluster)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 13:54</div><div class="msg">In the first place, we do verify signatures and their validity.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 13:54</div><div class="msg">Wait, here’s the catch.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 13:55</div><div class="msg">The dry-cold-boring-has-no-feelings kinda of MS_A, does not really know what is “compromised”...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 13:56</div><div class="msg">It either “accepts” (or say, verifies successfully) a given signature, or not (that is “rejects”, or fails to verify it)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 13:57</div><div class="msg">In a way, Fabric and MS in particular, provide you with the “framework” for issuing certs/validating signatures, etc.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 13:57</div><div class="msg">Now, it is possible to set up a “policy” as to what a server should (and of course *should not*) trust.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 13:57</div><div class="msg">If you agree with me so far….</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 13:58</div><div class="msg">Then we get back to this point:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2017-01-20 13:58</div><div class="msg">yes.... sorry, i don' understand "set up a “policy” as to what a server should (and of course *should not*) trust."</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2017-01-20 13:58</div><div class="msg">and agree all the rest...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 13:59</div><div class="msg">Oh, good you stopped me. Thanks.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 13:59</div><div class="msg">When you have only one MS, and everybody just trusts that one… it is simple but there is less flexibility.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2017-01-20 13:59</div><div class="msg">yep</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 13:59</div><div class="msg">That is, if we “invalidate” / not trust any certs from that MS, we won’t be able to trust anything… issued by that MS from a certain point in time, or otherwise.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 14:01</div><div class="msg">When you work with more than one, there is some from of a PKI “hierarchy”, so that anyone validating a cert, kinda “trusts” signatures that are/were issued by ‘both’ MS_A and MS_B.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 14:01</div><div class="msg">Otherwise, you can’t inter-operate. You would trust only MS_A from the get-go. Yes?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 14:02</div><div class="msg">Now, if you never trusted MS_B…..</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2017-01-20 14:03</div><div class="msg">yes..... so MS_A and MS_B have to co-operate somehow to make it happen ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 14:03</div><div class="msg">Right</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 14:03</div><div class="msg">Thank you. So now when you “see” a certificate, you validate it against the Public key of the MS_*.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2017-01-20 14:03</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 14:04</div><div class="msg">So MS_A and MS_B will issue diffferent certificates and you can check/validate/verify it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 14:05</div><div class="msg">The question in your case I believe is what to “revoke"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 14:06</div><div class="msg">Do we “revoke” all of MS_B or is it just one node.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 14:06</div><div class="msg">When it’s one node, I simply revoke its ECert… and BOOM, he/she is out.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 14:07</div><div class="msg">(You need the ECert to obtain subsequent TCerts)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 14:07</div><div class="msg">But if it’s the entire MS_B… then we need to inform MS_A about it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2017-01-20 14:07</div><div class="msg">but Node will get a batch of 200 Tcert from membership service at once  ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 14:08</div><div class="msg">(It’s customizable, but yes). I have 1..200 TCerts.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2017-01-20 14:08</div><div class="msg">so, we need to invalidate those Tcerts in Node A</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2017-01-20 14:08</div><div class="msg">when ECert is out</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 14:08</div><div class="msg">Yes, I invalidate everything.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2017-01-20 14:09</div><div class="msg">... and NODE B (in cluster 1) can verify it by checking the TCert ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2017-01-20 14:09</div><div class="msg">in the transaction ( INVOKE at node A)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 14:10</div><div class="msg">OK, that’s the “policy” bit from above. The way I implemented something similar on top of Fabric/MS… we always check that no certificate has been revoked.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 14:11</div><div class="msg">It comes with a price (longer set-up, can be slow for more high-frequency usages)… but sometimes (probably like in your case), you need it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 14:12</div><div class="msg">We revoke everything right away, keep the log of “why” and actually provide it to the “manager” as something to consider with “new enrollment requests"</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2017-01-20 14:12</div><div class="msg">so the "policy" means "NODE B will verify" is optional/configurable ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 14:12</div><div class="msg">I know that there are many that use Fabric/MS v0.6 without these checks, and it’s indeed quicker.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 14:13</div><div class="msg">Yes, it’s like in your web-browser, in a way.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2017-01-20 14:13</div><div class="msg">i see...  And in our case, we need it... because we worry that nodes got compromised ....</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 14:14</div><div class="msg">Obviously I don’t have all the info, but for financial applications - I would go slow and steady.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 14:14</div><div class="msg">Don’t trust TCerts “blindly”. I agree.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2017-01-20 14:14</div><div class="msg">...but how to make it work if we really need it ? .... to check the TCert at Node B?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 14:15</div><div class="msg">So to summarize:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 14:15</div><div class="msg">1. Each issued certificate has that “signature” that “tells you” who is the issuer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 14:16</div><div class="msg">2. You can have your own logic on a receipt of such a cert at the “membership services layer", and make decisions whether you’d trust that.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 14:16</div><div class="msg">3. You can invalidate certs and keys of a node and even a full MS “cluster"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 14:17</div><div class="msg">4. There is “logic” that many add to the “application layer” when it comes to “trust” (what to trust, how much, for how long, etc.)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2017-01-20 14:20</div><div class="msg">Thanks @jonathanlevi . I intend to make it work. What is the good way to verify TCert at Node B? Real-time connecting to MS and checking revoke status ? ...  (Sorry for bother you and garisingh for so long...you both are smart and knowledgeable...)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 14:22</div><div class="msg">Nah, Gari is smart. I’m knowledgeable. I can point you to some code sections.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 14:23</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/643c0387e8be90522a44939e4d859a10.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">alanlee</div><div class="time">2017-01-20 14:24</div><div class="msg">Smart and knowledgeable. Good match. we can fight crime ...:grinning:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2017-01-20 14:24</div><div class="msg">Jonathan even has his own bat signal</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2017-01-20 14:24</div><div class="msg">Its well known</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-20 15:06</div><div class="msg">@adc @elli @aso <a href="https://gerrit.hyperledger.org/r/#/c/4599/">https://gerrit.hyperledger.org/r/#/c/4599/</a> wanted your input on this, thanks to @adc for the existing comment, though maybe slack would be faster than gerrit to reach consensus though</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-23/83480608560_37f6c281c3efc8121d04_72.jpg" /><div class="message"><div class="username">silliman</div><div class="time">2017-01-20 15:08</div><div class="msg">@jonathanlevi if you are not smart then I hope to be as dumb as you when I grow up  :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-20 15:16</div><div class="msg">So the dataHash is shake256 on protobuf marshalled bytes correct?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 15:17</div><div class="msg">DataHash in BlockHeader?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-20 15:19</div><div class="msg">@jyellick, thanks. I read your comment, I'm fine with ti. Then I would ensure that there is a version somewhere that can be used to bind the way   the blockheader is converted to bytes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-20 15:19</div><div class="msg">because the way you marshal, you are implicitly assuming that the hash function has always 256 bits of about</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-20 15:19</div><div class="msg">but this might change in the future</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-20 15:19</div><div class="msg">@elli So, the hashing algorithm gets defined in the genesis block, for now, the only supported one is shake256</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-20 15:19</div><div class="msg">right, right</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-20 15:20</div><div class="msg">actually, I found out that yesterday</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-20 15:20</div><div class="msg">and I found it pretty neat</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-20 15:20</div><div class="msg">the only thing to change is that the hash should be computed by the BCCSP</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-20 15:20</div><div class="msg">The `DataHash` will actually be computed via Merkle tree of configured width, and for flat hashing, we can just make the width `MAX_UINT32`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-20 15:20</div><div class="msg">but that I can change easly</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-20 15:20</div><div class="msg">Perfect.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-20 15:21</div><div class="msg">so, If one customize the hash function to be SHA2-384</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-20 15:21</div><div class="msg">@jonathanlevi I refer to this description: This changeset chooses the following simple scheme:
   Concatenate the following:
      8 bytes BigEndian encoded Number
      PreviousHash
      DataHash</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-20 15:21</div><div class="msg">I am guessing that DataHash is the Merkle root of the transaction tree</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-20 15:21</div><div class="msg">It is</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-20 15:21</div><div class="msg">in that block</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-20 15:21</div><div class="msg">but transactions are protobuf marshalled no?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-20 15:22</div><div class="msg">Will have another CR to address DataHash</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-20 15:22</div><div class="msg">Ah, but the transctions are _stored_ marshaled</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-20 15:22</div><div class="msg">So they are already bytes, no need to worry about re-marshaling them.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-20 15:23</div><div class="msg">right right</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-01-20 15:23</div><div class="msg">@elli thanks for the context.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-20 15:23</div><div class="msg">So, @adc I'm quite happy _not_ to use the concatenation scheme, if ASN.1 is normal, we should do normal</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-20 15:23</div><div class="msg">We were simply using protbuf before, which is certainly wrong</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-20 15:24</div><div class="msg">Right so no window for non-determinism there, you are saying cause it is the same tx bytes that everyone receive</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-20 15:24</div><div class="msg">yes, please. By default, ASN.1 guarantees the minimum representation</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-20 15:24</div><div class="msg">And my crypto-naive mind thought concatenation was easy</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-20 15:24</div><div class="msg">and we will be generic enough</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-20 15:24</div><div class="msg">Great, I will fix that up then</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-20 15:24</div><div class="msg">perfect :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-20 15:25</div><div class="msg">and you can nicely serialize Go structs to ASN1 encoding</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-20 15:25</div><div class="msg">yeah :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-20 15:26</div><div class="msg">But we should use ASN.1 for all the fields no? meaning also for the DataHash bytes.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-20 15:26</div><div class="msg">Well, the `DataHash` we said is going to be computed via a configurable width Merkle tree</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-20 15:27</div><div class="msg">And since `BlockData` is nothing but repeated byte arrays, it seems like there's no need for any ASN.1 representation?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2017-01-20 15:28</div><div class="msg">ASN1 seems the right way to go.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2017-01-20 15:29</div><div class="msg">go ASN lib is pretty cool.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-20 15:29</div><div class="msg">@jyellick, right right. My bad :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-20 15:30</div><div class="msg">Perfect, thanks, you had me doubting myself</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-20 15:51</div><div class="msg">So, my naive attempt to use `encoding/asn1` over the block header gives me: `asn1: structure error: unknown Go type: uint64` is there a standard way of handling uint64's in asn1?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-20 15:56</div><div class="msg">(@elli @aso @adc @garisingh @ashutoshkumar ^)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-20 15:58</div><div class="msg"><a href="https://jannewmarch.gitbooks.io/network-programming-with-go-golang-/content/dataserialisation/asn1.html">https://jannewmarch.gitbooks.io/network-programming-with-go-golang-/content/dataserialisation/asn1.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-20 15:58</div><div class="msg">Go places real restrictions on ASN.1. For example, ASN.1 allows integers of any size, while the Go implementation will only allow upto signed 64-bit integers. On the other hand, Go distinguishes between signed and unsigned types, while ASN.1 doesn't. So for example, transmitting a value of uint64 may fail if it is too large for int64.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-20 15:59</div><div class="msg">it is a mess :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-20 16:23</div><div class="msg">Not a great pitch for asn1 but, I suppose we will have to leave a chain running for quite a while before we exhaust the 63 bits</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-20 16:25</div><div class="msg">So the suggested solution would be to declare some shadow structure, where block number is an int64, and marshal that?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-20 16:25</div><div class="msg">@adc ^</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-20 16:27</div><div class="msg">right, but then we have to check that the int64 is non-negative</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-20 16:28</div><div class="msg">just to be sure that nothing strange happens</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-20 16:28</div><div class="msg">Right, will test for that and panic</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-20 16:29</div><div class="msg">don't panic @jyellick - all will be ok  :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-20 16:29</div><div class="msg">haha</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-20 16:35</div><div class="msg">Got it!

```
        asn1Header := asn1Header{
                PreviousHash: b.PreviousHash,
                DataHash:     b.DataHash,
        }
        if b.Number &gt; uint64(math.MaxInt64) {
                return []byte("@garisingh says don't panic!")
        } else {
                asn1Header.Number = int64(b.Number)
        }
        result, err := asn1.Marshal(asn1Header)
        if err != nil {
               return []byte("Just ask @garisingh!")
        }
        return result
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-20 16:41</div><div class="msg">(@aso @adc @elli @garisingh pushed an update to the CR if you care to review)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-20 16:49</div><div class="msg">hehe</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-20 16:53</div><div class="msg">("@garisingh says don't panic!") :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2017-01-20 19:48</div><div class="msg">hi gang,  just to confirm ... _SerializedIdentity.IdBytes_ contains the PEM encoded X509 certificate ?   that's what it says in <a href="https://gerrit.hyperledger.org/r/gitweb?p=fabric.git;a=blob;f=msp/identities.go;h=cf8ecf317311947a571a918976028bf2010e7153;hb=HEAD#l117">https://gerrit.hyperledger.org/r/gitweb?p=fabric.git;a=blob;f=msp/identities.go;h=cf8ecf317311947a571a918976028bf2010e7153;hb=HEAD#l117</a>  but I'm paranoid</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-20 20:31</div><div class="msg">hi @tuand! this is correct, that is for the x.509  msp.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2017-01-20 21:07</div><div class="msg">in the same vein, what is the signature algorithm ? I saw a list in the golang `crypto` package but the names don't match what's in <a href="http://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#Signature">http://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#Signature</a>   and I need to use that list on the java SDK side</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-20 21:48</div><div class="msg">Signature algorithm can be RSA or ECDSA</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-20 21:50</div><div class="msg">depending on the CA's key type</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2017-01-20 21:52</div><div class="msg">@elli, aren't you on a plane :wink: ?   are we using a default currently , maybe SHA256withECDSA ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2017-01-20 21:54</div><div class="msg">on the java sdk side, for verification, I need to create a Signature object with method getInstance(sig algorithm) ... trying to figure out where I can get the algorithm name</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-20 21:59</div><div class="msg">SHA256withECDSA should work</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-20 22:00</div><div class="msg">@tuand - I guess you are on the SDK team now?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2017-01-20 22:01</div><div class="msg">@garisingh  yes,  sharon asked me to help out</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-20 22:02</div><div class="msg">I knew that - but was not sure that others did  :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-05-01/39256398483_5bf896c70623b7526e05_72.jpg" /><div class="message"><div class="username">tuand</div><div class="time">2017-01-20 22:04</div><div class="msg">the fewer people know,  the less work I get :grin:    anyways i'll plug in sha256withedsa and see what happens</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8c39033f53a79709acb34b67c6f7c15f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">miketwenty1</div><div class="time">2017-01-21 22:57</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8c39033f53a79709acb34b67c6f7c15f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">miketwenty1</div><div class="time">2017-01-21 22:57</div><div class="msg">hello</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8c39033f53a79709acb34b67c6f7c15f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">miketwenty1</div><div class="time">2017-01-21 22:58</div><div class="msg">I was hoping to ask some questions about the fabric blockchain is using nonces</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a44dbde29e78f6d098267c9eeaf48359.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">alacambra</div><div class="time">2017-01-22 07:53</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1dd3fac73a178ab92dc0bf878ec1dc73.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">chen.nie</div><div class="time">2017-01-24 00:37</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a1174343fd5aa071737d6ea9383fea56.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">jonathan.tan</div><div class="time">2017-01-24 14:54</div><div class="msg">Hi everyone , does anyone know where can I find information about encrypting and decrypting transactions/payload? I tried setting to confidential:true and transactions are now encrypted but how do I decrypt the transaction information like payload ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6f2dce3bbfaab4955f76d5fe8760e3c3.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">andyb</div><div class="time">2017-01-24 15:56</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dda9f4989c03a925ec9cabaf92261567.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">alankhlim</div><div class="time">2017-01-25 13:10</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-25 15:36</div><div class="msg">@jzhang @rickr @adc Since #fabric-dev seems a little busy, can we move the ASN.1 discussion here? 

&gt; I'm still trying to understand why the SDK ever needs to compute this hash</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-25 15:58</div><div class="msg">sure,</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-25 15:58</div><div class="msg">@jyellick, may you join the discussion here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-25 16:00</div><div class="msg">Yep, I'm here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-25 16:03</div><div class="msg">so, I don't want to stress on using ASN.1</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/aa32af034870d28ba4a6828888b04a92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">rickr</div><div class="time">2017-01-25 16:03</div><div class="msg">The block header has the headerNumber</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-25 16:03</div><div class="msg">it is used for cryptographic objects</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-25 16:03</div><div class="msg">but it might be avoided in certain case</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-25 16:03</div><div class="msg">Ah, it is still encoded as protobuf, but when we compute the hash, we marshal it to ASN.1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-25 16:03</div><div class="msg">expecially if there is a signature that authenticate everything</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-25 16:03</div><div class="msg">@rickr You do not need to understand ASN.1 to simply read the block header</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-25 16:03</div><div class="msg">We are only encoding to ASN.1 when computing the hash</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/aa32af034870d28ba4a6828888b04a92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">rickr</div><div class="time">2017-01-25 16:04</div><div class="msg">I'm seeing a need for that some time in the future</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-25 16:04</div><div class="msg">What is the need?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/aa32af034870d28ba4a6828888b04a92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">rickr</div><div class="time">2017-01-25 16:05</div><div class="msg">in case of an eventHub looking at blocks on a fail over we don't want to process the same block again</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-25 16:06</div><div class="msg">@rickr I do not follow.  With only protobuf, and no ASN.1, you can read the block number from the block header.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/aa32af034870d28ba4a6828888b04a92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">rickr</div><div class="time">2017-01-25 16:07</div><div class="msg">y</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/aa32af034870d28ba4a6828888b04a92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">rickr</div><div class="time">2017-01-25 16:07</div><div class="msg">we can unmarshal it  as regular protobuf</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-25 16:08</div><div class="msg">Yes, the block structure is protobuf</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/aa32af034870d28ba4a6828888b04a92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">rickr</div><div class="time">2017-01-25 16:08</div><div class="msg">if it's encoded it in ASN.1 then we need libaries to handle that .   That would would mean the same for any other toolkit /languse</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-25 16:08</div><div class="msg">It is not encoded in ASN.1</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/aa32af034870d28ba4a6828888b04a92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">rickr</div><div class="time">2017-01-25 16:08</div><div class="msg">ok maybe I missed that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-25 16:09</div><div class="msg">When we compute the _hash_ of the block header, to get the bytes to compute the hash over, we temporarily encode the header via ASN.1 to bytes deterministically.  We then compute the hash over these temporary bytes, and store the hash normally in the proto structures.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/aa32af034870d28ba4a6828888b04a92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">rickr</div><div class="time">2017-01-25 16:10</div><div class="msg">ok so when it comes to the toolkit doing the verification so we can trust it .. does it not need to do the same ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-25 16:11</div><div class="msg">It depends on how you are establishing trust.  My understanding, was that the toolkit does not retain the entire blockchain, but simply queries against a peer to get ledger state.  Is that correct?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/aa32af034870d28ba4a6828888b04a92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">rickr</div><div class="time">2017-01-25 16:12</div><div class="msg">From the eventHub  we get block events .   One block at a time .</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-25 16:25</div><div class="msg">And how do you ensure that the eventHub is sending you real blocks?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-25 16:29</div><div class="msg">@rickr This is my ignorance, but I'm not sure where the difference is between the peer and the SDK.  If the SDK needs the full blockchain, and needs to validate the full blockchain, then it seems to me like it is acting exactly as a peer.  So it seems like that cannot be the case to me. If you are querying the blocks from the peers, and trusting the peer to reply with the correct block requested, then I do not what computing the block header hash could be useful for.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/aa32af034870d28ba4a6828888b04a92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">rickr</div><div class="time">2017-01-25 16:31</div><div class="msg">@jyellick  Probably my ignorance.  As of the moment I only think we need verify each block we get from the event hub</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-25 16:32</div><div class="msg">What does it mean to verify a block from the SDK perspective?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/aa32af034870d28ba4a6828888b04a92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">rickr</div><div class="time">2017-01-25 16:35</div><div class="msg">@pmullaney To verify each block we get from the eventhub stream what signature  and across which bytes will we need to verify against ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2017-01-25 16:43</div><div class="msg">@rickr @jyellick @pmullaney i don’t know if the SDK needs to do any verification of blocks</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2017-01-25 16:43</div><div class="msg">it needs to be hooked up to a trusted event source (a trusted peer) in the first place</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-25 16:44</div><div class="msg">If the SDK trusts its peer, then I don't foresee any reason why the SDK needs to recompute the block header hash</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-07/114120422036_060d13e375e6bd4d8bf8_72.png" /><div class="message"><div class="username">jyellick</div><div class="time">2017-01-25 16:44</div><div class="msg">(And therefore, no ASN.1 is needed at the SDK side)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2017-01-25 16:44</div><div class="msg">if that assumption is not true, then many things start falling apart</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/aa32af034870d28ba4a6828888b04a92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">rickr</div><div class="time">2017-01-25 16:44</div><div class="msg">@jzhang Then why the need for verification anywhere else ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a1cf98cce2cac60779dd1b934c05b1c5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">yuki.k</div><div class="time">2017-01-25 16:48</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2017-01-25 17:08</div><div class="msg">@rickr the only other place that SDK is doing verification is when it receives proposal responses from endorsers, and that check is needed because endorsers from other orgs are not to be trusted</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2017-01-25 17:10</div><div class="msg">i should say “… that SDK needs to do verification ....” (because node.js hasn’t done that yet and as far as i know neither does Java SDK) :wink:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0e26bac1412f4db539105d85d6492fec.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">gennady.laventman</div><div class="time">2017-01-25 17:10</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-12/116308686071_7e1c09423fddf6203642_72.png" /><div class="message"><div class="username">yuryandreev</div><div class="time">2017-01-25 17:22</div><div class="msg">Hey guys, I want to change keys and certificate in fabric/msp/sampleconfig/.

Somebody generate private key (elliptical curve) for CA and different Intermediate key for peers using openssl

fabric/msp/sampleconfig/admincerts/admincert.pem
fabric/msp/sampleconfig/cacerts/cacert.pem
fabric/msp/sampleconfig/keystore/key.pem
fabric/msp/sampleconfig/signcerts/peer.pem</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2017-01-25 17:25</div><div class="msg">did not get your q .</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-12/116308686071_7e1c09423fddf6203642_72.png" /><div class="message"><div class="username">yuryandreev</div><div class="time">2017-01-25 17:26</div><div class="msg">I want start network with different keys for each peer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-12/116308686071_7e1c09423fddf6203642_72.png" /><div class="message"><div class="username">yuryandreev</div><div class="time">2017-01-25 17:27</div><div class="msg">now, cop isn’t work with peer and peer have local msp, right?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7931dec0c6f9433a607698454cd8de0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">matanyahu</div><div class="time">2017-01-25 19:15</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0f48ae4d500ba23f78a4bce2d5341d95.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">sukrit</div><div class="time">2017-01-25 21:33</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2017-01-25 21:40</div><div class="msg">so continuing the discussion on #fabric-pr-review re: importing private keys.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 21:40</div><div class="msg">@ashutoshkumar @jzhang current BCCSP only needs the SKI</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2017-01-25 21:40</div><div class="msg">@vpaprots says:

- get private key pem file, parse
   - if a SKI PEM header, great, how we should do it
   - else try to import key into currernt/default csp</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 21:41</div><div class="msg">no need for a path</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2017-01-25 21:41</div><div class="msg">but that requires the bccsp impl of getKey(ski) to know how to work with an arbitrary external key store</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 21:41</div><div class="msg">right</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2017-01-25 21:41</div><div class="msg">which I don’t know how that’s possible unless it’s pkcs11</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 21:41</div><div class="msg">that is part of bccsp initialization</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2017-01-25 21:41</div><div class="msg">but there’s no equivalent spec for software based key stores right?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2017-01-25 21:41</div><div class="msg">it is file based AFAIK for SW based system.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 21:41</div><div class="msg">the sw bccsp initialization takes a directory location for keystore</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 21:42</div><div class="msg">but that happens only at initialization</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2017-01-25 21:42</div><div class="msg">so , if you have .p12 or java keystore ,it is not going to work.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2017-01-25 21:42</div><div class="msg">it does but how to actually do the look up with the keystore given the ski, that’s all implementation-specific</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2017-01-25 21:42</div><div class="msg">so in the end a bccsp impl can only work with one specific keystore</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 21:42</div><div class="msg">well.. that would mean another bccsp perhaps if you want a java keystore..</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2017-01-25 21:42</div><div class="msg">in other words, the private key must exist in the bccsp’s own key store</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2017-01-25 21:43</div><div class="msg">yes.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 21:43</div><div class="msg"><a href="https://gerrit.hyperledger.org/r/#/c/4397/8">https://gerrit.hyperledger.org/r/#/c/4397/8</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 21:43</div><div class="msg">have a look at the testdata directory</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 21:44</div><div class="msg">I've created a sw keystore and imported it so that the test cases had something static to run against</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 21:44</div><div class="msg">the sw keystore (@adc 's invention) stores keys by ks/&lt;ski&gt;_&lt;type&gt;</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 21:45</div><div class="msg">given an `ski []byte` it will do a directory lookup for `ks/&lt;ski&gt;_*`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2017-01-25 21:45</div><div class="msg">suppose i have java-based tool that does the CA enrollment for my app, so the private key is stored in a `keystore` file in my jvm folder</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2017-01-25 21:46</div><div class="msg">how am i to find those keys from node.js SDK?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 21:46</div><div class="msg">!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 21:46</div><div class="msg">now its getting interesting! :smile:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2017-01-25 21:46</div><div class="msg">i would have to code up an “adapter” of some sort that understands jvm keystores</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2017-01-25 21:46</div><div class="msg">and this goes on for every different kinds of keystores</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2017-01-25 21:47</div><div class="msg">from Node , you cannot read java key store.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2017-01-25 21:47</div><div class="msg">so what i’m saying is instead this could be done using the procedure i was describing earlier, as a one-time import</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2017-01-25 21:47</div><div class="msg">you need to convert java key store to p12 and then read from node.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2017-01-25 21:48</div><div class="msg">@ashutoshkumar exactly what i’m saying (well i suppose you could have node call java to read, etc.) but the point is you’d have to write code to do that, vs. doing a manual “export -&gt; import” procedure that’s a one-time deal</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2017-01-25 21:49</div><div class="msg">Jim , you are out of luck with using existing key store in bccSP for SW based system.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2017-01-25 21:49</div><div class="msg">that might improve in future.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 21:49</div><div class="msg">A bit confused about the situation.. java tool that handles enrollment?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2017-01-25 21:50</div><div class="msg">could any other kind of tool that enrolls with a CA that’s not fabric-ca</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 21:50</div><div class="msg">cant we have a golang tool? :smile:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 21:50</div><div class="msg">that uses BCCSP? :smile:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2017-01-25 21:50</div><div class="msg">just using java as an example to illustrate the point</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2017-01-25 21:50</div><div class="msg">but it has to be done natively in SDK , I guess.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 21:52</div><div class="msg">I was talking to Jeff earlier, he was showing me the boostrap feature he is working on.. got me thinking how it would integrate with BCCSP. Its CLEARLY a problem :disappointed:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-25 21:53</div><div class="msg">why?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 21:53</div><div class="msg">well.. he creates pem files with private keys</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-25 21:53</div><div class="msg">using openssl?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 21:53</div><div class="msg">python I think</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 21:53</div><div class="msg">perhaps that calls openssl?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-25 21:53</div><div class="msg">might be</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2017-01-25 21:53</div><div class="msg">@vpaprots before moving on to another topic, can you first give +1 to <a href="https://gerrit.hyperledger.org/r/#/c/4787/">https://gerrit.hyperledger.org/r/#/c/4787/</a>?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-25 21:53</div><div class="msg">what's wrong with that?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2017-01-25 21:53</div><div class="msg">sounds like you are agreeing with the code itself</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 21:54</div><div class="msg">yep</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2017-01-25 21:54</div><div class="msg">(but how to use it is still up for debate)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 21:55</div><div class="msg">(@jzhang done)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2017-01-25 21:55</div><div class="msg">(thanks!)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 21:57</div><div class="msg">@adc secrets in pem files only work with SW bccsp. Well, technically I got it to work with PKCS11 BCCSP, but @tvi tells me key import is disabled for FIPS lvl&gt;3</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 21:58</div><div class="msg">a 'fairly transparent' interface is to use the same option that specifies the key-pem for actually reading in a SKI, which is then used to load from default bccsp keystore</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-25 22:01</div><div class="msg">ah but then I would say that for behave tests, the best you can hope is to use SoftHSM no?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-25 22:01</div><div class="msg">actually, we should move the fabric to digest SKIs directly</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-25 22:01</div><div class="msg">without having to do key import, no?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 22:01</div><div class="msg">yep</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 22:01</div><div class="msg">wont happen immediatelly</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 22:01</div><div class="msg">so import it is for now</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 22:02</div><div class="msg">but we need to move that way</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 22:02</div><div class="msg">(I would certainly want to be able to run behave with actual crypto card)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 22:04</div><div class="msg">@jzhang <a href="https://developers.yubico.com/yubico-piv-tool/YKCS11_release_notes.html">https://developers.yubico.com/yubico-piv-tool/YKCS11_release_notes.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 22:05</div><div class="msg">since some people might run nodejs on their own machines..</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 22:05</div><div class="msg">using yubico for them to store their certs.. through Gong's pkcs11 implementation.. that would be very neat.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 22:06</div><div class="msg">we are probably nearly there too</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 22:06</div><div class="msg">(not sure if you've heard of yubico before..)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 22:06</div><div class="msg">I have one that I use for my password manager and email..</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2017-01-25 22:12</div><div class="msg">@vpaprots so i think you and @adc are essentially proposing to have bccsp be based on pkcs11 so it’ll have a standard protocol with private key management via SKI, and thus can delegate the storage to different keystore impls (software or hsm), do i understand it right?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 22:13</div><div class="msg">right on "private key management via SKI, and thus can delegate the storage to different keystore impls", but disagree with "bccsp be based on pkcs11"</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2017-01-25 22:13</div><div class="msg">not completely</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2017-01-25 22:13</div><div class="msg">just for the key storage part</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 22:14</div><div class="msg">well.. current SW bccsp has two keystore already.. FileBasedKeystore and a DummyKeyStore.. we could probably add a few more</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 22:16</div><div class="msg">as part of SW bccsp configuration, one can specify which keystore to use, so we could acomodate JKS and P12 perhaps? the point is, apart from SKI, the 'developer' should not care about how the key is stored</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 22:16</div><div class="msg">the FileBasedKeystore actually stores things are pem files (back to where we started? :smile: )</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2017-01-25 22:25</div><div class="msg">you can store PEM files as concatented form. But that requires BCCSP to change.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-25 22:32</div><div class="msg">actually, if you want to change the way crypto objects are stored, you just need to provide a new implementation of the KeyStore interface</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-07-21/61823221170_e0795e87fc9eb0abb221_72.jpg" /><div class="message"><div class="username">adc</div><div class="time">2017-01-25 22:32</div><div class="msg">that's it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/9b5a6ebf0fb4bfb844899338c25c665f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">vpaprots</div><div class="time">2017-01-25 23:17</div><div class="msg"><a href="https://github.com/pavel-v-chernykh/keystore-go">https://github.com/pavel-v-chernykh/keystore-go</a> :wink:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a1174343fd5aa071737d6ea9383fea56.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">jonathan.tan</div><div class="time">2017-01-26 02:58</div><div class="msg">Hi @garisingh @weeds @jzhang , do you know who I can get advice/assistance about the encryption/decryption of the block/transaction information (chaincode id, payload, etc. ) ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/693baf7118ea52f1ad0aadf6fa97d962.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">jzhang</div><div class="time">2017-01-26 03:17</div><div class="msg">@jonathan.tan i see that you are in Singapore, you can contact the solution team in IBM China Research Lab, i’ll send you a few contact names via DM</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a1174343fd5aa071737d6ea9383fea56.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">jonathan.tan</div><div class="time">2017-01-26 03:17</div><div class="msg">thanks @jzhang</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5812bdc781076331fcfe9743fc60ca35.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">oiakovlev</div><div class="time">2017-01-26 09:34</div><div class="msg">Hi, all. Maybe a bit silly question but: how consensus work when confidentiality is enabled? 
As if it is set I guess that other peers will receive encrypted transaction payload, right? If they don't have appropriate keys they will not be able to decrypt them and execute the transaction? Or do I mess up the things peers will always have needed keys to decrypt/encrypt and only enrolled user will miss them (which I guess is not the case as peer also has enrolled user, so has only some subset of certificates, right?)?
My question is based on v06 but I guess it would be similar for v1 if we are talking in context of single channel?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-26 12:04</div><div class="msg">When confidentiality is on transactions are encrypted on the sdk side using a chain-specific public (encryption) key. The corresponding decryption key in V0.6 is given to all validators that can decrypt transactions and execute them accordingly.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-26 12:04</div><div class="msg">It is only the payload of trnasactions that is encrypted, so all the rest of information, i..e, signing certificate, nonce, are in the clear.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-26 12:05</div><div class="msg">In v1 there is no fabric encryption capabilities yet.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5812bdc781076331fcfe9743fc60ca35.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">oiakovlev</div><div class="time">2017-01-26 12:13</div><div class="msg">thanks @elli just to double check my understanding - so let's say I invoke transaction: "transfer A 1 to B" which will be stored in encrypted way in ledger but during execution time all peers see raw data, right?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-26 12:13</div><div class="msg">correct</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5812bdc781076331fcfe9743fc60ca35.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">oiakovlev</div><div class="time">2017-01-26 12:14</div><div class="msg">if so, is not there an option for some sort of "man in the middle attack" so if I listen to VM bytecode execution on the peer - I technically can grab all raw data?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5812bdc781076331fcfe9743fc60ca35.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">oiakovlev</div><div class="time">2017-01-26 12:15</div><div class="msg">so the data stored to the ledger is encrypted - this is fine but there still seems to be a gap when some sensistive data can be read or do I misunderstood it?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-26 14:47</div><div class="msg">not sure why it's a gap?   of course you need to protect your own peer if you don't want people interfering with its internal operations</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5812bdc781076331fcfe9743fc60ca35.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">oiakovlev</div><div class="time">2017-01-26 15:36</div><div class="msg">my own peer - yes but let's say the idea is that if I have 3 banks (A, B and C)  and I want that they see only transactions  addressed to each other. This is possible to manage using enrolled users, right? so data in ledger is encrypted and only users with correct attributes can encrypt it, right? So as soon as transaction is stored to the ledger, if I have correct permissions I can decrypt it, otherwise - no. 
But during execution each peer see raw content, so technically bank C can monitor transactions between A and B is not it an issue? Or do I get things wrong?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5812bdc781076331fcfe9743fc60ca35.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">oiakovlev</div><div class="time">2017-01-26 15:40</div><div class="msg">This question is about v06 and I realize that in v1 there will be channels, which should some sort of address this issue but even having channels question seems to be still valid.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5812bdc781076331fcfe9743fc60ca35.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">oiakovlev</div><div class="time">2017-01-26 18:08</div><div class="msg">Any thoughts on this? Is my understanding correct or do I miss something?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-26 18:19</div><div class="msg">So in v0.6 we have validators doing the ordering of transactions and afterwards the execution / commitment of transaction results. If banks A, B, C have no validators and have only clients in that blockchain network, then a technique similar to what you way can be leveraged, i.e., have client of Bank A encrypt its transaction, send it to the validators for execution and give bank B the keys to decrypt the transaction payload/and chaincode state if they are given the ledger.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-26 18:20</div><div class="msg">However execution of chaincode that takes place within a peer and if its infrastructure is properly secured no leakage should come from there.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5812bdc781076331fcfe9743fc60ca35.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">oiakovlev</div><div class="time">2017-01-26 18:26</div><div class="msg">Thanks. So to summarize this: 
1. If A, B and C all are validators - they will see raw data anyway, right?
2. I understand that if peer is protected it will work - but the idea here, that A and B want to hide their transactions from C and C has also validating peer, so this means that technically C can read the data during transaction execution, right? And confusing thing here is that owning membership service I can grant correct users to A, B and C so as a client they will have limited access to sensitive data but owning a peer they actually have full access... right?

For me logical might be following behavior: if peer can't decrypt the data for some reason it would say - I can't validate, I would not take part in consensus and as the data is not mine I don't care - I'll accept data from other peers... 

Also what I actually want is some sort of subledgers/chains which we'll have in v1, right?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-26 18:34</div><div class="msg">In v0.6 we do not support confidentiality of contracts against validators. If A, or B, or C have validating peers, they will see the plaintext of all transactions advertised in the chain.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-26 18:34</div><div class="msg">In v1.0 we move to an architecture that would allow for finer-grained of encryption-based confidentiality. However, this is not yet supported.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-26 18:36</div><div class="msg">In v1.0 pairwise business logic can be supported at the level of two-party participant channel.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-26 18:36</div><div class="msg">That is A, and B can have their own channel, and B, and C can have their own channel. All of them so far however need to trust orderers to see their transactions.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-23/83480608560_37f6c281c3efc8121d04_72.jpg" /><div class="message"><div class="username">silliman</div><div class="time">2017-01-26 19:09</div><div class="msg">@elli My understanding is that orderers are agnostic to the contents of the transaction, they are just ordering the transactions they receive..... so in normal operations would an orderer be seeing encrypted transaction contents?  Of course I may be completely misunderstanding things!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-26 19:11</div><div class="msg">If the content is encrypted, no they would not be able to.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-26 19:11</div><div class="msg">But in v1.0 as of now we do not offer encryption-based confidentiality.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-26 19:12</div><div class="msg">Hence you can protect your data of collaboration with organization X if yyou and X have a channel restricted only within the two of you. Because transactions in that channel are ordered through the orderers, the orderers would see the content of your transactions but not endorsers, e.g., belonging to other organizations outside your restricted channel.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-23/83480608560_37f6c281c3efc8121d04_72.jpg" /><div class="message"><div class="username">silliman</div><div class="time">2017-01-26 19:18</div><div class="msg">@elli thanks!  so to make sure i've understood.... an orderer will serve multiple organizations, beyond the subset that are in your restricted chain...   so if you have orgs A B C X Y Z in your network,  even if X Y have their own "private" channel,   the orderers service A B C X Y Z?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-26 19:20</div><div class="msg">correct, and by "service offered by orderers" I mean "order transactions on behalf of different channels owned by a combination/any subset of A B C X Y Z".</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-23/83480608560_37f6c281c3efc8121d04_72.jpg" /><div class="message"><div class="username">silliman</div><div class="time">2017-01-26 19:24</div><div class="msg">@elli Say in my example with 6 orgs,  and suppose each org stood up their own orderer service.   Do these orderers "talk amongst themselves" before settling on a batch to send back to the committers?  I suppose they'd have to.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-26 19:27</div><div class="msg">correct</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-26 19:27</div><div class="msg">the set of orderers need to jointly agree on the order of all transactions advertised in each channel</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-26 19:27</div><div class="msg">so they see all the transactions</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-23/83480608560_37f6c281c3efc8121d04_72.jpg" /><div class="message"><div class="username">silliman</div><div class="time">2017-01-26 19:29</div><div class="msg">@elli  got it!  Thank you very much.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a94917afbdbd7e1bd944f484dc05cfe.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">elli</div><div class="time">2017-01-26 19:29</div><div class="msg">@silliman sure!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5812bdc781076331fcfe9743fc60ca35.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">oiakovlev</div><div class="time">2017-01-26 20:40</div><div class="msg">thanks @elli !</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-21/119232909361_198245411874af7b1f25_72.jpg" /><div class="message"><div class="username">harrijk</div><div class="time">2017-01-26 20:58</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a1174343fd5aa071737d6ea9383fea56.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">jonathan.tan</div><div class="time">2017-01-27 02:59</div><div class="msg">Hi @elli how can we decrypt the payload? We also observed the chaincode id is also encrypted</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-30/85916865123_74ecb5d18535acea44aa_72.png" /><div class="message"><div class="username">yacovm</div><div class="time">2017-01-27 04:58</div><div class="msg">@archivebot</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-01-26/133306601700_c8eeba6b41e161fd435a_72.png" /><div class="message"><div class="username">archivebot</div><div class="time">2017-01-27 04:58</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/18fd0d49e9ace4fdd48adb5074c036cc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">dinesh_rivankar</div><div class="time">2017-01-27 04:58</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/18fd0d49e9ace4fdd48adb5074c036cc.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">dinesh_rivankar</div><div class="time">2017-01-27 04:59</div><div class="msg">What is the maximum lifetime for the certificates in ver 0.6 ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-10/78323915894_521dc680194c08b166e0_72.jpg" /><div class="message"><div class="username">garisingh</div><div class="time">2017-01-27 12:30</div><div class="msg">@dinesh_rivankar  - I think there's a hard-coded value of 90 days</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d02ddd48f3a3870f692377f9bd22189e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">stefan.momma</div><div class="time">2017-01-27 13:47</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2017-01-28 10:31</div><div class="msg">@oiakolev I think it's worth mentioning that at the hackfest with Hyperledger next week in San Fransisco, we are bringing docker images for version 1.0 on fabric that will allow you to start playing with multichannel.. and yes, we absolutely have multichannel (believe Elli answered this) given requirement from community.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5812bdc781076331fcfe9743fc60ca35.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">oiakovlev</div><div class="time">2017-01-29 15:23</div><div class="msg">thanks!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4cc11a23f3ca87f2ec1935ce17f76f2a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">sagmeister</div><div class="time">2017-01-30 14:51</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-12/116308686071_7e1c09423fddf6203642_72.png" /><div class="message"><div class="username">yuryandreev</div><div class="time">2017-01-31 10:55</div><div class="msg">What is Attribute Certificate Authority in v 1.0?
<a href="https://github.com/hyperledger-archives/fabric/wiki/Attribute-Certificate-Authority">https://github.com/hyperledger-archives/fabric/wiki/Attribute-Certificate-Authority</a>
<a href="https://github.com/hyperledger/fabric/blob/master/docs/tech/attributes.md">https://github.com/hyperledger/fabric/blob/master/docs/tech/attributes.md</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2017-01-31 13:26</div><div class="msg">we do not have concept of Attribute Certificate Authority in V1.0.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2017-01-31 13:28</div><div class="msg">During TCert generation , user specifies which attributes it wants to include in TCert , query is being done on Database and attribute value is being populated</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2017-01-31 13:29</div><div class="msg">We do not have validity period for attributes whereas user can setup validity period of TCerts.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2017-02-02 23:41</div><div class="msg">hi everybody, in case you have not heard, linux foundation is moving us off of Slack and onto Rocket.Chat, everybody in Slack can log in to the new chat server using your existing linux foundation ID, please visit <a href="http://chat.hyperledger.org/">http://chat.hyperledger.org/</a> to login to the new chat server</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2017-02-03 00:25</div><div class="msg">@weeds : Are they going to transfer all channels and chat history to Rocket.chat ? I logged in there and found no chat history.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a235e152d57aff17c7adae8c427e59b9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">weeds</div><div class="time">2017-02-03 14:40</div><div class="msg">@ashutoshkumar @markparz Mark- can you create the channels we talked about-- I don't think they are going to copy our chat history over.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/216a004f9bfab8ccf302ac52ac0096f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">ashutoshkumar</div><div class="time">2017-02-03 14:41</div><div class="msg">oh shoot.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-09-06/76710770455_2316fc867e622c8f0008_72.jpg" /><div class="message"><div class="username">jonathanlevi</div><div class="time">2017-02-03 18:36</div><div class="msg">Ash, it will be OK :smile:
We should move new/our discussions to <a href="https://chat.hyperledger.org">https://chat.hyperledger.org</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/69b67412601eb4b6d157d5742216e4f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">adrianhopebailie</div><div class="time">2017-02-06 07:29</div><div class="msg">Currently says new user registrations are disabled</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/5812bdc781076331fcfe9743fc60ca35.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">oiakovlev</div><div class="time">2017-02-06 11:17</div><div class="msg">you can login with you linuxfoundation id - there is no need in new user registration</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-03/112352565781_af8a455dfc891821119c_72.jpg" /><div class="message"><div class="username">ry</div><div class="time">2017-02-07 20:06</div><div class="msg">has joined #fabric-crypto</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-12-03/112352565781_af8a455dfc891821119c_72.jpg" /><div class="message"><div class="username">ry</div><div class="time">2017-02-07 20:06</div><div class="msg">@ry archived the channel (w/ 134 members)</div></div></div><br/>
</div></body></html>