[
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "could somebody tell me where I can find the line that runs go unit tests on CI machines?",
        "ts": "1482225794.000762"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "founnd",
        "ts": "1482226204.000763"
    },
    {
        "type": "message",
        "user": "U1HFNJB50",
        "text": "I'm trying to run `make peer-docker`, while getting following error: ```ake: *** No rule to make target 'build\/docker\/bin\/peer', needed by 'build\/image\/peer\/payload'.  Stop.\n```\nIs there anyone who seen this before?",
        "ts": "1482248847.000764"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U1HFNJB50> I've not seen that per se, but I wrote the Makefile so perhaps I can help",
        "ts": "1482251046.000765"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "give me some context",
        "ts": "1482251065.000766"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "are you running this in vagrant? can you send me the output of \"tree .\/build\"",
        "ts": "1482251094.000767"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "(you may need to install \"tree\")",
        "ts": "1482251106.000768"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "in devenv: sudo apt-get install tree",
        "ts": "1482251124.000769"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "in osx: brew install tree",
        "ts": "1482251129.000770"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "other: you are on your own :wink:",
        "ts": "1482251136.000771"
    },
    {
        "type": "message",
        "user": "U1HFNJB50",
        "text": "I've rebased master w\/ recent changes",
        "ts": "1482251144.000772"
    },
    {
        "type": "message",
        "user": "U1HFNJB50",
        "text": "and seems like the problem is gone for now",
        "ts": "1482251151.000773"
    },
    {
        "type": "message",
        "user": "U1HFNJB50",
        "text": "verifying",
        "ts": "1482251156.000774"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ok, certainly weird",
        "ts": "1482251167.000775"
    },
    {
        "type": "message",
        "user": "U1HFNJB50",
        "text": "yeah, struggled with for 30 mins",
        "ts": "1482251196.000776"
    },
    {
        "type": "message",
        "user": "U1HFNJB50",
        "text": "until decied to get master updated :slightly_smiling_face:",
        "ts": "1482251206.000777"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "do you have Makefile changes locally?",
        "ts": "1482251206.000778"
    },
    {
        "type": "message",
        "user": "U1HFNJB50",
        "text": "nope",
        "ts": "1482251210.000779"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "weird",
        "ts": "1482251213.000780"
    },
    {
        "type": "message",
        "user": "U1HFNJB50",
        "text": "indeed",
        "ts": "1482251222.000781"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "not sure what would cause that: I havent made any changes recently",
        "ts": "1482251225.000782"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "Make can sometimes be funny with wildcard rules (of which, build\/docker\/bin\/% is one)",
        "ts": "1482251254.000783"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so if someone made a well intentioned mod to the Makefile, it can sometimes inadvertently break wildcards in unexpected ways",
        "edited": {
            "user": "U0KPFAZNF",
            "ts": "1482251295.000000"
        },
        "ts": "1482251270.000784"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "thats the only thing I can think of",
        "ts": "1482251274.000785"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "if it happens again, dont make any changes and ping me",
        "ts": "1482251324.000787"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "we can run \"make -d\" etc to try to see whats happening",
        "ts": "1482251334.000788"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "<@U0KPFAZNF> Nexus 2.x doesn't function as a dockerhub write through cache. Nexus 3.0 will, but we aren't rolling 3.x out because (a) the pro version isn't out yet (b) it lost some features we use. However. I've set up the permission groups for fabric and fabric-baseimage and I'm looking at how other projects we support use nexus",
        "ts": "1482251460.000789"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "that doesn't mean we can't push docker artifacts to nexus, it just doesn't have the write through cache we were discussing",
        "ts": "1482251488.000790"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0UHG4VP1>: ok, we have a few options",
        "ts": "1482251494.000791"
    },
    {
        "type": "message",
        "user": "U1HFNJB50",
        "text": "<@U0KPFAZNF> sure, I'm going to re-iterate everything once again to see whenever it re-occurs again",
        "ts": "1482251500.000792"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U1HFNJB50> ok, cool, ty",
        "ts": "1482251509.000793"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "<@U0KPFAZNF> hit me",
        "ts": "1482251517.000794"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0UHG4VP1>: can you clarify what the write-through option means in this context?",
        "ts": "1482251530.000795"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "does that mean it can transparently push to dockerhub too?",
        "ts": "1482251548.000796"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "instead of publishing directly to dockerhub, my understanding was... yes. we would publish to nexus which would then publish to dockerhub.",
        "ts": "1482251567.000797"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "im not sure we actually need or even want that",
        "ts": "1482251567.000798"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "im thinking in this context, we primarily care about an intermediate\/local repo, so 2.x may be sufficient",
        "ts": "1482251590.000799"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "and if there is a better project other than fabric or fabric-baseimage to start on, let me know.",
        "ts": "1482251625.000800"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "it might be interesting to make the final -release stage take advantage of a write-through cache, but I see that as more of an optimization than a functional requirement",
        "ts": "1482251625.000801"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "ok",
        "ts": "1482251631.000802"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "what would be awesome is introducing a local repo so that we can pipeline build -&gt; ut -&gt; at -&gt; release without rebuilding everything",
        "ts": "1482251673.000803"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "it sounds like nexus 2.x would fit those requirements as it is",
        "ts": "1482251693.000804"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "OK. does that imply the earlier discussion of breaking the build into _n_ steps?",
        "ts": "1482251743.000805"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "well, I see that as the end-game, but we dont need it broken up to take advantage here",
        "ts": "1482251762.000806"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "it could just be build -&gt; [test the world] -&gt; release",
        "ts": "1482251773.000807"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "where [test-the-world] is like our current -verify stage",
        "ts": "1482251787.000808"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "OK, and release is the -merge job or similar",
        "ts": "1482251812.000809"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "actually, baby step would be build -&gt; [test-the-world]",
        "ts": "1482251815.000810"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "(since we dont do automated releases yet",
        "ts": "1482251824.000811"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "right",
        "ts": "1482251832.000812"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so build -&gt; [-verify] and build -&gt; [-merge] as a first step",
        "ts": "1482251848.000813"
    },
    {
        "text": "should have said _write back_ cache",
        "type": "message",
        "subtype": "me_message",
        "user": "U0UHG4VP1",
        "ts": "1482251888.000814"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "and then perhaps build -&gt; [-verify-ut] -&gt; [-verify-at] and build -&gt; [-merge-ut] -&gt; [-merge-at] -&gt; [-release]",
        "ts": "1482251897.000815"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "as a longer term plan",
        "ts": "1482251903.000816"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "obviously only the \"-merge\" class pipeline should result in something releasing",
        "ts": "1482251934.000817"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "so the merge job would not consume the artifacts of the first build step, but a new one, which makes sense since we seem to collect build breaks with merges right now",
        "ts": "1482251962.000818"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I have a feeling that the -at class stage would be some number of parallel jobs",
        "ts": "1482251969.000819"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "exactly, that is my thought",
        "ts": "1482251980.000820"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "the main point would be to front-end the pipeline with a artifact submitted to nexus rather than rebuilding each stage",
        "ts": "1482252006.000821"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "when you say pipeline, do you literally mean the Jenkins pipeline feature?",
        "ts": "1482252033.000822"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "which I'm fine with, I've just never used it and have no experience with it",
        "ts": "1482252049.000823"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but I think for the time being, it makes sense to consider the -verify and -merge pipelines orthogonal",
        "ts": "1482252051.000824"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "well, im speaking generally as in \"pipeline\"  = jenkins processing",
        "ts": "1482252070.000825",
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U0UHG4VP1"
                ],
                "count": 1
            }
        ]
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but I do envision it would look close to jenkins pipeline plugin, if not literally",
        "edited": {
            "user": "U0KPFAZNF",
            "ts": "1482252136.000000"
        },
        "ts": "1482252081.000826"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "which project are we focusing on? fabric, fabric-baseimage, or something else?",
        "ts": "1482252136.000828"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I guess this makes sense to consider it fabric-*, at least IMO",
        "ts": "1482252163.000829"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "I just want to make sure I understand everything before I start spelunking.",
        "ts": "1482252166.000830"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but obviously we should focus in one place and then carry over lessons learned",
        "ts": "1482252178.000831"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "Do you have experience with Nexus? that would be helpful",
        "ts": "1482252201.000832"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "it could even be a synthetic process",
        "ts": "1482252210.000833"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "yes, but only from a maven repo perspective, not docker",
        "ts": "1482252225.000834"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "I suspect we end up using mvn at the bottom",
        "ts": "1482252255.000835"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ive administered nexus repos in the past for my teams for maven coordinates",
        "ts": "1482252257.000836"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I also have a little bit of experience with raw docker-registry admin, but again, not tied to nexus",
        "ts": "1482252319.000837"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "some of these jobs are going to be my model, I don't know which ones yet: <https:\/\/jenkins.open-o.org\/view\/Merge-Jobs\/>",
        "ts": "1482252321.000838"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "I asked, and open-o has the cleanest nexus implementation of our CPs (community projects) right now",
        "ts": "1482252353.000839"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "cool, ill check it out",
        "ts": "1482252376.000840"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "it looks like they have the unauthenticated \"view configuration\" button, which is good. they also have the ci repo public",
        "ts": "1482252420.000841"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but to your comment about mvn at the bottom, yes, this has been one of my thoughts too",
        "ts": "1482252424.000842"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I know you can basically submit any file as a maven coordinate",
        "ts": "1482252438.000843"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so it doesnt have to be \"docker push\" based, per se",
        "ts": "1482252446.000844"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "that's what I suspect.",
        "ts": "1482252457.000845"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "not sure what would be the best design yet, we will have to play",
        "ts": "1482252467.000846"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I think the main requirements will be a) having an intermediate repo to hold build artifacts, whatever they may be, b) having those artifacts be addressable in a context specific way, c) having a decent expiration policy in place so we dont crush the repo with cruft over time",
        "ts": "1482252528.000847"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I suspect (a) and (b) are well handled with nexus because, they are well handled in maven\/docker in general",
        "ts": "1482252565.000848"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "that seems reasonable. esp with vagrant artifacts being so huge",
        "ts": "1482252576.000849"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "(c) will be interesting to see if the nexus and\/or jenkins folks have a good story there",
        "ts": "1482252579.000850"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "I know (c) has been a battle elsewhere",
        "ts": "1482252607.000851"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "yeah, its one of the reasons I was hesitant to push every build to dockerhub",
        "ts": "1482252624.000852"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "heh",
        "ts": "1482252625.000853"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "1.4G-&gt; 1.4G-&gt; 1.4G-&gt; 1.4G-&gt; 1.4G-&gt; 1.4G-&gt; 1.4G-&gt; 1.4G-&gt; 1.4G'",
        "ts": "1482252648.000854"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "how long until they get PO'd",
        "ts": "1482252655.000855"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": ":wink:",
        "ts": "1482252656.000856",
        "reactions": [
            {
                "name": "woo",
                "users": [
                    "U0UHG4VP1"
                ],
                "count": 1
            }
        ]
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "I have been [awaiting, dreading] the call from dockerhub\/vagrant\/npm\/redhat where they cut us off for directly using them for CI.",
        "edited": {
            "user": "U0UHG4VP1",
            "ts": "1482252726.000000"
        },
        "ts": "1482252703.000857"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "the neat thing about the expiration policy is I think its more or less tied to the pipeline",
        "ts": "1482252709.000858"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "e.g. the demarcation point for where the artifact is useful is tied 1:1 with pipeline completion",
        "ts": "1482252742.000860"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "it either gets released or it doesnt",
        "ts": "1482252752.000861"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "we can probably exploit that to make a reasonable policy",
        "ts": "1482252771.000862"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "sure. we just need to come to consensus as to what reasonable is",
        "ts": "1482252812.000863"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "I think you might keep some artifacts for failed passes around until unit tests are no longer flaky",
        "ts": "1482252865.000864"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "right, that makes sense to me",
        "ts": "1482253071.000865"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so, the pipeline completion is one gate",
        "ts": "1482253081.000866"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "some other policy, like 24hrs expiring could be the second",
        "ts": "1482253094.000867"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "sure.",
        "ts": "1482253144.000868"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "im sure it could even be more liberal than that and not be too onerous on the LF infra",
        "ts": "1482253148.000869"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "1 wk? who knows",
        "ts": "1482253157.000870"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "Looking at <https:\/\/jenkins.open-o.org\/view\/Merge-Jobs\/job\/ci-management-merge-packer-ubuntu-16.04-basebuild\/configure> for example, there is a huge script at the end to archive the log files but the meat of the job appears to be at the end: `clean deploy -V -B -q -Dmaven.repo.local=\/tmp\/r`",
        "ts": "1482253216.000871"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "I'll outline a process other projects use, which we can shoot for someday: there are no manual merges. You really just tell Jenkins a change is a candidate for merge, and it does a rebase\/rebuild\/merge\/publish loop. this does two nice things: no more broken merges and your commit log doesn't have 40 merge commits in a row",
        "ts": "1482253368.000872"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "s\/Jenkins\/gerrit",
        "ts": "1482253381.000873"
    },
    {
        "type": "message",
        "user": "U0KM61BCP",
        "text": "<@U0UHG4VP1> <@U0KPFAZNF> initially, we need to enable integration testing between the various components (fabric-cop, fabric-sdk-* and fabric) and hence we need the sub-projects to build and save their images locally in nexus... then we can establish a means of pegging integration testing to a specific stable build of the dependencies",
        "ts": "1482255139.000874"
    },
    {
        "type": "message",
        "user": "U0KM61BCP",
        "text": "I agree with Greg, don't think we need the write-through",
        "ts": "1482255167.000875"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "if I understand correctly, the dep graph is something like (-sdk-*) -&gt; cop -&gt; fabric",
        "ts": "1482255285.000876"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0KM61BCP> I hadnt thought of integration, this makes sense",
        "ts": "1482255291.000877"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "and the -sdk- don't inter-depend, they're atomic. do I have that correct?",
        "edited": {
            "user": "U0UHG4VP1",
            "ts": "1482255340.000000"
        },
        "ts": "1482255304.000878"
    },
    {
        "type": "message",
        "user": "U0KM61BCP",
        "text": "<@U0KPFAZNF> if you wouldn't mind - I have added docker build to fabric-cop <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3423\/>",
        "ts": "1482255415.000880"
    },
    {
        "type": "message",
        "user": "U0KM61BCP",
        "text": "could you please give that an eyeball to be sure I didn't mess anything up? thanks!",
        "ts": "1482255429.000881"
    },
    {
        "type": "message",
        "user": "U0YQK8WSV",
        "text": "<@U0UHG4VP1> yes.. no dependencies between sdks ",
        "ts": "1482255629.000882"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0KM61BCP> sure thing",
        "ts": "1482255779.000883"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3H7R1UMS\/not_an_error_i_would_expect.txt|not an error I would expect>",
        "file": {
            "id": "F3H7R1UMS",
            "created": 1482256072,
            "timestamp": 1482256072,
            "name": "not_an_error_I_would_expect.txt",
            "title": "not an error I would expect",
            "mimetype": "text\/plain",
            "filetype": "text",
            "pretty_type": "Plain Text",
            "user": "U0UHG4VP1",
            "editable": true,
            "size": 134,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3H7R1UMS\/not_an_error_i_would_expect.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3H7R1UMS\/download\/not_an_error_i_would_expect.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3H7R1UMS\/not_an_error_i_would_expect.txt",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F3H7R1UMS-1f87ed807a",
            "edit_link": "https:\/\/hyperledgerproject.slack.com\/files\/ry\/F3H7R1UMS\/not_an_error_i_would_expect.txt\/edit",
            "preview": "09:40:53 Step 2 : RUN mkdir -p \/etc\/hyperledger\/fabric-cop\r\n09:40:53  ---> Running in 1829ff309f1e\r\n09:40:54 \/bin\/sh: mkdir: not found",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>09:40:53 Step 2 : RUN mkdir -p \/etc\/hyperledger\/fabric-cop<\/pre><\/div>\n<div><pre>09:40:53  ---&gt; Running in 1829ff309f1e<\/pre><\/div>\n<div><pre>09:40:54 \/bin\/sh: mkdir: not found<\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 3,
            "lines_more": 0,
            "preview_is_truncated": false,
            "channels": [
                "C0YMWRX19"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U0UHG4VP1",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U0UHG4VP1|ry>",
        "bot_id": null,
        "ts": "1482256073.000884"
    },
    {
        "type": "message",
        "user": "U0KM61BCP",
        "text": "hmmm",
        "ts": "1482256155.000885"
    },
    {
        "type": "message",
        "user": "U0KM61BCP",
        "text": "I am not seeing that... <@U0KPFAZNF> are you?",
        "ts": "1482256240.000886"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0KM61BCP> ill look in a bit",
        "ts": "1482256314.000887"
    },
    {
        "type": "message",
        "user": "U0KM61BCP",
        "text": "very bizarre that CI failed",
        "ts": "1482256331.000888"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0UHG4VP1>: btw, that error is quite possible in a busybox\/scratch environment",
        "ts": "1482256368.000889"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "ghaskins of course.",
        "ts": "1482256387.000890"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ok, i wasnt sure if the busybox thing was understood based on your comment",
        "ts": "1482256406.000891"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "it wasn't.",
        "ts": "1482256420.000892"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ill fire up the build myself in a bit",
        "ts": "1482256426.000893"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "I'd forgotten about busybox",
        "ts": "1482256445.000894"
    },
    {
        "type": "message",
        "user": "U0KM61BCP",
        "text": "?",
        "ts": "1482257273.000895"
    },
    {
        "type": "message",
        "user": "U0KM61BCP",
        "text": "have I neglected to alert CI?",
        "ts": "1482257302.000896"
    },
    {
        "type": "message",
        "user": "U0KM61BCP",
        "text": "it builds locally",
        "ts": "1482257316.000897"
    },
    {
        "type": "message",
        "user": "U0KM61BCP",
        "text": "<@U0KPFAZNF> does it build for you locally? <@U0UHG4VP1> any idea what would be different in CI that it would fail like this?",
        "ts": "1482263230.000898"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "Sorry <@U0KM61BCP> still haven't had a chance to try.  I will when I return to my desk",
        "ts": "1482264390.000899"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "<@U0KM61BCP> fabric-cop ci is still running on the older vagrant images, which is probably the issue",
        "ts": "1482264524.000900"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "I just bumped it to use the current image fabric uses, let's see if that works",
        "ts": "1482264683.000901"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "ghaskins it looks like the current ci image doesn't have go installed. this works for fabric but not for fabric-cop. is this something that should change in the build process or the minion image?",
        "ts": "1482264973.000902"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "hmm, that can't be right, packer installs it in \/opt\/go",
        "ts": "1482265455.000903"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "yeah, that doesnt sound right",
        "ts": "1482265533.000904"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "the new stuff still needs go v1.6 or higher so that go-list works",
        "ts": "1482265553.000905"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "we dont compile anything natively, but we do use it to build the dependency data",
        "ts": "1482265579.000906"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0KM61BCP> as an aside, ive been thinking we should emit hyperledger\/fabric-busybox from baseimage.git -&gt; dockerhub",
        "ts": "1482265647.000907"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "<@U0KPFAZNF> taking a quick look it lives in `\/opt\/go\/go1.7.linux.amd64`",
        "ts": "1482265661.000908"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i have no problem with your CR going in first though",
        "ts": "1482265663.000909"
    },
    {
        "type": "message",
        "user": "U0KM61BCP",
        "text": "I was thinking that too",
        "ts": "1482265673.000910"
    },
    {
        "type": "message",
        "user": "U0KM61BCP",
        "text": "because silly to build it in both",
        "ts": "1482265691.000911"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "im at my desk now, so ill pull your CR and review it",
        "ts": "1482265692.000912"
    },
    {
        "type": "message",
        "user": "U0KM61BCP",
        "text": "cool thx",
        "ts": "1482265698.000913"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "cbf: is it OK if I mark fabric-cop as go 1.7?",
        "ts": "1482265728.000914"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "it's 1.6 rn",
        "ts": "1482265739.000915"
    },
    {
        "type": "message",
        "user": "U0KM61BCP",
        "text": "<@U0UHG4VP1> I think that it *should* be at the same level as fabric... that said, I would think we would want to be sure there were no gotchas",
        "ts": "1482265783.000916"
    },
    {
        "type": "message",
        "user": "U0KM61BCP",
        "text": "I have 1.7.1 and it builds and tests",
        "ts": "1482265829.000917"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "<@U0KM61BCP>: here goes <https:\/\/jenkins.hyperledger.org\/view\/fabric-cop\/job\/fabric-cop-verify-x86_64\/192\/>",
        "ts": "1482266335.000918"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0KM61BCP> doing local build now",
        "ts": "1482266818.000919"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "one thing that was confusing me is the bin\/cli stuff",
        "ts": "1482266825.000920"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "what generates build\/docker\/bin\/cli ?",
        "ts": "1482266902.000921"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ok, i think I get it now",
        "ts": "1482266960.000922"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "go install creates two binaries?",
        "ts": "1482266994.000923"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "Hi. <@U0UHG4VP1>  \\ <@U11HH3P7Y>  do you guys know why <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2785\/> is running unit tests although I have (both variations of) [ci-skip] ?",
        "ts": "1482267292.000924"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "yacovm I don't know why. since it's a WIP why do you care if it skips CI? I will look into the issue after this meeting, though",
        "ts": "1482267653.000925"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "it doesn;t",
        "ts": "1482267681.000926"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "that's the problem",
        "ts": "1482267689.000927"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "and no pressure, only when\/if you have time",
        "ts": "1482267709.000928"
    },
    {
        "type": "message",
        "user": "U0ULK2JPP",
        "text": "seeing the 20m timeout from CI ..twice in <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3307> and once in <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3389>",
        "ts": "1482270025.000929"
    },
    {
        "type": "message",
        "user": "U0ULK2JPP",
        "text": "I\u2019ll try to dig more.. wanted to see if there\u2019s anything known is going around",
        "ts": "1482270103.000930"
    },
    {
        "type": "message",
        "user": "U0ULK2JPP",
        "text": "from what I can tell from the logs, no errors but something is slowing down the system so the tests are slow",
        "ts": "1482270528.000931"
    },
    {
        "type": "message",
        "user": "U0ULK2JPP",
        "text": "I saw one CI went past the problem",
        "ts": "1482271298.000932"
    },
    {
        "type": "message",
        "user": "U0ULK2JPP",
        "text": "so I;m going to try my luck with `reverify` on <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3389>",
        "ts": "1482271326.000933"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "muralisr I already kicked off a new build 14 minutes ago, so let's see how it goes.",
        "ts": "1482271733.000934"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "muralisr <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/4338\/>",
        "ts": "1482271756.000935"
    },
    {
        "type": "message",
        "user": "U0KM61BCP",
        "text": "<@U0KPFAZNF> thanks for the review, I uploaded new changeset",
        "ts": "1482272035.000936"
    },
    {
        "type": "message",
        "user": "U0KM61BCP",
        "text": "do you want to do the fabric-busybox image in baseimage?",
        "ts": "1482272095.000937"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "cool, looking now",
        "ts": "1482272101.000938"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I was thinking sep docker repo",
        "ts": "1482272108.000939"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "hyperledger\/fabric-busybox:$(ARCH)-1.25.1",
        "ts": "1482272126.000940"
    },
    {
        "type": "message",
        "user": "U0KM61BCP",
        "text": "lots of makefile coming back after years of neglect;-)",
        "ts": "1482272126.000941"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "something like that",
        "ts": "1482272128.000942"
    },
    {
        "type": "message",
        "user": "U0ULK2JPP",
        "text": "thanks <@U0UHG4VP1> .. looking better already",
        "ts": "1482272130.000943",
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U0UHG4VP1"
                ],
                "count": 1
            }
        ]
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "we could tunnel the binary on the baseimage, but that seems hacky",
        "ts": "1482272149.000944"
    },
    {
        "type": "message",
        "user": "U0KM61BCP",
        "text": "yes, definitely sep docker repo, but I was asking where you were planning on adding that",
        "ts": "1482272170.000945"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ah, sorry, gotcha...yes baseimage",
        "ts": "1482272194.000946"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "was thinking adding a new output of baseimage.git -&gt; dockerhub:\/\/..\/fabric-busybox",
        "ts": "1482272224.000947"
    },
    {
        "type": "message",
        "user": "U0KM61BCP",
        "text": "y",
        "ts": "1482272242.000948"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I am thinking other projects might be inclined to consume it (fabric, cop, sdk?)",
        "ts": "1482272243.000949"
    },
    {
        "type": "message",
        "user": "U0KM61BCP",
        "text": "yes",
        "ts": "1482272250.000950"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "e.g. starterkit and whatnot",
        "ts": "1482272254.000951"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "I redid the dockerhub authentication and permissions to enable iroha, so please let me know if you see any issues right away",
        "ts": "1482272277.000952"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "thats why I was thinking \"busybox\" and not \"runtime\"",
        "ts": "1482272279.000953"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "didnt want to make assumptions: just say what it is and each context can consume as appropriate",
        "ts": "1482272299.000954"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0UHG4VP1>, ok, will do",
        "ts": "1482272314.000955"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i saw the shuffling a few weeks ago",
        "ts": "1482272324.000956"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0KM61BCP>: patch looks good, I am fine if we want to commit 3423 now, will just need to update both places once the image is ready",
        "ts": "1482272372.000957"
    },
    {
        "type": "message",
        "user": "U0KM61BCP",
        "text": "yep",
        "ts": "1482272410.000958"
    },
    {
        "type": "message",
        "user": "U0KM61BCP",
        "text": "I am fine either way... I am working on docs and needed this to set up a compose that launches all the bits",
        "ts": "1482272471.000959"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ok, i just noticed that we dont even need the baseimage stuff since you took out the testenv",
        "ts": "1482272501.000960"
    },
    {
        "type": "message",
        "user": "U0KM61BCP",
        "text": "given that I am the sole consumer right now, no rush on getting it merged",
        "ts": "1482272507.000961"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "do you want one more pass to clean up the nit, or just +2 it for now",
        "ts": "1482272513.000962"
    },
    {
        "type": "message",
        "user": "U0KM61BCP",
        "text": "but if you aren't planning the busybox update for a bit, I say we merge now",
        "ts": "1482272522.000963"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "given the holiday, id say it wont go in in the next 10 business days :wink:",
        "ts": "1482272542.000964"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "unless I get bored, heh",
        "ts": "1482272553.000965"
    },
    {
        "type": "message",
        "user": "U0KM61BCP",
        "text": "ok, let's merge this and deal with any other cleanup when we incorporate the busybox image",
        "ts": "1482272568.000966"
    },
    {
        "type": "message",
        "user": "U0KM61BCP",
        "text": "unless you found something that should be addressed now",
        "ts": "1482272591.000967"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "I'm also on holiday next week so you know, don't break anything",
        "ts": "1482272593.000968"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "nah, its fine the way it is",
        "ts": "1482272605.000969"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "the BASEIMAGE thing isnt needed, but its probably best to leave it in case testenv gets folded back in",
        "ts": "1482272621.000970"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I set a +2",
        "ts": "1482272631.000971"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "should I delete the platform specific dockerhub repos? everything ending in -s390x and -ppc64le",
        "ts": "1482272638.000972"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0UHG4VP1>, yes, pls",
        "ts": "1482272645.000973"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "if we decided to revisit, we can add them again",
        "ts": "1482272652.000974"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0UHG4VP1>: i should say: I vote +2 on that",
        "ts": "1482272673.000975"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "dont want to make a unilateral decision :wink:",
        "ts": "1482272680.000976"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but, the bottom line is: we dont use them today and the code would have to change to start using them",
        "ts": "1482272697.000977"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so I think it makes little sense to leave for now, just adds confusion",
        "ts": "1482272706.000978"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "most of them are empty regardless",
        "ts": "1482272717.000979"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "right",
        "ts": "1482272720.000980"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "that said, if there are any _not_ empty, we should tread carefully",
        "ts": "1482272733.000981"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i was assuming they were all empty",
        "ts": "1482272740.000982"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I just noticed my typo \"constructioning\"",
        "ts": "1482272829.000983",
        "reactions": [
            {
                "name": "woo",
                "users": [
                    "U0UHG4VP1"
                ],
                "count": 1
            }
        ]
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "what an idiot",
        "ts": "1482272832.000984"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "heh",
        "ts": "1482272833.000985"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "action the use of your spelchecker",
        "ts": "1482272850.000986"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "heh",
        "ts": "1482272858.000987"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0KM61BCP> pls fix, if for anything to preserve the spread of my stupidity",
        "ts": "1482272895.000988"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "thats what happens when you go too fast, I guess",
        "ts": "1482272932.000989"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "OK. empty dockerhub repos are gone. all they were doing was collecting comments about how they were empty",
        "ts": "1482272961.000990"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "yeah..",
        "ts": "1482272976.000991"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "OK. permissions are cleaned up on dockerhub as well.",
        "ts": "1482273050.000992",
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U0KPFAZNF",
                    "U0KM61BCP"
                ],
                "count": 2
            }
        ]
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "_which nobody else will care about_",
        "ts": "1482273072.000993"
    }
]