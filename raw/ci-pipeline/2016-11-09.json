[
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0UHG4VP1>: this appears hung: <https:\/\/jenkins.hyperledger.org\/sandbox\/job\/docker-native\/>",
        "ts": "1478702269.002693"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "is the -1.12 worker not available?",
        "ts": "1478702279.002694"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "ghaskins: my mistake, I just fixed the definition of hyp-fabric-x86_64-1.12",
        "ts": "1478704300.002695"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "I forgot to select the hardward target",
        "ts": "1478704316.002696"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "thanks ry, giving it a shot now",
        "ts": "1478704317.002697"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "and now it's running",
        "ts": "1478704322.002698"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "<https:\/\/jenkins.hyperledger.org\/sandbox\/job\/docker-native\/6\/>",
        "ts": "1478704335.002699"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30FTGEKF\/-.txt|Untitled>",
        "file": {
            "id": "F30FTGEKF",
            "created": 1478704378,
            "timestamp": 1478704378,
            "name": "-.txt",
            "title": "Untitled",
            "mimetype": "text\/plain",
            "filetype": "text",
            "pretty_type": "Plain Text",
            "user": "U0UHG4VP1",
            "editable": true,
            "size": 213,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30FTGEKF\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30FTGEKF\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30FTGEKF\/-.txt",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F30FTGEKF-f552fce43b",
            "edit_link": "https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30FTGEKF\/-.txt\/edit",
            "preview": "https:\/\/jenkins.hyperledger.org\/sandbox\/job\/docker-native\/6\/console \r\n\r\n+ make unit-test\r\nmake: *** No rule to make target `unit-test'.  Stop.\r\nBuild step 'Execute shell' marked build as failure\r",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>https:\/\/jenkins.hyperledger.org\/sandbox\/job\/docker-native\/6\/console <\/pre><\/div>\n<div><pre><\/pre><\/div>\n<div><pre>+ make unit-test<\/pre><\/div>\n<div><pre>make: *** No rule to make target `unit-test'.  Stop.<\/pre><\/div>\n<div><pre>Build step 'Execute shell' marked build as failure<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 6,
            "lines_more": 1,
            "preview_is_truncated": false,
            "channels": [
                "C0YMWRX19"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U0UHG4VP1",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U0UHG4VP1|ry>",
        "bot_id": null,
        "ts": "1478704379.002700"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "yeah, i just fixed that",
        "ts": "1478704469.002701"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "its running again",
        "ts": "1478704471.002702"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "oddly, this \"worked\" against the previous 1.8 target...i think the tree was persistently retained across runs",
        "ts": "1478704495.002703"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "is this possible?",
        "ts": "1478704497.002704"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "on this particular minion, yes, the recycle time on \/sandbox\/ is longer than production",
        "ts": "1478704537.002705"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "e.g. I was originally checking out the git tree to $WORKSPACE, and I fixed this so that it was checking out to $WORKSPACE\/gopath\/src\/github.com\/hyperledger\/fabric, but the \"make unit-test\" still worked without a cd",
        "ts": "1478704540.002706"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I only saw the mistake when we switched to 1.12",
        "ts": "1478704553.002707"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ah, ok",
        "ts": "1478704554.002708"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "which build could I re-fire to test it?",
        "ts": "1478704563.002709"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "6?",
        "ts": "1478704568.002710"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "7 is running now",
        "ts": "1478704575.002711"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "OK. I found out yesterday there _is_ a way to specify that a minion may only be used once, but I haven't pushed that in to production (or sandbox)",
        "ts": "1478704635.002712"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "<https:\/\/github.com\/opendaylight\/releng-builder\/blob\/master\/jjb\/releng-macros.yaml#L384-L385>",
        "edited": {
            "user": "U0UHG4VP1",
            "ts": "1478704719.000000"
        },
        "ts": "1478704708.002713"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "probably the conservative choice if it doesnt break anything else",
        "ts": "1478704709.002715"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "it makes build times longer, but the time to instantiate a minion doesn't seem as onerous as it used to be",
        "ts": "1478704793.002717"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0UHG4VP1>: at a high level, I did confirm that there seems to be something wrong with using the COPY instruction in docker v1.8 vs 1.12",
        "ts": "1478705624.002718"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "(which makes little sense to me, but I can confirm that it works in the 1.12 image (as well as my 1.12 environment here at home) and breaks in that weird AUFS way in 1.8",
        "ts": "1478705656.002719"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "what I would like to move towards is (like I mentioned the other day) something like the .travis.xml model where the repo can define what it needs more than the CI side",
        "ts": "1478705708.002720"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "ok",
        "ts": "1478705709.002721"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but I wanted to ask about what the environment looks like today",
        "ts": "1478705722.002722"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i think in the simplest model, this might be that the minion is a basic base (like ubuntu:xenial) and we have the basic \".travis.xml\" like thing do some basic package installs (docker, docker-compose, build-essentials, etc)",
        "ts": "1478705780.002723"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "how does this all work today?",
        "ts": "1478705790.002724"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "is it in ci-management.git and you spit out an openstack image?",
        "ts": "1478705804.002725"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "for instance, whats the ci-managemange\/vagrant stuff?",
        "ts": "1478705873.002726"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "is that how we build the base CI image?",
        "ts": "1478705880.002727"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "sort of",
        "ts": "1478706126.002728"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "it's probably behind the times, which is my fault",
        "ts": "1478706156.002729"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "actually, <https:\/\/gerrit.hyperledger.org\/r\/gitweb?p=ci-management.git;a=blob;f=vagrant\/fabric\/bootstrap.sh;h=7968c81a8e32b46b4fb5567625a1a6a8854ce837;hb=HEAD> looks fairly up-to-date",
        "ts": "1478706283.002730"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ok, ill study that",
        "ts": "1478706406.002731"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "what I am thinking is; the base environment has just enough logic to pull the repo and check for the \".travis.xml\"...if its not there, it will install an environment similar to what we have committed now",
        "ts": "1478706450.002732"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "and if it is, it will use the provided instructions instead",
        "ts": "1478706463.002733"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "do you anticipate this general idea would work or be a problem?",
        "ts": "1478706494.002734"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "e.g. installing things like docker\/docker-compose at build time ?",
        "ts": "1478706503.002735"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "the other direction is: we just standardize on a relatively neutral docker platform",
        "ts": "1478706526.002736"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "(though I still think things like \"make membersrvc-image\" should come from the .travis.xml",
        "ts": "1478706551.002737"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "even if package install doesnt",
        "ts": "1478706560.002738"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "we have a basic 14.04 image. would you like me to add a minion type that selects that so you can experiment without any stuff thats been added?",
        "edited": {
            "user": "U0UHG4VP1",
            "ts": "1478706610.000000"
        },
        "ts": "1478706581.002739"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "16.04 would be better if you have it",
        "ts": "1478706678.002741"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "the reason we have these images is to reduce build time, I think we'll end up making build times a lot longer if we go the route of starting with very basic VMs",
        "ts": "1478706678.002742"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but either way",
        "ts": "1478706680.002743"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "which I'm OK with",
        "ts": "1478706693.002744"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "understood..though I think the requirement set is lower now too, which will help",
        "ts": "1478706699.002745"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "e.g. while build-essentials\/docker\/compose aren't \"free\", they arent awful compared to some of the things we _used_ to need to install",
        "ts": "1478706740.002746"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but I understand your point",
        "ts": "1478706745.002747"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "like I said, we could just define a basic docker-platform minion and go from there",
        "ts": "1478706765.002748"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "one question would be: what happens to the current mainline build when we run with upgraded docker\/compose?",
        "ts": "1478706787.002749"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i know there is some kind of problem with 1.12, but what is it exactly ?",
        "ts": "1478706799.002750"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "IIRC it hangs at some point. would 16.10 be better for this?",
        "ts": "1478706837.002751"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I prefer LTS in general, but 16.10 is probably fine",
        "ts": "1478706859.002752"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "(14.04 and 16.04 were LTS)",
        "ts": "1478706868.002753"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30G77Q9J\/screen_shot_2016-11-09_at_7.54.18_am.png|which LTS? most recent one?>",
        "file": {
            "id": "F30G77Q9J",
            "created": 1478706895,
            "timestamp": 1478706895,
            "name": "Screen Shot 2016-11-09 at 7.54.18 AM.png",
            "title": "which LTS? most recent one?",
            "mimetype": "image\/png",
            "filetype": "png",
            "pretty_type": "PNG",
            "user": "U0UHG4VP1",
            "editable": false,
            "size": 57420,
            "mode": "hosted",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30G77Q9J\/screen_shot_2016-11-09_at_7.54.18_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30G77Q9J\/download\/screen_shot_2016-11-09_at_7.54.18_am.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "thumb_64": "https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F30G77Q9J-1e772e38ed\/screen_shot_2016-11-09_at_7.54.18_am_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "thumb_80": "https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F30G77Q9J-1e772e38ed\/screen_shot_2016-11-09_at_7.54.18_am_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "thumb_360": "https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F30G77Q9J-1e772e38ed\/screen_shot_2016-11-09_at_7.54.18_am_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "thumb_360_w": 225,
            "thumb_360_h": 360,
            "thumb_480": "https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F30G77Q9J-1e772e38ed\/screen_shot_2016-11-09_at_7.54.18_am_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "thumb_480_w": 300,
            "thumb_480_h": 480,
            "thumb_160": "https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F30G77Q9J-1e772e38ed\/screen_shot_2016-11-09_at_7.54.18_am_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "image_exif_rotation": 1,
            "original_w": 309,
            "original_h": 494,
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30G77Q9J\/screen_shot_2016-11-09_at_7.54.18_am.png",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F30G77Q9J-ef8368631e",
            "channels": [
                "C0YMWRX19"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U0UHG4VP1",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U0UHG4VP1|ry>",
        "bot_id": null,
        "ts": "1478706898.002754"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "the 11-02 image?",
        "ts": "1478706910.002755"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "16.04 11-02",
        "ts": "1478706919.002756"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "yeah, 16.04.xx where xx is latest should be fine",
        "ts": "1478706920.002757"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "OK. the new label is hyp-fabric-x86_64-16.04",
        "ts": "1478706969.002758"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "(sandbox only)",
        "ts": "1478706983.002759"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "awesome, thanks",
        "ts": "1478707031.002760"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "just basic ubuntu I take it?",
        "ts": "1478707038.002761"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "I've never actually tested these images, they're supplied by our hosting provider",
        "ts": "1478707039.002762"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "sure, np",
        "ts": "1478707044.002763"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "they may have fatal, basic errors",
        "ts": "1478707047.002764"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "heh, im getting used to that scenario",
        "ts": "1478707064.002765"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<https:\/\/jenkins.hyperledger.org\/sandbox\/job\/docker-native\/7\/console>",
        "ts": "1478707068.002766"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "they should be vanilla",
        "ts": "1478707069.002767"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "this seems to be slow, I wonder if that is the 1.12 hang",
        "ts": "1478707076.002768"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "if so, im kind of screwed...1.8 pukes on COPY directive",
        "ts": "1478707097.002769"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "let me look",
        "ts": "1478707100.002770"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i launched that job a while ago...it might just be slow",
        "ts": "1478707114.002771"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "unfortunately I don't have the logs here to see exactly which build we tried 1.12 on last",
        "ts": "1478707294.002772"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "<@U11HH3P7Y> do you know what the exact behavior was when we tried 1.12 and it hung?",
        "ts": "1478707326.002773"
    },
    {
        "type": "message",
        "user": "U11HH3P7Y",
        "text": "While executing common.sh script (updating ubuntu packages)",
        "ts": "1478707371.002774"
    },
    {
        "type": "message",
        "user": "U11HH3P7Y",
        "text": "<https:\/\/github.com\/hyperledger\/fabric\/blob\/v0.6\/scripts\/provision\/common.sh#L5>",
        "attachments": [
            {
                "service_name": "GitHub",
                "title": "hyperledger\/fabric",
                "title_link": "https:\/\/github.com\/hyperledger\/fabric\/blob\/v0.6\/scripts\/provision\/common.sh#L5",
                "text": "Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>",
                "fallback": "GitHub: hyperledger\/fabric",
                "thumb_url": "https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400",
                "from_url": "https:\/\/github.com\/hyperledger\/fabric\/blob\/v0.6\/scripts\/provision\/common.sh#L5",
                "thumb_width": 142,
                "thumb_height": 142,
                "service_icon": "https:\/\/github.com\/apple-touch-icon.png",
                "id": 1
            }
        ],
        "ts": "1478707418.002775"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "thank you",
        "ts": "1478707597.002777"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ah, thats right",
        "ts": "1478707603.002778"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i remember now, thank you <@U11HH3P7Y>",
        "ts": "1478707610.002779"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "this WGET is hanging now",
        "ts": "1478707626.002780"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i wonder if the network access from within the container is flaky or something",
        "ts": "1478707637.002781"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "(in 1.12, i mean)",
        "ts": "1478707642.002782"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<https:\/\/jenkins.hyperledger.org\/sandbox\/job\/docker-native\/7\/console>",
        "ts": "1478707667.002783"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "im going to try with the base 16.04 that was just provided",
        "ts": "1478707677.002784"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0UHG4VP1> can you confirm the -16.04 config?  it seems to be acting like 1.12 was earlier",
        "ts": "1478708035.002785"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "queued but no hardware comes up",
        "ts": "1478708044.002786"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "yeah I'm doing that right now",
        "ts": "1478708055.002787"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "it isn't even trying to spawn it and I don't see any errors in the console :confused:",
        "ts": "1478708270.002788"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "ah hah! we've reached the maximum node limit of 2 :slightly_smiling_face:",
        "ts": "1478708366.002789"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "I bumped that to 3, it should spawn now",
        "ts": "1478708449.002790"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ok, cool",
        "ts": "1478708588.002791"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "it looks like one of the things we bake in right off the bat is ssh credentials, which this VM doesn't have",
        "ts": "1478708629.002792"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ah",
        "ts": "1478708636.002793"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "dang",
        "ts": "1478708651.002794"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "are you running this all in vagrant?",
        "ts": "1478708667.002795"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "e.g. are the minions vagrant based?",
        "ts": "1478708679.002796"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2ZP5H6TS\/-.txt|Untitled>",
        "file": {
            "id": "F2ZP5H6TS",
            "created": 1478708695,
            "timestamp": 1478708695,
            "name": "-.txt",
            "title": "Untitled",
            "mimetype": "text\/plain",
            "filetype": "text",
            "pretty_type": "Plain Text",
            "user": "U0UHG4VP1",
            "editable": true,
            "size": 331,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2ZP5H6TS\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2ZP5H6TS\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2ZP5H6TS\/-.txt",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F2ZP5H6TS-c47f23a98d",
            "edit_link": "https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2ZP5H6TS\/-.txt\/edit",
            "preview": "https:\/\/jenkins.hyperledger.org\/sandbox\/computer\/hyp-x86_64-16.04-745\/log\r\n[11\/09\/16 16:24:41] [SSH] Opening SSH connection to 10.30.65.193:22.\r\nConnection refused (Connection refused)\r\nERROR: Unexpected error in launching a slave. This is probably a bug in Jenkins.\r\njava.lang.IllegalStateException: Connection is not established!",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>https:\/\/jenkins.hyperledger.org\/sandbox\/computer\/hyp-x86_64-16.04-745\/log<\/pre><\/div>\n<div><pre>[11\/09\/16 16:24:41] [SSH] Opening SSH connection to 10.30.65.193:22.<\/pre><\/div>\n<div><pre>Connection refused (Connection refused)<\/pre><\/div>\n<div><pre>ERROR: Unexpected error in launching a slave. This is probably a bug in Jenkins.<\/pre><\/div>\n<div><pre>java.lang.IllegalStateException: Connection is not established!<\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 5,
            "lines_more": 0,
            "preview_is_truncated": false,
            "channels": [
                "C0YMWRX19"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U0UHG4VP1",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U0UHG4VP1|ry>",
        "bot_id": null,
        "ts": "1478708695.002797"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "yes",
        "ts": "1478708700.002798"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "interesting",
        "ts": "1478708715.002799"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "I could take a stab at whipping up a minimal 16.04 image later today",
        "ts": "1478708844.002800"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ok, thanks",
        "ts": "1478708874.002801"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "if you want to pre-bake it with docker, follow this recipe: <https:\/\/github.com\/ghaskins\/hyperledger-fabric\/blob\/docker-native\/devenv\/setup.sh#L64> to L81",
        "attachments": [
            {
                "service_name": "GitHub",
                "title": "ghaskins\/hyperledger-fabric",
                "title_link": "https:\/\/github.com\/ghaskins\/hyperledger-fabric\/blob\/docker-native\/devenv\/setup.sh#L64",
                "text": "hyperledger-fabric - Blockchain fabric code",
                "fallback": "GitHub: ghaskins\/hyperledger-fabric",
                "thumb_url": "https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400",
                "from_url": "https:\/\/github.com\/ghaskins\/hyperledger-fabric\/blob\/docker-native\/devenv\/setup.sh#L64",
                "thumb_width": 400,
                "thumb_height": 400,
                "service_icon": "https:\/\/github.com\/apple-touch-icon.png",
                "id": 1
            }
        ],
        "ts": "1478708940.002802"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "since it takes a while to generate the image, what is the baseline you need in it? docker 1.12 or should I not even... OK",
        "ts": "1478708948.002804"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I dont _think_ you will need L85-86, but I am not sure",
        "ts": "1478708978.002805"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "if I ran them and didn't need them, is it fatal?",
        "ts": "1478709047.002806"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "it looks like we would end up with a .bak of the OEM docker config",
        "ts": "1478709107.002807"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0UHG4VP1>: do you know if there is a proxy server in the CI environment?",
        "ts": "1478714261.002808"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I have a theory that things running within docker 1.12 are having trouble reaching the network for whatever reason",
        "ts": "1478714291.002809"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "proxy servers would be my first suspect",
        "ts": "1478714300.002810"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<https:\/\/jenkins.hyperledger.org\/sandbox\/job\/mainline-build\/1\/console>",
        "ts": "1478714359.002814"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so the problem is not with running ubuntu or network access, per se",
        "ts": "1478718822.002815"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<https:\/\/jenkins.hyperledger.org\/sandbox\/job\/mainline-build\/7\/console>",
        "ts": "1478718823.002816"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<https:\/\/jenkins.hyperledger.org\/sandbox\/job\/mainline-build\/8\/console>",
        "ts": "1478719335.002817"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "<@U0KPFAZNF>: I just got back home, sorry for the delay. There is a proxy but it should be transparent ",
        "ts": "1478719470.002818"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "Minions are all 10. addresses ",
        "ts": "1478719490.002819"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "yeah, it doesnt seem to be a proxy thing",
        "ts": "1478719501.002820"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "basic wgets work",
        "ts": "1478719504.002821"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "its something about installing packages, it seems",
        "ts": "1478719514.002822"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "see job 8",
        "ts": "1478719524.002823"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "I bet there is a prompt coming up",
        "ts": "1478719536.002824"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F30HLDWKU\/-.php|Untitled> and commented: This is what is running",
        "file": {
            "id": "F30HLDWKU",
            "created": 1478719559,
            "timestamp": 1478719559,
            "name": "-.php",
            "title": "Untitled",
            "mimetype": "text\/plain",
            "filetype": "php",
            "pretty_type": "PHP",
            "user": "U0KPFAZNF",
            "editable": true,
            "size": 95,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30HLDWKU\/-.php?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30HLDWKU\/download\/-.php?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F30HLDWKU\/-.php",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F30HLDWKU-0ff9d60ee5",
            "edit_link": "https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F30HLDWKU\/-.php\/edit",
            "preview": "docker run -i ghaskins\/wget wget http:\/\/www.cnn.com\r\ndocker run -i ghaskins\/wget apt-get update",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>docker run -i ghaskins\/wget wget http:\/\/www.cnn.com<\/pre><\/div>\n<div><pre>docker run -i ghaskins\/wget apt-get update<\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 2,
            "lines_more": 0,
            "preview_is_truncated": false,
            "channels": [
                "C0YMWRX19"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 1,
            "initial_comment": {
                "id": "Fc30L4UF2R",
                "created": 1478719559,
                "timestamp": 1478719559,
                "user": "U0KPFAZNF",
                "is_intro": true,
                "comment": "This is what is running",
                "channel": ""
            }
        },
        "user": "U0KPFAZNF",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U0KPFAZNF|ghaskins>",
        "bot_id": null,
        "ts": "1478719559.002825"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "the wget works fine, the apt-get is super slow",
        "ts": "1478719567.002826"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i have to step out, but feel free to play around with that task",
        "ts": "1478719588.002827"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F30L5F4P7\/-.txt|Untitled> and commented: The Dockerfile for ghaskins\/wget",
        "file": {
            "id": "F30L5F4P7",
            "created": 1478719618,
            "timestamp": 1478719618,
            "name": "-.txt",
            "title": "Untitled",
            "mimetype": "text\/plain",
            "filetype": "text",
            "pretty_type": "Plain Text",
            "user": "U0KPFAZNF",
            "editable": true,
            "size": 65,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30L5F4P7\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30L5F4P7\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F30L5F4P7\/-.txt",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F30L5F4P7-926d36fb77",
            "edit_link": "https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F30L5F4P7\/-.txt\/edit",
            "preview": "FROM ubuntu:xenial\r\nRUN apt-get update && apt-get install -y wget",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>FROM ubuntu:xenial<\/pre><\/div>\n<div><pre>RUN apt-get update &amp;&amp; apt-get install -y wget<\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 2,
            "lines_more": 0,
            "preview_is_truncated": false,
            "channels": [
                "C0YMWRX19"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 1,
            "initial_comment": {
                "id": "Fc30L5FBM3",
                "created": 1478719618,
                "timestamp": 1478719618,
                "user": "U0KPFAZNF",
                "is_intro": true,
                "comment": "The Dockerfile for ghaskins\/wget",
                "channel": ""
            }
        },
        "user": "U0KPFAZNF",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U0KPFAZNF|ghaskins>",
        "bot_id": null,
        "ts": "1478719619.002828"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "Ok will do ",
        "ts": "1478719758.002829"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "back",
        "ts": "1478721857.002830"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "any updates?",
        "ts": "1478721861.002831"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "I'm watching it slowly scroll. it is moving. I've filed a ticket to see if there is a networking issue.",
        "ts": "1478721891.002832"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I wonder if we've been throttled or something",
        "ts": "1478721904.002833"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "at the <http:\/\/ubuntu.com|ubuntu.com> side, I mean",
        "ts": "1478721917.002834"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i dont think it would be the case generally, as we seem to be able to pull large objects from dockerhub ok",
        "ts": "1478721935.002835"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "so we ran into something like this before. the mirror we get is some local-to-Vexxhost mirror, and it's super slow sometimes. There is a sed command in the history of the vagrant files (it may be deleted now) that forced a US mirror",
        "ts": "1478721982.002836"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "that aside, might be nice to have something like a squid proxy available in the DC",
        "ts": "1478721999.002837"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ah, that makes sense too",
        "ts": "1478722011.002838"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "anyway, let me set other stuff aside and get cracking on this",
        "ts": "1478722069.002839"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ok",
        "ts": "1478722075.002840"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "everything you're doing will make my life easier so I want to support you in this :slightly_smiling_face:",
        "ts": "1478722084.002841"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "thank you!",
        "ts": "1478722094.002842"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "not that you aren't always super helpful anyway",
        "ts": "1478722107.002843"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but i do appreciate that",
        "ts": "1478722112.002844"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "we used to inject mirrors into the apt setup, but we removed it due to reliability concerns",
        "ts": "1478722167.002845"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i could track that down and see if it might help here",
        "ts": "1478722174.002846"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "after I roll a new image once, will it matter?",
        "ts": "1478722228.002847"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "its hard to say: right now I am trying to track the general problem with using 1.12 in the cluster",
        "ts": "1478722313.002848"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "and I am running into this \"hang\" in several different contexts within a build",
        "ts": "1478722331.002849"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I have a feeling we have to solve this one way or another",
        "ts": "1478722342.002850"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "is it ok if I kill #8 and reload a new dockerhub image?",
        "ts": "1478722359.002851"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "or are you going to experiment with whats there?",
        "ts": "1478722367.002852"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "go ahead",
        "ts": "1478722372.002853"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ok",
        "ts": "1478722375.002854"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "I can't connect to those instances",
        "ts": "1478722378.002855"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "I can't _easily or reasonably_ connect to them",
        "ts": "1478722390.002856"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ok",
        "ts": "1478722400.002857"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2ZSZDG8G\/-.pl|Untitled> and commented: Found this",
        "file": {
            "id": "F2ZSZDG8G",
            "created": 1478722421,
            "timestamp": 1478722421,
            "name": "-.pl",
            "title": "Untitled",
            "mimetype": "text\/plain",
            "filetype": "perl",
            "pretty_type": "Perl",
            "user": "U0KPFAZNF",
            "editable": true,
            "size": 1543,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2ZSZDG8G\/-.pl?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2ZSZDG8G\/download\/-.pl?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2ZSZDG8G\/-.pl",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F2ZSZDG8G-04f2c65751",
            "edit_link": "https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2ZSZDG8G\/-.pl\/edit",
            "preview": "commit 5ee82b99275b9d8c452b9d1bda71f792c06bc1cb\r\nAuthor: Gregory Haskins <gregory.haskins@gmail.com>\r\nDate:   Wed Aug 31 11:11:50 2016 -0400\r\n\r\n    Revert \"Change APT to use mirror protocol\"\r",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-meta\">commit<\/span> <span class=\"cm-number\">5<\/span><span class=\"cm-meta\">ee82b99275b9d8c452b9d1bda71f792c06bc1cb<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-meta\">Author<\/span><span class=\"cm-operator\">:<\/span> <span class=\"cm-meta\">Gregory<\/span> <span class=\"cm-meta\">Haskins<\/span> <span class=\"cm-operator\">&lt;<\/span><span class=\"cm-meta\">gregory<\/span><span class=\"cm-operator\">.<\/span><span class=\"cm-meta\">haskins<\/span><span class=\"cm-variable\">@gmail<\/span><span class=\"cm-operator\">.<\/span><span class=\"cm-meta\">com<\/span><span class=\"cm-operator\">&gt;<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-meta\">Date<\/span><span class=\"cm-operator\">:<\/span>   <span class=\"cm-meta\">Wed<\/span> <span class=\"cm-meta\">Aug<\/span> <span class=\"cm-number\">31<\/span> <span class=\"cm-number\">11<\/span><span class=\"cm-operator\">:<\/span><span class=\"cm-number\">11<\/span><span class=\"cm-operator\">:<\/span><span class=\"cm-number\">50<\/span> <span class=\"cm-number\">2016<\/span> <span class=\"cm-operator\">-<\/span><span class=\"cm-number\">0400<\/span><\/pre><\/div>\n<div><pre>&#8203;<\/pre><\/div>\n<div><pre>    <span class=\"cm-meta\">Revert<\/span> <span class=\"cm-string\">&quot;Change APT to use mirror protocol&quot;<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 37,
            "lines_more": 32,
            "preview_is_truncated": true,
            "channels": [
                "C0YMWRX19"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 1,
            "initial_comment": {
                "id": "Fc30LKUVJQ",
                "created": 1478722421,
                "timestamp": 1478722421,
                "user": "U0KPFAZNF",
                "is_intro": true,
                "comment": "Found this",
                "channel": ""
            }
        },
        "user": "U0KPFAZNF",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U0KPFAZNF|ghaskins>",
        "bot_id": null,
        "ts": "1478722422.002858"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "this sounds familiar",
        "ts": "1478722459.002859"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "like I mentioned, it was flaky so we reverted it, but it might be a good data point if a mirror is faster",
        "ts": "1478722461.002860"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ok, i pushed a new ghaskins\/wget out that has the mirrors set",
        "ts": "1478722772.002861"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "running #9 now, lets see what happens",
        "ts": "1478722781.002862"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "too early to tell, but it seems like its going to be slow again",
        "ts": "1478722967.002863"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "now I am wondering if its some problem with the networking in the 1.12 guests",
        "ts": "1478722983.002864"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "maybe \"it works\" but its just really slow",
        "ts": "1478723002.002865"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0UHG4VP1>: did you get a chance to build that pure 16.04 image?",
        "ts": "1478723037.002866"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "ghaskins I am building that right now",
        "ts": "1478723053.002867"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "or, new 16.04 image ,  should say",
        "ts": "1478723057.002868"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "cool",
        "ts": "1478723058.002869"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "it's a much longer process, since I need to build two images: the base image, and a fabric layer",
        "ts": "1478723077.002870"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "np",
        "ts": "1478723096.002871"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "just to sanity check, im going to kill #9 and repoint it at the production images",
        "ts": "1478723143.002872",
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U0UHG4VP1"
                ],
                "count": 1
            }
        ]
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i think it will run full speed",
        "ts": "1478723151.002873"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ok, run #10 in the queue",
        "ts": "1478723195.002874"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "#10 run and done",
        "ts": "1478723398.002875"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "def something whacky with 1.12 image, just not sure what",
        "edited": {
            "user": "U0KPFAZNF",
            "ts": "1478723419.000000"
        },
        "ts": "1478723411.002876"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "since we've had problems with everything forward of 1.8, I'm a little suspicious of docker in this environment",
        "ts": "1478723593.002878"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "do we have other options for the base?",
        "ts": "1478723788.002879"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "all we really need is something with docker+compose",
        "ts": "1478723803.002880"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "everything else, I can work around",
        "ts": "1478723810.002881"
    },
    {
        "type": "message",
        "user": "U11HH3P7Y",
        "text": "<@U0UHG4VP1>: need docker-compose version 1.8.1 in CI to execute fabric-sdk-node docker-compose file",
        "ts": "1478724146.002882"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "ghaskins this will be much easier if I can build on the existing 14.04 image. ramesh: will your request work with ghaskins' request for docker 1.12?",
        "ts": "1478724339.002883"
    },
    {
        "type": "message",
        "user": "U11HH3P7Y",
        "text": "yes.. It should work",
        "ts": "1478724407.002884"
    },
    {
        "type": "message",
        "user": "U11HH3P7Y",
        "text": "right now I have docker 1.12.1 and compose version 1.8.1",
        "ts": "1478724431.002885"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0UHG4VP1>: i can work with that",
        "ts": "1478724444.002886"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "and ramesh's request jives well with my requirements too",
        "ts": "1478724462.002887"
    },
    {
        "text": "gets used to typing vagrant destroy :slightly_smiling_face:",
        "type": "message",
        "subtype": "me_message",
        "user": "U0UHG4VP1",
        "ts": "1478724472.002888"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I have been testing on v1.12.x and compose 1.8.1 and all works well (locally)",
        "ts": "1478724484.002889"
    },
    {
        "type": "message",
        "user": "U11HH3P7Y",
        "text": "<@U0KPFAZNF>: we have to update in baseimage as well",
        "ts": "1478724492.002890"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "and I know compose 1.5.2 is too old",
        "ts": "1478724492.002891"
    },
    {
        "type": "message",
        "user": "U11HH3P7Y",
        "text": "yes",
        "ts": "1478724504.002892"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U11HH3P7Y> in the new design, devenv wont even use baseimage any more",
        "ts": "1478724516.002893"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "(you wont even need devenv, really, though i will still provide it for those who want\/need it",
        "ts": "1478724536.002894"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2321\/>",
        "ts": "1478724554.002895"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U11HH3P7Y> ^^^",
        "ts": "1478724558.002896"
    },
    {
        "type": "message",
        "user": "U11HH3P7Y",
        "text": "ok checking",
        "ts": "1478724568.002897"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "in the new design, devenv is just simple ubuntu+docker+compose v1.8.1",
        "ts": "1478724578.002898"
    },
    {
        "type": "message",
        "user": "U11HH3P7Y",
        "text": "yes thanks",
        "ts": "1478724592.002899"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "and the hope is that CI will be similar",
        "ts": "1478724596.002900"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "to be clear: we will still have a baseimage for docker",
        "ts": "1478724619.002901"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "this is primarily w.r.t. vagrant\/ci",
        "ts": "1478724629.002902"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but, to your point...if we continue to use vagrant baseimage, it needs an update to compose, agreed",
        "ts": "1478724664.002903"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "(it has v1.5.2 right now)",
        "ts": "1478724677.002904"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "out of curiosity, why does sdk need 1.8.1?",
        "ts": "1478724688.002905"
    },
    {
        "type": "message",
        "user": "U11HH3P7Y",
        "text": "<https:\/\/github.com\/rennman\/updateNodeSdkUT\/blob\/updateNodeSdkUT\/test\/unit\/docker-compose.yml#L1>",
        "attachments": [
            {
                "service_name": "GitHub",
                "title": "rennman\/updateNodeSdkUT",
                "title_link": "https:\/\/github.com\/rennman\/updateNodeSdkUT\/blob\/updateNodeSdkUT\/test\/unit\/docker-compose.yml#L1",
                "text": "Contribute to updateNodeSdkUT development by creating an account on GitHub.",
                "fallback": "GitHub: rennman\/updateNodeSdkUT",
                "thumb_url": "https:\/\/avatars3.githubusercontent.com\/u\/17709133?v=3&s=400",
                "from_url": "https:\/\/github.com\/rennman\/updateNodeSdkUT\/blob\/updateNodeSdkUT\/test\/unit\/docker-compose.yml#L1",
                "thumb_width": 237,
                "thumb_height": 237,
                "service_icon": "https:\/\/github.com\/apple-touch-icon.png",
                "id": 1
            }
        ],
        "ts": "1478724722.002906"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ah, yes",
        "ts": "1478724735.002908"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "version 2.0 format",
        "ts": "1478724742.002909"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "note I found the \"links\" function flaky",
        "ts": "1478724757.002910"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "in v2.0 format, i mean",
        "ts": "1478724763.002911"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "it was not respecting order nor injecting the hosts entries for me, at least on docker-for-mac + 1.8.1",
        "ts": "1478724782.002912"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I ended up fixing it by reverting to 1.0 schema",
        "ts": "1478724795.002913"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "jfyi",
        "ts": "1478724822.002914"
    },
    {
        "text": "is impressed every time he runs *vagrant up* how much time is spent, every time, downloading and building rocksdb",
        "type": "message",
        "subtype": "me_message",
        "user": "U0UHG4VP1",
        "ts": "1478725213.002915"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "even though I baked it into the image",
        "ts": "1478725222.002916"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "thats odd",
        "ts": "1478725319.002917"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "fwiw, it seems like that will be gone soon",
        "ts": "1478725330.002918"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2355\/>",
        "ts": "1478725352.002919"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "nice.",
        "ts": "1478725393.002920"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2ZUNBA3T\/so_one_downside_to_running_this_on_14_04.txt|so one downside to running this on 14.04>",
        "file": {
            "id": "F2ZUNBA3T",
            "created": 1478725435,
            "timestamp": 1478725435,
            "name": "so_one_downside_to_running_this_on_14_04.txt",
            "title": "so one downside to running this on 14.04",
            "mimetype": "text\/plain",
            "filetype": "text",
            "pretty_type": "Plain Text",
            "user": "U0UHG4VP1",
            "editable": true,
            "size": 67,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2ZUNBA3T\/so_one_downside_to_running_this_on_14_04.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2ZUNBA3T\/download\/so_one_downside_to_running_this_on_14_04.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2ZUNBA3T\/so_one_downside_to_running_this_on_14_04.txt",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F2ZUNBA3T-1e2f05535e",
            "edit_link": "https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2ZUNBA3T\/so_one_downside_to_running_this_on_14_04.txt\/edit",
            "preview": "root@rjones-vagrant-3:~# go version\r\ngo version go1.2.1 linux\/amd64",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>root@rjones-vagrant-3:~# go version<\/pre><\/div>\n<div><pre>go version go1.2.1 linux\/amd64<\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 2,
            "lines_more": 0,
            "preview_is_truncated": false,
            "channels": [
                "C0YMWRX19"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U0UHG4VP1",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U0UHG4VP1|ry>",
        "bot_id": null,
        "ts": "1478725436.002921"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "that's after lines 62-64 of <https:\/\/github.com\/ghaskins\/hyperledger-fabric\/blob\/docker-native\/devenv\/setup.sh#L64>",
        "attachments": [
            {
                "service_name": "GitHub",
                "title": "ghaskins\/hyperledger-fabric",
                "title_link": "https:\/\/github.com\/ghaskins\/hyperledger-fabric\/blob\/docker-native\/devenv\/setup.sh#L64",
                "text": "hyperledger-fabric - Blockchain fabric code",
                "fallback": "GitHub: ghaskins\/hyperledger-fabric",
                "thumb_url": "https:\/\/avatars2.githubusercontent.com\/u\/367132?v=3&s=400",
                "from_url": "https:\/\/github.com\/ghaskins\/hyperledger-fabric\/blob\/docker-native\/devenv\/setup.sh#L64",
                "thumb_width": 400,
                "thumb_height": 400,
                "service_icon": "https:\/\/github.com\/apple-touch-icon.png",
                "id": 1
            }
        ],
        "ts": "1478725460.002922"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "hah, thats 14.04 for you :wink:",
        "ts": "1478725492.002924"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30H3P6MR\/we_already_have_these.txt|we already have these>",
        "file": {
            "id": "F30H3P6MR",
            "created": 1478725502,
            "timestamp": 1478725502,
            "name": "we_already_have_these.txt",
            "title": "we already have these",
            "mimetype": "text\/plain",
            "filetype": "text",
            "pretty_type": "Plain Text",
            "user": "U0UHG4VP1",
            "editable": true,
            "size": 77,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30H3P6MR\/we_already_have_these.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30H3P6MR\/download\/we_already_have_these.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30H3P6MR\/we_already_have_these.txt",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F30H3P6MR-c7ca6bb249",
            "edit_link": "https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30H3P6MR\/we_already_have_these.txt\/edit",
            "preview": "root@rjones-vagrant-3:~# ls \/opt\/go\r\ngo1.6.linux.amd64  go1.7.3.linux.amd64\r\n",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>root@rjones-vagrant-3:~# ls \/opt\/go<\/pre><\/div>\n<div><pre>go1.6.linux.amd64  go1.7.3.linux.amd64<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 3,
            "lines_more": 0,
            "preview_is_truncated": false,
            "channels": [
                "C0YMWRX19"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U0UHG4VP1",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U0UHG4VP1|ry>",
        "bot_id": null,
        "ts": "1478725503.002925"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "oh",
        "ts": "1478725511.002926"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "its probably a path thing",
        "ts": "1478725525.002927"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "that script I provided does an apt-get install golang",
        "ts": "1478725536.002928"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but it was written for 16.04",
        "ts": "1478725542.002929"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "(which is 1.6",
        "ts": "1478725545.002930"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "yes, I'm just following along",
        "ts": "1478725547.002931"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "im guessing it pulled the 14.04 package in",
        "ts": "1478725556.002932"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i _think_ we can fix with some envvar manipulations",
        "ts": "1478725571.002933"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "if 1.7.3 is available, just shoot for that one",
        "ts": "1478725590.002934"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I think you would need basically GOROOT=\/opt\/go\/go1.7.3.linux.amd64 and PATH=$PATH:$GOROOT\/bin",
        "ts": "1478725643.002935"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "though you might need to make that first to eclipse the 1.2 package",
        "ts": "1478725662.002936"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "(I would just remove the 14.04 package, less confusion likely",
        "ts": "1478725675.002937"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "the new slack client uses less RAM but doesn't even keep a whole page of backscroll",
        "ts": "1478725740.002938"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "sorry, i just realized you said \"one downside of 14.04\"",
        "edited": {
            "user": "U0KPFAZNF",
            "ts": "1478725768.000000"
        },
        "ts": "1478725757.002939"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "yes, what were you thinking? am I confused? I mean, I am often confused, am I confused about this particular fact?",
        "ts": "1478725850.002941"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "no no, i just realized I explained the 14.04 thing when you clearly already understood that",
        "ts": "1478725881.002942"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I missed the comment that indicated you already figured out that was the culprit",
        "ts": "1478725906.002943"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30MFAXU4\/-.txt|Untitled>",
        "file": {
            "id": "F30MFAXU4",
            "created": 1478725908,
            "timestamp": 1478725908,
            "name": "-.txt",
            "title": "Untitled",
            "mimetype": "text\/plain",
            "filetype": "text",
            "pretty_type": "Plain Text",
            "user": "U0UHG4VP1",
            "editable": true,
            "size": 175,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30MFAXU4\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30MFAXU4\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30MFAXU4\/-.txt",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F30MFAXU4-1235a18231",
            "edit_link": "https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30MFAXU4\/-.txt\/edit",
            "preview": "root@rjones-vagrant-3:~# docker --version\r\nDocker version 1.12.3, build 6b644ec\r\nroot@rjones-vagrant-3:~# docker-compose --version\r\ndocker-compose version 1.8.1, build 878cff1",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>root@rjones-vagrant-3:~# docker --version<\/pre><\/div>\n<div><pre>Docker version 1.12.3, build 6b644ec<\/pre><\/div>\n<div><pre>root@rjones-vagrant-3:~# docker-compose --version<\/pre><\/div>\n<div><pre>docker-compose version 1.8.1, build 878cff1<\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 4,
            "lines_more": 0,
            "preview_is_truncated": false,
            "channels": [
                "C0YMWRX19"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U0UHG4VP1",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U0UHG4VP1|ry>",
        "bot_id": null,
        "ts": "1478725908.002944"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "<@U11HH3P7Y> ^^^^",
        "ts": "1478725918.002945"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "that LGTM",
        "ts": "1478725935.002946"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "is there anything else I need to explicitly check versions on before I wrap this up? it takes a while to spawn these VMs so I'd like to check every little box",
        "ts": "1478725953.002947"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "and you know how to chose the version of go you need, since they're both there?",
        "ts": "1478725980.002948"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "if you have the suite indicated by that script, I think we are good",
        "ts": "1478725988.002949"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "you installed build-essential too?",
        "ts": "1478725994.002950"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "(my script did, not sure if you edited it)",
        "ts": "1478726008.002951"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "how would I tell the version?",
        "ts": "1478726014.002952"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "im not sure it matters, but I guess you could look at make --version, git --version",
        "ts": "1478726033.002953"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i think basically any make\/git from 14.04 should work",
        "ts": "1478726056.002954"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2ZUTLL2V\/-.txt|Untitled>",
        "file": {
            "id": "F2ZUTLL2V",
            "created": 1478726081,
            "timestamp": 1478726081,
            "name": "-.txt",
            "title": "Untitled",
            "mimetype": "text\/plain",
            "filetype": "text",
            "pretty_type": "Plain Text",
            "user": "U0UHG4VP1",
            "editable": true,
            "size": 343,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2ZUTLL2V\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2ZUTLL2V\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2ZUTLL2V\/-.txt",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F2ZUTLL2V-c242bef21b",
            "edit_link": "https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2ZUTLL2V\/-.txt\/edit",
            "preview": "root@rjones-vagrant-3:~# make --version && git --version\r\nGNU Make 3.81\r\nCopyright (C) 2006  Free Software Foundation, Inc.\r\nThis is free software; see the source for copying conditions.\r\nThere is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A\r",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>root@rjones-vagrant-3:~# make --version &amp;&amp; git --version<\/pre><\/div>\n<div><pre>GNU Make 3.81<\/pre><\/div>\n<div><pre>Copyright (C) 2006  Free Software Foundation, Inc.<\/pre><\/div>\n<div><pre>This is free software; see the source for copying conditions.<\/pre><\/div>\n<div><pre>There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 10,
            "lines_more": 5,
            "preview_is_truncated": false,
            "channels": [
                "C0YMWRX19"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U0UHG4VP1",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U0UHG4VP1|ry>",
        "bot_id": null,
        "ts": "1478726081.002955"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "id say fire it in....",
        "ts": "1478726084.002956"
    },
    {
        "type": "message",
        "user": "U11HH3P7Y",
        "text": "do we need upgrade go version?",
        "ts": "1478726097.002957"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U11HH3P7Y> he has 1.7.3 already available",
        "ts": "1478726113.002958"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "not sure what the production flow would be, but for my sandbox needs, ill just wire it up with envvars",
        "ts": "1478726132.002959"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2ZUU73FT\/-.txt|Untitled>",
        "file": {
            "id": "F2ZUU73FT",
            "created": 1478726148,
            "timestamp": 1478726148,
            "name": "-.txt",
            "title": "Untitled",
            "mimetype": "text\/plain",
            "filetype": "text",
            "pretty_type": "Plain Text",
            "user": "U0UHG4VP1",
            "editable": true,
            "size": 473,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2ZUU73FT\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2ZUU73FT\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2ZUU73FT\/-.txt",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F2ZUU73FT-56995c4070",
            "edit_link": "https:\/\/hyperledgerproject.slack.com\/files\/ry\/F2ZUU73FT\/-.txt\/edit",
            "preview": "root@rjones-vagrant-3:~# ls -l \/opt\/go\/*\/bin\r\n\/opt\/go\/go1.6.linux.amd64\/bin:\r\ntotal 34044\r\n-rwxr-xr-x 1 root root 12523312 Feb 17  2016 go\r\n-rwxr-xr-x 1 root root 18438408 Feb 17  2016 godoc\r",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>root@rjones-vagrant-3:~# ls -l \/opt\/go\/*\/bin<\/pre><\/div>\n<div><pre>\/opt\/go\/go1.6.linux.amd64\/bin:<\/pre><\/div>\n<div><pre>total 34044<\/pre><\/div>\n<div><pre>-rwxr-xr-x 1 root root 12523312 Feb 17  2016 go<\/pre><\/div>\n<div><pre>-rwxr-xr-x 1 root root 18438408 Feb 17  2016 godoc<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 14,
            "lines_more": 9,
            "preview_is_truncated": false,
            "channels": [
                "C0YMWRX19"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U0UHG4VP1",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U0UHG4VP1|ry>",
        "bot_id": null,
        "ts": "1478726149.002960"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "thats perfect (for me)",
        "ts": "1478726164.002961"
    },
    {
        "type": "message",
        "user": "U11HH3P7Y",
        "text": "yes..",
        "ts": "1478726170.002962"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "ramesh: yes everything is OK to seal the image?",
        "ts": "1478726193.002963"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U11HH3P7Y> note that, fwiw, if my new proposal is accepted, we dont really need go in the cienv\/devenv anway",
        "ts": "1478726203.002964"
    },
    {
        "type": "message",
        "user": "U11HH3P7Y",
        "text": "yes <@U0UHG4VP1>",
        "ts": "1478726219.002965"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "(because basically everything is orchastrated like \"docker run fabric-baseimage go install ... \"",
        "ts": "1478726269.002966"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so the compiler would come from the docker baseimage",
        "ts": "1478726294.002967"
    },
    {
        "type": "message",
        "user": "U11HH3P7Y",
        "text": "yes I see that in your patches",
        "ts": "1478726296.002968"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i suspect in practice, most devs will still have golang installed on the host, however",
        "ts": "1478726317.002969"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "(how else will they be writing the code)",
        "ts": "1478726324.002970"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but it wont be needed for build\/test, at least",
        "ts": "1478726337.002971"
    },
    {
        "type": "message",
        "user": "U11HH3P7Y",
        "text": "yes.. this will be helpful for quick development setup",
        "ts": "1478726422.002972"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0UHG4VP1>: let me know when that image is available and ill fire a test in",
        "ts": "1478727174.002973"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "label hyp-fabric-x86_64-1.12 points to the new image",
        "ts": "1478727242.002974"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "cool, ill give it a whirl",
        "ts": "1478727343.002975"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "(so you should just be able to click \"rebuild\")",
        "ts": "1478727351.002976"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "<@U11HH3P7Y> did you just start that fabric-cop build?",
        "ts": "1478727365.002977"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i think i switched it to production image",
        "ts": "1478727372.002978"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ill just edit\/refire",
        "ts": "1478727375.002979"
    },
    {
        "type": "message",
        "user": "U11HH3P7Y",
        "text": "yes.. Shall I kill it?",
        "ts": "1478727383.002980"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "no, did you switch it to use the hyp-fabric-x86_64-1.12 label already?",
        "ts": "1478727405.002981"
    },
    {
        "type": "message",
        "user": "U11HH3P7Y",
        "text": "no",
        "ts": "1478727411.002982"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "it won't work",
        "ts": "1478727427.002983"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "fire in the hole",
        "ts": "1478727429.002984"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "fire in the hole",
        "ts": "1478727438.002985"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "fire in the hole",
        "ts": "1478727441.002986"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "(you're supposed to yell it three times) :slightly_smiling_face:",
        "ts": "1478727449.002987"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "heh",
        "ts": "1478727453.002988"
    },
    {
        "type": "message",
        "user": "U11HH3P7Y",
        "text": ":slightly_smiling_face:",
        "ts": "1478727454.002989"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "face left, yell. face right, yell. face forward, yell. you're also supposed to assess the situation in each direction, looking for people that have moved inside the controlled area",
        "ts": "1478727505.002990"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "vagrant so rarely involves physical injury, though",
        "ts": "1478727531.002991"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "indeed",
        "ts": "1478727543.002992"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "preliminary result: looks like its still slow",
        "ts": "1478727575.002993"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<https:\/\/jenkins.hyperledger.org\/sandbox\/job\/mainline-build\/11\/console>",
        "ts": "1478727593.002994"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "ghaskins is it upgrading a bunch of stuff to xenial?",
        "ts": "1478728317.002995"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "well, in this simple example, I am just tyring to run \"apt-get update\" which does nothng more than update the package repo metadata",
        "ts": "1478728351.002996"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "chosen because it seems to be the simplest way to reproduce the problem",
        "ts": "1478728371.002997"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "is there a way I could cache this?",
        "ts": "1478728372.002998"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "oh ok. you want to solve the problem in general, not just this problem. :slightly_smiling_face:",
        "ts": "1478728386.002999"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "re: cache, perhaps squid-deb-proxy might help",
        "ts": "1478728428.003000"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but i suspect the problem is fundamental: like the networking speed coming out of the container",
        "ts": "1478728441.003001"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "is there any way to tell apt-get explicitly which mirror to use, or perhaps a very verbose logging option you could enable? I suspect the mirror we're using will start with ca-mq something",
        "ts": "1478728497.003002"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "im not sure, sorry",
        "ts": "1478728538.003003"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "probably",
        "ts": "1478728541.003004"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "the problem might be more fundamental however:  I saw other workloads having trouble within a wget inside an openjdk container",
        "ts": "1478728574.003005"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "or at least, it appeared that way",
        "ts": "1478728595.003006"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "my gut is saying theres some kind of performance problem with the way the network gets setup in the 1.12 image",
        "ts": "1478728628.003007"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i mention wget\/openjdk to offer a counterpoint that it might be ubuntu\/apt-get related",
        "ts": "1478728670.003008"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but really, i dont yet know what the actual problem is",
        "ts": "1478728698.003009"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "standby",
        "ts": "1478728717.003010"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "what I do know is that \"docker run .... apt-get update\" works just fine on the 1.8 and stalls for hours on the 1.12 image",
        "ts": "1478728730.003011"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "how would I properly start docker from the workspace?",
        "ts": "1478729172.003012"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30N9FRU4\/so_this_is_inside_the_vm.txt|so this is inside the VM>",
        "file": {
            "id": "F30N9FRU4",
            "created": 1478729389,
            "timestamp": 1478729389,
            "name": "so_this_is_inside_the_VM.txt",
            "title": "so this is inside the VM",
            "mimetype": "text\/plain",
            "filetype": "text",
            "pretty_type": "Plain Text",
            "user": "U0UHG4VP1",
            "editable": true,
            "size": 120,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30N9FRU4\/so_this_is_inside_the_vm.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30N9FRU4\/download\/so_this_is_inside_the_vm.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30N9FRU4\/so_this_is_inside_the_vm.txt",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F30N9FRU4-88a811b545",
            "edit_link": "https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30N9FRU4\/so_this_is_inside_the_vm.txt\/edit",
            "preview": "root@rjones-vagrant-3:~# time apt-get update\r\n...\r\nreal\t0m9.094s\r\nuser\t0m8.670s\r\nsys\t0m0.597s\r",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>root@rjones-vagrant-3:~# time apt-get update<\/pre><\/div>\n<div><pre>...<\/pre><\/div>\n<div><pre>real    0m9.094s<\/pre><\/div>\n<div><pre>user    0m8.670s<\/pre><\/div>\n<div><pre>sys 0m0.597s<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 6,
            "lines_more": 1,
            "preview_is_truncated": false,
            "channels": [
                "C0YMWRX19"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U0UHG4VP1",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U0UHG4VP1|ry>",
        "bot_id": null,
        "ts": "1478729389.003013"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "you mean you have a setup with docker installed, but the dockerd isnt running?",
        "ts": "1478730792.003014"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "don't get excited about build 13 of mainline build passing, I commented out your second call.",
        "ts": "1478732040.003021"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "huh. when I run docker as root it works. fine.",
        "ts": "1478732177.003022"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30063YG0\/within_docker.txt|within docker>",
        "file": {
            "id": "F30063YG0",
            "created": 1478734141,
            "timestamp": 1478734141,
            "name": "within_docker.txt",
            "title": "within docker",
            "mimetype": "text\/plain",
            "filetype": "text",
            "pretty_type": "Plain Text",
            "user": "U0UHG4VP1",
            "editable": true,
            "size": 4828,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": true,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30063YG0\/within_docker.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30063YG0\/download\/within_docker.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30063YG0\/within_docker.txt",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F30063YG0-1e5873a51d",
            "edit_link": "https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30063YG0\/within_docker.txt\/edit",
            "preview": "Script started on Wed 09 Nov 2016 11:22:15 PM UTC\r\n# tcpdump -i eth0 -s 1500 port not 22 and port not 53 and not arp\r\ntcpdump: verbose output suppressed, use -v or -vv for full protocol decode\r\nlistening on eth0, link-type EN10MB (Ethernet), capture size 1500 bytes\r\n23:22:25.876326 IP 10.30.65.50.50375 > iron.canonical.com.http: Flags [S], seq 2778454453, win 29200, options [mss 1460,sackOK,TS val 1152989 ecr 0,nop,wscale 7], length 0\r",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Script started on Wed 09 Nov 2016 11:22:15 PM UTC<\/pre><\/div>\n<div><pre># tcpdump -i eth0 -s 1500 port not 22 and port not 53 and not arp<\/pre><\/div>\n<div><pre>tcpdump: verbose output suppressed, use -v or -vv for full protocol decode<\/pre><\/div>\n<div><pre>listening on eth0, link-type EN10MB (Ethernet), capture size 1500 bytes<\/pre><\/div>\n<div><pre>23:22:25.876326 IP 10.30.65.50.50375 &gt; iron.canonical.com.http: Flags [S], seq 2778454453, win 29200, options [mss 1460,sackOK,TS val 1152989 ecr 0,nop,wscale 7], length 0<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 39,
            "lines_more": 34,
            "preview_is_truncated": true,
            "channels": [
                "C0YMWRX19"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U0UHG4VP1",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U0UHG4VP1|ry>",
        "bot_id": null,
        "ts": "1478734141.003023"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30PJ0C7P\/on_the_host.txt|on the host>",
        "file": {
            "id": "F30PJ0C7P",
            "created": 1478734196,
            "timestamp": 1478734196,
            "name": "on_the_host.txt",
            "title": "on the host",
            "mimetype": "text\/plain",
            "filetype": "text",
            "pretty_type": "Plain Text",
            "user": "U0UHG4VP1",
            "editable": true,
            "size": 8299,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": true,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30PJ0C7P\/on_the_host.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F30PJ0C7P\/download\/on_the_host.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30PJ0C7P\/on_the_host.txt",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F30PJ0C7P-bf58336b72",
            "edit_link": "https:\/\/hyperledgerproject.slack.com\/files\/ry\/F30PJ0C7P\/on_the_host.txt\/edit",
            "preview": "Script started on Wed 09 Nov 2016 11:21:43 PM UTC\r\n# tcpdump -i eth0 -s 1500 port not 22 and port not 53 and not arp\r\ntcpdump: verbose output suppressed, use -v or -vv for full protocol decode\r\nlistening on eth0, link-type EN10MB (Ethernet), capture size 1500 bytes\r\n23:21:51.449367 IP 10.30.65.50.42052 > haetae.canonical.com.http: Flags [S], seq 1423251040, win 27040, options [mss 1352,sackOK,TS val 1144382 ecr 0,nop,wscale 7], length 0\r",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>Script started on Wed 09 Nov 2016 11:21:43 PM UTC<\/pre><\/div>\n<div><pre># tcpdump -i eth0 -s 1500 port not 22 and port not 53 and not arp<\/pre><\/div>\n<div><pre>tcpdump: verbose output suppressed, use -v or -vv for full protocol decode<\/pre><\/div>\n<div><pre>listening on eth0, link-type EN10MB (Ethernet), capture size 1500 bytes<\/pre><\/div>\n<div><pre>23:21:51.449367 IP 10.30.65.50.42052 &gt; haetae.canonical.com.http: Flags [S], seq 1423251040, win 27040, options [mss 1352,sackOK,TS val 1144382 ecr 0,nop,wscale 7], length 0<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 50,
            "lines_more": 45,
            "preview_is_truncated": true,
            "channels": [
                "C0YMWRX19"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U0UHG4VP1",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U0UHG4VP1|ry>",
        "bot_id": null,
        "ts": "1478734196.003024"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "so it's this mirror at <http:\/\/rafal.ca|rafal.ca>",
        "ts": "1478734214.003025"
    },
    {
        "text": "knows it isn't the root cause tyvm just keeping you apprised of my debugging",
        "type": "message",
        "subtype": "me_message",
        "user": "U0UHG4VP1",
        "ts": "1478734238.003026"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "yeah, also keep in mind I only added the mirrors recently",
        "ts": "1478734478.003027"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "it was doing the same thing when it was just connecting to <http:\/\/archive.ubuntu.com|archive.ubuntu.com>",
        "ts": "1478734494.003028"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I just re-pushed the image without the mirror stuff enabled",
        "ts": "1478734879.003029"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "it seemed to not help, and having things be consistent is probably more important than optimal efficiency",
        "ts": "1478734899.003030"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "Should I re-run that test?",
        "ts": "1478735638.003031"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "sure",
        "ts": "1478735645.003032"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "K",
        "ts": "1478735647.003033"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "the hostname is different but the result is the same",
        "ts": "1478736029.003034"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I figured, but at least you have a consistent IP to compare",
        "ts": "1478738732.003035"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "So it works fine if you launch as root?",
        "ts": "1478738746.003036"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "well, docker works when I launch as root, but it's still broken overall.",
        "ts": "1478740012.003037"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "It gives me something to begin talking about, though, instead of \"it's slow\"",
        "ts": "1478740054.003038"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "right, ok",
        "ts": "1478740170.003039"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so, where did the 1.8 image come from?",
        "ts": "1478740190.003040"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "was it basically same process, just older docker?",
        "ts": "1478740198.003041"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "or completely different origins?",
        "ts": "1478740203.003042"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "what I am getting at is whether its dockerd or the surrounding image that might be to blame",
        "ts": "1478740258.003043"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "Yes, basically the same process",
        "ts": "1478741524.003044"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ok, thats good..simplifies things at least",
        "ts": "1478741956.003045"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0UHG4VP1>: do you know what versions of docker you tried that exhibited the problem?",
        "ts": "1478742786.003046"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "we know 1.8 == good and 1.12 == bad",
        "ts": "1478742793.003047"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "try anything in between?",
        "ts": "1478742797.003048"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i think anything that looked like that \"hang\" problem Ramesh mentioned are this same issue",
        "ts": "1478742826.003049"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "<@U0KPFAZNF> I don't know that we tried every single version between 8 and 12, but I know we tried 1.9 and 1.11",
        "ts": "1478742902.003050"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ok, thats good info, thx",
        "ts": "1478742914.003051"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "basically, anything &gt; 1.8 has not worked",
        "ts": "1478742925.003052"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "theres some murmuring about it possibly being related to DNS",
        "ts": "1478742937.003053"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "and I saw 1.9 mentioned",
        "ts": "1478742943.003054"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "well, I can edit resolv.conf",
        "ts": "1478742958.003055"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "looks like I have 5 copies of it",
        "ts": "1478742998.003056"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F31CYNDJB\/-.txt|Untitled>",
        "file": {
            "id": "F31CYNDJB",
            "created": 1478743020,
            "timestamp": 1478743020,
            "name": "-.txt",
            "title": "Untitled",
            "mimetype": "text\/plain",
            "filetype": "text",
            "pretty_type": "Plain Text",
            "user": "U0UHG4VP1",
            "editable": true,
            "size": 544,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F31CYNDJB\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F31CYNDJB\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/ry\/F31CYNDJB\/-.txt",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F31CYNDJB-76868ef861",
            "edit_link": "https:\/\/hyperledgerproject.slack.com\/files\/ry\/F31CYNDJB\/-.txt\/edit",
            "preview": "\/var\/lib\/docker\/containers\/f79d47764c2704340ae49a57c67caa527aa37ce67902a73bfabc3035ba838b01\/resolv.conf\r\n\/var\/lib\/docker\/containers\/835d5b970d17906cf88ac41e2397971f10c65931a3bb1b47d505ee04cc4f7f49\/resolv.conf\r\n\/var\/lib\/docker\/aufs\/diff\/b4f8ace9fd4fd83a21dbcbca49372e6f0269948b42bab0feade5bfd66bf96166\/etc\/resolv.conf\r\n\/var\/lib\/docker\/aufs\/diff\/037f9cbc503a34ea70b4db37a3b11d3f27fa627187eeb4e415652ee1bde980c7-init\/etc\/resolv.conf\r\n\/var\/lib\/docker\/aufs\/diff\/85bbeb6b9410d13a0fedaf1b2364c0a7a6c4575e0c5d077e9628dc7348a01f8d-init\/etc\/resolv.conf\r",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>\/var\/lib\/docker\/containers\/f79d47764c2704340ae49a57c67caa527aa37ce67902a73bfabc3035ba838b01\/resolv.conf<\/pre><\/div>\n<div><pre>\/var\/lib\/docker\/containers\/835d5b970d17906cf88ac41e2397971f10c65931a3bb1b47d505ee04cc4f7f49\/resolv.conf<\/pre><\/div>\n<div><pre>\/var\/lib\/docker\/aufs\/diff\/b4f8ace9fd4fd83a21dbcbca49372e6f0269948b42bab0feade5bfd66bf96166\/etc\/resolv.conf<\/pre><\/div>\n<div><pre>\/var\/lib\/docker\/aufs\/diff\/037f9cbc503a34ea70b4db37a3b11d3f27fa627187eeb4e415652ee1bde980c7-init\/etc\/resolv.conf<\/pre><\/div>\n<div><pre>\/var\/lib\/docker\/aufs\/diff\/85bbeb6b9410d13a0fedaf1b2364c0a7a6c4575e0c5d077e9628dc7348a01f8d-init\/etc\/resolv.conf<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 6,
            "lines_more": 1,
            "preview_is_truncated": false,
            "channels": [
                "C0YMWRX19"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U0UHG4VP1",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U0UHG4VP1|ry>",
        "bot_id": null,
        "ts": "1478743020.003057"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U0UHG4VP1|ry> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ry\/F31CMT354\/-.txt|Untitled>",
        "file": {
            "id": "F31CMT354",
            "created": 1478743130,
            "timestamp": 1478743130,
            "name": "-.txt",
            "title": "Untitled",
            "mimetype": "text\/plain",
            "filetype": "text",
            "pretty_type": "Plain Text",
            "user": "U0UHG4VP1",
            "editable": true,
            "size": 4812,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F31CMT354\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F31CMT354\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/ry\/F31CMT354\/-.txt",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F31CMT354-8ed54e1af3",
            "edit_link": "https:\/\/hyperledgerproject.slack.com\/files\/ry\/F31CMT354\/-.txt\/edit",
            "preview": "# tcpdump -i docker0 -s 1500 port not 22 and not arp\r\ntcpdump: verbose output suppressed, use -v or -vv for full protocol decode\r\nlistening on docker0, link-type EN10MB (Ethernet), capture size 1500 bytes\r\n01:57:57.555454 IP6 :: > ff02::16: HBH ICMP6, multicast listener report v2, 1 group record(s), length 28\r\n01:57:57.618421 IP 172.17.0.1.58302 > pdx-caf-ipa.int.codeaurora.org.domain: 16547+ A? archive.ubuntu.com. (36)\r",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre># tcpdump -i docker0 -s 1500 port not 22 and not arp<\/pre><\/div>\n<div><pre>tcpdump: verbose output suppressed, use -v or -vv for full protocol decode<\/pre><\/div>\n<div><pre>listening on docker0, link-type EN10MB (Ethernet), capture size 1500 bytes<\/pre><\/div>\n<div><pre>01:57:57.555454 IP6 :: &gt; ff02::16: HBH ICMP6, multicast listener report v2, 1 group record(s), length 28<\/pre><\/div>\n<div><pre>01:57:57.618421 IP 172.17.0.1.58302 &gt; pdx-caf-ipa.int.codeaurora.org.domain: 16547+ A? archive.ubuntu.com. (36)<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 34,
            "lines_more": 29,
            "preview_is_truncated": true,
            "channels": [
                "C0YMWRX19"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U0UHG4VP1",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U0UHG4VP1|ry>",
        "bot_id": null,
        "ts": "1478743131.003058"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "is there something specific in there you wanted me to look at?",
        "ts": "1478743210.003059"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "nothing is jumping out at me",
        "ts": "1478743220.003060"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "it looks like it gets rolling and just stops. there isn't any DNS traffic",
        "ts": "1478743430.003061"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "it does one lookup for ipv4 and ipv6, and goes",
        "ts": "1478743465.003062"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "I don't know. this is crazy making",
        "ts": "1478743548.003063"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "yeah, i agree, it doesnt look like a DNS problem",
        "ts": "1478743578.003064"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "under 100ms response and then its running",
        "ts": "1478743602.003065"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "thankfully one of our docker-heavy guys is in Australia, so I may be able to get an assist here",
        "ts": "1478743724.003066"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "cool",
        "ts": "1478743878.003067"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "now that we can reproduce with a simple example, its only a matter of time",
        "ts": "1478743896.003068"
    },
    {
        "type": "message",
        "user": "U0UHG4VP1",
        "text": "yes",
        "ts": "1478743900.003069"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "that Dockerfile I sent earlier still applies since I removed the mirrors config",
        "ts": "1478743983.003070"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "in case he wants to hack on it",
        "ts": "1478743999.003071"
    }
]