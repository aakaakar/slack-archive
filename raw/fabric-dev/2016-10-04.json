[
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "<@U0KPFAZNF> - Ok - I completely deleted both the VM and the baseimage, pulled a fresh copy of the .vbox and did a complete fresh re-install...\n\nHowever, this morning when running `make unit-test` it failed - here is the output:",
        "ts": "1475564626.001178"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U2CC1NDT2|lenh> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/lenh\/F2JTCJJNP\/make_unit-test_output.txt|make unit-test output> and commented: make unit-test output",
        "file": {
            "id": "F2JTCJJNP",
            "created": 1475564680,
            "timestamp": 1475564680,
            "name": "make_unit-test_output.txt",
            "title": "make unit-test output",
            "mimetype": "text\/plain",
            "filetype": "text",
            "pretty_type": "Plain Text",
            "user": "U2CC1NDT2",
            "editable": true,
            "size": 4350,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2JTCJJNP\/make_unit-test_output.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2JTCJJNP\/download\/make_unit-test_output.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/lenh\/F2JTCJJNP\/make_unit-test_output.txt",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F2JTCJJNP-2664891adc",
            "edit_link": "https:\/\/hyperledgerproject.slack.com\/files\/lenh\/F2JTCJJNP\/make_unit-test_output.txt\/edit",
            "preview": "vagrant@hyperledger-devenv:v0.1.0-5b0a7f0:\/hyperledger$ make unit-test\r\nBuilding build\/docker\/bin\/peer\r\nBuilding docker peer-image\r\ncp build\/docker\/bin\/peer build\/image\/peer\/bin\r\ndocker build -t hyperledger\/fabric-peer build\/image\/peer\r",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>vagrant@hyperledger-devenv:v0.1.0-5b0a7f0:\/hyperledger$ make unit-test<\/pre><\/div>\n<div><pre>Building build\/docker\/bin\/peer<\/pre><\/div>\n<div><pre>Building docker peer-image<\/pre><\/div>\n<div><pre>cp build\/docker\/bin\/peer build\/image\/peer\/bin<\/pre><\/div>\n<div><pre>docker build -t hyperledger\/fabric-peer build\/image\/peer<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 79,
            "lines_more": 74,
            "preview_is_truncated": true,
            "channels": [
                "C0YPYBVJM"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 1,
            "initial_comment": {
                "id": "Fc2JUV6S1L",
                "created": 1475564680,
                "timestamp": 1475564680,
                "user": "U2CC1NDT2",
                "is_intro": true,
                "comment": "make unit-test output",
                "channel": ""
            }
        },
        "user": "U2CC1NDT2",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U2CC1NDT2|lenh>",
        "bot_id": null,
        "ts": "1475564680.001179"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "`make behave` output:",
        "ts": "1475566273.001181"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "```07:27:37 - context.failed = True\n\nFailing scenarios:\n  java_shim.feature:121  Java TableExample chaincode single peer\n\n4 features passed, 1 failed, 3 skipped\n39 scenarios passed, 1 failed, 9 skipped\n549 steps passed, 1 failed, 270 skipped, 0 undefined\nTook 19m49.205s\nmake: *** [behave] Error 1```",
        "ts": "1475566280.001182"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "Pulling a fresh copy of the baseimage also did not solve the Peer reporting\n`07:50:12.971 [dockercontroller] deployImage -&gt; ERRO 015 Error building images: Tag latest not found in repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>`\nwhen deploying chaincode from a client running the NodeSDK...",
        "ts": "1475567707.001183"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "<@U2CC1NDT2> could you check docker images | grep baseimage",
        "ts": "1475568028.001184"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "docker images | grep baseimage                 this",
        "ts": "1475568038.001185"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "hyperledger\/fabric-baseimage \nx86_64-0.1.0                    db53d04b117c        2 weeks ago         1.39 GB",
        "ts": "1475568129.001186"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "I also have one tagged with latest",
        "ts": "1475568149.001187"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "maybe running     make peer-image  ?",
        "ts": "1475568179.001188"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "ok..",
        "ts": "1475568195.001189"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "not sure, just a tip",
        "ts": "1475568206.001190"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "peer is already built - `make peer-image` returns\n`make: Nothing to be done for peer-image.`",
        "edited": {
            "user": "U2CC1NDT2",
            "ts": "1475568296.000000"
        },
        "ts": "1475568263.001191"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "hm, I will have to look into the docker files",
        "ts": "1475568303.001194"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "Could not be how docker is being fired?",
        "ts": "1475568419.001195"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "i.e. the docker images themselves are correct just the invocation is a bit off?",
        "ts": "1475568450.001196"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "I think one should have a baseimage tagged with latest",
        "ts": "1475568475.001197"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "I have it and it is only 4 days old",
        "ts": "1475568484.001198"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "are you saying your baseimage is 4 days old when the one it downloaded this morning as a fresh install is 2 weeks old?",
        "ts": "1475568595.001199"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "as in your virtualbox.box file is 4 days old?",
        "ts": "1475568639.001200"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "I think my one was built locally, that's why it is newer",
        "ts": "1475568658.001201"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "but not sure",
        "ts": "1475568660.001202"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "When you say \"baseimage\" are you referring to the virtualbox.box file which provides the VM OS image (into which the Fabric is then provisioned)? or are you referring to the docker images?",
        "ts": "1475568799.001203"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "I built membersrvc and peer from scratch this morning so they should both the on the latest published docker images.. I guess...?",
        "ts": "1475568848.001204"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "I'm no expert but I suspect it has something to do with how docker is firing the container to run the deployed chaincode? This happens when deploying chaincode via the NodeSDK...",
        "ts": "1475568968.001205"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "Anyway - will leave it to someone with the right pay grade to advise as it's beyond me :slightly_smiling_face:",
        "ts": "1475569009.001206"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "I was referring to one of the docker images as you said your Peer reported this:\n07:50:12.971 [dockercontroller] deployImage -&gt; ERRO 015 Error building images: Tag latest not found in repository <http:\/\/docker.io\/hyperledger\/fabric-baseimage|docker.io\/hyperledger\/fabric-baseimage>",
        "ts": "1475569050.001207"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "OK - yes that's what the Peer reports when deploying chaincode via the NodeSDK...",
        "ts": "1475569112.001208"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "on the client side though it looks like it's completed correctly though...\n```deploying chaincode; please wait ...\ndeploy complete; results: {\"uuid\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\",\"chaincodeID\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\"}```",
        "edited": {
            "user": "U2CC1NDT2",
            "ts": "1475569195.000000"
        },
        "ts": "1475569179.001209"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "and you can't call it, I guess",
        "ts": "1475569203.001211"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "I can invoke but can't query...",
        "ts": "1475569224.001212"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "```invoke submitted successfully; results={\"uuid\":\"96202184-01a2-4455-a102-d365e8024d53\"}\ninvoke completed successfully; results={\"result\":\"Tx 96202184-01a2-4455-a102-d365e8024d53 complete\"}```",
        "ts": "1475569240.001213"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "```querying chaincode ...\nFailed to query chaincode: request={\"chaincodeID\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\",\"fcn\":\"query\",\"args\":[\"a\"]}, error=%k EventTransactionError {\n  error:\n   { status: 'FAILURE',\n     msg: &lt;Buffer 45 72 72 6f 72 3a 46 61 69 6c 65 64 20 74 6f 20 6c 61 75 6e 63 68 20 63 68 61 69 6e 63 6f 64 65 20 73 70 65 63 28 43 6f 75 6c 64 20 6e 6f 74 20 67 65 ... &gt; },\n  msg: 'Error:Failed to launch chaincode spec(Could not get deployment transaction for 56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8 - LedgerError - ResourceNotFound: ledger: resource not found)' }```",
        "ts": "1475569261.001214"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "but the folks over in <#C1GSVKK1U|fabric-sdk-node> don't seem surprised that query fails due to some issues they are dealing with that still need merging into the HFC SDK...",
        "ts": "1475569316.001215"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "so not really worried about the query aspect until they resolve the HFC SDK",
        "ts": "1475569344.001216"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "but if invoke works and the query has a bug then doesn't that mean that the chaincode is deployed?",
        "ts": "1475569377.001217"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "yes - see my msg 12:18 above",
        "ts": "1475569404.001218"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "12:18? can't find, please quote",
        "ts": "1475569555.001219"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "OK - yes that's what the Peer reports when deploying chaincode via the NodeSDK...\non the client side though it looks like it's completed correctly though...",
        "ts": "1475569598.001220"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "```deploying chaincode; please wait ...\ndeploy complete; results: {\"uuid\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\",\"chaincodeID\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\"}```",
        "ts": "1475569610.001221"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "sorry I guess the time is linked to user TZ - my bad",
        "ts": "1475569641.001222"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "<@U2CC1NDT2> just another tip: try make images-clean and then make peer-image",
        "ts": "1475571769.001223"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "make images",
        "ts": "1475571958.001224"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "nope - same result, deploy &amp; invoke seems to work but peer still reporting the `latest tag not found` issue",
        "ts": "1475572066.001225"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "still no baseimage:latest?",
        "ts": "1475572106.001226"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "for me it built it",
        "ts": "1475572110.001227"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "hyperledger\/fabric-baseimage                                                latest                          b0bbba5bc03f        About a minute ago   1.386 GB",
        "ts": "1475572118.001228"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "I mean I have this now, after clean and build",
        "ts": "1475572131.001229"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "I guess you are on master, right?",
        "ts": "1475572422.001230"
    },
    {
        "type": "message",
        "user": "U1VG8LNP3",
        "text": "<@U1AU8DRQR> hi",
        "ts": "1475572446.001231"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "<@U1VG8LNP3> :slightly_smiling_face:",
        "ts": "1475572463.001232"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "<@U2CC1NDT2> are you on master?",
        "ts": "1475572642.001233"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "how do I check please?",
        "ts": "1475572822.001234"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "git log  ... and what's the latest commit? :slightly_smiling_face:",
        "ts": "1475572863.001235"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "commit 5b0a7f0a615e85be01d80b3b5ebd9aa18f49b4ed\nMerge: bb5b5f8 0b860c3\nAuthor: Jonathan Levi &lt;jonathan@levi.name&gt;\nDate:   Mon Oct 3 17:33:22 2016 +0000\n\n    Merge \"v1 preview updates\"",
        "ts": "1475572945.001236"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "oh yeah I checked out and there it works somehow else :slightly_smiling_face:",
        "ts": "1475573287.001237"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "baseimage is not deleted",
        "ts": "1475573293.001238"
    },
    {
        "type": "message",
        "user": "U1VG8LNP3",
        "text": "<@U1AU8DRQR> <https:\/\/github.com\/hyperledger\/fabric-baseimage>",
        "attachments": [
            {
                "service_name": "GitHub",
                "title": "hyperledger\/fabric-baseimage",
                "title_link": "https:\/\/github.com\/hyperledger\/fabric-baseimage",
                "text": "Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric-baseimage>",
                "fallback": "GitHub: hyperledger\/fabric-baseimage",
                "thumb_url": "https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400",
                "from_url": "https:\/\/github.com\/hyperledger\/fabric-baseimage",
                "thumb_width": 142,
                "thumb_height": 142,
                "service_icon": "https:\/\/github.com\/apple-touch-icon.png",
                "id": 1
            }
        ],
        "ts": "1475573306.001239"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "I guess we needed <@U0KPFAZNF>",
        "ts": "1475573308.001241"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "so, that's the repo for baseimage, the only thing I don't know is why you don't have baseimage:latest <@U2CC1NDT2>",
        "edited": {
            "user": "U1AU8DRQR",
            "ts": "1475573368.000000"
        },
        "ts": "1475573357.001242"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "you could try tagging it but that is a hack :smile:",
        "ts": "1475573380.001244"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "hey guys, just waking up on the east coast",
        "ts": "1475583800.001245"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I think I know what @lenhs problem is",
        "ts": "1475583814.001246"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "first, note that \u201cbaseimage:latest\u201d _used_ to be generated as an artifact of the build, but it isn\u2019t any more",
        "ts": "1475583846.001247"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "second, I think the problem fundamentally is that the SDK creates a tarball that has a FROM directive referencing baseimage:latest that isn\u2019t executed until the tarball hits the peer",
        "ts": "1475583886.001248"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "<@U2CC1NDT2>",
        "ts": "1475583892.001249"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "<@U0KPFAZNF> arrived to save the day",
        "ts": "1475583908.001250"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "is it better if I remove that from from the sdk code?",
        "ts": "1475583943.001251"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "we need to strategize on the long term solution here, but for the short term we can just manually tag an image on the peer and I think <@U2CC1NDT2> can get past this",
        "ts": "1475583957.001252"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U1AU8DRQR> yeah, ultimately",
        "ts": "1475583967.001253"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "what I have been advocating, but still needs further discussion\/agreement, is that the SDK should get out of the docker business",
        "ts": "1475583997.001254"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "what from-image to use instead of that?",
        "ts": "1475584019.001255"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "it would be better if the SDK could emit something like a .car file and let the peer and\/or chaintool worry about the mapping to a container",
        "ts": "1475584052.001256"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "<@U0KPFAZNF> I think this is related to <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/1047\/>",
        "ts": "1475584094.001257"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "well, if the SDK is going to continue to inject a FROM statement, there isnt a perfect answer\u2026but something like ccenv:0.6.1 would be better",
        "ts": "1475584109.001258"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "theres a ton of problems if we are going to continue to let the SDK create a FROM statement though",
        "ts": "1475584140.001259"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "why 0.6.1?",
        "ts": "1475584177.001260"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "well, it should be pinned to something\u2026.or we need to synthesize something generic (like we did with baseimage:latest",
        "ts": "1475584227.001261"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "heres an idea",
        "ts": "1475584230.001262"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "1) we take your patch",
        "ts": "1475584238.001263"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "taking my stuff is generally a good idea :smile:",
        "ts": "1475584265.001264",
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U0KPFAZNF"
                ],
                "count": 1
            }
        ]
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "2) we modify the peer such that it will, as part of start up, do a \u201cdocker tag fabric-ccenv:$(ARCH)-$(VERSION) -&gt; :latest\"",
        "ts": "1475584282.001265"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "that way, we synthesize the correct tag but we do it at runtime instead of at build time",
        "ts": "1475584309.001266"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "(in the old system, baseimage:latest was synthesized as part of the build)",
        "ts": "1475584323.001267"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "which worked fine, as long as you had run a build",
        "ts": "1475584333.001268"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "that would solve the general problem, at least for now",
        "ts": "1475584349.001269"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "we can worry about cleaning up the deployment payload later",
        "ts": "1475584361.001270"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "thoughts?",
        "ts": "1475584386.001271"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "why can't we do it at build time?",
        "ts": "1475584446.001272"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "that only works for people that actually do a build",
        "ts": "1475584483.001273"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "consider lots of people coming on board that only want to run fabirc",
        "ts": "1475584495.001274"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "what I am striving for is that eventually someone can come in cold and say \u201cdocker run hyperledger\/fabric-peer\"",
        "ts": "1475584528.001275"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "in that scenario, there would not be any local build",
        "ts": "1475584550.001276"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but, if the peer, as part of its startup, where to tag ccenv:latest properly (factoring in the version of the peer, the arch, etc), then the SDK can remain generic",
        "ts": "1475584584.001277"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "wait but before running it don't they have to build it?",
        "ts": "1475584602.001278"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "today. that is the only supported way, but that doesnt mean we shouldnt support binary deployments eventually",
        "ts": "1475584634.001279"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "at least IMO",
        "ts": "1475584648.001280"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "yeah yeah you are right, but any of the solutions we are talking about can only be temporary, I think",
        "ts": "1475584681.001281"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "yes, imo the SDK creating a Dockerfile\/tarball at all should only be temporary\u2026id like to see it gravitate towards using something like a .car file and get out of the packaging business all together",
        "ts": "1475584737.001282"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "e.g. let tooling create chaincode packages, let the SDK(s) deploy the general package, let the peers do the mapping to a container",
        "ts": "1475584776.001283"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "anyway, the summary of the problem is that the SDK is currently assuming too much",
        "ts": "1475584824.001284"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "so if it has to be changed to use car why don't we change the current process to tag after each build (as a very temporary solution)?",
        "ts": "1475584923.001285"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "and then drive the change :stuck_out_tongue:",
        "ts": "1475584931.001286"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "tag what?",
        "ts": "1475584939.001287"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "tag ccenv with latest",
        "ts": "1475585012.001288"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "in dockerhub?",
        "ts": "1475585019.001289"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "no, locally, isn't SDK building the image locally?",
        "ts": "1475585062.001290"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "no, and that is in fact part of the story here",
        "ts": "1475585080.001291"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "the SDK is building a tarball with a Dockerfile in it",
        "ts": "1475585088.001292"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "the peer then runs docker-build on it",
        "ts": "1475585094.001293"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so, the SDK is injecting the FROM baseimage:latest directive because it doesnt know that fabric.git\/master got rid of that",
        "ts": "1475585131.001294"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "and then its hitting the peer which is no longer generating baseimage:latest and failing",
        "ts": "1475585155.001295"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "the SDK only prepares the docker build, but it doesnt run it",
        "ts": "1475585175.001296"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "(think of it this way\u2026the Dockerfile+tarball is $X MB, but the resulting container is like 1.4GB",
        "ts": "1475585203.001297"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "we arent sending 1.4GB images around the network :wink:",
        "ts": "1475585213.001298"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "yeah now I remember",
        "ts": "1475585245.001299"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "the build happens on the peer (as it should, both from a sheer size perspective, as well as the fact that you cant possibly know the context the peer runs under",
        "ts": "1475585264.001300"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "for instance, one peer could be x86 while another is ppcle",
        "ts": "1475585276.001301"
    },
    {
        "user": "U2K2UC31N",
        "text": "<@U2K2UC31N|sdiehl> has joined the channel",
        "type": "message",
        "subtype": "channel_join",
        "ts": "1475585295.001302"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "personally, i think this is all suboptimal\u2026the SDK should not be in the Dockerfile business",
        "ts": "1475585321.001303"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i think it shouldnt even be in the packaging business",
        "ts": "1475585338.001304"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "let it take a generic deployment payload and deploy it",
        "ts": "1475585348.001305"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "let tooling generate optimal deployment payloads",
        "ts": "1475585362.001306"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "brb, kids to school",
        "ts": "1475585366.001307"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "okay I see",
        "ts": "1475585402.001308"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "back",
        "ts": "1475585456.001309"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "anyway, i think a temporary solution like the points 1-2 above would be fine",
        "ts": "1475585483.001310"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "if my long term vision is adopted, we can simply deal with it at the chaincodeType level",
        "ts": "1475585509.001311"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "eventually deprecating the GOLANG type that assumes Dockerfile payload",
        "ts": "1475585521.001312"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U2CC1NDT2> as a workaround for now, on your peer, run \u201cdocker tag hyperledger\/fabric-ccenv:latest hyperledger\/fabric-baseimage:latest\"",
        "ts": "1475585629.001313"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "and I think your deployment will start working",
        "ts": "1475585635.001314"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "which is easier to implement? which is better?",
        "ts": "1475585637.001315"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i think the 1-2 point fix is the easiest\u2026IMO the tooling+deployment payload is better",
        "ts": "1475585696.001316"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so I would be fine with a tactical\/strategical tiered fix",
        "ts": "1475585721.001317"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "fwiw, here was a thread discussing the strategical option",
        "ts": "1475585829.001318"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<http:\/\/lists.hyperledger.org\/pipermail\/hyperledger-fabric\/2016-September\/000337.html>",
        "ts": "1475585830.001319"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "sorry, this one",
        "ts": "1475585850.001320"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<http:\/\/lists.hyperledger.org\/pipermail\/hyperledger-fabric\/2016-September\/000331.html>",
        "ts": "1475585851.001321"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "could you review my patch then?",
        "ts": "1475585976.001322"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i can, but note that the peer side to do the runtime tagging needs to go in first",
        "ts": "1475586002.001323"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "though I suppose we could push this patch in now and it will not make anything worse",
        "ts": "1475586022.001324"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "(because locally built systems do have ccenv:latest",
        "ts": "1475586031.001325"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "actually that is an improvment, since baseimage:latest is no longer valid",
        "ts": "1475586050.001326"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "yes, ok",
        "ts": "1475586061.001327"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "stepping out for a bit",
        "ts": "1475586093.001328"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "bbiab",
        "ts": "1475586094.001329"
    },
    {
        "type": "message",
        "user": "U1AU8DRQR",
        "text": "first this patch and I will do another for 2)",
        "ts": "1475586392.001330"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "<@U0KPFAZNF> - tried `docker tag hyperledger\/fabric-ccenv:latest hyperledger\/fabric-baseimage:latest` - here is the output from the peer node",
        "ts": "1475589623.001331"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U2CC1NDT2|lenh> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/lenh\/F2K47953K\/peer_node_output.txt|peer node output>",
        "file": {
            "id": "F2K47953K",
            "created": 1475589651,
            "timestamp": 1475589651,
            "name": "peer_node_output.txt",
            "title": "peer node output",
            "mimetype": "text\/plain",
            "filetype": "text",
            "pretty_type": "Plain Text",
            "user": "U2CC1NDT2",
            "editable": true,
            "size": 5450,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2K47953K\/peer_node_output.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2K47953K\/download\/peer_node_output.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/lenh\/F2K47953K\/peer_node_output.txt",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F2K47953K-afabf4968d",
            "edit_link": "https:\/\/hyperledgerproject.slack.com\/files\/lenh\/F2K47953K\/peer_node_output.txt\/edit",
            "preview": "vagrant@hyperledger-devenv:v0.1.0-5b0a7f0:\/hyperledger$ docker tag hyperledger\/fabric-ccenv:latest hyperledger\/fabric-baseimage:latest\r\nvagrant@hyperledger-devenv:v0.1.0-5b0a7f0:\/hyperledger$ peer node start\r\n13:49:40.525 [nodeCmd] serve -> INFO 002 Security enabled status: false\r\n13:49:40.524 [eventhub_producer] start -> INFO 001 event processor started\r\n13:49:40.526 [nodeCmd] serve -> INFO 003 Privacy enabled status: false\r",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>vagrant@hyperledger-devenv:v0.1.0-5b0a7f0:\/hyperledger$ docker tag hyperledger\/fabric-ccenv:latest hyperledger\/fabric-baseimage:latest<\/pre><\/div>\n<div><pre>vagrant@hyperledger-devenv:v0.1.0-5b0a7f0:\/hyperledger$ peer node start<\/pre><\/div>\n<div><pre>13:49:40.525 [nodeCmd] serve -&gt; INFO 002 Security enabled status: false<\/pre><\/div>\n<div><pre>13:49:40.524 [eventhub_producer] start -&gt; INFO 001 event processor started<\/pre><\/div>\n<div><pre>13:49:40.526 [nodeCmd] serve -&gt; INFO 003 Privacy enabled status: false<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 59,
            "lines_more": 54,
            "preview_is_truncated": true,
            "channels": [
                "C0YPYBVJM"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U2CC1NDT2",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U2CC1NDT2|lenh>",
        "bot_id": null,
        "ts": "1475589651.001332"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "and here is the client side response to deploying chaincode_example02 via the SDK...",
        "ts": "1475589682.001333"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "```Hyperldeger REST API provider listening on port 8081\nMiddleware invoked...\nEnrolling WebAppAdmin...\nEnrolled JohnDoe successfully\n\ndeploying chaincode; please wait ...\ndeploy complete; results: {\"uuid\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\",\"chaincodeID\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\"}\ninvoke chaincode ...\ninvoke submitted successfully; results={\"uuid\":\"afe86578-a8e8-4dfd-bb84-70d9c64c3ba8\"}\ninvoke completed successfully; results={\"result\":\"Tx afe86578-a8e8-4dfd-bb84-70d9c64c3ba8 complete\"}\nWaiting for chain to sync...\nquerying chaincode ...\nFailed to query chaincode: request={\"chaincodeID\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\",\"fcn\":\"query\",\"args\":[\"a\"]}, error=%k EventTransactionError {\n  error:\n   { status: 'FAILURE',\n     msg: &lt;Buffer 45 72 72 6f 72 3a 46 61 69 6c 65 64 20 74 6f 20 6c 61 75 6e 63 68 20 63 68 61 69 6e 63 6f 64 65 20 73 70 65 63 28 43 6f 75 6c 64 20 6e 6f 74 20 67 65 ... &gt; },\n  msg: 'Error:Failed to launch chaincode spec(Could not get deployment transaction for 56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8 - LedgerError - ResourceNotFound: ledger: resource not found)' }```",
        "ts": "1475589711.001334"
    },
    {
        "user": "U2K3VT40G",
        "text": "<@U2K3VT40G|john.mccloskey> has joined the channel",
        "type": "message",
        "subtype": "channel_join",
        "ts": "1475589939.001335"
    },
    {
        "type": "message",
        "user": "U0XQ35CDD",
        "text": "Quick question: as far as I know the Go 1.7 changeset was merged. When do we see this reflected in the fabric-baseimage and in the Vagrant image?",
        "ts": "1475590508.001336"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I have to release the baseimage, and then update fabric to reference it",
        "ts": "1475594601.001337"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "neither has happened yet, but ill likely do this in the next 24 hours",
        "ts": "1475594617.001338"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "(for master\u2026v0.6 is not likely to receive the upgrade and convergence _should_ get it but the merge needs to be resolved",
        "ts": "1475594650.001339"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0XQ35CDD> ^^^^",
        "ts": "1475594683.001340"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i will send out a notice to the ML\/slack when the upgrade occurs, since people will generally want to rebuild their environments",
        "ts": "1475594725.001341"
    },
    {
        "type": "message",
        "user": "U0XQ35CDD",
        "text": "<@U0KPFAZNF> Thank you. I'll wait for that email before I start posting my changesets.",
        "ts": "1475594752.001342"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "note that my current plan is to rollup all of the patches I recently submitted to baseimage",
        "ts": "1475594799.001343"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "this includes nodejs v6.7.0, go v1.7.1 and ubuntu 16.04",
        "ts": "1475594819.001344"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "do you see that as a problem?",
        "ts": "1475594822.001345"
    },
    {
        "type": "message",
        "user": "U0XQ35CDD",
        "text": "Not at all.",
        "ts": "1475594831.001346"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ok, cool",
        "ts": "1475594834.001347"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "would you be willing to try the environment after the baseimage release but before the fabric update?",
        "ts": "1475594885.001348"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "its always helpful to have as much testing diversity as possible",
        "ts": "1475594900.001349"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I can usually rope <@U0KM61BCP> and <@U0TFEHX8E> in, but I am always looking for other victims^h^h^h^h^h^hvolunteers",
        "ts": "1475594947.001350"
    },
    {
        "type": "message",
        "user": "U0XQ35CDD",
        "text": "Sure thing.",
        "ts": "1475594983.001351",
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U0KPFAZNF"
                ],
                "count": 1
            }
        ]
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ok, ill ping you when its ready",
        "ts": "1475594995.001352"
    },
    {
        "type": "message",
        "user": "U0XQ35CDD",
        "text": "(Do note that I'm not clear on what's the difference between the baseimage release and the fabric update.)",
        "ts": "1475595026.001353"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "well, theres fabric-baseimage.git -&gt; [dockerhub|atlas] -&gt; fabric.git",
        "ts": "1475595054.001354"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "fabric.git simply references the baseimage indirectly by a version tag to atlas\/dockerhub",
        "ts": "1475595077.001355"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so, the first phase is cutting a release in baseimage.git and publishing the images, and the second phase is updating the pointer in fabric.git",
        "ts": "1475595114.001356"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but I can complete the first phase before phase 2 is merged in, so people can test it",
        "ts": "1475595137.001357"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "thats what we usually do",
        "ts": "1475595140.001358"
    },
    {
        "type": "message",
        "user": "U0XQ35CDD",
        "text": "Ah, alright.",
        "ts": "1475595150.001359"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "fwiw: this is what creates the link",
        "ts": "1475595254.001360"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/.baseimage-release>",
        "attachments": [
            {
                "service_name": "GitHub",
                "title": "hyperledger\/fabric",
                "title_link": "https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/.baseimage-release",
                "text": "Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>",
                "fallback": "GitHub: hyperledger\/fabric",
                "thumb_url": "https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400",
                "from_url": "https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/.baseimage-release",
                "thumb_width": 142,
                "thumb_height": 142,
                "service_icon": "https:\/\/github.com\/apple-touch-icon.png",
                "id": 1
            }
        ],
        "ts": "1475595254.001361"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so, phase 2 is a CR that updates that value",
        "ts": "1475595276.001363"
    },
    {
        "type": "message",
        "user": "U13Q594J2",
        "text": "<@U2CC1NDT2>, I am referring the below error message from your logs\n\n```\nStep 4 : RUN go install build-chaincode &amp;&amp; cp src\/build-chaincode\/vendor\/github.com\/hyperledger\/fabric\/peer\/core.yaml $GOPATH\/bin &amp;&amp; mv $GOPATH\/bin\/build-chaincode $GOPATH\/bin\/56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\n ---&gt; Running in 371cd46c924d\ncp: cannot stat 'src\/build-chaincode\/vendor\/github.com\/hyperledger\/fabric\/peer\/core.yaml': No such file or directory\n********************\n```\n\njust wanted to check , whether you have this folder structure `$GOPATH\/src\/&lt;chaincode&gt;\/vendor\/github.com\/hyperledger\/fabric\/` where you are running node program ?",
        "ts": "1475595875.001364"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "<@U13Q594J2> - my environment is setup as follows:\nI have the Fabric running on a Vagrant VM (Fabric)\nI have another VM running the node SDK (Client)\nThe chaincode is being deployed FROM client TO Fabric",
        "ts": "1475596261.001365"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U2CC1NDT2> are you building the SDK yourself?",
        "ts": "1475596386.001366"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "or using one from NPM?",
        "ts": "1475596393.001367"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "But to answer you directly - no I don't have the folder structure you mention...",
        "ts": "1475596397.001368"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "on the client side I used npm install hfc",
        "ts": "1475596418.001369"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ok\u2026fwiw, I can give you a one-liner for the SDK that I _think_ will fix your baseimage problem",
        "ts": "1475596441.001370"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but you would have to build it locally",
        "ts": "1475596447.001371"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "if that is not practical, we can address differently",
        "ts": "1475596456.001372"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "I can build the SDK but I'm running on windows so for e.g. when I run the node sdk unit test in the VM (because of the Host OS to VM folder mappings) it tried to create the node_modules\/node_modules\/node_modules dir structure on Windows which is a known issue",
        "ts": "1475596537.001373"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ah, i see",
        "ts": "1475596607.001374"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ok",
        "ts": "1475596608.001375"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "I've overcome this in the past by using creating a symlink though... (so do the node install OUTSIDE of the Vagrant &lt;-&gt; Host OS file mappings)",
        "ts": "1475596611.001376"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "on your peer, can you paste the output of \u201cdocker images | grep fabric\"",
        "ts": "1475596632.001377"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "```hyperledger\/fabric-membersrvc                                                                                                               latest                          41c3feac8651        6 hours ago         1.44 GB\nhyperledger\/fabric-membersrvc                                                                                                               x86_64-0.7.0-snapshot-5b0a7f0   41c3feac8651        6 hours ago         1.44 GB\nhyperledger\/fabric-peer                                                                                                                     latest                          44c43c14eb1c        6 hours ago         1.446 GB\nhyperledger\/fabric-peer                                                                                                                     x86_64-0.7.0-snapshot-5b0a7f0   44c43c14eb1c        6 hours ago         1.446 GB\nhyperledger\/fabric-javaenv                                                                                                                  latest                          9967f458e2f8        9 hours ago         791 MB\nhyperledger\/fabric-javaenv                                                                                                                  x86_64-0.7.0-snapshot-5b0a7f0   9967f458e2f8        9 hours ago         791 MB\nhyperledger\/fabric-baseimage                                                                                                                latest                          ba5a47491ea8        9 hours ago         1.424 GB\nhyperledger\/fabric-ccenv                                                                                                                    latest                          ba5a47491ea8        9 hours ago         1.424 GB\nhyperledger\/fabric-ccenv                                                                                                                    x86_64-0.7.0-snapshot-5b0a7f0   ba5a47491ea8        9 hours ago         1.424 GB\nhyperledger\/fabric-src                                                                                                                      latest                          39667ef2fa27        9 hours ago         1.418 GB\nhyperledger\/fabric-src                                                                                                                      x86_64-0.7.0-snapshot-5b0a7f0   39667ef2fa27        9 hours ago         1.418 GB\nhyperledger\/fabric-baseimage                                                                                                                x86_64-0.1.0                    db53d04b117c        2 weeks ago         1.39 GB```",
        "ts": "1475596664.001378"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U2CC1NDT2> apologies, I just saw that you already tried the docker-tag thing too",
        "ts": "1475596701.001379"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "the core.yaml thing _might_ be because we hacked ccenv-&gt;baseimage",
        "ts": "1475596744.001380"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "yeah - no worries - look I'm no expert but I think you nailed earlier when you were discussing how the SDK packages and sends the deploy request",
        "ts": "1475596755.001381"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "try using fabric-peer instead of fabric-ccenv",
        "ts": "1475596759.001382"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "yeah, we need to fix that\u2026but in the interest of getting you off the ground quick...",
        "ts": "1475596780.001383"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "we can hack it like this",
        "ts": "1475596783.001384"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so try \u201cdocker tag \u2026peer:latest \u2026baseimage:latest\"",
        "ts": "1475596804.001385"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "filling in the full name, of course",
        "ts": "1475596809.001386"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "to be honest bud - until the node SDK Ledger query issue is fixed it's all moot",
        "ts": "1475596816.001387"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "the peer image _should_ have the core.yaml in it",
        "ts": "1475596824.001388"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ah, i am not familar with that issue",
        "ts": "1475596836.001389"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "Ok let me recap for sake of not causing overdue confusion \/ wasted effort...\n- I have 2 VM's (Fabric and Client)\n- Fabric runs fine and is based on latest (this morning I axed EVERYTHING - VM - vbox image - the lot)\n- client VM has node sdk installed via npm install hfc\n- client code works 100% (or so it seems to wrt deploy and invoke)\n- client code fails on query - the folks over at <#C1GSVKK1U|fabric-sdk-node> are not surprised as there are unmerged fixes needing assimilation\n- peer node spits out error messages BUT on the client side the deploy \/ invoke seems to return the expected results...",
        "ts": "1475597099.001390"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "```Enrolling WebAppAdmin...\nEnrolled JohnDoe successfully\n\ndeploying chaincode; please wait ...\ndeploy complete; results: {\"uuid\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\",\"chaincodeID\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\"}\ninvoke chaincode ...\ninvoke submitted successfully; results={\"uuid\":\"bf9916aa-f111-4df4-b185-7c466206ad32\"}\ninvoke completed successfully; results={\"result\":\"Tx bf9916aa-f111-4df4-b185-7c466206ad32 complete\"}```",
        "ts": "1475597118.001391"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "that is consistent with my understanding of your environment",
        "ts": "1475597189.001392"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i am still not convinced that your deploy\/invoke is working however",
        "ts": "1475597203.001393"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "AHA - OK well now THAT does concern me",
        "ts": "1475597217.001394"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "(though perhaps more progress has been made on that front since the baseimage problem",
        "ts": "1475597218.001395"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "can you post the latest peer log?",
        "ts": "1475597234.001396"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "at least w.r.t. the window of time of the deploy+invoke+query",
        "ts": "1475597246.001397"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "my view is if it's the SDK that's got an issue with query which will be addressed - fine",
        "ts": "1475597248.001398"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "but if it's the environment that's not working that's a biggie",
        "ts": "1475597275.001399"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "yeah sure",
        "ts": "1475597281.001400"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "yeah, i suspect you have a fundamental failure to deploy",
        "ts": "1475597288.001401"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "where's pwd of the log",
        "ts": "1475597289.001402"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i know query in general works, we do this in our own applications all the time",
        "ts": "1475597305.001403"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "(via the SDK, etc)",
        "ts": "1475597314.001404"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "if the SDK is \"faking it\" as you suggested last night well then I do have a problem",
        "ts": "1475597332.001405"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "honestly, i am not sure for a production-like deployment",
        "ts": "1475597333.001406"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i am always running the peer in a terminal in devmode",
        "ts": "1475597344.001407"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so the log just goes to the stdout",
        "ts": "1475597350.001408"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but that log you pasted the other day was representative of what I am asking for",
        "ts": "1475597362.001409"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so if you can get that again\u2026.",
        "ts": "1475597366.001410"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "ok sure",
        "ts": "1475597370.001411"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "(the one that was complaining about baseimage:latest)",
        "ts": "1475597391.001412"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "I'll do a fresh run - i.e. kill membersrvc \/ clean \/var\/hyperledger\/production on fabric, clean \/tmp\/keyValStore on client, kill peer and bring everything up in clean state and dump outputs here",
        "ts": "1475597448.001413"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "give me a sec plse",
        "ts": "1475597453.001414"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "of course, ty",
        "ts": "1475597463.001415"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "stepping away for lunch, just @tag me when you post so I see the notice",
        "ts": "1475597540.001416"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "no worries - bon appetit",
        "ts": "1475597553.001417"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "<@U0KPFAZNF> - peer node startup output\n\n```vagrant@hyperledger-devenv:v0.1.0-5b0a7f0:\/hyperledger$ peer node start\n16:11:31.126 [nodeCmd] serve -&gt; INFO 002 Security enabled status: false\n16:11:31.126 [nodeCmd] serve -&gt; INFO 003 Privacy enabled status: false\n16:11:31.126 [eventhub_producer] start -&gt; INFO 001 event processor started\n16:11:31.144 [chaincode] NewChaincodeSupport -&gt; INFO 004 Chaincode support using peerAddress: 0.0.0.0:7051\n16:11:31.145 [sysccapi] RegisterSysCC -&gt; INFO 005 system chaincode (noop,<http:\/\/github.com\/hyperledger\/fabric\/bddtests\/syschaincode\/noop|github.com\/hyperledger\/fabric\/bddtests\/syschaincode\/noop>) disabled\n16:11:31.146 [state] loadConfig -&gt; INFO 006 Loading configurations...\n16:11:31.146 [state] loadConfig -&gt; INFO 007 Configurations loaded. stateImplName=[buckettree], stateImplConfigs=map[numBuckets:%!s(int=1000003) maxGroupingAtEachLevel:%!s(int=5) bucketCacheSize:%!s(int=100)], deltaHistorySize=[500]\n16:11:31.147 [state] NewState -&gt; INFO 008 Initializing state implementation [buckettree]\n16:11:31.147 [buckettree] initConfig -&gt; INFO 009 configs passed during initialization = map[string]interface {}{\"numBuckets\":1000003, \"maxGroupingAtEachLevel\":5, \"bucketCacheSize\":100}\n16:11:31.147 [buckettree] initConfig -&gt; INFO 00a Initializing bucket tree state implemetation with configurations &amp;{maxGroupingAtEachLevel:5 lowestLevel:9 levelToNumBucketsMap:map[5:1601 6:8001 0:1 9:1000003 8:200001 7:40001 3:65 1:3 4:321 2:13] hashFunc:0xab1cd0}\n16:11:31.148 [buckettree] newBucketCache -&gt; INFO 00b Constructing bucket-cache with max bucket cache size = [100] MBs\n16:11:31.149 [buckettree] loadAllBucketNodesFromDB -&gt; INFO 00c Loaded buckets data in cache. Total buckets in DB = [0]. Total cache size:=0\n16:11:31.149 [genesis] func1 -&gt; INFO 00d Creating genesis block.\n16:11:31.156 [consensus\/controller] NewConsenter -&gt; INFO 00e Creating default consensus plugin (noops)\n16:11:31.160 [consensus\/noops] newNoops -&gt; INFO 00f NOOPS consensus type = *noops.Noops\n16:11:31.160 [consensus\/noops] newNoops -&gt; INFO 010 NOOPS block size = 500\n16:11:31.160 [consensus\/noops] newNoops -&gt; INFO 011 NOOPS block wait = 1s\n16:11:31.162 [consensus\/statetransfer] blockThread -&gt; INFO 013 Validated blockchain to the genesis block\n16:11:31.162 [nodeCmd] serve -&gt; INFO 012 Starting peer with ID=name:\"jdoe\" , network ID=dev, address=0.0.0.0:7051, rootnodes=, validator=true\n16:11:31.163 [rest] StartOpenchainRESTServer -&gt; INFO 014 Initializing the REST service on 0.0.0.0:7050, TLS is disabled.```",
        "ts": "1475597694.001418"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "<@U0KPFAZNF> - then I run the enroll, deploy, invoke, query cycle from the client via the SDK. Peer output once deploy starts...\n```2016\/10\/04 16:12:11 transport: http2Server.HandleStreams failed to receive the preface from client: EOF\n16:12:19.446 [dockercontroller] deployImage -&gt; ERRO 015 Error building images: The command '\/bin\/sh -c go install build-chaincode &amp;&amp; cp src\/build-chaincode\/vendor\/github.com\/hyperledger\/fabric\/peer\/core.yaml $GOPATH\/bin &amp;&amp; mv $GOPATH\/bin\/build-chaincode $GOPATH\/bin\/56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8' returned a non-zero code: 1\n16:12:19.446 [dockercontroller] deployImage -&gt; ERRO 016 Image Output:\n********************\nStep 1 : FROM hyperledger\/fabric-baseimage\n ---&gt; ba5a47491ea8\nStep 2 : COPY . $GOPATH\/src\/build-chaincode\/\n ---&gt; Using cache\n ---&gt; 78bb1ebf4c91\nStep 3 : WORKDIR $GOPATH\n ---&gt; Using cache\n ---&gt; 930ff57471de\nStep 4 : RUN go install build-chaincode &amp;&amp; cp src\/build-chaincode\/vendor\/github.com\/hyperledger\/fabric\/peer\/core.yaml $GOPATH\/bin &amp;&amp; mv $GOPATH\/bin\/build-chaincode $GOPATH\/bin\/56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\n ---&gt; Running in b60762dced32\ncp: cannot stat 'src\/build-chaincode\/vendor\/github.com\/hyperledger\/fabric\/peer\/core.yaml': No such file or directory\n\n********************\n16:12:26.318 [dockercontroller] deployImage -&gt; ERRO 017 Error building images: The command '\/bin\/sh -c go install build-chaincode &amp;&amp; cp src\/build-chaincode\/vendor\/github.com\/hyperledger\/fabric\/peer\/core.yaml $GOPATH\/bin &amp;&amp; mv $GOPATH\/bin\/build-chaincode $GOPATH\/bin\/56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8' returned a non-zero code: 1\n16:12:26.318 [dockercontroller] deployImage -&gt; ERRO 018 Image Output:\n********************\nStep 1 : FROM hyperledger\/fabric-baseimage\n ---&gt; ba5a47491ea8\nStep 2 : COPY . $GOPATH\/src\/build-chaincode\/\n ---&gt; Using cache\n ---&gt; 78bb1ebf4c91\nStep 3 : WORKDIR $GOPATH\n ---&gt; Using cache\n ---&gt; 930ff57471de\nStep 4 : RUN go install build-chaincode &amp;&amp; cp src\/build-chaincode\/vendor\/github.com\/hyperledger\/fabric\/peer\/core.yaml $GOPATH\/bin &amp;&amp; mv $GOPATH\/bin\/build-chaincode $GOPATH\/bin\/56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\n ---&gt; Running in a8b7df08066a\ncp: cannot stat 'src\/build-chaincode\/vendor\/github.com\/hyperledger\/fabric\/peer\/core.yaml': No such file or directory\n\n********************\n16:12:26.318 [chaincode] Launch -&gt; ERRO 019 launchAndWaitForRegister failed Error starting container: The command '\/bin\/sh -c go install build-chaincode &amp;&amp; cp src\/build-chaincode\/vendor\/github.com\/hyperledger\/fabric\/peer\/core.yaml $GOPATH\/bin &amp;&amp; mv $GOPATH\/bin\/build-chaincode $GOPATH\/bin\/56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8' returned a non-zero code: 1\n2016\/10\/04 16:14:11 transport: http2Server.HandleStreams failed to receive the preface from client: EOF```",
        "ts": "1475597775.001419"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "<@U0KPFAZNF> - client output prior to query fail...\n```vagrant@homestead:~\/Code\/node_hl$ node server.js\nHyperldeger REST API provider listening on port 8081\nMiddleware invoked...\nEnrolling WebAppAdmin...\nEnrolled JohnDoe successfully\n\ndeploying chaincode; please wait ...\ndeploy complete; results: {\"uuid\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\",\"chaincodeID\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\"}\ninvoke chaincode ...\ninvoke submitted successfully; results={\"uuid\":\"ad948f33-1b51-49e5-a3f5-44ebc7ecbc9e\"}\ninvoke completed successfully; results={\"result\":\"Tx ad948f33-1b51-49e5-a3f5-44ebc7ecbc9e complete\"}\nWaiting for chain to sync...```",
        "ts": "1475597823.001420"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "<@U0KPFAZNF> - and then client side...\n```querying chaincode ...\nFailed to query chaincode: request={\"chaincodeID\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\",\"fcn\":\"query\",\"args\":[\"a\"]}, error=%k EventTransactionError {\n  error:\n   { status: 'FAILURE',\n     msg: &lt;Buffer 45 72 72 6f 72 3a 46 61 69 6c 65 64 20 74 6f 20 6c 61 75 6e 63 68 20 63 68 61 69 6e 63 6f 64 65 20 73 70 65 63 28 43 6f 75 6c 64 20 6e 6f 74 20 67 65 ... &gt; },\n  msg: 'Error:Failed to launch chaincode spec(Could not get deployment transaction for 56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8 - LedgerError - ResourceNotFound: ledger: resource not found)' }\nvagrant@homestead:~\/Code\/node_hl$```",
        "ts": "1475597855.001421"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "please can you upload the text as snippets?",
        "ts": "1475597894.001422"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "via the + button on the left",
        "ts": "1475597911.001423"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "<@U0KPFAZNF> - the problem of course is we can't tell if the deploy actually worked cause the query fails so I have no idea if `\"chaincodeID\":\"56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\"` actually exists or not...",
        "ts": "1475597946.001424"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "<@U0ZJZBJLF> - noted...",
        "ts": "1475597956.001425"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "can you run the command `\/bin\/sh -c go install build-chaincode &amp;&amp; cp src\/build-chaincode\/vendor\/github.com\/hyperledger\/fabric\/peer\/core.yaml $GOPATH\/bin &amp;&amp; mv $GOPATH\/bin\/build-chaincode $GOPATH\/bin\/56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8` locally?",
        "ts": "1475597972.001426"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "what does it say?",
        "ts": "1475597981.001427"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "On mobile, but quick note that it did fail the deploy",
        "ts": "1475597994.001428"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "That is your fundamental problem",
        "ts": "1475598003.001429"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "We can fix it when I get back",
        "ts": "1475598012.001430"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "oh actually it says there",
        "ts": "1475598028.001431"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "The indicator is step 4 in the first deployment log",
        "ts": "1475598039.001432"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "<@U0KPFAZNF> - OK gotcha - but that's really bad wrt to the SDK then surely?",
        "ts": "1475598080.001433"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "<@U0KPFAZNF> - never mind for now - enjoy lunch",
        "ts": "1475598099.001434"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "Hey, whats the upper limit for a unit test's runtime in our project? 20min? is it per package or per TestFoo method?",
        "edited": {
            "user": "U0ZJZBJLF",
            "ts": "1475598354.000000"
        },
        "ts": "1475598320.001435"
    },
    {
        "type": "message",
        "user": "U13Q594J2",
        "text": "<@U2CC1NDT2> I just wrote a quick program <https:\/\/github.com\/ratnakar-asara\/hello-blockchain>, can you try this as per the instructions, let us know if it works",
        "attachments": [
            {
                "service_name": "GitHub",
                "title": "ratnakar-asara\/hello-blockchain",
                "title_link": "https:\/\/github.com\/ratnakar-asara\/hello-blockchain",
                "text": "hello-blockchain - NodeSdk sample program",
                "fallback": "GitHub: ratnakar-asara\/hello-blockchain",
                "thumb_url": "https:\/\/avatars2.githubusercontent.com\/u\/18034452?v=3&s=400",
                "from_url": "https:\/\/github.com\/ratnakar-asara\/hello-blockchain",
                "thumb_width": 420,
                "thumb_height": 420,
                "service_icon": "https:\/\/github.com\/apple-touch-icon.png",
                "id": 1
            }
        ],
        "ts": "1475599419.001437"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "<@U13Q594J2> - standby plse",
        "ts": "1475600380.001439"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U2CC1NDT2> w.r.t. SDK, the lack of a closed loop response is limiting, yes, but its also a known limitation and being actively worked on",
        "ts": "1475600476.001440"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "im not quite sure why your deployment is failing now that you hacked the docker tag, as I checked a build here and I can see the core.yaml",
        "ts": "1475600508.001441"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "let me study the log again",
        "ts": "1475600516.001442"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "understood - I understand things are fluid in these early days",
        "ts": "1475600548.001443"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i just tried this:",
        "ts": "1475600569.001444"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2K7BDEMD\/-.txt|Untitled>",
        "file": {
            "id": "F2K7BDEMD",
            "created": 1475600576,
            "timestamp": 1475600576,
            "name": "-.txt",
            "title": "Untitled",
            "mimetype": "text\/plain",
            "filetype": "text",
            "pretty_type": "Plain Text",
            "user": "U0KPFAZNF",
            "editable": true,
            "size": 303,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2K7BDEMD\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2K7BDEMD\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2K7BDEMD\/-.txt",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F2K7BDEMD-536264dc98",
            "edit_link": "https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F2K7BDEMD\/-.txt\/edit",
            "preview": "vagrant@hyperledger-devenv:v0.1.0-c5a9b14:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ docker run -it hyperledger\/fabric-ccenv \/bin\/bash\r\nroot@6268dad24fb0:\/# ls $GOPATH\/src\/github.com\/hyperledger\/fabric\/peer\r\nchaincode  core.yaml  main_test.go  node  version\r\ncommon     main.go    network       util",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>vagrant@hyperledger-devenv:v0.1.0-c5a9b14:\/opt\/gopath\/src\/github.com\/hyperledger\/fabric$ docker run -it hyperledger\/fabric-ccenv \/bin\/bash<\/pre><\/div>\n<div><pre>root@6268dad24fb0:\/# ls $GOPATH\/src\/github.com\/hyperledger\/fabric\/peer<\/pre><\/div>\n<div><pre>chaincode  core.yaml  main_test.go  node  version<\/pre><\/div>\n<div><pre>common     main.go    network       util<\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 4,
            "lines_more": 0,
            "preview_is_truncated": false,
            "channels": [
                "C0YPYBVJM"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U0KPFAZNF",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U0KPFAZNF|ghaskins>",
        "bot_id": null,
        "ts": "1475600577.001445"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so, it seems like the basic files are there",
        "ts": "1475600585.001446"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "now its a question of why that build instruction failed",
        "ts": "1475600593.001447"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "but does make it \"a little challenging\" trying to get a dev workflow going",
        "ts": "1475600597.001448"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "yes, understood, and sorry for the trouble",
        "ts": "1475600612.001449"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "basically, it \u201cworks\u201d as long as nothing goes wrong :wink:",
        "ts": "1475600626.001450",
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U0ZJZBJLF"
                ],
                "count": 1
            }
        ]
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "no need to apologise",
        "ts": "1475600632.001451"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "which is part of the reason its made it this long without getting fixed",
        "ts": "1475600638.001452"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "my short term goal is to get you up and running, even if its limping and via nasty hacks :wink:",
        "ts": "1475600687.001453"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "appreciated...",
        "ts": "1475600791.001454"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ok, so part of the problem is the \"src\/build-chaincode\/vendor\/\u201c in your path",
        "ts": "1475600803.001455"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "not sure where that is coming from yet",
        "ts": "1475600806.001456"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i would have expected that to be src\/github.com\/hyperledger\u2026.",
        "ts": "1475600842.001457"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "not with the build-chaincode thing interjected",
        "ts": "1475600852.001458"
    },
    {
        "type": "message",
        "user": "U13Q594J2",
        "text": "```\nRUN go install build-chaincode &amp;&amp; cp src\/build-chaincode\/vendor\/github.com\/hyperledger\/fabric\/peer\/core.yaml $GOPATH\/bin &amp;&amp; mv $GOPATH\/bin\/build-chaincode $GOPATH\/bin\/56e9be9d65e603a249e047f0aa08b17fa7889a6aca263d18270a80b13b7ec8f8\n ---&gt; Running in b60762dced32\ncp: cannot stat 'src\/build-chaincode\/vendor\/github.com\/hyperledger\/fabric\/peer\/core.yaml': No such file or directory\n```\n\nWe saw this error many times, where chaincode is missing vendor folder which is required while peer is building the chaincode",
        "ts": "1475600864.001459"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ultimately, that is what is failing\u2026im just not sure what is driving that to be there in the first place",
        "ts": "1475600870.001460"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "that doesnt make sense to me, ill need to dig deeper",
        "ts": "1475600892.001461"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ah, its coming from the SDK",
        "ts": "1475600952.001462"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "that seems completely broken to me",
        "ts": "1475600958.001463"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "furthering my argument that the SDK should not be in the Dockerfile business",
        "ts": "1475600991.001464"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i digress",
        "ts": "1475600993.001465"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "lets see what we have to hack to fix this for now",
        "ts": "1475600999.001466"
    },
    {
        "type": "message",
        "user": "U13Q594J2",
        "text": "with current implementation in NodeSdk , it packages chaincode along with the vendor packages and sends the same to peer , then peer will extract it and comiple chaincode based on the Dockerfile",
        "edited": {
            "user": "U13Q594J2",
            "ts": "1475601099.000000"
        },
        "ts": "1475601002.001467"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "understood",
        "ts": "1475601020.001468"
    },
    {
        "type": "message",
        "user": "U13Q594J2",
        "text": "<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/sdk\/node\/src\/hfc.ts#L1763>",
        "attachments": [
            {
                "service_name": "GitHub",
                "title": "hyperledger\/fabric",
                "title_link": "https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/sdk\/node\/src\/hfc.ts#L1763",
                "text": "Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>",
                "fallback": "GitHub: hyperledger\/fabric",
                "thumb_url": "https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400",
                "from_url": "https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/sdk\/node\/src\/hfc.ts#L1763",
                "thumb_width": 142,
                "thumb_height": 142,
                "service_icon": "https:\/\/github.com\/apple-touch-icon.png",
                "id": 1
            }
        ],
        "ts": "1475601224.001472"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "right",
        "ts": "1475601636.001474"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "basically that whole mechanism needs to be revamped",
        "ts": "1475601645.001475"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "im actually confused how it ever worked through",
        "ts": "1475601685.001476"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "who installed the src\/build-chaincode\/vendor folder into the tarball?",
        "ts": "1475601710.001477"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "im assuming the SDK",
        "ts": "1475601716.001478"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but if so, why is the core.yaml missing now?",
        "ts": "1475601725.001479"
    },
    {
        "type": "message",
        "user": "U13Q594J2",
        "text": "Yes it is SDK does that , core.yaml file is missing because the chaincode folder must contain vendor folder as well whcih is required for peer",
        "ts": "1475601795.001480"
    },
    {
        "type": "message",
        "user": "U13Q594J2",
        "text": "<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/sdk\/node\/bin\/run-unit-tests.sh#L397>",
        "attachments": [
            {
                "service_name": "GitHub",
                "title": "hyperledger\/fabric",
                "title_link": "https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/sdk\/node\/bin\/run-unit-tests.sh#L397",
                "text": "Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>",
                "fallback": "GitHub: hyperledger\/fabric",
                "thumb_url": "https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400",
                "from_url": "https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/sdk\/node\/bin\/run-unit-tests.sh#L397",
                "thumb_width": 142,
                "thumb_height": 142,
                "service_icon": "https:\/\/github.com\/apple-touch-icon.png",
                "id": 1
            }
        ],
        "ts": "1475601796.001481"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so if I understand you correctly, the impetus is on the chaincode developer to provide this",
        "ts": "1475601834.001483"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "?",
        "ts": "1475601838.001484"
    },
    {
        "type": "message",
        "user": "U13Q594J2",
        "text": "If you see the node-sdk based unit tests for each example they are cloning\/copying the whole hyperledger structure to chaincode folder",
        "ts": "1475601840.001485"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "before netmode deploy will work",
        "ts": "1475601844.001486"
    },
    {
        "type": "message",
        "user": "U13Q594J2",
        "text": "Yes you are right",
        "ts": "1475601879.001487"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so, that means if <@U2CC1NDT2> makes his deployment compliant, his will work too",
        "ts": "1475601896.001488"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "sorry on a call",
        "ts": "1475601914.001489"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "np",
        "ts": "1475601922.001490"
    },
    {
        "type": "message",
        "user": "U13Q594J2",
        "text": "Yes thats right .. that is what I was trying to convey",
        "ts": "1475601956.001491"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U13Q594J2> got it",
        "ts": "1475601965.001492"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i still think this all needs an overhaul\u2026;)  but that said, sounds like we can work around this for now by complying",
        "ts": "1475601987.001493"
    },
    {
        "type": "message",
        "user": "U13Q594J2",
        "text": "Seems there is a task exist already on this (I don't have the details though) , once that is available , node app developer need not bother about maintaining vendor code etc.,",
        "ts": "1475602149.001494"
    },
    {
        "type": "message",
        "user": "U13Q594J2",
        "text": "<https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/nodeSDK\/node-sdk-indepth.md#net-mode>",
        "attachments": [
            {
                "service_name": "GitHub",
                "title": "hyperledger\/fabric",
                "title_link": "https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/nodeSDK\/node-sdk-indepth.md#net-mode",
                "text": "Read-only mirror of <https:\/\/gerrit.hyperledger.org\/r\/#\/admin\/projects\/fabric>",
                "fallback": "GitHub: hyperledger\/fabric",
                "thumb_url": "https:\/\/avatars3.githubusercontent.com\/u\/7657900?v=3&s=400",
                "from_url": "https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/docs\/nodeSDK\/node-sdk-indepth.md#net-mode",
                "thumb_width": 142,
                "thumb_height": 142,
                "service_icon": "https:\/\/github.com\/apple-touch-icon.png",
                "id": 1
            }
        ],
        "ts": "1475602202.001495"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U13Q594J2> thank you for that",
        "ts": "1475602258.001497"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U2CC1NDT2> ^^^^",
        "ts": "1475602271.001498"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I do believe if you follow the instructions in that link, we should at least get past the \u201ccore.yaml\u201d error you are seeing",
        "ts": "1475602303.001499"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "(and hopefully all the way to deployment, but who knows what else we\u2019ll run into ;)",
        "ts": "1475602321.001500"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "sorry guys - on a standup call",
        "ts": "1475602350.001501"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "no worries, just there for when you return",
        "ts": "1475602361.001502"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "sorry - just been roasted on my call... followed <@U13Q594J2> got this...",
        "ts": "1475606248.001503"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "```vagrant@homestead:~\/hello-blockchain$ ls\napp.js  config.json  README.md  src\nvagrant@homestead:~\/hello-blockchain$ node app.js\nERROR: failed to register admin, Error : {\"code\":14,\"metadata\":{\"_internal_repr\":{}}}```",
        "ts": "1475606271.001504"
    },
    {
        "type": "message",
        "user": "U13Q594J2",
        "text": "can you delete the crypto materials from `\/tmp\/keyValStore` folder  , restart membersrv and peer and run the program again `DEBUG=hfc node app.js`",
        "edited": {
            "user": "U13Q594J2",
            "ts": "1475606736.000000"
        },
        "ts": "1475606714.001505"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "sorry guys - gone past 22:30 here - been days trying to get this working and now I want to spend some time with my wife...",
        "ts": "1475607017.001507"
    }
]