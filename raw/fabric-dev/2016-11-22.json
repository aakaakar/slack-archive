[
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "so why is nobody fixing the test failures?",
        "ts": "1479809539.003457"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "for days or weeks there are pieces in the code that fail",
        "ts": "1479809553.003458"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "<@U0XR6J961>: weeks :disappointed:",
        "ts": "1479810425.003459"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "so either change gerrit so that failures don't block merges",
        "ts": "1479810459.003460"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "or fix your failing tests",
        "ts": "1479810468.003461"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "Yup. We should not merge anything to a broken `branch`. If you ask me.",
        "ts": "1479810489.003462"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "We can define broken as any build failing.",
        "ts": "1479810512.003463"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "no that's not the problem",
        "ts": "1479810518.003464"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "fix your broken tests",
        "ts": "1479810522.003465"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "have some responsibility for your own code",
        "ts": "1479810540.003466"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "Amen to that. That\u2019s if we assume\/expect each and every contributor to proactively support his stuff.",
        "ts": "1479810576.003467"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "I\u2019m trying to also think of what we can do, to prevent such ongoing cases of broken or even needing to support \u201cthem non-deterministic tests\u201d, if you recall.",
        "ts": "1479810613.003468"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "We should probably complement your suggestion with a policy for the \u201ccode guards\u201d.",
        "ts": "1479810645.003469"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "well, i spent half a year to rewrite the code so that the tests can be deterministic",
        "ts": "1479810649.003470"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "I know, I know!",
        "ts": "1479810657.003471"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "If you recall we have a few branches that would not build in October and in September.",
        "ts": "1479810689.003472"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "At some point, I felt like \u201creverting\u201d offending code\u2026 but then we started all converging back to master, so most of these got addressed. Most, I have to say.",
        "ts": "1479810737.003473"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "It\u2019s still painful (especially as some of these tests are so slowwwwwww)",
        "ts": "1479810810.003474"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "Right now CI is broken",
        "ts": "1479810886.003475"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "I think the CI minions are dead or something, I tagged people in <#C0YMWRX19|ci-pipeline>",
        "edited": {
            "user": "U0ZJZBJLF",
            "ts": "1479810928.000000"
        },
        "ts": "1479810920.003476"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "yacovm: there is a problem in gossip",
        "ts": "1479810980.003478"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "what problem?",
        "ts": "1479810988.003479"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/3061\/console>",
        "ts": "1479810993.003480"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "Do you know if there is a way to access the code of the test there? It doesn't look up to date <@U0XR6J961>",
        "ts": "1479811218.003481"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "i don't know",
        "ts": "1479811238.003482"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "what do you mean, up to date",
        "ts": "1479811244.003483"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "I mean- that stack trace is a symptom of code that I fixed",
        "ts": "1479811275.003484"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "I remember the very line numbers",
        "ts": "1479811285.003485",
        "reactions": [
            {
                "name": "muscle",
                "users": [
                    "U11MANG9G"
                ],
                "count": 1
            },
            {
                "name": "wink",
                "users": [
                    "U11MANG9G"
                ],
                "count": 1
            }
        ]
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "and the error (send on closed channel) should not be received because that channel doesn't close now",
        "ts": "1479811351.003486"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "I submitted the PR that fixes it myself",
        "ts": "1479811359.003487"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "Yes, I remember that.",
        "ts": "1479811366.003488"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "when has that been merged?",
        "ts": "1479811368.003489"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "Yup",
        "ts": "1479811371.003490"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "last week,",
        "ts": "1479811376.003491"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "I think?",
        "ts": "1479811389.003492"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "Indeed.",
        "ts": "1479811396.003493"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "wat",
        "ts": "1479811429.003494"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "i did rebases",
        "ts": "1479811436.003495"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "I think CI is acting weird, Ramesh opened a JIRA issue to me this sunday about a test failing in gossip, and this test was commented out by a PR of mine- so it should never have failed in Ramesh's CI job because, well... it was commented out in master.",
        "edited": {
            "user": "U0ZJZBJLF",
            "ts": "1479811687.000000"
        },
        "ts": "1479811470.003496"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "(remember that time last week you submitted ?BFT and complained that the tests fail? I submitted a PR that comments the faulty tests on that very day <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2575\/)>",
        "ts": "1479811527.003497"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "oh found it",
        "ts": "1479811613.003498"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "this failure you just showed, was supposed to be fixed by: <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2505\/>",
        "ts": "1479811628.003499"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "Look here:  <https:\/\/jira.hyperledger.org\/browse\/FAB-1158>\n<@U0XR6J961>",
        "edited": {
            "user": "U0ZJZBJLF",
            "ts": "1479811844.000000"
        },
        "ts": "1479811836.003501"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "then something in the gerrit rebase didn't work",
        "ts": "1479812324.003505"
    },
    {
        "type": "message",
        "user": "U1HFNJB50",
        "text": "something doesn\u2019t make sense for me, since in trace here: <https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/3061\/console>",
        "ts": "1479812720.003506"
    },
    {
        "type": "message",
        "user": "U1HFNJB50",
        "text": "```11:45:28 \n11:45:28 goroutine 606 [running]:\n11:45:28 panic(0x961460, 0xc421390c60)\n11:45:28 \t\/opt\/go\/go1.7.linux.amd64\/src\/runtime\/panic.go:500 +0x1a1\n11:45:28 <http:\/\/github.com\/hyperledger\/fabric\/gossip\/state.waitUntilTrueOrTimeout.func1(0xc420a8e4d8|github.com\/hyperledger\/fabric\/gossip\/state.waitUntilTrueOrTimeout.func1(0xc420a8e4d8>, 0xc420a8e710, 0xc42136ac00)\n11:45:28 \t\/w\/workspace\/fabric-verify-x86_64\/gopath\/src\/github.com\/hyperledger\/fabric\/gossip\/state\/state_test.go:334 +0x216\n11:45:28 created by <http:\/\/github.com\/hyperledger\/fabric\/gossip\/state.waitUntilTrueOrTimeout|github.com\/hyperledger\/fabric\/gossip\/state.waitUntilTrueOrTimeout>\n11:45:28 \t\/w\/workspace\/fabric-verify-x86_64\/gopath\/src\/github.com\/hyperledger\/fabric\/gossip\/state\/state_test.go:338 +0xd0\n11:45:28 FAIL\t<http:\/\/github.com\/hyperledger\/fabric\/gossip\/state|github.com\/hyperledger\/fabric\/gossip\/state>\t56.359s\n11:45:28 error: exit status 1\n11:45:28 panic: EOF```",
        "ts": "1479812730.003507"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "well allegedly it is fixed",
        "ts": "1479812748.003508"
    },
    {
        "type": "message",
        "user": "U1HFNJB50",
        "text": "it refers to lines which doesn\u2019t really exists",
        "ts": "1479812749.003509"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "different code",
        "ts": "1479812763.003510"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U1HFNJB50|c0rwin> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/c0rwin\/F350N9TC0\/pasted_image_at_2016_11_22_01_06_pm.png|Pasted image at 2016-11-22, 1:06 PM>",
        "file": {
            "id": "F350N9TC0",
            "created": 1479812771,
            "timestamp": 1479812771,
            "name": "Pasted image at 2016_11_22 01_06 PM.png",
            "title": "Pasted image at 2016-11-22, 1:06 PM",
            "mimetype": "image\/png",
            "filetype": "png",
            "pretty_type": "PNG",
            "user": "U1HFNJB50",
            "editable": false,
            "size": 119449,
            "mode": "hosted",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F350N9TC0\/pasted_image_at_2016_11_22_01_06_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F350N9TC0\/download\/pasted_image_at_2016_11_22_01_06_pm.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "thumb_64": "https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F350N9TC0-77cc13fe11\/pasted_image_at_2016_11_22_01_06_pm_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "thumb_80": "https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F350N9TC0-77cc13fe11\/pasted_image_at_2016_11_22_01_06_pm_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "thumb_360": "https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F350N9TC0-77cc13fe11\/pasted_image_at_2016_11_22_01_06_pm_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "thumb_360_w": 360,
            "thumb_360_h": 145,
            "thumb_480": "https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F350N9TC0-77cc13fe11\/pasted_image_at_2016_11_22_01_06_pm_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "thumb_480_w": 480,
            "thumb_480_h": 193,
            "thumb_160": "https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F350N9TC0-77cc13fe11\/pasted_image_at_2016_11_22_01_06_pm_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "thumb_720": "https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F350N9TC0-77cc13fe11\/pasted_image_at_2016_11_22_01_06_pm_720.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "thumb_720_w": 720,
            "thumb_720_h": 290,
            "image_exif_rotation": 1,
            "original_w": 898,
            "original_h": 362,
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/c0rwin\/F350N9TC0\/pasted_image_at_2016_11_22_01_06_pm.png",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F350N9TC0-b01e4c905d",
            "channels": [
                "C0YPYBVJM"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U1HFNJB50",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U1HFNJB50|c0rwin>",
        "bot_id": null,
        "ts": "1479812773.003511"
    },
    {
        "type": "message",
        "user": "U1HFNJB50",
        "text": "different code? how?",
        "ts": "1479812784.003512"
    },
    {
        "type": "message",
        "user": "U1HFNJB50",
        "text": "didn\u2019t you rebased?",
        "ts": "1479812792.003513"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "That's what I'm saying. The code that was running in jenkins is different than the real code",
        "ts": "1479812809.003514"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "<@U0XR6J961>  can you verify my PRs too? :wink:",
        "ts": "1479815866.003515"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "what do you mean",
        "ts": "1479815879.003516"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "Jenkins is broken",
        "ts": "1479815906.003517"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "so I see you're +1 in its stead?",
        "ts": "1479815921.003518"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "well, you can +1 yours as well",
        "ts": "1479816001.003519"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "Instead of jenkins?",
        "ts": "1479816010.003520"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "in addition",
        "ts": "1479816032.003521"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "I'm simply trying to say- how are your PRs merged now when Jenkins is broken?",
        "ts": "1479816056.003522"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "Isn't it risky?",
        "ts": "1479816067.003523"
    },
    {
        "type": "message",
        "user": "U1HFNJB50",
        "text": "isn\u2019t that a requirement to pass CI blessing before anyone can actually +2 and merge CR? :face_with_rolling_eyes:",
        "ts": "1479816091.003524",
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U11MANG9G"
                ],
                "count": 1
            }
        ]
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "Yeah, this :arrow_up:",
        "ts": "1479816113.003525"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "why?",
        "ts": "1479816154.003526"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "+2 is a different dimension from verify",
        "ts": "1479816161.003527"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "I believe we should not merge things when the build is broken.",
        "ts": "1479816176.003528",
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U1HFNJB50"
                ],
                "count": 1
            }
        ]
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "(whether it is the code or the CI)",
        "ts": "1479816183.003529"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "i agree",
        "ts": "1479816188.003530"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "we also shouldn't write any code",
        "ts": "1479816196.003531"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "We did it manually for v0.6, because we did not have a choice.",
        "ts": "1479816198.003532"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "except for fixing the bug",
        "ts": "1479816202.003533"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "WDYM?",
        "ts": "1479816222.003534"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "People can submit PRs, etc\u2026 but usually it is difficult to later on find out what\u2019s going on.",
        "ts": "1479816247.003535"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "(Again, on average, in the long run - it is not good practice)",
        "ts": "1479816260.003536"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "yes",
        "ts": "1479816260.003537"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "but as a concept",
        "ts": "1479816264.003538"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "stuff is broken - stop everything, fix what is broken",
        "ts": "1479816273.003539"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "So how are <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2565\/> and <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/2561\/> merged then?",
        "ts": "1479816290.003540"
    },
    {
        "type": "message",
        "user": "U1HFNJB50",
        "text": "how +2 is a different dimension from CI verification? no one is expected to merge staff before it actually got verified",
        "ts": "1479816296.003541"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "<@U0ZJZBJLF> I didn\u2019t say that we practice\/enforce that policy\/concept religiously.",
        "ts": "1479816354.003542"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "I\u2019m trying to reach a consensus and possibly change the policy going forward (the more \u201cstable\u201d master gets)",
        "ts": "1479816377.003543"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "[As a follow up to Simon\u2019s comments about tests\/branch being broken for a while]",
        "ts": "1479816407.003544"
    },
    {
        "type": "message",
        "user": "U1HFNJB50",
        "text": "if you one can override +1 verification step w\/ +2, so what is the point in CI?",
        "ts": "1479816421.003545"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "you cannot",
        "ts": "1479816476.003546"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "<@U1HFNJB50>: good point. I was happy to override the verification step, say, when someone has changed a README file (after I have been a pain for a few iterations, and they really need the latest merged]",
        "ts": "1479816489.003547"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "But we should not (really) do so either.",
        "ts": "1479816501.003548"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "this project is full of process",
        "ts": "1479816516.003549"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "and process quells responsibility",
        "ts": "1479816526.003550"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "<@U1HFNJB50> has a point, and I agree with <@U0XR6J961> (I, too, expect contributors to take care of their code\/tests when stuff is broken!)",
        "ts": "1479816697.003551"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U0ZJZBJLF|yacovm> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F351EF33J\/capture.png|Capture.PNG>",
        "file": {
            "id": "F351EF33J",
            "created": 1479816722,
            "timestamp": 1479816722,
            "name": "Capture.PNG",
            "title": "Capture.PNG",
            "mimetype": "image\/png",
            "filetype": "png",
            "pretty_type": "PNG",
            "user": "U0ZJZBJLF",
            "editable": false,
            "size": 32829,
            "mode": "hosted",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F351EF33J\/capture.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F351EF33J\/download\/capture.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "thumb_64": "https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F351EF33J-7d05928aff\/capture_64.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "thumb_80": "https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F351EF33J-7d05928aff\/capture_80.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "thumb_360": "https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F351EF33J-7d05928aff\/capture_360.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "thumb_360_w": 360,
            "thumb_360_h": 255,
            "thumb_480": "https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F351EF33J-7d05928aff\/capture_480.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "thumb_480_w": 480,
            "thumb_480_h": 339,
            "thumb_160": "https:\/\/files.slack.com\/files-tmb\/T0J024XGA-F351EF33J-7d05928aff\/capture_160.png?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "image_exif_rotation": 1,
            "original_w": 488,
            "original_h": 345,
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F351EF33J\/capture.png",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F351EF33J-aa60d26e45",
            "channels": [
                "C0YPYBVJM"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U0ZJZBJLF",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U0ZJZBJLF|yacovm>",
        "bot_id": null,
        "ts": "1479816724.003552"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "What do you mean you cannot? You just did :arrow_up:",
        "edited": {
            "user": "U0ZJZBJLF",
            "ts": "1479816794.000000"
        },
        "ts": "1479816733.003553"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "how is that overriding?",
        "ts": "1479816734.003554"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "the +2 does not override the verified",
        "ts": "1479816745.003555"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "the code review is independent of the verified",
        "ts": "1479816761.003556"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "I believe we need to strike the right balance between working under the `incubation` status - where we are OK with a few of us being `cowboys` at times.",
        "ts": "1479816789.003557"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "I believe it\u2019s a matter of what makes the code better.",
        "ts": "1479816811.003559"
    },
    {
        "type": "message",
        "user": "U1HFNJB50",
        "text": "but how that possible that one could +1 instead of CI and got CR merged?",
        "ts": "1479816815.003560"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "Too restrictive, will be a problem. Too lenient will keep the mess.",
        "ts": "1479816827.003561"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "well i run the code locally, test passes, therefore i can +1 verified it",
        "ts": "1479816838.003562"
    },
    {
        "type": "message",
        "user": "U1HFNJB50",
        "text": "Oh",
        "ts": "1479816844.003563"
    },
    {
        "type": "message",
        "user": "U1HFNJB50",
        "text": "So my tests also runs locally",
        "ts": "1479816854.003564"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "<@U1HFNJB50> Oh, that\u2019s what you are asking. Yes, physically, we `can` do it.",
        "ts": "1479816856.003565"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "who is we?",
        "ts": "1479816867.003566"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "I don't think I can",
        "ts": "1479816870.003567"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "you're not a maintainer then",
        "ts": "1479816885.003568"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "aha!",
        "ts": "1479816888.003569"
    },
    {
        "type": "message",
        "user": "U1HFNJB50",
        "text": "but there is definitely something wrong with them on CI and this is the reason we commented them out to take closer look",
        "ts": "1479816905.003570"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "them who?",
        "ts": "1479816916.003571"
    },
    {
        "type": "message",
        "user": "U1HFNJB50",
        "text": "them == my gossip state tests",
        "edited": {
            "user": "U1HFNJB50",
            "ts": "1479816945.000000"
        },
        "ts": "1479816936.003572"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "ah no, i'm talking about my tests",
        "ts": "1479816949.003574"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "that's the whole thing, that existing tests fail",
        "ts": "1479816962.003575"
    },
    {
        "type": "message",
        "user": "U1HFNJB50",
        "text": "I understand",
        "ts": "1479816962.003576"
    },
    {
        "type": "message",
        "user": "U1HFNJB50",
        "text": "and my point",
        "ts": "1479816965.003577"
    },
    {
        "type": "message",
        "user": "U1HFNJB50",
        "text": "is that indication of your tests passed on you laptop has nothing to do w\/ CI",
        "ts": "1479816988.003578"
    },
    {
        "type": "message",
        "user": "U1HFNJB50",
        "text": "and not an indication for real",
        "ts": "1479817001.003579"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "yeah, maybe (for example) you have a really strong laptop with SSD and tests that may pass locally will fail on CI",
        "ts": "1479817018.003580"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "well clearly CI tests passing doesn't indicate anything either",
        "ts": "1479817032.003581"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "because one time CI passes, another time it fails",
        "ts": "1479817046.003582"
    },
    {
        "type": "message",
        "user": "U1HFNJB50",
        "text": "it\u2019s more reliable than you local setup",
        "ts": "1479817057.003583"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "clearly not",
        "ts": "1479817064.003584"
    },
    {
        "type": "message",
        "user": "U1HFNJB50",
        "text": "k",
        "ts": "1479817068.003585"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "how come broken code\/tests made it into the repo?",
        "ts": "1479817078.003586"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "The tests are not reliable, not the CI, unless the CI fails with a java jenkins strack trace",
        "ts": "1479817082.003587"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "And if tests are unreliable they just need to be fixed or commented out and polished locally and then returned to the master branch",
        "ts": "1479817519.003588"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "",
        "attachments": [
            {
                "fallback": "[November 22nd, 2016 4:13 AM] jonathanlevi: I believe we need to strike the right balance between working under the `incubation` status - where we are OK with a few of us being `cowboys` at times.",
                "ts": "1479816789.003557",
                "author_subname": "jonathanlevi",
                "channel_id": "C0YPYBVJM",
                "channel_name": "fabric-dev",
                "is_msg_unfurl": true,
                "text": "I believe we need to strike the right balance between working under the `incubation` status - where we are OK with a few of us being `cowboys` at times.",
                "author_name": "Jonathan Levi",
                "author_link": "https:\/\/hyperledgerproject.slack.com\/team\/jonathanlevi",
                "author_icon": "https:\/\/avatars.slack-edge.com\/2016-09-06\/76710770455_2316fc867e622c8f0008_48.jpg",
                "mrkdwn_in": [
                    "text"
                ],
                "color": "D0D0D0",
                "from_url": "https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev\/p1479816789003557",
                "is_share": true,
                "footer": "Posted in #fabric-dev"
            }
        ],
        "ts": "1479817606.003589"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "If you guys want, we can put together a proposal for a more strict process.",
        "ts": "1479817633.003590"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "That is, if we all agree that the CI results \u201coverrules\u201d everything - then in case of an issue, we stop everything and fix it.",
        "ts": "1479817672.003591"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "But as long as we have flaky tests (in any part of the project), it is very difficult to enforce a\/such policy.",
        "ts": "1479817713.003592"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "That\u2019s why some of us\/we (<@U0ZJZBJLF>: we == the maintainers) sometimes allow stuff into the branch, without triple-checking it.",
        "ts": "1479817776.003593"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "please no automatic enforcement",
        "edited": {
            "user": "U0XR6J961",
            "ts": "1479817788.000000"
        },
        "ts": "1479817779.003594"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "Yes, <@U0XR6J961>, I hear you.",
        "ts": "1479817794.003596"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "it just allows you to be sloppy",
        "ts": "1479817796.003597"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "But I also understand where <@U1HFNJB50> is coming from\u2026 if you see what I mean?",
        "ts": "1479817820.003598"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "no i don't get his point",
        "ts": "1479817831.003599"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "But, what is going on now is *not* because of flaky tests, it's because of CI being *dead*",
        "ts": "1479817839.003600"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "ah yea CI now is not running at all?",
        "ts": "1479817856.003601"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "I\u2019m not talking about just now <@U0ZJZBJLF>. I\u2019m talking about the point that <@U1HFNJB50> has raised.",
        "ts": "1479817866.003602"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "I told you it's not",
        "ts": "1479817870.003603"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "Yes, the CI now is super weird. I have \u201creverify\u201died an hour or so\u2026 with not help.",
        "ts": "1479817898.003604"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "I complained in <#C0YMWRX19|ci-pipeline>  I don't really know what else can be done\n<https:\/\/jenkins.hyperledger.org\/job\/fabric-verify-x86_64\/>",
        "ts": "1479817911.003605"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "AFAIK, the CI \u201cguys\u201d are in a different timezone (PDT) though they start early.",
        "ts": "1479817957.003606"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "Give it a few hours\u2026",
        "ts": "1479817973.003607"
    },
    {
        "type": "message",
        "user": "U0PB67X4K",
        "text": "actually I believe <@U0UHG4VP1> is on vacation this week - not sure who his backup is?  maybe <@U11HH3P7Y>",
        "ts": "1479818542.003608"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "",
        "attachments": [
            {
                "fallback": "[November 22nd, 2016 11:41 AM] yacovm: <@U11HH3P7Y>  or <@U1BC5NF2S>  can you take a look please?",
                "ts": "1479807699.003230",
                "author_subname": "yacovm",
                "channel_id": "C0YMWRX19",
                "channel_name": "ci-pipeline",
                "is_msg_unfurl": true,
                "text": "<@U11HH3P7Y>  or <@U1BC5NF2S>  can you take a look please?",
                "author_name": "Yacov Manevich",
                "author_link": "https:\/\/hyperledgerproject.slack.com\/team\/yacovm",
                "author_icon": "https:\/\/avatars.slack-edge.com\/2016-09-30\/85916865123_74ecb5d18535acea44aa_48.png",
                "mrkdwn_in": [
                    "text"
                ],
                "color": "D0D0D0",
                "from_url": "https:\/\/hyperledgerproject.slack.com\/archives\/ci-pipeline\/p1479807699003230",
                "is_share": true,
                "footer": "Posted in #ci-pipeline"
            }
        ],
        "ts": "1479818580.003609"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "I tagged both him and bramwelt",
        "ts": "1479818591.003610"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "Will try to \u201cescalate\u201d, too, in a bit.",
        "ts": "1479818841.003611"
    },
    {
        "type": "message",
        "user": "U0PB67X4K",
        "text": "BTW - related question - I know we run CI when change sets are pushed - but do we actually run the build on master every time we merge commits?",
        "ts": "1479818905.003612"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "yeah",
        "ts": "1479818953.003613"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "there is another type of job in jenkins",
        "ts": "1479818961.003614"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "fabric-merge",
        "ts": "1479818963.003615"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "something like that",
        "ts": "1479818966.003616"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "<https:\/\/hyperledgerproject.slack.com\/archives\/ci-pipeline\/p1479583455003208>",
        "attachments": [
            {
                "from_url": "https:\/\/hyperledgerproject.slack.com\/archives\/ci-pipeline\/p1479583455003208",
                "fallback": "[November 19th, 2016 11:24 AM] ramesh: -verify job is to test every patch set and - merge job is after patch set is merged",
                "ts": "1479583455.003208",
                "author_subname": "ramesh",
                "channel_id": "C0YMWRX19",
                "channel_name": "ci-pipeline",
                "is_msg_unfurl": true,
                "text": "-verify job is to test every patch set and - merge job is after patch set is merged",
                "author_name": "Ramesh Thoomu",
                "author_link": "https:\/\/hyperledgerproject.slack.com\/team\/ramesh",
                "author_icon": "https:\/\/avatars.slack-edge.com\/2016-06-09\/49693129078_d32a6cd73112d6891d70_48.jpg",
                "mrkdwn_in": [
                    "text"
                ],
                "id": 1,
                "footer": "Posted in #ci-pipeline"
            }
        ],
        "ts": "1479819015.003617"
    },
    {
        "type": "message",
        "user": "U0PB67X4K",
        "text": "ah - right - ok",
        "ts": "1479820112.003619"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "one problem I see is that very little attention is paid to the -merge jobs",
        "ts": "1479820787.003620"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "everyone notices the -verify jobs because their CR wont be merged until it passes",
        "ts": "1479820806.003621"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but then the CR gets merged, and often times, the -merge job fails",
        "ts": "1479820822.003622"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "(not because the CR broke it per se, but just because of the flakiness",
        "ts": "1479820834.003623"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "True.",
        "ts": "1479820906.003624"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "Maybe we should be able to somehow flag that ?",
        "ts": "1479820956.003625"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "I used to work with systems that auto-reverts a broken merge.",
        "ts": "1479820981.003626"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "We won\u2019t be able to miss that ;-)\u2026 but I wonder whether it\u2019s too complex to implement.",
        "ts": "1479821028.003627"
    },
    {
        "type": "message",
        "user": "U0PB67X4K",
        "text": "<@U0KPFAZNF>  - what are the typical causes of the flakiness?",
        "ts": "1479821151.003628"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "I think there is a bug there in the merge jobs, because *I was opened* a JIRA issue about a gossip test that fails, even though that test wasn't supposed to exist at the time of the merge",
        "edited": {
            "user": "U0ZJZBJLF",
            "ts": "1479821194.000000"
        },
        "ts": "1479821179.003629"
    },
    {
        "type": "message",
        "user": "U0PB67X4K",
        "text": "I would also say that we should consider re-running CI merge jobs as well",
        "ts": "1479821181.003630"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "i don't understand the diference",
        "ts": "1479821225.003632"
    },
    {
        "type": "message",
        "user": "U0PB67X4K",
        "text": "<@U0XR6J961> - which difference?",
        "ts": "1479821260.003633"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "between verify and merge jobs",
        "ts": "1479821290.003634"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0PB67X4K> I get the impression its a revolving door of issues",
        "ts": "1479821309.003635"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "Difference is- merge job runs after the master has changed",
        "ts": "1479821317.003636"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "new flakiness introduced, old flakiness eventually getting fixed\/removed",
        "ts": "1479821328.003637"
    },
    {
        "type": "message",
        "user": "U0PB67X4K",
        "text": "verify is run when you submit an change set - merge runs after a maintainer merges the commit",
        "ts": "1479821336.003638"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "sometimes I think its the CI platform is a little slow",
        "ts": "1479821337.003639"
    },
    {
        "type": "message",
        "user": "U0PB67X4K",
        "text": "certainly for all the $$$ people pay to HL we can get some decent machines for these jobs if that's the issue",
        "ts": "1479821369.003640"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "for instance, one source I have been seeing in the last week is that the chaincode tests take 19.5 - 20.5 minutes, and there is a 20m timeout",
        "ts": "1479821369.003641"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "shouldn't the ci run on the commit that would happen if you merged?",
        "ts": "1479821384.003642"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so sometimes it squeaks by, and sometimes it fails",
        "ts": "1479821386.003643"
    },
    {
        "type": "message",
        "user": "U0PB67X4K",
        "text": "<@U0XR6J961> - it does",
        "ts": "1479821395.003644"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "so why does it have to run again?",
        "ts": "1479821407.003645"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "also, 20 minutes for chaincode tests?",
        "ts": "1479821417.003646"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "yes, we need to address that",
        "ts": "1479821428.003647"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I am of the opinion that UTs in general should be fast",
        "ts": "1479821437.003648",
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U0PB67X4K",
                    "U11MANG9G"
                ],
                "count": 2
            }
        ]
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "yes",
        "ts": "1479821442.003649"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "like, &lt; 5 mins",
        "ts": "1479821445.003650"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "mine run in less than a second",
        "ts": "1479821449.003651"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "if something takes 20 minutes, it should be in a later acceptance test but not uts",
        "ts": "1479821467.003652"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "i don't think that anybody runs tests during development if they take 20 minutes",
        "ts": "1479821493.003653"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but thats a sep issue...the primary issue right now is that the result of the run is not reliable",
        "ts": "1479821497.003654"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "i don't buy it",
        "ts": "1479821497.003655"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i agree. thats why UTs should be quick",
        "ts": "1479821518.003656"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "acceptance tests (like perhaps behave) can be in the pipeline to vet a commit\/build for promotion",
        "ts": "1479821542.003657"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but UTs should be quick to encourage dev workflow adoption",
        "ts": "1479821573.003658"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "The problem with behave is that you can only test the system as a whole for that",
        "ts": "1479821589.003659"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "you can't test a part of the system with behave",
        "ts": "1479821599.003660"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "im not advocating one over the other...just saying that something like behave and possible this 20 minute chaincode test are more \"acceptance tests\" than \"unit-tests\"",
        "ts": "1479821629.003661"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "at least in the definition that unit tests should be quick litmus test on the sanity of the code",
        "ts": "1479821649.003662"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I realize the line can be blurry",
        "ts": "1479821666.003663"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but I think the important takeaway is that we need the first phase of testing to be relatively quick checks to encourage devs to actually use them",
        "ts": "1479821694.003664"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "I really like Golang tests, btw, but you all probably know that.",
        "ts": "1479821789.003665"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "As for the Python BDD, what shall we do then?",
        "ts": "1479821803.003666"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "Shall we have a set of \u201csmaller\u201d Python tests (first) and then a full set of tests maybe?",
        "ts": "1479821822.003667"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "It is really frustrating, at development time to wait for 40 or even 20 mins.",
        "ts": "1479821855.003668"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "these behave tests are dysfunctional",
        "ts": "1479821862.003669"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "they are full of sleeps",
        "ts": "1479821878.003670"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "<@U0XR6J961>: and I thought that I was being direct above :wink:",
        "ts": "1479821878.003671"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "They are full of sleeps, the parallelism is not consistent.",
        "ts": "1479821891.003672"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "and they are totally inefficient due to lots of container creation and teardown",
        "ts": "1479821899.003673"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "And we have so much logic added as part of the tests, that\u2019s outside the core functionality of fabric.",
        "ts": "1479821913.003674"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "from my perspective, the delineation should be between \"quick things we want devs running _all_ the time\" and \"other tests that prove the mettle  of a release that are run in the CI pipeline but not necessarily by hand\"",
        "ts": "1479821946.003675"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "If you\/one told me that we need an external set of \u201cAPI testing\u201d so we chose Python as a completely independent language or so\u2026 then I\u2019d probably be much more OK with these. But at the moment, I don\u2019t know if the overhead and pain is justifiable.",
        "ts": "1479821987.003676"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "<@U0KPFAZNF> Yes, I meant something along these exact lines. To separate to two (or so) test suites.",
        "ts": "1479822019.003677"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "and of course, we want both to be runnable by a dev if they need to check something",
        "ts": "1479822020.003678"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "Yup, locally, with a single CLI\/command.",
        "ts": "1479822039.003679"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "it seems to me that we are _almost_ there today between \"make unit-test\" and \"make behave\", with the exception of the chaincode UTs",
        "ts": "1479822056.003680"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "Prior to submitting, and\/or also for debugging, addressing issues.",
        "ts": "1479822056.003681"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "they are just too slow",
        "ts": "1479822059.003682"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "Yes, this is the main concern. We have the Makefile\/targets, etc. The speed (and somewhat, reliability) seem to be the biggest issue.",
        "ts": "1479822103.003683"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I dont have an opinion on the applicability of behave in this role",
        "ts": "1479822107.003684"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "<@U0KPFAZNF>: noted. We can still continue with Behave, should we be able to reduce testing time?",
        "ts": "1479822145.003685"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "And\/or parallelize more?",
        "ts": "1479822155.003686"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "I agree with <@U0PB67X4K>, hardware should not be the issue.",
        "ts": "1479822178.003687"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "(or \u2018an issue\u2019)",
        "ts": "1479822183.003688"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "<@U0XR6J961>: do you believe we can split the tests to two suites that make more sense? LIke a \u201cquick pass\u201d vs \u201cfull\u201d ?",
        "ts": "1479822224.003689"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "for unit tests?",
        "ts": "1479822242.003690"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "I am still worried as well about the time wasted indeed on the \"teardown\"",
        "ts": "1479822248.003691"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "(plumbing the Golang\/Behave together)",
        "ts": "1479822260.003692"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "For the BDD tests",
        "ts": "1479822273.003693"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "i don't see any benefit of the BDD as it is today",
        "ts": "1479822280.003694",
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U0ZJZBJLF"
                ],
                "count": 1
            }
        ]
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "it's a weird english-like formalised language",
        "ts": "1479822288.003695"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "`BOOM` :slightly_smiling_face:",
        "ts": "1479822290.003696"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "the tests take forever to run",
        "ts": "1479822299.003697"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "they've been unreliable on my system from day 1",
        "ts": "1479822317.003698"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "BTW: I do know that most developers don\u2019t really run them prior to submission.",
        "ts": "1479822327.003699"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "yea of course not",
        "ts": "1479822333.003700"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "it blocks your machine for one hour",
        "ts": "1479822343.003701"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I dont have a problem with a framework that does full E2E testing, but I would like to see it run as efficiently as possible",
        "ts": "1479822344.003702"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "(and relegated to the \"acceptance criteria\" as opposed to a normal dev workflow",
        "ts": "1479822380.003703"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so, to that point, if a bunch of tests are sleeping\/waiting, they should be parallelized",
        "ts": "1479822411.003704"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "change the code so that you can test it better",
        "ts": "1479822416.003705"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "anyway, behave is @jeffgarratts baby, we should include him",
        "ts": "1479822481.003706"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "True. Let\u2019s wait a bit until more people wake up?",
        "ts": "1479822504.003707"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "<@U0UKTPMG8>",
        "ts": "1479822524.003708"
    },
    {
        "type": "message",
        "user": "U0PB67X4K",
        "text": "its 8:45 EST - people should be awake",
        "ts": "1479822527.003709"
    },
    {
        "type": "message",
        "user": "U0PB67X4K",
        "text": ":wink:",
        "ts": "1479822529.003710"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "oh gari",
        "ts": "1479822583.003711"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "not everybody gets up at 5am like you :slightly_smiling_face:",
        "ts": "1479822591.003712"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "<@U0XR6J961>, in that note you sound like a true European :wink:",
        "ts": "1479822660.003713"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "[ I used to love it when the trains in London never worked early enough :wink: ]",
        "ts": "1479822697.003714"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "i keep wondering how gari gets up so early",
        "ts": "1479822718.003715"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "It must be Fabric. It makes us all sleep extremely well at night. Don\u2019t you feel it?",
        "ts": "1479822785.003716"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "i do",
        "ts": "1479822794.003717"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "well, i'm out of the project tomorrow",
        "ts": "1479822806.003718"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "so no more good sleep",
        "ts": "1479822811.003719"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "Wait, what?",
        "ts": "1479822819.003720"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0XR6J961> joke?",
        "ts": "1479822835.003721"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "<@U0XR6J961> Really? PM'ing you now!",
        "ts": "1479822838.003722"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "You don't know that?",
        "ts": "1479822841.003723"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "lol",
        "ts": "1479822841.003724"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "&lt;joking&gt;\nDon\u2019t tell us that it\u2019s because you\u2019d miss vagrant\u2026 !",
        "edited": {
            "user": "U11MANG9G",
            "ts": "1479822898.000000"
        },
        "ts": "1479822867.003725"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "Is it really because of Docker?",
        "ts": "1479822877.003726"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "You never said anything!",
        "ts": "1479822886.003727"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "&lt;\/joking&gt;",
        "ts": "1479822890.003728"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "no, i'm starting my own hardware\/firmware design consulting company",
        "ts": "1479822896.003729",
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U0UHG4VP1"
                ],
                "count": 1
            }
        ]
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ah...sorry to hear: best of luck to you",
        "ts": "1479822919.003731"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "thanks",
        "ts": "1479822926.003732"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "Yes, first of all, best of luck mate!",
        "ts": "1479822932.003733"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "Really sorry to hear\/read about this!",
        "ts": "1479822944.003734"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "But it\u2019s probably a good thing (for you!)",
        "ts": "1479822965.003735"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "so,  about the tests issue- is it possible to run the tests in CI in parallel? I mean, most unit tests don't need to connect to a peer, so why not have them run in a container of their own in parallel?\nMaybe it's possible to do something more smart than do `go list` and then run them in serial 1 by 1",
        "edited": {
            "user": "U0ZJZBJLF",
            "ts": "1479823132.000000"
        },
        "ts": "1479823063.003736"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "We had\/have some tests that run the go side in parallel. We should look into what Behave can do for us. That is, whether it can spawn a few \u201cjobs\u201d that are independent.",
        "ts": "1479823174.003738"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "Yes, <@U0ZJZBJLF>, serializing them (with the delay\/waits) is \u2026 Meh.",
        "ts": "1479823205.003739"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "I wasn't talking about behave",
        "ts": "1479823290.003740"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "I was talking about UTs",
        "ts": "1479823294.003741"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "instead of doing an iteration over `go list`, maybe have at each time `K` containers running 1 package's tests. When a container finishes running a package, have it \"grab\" the next package and run it (or, to be precise- have the script that orchestrates this do that and launch a new container)",
        "edited": {
            "user": "U0ZJZBJLF",
            "ts": "1479823420.000000"
        },
        "ts": "1479823394.003742"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "<@U0ZJZBJLF> the UTs are relatively fast, but there are some examples for parallel (Golang) runs.",
        "ts": "1479823530.003744"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "I might be able to help with these, if you like.",
        "ts": "1479823542.003745"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "They are *not* fast as a whole",
        "ts": "1479823850.003746"
    },
    {
        "user": "U353QR7G9",
        "text": "<@U353QR7G9|bretharrison> has joined the channel",
        "type": "message",
        "subtype": "channel_join",
        "ts": "1479824934.003747"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0ZJZBJLF> I actually tried this a while back",
        "ts": "1479824972.003748"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "the results were not good",
        "ts": "1479824977.003749"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "they got slower, though this wasnt entirely a surprise",
        "ts": "1479825017.003750"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "that is: parallelism will only help workloads that trend towards io-bound...compute-bound jobs will degrade with parallelism...and I am not sure which category the UTs fall into",
        "ts": "1479825075.003751"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "id be happy to share my patch",
        "ts": "1479825082.003752"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "based on the result, it is implied they are compute bound",
        "ts": "1479825101.003753"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "(sorry, I should clarify my statement: compute-bound jobs will degrade if you increase concurrency without increasing parallelism )",
        "ts": "1479825167.003754"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but since the number of available cores in things like vagrant and ci is both fixed and small, its tougher to exploit",
        "ts": "1479825190.003755"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I have some really nice big iron in my lab where that is not the case :wink:",
        "ts": "1479825211.003756"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but alas, not here",
        "ts": "1479825217.003757"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "to that point, and the point made earlier about LF\/HL $$$, perhaps we throw bigger VMs at the problem",
        "edited": {
            "user": "U0KPFAZNF",
            "ts": "1479825273.000000"
        },
        "ts": "1479825263.003758"
    },
    {
        "type": "message",
        "user": "U0PB67X4K",
        "text": "well if the CI team has time and we want to prove that compute power is part of the problem, I'm happy to provide access to some big iron  if we can't immediately get something from LF.",
        "ts": "1479825452.003760",
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U0KPFAZNF"
                ],
                "count": 1
            }
        ]
    },
    {
        "type": "message",
        "user": "U0PB67X4K",
        "text": ":wink:",
        "ts": "1479825454.003761"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ill see if I can find my patch",
        "ts": "1479825499.003762"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F35S6M4EQ\/-.pl|Untitled> and commented: Probably needs to be ported, but should be trivial",
        "file": {
            "id": "F35S6M4EQ",
            "created": 1479825617,
            "timestamp": 1479825617,
            "name": "-.pl",
            "title": "Untitled",
            "mimetype": "text\/plain",
            "filetype": "perl",
            "pretty_type": "Perl",
            "user": "U0KPFAZNF",
            "editable": true,
            "size": 2007,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F35S6M4EQ\/-.pl?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F35S6M4EQ\/download\/-.pl?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F35S6M4EQ\/-.pl",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F35S6M4EQ-8d9b9b8d75",
            "edit_link": "https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F35S6M4EQ\/-.pl\/edit",
            "preview": "commit ca5b86186484b54cf254d6312113e3ab46fcab66\r\nAuthor: Gregory Haskins <gregory.haskins@gmail.com>\r\nDate:   Sun Jun 12 08:38:58 2016 -0400\r\n\r\n    Launch our unit-tests in parallel per package\r",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-meta\">commit<\/span> <span class=\"cm-meta\">ca5b86186484b54cf254d6312113e3ab46fcab66<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-meta\">Author<\/span><span class=\"cm-operator\">:<\/span> <span class=\"cm-meta\">Gregory<\/span> <span class=\"cm-meta\">Haskins<\/span> <span class=\"cm-operator\">&lt;<\/span><span class=\"cm-meta\">gregory<\/span><span class=\"cm-operator\">.<\/span><span class=\"cm-meta\">haskins<\/span><span class=\"cm-variable\">@gmail<\/span><span class=\"cm-operator\">.<\/span><span class=\"cm-meta\">com<\/span><span class=\"cm-operator\">&gt;<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-meta\">Date<\/span><span class=\"cm-operator\">:<\/span>   <span class=\"cm-meta\">Sun<\/span> <span class=\"cm-meta\">Jun<\/span> <span class=\"cm-number\">12<\/span> <span class=\"cm-number\">08<\/span><span class=\"cm-operator\">:<\/span><span class=\"cm-number\">38<\/span><span class=\"cm-operator\">:<\/span><span class=\"cm-number\">58<\/span> <span class=\"cm-number\">2016<\/span> <span class=\"cm-operator\">-<\/span><span class=\"cm-number\">0400<\/span><\/pre><\/div>\n<div><pre>&#8203;<\/pre><\/div>\n<div><pre>    <span class=\"cm-meta\">Launch<\/span> <span class=\"cm-def\">our<\/span> <span class=\"cm-meta\">unit<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-meta\">tests<\/span> <span class=\"cm-meta\">in<\/span> <span class=\"cm-meta\">parallel<\/span> <span class=\"cm-meta\">per<\/span> <span class=\"cm-keyword\">package<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 63,
            "lines_more": 58,
            "preview_is_truncated": true,
            "channels": [
                "C0YPYBVJM"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 1,
            "initial_comment": {
                "id": "Fc35S6MC9J",
                "created": 1479825617,
                "timestamp": 1479825617,
                "user": "U0KPFAZNF",
                "is_intro": true,
                "comment": "Probably needs to be ported, but should be trivial",
                "channel": ""
            }
        },
        "user": "U0KPFAZNF",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U0KPFAZNF|ghaskins>",
        "bot_id": null,
        "ts": "1479825617.003763"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0PB67X4K> ^^^",
        "ts": "1479825654.003764"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "don't the chaincode UTs run in 20 min?",
        "ts": "1479825685.003765"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "well, locally they run 400-500s",
        "ts": "1479825703.003766"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "just lately, on CI, they take 1100s typically",
        "ts": "1479825715.003767"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "ok, so if you run them in parallel, you save 500s if the other tests combined are more than 500s",
        "edited": {
            "user": "U0ZJZBJLF",
            "ts": "1479825748.000000"
        },
        "ts": "1479825725.003768"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "that has nothing to do with this",
        "ts": "1479825737.003769"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I wrote that patch back in June for one thing, when we were looking at 60m travis runs",
        "ts": "1479825754.003771"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "personally, I think that chaincode test needs to be reworked",
        "ts": "1479825771.003772"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so, consider the \"parallel\" discussion as orthogonal to the chaincode UT discussion",
        "ts": "1479825790.003773"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but yes, if you did it at package level, we would be gated by largest package",
        "ts": "1479825815.003774"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "that wasnt what I was referring to though",
        "ts": "1479825831.003775"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "what I was referring to was that overall the times went up",
        "ts": "1479825841.003776"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "on a tangent: what I am currently thinking is we change \"make unit-test\" and \"make behave\" to \"make quick-test\" and \"make acceptance-test\" or something like that",
        "ts": "1479825929.003777"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "and then move chaincode UT and behave under acceptance test",
        "ts": "1479825941.003778"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "well that was only a thought",
        "ts": "1479826245.003779"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "understood, and it was a good one",
        "ts": "1479826315.003780"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "just reporting that was not a factor in the assessment",
        "ts": "1479826333.003781"
    },
    {
        "type": "message",
        "user": "U0UKTPMG8",
        "text": "<@U11MANG9G> <@U0PB67X4K> <@U0KPFAZNF> sorry I missed the discussion wrt to BDD.  What is the crux of the issue?",
        "ts": "1479828489.003782"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "it's slow",
        "ts": "1479828511.003783"
    },
    {
        "type": "message",
        "user": "U0UKTPMG8",
        "text": "ahhh, the latest version support parallelization",
        "ts": "1479828537.003784",
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U11MANG9G",
                    "U0KPFAZNF"
                ],
                "count": 2
            }
        ]
    },
    {
        "type": "message",
        "user": "U0UKTPMG8",
        "text": "at the feature level",
        "ts": "1479828569.003785"
    },
    {
        "type": "message",
        "user": "U0UKTPMG8",
        "text": "so if we can separate the tests features logically, we should be able to reap some speed up benefits",
        "ts": "1479828589.003786"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "That\u2019s what I was hoping (above) <@U0UKTPMG8>",
        "attachments": [
            {
                "fallback": "[November 22nd, 2016 5:59 AM] jonathanlevi: We had\/have some tests that run the go side in parallel. We should look into what Behave can do for us. That is, whether it can spawn a few \u201cjobs\u201d that are independent.",
                "ts": "1479823174.003738",
                "author_subname": "jonathanlevi",
                "channel_id": "C0YPYBVJM",
                "channel_name": "fabric-dev",
                "is_msg_unfurl": true,
                "text": "We had\/have some tests that run the go side in parallel. We should look into what Behave can do for us. That is, whether it can spawn a few \u201cjobs\u201d that are independent.",
                "author_name": "Jonathan Levi",
                "author_link": "https:\/\/hyperledgerproject.slack.com\/team\/jonathanlevi",
                "author_icon": "https:\/\/avatars.slack-edge.com\/2016-09-06\/76710770455_2316fc867e622c8f0008_48.jpg",
                "mrkdwn_in": [
                    "text"
                ],
                "color": "D0D0D0",
                "from_url": "https:\/\/hyperledgerproject.slack.com\/archives\/fabric-dev\/p1479823174003738",
                "is_share": true,
                "footer": "Posted in #fabric-dev"
            }
        ],
        "ts": "1479828606.003787"
    },
    {
        "type": "message",
        "user": "U0UKTPMG8",
        "text": "both the go and behave BDDs can run in parallel, though you lose the BDD output on the godog side",
        "ts": "1479828643.003788"
    },
    {
        "type": "message",
        "user": "U0UKTPMG8",
        "text": "correct, we could spawn the various feature files independently and concatenate the results",
        "ts": "1479828671.003789"
    },
    {
        "type": "message",
        "user": "U0UKTPMG8",
        "text": "I am working on the boostrap.feature at the moment as it is the basis for all future compositions within any feature we build hereafter",
        "ts": "1479828720.003790"
    },
    {
        "type": "message",
        "user": "U0UKTPMG8",
        "text": "ie,, the old \"given we compose\" must effectively bootstrap the network properly per run",
        "edited": {
            "user": "U0UKTPMG8",
            "ts": "1479828761.000000"
        },
        "ts": "1479828749.003791"
    },
    {
        "type": "message",
        "user": "U0UKTPMG8",
        "text": "was slow the only issue?",
        "ts": "1479828826.003793"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "I think slowness and the fact that some of them are\/were flaky.",
        "ts": "1479829177.003794"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "(not necessarily due to Behave)",
        "ts": "1479829193.003795"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "The context (above) was mostly around what should be the \u201cmerging policy\u201d. Do we require that everything is built and \u201csigned\/approved\u201d by the CI prior to a merge, shall we continue to have cases where we allow maintainers to just \u201cverify\u201d manually a changeset and merge it, etc.",
        "ts": "1479829266.003796"
    },
    {
        "type": "message",
        "user": "U0UKTPMG8",
        "text": "as of this point the only active features are in the bddtests\/features folder",
        "ts": "1479829290.003797"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "Then we talked about cases where the CI is down, or when we don\u2019t have the time to \u201cwait\u201d for the tests...",
        "ts": "1479829296.003798"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "[That\u2019s my vague \u201cExecutive Summary\u201d of the above ;-)]",
        "ts": "1479829344.003799"
    },
    {
        "type": "message",
        "user": "U0UKTPMG8",
        "text": "good deal",
        "ts": "1479829350.003800"
    },
    {
        "type": "message",
        "user": "U0UKTPMG8",
        "text": "thnx",
        "ts": "1479829351.003801"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "A more general question is whether we should port these at some point ?",
        "ts": "1479829363.003802"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "I personally, am asking people to write more UT in Golang.",
        "ts": "1479829393.003803"
    },
    {
        "type": "message",
        "user": "U0UKTPMG8",
        "text": "I have a movie that shows the mechanism for creating BDDs then porting to golang",
        "ts": "1479829396.003804"
    },
    {
        "type": "message",
        "user": "U0UKTPMG8",
        "text": "perhaps I forgot to post it",
        "ts": "1479829405.003805"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "Especially while we are refactoring so much.",
        "ts": "1479829410.003806"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "<@U0UKTPMG8> Or maybe you did, and I have missed it. Would love to see it.",
        "ts": "1479829436.003807"
    },
    {
        "type": "message",
        "user": "U0UKTPMG8",
        "text": "I write in behave first as it is generally much more terse and readable",
        "ts": "1479829438.003808"
    },
    {
        "type": "message",
        "user": "U0UKTPMG8",
        "text": "let me go check, was working on write before vacation... perhaps I jumped before hitting the button :slightly_smiling_face:",
        "ts": "1479829464.003809"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "The description\/test is top notch. I used to work with Cucumber, etc.",
        "ts": "1479829490.003810"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "Is it possible to use a similar description language with Golang binidngs? Like the Ginkgo, etc.? I remember a discussion about that back in v0.5, but I personally haven\u2019t done much in that regard, I have to admit.",
        "ts": "1479829545.003811"
    },
    {
        "type": "message",
        "user": "U0UKTPMG8",
        "text": "the current bddtests support python and golang with the same Gherkin feature file",
        "ts": "1479829568.003812"
    },
    {
        "type": "message",
        "user": "U0UKTPMG8",
        "text": "there are examples of both",
        "ts": "1479829582.003813"
    },
    {
        "type": "message",
        "user": "U0UKTPMG8",
        "text": "using the same feature file :slightly_smiling_face:",
        "ts": "1479829588.003814"
    },
    {
        "type": "message",
        "user": "U0UKTPMG8",
        "text": "works like a charm",
        "ts": "1479829591.003815"
    },
    {
        "type": "message",
        "user": "U0UKTPMG8",
        "text": "and we reuse all of the feature files we write",
        "ts": "1479829598.003816"
    },
    {
        "type": "message",
        "user": "U11MANG9G",
        "text": "That\u2019s awesome! (I didn\u2019t know that)",
        "ts": "1479829616.003817"
    },
    {
        "type": "message",
        "user": "U0UKTPMG8",
        "text": "yeah, It is pretty nice",
        "ts": "1479829630.003818"
    },
    {
        "type": "message",
        "user": "U0UKTPMG8",
        "text": "will dig the movie up, post to box and push out the link",
        "ts": "1479829644.003819"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "Hi question if I want to run few peers on different physical machines which options do I have for the peers to discover each other?",
        "ts": "1479833285.003820"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "so more correct question: will docker-compose on each host work and what are the tricks there, so peers will discover membersvc and other peers?",
        "ts": "1479833395.003821"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "will `CORE_VM_ENDPOINT` work for this and what will be correct address for this? or `CORE_PEER_DISCOVERY_ROOTNODE` might help - the question is the similar, what are correct\/working example...?",
        "ts": "1479833581.003822"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "I'm asking in context of v06...",
        "ts": "1479833625.003823"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0N4P17ND> its the CORE_PEER_DISCOVERY_ROOTNODE you want to be looking at",
        "ts": "1479833691.003824"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "the VM_ENDPOINT is related to how the peer communicates with dockerd",
        "ts": "1479833713.003825"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "ok how to link two different `docker-compose.yml`s?",
        "ts": "1479833731.003826"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "\"discovery\" is a little weak in v0.6 and older: its more of an apriori whitelist than true discovery",
        "ts": "1479833751.003827"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "right now I use `CORE_PEER_DISCOVERY_ROOTNODE=vp0:7051` which works because vp0 is in the same docker compose, if these are differnet host and different files, what will do the trick?",
        "ts": "1479833781.003828"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "im not sure, but I think you would either want to use a downstream composition of the two, or use docker links",
        "ts": "1479833789.003829"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "if you want to use compose AND use different hosts, look at docker-swarm",
        "ts": "1479833810.003830"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "thats what that is meant for",
        "ts": "1479833814.003831"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "You can make the CORE_PEER_DISCOVERY_ROOTNODE a list too, btw",
        "ts": "1479833815.003832"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "unless that PR of mine has been un-merged since",
        "ts": "1479833832.003833"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i havent tried this personally, but my understanding is docker-swarm is a superset of compose, designed for multi-host",
        "ts": "1479833844.003834"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "is this the one: <https:\/\/blog.docker.com\/2015\/11\/docker-multi-host-networking-ga\/>?",
        "attachments": [
            {
                "service_name": "Docker Blog",
                "title": "Multi-Host Docker Networking is now ready for production - Docker Blog",
                "title_link": "https:\/\/blog.docker.com\/2015\/11\/docker-multi-host-networking-ga\/",
                "text": "At DockerCon in June, we first introduced experimental support for Docker Networking. In Docker 1.9, we are excited to announce that Networking is ready to use in production and works with Swarm and Compose. Networking is a feature of Docker \u2026 Continued",
                "fallback": "Docker Blog: Multi-Host Docker Networking is now ready for production - Docker Blog",
                "ts": 1446593151,
                "from_url": "https:\/\/blog.docker.com\/2015\/11\/docker-multi-host-networking-ga\/",
                "service_icon": "https:\/\/www.docker.io\/static\/favicon.png",
                "id": 1
            }
        ],
        "ts": "1479833861.003835"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "fwiw, I use kubernetes\/openshift as an alternative to swarm, but same concepts",
        "ts": "1479833867.003837"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0N4P17ND> that is somewhat old (looks like docker v1.9\/2015",
        "ts": "1479833998.003838"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "theres been a bunch of stuff done since then: i would start here: <https:\/\/docs.docker.com\/swarm\/overview\/>",
        "attachments": [
            {
                "service_name": "Docker",
                "title": "Docker Swarm overview",
                "title_link": "https:\/\/docs.docker.com\/swarm\/overview\/",
                "text": "Swarm: a Docker-native clustering system",
                "fallback": "Docker: Docker Swarm overview",
                "image_url": "https:\/\/www.docker.com\/sites\/default\/files\/social\/docker-twitter-share.png",
                "ts": 1479779185,
                "from_url": "https:\/\/docs.docker.com\/swarm\/overview\/",
                "image_width": 625,
                "image_height": 250,
                "image_bytes": 49214,
                "service_icon": "https:\/\/docs.docker.com\/favicons\/apple-touch-icon-57x57.png",
                "id": 1
            }
        ],
        "ts": "1479834013.003839"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "<@U26BX6S3B> ^^ this is what we discussing",
        "edited": {
            "user": "U0N4P17ND",
            "ts": "1479834047.000000"
        },
        "ts": "1479834017.003841"
    },
    {
        "user": "U26BX6S3B",
        "inviter": "U0N4P17ND",
        "text": "<@U26BX6S3B|pmcosta> has joined the channel",
        "type": "message",
        "subtype": "channel_join",
        "ts": "1479834024.003842"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "the main rub is: if you want to use docker-links (e.g. \"vp0\") it has to be within an SDN that docker controls AFAICT",
        "ts": "1479834060.003844"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "swarm would buy you that",
        "ts": "1479834066.003845"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "otherwise, you would need to manage the ip namespace some other way",
        "ts": "1479834098.003846"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "(which is doable, btw)",
        "ts": "1479834105.003847"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "ok, so swarm bring me some sort of composition of different docker-compose.yml? I can think of it like this",
        "ts": "1479834119.003848"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "and that's how my peers will know what vp0 means, right?",
        "ts": "1479834133.003849"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "im not sure as I have never used it, but I dont think that is quite right",
        "ts": "1479834137.003850"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "rather, I think what swarm does is add multi-host orchastration to your composition",
        "ts": "1479834153.003851"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "keep in mind, I am no swarm expert..but I do use other orchestration layers and I have a sense of what swarm is likely doing",
        "ts": "1479834182.003852"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "in that sense, I suspect it still wants to work within one composition\/link namespace, but can distribute the jobs across the cluster rather than within a single node",
        "ts": "1479834210.003853"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "keep in mind, if you use pbft you have to make the peer's IDs be vp0, vp1 etc etc",
        "ts": "1479834245.003854"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "ok another more generic question: what other options do we have to run real network on few physical nodes?",
        "ts": "1479834246.003855"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "and yes we have pbft enabled :slightly_smiling_face:",
        "ts": "1479834261.003856"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "where is the problem exactly?",
        "ts": "1479834265.003857"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "if you wanted to join two compositions, you are probably better off defining a new composition that includes the other two",
        "ts": "1479834266.003858"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I am not sure there is any other way to do it",
        "ts": "1479834279.003859"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "that way \"vp0\" etc have meaning in context",
        "ts": "1479834299.003860"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "the statement of problem - is how to run few peers on different machines correctly so they discover each other",
        "ts": "1479834303.003861"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "with pbft, security and privacy enabled :slightly_smiling_face:",
        "ts": "1479834320.003862"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "maybe I asked initially incorrectly starting with `docker-compose`",
        "ts": "1479834338.003863"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "if all you want to do is run them, you can just use IP\/DNS instead of docker links",
        "ts": "1479834344.003864"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "you just have to manage it yourself",
        "ts": "1479834353.003865"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "Just put in the `CORE_PEER_DISCOVERY_ROOTNODE` a list of some of the addresses of them or something",
        "ts": "1479834383.003866"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "all docker-compose is doing is providing a DNS context",
        "ts": "1479834388.003867"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "and try it out",
        "ts": "1479834390.003868"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "oh",
        "ts": "1479834409.003869"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so if you define a node \"vp0\", it will surface as a dns name that other hosts within that definition can lookup",
        "ts": "1479834413.003870"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "you're asking how to configure everything?",
        "ts": "1479834416.003871"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "theres no real magic, its just convenient to define relative relationships",
        "ts": "1479834425.003872"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "nope, nope everything is running with single docker-compose",
        "ts": "1479834437.003873"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "on the single node",
        "ts": "1479834448.003874"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "just wnated to double check if direct ip will work",
        "ts": "1479834463.003875"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "right, so you are still using SDN, its just not a very topologically complicated environment :wink:",
        "ts": "1479834469.003876"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "and if `CORE_PEER_DISCOVERY_ROOTNODE` is the correct param for it",
        "ts": "1479834480.003877"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but you dont have to use SDN",
        "ts": "1479834482.003878"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "yes, it is",
        "ts": "1479834488.003879"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "ok, thanks!",
        "ts": "1479834491.003880"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "subst \"vp0\" for the ip\/dns name of where the \"rootnode\" really is, and it will work",
        "ts": "1479834514.003881"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "cool, this is not prod, this is some sort of PoC",
        "ts": "1479834525.003882"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "Thanks a lot!",
        "ts": "1479834529.003883"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "perfect",
        "ts": "1479834531.003884"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "np",
        "ts": "1479834534.003885"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "<@U2BGFAHC7>  maybe you have a config file or something? I recall you ran fabric with docker swarm?",
        "ts": "1479834541.003886"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "oh wait, you're not using swarm? you're just using different physical machines? <@U0N4P17ND>",
        "edited": {
            "user": "U0ZJZBJLF",
            "ts": "1479834621.000000"
        },
        "ts": "1479834604.003887"
    },
    {
        "type": "message",
        "user": "U2BGFAHC7",
        "text": "I was using kubernetes..",
        "ts": "1479834606.003888"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "right now just differnet physical machines, but I guess this works for some initial testing but swarm will be next step",
        "ts": "1479834641.003890"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "as managing manually few different docker-composes for each host is not something we like :slightly_smiling_face:",
        "ts": "1479834665.003891"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "oh, right. I always mix them up. Sorry ^^",
        "ts": "1479834665.003892"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "so if there is any example for correct setup exist - it will be really helpful",
        "ts": "1479834684.003893"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "hm... for correct = for more advanced setup :slightly_smiling_face:",
        "ts": "1479834704.003894"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U0ZJZBJLF|yacovm> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F356QCUGZ\/docker-pbft.yml.txt|docker-pbft.yml.txt>",
        "file": {
            "id": "F356QCUGZ",
            "created": 1479834849,
            "timestamp": 1479834849,
            "name": "docker-pbft.yml.txt",
            "title": "docker-pbft.yml.txt",
            "mimetype": "text\/plain",
            "filetype": "text",
            "pretty_type": "Plain Text",
            "user": "U0ZJZBJLF",
            "editable": true,
            "size": 1577,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F356QCUGZ\/docker-pbft.yml.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F356QCUGZ\/download\/docker-pbft.yml.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F356QCUGZ\/docker-pbft.yml.txt",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F356QCUGZ-f95e67050a",
            "edit_link": "https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F356QCUGZ\/docker-pbft.yml.txt\/edit",
            "preview": "membersrvc:\r\n  image: hyperledger\/fabric-membersrvc\r\n  ports:\r\n    - \"7054:7054\"\r\n  command: membersrvc\r",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>membersrvc:<\/pre><\/div>\n<div><pre>  image: hyperledger\/fabric-membersrvc<\/pre><\/div>\n<div><pre>  ports:<\/pre><\/div>\n<div><pre>    - &quot;7054:7054&quot;<\/pre><\/div>\n<div><pre>  command: membersrvc<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 59,
            "lines_more": 54,
            "preview_is_truncated": true,
            "channels": [
                "C0YPYBVJM"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U0ZJZBJLF",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U0ZJZBJLF|yacovm>",
        "bot_id": null,
        "ts": "1479834850.003895"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "try this one",
        "ts": "1479834855.003896"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "not sure if it's up to date regarding port numbers and stuff",
        "ts": "1479834865.003897"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "but I guess you can \"start\" with this",
        "ts": "1479834874.003898"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U0ZJZBJLF|yacovm> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F355TP880\/ssl-docker-compose.yml.txt|ssl-docker-compose.yml.txt>",
        "file": {
            "id": "F355TP880",
            "created": 1479834889,
            "timestamp": 1479834889,
            "name": "ssl-docker-compose.yml.txt",
            "title": "ssl-docker-compose.yml.txt",
            "mimetype": "text\/plain",
            "filetype": "text",
            "pretty_type": "Plain Text",
            "user": "U0ZJZBJLF",
            "editable": true,
            "size": 2079,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F355TP880\/ssl-docker-compose.yml.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F355TP880\/download\/ssl-docker-compose.yml.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F355TP880\/ssl-docker-compose.yml.txt",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F355TP880-17b1c92242",
            "edit_link": "https:\/\/hyperledgerproject.slack.com\/files\/yacovm\/F355TP880\/ssl-docker-compose.yml.txt\/edit",
            "preview": "membersrvc:\r\n  image: hyperledger\/fabric-membersrvc\r\n  ports:\r\n    - \"7054:7054\"\r\n  command: membersrvc\r",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>membersrvc:<\/pre><\/div>\n<div><pre>  image: hyperledger\/fabric-membersrvc<\/pre><\/div>\n<div><pre>  ports:<\/pre><\/div>\n<div><pre>    - &quot;7054:7054&quot;<\/pre><\/div>\n<div><pre>  command: membersrvc<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 67,
            "lines_more": 62,
            "preview_is_truncated": true,
            "channels": [
                "C0YPYBVJM"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U0ZJZBJLF",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U0ZJZBJLF|yacovm>",
        "bot_id": null,
        "ts": "1479834889.003899"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "This is one with SSL, etc.",
        "ts": "1479834894.003900"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "thanks <@U0ZJZBJLF> we have all this and it works on single machine - to run it on different physical machines we'll need to split it in few files and push to each host it's own config. My question was - if we can avoid it, have some sort of common config instead. Will swarm help here? Or I miss the point?",
        "ts": "1479835023.003901"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "Maybe. I don't know, never used swarm",
        "ts": "1479835108.003902"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "so this is just the question of conf management - having host specific config might be tricky... even if they are really similar and the difference is just between mbrsvc, vp0 and rest hosts. And rest vp1..N docker-compose will be really similar - the difference is just in vpN...",
        "edited": {
            "user": "U0N4P17ND",
            "ts": "1479835170.000000"
        },
        "ts": "1479835135.003903"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0N4P17ND> my impression is, with swarm the cluster is transparent",
        "ts": "1479835307.003905"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "its like doing \"docker-compose up\" but its cluster aware so the location of the jobs is distributed",
        "ts": "1479835328.003906"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so, theres no need to split the composition up",
        "ts": "1479835339.003907"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "swarm will split it for you as part of its orchestration function",
        "ts": "1479835353.003908"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "sounds cool but there is no example? nobody tried it?",
        "ts": "1479835359.003909"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "im sure others have, i use kubernetes myself",
        "ts": "1479835371.003910"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "(which is overlapping in concept with swarm)",
        "ts": "1479835381.003911"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "also question - how the deployment inside bluemix is done - is it always now single virtual host with single docker-compose?",
        "ts": "1479835421.003912"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "maybe, you are aware :slightly_smiling_face:",
        "ts": "1479835433.003913"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0PB67X4K> is your man on bluemix questions",
        "ts": "1479835438.003914"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i havent tried that platform yet",
        "ts": "1479835463.003915"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "when I tried it, it was black box from outer world...",
        "ts": "1479835498.003916"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "sorry, i have to defer to Gari",
        "ts": "1479835509.003917"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0N4P17ND> you know more about it than I do at this point :wink:",
        "edited": {
            "user": "U0KPFAZNF",
            "ts": "1479835539.000000"
        },
        "ts": "1479835522.003918"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "Thanks a lot !",
        "ts": "1479835561.003920"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "anytime",
        "ts": "1479835565.003921"
    },
    {
        "type": "message",
        "user": "U0PB67X4K",
        "text": "<@U0N4P17ND>  - the Bluemix Blockchain Starter Plan is a shared compute environment.  We deploy everything as Docker containers - we have hosts dedicated for each type of peer - vp0,vp1,vp2,vp3 with membersrvcs spread across those hosts (this way we can lose one host but still have 2f+1 (3) peer per network.  We then have multiple Docker hosts for running chaincode - basically we have separate hosts for chaincode from each peer type as well.  We run all of this over a Docker overlay network",
        "ts": "1479837613.003922"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "and how docker cluster is managed?",
        "ts": "1479837647.003923"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "swarm any other tool? or just separate docker-compose for each host?",
        "ts": "1479837672.003924"
    },
    {
        "type": "message",
        "user": "U0PB67X4K",
        "text": "we use Swarm for overall mgmt but we deploy somethings directly to the Docker hosts via the Docker remote API  (we actually have a NodeJS app \/ process we use to do this)",
        "ts": "1479843261.003925"
    },
    {
        "type": "message",
        "user": "U0PB67X4K",
        "text": "we also use nghttp2 as a reverse proxy to do host header-based routing so that we don't directly expose the endpoints to the Internet",
        "ts": "1479843305.003926"
    },
    {
        "type": "message",
        "user": "U0PB67X4K",
        "text": "and we use Consul as the KV store for both Swarm and for the overlay network",
        "ts": "1479843326.003927"
    },
    {
        "type": "message",
        "user": "U0N4P17ND",
        "text": "thanks",
        "ts": "1479853658.003928"
    },
    {
        "user": "U367FA19T",
        "text": "<@U367FA19T|squeue> has joined the channel",
        "type": "message",
        "subtype": "channel_join",
        "ts": "1479880008.003929"
    }
]