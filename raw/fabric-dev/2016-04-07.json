[
    {
        "user": "U0XR6J961",
        "type": "message",
        "subtype": "channel_join",
        "text": "<@U0XR6J961|simon> has joined the channel",
        "ts": "1460036304.000002"
    },
    {
        "user": "U0XR6J961",
        "purpose": "Design and development discussion for the fabric core",
        "type": "message",
        "subtype": "channel_purpose",
        "text": "<@U0XR6J961|simon> set the channel purpose: Design and development discussion for the fabric core",
        "ts": "1460036304.000003"
    },
    {
        "user": "U0TFEHX8E",
        "inviter": "U0XR6J961",
        "type": "message",
        "subtype": "channel_join",
        "text": "<@U0TFEHX8E|sheehan> has joined the channel",
        "ts": "1460036304.000004"
    },
    {
        "user": "U0UGH3X7X",
        "inviter": "U0XR6J961",
        "type": "message",
        "subtype": "channel_join",
        "text": "<@U0UGH3X7X|tuand> has joined the channel",
        "ts": "1460036304.000005"
    },
    {
        "user": "U0UKTPMG8",
        "inviter": "U0XR6J961",
        "type": "message",
        "subtype": "channel_join",
        "text": "<@U0UKTPMG8|jeffgarratt> has joined the channel",
        "ts": "1460036305.000006"
    },
    {
        "user": "U0ULK2JPP",
        "inviter": "U0XR6J961",
        "type": "message",
        "subtype": "channel_join",
        "text": "<@U0ULK2JPP|muralisr> has joined the channel",
        "ts": "1460036305.000007"
    },
    {
        "user": "U0KN2SSKE",
        "inviter": "U0XR6J961",
        "type": "message",
        "subtype": "channel_join",
        "text": "<@U0KN2SSKE|binhn> has joined the channel",
        "ts": "1460036305.000008"
    },
    {
        "user": "U0XPR4NP4",
        "inviter": "U0XR6J961",
        "type": "message",
        "subtype": "channel_join",
        "text": "<@U0XPR4NP4|jyellick> has joined the channel",
        "ts": "1460036305.000009"
    },
    {
        "user": "U0XQ35CDD",
        "inviter": "U0XR6J961",
        "type": "message",
        "subtype": "channel_join",
        "text": "<@U0XQ35CDD|kostas> has joined the channel",
        "ts": "1460036305.000010"
    },
    {
        "user": "U0XRCMCR2",
        "type": "message",
        "subtype": "channel_join",
        "text": "<@U0XRCMCR2|richernandez> has joined the channel",
        "ts": "1460038599.000011"
    },
    {
        "user": "U0MUSGY5N",
        "type": "message",
        "subtype": "channel_join",
        "text": "<@U0MUSGY5N|ethertyper> has joined the channel",
        "ts": "1460039081.000012"
    },
    {
        "user": "U0QUNGLJK",
        "type": "message",
        "subtype": "channel_join",
        "text": "<@U0QUNGLJK|shemnon> has joined the channel",
        "ts": "1460040634.000013"
    },
    {
        "user": "U0VKKEGKB",
        "type": "message",
        "subtype": "channel_join",
        "text": "<@U0VKKEGKB|zhipengh> has joined the channel",
        "ts": "1460041091.000014"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "<!here|@here>: i'm adding an additional \"persist\" column to the rocksdb",
        "ts": "1460043298.000015"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "this is mostly for per-node consensus state",
        "ts": "1460043316.000016"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "just wanted to see whether anybody had input",
        "ts": "1460043326.000017"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "in that process i'm making `db.get` public, and I'm adding `db.Set`",
        "ts": "1460043356.000018"
    },
    {
        "type": "message",
        "user": "U0TFEHX8E",
        "text": "by column do you mean column family?",
        "ts": "1460043513.000019"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "oh yes, sorry",
        "ts": "1460043673.000020"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "i guess `Put` may be a better name?  Get\/Put, Get\/Set",
        "ts": "1460043761.000021"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "hm",
        "ts": "1460043762.000022"
    },
    {
        "type": "message",
        "user": "U0TFEHX8E",
        "text": "are you naming the column family \u201cpersist\"? Seems a bit vague. Other names are defined at <https:\/\/github.com\/hyperledger\/fabric\/blob\/master\/core\/db\/db.go#L36>",
        "edited": {
            "user": "U0TFEHX8E",
            "ts": "1460043828.000000"
        },
        "ts": "1460043814.000023"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "yea",
        "ts": "1460043865.000027"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "what suggestions do you have?",
        "ts": "1460043871.000028"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "basically it is for in-memory state that should be persistent, so that the node appears as if it just was disconnected from the network",
        "ts": "1460043929.000029"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "as opposed to having started from zero",
        "ts": "1460043943.000030"
    },
    {
        "type": "message",
        "user": "U0TFEHX8E",
        "text": "ah, so you expect that others (in addition to consensus) may take advantage of the CF?",
        "ts": "1460043979.000031"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "yes",
        "ts": "1460044048.000032"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "no idea for what though",
        "ts": "1460044053.000033"
    },
    {
        "type": "message",
        "user": "U0TFEHX8E",
        "text": "so maybe just a \u201cconsensus-persist\u201d for now? Then you don\u2019t have to be concerned with key collisions from others. I don\u2019t think lots of CFs have any impact on RocksDB performance",
        "ts": "1460044210.000034"
    },
    {
        "user": "U0N1K6Z0X",
        "type": "message",
        "subtype": "channel_join",
        "text": "<@U0N1K6Z0X|georglink> has joined the channel",
        "ts": "1460044243.000035"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "yea, my idea was to use \"consensus.foo\" as key",
        "ts": "1460044252.000036"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "it's just that adding additional CF is a bit awkward at the moment :simple_smile:",
        "ts": "1460044269.000037"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "but sure",
        "ts": "1460044284.000038"
    },
    {
        "type": "message",
        "user": "U0TFEHX8E",
        "text": "ah, ok. \u201cpersist\u201d as a CF is fine with me also. Just throwing that out as a suggestion. I agree a single \u201cpersist\u201d will be easier for others to take advantage of",
        "ts": "1460044292.000039"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "we'll have to think about forward migration at some point",
        "ts": "1460044295.000040"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "when our underlying database shape changes",
        "ts": "1460044309.000041"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "also, we will have to think about disaster recovery",
        "ts": "1460044321.000042"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "where a bug in the code renders the whole network unable to proceed or garbles some state",
        "ts": "1460044345.000043"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "and manual operator intervention is needed",
        "ts": "1460044357.000044"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "i.e. a way to manually update code and apply a \"manually constructed\" blockchain block\/state delta",
        "ts": "1460044387.000045"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "oh is jeff around?",
        "ts": "1460044635.000046"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "i'd like to change the way messages are being passed through the system",
        "ts": "1460044669.000047"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "right now the handlers form an open-coded linked list, which is not elegant",
        "ts": "1460044685.000048"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "i'd prefer a message bus abstraction, where handlers register for message types",
        "ts": "1460044705.000049"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "then main.go will become cleaner, because it doesn't have to use these handlerfactories",
        "ts": "1460044799.000050"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "<@U0TFEHX8E>: I'd like to change db_test.go to use a ioutil.TempDir() instead of peer.fileSystemPath",
        "ts": "1460047921.000051"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "what do you think?",
        "ts": "1460047924.000052"
    },
    {
        "type": "message",
        "user": "U0TFEHX8E",
        "text": "I have mixed feelings. I prefer the way it is now because I know exactly where the test db resides and I have full control if I need to change it. Is there a specific reason for wanting to use the tmp dir?",
        "ts": "1460048451.000053"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "just so that somebody doing a go test doesn't need to have write access to \/var",
        "ts": "1460048969.000054"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "i don't quite understand the need for controlling where the testdb goes; it's just for a couple of unit tests",
        "ts": "1460049571.000055"
    },
    {
        "type": "message",
        "user": "U0TFEHX8E",
        "text": "just preference for me. I\u2019m ok with such a change, I understand your reasoning.",
        "ts": "1460049684.000056"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "ok, thanks!",
        "ts": "1460049717.000057"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "woops, one wrong git --reset, and a whole day's work gone",
        "ts": "1460049855.000058"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "that'll teach me",
        "ts": "1460049858.000059"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "ha, still in emacs undo history",
        "ts": "1460049967.000060"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "yey emacs",
        "ts": "1460049970.000061"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "<https:\/\/github.com\/corecode\/fabric\/tree\/persistence>",
        "attachments": [
            {
                "service_name": "GitHub",
                "title": "corecode\/fabric",
                "title_link": "https:\/\/github.com\/corecode\/fabric\/tree\/persistence",
                "text": "Blockchain fabric code",
                "fallback": "GitHub: corecode\/fabric",
                "thumb_url": "https:\/\/avatars3.githubusercontent.com\/u\/177979?v=3&s=400",
                "from_url": "https:\/\/github.com\/corecode\/fabric\/tree\/persistence",
                "thumb_width": 400,
                "thumb_height": 400,
                "id": 1
            }
        ],
        "ts": "1460051125.000062"
    },
    {
        "type": "message",
        "user": "U0TFEHX8E",
        "text": "speaking of git reset, I\u2019m having trouble discarding compose-sieve.yml due to the different line feed characters. I know some others ran into this at the hackathon. Any hints? Tried `git reset \u2014hard` with no luck",
        "ts": "1460051747.000064"
    },
    {
        "type": "message",
        "user": "U0XQ35CDD",
        "text": "<https:\/\/twitter.com\/cperciva\/status\/717864232356675585>",
        "attachments": [
            {
                "fallback": "<https:\/\/twitter.com\/cperciva|@cperciva>: git pull\ngit pull --force\ngit reset\ngit reset --hard\ngit fetch origin\ngit reset --hard origin\ngit pull\nrm -r\ngit clone",
                "ts": 1459987144,
                "author_name": "Colin Percival",
                "author_link": "https:\/\/twitter.com\/cperciva\/status\/717864232356675585",
                "author_icon": "https:\/\/pbs.twimg.com\/profile_images\/427942491\/Colin_normal.png",
                "author_subname": "@cperciva",
                "text": "git pull\ngit pull --force\ngit reset\ngit reset --hard\ngit fetch origin\ngit reset --hard origin\ngit pull\nrm -r\ngit clone",
                "service_name": "twitter",
                "service_url": "https:\/\/twitter.com\/",
                "from_url": "https:\/\/twitter.com\/cperciva\/status\/717864232356675585",
                "id": 1,
                "footer": "Twitter",
                "footer_icon": "https:\/\/a.slack-edge.com\/6e067\/img\/services\/twitter_pixel_snapped_32.png"
            }
        ],
        "ts": "1460051874.000065"
    },
    {
        "type": "message",
        "user": "U0TFEHX8E",
        "text": ":simple_smile:",
        "ts": "1460051937.000067"
    },
    {
        "type": "message",
        "user": "U0TFEHX8E",
        "text": "<@U0XR6J961>: made a few comments on your persistence code. Looks good! Thanks for diving into the DB code",
        "ts": "1460052582.000068"
    },
    {
        "type": "message",
        "user": "U0TFEHX8E",
        "text": "<@U0KN2SSKE> was able to help with my discard issue. The solution was\ngit fetch upstream\ngit checkout master\ngit reset --hard upstream\/master  \ngit push origin master --force",
        "ts": "1460053122.000069"
    },
    {
        "user": "U0LBXH9S4",
        "type": "message",
        "subtype": "channel_join",
        "text": "<@U0LBXH9S4|evan.wagner> has joined the channel",
        "ts": "1460059737.000070"
    },
    {
        "user": "U0NCW1DPX",
        "type": "message",
        "subtype": "channel_join",
        "text": "<@U0NCW1DPX|gengjh> has joined the channel",
        "ts": "1460074356.000071"
    },
    {
        "user": "U0Y6AUDST",
        "type": "message",
        "subtype": "channel_join",
        "text": "<@U0Y6AUDST|rgupta1> has joined the channel",
        "ts": "1460075632.000072"
    },
    {
        "user": "U0YATJ18S",
        "type": "message",
        "subtype": "channel_join",
        "text": "<@U0YATJ18S|dileban> has joined the channel",
        "ts": "1460075991.000073"
    },
    {
        "user": "U0N0GDVJ5",
        "type": "message",
        "subtype": "channel_join",
        "text": "<@U0N0GDVJ5|nick> has joined the channel",
        "ts": "1460084479.000074"
    }
]