[
    {
        "user": "U15KME666",
        "type": "message",
        "subtype": "channel_join",
        "text": "<@U15KME666|dayu> has joined the channel",
        "ts": "1462259191.000522"
    },
    {
        "type": "message",
        "user": "U0Y671PMK",
        "text": "Are there any instructions on how to run a fabric peer as a docker container, outside of the vagrant dev environment? I'm able to run the peer but I'm having issues starting contract containers.",
        "edited": {
            "user": "U0Y671PMK",
            "ts": "1462285188.000000"
        },
        "ts": "1462284947.000523"
    },
    {
        "type": "message",
        "user": "U0XR6J961",
        "text": "you need to allow docker containers contacting the docker daemon",
        "ts": "1462285049.000524"
    },
    {
        "type": "message",
        "user": "U0Y671PMK",
        "text": "Yes, I have that step down. Specifically, the contract container fails on the entry command. It seems like GOROOT &amp; GOPATH are not set as environment variables. GOROOT\/bin and GOPATH\/bin are also not appended to the PATH environment variable.",
        "ts": "1462285137.000525"
    },
    {
        "type": "message",
        "user": "U0Y671PMK",
        "text": "I guess I can modify the core.yaml to set these, not sure if anyone else has already done the dirty work.",
        "ts": "1462285167.000526"
    },
    {
        "type": "message",
        "user": "U0Y671PMK",
        "text": "Also in case anyone else is trying to do this as well, I had to manually pull openblockchain\/baseimage:0.0.9 and tag it to latest... Seems like the devenv setup takes care of that.",
        "ts": "1462285275.000528"
    },
    {
        "type": "message",
        "user": "U0XPR4NP4",
        "text": "<@U0Y671PMK>: Sorry for the pain.  FYI, the rationale for not pushing the latest tag, is so that people on older versions of the dev env and code don't get their  environment broken when a new image is pushed.  If you're interested in documenting your discoveries and submitting a PR for it, I'm sure others would find it helpful.",
        "ts": "1462286063.000529"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0Y671PMK>: the current mechanism uses the script in .\/scripts\/provision\/docker.sh to do all that you mentioned above",
        "ts": "1462286583.000530"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "im trying to formulate a design that makes this less error prone",
        "ts": "1462286597.000531"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "one thing we could do is to try to coalesce all the fragmented Dockerfile definitions spread around in the yaml to perhaps be references to a Dockerfile and\/or YAML key",
        "ts": "1462286681.000532"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "then that one definition could do the dirty work (pull 0.0.9, set the env, run common.sh, etc)",
        "ts": "1462286708.000533"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but one problem is how to deal with relative paths in different environments",
        "ts": "1462286723.000534"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "have to step out, bbiab",
        "ts": "1462286731.000535"
    },
    {
        "type": "message",
        "user": "U0Y671PMK",
        "text": "Ahhh OK, I see what you're doing now, I didn't really understand it at first. Thanks for the script reference.",
        "edited": {
            "user": "U0Y671PMK",
            "ts": "1462287062.000000"
        },
        "ts": "1462287049.000536"
    },
    {
        "type": "message",
        "user": "U0Y671PMK",
        "text": "Just curious, where can I find the openblockchain\/baseimage 0.0.9 Dockerfile?",
        "ts": "1462287868.000538"
    },
    {
        "type": "message",
        "user": "U0XPR4NP4",
        "text": "<@U0Y671PMK>: You may want to wait on <@U0KPFAZNF> as he is the expert here, but you can take a look at `<http:\/\/github.com\/hyperledger\/fabric\/devenv\/baseimage|github.com\/hyperledger\/fabric\/devenv\/baseimage>`, there is a `packer.json` and a `README.md` there.  In a nutshell, packer is used to build both the vagrant baseimage, and the docker baseimage, in an attempt to keep those images in lockstep.",
        "ts": "1462289852.000539"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "<!here|@here> Please help: for some reason when I do \"go build\" now the exec that gets produced isn't executable",
        "ts": "1462299170.000540"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "I'm running on a Windows 7 Pro box",
        "ts": "1462299210.000541"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "it's been working fine for weeks",
        "ts": "1462299217.000542"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "and all of a sudden the file access mode are completely screwed up",
        "ts": "1462299234.000543"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "any idea what's going on? All I did was a pull to get back in sync with the master branch",
        "ts": "1462299261.000544"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "which directory do you run the build from?",
        "ts": "1462299296.000545"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "peer",
        "ts": "1462299302.000546"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "and are you in vagrant or in a native shell?",
        "ts": "1462299312.000547"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "vagrant",
        "ts": "1462299319.000548"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "weird",
        "ts": "1462299329.000549"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "no idea, sorry",
        "ts": "1462299332.000550"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "I've never seen anything like that",
        "ts": "1462299343.000551"
    },
    {
        "type": "message",
        "user": "U0TFEHX8E",
        "text": "what\u2019s the output of `whoami`?",
        "ts": "1462299350.000552"
    },
    {
        "type": "message",
        "user": "U0TFEHX8E",
        "text": "and what are the permissions on the binary?",
        "ts": "1462299361.000553"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "vagrant",
        "ts": "1462299364.000554"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so the binary is being produced but the +x isnt set?",
        "ts": "1462299364.000555"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "000!",
        "ts": "1462299371.000556"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "not readable, not writeable, not executable by anyone",
        "ts": "1462299383.000557"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "correct",
        "ts": "1462299395.000558"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "I kill the virtual box and restart the whole thing with vagrant up and all to try and reset the env",
        "ts": "1462299427.000559"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "I don't get it",
        "ts": "1462299430.000560"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "thats probably a good idea for other reasons, but I have no idea what would have caused that",
        "ts": "1462299452.000561"
    },
    {
        "type": "message",
        "user": "U0TFEHX8E",
        "text": "assume you ran `vagrant destroy` as part of your reset?",
        "ts": "1462299468.000562"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "I didn't, I'll try that",
        "ts": "1462299482.000563"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "when I create a file with touch foo it's got the right access",
        "ts": "1462299502.000564"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "so this is really weird",
        "ts": "1462299510.000565"
    },
    {
        "type": "message",
        "user": "U0TFEHX8E",
        "text": "yeah, can\u2019t say I\u2019ve ever seen that before",
        "ts": "1462299834.000566"
    },
    {
        "type": "message",
        "user": "U0TFEHX8E",
        "text": "I just tried a build locally to make sure there\u2019s not something weird in the env and I didn\u2019t see any issues",
        "ts": "1462299861.000567"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "right, I actually have two machines and the other is fine",
        "ts": "1462300664.000568"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "so, hopefully I can get that one back in shape",
        "ts": "1462300676.000569"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "I wish I knew what happened though",
        "ts": "1462300685.000570"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "wow, even vagrant destroy + up didn't do it",
        "ts": "1462301803.000571"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "I get the same 000 access mode on the peer exec file",
        "ts": "1462301819.000572"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "my machine was rebooted",
        "ts": "1462301839.000573"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "I installed the latest update of VirtualBox",
        "ts": "1462301851.000574"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "(can you sense the desperation here ;-)",
        "ts": "1462301863.000575"
    },
    {
        "type": "message",
        "user": "U0TFEHX8E",
        "text": "hmmm. Maybe try `vagrant box list` and then remove your base ubuntu image?",
        "ts": "1462302052.000576"
    },
    {
        "type": "message",
        "user": "U0TFEHX8E",
        "text": "I\u2019m guessing. I\u2019m at the \u201cturn it off and on again\u201d point of trying to fix the problem",
        "ts": "1462302092.000577"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "well, I'll have to look into this more later - gotta do something else for now",
        "ts": "1462302153.000578"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "thanks for the tips",
        "ts": "1462302158.000579"
    },
    {
        "type": "message",
        "user": "U0XPR4NP4",
        "text": "<@U0P2GSA8Z>: Not sure if you had things working before, but my money would be on some sort of interaction between the Windows filesystem and VirtualBox, as the source tree is actually backed by your OS's filesystem.  If you've had this working before, it may not be relevant, but what filesystem are you using to store your development root? In particular, if it is an older filesystem which does not support many file attributes (say, fat32)then I think this could cause problems.  What do the permissions look like for the other elements in the tree? (Also in the same boat as <@U0TFEHX8E> here, just guessing.)",
        "ts": "1462302613.000580"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "<@U0XPR4NP4>: that's the weird thing, I've been using this set up for weeks without problems",
        "ts": "1462303738.000581"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "I have no idea what changed between yesterday and today!",
        "edited": {
            "user": "U0P2GSA8Z",
            "ts": "1462303899.000000"
        },
        "ts": "1462303747.000582"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "although I say \"without problems\" but I have had some mode changes that I didn't quite understand before",
        "ts": "1462303842.000583"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "but nothing like that",
        "ts": "1462303846.000584"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "it was more like some files ended up with the exec bit on",
        "ts": "1462303870.000585"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "interestingly I can't change the access rights I get on the peer exec file within vagrant or my windows shell (cygwin actually)",
        "ts": "1462303982.000587"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "the only way to change it is to use the windows desktop explorer and go change the access rights through security property tab",
        "ts": "1462304021.000588"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "if I change it I can then run the program without problems",
        "ts": "1462304037.000589"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "this is beyond my level of understanding I have to admit",
        "ts": "1462304057.000590"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "but for what it's worth it's an NTFS filesystem",
        "ts": "1462304142.000591"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "the permissions look like crap in vagrant but that's true on both of my systems and that's not been a problem so far",
        "ts": "1462304255.000592"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "all the files appear as -rwxrwxrwx",
        "ts": "1462304275.000593"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "only from windows can I actually see the real mode",
        "ts": "1462304303.000594"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "I'm going to have to do a bunch more tests to see if I can figure out the source of this problem",
        "ts": "1462304384.000595"
    },
    {
        "type": "message",
        "user": "U0XPR4NP4",
        "text": "Hmmm, yeah, sounds like you're on the right track, I think I have seen some Vagrant bugs around what user VirtualBox ends up executing as, interacting with certain Windows security policies, good luck!",
        "ts": "1462304435.000596"
    },
    {
        "type": "message",
        "user": "U0P2GSA8Z",
        "text": "thanks",
        "ts": "1462305290.000597"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<@U0N1D1UAE>: thinking some more\u2026what made you come to the conclusion that java was hardcoded to \/bin\/java",
        "ts": "1462309376.000598"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i am starting to wonder if the packager did that",
        "ts": "1462309389.000599"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "You copied all of bin",
        "ts": "1462309391.000600"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ok, thats what I was wondering, note that isnt whats happening",
        "ts": "1462309406.000601"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "that is just the dockerfile relative COPY directive you are seeing, right?",
        "ts": "1462309421.000602"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "COPY bin\/* ...",
        "ts": "1462309433.000603"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "Yes",
        "ts": "1462309450.000604"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "or something else?",
        "ts": "1462309450.000605"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "yiure right",
        "ts": "1462309455.000606"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ok, yeah that is just how I move the protoc-gen-go + chaintool binaries in, thats it",
        "ts": "1462309472.000607"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "\u2018java\u2019 is in my PATH",
        "ts": "1462309487.000608"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "it\u2019s a script",
        "ts": "1462309491.000609"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ok, perfect",
        "ts": "1462309496.000610"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "So I didn\u2019t understand why it wasn\u2019t found",
        "ts": "1462309515.000611"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "that is odd, but I should look at the binary preamble",
        "ts": "1462309529.000612"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "the chaintool binary is created with this tool called lein-bin, which takes a .jar and a script and slams them together",
        "ts": "1462309567.000613"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i wonder if the script makes assumptions about the jre path",
        "ts": "1462309581.000614"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i can look",
        "ts": "1462309586.000615"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "Oh - I thought it was private",
        "ts": "1462309662.000616"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "which?",
        "ts": "1462309675.000617"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "I thought our conversation was private",
        "ts": "1462309685.000618"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "thats why I couldn\u2019t find it",
        "ts": "1462309693.000619"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ah",
        "ts": "1462309696.000620"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so you have a docker container (is it x or something else?) that you have done the apt-get install default-jre?",
        "ts": "1462309743.000621"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "and which java resolves fine, but when you run chaintool it complains that it cannot exec java?",
        "ts": "1462309764.000622"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "I am running on X, but this system uses IBM Java which is installed in \/opt and accesssed via JAVA_HOME",
        "ts": "1462309780.000623"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "oh, i see, that _shouldnt_ matter as long as \u201cjava\u201d is on the path, but let me experiment",
        "ts": "1462309809.000624"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "java is a script in my private ~\/bin directory",
        "ts": "1462309826.000625"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "oh!",
        "ts": "1462309833.000626"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i wonder if that is it",
        "ts": "1462309837.000627"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ill see how it behaves",
        "ts": "1462309846.000628"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "#!\/bin\/bash\n\n$JAVA_HOME\/bin\/java \"$@\"",
        "ts": "1462309859.000629"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "you have chaintool local on this system now?",
        "ts": "1462309873.000630"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "yes",
        "ts": "1462309878.000631"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so you can do \u201cjava\u201d and get the help output, but \u201cchaintool\u201d and you get that exec error",
        "ts": "1462309899.000632"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "1 sec",
        "ts": "1462309960.000633"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "\u2018java\u2019 gives help message",
        "ts": "1462310112.000634"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "\u2018chaintool\u2019 is on path, and gives Error: Could not find or load main class chaintool.core",
        "ts": "1462310134.000635"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "The \u2018java not found\u2019 is from the container",
        "ts": "1462310186.000636"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "thats weird, I wonder if IBM java does not support a jar with a script preamble",
        "ts": "1462310215.000637"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "the container error sounds different",
        "ts": "1462310230.000638"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "if I run \u201cstrings chaintool\u201d i can get a glimpse of the script, it looks like",
        "ts": "1462310283.000639"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U0KPFAZNF|ghaskins> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F15REBDEF\/-.txt|Untitled>",
        "file": {
            "id": "F15REBDEF",
            "created": 1462310292,
            "timestamp": 1462310292,
            "name": "-.txt",
            "title": "Untitled",
            "mimetype": "text\/plain",
            "filetype": "text",
            "pretty_type": "Plain Text",
            "user": "U0KPFAZNF",
            "editable": true,
            "size": 339,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F15REBDEF\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F15REBDEF\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F15REBDEF\/-.txt",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F15REBDEF-351a4f76d5",
            "edit_link": "https:\/\/hyperledgerproject.slack.com\/files\/ghaskins\/F15REBDEF\/-.txt\/edit",
            "preview": ":;exec java -XX:+TieredCompilation -XX:TieredStopAtLevel=1 -XX:-OmitStackTraceInFastThrow -client -Dchaintool.version=0.5.1 -Xbootclasspath\/a:$0 chaintool.core \"$@\"\r\n@echo off\r\njava -XX:+TieredCompilation -XX:TieredStopAtLevel=1 -XX:-OmitStackTraceInFastThrow -client -Dchaintool.version=0.5.1 -Xbootclasspath\/a:%1 chaintool.core \"%~f0\" %*",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>:;exec java -XX:+TieredCompilation -XX:TieredStopAtLevel=1 -XX:-OmitStackTraceInFastThrow -client -Dchaintool.version=0.5.1 -Xbootclasspath\/a:$0 chaintool.core &quot;$@&quot;<\/pre><\/div>\n<div><pre>@echo off<\/pre><\/div>\n<div><pre>java -XX:+TieredCompilation -XX:TieredStopAtLevel=1 -XX:-OmitStackTraceInFastThrow -client -Dchaintool.version=0.5.1 -Xbootclasspath\/a:%1 chaintool.core &quot;%~f0&quot; %*<\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 3,
            "lines_more": 0,
            "preview_is_truncated": false,
            "channels": [
                "C0YQ1NHGD"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U0KPFAZNF",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U0KPFAZNF|ghaskins>",
        "bot_id": null,
        "ts": "1462310292.000640"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so it doesnt appear to be path decorated",
        "ts": "1462310303.000641"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so that answers that part anyway",
        "ts": "1462310331.000642"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "as far as IBM java, the .jar contents should be all in that file, but its like it either doesnt see the jar or at least it doesnt see it fully",
        "ts": "1462310362.000643"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "like a classpath issue perhaps",
        "ts": "1462310372.000644"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "Let me try an Oracle Java",
        "ts": "1462310374.000645"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "The Oracle java can run it",
        "ts": "1462310441.000646"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "interesting",
        "ts": "1462310445.000647"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "you _should_ be able to treat the binary as a standard jar, so what happens if you do \u201cjava -jar chaintool\"",
        "ts": "1462310502.000648"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "(in either)",
        "ts": "1462310508.000649"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i wonder if its the -XX switches that are messing it up",
        "ts": "1462310529.000650"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "maybe, my manager (Java expert) is here looking at it",
        "ts": "1462310605.000651"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "cool",
        "ts": "1462310869.000652"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "im guessing its either the ibm jre doesnt like the preamble script in front of the jar, or it doesnt like the switches that it uses",
        "ts": "1462310906.000653"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "(im hoping its the latter, as I cant do much about the former ;)",
        "ts": "1462310947.000654"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "We don\u2019t understabd yet",
        "ts": "1462311042.000655"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "Looks like IBM does not undderstand that the JAR is attached",
        "ts": "1462311060.000656"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ugg, thats not good",
        "ts": "1462311072.000657"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "Why does it have 2 commands?",
        "ts": "1462311078.000658"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "One before and 1 after echo EOF",
        "ts": "1462311092.000659"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "otp",
        "ts": "1462311100.000660"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i suspect it doesnt actually, i think that was probably a comment and then the real invocation",
        "ts": "1462311178.000661"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "let me look at the plugin that generates the preamble",
        "ts": "1462311187.000662"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "or at least capture a better rendering",
        "ts": "1462311198.000663"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "hmm, actually that snippet above seems to be fairly represenative of the script",
        "ts": "1462311276.000664"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "not sure what the \u201c:;\u201d does though",
        "ts": "1462311286.000665"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "java -jar chaintool works",
        "ts": "1462311364.000666"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "even with ibm jre?",
        "ts": "1462311372.000667"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "yes",
        "ts": "1462311376.000668"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ah, thats a good sign",
        "ts": "1462311380.000669"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "As long as you are in that dir",
        "ts": "1462311393.000670"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "now see if it works with the pasted switches",
        "ts": "1462311401.000671"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ah!",
        "ts": "1462311403.000672"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ok",
        "ts": "1462311404.000673"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "maybe thats it then",
        "ts": "1462311408.000674"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "its weird though as I would have expected the $0 to cover CWD discrepancies",
        "ts": "1462311487.000675"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "oh, wait",
        "ts": "1462311557.000676"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "you mean \u201cjava -jar chaintool\u201d only works with chaintool in the CWD?",
        "ts": "1462311581.000677"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i guess that makes sense, its not going to search $PATH in that case",
        "ts": "1462311593.000678"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "Yes",
        "ts": "1462311698.000679"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "Can you control the script on top?",
        "ts": "1462311714.000680"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ultimately, yes",
        "ts": "1462311724.000681"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "the plugin that generated it is FOSS",
        "ts": "1462311731.000682"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "Rei suggests chaning Xbootclasspath\/a:$0 to -jar $0",
        "ts": "1462311734.000683"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "changing",
        "ts": "1462311744.000684"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ok, i think I can actually change that in leiningen options",
        "ts": "1462311755.000685"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "Trying it anyway",
        "ts": "1462311757.000686"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "We tried to edit the file but it was \u201ccorrupted\u201d after that",
        "ts": "1462311770.000687"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "Do you have IBM JAVA?",
        "ts": "1462311786.000688"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i think that is controlled by this switch",
        "ts": "1462311792.000689"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "<https:\/\/github.com\/ghaskins\/chaintool\/blob\/master\/project.clj#L31>",
        "edited": {
            "user": "U0KPFAZNF",
            "ts": "1462311857.000000"
        },
        "ts": "1462311793.000690"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "if you have the tree, you can try taking that out and rebuilding (just do \u201cmake\u201d(",
        "ts": "1462311809.000692"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "otherwise, i can try to get ibm java installed",
        "ts": "1462311819.000693"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "We can try that I think",
        "ts": "1462311863.000695"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "i think that should change how the script generator emits the code",
        "ts": "1462311884.000696"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "if that switch doesnt sufficiently neuter the offending flag, I can fork the plugin that generates the script",
        "ts": "1462312119.000697"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "where is the final \u2018chaintool\u2019 with header end up?",
        "ts": "1462312405.000698"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": ".\/target",
        "ts": "1462312412.000699"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "warning: [options] bootstrap class path not set in conjunction with -source 1.7",
        "ts": "1462312544.000700"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "yeah, though I would have expected that to go away if you turned off the feature",
        "ts": "1462312587.000701"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "Bingo",
        "ts": "1462312596.000702"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "It works now",
        "ts": "1462312605.000703"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "I was forced to target v1.7 because trusty doesnt have 1.8",
        "ts": "1462312617.000704"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "nice!",
        "ts": "1462312623.000705"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so it was just removing the bootclasspath=true option?",
        "ts": "1462312637.000706"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "yes, it substituted -jar $0",
        "ts": "1462312665.000707"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "if so, that change is of little practical consequence anyway as I think it effectively was disabled when java 1.7 was being used",
        "ts": "1462312681.000708"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "it allowed the app to start a little faster under 1.8, but that isnt currently available anyway",
        "ts": "1462312702.000709"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "I am using IBM Java 8",
        "ts": "1462312703.000710"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "Let me try Java 7",
        "ts": "1462312722.000711"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "right, sorry, i meant ubuntu\/trusty didnt have 8 in standard repos",
        "ts": "1462312735.000712"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "IOW i was forced to downgrade output to 1.7 and thus negating any benefit from that bootclasspath thing anyway",
        "ts": "1462312764.000713"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so it shouldnt matter to remove it",
        "ts": "1462312779.000714"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "anyway, nice find, ill make that change",
        "ts": "1462312817.000715"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "(or send me a PR if you\u2019d like the proper attribution)",
        "ts": "1462312829.000716"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "IBM Java 7 works too",
        "ts": "1462312867.000717"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "regarding the container, im guessing you need to rebuild your docker image",
        "ts": "1462312870.000718"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "nice!",
        "ts": "1462312872.000719"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "I don\u2019t need attribution, thanks for the offer!",
        "ts": "1462312887.000720"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ok",
        "ts": "1462312891.000721"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "the PR that added chaintool modified .\/scripts\/provision\/common.sh to install default-jre, which gets invoked when you run docker.sh",
        "ts": "1462312919.000722"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "so im speculating that your docker is out of date",
        "ts": "1462312925.000723"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "that _should_ have added \u2018java\u2019 to the $PATH within the container if it was run",
        "ts": "1462312949.000724"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but if that is not the case, ill need to investigate further",
        "ts": "1462312993.000725"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "I was thinking about your rhetorical question - why not just git clone &amp;&amp; go build. Why do we need Docker anyway? Why not just run chaincodes as processes with assigned ports. It would make things so mush easier and faster.",
        "ts": "1462313015.000726"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "actually, for golang chaincode, the runtime probably can be some other isolating mechanism like an selinux-sandbox",
        "ts": "1462313067.000727"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but for building the golang chaincode, it might still be beneficial to do it in docker so we can start to define a chaincode ABI",
        "ts": "1462313093.000728"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but neither here nor there, there are lots of ways to solve this problem",
        "ts": "1462313105.000729"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "if the goal is to eliminate docker, there are plenty of options",
        "ts": "1462313123.000730"
    },
    {
        "type": "message",
        "user": "U0N1D1UAE",
        "text": "Greg, Ravi\u2019s here I need to chat with hiom for awhil",
        "ts": "1462313128.000731"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "but I suspect the clone+build model has many other requrements too",
        "ts": "1462313142.000732"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "ok, sounds good",
        "ts": "1462313145.000733"
    },
    {
        "type": "message",
        "user": "U0KPFAZNF",
        "text": "thanks for the help",
        "ts": "1462313147.000734"
    },
    {
        "user": "U106SFX62",
        "type": "message",
        "subtype": "channel_join",
        "text": "<@U106SFX62|clyde_dcruz> has joined the channel",
        "ts": "1462344881.000735"
    }
]