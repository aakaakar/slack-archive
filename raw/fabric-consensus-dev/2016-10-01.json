[
    {
        "user": "U0UL07VSL",
        "text": "<@U0UL07VSL|frankyclu> has joined the channel",
        "type": "message",
        "subtype": "channel_join",
        "ts": "1475314321.001375"
    },
    {
        "type": "message",
        "user": "U0UL07VSL",
        "text": "hey guys, not sure if this is already known, this error is fairly easy to create in PBFT part of fabric 0.6",
        "ts": "1475314656.001376"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U0UL07VSL|frankyclu> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/frankyclu\/F2J8L5DPH\/-.txt|Untitled>",
        "file": {
            "id": "F2J8L5DPH",
            "created": 1475315046,
            "timestamp": 1475315046,
            "name": "-.txt",
            "title": "Untitled",
            "mimetype": "text\/plain",
            "filetype": "text",
            "pretty_type": "Plain Text",
            "user": "U0UL07VSL",
            "editable": true,
            "size": 2198,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2J8L5DPH\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2J8L5DPH\/download\/-.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/frankyclu\/F2J8L5DPH\/-.txt",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F2J8L5DPH-df9c3e1b40",
            "edit_link": "https:\/\/hyperledgerproject.slack.com\/files\/frankyclu\/F2J8L5DPH\/-.txt\/edit",
            "preview": "~'''cT0fiqg7QJbsDOiF70K0k3gOEIxb\/w2GftdyqUZklSPoaQOT+2FAoTD49ZYjRO+YK2Zr8PQwBY\/fkwbP6dF9BXyt\/Xf3mlSYNMzFaag9O3eSsbZ7d0xv2R3pwLfbpYwWwf+w=) different from weak checkpoint certificate (CAcSQDOemvN7Rf8BISMEmt7DztD3bOaU\/DgCuPN5oEopl8Pl\/qU\/Hpjo5UJwVhQQ+kifZOIIVGkbn0AknSi\/TmnHtLIaQHBejXT\/y5NAmPQuQElCoJMwqqaghnIMG2tnI55F7YaXuiYknJ+JrJgRHldLh2c5SAUxZQsZf3nmOAK53jUVlT4=)\npanic: Own checkpoint for seqNo 6 (CAcSQK4qfUrKeSaFA8nH5wsc6\/XalIW5zeUt10AG2BNAVCycT0fiqg7QJbsDOiF70K0k3gOEIxb\/w2GftdyqUZklSPoaQOT+2FAoTD49ZYjRO+YK2Zr8PQwBY\/fkwbP6dF9BXyt\/Xf3mlSYNMzFaag9O3eSsbZ7d0xv2R3pwLfbpYwWwf+w=) different from weak checkpoint certificate (CAcSQDOemvN7Rf8BISMEmt7DztD3bOaU\/DgCuPN5oEopl8Pl\/qU\/Hpjo5UJwVhQQ+kifZOIIVGkbn0AknSi\/TmnHtLIaQHBejXT\/y5NAmPQuQElCoJMwqqaghnIMG2tnI55F7YaXuiYknJ+JrJgRHldLh2c5SAUxZQsZf3nmOAK53jUVlT4=)\n\ngoroutine 52 [running]:\npanic(0xc11400, 0xc8203c8500)",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>~'''cT0fiqg7QJbsDOiF70K0k3gOEIxb\/w2GftdyqUZklSPoaQOT+2FAoTD49ZYjRO+YK2Zr8PQwBY\/fkwbP6dF9BXyt\/Xf3mlSYNMzFaag9O3eSsbZ7d0xv2R3pwLfbpYwWwf+w=) different from weak checkpoint certificate (CAcSQDOemvN7Rf8BISMEmt7DztD3bOaU\/DgCuPN5oEopl8Pl\/qU\/Hpjo5UJwVhQQ+kifZOIIVGkbn0AknSi\/TmnHtLIaQHBejXT\/y5NAmPQuQElCoJMwqqaghnIMG2tnI55F7YaXuiYknJ+JrJgRHldLh2c5SAUxZQsZf3nmOAK53jUVlT4=)<\/pre><\/div>\n<div><pre>panic: Own checkpoint for seqNo 6 (CAcSQK4qfUrKeSaFA8nH5wsc6\/XalIW5zeUt10AG2BNAVCycT0fiqg7QJbsDOiF70K0k3gOEIxb\/w2GftdyqUZklSPoaQOT+2FAoTD49ZYjRO+YK2Zr8PQwBY\/fkwbP6dF9BXyt\/Xf3mlSYNMzFaag9O3eSsbZ7d0xv2R3pwLfbpYwWwf+w=) different from weak checkpoint certificate (CAcSQDOemvN7Rf8BISMEmt7DztD3bOaU\/DgCuPN5oEopl8Pl\/qU\/Hpjo5UJwVhQQ+kifZOIIVGkbn0AknSi\/TmnHtLIaQHBejXT\/y5NAmPQuQElCoJMwqqaghnIMG2tnI55F7YaXuiYknJ+JrJgRHldLh2c5SAUxZQsZf3nmOAK53jUVlT4=)<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<div><pre>goroutine 52 [running]:<\/pre><\/div>\n<div><pre>panic(0xc11400, 0xc8203c8500)<\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 18,
            "lines_more": 13,
            "preview_is_truncated": true,
            "channels": [
                "C0Z4NBUN6"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U0UL07VSL",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U0UL07VSL|frankyclu>",
        "bot_id": null,
        "ts": "1475315046.001380"
    },
    {
        "type": "message",
        "user": "U0PB67X4K",
        "text": "Hi <@U0UL07VSL>  - do you mean it is fairly easy to force a peer to be out of sync?",
        "ts": "1475316071.001381"
    },
    {
        "type": "message",
        "user": "U0UL07VSL",
        "text": "sorry I was gonna to add more detail but I didn't know you get up this early :slightly_smiling_face:",
        "ts": "1475318453.001382"
    },
    {
        "type": "message",
        "user": "U0UL07VSL",
        "text": "the panic happens (which will basically shut down the node)  after this sequence: one peer get out of sync due to network connection error, then as the peer try to sync up (at this point rest of the network has already exceeded the peer's high watermark), it will also get chat messages from the bootstrap peer (which it will then generate: error : *Peer FSM cannot handle message (DISC_GET_PEERS) with payload size (0) while in state: created_* every few seconds). If I stop and start the peer (which will usually get ride of \"FSM cannot find message error\"), the network will then attempting a view change request because they think the problem peer is faulty, however it will just keep on attempting  for several minutes w\/o any results",
        "edited": {
            "user": "U0UL07VSL",
            "ts": "1475325880.000000"
        },
        "ts": "1475318632.001383"
    },
    {
        "type": "message",
        "user": "U0UL07VSL",
        "text": "at this point if you start another wave of transactions, the problem peer will go panic <@U0PB67X4K>",
        "edited": {
            "user": "U0UL07VSL",
            "ts": "1475321620.000000"
        },
        "ts": "1475319559.001389"
    },
    {
        "type": "message",
        "user": "U0UL07VSL",
        "text": "I think this problem will be common once the peers get deployed into physically separated VMs",
        "ts": "1475319669.001390"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "Panic? Can you put here the stack trace?",
        "ts": "1475322726.001395"
    },
    {
        "type": "message",
        "user": "U0UL07VSL",
        "text": "<@U0ZJZBJLF> it's pasted above",
        "ts": "1475324514.001396"
    },
    {
        "user": "U1P52TCE4",
        "text": "<@U1P52TCE4|yoshihara> has joined the channel",
        "type": "message",
        "subtype": "channel_join",
        "ts": "1475324984.001399"
    },
    {
        "type": "message",
        "user": "U0ZJZBJLF",
        "text": "oh, didn't notice (was using slack on android)",
        "ts": "1475325613.001400"
    },
    {
        "type": "message",
        "user": "U0PB67X4K",
        "text": "sorry - had to run out this morning",
        "ts": "1475345999.001403"
    },
    {
        "type": "message",
        "user": "U0PB67X4K",
        "text": "the code actually exits with a panic - so this is intentional from that perspective.  The peer has found itself in a state where it should not continue to participate.  But I would think that if you then restart that peer, it should detect that it's out of sync and then initiate state transfer",
        "ts": "1475346078.001404"
    },
    {
        "type": "message",
        "user": "U0XQ35CDD",
        "text": "&gt; the network will then attempting a view change request because they think the problem peer is faulty, however it will just keep on attempting  for several minutes w\/o any results",
        "ts": "1475356546.001405"
    },
    {
        "type": "message",
        "user": "U0XQ35CDD",
        "text": "This should probably \"the peer will then attempt a view-change request\" right?",
        "ts": "1475356570.001406"
    },
    {
        "type": "message",
        "user": "U0XQ35CDD",
        "text": "If that's the case, note that the peer won't actually join and actively participate the network until the network (eventually) switches its view to the one that this complaining peer wanted to all along. (It may take a while, or even forever.)",
        "ts": "1475356706.001407"
    },
    {
        "type": "message",
        "user": "U0XQ35CDD",
        "text": "Until that happens however, note that this complaining peer will have its state synced even though it doesn't participate in ordering. (Long and somewhat convoluted explanation of how that happens: It will be able to identify any weak checkpoint sets above its high watermark, mark itself as out of date, and move its low watermark accordingly. Then, upon receiving the next weak checkpoint cert, it will state transfer to it. This process will repeat periodically, assuming the rest of the network progresses normally.)",
        "ts": "1475358058.001408"
    }
]