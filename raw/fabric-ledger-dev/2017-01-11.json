[
    {
        "type": "message",
        "user": "U3CBDC0JG",
        "text": "<@U0ULK2JPP> do you know why in rwset.KVWrite there is no version information? (Version *version.Height)?",
        "edited": {
            "user": "U3CBDC0JG",
            "ts": "1484172289.000000"
        },
        "ts": "1484172120.000183"
    },
    {
        "type": "message",
        "user": "U3CBDC0JG",
        "text": "I can understand before it's commited there won't be version available but once it's commited, the RWSet is propagated to downstream components such as history",
        "ts": "1484172199.000184"
    },
    {
        "type": "message",
        "user": "U3CBDC0JG",
        "text": "wouldn't it be useful to record the version information in the history too?",
        "ts": "1484172213.000185"
    },
    {
        "type": "message",
        "user": "U3CBDC0JG",
        "text": "<@U1KFCPFQA> can you help with my question?",
        "ts": "1484173650.000187"
    },
    {
        "type": "message",
        "user": "U3CBDC0JG",
        "text": "do you know why in rwset.KVWrite there is no version information? (Version *version.Height)?",
        "ts": "1484173655.000188"
    },
    {
        "type": "message",
        "user": "U1KFCPFQA",
        "text": "you are right - we version based on block and tran number (height). but that is not yet known when the write set is going through the infrastructure. it is only known at commit time, and we do in fact use that information when writing to history.  the height is what makes the history record for a key unique.",
        "ts": "1484173845.000189"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U12452RAP|grapebaba> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/grapebaba\/F3R55043Z\/-.coffee|Untitled>",
        "file": {
            "id": "F3R55043Z",
            "created": 1484190322,
            "timestamp": 1484190322,
            "name": "-.coffee",
            "title": "Untitled",
            "mimetype": "text\/plain",
            "filetype": "coffeescript",
            "pretty_type": "CoffeeScript",
            "user": "U12452RAP",
            "editable": true,
            "size": 171,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3R55043Z\/-.coffee?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3R55043Z\/download\/-.coffee?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/grapebaba\/F3R55043Z\/-.coffee",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F3R55043Z-f13046296c",
            "edit_link": "https:\/\/hyperledgerproject.slack.com\/files\/grapebaba\/F3R55043Z\/-.coffee\/edit",
            "preview": "\/\/ RawLedger implements methods required by 'raw ledger'\r\ntype RawLedger interface {\r\n\tLedger\r\n\t\/\/ CommitBlock adds a new block\r\n\tCommitBlock(block *common.Block) error\r",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-string-2\">\/\/<\/span> <span class=\"cm-variable\">RawLedger<\/span> <span class=\"cm-variable\">implements<\/span> <span class=\"cm-variable\">methods<\/span> <span class=\"cm-variable\">required<\/span> <span class=\"cm-keyword\">by<\/span> <span class=\"cm-string\">'raw ledger'<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-variable\">type<\/span> <span class=\"cm-variable\">RawLedger<\/span> <span class=\"cm-variable\">interface<\/span> <span class=\"cm-punctuation\">{<\/span><\/pre><\/div>\n<div><pre>\t<span class=\"cm-variable\">Ledger<\/span><\/pre><\/div>\n<div><pre>\t<span class=\"cm-string-2\">\/\/<\/span> <span class=\"cm-variable\">CommitBlock<\/span> <span class=\"cm-variable\">adds<\/span> <span class=\"cm-variable\">a<\/span> <span class=\"cm-keyword\">new<\/span> <span class=\"cm-variable\">block<\/span><\/pre><\/div>\n<div><pre>\t<span class=\"cm-variable\">CommitBlock<\/span><span class=\"cm-punctuation\">(<\/span><span class=\"cm-variable\">block<\/span> <span class=\"cm-operator\">*<\/span><span class=\"cm-variable\">common<\/span><span class=\"cm-punctuation\">.<\/span><span class=\"cm-property\">Block<\/span><span class=\"cm-punctuation\">)<\/span> <span class=\"cm-variable\">error<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 6,
            "lines_more": 1,
            "preview_is_truncated": false,
            "channels": [
                "C2GFRAE7P"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U12452RAP",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U12452RAP|grapebaba>",
        "bot_id": null,
        "ts": "1484190322.000190"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U12452RAP|grapebaba> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/grapebaba\/F3QE8P07L\/-.coffee|Untitled>",
        "file": {
            "id": "F3QE8P07L",
            "created": 1484190339,
            "timestamp": 1484190339,
            "name": "-.coffee",
            "title": "Untitled",
            "mimetype": "text\/plain",
            "filetype": "coffeescript",
            "pretty_type": "CoffeeScript",
            "user": "U12452RAP",
            "editable": true,
            "size": 1180,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3QE8P07L\/-.coffee?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F3QE8P07L\/download\/-.coffee?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/grapebaba\/F3QE8P07L\/-.coffee",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F3QE8P07L-ae731df9bb",
            "edit_link": "https:\/\/hyperledgerproject.slack.com\/files\/grapebaba\/F3QE8P07L\/-.coffee\/edit",
            "preview": "type ValidatedLedger interface {\r\n\tLedger\r\n\t\/\/ GetTransactionByID retrieves a transaction by id\r\n\tGetTransactionByID(txID string) (*pb.Transaction, error)\r\n\t\/\/ GetBlockByHash returns a block given it's hash\r",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-variable\">type<\/span> <span class=\"cm-variable\">ValidatedLedger<\/span> <span class=\"cm-variable\">interface<\/span> <span class=\"cm-punctuation\">{<\/span><\/pre><\/div>\n<div><pre>\t<span class=\"cm-variable\">Ledger<\/span><\/pre><\/div>\n<div><pre>\t<span class=\"cm-string-2\">\/\/<\/span> <span class=\"cm-variable\">GetTransactionByID<\/span> <span class=\"cm-variable\">retrieves<\/span> <span class=\"cm-variable\">a<\/span> <span class=\"cm-variable\">transaction<\/span> <span class=\"cm-keyword\">by<\/span> <span class=\"cm-variable\">id<\/span><\/pre><\/div>\n<div><pre>\t<span class=\"cm-variable\">GetTransactionByID<\/span><span class=\"cm-punctuation\">(<\/span><span class=\"cm-variable\">txID<\/span> <span class=\"cm-variable\">string<\/span><span class=\"cm-punctuation\">)<\/span> <span class=\"cm-punctuation\">(<\/span><span class=\"cm-operator\">*<\/span><span class=\"cm-variable\">pb<\/span><span class=\"cm-punctuation\">.<\/span><span class=\"cm-property\">Transaction<\/span><span class=\"cm-punctuation\">,<\/span> <span class=\"cm-variable\">error<\/span><span class=\"cm-punctuation\">)<\/span><\/pre><\/div>\n<div><pre>\t<span class=\"cm-string-2\">\/\/<\/span> <span class=\"cm-variable\">GetBlockByHash<\/span> <span class=\"cm-variable\">returns<\/span> <span class=\"cm-variable\">a<\/span> <span class=\"cm-variable\">block<\/span> <span class=\"cm-variable\">given<\/span> <span class=\"cm-variable\">it<\/span><span class=\"cm-string\">'s hash<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 21,
            "lines_more": 16,
            "preview_is_truncated": true,
            "channels": [
                "C2GFRAE7P"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U12452RAP",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U12452RAP|grapebaba>",
        "bot_id": null,
        "ts": "1484190340.000191"
    },
    {
        "type": "message",
        "user": "U12452RAP",
        "text": "<@U0Z541B3P> <@U1KFCPFQA> seems commit method have same semantic with commitblock method in rawledger",
        "ts": "1484190402.000192"
    },
    {
        "type": "message",
        "user": "U12452RAP",
        "text": "so what about just make commit method in ledger interface, and rawledger interface seems no need or ValidatedLedger embedded rawledger interface",
        "ts": "1484190502.000193"
    },
    {
        "type": "message",
        "user": "U0Z541B3P",
        "text": "<@U12452RAP> good catch. Short history behind this is that... earlier it was designed such that a peer would maintain two ledgers a raw ledger and a validated ledger. The modules outside ledger would commit to only raw ledger and committing to validated ledger would an internal operation and hence only public method exposed to the outside world was the CommitBlock method in raw ledger. \n\nLater, things changed and commit method got added to validated ledger. Now, it makes sense to move the method to a common place. \n\nHowever, before you make this change please go through this PR <https:\/\/gerrit.hyperledger.org\/r\/#\/c\/3575\/> and better to wait for this to be merged.",
        "edited": {
            "user": "U0Z541B3P",
            "ts": "1484196611.000000"
        },
        "ts": "1484196522.000194"
    },
    {
        "type": "message",
        "user": "U12452RAP",
        "text": ":ok_hand::skin-tone-2:",
        "ts": "1484200161.000196"
    }
]