[
    {
        "user": "U2KLTKHSL",
        "text": "<@U2KLTKHSL|moh.maher> has joined the channel",
        "type": "message",
        "subtype": "channel_join",
        "ts": "1475680270.000151"
    },
    {
        "user": "U1CTBUNEN",
        "text": "<@U1CTBUNEN|mart0nix> has joined the channel",
        "type": "message",
        "subtype": "channel_join",
        "ts": "1475692403.000152"
    },
    {
        "user": "U23274813",
        "text": "<@U23274813|nagasurya> has joined the channel",
        "type": "message",
        "subtype": "channel_join",
        "ts": "1475692451.000153"
    },
    {
        "user": "U2GKD9S6M",
        "text": "<@U2GKD9S6M|hnattila> has joined the channel",
        "type": "message",
        "subtype": "channel_join",
        "ts": "1475692589.000154"
    },
    {
        "user": "U0N4P17ND",
        "text": "<@U0N4P17ND|oiakovlev> has joined the channel",
        "type": "message",
        "subtype": "channel_join",
        "ts": "1475693042.000155"
    },
    {
        "user": "U1AASP2SJ",
        "text": "<@U1AASP2SJ|velibor.mandic> has joined the channel",
        "type": "message",
        "subtype": "channel_join",
        "ts": "1475693615.000156"
    },
    {
        "type": "message",
        "user": "U1AASP2SJ",
        "text": "Hi all, did anyone have any luck enabling TLS on Member service and peers and then running Node.js unit tests against it?",
        "ts": "1475693642.000157"
    },
    {
        "type": "message",
        "user": "U1AASP2SJ",
        "text": "We are looking at enabling TLS in our Swift client and based on documentation we think this is what we need to do: 1. enable TLS on ledger via config file, 2. get a pem file generated by TLS CA, 3. embed pem file in our client, 4. pass it to grpc layer. Is this correct? Are we missing anything? It is not really clear how does current version of Node.js client accomplish this...",
        "ts": "1475693693.000158"
    },
    {
        "type": "message",
        "user": "U13Q594J2",
        "text": "<@U1AASP2SJ>  You can refer complete details here <https:\/\/github.com\/IBM-Blockchain\/ibm-blockchain-issues\/issues\/32#issuecomment-248396652>\n\nalso I have written a sample program see if this is of any help <https:\/\/github.com\/ratnakar-asara\/NodeSdkSample\/tree\/master\/tlsca>",
        "attachments": [
            {
                "service_name": "GitHub",
                "title": "SSL_ERROR_SSL: error:1408F10B:..routines:SSL3_GET_RECORD:wrong version .. \u00b7 Issue #32 \u00b7 IBM-Blockchain\/ibm-blockchain-issues \u00b7 GitHub",
                "title_link": "https:\/\/github.com\/IBM-Blockchain\/ibm-blockchain-issues\/issues\/32#issuecomment-248396652",
                "text": "Hi, Today I just updated my membership and peer docker images, installed new hfc (v0.6.0), copied the membership image certificate, tlsca.cert to my local test environment. Now trying to run the ...",
                "fallback": "GitHub: SSL_ERROR_SSL: error:1408F10B:..routines:SSL3_GET_RECORD:wrong version .. \u00b7 Issue #32 \u00b7 IBM-Blockchain\/ibm-blockchain-issues",
                "thumb_url": "https:\/\/avatars1.githubusercontent.com\/u\/3980227?v=3&s=400",
                "from_url": "https:\/\/github.com\/IBM-Blockchain\/ibm-blockchain-issues\/issues\/32#issuecomment-248396652",
                "thumb_width": 420,
                "thumb_height": 420,
                "service_icon": "https:\/\/a.slack-edge.com\/e8ef6\/img\/unfurl_icons\/github.png",
                "id": 1
            },
            {
                "service_name": "GitHub",
                "title": "ratnakar-asara\/NodeSdkSample",
                "title_link": "https:\/\/github.com\/ratnakar-asara\/NodeSdkSample\/tree\/master\/tlsca",
                "text": "NodeSdkSample - A sample program to demonstrate NodeSdk apis",
                "fallback": "GitHub: ratnakar-asara\/NodeSdkSample",
                "thumb_url": "https:\/\/avatars2.githubusercontent.com\/u\/18034452?v=3&s=400",
                "from_url": "https:\/\/github.com\/ratnakar-asara\/NodeSdkSample\/tree\/master\/tlsca",
                "thumb_width": 420,
                "thumb_height": 420,
                "service_icon": "https:\/\/github.com\/apple-touch-icon.png",
                "id": 2
            }
        ],
        "ts": "1475694397.000159"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "<@U13Q594J2> - thanks for the sample app yesterday that got me past the deploy issue...\n\nI'm using your sample to cobble together a test app but am getting the following when trying to `chain.registerAndEnroll`:\n```\/home\/vagrant\/.sympm\/adonis\/node_modules\/hfc\/lib\/hfc.js:1965\n        protoRegistrar.setId({ id: registrar.getName() });\n                                             ^\nTypeError: registrar.getName is not a function\n    at MemberServicesImpl.register (\/home\/vagrant\/.sympm\/adonis\/node_modules\/hfc\/lib\/hfc.js:1965:46)```",
        "edited": {
            "user": "U2CC1NDT2",
            "ts": "1475694838.000000"
        },
        "ts": "1475694725.000161"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "any ideas?",
        "ts": "1475694741.000162"
    },
    {
        "type": "message",
        "user": "U13Q594J2",
        "text": "<@U2CC1NDT2>  here what is the registrar object ?  is it the member object ?",
        "ts": "1475695104.000164"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "my code is bombing after enrolling the admin user - it's when I try to register the JohnDoe user...",
        "ts": "1475695163.000165"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "the admin user enroll and setting the Registrar goes through OK.",
        "ts": "1475695232.000166"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "I then build up the `registrationReques` similar to your example but when I call `chain.registerAndEnroll` it bombs",
        "edited": {
            "user": "U2CC1NDT2",
            "ts": "1475695284.000000"
        },
        "ts": "1475695264.000167"
    },
    {
        "type": "message",
        "user": "U13Q594J2",
        "text": "Sorry I think I was looking at the wrong log .. can you share me the logs with `DEBUG=hfc` set",
        "edited": {
            "user": "U13Q594J2",
            "ts": "1475695314.000000"
        },
        "ts": "1475695307.000169"
    },
    {
        "type": "message",
        "user": "U13Q594J2",
        "text": "Iam trying to understand the exact error",
        "ts": "1475695363.000171"
    },
    {
        "type": "message",
        "user": "U13Q594J2",
        "text": "the errors you have shared above is somewhere inside nodeSDK",
        "ts": "1475695391.000172"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "yip",
        "ts": "1475695427.000173"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "here's the log",
        "ts": "1475695433.000174"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U2CC1NDT2|lenh> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/lenh\/F2KQZMZ2Q\/npm-debug.log|npm-debug.log>",
        "file": {
            "id": "F2KQZMZ2Q",
            "created": 1475695453,
            "timestamp": 1475695453,
            "name": "npm-debug.log",
            "title": "npm-debug.log",
            "mimetype": "text\/plain",
            "filetype": "text",
            "pretty_type": "Plain Text",
            "user": "U2CC1NDT2",
            "editable": true,
            "size": 2859,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2KQZMZ2Q\/npm-debug.log?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2KQZMZ2Q\/download\/npm-debug.log?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/lenh\/F2KQZMZ2Q\/npm-debug.log",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F2KQZMZ2Q-7f419dab40",
            "edit_link": "https:\/\/hyperledgerproject.slack.com\/files\/lenh\/F2KQZMZ2Q\/npm-debug.log\/edit",
            "preview": "0 info it worked if it ends with ok\n1 verbose cli [ '\/usr\/local\/bin\/node', '\/usr\/local\/bin\/npm', 'start' ]\n2 info using npm@3.7.3\n3 info using node@v5.8.0\n4 verbose run-script [ 'prestart', 'start', 'poststart' ]",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>0 info it worked if it ends with ok<\/pre><\/div>\n<div><pre>1 verbose cli [ '\/usr\/local\/bin\/node', '\/usr\/local\/bin\/npm', 'start' ]<\/pre><\/div>\n<div><pre>2 info using npm@3.7.3<\/pre><\/div>\n<div><pre>3 info using node@v5.8.0<\/pre><\/div>\n<div><pre>4 verbose run-script [ 'prestart', 'start', 'poststart' ]<\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 46,
            "lines_more": 41,
            "preview_is_truncated": true,
            "channels": [
                "C1GSVKK1U"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U2CC1NDT2",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U2CC1NDT2|lenh>",
        "bot_id": null,
        "ts": "1475695454.000175"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U2CC1NDT2|lenh> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/lenh\/F2KRCKQ5T\/console_error.txt|console error>",
        "file": {
            "id": "F2KRCKQ5T",
            "created": 1475695836,
            "timestamp": 1475695836,
            "name": "console_error.txt",
            "title": "console error",
            "mimetype": "text\/plain",
            "filetype": "text",
            "pretty_type": "Plain Text",
            "user": "U2CC1NDT2",
            "editable": true,
            "size": 959,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2KRCKQ5T\/console_error.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2KRCKQ5T\/download\/console_error.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/lenh\/F2KRCKQ5T\/console_error.txt",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F2KRCKQ5T-94e62c8ced",
            "edit_link": "https:\/\/hyperledgerproject.slack.com\/files\/lenh\/F2KRCKQ5T\/console_error.txt\/edit",
            "preview": "\/home\/vagrant\/.sympm\/adonis\/node_modules\/hfc\/lib\/hfc.js:1965\r\n        protoRegistrar.setId({ id: registrar.getName() });\r\n                                             ^\r\n\r\nTypeError: registrar.getName is not a function\r",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>\/home\/vagrant\/.sympm\/adonis\/node_modules\/hfc\/lib\/hfc.js:1965<\/pre><\/div>\n<div><pre>        protoRegistrar.setId({ id: registrar.getName() });<\/pre><\/div>\n<div><pre>                                             ^<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<div><pre>TypeError: registrar.getName is not a function<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 15,
            "lines_more": 10,
            "preview_is_truncated": false,
            "channels": [
                "C1GSVKK1U"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U2CC1NDT2",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U2CC1NDT2|lenh>",
        "bot_id": null,
        "ts": "1475695836.000176"
    },
    {
        "type": "message",
        "user": "U13Q594J2",
        "text": "`npm-debug.log` is not useful and the above `console error` is partial can you please share complete logs to understand where is going wrong",
        "ts": "1475695891.000177"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "where are the complete logs located please?",
        "ts": "1475695919.000178"
    },
    {
        "type": "message",
        "user": "U13Q594J2",
        "text": "when you run your code with command `DEBUG=hfc node app.js` is this the only content you see ?",
        "ts": "1475695973.000179"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "yeah that's it it seems :disappointed:",
        "ts": "1475696112.000180"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "I wonder if I shouldn't try and implement some deeper logging functionality (if that's possible)...",
        "ts": "1475696179.000181"
    },
    {
        "type": "message",
        "user": "U13Q594J2",
        "text": "ah ... Not really sure what is the actual issue .. somehow it is failing to register a new user here... Lets try to get the GRPC_TRACES ... can you try this command  `GRPC_TRACE=all DEBUG=hfc node app.js` and provide the output please",
        "ts": "1475696352.000182"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "from the npm-debug.log?",
        "ts": "1475696447.000183"
    },
    {
        "type": "message",
        "user": "U13Q594J2",
        "text": "No just the console output of the above command",
        "edited": {
            "user": "U13Q594J2",
            "ts": "1475696483.000000"
        },
        "ts": "1475696477.000184"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U2CC1NDT2|lenh> uploaded a file: <https:\/\/hyperledgerproject.slack.com\/files\/lenh\/F2KR8V5S8\/trace.txt|trace>",
        "file": {
            "id": "F2KR8V5S8",
            "created": 1475696542,
            "timestamp": 1475696542,
            "name": "trace.txt",
            "title": "trace",
            "mimetype": "text\/plain",
            "filetype": "text",
            "pretty_type": "Plain Text",
            "user": "U2CC1NDT2",
            "editable": true,
            "size": 2926,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2KR8V5S8\/trace.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T0J024XGA-F2KR8V5S8\/download\/trace.txt?t=xoxe-18002167554-139099126023-137701436192-e599afc92e",
            "permalink": "https:\/\/hyperledgerproject.slack.com\/files\/lenh\/F2KR8V5S8\/trace.txt",
            "permalink_public": "https:\/\/slack-files.com\/T0J024XGA-F2KR8V5S8-3298975236",
            "edit_link": "https:\/\/hyperledgerproject.slack.com\/files\/lenh\/F2KR8V5S8\/trace.txt\/edit",
            "preview": "vagrant@homestead:~\/Code\/adonis$ GRPC_TRACE=all DEBUG=hfc node --harmony_proxies server.js\r\ninfo adonis:framework +6ms serving app on 10.10.10.150:8081\r\ncreating new chain testChain\r\n{ enrollmentID: '', affiliation: '' }\r\n  hfc Previously enrolled, [enrollment={\"key\":\"cf739d7c085a86c758d0f0b635edde7c2a25c49db04639863b2ebd51a1fc1312\",\"cert\":\"308201b130820157a003020102020101300a06082a8648ce3d0403033031310b300906035504061302555331143012060355040a130b48797065726c6564676572310c300a06035504031303656361301e170d3136313030353138303933335a170d3137303130333138303933335a3041310b300906035504061302555331143012060355040a130b48797065726c6564676572311c301a06035504030c1361646d696e5c696e737469747574696f6e5f613059301306072a8648ce3d020106082a8648ce3d0301070342000482b74a39ad0581679b2e7f0f6d907ed6be26a898a1626405d7eebe496997c5aa7a524513d6fbe699a592d26d5f3c78a4c6b840cd0de05fb8972a04b712beda60a350304e300e0603551d0f0101ff040403020780300c0603551d130101ff04023000300d0603551d0e0406040401020304300f0603551d2304083006800401020304300e0606510...",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>vagrant@homestead:~\/Code\/adonis$ GRPC_TRACE=all DEBUG=hfc node --harmony_proxies server.js<\/pre><\/div>\n<div><pre>info adonis:framework +6ms serving app on 10.10.10.150:8081<\/pre><\/div>\n<div><pre>creating new chain testChain<\/pre><\/div>\n<div><pre>{ enrollmentID: '', affiliation: '' }<\/pre><\/div>\n<div><pre>  hfc Previously enrolled, [enrollment={&quot;key&quot;:&quot;cf739d7c085a86c758d0f0b635edde7c2a25c49db04639863b2ebd51a1fc1312&quot;,&quot;cert&quot;:&quot;308201b130820157a003020102020101300a06082a8648ce3d0403033031310b300906035504061302555331143012060355040a130b48797065726c6564676572310c300a06035504031303656361301e170d3136313030353138303933335a170d3137303130333138303933335a3041310b300906035504061302555331143012060355040a130b48797065726c6564676572311c301a06035504030c1361646d696e5c696e737469747574696f6e5f613059301306072a8648ce3d020106082a8648ce3d0301070342000482b74a39ad0581679b2e7f0f6d907ed6be26a898a1626405d7eebe496997c5aa7a524513d6fbe699a592d26d5f3c78a4c6b840cd0de05fb8972a04b712beda60a350304e300e0603551d0f0101ff040403020780300c0603551d130101ff04023000300d0603551d0e0406040401020304300f0603551d2304083006800401020304300e0606510...<\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 26,
            "lines_more": 21,
            "preview_is_truncated": true,
            "channels": [
                "C1GSVKK1U"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U2CC1NDT2",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U2CC1NDT2|lenh>",
        "bot_id": null,
        "ts": "1475696542.000186"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "<@U13Q594J2> - mmhh - I've modified the code on my end to just run `chain.enroll` on an existing user contained in the membersrvc.yaml file and it worked... so it looks like there is an issue with `chain.registerAndEnroll`",
        "ts": "1475698277.000187"
    },
    {
        "type": "message",
        "user": "U13Q594J2",
        "text": "<@U2CC1NDT2> Sorry for the delay in my response ..  Donot see any issue with `chain.registerAndEnroll` ... Yes a workaround you can use the admin user itself to deploy chaincode and further actions ... however wondering if there is some other problem causing the above issue",
        "ts": "1475699621.000190"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "could be how I'm calling the code - perhaps I need to implement some kind of promises code to ensure correct sequence of execution - but I'm totally reaching here  :slightly_smiling_face:",
        "ts": "1475699724.000191"
    },
    {
        "type": "message",
        "user": "U2CC1NDT2",
        "text": "I'll fiddle around tomorrow and if I manage to get `chain.registerAndEnroll` working I'll let you know",
        "ts": "1475699772.000192",
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U13Q594J2",
                    "U0Z81GL6S"
                ],
                "count": 2
            }
        ]
    }
]