[
    {
        "type": "message",
        "user": "U1TA5FDU7",
        "text": "Hi, everyone. Has anyone got this problem when testing authorizable_counter example in fabric\/examples\/chaincdoe\/go\/",
        "ts": "1476342348.001509"
    },
    {
        "type": "message",
        "user": "U1TA5FDU7",
        "text": "When I query the chaincode, I got this. Why?\n```\nQuery Result: \/}\u2592i\u0139\u2592\u2592h7\u2592\u2592\u2592i!\u02d7\u2592gN\u2592Rzu\u2592\u2592\n```",
        "ts": "1476342583.001516"
    },
    {
        "user": "U2NPZNSRE",
        "text": "<@U2NPZNSRE|sample> has joined the channel",
        "type": "message",
        "subtype": "channel_join",
        "ts": "1476344412.001517"
    },
    {
        "type": "message",
        "user": "U1W210996",
        "text": "Guys, did anybody run asset_management example successfully?",
        "edited": {
            "user": "U1W210996",
            "ts": "1476348548.000000"
        },
        "ts": "1476348529.001518"
    },
    {
        "type": "message",
        "user": "U1WUAQJVC",
        "text": "Hi All, Outside vagrant when we want to deploy and invoke chain code using web-app for nodesDK, what should be the set up? Where do we need to put the chain code?\n\n\nI am getting following error:\n\nvp0_1         | src\/build-chaincode\/service-test.go:12:2: cannot find package \"<http:\/\/github.com\/hyperledger\/fabric\/core\/chaincode\/shim|github.com\/hyperledger\/fabric\/core\/chaincode\/shim>\" in any of:\nvp0_1         |     \/opt\/go\/src\/github.com\/hyperledger\/fabric\/core\/chaincode\/shim (from $GOROOT)\nvp0_1         |     \/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/chaincode\/shim (from $GOPATH)\nvp0_1         | src\/build-chaincode\/service-test.go:14:2: cannot find package \"<http:\/\/github.com\/op\/go-logging|github.com\/op\/go-logging>\" in any of:\nvp0_1         |     \/opt\/go\/src\/github.com\/op\/go-logging (from $GOROOT)\nvp0_1         |     \/opt\/gopath\/src\/github.com\/op\/go-logging (from $GOPATH)\nvp0_1         |\n\n\n\nEven though the path : \/opt\/gopath\/src\/github.com\/hyperledger\/fabric\/core\/chaincode\/shim exists.\n\nAny idea?",
        "edited": {
            "user": "U1WUAQJVC",
            "ts": "1476355363.000000"
        },
        "ts": "1476355253.001520"
    },
    {
        "type": "message",
        "user": "U13Q594J2",
        "text": "<@U1WUAQJVC> you must have a vendor folder inside your chaincode ... If you are testing on Fabric0.5 you can refer <https:\/\/github.com\/IBM-Blockchain\/SDK-Demo> , if it is for Fabric0.6 you can download  vendor.zip from the events sample <https:\/\/github.com\/ratnakar-asara\/NodeSdkSample\/tree\/master\/events\/src\/eventsender>",
        "attachments": [
            {
                "service_name": "GitHub",
                "title": "IBM-Blockchain\/SDK-Demo",
                "title_link": "https:\/\/github.com\/IBM-Blockchain\/SDK-Demo",
                "text": "SDK-Demo - Sample Node.js program to demonstrate the HFC SDK APIs interacting with Starter and High Security Bluemix networks",
                "fallback": "GitHub: IBM-Blockchain\/SDK-Demo",
                "thumb_url": "https:\/\/avatars2.githubusercontent.com\/u\/17178768?v=3&s=400",
                "from_url": "https:\/\/github.com\/IBM-Blockchain\/SDK-Demo",
                "thumb_width": 200,
                "thumb_height": 200,
                "service_icon": "https:\/\/github.com\/apple-touch-icon.png",
                "id": 1
            },
            {
                "service_name": "GitHub",
                "title": "ratnakar-asara\/NodeSdkSample",
                "title_link": "https:\/\/github.com\/ratnakar-asara\/NodeSdkSample\/tree\/master\/events\/src\/eventsender",
                "text": "NodeSdkSample - A sample program to demonstrate NodeSdk apis",
                "fallback": "GitHub: ratnakar-asara\/NodeSdkSample",
                "thumb_url": "https:\/\/avatars2.githubusercontent.com\/u\/18034452?v=3&s=400",
                "from_url": "https:\/\/github.com\/ratnakar-asara\/NodeSdkSample\/tree\/master\/events\/src\/eventsender",
                "thumb_width": 420,
                "thumb_height": 420,
                "service_icon": "https:\/\/github.com\/apple-touch-icon.png",
                "id": 2
            }
        ],
        "ts": "1476364342.001524"
    },
    {
        "type": "message",
        "user": "U13Q594J2",
        "text": "Otherwise you have to create a folder `vendor\/github.com\/hyperledger\/` inside your folder where your chaincode is present and can do a `git clone <https:\/\/github.com\/hyperledger\/fabric.git>`",
        "ts": "1476365284.001526"
    },
    {
        "type": "message",
        "user": "U1W210996",
        "text": "Hello. I\u2019m trying to start asset-management-with-roles example (from `hfc` package) and get this error when deploying code: ``` {\"error\":{\"code\":2,\"metadata\":{\"_internal_repr\":{}}},\"msg\":\"Error: sql: no rows in result set\"}```",
        "edited": {
            "user": "U1W210996",
            "ts": "1476366485.000000"
        },
        "ts": "1476366454.001527"
    },
    {
        "type": "message",
        "user": "U1W210996",
        "text": "What can be wrong in my environment?",
        "ts": "1476366504.001529"
    },
    {
        "type": "message",
        "user": "U0PB67X4K",
        "text": "usually happens when when your peer(s) and membership services are out of sync",
        "ts": "1476369633.001530"
    },
    {
        "type": "message",
        "user": "U1W210996",
        "text": "is it enough just to restart them?",
        "ts": "1476369663.001531"
    },
    {
        "type": "message",
        "user": "U0PB67X4K",
        "text": "are you using Docker images?",
        "ts": "1476369688.001532"
    },
    {
        "type": "message",
        "user": "U1W210996",
        "text": "I built membersrvc and peer from hyperledger\/fabric under Vagrant",
        "ts": "1476369723.001533"
    },
    {
        "type": "message",
        "user": "U0PB67X4K",
        "text": "and you are running hfc in Vagrant as well?",
        "ts": "1476369744.001534"
    },
    {
        "type": "message",
        "user": "U1W210996",
        "text": "No",
        "ts": "1476369752.001535"
    },
    {
        "type": "message",
        "user": "U1W210996",
        "text": "from the Host",
        "ts": "1476369756.001536"
    },
    {
        "type": "message",
        "user": "U0PB67X4K",
        "text": "on the host, you might want to delete `\/tmp\/keyValueStore`",
        "edited": {
            "user": "U0PB67X4K",
            "ts": "1476369804.000000"
        },
        "ts": "1476369791.001537"
    },
    {
        "type": "message",
        "user": "U0PB67X4K",
        "text": "if that fails, then delete `\/tmp\/keyValueStore` on the host, stop peer and CA process,  do `rm -Rf \/var\/hyperledger` in Vagrant and then restart peer and CA processes",
        "ts": "1476369868.001539"
    },
    {
        "type": "message",
        "user": "U1W210996",
        "text": "Thanks, let me try",
        "ts": "1476369885.001540"
    },
    {
        "type": "message",
        "user": "U1W210996",
        "text": "that step passed. Thank you <@U0PB67X4K>",
        "ts": "1476370262.001541"
    },
    {
        "user": "U2P21M71V",
        "text": "<@U2P21M71V|eddie.allen> has joined the channel",
        "type": "message",
        "subtype": "channel_join",
        "ts": "1476378149.001544"
    },
    {
        "user": "U1NP2NGN6",
        "text": "<@U1NP2NGN6|yls> has joined the channel",
        "type": "message",
        "subtype": "channel_join",
        "ts": "1476415498.001549"
    },
    {
        "type": "message",
        "user": "U2NPZNSRE",
        "text": "use restapi,I install a restclient of firefox browser,but it does not work,CLI is ok,someone can help me?",
        "ts": "1476417246.001550"
    },
    {
        "type": "message",
        "user": "U2NPZNSRE",
        "text": "send a request,but never response",
        "ts": "1476417316.001551"
    },
    {
        "type": "message",
        "user": "U2NPZNSRE",
        "text": "using vagrant",
        "ts": "1476417368.001552"
    },
    {
        "type": "message",
        "user": "U2KL18VPU",
        "text": "<@U1TA5FDU7> Wild guess.. By any chance you have enabled confidentiality and printing the encrypted query result as it is. If that is the case, you have to decrypt the query result.",
        "ts": "1476419073.001554"
    },
    {
        "type": "message",
        "user": "U1TA5FDU7",
        "text": "<@U2KL18VPU>  I just set up membersrvc and 4 vp, also set CORE_SECURITY_ENABLED and CORE_SECURITY_PRIVACY.  If it's as you said, how can I decrypt it? Do you have a method? Anyway, thanks for your clue.",
        "ts": "1476423439.001555"
    },
    {
        "type": "message",
        "user": "U1WUAQJVC",
        "text": "<@U13Q594J2> : Thank you .\n\nI have added the vendor folder and cloned the dependencies there, but still getting the same issue. Any idea?\n\nBy the way i'm running outside the vagrant.",
        "ts": "1476423872.001556"
    },
    {
        "type": "message",
        "user": "U2KL18VPU",
        "text": "<@U1TA5FDU7> In addition to enabling security and privacy, we can specify whether a chaincode is confidential or not, as used in asset_management demo. How you are doing the deployment? Using CLI method or REST APIs or client SDK?",
        "ts": "1476425335.001558"
    },
    {
        "type": "message",
        "user": "U1TA5FDU7",
        "text": "I used CLI method. Below is my shell script\n```\n#!\/bin\/bash\nuser=\"diego\"\npasswd=\"DRJ23pEQl16a\"\n\nlogin(){\n\techo \"-----------LoginState----------------------------------------------------\"\n\tGET 172.17.0.4:7050\/registrar\/$user\n\tsleep 1\n}\ndeploy(){\n    echo \"------------Init--------------------------------------------------------\"\n    CORE_PEER_ADDRESS=172.17.0.4:7051 peer chaincode deploy \\\n        -u $user \\\n        -p <http:\/\/github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/authorizable_counter|github.com\/hyperledger\/fabric\/examples\/chaincode\/go\/authorizable_counter> \\\n        -c '{\"Function\":\"init\", \"Args\":[]}' \\\n        &gt; chaincodeID\n    echo `cat chaincodeID`\n    sleep 3\n}\nquery(){\n    echo \"------------Query------------------------------------------------------\"\n    CORE_PEER_ADDRESS=172.17.0.4:7051 peer chaincode query \\\n        -u $user \\\n        -n $ccID \\\n        -c '{\"Function\":\"read\", \"Args\":[]}'\n    sleep 1\n}\ninvoke(){\n    echo \"------------Invoke-----------------------------------------------------\"\n    CORE_PEER_ADDRESS=172.17.0.4:7051 peer chaincode invoke \\\n        -u $user \\\n        -n $ccID \\\n        -c '{\"Function\":\"increment\", \"Args\":[]}'\n    sleep 1\n}\n\nccID=`cat chaincodeID`\nccID=\"${ccID#*:}\"\n\ncase $1 in\n\t0 ) login;;\n\t1 ) deploy;;\n\t2 ) invoke;;\n\t3 ) query;;\n\t* ) echo \"Error, args must be [1|2|3]\";;\nesac\n```\nIs there something wrong about it?",
        "ts": "1476426060.001561"
    },
    {
        "type": "message",
        "user": "U1TA5FDU7",
        "text": "<@U2KL18VPU>",
        "ts": "1476426073.001562"
    },
    {
        "type": "message",
        "user": "U1TA5FDU7",
        "text": "And the CORE_SECURITY_PRIVACY and CORE_SECURITY_ENABLED is set in my environment variables.",
        "ts": "1476426298.001563"
    },
    {
        "type": "message",
        "user": "U2KL18VPU",
        "text": "<@U1TA5FDU7> I couldn't see anything wrong in your client application. Those security, and privacy related variables also are not a problem. Can you copy paste the chaincode query function also (it may have some changes between different versions)? Let us see if anyone gets any clue.",
        "ts": "1476426695.001564"
    },
    {
        "type": "message",
        "user": "U1TA5FDU7",
        "text": "The deploy, query and invoke all are in the script file above.  Query code is between the deploy and invoke code.\n```\n.\/x.sh 0 --&gt; loginState\n.\/x.sh 1 --&gt; deploy\n.\/x.sh 2 --&gt;invoke\n.\/x.sh 3 --&gt; query\n```",
        "ts": "1476427193.001565"
    },
    {
        "type": "message",
        "user": "U1TA5FDU7",
        "text": "<@U2KL18VPU>",
        "ts": "1476427224.001566"
    },
    {
        "type": "message",
        "user": "U2KL18VPU",
        "text": "<@U1TA5FDU7> No.. I asked to copy paste the chaincode example which is part of the hyperledger code.",
        "ts": "1476427238.001567"
    },
    {
        "type": "message",
        "user": "U2KL18VPU",
        "text": "I may have a different version of the chaincode example. That's why asking you to copy paste the query function which you have.",
        "ts": "1476427278.001568"
    },
    {
        "type": "message",
        "user": "U2KL18VPU",
        "text": "Only query function is sufficient..",
        "ts": "1476427321.001569"
    },
    {
        "type": "message",
        "user": "U1TA5FDU7",
        "text": "ok, got it~~",
        "ts": "1476427473.001570"
    },
    {
        "type": "message",
        "user": "U2KL18VPU",
        "text": "According to this, you should pass the counter name as argument, right?",
        "ts": "1476427798.001572"
    },
    {
        "type": "message",
        "user": "U2KL18VPU",
        "text": "In the later versions, the query function looks like the following..",
        "ts": "1476427845.001573"
    },
    {
        "type": "message",
        "user": "U2KL18VPU",
        "text": "\/\/ Query callback representing the query of a chaincode\nfunc (t *AuthorizableCounterChaincode) Query(stub *shim.ChaincodeStub, function string, args []string) ([]byte, error) {\n    if function != \"read\" {\n        return nil, errors.New(\"Invalid query function name. Expecting \\\"read\\\"\")\n    }\n    var err error\n\n    \/\/ Get the state from the ledger\n    Avalbytes, err := stub.GetState(\"counter\")\n    if err != nil {\n        jsonResp := \"{\\\"Error\\\":\\\"Failed to get state for counter\\\"}\"\n        return nil, errors.New(jsonResp)\n    }\n\n    if Avalbytes == nil {\n        jsonResp := \"{\\\"Error\\\":\\\"Nil amount for counter\\\"}\"\n        return nil, errors.New(jsonResp)\n    }\n\n    jsonResp := \"{\\\"Name\\\":\\\"counter\\\",\\\"Amount\\\":\\\"\" + string(Avalbytes) + \"\\\"}\"\n    fmt.Printf(\"Query Response:%s\\n\", jsonResp)\n    return Avalbytes, nil\n}",
        "ts": "1476427849.001574"
    },
    {
        "type": "message",
        "user": "U1TA5FDU7",
        "text": "Very sorry, I upload the wrong pic",
        "ts": "1476427855.001575"
    },
    {
        "type": "message",
        "user": "U2KL18VPU",
        "text": "ok",
        "ts": "1476427860.001576"
    },
    {
        "type": "message",
        "user": "U2KL18VPU",
        "text": "Is your query function look like the above?",
        "ts": "1476427882.001577"
    },
    {
        "type": "message",
        "user": "U1TA5FDU7",
        "text": "Yes, it is",
        "ts": "1476427945.001578"
    },
    {
        "type": "message",
        "user": "U2KL18VPU",
        "text": "Then I have no clue what's going wrong. In order to debug, you can run the peer in development mode (--peer-chaincodedev), and run the chaincode in another terminal. Then you can see the chaincode output directly on the terminal where your chaincode is running.",
        "ts": "1476428078.001579"
    },
    {
        "type": "message",
        "user": "U2KL18VPU",
        "text": "So, you should be able to see the output of  fmt.Printf(\"Query Response:%s\\n\", jsonResp), from the chaincode.",
        "ts": "1476428166.001580"
    }
]